var oj=Object.defineProperty;var mb=e=>{throw TypeError(e)};var sj=(e,t,n)=>t in e?oj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ze=(e,t,n)=>sj(e,typeof t!="symbol"?t+"":t,n),ay=(e,t,n)=>t.has(e)||mb("Cannot "+n);var ue=(e,t,n)=>(ay(e,t,"read from private field"),n?n.call(e):t.get(e)),it=(e,t,n)=>t.has(e)?mb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ke=(e,t,n,r)=>(ay(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),vt=(e,t,n)=>(ay(e,t,"access private method"),n);var Ih=(e,t,n,r)=>({set _(i){Ke(e,t,i,n)},get _(){return ue(e,t,r)}});function aj(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ly={exports:{}},ad={},cy={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function lj(){if(gb)return Et;gb=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,v={};function E(H,Q,ke){this.props=H,this.context=Q,this.refs=v,this.updater=ke||_}E.prototype.isReactComponent={},E.prototype.setState=function(H,Q){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Q,"setState")},E.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=E.prototype;function T(H,Q,ke){this.props=H,this.context=Q,this.refs=v,this.updater=ke||_}var A=T.prototype=new k;A.constructor=T,S(A,E.prototype),A.isPureReactComponent=!0;var z=Array.isArray,D=Object.prototype.hasOwnProperty,Z={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function q(H,Q,ke){var _e,ve={},Ie=null,Pe=null;if(Q!=null)for(_e in Q.ref!==void 0&&(Pe=Q.ref),Q.key!==void 0&&(Ie=""+Q.key),Q)D.call(Q,_e)&&!W.hasOwnProperty(_e)&&(ve[_e]=Q[_e]);var Te=arguments.length-2;if(Te===1)ve.children=ke;else if(1<Te){for(var Oe=Array(Te),He=0;He<Te;He++)Oe[He]=arguments[He+2];ve.children=Oe}if(H&&H.defaultProps)for(_e in Te=H.defaultProps,Te)ve[_e]===void 0&&(ve[_e]=Te[_e]);return{$$typeof:e,type:H,key:Ie,ref:Pe,props:ve,_owner:Z.current}}function U(H,Q){return{$$typeof:e,type:H.type,key:Q,ref:H.ref,props:H.props,_owner:H._owner}}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function $(H){var Q={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ke){return Q[ke]})}var B=/\/+/g;function X(H,Q){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):Q.toString(36)}function j(H,Q,ke,_e,ve){var Ie=typeof H;(Ie==="undefined"||Ie==="boolean")&&(H=null);var Pe=!1;if(H===null)Pe=!0;else switch(Ie){case"string":case"number":Pe=!0;break;case"object":switch(H.$$typeof){case e:case t:Pe=!0}}if(Pe)return Pe=H,ve=ve(Pe),H=_e===""?"."+X(Pe,0):_e,z(ve)?(ke="",H!=null&&(ke=H.replace(B,"$&/")+"/"),j(ve,Q,ke,"",function(He){return He})):ve!=null&&(V(ve)&&(ve=U(ve,ke+(!ve.key||Pe&&Pe.key===ve.key?"":(""+ve.key).replace(B,"$&/")+"/")+H)),Q.push(ve)),1;if(Pe=0,_e=_e===""?".":_e+":",z(H))for(var Te=0;Te<H.length;Te++){Ie=H[Te];var Oe=_e+X(Ie,Te);Pe+=j(Ie,Q,ke,Oe,ve)}else if(Oe=b(H),typeof Oe=="function")for(H=Oe.call(H),Te=0;!(Ie=H.next()).done;)Ie=Ie.value,Oe=_e+X(Ie,Te++),Pe+=j(Ie,Q,ke,Oe,ve);else if(Ie==="object")throw Q=String(H),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Pe}function K(H,Q,ke){if(H==null)return H;var _e=[],ve=0;return j(H,_e,"","",function(Ie){return Q.call(ke,Ie,ve++)}),_e}function oe(H){if(H._status===-1){var Q=H._result;Q=Q(),Q.then(function(ke){(H._status===0||H._status===-1)&&(H._status=1,H._result=ke)},function(ke){(H._status===0||H._status===-1)&&(H._status=2,H._result=ke)}),H._status===-1&&(H._status=0,H._result=Q)}if(H._status===1)return H._result.default;throw H._result}var ie={current:null},te={transition:null},ee={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:te,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return Et.Children={map:K,forEach:function(H,Q,ke){K(H,function(){Q.apply(this,arguments)},ke)},count:function(H){var Q=0;return K(H,function(){Q++}),Q},toArray:function(H){return K(H,function(Q){return Q})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Et.Component=E,Et.Fragment=n,Et.Profiler=i,Et.PureComponent=T,Et.StrictMode=r,Et.Suspense=d,Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Et.act=le,Et.cloneElement=function(H,Q,ke){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var _e=S({},H.props),ve=H.key,Ie=H.ref,Pe=H._owner;if(Q!=null){if(Q.ref!==void 0&&(Ie=Q.ref,Pe=Z.current),Q.key!==void 0&&(ve=""+Q.key),H.type&&H.type.defaultProps)var Te=H.type.defaultProps;for(Oe in Q)D.call(Q,Oe)&&!W.hasOwnProperty(Oe)&&(_e[Oe]=Q[Oe]===void 0&&Te!==void 0?Te[Oe]:Q[Oe])}var Oe=arguments.length-2;if(Oe===1)_e.children=ke;else if(1<Oe){Te=Array(Oe);for(var He=0;He<Oe;He++)Te[He]=arguments[He+2];_e.children=Te}return{$$typeof:e,type:H.type,key:ve,ref:Ie,props:_e,_owner:Pe}},Et.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:s,_context:H},H.Consumer=H},Et.createElement=q,Et.createFactory=function(H){var Q=q.bind(null,H);return Q.type=H,Q},Et.createRef=function(){return{current:null}},Et.forwardRef=function(H){return{$$typeof:u,render:H}},Et.isValidElement=V,Et.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:oe}},Et.memo=function(H,Q){return{$$typeof:p,type:H,compare:Q===void 0?null:Q}},Et.startTransition=function(H){var Q=te.transition;te.transition={};try{H()}finally{te.transition=Q}},Et.unstable_act=le,Et.useCallback=function(H,Q){return ie.current.useCallback(H,Q)},Et.useContext=function(H){return ie.current.useContext(H)},Et.useDebugValue=function(){},Et.useDeferredValue=function(H){return ie.current.useDeferredValue(H)},Et.useEffect=function(H,Q){return ie.current.useEffect(H,Q)},Et.useId=function(){return ie.current.useId()},Et.useImperativeHandle=function(H,Q,ke){return ie.current.useImperativeHandle(H,Q,ke)},Et.useInsertionEffect=function(H,Q){return ie.current.useInsertionEffect(H,Q)},Et.useLayoutEffect=function(H,Q){return ie.current.useLayoutEffect(H,Q)},Et.useMemo=function(H,Q){return ie.current.useMemo(H,Q)},Et.useReducer=function(H,Q,ke){return ie.current.useReducer(H,Q,ke)},Et.useRef=function(H){return ie.current.useRef(H)},Et.useState=function(H){return ie.current.useState(H)},Et.useSyncExternalStore=function(H,Q,ke){return ie.current.useSyncExternalStore(H,Q,ke)},Et.useTransition=function(){return ie.current.useTransition()},Et.version="18.3.1",Et}var yb;function Fp(){return yb||(yb=1,cy.exports=lj()),cy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function cj(){if(vb)return ad;vb=1;var e=Fp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var y,g={},b=null,_=null;p!==void 0&&(b=""+p),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(_=d.ref);for(y in d)r.call(d,y)&&!s.hasOwnProperty(y)&&(g[y]=d[y]);if(u&&u.defaultProps)for(y in d=u.defaultProps,d)g[y]===void 0&&(g[y]=d[y]);return{$$typeof:t,type:u,key:b,ref:_,props:g,_owner:i.current}}return ad.Fragment=n,ad.jsx=l,ad.jsxs=l,ad}var wb;function uj(){return wb||(wb=1,ly.exports=cj()),ly.exports}var m=uj(),Lh={},uy={exports:{}},fr={},dy={exports:{}},fy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function dj(){return _b||(_b=1,function(e){function t(te,ee){var le=te.length;te.push(ee);e:for(;0<le;){var H=le-1>>>1,Q=te[H];if(0<i(Q,ee))te[H]=ee,te[le]=Q,le=H;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ee=te[0],le=te.pop();if(le!==ee){te[0]=le;e:for(var H=0,Q=te.length,ke=Q>>>1;H<ke;){var _e=2*(H+1)-1,ve=te[_e],Ie=_e+1,Pe=te[Ie];if(0>i(ve,le))Ie<Q&&0>i(Pe,ve)?(te[H]=Pe,te[Ie]=le,H=Ie):(te[H]=ve,te[_e]=le,H=_e);else if(Ie<Q&&0>i(Pe,le))te[H]=Pe,te[Ie]=le,H=Ie;else break e}}return ee}function i(te,ee){var le=te.sortIndex-ee.sortIndex;return le!==0?le:te.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],p=[],y=1,g=null,b=3,_=!1,S=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(te){for(var ee=n(p);ee!==null;){if(ee.callback===null)r(p);else if(ee.startTime<=te)r(p),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=n(p)}}function z(te){if(v=!1,A(te),!S)if(n(d)!==null)S=!0,oe(D);else{var ee=n(p);ee!==null&&ie(z,ee.startTime-te)}}function D(te,ee){S=!1,v&&(v=!1,k(q),q=-1),_=!0;var le=b;try{for(A(ee),g=n(d);g!==null&&(!(g.expirationTime>ee)||te&&!$());){var H=g.callback;if(typeof H=="function"){g.callback=null,b=g.priorityLevel;var Q=H(g.expirationTime<=ee);ee=e.unstable_now(),typeof Q=="function"?g.callback=Q:g===n(d)&&r(d),A(ee)}else r(d);g=n(d)}if(g!==null)var ke=!0;else{var _e=n(p);_e!==null&&ie(z,_e.startTime-ee),ke=!1}return ke}finally{g=null,b=le,_=!1}}var Z=!1,W=null,q=-1,U=5,V=-1;function $(){return!(e.unstable_now()-V<U)}function B(){if(W!==null){var te=e.unstable_now();V=te;var ee=!0;try{ee=W(!0,te)}finally{ee?X():(Z=!1,W=null)}}else Z=!1}var X;if(typeof T=="function")X=function(){T(B)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,K=j.port2;j.port1.onmessage=B,X=function(){K.postMessage(null)}}else X=function(){E(B,0)};function oe(te){W=te,Z||(Z=!0,X())}function ie(te,ee){q=E(function(){te(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){S||_||(S=!0,oe(D))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(te){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var le=b;b=ee;try{return te()}finally{b=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ee){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var le=b;b=te;try{return ee()}finally{b=le}},e.unstable_scheduleCallback=function(te,ee,le){var H=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?H+le:H):le=H,te){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=le+Q,te={id:y++,callback:ee,priorityLevel:te,startTime:le,expirationTime:Q,sortIndex:-1},le>H?(te.sortIndex=le,t(p,te),n(d)===null&&te===n(p)&&(v?(k(q),q=-1):v=!0,ie(z,le-H))):(te.sortIndex=Q,t(d,te),S||_||(S=!0,oe(D))),te},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(te){var ee=b;return function(){var le=b;b=ee;try{return te.apply(this,arguments)}finally{b=le}}}}(fy)),fy}var xb;function fj(){return xb||(xb=1,dy.exports=dj()),dy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function hj(){if(bb)return fr;bb=1;var e=Fp(),t=fj();function n(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(i[o]=c,o=0;o<c.length;o++)r.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function b(o){return d.call(g,o)?!0:d.call(y,o)?!1:p.test(o)?g[o]=!0:(y[o]=!0,!1)}function _(o,c,h,x){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,c,h,x){if(c===null||typeof c>"u"||_(o,c,h,x))return!0;if(x)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function v(o,c,h,x,P,I,G){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=P,this.mustUseProperty=h,this.propertyName=o,this.type=c,this.sanitizeURL=I,this.removeEmptyString=G}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new v(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];E[c]=new v(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new v(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new v(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new v(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new v(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function T(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(k,T);E[c]=new v(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(k,T);E[c]=new v(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(k,T);E[c]=new v(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function A(o,c,h,x){var P=E.hasOwnProperty(c)?E[c]:null;(P!==null?P.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(S(c,h,P,x)&&(h=null),x||P===null?b(c)&&(h===null?o.removeAttribute(c):o.setAttribute(c,""+h)):P.mustUseProperty?o[P.propertyName]=h===null?P.type===3?!1:"":h:(c=P.attributeName,x=P.attributeNamespace,h===null?o.removeAttribute(c):(P=P.type,h=P===3||P===4&&h===!0?"":""+h,x?o.setAttributeNS(x,c,h):o.setAttribute(c,h))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),Z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),$=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),te=Symbol.iterator;function ee(o){return o===null||typeof o!="object"?null:(o=te&&o[te]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,H;function Q(o){if(H===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);H=c&&c[1]||""}return`
`+H+o}var ke=!1;function _e(o,c){if(!o||ke)return"";ke=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Se){var x=Se}Reflect.construct(o,[],c)}else{try{c.call()}catch(Se){x=Se}o.call(c.prototype)}else{try{throw Error()}catch(Se){x=Se}o()}}catch(Se){if(Se&&x&&typeof Se.stack=="string"){for(var P=Se.stack.split(`
`),I=x.stack.split(`
`),G=P.length-1,ae=I.length-1;1<=G&&0<=ae&&P[G]!==I[ae];)ae--;for(;1<=G&&0<=ae;G--,ae--)if(P[G]!==I[ae]){if(G!==1||ae!==1)do if(G--,ae--,0>ae||P[G]!==I[ae]){var de=`
`+P[G].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=G&&0<=ae);break}}}finally{ke=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?Q(o):""}function ve(o){switch(o.tag){case 5:return Q(o.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return o=_e(o.type,!1),o;case 11:return o=_e(o.type.render,!1),o;case 1:return o=_e(o.type,!0),o;default:return""}}function Ie(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case W:return"Fragment";case Z:return"Portal";case U:return"Profiler";case q:return"StrictMode";case X:return"Suspense";case j:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case $:return(o.displayName||"Context")+".Consumer";case V:return(o._context.displayName||"Context")+".Provider";case B:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case K:return c=o.displayName||null,c!==null?c:Ie(o.type)||"Memo";case oe:c=o._payload,o=o._init;try{return Ie(o(c))}catch{}}return null}function Pe(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(c);case 8:return c===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Te(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Oe(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function He(o){var c=Oe(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var P=h.get,I=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return P.call(this)},set:function(G){x=""+G,I.call(this,G)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(G){x=""+G},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Qe(o){o._valueTracker||(o._valueTracker=He(o))}function ot(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),x="";return o&&(x=Oe(o)?o.checked?"true":"false":o.value),o=x,o!==h?(c.setValue(o),!0):!1}function at(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function F(o,c){var h=c.checked;return le({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Ne(o,c){var h=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;h=Te(c.value!=null?c.value:h),o._wrapperState={initialChecked:x,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function be(o,c){c=c.checked,c!=null&&A(o,"checked",c,!1)}function se(o,c){be(o,c);var h=Te(c.value),x=c.type;if(h!=null)x==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?pe(o,c.type,h):c.hasOwnProperty("defaultValue")&&pe(o,c.type,Te(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function re(o,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,h||c===o.value||(o.value=c),o.defaultValue=c}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function pe(o,c,h){(c!=="number"||at(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Re=Array.isArray;function je(o,c,h,x){if(o=o.options,c){c={};for(var P=0;P<h.length;P++)c["$"+h[P]]=!0;for(h=0;h<o.length;h++)P=c.hasOwnProperty("$"+o[h].value),o[h].selected!==P&&(o[h].selected=P),P&&x&&(o[h].defaultSelected=!0)}else{for(h=""+Te(h),c=null,P=0;P<o.length;P++){if(o[P].value===h){o[P].selected=!0,x&&(o[P].defaultSelected=!0);return}c!==null||o[P].disabled||(c=o[P])}c!==null&&(c.selected=!0)}}function me(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Be(o,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(Re(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}o._wrapperState={initialValue:Te(h)}}function qe(o,c){var h=Te(c.value),x=Te(c.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),c.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),x!=null&&(o.defaultValue=""+x)}function De(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function tt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?tt(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var R,O=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,x,P){MSApp.execUnsafeLocalFunction(function(){return o(c,h,x,P)})}:o}(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(R=R||document.createElement("div"),R.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=R.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function ne(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];Object.keys(fe).forEach(function(o){xe.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),fe[c]=fe[o]})});function Ce(o,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||fe.hasOwnProperty(o)&&fe[o]?(""+c).trim():c+"px"}function dt(o,c){o=o.style;for(var h in c)if(c.hasOwnProperty(h)){var x=h.indexOf("--")===0,P=Ce(h,c[h],x);h==="float"&&(h="cssFloat"),x?o.setProperty(h,P):o[h]=P}}var jt=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xt(o,c){if(c){if(jt[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Ct(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=null;function ha(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Wo=null,Lr=null,Kn=null;function no(o){if(o=mo(o)){if(typeof Wo!="function")throw Error(n(280));var c=o.stateNode;c&&(c=Jl(c),Wo(o.stateNode,o.type,c))}}function mf(o){Lr?Kn?Kn.push(o):Kn=[o]:Lr=o}function gf(){if(Lr){var o=Lr,c=Kn;if(Kn=Lr=null,no(o),c)for(o=0;o<c.length;o++)no(c[o])}}function yf(o,c){return o(c)}function vf(){}var gu=!1;function kl(o,c,h){if(gu)return o(c,h);gu=!0;try{return yf(o,c,h)}finally{gu=!1,(Lr!==null||Kn!==null)&&(vf(),gf())}}function pa(o,c){var h=o.stateNode;if(h===null)return null;var x=Jl(h);if(x===null)return null;h=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var yu=!1;if(u)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){yu=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{yu=!1}function Dm(o,c,h,x,P,I,G,ae,de){var Se=Array.prototype.slice.call(arguments,3);try{c.apply(h,Se)}catch(ze){this.onError(ze)}}var Ln=!1,nt=null,ga=!1,Cl=null,wf={onError:function(o){Ln=!0,nt=o}};function _f(o,c,h,x,P,I,G,ae,de){Ln=!1,nt=null,Dm.apply(wf,arguments)}function vu(o,c,h,x,P,I,G,ae,de){if(_f.apply(this,arguments),Ln){if(Ln){var Se=nt;Ln=!1,nt=null}else throw Error(n(198));ga||(ga=!0,Cl=Se)}}function Ci(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function ro(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function wu(o){if(Ci(o)!==o)throw Error(n(188))}function Bm(o){var c=o.alternate;if(!c){if(c=Ci(o),c===null)throw Error(n(188));return c!==o?null:o}for(var h=o,x=c;;){var P=h.return;if(P===null)break;var I=P.alternate;if(I===null){if(x=P.return,x!==null){h=x;continue}break}if(P.child===I.child){for(I=P.child;I;){if(I===h)return wu(P),o;if(I===x)return wu(P),c;I=I.sibling}throw Error(n(188))}if(h.return!==x.return)h=P,x=I;else{for(var G=!1,ae=P.child;ae;){if(ae===h){G=!0,h=P,x=I;break}if(ae===x){G=!0,x=P,h=I;break}ae=ae.sibling}if(!G){for(ae=I.child;ae;){if(ae===h){G=!0,h=I,x=P;break}if(ae===x){G=!0,x=I,h=P;break}ae=ae.sibling}if(!G)throw Error(n(189))}}if(h.alternate!==x)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:c}function xf(o){return o=Bm(o),o!==null?bf(o):null}function bf(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=bf(o);if(c!==null)return c;o=o.sibling}return null}var Ef=t.unstable_scheduleCallback,_u=t.unstable_cancelCallback,Fm=t.unstable_shouldYield,Nl=t.unstable_requestPaint,Xt=t.unstable_now,Um=t.unstable_getCurrentPriorityLevel,xu=t.unstable_ImmediatePriority,Sf=t.unstable_UserBlockingPriority,Pl=t.unstable_NormalPriority,bu=t.unstable_LowPriority,Vo=t.unstable_IdlePriority,ya=null,wr=null;function va(o){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(ya,o,void 0,(o.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:qo,Zt=Math.log,Tl=Math.LN2;function qo(o){return o>>>=0,o===0?32:31-(Zt(o)/Tl|0)|0}var si=64,Ko=4194304;function gt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function $t(o,c){var h=o.pendingLanes;if(h===0)return 0;var x=0,P=o.suspendedLanes,I=o.pingedLanes,G=h&268435455;if(G!==0){var ae=G&~P;ae!==0?x=gt(ae):(I&=G,I!==0&&(x=gt(I)))}else G=h&~P,G!==0?x=gt(G):I!==0&&(x=gt(I));if(x===0)return 0;if(c!==0&&c!==x&&(c&P)===0&&(P=x&-x,I=c&-c,P>=I||P===16&&(I&4194240)!==0))return c;if((x&4)!==0&&(x|=h&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)h=31-yt(c),P=1<<h,x|=o[h],c&=~P;return x}function Eu(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Al(o,c){for(var h=o.suspendedLanes,x=o.pingedLanes,P=o.expirationTimes,I=o.pendingLanes;0<I;){var G=31-yt(I),ae=1<<G,de=P[G];de===-1?((ae&h)===0||(ae&x)!==0)&&(P[G]=Eu(ae,c)):de<=c&&(o.expiredLanes|=ae),I&=~ae}}function On(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function kf(){var o=si;return si<<=1,(si&4194240)===0&&(si=64),o}function Go(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function _r(o,c,h){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-yt(c),o[c]=h}function on(o,c){var h=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<h;){var P=31-yt(h),I=1<<P;c[P]=0,x[P]=-1,o[P]=-1,h&=~I}}function ai(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var x=31-yt(h),P=1<<x;P&c|o[x]&c&&(o[x]|=c),h&=~P}}var Pt=0;function Yo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Rl,io,Il,jl,wa,_a=!1,Jo=[],xr=null,li=null,Or=null,xa=new Map,ht=new Map,yn=[],Bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Su(o,c){switch(o){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":xa.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(c.pointerId)}}function oo(o,c,h,x,P,I){return o===null||o.nativeEvent!==I?(o={blockedOn:c,domEventName:h,eventSystemFlags:x,nativeEvent:I,targetContainers:[P]},c!==null&&(c=mo(c),c!==null&&io(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,P!==null&&c.indexOf(P)===-1&&c.push(P),o)}function ku(o,c,h,x,P){switch(c){case"focusin":return xr=oo(xr,o,c,h,x,P),!0;case"dragenter":return li=oo(li,o,c,h,x,P),!0;case"mouseover":return Or=oo(Or,o,c,h,x,P),!0;case"pointerover":var I=P.pointerId;return xa.set(I,oo(xa.get(I)||null,o,c,h,x,P)),!0;case"gotpointercapture":return I=P.pointerId,ht.set(I,oo(ht.get(I)||null,o,c,h,x,P)),!0}return!1}function Ll(o){var c=po(o.target);if(c!==null){var h=Ci(c);if(h!==null){if(c=h.tag,c===13){if(c=ro(h),c!==null){o.blockedOn=c,wa(o.priority,function(){Il(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Mr(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=zl(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);Nt=x,h.target.dispatchEvent(x),Nt=null}else return c=mo(h),c!==null&&io(c),o.blockedOn=h,!1;c.shift()}return!0}function Ol(o,c,h){Mr(o)&&h.delete(c)}function ba(){_a=!1,xr!==null&&Mr(xr)&&(xr=null),li!==null&&Mr(li)&&(li=null),Or!==null&&Mr(Or)&&(Or=null),xa.forEach(Ol),ht.forEach(Ol)}function en(o,c){o.blockedOn===c&&(o.blockedOn=null,_a||(_a=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ba)))}function br(o){function c(P){return en(P,o)}if(0<Jo.length){en(Jo[0],o);for(var h=1;h<Jo.length;h++){var x=Jo[h];x.blockedOn===o&&(x.blockedOn=null)}}for(xr!==null&&en(xr,o),li!==null&&en(li,o),Or!==null&&en(Or,o),xa.forEach(c),ht.forEach(c),h=0;h<yn.length;h++)x=yn[h],x.blockedOn===o&&(x.blockedOn=null);for(;0<yn.length&&(h=yn[0],h.blockedOn===null);)Ll(h),h.blockedOn===null&&yn.shift()}var so=z.ReactCurrentBatchConfig,Ea=!0;function $m(o,c,h,x){var P=Pt,I=so.transition;so.transition=null;try{Pt=1,Sa(o,c,h,x)}finally{Pt=P,so.transition=I}}function Cf(o,c,h,x){var P=Pt,I=so.transition;so.transition=null;try{Pt=4,Sa(o,c,h,x)}finally{Pt=P,so.transition=I}}function Sa(o,c,h,x){if(Ea){var P=zl(o,c,h,x);if(P===null)a(o,c,x,Ml,h),Su(o,x);else if(ku(P,o,c,h,x))x.stopPropagation();else if(Su(o,x),c&4&&-1<Bt.indexOf(o)){for(;P!==null;){var I=mo(P);if(I!==null&&Rl(I),I=zl(o,c,h,x),I===null&&a(o,c,x,Ml,h),I===P)break;P=I}P!==null&&x.stopPropagation()}else a(o,c,x,null,h)}}var Ml=null;function zl(o,c,h,x){if(Ml=null,o=ha(x),o=po(o),o!==null)if(c=Ci(o),c===null)o=null;else if(h=c.tag,h===13){if(o=ro(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return Ml=o,null}function St(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Um()){case xu:return 1;case Sf:return 4;case Pl:case bu:return 16;case Vo:return 536870912;default:return 16}default:return 16}}var Ni=null,Gn=null,Pi=null;function Cu(){if(Pi)return Pi;var o,c=Gn,h=c.length,x,P="value"in Ni?Ni.value:Ni.textContent,I=P.length;for(o=0;o<h&&c[o]===P[o];o++);var G=h-o;for(x=1;x<=G&&c[h-x]===P[I-x];x++);return Pi=P.slice(o,1<x?1-x:void 0)}function Dl(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Qo(){return!0}function Nf(){return!1}function Mn(o){function c(h,x,P,I,G){this._reactName=h,this._targetInst=P,this.type=x,this.nativeEvent=I,this.target=G,this.currentTarget=null;for(var ae in o)o.hasOwnProperty(ae)&&(h=o[ae],this[ae]=h?h(I):I[ae]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Qo:Nf,this.isPropagationStopped=Nf,this}return le(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),c}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=Mn(Xo),ao=le({},Xo,{view:0,detail:0}),Hm=Mn(ao),or,Pu,es,Er=le({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==es&&(es&&o.type==="mousemove"?(or=o.screenX-es.screenX,Pu=o.screenY-es.screenY):Pu=or=0,es=o),or)},movementY:function(o){return"movementY"in o?o.movementY:Pu}}),Tu=Mn(Er),Pf=le({},Er,{dataTransfer:0}),Au=Mn(Pf),Zm=le({},ao,{relatedTarget:0}),Bl=Mn(Zm),Tf=le({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),Wm=Mn(Tf),Vm=le({},Xo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ru=Mn(Vm),qm=le({},Xo,{data:0}),Iu=Mn(qm),Af={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=lo[o])?!!c[o]:!1}function co(){return Km}var sr=le({},ao,{key:function(o){if(o.key){var c=Af[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Dl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Fl[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(o){return o.type==="keypress"?Dl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Dl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rf=Mn(sr),If=le({},Er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jf=Mn(If),ju=le({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),Lu=Mn(ju),Gm=le({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ym=Mn(Gm),Lf=le({},Er,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Jm=Mn(Lf),Sr=[9,13,27,32],Ti=u&&"CompositionEvent"in window,ka=null;u&&"documentMode"in document&&(ka=document.documentMode);var ci=u&&"TextEvent"in window&&!ka,Of=u&&(!Ti||ka&&8<ka&&11>=ka),uo=" ",Mf=!1;function ts(o,c){switch(o){case"keyup":return Sr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ui=!1;function Qm(o,c){switch(o){case"compositionend":return Ou(c);case"keypress":return c.which!==32?null:(Mf=!0,uo);case"textInput":return o=c.data,o===uo&&Mf?null:o;default:return null}}function Ai(o,c){if(ui)return o==="compositionend"||!Ti&&ts(o,c)?(o=Cu(),Pi=Gn=Ni=null,ui=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Of&&c.locale!=="ko"?null:c.data;default:return null}}var Ul={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Ul[o.type]:c==="textarea"}function $l(o,c,h,x){mf(x),c=w(c,"onChange"),0<c.length&&(h=new Nu("onChange","change",null,h,x),o.push({event:h,listeners:c}))}var Ca=null,Yn=null;function Xm(o){Zu(o,0)}function di(o){var c=go(o);if(ot(c))return o}function eg(o,c){if(o==="change")return c}var zr=!1;if(u){var ns;if(u){var Hl="oninput"in document;if(!Hl){var Zl=document.createElement("div");Zl.setAttribute("oninput","return;"),Hl=typeof Zl.oninput=="function"}ns=Hl}else ns=!1;zr=ns&&(!document.documentMode||9<document.documentMode)}function Na(){Ca&&(Ca.detachEvent("onpropertychange",Wl),Yn=Ca=null)}function Wl(o){if(o.propertyName==="value"&&di(Yn)){var c=[];$l(c,Yn,o,ha(o)),kl(Xm,c)}}function Vl(o,c,h){o==="focusin"?(Na(),Ca=c,Yn=h,Ca.attachEvent("onpropertychange",Wl)):o==="focusout"&&Na()}function rs(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return di(Yn)}function ql(o,c){if(o==="click")return di(c)}function Mu(o,c){if(o==="input"||o==="change")return di(c)}function Df(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var kr=typeof Object.is=="function"?Object.is:Df;function Ri(o,c){if(kr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),x=Object.keys(c);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var P=h[x];if(!d.call(c,P)||!kr(o[P],c[P]))return!1}return!0}function Bf(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function zu(o,c){var h=Bf(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=c&&x>=c)return{node:h,offset:c-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Bf(h)}}function Ff(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Ff(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Du(){for(var o=window,c=at();c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=at(o.document)}return c}function Bu(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function Dr(o){var c=Du(),h=o.focusedElem,x=o.selectionRange;if(c!==h&&h&&h.ownerDocument&&Ff(h.ownerDocument.documentElement,h)){if(x!==null&&Bu(h)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(o,h.value.length);else if(o=(c=h.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var P=h.textContent.length,I=Math.min(x.start,P);x=x.end===void 0?I:Math.min(x.end,P),!o.extend&&I>x&&(P=x,x=I,I=P),P=zu(h,I);var G=zu(h,x);P&&G&&(o.rangeCount!==1||o.anchorNode!==P.node||o.anchorOffset!==P.offset||o.focusNode!==G.node||o.focusOffset!==G.offset)&&(c=c.createRange(),c.setStart(P.node,P.offset),o.removeAllRanges(),I>x?(o.addRange(c),o.extend(G.node,G.offset)):(c.setEnd(G.node,G.offset),o.addRange(c)))}}for(c=[],o=h;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)o=c[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Kl=u&&"documentMode"in document&&11>=document.documentMode,is=null,os=null,Pa=null,Gl=!1;function Uf(o,c,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Gl||is==null||is!==at(x)||(x=is,"selectionStart"in x&&Bu(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Pa&&Ri(Pa,x)||(Pa=x,x=w(os,"onSelect"),0<x.length&&(c=new Nu("onSelect","select",null,c,h),o.push({event:c,listeners:x}),c.target=is)))}function Ii(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var ss={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionend:Ii("Transition","TransitionEnd")},ji={},Fu={};u&&(Fu=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Ta(o){if(ji[o])return ji[o];if(!ss[o])return o;var c=ss[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in Fu)return ji[o]=c[h];return o}var $f=Ta("animationend"),Br=Ta("animationiteration"),Uu=Ta("animationstart"),$u=Ta("transitionend"),as=new Map,Hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(o,c){as.set(o,c),s(c,[o])}for(var fo=0;fo<Hf.length;fo++){var Yl=Hf[fo],Zf=Yl.toLowerCase(),tg=Yl[0].toUpperCase()+Yl.slice(1);Cr(Zf,"on"+tg)}Cr($f,"onAnimationEnd"),Cr(Br,"onAnimationIteration"),Cr(Uu,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr($u,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function Hu(o,c,h){var x=o.type||"unknown-event";o.currentTarget=h,vu(x,c,void 0,o),o.currentTarget=null}function Zu(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],P=x.event;x=x.listeners;e:{var I=void 0;if(c)for(var G=x.length-1;0<=G;G--){var ae=x[G],de=ae.instance,Se=ae.currentTarget;if(ae=ae.listener,de!==I&&P.isPropagationStopped())break e;Hu(P,ae,Se),I=de}else for(G=0;G<x.length;G++){if(ae=x[G],de=ae.instance,Se=ae.currentTarget,ae=ae.listener,de!==I&&P.isPropagationStopped())break e;Hu(P,ae,Se),I=de}}}if(ga)throw o=Cl,ga=!1,Cl=null,o}function Ft(o,c){var h=c[fs];h===void 0&&(h=c[fs]=new Set);var x=o+"__bubble";h.has(x)||(Vf(c,o,2,!1),h.add(x))}function Wu(o,c,h){var x=0;c&&(x|=4),Vf(h,o,x,c)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function cs(o){if(!o[Aa]){o[Aa]=!0,r.forEach(function(h){h!=="selectionchange"&&(Wf.has(h)||Wu(h,!1,o),Wu(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Aa]||(c[Aa]=!0,Wu("selectionchange",!1,c))}}function Vf(o,c,h,x){switch(St(c)){case 1:var P=$m;break;case 4:P=Cf;break;default:P=Sa}h=P.bind(null,c,h,o),P=void 0,!yu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(P=!0),x?P!==void 0?o.addEventListener(c,h,{capture:!0,passive:P}):o.addEventListener(c,h,!0):P!==void 0?o.addEventListener(c,h,{passive:P}):o.addEventListener(c,h,!1)}function a(o,c,h,x,P){var I=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var G=x.tag;if(G===3||G===4){var ae=x.stateNode.containerInfo;if(ae===P||ae.nodeType===8&&ae.parentNode===P)break;if(G===4)for(G=x.return;G!==null;){var de=G.tag;if((de===3||de===4)&&(de=G.stateNode.containerInfo,de===P||de.nodeType===8&&de.parentNode===P))return;G=G.return}for(;ae!==null;){if(G=po(ae),G===null)return;if(de=G.tag,de===5||de===6){x=I=G;continue e}ae=ae.parentNode}}x=x.return}kl(function(){var Se=I,ze=ha(h),Fe=[];e:{var Me=as.get(o);if(Me!==void 0){var Ye=Nu,Xe=o;switch(o){case"keypress":if(Dl(h)===0)break e;case"keydown":case"keyup":Ye=Rf;break;case"focusin":Xe="focus",Ye=Bl;break;case"focusout":Xe="blur",Ye=Bl;break;case"beforeblur":case"afterblur":Ye=Bl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=Tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=Lu;break;case $f:case Br:case Uu:Ye=Wm;break;case $u:Ye=Ym;break;case"scroll":Ye=Hm;break;case"wheel":Ye=Jm;break;case"copy":case"cut":case"paste":Ye=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=jf}var et=(c&4)!==0,dn=!et&&o==="scroll",ye=et?Me!==null?Me+"Capture":null:Me;et=[];for(var he=Se,we;he!==null;){we=he;var $e=we.stateNode;if(we.tag===5&&$e!==null&&(we=$e,ye!==null&&($e=pa(he,ye),$e!=null&&et.push(f(he,$e,we)))),dn)break;he=he.return}0<et.length&&(Me=new Ye(Me,Xe,null,h,ze),Fe.push({event:Me,listeners:et}))}}if((c&7)===0){e:{if(Me=o==="mouseover"||o==="pointerover",Ye=o==="mouseout"||o==="pointerout",Me&&h!==Nt&&(Xe=h.relatedTarget||h.fromElement)&&(po(Xe)||Xe[Ot]))break e;if((Ye||Me)&&(Me=ze.window===ze?ze:(Me=ze.ownerDocument)?Me.defaultView||Me.parentWindow:window,Ye?(Xe=h.relatedTarget||h.toElement,Ye=Se,Xe=Xe?po(Xe):null,Xe!==null&&(dn=Ci(Xe),Xe!==dn||Xe.tag!==5&&Xe.tag!==6)&&(Xe=null)):(Ye=null,Xe=Se),Ye!==Xe)){if(et=Tu,$e="onMouseLeave",ye="onMouseEnter",he="mouse",(o==="pointerout"||o==="pointerover")&&(et=jf,$e="onPointerLeave",ye="onPointerEnter",he="pointer"),dn=Ye==null?Me:go(Ye),we=Xe==null?Me:go(Xe),Me=new et($e,he+"leave",Ye,h,ze),Me.target=dn,Me.relatedTarget=we,$e=null,po(ze)===Se&&(et=new et(ye,he+"enter",Xe,h,ze),et.target=we,et.relatedTarget=dn,$e=et),dn=$e,Ye&&Xe)t:{for(et=Ye,ye=Xe,he=0,we=et;we;we=N(we))he++;for(we=0,$e=ye;$e;$e=N($e))we++;for(;0<he-we;)et=N(et),he--;for(;0<we-he;)ye=N(ye),we--;for(;he--;){if(et===ye||ye!==null&&et===ye.alternate)break t;et=N(et),ye=N(ye)}et=null}else et=null;Ye!==null&&M(Fe,Me,Ye,et,!1),Xe!==null&&dn!==null&&M(Fe,dn,Xe,et,!0)}}e:{if(Me=Se?go(Se):window,Ye=Me.nodeName&&Me.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&Me.type==="file")var rt=eg;else if(zf(Me))if(zr)rt=Mu;else{rt=rs;var ct=Vl}else(Ye=Me.nodeName)&&Ye.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(rt=ql);if(rt&&(rt=rt(o,Se))){$l(Fe,rt,h,ze);break e}ct&&ct(o,Me,Se),o==="focusout"&&(ct=Me._wrapperState)&&ct.controlled&&Me.type==="number"&&pe(Me,"number",Me.value)}switch(ct=Se?go(Se):window,o){case"focusin":(zf(ct)||ct.contentEditable==="true")&&(is=ct,os=Se,Pa=null);break;case"focusout":Pa=os=is=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,Uf(Fe,h,ze);break;case"selectionchange":if(Kl)break;case"keydown":case"keyup":Uf(Fe,h,ze)}var ut;if(Ti)e:{switch(o){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else ui?ts(o,h)&&(mt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(mt="onCompositionStart");mt&&(Of&&h.locale!=="ko"&&(ui||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&ui&&(ut=Cu()):(Ni=ze,Gn="value"in Ni?Ni.value:Ni.textContent,ui=!0)),ct=w(Se,mt),0<ct.length&&(mt=new Iu(mt,o,null,h,ze),Fe.push({event:mt,listeners:ct}),ut?mt.data=ut:(ut=Ou(h),ut!==null&&(mt.data=ut)))),(ut=ci?Qm(o,h):Ai(o,h))&&(Se=w(Se,"onBeforeInput"),0<Se.length&&(ze=new Iu("onBeforeInput","beforeinput",null,h,ze),Fe.push({event:ze,listeners:Se}),ze.data=ut))}Zu(Fe,c)})}function f(o,c,h){return{instance:o,listener:c,currentTarget:h}}function w(o,c){for(var h=c+"Capture",x=[];o!==null;){var P=o,I=P.stateNode;P.tag===5&&I!==null&&(P=I,I=pa(o,h),I!=null&&x.unshift(f(o,I,P)),I=pa(o,c),I!=null&&x.push(f(o,I,P))),o=o.return}return x}function N(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function M(o,c,h,x,P){for(var I=c._reactName,G=[];h!==null&&h!==x;){var ae=h,de=ae.alternate,Se=ae.stateNode;if(de!==null&&de===x)break;ae.tag===5&&Se!==null&&(ae=Se,P?(de=pa(h,I),de!=null&&G.unshift(f(h,de,ae))):P||(de=pa(h,I),de!=null&&G.push(f(h,de,ae)))),h=h.return}G.length!==0&&o.push({event:c,listeners:G})}var J=/\r\n?/g,ce=/\u0000|\uFFFD/g;function ge(o){return(typeof o=="string"?o:""+o).replace(J,`
`).replace(ce,"")}function Ee(o,c,h){if(c=ge(c),ge(o)!==c&&h)throw Error(n(425))}function Le(){}var Ve=null,lt=null;function wt(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var vn=typeof setTimeout=="function"?setTimeout:void 0,pn=typeof clearTimeout=="function"?clearTimeout:void 0,Jn=typeof Promise=="function"?Promise:void 0,zn=typeof queueMicrotask=="function"?queueMicrotask:typeof Jn<"u"?function(o){return Jn.resolve(null).then(o).catch(us)}:vn;function us(o){setTimeout(function(){throw o})}function Vu(o,c){var h=c,x=0;do{var P=h.nextSibling;if(o.removeChild(h),P&&P.nodeType===8)if(h=P.data,h==="/$"){if(x===0){o.removeChild(P),br(c);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=P}while(h);br(c)}function Li(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function qf(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}var ho=Math.random().toString(36).slice(2),Fr="__reactFiber$"+ho,ds="__reactProps$"+ho,Ot="__reactContainer$"+ho,fs="__reactEvents$"+ho,ng="__reactListeners$"+ho,rg="__reactHandles$"+ho;function po(o){var c=o[Fr];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Ot]||h[Fr]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=qf(o);o!==null;){if(h=o[Fr])return h;o=qf(o)}return c}o=h,h=o.parentNode}return null}function mo(o){return o=o[Fr]||o[Ot],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function go(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Jl(o){return o[ds]||null}var ig=[],Ql=-1;function hs(o){return{current:o}}function Wt(o){0>Ql||(o.current=ig[Ql],ig[Ql]=null,Ql--)}function Ht(o,c){Ql++,ig[Ql]=o.current,o.current=c}var ps={},Dn=hs(ps),ar=hs(!1),Ra=ps;function Xl(o,c){var h=o.type.contextTypes;if(!h)return ps;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var P={},I;for(I in h)P[I]=c[I];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=P),P}function lr(o){return o=o.childContextTypes,o!=null}function Kf(){Wt(ar),Wt(Dn)}function z_(o,c,h){if(Dn.current!==ps)throw Error(n(168));Ht(Dn,c),Ht(ar,h)}function D_(o,c,h){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return h;x=x.getChildContext();for(var P in x)if(!(P in c))throw Error(n(108,Pe(o)||"Unknown",P));return le({},h,x)}function Gf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ps,Ra=Dn.current,Ht(Dn,o),Ht(ar,ar.current),!0}function B_(o,c,h){var x=o.stateNode;if(!x)throw Error(n(169));h?(o=D_(o,c,Ra),x.__reactInternalMemoizedMergedChildContext=o,Wt(ar),Wt(Dn),Ht(Dn,o)):Wt(ar),Ht(ar,h)}var yo=null,Yf=!1,og=!1;function F_(o){yo===null?yo=[o]:yo.push(o)}function SI(o){Yf=!0,F_(o)}function ms(){if(!og&&yo!==null){og=!0;var o=0,c=Pt;try{var h=yo;for(Pt=1;o<h.length;o++){var x=h[o];do x=x(!0);while(x!==null)}yo=null,Yf=!1}catch(P){throw yo!==null&&(yo=yo.slice(o+1)),Ef(xu,ms),P}finally{Pt=c,og=!1}}return null}var ec=[],tc=0,Jf=null,Qf=0,Ur=[],$r=0,Ia=null,vo=1,wo="";function ja(o,c){ec[tc++]=Qf,ec[tc++]=Jf,Jf=o,Qf=c}function U_(o,c,h){Ur[$r++]=vo,Ur[$r++]=wo,Ur[$r++]=Ia,Ia=o;var x=vo;o=wo;var P=32-yt(x)-1;x&=~(1<<P),h+=1;var I=32-yt(c)+P;if(30<I){var G=P-P%5;I=(x&(1<<G)-1).toString(32),x>>=G,P-=G,vo=1<<32-yt(c)+P|h<<P|x,wo=I+o}else vo=1<<I|h<<P|x,wo=o}function sg(o){o.return!==null&&(ja(o,1),U_(o,1,0))}function ag(o){for(;o===Jf;)Jf=ec[--tc],ec[tc]=null,Qf=ec[--tc],ec[tc]=null;for(;o===Ia;)Ia=Ur[--$r],Ur[$r]=null,wo=Ur[--$r],Ur[$r]=null,vo=Ur[--$r],Ur[$r]=null}var Nr=null,Pr=null,Gt=!1,fi=null;function $_(o,c){var h=Vr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=o,c=o.deletions,c===null?(o.deletions=[h],o.flags|=16):c.push(h)}function H_(o,c){switch(o.tag){case 5:var h=o.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Nr=o,Pr=Li(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Nr=o,Pr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ia!==null?{id:vo,overflow:wo}:null,o.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Vr(18,null,null,0),h.stateNode=c,h.return=o,o.child=h,Nr=o,Pr=null,!0):!1;default:return!1}}function lg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function cg(o){if(Gt){var c=Pr;if(c){var h=c;if(!H_(o,c)){if(lg(o))throw Error(n(418));c=Li(h.nextSibling);var x=Nr;c&&H_(o,c)?$_(x,h):(o.flags=o.flags&-4097|2,Gt=!1,Nr=o)}}else{if(lg(o))throw Error(n(418));o.flags=o.flags&-4097|2,Gt=!1,Nr=o}}}function Z_(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Nr=o}function Xf(o){if(o!==Nr)return!1;if(!Gt)return Z_(o),Gt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!wt(o.type,o.memoizedProps)),c&&(c=Pr)){if(lg(o))throw W_(),Error(n(418));for(;c;)$_(o,c),c=Li(c.nextSibling)}if(Z_(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(c===0){Pr=Li(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}o=o.nextSibling}Pr=null}}else Pr=Nr?Li(o.stateNode.nextSibling):null;return!0}function W_(){for(var o=Pr;o;)o=Li(o.nextSibling)}function nc(){Pr=Nr=null,Gt=!1}function ug(o){fi===null?fi=[o]:fi.push(o)}var kI=z.ReactCurrentBatchConfig;function qu(o,c,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var x=h.stateNode}if(!x)throw Error(n(147,o));var P=x,I=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===I?c.ref:(c=function(G){var ae=P.refs;G===null?delete ae[I]:ae[I]=G},c._stringRef=I,c)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function eh(o,c){throw o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function V_(o){var c=o._init;return c(o._payload)}function q_(o){function c(ye,he){if(o){var we=ye.deletions;we===null?(ye.deletions=[he],ye.flags|=16):we.push(he)}}function h(ye,he){if(!o)return null;for(;he!==null;)c(ye,he),he=he.sibling;return null}function x(ye,he){for(ye=new Map;he!==null;)he.key!==null?ye.set(he.key,he):ye.set(he.index,he),he=he.sibling;return ye}function P(ye,he){return ye=Es(ye,he),ye.index=0,ye.sibling=null,ye}function I(ye,he,we){return ye.index=we,o?(we=ye.alternate,we!==null?(we=we.index,we<he?(ye.flags|=2,he):we):(ye.flags|=2,he)):(ye.flags|=1048576,he)}function G(ye){return o&&ye.alternate===null&&(ye.flags|=2),ye}function ae(ye,he,we,$e){return he===null||he.tag!==6?(he=ty(we,ye.mode,$e),he.return=ye,he):(he=P(he,we),he.return=ye,he)}function de(ye,he,we,$e){var rt=we.type;return rt===W?ze(ye,he,we.props.children,$e,we.key):he!==null&&(he.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===oe&&V_(rt)===he.type)?($e=P(he,we.props),$e.ref=qu(ye,he,we),$e.return=ye,$e):($e=Sh(we.type,we.key,we.props,null,ye.mode,$e),$e.ref=qu(ye,he,we),$e.return=ye,$e)}function Se(ye,he,we,$e){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=ny(we,ye.mode,$e),he.return=ye,he):(he=P(he,we.children||[]),he.return=ye,he)}function ze(ye,he,we,$e,rt){return he===null||he.tag!==7?(he=Ua(we,ye.mode,$e,rt),he.return=ye,he):(he=P(he,we),he.return=ye,he)}function Fe(ye,he,we){if(typeof he=="string"&&he!==""||typeof he=="number")return he=ty(""+he,ye.mode,we),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case D:return we=Sh(he.type,he.key,he.props,null,ye.mode,we),we.ref=qu(ye,null,he),we.return=ye,we;case Z:return he=ny(he,ye.mode,we),he.return=ye,he;case oe:var $e=he._init;return Fe(ye,$e(he._payload),we)}if(Re(he)||ee(he))return he=Ua(he,ye.mode,we,null),he.return=ye,he;eh(ye,he)}return null}function Me(ye,he,we,$e){var rt=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return rt!==null?null:ae(ye,he,""+we,$e);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case D:return we.key===rt?de(ye,he,we,$e):null;case Z:return we.key===rt?Se(ye,he,we,$e):null;case oe:return rt=we._init,Me(ye,he,rt(we._payload),$e)}if(Re(we)||ee(we))return rt!==null?null:ze(ye,he,we,$e,null);eh(ye,we)}return null}function Ye(ye,he,we,$e,rt){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ye=ye.get(we)||null,ae(he,ye,""+$e,rt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:return ye=ye.get($e.key===null?we:$e.key)||null,de(he,ye,$e,rt);case Z:return ye=ye.get($e.key===null?we:$e.key)||null,Se(he,ye,$e,rt);case oe:var ct=$e._init;return Ye(ye,he,we,ct($e._payload),rt)}if(Re($e)||ee($e))return ye=ye.get(we)||null,ze(he,ye,$e,rt,null);eh(he,$e)}return null}function Xe(ye,he,we,$e){for(var rt=null,ct=null,ut=he,mt=he=0,Sn=null;ut!==null&&mt<we.length;mt++){ut.index>mt?(Sn=ut,ut=null):Sn=ut.sibling;var Rt=Me(ye,ut,we[mt],$e);if(Rt===null){ut===null&&(ut=Sn);break}o&&ut&&Rt.alternate===null&&c(ye,ut),he=I(Rt,he,mt),ct===null?rt=Rt:ct.sibling=Rt,ct=Rt,ut=Sn}if(mt===we.length)return h(ye,ut),Gt&&ja(ye,mt),rt;if(ut===null){for(;mt<we.length;mt++)ut=Fe(ye,we[mt],$e),ut!==null&&(he=I(ut,he,mt),ct===null?rt=ut:ct.sibling=ut,ct=ut);return Gt&&ja(ye,mt),rt}for(ut=x(ye,ut);mt<we.length;mt++)Sn=Ye(ut,ye,mt,we[mt],$e),Sn!==null&&(o&&Sn.alternate!==null&&ut.delete(Sn.key===null?mt:Sn.key),he=I(Sn,he,mt),ct===null?rt=Sn:ct.sibling=Sn,ct=Sn);return o&&ut.forEach(function(Ss){return c(ye,Ss)}),Gt&&ja(ye,mt),rt}function et(ye,he,we,$e){var rt=ee(we);if(typeof rt!="function")throw Error(n(150));if(we=rt.call(we),we==null)throw Error(n(151));for(var ct=rt=null,ut=he,mt=he=0,Sn=null,Rt=we.next();ut!==null&&!Rt.done;mt++,Rt=we.next()){ut.index>mt?(Sn=ut,ut=null):Sn=ut.sibling;var Ss=Me(ye,ut,Rt.value,$e);if(Ss===null){ut===null&&(ut=Sn);break}o&&ut&&Ss.alternate===null&&c(ye,ut),he=I(Ss,he,mt),ct===null?rt=Ss:ct.sibling=Ss,ct=Ss,ut=Sn}if(Rt.done)return h(ye,ut),Gt&&ja(ye,mt),rt;if(ut===null){for(;!Rt.done;mt++,Rt=we.next())Rt=Fe(ye,Rt.value,$e),Rt!==null&&(he=I(Rt,he,mt),ct===null?rt=Rt:ct.sibling=Rt,ct=Rt);return Gt&&ja(ye,mt),rt}for(ut=x(ye,ut);!Rt.done;mt++,Rt=we.next())Rt=Ye(ut,ye,mt,Rt.value,$e),Rt!==null&&(o&&Rt.alternate!==null&&ut.delete(Rt.key===null?mt:Rt.key),he=I(Rt,he,mt),ct===null?rt=Rt:ct.sibling=Rt,ct=Rt);return o&&ut.forEach(function(ij){return c(ye,ij)}),Gt&&ja(ye,mt),rt}function dn(ye,he,we,$e){if(typeof we=="object"&&we!==null&&we.type===W&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case D:e:{for(var rt=we.key,ct=he;ct!==null;){if(ct.key===rt){if(rt=we.type,rt===W){if(ct.tag===7){h(ye,ct.sibling),he=P(ct,we.props.children),he.return=ye,ye=he;break e}}else if(ct.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===oe&&V_(rt)===ct.type){h(ye,ct.sibling),he=P(ct,we.props),he.ref=qu(ye,ct,we),he.return=ye,ye=he;break e}h(ye,ct);break}else c(ye,ct);ct=ct.sibling}we.type===W?(he=Ua(we.props.children,ye.mode,$e,we.key),he.return=ye,ye=he):($e=Sh(we.type,we.key,we.props,null,ye.mode,$e),$e.ref=qu(ye,he,we),$e.return=ye,ye=$e)}return G(ye);case Z:e:{for(ct=we.key;he!==null;){if(he.key===ct)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){h(ye,he.sibling),he=P(he,we.children||[]),he.return=ye,ye=he;break e}else{h(ye,he);break}else c(ye,he);he=he.sibling}he=ny(we,ye.mode,$e),he.return=ye,ye=he}return G(ye);case oe:return ct=we._init,dn(ye,he,ct(we._payload),$e)}if(Re(we))return Xe(ye,he,we,$e);if(ee(we))return et(ye,he,we,$e);eh(ye,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,he!==null&&he.tag===6?(h(ye,he.sibling),he=P(he,we),he.return=ye,ye=he):(h(ye,he),he=ty(we,ye.mode,$e),he.return=ye,ye=he),G(ye)):h(ye,he)}return dn}var rc=q_(!0),K_=q_(!1),th=hs(null),nh=null,ic=null,dg=null;function fg(){dg=ic=nh=null}function hg(o){var c=th.current;Wt(th),o._currentValue=c}function pg(o,c,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===h)break;o=o.return}}function oc(o,c){nh=o,dg=ic=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(cr=!0),o.firstContext=null)}function Hr(o){var c=o._currentValue;if(dg!==o)if(o={context:o,memoizedValue:c,next:null},ic===null){if(nh===null)throw Error(n(308));ic=o,nh.dependencies={lanes:0,firstContext:o}}else ic=ic.next=o;return c}var La=null;function mg(o){La===null?La=[o]:La.push(o)}function G_(o,c,h,x){var P=c.interleaved;return P===null?(h.next=h,mg(c)):(h.next=P.next,P.next=h),c.interleaved=h,_o(o,x)}function _o(o,c){o.lanes|=c;var h=o.alternate;for(h!==null&&(h.lanes|=c),h=o,o=o.return;o!==null;)o.childLanes|=c,h=o.alternate,h!==null&&(h.childLanes|=c),h=o,o=o.return;return h.tag===3?h.stateNode:null}var gs=!1;function gg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y_(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function xo(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function ys(o,c,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(At&2)!==0){var P=x.pending;return P===null?c.next=c:(c.next=P.next,P.next=c),x.pending=c,_o(o,h)}return P=x.interleaved,P===null?(c.next=c,mg(x)):(c.next=P.next,P.next=c),x.interleaved=c,_o(o,h)}function rh(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,ai(o,h)}}function J_(o,c){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var P=null,I=null;if(h=h.firstBaseUpdate,h!==null){do{var G={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};I===null?P=I=G:I=I.next=G,h=h.next}while(h!==null);I===null?P=I=c:I=I.next=c}else P=I=c;h={baseState:x.baseState,firstBaseUpdate:P,lastBaseUpdate:I,shared:x.shared,effects:x.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}function ih(o,c,h,x){var P=o.updateQueue;gs=!1;var I=P.firstBaseUpdate,G=P.lastBaseUpdate,ae=P.shared.pending;if(ae!==null){P.shared.pending=null;var de=ae,Se=de.next;de.next=null,G===null?I=Se:G.next=Se,G=de;var ze=o.alternate;ze!==null&&(ze=ze.updateQueue,ae=ze.lastBaseUpdate,ae!==G&&(ae===null?ze.firstBaseUpdate=Se:ae.next=Se,ze.lastBaseUpdate=de))}if(I!==null){var Fe=P.baseState;G=0,ze=Se=de=null,ae=I;do{var Me=ae.lane,Ye=ae.eventTime;if((x&Me)===Me){ze!==null&&(ze=ze.next={eventTime:Ye,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Xe=o,et=ae;switch(Me=c,Ye=h,et.tag){case 1:if(Xe=et.payload,typeof Xe=="function"){Fe=Xe.call(Ye,Fe,Me);break e}Fe=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=et.payload,Me=typeof Xe=="function"?Xe.call(Ye,Fe,Me):Xe,Me==null)break e;Fe=le({},Fe,Me);break e;case 2:gs=!0}}ae.callback!==null&&ae.lane!==0&&(o.flags|=64,Me=P.effects,Me===null?P.effects=[ae]:Me.push(ae))}else Ye={eventTime:Ye,lane:Me,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},ze===null?(Se=ze=Ye,de=Fe):ze=ze.next=Ye,G|=Me;if(ae=ae.next,ae===null){if(ae=P.shared.pending,ae===null)break;Me=ae,ae=Me.next,Me.next=null,P.lastBaseUpdate=Me,P.shared.pending=null}}while(!0);if(ze===null&&(de=Fe),P.baseState=de,P.firstBaseUpdate=Se,P.lastBaseUpdate=ze,c=P.shared.interleaved,c!==null){P=c;do G|=P.lane,P=P.next;while(P!==c)}else I===null&&(P.shared.lanes=0);za|=G,o.lanes=G,o.memoizedState=Fe}}function Q_(o,c,h){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],P=x.callback;if(P!==null){if(x.callback=null,x=h,typeof P!="function")throw Error(n(191,P));P.call(x)}}}var Ku={},Oi=hs(Ku),Gu=hs(Ku),Yu=hs(Ku);function Oa(o){if(o===Ku)throw Error(n(174));return o}function yg(o,c){switch(Ht(Yu,c),Ht(Gu,o),Ht(Oi,Ku),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Y(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=Y(c,o)}Wt(Oi),Ht(Oi,c)}function sc(){Wt(Oi),Wt(Gu),Wt(Yu)}function X_(o){Oa(Yu.current);var c=Oa(Oi.current),h=Y(c,o.type);c!==h&&(Ht(Gu,o),Ht(Oi,h))}function vg(o){Gu.current===o&&(Wt(Oi),Wt(Gu))}var tn=hs(0);function oh(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var wg=[];function _g(){for(var o=0;o<wg.length;o++)wg[o]._workInProgressVersionPrimary=null;wg.length=0}var sh=z.ReactCurrentDispatcher,xg=z.ReactCurrentBatchConfig,Ma=0,nn=null,wn=null,bn=null,ah=!1,Ju=!1,Qu=0,CI=0;function Bn(){throw Error(n(321))}function bg(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!kr(o[h],c[h]))return!1;return!0}function Eg(o,c,h,x,P,I){if(Ma=I,nn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,sh.current=o===null||o.memoizedState===null?AI:RI,o=h(x,P),Ju){I=0;do{if(Ju=!1,Qu=0,25<=I)throw Error(n(301));I+=1,bn=wn=null,c.updateQueue=null,sh.current=II,o=h(x,P)}while(Ju)}if(sh.current=uh,c=wn!==null&&wn.next!==null,Ma=0,bn=wn=nn=null,ah=!1,c)throw Error(n(300));return o}function Sg(){var o=Qu!==0;return Qu=0,o}function Mi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?nn.memoizedState=bn=o:bn=bn.next=o,bn}function Zr(){if(wn===null){var o=nn.alternate;o=o!==null?o.memoizedState:null}else o=wn.next;var c=bn===null?nn.memoizedState:bn.next;if(c!==null)bn=c,wn=o;else{if(o===null)throw Error(n(310));wn=o,o={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},bn===null?nn.memoizedState=bn=o:bn=bn.next=o}return bn}function Xu(o,c){return typeof c=="function"?c(o):c}function kg(o){var c=Zr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=wn,P=x.baseQueue,I=h.pending;if(I!==null){if(P!==null){var G=P.next;P.next=I.next,I.next=G}x.baseQueue=P=I,h.pending=null}if(P!==null){I=P.next,x=x.baseState;var ae=G=null,de=null,Se=I;do{var ze=Se.lane;if((Ma&ze)===ze)de!==null&&(de=de.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),x=Se.hasEagerState?Se.eagerState:o(x,Se.action);else{var Fe={lane:ze,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};de===null?(ae=de=Fe,G=x):de=de.next=Fe,nn.lanes|=ze,za|=ze}Se=Se.next}while(Se!==null&&Se!==I);de===null?G=x:de.next=ae,kr(x,c.memoizedState)||(cr=!0),c.memoizedState=x,c.baseState=G,c.baseQueue=de,h.lastRenderedState=x}if(o=h.interleaved,o!==null){P=o;do I=P.lane,nn.lanes|=I,za|=I,P=P.next;while(P!==o)}else P===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Cg(o){var c=Zr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=h.dispatch,P=h.pending,I=c.memoizedState;if(P!==null){h.pending=null;var G=P=P.next;do I=o(I,G.action),G=G.next;while(G!==P);kr(I,c.memoizedState)||(cr=!0),c.memoizedState=I,c.baseQueue===null&&(c.baseState=I),h.lastRenderedState=I}return[I,x]}function ex(){}function tx(o,c){var h=nn,x=Zr(),P=c(),I=!kr(x.memoizedState,P);if(I&&(x.memoizedState=P,cr=!0),x=x.queue,Ng(ix.bind(null,h,x,o),[o]),x.getSnapshot!==c||I||bn!==null&&bn.memoizedState.tag&1){if(h.flags|=2048,ed(9,rx.bind(null,h,x,P,c),void 0,null),En===null)throw Error(n(349));(Ma&30)!==0||nx(h,c,P)}return P}function nx(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=nn.updateQueue,c===null?(c={lastEffect:null,stores:null},nn.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function rx(o,c,h,x){c.value=h,c.getSnapshot=x,ox(c)&&sx(o)}function ix(o,c,h){return h(function(){ox(c)&&sx(o)})}function ox(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!kr(o,h)}catch{return!0}}function sx(o){var c=_o(o,1);c!==null&&gi(c,o,1,-1)}function ax(o){var c=Mi();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:o},c.queue=o,o=o.dispatch=TI.bind(null,nn,o),[c.memoizedState,o]}function ed(o,c,h,x){return o={tag:o,create:c,destroy:h,deps:x,next:null},c=nn.updateQueue,c===null?(c={lastEffect:null,stores:null},nn.updateQueue=c,c.lastEffect=o.next=o):(h=c.lastEffect,h===null?c.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,c.lastEffect=o)),o}function lx(){return Zr().memoizedState}function lh(o,c,h,x){var P=Mi();nn.flags|=o,P.memoizedState=ed(1|c,h,void 0,x===void 0?null:x)}function ch(o,c,h,x){var P=Zr();x=x===void 0?null:x;var I=void 0;if(wn!==null){var G=wn.memoizedState;if(I=G.destroy,x!==null&&bg(x,G.deps)){P.memoizedState=ed(c,h,I,x);return}}nn.flags|=o,P.memoizedState=ed(1|c,h,I,x)}function cx(o,c){return lh(8390656,8,o,c)}function Ng(o,c){return ch(2048,8,o,c)}function ux(o,c){return ch(4,2,o,c)}function dx(o,c){return ch(4,4,o,c)}function fx(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function hx(o,c,h){return h=h!=null?h.concat([o]):null,ch(4,4,fx.bind(null,c,o),h)}function Pg(){}function px(o,c){var h=Zr();c=c===void 0?null:c;var x=h.memoizedState;return x!==null&&c!==null&&bg(c,x[1])?x[0]:(h.memoizedState=[o,c],o)}function mx(o,c){var h=Zr();c=c===void 0?null:c;var x=h.memoizedState;return x!==null&&c!==null&&bg(c,x[1])?x[0]:(o=o(),h.memoizedState=[o,c],o)}function gx(o,c,h){return(Ma&21)===0?(o.baseState&&(o.baseState=!1,cr=!0),o.memoizedState=h):(kr(h,c)||(h=kf(),nn.lanes|=h,za|=h,o.baseState=!0),c)}function NI(o,c){var h=Pt;Pt=h!==0&&4>h?h:4,o(!0);var x=xg.transition;xg.transition={};try{o(!1),c()}finally{Pt=h,xg.transition=x}}function yx(){return Zr().memoizedState}function PI(o,c,h){var x=xs(o);if(h={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null},vx(o))wx(c,h);else if(h=G_(o,c,h,x),h!==null){var P=Xn();gi(h,o,x,P),_x(h,c,x)}}function TI(o,c,h){var x=xs(o),P={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null};if(vx(o))wx(c,P);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=c.lastRenderedReducer,I!==null))try{var G=c.lastRenderedState,ae=I(G,h);if(P.hasEagerState=!0,P.eagerState=ae,kr(ae,G)){var de=c.interleaved;de===null?(P.next=P,mg(c)):(P.next=de.next,de.next=P),c.interleaved=P;return}}catch{}finally{}h=G_(o,c,P,x),h!==null&&(P=Xn(),gi(h,o,x,P),_x(h,c,x))}}function vx(o){var c=o.alternate;return o===nn||c!==null&&c===nn}function wx(o,c){Ju=ah=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function _x(o,c,h){if((h&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,ai(o,h)}}var uh={readContext:Hr,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},AI={readContext:Hr,useCallback:function(o,c){return Mi().memoizedState=[o,c===void 0?null:c],o},useContext:Hr,useEffect:cx,useImperativeHandle:function(o,c,h){return h=h!=null?h.concat([o]):null,lh(4194308,4,fx.bind(null,c,o),h)},useLayoutEffect:function(o,c){return lh(4194308,4,o,c)},useInsertionEffect:function(o,c){return lh(4,2,o,c)},useMemo:function(o,c){var h=Mi();return c=c===void 0?null:c,o=o(),h.memoizedState=[o,c],o},useReducer:function(o,c,h){var x=Mi();return c=h!==void 0?h(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=PI.bind(null,nn,o),[x.memoizedState,o]},useRef:function(o){var c=Mi();return o={current:o},c.memoizedState=o},useState:ax,useDebugValue:Pg,useDeferredValue:function(o){return Mi().memoizedState=o},useTransition:function(){var o=ax(!1),c=o[0];return o=NI.bind(null,o[1]),Mi().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,h){var x=nn,P=Mi();if(Gt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),En===null)throw Error(n(349));(Ma&30)!==0||nx(x,c,h)}P.memoizedState=h;var I={value:h,getSnapshot:c};return P.queue=I,cx(ix.bind(null,x,I,o),[o]),x.flags|=2048,ed(9,rx.bind(null,x,I,h,c),void 0,null),h},useId:function(){var o=Mi(),c=En.identifierPrefix;if(Gt){var h=wo,x=vo;h=(x&~(1<<32-yt(x)-1)).toString(32)+h,c=":"+c+"R"+h,h=Qu++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=CI++,c=":"+c+"r"+h.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},RI={readContext:Hr,useCallback:px,useContext:Hr,useEffect:Ng,useImperativeHandle:hx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:mx,useReducer:kg,useRef:lx,useState:function(){return kg(Xu)},useDebugValue:Pg,useDeferredValue:function(o){var c=Zr();return gx(c,wn.memoizedState,o)},useTransition:function(){var o=kg(Xu)[0],c=Zr().memoizedState;return[o,c]},useMutableSource:ex,useSyncExternalStore:tx,useId:yx,unstable_isNewReconciler:!1},II={readContext:Hr,useCallback:px,useContext:Hr,useEffect:Ng,useImperativeHandle:hx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:mx,useReducer:Cg,useRef:lx,useState:function(){return Cg(Xu)},useDebugValue:Pg,useDeferredValue:function(o){var c=Zr();return wn===null?c.memoizedState=o:gx(c,wn.memoizedState,o)},useTransition:function(){var o=Cg(Xu)[0],c=Zr().memoizedState;return[o,c]},useMutableSource:ex,useSyncExternalStore:tx,useId:yx,unstable_isNewReconciler:!1};function hi(o,c){if(o&&o.defaultProps){c=le({},c),o=o.defaultProps;for(var h in o)c[h]===void 0&&(c[h]=o[h]);return c}return c}function Tg(o,c,h,x){c=o.memoizedState,h=h(x,c),h=h==null?c:le({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var dh={isMounted:function(o){return(o=o._reactInternals)?Ci(o)===o:!1},enqueueSetState:function(o,c,h){o=o._reactInternals;var x=Xn(),P=xs(o),I=xo(x,P);I.payload=c,h!=null&&(I.callback=h),c=ys(o,I,P),c!==null&&(gi(c,o,P,x),rh(c,o,P))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var x=Xn(),P=xs(o),I=xo(x,P);I.tag=1,I.payload=c,h!=null&&(I.callback=h),c=ys(o,I,P),c!==null&&(gi(c,o,P,x),rh(c,o,P))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Xn(),x=xs(o),P=xo(h,x);P.tag=2,c!=null&&(P.callback=c),c=ys(o,P,x),c!==null&&(gi(c,o,x,h),rh(c,o,x))}};function xx(o,c,h,x,P,I,G){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,I,G):c.prototype&&c.prototype.isPureReactComponent?!Ri(h,x)||!Ri(P,I):!0}function bx(o,c,h){var x=!1,P=ps,I=c.contextType;return typeof I=="object"&&I!==null?I=Hr(I):(P=lr(c)?Ra:Dn.current,x=c.contextTypes,I=(x=x!=null)?Xl(o,P):ps),c=new c(h,I),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=dh,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=I),c}function Ex(o,c,h,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,x),c.state!==o&&dh.enqueueReplaceState(c,c.state,null)}function Ag(o,c,h,x){var P=o.stateNode;P.props=h,P.state=o.memoizedState,P.refs={},gg(o);var I=c.contextType;typeof I=="object"&&I!==null?P.context=Hr(I):(I=lr(c)?Ra:Dn.current,P.context=Xl(o,I)),P.state=o.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(Tg(o,c,I,h),P.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(c=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),c!==P.state&&dh.enqueueReplaceState(P,P.state,null),ih(o,h,P,x),P.state=o.memoizedState),typeof P.componentDidMount=="function"&&(o.flags|=4194308)}function ac(o,c){try{var h="",x=c;do h+=ve(x),x=x.return;while(x);var P=h}catch(I){P=`
Error generating stack: `+I.message+`
`+I.stack}return{value:o,source:c,stack:P,digest:null}}function Rg(o,c,h){return{value:o,source:null,stack:h??null,digest:c??null}}function Ig(o,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var jI=typeof WeakMap=="function"?WeakMap:Map;function Sx(o,c,h){h=xo(-1,h),h.tag=3,h.payload={element:null};var x=c.value;return h.callback=function(){vh||(vh=!0,qg=x),Ig(o,c)},h}function kx(o,c,h){h=xo(-1,h),h.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var P=c.value;h.payload=function(){return x(P)},h.callback=function(){Ig(o,c)}}var I=o.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(h.callback=function(){Ig(o,c),typeof x!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var G=c.stack;this.componentDidCatch(c.value,{componentStack:G!==null?G:""})}),h}function Cx(o,c,h){var x=o.pingCache;if(x===null){x=o.pingCache=new jI;var P=new Set;x.set(c,P)}else P=x.get(c),P===void 0&&(P=new Set,x.set(c,P));P.has(h)||(P.add(h),o=qI.bind(null,o,c,h),c.then(o,o))}function Nx(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function Px(o,c,h,x,P){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=xo(-1,1),c.tag=2,ys(h,c,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=P,o)}var LI=z.ReactCurrentOwner,cr=!1;function Qn(o,c,h,x){c.child=o===null?K_(c,null,h,x):rc(c,o.child,h,x)}function Tx(o,c,h,x,P){h=h.render;var I=c.ref;return oc(c,P),x=Eg(o,c,h,x,I,P),h=Sg(),o!==null&&!cr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~P,bo(o,c,P)):(Gt&&h&&sg(c),c.flags|=1,Qn(o,c,x,P),c.child)}function Ax(o,c,h,x,P){if(o===null){var I=h.type;return typeof I=="function"&&!ey(I)&&I.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=I,Rx(o,c,I,x,P)):(o=Sh(h.type,null,x,c,c.mode,P),o.ref=c.ref,o.return=c,c.child=o)}if(I=o.child,(o.lanes&P)===0){var G=I.memoizedProps;if(h=h.compare,h=h!==null?h:Ri,h(G,x)&&o.ref===c.ref)return bo(o,c,P)}return c.flags|=1,o=Es(I,x),o.ref=c.ref,o.return=c,c.child=o}function Rx(o,c,h,x,P){if(o!==null){var I=o.memoizedProps;if(Ri(I,x)&&o.ref===c.ref)if(cr=!1,c.pendingProps=x=I,(o.lanes&P)!==0)(o.flags&131072)!==0&&(cr=!0);else return c.lanes=o.lanes,bo(o,c,P)}return jg(o,c,h,x,P)}function Ix(o,c,h){var x=c.pendingProps,P=x.children,I=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(cc,Tr),Tr|=h;else{if((h&1073741824)===0)return o=I!==null?I.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,Ht(cc,Tr),Tr|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=I!==null?I.baseLanes:h,Ht(cc,Tr),Tr|=x}else I!==null?(x=I.baseLanes|h,c.memoizedState=null):x=h,Ht(cc,Tr),Tr|=x;return Qn(o,c,P,h),c.child}function jx(o,c){var h=c.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function jg(o,c,h,x,P){var I=lr(h)?Ra:Dn.current;return I=Xl(c,I),oc(c,P),h=Eg(o,c,h,x,I,P),x=Sg(),o!==null&&!cr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~P,bo(o,c,P)):(Gt&&x&&sg(c),c.flags|=1,Qn(o,c,h,P),c.child)}function Lx(o,c,h,x,P){if(lr(h)){var I=!0;Gf(c)}else I=!1;if(oc(c,P),c.stateNode===null)hh(o,c),bx(c,h,x),Ag(c,h,x,P),x=!0;else if(o===null){var G=c.stateNode,ae=c.memoizedProps;G.props=ae;var de=G.context,Se=h.contextType;typeof Se=="object"&&Se!==null?Se=Hr(Se):(Se=lr(h)?Ra:Dn.current,Se=Xl(c,Se));var ze=h.getDerivedStateFromProps,Fe=typeof ze=="function"||typeof G.getSnapshotBeforeUpdate=="function";Fe||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ae!==x||de!==Se)&&Ex(c,G,x,Se),gs=!1;var Me=c.memoizedState;G.state=Me,ih(c,x,G,P),de=c.memoizedState,ae!==x||Me!==de||ar.current||gs?(typeof ze=="function"&&(Tg(c,h,ze,x),de=c.memoizedState),(ae=gs||xx(c,h,ae,x,Me,de,Se))?(Fe||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(c.flags|=4194308)):(typeof G.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=de),G.props=x,G.state=de,G.context=Se,x=ae):(typeof G.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{G=c.stateNode,Y_(o,c),ae=c.memoizedProps,Se=c.type===c.elementType?ae:hi(c.type,ae),G.props=Se,Fe=c.pendingProps,Me=G.context,de=h.contextType,typeof de=="object"&&de!==null?de=Hr(de):(de=lr(h)?Ra:Dn.current,de=Xl(c,de));var Ye=h.getDerivedStateFromProps;(ze=typeof Ye=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ae!==Fe||Me!==de)&&Ex(c,G,x,de),gs=!1,Me=c.memoizedState,G.state=Me,ih(c,x,G,P);var Xe=c.memoizedState;ae!==Fe||Me!==Xe||ar.current||gs?(typeof Ye=="function"&&(Tg(c,h,Ye,x),Xe=c.memoizedState),(Se=gs||xx(c,h,Se,x,Me,Xe,de)||!1)?(ze||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(x,Xe,de),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(x,Xe,de)),typeof G.componentDidUpdate=="function"&&(c.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof G.componentDidUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Xe),G.props=x,G.state=Xe,G.context=de,x=Se):(typeof G.componentDidUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),x=!1)}return Lg(o,c,h,x,I,P)}function Lg(o,c,h,x,P,I){jx(o,c);var G=(c.flags&128)!==0;if(!x&&!G)return P&&B_(c,h,!1),bo(o,c,I);x=c.stateNode,LI.current=c;var ae=G&&typeof h.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&G?(c.child=rc(c,o.child,null,I),c.child=rc(c,null,ae,I)):Qn(o,c,ae,I),c.memoizedState=x.state,P&&B_(c,h,!0),c.child}function Ox(o){var c=o.stateNode;c.pendingContext?z_(o,c.pendingContext,c.pendingContext!==c.context):c.context&&z_(o,c.context,!1),yg(o,c.containerInfo)}function Mx(o,c,h,x,P){return nc(),ug(P),c.flags|=256,Qn(o,c,h,x),c.child}var Og={dehydrated:null,treeContext:null,retryLane:0};function Mg(o){return{baseLanes:o,cachePool:null,transitions:null}}function zx(o,c,h){var x=c.pendingProps,P=tn.current,I=!1,G=(c.flags&128)!==0,ae;if((ae=G)||(ae=o!==null&&o.memoizedState===null?!1:(P&2)!==0),ae?(I=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(P|=1),Ht(tn,P&1),o===null)return cg(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(G=x.children,o=x.fallback,I?(x=c.mode,I=c.child,G={mode:"hidden",children:G},(x&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=G):I=kh(G,x,0,null),o=Ua(o,x,h,null),I.return=c,o.return=c,I.sibling=o,c.child=I,c.child.memoizedState=Mg(h),c.memoizedState=Og,o):zg(c,G));if(P=o.memoizedState,P!==null&&(ae=P.dehydrated,ae!==null))return OI(o,c,G,x,ae,P,h);if(I){I=x.fallback,G=c.mode,P=o.child,ae=P.sibling;var de={mode:"hidden",children:x.children};return(G&1)===0&&c.child!==P?(x=c.child,x.childLanes=0,x.pendingProps=de,c.deletions=null):(x=Es(P,de),x.subtreeFlags=P.subtreeFlags&14680064),ae!==null?I=Es(ae,I):(I=Ua(I,G,h,null),I.flags|=2),I.return=c,x.return=c,x.sibling=I,c.child=x,x=I,I=c.child,G=o.child.memoizedState,G=G===null?Mg(h):{baseLanes:G.baseLanes|h,cachePool:null,transitions:G.transitions},I.memoizedState=G,I.childLanes=o.childLanes&~h,c.memoizedState=Og,x}return I=o.child,o=I.sibling,x=Es(I,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=h),x.return=c,x.sibling=null,o!==null&&(h=c.deletions,h===null?(c.deletions=[o],c.flags|=16):h.push(o)),c.child=x,c.memoizedState=null,x}function zg(o,c){return c=kh({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function fh(o,c,h,x){return x!==null&&ug(x),rc(c,o.child,null,h),o=zg(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function OI(o,c,h,x,P,I,G){if(h)return c.flags&256?(c.flags&=-257,x=Rg(Error(n(422))),fh(o,c,G,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(I=x.fallback,P=c.mode,x=kh({mode:"visible",children:x.children},P,0,null),I=Ua(I,P,G,null),I.flags|=2,x.return=c,I.return=c,x.sibling=I,c.child=x,(c.mode&1)!==0&&rc(c,o.child,null,G),c.child.memoizedState=Mg(G),c.memoizedState=Og,I);if((c.mode&1)===0)return fh(o,c,G,null);if(P.data==="$!"){if(x=P.nextSibling&&P.nextSibling.dataset,x)var ae=x.dgst;return x=ae,I=Error(n(419)),x=Rg(I,x,void 0),fh(o,c,G,x)}if(ae=(G&o.childLanes)!==0,cr||ae){if(x=En,x!==null){switch(G&-G){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(x.suspendedLanes|G))!==0?0:P,P!==0&&P!==I.retryLane&&(I.retryLane=P,_o(o,P),gi(x,o,P,-1))}return Xg(),x=Rg(Error(n(421))),fh(o,c,G,x)}return P.data==="$?"?(c.flags|=128,c.child=o.child,c=KI.bind(null,o),P._reactRetry=c,null):(o=I.treeContext,Pr=Li(P.nextSibling),Nr=c,Gt=!0,fi=null,o!==null&&(Ur[$r++]=vo,Ur[$r++]=wo,Ur[$r++]=Ia,vo=o.id,wo=o.overflow,Ia=c),c=zg(c,x.children),c.flags|=4096,c)}function Dx(o,c,h){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),pg(o.return,c,h)}function Dg(o,c,h,x,P){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:P}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=x,I.tail=h,I.tailMode=P)}function Bx(o,c,h){var x=c.pendingProps,P=x.revealOrder,I=x.tail;if(Qn(o,c,x.children,h),x=tn.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Dx(o,h,c);else if(o.tag===19)Dx(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(Ht(tn,x),(c.mode&1)===0)c.memoizedState=null;else switch(P){case"forwards":for(h=c.child,P=null;h!==null;)o=h.alternate,o!==null&&oh(o)===null&&(P=h),h=h.sibling;h=P,h===null?(P=c.child,c.child=null):(P=h.sibling,h.sibling=null),Dg(c,!1,P,h,I);break;case"backwards":for(h=null,P=c.child,c.child=null;P!==null;){if(o=P.alternate,o!==null&&oh(o)===null){c.child=P;break}o=P.sibling,P.sibling=h,h=P,P=o}Dg(c,!0,h,null,I);break;case"together":Dg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function hh(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function bo(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),za|=c.lanes,(h&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,h=Es(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Es(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function MI(o,c,h){switch(c.tag){case 3:Ox(c),nc();break;case 5:X_(c);break;case 1:lr(c.type)&&Gf(c);break;case 4:yg(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,P=c.memoizedProps.value;Ht(th,x._currentValue),x._currentValue=P;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(Ht(tn,tn.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?zx(o,c,h):(Ht(tn,tn.current&1),o=bo(o,c,h),o!==null?o.sibling:null);Ht(tn,tn.current&1);break;case 19:if(x=(h&c.childLanes)!==0,(o.flags&128)!==0){if(x)return Bx(o,c,h);c.flags|=128}if(P=c.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Ht(tn,tn.current),x)break;return null;case 22:case 23:return c.lanes=0,Ix(o,c,h)}return bo(o,c,h)}var Fx,Bg,Ux,$x;Fx=function(o,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Bg=function(){},Ux=function(o,c,h,x){var P=o.memoizedProps;if(P!==x){o=c.stateNode,Oa(Oi.current);var I=null;switch(h){case"input":P=F(o,P),x=F(o,x),I=[];break;case"select":P=le({},P,{value:void 0}),x=le({},x,{value:void 0}),I=[];break;case"textarea":P=me(o,P),x=me(o,x),I=[];break;default:typeof P.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Le)}xt(h,x);var G;h=null;for(Se in P)if(!x.hasOwnProperty(Se)&&P.hasOwnProperty(Se)&&P[Se]!=null)if(Se==="style"){var ae=P[Se];for(G in ae)ae.hasOwnProperty(G)&&(h||(h={}),h[G]="")}else Se!=="dangerouslySetInnerHTML"&&Se!=="children"&&Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(i.hasOwnProperty(Se)?I||(I=[]):(I=I||[]).push(Se,null));for(Se in x){var de=x[Se];if(ae=P!=null?P[Se]:void 0,x.hasOwnProperty(Se)&&de!==ae&&(de!=null||ae!=null))if(Se==="style")if(ae){for(G in ae)!ae.hasOwnProperty(G)||de&&de.hasOwnProperty(G)||(h||(h={}),h[G]="");for(G in de)de.hasOwnProperty(G)&&ae[G]!==de[G]&&(h||(h={}),h[G]=de[G])}else h||(I||(I=[]),I.push(Se,h)),h=de;else Se==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,ae=ae?ae.__html:void 0,de!=null&&ae!==de&&(I=I||[]).push(Se,de)):Se==="children"?typeof de!="string"&&typeof de!="number"||(I=I||[]).push(Se,""+de):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&(i.hasOwnProperty(Se)?(de!=null&&Se==="onScroll"&&Ft("scroll",o),I||ae===de||(I=[])):(I=I||[]).push(Se,de))}h&&(I=I||[]).push("style",h);var Se=I;(c.updateQueue=Se)&&(c.flags|=4)}},$x=function(o,c,h,x){h!==x&&(c.flags|=4)};function td(o,c){if(!Gt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Fn(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(c)for(var P=o.child;P!==null;)h|=P.lanes|P.childLanes,x|=P.subtreeFlags&14680064,x|=P.flags&14680064,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)h|=P.lanes|P.childLanes,x|=P.subtreeFlags,x|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=x,o.childLanes=h,c}function zI(o,c,h){var x=c.pendingProps;switch(ag(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(c),null;case 1:return lr(c.type)&&Kf(),Fn(c),null;case 3:return x=c.stateNode,sc(),Wt(ar),Wt(Dn),_g(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Xf(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,fi!==null&&(Yg(fi),fi=null))),Bg(o,c),Fn(c),null;case 5:vg(c);var P=Oa(Yu.current);if(h=c.type,o!==null&&c.stateNode!=null)Ux(o,c,h,x,P),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(n(166));return Fn(c),null}if(o=Oa(Oi.current),Xf(c)){x=c.stateNode,h=c.type;var I=c.memoizedProps;switch(x[Fr]=c,x[ds]=I,o=(c.mode&1)!==0,h){case"dialog":Ft("cancel",x),Ft("close",x);break;case"iframe":case"object":case"embed":Ft("load",x);break;case"video":case"audio":for(P=0;P<ls.length;P++)Ft(ls[P],x);break;case"source":Ft("error",x);break;case"img":case"image":case"link":Ft("error",x),Ft("load",x);break;case"details":Ft("toggle",x);break;case"input":Ne(x,I),Ft("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!I.multiple},Ft("invalid",x);break;case"textarea":Be(x,I),Ft("invalid",x)}xt(h,I),P=null;for(var G in I)if(I.hasOwnProperty(G)){var ae=I[G];G==="children"?typeof ae=="string"?x.textContent!==ae&&(I.suppressHydrationWarning!==!0&&Ee(x.textContent,ae,o),P=["children",ae]):typeof ae=="number"&&x.textContent!==""+ae&&(I.suppressHydrationWarning!==!0&&Ee(x.textContent,ae,o),P=["children",""+ae]):i.hasOwnProperty(G)&&ae!=null&&G==="onScroll"&&Ft("scroll",x)}switch(h){case"input":Qe(x),re(x,I,!0);break;case"textarea":Qe(x),De(x);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(x.onclick=Le)}x=P,c.updateQueue=x,x!==null&&(c.flags|=4)}else{G=P.nodeType===9?P:P.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=tt(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=G.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=G.createElement(h,{is:x.is}):(o=G.createElement(h),h==="select"&&(G=o,x.multiple?G.multiple=!0:x.size&&(G.size=x.size))):o=G.createElementNS(o,h),o[Fr]=c,o[ds]=x,Fx(o,c,!1,!1),c.stateNode=o;e:{switch(G=Ct(h,x),h){case"dialog":Ft("cancel",o),Ft("close",o),P=x;break;case"iframe":case"object":case"embed":Ft("load",o),P=x;break;case"video":case"audio":for(P=0;P<ls.length;P++)Ft(ls[P],o);P=x;break;case"source":Ft("error",o),P=x;break;case"img":case"image":case"link":Ft("error",o),Ft("load",o),P=x;break;case"details":Ft("toggle",o),P=x;break;case"input":Ne(o,x),P=F(o,x),Ft("invalid",o);break;case"option":P=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},P=le({},x,{value:void 0}),Ft("invalid",o);break;case"textarea":Be(o,x),P=me(o,x),Ft("invalid",o);break;default:P=x}xt(h,P),ae=P;for(I in ae)if(ae.hasOwnProperty(I)){var de=ae[I];I==="style"?dt(o,de):I==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&O(o,de)):I==="children"?typeof de=="string"?(h!=="textarea"||de!=="")&&ne(o,de):typeof de=="number"&&ne(o,""+de):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?de!=null&&I==="onScroll"&&Ft("scroll",o):de!=null&&A(o,I,de,G))}switch(h){case"input":Qe(o),re(o,x,!1);break;case"textarea":Qe(o),De(o);break;case"option":x.value!=null&&o.setAttribute("value",""+Te(x.value));break;case"select":o.multiple=!!x.multiple,I=x.value,I!=null?je(o,!!x.multiple,I,!1):x.defaultValue!=null&&je(o,!!x.multiple,x.defaultValue,!0);break;default:typeof P.onClick=="function"&&(o.onclick=Le)}switch(h){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Fn(c),null;case 6:if(o&&c.stateNode!=null)$x(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(n(166));if(h=Oa(Yu.current),Oa(Oi.current),Xf(c)){if(x=c.stateNode,h=c.memoizedProps,x[Fr]=c,(I=x.nodeValue!==h)&&(o=Nr,o!==null))switch(o.tag){case 3:Ee(x.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ee(x.nodeValue,h,(o.mode&1)!==0)}I&&(c.flags|=4)}else x=(h.nodeType===9?h:h.ownerDocument).createTextNode(x),x[Fr]=c,c.stateNode=x}return Fn(c),null;case 13:if(Wt(tn),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Gt&&Pr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)W_(),nc(),c.flags|=98560,I=!1;else if(I=Xf(c),x!==null&&x.dehydrated!==null){if(o===null){if(!I)throw Error(n(318));if(I=c.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[Fr]=c}else nc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Fn(c),I=!1}else fi!==null&&(Yg(fi),fi=null),I=!0;if(!I)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(tn.current&1)!==0?_n===0&&(_n=3):Xg())),c.updateQueue!==null&&(c.flags|=4),Fn(c),null);case 4:return sc(),Bg(o,c),o===null&&cs(c.stateNode.containerInfo),Fn(c),null;case 10:return hg(c.type._context),Fn(c),null;case 17:return lr(c.type)&&Kf(),Fn(c),null;case 19:if(Wt(tn),I=c.memoizedState,I===null)return Fn(c),null;if(x=(c.flags&128)!==0,G=I.rendering,G===null)if(x)td(I,!1);else{if(_n!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(G=oh(o),G!==null){for(c.flags|=128,td(I,!1),x=G.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=h,h=c.child;h!==null;)I=h,o=x,I.flags&=14680066,G=I.alternate,G===null?(I.childLanes=0,I.lanes=o,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=G.childLanes,I.lanes=G.lanes,I.child=G.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=G.memoizedProps,I.memoizedState=G.memoizedState,I.updateQueue=G.updateQueue,I.type=G.type,o=G.dependencies,I.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Ht(tn,tn.current&1|2),c.child}o=o.sibling}I.tail!==null&&Xt()>uc&&(c.flags|=128,x=!0,td(I,!1),c.lanes=4194304)}else{if(!x)if(o=oh(G),o!==null){if(c.flags|=128,x=!0,h=o.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),td(I,!0),I.tail===null&&I.tailMode==="hidden"&&!G.alternate&&!Gt)return Fn(c),null}else 2*Xt()-I.renderingStartTime>uc&&h!==1073741824&&(c.flags|=128,x=!0,td(I,!1),c.lanes=4194304);I.isBackwards?(G.sibling=c.child,c.child=G):(h=I.last,h!==null?h.sibling=G:c.child=G,I.last=G)}return I.tail!==null?(c=I.tail,I.rendering=c,I.tail=c.sibling,I.renderingStartTime=Xt(),c.sibling=null,h=tn.current,Ht(tn,x?h&1|2:h&1),c):(Fn(c),null);case 22:case 23:return Qg(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Tr&1073741824)!==0&&(Fn(c),c.subtreeFlags&6&&(c.flags|=8192)):Fn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function DI(o,c){switch(ag(c),c.tag){case 1:return lr(c.type)&&Kf(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return sc(),Wt(ar),Wt(Dn),_g(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return vg(c),null;case 13:if(Wt(tn),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));nc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Wt(tn),null;case 4:return sc(),null;case 10:return hg(c.type._context),null;case 22:case 23:return Qg(),null;case 24:return null;default:return null}}var ph=!1,Un=!1,BI=typeof WeakSet=="function"?WeakSet:Set,Je=null;function lc(o,c){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(x){sn(o,c,x)}else h.current=null}function Fg(o,c,h){try{h()}catch(x){sn(o,c,x)}}var Hx=!1;function FI(o,c){if(Ve=Ea,o=Du(),Bu(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var P=x.anchorOffset,I=x.focusNode;x=x.focusOffset;try{h.nodeType,I.nodeType}catch{h=null;break e}var G=0,ae=-1,de=-1,Se=0,ze=0,Fe=o,Me=null;t:for(;;){for(var Ye;Fe!==h||P!==0&&Fe.nodeType!==3||(ae=G+P),Fe!==I||x!==0&&Fe.nodeType!==3||(de=G+x),Fe.nodeType===3&&(G+=Fe.nodeValue.length),(Ye=Fe.firstChild)!==null;)Me=Fe,Fe=Ye;for(;;){if(Fe===o)break t;if(Me===h&&++Se===P&&(ae=G),Me===I&&++ze===x&&(de=G),(Ye=Fe.nextSibling)!==null)break;Fe=Me,Me=Fe.parentNode}Fe=Ye}h=ae===-1||de===-1?null:{start:ae,end:de}}else h=null}h=h||{start:0,end:0}}else h=null;for(lt={focusedElem:o,selectionRange:h},Ea=!1,Je=c;Je!==null;)if(c=Je,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Je=o;else for(;Je!==null;){c=Je;try{var Xe=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Xe!==null){var et=Xe.memoizedProps,dn=Xe.memoizedState,ye=c.stateNode,he=ye.getSnapshotBeforeUpdate(c.elementType===c.type?et:hi(c.type,et),dn);ye.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var we=c.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($e){sn(c,c.return,$e)}if(o=c.sibling,o!==null){o.return=c.return,Je=o;break}Je=c.return}return Xe=Hx,Hx=!1,Xe}function nd(o,c,h){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var P=x=x.next;do{if((P.tag&o)===o){var I=P.destroy;P.destroy=void 0,I!==void 0&&Fg(c,h,I)}P=P.next}while(P!==x)}}function mh(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&o)===o){var x=h.create;h.destroy=x()}h=h.next}while(h!==c)}}function Ug(o){var c=o.ref;if(c!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof c=="function"?c(o):c.current=o}}function Zx(o){var c=o.alternate;c!==null&&(o.alternate=null,Zx(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[Fr],delete c[ds],delete c[fs],delete c[ng],delete c[rg])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Wx(o){return o.tag===5||o.tag===3||o.tag===4}function Vx(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Wx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function $g(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(o,c):h.insertBefore(o,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(o,h)):(c=h,c.appendChild(o)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Le));else if(x!==4&&(o=o.child,o!==null))for($g(o,c,h),o=o.sibling;o!==null;)$g(o,c,h),o=o.sibling}function Hg(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Hg(o,c,h),o=o.sibling;o!==null;)Hg(o,c,h),o=o.sibling}var Tn=null,pi=!1;function vs(o,c,h){for(h=h.child;h!==null;)qx(o,c,h),h=h.sibling}function qx(o,c,h){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(ya,h)}catch{}switch(h.tag){case 5:Un||lc(h,c);case 6:var x=Tn,P=pi;Tn=null,vs(o,c,h),Tn=x,pi=P,Tn!==null&&(pi?(o=Tn,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Tn.removeChild(h.stateNode));break;case 18:Tn!==null&&(pi?(o=Tn,h=h.stateNode,o.nodeType===8?Vu(o.parentNode,h):o.nodeType===1&&Vu(o,h),br(o)):Vu(Tn,h.stateNode));break;case 4:x=Tn,P=pi,Tn=h.stateNode.containerInfo,pi=!0,vs(o,c,h),Tn=x,pi=P;break;case 0:case 11:case 14:case 15:if(!Un&&(x=h.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){P=x=x.next;do{var I=P,G=I.destroy;I=I.tag,G!==void 0&&((I&2)!==0||(I&4)!==0)&&Fg(h,c,G),P=P.next}while(P!==x)}vs(o,c,h);break;case 1:if(!Un&&(lc(h,c),x=h.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=h.memoizedProps,x.state=h.memoizedState,x.componentWillUnmount()}catch(ae){sn(h,c,ae)}vs(o,c,h);break;case 21:vs(o,c,h);break;case 22:h.mode&1?(Un=(x=Un)||h.memoizedState!==null,vs(o,c,h),Un=x):vs(o,c,h);break;default:vs(o,c,h)}}function Kx(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new BI),c.forEach(function(x){var P=GI.bind(null,o,x);h.has(x)||(h.add(x),x.then(P,P))})}}function mi(o,c){var h=c.deletions;if(h!==null)for(var x=0;x<h.length;x++){var P=h[x];try{var I=o,G=c,ae=G;e:for(;ae!==null;){switch(ae.tag){case 5:Tn=ae.stateNode,pi=!1;break e;case 3:Tn=ae.stateNode.containerInfo,pi=!0;break e;case 4:Tn=ae.stateNode.containerInfo,pi=!0;break e}ae=ae.return}if(Tn===null)throw Error(n(160));qx(I,G,P),Tn=null,pi=!1;var de=P.alternate;de!==null&&(de.return=null),P.return=null}catch(Se){sn(P,c,Se)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Gx(c,o),c=c.sibling}function Gx(o,c){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(mi(c,o),zi(o),x&4){try{nd(3,o,o.return),mh(3,o)}catch(et){sn(o,o.return,et)}try{nd(5,o,o.return)}catch(et){sn(o,o.return,et)}}break;case 1:mi(c,o),zi(o),x&512&&h!==null&&lc(h,h.return);break;case 5:if(mi(c,o),zi(o),x&512&&h!==null&&lc(h,h.return),o.flags&32){var P=o.stateNode;try{ne(P,"")}catch(et){sn(o,o.return,et)}}if(x&4&&(P=o.stateNode,P!=null)){var I=o.memoizedProps,G=h!==null?h.memoizedProps:I,ae=o.type,de=o.updateQueue;if(o.updateQueue=null,de!==null)try{ae==="input"&&I.type==="radio"&&I.name!=null&&be(P,I),Ct(ae,G);var Se=Ct(ae,I);for(G=0;G<de.length;G+=2){var ze=de[G],Fe=de[G+1];ze==="style"?dt(P,Fe):ze==="dangerouslySetInnerHTML"?O(P,Fe):ze==="children"?ne(P,Fe):A(P,ze,Fe,Se)}switch(ae){case"input":se(P,I);break;case"textarea":qe(P,I);break;case"select":var Me=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!I.multiple;var Ye=I.value;Ye!=null?je(P,!!I.multiple,Ye,!1):Me!==!!I.multiple&&(I.defaultValue!=null?je(P,!!I.multiple,I.defaultValue,!0):je(P,!!I.multiple,I.multiple?[]:"",!1))}P[ds]=I}catch(et){sn(o,o.return,et)}}break;case 6:if(mi(c,o),zi(o),x&4){if(o.stateNode===null)throw Error(n(162));P=o.stateNode,I=o.memoizedProps;try{P.nodeValue=I}catch(et){sn(o,o.return,et)}}break;case 3:if(mi(c,o),zi(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{br(c.containerInfo)}catch(et){sn(o,o.return,et)}break;case 4:mi(c,o),zi(o);break;case 13:mi(c,o),zi(o),P=o.child,P.flags&8192&&(I=P.memoizedState!==null,P.stateNode.isHidden=I,!I||P.alternate!==null&&P.alternate.memoizedState!==null||(Vg=Xt())),x&4&&Kx(o);break;case 22:if(ze=h!==null&&h.memoizedState!==null,o.mode&1?(Un=(Se=Un)||ze,mi(c,o),Un=Se):mi(c,o),zi(o),x&8192){if(Se=o.memoizedState!==null,(o.stateNode.isHidden=Se)&&!ze&&(o.mode&1)!==0)for(Je=o,ze=o.child;ze!==null;){for(Fe=Je=ze;Je!==null;){switch(Me=Je,Ye=Me.child,Me.tag){case 0:case 11:case 14:case 15:nd(4,Me,Me.return);break;case 1:lc(Me,Me.return);var Xe=Me.stateNode;if(typeof Xe.componentWillUnmount=="function"){x=Me,h=Me.return;try{c=x,Xe.props=c.memoizedProps,Xe.state=c.memoizedState,Xe.componentWillUnmount()}catch(et){sn(x,h,et)}}break;case 5:lc(Me,Me.return);break;case 22:if(Me.memoizedState!==null){Qx(Fe);continue}}Ye!==null?(Ye.return=Me,Je=Ye):Qx(Fe)}ze=ze.sibling}e:for(ze=null,Fe=o;;){if(Fe.tag===5){if(ze===null){ze=Fe;try{P=Fe.stateNode,Se?(I=P.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(ae=Fe.stateNode,de=Fe.memoizedProps.style,G=de!=null&&de.hasOwnProperty("display")?de.display:null,ae.style.display=Ce("display",G))}catch(et){sn(o,o.return,et)}}}else if(Fe.tag===6){if(ze===null)try{Fe.stateNode.nodeValue=Se?"":Fe.memoizedProps}catch(et){sn(o,o.return,et)}}else if((Fe.tag!==22&&Fe.tag!==23||Fe.memoizedState===null||Fe===o)&&Fe.child!==null){Fe.child.return=Fe,Fe=Fe.child;continue}if(Fe===o)break e;for(;Fe.sibling===null;){if(Fe.return===null||Fe.return===o)break e;ze===Fe&&(ze=null),Fe=Fe.return}ze===Fe&&(ze=null),Fe.sibling.return=Fe.return,Fe=Fe.sibling}}break;case 19:mi(c,o),zi(o),x&4&&Kx(o);break;case 21:break;default:mi(c,o),zi(o)}}function zi(o){var c=o.flags;if(c&2){try{e:{for(var h=o.return;h!==null;){if(Wx(h)){var x=h;break e}h=h.return}throw Error(n(160))}switch(x.tag){case 5:var P=x.stateNode;x.flags&32&&(ne(P,""),x.flags&=-33);var I=Vx(o);Hg(o,I,P);break;case 3:case 4:var G=x.stateNode.containerInfo,ae=Vx(o);$g(o,ae,G);break;default:throw Error(n(161))}}catch(de){sn(o,o.return,de)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function UI(o,c,h){Je=o,Yx(o)}function Yx(o,c,h){for(var x=(o.mode&1)!==0;Je!==null;){var P=Je,I=P.child;if(P.tag===22&&x){var G=P.memoizedState!==null||ph;if(!G){var ae=P.alternate,de=ae!==null&&ae.memoizedState!==null||Un;ae=ph;var Se=Un;if(ph=G,(Un=de)&&!Se)for(Je=P;Je!==null;)G=Je,de=G.child,G.tag===22&&G.memoizedState!==null?Xx(P):de!==null?(de.return=G,Je=de):Xx(P);for(;I!==null;)Je=I,Yx(I),I=I.sibling;Je=P,ph=ae,Un=Se}Jx(o)}else(P.subtreeFlags&8772)!==0&&I!==null?(I.return=P,Je=I):Jx(o)}}function Jx(o){for(;Je!==null;){var c=Je;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Un||mh(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Un)if(h===null)x.componentDidMount();else{var P=c.elementType===c.type?h.memoizedProps:hi(c.type,h.memoizedProps);x.componentDidUpdate(P,h.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var I=c.updateQueue;I!==null&&Q_(c,I,x);break;case 3:var G=c.updateQueue;if(G!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}Q_(c,G,h)}break;case 5:var ae=c.stateNode;if(h===null&&c.flags&4){h=ae;var de=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&h.focus();break;case"img":de.src&&(h.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Se=c.alternate;if(Se!==null){var ze=Se.memoizedState;if(ze!==null){var Fe=ze.dehydrated;Fe!==null&&br(Fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Un||c.flags&512&&Ug(c)}catch(Me){sn(c,c.return,Me)}}if(c===o){Je=null;break}if(h=c.sibling,h!==null){h.return=c.return,Je=h;break}Je=c.return}}function Qx(o){for(;Je!==null;){var c=Je;if(c===o){Je=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Je=h;break}Je=c.return}}function Xx(o){for(;Je!==null;){var c=Je;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{mh(4,c)}catch(de){sn(c,h,de)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var P=c.return;try{x.componentDidMount()}catch(de){sn(c,P,de)}}var I=c.return;try{Ug(c)}catch(de){sn(c,I,de)}break;case 5:var G=c.return;try{Ug(c)}catch(de){sn(c,G,de)}}}catch(de){sn(c,c.return,de)}if(c===o){Je=null;break}var ae=c.sibling;if(ae!==null){ae.return=c.return,Je=ae;break}Je=c.return}}var $I=Math.ceil,gh=z.ReactCurrentDispatcher,Zg=z.ReactCurrentOwner,Wr=z.ReactCurrentBatchConfig,At=0,En=null,mn=null,An=0,Tr=0,cc=hs(0),_n=0,rd=null,za=0,yh=0,Wg=0,id=null,ur=null,Vg=0,uc=1/0,Eo=null,vh=!1,qg=null,ws=null,wh=!1,_s=null,_h=0,od=0,Kg=null,xh=-1,bh=0;function Xn(){return(At&6)!==0?Xt():xh!==-1?xh:xh=Xt()}function xs(o){return(o.mode&1)===0?1:(At&2)!==0&&An!==0?An&-An:kI.transition!==null?(bh===0&&(bh=kf()),bh):(o=Pt,o!==0||(o=window.event,o=o===void 0?16:St(o.type)),o)}function gi(o,c,h,x){if(50<od)throw od=0,Kg=null,Error(n(185));_r(o,h,x),((At&2)===0||o!==En)&&(o===En&&((At&2)===0&&(yh|=h),_n===4&&bs(o,An)),dr(o,x),h===1&&At===0&&(c.mode&1)===0&&(uc=Xt()+500,Yf&&ms()))}function dr(o,c){var h=o.callbackNode;Al(o,c);var x=$t(o,o===En?An:0);if(x===0)h!==null&&_u(h),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(h!=null&&_u(h),c===1)o.tag===0?SI(tb.bind(null,o)):F_(tb.bind(null,o)),zn(function(){(At&6)===0&&ms()}),h=null;else{switch(Yo(x)){case 1:h=xu;break;case 4:h=Sf;break;case 16:h=Pl;break;case 536870912:h=Vo;break;default:h=Pl}h=cb(h,eb.bind(null,o))}o.callbackPriority=c,o.callbackNode=h}}function eb(o,c){if(xh=-1,bh=0,(At&6)!==0)throw Error(n(327));var h=o.callbackNode;if(dc()&&o.callbackNode!==h)return null;var x=$t(o,o===En?An:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=Eh(o,x);else{c=x;var P=At;At|=2;var I=rb();(En!==o||An!==c)&&(Eo=null,uc=Xt()+500,Ba(o,c));do try{WI();break}catch(ae){nb(o,ae)}while(!0);fg(),gh.current=I,At=P,mn!==null?c=0:(En=null,An=0,c=_n)}if(c!==0){if(c===2&&(P=On(o),P!==0&&(x=P,c=Gg(o,P))),c===1)throw h=rd,Ba(o,0),bs(o,x),dr(o,Xt()),h;if(c===6)bs(o,x);else{if(P=o.current.alternate,(x&30)===0&&!HI(P)&&(c=Eh(o,x),c===2&&(I=On(o),I!==0&&(x=I,c=Gg(o,I))),c===1))throw h=rd,Ba(o,0),bs(o,x),dr(o,Xt()),h;switch(o.finishedWork=P,o.finishedLanes=x,c){case 0:case 1:throw Error(n(345));case 2:Fa(o,ur,Eo);break;case 3:if(bs(o,x),(x&130023424)===x&&(c=Vg+500-Xt(),10<c)){if($t(o,0)!==0)break;if(P=o.suspendedLanes,(P&x)!==x){Xn(),o.pingedLanes|=o.suspendedLanes&P;break}o.timeoutHandle=vn(Fa.bind(null,o,ur,Eo),c);break}Fa(o,ur,Eo);break;case 4:if(bs(o,x),(x&4194240)===x)break;for(c=o.eventTimes,P=-1;0<x;){var G=31-yt(x);I=1<<G,G=c[G],G>P&&(P=G),x&=~I}if(x=P,x=Xt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*$I(x/1960))-x,10<x){o.timeoutHandle=vn(Fa.bind(null,o,ur,Eo),x);break}Fa(o,ur,Eo);break;case 5:Fa(o,ur,Eo);break;default:throw Error(n(329))}}}return dr(o,Xt()),o.callbackNode===h?eb.bind(null,o):null}function Gg(o,c){var h=id;return o.current.memoizedState.isDehydrated&&(Ba(o,c).flags|=256),o=Eh(o,c),o!==2&&(c=ur,ur=h,c!==null&&Yg(c)),o}function Yg(o){ur===null?ur=o:ur.push.apply(ur,o)}function HI(o){for(var c=o;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var x=0;x<h.length;x++){var P=h[x],I=P.getSnapshot;P=P.value;try{if(!kr(I(),P))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function bs(o,c){for(c&=~Wg,c&=~yh,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var h=31-yt(c),x=1<<h;o[h]=-1,c&=~x}}function tb(o){if((At&6)!==0)throw Error(n(327));dc();var c=$t(o,0);if((c&1)===0)return dr(o,Xt()),null;var h=Eh(o,c);if(o.tag!==0&&h===2){var x=On(o);x!==0&&(c=x,h=Gg(o,x))}if(h===1)throw h=rd,Ba(o,0),bs(o,c),dr(o,Xt()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,Fa(o,ur,Eo),dr(o,Xt()),null}function Jg(o,c){var h=At;At|=1;try{return o(c)}finally{At=h,At===0&&(uc=Xt()+500,Yf&&ms())}}function Da(o){_s!==null&&_s.tag===0&&(At&6)===0&&dc();var c=At;At|=1;var h=Wr.transition,x=Pt;try{if(Wr.transition=null,Pt=1,o)return o()}finally{Pt=x,Wr.transition=h,At=c,(At&6)===0&&ms()}}function Qg(){Tr=cc.current,Wt(cc)}function Ba(o,c){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,pn(h)),mn!==null)for(h=mn.return;h!==null;){var x=h;switch(ag(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Kf();break;case 3:sc(),Wt(ar),Wt(Dn),_g();break;case 5:vg(x);break;case 4:sc();break;case 13:Wt(tn);break;case 19:Wt(tn);break;case 10:hg(x.type._context);break;case 22:case 23:Qg()}h=h.return}if(En=o,mn=o=Es(o.current,null),An=Tr=c,_n=0,rd=null,Wg=yh=za=0,ur=id=null,La!==null){for(c=0;c<La.length;c++)if(h=La[c],x=h.interleaved,x!==null){h.interleaved=null;var P=x.next,I=h.pending;if(I!==null){var G=I.next;I.next=P,x.next=G}h.pending=x}La=null}return o}function nb(o,c){do{var h=mn;try{if(fg(),sh.current=uh,ah){for(var x=nn.memoizedState;x!==null;){var P=x.queue;P!==null&&(P.pending=null),x=x.next}ah=!1}if(Ma=0,bn=wn=nn=null,Ju=!1,Qu=0,Zg.current=null,h===null||h.return===null){_n=1,rd=c,mn=null;break}e:{var I=o,G=h.return,ae=h,de=c;if(c=An,ae.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Se=de,ze=ae,Fe=ze.tag;if((ze.mode&1)===0&&(Fe===0||Fe===11||Fe===15)){var Me=ze.alternate;Me?(ze.updateQueue=Me.updateQueue,ze.memoizedState=Me.memoizedState,ze.lanes=Me.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var Ye=Nx(G);if(Ye!==null){Ye.flags&=-257,Px(Ye,G,ae,I,c),Ye.mode&1&&Cx(I,Se,c),c=Ye,de=Se;var Xe=c.updateQueue;if(Xe===null){var et=new Set;et.add(de),c.updateQueue=et}else Xe.add(de);break e}else{if((c&1)===0){Cx(I,Se,c),Xg();break e}de=Error(n(426))}}else if(Gt&&ae.mode&1){var dn=Nx(G);if(dn!==null){(dn.flags&65536)===0&&(dn.flags|=256),Px(dn,G,ae,I,c),ug(ac(de,ae));break e}}I=de=ac(de,ae),_n!==4&&(_n=2),id===null?id=[I]:id.push(I),I=G;do{switch(I.tag){case 3:I.flags|=65536,c&=-c,I.lanes|=c;var ye=Sx(I,de,c);J_(I,ye);break e;case 1:ae=de;var he=I.type,we=I.stateNode;if((I.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(ws===null||!ws.has(we)))){I.flags|=65536,c&=-c,I.lanes|=c;var $e=kx(I,ae,c);J_(I,$e);break e}}I=I.return}while(I!==null)}ob(h)}catch(rt){c=rt,mn===h&&h!==null&&(mn=h=h.return);continue}break}while(!0)}function rb(){var o=gh.current;return gh.current=uh,o===null?uh:o}function Xg(){(_n===0||_n===3||_n===2)&&(_n=4),En===null||(za&268435455)===0&&(yh&268435455)===0||bs(En,An)}function Eh(o,c){var h=At;At|=2;var x=rb();(En!==o||An!==c)&&(Eo=null,Ba(o,c));do try{ZI();break}catch(P){nb(o,P)}while(!0);if(fg(),At=h,gh.current=x,mn!==null)throw Error(n(261));return En=null,An=0,_n}function ZI(){for(;mn!==null;)ib(mn)}function WI(){for(;mn!==null&&!Fm();)ib(mn)}function ib(o){var c=lb(o.alternate,o,Tr);o.memoizedProps=o.pendingProps,c===null?ob(o):mn=c,Zg.current=null}function ob(o){var c=o;do{var h=c.alternate;if(o=c.return,(c.flags&32768)===0){if(h=zI(h,c,Tr),h!==null){mn=h;return}}else{if(h=DI(h,c),h!==null){h.flags&=32767,mn=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{_n=6,mn=null;return}}if(c=c.sibling,c!==null){mn=c;return}mn=c=o}while(c!==null);_n===0&&(_n=5)}function Fa(o,c,h){var x=Pt,P=Wr.transition;try{Wr.transition=null,Pt=1,VI(o,c,h,x)}finally{Wr.transition=P,Pt=x}return null}function VI(o,c,h,x){do dc();while(_s!==null);if((At&6)!==0)throw Error(n(327));h=o.finishedWork;var P=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var I=h.lanes|h.childLanes;if(on(o,I),o===En&&(mn=En=null,An=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||wh||(wh=!0,cb(Pl,function(){return dc(),null})),I=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||I){I=Wr.transition,Wr.transition=null;var G=Pt;Pt=1;var ae=At;At|=4,Zg.current=null,FI(o,h),Gx(h,o),Dr(lt),Ea=!!Ve,lt=Ve=null,o.current=h,UI(h),Nl(),At=ae,Pt=G,Wr.transition=I}else o.current=h;if(wh&&(wh=!1,_s=o,_h=P),I=o.pendingLanes,I===0&&(ws=null),va(h.stateNode),dr(o,Xt()),c!==null)for(x=o.onRecoverableError,h=0;h<c.length;h++)P=c[h],x(P.value,{componentStack:P.stack,digest:P.digest});if(vh)throw vh=!1,o=qg,qg=null,o;return(_h&1)!==0&&o.tag!==0&&dc(),I=o.pendingLanes,(I&1)!==0?o===Kg?od++:(od=0,Kg=o):od=0,ms(),null}function dc(){if(_s!==null){var o=Yo(_h),c=Wr.transition,h=Pt;try{if(Wr.transition=null,Pt=16>o?16:o,_s===null)var x=!1;else{if(o=_s,_s=null,_h=0,(At&6)!==0)throw Error(n(331));var P=At;for(At|=4,Je=o.current;Je!==null;){var I=Je,G=I.child;if((Je.flags&16)!==0){var ae=I.deletions;if(ae!==null){for(var de=0;de<ae.length;de++){var Se=ae[de];for(Je=Se;Je!==null;){var ze=Je;switch(ze.tag){case 0:case 11:case 15:nd(8,ze,I)}var Fe=ze.child;if(Fe!==null)Fe.return=ze,Je=Fe;else for(;Je!==null;){ze=Je;var Me=ze.sibling,Ye=ze.return;if(Zx(ze),ze===Se){Je=null;break}if(Me!==null){Me.return=Ye,Je=Me;break}Je=Ye}}}var Xe=I.alternate;if(Xe!==null){var et=Xe.child;if(et!==null){Xe.child=null;do{var dn=et.sibling;et.sibling=null,et=dn}while(et!==null)}}Je=I}}if((I.subtreeFlags&2064)!==0&&G!==null)G.return=I,Je=G;else e:for(;Je!==null;){if(I=Je,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:nd(9,I,I.return)}var ye=I.sibling;if(ye!==null){ye.return=I.return,Je=ye;break e}Je=I.return}}var he=o.current;for(Je=he;Je!==null;){G=Je;var we=G.child;if((G.subtreeFlags&2064)!==0&&we!==null)we.return=G,Je=we;else e:for(G=he;Je!==null;){if(ae=Je,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:mh(9,ae)}}catch(rt){sn(ae,ae.return,rt)}if(ae===G){Je=null;break e}var $e=ae.sibling;if($e!==null){$e.return=ae.return,Je=$e;break e}Je=ae.return}}if(At=P,ms(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(ya,o)}catch{}x=!0}return x}finally{Pt=h,Wr.transition=c}}return!1}function sb(o,c,h){c=ac(h,c),c=Sx(o,c,1),o=ys(o,c,1),c=Xn(),o!==null&&(_r(o,1,c),dr(o,c))}function sn(o,c,h){if(o.tag===3)sb(o,o,h);else for(;c!==null;){if(c.tag===3){sb(c,o,h);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(ws===null||!ws.has(x))){o=ac(h,o),o=kx(c,o,1),c=ys(c,o,1),o=Xn(),c!==null&&(_r(c,1,o),dr(c,o));break}}c=c.return}}function qI(o,c,h){var x=o.pingCache;x!==null&&x.delete(c),c=Xn(),o.pingedLanes|=o.suspendedLanes&h,En===o&&(An&h)===h&&(_n===4||_n===3&&(An&130023424)===An&&500>Xt()-Vg?Ba(o,0):Wg|=h),dr(o,c)}function ab(o,c){c===0&&((o.mode&1)===0?c=1:(c=Ko,Ko<<=1,(Ko&130023424)===0&&(Ko=4194304)));var h=Xn();o=_o(o,c),o!==null&&(_r(o,c,h),dr(o,h))}function KI(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),ab(o,h)}function GI(o,c){var h=0;switch(o.tag){case 13:var x=o.stateNode,P=o.memoizedState;P!==null&&(h=P.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(c),ab(o,h)}var lb;lb=function(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps||ar.current)cr=!0;else{if((o.lanes&h)===0&&(c.flags&128)===0)return cr=!1,MI(o,c,h);cr=(o.flags&131072)!==0}else cr=!1,Gt&&(c.flags&1048576)!==0&&U_(c,Qf,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;hh(o,c),o=c.pendingProps;var P=Xl(c,Dn.current);oc(c,h),P=Eg(null,c,x,o,P,h);var I=Sg();return c.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,lr(x)?(I=!0,Gf(c)):I=!1,c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,gg(c),P.updater=dh,c.stateNode=P,P._reactInternals=c,Ag(c,x,o,h),c=Lg(null,c,x,!0,I,h)):(c.tag=0,Gt&&I&&sg(c),Qn(null,c,P,h),c=c.child),c;case 16:x=c.elementType;e:{switch(hh(o,c),o=c.pendingProps,P=x._init,x=P(x._payload),c.type=x,P=c.tag=JI(x),o=hi(x,o),P){case 0:c=jg(null,c,x,o,h);break e;case 1:c=Lx(null,c,x,o,h);break e;case 11:c=Tx(null,c,x,o,h);break e;case 14:c=Ax(null,c,x,hi(x.type,o),h);break e}throw Error(n(306,x,""))}return c;case 0:return x=c.type,P=c.pendingProps,P=c.elementType===x?P:hi(x,P),jg(o,c,x,P,h);case 1:return x=c.type,P=c.pendingProps,P=c.elementType===x?P:hi(x,P),Lx(o,c,x,P,h);case 3:e:{if(Ox(c),o===null)throw Error(n(387));x=c.pendingProps,I=c.memoizedState,P=I.element,Y_(o,c),ih(c,x,null,h);var G=c.memoizedState;if(x=G.element,I.isDehydrated)if(I={element:x,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},c.updateQueue.baseState=I,c.memoizedState=I,c.flags&256){P=ac(Error(n(423)),c),c=Mx(o,c,x,h,P);break e}else if(x!==P){P=ac(Error(n(424)),c),c=Mx(o,c,x,h,P);break e}else for(Pr=Li(c.stateNode.containerInfo.firstChild),Nr=c,Gt=!0,fi=null,h=K_(c,null,x,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(nc(),x===P){c=bo(o,c,h);break e}Qn(o,c,x,h)}c=c.child}return c;case 5:return X_(c),o===null&&cg(c),x=c.type,P=c.pendingProps,I=o!==null?o.memoizedProps:null,G=P.children,wt(x,P)?G=null:I!==null&&wt(x,I)&&(c.flags|=32),jx(o,c),Qn(o,c,G,h),c.child;case 6:return o===null&&cg(c),null;case 13:return zx(o,c,h);case 4:return yg(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=rc(c,null,x,h):Qn(o,c,x,h),c.child;case 11:return x=c.type,P=c.pendingProps,P=c.elementType===x?P:hi(x,P),Tx(o,c,x,P,h);case 7:return Qn(o,c,c.pendingProps,h),c.child;case 8:return Qn(o,c,c.pendingProps.children,h),c.child;case 12:return Qn(o,c,c.pendingProps.children,h),c.child;case 10:e:{if(x=c.type._context,P=c.pendingProps,I=c.memoizedProps,G=P.value,Ht(th,x._currentValue),x._currentValue=G,I!==null)if(kr(I.value,G)){if(I.children===P.children&&!ar.current){c=bo(o,c,h);break e}}else for(I=c.child,I!==null&&(I.return=c);I!==null;){var ae=I.dependencies;if(ae!==null){G=I.child;for(var de=ae.firstContext;de!==null;){if(de.context===x){if(I.tag===1){de=xo(-1,h&-h),de.tag=2;var Se=I.updateQueue;if(Se!==null){Se=Se.shared;var ze=Se.pending;ze===null?de.next=de:(de.next=ze.next,ze.next=de),Se.pending=de}}I.lanes|=h,de=I.alternate,de!==null&&(de.lanes|=h),pg(I.return,h,c),ae.lanes|=h;break}de=de.next}}else if(I.tag===10)G=I.type===c.type?null:I.child;else if(I.tag===18){if(G=I.return,G===null)throw Error(n(341));G.lanes|=h,ae=G.alternate,ae!==null&&(ae.lanes|=h),pg(G,h,c),G=I.sibling}else G=I.child;if(G!==null)G.return=I;else for(G=I;G!==null;){if(G===c){G=null;break}if(I=G.sibling,I!==null){I.return=G.return,G=I;break}G=G.return}I=G}Qn(o,c,P.children,h),c=c.child}return c;case 9:return P=c.type,x=c.pendingProps.children,oc(c,h),P=Hr(P),x=x(P),c.flags|=1,Qn(o,c,x,h),c.child;case 14:return x=c.type,P=hi(x,c.pendingProps),P=hi(x.type,P),Ax(o,c,x,P,h);case 15:return Rx(o,c,c.type,c.pendingProps,h);case 17:return x=c.type,P=c.pendingProps,P=c.elementType===x?P:hi(x,P),hh(o,c),c.tag=1,lr(x)?(o=!0,Gf(c)):o=!1,oc(c,h),bx(c,x,P),Ag(c,x,P,h),Lg(null,c,x,!0,o,h);case 19:return Bx(o,c,h);case 22:return Ix(o,c,h)}throw Error(n(156,c.tag))};function cb(o,c){return Ef(o,c)}function YI(o,c,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(o,c,h,x){return new YI(o,c,h,x)}function ey(o){return o=o.prototype,!(!o||!o.isReactComponent)}function JI(o){if(typeof o=="function")return ey(o)?1:0;if(o!=null){if(o=o.$$typeof,o===B)return 11;if(o===K)return 14}return 2}function Es(o,c){var h=o.alternate;return h===null?(h=Vr(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function Sh(o,c,h,x,P,I){var G=2;if(x=o,typeof o=="function")ey(o)&&(G=1);else if(typeof o=="string")G=5;else e:switch(o){case W:return Ua(h.children,P,I,c);case q:G=8,P|=8;break;case U:return o=Vr(12,h,c,P|2),o.elementType=U,o.lanes=I,o;case X:return o=Vr(13,h,c,P),o.elementType=X,o.lanes=I,o;case j:return o=Vr(19,h,c,P),o.elementType=j,o.lanes=I,o;case ie:return kh(h,P,I,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case V:G=10;break e;case $:G=9;break e;case B:G=11;break e;case K:G=14;break e;case oe:G=16,x=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return c=Vr(G,h,c,P),c.elementType=o,c.type=x,c.lanes=I,c}function Ua(o,c,h,x){return o=Vr(7,o,x,c),o.lanes=h,o}function kh(o,c,h,x){return o=Vr(22,o,x,c),o.elementType=ie,o.lanes=h,o.stateNode={isHidden:!1},o}function ty(o,c,h){return o=Vr(6,o,null,c),o.lanes=h,o}function ny(o,c,h){return c=Vr(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function QI(o,c,h,x,P){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Go(0),this.expirationTimes=Go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Go(0),this.identifierPrefix=x,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function ry(o,c,h,x,P,I,G,ae,de){return o=new QI(o,c,h,ae,de),c===1?(c=1,I===!0&&(c|=8)):c=0,I=Vr(3,null,null,c),o.current=I,I.stateNode=o,I.memoizedState={element:x,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},gg(I),o}function XI(o,c,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:x==null?null:""+x,children:o,containerInfo:c,implementation:h}}function ub(o){if(!o)return ps;o=o._reactInternals;e:{if(Ci(o)!==o||o.tag!==1)throw Error(n(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(lr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(lr(h))return D_(o,h,c)}return c}function db(o,c,h,x,P,I,G,ae,de){return o=ry(h,x,!0,o,P,I,G,ae,de),o.context=ub(null),h=o.current,x=Xn(),P=xs(h),I=xo(x,P),I.callback=c??null,ys(h,I,P),o.current.lanes=P,_r(o,P,x),dr(o,x),o}function Ch(o,c,h,x){var P=c.current,I=Xn(),G=xs(P);return h=ub(h),c.context===null?c.context=h:c.pendingContext=h,c=xo(I,G),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=ys(P,c,G),o!==null&&(gi(o,P,G,I),rh(o,P,G)),G}function Nh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function fb(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function iy(o,c){fb(o,c),(o=o.alternate)&&fb(o,c)}function ej(){return null}var hb=typeof reportError=="function"?reportError:function(o){console.error(o)};function oy(o){this._internalRoot=o}Ph.prototype.render=oy.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));Ch(o,c,null,null)},Ph.prototype.unmount=oy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Da(function(){Ch(null,o,null,null)}),c[Ot]=null}};function Ph(o){this._internalRoot=o}Ph.prototype.unstable_scheduleHydration=function(o){if(o){var c=jl();o={blockedOn:null,target:o,priority:c};for(var h=0;h<yn.length&&c!==0&&c<yn[h].priority;h++);yn.splice(h,0,o),h===0&&Ll(o)}};function sy(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Th(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function pb(){}function tj(o,c,h,x,P){if(P){if(typeof x=="function"){var I=x;x=function(){var Se=Nh(G);I.call(Se)}}var G=db(c,x,o,0,null,!1,!1,"",pb);return o._reactRootContainer=G,o[Ot]=G.current,cs(o.nodeType===8?o.parentNode:o),Da(),G}for(;P=o.lastChild;)o.removeChild(P);if(typeof x=="function"){var ae=x;x=function(){var Se=Nh(de);ae.call(Se)}}var de=ry(o,0,!1,null,null,!1,!1,"",pb);return o._reactRootContainer=de,o[Ot]=de.current,cs(o.nodeType===8?o.parentNode:o),Da(function(){Ch(c,de,h,x)}),de}function Ah(o,c,h,x,P){var I=h._reactRootContainer;if(I){var G=I;if(typeof P=="function"){var ae=P;P=function(){var de=Nh(G);ae.call(de)}}Ch(c,G,o,P)}else G=tj(h,c,o,P,x);return Nh(G)}Rl=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var h=gt(c.pendingLanes);h!==0&&(ai(c,h|1),dr(c,Xt()),(At&6)===0&&(uc=Xt()+500,ms()))}break;case 13:Da(function(){var x=_o(o,1);if(x!==null){var P=Xn();gi(x,o,1,P)}}),iy(o,1)}},io=function(o){if(o.tag===13){var c=_o(o,134217728);if(c!==null){var h=Xn();gi(c,o,134217728,h)}iy(o,134217728)}},Il=function(o){if(o.tag===13){var c=xs(o),h=_o(o,c);if(h!==null){var x=Xn();gi(h,o,c,x)}iy(o,c)}},jl=function(){return Pt},wa=function(o,c){var h=Pt;try{return Pt=o,c()}finally{Pt=h}},Wo=function(o,c,h){switch(c){case"input":if(se(o,h),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var x=h[c];if(x!==o&&x.form===o.form){var P=Jl(x);if(!P)throw Error(n(90));ot(x),se(x,P)}}}break;case"textarea":qe(o,h);break;case"select":c=h.value,c!=null&&je(o,!!h.multiple,c,!1)}},yf=Jg,vf=Da;var nj={usingClientEntryPoint:!1,Events:[mo,go,Jl,mf,gf,Jg]},sd={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rj={bundleType:sd.bundleType,version:sd.version,rendererPackageName:sd.rendererPackageName,rendererConfig:sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=xf(o),o===null?null:o.stateNode},findFiberByHostInstance:sd.findFiberByHostInstance||ej,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{ya=Rh.inject(rj),wr=Rh}catch{}}return fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nj,fr.createPortal=function(o,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sy(c))throw Error(n(200));return XI(o,c,null,h)},fr.createRoot=function(o,c){if(!sy(o))throw Error(n(299));var h=!1,x="",P=hb;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=ry(o,1,!1,null,null,h,!1,x,P),o[Ot]=c.current,cs(o.nodeType===8?o.parentNode:o),new oy(c)},fr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=xf(c),o=o===null?null:o.stateNode,o},fr.flushSync=function(o){return Da(o)},fr.hydrate=function(o,c,h){if(!Th(c))throw Error(n(200));return Ah(null,o,c,!0,h)},fr.hydrateRoot=function(o,c,h){if(!sy(o))throw Error(n(405));var x=h!=null&&h.hydratedSources||null,P=!1,I="",G=hb;if(h!=null&&(h.unstable_strictMode===!0&&(P=!0),h.identifierPrefix!==void 0&&(I=h.identifierPrefix),h.onRecoverableError!==void 0&&(G=h.onRecoverableError)),c=db(c,null,o,1,h??null,P,!1,I,G),o[Ot]=c.current,cs(o),x)for(o=0;o<x.length;o++)h=x[o],P=h._getVersion,P=P(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,P]:c.mutableSourceEagerHydrationData.push(h,P);return new Ph(c)},fr.render=function(o,c,h){if(!Th(c))throw Error(n(200));return Ah(null,o,c,!1,h)},fr.unmountComponentAtNode=function(o){if(!Th(o))throw Error(n(40));return o._reactRootContainer?(Da(function(){Ah(null,null,o,!1,function(){o._reactRootContainer=null,o[Ot]=null})}),!0):!1},fr.unstable_batchedUpdates=Jg,fr.unstable_renderSubtreeIntoContainer=function(o,c,h,x){if(!Th(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Ah(o,c,h,!1,x)},fr.version="18.3.1-next-f1338f8080-20240426",fr}var Eb;function I2(){if(Eb)return uy.exports;Eb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),uy.exports=hj(),uy.exports}var Sb;function pj(){if(Sb)return Lh;Sb=1;var e=I2();return Lh.createRoot=e.createRoot,Lh.hydrateRoot=e.hydrateRoot,Lh}var mj=pj(),hy={},ld={},kb;function gj(){if(kb)return ld;kb=1,ld.byteLength=u,ld.toByteArray=p,ld.fromByteArray=b;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function l(_){var S=_.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=_.indexOf("=");v===-1&&(v=S);var E=v===S?0:4-v%4;return[v,E]}function u(_){var S=l(_),v=S[0],E=S[1];return(v+E)*3/4-E}function d(_,S,v){return(S+v)*3/4-v}function p(_){var S,v=l(_),E=v[0],k=v[1],T=new n(d(_,E,k)),A=0,z=k>0?E-4:E,D;for(D=0;D<z;D+=4)S=t[_.charCodeAt(D)]<<18|t[_.charCodeAt(D+1)]<<12|t[_.charCodeAt(D+2)]<<6|t[_.charCodeAt(D+3)],T[A++]=S>>16&255,T[A++]=S>>8&255,T[A++]=S&255;return k===2&&(S=t[_.charCodeAt(D)]<<2|t[_.charCodeAt(D+1)]>>4,T[A++]=S&255),k===1&&(S=t[_.charCodeAt(D)]<<10|t[_.charCodeAt(D+1)]<<4|t[_.charCodeAt(D+2)]>>2,T[A++]=S>>8&255,T[A++]=S&255),T}function y(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function g(_,S,v){for(var E,k=[],T=S;T<v;T+=3)E=(_[T]<<16&16711680)+(_[T+1]<<8&65280)+(_[T+2]&255),k.push(y(E));return k.join("")}function b(_){for(var S,v=_.length,E=v%3,k=[],T=16383,A=0,z=v-E;A<z;A+=T)k.push(g(_,A,A+T>z?z:A+T));return E===1?(S=_[v-1],k.push(e[S>>2]+e[S<<4&63]+"==")):E===2&&(S=(_[v-2]<<8)+_[v-1],k.push(e[S>>10]+e[S>>4&63]+e[S<<2&63]+"=")),k.join("")}return ld}var Oh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Cb;function yj(){return Cb||(Cb=1,Oh.read=function(e,t,n,r,i){var s,l,u=i*8-r-1,d=(1<<u)-1,p=d>>1,y=-7,g=n?i-1:0,b=n?-1:1,_=e[t+g];for(g+=b,s=_&(1<<-y)-1,_>>=-y,y+=u;y>0;s=s*256+e[t+g],g+=b,y-=8);for(l=s&(1<<-y)-1,s>>=-y,y+=r;y>0;l=l*256+e[t+g],g+=b,y-=8);if(s===0)s=1-p;else{if(s===d)return l?NaN:(_?-1:1)*(1/0);l=l+Math.pow(2,r),s=s-p}return(_?-1:1)*l*Math.pow(2,s-r)},Oh.write=function(e,t,n,r,i,s){var l,u,d,p=s*8-i-1,y=(1<<p)-1,g=y>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=r?0:s-1,S=r?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,l=y):(l=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+g>=1?t+=b/d:t+=b*Math.pow(2,1-g),t*d>=2&&(l++,d/=2),l+g>=y?(u=0,l=y):l+g>=1?(u=(t*d-1)*Math.pow(2,i),l=l+g):(u=t*Math.pow(2,g-1)*Math.pow(2,i),l=0));i>=8;e[n+_]=u&255,_+=S,u/=256,i-=8);for(l=l<<i|u,p+=i;p>0;e[n+_]=l&255,_+=S,l/=256,p-=8);e[n+_-S]|=v*128}),Oh}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Nb;function vj(){return Nb||(Nb=1,function(e){const t=gj(),n=yj(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=T,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=s(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const Y=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(Y,R),Y.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(Y){if(Y>i)throw new RangeError('The value "'+Y+'" is invalid for option "size"');const R=new Uint8Array(Y);return Object.setPrototypeOf(R,u.prototype),R}function u(Y,R,O){if(typeof Y=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(Y)}return d(Y,R,O)}u.poolSize=8192;function d(Y,R,O){if(typeof Y=="string")return b(Y,R);if(ArrayBuffer.isView(Y))return S(Y);if(Y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(me(Y,ArrayBuffer)||Y&&me(Y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(Y,SharedArrayBuffer)||Y&&me(Y.buffer,SharedArrayBuffer)))return v(Y,R,O);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=Y.valueOf&&Y.valueOf();if(ne!=null&&ne!==Y)return u.from(ne,R,O);const fe=E(Y);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return u.from(Y[Symbol.toPrimitive]("string"),R,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}u.from=function(Y,R,O){return d(Y,R,O)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function y(Y,R,O){return p(Y),Y<=0?l(Y):R!==void 0?typeof O=="string"?l(Y).fill(R,O):l(Y).fill(R):l(Y)}u.alloc=function(Y,R,O){return y(Y,R,O)};function g(Y){return p(Y),l(Y<0?0:k(Y)|0)}u.allocUnsafe=function(Y){return g(Y)},u.allocUnsafeSlow=function(Y){return g(Y)};function b(Y,R){if((typeof R!="string"||R==="")&&(R="utf8"),!u.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const O=A(Y,R)|0;let ne=l(O);const fe=ne.write(Y,R);return fe!==O&&(ne=ne.slice(0,fe)),ne}function _(Y){const R=Y.length<0?0:k(Y.length)|0,O=l(R);for(let ne=0;ne<R;ne+=1)O[ne]=Y[ne]&255;return O}function S(Y){if(me(Y,Uint8Array)){const R=new Uint8Array(Y);return v(R.buffer,R.byteOffset,R.byteLength)}return _(Y)}function v(Y,R,O){if(R<0||Y.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<R+(O||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return R===void 0&&O===void 0?ne=new Uint8Array(Y):O===void 0?ne=new Uint8Array(Y,R):ne=new Uint8Array(Y,R,O),Object.setPrototypeOf(ne,u.prototype),ne}function E(Y){if(u.isBuffer(Y)){const R=k(Y.length)|0,O=l(R);return O.length===0||Y.copy(O,0,0,R),O}if(Y.length!==void 0)return typeof Y.length!="number"||Be(Y.length)?l(0):_(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return _(Y.data)}function k(Y){if(Y>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Y|0}function T(Y){return+Y!=Y&&(Y=0),u.alloc(+Y)}u.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==u.prototype},u.compare=function(R,O){if(me(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),me(O,Uint8Array)&&(O=u.from(O,O.offset,O.byteLength)),!u.isBuffer(R)||!u.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===O)return 0;let ne=R.length,fe=O.length;for(let xe=0,Ce=Math.min(ne,fe);xe<Ce;++xe)if(R[xe]!==O[xe]){ne=R[xe],fe=O[xe];break}return ne<fe?-1:fe<ne?1:0},u.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(R,O){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return u.alloc(0);let ne;if(O===void 0)for(O=0,ne=0;ne<R.length;++ne)O+=R[ne].length;const fe=u.allocUnsafe(O);let xe=0;for(ne=0;ne<R.length;++ne){let Ce=R[ne];if(me(Ce,Uint8Array))xe+Ce.length>fe.length?(u.isBuffer(Ce)||(Ce=u.from(Ce)),Ce.copy(fe,xe)):Uint8Array.prototype.set.call(fe,Ce,xe);else if(u.isBuffer(Ce))Ce.copy(fe,xe);else throw new TypeError('"list" argument must be an Array of Buffers');xe+=Ce.length}return fe};function A(Y,R){if(u.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||me(Y,ArrayBuffer))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);const O=Y.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&O===0)return 0;let fe=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return se(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return Re(Y).length;default:if(fe)return ne?-1:se(Y).length;R=(""+R).toLowerCase(),fe=!0}}u.byteLength=A;function z(Y,R,O){let ne=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,R>>>=0,O<=R))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return ee(this,R,O);case"utf8":case"utf-8":return j(this,R,O);case"ascii":return ie(this,R,O);case"latin1":case"binary":return te(this,R,O);case"base64":return X(this,R,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,R,O);default:if(ne)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),ne=!0}}u.prototype._isBuffer=!0;function D(Y,R,O){const ne=Y[R];Y[R]=Y[O],Y[O]=ne}u.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<R;O+=2)D(this,O,O+1);return this},u.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<R;O+=4)D(this,O,O+3),D(this,O+1,O+2);return this},u.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<R;O+=8)D(this,O,O+7),D(this,O+1,O+6),D(this,O+2,O+5),D(this,O+3,O+4);return this},u.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?j(this,0,R):z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(R){if(!u.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:u.compare(this,R)===0},u.prototype.inspect=function(){let R="";const O=e.INSPECT_MAX_BYTES;return R=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(R+=" ... "),"<Buffer "+R+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(R,O,ne,fe,xe){if(me(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),!u.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(O===void 0&&(O=0),ne===void 0&&(ne=R?R.length:0),fe===void 0&&(fe=0),xe===void 0&&(xe=this.length),O<0||ne>R.length||fe<0||xe>this.length)throw new RangeError("out of range index");if(fe>=xe&&O>=ne)return 0;if(fe>=xe)return-1;if(O>=ne)return 1;if(O>>>=0,ne>>>=0,fe>>>=0,xe>>>=0,this===R)return 0;let Ce=xe-fe,dt=ne-O;const jt=Math.min(Ce,dt),xt=this.slice(fe,xe),Ct=R.slice(O,ne);for(let Nt=0;Nt<jt;++Nt)if(xt[Nt]!==Ct[Nt]){Ce=xt[Nt],dt=Ct[Nt];break}return Ce<dt?-1:dt<Ce?1:0};function Z(Y,R,O,ne,fe){if(Y.length===0)return-1;if(typeof O=="string"?(ne=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,Be(O)&&(O=fe?0:Y.length-1),O<0&&(O=Y.length+O),O>=Y.length){if(fe)return-1;O=Y.length-1}else if(O<0)if(fe)O=0;else return-1;if(typeof R=="string"&&(R=u.from(R,ne)),u.isBuffer(R))return R.length===0?-1:W(Y,R,O,ne,fe);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(Y,R,O):Uint8Array.prototype.lastIndexOf.call(Y,R,O):W(Y,[R],O,ne,fe);throw new TypeError("val must be string, number or Buffer")}function W(Y,R,O,ne,fe){let xe=1,Ce=Y.length,dt=R.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(Y.length<2||R.length<2)return-1;xe=2,Ce/=2,dt/=2,O/=2}function jt(Ct,Nt){return xe===1?Ct[Nt]:Ct.readUInt16BE(Nt*xe)}let xt;if(fe){let Ct=-1;for(xt=O;xt<Ce;xt++)if(jt(Y,xt)===jt(R,Ct===-1?0:xt-Ct)){if(Ct===-1&&(Ct=xt),xt-Ct+1===dt)return Ct*xe}else Ct!==-1&&(xt-=xt-Ct),Ct=-1}else for(O+dt>Ce&&(O=Ce-dt),xt=O;xt>=0;xt--){let Ct=!0;for(let Nt=0;Nt<dt;Nt++)if(jt(Y,xt+Nt)!==jt(R,Nt)){Ct=!1;break}if(Ct)return xt}return-1}u.prototype.includes=function(R,O,ne){return this.indexOf(R,O,ne)!==-1},u.prototype.indexOf=function(R,O,ne){return Z(this,R,O,ne,!0)},u.prototype.lastIndexOf=function(R,O,ne){return Z(this,R,O,ne,!1)};function q(Y,R,O,ne){O=Number(O)||0;const fe=Y.length-O;ne?(ne=Number(ne),ne>fe&&(ne=fe)):ne=fe;const xe=R.length;ne>xe/2&&(ne=xe/2);let Ce;for(Ce=0;Ce<ne;++Ce){const dt=parseInt(R.substr(Ce*2,2),16);if(Be(dt))return Ce;Y[O+Ce]=dt}return Ce}function U(Y,R,O,ne){return je(se(R,Y.length-O),Y,O,ne)}function V(Y,R,O,ne){return je(re(R),Y,O,ne)}function $(Y,R,O,ne){return je(Re(R),Y,O,ne)}function B(Y,R,O,ne){return je(pe(R,Y.length-O),Y,O,ne)}u.prototype.write=function(R,O,ne,fe){if(O===void 0)fe="utf8",ne=this.length,O=0;else if(ne===void 0&&typeof O=="string")fe=O,ne=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(ne)?(ne=ne>>>0,fe===void 0&&(fe="utf8")):(fe=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const xe=this.length-O;if((ne===void 0||ne>xe)&&(ne=xe),R.length>0&&(ne<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ce=!1;for(;;)switch(fe){case"hex":return q(this,R,O,ne);case"utf8":case"utf-8":return U(this,R,O,ne);case"ascii":case"latin1":case"binary":return V(this,R,O,ne);case"base64":return $(this,R,O,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,R,O,ne);default:if(Ce)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ce=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(Y,R,O){return R===0&&O===Y.length?t.fromByteArray(Y):t.fromByteArray(Y.slice(R,O))}function j(Y,R,O){O=Math.min(Y.length,O);const ne=[];let fe=R;for(;fe<O;){const xe=Y[fe];let Ce=null,dt=xe>239?4:xe>223?3:xe>191?2:1;if(fe+dt<=O){let jt,xt,Ct,Nt;switch(dt){case 1:xe<128&&(Ce=xe);break;case 2:jt=Y[fe+1],(jt&192)===128&&(Nt=(xe&31)<<6|jt&63,Nt>127&&(Ce=Nt));break;case 3:jt=Y[fe+1],xt=Y[fe+2],(jt&192)===128&&(xt&192)===128&&(Nt=(xe&15)<<12|(jt&63)<<6|xt&63,Nt>2047&&(Nt<55296||Nt>57343)&&(Ce=Nt));break;case 4:jt=Y[fe+1],xt=Y[fe+2],Ct=Y[fe+3],(jt&192)===128&&(xt&192)===128&&(Ct&192)===128&&(Nt=(xe&15)<<18|(jt&63)<<12|(xt&63)<<6|Ct&63,Nt>65535&&Nt<1114112&&(Ce=Nt))}}Ce===null?(Ce=65533,dt=1):Ce>65535&&(Ce-=65536,ne.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),ne.push(Ce),fe+=dt}return oe(ne)}const K=4096;function oe(Y){const R=Y.length;if(R<=K)return String.fromCharCode.apply(String,Y);let O="",ne=0;for(;ne<R;)O+=String.fromCharCode.apply(String,Y.slice(ne,ne+=K));return O}function ie(Y,R,O){let ne="";O=Math.min(Y.length,O);for(let fe=R;fe<O;++fe)ne+=String.fromCharCode(Y[fe]&127);return ne}function te(Y,R,O){let ne="";O=Math.min(Y.length,O);for(let fe=R;fe<O;++fe)ne+=String.fromCharCode(Y[fe]);return ne}function ee(Y,R,O){const ne=Y.length;(!R||R<0)&&(R=0),(!O||O<0||O>ne)&&(O=ne);let fe="";for(let xe=R;xe<O;++xe)fe+=qe[Y[xe]];return fe}function le(Y,R,O){const ne=Y.slice(R,O);let fe="";for(let xe=0;xe<ne.length-1;xe+=2)fe+=String.fromCharCode(ne[xe]+ne[xe+1]*256);return fe}u.prototype.slice=function(R,O){const ne=this.length;R=~~R,O=O===void 0?ne:~~O,R<0?(R+=ne,R<0&&(R=0)):R>ne&&(R=ne),O<0?(O+=ne,O<0&&(O=0)):O>ne&&(O=ne),O<R&&(O=R);const fe=this.subarray(R,O);return Object.setPrototypeOf(fe,u.prototype),fe};function H(Y,R,O){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+R>O)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(R,O,ne){R=R>>>0,O=O>>>0,ne||H(R,O,this.length);let fe=this[R],xe=1,Ce=0;for(;++Ce<O&&(xe*=256);)fe+=this[R+Ce]*xe;return fe},u.prototype.readUintBE=u.prototype.readUIntBE=function(R,O,ne){R=R>>>0,O=O>>>0,ne||H(R,O,this.length);let fe=this[R+--O],xe=1;for(;O>0&&(xe*=256);)fe+=this[R+--O]*xe;return fe},u.prototype.readUint8=u.prototype.readUInt8=function(R,O){return R=R>>>0,O||H(R,1,this.length),this[R]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(R,O){return R=R>>>0,O||H(R,2,this.length),this[R]|this[R+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(R,O){return R=R>>>0,O||H(R,2,this.length),this[R]<<8|this[R+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(R,O){return R=R>>>0,O||H(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(R,O){return R=R>>>0,O||H(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},u.prototype.readBigUInt64LE=De(function(R){R=R>>>0,at(R,"offset");const O=this[R],ne=this[R+7];(O===void 0||ne===void 0)&&F(R,this.length-8);const fe=O+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,xe=this[++R]+this[++R]*2**8+this[++R]*2**16+ne*2**24;return BigInt(fe)+(BigInt(xe)<<BigInt(32))}),u.prototype.readBigUInt64BE=De(function(R){R=R>>>0,at(R,"offset");const O=this[R],ne=this[R+7];(O===void 0||ne===void 0)&&F(R,this.length-8);const fe=O*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],xe=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+ne;return(BigInt(fe)<<BigInt(32))+BigInt(xe)}),u.prototype.readIntLE=function(R,O,ne){R=R>>>0,O=O>>>0,ne||H(R,O,this.length);let fe=this[R],xe=1,Ce=0;for(;++Ce<O&&(xe*=256);)fe+=this[R+Ce]*xe;return xe*=128,fe>=xe&&(fe-=Math.pow(2,8*O)),fe},u.prototype.readIntBE=function(R,O,ne){R=R>>>0,O=O>>>0,ne||H(R,O,this.length);let fe=O,xe=1,Ce=this[R+--fe];for(;fe>0&&(xe*=256);)Ce+=this[R+--fe]*xe;return xe*=128,Ce>=xe&&(Ce-=Math.pow(2,8*O)),Ce},u.prototype.readInt8=function(R,O){return R=R>>>0,O||H(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},u.prototype.readInt16LE=function(R,O){R=R>>>0,O||H(R,2,this.length);const ne=this[R]|this[R+1]<<8;return ne&32768?ne|4294901760:ne},u.prototype.readInt16BE=function(R,O){R=R>>>0,O||H(R,2,this.length);const ne=this[R+1]|this[R]<<8;return ne&32768?ne|4294901760:ne},u.prototype.readInt32LE=function(R,O){return R=R>>>0,O||H(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},u.prototype.readInt32BE=function(R,O){return R=R>>>0,O||H(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},u.prototype.readBigInt64LE=De(function(R){R=R>>>0,at(R,"offset");const O=this[R],ne=this[R+7];(O===void 0||ne===void 0)&&F(R,this.length-8);const fe=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(ne<<24);return(BigInt(fe)<<BigInt(32))+BigInt(O+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),u.prototype.readBigInt64BE=De(function(R){R=R>>>0,at(R,"offset");const O=this[R],ne=this[R+7];(O===void 0||ne===void 0)&&F(R,this.length-8);const fe=(O<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(fe)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+ne)}),u.prototype.readFloatLE=function(R,O){return R=R>>>0,O||H(R,4,this.length),n.read(this,R,!0,23,4)},u.prototype.readFloatBE=function(R,O){return R=R>>>0,O||H(R,4,this.length),n.read(this,R,!1,23,4)},u.prototype.readDoubleLE=function(R,O){return R=R>>>0,O||H(R,8,this.length),n.read(this,R,!0,52,8)},u.prototype.readDoubleBE=function(R,O){return R=R>>>0,O||H(R,8,this.length),n.read(this,R,!1,52,8)};function Q(Y,R,O,ne,fe,xe){if(!u.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>fe||R<xe)throw new RangeError('"value" argument is out of bounds');if(O+ne>Y.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(R,O,ne,fe){if(R=+R,O=O>>>0,ne=ne>>>0,!fe){const dt=Math.pow(2,8*ne)-1;Q(this,R,O,ne,dt,0)}let xe=1,Ce=0;for(this[O]=R&255;++Ce<ne&&(xe*=256);)this[O+Ce]=R/xe&255;return O+ne},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(R,O,ne,fe){if(R=+R,O=O>>>0,ne=ne>>>0,!fe){const dt=Math.pow(2,8*ne)-1;Q(this,R,O,ne,dt,0)}let xe=ne-1,Ce=1;for(this[O+xe]=R&255;--xe>=0&&(Ce*=256);)this[O+xe]=R/Ce&255;return O+ne},u.prototype.writeUint8=u.prototype.writeUInt8=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,1,255,0),this[O]=R&255,O+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,2,65535,0),this[O]=R&255,this[O+1]=R>>>8,O+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,2,65535,0),this[O]=R>>>8,this[O+1]=R&255,O+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,4,4294967295,0),this[O+3]=R>>>24,this[O+2]=R>>>16,this[O+1]=R>>>8,this[O]=R&255,O+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,4,4294967295,0),this[O]=R>>>24,this[O+1]=R>>>16,this[O+2]=R>>>8,this[O+3]=R&255,O+4};function ke(Y,R,O,ne,fe){ot(R,ne,fe,Y,O,7);let xe=Number(R&BigInt(4294967295));Y[O++]=xe,xe=xe>>8,Y[O++]=xe,xe=xe>>8,Y[O++]=xe,xe=xe>>8,Y[O++]=xe;let Ce=Number(R>>BigInt(32)&BigInt(4294967295));return Y[O++]=Ce,Ce=Ce>>8,Y[O++]=Ce,Ce=Ce>>8,Y[O++]=Ce,Ce=Ce>>8,Y[O++]=Ce,O}function _e(Y,R,O,ne,fe){ot(R,ne,fe,Y,O,7);let xe=Number(R&BigInt(4294967295));Y[O+7]=xe,xe=xe>>8,Y[O+6]=xe,xe=xe>>8,Y[O+5]=xe,xe=xe>>8,Y[O+4]=xe;let Ce=Number(R>>BigInt(32)&BigInt(4294967295));return Y[O+3]=Ce,Ce=Ce>>8,Y[O+2]=Ce,Ce=Ce>>8,Y[O+1]=Ce,Ce=Ce>>8,Y[O]=Ce,O+8}u.prototype.writeBigUInt64LE=De(function(R,O=0){return ke(this,R,O,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=De(function(R,O=0){return _e(this,R,O,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(R,O,ne,fe){if(R=+R,O=O>>>0,!fe){const jt=Math.pow(2,8*ne-1);Q(this,R,O,ne,jt-1,-jt)}let xe=0,Ce=1,dt=0;for(this[O]=R&255;++xe<ne&&(Ce*=256);)R<0&&dt===0&&this[O+xe-1]!==0&&(dt=1),this[O+xe]=(R/Ce>>0)-dt&255;return O+ne},u.prototype.writeIntBE=function(R,O,ne,fe){if(R=+R,O=O>>>0,!fe){const jt=Math.pow(2,8*ne-1);Q(this,R,O,ne,jt-1,-jt)}let xe=ne-1,Ce=1,dt=0;for(this[O+xe]=R&255;--xe>=0&&(Ce*=256);)R<0&&dt===0&&this[O+xe+1]!==0&&(dt=1),this[O+xe]=(R/Ce>>0)-dt&255;return O+ne},u.prototype.writeInt8=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,1,127,-128),R<0&&(R=255+R+1),this[O]=R&255,O+1},u.prototype.writeInt16LE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,2,32767,-32768),this[O]=R&255,this[O+1]=R>>>8,O+2},u.prototype.writeInt16BE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,2,32767,-32768),this[O]=R>>>8,this[O+1]=R&255,O+2},u.prototype.writeInt32LE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,4,2147483647,-2147483648),this[O]=R&255,this[O+1]=R>>>8,this[O+2]=R>>>16,this[O+3]=R>>>24,O+4},u.prototype.writeInt32BE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[O]=R>>>24,this[O+1]=R>>>16,this[O+2]=R>>>8,this[O+3]=R&255,O+4},u.prototype.writeBigInt64LE=De(function(R,O=0){return ke(this,R,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=De(function(R,O=0){return _e(this,R,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ve(Y,R,O,ne,fe,xe){if(O+ne>Y.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function Ie(Y,R,O,ne,fe){return R=+R,O=O>>>0,fe||ve(Y,R,O,4),n.write(Y,R,O,ne,23,4),O+4}u.prototype.writeFloatLE=function(R,O,ne){return Ie(this,R,O,!0,ne)},u.prototype.writeFloatBE=function(R,O,ne){return Ie(this,R,O,!1,ne)};function Pe(Y,R,O,ne,fe){return R=+R,O=O>>>0,fe||ve(Y,R,O,8),n.write(Y,R,O,ne,52,8),O+8}u.prototype.writeDoubleLE=function(R,O,ne){return Pe(this,R,O,!0,ne)},u.prototype.writeDoubleBE=function(R,O,ne){return Pe(this,R,O,!1,ne)},u.prototype.copy=function(R,O,ne,fe){if(!u.isBuffer(R))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!fe&&fe!==0&&(fe=this.length),O>=R.length&&(O=R.length),O||(O=0),fe>0&&fe<ne&&(fe=ne),fe===ne||R.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),R.length-O<fe-ne&&(fe=R.length-O+ne);const xe=fe-ne;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(O,ne,fe):Uint8Array.prototype.set.call(R,this.subarray(ne,fe),O),xe},u.prototype.fill=function(R,O,ne,fe){if(typeof R=="string"){if(typeof O=="string"?(fe=O,O=0,ne=this.length):typeof ne=="string"&&(fe=ne,ne=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!u.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(R.length===1){const Ce=R.charCodeAt(0);(fe==="utf8"&&Ce<128||fe==="latin1")&&(R=Ce)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(O<0||this.length<O||this.length<ne)throw new RangeError("Out of range index");if(ne<=O)return this;O=O>>>0,ne=ne===void 0?this.length:ne>>>0,R||(R=0);let xe;if(typeof R=="number")for(xe=O;xe<ne;++xe)this[xe]=R;else{const Ce=u.isBuffer(R)?R:u.from(R,fe),dt=Ce.length;if(dt===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(xe=0;xe<ne-O;++xe)this[xe+O]=Ce[xe%dt]}return this};const Te={};function Oe(Y,R,O){Te[Y]=class extends O{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Y}]`,this.stack,delete this.name}get code(){return Y}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${Y}]: ${this.message}`}}}Oe("ERR_BUFFER_OUT_OF_BOUNDS",function(Y){return Y?`${Y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Oe("ERR_INVALID_ARG_TYPE",function(Y,R){return`The "${Y}" argument must be of type number. Received type ${typeof R}`},TypeError),Oe("ERR_OUT_OF_RANGE",function(Y,R,O){let ne=`The value of "${Y}" is out of range.`,fe=O;return Number.isInteger(O)&&Math.abs(O)>2**32?fe=He(String(O)):typeof O=="bigint"&&(fe=String(O),(O>BigInt(2)**BigInt(32)||O<-(BigInt(2)**BigInt(32)))&&(fe=He(fe)),fe+="n"),ne+=` It must be ${R}. Received ${fe}`,ne},RangeError);function He(Y){let R="",O=Y.length;const ne=Y[0]==="-"?1:0;for(;O>=ne+4;O-=3)R=`_${Y.slice(O-3,O)}${R}`;return`${Y.slice(0,O)}${R}`}function Qe(Y,R,O){at(R,"offset"),(Y[R]===void 0||Y[R+O]===void 0)&&F(R,Y.length-(O+1))}function ot(Y,R,O,ne,fe,xe){if(Y>O||Y<R){const Ce=typeof R=="bigint"?"n":"";let dt;throw R===0||R===BigInt(0)?dt=`>= 0${Ce} and < 2${Ce} ** ${(xe+1)*8}${Ce}`:dt=`>= -(2${Ce} ** ${(xe+1)*8-1}${Ce}) and < 2 ** ${(xe+1)*8-1}${Ce}`,new Te.ERR_OUT_OF_RANGE("value",dt,Y)}Qe(ne,fe,xe)}function at(Y,R){if(typeof Y!="number")throw new Te.ERR_INVALID_ARG_TYPE(R,"number",Y)}function F(Y,R,O){throw Math.floor(Y)!==Y?(at(Y,O),new Te.ERR_OUT_OF_RANGE("offset","an integer",Y)):R<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,Y)}const Ne=/[^+/0-9A-Za-z-_]/g;function be(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(Ne,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function se(Y,R){R=R||1/0;let O;const ne=Y.length;let fe=null;const xe=[];for(let Ce=0;Ce<ne;++Ce){if(O=Y.charCodeAt(Ce),O>55295&&O<57344){if(!fe){if(O>56319){(R-=3)>-1&&xe.push(239,191,189);continue}else if(Ce+1===ne){(R-=3)>-1&&xe.push(239,191,189);continue}fe=O;continue}if(O<56320){(R-=3)>-1&&xe.push(239,191,189),fe=O;continue}O=(fe-55296<<10|O-56320)+65536}else fe&&(R-=3)>-1&&xe.push(239,191,189);if(fe=null,O<128){if((R-=1)<0)break;xe.push(O)}else if(O<2048){if((R-=2)<0)break;xe.push(O>>6|192,O&63|128)}else if(O<65536){if((R-=3)<0)break;xe.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((R-=4)<0)break;xe.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return xe}function re(Y){const R=[];for(let O=0;O<Y.length;++O)R.push(Y.charCodeAt(O)&255);return R}function pe(Y,R){let O,ne,fe;const xe=[];for(let Ce=0;Ce<Y.length&&!((R-=2)<0);++Ce)O=Y.charCodeAt(Ce),ne=O>>8,fe=O%256,xe.push(fe),xe.push(ne);return xe}function Re(Y){return t.toByteArray(be(Y))}function je(Y,R,O,ne){let fe;for(fe=0;fe<ne&&!(fe+O>=R.length||fe>=Y.length);++fe)R[fe+O]=Y[fe];return fe}function me(Y,R){return Y instanceof R||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===R.name}function Be(Y){return Y!==Y}const qe=function(){const Y="0123456789abcdef",R=new Array(256);for(let O=0;O<16;++O){const ne=O*16;for(let fe=0;fe<16;++fe)R[ne+fe]=Y[O]+Y[fe]}return R}();function De(Y){return typeof BigInt>"u"?tt:Y}function tt(){throw new Error("BigInt not supported")}}(hy)),hy}var wj=vj();const _j=Xd(wj);globalThis.Buffer||(globalThis.Buffer=_j.Buffer);AbortSignal.any||(AbortSignal.any=function(e){if(e.length===0)return new AbortController().signal;if(e.length===1)return e[0];for(const r of e)if(r.aborted){const i=new AbortController;return i.abort(r.reason),i.signal}const t=new AbortController,n=r=>{const i=r.target;t.abort(i.reason)};for(const r of e)r.addEventListener("abort",n,{once:!0});return t.signal.addEventListener("abort",()=>{for(const r of e)r.removeEventListener("abort",n)},{once:!0}),t.signal});AbortSignal.timeout||(AbortSignal.timeout=function(e){const t=new AbortController;return setTimeout(()=>{t.abort(new DOMException("The operation was aborted due to timeout","TimeoutError"))},e),t.signal});var C=Fp();const Ls=Xd(C),B0=aj({__proto__:null,default:Ls},[C]);class xj extends C.Component{constructor(n){super(n);Ze(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n,r;return this.state.hasError?this.props.fallback?this.props.fallback:m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:m.jsxs("div",{className:"max-w-md w-full space-y-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),m.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. The error has been reported."})]}),m.jsx("div",{className:"bg-muted p-4 rounded-lg",children:m.jsxs("details",{className:"text-sm",children:[m.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Error details"}),m.jsxs("div",{className:"mt-2 space-y-2",children:[m.jsxs("div",{children:[m.jsx("strong",{className:"text-foreground",children:"Message:"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:(n=this.state.error)==null?void 0:n.message})]}),((r=this.state.error)==null?void 0:r.stack)&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-foreground",children:"Stack trace:"}),m.jsx("pre",{className:"text-xs text-muted-foreground mt-1 overflow-auto max-h-32",children:this.state.error.stack})]})]})]})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try again"}),m.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload page"})]})]})}):this.props.children}}var Qc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ol=typeof window>"u"||"Deno"in globalThis;function Jr(){}function bj(e,t){return typeof e=="function"?e(t):e}function bv(e){return typeof e=="number"&&e>=0&&e!==1/0}function j2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bc(e,t){return typeof e=="function"?e(t):e}function xi(e,t){return typeof e=="function"?e(t):e}function Pb(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==F0(l,t.options))return!1}else if(!Nd(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||s&&!s(t))}function Tb(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(sl(t.options.mutationKey)!==sl(s))return!1}else if(!Nd(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function F0(e,t){return((t==null?void 0:t.queryKeyHashFn)||sl)(e)}function sl(e){return JSON.stringify(e,(t,n)=>Ev(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Nd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Nd(e[n],t[n])):!1}function L2(e,t){if(e===t)return e;const n=Ab(e)&&Ab(t);if(n||Ev(e)&&Ev(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),l=s.length,u=n?[]:{};let d=0;for(let p=0;p<l;p++){const y=n?p:s[p];(!n&&r.includes(y)||n)&&e[y]===void 0&&t[y]===void 0?(u[y]=void 0,d++):(u[y]=L2(e[y],t[y]),u[y]===e[y]&&e[y]!==void 0&&d++)}return i===l&&d===i?e:u}return t}function cp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Ab(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ev(e){if(!Rb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Rb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Rb(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ej(e){return new Promise(t=>{setTimeout(t,e)})}function Sv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?L2(e,t):t}function Sj(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function kj(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var U0=Symbol();function O2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===U0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var qa,zs,Tc,_2,Cj=(_2=class extends Qc{constructor(){super();it(this,qa);it(this,zs);it(this,Tc);Ke(this,Tc,t=>{if(!ol&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,zs)||this.setEventListener(ue(this,Tc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,zs))==null||t.call(this),Ke(this,zs,void 0))}setEventListener(t){var n;Ke(this,Tc,t),(n=ue(this,zs))==null||n.call(this),Ke(this,zs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ue(this,qa)!==t&&(Ke(this,qa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ue(this,qa)=="boolean"?ue(this,qa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qa=new WeakMap,zs=new WeakMap,Tc=new WeakMap,_2),$0=new Cj,Ac,Ds,Rc,x2,Nj=(x2=class extends Qc{constructor(){super();it(this,Ac,!0);it(this,Ds);it(this,Rc);Ke(this,Rc,t=>{if(!ol&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ue(this,Ds)||this.setEventListener(ue(this,Rc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Ds))==null||t.call(this),Ke(this,Ds,void 0))}setEventListener(t){var n;Ke(this,Rc,t),(n=ue(this,Ds))==null||n.call(this),Ke(this,Ds,t(this.setOnline.bind(this)))}setOnline(t){ue(this,Ac)!==t&&(Ke(this,Ac,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ue(this,Ac)}},Ac=new WeakMap,Ds=new WeakMap,Rc=new WeakMap,x2),up=new Nj;function kv(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function Pj(e){return Math.min(1e3*2**e,3e4)}function M2(e){return(e??"online")==="online"?up.isOnline():!0}var z2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function py(e){return e instanceof z2}function D2(e){let t=!1,n=0,r=!1,i;const s=kv(),l=v=>{var E;r||(b(new z2(v)),(E=e.abort)==null||E.call(e))},u=()=>{t=!0},d=()=>{t=!1},p=()=>$0.isFocused()&&(e.networkMode==="always"||up.isOnline())&&e.canRun(),y=()=>M2(e.networkMode)&&e.canRun(),g=v=>{var E;r||(r=!0,(E=e.onSuccess)==null||E.call(e,v),i==null||i(),s.resolve(v))},b=v=>{var E;r||(r=!0,(E=e.onError)==null||E.call(e,v),i==null||i(),s.reject(v))},_=()=>new Promise(v=>{var E;i=k=>{(r||p())&&v(k)},(E=e.onPause)==null||E.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),S=()=>{if(r)return;let v;const E=n===0?e.initialPromise:void 0;try{v=E??e.fn()}catch(k){v=Promise.reject(k)}Promise.resolve(v).then(g).catch(k=>{var Z;if(r)return;const T=e.retry??(ol?0:3),A=e.retryDelay??Pj,z=typeof A=="function"?A(n,k):A,D=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,k);if(t||!D){b(k);return}n++,(Z=e.onFail)==null||Z.call(e,n,k),Ej(z).then(()=>p()?void 0:_()).then(()=>{t?b(k):S()})})};return{promise:s,cancel:l,continue:()=>(i==null||i(),s),cancelRetry:u,continueRetry:d,canStart:y,start:()=>(y()?S():_().then(S),s)}}var Tj=e=>setTimeout(e,0);function Aj(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=Tj;const s=u=>{t?e.push(u):i(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{s(()=>{u(...d)})},schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var xn=Aj(),Ka,b2,B2=(b2=class{constructor(){it(this,Ka)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bv(this.gcTime)&&Ke(this,Ka,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ol?1/0:5*60*1e3))}clearGcTimeout(){ue(this,Ka)&&(clearTimeout(ue(this,Ka)),Ke(this,Ka,void 0))}},Ka=new WeakMap,b2),Ic,jc,Yr,Ga,$n,qd,Ya,wi,ko,E2,Rj=(E2=class extends B2{constructor(t){super();it(this,wi);it(this,Ic);it(this,jc);it(this,Yr);it(this,Ga);it(this,$n);it(this,qd);it(this,Ya);Ke(this,Ya,!1),Ke(this,qd,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ke(this,Ga,t.client),Ke(this,Yr,ue(this,Ga).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ke(this,Ic,Ij(this.options)),this.state=t.state??ue(this,Ic),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,$n))==null?void 0:t.promise}setOptions(t){this.options={...ue(this,qd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,Yr).remove(this)}setData(t,n){const r=Sv(this.state.data,t,this.options);return vt(this,wi,ko).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){vt(this,wi,ko).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ue(this,$n))==null?void 0:r.promise;return(i=ue(this,$n))==null||i.cancel(t),n?n.then(Jr).catch(Jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,Ic))}isActive(){return this.observers.some(t=>xi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===U0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!j2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,$n))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,$n))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,Yr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ue(this,$n)&&(ue(this,Ya)?ue(this,$n).cancel({revert:!0}):ue(this,$n).cancelRetry()),this.scheduleGc()),ue(this,Yr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,wi,ko).call(this,{type:"invalidate"})}fetch(t,n){var d,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,$n))return ue(this,$n).continueRetry(),ue(this,$n).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(b=>b.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ke(this,Ya,!0),r.signal)})},s=()=>{const g=O2(this.options,n),b={client:ue(this,Ga),queryKey:this.queryKey,meta:this.meta};return i(b),Ke(this,Ya,!1),this.options.persister?this.options.persister(g,b,this):g(b)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,Ga),state:this.state,fetchFn:s};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),Ke(this,jc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=l.fetchOptions)==null?void 0:p.meta))&&vt(this,wi,ko).call(this,{type:"fetch",meta:(y=l.fetchOptions)==null?void 0:y.meta});const u=g=>{var b,_,S,v;py(g)&&g.silent||vt(this,wi,ko).call(this,{type:"error",error:g}),py(g)||((_=(b=ue(this,Yr).config).onError)==null||_.call(b,g,this),(v=(S=ue(this,Yr).config).onSettled)==null||v.call(S,this.state.data,g,this)),this.scheduleGc()};return Ke(this,$n,D2({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var b,_,S,v;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(E){u(E);return}(_=(b=ue(this,Yr).config).onSuccess)==null||_.call(b,g,this),(v=(S=ue(this,Yr).config).onSettled)==null||v.call(S,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,b)=>{vt(this,wi,ko).call(this,{type:"failed",failureCount:g,error:b})},onPause:()=>{vt(this,wi,ko).call(this,{type:"pause"})},onContinue:()=>{vt(this,wi,ko).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ue(this,$n).start()}},Ic=new WeakMap,jc=new WeakMap,Yr=new WeakMap,Ga=new WeakMap,$n=new WeakMap,qd=new WeakMap,Ya=new WeakMap,wi=new WeakSet,ko=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...F2(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return py(i)&&i.revert&&ue(this,jc)?{...ue(this,jc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),xn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ue(this,Yr).notify({query:this,type:"updated",action:t})})},E2);function F2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:M2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ij(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wi,S2,jj=(S2=class extends Qc{constructor(t={}){super();it(this,Wi);this.config=t,Ke(this,Wi,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??F0(i,n);let l=this.get(s);return l||(l=new Rj({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){ue(this,Wi).has(t.queryHash)||(ue(this,Wi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ue(this,Wi).get(t.queryHash);n&&(t.destroy(),n===t&&ue(this,Wi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,Wi).get(t)}getAll(){return[...ue(this,Wi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Pb(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Pb(t,r)):n}notify(t){xn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){xn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wi=new WeakMap,S2),Vi,tr,Ja,qi,Os,k2,Lj=(k2=class extends B2{constructor(t){super();it(this,qi);it(this,Vi);it(this,tr);it(this,Ja);this.mutationId=t.mutationId,Ke(this,tr,t.mutationCache),Ke(this,Vi,[]),this.state=t.state||U2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,Vi).includes(t)||(ue(this,Vi).push(t),this.clearGcTimeout(),ue(this,tr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ke(this,Vi,ue(this,Vi).filter(n=>n!==t)),this.scheduleGc(),ue(this,tr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,Vi).length||(this.state.status==="pending"?this.scheduleGc():ue(this,tr).remove(this))}continue(){var t;return((t=ue(this,Ja))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,u,d,p,y,g,b,_,S,v,E,k,T,A,z,D,Z,W,q;const n=()=>{vt(this,qi,Os).call(this,{type:"continue"})};Ke(this,Ja,D2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(U,V)=>{vt(this,qi,Os).call(this,{type:"failed",failureCount:U,error:V})},onPause:()=>{vt(this,qi,Os).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,tr).canRun(this)}));const r=this.state.status==="pending",i=!ue(this,Ja).canStart();try{if(r)n();else{vt(this,qi,Os).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(s=ue(this,tr).config).onMutate)==null?void 0:l.call(s,t,this));const V=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t));V!==this.state.context&&vt(this,qi,Os).call(this,{type:"pending",context:V,variables:t,isPaused:i})}const U=await ue(this,Ja).start();return await((y=(p=ue(this,tr).config).onSuccess)==null?void 0:y.call(p,U,t,this.state.context,this)),await((b=(g=this.options).onSuccess)==null?void 0:b.call(g,U,t,this.state.context)),await((S=(_=ue(this,tr).config).onSettled)==null?void 0:S.call(_,U,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,U,null,t,this.state.context)),vt(this,qi,Os).call(this,{type:"success",data:U}),U}catch(U){try{throw await((T=(k=ue(this,tr).config).onError)==null?void 0:T.call(k,U,t,this.state.context,this)),await((z=(A=this.options).onError)==null?void 0:z.call(A,U,t,this.state.context)),await((Z=(D=ue(this,tr).config).onSettled)==null?void 0:Z.call(D,void 0,U,this.state.variables,this.state.context,this)),await((q=(W=this.options).onSettled)==null?void 0:q.call(W,void 0,U,t,this.state.context)),U}finally{vt(this,qi,Os).call(this,{type:"error",error:U})}}finally{ue(this,tr).runNext(this)}}},Vi=new WeakMap,tr=new WeakMap,Ja=new WeakMap,qi=new WeakSet,Os=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),xn.batch(()=>{ue(this,Vi).forEach(r=>{r.onMutationUpdate(t)}),ue(this,tr).notify({mutation:this,type:"updated",action:t})})},k2);function U2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var No,_i,Kd,C2,Oj=(C2=class extends Qc{constructor(t={}){super();it(this,No);it(this,_i);it(this,Kd);this.config=t,Ke(this,No,new Set),Ke(this,_i,new Map),Ke(this,Kd,0)}build(t,n,r){const i=new Lj({mutationCache:this,mutationId:++Ih(this,Kd)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ue(this,No).add(t);const n=Mh(t);if(typeof n=="string"){const r=ue(this,_i).get(n);r?r.push(t):ue(this,_i).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,No).delete(t)){const n=Mh(t);if(typeof n=="string"){const r=ue(this,_i).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ue(this,_i).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Mh(t);if(typeof n=="string"){const r=ue(this,_i).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Mh(t);if(typeof n=="string"){const i=(r=ue(this,_i).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xn.batch(()=>{ue(this,No).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,No).clear(),ue(this,_i).clear()})}getAll(){return Array.from(ue(this,No))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Tb(n,r))}findAll(t={}){return this.getAll().filter(n=>Tb(t,n))}notify(t){xn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return xn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Jr))))}},No=new WeakMap,_i=new WeakMap,Kd=new WeakMap,C2);function Mh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ib(e){return{onFetch:(t,n)=>{var y,g,b,_,S;const r=t.options,i=(b=(g=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:g.fetchMore)==null?void 0:b.direction,s=((_=t.state.data)==null?void 0:_.pages)||[],l=((S=t.state.data)==null?void 0:S.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const p=async()=>{let v=!1;const E=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},k=O2(t.options,t.fetchOptions),T=async(A,z,D)=>{if(v)return Promise.reject();if(z==null&&A.pages.length)return Promise.resolve(A);const Z={client:t.client,queryKey:t.queryKey,pageParam:z,direction:D?"backward":"forward",meta:t.options.meta};E(Z);const W=await k(Z),{maxPages:q}=t.options,U=D?kj:Sj;return{pages:U(A.pages,W,q),pageParams:U(A.pageParams,z,q)}};if(i&&s.length){const A=i==="backward",z=A?Mj:jb,D={pages:s,pageParams:l},Z=z(r,D);u=await T(D,Z,A)}else{const A=e??s.length;do{const z=d===0?l[0]??r.initialPageParam:jb(r,u);if(d>0&&z==null)break;u=await T(u,z),d++}while(d<A)}return u};t.options.persister?t.fetchFn=()=>{var v,E;return(E=(v=t.options).persister)==null?void 0:E.call(v,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function jb(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Mj(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var an,Bs,Fs,Lc,Oc,Us,Mc,zc,N2,zj=(N2=class{constructor(e={}){it(this,an);it(this,Bs);it(this,Fs);it(this,Lc);it(this,Oc);it(this,Us);it(this,Mc);it(this,zc);Ke(this,an,e.queryCache||new jj),Ke(this,Bs,e.mutationCache||new Oj),Ke(this,Fs,e.defaultOptions||{}),Ke(this,Lc,new Map),Ke(this,Oc,new Map),Ke(this,Us,0)}mount(){Ih(this,Us)._++,ue(this,Us)===1&&(Ke(this,Mc,$0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,an).onFocus())})),Ke(this,zc,up.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,an).onOnline())})))}unmount(){var e,t;Ih(this,Us)._--,ue(this,Us)===0&&((e=ue(this,Mc))==null||e.call(this),Ke(this,Mc,void 0),(t=ue(this,zc))==null||t.call(this),Ke(this,zc,void 0))}isFetching(e){return ue(this,an).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,Bs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,an).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ue(this,an).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(bc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ue(this,an).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ue(this,an).get(r.queryHash),s=i==null?void 0:i.state.data,l=bj(t,s);if(l!==void 0)return ue(this,an).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return xn.batch(()=>ue(this,an).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,an).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ue(this,an);xn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ue(this,an);return xn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=xn.batch(()=>ue(this,an).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Jr).catch(Jr)}invalidateQueries(e,t={}){return xn.batch(()=>(ue(this,an).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=xn.batch(()=>ue(this,an).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Jr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Jr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ue(this,an).build(this,t);return n.isStaleByTime(bc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Jr).catch(Jr)}fetchInfiniteQuery(e){return e.behavior=Ib(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Jr).catch(Jr)}ensureInfiniteQueryData(e){return e.behavior=Ib(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return up.isOnline()?ue(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,an)}getMutationCache(){return ue(this,Bs)}getDefaultOptions(){return ue(this,Fs)}setDefaultOptions(e){Ke(this,Fs,e)}setQueryDefaults(e,t){ue(this,Lc).set(sl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,Lc).values()],n={};return t.forEach(r=>{Nd(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ue(this,Oc).set(sl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,Oc).values()],n={};return t.forEach(r=>{Nd(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,Fs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=F0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===U0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,Fs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,an).clear(),ue(this,Bs).clear()}},an=new WeakMap,Bs=new WeakMap,Fs=new WeakMap,Lc=new WeakMap,Oc=new WeakMap,Us=new WeakMap,Mc=new WeakMap,zc=new WeakMap,N2),hr,Tt,Gd,nr,Qa,Dc,$s,Hs,Yd,Bc,Fc,Xa,el,Zs,Uc,zt,gd,Cv,Nv,Pv,Tv,Av,Rv,Iv,$2,P2,Dj=(P2=class extends Qc{constructor(t,n){super();it(this,zt);it(this,hr);it(this,Tt);it(this,Gd);it(this,nr);it(this,Qa);it(this,Dc);it(this,$s);it(this,Hs);it(this,Yd);it(this,Bc);it(this,Fc);it(this,Xa);it(this,el);it(this,Zs);it(this,Uc,new Set);this.options=n,Ke(this,hr,t),Ke(this,Hs,null),Ke(this,$s,kv()),this.options.experimental_prefetchInRender||ue(this,$s).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,Tt).addObserver(this),Lb(ue(this,Tt),this.options)?vt(this,zt,gd).call(this):this.updateResult(),vt(this,zt,Tv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jv(ue(this,Tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jv(ue(this,Tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,vt(this,zt,Av).call(this),vt(this,zt,Rv).call(this),ue(this,Tt).removeObserver(this)}setOptions(t){const n=this.options,r=ue(this,Tt);if(this.options=ue(this,hr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xi(this.options.enabled,ue(this,Tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");vt(this,zt,Iv).call(this),ue(this,Tt).setOptions(this.options),n._defaulted&&!cp(this.options,n)&&ue(this,hr).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,Tt),observer:this});const i=this.hasListeners();i&&Ob(ue(this,Tt),r,this.options,n)&&vt(this,zt,gd).call(this),this.updateResult(),i&&(ue(this,Tt)!==r||xi(this.options.enabled,ue(this,Tt))!==xi(n.enabled,ue(this,Tt))||bc(this.options.staleTime,ue(this,Tt))!==bc(n.staleTime,ue(this,Tt)))&&vt(this,zt,Cv).call(this);const s=vt(this,zt,Nv).call(this);i&&(ue(this,Tt)!==r||xi(this.options.enabled,ue(this,Tt))!==xi(n.enabled,ue(this,Tt))||s!==ue(this,Zs))&&vt(this,zt,Pv).call(this,s)}getOptimisticResult(t){const n=ue(this,hr).getQueryCache().build(ue(this,hr),t),r=this.createResult(n,t);return Fj(this,r)&&(Ke(this,nr,r),Ke(this,Dc,this.options),Ke(this,Qa,ue(this,Tt).state)),r}getCurrentResult(){return ue(this,nr)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(t){ue(this,Uc).add(t)}getCurrentQuery(){return ue(this,Tt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ue(this,hr).defaultQueryOptions(t),r=ue(this,hr).getQueryCache().build(ue(this,hr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return vt(this,zt,gd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,nr)))}createResult(t,n){var U;const r=ue(this,Tt),i=this.options,s=ue(this,nr),l=ue(this,Qa),u=ue(this,Dc),p=t!==r?t.state:ue(this,Gd),{state:y}=t;let g={...y},b=!1,_;if(n._optimisticResults){const V=this.hasListeners(),$=!V&&Lb(t,n),B=V&&Ob(t,r,n,i);($||B)&&(g={...g,...F2(y.data,t.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:S,errorUpdatedAt:v,status:E}=g;_=g.data;let k=!1;if(n.placeholderData!==void 0&&_===void 0&&E==="pending"){let V;s!=null&&s.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(V=s.data,k=!0):V=typeof n.placeholderData=="function"?n.placeholderData((U=ue(this,Fc))==null?void 0:U.state.data,ue(this,Fc)):n.placeholderData,V!==void 0&&(E="success",_=Sv(s==null?void 0:s.data,V,n),b=!0)}if(n.select&&_!==void 0&&!k)if(s&&_===(l==null?void 0:l.data)&&n.select===ue(this,Yd))_=ue(this,Bc);else try{Ke(this,Yd,n.select),_=n.select(_),_=Sv(s==null?void 0:s.data,_,n),Ke(this,Bc,_),Ke(this,Hs,null)}catch(V){Ke(this,Hs,V)}ue(this,Hs)&&(S=ue(this,Hs),_=ue(this,Bc),v=Date.now(),E="error");const T=g.fetchStatus==="fetching",A=E==="pending",z=E==="error",D=A&&T,Z=_!==void 0,q={status:E,fetchStatus:g.fetchStatus,isPending:A,isSuccess:E==="success",isError:z,isInitialLoading:D,isLoading:D,data:_,dataUpdatedAt:g.dataUpdatedAt,error:S,errorUpdatedAt:v,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:T,isRefetching:T&&!A,isLoadingError:z&&!Z,isPaused:g.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:z&&Z,isStale:H0(t,n),refetch:this.refetch,promise:ue(this,$s)};if(this.options.experimental_prefetchInRender){const V=X=>{q.status==="error"?X.reject(q.error):q.data!==void 0&&X.resolve(q.data)},$=()=>{const X=Ke(this,$s,q.promise=kv());V(X)},B=ue(this,$s);switch(B.status){case"pending":t.queryHash===r.queryHash&&V(B);break;case"fulfilled":(q.status==="error"||q.data!==B.value)&&$();break;case"rejected":(q.status!=="error"||q.error!==B.reason)&&$();break}}return q}updateResult(){const t=ue(this,nr),n=this.createResult(ue(this,Tt),this.options);if(Ke(this,Qa,ue(this,Tt).state),Ke(this,Dc,this.options),ue(this,Qa).data!==void 0&&Ke(this,Fc,ue(this,Tt)),cp(n,t))return;Ke(this,nr,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ue(this,Uc).size)return!0;const l=new Set(s??ue(this,Uc));return this.options.throwOnError&&l.add("error"),Object.keys(ue(this,nr)).some(u=>{const d=u;return ue(this,nr)[d]!==t[d]&&l.has(d)})};vt(this,zt,$2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&vt(this,zt,Tv).call(this)}},hr=new WeakMap,Tt=new WeakMap,Gd=new WeakMap,nr=new WeakMap,Qa=new WeakMap,Dc=new WeakMap,$s=new WeakMap,Hs=new WeakMap,Yd=new WeakMap,Bc=new WeakMap,Fc=new WeakMap,Xa=new WeakMap,el=new WeakMap,Zs=new WeakMap,Uc=new WeakMap,zt=new WeakSet,gd=function(t){vt(this,zt,Iv).call(this);let n=ue(this,Tt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Jr)),n},Cv=function(){vt(this,zt,Av).call(this);const t=bc(this.options.staleTime,ue(this,Tt));if(ol||ue(this,nr).isStale||!bv(t))return;const r=j2(ue(this,nr).dataUpdatedAt,t)+1;Ke(this,Xa,setTimeout(()=>{ue(this,nr).isStale||this.updateResult()},r))},Nv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,Tt)):this.options.refetchInterval)??!1},Pv=function(t){vt(this,zt,Rv).call(this),Ke(this,Zs,t),!(ol||xi(this.options.enabled,ue(this,Tt))===!1||!bv(ue(this,Zs))||ue(this,Zs)===0)&&Ke(this,el,setInterval(()=>{(this.options.refetchIntervalInBackground||$0.isFocused())&&vt(this,zt,gd).call(this)},ue(this,Zs)))},Tv=function(){vt(this,zt,Cv).call(this),vt(this,zt,Pv).call(this,vt(this,zt,Nv).call(this))},Av=function(){ue(this,Xa)&&(clearTimeout(ue(this,Xa)),Ke(this,Xa,void 0))},Rv=function(){ue(this,el)&&(clearInterval(ue(this,el)),Ke(this,el,void 0))},Iv=function(){const t=ue(this,hr).getQueryCache().build(ue(this,hr),this.options);if(t===ue(this,Tt))return;const n=ue(this,Tt);Ke(this,Tt,t),Ke(this,Gd,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},$2=function(t){xn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ue(this,nr))}),ue(this,hr).getQueryCache().notify({query:ue(this,Tt),type:"observerResultsUpdated"})})},P2);function Bj(e,t){return xi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Lb(e,t){return Bj(e,t)||e.state.data!==void 0&&jv(e,t,t.refetchOnMount)}function jv(e,t,n){if(xi(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&H0(e,t)}return!1}function Ob(e,t,n,r){return(e!==t||xi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&H0(e,n)}function H0(e,t){return xi(t.enabled,e)!==!1&&e.isStaleByTime(bc(t.staleTime,e))}function Fj(e,t){return!cp(e.getCurrentResult(),t)}var Ws,Vs,pr,Po,zo,tp,Lv,T2,Uj=(T2=class extends Qc{constructor(n,r){super();it(this,zo);it(this,Ws);it(this,Vs);it(this,pr);it(this,Po);Ke(this,Ws,n),this.setOptions(r),this.bindMethods(),vt(this,zo,tp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ue(this,Ws).defaultMutationOptions(n),cp(this.options,r)||ue(this,Ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,pr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&sl(r.mutationKey)!==sl(this.options.mutationKey)?this.reset():((i=ue(this,pr))==null?void 0:i.state.status)==="pending"&&ue(this,pr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,pr))==null||n.removeObserver(this)}onMutationUpdate(n){vt(this,zo,tp).call(this),vt(this,zo,Lv).call(this,n)}getCurrentResult(){return ue(this,Vs)}reset(){var n;(n=ue(this,pr))==null||n.removeObserver(this),Ke(this,pr,void 0),vt(this,zo,tp).call(this),vt(this,zo,Lv).call(this)}mutate(n,r){var i;return Ke(this,Po,r),(i=ue(this,pr))==null||i.removeObserver(this),Ke(this,pr,ue(this,Ws).getMutationCache().build(ue(this,Ws),this.options)),ue(this,pr).addObserver(this),ue(this,pr).execute(n)}},Ws=new WeakMap,Vs=new WeakMap,pr=new WeakMap,Po=new WeakMap,zo=new WeakSet,tp=function(){var r;const n=((r=ue(this,pr))==null?void 0:r.state)??U2();Ke(this,Vs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Lv=function(n){xn.batch(()=>{var r,i,s,l,u,d,p,y;if(ue(this,Po)&&this.hasListeners()){const g=ue(this,Vs).variables,b=ue(this,Vs).context;(n==null?void 0:n.type)==="success"?((i=(r=ue(this,Po)).onSuccess)==null||i.call(r,n.data,g,b),(l=(s=ue(this,Po)).onSettled)==null||l.call(s,n.data,null,g,b)):(n==null?void 0:n.type)==="error"&&((d=(u=ue(this,Po)).onError)==null||d.call(u,n.error,g,b),(y=(p=ue(this,Po)).onSettled)==null||y.call(p,void 0,n.error,g,b))}this.listeners.forEach(g=>{g(ue(this,Vs))})})},T2),H2=C.createContext(void 0),Z0=e=>{const t=C.useContext(H2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$j=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),m.jsx(H2.Provider,{value:e,children:t})),Z2=C.createContext(!1),Hj=()=>C.useContext(Z2);Z2.Provider;function Zj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Wj=C.createContext(Zj()),Vj=()=>C.useContext(Wj);function W2(e,t){return typeof e=="function"?e(...t):!!e}function Ov(){}var qj=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Kj=e=>{C.useEffect(()=>{e.clearReset()},[e])},Gj=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||W2(n,[e.error,r])),Yj=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Jj=(e,t)=>e.isLoading&&e.isFetching&&!t,Qj=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Mb=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Xj(e,t,n){var g,b,_,S,v;const r=Z0(),i=Hj(),s=Vj(),l=r.defaultQueryOptions(e);(b=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||b.call(g,l),l._optimisticResults=i?"isRestoring":"optimistic",Yj(l),qj(l,s),Kj(s);const u=!r.getQueryCache().get(l.queryHash),[d]=C.useState(()=>new t(r,l)),p=d.getOptimisticResult(l),y=!i&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(E=>{const k=y?d.subscribe(xn.batchCalls(E)):Ov;return d.updateResult(),k},[d,y]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),C.useEffect(()=>{d.setOptions(l)},[l,d]),Qj(l,p))throw Mb(l,d,s);if(Gj({result:p,errorResetBoundary:s,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw p.error;if((S=(_=r.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||S.call(_,l,p),l.experimental_prefetchInRender&&!ol&&Jj(p,i)){const E=u?Mb(l,d,s):(v=r.getQueryCache().get(l.queryHash))==null?void 0:v.promise;E==null||E.catch(Ov).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?p:d.trackResult(p)}function Gi(e,t){return Xj(e,Dj)}function W0(e,t){const n=Z0(),[r]=C.useState(()=>new Uj(n,e));C.useEffect(()=>{r.setOptions(e)},[r,e]);const i=C.useSyncExternalStore(C.useCallback(l=>r.subscribe(xn.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=C.useCallback((l,u)=>{r.mutate(l,u).catch(Ov)},[r]);if(i.error&&W2(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function Mv(e,t={},n){for(const r in e){const i=e[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Mv(i,t,s):typeof i=="function"&&(t[s]=i)}return t}const e3={run:e=>e()},t3=()=>e3,V2=typeof console.createTask<"u"?console.createTask:t3;function n3(e,t){const n=t.shift(),r=V2(n);return e.reduce((i,s)=>i.then(()=>r.run(()=>s(...t))),Promise.resolve())}function r3(e,t){const n=t.shift(),r=V2(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function my(e,t){for(const n of[...e])n(t)}class i3{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!r.allowDeprecated){let l=s.message;l||(l=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(l)||(console.warn(l),this._deprecatedMessages.add(l))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Mv(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=Mv(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(n3,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(r3,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&my(this._before,i);const s=t(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&my(this._after,i)}):(this._after&&i&&my(this._after,i),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function o3(){return new i3}const s3=new Set(["link","style","script","noscript"]),a3=new Set(["title","titleTemplate","script","style","noscript"]),zb=new Set(["base","meta","link","style","script","noscript"]),l3=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),c3=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),u3=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),d3=new Set(["templateParams","htmlAttrs","bodyAttrs"]),V0=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),f3=["name","property","http-equiv"];function q2(e){const t=e.split(":");return t.length?V0.has(t[1]):!1}function zv(e){const{props:t,tag:n}=e;if(c3.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of f3)if(t[r]!==void 0)return`${n}:${t[r]}`}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(a3.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function Db(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,i])=>`${r}:${String(i)}`).join(",")}`}function Dv(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let i;if(t&&(i=t(n,e)),Array.isArray(i))return i.map(s=>Dv(s,t));if((i==null?void 0:i.constructor)===Object){const s={};for(const l of Object.keys(i))s[l]=Dv(i[l],t,l);return s}return i}function h3(e,t){const n=e==="style"?new Map:new Set;function r(i){const s=i.trim();if(s)if(e==="style"){const[l,...u]=s.split(":").map(d=>d.trim());l&&u.length&&n.set(l,u.join(":"))}else s.split(" ").filter(Boolean).forEach(l=>n.add(l))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(i=>r(i)):t&&typeof t=="object"&&Object.entries(t).forEach(([i,s])=>{s&&s!=="false"&&(e==="style"?n.set(i.trim(),s):r(i))}),n}function K2(e,t){return e.props=e.props||{},t&&Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=h3(n,r);return}if(u3.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let l=t.type;if(t.type||(l="application/json"),!(l!=null&&l.endsWith("json"))&&l!=="speculationrules")return;t.type=l,e.props.type=l,e[n]=JSON.stringify(r)}else e[n]=r;return}const i=String(r),s=n.startsWith("data-");i==="true"||i===""?e.props[n]=s?i:!0:!r&&s&&i==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e}function p3(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=K2({tag:e,props:{}},n);return r.key&&s3.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(i=>({...r,props:{...r.props,content:i}})):r}function m3(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(i,s)=>{for(let l=0;l<t.length;l++)s=t[l](i,s);return s};e=n(void 0,e);const r=[];return e=Dv(e,n),Object.entries(e||{}).forEach(([i,s])=>{if(s!==void 0)for(const l of Array.isArray(s)?s:[s])r.push(p3(i,l))}),r.flat()}const Bb=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,Fb={base:-10,title:10},g3={critical:-8,high:-1,low:2},Ub={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},y3=/@import/,cd=e=>e===""||e===!0;function v3(e,t){var s;if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=g3[t.tagPriority]||0,i=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Ub;if(t.tag in Fb)n=Fb[t.tag];else if(t.tag==="meta"){const l=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;l&&(n=Ub.meta[l])}else t.tag==="link"&&t.props.rel?n=i.link[t.props.rel]:t.tag==="script"?cd(t.props.async)?n=i.script.async:t.props.src&&!cd(t.props.defer)&&!cd(t.props.async)&&t.props.type!=="module"&&!((s=t.props.type)!=null&&s.endsWith("json"))?n=i.script.sync:cd(t.props.defer)&&t.props.src&&!cd(t.props.async)&&(n=i.script.defer):t.tag==="style"&&(n=t.innerHTML&&y3.test(t.innerHTML)?i.style.imported:i.style.sync);return(n||100)+r}function $b(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function w3(e={}){var u;const t=o3();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,i=new Map,s=[],l={_entryCount:1,plugins:i,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:d=>$b(l,d),push(d,p){const y={...p||{}};delete y.head;const g=y._index??l._entryCount++,b={_i:g,input:d,options:y},_={_poll(S=!1){l.dirty=!0,!S&&s.push(g),t.callHook("entries:updated",l)},dispose(){r.delete(g)&&_._poll(!0)},patch(S){(!y.mode||y.mode==="server"&&n||y.mode==="client"&&!n)&&(b.input=S,r.set(g,b),_._poll())}};return _.patch(d),_},async resolveTags(){var _;const d={tagMap:new Map,tags:[],entries:[...l.entries.values()]};for(await t.callHook("entries:resolve",d);s.length;){const S=s.shift(),v=r.get(S);if(v){const E={tags:m3(v.input,e.propResolvers||[]).map(k=>Object.assign(k,v.options)),entry:v};await t.callHook("entries:normalize",E),v._tags=E.tags.map((k,T)=>(k._w=v3(l,k),k._p=(v._i<<10)+T,k._d=zv(k),k))}}let p=!1;d.entries.flatMap(S=>(S._tags||[]).map(v=>({...v,props:{...v.props}}))).sort(Bb).reduce((S,v)=>{const E=String(v._d||v._p);if(!S.has(E))return S.set(E,v);const k=S.get(E);if(((v==null?void 0:v.tagDuplicateStrategy)||(d3.has(v.tag)?"merge":null)||(v.key&&v.key===k.key?"merge":null))==="merge"){const A={...k.props};Object.entries(v.props).forEach(([z,D])=>A[z]=z==="style"?new Map([...k.props.style||new Map,...D]):z==="class"?new Set([...k.props.class||new Set,...D]):D),S.set(E,{...v,props:A})}else v._p>>10===k._p>>10&&v.tag==="meta"&&q2(E)?(S.set(E,Object.assign([...Array.isArray(k)?k:[k],v],v)),p=!0):(v._w===k._w?v._p>k._p:(v==null?void 0:v._w)<(k==null?void 0:k._w))&&S.set(E,v);return S},d.tagMap);const y=d.tagMap.get("title"),g=d.tagMap.get("titleTemplate");if(l._title=y==null?void 0:y.textContent,g){const S=g==null?void 0:g.textContent;if(l._titleTemplate=S,S){let v=typeof S=="function"?S(y==null?void 0:y.textContent):S;typeof v=="string"&&!l.plugins.has("template-params")&&(v=v.replace("%s",(y==null?void 0:y.textContent)||"")),y?v===null?d.tagMap.delete("title"):d.tagMap.set("title",{...y,textContent:v}):(g.tag="title",g.textContent=v)}}d.tags=Array.from(d.tagMap.values()),p&&(d.tags=d.tags.flat().sort(Bb)),await t.callHook("tags:beforeResolve",d),await t.callHook("tags:resolve",d),await t.callHook("tags:afterResolve",d);const b=[];for(const S of d.tags){const{innerHTML:v,tag:E,props:k}=S;if(l3.has(E)&&!(Object.keys(k).length===0&&!S.innerHTML&&!S.textContent)&&!(E==="meta"&&!k.content&&!k["http-equiv"]&&!k.charset)){if(E==="script"&&v){if((_=k.type)!=null&&_.endsWith("json")){const T=typeof v=="string"?v:JSON.stringify(v);S.innerHTML=T.replace(/</g,"\\u003C")}else typeof v=="string"&&(S.innerHTML=v.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));S._d=zv(S)}b.push(S)}}return b}};return((e==null?void 0:e.plugins)||[]).forEach(d=>$b(l,d)),l.hooks.callHook("init",l),(u=e.init)==null||u.forEach(d=>d&&l.push(d)),l}async function G2(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async i=>{var _;const s=new Map,l=new Promise(S=>{e.resolveTags().then(v=>{S(v.map(E=>{const k=s.get(E._d)||0,T={tag:E,id:(k?`${E._d}:${k}`:E._d)||Db(E),shouldRender:!0};return E._d&&q2(E._d)&&s.set(E._d,k+1),T}))})});let u=e._dom;if(!u){u={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const S of["body","head"]){const v=(_=n[S])==null?void 0:_.children;for(const E of v){const k=E.tagName.toLowerCase();if(!zb.has(k))continue;const T=K2({tag:k,props:{}},{innerHTML:E.innerHTML,...E.getAttributeNames().reduce((A,z)=>(A[z]=E.getAttribute(z),A),{})||{}});if(T.key=E.getAttribute("data-hid")||void 0,T._d=zv(T)||Db(T),u.elMap.has(T._d)){let A=1,z=T._d;for(;u.elMap.has(z);)z=`${T._d}:${A++}`;u.elMap.set(z,E)}else u.elMap.set(T._d,E)}}}u.pendingSideEffects={...u.sideEffects},u.sideEffects={};function d(S,v,E){const k=`${S}:${v}`;u.sideEffects[k]=E,delete u.pendingSideEffects[k]}function p({id:S,$el:v,tag:E}){const k=E.tag.endsWith("Attrs");u.elMap.set(S,v),k||(E.textContent&&E.textContent!==v.textContent&&(v.textContent=E.textContent),E.innerHTML&&E.innerHTML!==v.innerHTML&&(v.innerHTML=E.innerHTML),d(S,"el",()=>{v==null||v.remove(),u.elMap.delete(S)}));for(const T in E.props){if(!Object.prototype.hasOwnProperty.call(E.props,T))continue;const A=E.props[T];if(T.startsWith("on")&&typeof A=="function"){const D=v==null?void 0:v.dataset;if(D&&D[`${T}fired`]){const Z=T.slice(0,-5);A.call(v,new Event(Z.substring(2)))}v.getAttribute(`data-${T}`)!==""&&((E.tag==="bodyAttrs"?n.defaultView:v).addEventListener(T.substring(2),A.bind(v)),v.setAttribute(`data-${T}`,""));continue}const z=`attr:${T}`;if(T==="class"){if(!A)continue;for(const D of A)k&&d(S,`${z}:${D}`,()=>v.classList.remove(D)),!v.classList.contains(D)&&v.classList.add(D)}else if(T==="style"){if(!A)continue;for(const[D,Z]of A)d(S,`${z}:${D}`,()=>{v.style.removeProperty(D)}),v.style.setProperty(D,Z)}else A!==!1&&A!==null&&(v.getAttribute(T)!==A&&v.setAttribute(T,A===!0?"":String(A)),k&&d(S,z,()=>v.removeAttribute(T)))}}const y=[],g={bodyClose:void 0,bodyOpen:void 0,head:void 0},b=await l;for(const S of b){const{tag:v,shouldRender:E,id:k}=S;if(E){if(v.tag==="title"){n.title=v.textContent,d("title","",()=>n.title=u.title);continue}S.$el=S.$el||u.elMap.get(k),S.$el?p(S):zb.has(v.tag)&&y.push(S)}}for(const S of y){const v=S.tag.tagPosition||"head";S.$el=n.createElement(S.tag.tag),p(S),g[v]=g[v]||n.createDocumentFragment(),g[v].appendChild(S.$el)}for(const S of b)await e.hooks.callHook("dom:renderTag",S,n,d);g.head&&n.head.appendChild(g.head),g.bodyOpen&&n.body.insertBefore(g.bodyOpen,n.body.firstChild),g.bodyClose&&n.body.appendChild(g.bodyClose);for(const S in u.pendingSideEffects)u.pendingSideEffects[S]();e._dom=u,await e.hooks.callHook("dom:rendered",{renders:b}),i()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function _3(e={}){var r,i,s;const t=((r=e.domOptions)==null?void 0:r.render)||G2;e.document=e.document||(typeof window<"u"?document:void 0);const n=((s=(i=e.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:s.innerHTML)||!1;return w3({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function x3(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}const Y2=C.createContext(null);function J2(e={}){const t=_3({domOptions:{render:x3(()=>G2(t),n=>setTimeout(n,0))},...e});return t}function b3({children:e,head:t}){return C.createElement(Y2.Provider,{value:t||J2()},e)}const Pd={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},E3={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},Q2={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>`${Io(e)}=${t}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:e,value:t})=>e==="seconds"?`${t}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>typeof t=="boolean"?Io(e):`${Io(e)}:${t}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:e,value:t})=>`${Io(e)} ${t}`}},charset:{}};function Io(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t.indexOf("-");return n===-1?t:Pd.META.has(t.slice(0,n))||Pd.OG.has(t.slice(0,n))?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function X2(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>String(n)!=="false"&&t))}function Bv(e){return Array.isArray(e)?e.map(Bv):!e||typeof e!="object"?e:Object.fromEntries(Object.entries(e).map(([t,n])=>[Io(t),Bv(n)]))}function eS(e,t={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:i,resolve:s}=t;return Object.entries(e).map(([l,u])=>{if(s){const p=s({key:l,value:u});if(p!==void 0)return p}const d=typeof u=="object"?eS(u,t):typeof u=="number"?u.toString():typeof u=="string"&&i?`${i}${u.replace(new RegExp(i,"g"),`\\${i}`)}${i}`:u;return`${l}${r}${d}`}).join(n)}function Hb(e,t){const n=X2(t),r=Io(e),i=tS(r);if(!V0.has(r))return[{[i]:r,...n}];const s=Object.fromEntries(Object.entries(n).map(([l,u])=>[`${e}${l==="url"?"":`${l[0].toUpperCase()}${l.slice(1)}`}`,u]));return dp(s||{}).sort((l,u)=>{var d,p;return(((d=l[i])==null?void 0:d.length)||0)-(((p=u[i])==null?void 0:p.length)||0)})}function tS(e){var r;if(((r=Q2[e])==null?void 0:r.metaKey)==="http-equiv"||Pd.HTTP_EQUIV.has(e))return"http-equiv";const t=Io(e),n=t.indexOf(":");return n===-1?"name":Pd.OG.has(t.slice(0,n))?"property":"name"}function S3(e){return E3[e]||Io(e)}function k3(e,t){var n;return t==="refresh"?`${e.seconds};url=${e.url}`:eS(Bv(e),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:i})=>r===null?"":typeof r=="boolean"?i:void 0,...(n=Q2[t])==null?void 0:n.unpack})}function dp(e){const t=[],n={};for(const[i,s]of Object.entries(e)){if(Array.isArray(s)){if(i==="themeColor"){s.forEach(l=>{typeof l=="object"&&l!==null&&t.push({name:"theme-color",...l})});continue}for(const l of s)if(typeof l=="object"&&l!==null){const u=[],d=[];for(const[p,y]of Object.entries(l)){const g=`${i}${p==="url"?"":`:${p}`}`,b=dp({[g]:y});(p==="url"?u:d).push(...b)}t.push(...u,...d)}else t.push(...typeof l=="string"?dp({[i]:l}):Hb(i,l));continue}if(typeof s=="object"&&s)if(Pd.MEDIA.has(i)){const l=i.startsWith("twitter")?"twitter":"og",u=i.replace(/^(og|twitter)/,"").toLowerCase(),d=l==="twitter"?"name":"property";s.url&&t.push({[d]:`${l}:${u}`,content:s.url}),s.secureUrl&&t.push({[d]:`${l}:${u}:secure_url`,content:s.secureUrl});for(const[p,y]of Object.entries(s))p!=="url"&&p!=="secureUrl"&&t.push({[d]:`${l}:${u}:${p}`,content:y})}else V0.has(Io(i))?t.push(...Hb(i,s)):n[i]=X2(s);else n[i]=s}const r=Object.entries(n).map(([i,s])=>{if(i==="charset")return{charset:s===null?"_null":s};const l=tS(i),u=S3(i),d=s===null?"_null":typeof s=="object"?k3(s,i):typeof s=="number"?s.toString():s;return l==="http-equiv"?{"http-equiv":u,content:d}:{[l]:u,content:d}});return[...t,...r].map(i=>"content"in i&&i.content==="_null"?{...i,content:null}:i)}const C3={key:"flatMeta",hooks:{"entries:normalize":e=>{const t=[];e.tags=e.tags.map(n=>n.tag!=="_flatMeta"?n:(t.push(dp(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...t)}}};function N3(e={}){return t=>(t.push({meta:[{name:"twitter:card",content:e.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:n})=>{var u,d;let r=t._titleTemplate||t._title;const i=n.get("meta:og:title");typeof(i==null?void 0:i.props["data-infer"])<"u"&&(typeof r=="function"&&(r=r(t._title)),i.props.content=e.ogTitle?e.ogTitle(r):r||"",i.processTemplateParams=!0);const s=(d=(u=n.get("meta:description"))==null?void 0:u.props)==null?void 0:d.content,l=n.get("meta:og:description");typeof(l==null?void 0:l.props["data-infer"])<"u"&&(l.props.content=e.ogDescription?e.ogDescription(s):s||"",l.processTemplateParams=!0)}}})}class Ed{constructor(t){Ze(this,"pubkey");Ze(this,"relays");Ze(this,"secret");const n=new URL(t),r=new URLSearchParams(n.search),i=n.hostname||n.pathname.slice(2),s=r.getAll("relay"),l=r.get("secret")??void 0;if(!i)throw new Error("Invalid bunker URI");this.pubkey=i,this.relays=s,this.secret=l}get href(){return this.toString()}toString(){return Ed.toString(this)}static fromJSON(t){const n=Ed.toString(t);return new Ed(n)}static toString(t){const n=new URLSearchParams;for(const r of t.relays)n.append("relay",r);return t.secret&&n.set("secret",t.secret),`bunker://${t.pubkey}?${n.toString()}`}}class P3{get nostr(){const t=globalThis.nostr;if(!t)throw new Error("Browser extension not available");return t}async getPublicKey(){const t=await this.nostr.getPublicKey();if(typeof t!="string")throw new Error(`Nostr public key retrieval failed: expected string, got ${JSON.stringify(t)}`);return t}async signEvent(t){const n=await this.nostr.signEvent(t);if(typeof n!="object"||!n.id||!n.pubkey||!n.sig)throw new Error(`Nostr event signing failed: expected object with id, pubkey, and sig, got ${JSON.stringify(n)}`);return n}async getRelays(){if(!this.nostr.getRelays)return{};const t=await this.nostr.getRelays();if(typeof t!="object"||t===null)throw new Error(`Nostr getRelays failed: expected object, got ${JSON.stringify(t)}`);return this.nostr.getRelays()}get nip04(){const t=this.nostr;if(t.nip04)return{encrypt:async(n,r)=>{const i=await t.nip04.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip04.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}get nip44(){const t=this.nostr;if(t.nip44)return{encrypt:async(n,r)=>{const i=await t.nip44.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip44.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}}function Zb(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function nS(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function T3(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Zb(e.outputLen),Zb(e.blockLen)}function fp(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function A3(e,t){nS(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const gy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rS=e=>e instanceof Uint8Array,yy=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Di=(e,t)=>e<<32-t|e>>>t,R3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!R3)throw new Error("Non little-endian hardware is not supported");function I3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function q0(e){if(typeof e=="string"&&(e=I3(e)),!rS(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function j3(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!rS(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let iS=class{clone(){return this._cloneInto()}};function L3(e){const t=r=>e().update(q0(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function oS(e=32){if(gy&&typeof gy.getRandomValues=="function")return gy.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function O3(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(n>>i&s),u=Number(n&s),d=r?4:0,p=r?0:4;e.setUint32(t+d,l,r),e.setUint32(t+p,u,r)}let M3=class extends iS{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=yy(this.buffer)}update(t){fp(this);const{view:n,buffer:r,blockLen:i}=this;t=q0(t);const s=t.length;for(let l=0;l<s;){const u=Math.min(i-this.pos,s-l);if(u===i){const d=yy(t);for(;i<=s-l;l+=i)this.process(d,l);continue}r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){fp(this),A3(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let g=l;g<i;g++)n[g]=0;O3(r,i-8,BigInt(this.length*8),s),this.process(r,0);const u=yy(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,y=this.get();if(p>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<p;g++)u.setUint32(4*g,y[g],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:u}=this;return t.length=i,t.pos=u,t.finished=s,t.destroyed=l,i%n&&t.buffer.set(r),t}};const z3=(e,t,n)=>e&t^~e&n,D3=(e,t,n)=>e&t^e&n^t&n,B3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ks=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cs=new Uint32Array(64);let F3=class extends M3{constructor(){super(64,32,8,!1),this.A=ks[0]|0,this.B=ks[1]|0,this.C=ks[2]|0,this.D=ks[3]|0,this.E=ks[4]|0,this.F=ks[5]|0,this.G=ks[6]|0,this.H=ks[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:l,G:u,H:d}=this;return[t,n,r,i,s,l,u,d]}set(t,n,r,i,s,l,u,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=l|0,this.G=u|0,this.H=d|0}process(t,n){for(let g=0;g<16;g++,n+=4)Cs[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){const b=Cs[g-15],_=Cs[g-2],S=Di(b,7)^Di(b,18)^b>>>3,v=Di(_,17)^Di(_,19)^_>>>10;Cs[g]=v+Cs[g-7]+S+Cs[g-16]|0}let{A:r,B:i,C:s,D:l,E:u,F:d,G:p,H:y}=this;for(let g=0;g<64;g++){const b=Di(u,6)^Di(u,11)^Di(u,25),_=y+b+z3(u,d,p)+B3[g]+Cs[g]|0,v=(Di(r,2)^Di(r,13)^Di(r,22))+D3(r,i,s)|0;y=p,p=d,d=u,u=l+_|0,l=s,s=i,i=r,r=_+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,y=y+this.H|0,this.set(r,i,s,l,u,d,p,y)}roundClean(){Cs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Fv=L3(()=>new F3);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sS=BigInt(0),Up=BigInt(1),U3=BigInt(2),$p=e=>e instanceof Uint8Array,$3=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Zc(e){if(!$p(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=$3[e[n]];return t}function aS(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function K0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Wc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,s=e.slice(i,i+2),l=Number.parseInt(s,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function yr(e){return K0(Zc(e))}function G0(e){if(!$p(e))throw new Error("Uint8Array expected");return K0(Zc(Uint8Array.from(e).reverse()))}function ea(e,t){return Wc(e.toString(16).padStart(t*2,"0"))}function Y0(e,t){return ea(e,t).reverse()}function H3(e){return Wc(aS(e))}function Hn(e,t,n){let r;if(typeof t=="string")try{r=Wc(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if($p(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function al(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!$p(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function Z3(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function W3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function V3(e){let t;for(t=0;e>sS;e>>=Up,t+=1);return t}function q3(e,t){return e>>BigInt(t)&Up}const K3=(e,t,n)=>e|(n?Up:sS)<<BigInt(t),J0=e=>(U3<<BigInt(e-1))-Up,vy=e=>new Uint8Array(e),Wb=e=>Uint8Array.from(e);function lS(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=vy(e),i=vy(e),s=0;const l=()=>{r.fill(1),i.fill(0),s=0},u=(...g)=>n(i,r,...g),d=(g=vy())=>{i=u(Wb([0]),g),r=u(),g.length!==0&&(i=u(Wb([1]),g),r=u())},p=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const b=[];for(;g<t;){r=u();const _=r.slice();b.push(_),g+=r.length}return al(...b)};return(g,b)=>{l(),d(g);let _;for(;!(_=b(p()));)d();return l(),_}}const G3={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ef(e,t,n={}){const r=(i,s,l)=>{const u=G3[s];if(typeof u!="function")throw new Error(`Invalid validator "${s}", expected function`);const d=e[i];if(!(l&&d===void 0)&&!u(d,e))throw new Error(`Invalid param ${String(i)}=${d} (${typeof d}), expected ${s}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const Y3=Object.freeze(Object.defineProperty({__proto__:null,bitGet:q3,bitLen:V3,bitMask:J0,bitSet:K3,bytesToHex:Zc,bytesToNumberBE:yr,bytesToNumberLE:G0,concatBytes:al,createHmacDrbg:lS,ensureBytes:Hn,equalBytes:Z3,hexToBytes:Wc,hexToNumber:K0,numberToBytesBE:ea,numberToBytesLE:Y0,numberToHexUnpadded:aS,numberToVarBytesBE:H3,utf8ToBytes:W3,validateObject:ef},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nn=BigInt(0),hn=BigInt(1),$a=BigInt(2),J3=BigInt(3),Uv=BigInt(4),Vb=BigInt(5),qb=BigInt(8);BigInt(9);BigInt(16);function In(e,t){const n=e%t;return n>=Nn?n:t+n}function Q3(e,t,n){if(n<=Nn||t<Nn)throw new Error("Expected power/modulo > 0");if(n===hn)return Nn;let r=hn;for(;t>Nn;)t&hn&&(r=r*e%n),e=e*e%n,t>>=hn;return r}function qr(e,t,n){let r=e;for(;t-- >Nn;)r*=r,r%=n;return r}function $v(e,t){if(e===Nn||t<=Nn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=In(e,t),r=t,i=Nn,s=hn;for(;n!==Nn;){const u=r/n,d=r%n,p=i-s*u;r=n,n=d,i=s,s=p}if(r!==hn)throw new Error("invert: does not exist");return In(i,t)}function X3(e){const t=(e-hn)/$a;let n,r,i;for(n=e-hn,r=0;n%$a===Nn;n/=$a,r++);for(i=$a;i<e&&Q3(i,t,e)!==e-hn;i++);if(r===1){const l=(e+hn)/Uv;return function(d,p){const y=d.pow(p,l);if(!d.eql(d.sqr(y),p))throw new Error("Cannot find square root");return y}}const s=(n+hn)/$a;return function(u,d){if(u.pow(d,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let p=r,y=u.pow(u.mul(u.ONE,i),n),g=u.pow(d,s),b=u.pow(d,n);for(;!u.eql(b,u.ONE);){if(u.eql(b,u.ZERO))return u.ZERO;let _=1;for(let v=u.sqr(b);_<p&&!u.eql(v,u.ONE);_++)v=u.sqr(v);const S=u.pow(y,hn<<BigInt(p-_-1));y=u.sqr(S),g=u.mul(g,S),b=u.mul(b,y),p=_}return g}}function e4(e){if(e%Uv===J3){const t=(e+hn)/Uv;return function(r,i){const s=r.pow(i,t);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%qb===Vb){const t=(e-Vb)/qb;return function(r,i){const s=r.mul(i,$a),l=r.pow(s,t),u=r.mul(i,l),d=r.mul(r.mul(u,$a),l),p=r.mul(u,r.sub(d,r.ONE));if(!r.eql(r.sqr(p),i))throw new Error("Cannot find square root");return p}}return X3(e)}const t4=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function n4(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=t4.reduce((r,i)=>(r[i]="function",r),t);return ef(e,n)}function r4(e,t,n){if(n<Nn)throw new Error("Expected power > 0");if(n===Nn)return e.ONE;if(n===hn)return t;let r=e.ONE,i=t;for(;n>Nn;)n&hn&&(r=e.mul(r,i)),i=e.sqr(i),n>>=hn;return r}function i4(e,t){const n=new Array(t.length),r=t.reduce((s,l,u)=>e.is0(l)?s:(n[u]=s,e.mul(s,l)),e.ONE),i=e.inv(r);return t.reduceRight((s,l,u)=>e.is0(l)?s:(n[u]=e.mul(s,n[u]),e.mul(s,l)),i),n}function cS(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function o4(e,t,n=!1,r={}){if(e<=Nn)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=cS(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=e4(e),u=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:J0(i),ZERO:Nn,ONE:hn,create:d=>In(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return Nn<=d&&d<e},is0:d=>d===Nn,isOdd:d=>(d&hn)===hn,neg:d=>In(-d,e),eql:(d,p)=>d===p,sqr:d=>In(d*d,e),add:(d,p)=>In(d+p,e),sub:(d,p)=>In(d-p,e),mul:(d,p)=>In(d*p,e),pow:(d,p)=>r4(u,d,p),div:(d,p)=>In(d*$v(p,e),e),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>$v(d,e),sqrt:r.sqrt||(d=>l(u,d)),invertBatch:d=>i4(u,d),cmov:(d,p,y)=>y?p:d,toBytes:d=>n?Y0(d,s):ea(d,s),fromBytes:d=>{if(d.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${d.length}`);return n?G0(d):yr(d)}});return Object.freeze(u)}function uS(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function dS(e){const t=uS(e);return t+Math.ceil(t/2)}function s4(e,t,n=!1){const r=e.length,i=uS(t),s=dS(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const l=n?yr(e):G0(e),u=In(l,t-hn)+hn;return n?Y0(u,i):ea(u,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const a4=BigInt(0),wy=BigInt(1);function l4(e,t){const n=(i,s)=>{const l=s.negate();return i?l:s},r=i=>{const s=Math.ceil(t/i)+1,l=2**(i-1);return{windows:s,windowSize:l}};return{constTimeNegate:n,unsafeLadder(i,s){let l=e.ZERO,u=i;for(;s>a4;)s&wy&&(l=l.add(u)),u=u.double(),s>>=wy;return l},precomputeWindow(i,s){const{windows:l,windowSize:u}=r(s),d=[];let p=i,y=p;for(let g=0;g<l;g++){y=p,d.push(y);for(let b=1;b<u;b++)y=y.add(p),d.push(y);p=y.double()}return d},wNAF(i,s,l){const{windows:u,windowSize:d}=r(i);let p=e.ZERO,y=e.BASE;const g=BigInt(2**i-1),b=2**i,_=BigInt(i);for(let S=0;S<u;S++){const v=S*d;let E=Number(l&g);l>>=_,E>d&&(E-=b,l+=wy);const k=v,T=v+Math.abs(E)-1,A=S%2!==0,z=E<0;E===0?y=y.add(n(A,s[k])):p=p.add(n(z,s[T]))}return{p,f:y}},wNAFCached(i,s,l,u){const d=i._WINDOW_SIZE||1;let p=s.get(i);return p||(p=this.precomputeWindow(i,d),d!==1&&s.set(i,u(p))),this.wNAF(d,p,l)}}}function fS(e){return n4(e.Fp),ef(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cS(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function c4(e){const t=fS(e);ef(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:u4,hexToBytes:d4}=Y3,Ha={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Ha;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:u4(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Ha,n=typeof e=="string"?d4(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Ha._parseInt(n.subarray(2)),{d:l,l:u}=Ha._parseInt(s);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:l}},hexFromSig(e){const t=p=>Number.parseInt(p[0],16)&8?"00"+p:p,n=p=>{const y=p.toString(16);return y.length&1?`0${y}`:y},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,l=i.length/2,u=n(s),d=n(l);return`30${n(l+s+4)}02${d}${i}02${u}${r}`}},Ao=BigInt(0),Qr=BigInt(1);BigInt(2);const Kb=BigInt(3);BigInt(4);function f4(e){const t=c4(e),{Fp:n}=t,r=t.toBytes||((S,v,E)=>{const k=v.toAffine();return al(Uint8Array.from([4]),n.toBytes(k.x),n.toBytes(k.y))}),i=t.fromBytes||(S=>{const v=S.subarray(1),E=n.fromBytes(v.subarray(0,n.BYTES)),k=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:E,y:k}});function s(S){const{a:v,b:E}=t,k=n.sqr(S),T=n.mul(k,S);return n.add(n.add(T,n.mul(S,v)),E)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function l(S){return typeof S=="bigint"&&Ao<S&&S<t.n}function u(S){if(!l(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(S){const{allowedPrivateKeyLengths:v,nByteLength:E,wrapPrivateKey:k,n:T}=t;if(v&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=Zc(S)),typeof S!="string"||!v.includes(S.length))throw new Error("Invalid key");S=S.padStart(E*2,"0")}let A;try{A=typeof S=="bigint"?S:yr(Hn("private key",S,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof S}`)}return k&&(A=In(A,T)),u(A),A}const p=new Map;function y(S){if(!(S instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(v,E,k){if(this.px=v,this.py=E,this.pz=k,v==null||!n.isValid(v))throw new Error("x required");if(E==null||!n.isValid(E))throw new Error("y required");if(k==null||!n.isValid(k))throw new Error("z required")}static fromAffine(v){const{x:E,y:k}=v||{};if(!v||!n.isValid(E)||!n.isValid(k))throw new Error("invalid affine point");if(v instanceof g)throw new Error("projective point not allowed");const T=A=>n.eql(A,n.ZERO);return T(E)&&T(k)?g.ZERO:new g(E,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const E=n.invertBatch(v.map(k=>k.pz));return v.map((k,T)=>k.toAffine(E[T])).map(g.fromAffine)}static fromHex(v){const E=g.fromAffine(i(Hn("pointHex",v)));return E.assertValidity(),E}static fromPrivateKey(v){return g.BASE.multiply(d(v))}_setWindowSize(v){this._WINDOW_SIZE=v,p.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:E}=this.toAffine();if(!n.isValid(v)||!n.isValid(E))throw new Error("bad point: x or y not FE");const k=n.sqr(E),T=s(v);if(!n.eql(k,T))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){y(v);const{px:E,py:k,pz:T}=this,{px:A,py:z,pz:D}=v,Z=n.eql(n.mul(E,D),n.mul(A,T)),W=n.eql(n.mul(k,D),n.mul(z,T));return Z&&W}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:E}=t,k=n.mul(E,Kb),{px:T,py:A,pz:z}=this;let D=n.ZERO,Z=n.ZERO,W=n.ZERO,q=n.mul(T,T),U=n.mul(A,A),V=n.mul(z,z),$=n.mul(T,A);return $=n.add($,$),W=n.mul(T,z),W=n.add(W,W),D=n.mul(v,W),Z=n.mul(k,V),Z=n.add(D,Z),D=n.sub(U,Z),Z=n.add(U,Z),Z=n.mul(D,Z),D=n.mul($,D),W=n.mul(k,W),V=n.mul(v,V),$=n.sub(q,V),$=n.mul(v,$),$=n.add($,W),W=n.add(q,q),q=n.add(W,q),q=n.add(q,V),q=n.mul(q,$),Z=n.add(Z,q),V=n.mul(A,z),V=n.add(V,V),q=n.mul(V,$),D=n.sub(D,q),W=n.mul(V,U),W=n.add(W,W),W=n.add(W,W),new g(D,Z,W)}add(v){y(v);const{px:E,py:k,pz:T}=this,{px:A,py:z,pz:D}=v;let Z=n.ZERO,W=n.ZERO,q=n.ZERO;const U=t.a,V=n.mul(t.b,Kb);let $=n.mul(E,A),B=n.mul(k,z),X=n.mul(T,D),j=n.add(E,k),K=n.add(A,z);j=n.mul(j,K),K=n.add($,B),j=n.sub(j,K),K=n.add(E,T);let oe=n.add(A,D);return K=n.mul(K,oe),oe=n.add($,X),K=n.sub(K,oe),oe=n.add(k,T),Z=n.add(z,D),oe=n.mul(oe,Z),Z=n.add(B,X),oe=n.sub(oe,Z),q=n.mul(U,K),Z=n.mul(V,X),q=n.add(Z,q),Z=n.sub(B,q),q=n.add(B,q),W=n.mul(Z,q),B=n.add($,$),B=n.add(B,$),X=n.mul(U,X),K=n.mul(V,K),B=n.add(B,X),X=n.sub($,X),X=n.mul(U,X),K=n.add(K,X),$=n.mul(B,K),W=n.add(W,$),$=n.mul(oe,K),Z=n.mul(j,Z),Z=n.sub(Z,$),$=n.mul(j,B),q=n.mul(oe,q),q=n.add(q,$),new g(Z,W,q)}subtract(v){return this.add(v.negate())}is0(){return this.equals(g.ZERO)}wNAF(v){return _.wNAFCached(this,p,v,E=>{const k=n.invertBatch(E.map(T=>T.pz));return E.map((T,A)=>T.toAffine(k[A])).map(g.fromAffine)})}multiplyUnsafe(v){const E=g.ZERO;if(v===Ao)return E;if(u(v),v===Qr)return this;const{endo:k}=t;if(!k)return _.unsafeLadder(this,v);let{k1neg:T,k1:A,k2neg:z,k2:D}=k.splitScalar(v),Z=E,W=E,q=this;for(;A>Ao||D>Ao;)A&Qr&&(Z=Z.add(q)),D&Qr&&(W=W.add(q)),q=q.double(),A>>=Qr,D>>=Qr;return T&&(Z=Z.negate()),z&&(W=W.negate()),W=new g(n.mul(W.px,k.beta),W.py,W.pz),Z.add(W)}multiply(v){u(v);let E=v,k,T;const{endo:A}=t;if(A){const{k1neg:z,k1:D,k2neg:Z,k2:W}=A.splitScalar(E);let{p:q,f:U}=this.wNAF(D),{p:V,f:$}=this.wNAF(W);q=_.constTimeNegate(z,q),V=_.constTimeNegate(Z,V),V=new g(n.mul(V.px,A.beta),V.py,V.pz),k=q.add(V),T=U.add($)}else{const{p:z,f:D}=this.wNAF(E);k=z,T=D}return g.normalizeZ([k,T])[0]}multiplyAndAddUnsafe(v,E,k){const T=g.BASE,A=(D,Z)=>Z===Ao||Z===Qr||!D.equals(T)?D.multiplyUnsafe(Z):D.multiply(Z),z=A(this,E).add(A(v,k));return z.is0()?void 0:z}toAffine(v){const{px:E,py:k,pz:T}=this,A=this.is0();v==null&&(v=A?n.ONE:n.inv(T));const z=n.mul(E,v),D=n.mul(k,v),Z=n.mul(T,v);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Z,n.ONE))throw new Error("invZ was invalid");return{x:z,y:D}}isTorsionFree(){const{h:v,isTorsionFree:E}=t;if(v===Qr)return!0;if(E)return E(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:E}=t;return v===Qr?this:E?E(g,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return this.assertValidity(),r(g,this,v)}toHex(v=!0){return Zc(this.toRawBytes(v))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,_=l4(g,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:s,isWithinCurveOrder:l}}function h4(e){const t=fS(e);return ef(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function p4(e){const t=h4(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function l(K){return Ao<K&&K<n.ORDER}function u(K){return In(K,r)}function d(K){return $v(K,r)}const{ProjectivePoint:p,normPrivateKeyToScalar:y,weierstrassEquation:g,isWithinCurveOrder:b}=f4({...t,toBytes(K,oe,ie){const te=oe.toAffine(),ee=n.toBytes(te.x),le=al;return ie?le(Uint8Array.from([oe.hasEvenY()?2:3]),ee):le(Uint8Array.from([4]),ee,n.toBytes(te.y))},fromBytes(K){const oe=K.length,ie=K[0],te=K.subarray(1);if(oe===i&&(ie===2||ie===3)){const ee=yr(te);if(!l(ee))throw new Error("Point is not on curve");const le=g(ee);let H=n.sqrt(le);const Q=(H&Qr)===Qr;return(ie&1)===1!==Q&&(H=n.neg(H)),{x:ee,y:H}}else if(oe===s&&ie===4){const ee=n.fromBytes(te.subarray(0,n.BYTES)),le=n.fromBytes(te.subarray(n.BYTES,2*n.BYTES));return{x:ee,y:le}}else throw new Error(`Point of length ${oe} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),_=K=>Zc(ea(K,t.nByteLength));function S(K){const oe=r>>Qr;return K>oe}function v(K){return S(K)?u(-K):K}const E=(K,oe,ie)=>yr(K.slice(oe,ie));class k{constructor(oe,ie,te){this.r=oe,this.s=ie,this.recovery=te,this.assertValidity()}static fromCompact(oe){const ie=t.nByteLength;return oe=Hn("compactSignature",oe,ie*2),new k(E(oe,0,ie),E(oe,ie,2*ie))}static fromDER(oe){const{r:ie,s:te}=Ha.toSig(Hn("DER",oe));return new k(ie,te)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(oe){return new k(this.r,this.s,oe)}recoverPublicKey(oe){const{r:ie,s:te,recovery:ee}=this,le=W(Hn("msgHash",oe));if(ee==null||![0,1,2,3].includes(ee))throw new Error("recovery id invalid");const H=ee===2||ee===3?ie+t.n:ie;if(H>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Q=(ee&1)===0?"02":"03",ke=p.fromHex(Q+_(H)),_e=d(H),ve=u(-le*_e),Ie=u(te*_e),Pe=p.BASE.multiplyAndAddUnsafe(ke,ve,Ie);if(!Pe)throw new Error("point at infinify");return Pe.assertValidity(),Pe}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Wc(this.toDERHex())}toDERHex(){return Ha.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Wc(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}const T={isValidPrivateKey(K){try{return y(K),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const K=dS(t.n);return s4(t.randomBytes(K),t.n)},precompute(K=8,oe=p.BASE){return oe._setWindowSize(K),oe.multiply(BigInt(3)),oe}};function A(K,oe=!0){return p.fromPrivateKey(K).toRawBytes(oe)}function z(K){const oe=K instanceof Uint8Array,ie=typeof K=="string",te=(oe||ie)&&K.length;return oe?te===i||te===s:ie?te===2*i||te===2*s:K instanceof p}function D(K,oe,ie=!0){if(z(K))throw new Error("first arg must be private key");if(!z(oe))throw new Error("second arg must be public key");return p.fromHex(oe).multiply(y(K)).toRawBytes(ie)}const Z=t.bits2int||function(K){const oe=yr(K),ie=K.length*8-t.nBitLength;return ie>0?oe>>BigInt(ie):oe},W=t.bits2int_modN||function(K){return u(Z(K))},q=J0(t.nBitLength);function U(K){if(typeof K!="bigint")throw new Error("bigint expected");if(!(Ao<=K&&K<q))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ea(K,t.nByteLength)}function V(K,oe,ie=$){if(["recovered","canonical"].some(Oe=>Oe in ie))throw new Error("sign() legacy options not supported");const{hash:te,randomBytes:ee}=t;let{lowS:le,prehash:H,extraEntropy:Q}=ie;le==null&&(le=!0),K=Hn("msgHash",K),H&&(K=Hn("prehashed msgHash",te(K)));const ke=W(K),_e=y(oe),ve=[U(_e),U(ke)];if(Q!=null){const Oe=Q===!0?ee(n.BYTES):Q;ve.push(Hn("extraEntropy",Oe))}const Ie=al(...ve),Pe=ke;function Te(Oe){const He=Z(Oe);if(!b(He))return;const Qe=d(He),ot=p.BASE.multiply(He).toAffine(),at=u(ot.x);if(at===Ao)return;const F=u(Qe*u(Pe+at*_e));if(F===Ao)return;let Ne=(ot.x===at?0:2)|Number(ot.y&Qr),be=F;return le&&S(F)&&(be=v(F),Ne^=1),new k(at,be,Ne)}return{seed:Ie,k2sig:Te}}const $={lowS:t.lowS,prehash:!1},B={lowS:t.lowS,prehash:!1};function X(K,oe,ie=$){const{seed:te,k2sig:ee}=V(K,oe,ie),le=t;return lS(le.hash.outputLen,le.nByteLength,le.hmac)(te,ee)}p.BASE._setWindowSize(8);function j(K,oe,ie,te=B){var ot;const ee=K;if(oe=Hn("msgHash",oe),ie=Hn("publicKey",ie),"strict"in te)throw new Error("options.strict was renamed to lowS");const{lowS:le,prehash:H}=te;let Q,ke;try{if(typeof ee=="string"||ee instanceof Uint8Array)try{Q=k.fromDER(ee)}catch(at){if(!(at instanceof Ha.Err))throw at;Q=k.fromCompact(ee)}else if(typeof ee=="object"&&typeof ee.r=="bigint"&&typeof ee.s=="bigint"){const{r:at,s:F}=ee;Q=new k(at,F)}else throw new Error("PARSE");ke=p.fromHex(ie)}catch(at){if(at.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(le&&Q.hasHighS())return!1;H&&(oe=t.hash(oe));const{r:_e,s:ve}=Q,Ie=W(oe),Pe=d(ve),Te=u(Ie*Pe),Oe=u(_e*Pe),He=(ot=p.BASE.multiplyAndAddUnsafe(ke,Te,Oe))==null?void 0:ot.toAffine();return He?u(He.x)===_e:!1}return{CURVE:t,getPublicKey:A,getSharedSecret:D,sign:X,verify:j,ProjectivePoint:p,Signature:k,utils:T}}let hS=class extends iS{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,T3(t);const r=q0(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=t.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),s.fill(0)}update(t){return fp(this),this.iHash.update(t),this}digestInto(t){fp(this),nS(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:l,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=l,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const pS=(e,t,n)=>new hS(e,t).update(n).digest();pS.create=(e,t)=>new hS(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function m4(e){return{hash:e,hmac:(t,...n)=>pS(e,t,j3(...n)),randomBytes:oS}}function g4(e,t){const n=r=>p4({...e,...m4(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hp=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hp=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mS=BigInt(1),pp=BigInt(2),Gb=(e,t)=>(e+t/pp)/t;function gS(e){const t=Hp,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),l=BigInt(23),u=BigInt(44),d=BigInt(88),p=e*e*e%t,y=p*p*e%t,g=qr(y,n,t)*y%t,b=qr(g,n,t)*y%t,_=qr(b,pp,t)*p%t,S=qr(_,i,t)*_%t,v=qr(S,s,t)*S%t,E=qr(v,u,t)*v%t,k=qr(E,d,t)*E%t,T=qr(k,u,t)*v%t,A=qr(T,n,t)*y%t,z=qr(A,l,t)*S%t,D=qr(z,r,t)*p%t,Z=qr(D,pp,t);if(!Hv.eql(Hv.sqr(Z),e))throw new Error("Cannot find square root");return Z}const Hv=o4(Hp,void 0,void 0,{sqrt:gS}),Xc=g4({a:BigInt(0),b:BigInt(7),Fp:Hv,n:hp,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=hp,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-mS*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,l=BigInt("0x100000000000000000000000000000000"),u=Gb(s*e,t),d=Gb(-r*e,t);let p=In(e-u*n-d*i,t),y=In(-u*r-d*s,t);const g=p>l,b=y>l;if(g&&(p=t-p),b&&(y=t-y),p>l||y>l)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:g,k1:p,k2neg:b,k2:y}}}},Fv),Zp=BigInt(0),yS=e=>typeof e=="bigint"&&Zp<e&&e<Hp,y4=e=>typeof e=="bigint"&&Zp<e&&e<hp,Yb={};function mp(e,...t){let n=Yb[e];if(n===void 0){const r=Fv(Uint8Array.from(e,i=>i.charCodeAt(0)));n=al(r,r),Yb[e]=n}return Fv(al(n,...t))}const Q0=e=>e.toRawBytes(!0).slice(1),Zv=e=>ea(e,32),_y=e=>In(e,Hp),Td=e=>In(e,hp),X0=Xc.ProjectivePoint,v4=(e,t,n)=>X0.BASE.multiplyAndAddUnsafe(e,t,n);function Wv(e){let t=Xc.utils.normPrivateKeyToScalar(e),n=X0.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Td(-t),bytes:Q0(n)}}function vS(e){if(!yS(e))throw new Error("bad x: need 0 < x < p");const t=_y(e*e),n=_y(t*e+BigInt(7));let r=gS(n);r%pp!==Zp&&(r=_y(-r));const i=new X0(e,r,mS);return i.assertValidity(),i}function wS(...e){return Td(yr(mp("BIP0340/challenge",...e)))}function w4(e){return Wv(e).bytes}function _4(e,t,n=oS(32)){const r=Hn("message",e),{bytes:i,scalar:s}=Wv(t),l=Hn("auxRand",n,32),u=Zv(s^yr(mp("BIP0340/aux",l))),d=mp("BIP0340/nonce",u,i,r),p=Td(yr(d));if(p===Zp)throw new Error("sign failed: k is zero");const{bytes:y,scalar:g}=Wv(p),b=wS(y,i,r),_=new Uint8Array(64);if(_.set(y,0),_.set(Zv(Td(g+b*s)),32),!_S(_,r,i))throw new Error("sign: Invalid signature produced");return _}function _S(e,t,n){const r=Hn("signature",e,64),i=Hn("message",t),s=Hn("publicKey",n,32);try{const l=vS(yr(s)),u=yr(r.subarray(0,32));if(!yS(u))return!1;const d=yr(r.subarray(32,64));if(!y4(d))return!1;const p=wS(Zv(u),Q0(l),i),y=v4(l,d,Td(-p));return!(!y||!y.hasEvenY()||y.toAffine().x!==u)}catch{return!1}}const ud={getPublicKey:w4,sign:_4,verify:_S,utils:{randomPrivateKey:Xc.utils.randomPrivateKey,lift_x:vS,pointToBytes:Q0,numberToBytesBE:ea,bytesToNumberBE:yr,taggedHash:mp,mod:In}},xy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ew=e=>e instanceof Uint8Array,by=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Bi=(e,t)=>e<<32-t|e>>>t,x4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!x4)throw new Error("Non little-endian hardware is not supported");const b4=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Zn(e){if(!ew(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=b4[e[n]];return t}function ll(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,s=e.slice(i,i+2),l=Number.parseInt(s,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function E4(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ad(e){if(typeof e=="string"&&(e=E4(e)),!ew(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Wp(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!ew(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class xS{clone(){return this._cloneInto()}}function bS(e){const t=r=>e().update(Ad(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ES(e=32){if(xy&&typeof xy.getRandomValues=="function")return xy.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Vv(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function S4(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function SS(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function k4(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Vv(e.outputLen),Vv(e.blockLen)}function C4(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function N4(e,t){SS(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Yi={number:Vv,bool:S4,bytes:SS,hash:k4,exists:C4,output:N4};function P4(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(n>>i&s),u=Number(n&s),d=r?4:0,p=r?0:4;e.setUint32(t+d,l,r),e.setUint32(t+p,u,r)}class T4 extends xS{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=by(this.buffer)}update(t){Yi.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=Ad(t);const s=t.length;for(let l=0;l<s;){const u=Math.min(i-this.pos,s-l);if(u===i){const d=by(t);for(;i<=s-l;l+=i)this.process(d,l);continue}r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Yi.exists(this),Yi.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let g=l;g<i;g++)n[g]=0;P4(r,i-8,BigInt(this.length*8),s),this.process(r,0);const u=by(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,y=this.get();if(p>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<p;g++)u.setUint32(4*g,y[g],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:u}=this;return t.length=i,t.pos=u,t.finished=s,t.destroyed=l,i%n&&t.buffer.set(r),t}}const A4=(e,t,n)=>e&t^~e&n,R4=(e,t,n)=>e&t^e&n^t&n,I4=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ns=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ps=new Uint32Array(64);class kS extends T4{constructor(){super(64,32,8,!1),this.A=Ns[0]|0,this.B=Ns[1]|0,this.C=Ns[2]|0,this.D=Ns[3]|0,this.E=Ns[4]|0,this.F=Ns[5]|0,this.G=Ns[6]|0,this.H=Ns[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:l,G:u,H:d}=this;return[t,n,r,i,s,l,u,d]}set(t,n,r,i,s,l,u,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=l|0,this.G=u|0,this.H=d|0}process(t,n){for(let g=0;g<16;g++,n+=4)Ps[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){const b=Ps[g-15],_=Ps[g-2],S=Bi(b,7)^Bi(b,18)^b>>>3,v=Bi(_,17)^Bi(_,19)^_>>>10;Ps[g]=v+Ps[g-7]+S+Ps[g-16]|0}let{A:r,B:i,C:s,D:l,E:u,F:d,G:p,H:y}=this;for(let g=0;g<64;g++){const b=Bi(u,6)^Bi(u,11)^Bi(u,25),_=y+b+A4(u,d,p)+I4[g]+Ps[g]|0,v=(Bi(r,2)^Bi(r,13)^Bi(r,22))+R4(r,i,s)|0;y=p,p=d,d=u,u=l+_|0,l=s,s=i,i=r,r=_+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,y=y+this.H|0,this.set(r,i,s,l,u,d,p,y)}roundClean(){Ps.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class j4 extends kS{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const eu=bS(()=>new kS);bS(()=>new j4);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function tu(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function $o(...e){const t=(i,s)=>l=>i(s(l)),n=Array.from(e).reverse().reduce((i,s)=>i?t(i,s.encode):s.encode,void 0),r=e.reduce((i,s)=>i?t(i,s.decode):s.decode,void 0);return{encode:n,decode:r}}function Ho(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(tu(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function Zo(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Vp(e,t="="){if(tu(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of n)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function CS(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function Jb(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],s=Array.from(e);for(s.forEach(l=>{if(tu(l),l<0||l>=t)throw new Error(`Wrong integer: ${l}`)});;){let l=0,u=!0;for(let d=r;d<s.length;d++){const p=s[d],y=t*l+p;if(!Number.isSafeInteger(y)||t*l/t!==l||y-p!==t*l)throw new Error("convertRadix: carry overflow");if(l=y%n,s[d]=Math.floor(y/n),!Number.isSafeInteger(s[d])||s[d]*n+l!==y)throw new Error("convertRadix: carry overflow");if(u)s[d]?u=!1:r=d;else continue}if(i.push(l),u)break}for(let l=0;l<e.length-1&&e[l]===0;l++)i.push(0);return i.reverse()}const NS=(e,t)=>t?NS(t,e%t):e,gp=(e,t)=>e+(t-NS(e,t));function qv(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(gp(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${gp(t,n)}`);let i=0,s=0;const l=2**n-1,u=[];for(const d of e){if(tu(d),d>=2**t)throw new Error(`convertRadix2: invalid data word=${d} from=${t}`);if(i=i<<t|d,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)u.push((i>>s-n&l)>>>0);i&=2**s-1}if(i=i<<n-s&l,!r&&s>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&u.push(i>>>0),u}function L4(e){return tu(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Jb(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Jb(t,e,2**8))}}}function sa(e,t=!1){if(tu(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(gp(8,e)>32||gp(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return qv(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(qv(n,e,8,t))}}}function Qb(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const O4=$o(sa(4),Ho("0123456789ABCDEF"),Zo("")),M4=$o(sa(5),Ho("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Vp(5),Zo(""));$o(sa(5),Ho("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Vp(5),Zo(""));$o(sa(5),Ho("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Zo(""),CS(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Do=$o(sa(6),Ho("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Vp(6),Zo("")),z4=$o(sa(6),Ho("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Vp(6),Zo("")),tw=e=>$o(L4(58),Ho(e),Zo("")),Kv=tw("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");tw("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");tw("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Xb=[0,2,3,5,6,7,9,10,11],D4={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Kv.encode(r).padStart(Xb[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=Xb.indexOf(r.length),s=Kv.decode(r);for(let l=0;l<s.length-i;l++)if(s[l]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(t)}},Gv=$o(Ho("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Zo("")),e1=[996825010,642813549,513874426,1027748829,705979059];function dd(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<e1.length;r++)(t>>r&1)===1&&(n^=e1[r]);return n}function t1(e,t,n=1){const r=e.length;let i=1;for(let s=0;s<r;s++){const l=e.charCodeAt(s);if(l<33||l>126)throw new Error(`Invalid prefix (${e})`);i=dd(i)^l>>5}i=dd(i);for(let s=0;s<r;s++)i=dd(i)^e.charCodeAt(s)&31;for(let s of t)i=dd(i)^s;for(let s=0;s<6;s++)i=dd(i);return i^=n,Gv.encode(qv([i%2**30],30,5,!1))}function PS(e){const t=e==="bech32"?1:734539939,n=sa(5),r=n.decode,i=n.encode,s=Qb(r);function l(y,g,b=90){if(typeof y!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof y}`);if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof g}`);const _=y.length+7+g.length;if(b!==!1&&_>b)throw new TypeError(`Length ${_} exceeds limit ${b}`);return y=y.toLowerCase(),`${y}1${Gv.encode(g)}${t1(y,g,t)}`}function u(y,g=90){if(typeof y!="string")throw new Error(`bech32.decode input should be string, not ${typeof y}`);if(y.length<8||g!==!1&&y.length>g)throw new TypeError(`Wrong string length: ${y.length} (${y}). Expected (8..${g})`);const b=y.toLowerCase();if(y!==b&&y!==y.toUpperCase())throw new Error("String must be lowercase or uppercase");y=b;const _=y.lastIndexOf("1");if(_===0||_===-1)throw new Error('Letter "1" must be present between prefix and data only');const S=y.slice(0,_),v=y.slice(_+1);if(v.length<6)throw new Error("Data must be at least 6 characters long");const E=Gv.decode(v).slice(0,-6),k=t1(S,E,t);if(!v.endsWith(k))throw new Error(`Invalid checksum in ${y}: expected "${k}"`);return{prefix:S,words:E}}const d=Qb(u);function p(y){const{prefix:g,words:b}=u(y,!1);return{prefix:g,words:b,bytes:r(b)}}return{encode:l,decode:u,decodeToBytes:p,decodeUnsafe:d,fromWords:r,fromWordsUnsafe:s,toWords:i}}const Vc=PS("bech32");PS("bech32m");const B4={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},F4=$o(sa(4),Ho("0123456789abcdef"),Zo(""),CS(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),U4={utf8:B4,hex:F4,base16:O4,base32:M4,base64:Do,base64url:z4,base58:Kv,base58xmr:D4};`${Object.keys(U4).join(", ")}`;function Ey(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function n1(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function $4(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function jo(e,...t){if(!$4(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const qn=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),H4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!H4)throw new Error("Non little-endian hardware is not supported");function Z4(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function W4(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const V4=(e,t)=>(Object.assign(t,e),t),Js=16,q4=283;function nw(e){return e<<1^q4&-(e>>7)}function wc(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=nw(e);return n}const Yv=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=nw(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),K4=Yv.map((e,t)=>Yv.indexOf(t)),G4=e=>e<<24|e>>>8,Sy=e=>e<<8|e>>>24;function TS(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((p,y)=>t(e[y])),r=n.map(Sy),i=r.map(Sy),s=i.map(Sy),l=new Uint32Array(256*256),u=new Uint32Array(256*256),d=new Uint16Array(256*256);for(let p=0;p<256;p++)for(let y=0;y<256;y++){const g=p*256+y;l[g]=n[p]^r[y],u[g]=i[p]^s[y],d[g]=e[p]<<8|e[y]}return{sbox:e,sbox2:d,T0:n,T1:r,T2:i,T3:s,T01:l,T23:u}}const rw=TS(Yv,e=>wc(e,3)<<24|e<<16|e<<8|wc(e,2)),AS=TS(K4,e=>wc(e,11)<<24|wc(e,13)<<16|wc(e,9)<<8|wc(e,14)),Y4=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=nw(n))e[t]=n;return e})();function RS(e){jo(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=rw,r=qn(e),i=r.length,s=u=>Ji(n,u,u,u,u),l=new Uint32Array(t+28);l.set(r);for(let u=i;u<l.length;u++){let d=l[u-1];u%i===0?d=s(G4(d))^Y4[u/i-1]:i>6&&u%i===4&&(d=s(d)),l[u]=l[u-i]^d}return l}function J4(e){const t=RS(e),n=t.slice(),r=t.length,{sbox2:i}=rw,{T0:s,T1:l,T2:u,T3:d}=AS;for(let p=0;p<r;p+=4)for(let y=0;y<4;y++)n[p+y]=t[r-p-4+y];t.fill(0);for(let p=4;p<r-4;p++){const y=n[p],g=Ji(i,y,y,y,y);n[p]=s[g&255]^l[g>>>8&255]^u[g>>>16&255]^d[g>>>24]}return n}function qs(e,t,n,r,i,s){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|s>>>24&255]}function Ji(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function r1(e,t,n,r,i){const{sbox2:s,T01:l,T23:u}=rw;let d=0;t^=e[d++],n^=e[d++],r^=e[d++],i^=e[d++];const p=e.length/4-2;for(let S=0;S<p;S++){const v=e[d++]^qs(l,u,t,n,r,i),E=e[d++]^qs(l,u,n,r,i,t),k=e[d++]^qs(l,u,r,i,t,n),T=e[d++]^qs(l,u,i,t,n,r);t=v,n=E,r=k,i=T}const y=e[d++]^Ji(s,t,n,r,i),g=e[d++]^Ji(s,n,r,i,t),b=e[d++]^Ji(s,r,i,t,n),_=e[d++]^Ji(s,i,t,n,r);return{s0:y,s1:g,s2:b,s3:_}}function Q4(e,t,n,r,i){const{sbox2:s,T01:l,T23:u}=AS;let d=0;t^=e[d++],n^=e[d++],r^=e[d++],i^=e[d++];const p=e.length/4-2;for(let S=0;S<p;S++){const v=e[d++]^qs(l,u,t,i,r,n),E=e[d++]^qs(l,u,n,t,i,r),k=e[d++]^qs(l,u,r,n,t,i),T=e[d++]^qs(l,u,i,r,n,t);t=v,n=E,r=k,i=T}const y=e[d++]^Ji(s,t,i,r,n),g=e[d++]^Ji(s,n,t,i,r),b=e[d++]^Ji(s,r,n,t,i),_=e[d++]^Ji(s,i,r,n,t);return{s0:y,s1:g,s2:b,s3:_}}function IS(e,t){if(!t)return new Uint8Array(e);if(jo(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function X4(e){if(jo(e),e.length%Js!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Js}`)}function eL(e,t,n){let r=e.length;const i=r%Js;if(!t&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const s=qn(e);if(t){let d=Js-i;d||(d=Js),r=r+d}const l=IS(r,n),u=qn(l);return{b:s,o:u,out:l}}function tL(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const i=e.subarray(0,-r);for(let s=0;s<r;s++)if(e[n-s-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function nL(e){const t=new Uint8Array(16),n=qn(t);t.set(e);const r=Js-e.length;for(let i=Js-r;i<Js;i++)t[i]=r;return n}const jS=V4({blockSize:16,nonceLength:16},function(t,n,r={}){jo(t),jo(n,16);const i=!r.disablePadding;return{encrypt:(s,l)=>{const u=RS(t),{b:d,o:p,out:y}=eL(s,i,l),g=qn(n);let b=g[0],_=g[1],S=g[2],v=g[3],E=0;for(;E+4<=d.length;)b^=d[E+0],_^=d[E+1],S^=d[E+2],v^=d[E+3],{s0:b,s1:_,s2:S,s3:v}=r1(u,b,_,S,v),p[E++]=b,p[E++]=_,p[E++]=S,p[E++]=v;if(i){const k=nL(s.subarray(E*4));b^=k[0],_^=k[1],S^=k[2],v^=k[3],{s0:b,s1:_,s2:S,s3:v}=r1(u,b,_,S,v),p[E++]=b,p[E++]=_,p[E++]=S,p[E++]=v}return u.fill(0),y},decrypt:(s,l)=>{X4(s);const u=J4(t),d=qn(n),p=IS(s.length,l),y=qn(s),g=qn(p);let b=d[0],_=d[1],S=d[2],v=d[3];for(let E=0;E+4<=y.length;){const k=b,T=_,A=S,z=v;b=y[E+0],_=y[E+1],S=y[E+2],v=y[E+3];const{s0:D,s1:Z,s2:W,s3:q}=Q4(u,b,_,S,v);g[E++]=D^k,g[E++]=Z^T,g[E++]=W^A,g[E++]=q^z}return u.fill(0),tL(p,i)}}}),LS=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),rL=LS("expand 16-byte k"),iL=LS("expand 32-byte k"),oL=qn(rL),OS=qn(iL);OS.slice();function It(e,t){return e<<t|e>>>32-t}function Jv(e){return e.byteOffset%4===0}const zh=64,sL=16,MS=2**32-1,i1=new Uint32Array;function aL(e,t,n,r,i,s,l,u){const d=i.length,p=new Uint8Array(zh),y=qn(p),g=Jv(i)&&Jv(s),b=g?qn(i):i1,_=g?qn(s):i1;for(let S=0;S<d;l++){if(e(t,n,r,y,l,u),l>=MS)throw new Error("arx: counter overflow");const v=Math.min(zh,d-S);if(g&&v===zh){const E=S/4;if(S%4!==0)throw new Error("arx: invalid block position");for(let k=0,T;k<sL;k++)T=E+k,_[T]=b[T]^y[k];S+=zh;continue}for(let E=0,k;E<v;E++)k=S+E,s[k]=i[k]^p[E];S+=v}}function lL(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:l}=Z4({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Ey(i),Ey(l),n1(s),n1(n),(u,d,p,y,g=0)=>{jo(u),jo(d),jo(p);const b=p.length;if(y||(y=new Uint8Array(b)),jo(y),Ey(g),g<0||g>=MS)throw new Error("arx: counter overflow");if(y.length<b)throw new Error(`arx: output (${y.length}) is shorter than data (${b})`);const _=[];let S=u.length,v,E;if(S===32)v=u.slice(),_.push(v),E=OS;else if(S===16&&n)v=new Uint8Array(32),v.set(u),v.set(u,16),E=oL,_.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${S}`);Jv(d)||(d=d.slice(),_.push(d));const k=qn(v);if(r){if(d.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,k,qn(d.subarray(0,16)),k),d=d.subarray(16)}const T=16-i;if(T!==d.length)throw new Error(`arx: nonce must be ${T} or 16 bytes`);if(T!==12){const z=new Uint8Array(12);z.set(d,s?0:12-d.length),d=z,_.push(d)}const A=qn(d);for(aL(e,E,k,A,p,y,g,l);_.length>0;)_.pop().fill(0);return y}}function cL(e,t,n,r,i,s=20){let l=e[0],u=e[1],d=e[2],p=e[3],y=t[0],g=t[1],b=t[2],_=t[3],S=t[4],v=t[5],E=t[6],k=t[7],T=i,A=n[0],z=n[1],D=n[2],Z=l,W=u,q=d,U=p,V=y,$=g,B=b,X=_,j=S,K=v,oe=E,ie=k,te=T,ee=A,le=z,H=D;for(let ke=0;ke<s;ke+=2)Z=Z+V|0,te=It(te^Z,16),j=j+te|0,V=It(V^j,12),Z=Z+V|0,te=It(te^Z,8),j=j+te|0,V=It(V^j,7),W=W+$|0,ee=It(ee^W,16),K=K+ee|0,$=It($^K,12),W=W+$|0,ee=It(ee^W,8),K=K+ee|0,$=It($^K,7),q=q+B|0,le=It(le^q,16),oe=oe+le|0,B=It(B^oe,12),q=q+B|0,le=It(le^q,8),oe=oe+le|0,B=It(B^oe,7),U=U+X|0,H=It(H^U,16),ie=ie+H|0,X=It(X^ie,12),U=U+X|0,H=It(H^U,8),ie=ie+H|0,X=It(X^ie,7),Z=Z+$|0,H=It(H^Z,16),oe=oe+H|0,$=It($^oe,12),Z=Z+$|0,H=It(H^Z,8),oe=oe+H|0,$=It($^oe,7),W=W+B|0,te=It(te^W,16),ie=ie+te|0,B=It(B^ie,12),W=W+B|0,te=It(te^W,8),ie=ie+te|0,B=It(B^ie,7),q=q+X|0,ee=It(ee^q,16),j=j+ee|0,X=It(X^j,12),q=q+X|0,ee=It(ee^q,8),j=j+ee|0,X=It(X^j,7),U=U+V|0,le=It(le^U,16),K=K+le|0,V=It(V^K,12),U=U+V|0,le=It(le^U,8),K=K+le|0,V=It(V^K,7);let Q=0;r[Q++]=l+Z|0,r[Q++]=u+W|0,r[Q++]=d+q|0,r[Q++]=p+U|0,r[Q++]=y+V|0,r[Q++]=g+$|0,r[Q++]=b+B|0,r[Q++]=_+X|0,r[Q++]=S+j|0,r[Q++]=v+K|0,r[Q++]=E+oe|0,r[Q++]=k+ie|0,r[Q++]=T+te|0,r[Q++]=A+ee|0,r[Q++]=z+le|0,r[Q++]=D+H|0}const zS=lL(cL,{counterRight:!1,counterLength:4,allowShortKeys:!1});class DS extends xS{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Yi.hash(t);const r=Ad(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=t.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),s.fill(0)}update(t){return Yi.exists(this),this.iHash.update(t),this}digestInto(t){Yi.exists(this),Yi.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:l,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=l,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const qp=(e,t,n)=>new DS(e,t).update(n).digest();qp.create=(e,t)=>new DS(e,t);function uL(e,t,n){return Yi.hash(e),qp(e,Ad(n),Ad(t))}const ky=new Uint8Array([0]),o1=new Uint8Array;function dL(e,t,n,r=32){if(Yi.hash(e),Yi.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);n===void 0&&(n=o1);const s=new Uint8Array(i*e.outputLen),l=qp.create(e,t),u=l._cloneInto(),d=new Uint8Array(l.outputLen);for(let p=0;p<i;p++)ky[0]=p+1,u.update(p===0?o1:d).update(n).update(ky).digestInto(d),s.set(d,e.outputLen*p),l._cloneInto(u);return l.destroy(),u.destroy(),d.fill(0),ky.fill(0),s.slice(0,r)}var fL=Object.defineProperty,Yt=(e,t)=>{for(var n in t)fL(e,n,{get:t[n],enumerable:!0})},fc=Symbol("verified"),hL=e=>e instanceof Object;function iw(e){if(!hL(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var pL={};Yt(pL,{Queue:()=>US,QueueNode:()=>FS,binarySearch:()=>ow,bytesToHex:()=>Zn,hexToBytes:()=>ll,insertEventIntoAscendingList:()=>gL,insertEventIntoDescendingList:()=>mL,normalizeURL:()=>BS,utf8Decoder:()=>Lo,utf8Encoder:()=>bi});var Lo=new TextDecoder("utf-8"),bi=new TextEncoder;function BS(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch{throw new Error(`Invalid URL: ${e}`)}}function mL(e,t){const[n,r]=ow(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:i.created_at-t.created_at);return r||e.splice(n,0,t),e}function gL(e,t){const[n,r]=ow(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:t.created_at-i.created_at);return r||e.splice(n,0,t),e}function ow(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),s=t(e[i]);if(s===0)return[i,!0];s<0?r=i-1:n=i+1}return[n,!1]}var FS=class{constructor(e){Ze(this,"value");Ze(this,"next",null);Ze(this,"prev",null);this.value=e}},US=class{constructor(){Ze(this,"first");Ze(this,"last");this.first=null,this.last=null}enqueue(e){const t=new FS(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},yL=class{generateSecretKey(){return ud.utils.randomPrivateKey()}getPublicKey(e){return Zn(ud.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Zn(ud.getPublicKey(t)),n.id=Sd(n),n.sig=Zn(ud.sign(Sd(n),t)),n[fc]=!0,n}verifyEvent(e){if(typeof e[fc]=="boolean")return e[fc];const t=Sd(e);if(t!==e.id)return e[fc]=!1,!1;try{const n=ud.verify(e.sig,t,e.pubkey);return e[fc]=n,n}catch{return e[fc]=!1,!1}}};function vL(e){if(!iw(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Sd(e){let t=eu(bi.encode(vL(e)));return Zn(t)}var Kp=new yL,tf=Kp.generateSecretKey,Bo=Kp.getPublicKey,ri=Kp.finalizeEvent,nf=Kp.verifyEvent,wL={};Yt(wL,{Application:()=>vO,BadgeAward:()=>NL,BadgeDefinition:()=>dO,BlockedRelaysList:()=>GL,BookmarkList:()=>VL,Bookmarksets:()=>lO,Calendar:()=>kO,CalendarEventRSVP:()=>CO,ChannelCreation:()=>qS,ChannelHideMessage:()=>YS,ChannelMessage:()=>GS,ChannelMetadata:()=>KS,ChannelMuteUser:()=>JS,ClassifiedListing:()=>xO,ClientAuth:()=>XS,CommunitiesList:()=>qL,CommunityDefinition:()=>TO,CommunityPostApproval:()=>OL,Contacts:()=>SL,CreateOrUpdateProduct:()=>pO,CreateOrUpdateStall:()=>hO,Curationsets:()=>cO,Date:()=>EO,DirectMessageRelaysList:()=>XL,DraftClassifiedListing:()=>bO,DraftLong:()=>gO,Emojisets:()=>yO,EncryptedDirectMessage:()=>kL,EventDeletion:()=>CL,FileMetadata:()=>TL,FileServerPreference:()=>eO,Followsets:()=>oO,GenericRepost:()=>lw,Genericlists:()=>sO,GiftWrap:()=>QS,HTTPAuth:()=>cw,Handlerinformation:()=>PO,Handlerrecommendation:()=>NO,Highlights:()=>$L,InterestsList:()=>JL,Interestsets:()=>fO,JobFeedback:()=>DL,JobRequest:()=>ML,JobResult:()=>zL,Label:()=>LL,LightningPubRPC:()=>nO,LiveChatMessage:()=>AL,LiveEvent:()=>wO,LongFormArticle:()=>mO,Metadata:()=>bL,Mutelist:()=>HL,NWCWalletInfo:()=>tO,NWCWalletRequest:()=>ek,NWCWalletResponse:()=>rO,NostrConnect:()=>iO,OpenTimestamps:()=>PL,Pinlist:()=>ZL,PrivateDirectMessage:()=>VS,ProblemTracker:()=>RL,ProfileBadges:()=>uO,PublicChatsList:()=>KL,Reaction:()=>aw,RecommendRelay:()=>EL,RelayList:()=>WL,Relaysets:()=>aO,Report:()=>IL,Reporting:()=>jL,Repost:()=>sw,Seal:()=>WS,SearchRelaysList:()=>YL,ShortTextNote:()=>ZS,Time:()=>SO,UserEmojiList:()=>QL,UserStatuses:()=>_O,Zap:()=>UL,ZapGoal:()=>BL,ZapRequest:()=>FL,classifyKind:()=>_L,isAddressableKind:()=>Yp,isEphemeralKind:()=>HS,isKind:()=>xL,isRegularKind:()=>$S,isReplaceableKind:()=>Gp});function $S(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function Gp(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function HS(e){return 2e4<=e&&e<3e4}function Yp(e){return 3e4<=e&&e<4e4}function _L(e){return $S(e)?"regular":Gp(e)?"replaceable":HS(e)?"ephemeral":Yp(e)?"parameterized":"unknown"}function xL(e,t){const n=t instanceof Array?t:[t];return iw(e)&&n.includes(e.kind)||!1}var bL=0,ZS=1,EL=2,SL=3,kL=4,CL=5,sw=6,aw=7,NL=8,WS=13,VS=14,lw=16,qS=40,KS=41,GS=42,YS=43,JS=44,PL=1040,QS=1059,TL=1063,AL=1311,RL=1971,IL=1984,jL=1984,LL=1985,OL=4550,ML=5999,zL=6999,DL=7e3,BL=9041,FL=9734,UL=9735,$L=9802,HL=1e4,ZL=10001,WL=10002,VL=10003,qL=10004,KL=10005,GL=10006,YL=10007,JL=10015,QL=10030,XL=10050,eO=10096,tO=13194,nO=21e3,XS=22242,ek=23194,rO=23195,iO=24133,cw=27235,oO=3e4,sO=30001,aO=30002,lO=30003,cO=30004,uO=30008,dO=30009,fO=30015,hO=30017,pO=30018,mO=30023,gO=30024,yO=30030,vO=30078,wO=30311,_O=30315,xO=30402,bO=30403,EO=31922,SO=31923,kO=31924,CO=31925,NO=31989,PO=31990,TO=34550;function AO(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),i=e[`#${r}`];if(i&&!t.tags.find(([s,l])=>s===n.slice(1)&&i.indexOf(l)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function tk(e,t){for(let n=0;n<e.length;n++)if(AO(e[n],t))return!0;return!1}function nk(e){var t,n,r,i,s,l;if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[u,d]of Object.entries(e))if(u[0]==="#"&&Array.isArray(d)&&!d.length)return 0;return Math.min(Math.max(0,e.limit??1/0),((t=e.ids)==null?void 0:t.length)??1/0,(n=e.authors)!=null&&n.length&&((r=e.kinds)!=null&&r.every(u=>Gp(u)))?e.authors.length*e.kinds.length:1/0,(i=e.authors)!=null&&i.length&&((s=e.kinds)!=null&&s.every(u=>Yp(u)))&&((l=e["#d"])!=null&&l.length)?e.authors.length*e.kinds.length*e["#d"].length:1/0)}var RO={};Yt(RO,{getHex64:()=>Jp,getInt:()=>rk,getSubscriptionId:()=>ik,matchEventId:()=>IO,matchEventKind:()=>LO,matchEventPubkey:()=>jO});function Jp(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function rk(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),s=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,s),10)}function ik(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(i===-1)return null;let s=r+1+i;return e.slice(r+1,s)}function IO(e,t){return t===Jp(e,"id")}function jO(e,t){return t===Jp(e,"pubkey")}function LO(e,t){return t===rk(e,"kind")}var OO={};Yt(OO,{makeAuthEvent:()=>ok});function ok(e,t){return{kind:XS,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function MO(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var sk=class extends Error{constructor(e,t){super(`Tried to send message '${e} on a closed connection to ${t}.`),this.name="SendingOnClosedConnection"}},ak=class{constructor(e,t){Ze(this,"url");Ze(this,"_connected",!1);Ze(this,"onclose",null);Ze(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));Ze(this,"baseEoseTimeout",4400);Ze(this,"connectionTimeout",4400);Ze(this,"publishTimeout",4400);Ze(this,"openSubs",new Map);Ze(this,"connectionTimeoutHandle");Ze(this,"connectionPromise");Ze(this,"openCountRequests",new Map);Ze(this,"openEventPublishes",new Map);Ze(this,"ws");Ze(this,"incomingMessageQueue",new US);Ze(this,"queueRunning",!1);Ze(this,"challenge");Ze(this,"authPromise");Ze(this,"serial",0);Ze(this,"verifyEvent");Ze(this,"_WebSocket");this.url=BS(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){const n=new ak(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket closed"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await MO();this.queueRunning=!1}handleNext(){var n,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=ik(e);if(t){const i=this.openSubs.get(t);if(!i)return;const s=Jp(e,"id"),l=(n=i.alreadyHaveEvent)==null?void 0:n.call(i,s);if((r=i.receivedEvent)==null||r.call(i,this,s),l)return}try{let i=JSON.parse(e);switch(i[0]){case"EVENT":{const s=this.openSubs.get(i[1]),l=i[2];this.verifyEvent(l)&&tk(s.filters,l)&&s.onevent(l);return}case"COUNT":{const s=i[1],l=i[2],u=this.openCountRequests.get(s);u&&(u.resolve(l.count),this.openCountRequests.delete(s));return}case"EOSE":{const s=this.openSubs.get(i[1]);if(!s)return;s.receivedEose();return}case"OK":{const s=i[1],l=i[2],u=i[3],d=this.openEventPublishes.get(s);d&&(clearTimeout(d.timeout),l?d.resolve(u):d.reject(new Error(u)),this.openEventPublishes.delete(s));return}case"CLOSED":{const s=i[1],l=this.openSubs.get(s);if(!l)return;l.closed=!0,l.close(i[2]);return}case"NOTICE":this.onnotice(i[1]);return;case"AUTH":{this.challenge=i[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new sk(e,this.url);this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){const t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let i=await e(ok(this.url,t)),s=setTimeout(()=>{let l=this.openEventPublishes.get(i.id);l&&(l.reject(new Error("auth timed out")),this.openEventPublishes.delete(i.id))},this.publishTimeout);this.openEventPublishes.set(i.id,{resolve:n,reject:r,timeout:s}),this.send('["AUTH",'+JSON.stringify(i)+"]")}catch(i){console.warn("subscribe auth function failed:",i)}}),this.authPromise)}async publish(e){const t=new Promise((n,r)=>{const i=setTimeout(()=>{const s=this.openEventPublishes.get(e.id);s&&(s.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:n,reject:r,timeout:i})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((i,s)=>{this.openCountRequests.set(n,{resolve:i,reject:s})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||(t.label?t.label+":":"sub:")+this.serial,r=new zO(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},zO=class{constructor(e,t,n,r){Ze(this,"relay");Ze(this,"id");Ze(this,"closed",!1);Ze(this,"eosed",!1);Ze(this,"filters");Ze(this,"alreadyHaveEvent");Ze(this,"receivedEvent");Ze(this,"onevent");Ze(this,"oneose");Ze(this,"onclose");Ze(this,"eoseTimeout");Ze(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(i=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,i)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof sk))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},lk;try{lk=WebSocket}catch{}var ck=class extends ak{constructor(e){super(e,{verifyEvent:nf,websocketImplementation:lk})}static async connect(e){const t=new ck(e);return await t.connect(),t}},DO;try{DO=WebSocket}catch{}var rr={};Yt(rr,{BECH32_REGEX:()=>uk,Bech32MaxSize:()=>uw,NostrTypeGuard:()=>BO,decode:()=>Qp,decodeNostrURI:()=>UO,encodeBytes:()=>em,naddrEncode:()=>qO,neventEncode:()=>VO,noteEncode:()=>ZO,nprofileEncode:()=>WO,npubEncode:()=>HO,nsecEncode:()=>$O});var BO={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},uw=5e3,uk=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function FO(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function UO(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),Qp(e)}catch{return{type:"invalid",data:null}}}function Qp(e){var i,s,l,u,d,p,y;let{prefix:t,words:n}=Vc.decode(e,uw),r=new Uint8Array(Vc.fromWords(n));switch(t){case"nprofile":{let g=Cy(r);if(!((i=g[0])!=null&&i[0]))throw new Error("missing TLV 0 for nprofile");if(g[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Zn(g[0][0]),relays:g[1]?g[1].map(b=>Lo.decode(b)):[]}}}case"nevent":{let g=Cy(r);if(!((s=g[0])!=null&&s[0]))throw new Error("missing TLV 0 for nevent");if(g[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(g[2]&&g[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(g[3]&&g[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Zn(g[0][0]),relays:g[1]?g[1].map(b=>Lo.decode(b)):[],author:(l=g[2])!=null&&l[0]?Zn(g[2][0]):void 0,kind:(u=g[3])!=null&&u[0]?parseInt(Zn(g[3][0]),16):void 0}}}case"naddr":{let g=Cy(r);if(!((d=g[0])!=null&&d[0]))throw new Error("missing TLV 0 for naddr");if(!((p=g[2])!=null&&p[0]))throw new Error("missing TLV 2 for naddr");if(g[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((y=g[3])!=null&&y[0]))throw new Error("missing TLV 3 for naddr");if(g[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Lo.decode(g[0][0]),pubkey:Zn(g[2][0]),kind:parseInt(Zn(g[3][0]),16),relays:g[1]?g[1].map(b=>Lo.decode(b)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Zn(r)};default:throw new Error(`unknown prefix ${t}`)}}function Cy(e){let t={},n=e;for(;n.length>0;){let r=n[0],i=n[1],s=n.slice(2,2+i);if(n=n.slice(2+i),s.length<i)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(s)}return t}function $O(e){return em("nsec",e)}function HO(e){return em("npub",ll(e))}function ZO(e){return em("note",ll(e))}function Xp(e,t){let n=Vc.toWords(t);return Vc.encode(e,n,uw)}function em(e,t){return Xp(e,t)}function WO(e){let t=dw({0:[ll(e.pubkey)],1:(e.relays||[]).map(n=>bi.encode(n))});return Xp("nprofile",t)}function VO(e){let t;e.kind!==void 0&&(t=FO(e.kind));let n=dw({0:[ll(e.id)],1:(e.relays||[]).map(r=>bi.encode(r)),2:e.author?[ll(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Xp("nevent",n)}function qO(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=dw({0:[bi.encode(e.identifier)],1:(e.relays||[]).map(r=>bi.encode(r)),2:[ll(e.pubkey)],3:[new Uint8Array(t)]});return Xp("naddr",n)}function dw(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(i=>{let s=new Uint8Array(i.length+2);s.set([parseInt(n)],0),s.set([i.length],1),s.set(i,2),t.push(s)})}),Wp(...t)}var Rd={};Yt(Rd,{decrypt:()=>KO,encrypt:()=>dk});function dk(e,t,n){const r=e instanceof Uint8Array?Zn(e):e,i=Xc.getSharedSecret(r,"02"+t),s=fk(i);let l=Uint8Array.from(ES(16)),u=bi.encode(n),d=jS(s,l).encrypt(u),p=Do.encode(new Uint8Array(d)),y=Do.encode(new Uint8Array(l.buffer));return`${p}?iv=${y}`}function KO(e,t,n){const r=e instanceof Uint8Array?Zn(e):e;let[i,s]=n.split("?iv="),l=Xc.getSharedSecret(r,"02"+t),u=fk(l),d=Do.decode(s),p=Do.decode(i),y=jS(u,d).decrypt(p);return Lo.decode(y)}function fk(e){return e.slice(1,33)}var GO={};Yt(GO,{NIP05_REGEX:()=>fw,isNip05:()=>YO,isValid:()=>XO,queryProfile:()=>hk,searchDomain:()=>QO,useFetchImplementation:()=>JO});var fw=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,YO=e=>fw.test(e||""),tm;try{tm=fetch}catch{}function JO(e){tm=e}async function QO(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await tm(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function hk(e){var i;const t=e.match(fw);if(!t)return null;const[,n="_",r]=t;try{const s=`https://${r}/.well-known/nostr.json?name=${n}`,l=await tm(s,{redirect:"manual"});if(l.status!==200)throw Error("Wrong response code");const u=await l.json(),d=u.names[n];return d?{pubkey:d,relays:(i=u.relays)==null?void 0:i[d]}:null}catch{return null}}async function XO(e,t){const n=await hk(t);return n?n.pubkey===e:!1}var eM={};Yt(eM,{parse:()=>tM});function tM(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let i=e.tags.length-1;i>=0;i--){const s=e.tags[i];if(s[0]==="e"&&s[1]){const[l,u,d,p,y]=s,g={id:u,relays:d?[d]:[],author:y};if(p==="root"){t.root=g;continue}if(p==="reply"){t.reply=g;continue}if(p==="mention"){t.mentions.push(g);continue}n?r=g:n=g,t.mentions.push(g);continue}if(s[0]==="q"&&s[1]){const[l,u,d]=s;t.quotes.push({id:u,relays:d?[d]:[]})}if(s[0]==="p"&&s[1]){t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(i=>{if(!i)return;let s=t.mentions.indexOf(i);if(s!==-1&&t.mentions.splice(s,1),i.author){let l=t.profiles.find(u=>u.pubkey===i.author);l&&l.relays&&(i.relays||(i.relays=[]),l.relays.forEach(u=>{var d;((d=i.relays)==null?void 0:d.indexOf(u))===-1&&i.relays.push(u)}),l.relays=i.relays)}}),t.mentions.forEach(i=>{if(i.author){let s=t.profiles.find(l=>l.pubkey===i.author);s&&s.relays&&(i.relays||(i.relays=[]),s.relays.forEach(l=>{i.relays.indexOf(l)===-1&&i.relays.push(l)}),s.relays=i.relays)}}),t}var nM={};Yt(nM,{fetchRelayInformation:()=>iM,useFetchImplementation:()=>rM});var pk;try{pk=fetch}catch{}function rM(e){pk=e}async function iM(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var oM={};Yt(oM,{fastEventHash:()=>gk,getPow:()=>mk,minePow:()=>sM});function mk(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function sM(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const s=Math.floor(new Date().getTime()/1e3);if(s!==r.created_at&&(n=0,r.created_at=s),i[1]=(++n).toString(),r.id=gk(r),mk(r.id)>=t)break}return r}function gk(e){return Zn(eu(bi.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var aM={};Yt(aM,{unwrapEvent:()=>vM,unwrapManyEvents:()=>wM,wrapEvent:()=>Tk,wrapManyEvents:()=>yM});var lM={};Yt(lM,{createRumor:()=>kk,createSeal:()=>Ck,createWrap:()=>Nk,unwrapEvent:()=>yw,unwrapManyEvents:()=>Pk,wrapEvent:()=>yp,wrapManyEvents:()=>mM});var Ks={};Yt(Ks,{decrypt:()=>gw,encrypt:()=>mw,getConversationKey:()=>hw,v2:()=>hM});var yk=1,vk=65535;function hw(e,t){const n=Xc.getSharedSecret(e,"02"+t).subarray(1,33);return uL(eu,n,"nip44-v2")}function wk(e,t){const n=dL(eu,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function pw(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function cM(e){if(!Number.isSafeInteger(e)||e<yk||e>vk)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function uM(e){const t=bi.encode(e),n=t.length,r=cM(n),i=new Uint8Array(pw(n)-n);return Wp(r,t,i)}function dM(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<yk||t>vk||n.length!==t||e.length!==2+pw(t))throw new Error("invalid padding");return Lo.decode(n)}function _k(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=Wp(n,t);return qp(eu,e,r)}function fM(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Do.decode(e)}catch(s){throw new Error("invalid base64: "+s.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(i!==2)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function mw(e,t,n=ES(32)){const{chacha_key:r,chacha_nonce:i,hmac_key:s}=wk(t,n),l=uM(e),u=zS(r,i,l),d=_k(s,u,n);return Do.encode(Wp(new Uint8Array([2]),n,u,d))}function gw(e,t){const{nonce:n,ciphertext:r,mac:i}=fM(e),{chacha_key:s,chacha_nonce:l,hmac_key:u}=wk(t,n),d=_k(u,r,n);if(!W4(d,i))throw new Error("invalid MAC");const p=zS(s,l,r);return dM(p)}var hM={utils:{getConversationKey:hw,calcPaddedLen:pw},encrypt:mw,decrypt:gw},pM=2*24*60*60,xk=()=>Math.round(Date.now()/1e3),bk=()=>Math.round(xk()-Math.random()*pM),Ek=(e,t)=>hw(e,t),Sk=(e,t,n)=>mw(JSON.stringify(e),Ek(t,n)),s1=(e,t)=>JSON.parse(gw(e.content,Ek(t,e.pubkey)));function kk(e,t){const n={created_at:xk(),content:"",tags:[],...e,pubkey:Bo(t)};return n.id=Sd(n),n}function Ck(e,t,n){return ri({kind:WS,content:Sk(e,t,n),created_at:bk(),tags:[]},t)}function Nk(e,t){const n=tf();return ri({kind:QS,content:Sk(e,n,t),created_at:bk(),tags:[["p",t]]},n)}function yp(e,t,n){const r=kk(e,t),i=Ck(r,t,n);return Nk(i,n)}function mM(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=Bo(t),i=[yp(e,t,r)];return n.forEach(s=>{i.push(yp(e,t,s))}),i}function yw(e,t){const n=s1(e,t);return s1(n,t)}function Pk(e,t){let n=[];return e.forEach(r=>{n.push(yw(r,t))}),n.sort((r,i)=>r.created_at-i.created_at),n}function gM(e,t,n,r){const i={created_at:Math.ceil(Date.now()/1e3),kind:VS,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:l,relayUrl:u})=>{i.tags.push(u?["p",l,u]:["p",l])}),r&&i.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&i.tags.push(["subject",n]),i}function Tk(e,t,n,r,i){const s=gM(t,n,r,i);return yp(s,e,t.publicKey)}function yM(e,t,n,r,i){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Bo(e)},...t].map(l=>Tk(e,l,n,r,i))}var vM=yw,wM=Pk,_M={};Yt(_M,{finishRepostEvent:()=>xM,getRepostedEvent:()=>bM,getRepostedEventPointer:()=>Ak});function xM(e,t,n,r){var l;let i;const s=[...e.tags??[],["e",t.id,n],["p",t.pubkey]];return t.kind===ZS?i=sw:(i=lw,s.push(["k",String(t.kind)])),ri({kind:i,tags:s,content:e.content===""||(l=t.tags)!=null&&l.find(u=>u[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function Ak(e){if(![sw,lw].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function bM(e,{skipVerification:t}={}){const n=Ak(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!nf(r)))return r}var EM={};Yt(EM,{NOSTR_URI_REGEX:()=>vw,parse:()=>kM,test:()=>SM});var vw=new RegExp(`nostr:(${uk.source})`);function SM(e){return typeof e=="string"&&new RegExp(`^${vw.source}$`).test(e)}function kM(e){const t=e.match(new RegExp(`^${vw.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Qp(t[1])}}var CM={};Yt(CM,{finishReactionEvent:()=>NM,getReactedEventPointer:()=>PM});function NM(e,t,n){const r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return ri({...e,kind:aw,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function PM(e){if(e.kind!==aw)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var TM={};Yt(TM,{parse:()=>RM});var AM=/\W/m,a1=/\W |\W$|$|,| /m;function*RM(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.indexOf(":",r);if(i===-1)break;if(e.substring(i-5,i)==="nostr"){const s=e.substring(i+60).match(AM),l=s?i+60+s.index:t;try{let u,{data:d,type:p}=Qp(e.substring(i+1,l));switch(p){case"npub":u={pubkey:d};break;case"nsec":case"note":r=l+1;continue;default:u=d}n!==i-5&&(yield{type:"text",text:e.substring(n,i-5)}),yield{type:"reference",pointer:u},r=l,n=r;continue}catch{r=i+1;continue}}else if(e.substring(i-5,i)==="https"||e.substring(i-4,i)==="http"){const s=e.substring(i+4).match(a1),l=s?i+4+s.index:t,u=e[i-1]==="s"?5:4;try{let d=new URL(e.substring(i-u,l));if(d.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),d.pathname.endsWith(".png")||d.pathname.endsWith(".jpg")||d.pathname.endsWith(".jpeg")||d.pathname.endsWith(".gif")||d.pathname.endsWith(".webp")){yield{type:"image",url:d.toString()},r=l,n=r;continue}if(d.pathname.endsWith(".mp4")||d.pathname.endsWith(".avi")||d.pathname.endsWith(".webm")||d.pathname.endsWith(".mkv")){yield{type:"video",url:d.toString()},r=l,n=r;continue}if(d.pathname.endsWith(".mp3")||d.pathname.endsWith(".aac")||d.pathname.endsWith(".ogg")||d.pathname.endsWith(".opus")){yield{type:"audio",url:d.toString()},r=l,n=r;continue}yield{type:"url",url:d.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else if(e.substring(i-3,i)==="wss"||e.substring(i-2,i)==="ws"){const s=e.substring(i+4).match(a1),l=s?i+4+s.index:t,u=e[i-1]==="s"?3:2;try{let d=new URL(e.substring(i-u,l));if(d.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),yield{type:"relay",url:d.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else{r=i+1;continue}}n!==t&&(yield{type:"text",text:e.substring(n)})}var IM={};Yt(IM,{channelCreateEvent:()=>jM,channelHideMessageEvent:()=>MM,channelMessageEvent:()=>OM,channelMetadataEvent:()=>LM,channelMuteUserEvent:()=>zM});var jM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ri({kind:qS,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},LM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ri({kind:KS,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},OM=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),ri({kind:GS,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},MM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ri({kind:YS,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},zM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ri({kind:JS,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},DM={};Yt(DM,{EMOJI_SHORTCODE_REGEX:()=>Rk,matchAll:()=>BM,regex:()=>ww,replaceAll:()=>FM});var Rk=/:(\w+):/,ww=()=>new RegExp(`\\B${Rk.source}\\B`,"g");function*BM(e){const t=e.matchAll(ww());for(const n of t)try{const[r,i]=n;yield{shortcode:r,name:i,start:n.index,end:n.index+r.length}}catch{}}function FM(e,t){return e.replaceAll(ww(),(n,r)=>t({shortcode:n,name:r}))}var UM={};Yt(UM,{useFetchImplementation:()=>$M,validateGithub:()=>HM});var _w;try{_w=fetch}catch{}function $M(e){_w=e}async function HM(e,t,n){try{return await(await _w(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var ZM={};Yt(ZM,{makeNwcRequestEvent:()=>VM,parseConnectionString:()=>WM});function WM(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),s=n.get("secret");if(!r||!i||!s)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:s}}async function VM(e,t,n){const i=dk(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),s={kind:ek,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return ri(s,t)}var qM={};Yt(qM,{normalizeIdentifier:()=>KM});function KM(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var GM={};Yt(GM,{getSatoshisAmountFromBolt11:()=>tz,getZapEndpoint:()=>JM,makeZapReceipt:()=>ez,makeZapRequest:()=>QM,useFetchImplementation:()=>YM,validateZapRequest:()=>XM});var xw;try{xw=fetch}catch{}function YM(e){xw=e}async function JM(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:l}=Vc.decode(n,1e3),u=Vc.fromWords(l);t=Lo.decode(u)}else if(r){let[l,u]=r.split("@");t=new URL(`/.well-known/lnurlp/${l}`,`https://${u}`).toString()}else return null;let s=await(await xw(t)).json();if(s.allowsNostr&&s.nostrPubkey)return s.callback}catch{}return null}function QM({profile:e,event:t,amount:n,relays:r,comment:i=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",n.toString()],["relays",...r]]};if(t&&typeof t=="string"&&s.tags.push(["e",t]),t&&typeof t=="object"){if(Gp(t.kind)){const l=["a",`${t.kind}:${t.pubkey}:`];s.tags.push(l)}else if(Yp(t.kind)){let l=t.tags.find(([d,p])=>d==="d"&&p);if(!l)throw new Error("d tag not found or is empty");const u=["a",`${t.kind}:${t.pubkey}:${l[1]}`];s.tags.push(u)}}return s}function XM(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!iw(t))return"Zap request is not a valid Nostr event.";if(!nf(t))return"Invalid signature on zap request.";let n=t.tags.find(([s,l])=>s==="p"&&l);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([s,l])=>s==="e"&&l);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([s,l])=>s==="relays"&&l)?null:"Zap request doesn't have a 'relays' tag."}function ez({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e),s=i.tags.filter(([u])=>u==="e"||u==="p"||u==="a"),l={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...s,["P",i.pubkey],["bolt11",n],["description",e]]};return t&&l.tags.push(["preimage",t]),l}function tz(e){if(e.length<50)return 0;e=e.substring(0,50);const t=e.lastIndexOf("1");if(t===-1)return 0;const n=e.substring(0,t);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const i=r[r.length-1],s=i.charCodeAt(0)-48,l=s>=0&&s<=9;let u=r.length-1;if(l&&u++,u<1)return 0;const d=parseInt(r.substring(0,u));switch(i){case"m":return d*1e5;case"u":return d*100;case"n":return d/10;case"p":return d/1e4;default:return d*1e8}}var nz={};Yt(nz,{getToken:()=>rz,hashPayload:()=>bw,unpackEventFromToken:()=>jk,validateEvent:()=>Bk,validateEventKind:()=>Ok,validateEventMethodTag:()=>zk,validateEventPayloadTag:()=>Dk,validateEventTimestamp:()=>Lk,validateEventUrlTag:()=>Mk,validateToken:()=>iz});var Ik="Nostr ";async function rz(e,t,n,r=!1,i){const s={kind:cw,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};i&&s.tags.push(["payload",bw(i)]);const l=await n(s);return(r?Ik:"")+Do.encode(bi.encode(JSON.stringify(l)))}async function iz(e,t,n){const r=await jk(e).catch(s=>{throw s});return await Bk(r,t,n).catch(s=>{throw s})}async function jk(e){if(!e)throw new Error("Missing token");e=e.replace(Ik,"");const t=Lo.decode(Do.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function Lk(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function Ok(e){return e.kind===cw}function Mk(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function zk(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function bw(e){const t=eu(bi.encode(JSON.stringify(e)));return Zn(t)}function Dk(e,t){const n=e.tags.find(i=>i[0]==="payload");if(!n)return!1;const r=bw(t);return n.length>0&&n[1]===r}async function Bk(e,t,n,r){if(!nf(e))throw new Error("Invalid nostr event, signature invalid");if(!Ok(e))throw new Error("Invalid nostr event, kind invalid");if(!Lk(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Mk(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!zk(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!Dk(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var A2,R2,Bp,Fk;const Hi=class Hi{constructor(t){it(this,Bp);Ze(this,"cache");Ze(this,A2,"NSet");this.cache=t??new Map}get size(){return this.cache.size}add(t){vt(this,Bp,Fk).call(this,t);for(const n of this){if(Hi.deletes(n,t)||Hi.replaces(n,t))return this;Hi.replaces(t,n)&&this.delete(n)}return this.cache.set(t.id,t),this}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,n){return this.cache.forEach((r,i)=>t(r,r,this),n)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of Hi.sortEvents([...this.cache.values()]))yield t}[(R2=Symbol.iterator,A2=Symbol.toStringTag,R2)](){return this.values()}static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isAddressable(t){return 3e4<=t&&t<4e4}static replaces(t,n){var s,l;const{kind:r,pubkey:i}=t;if(Hi.isReplaceable(r))return r===n.kind&&i===n.pubkey&&Hi.sortEvents([t,n])[0]===t;if(Hi.isAddressable(r)){const u=((s=t.tags.find(([p])=>p==="d"))==null?void 0:s[1])||"",d=((l=n.tags.find(([p])=>p==="d"))==null?void 0:l[1])||"";return r===n.kind&&i===n.pubkey&&Hi.sortEvents([t,n])[0]===t&&u===d}return!1}static deletes(t,n){const{kind:r,pubkey:i,tags:s}=t;if(r===5&&i===n.pubkey){for(const[l,u]of s)if(l==="e"&&u===n.id)return!0}return!1}static sortEvents(t){return t.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}};Bp=new WeakSet,Fk=function(t){if(t.kind===5){for(const n of t.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===t.pubkey&&this.delete(r)}}};let vp=Hi;const oz=Object.freeze({status:"aborted"});function Ae(e,t,n){function r(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const p=l.prototype,y=Object.keys(p);for(let g=0;g<y.length;g++){const b=y[g];b in u||(u[b]=p[b].bind(u))}}const i=(n==null?void 0:n.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:e});function l(u){var d;const p=n!=null&&n.Parent?new s:this;r(p,u),(d=p._zod).deferred??(d.deferred=[]);for(const y of p._zod.deferred)y();return p}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>{var d,p;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(p=(d=u==null?void 0:u._zod)==null?void 0:d.traits)==null?void 0:p.has(e)}}),Object.defineProperty(l,"name",{value:e}),l}class Ec extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Uk extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const $k={};function ta(e){return $k}function Hk(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Qv(e,t){return typeof t=="bigint"?t.toString():t}function Ew(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Sw(e){return e==null}function kw(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function sz(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d!=null&&d[1]&&(i=Number.parseInt(d[1]))}const s=n>i?n:i,l=Number.parseInt(e.toFixed(s).replace(".","")),u=Number.parseInt(t.toFixed(s).replace(".",""));return l%u/10**s}const l1=Symbol("evaluating");function Dt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==l1)return r===void 0&&(r=l1,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function ml(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function aa(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function c1(e){return JSON.stringify(e)}function az(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Zk="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function wp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const lz=Ew(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function qc(e){if(wp(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(wp(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Wk(e){return qc(e)?{...e}:Array.isArray(e)?[...e]:e}const cz=new Set(["string","number","symbol"]);function Kc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function la(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function st(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function uz(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const dz={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function fz(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=aa(e._zod.def,{get shape(){const l={};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&(l[u]=n.shape[u])}return ml(this,"shape",l),l},checks:[]});return la(e,s)}function hz(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=aa(e._zod.def,{get shape(){const l={...e._zod.def.shape};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&delete l[u]}return ml(this,"shape",l),l},checks:[]});return la(e,s)}function pz(e,t){if(!qc(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const l in t)if(Object.getOwnPropertyDescriptor(s,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=aa(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return ml(this,"shape",s),s}});return la(e,i)}function mz(e,t){if(!qc(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=aa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return ml(this,"shape",r),r}});return la(e,n)}function gz(e,t){const n=aa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return ml(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return la(e,n)}function yz(e,t,n){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=aa(t._zod.def,{get shape(){const u=t._zod.def.shape,d={...u};if(n)for(const p in n){if(!(p in u))throw new Error(`Unrecognized key: "${p}"`);n[p]&&(d[p]=e?new e({type:"optional",innerType:u[p]}):u[p])}else for(const p in u)d[p]=e?new e({type:"optional",innerType:u[p]}):u[p];return ml(this,"shape",d),d},checks:[]});return la(t,l)}function vz(e,t,n){const r=aa(t._zod.def,{get shape(){const i=t._zod.def.shape,s={...i};if(n)for(const l in n){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(s[l]=new e({type:"nonoptional",innerType:i[l]}))}else for(const l in i)s[l]=new e({type:"nonoptional",innerType:i[l]});return ml(this,"shape",s),s}});return la(t,r)}function _c(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Za(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Dh(e){return typeof e=="string"?e:e==null?void 0:e.message}function na(e,t,n){var i,s,l,u,d,p;const r={...e,path:e.path??[]};if(!e.message){const y=Dh((l=(s=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:l.call(s,e))??Dh((u=t==null?void 0:t.error)==null?void 0:u.call(t,e))??Dh((d=n.customError)==null?void 0:d.call(n,e))??Dh((p=n.localeError)==null?void 0:p.call(n,e))??"Invalid input";r.message=y}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Cw(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Id(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Vk=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Qv,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},qk=Ae("$ZodError",Vk),Kk=Ae("$ZodError",Vk,{Parent:Error});function wz(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function _z(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>r({issues:l}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let l=n,u=0;for(;u<s.path.length;){const d=s.path[u];u===s.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(s))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return r(e),n}const Nw=e=>(t,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},s);if(l instanceof Promise)throw new Ec;if(l.issues.length){const u=new((i==null?void 0:i.Err)??e)(l.issues.map(d=>na(d,s,ta())));throw Zk(u,i==null?void 0:i.callee),u}return l.value},Pw=e=>async(t,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},s);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new((i==null?void 0:i.Err)??e)(l.issues.map(d=>na(d,s,ta())));throw Zk(u,i==null?void 0:i.callee),u}return l.value},nm=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new Ec;return s.issues.length?{success:!1,error:new(e??qk)(s.issues.map(l=>na(l,i,ta())))}:{success:!0,data:s.value}},xz=nm(Kk),rm=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(l=>na(l,i,ta())))}:{success:!0,data:s.value}},bz=rm(Kk),Ez=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Nw(e)(t,n,i)},Sz=e=>(t,n,r)=>Nw(e)(t,n,r),kz=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Pw(e)(t,n,i)},Cz=e=>async(t,n,r)=>Pw(e)(t,n,r),Nz=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return nm(e)(t,n,i)},Pz=e=>(t,n,r)=>nm(e)(t,n,r),Tz=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return rm(e)(t,n,i)},Az=e=>async(t,n,r)=>rm(e)(t,n,r),Rz=/^[cC][^\s-]{8,}$/,Iz=/^[0-9a-z]+$/,jz=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Lz=/^[0-9a-vA-V]{20}$/,Oz=/^[A-Za-z0-9]{27}$/,Mz=/^[a-zA-Z0-9_-]{21}$/,zz=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Dz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,u1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Bz=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Fz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Uz(){return new RegExp(Fz,"u")}const $z=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Hz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Zz=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Wz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Vz=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Gk=/^[A-Za-z0-9_-]*$/,qz=/^\+[1-9]\d{6,14}$/,Yk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Kz=new RegExp(`^${Yk}$`);function Jk(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Gz(e){return new RegExp(`^${Jk(e)}$`)}function Yz(e){const t=Jk({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Yk}T(?:${r})$`)}const Jz=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Qz=/^-?\d+$/,Qk=/^-?\d+(?:\.\d+)?$/,Xz=/^(?:true|false)$/i,e8=/^[^A-Z]*$/,t8=/^[^a-z]*$/,vr=Ae("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Xk={number:"number",bigint:"bigint",object:"date"},eC=Ae("$ZodCheckLessThan",(e,t)=>{vr.init(e,t);const n=Xk[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tC=Ae("$ZodCheckGreaterThan",(e,t)=>{vr.init(e,t);const n=Xk[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),n8=Ae("$ZodCheckMultipleOf",(e,t)=>{vr.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):sz(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),r8=Ae("$ZodCheckNumberFormat",(e,t)=>{var l;vr.init(e,t),t.format=t.format||"float64";const n=(l=t.format)==null?void 0:l.includes("int"),r=n?"int":"number",[i,s]=dz[t.format];e._zod.onattach.push(u=>{const d=u._zod.bag;d.format=t.format,d.minimum=i,d.maximum=s,n&&(d.pattern=Qz)}),e._zod.check=u=>{const d=u.value;if(n){if(!Number.isInteger(d)){u.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:d,inst:e});return}if(!Number.isSafeInteger(d)){d>0?u.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):u.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}d<i&&u.issues.push({origin:"number",input:d,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),d>s&&u.issues.push({origin:"number",input:d,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!t.abort})}}),i8=Ae("$ZodCheckMaxLength",(e,t)=>{var n;vr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Sw(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const l=Cw(i);r.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),o8=Ae("$ZodCheckMinLength",(e,t)=>{var n;vr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Sw(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const l=Cw(i);r.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),s8=Ae("$ZodCheckLengthEquals",(e,t)=>{var n;vr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Sw(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,s=i.length;if(s===t.length)return;const l=Cw(i),u=s>t.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),im=Ae("$ZodCheckStringFormat",(e,t)=>{var n,r;vr.init(e,t),e._zod.onattach.push(i=>{const s=i._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),a8=Ae("$ZodCheckRegex",(e,t)=>{im.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),l8=Ae("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=e8),im.init(e,t)}),c8=Ae("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=t8),im.init(e,t)}),u8=Ae("$ZodCheckIncludes",(e,t)=>{vr.init(e,t);const n=Kc(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),d8=Ae("$ZodCheckStartsWith",(e,t)=>{vr.init(e,t);const n=new RegExp(`^${Kc(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),f8=Ae("$ZodCheckEndsWith",(e,t)=>{vr.init(e,t);const n=new RegExp(`.*${Kc(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),h8=Ae("$ZodCheckOverwrite",(e,t)=>{vr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class p8{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(l=>l),i=Math.min(...r.map(l=>l.length-l.trimStart().length)),s=r.map(l=>l.slice(i)).map(l=>" ".repeat(this.indent*2)+l);for(const l of s)this.content.push(l)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,i.join(`
`))}}const m8={major:4,minor:3,patch:6},Kt=Ae("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=m8;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const l of s._zod.onattach)l(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const s=(u,d,p)=>{let y=_c(u),g;for(const b of d){if(b._zod.def.when){if(!b._zod.def.when(u))continue}else if(y)continue;const _=u.issues.length,S=b._zod.check(u);if(S instanceof Promise&&(p==null?void 0:p.async)===!1)throw new Ec;if(g||S instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await S,u.issues.length!==_&&(y||(y=_c(u,_)))});else{if(u.issues.length===_)continue;y||(y=_c(u,_))}}return g?g.then(()=>u):u},l=(u,d,p)=>{if(_c(u))return u.aborted=!0,u;const y=s(d,r,p);if(y instanceof Promise){if(p.async===!1)throw new Ec;return y.then(g=>e._zod.parse(g,p))}return e._zod.parse(y,p)};e._zod.run=(u,d)=>{if(d.skipChecks)return e._zod.parse(u,d);if(d.direction==="backward"){const y=e._zod.parse({value:u.value,issues:[]},{...d,skipChecks:!0});return y instanceof Promise?y.then(g=>l(g,u,d)):l(y,u,d)}const p=e._zod.parse(u,d);if(p instanceof Promise){if(d.async===!1)throw new Ec;return p.then(y=>s(y,r,d))}return s(p,r,d)}}Dt(e,"~standard",()=>({validate:s=>{var l;try{const u=xz(e,s);return u.success?{value:u.data}:{issues:(l=u.error)==null?void 0:l.issues}}catch{return bz(e,s).then(d=>{var p;return d.success?{value:d.data}:{issues:(p=d.error)==null?void 0:p.issues}})}},vendor:"zod",version:1}))}),Tw=Ae("$ZodString",(e,t)=>{var n;Kt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??Jz(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Jt=Ae("$ZodStringFormat",(e,t)=>{im.init(e,t),Tw.init(e,t)}),g8=Ae("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Dz),Jt.init(e,t)}),y8=Ae("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=u1(r))}else t.pattern??(t.pattern=u1());Jt.init(e,t)}),v8=Ae("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Bz),Jt.init(e,t)}),w8=Ae("$ZodURL",(e,t)=>{Jt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),_8=Ae("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Uz()),Jt.init(e,t)}),x8=Ae("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Mz),Jt.init(e,t)}),b8=Ae("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Rz),Jt.init(e,t)}),E8=Ae("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Iz),Jt.init(e,t)}),S8=Ae("$ZodULID",(e,t)=>{t.pattern??(t.pattern=jz),Jt.init(e,t)}),k8=Ae("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Lz),Jt.init(e,t)}),C8=Ae("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Oz),Jt.init(e,t)}),N8=Ae("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Yz(t)),Jt.init(e,t)}),P8=Ae("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Kz),Jt.init(e,t)}),T8=Ae("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Gz(t)),Jt.init(e,t)}),A8=Ae("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=zz),Jt.init(e,t)}),R8=Ae("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=$z),Jt.init(e,t),e._zod.bag.format="ipv4"}),I8=Ae("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Hz),Jt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),j8=Ae("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Zz),Jt.init(e,t)}),L8=Ae("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Wz),Jt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const l=Number(s);if(`${l}`!==s)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function nC(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const O8=Ae("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Vz),Jt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{nC(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function M8(e){if(!Gk.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return nC(n)}const z8=Ae("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Gk),Jt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{M8(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),D8=Ae("$ZodE164",(e,t)=>{t.pattern??(t.pattern=qz),Jt.init(e,t)});function B8(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const F8=Ae("$ZodJWT",(e,t)=>{Jt.init(e,t),e._zod.check=n=>{B8(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),rC=Ae("$ZodNumber",(e,t)=>{Kt.init(e,t),e._zod.pattern=e._zod.bag.pattern??Qk,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),n}}),U8=Ae("$ZodNumberFormat",(e,t)=>{r8.init(e,t),rC.init(e,t)}),$8=Ae("$ZodBoolean",(e,t)=>{Kt.init(e,t),e._zod.pattern=Xz,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),H8=Ae("$ZodUnknown",(e,t)=>{Kt.init(e,t),e._zod.parse=n=>n}),Z8=Ae("$ZodNever",(e,t)=>{Kt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function d1(e,t,n){e.issues.length&&t.issues.push(...Za(n,e.issues)),t.value[n]=e.value}const W8=Ae("$ZodArray",(e,t)=>{Kt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const s=[];for(let l=0;l<i.length;l++){const u=i[l],d=t.element._zod.run({value:u,issues:[]},r);d instanceof Promise?s.push(d.then(p=>d1(p,n,l))):d1(d,n,l)}return s.length?Promise.all(s).then(()=>n):n}});function _p(e,t,n,r,i){if(e.issues.length){if(i&&!(n in r))return;t.issues.push(...Za(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function iC(e){var r,i,s,l;const t=Object.keys(e.shape);for(const u of t)if(!((l=(s=(i=(r=e.shape)==null?void 0:r[u])==null?void 0:i._zod)==null?void 0:s.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${u}": expected a Zod schema`);const n=uz(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function oC(e,t,n,r,i,s){const l=[],u=i.keySet,d=i.catchall._zod,p=d.def.type,y=d.optout==="optional";for(const g in t){if(u.has(g))continue;if(p==="never"){l.push(g);continue}const b=d.run({value:t[g],issues:[]},r);b instanceof Promise?e.push(b.then(_=>_p(_,n,g,t,y))):_p(b,n,g,t,y)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const V8=Ae("$ZodObject",(e,t)=>{Kt.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const r=Ew(()=>iC(t));Dt(e._zod,"propValues",()=>{const u=t.shape,d={};for(const p in u){const y=u[p]._zod;if(y.values){d[p]??(d[p]=new Set);for(const g of y.values)d[p].add(g)}}return d});const i=wp,s=t.catchall;let l;e._zod.parse=(u,d)=>{l??(l=r.value);const p=u.value;if(!i(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),u;u.value={};const y=[],g=l.shape;for(const b of l.keys){const _=g[b],S=_._zod.optout==="optional",v=_._zod.run({value:p[b],issues:[]},d);v instanceof Promise?y.push(v.then(E=>_p(E,u,b,p,S))):_p(v,u,b,p,S)}return s?oC(y,p,u,d,r.value,e):y.length?Promise.all(y).then(()=>u):u}}),q8=Ae("$ZodObjectJIT",(e,t)=>{V8.init(e,t);const n=e._zod.parse,r=Ew(()=>iC(t)),i=b=>{var A;const _=new p8(["shape","payload","ctx"]),S=r.value,v=z=>{const D=c1(z);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};_.write("const input = payload.value;");const E=Object.create(null);let k=0;for(const z of S.keys)E[z]=`key_${k++}`;_.write("const newResult = {};");for(const z of S.keys){const D=E[z],Z=c1(z),W=b[z],q=((A=W==null?void 0:W._zod)==null?void 0:A.optout)==="optional";_.write(`const ${D} = ${v(z)};`),q?_.write(`
        if (${D}.issues.length) {
          if (${Z} in input) {
            payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Z}, ...iss.path] : [${Z}]
            })));
          }
        }
        
        if (${D}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${D}.value;
        }
        
      `):_.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Z}, ...iss.path] : [${Z}]
          })));
        }
        
        if (${D}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${D}.value;
        }
        
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const T=_.compile();return(z,D)=>T(b,z,D)};let s;const l=wp,u=!$k.jitless,p=u&&lz.value,y=t.catchall;let g;e._zod.parse=(b,_)=>{g??(g=r.value);const S=b.value;return l(S)?u&&p&&(_==null?void 0:_.async)===!1&&_.jitless!==!0?(s||(s=i(t.shape)),b=s(b,_),y?oC([],S,b,_,g,e):b):n(b,_):(b.issues.push({expected:"object",code:"invalid_type",input:S,inst:e}),b)}});function f1(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const i=e.filter(s=>!_c(s));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(l=>na(l,r,ta())))}),t)}const K8=Ae("$ZodUnion",(e,t)=>{Kt.init(e,t),Dt(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Dt(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Dt(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Dt(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>kw(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(n)return r(i,s);let l=!1;const u=[];for(const d of t.options){const p=d._zod.run({value:i.value,issues:[]},s);if(p instanceof Promise)u.push(p),l=!0;else{if(p.issues.length===0)return p;u.push(p)}}return l?Promise.all(u).then(d=>f1(d,i,e,s)):f1(u,i,e,s)}}),G8=Ae("$ZodIntersection",(e,t)=>{Kt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,s=t.left._zod.run({value:i,issues:[]},r),l=t.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||l instanceof Promise?Promise.all([s,l]).then(([d,p])=>h1(n,d,p)):h1(n,s,l)}});function Xv(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(qc(e)&&qc(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),i={...e,...t};for(const s of r){const l=Xv(e[s],t[s]);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};i[s]=l.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r],l=Xv(i,s);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function h1(e,t,n){const r=new Map;let i;for(const u of t.issues)if(u.code==="unrecognized_keys"){i??(i=u);for(const d of u.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else e.issues.push(u);for(const u of n.issues)if(u.code==="unrecognized_keys")for(const d of u.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else e.issues.push(u);const s=[...r].filter(([,u])=>u.l&&u.r).map(([u])=>u);if(s.length&&i&&e.issues.push({...i,keys:s}),_c(e))return e;const l=Xv(t.value,n.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const Y8=Ae("$ZodTuple",(e,t)=>{Kt.init(e,t);const n=t.items;e._zod.parse=(r,i)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({input:s,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const l=[],u=[...n].reverse().findIndex(y=>y._zod.optin!=="optional"),d=u===-1?0:n.length-u;if(!t.rest){const y=s.length>n.length,g=s.length<d-1;if(y||g)return r.issues.push({...y?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:s,inst:e,origin:"array"}),r}let p=-1;for(const y of n){if(p++,p>=s.length&&p>=d)continue;const g=y._zod.run({value:s[p],issues:[]},i);g instanceof Promise?l.push(g.then(b=>Bh(b,r,p))):Bh(g,r,p)}if(t.rest){const y=s.slice(n.length);for(const g of y){p++;const b=t.rest._zod.run({value:g,issues:[]},i);b instanceof Promise?l.push(b.then(_=>Bh(_,r,p))):Bh(b,r,p)}}return l.length?Promise.all(l).then(()=>r):r}});function Bh(e,t,n){e.issues.length&&t.issues.push(...Za(n,e.issues)),t.value[n]=e.value}const J8=Ae("$ZodRecord",(e,t)=>{Kt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!qc(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const s=[],l=t.keyType._zod.values;if(l){n.value={};const u=new Set;for(const p of l)if(typeof p=="string"||typeof p=="number"||typeof p=="symbol"){u.add(typeof p=="number"?p.toString():p);const y=t.valueType._zod.run({value:i[p],issues:[]},r);y instanceof Promise?s.push(y.then(g=>{g.issues.length&&n.issues.push(...Za(p,g.issues)),n.value[p]=g.value})):(y.issues.length&&n.issues.push(...Za(p,y.issues)),n.value[p]=y.value)}let d;for(const p in i)u.has(p)||(d=d??[],d.push(p));d&&d.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:d})}else{n.value={};for(const u of Reflect.ownKeys(i)){if(u==="__proto__")continue;let d=t.keyType._zod.run({value:u,issues:[]},r);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof u=="string"&&Qk.test(u)&&d.issues.length){const g=t.keyType._zod.run({value:Number(u),issues:[]},r);if(g instanceof Promise)throw new Error("Async schemas not supported in object keys currently");g.issues.length===0&&(d=g)}if(d.issues.length){t.mode==="loose"?n.value[u]=i[u]:n.issues.push({code:"invalid_key",origin:"record",issues:d.issues.map(g=>na(g,r,ta())),input:u,path:[u],inst:e});continue}const y=t.valueType._zod.run({value:i[u],issues:[]},r);y instanceof Promise?s.push(y.then(g=>{g.issues.length&&n.issues.push(...Za(u,g.issues)),n.value[d.value]=g.value})):(y.issues.length&&n.issues.push(...Za(u,y.issues)),n.value[d.value]=y.value)}}return s.length?Promise.all(s).then(()=>n):n}}),Q8=Ae("$ZodEnum",(e,t)=>{Kt.init(e,t);const n=Hk(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>cz.has(typeof i)).map(i=>typeof i=="string"?Kc(i):i.toString()).join("|")})$`),e._zod.parse=(i,s)=>{const l=i.value;return r.has(l)||i.issues.push({code:"invalid_value",values:n,input:l,inst:e}),i}}),X8=Ae("$ZodLiteral",(e,t)=>{if(Kt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Kc(r):r?Kc(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),e5=Ae("$ZodTransform",(e,t)=>{Kt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Uk(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(l=>(n.value=l,n));if(i instanceof Promise)throw new Ec;return n.value=i,n}});function p1(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const sC=Ae("$ZodOptional",(e,t)=>{Kt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Dt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${kw(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>p1(s,n.value)):p1(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),t5=Ae("$ZodExactOptional",(e,t)=>{sC.init(e,t),Dt(e._zod,"values",()=>t.innerType._zod.values),Dt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),n5=Ae("$ZodNullable",(e,t)=>{Kt.init(e,t),Dt(e._zod,"optin",()=>t.innerType._zod.optin),Dt(e._zod,"optout",()=>t.innerType._zod.optout),Dt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${kw(n.source)}|null)$`):void 0}),Dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),r5=Ae("$ZodDefault",(e,t)=>{Kt.init(e,t),e._zod.optin="optional",Dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>m1(s,t)):m1(i,t)}});function m1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const i5=Ae("$ZodPrefault",(e,t)=>{Kt.init(e,t),e._zod.optin="optional",Dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),o5=Ae("$ZodNonOptional",(e,t)=>{Kt.init(e,t),Dt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>g1(s,e)):g1(i,e)}});function g1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const s5=Ae("$ZodCatch",(e,t)=>{Kt.init(e,t),Dt(e._zod,"optin",()=>t.innerType._zod.optin),Dt(e._zod,"optout",()=>t.innerType._zod.optout),Dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(l=>na(l,r,ta()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>na(s,r,ta()))},input:n.value}),n.issues=[]),n)}}),a5=Ae("$ZodPipe",(e,t)=>{Kt.init(e,t),Dt(e._zod,"values",()=>t.in._zod.values),Dt(e._zod,"optin",()=>t.in._zod.optin),Dt(e._zod,"optout",()=>t.out._zod.optout),Dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(l=>Fh(l,t.in,r)):Fh(s,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(s=>Fh(s,t.out,r)):Fh(i,t.out,r)}});function Fh(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const l5=Ae("$ZodReadonly",(e,t)=>{Kt.init(e,t),Dt(e._zod,"propValues",()=>t.innerType._zod.propValues),Dt(e._zod,"values",()=>t.innerType._zod.values),Dt(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Dt(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(y1):y1(i)}});function y1(e){return e.value=Object.freeze(e.value),e}const c5=Ae("$ZodCustom",(e,t)=>{vr.init(e,t),Kt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(s=>v1(s,n,r,e));v1(i,n,r,e)}});function v1(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(Id(i))}}var w1;class u5{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function d5(){return new u5}(w1=globalThis).__zod_globalRegistry??(w1.__zod_globalRegistry=d5());const yd=globalThis.__zod_globalRegistry;function f5(e,t){return new e({type:"string",...st(t)})}function aC(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...st(t)})}function _1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...st(t)})}function h5(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...st(t)})}function p5(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...st(t)})}function m5(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...st(t)})}function g5(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...st(t)})}function lC(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...st(t)})}function y5(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...st(t)})}function v5(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...st(t)})}function w5(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...st(t)})}function _5(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...st(t)})}function x5(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...st(t)})}function b5(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...st(t)})}function E5(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...st(t)})}function S5(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...st(t)})}function k5(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...st(t)})}function C5(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...st(t)})}function N5(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...st(t)})}function P5(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...st(t)})}function T5(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...st(t)})}function A5(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...st(t)})}function R5(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...st(t)})}function I5(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...st(t)})}function j5(e,t){return new e({type:"string",format:"date",check:"string_format",...st(t)})}function L5(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...st(t)})}function O5(e,t){return new e({type:"string",format:"duration",check:"string_format",...st(t)})}function M5(e,t){return new e({type:"number",checks:[],...st(t)})}function z5(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...st(t)})}function D5(e,t){return new e({type:"boolean",...st(t)})}function B5(e){return new e({type:"unknown"})}function F5(e,t){return new e({type:"never",...st(t)})}function x1(e,t){return new eC({check:"less_than",...st(t),value:e,inclusive:!1})}function Ny(e,t){return new eC({check:"less_than",...st(t),value:e,inclusive:!0})}function b1(e,t){return new tC({check:"greater_than",...st(t),value:e,inclusive:!1})}function Py(e,t){return new tC({check:"greater_than",...st(t),value:e,inclusive:!0})}function E1(e,t){return new n8({check:"multiple_of",...st(t),value:e})}function cC(e,t){return new i8({check:"max_length",...st(t),maximum:e})}function xp(e,t){return new o8({check:"min_length",...st(t),minimum:e})}function uC(e,t){return new s8({check:"length_equals",...st(t),length:e})}function U5(e,t){return new a8({check:"string_format",format:"regex",...st(t),pattern:e})}function $5(e){return new l8({check:"string_format",format:"lowercase",...st(e)})}function H5(e){return new c8({check:"string_format",format:"uppercase",...st(e)})}function Z5(e,t){return new u8({check:"string_format",format:"includes",...st(t),includes:e})}function W5(e,t){return new d8({check:"string_format",format:"starts_with",...st(t),prefix:e})}function V5(e,t){return new f8({check:"string_format",format:"ends_with",...st(t),suffix:e})}function nu(e){return new h8({check:"overwrite",tx:e})}function q5(e){return nu(t=>t.normalize(e))}function K5(){return nu(e=>e.trim())}function G5(){return nu(e=>e.toLowerCase())}function Y5(){return nu(e=>e.toUpperCase())}function J5(){return nu(e=>az(e))}function Q5(e,t,n){return new e({type:"array",element:t,...st(n)})}function X5(e,t,n){return new e({type:"custom",check:"custom",fn:t,...st(n)})}function eD(e){const t=tD(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Id(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Id(i))}},e(n.value,n)));return t}function tD(e,t){const n=new vr({check:"custom",...st(t)});return n._zod.check=e,n}function dC(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??yd,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function cn(e,t,n={path:[],schemaPath:[]}){var y,g;var r;const i=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,l);const u=(g=(y=e._zod).toJSONSchema)==null?void 0:g.call(y);if(u)l.schema=u;else{const b={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,b);else{const S=l.schema,v=t.processors[i.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);v(e,t,S,b)}const _=e._zod.parent;_&&(l.ref||(l.ref=_),cn(_,t,b),t.seen.get(_).isParent=!0)}const d=t.metadataRegistry.get(e);return d&&Object.assign(l.schema,d),t.io==="input"&&er(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function fC(e,t){var l,u,d,p;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const y of e.seen.entries()){const g=(l=e.metadataRegistry.get(y[0]))==null?void 0:l.id;if(g){const b=r.get(g);if(b&&b!==y[0])throw new Error(`Duplicate schema id "${g}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(g,y[0])}}const i=y=>{var v;const g=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const E=(v=e.external.registry.get(y[0]))==null?void 0:v.id,k=e.external.uri??(A=>A);if(E)return{ref:k(E)};const T=y[1].defId??y[1].schema.id??`schema${e.counter++}`;return y[1].defId=T,{defId:T,ref:`${k("__shared")}#/${g}/${T}`}}if(y[1]===n)return{ref:"#"};const _=`#/${g}/`,S=y[1].schema.id??`__schema${e.counter++}`;return{defId:S,ref:_+S}},s=y=>{if(y[1].schema.$ref)return;const g=y[1],{ref:b,defId:_}=i(y);g.def={...g.schema},_&&(g.defId=_);const S=g.schema;for(const v in S)delete S[v];S.$ref=b};if(e.cycles==="throw")for(const y of e.seen.entries()){const g=y[1];if(g.cycle)throw new Error(`Cycle detected: #/${(u=g.cycle)==null?void 0:u.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const y of e.seen.entries()){const g=y[1];if(t===y[0]){s(y);continue}if(e.external){const _=(d=e.external.registry.get(y[0]))==null?void 0:d.id;if(t!==y[0]&&_){s(y);continue}}if((p=e.metadataRegistry.get(y[0]))==null?void 0:p.id){s(y);continue}if(g.cycle){s(y);continue}if(g.count>1&&e.reused==="ref"){s(y);continue}}}function hC(e,t){var l,u,d;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=p=>{const y=e.seen.get(p);if(y.ref===null)return;const g=y.def??y.schema,b={...g},_=y.ref;if(y.ref=null,_){r(_);const v=e.seen.get(_),E=v.schema;if(E.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(E)):Object.assign(g,E),Object.assign(g,b),p._zod.parent===_)for(const T in g)T==="$ref"||T==="allOf"||T in b||delete g[T];if(E.$ref&&v.def)for(const T in g)T==="$ref"||T==="allOf"||T in v.def&&JSON.stringify(g[T])===JSON.stringify(v.def[T])&&delete g[T]}const S=p._zod.parent;if(S&&S!==_){r(S);const v=e.seen.get(S);if(v!=null&&v.schema.$ref&&(g.$ref=v.schema.$ref,v.def))for(const E in g)E==="$ref"||E==="allOf"||E in v.def&&JSON.stringify(g[E])===JSON.stringify(v.def[E])&&delete g[E]}e.override({zodSchema:p,jsonSchema:g,path:y.path??[]})};for(const p of[...e.seen.entries()].reverse())r(p[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,(l=e.external)!=null&&l.uri){const p=(u=e.external.registry.get(t))==null?void 0:u.id;if(!p)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(p)}Object.assign(i,n.def??n.schema);const s=((d=e.external)==null?void 0:d.defs)??{};for(const p of e.seen.entries()){const y=p[1];y.def&&y.defId&&(s[y.defId]=y.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?i.$defs=s:i.definitions=s);try{const p=JSON.parse(JSON.stringify(i));return Object.defineProperty(p,"~standard",{value:{...t["~standard"],jsonSchema:{input:bp(t,"input",e.processors),output:bp(t,"output",e.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function er(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return er(r.element,n);if(r.type==="set")return er(r.valueType,n);if(r.type==="lazy")return er(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return er(r.innerType,n);if(r.type==="intersection")return er(r.left,n)||er(r.right,n);if(r.type==="record"||r.type==="map")return er(r.keyType,n)||er(r.valueType,n);if(r.type==="pipe")return er(r.in,n)||er(r.out,n);if(r.type==="object"){for(const i in r.shape)if(er(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(er(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(er(i,n))return!0;return!!(r.rest&&er(r.rest,n))}return!1}const nD=(e,t={})=>n=>{const r=dC({...n,processors:t});return cn(e,r),fC(r,e),hC(r,e)},bp=(e,t,n={})=>r=>{const{libraryOptions:i,target:s}=r??{},l=dC({...i??{},target:s,io:t,processors:n});return cn(e,l),fC(l,e),hC(l,e)},rD={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},iD=(e,t,n,r)=>{const i=n;i.type="string";const{minimum:s,maximum:l,format:u,patterns:d,contentEncoding:p}=e._zod.bag;if(typeof s=="number"&&(i.minLength=s),typeof l=="number"&&(i.maxLength=l),u&&(i.format=rD[u]??u,i.format===""&&delete i.format,u==="time"&&delete i.format),p&&(i.contentEncoding=p),d&&d.size>0){const y=[...d];y.length===1?i.pattern=y[0].source:y.length>1&&(i.allOf=[...y.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},oD=(e,t,n,r)=>{const i=n,{minimum:s,maximum:l,format:u,multipleOf:d,exclusiveMaximum:p,exclusiveMinimum:y}=e._zod.bag;typeof u=="string"&&u.includes("int")?i.type="integer":i.type="number",typeof y=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=y,i.exclusiveMinimum=!0):i.exclusiveMinimum=y),typeof s=="number"&&(i.minimum=s,typeof y=="number"&&t.target!=="draft-04"&&(y>=s?delete i.minimum:delete i.exclusiveMinimum)),typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=p,i.exclusiveMaximum=!0):i.exclusiveMaximum=p),typeof l=="number"&&(i.maximum=l,typeof p=="number"&&t.target!=="draft-04"&&(p<=l?delete i.maximum:delete i.exclusiveMaximum)),typeof d=="number"&&(i.multipleOf=d)},sD=(e,t,n,r)=>{n.type="boolean"},aD=(e,t,n,r)=>{n.not={}},lD=(e,t,n,r)=>{},cD=(e,t,n,r)=>{const i=e._zod.def,s=Hk(i.entries);s.every(l=>typeof l=="number")&&(n.type="number"),s.every(l=>typeof l=="string")&&(n.type="string"),n.enum=s},uD=(e,t,n,r)=>{const i=e._zod.def,s=[];for(const l of i.values)if(l===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof l=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(l))}else s.push(l);if(s.length!==0)if(s.length===1){const l=s[0];n.type=l===null?"null":typeof l,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[l]:n.const=l}else s.every(l=>typeof l=="number")&&(n.type="number"),s.every(l=>typeof l=="string")&&(n.type="string"),s.every(l=>typeof l=="boolean")&&(n.type="boolean"),s.every(l=>l===null)&&(n.type="null"),n.enum=s},dD=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},fD=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},hD=(e,t,n,r)=>{const i=n,s=e._zod.def,{minimum:l,maximum:u}=e._zod.bag;typeof l=="number"&&(i.minItems=l),typeof u=="number"&&(i.maxItems=u),i.type="array",i.items=cn(s.element,t,{...r,path:[...r.path,"items"]})},pD=(e,t,n,r)=>{var p;const i=n,s=e._zod.def;i.type="object",i.properties={};const l=s.shape;for(const y in l)i.properties[y]=cn(l[y],t,{...r,path:[...r.path,"properties",y]});const u=new Set(Object.keys(l)),d=new Set([...u].filter(y=>{const g=s.shape[y]._zod;return t.io==="input"?g.optin===void 0:g.optout===void 0}));d.size>0&&(i.required=Array.from(d)),((p=s.catchall)==null?void 0:p._zod.def.type)==="never"?i.additionalProperties=!1:s.catchall?s.catchall&&(i.additionalProperties=cn(s.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},mD=(e,t,n,r)=>{const i=e._zod.def,s=i.inclusive===!1,l=i.options.map((u,d)=>cn(u,t,{...r,path:[...r.path,s?"oneOf":"anyOf",d]}));s?n.oneOf=l:n.anyOf=l},gD=(e,t,n,r)=>{const i=e._zod.def,s=cn(i.left,t,{...r,path:[...r.path,"allOf",0]}),l=cn(i.right,t,{...r,path:[...r.path,"allOf",1]}),u=p=>"allOf"in p&&Object.keys(p).length===1,d=[...u(s)?s.allOf:[s],...u(l)?l.allOf:[l]];n.allOf=d},yD=(e,t,n,r)=>{const i=n,s=e._zod.def;i.type="array";const l=t.target==="draft-2020-12"?"prefixItems":"items",u=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",d=s.items.map((b,_)=>cn(b,t,{...r,path:[...r.path,l,_]})),p=s.rest?cn(s.rest,t,{...r,path:[...r.path,u,...t.target==="openapi-3.0"?[s.items.length]:[]]}):null;t.target==="draft-2020-12"?(i.prefixItems=d,p&&(i.items=p)):t.target==="openapi-3.0"?(i.items={anyOf:d},p&&i.items.anyOf.push(p),i.minItems=d.length,p||(i.maxItems=d.length)):(i.items=d,p&&(i.additionalItems=p));const{minimum:y,maximum:g}=e._zod.bag;typeof y=="number"&&(i.minItems=y),typeof g=="number"&&(i.maxItems=g)},vD=(e,t,n,r)=>{const i=n,s=e._zod.def;i.type="object";const l=s.keyType,u=l._zod.bag,d=u==null?void 0:u.patterns;if(s.mode==="loose"&&d&&d.size>0){const y=cn(s.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});i.patternProperties={};for(const g of d)i.patternProperties[g.source]=y}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(i.propertyNames=cn(s.keyType,t,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=cn(s.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const p=l._zod.values;if(p){const y=[...p].filter(g=>typeof g=="string"||typeof g=="number");y.length>0&&(i.required=y)}},wD=(e,t,n,r)=>{const i=e._zod.def,s=cn(i.innerType,t,r),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},_D=(e,t,n,r)=>{const i=e._zod.def;cn(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType},xD=(e,t,n,r)=>{const i=e._zod.def;cn(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},bD=(e,t,n,r)=>{const i=e._zod.def;cn(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},ED=(e,t,n,r)=>{const i=e._zod.def;cn(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType;let l;try{l=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},SD=(e,t,n,r)=>{const i=e._zod.def,s=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;cn(s,t,r);const l=t.seen.get(e);l.ref=s},kD=(e,t,n,r)=>{const i=e._zod.def;cn(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,n.readOnly=!0},pC=(e,t,n,r)=>{const i=e._zod.def;cn(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType},CD=Ae("ZodISODateTime",(e,t)=>{N8.init(e,t),rn.init(e,t)});function ND(e){return I5(CD,e)}const PD=Ae("ZodISODate",(e,t)=>{P8.init(e,t),rn.init(e,t)});function TD(e){return j5(PD,e)}const AD=Ae("ZodISOTime",(e,t)=>{T8.init(e,t),rn.init(e,t)});function RD(e){return L5(AD,e)}const ID=Ae("ZodISODuration",(e,t)=>{A8.init(e,t),rn.init(e,t)});function jD(e){return O5(ID,e)}const LD=(e,t)=>{qk.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>_z(e,n)},flatten:{value:n=>wz(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Qv,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Qv,2)}},isEmpty:{get(){return e.issues.length===0}}})},ii=Ae("ZodError",LD,{Parent:Error}),OD=Nw(ii),MD=Pw(ii),zD=nm(ii),DD=rm(ii),BD=Ez(ii),FD=Sz(ii),UD=kz(ii),$D=Cz(ii),HD=Nz(ii),ZD=Pz(ii),WD=Tz(ii),VD=Az(ii),Qt=Ae("ZodType",(e,t)=>(Kt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:bp(e,"input"),output:bp(e,"output")}}),e.toJSONSchema=nD(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(aa(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>la(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>OD(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>zD(e,n,r),e.parseAsync=async(n,r)=>MD(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>DD(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>BD(e,n,r),e.decode=(n,r)=>FD(e,n,r),e.encodeAsync=async(n,r)=>UD(e,n,r),e.decodeAsync=async(n,r)=>$D(e,n,r),e.safeEncode=(n,r)=>HD(e,n,r),e.safeDecode=(n,r)=>ZD(e,n,r),e.safeEncodeAsync=async(n,r)=>WD(e,n,r),e.safeDecodeAsync=async(n,r)=>VD(e,n,r),e.refine=(n,r)=>e.check(D6(n,r)),e.superRefine=n=>e.check(B6(n)),e.overwrite=n=>e.check(nu(n)),e.optional=()=>P1(e),e.exactOptional=()=>k6(e),e.nullable=()=>T1(e),e.nullish=()=>P1(T1(e)),e.nonoptional=n=>R6(e,n),e.array=()=>wC(e),e.or=n=>t0([e,n]),e.and=n=>y6(e,n),e.transform=n=>A1(e,E6(n)),e.default=n=>P6(e,n),e.prefault=n=>A6(e,n),e.catch=n=>j6(e,n),e.pipe=n=>A1(e,n),e.readonly=()=>M6(e),e.describe=n=>{const r=e.clone();return yd.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=yd.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return yd.get(e);const r=e.clone();return yd.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),mC=Ae("_ZodString",(e,t)=>{Tw.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>iD(e,r,i);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(U5(...r)),e.includes=(...r)=>e.check(Z5(...r)),e.startsWith=(...r)=>e.check(W5(...r)),e.endsWith=(...r)=>e.check(V5(...r)),e.min=(...r)=>e.check(xp(...r)),e.max=(...r)=>e.check(cC(...r)),e.length=(...r)=>e.check(uC(...r)),e.nonempty=(...r)=>e.check(xp(1,...r)),e.lowercase=r=>e.check($5(r)),e.uppercase=r=>e.check(H5(r)),e.trim=()=>e.check(K5()),e.normalize=(...r)=>e.check(q5(...r)),e.toLowerCase=()=>e.check(G5()),e.toUpperCase=()=>e.check(Y5()),e.slugify=()=>e.check(J5())}),qD=Ae("ZodString",(e,t)=>{Tw.init(e,t),mC.init(e,t),e.email=n=>e.check(aC(gC,n)),e.url=n=>e.check(lC(yC,n)),e.jwt=n=>e.check(R5(l6,n)),e.emoji=n=>e.check(y5(KD,n)),e.guid=n=>e.check(_1(k1,n)),e.uuid=n=>e.check(h5(Uh,n)),e.uuidv4=n=>e.check(p5(Uh,n)),e.uuidv6=n=>e.check(m5(Uh,n)),e.uuidv7=n=>e.check(g5(Uh,n)),e.nanoid=n=>e.check(v5(GD,n)),e.guid=n=>e.check(_1(k1,n)),e.cuid=n=>e.check(w5(YD,n)),e.cuid2=n=>e.check(_5(JD,n)),e.ulid=n=>e.check(x5(QD,n)),e.base64=n=>e.check(P5(o6,n)),e.base64url=n=>e.check(T5(s6,n)),e.xid=n=>e.check(b5(XD,n)),e.ksuid=n=>e.check(E5(e6,n)),e.ipv4=n=>e.check(S5(t6,n)),e.ipv6=n=>e.check(k5(n6,n)),e.cidrv4=n=>e.check(C5(r6,n)),e.cidrv6=n=>e.check(N5(i6,n)),e.e164=n=>e.check(A5(a6,n)),e.datetime=n=>e.check(ND(n)),e.date=n=>e.check(TD(n)),e.time=n=>e.check(RD(n)),e.duration=n=>e.check(jD(n))});function Lt(e){return f5(qD,e)}const rn=Ae("ZodStringFormat",(e,t)=>{Jt.init(e,t),mC.init(e,t)}),gC=Ae("ZodEmail",(e,t)=>{v8.init(e,t),rn.init(e,t)});function S1(e){return aC(gC,e)}const k1=Ae("ZodGUID",(e,t)=>{g8.init(e,t),rn.init(e,t)}),Uh=Ae("ZodUUID",(e,t)=>{y8.init(e,t),rn.init(e,t)}),yC=Ae("ZodURL",(e,t)=>{w8.init(e,t),rn.init(e,t)});function vd(e){return lC(yC,e)}const KD=Ae("ZodEmoji",(e,t)=>{_8.init(e,t),rn.init(e,t)}),GD=Ae("ZodNanoID",(e,t)=>{x8.init(e,t),rn.init(e,t)}),YD=Ae("ZodCUID",(e,t)=>{b8.init(e,t),rn.init(e,t)}),JD=Ae("ZodCUID2",(e,t)=>{E8.init(e,t),rn.init(e,t)}),QD=Ae("ZodULID",(e,t)=>{S8.init(e,t),rn.init(e,t)}),XD=Ae("ZodXID",(e,t)=>{k8.init(e,t),rn.init(e,t)}),e6=Ae("ZodKSUID",(e,t)=>{C8.init(e,t),rn.init(e,t)}),t6=Ae("ZodIPv4",(e,t)=>{R8.init(e,t),rn.init(e,t)}),n6=Ae("ZodIPv6",(e,t)=>{I8.init(e,t),rn.init(e,t)}),r6=Ae("ZodCIDRv4",(e,t)=>{j8.init(e,t),rn.init(e,t)}),i6=Ae("ZodCIDRv6",(e,t)=>{L8.init(e,t),rn.init(e,t)}),o6=Ae("ZodBase64",(e,t)=>{O8.init(e,t),rn.init(e,t)}),s6=Ae("ZodBase64URL",(e,t)=>{z8.init(e,t),rn.init(e,t)}),a6=Ae("ZodE164",(e,t)=>{D8.init(e,t),rn.init(e,t)}),l6=Ae("ZodJWT",(e,t)=>{F8.init(e,t),rn.init(e,t)}),vC=Ae("ZodNumber",(e,t)=>{rC.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>oD(e,r,i),e.gt=(r,i)=>e.check(b1(r,i)),e.gte=(r,i)=>e.check(Py(r,i)),e.min=(r,i)=>e.check(Py(r,i)),e.lt=(r,i)=>e.check(x1(r,i)),e.lte=(r,i)=>e.check(Ny(r,i)),e.max=(r,i)=>e.check(Ny(r,i)),e.int=r=>e.check(C1(r)),e.safe=r=>e.check(C1(r)),e.positive=r=>e.check(b1(0,r)),e.nonnegative=r=>e.check(Py(0,r)),e.negative=r=>e.check(x1(0,r)),e.nonpositive=r=>e.check(Ny(0,r)),e.multipleOf=(r,i)=>e.check(E1(r,i)),e.step=(r,i)=>e.check(E1(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Co(e){return M5(vC,e)}const c6=Ae("ZodNumberFormat",(e,t)=>{U8.init(e,t),vC.init(e,t)});function C1(e){return z5(c6,e)}const u6=Ae("ZodBoolean",(e,t)=>{$8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>sD(e,n,r)});function tl(e){return D5(u6,e)}const d6=Ae("ZodUnknown",(e,t)=>{H8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>lD()});function e0(){return B5(d6)}const f6=Ae("ZodNever",(e,t)=>{Z8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>aD(e,n,r)});function h6(e){return F5(f6,e)}const p6=Ae("ZodArray",(e,t)=>{W8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>hD(e,n,r,i),e.element=t.element,e.min=(n,r)=>e.check(xp(n,r)),e.nonempty=n=>e.check(xp(1,n)),e.max=(n,r)=>e.check(cC(n,r)),e.length=(n,r)=>e.check(uC(n,r)),e.unwrap=()=>e.element});function wC(e,t){return Q5(p6,e,t)}const _C=Ae("ZodObject",(e,t)=>{q8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>pD(e,n,r,i),Dt(e,"shape",()=>t.shape),e.keyof=()=>xC(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:e0()}),e.loose=()=>e.clone({...e._zod.def,catchall:e0()}),e.strict=()=>e.clone({...e._zod.def,catchall:h6()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>pz(e,n),e.safeExtend=n=>mz(e,n),e.merge=n=>gz(e,n),e.pick=n=>fz(e,n),e.omit=n=>hz(e,n),e.partial=(...n)=>yz(bC,e,n[0]),e.required=(...n)=>vz(EC,e,n[0])});function Oo(e,t){const n={type:"object",shape:e??{},...st(t)};return new _C(n)}function N1(e,t){return new _C({type:"object",shape:e,catchall:e0(),...st(t)})}const m6=Ae("ZodUnion",(e,t)=>{K8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>mD(e,n,r,i),e.options=t.options});function t0(e,t){return new m6({type:"union",options:e,...st(t)})}const g6=Ae("ZodIntersection",(e,t)=>{G8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>gD(e,n,r,i)});function y6(e,t){return new g6({type:"intersection",left:e,right:t})}const v6=Ae("ZodTuple",(e,t)=>{Y8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>yD(e,n,r,i),e.rest=n=>e.clone({...e._zod.def,rest:n})});function Kr(e,t,n){const r=t instanceof Kt,i=r?n:t,s=r?t:null;return new v6({type:"tuple",items:e,rest:s,...st(i)})}const w6=Ae("ZodRecord",(e,t)=>{J8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>vD(e,n,r,i),e.keyType=t.keyType,e.valueType=t.valueType});function _6(e,t,n){return new w6({type:"record",keyType:e,valueType:t,...st(n)})}const n0=Ae("ZodEnum",(e,t)=>{Q8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>cD(e,r,i),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const s={};for(const l of r)if(n.has(l))s[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new n0({...t,checks:[],...st(i),entries:s})},e.exclude=(r,i)=>{const s={...t.entries};for(const l of r)if(n.has(l))delete s[l];else throw new Error(`Key ${l} not found in enum`);return new n0({...t,checks:[],...st(i),entries:s})}});function xC(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new n0({type:"enum",entries:n,...st(t)})}const x6=Ae("ZodLiteral",(e,t)=>{X8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>uD(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Gr(e,t){return new x6({type:"literal",values:Array.isArray(e)?e:[e],...st(t)})}const b6=Ae("ZodTransform",(e,t)=>{e5.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>fD(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Uk(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(Id(s,n.value,t));else{const l=s;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(Id(l))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function E6(e){return new b6({type:"transform",transform:e})}const bC=Ae("ZodOptional",(e,t)=>{sC.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>pC(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function P1(e){return new bC({type:"optional",innerType:e})}const S6=Ae("ZodExactOptional",(e,t)=>{t5.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>pC(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function k6(e){return new S6({type:"optional",innerType:e})}const C6=Ae("ZodNullable",(e,t)=>{n5.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>wD(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function T1(e){return new C6({type:"nullable",innerType:e})}const N6=Ae("ZodDefault",(e,t)=>{r5.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>xD(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function P6(e,t){return new N6({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Wk(t)}})}const T6=Ae("ZodPrefault",(e,t)=>{i5.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>bD(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function A6(e,t){return new T6({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Wk(t)}})}const EC=Ae("ZodNonOptional",(e,t)=>{o5.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>_D(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function R6(e,t){return new EC({type:"nonoptional",innerType:e,...st(t)})}const I6=Ae("ZodCatch",(e,t)=>{s5.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>ED(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function j6(e,t){return new I6({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const L6=Ae("ZodPipe",(e,t)=>{a5.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>SD(e,n,r,i),e.in=t.in,e.out=t.out});function A1(e,t){return new L6({type:"pipe",in:e,out:t})}const O6=Ae("ZodReadonly",(e,t)=>{l5.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>kD(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function M6(e){return new O6({type:"readonly",innerType:e})}const z6=Ae("ZodCustom",(e,t)=>{c5.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>dD(e,n)});function D6(e,t={}){return X5(z6,e,t)}function B6(e){return eD(e)}const F6={custom:"custom"};class kt{static id(){return Lt().regex(/^[0-9a-f]{64}$/)}static event(){return Oo({id:kt.id(),kind:Co().int().nonnegative(),pubkey:kt.id(),tags:Lt().array().array(),content:Lt(),created_at:Co().int().nonnegative(),sig:Lt()}).required({id:!0,kind:!0,pubkey:!0,tags:!0,content:!0,created_at:!0,sig:!0})}static filter(){return N1({kinds:Co().int().nonnegative().array().optional(),ids:kt.id().array().optional(),authors:kt.id().array().optional(),since:Co().int().nonnegative().optional(),until:Co().int().nonnegative().optional(),limit:Co().int().nonnegative().optional(),search:Lt().optional()}).transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[i,s])=>((n.includes(i)||i.startsWith("#"))&&(r[i]=s),r),{})})}static bech32(t){return Lt().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return vd().regex(/^wss?:\/\//)}static clientEVENT(){return Kr([Gr("EVENT"),kt.event()])}static clientREQ(){return Kr([Gr("REQ"),Lt()]).rest(kt.filter())}static clientCOUNT(){return Kr([Gr("COUNT"),Lt()]).rest(kt.filter())}static clientCLOSE(){return Kr([Gr("CLOSE"),Lt()])}static clientAUTH(){return Kr([Gr("AUTH"),kt.event()])}static clientMsg(){return t0([kt.clientEVENT(),kt.clientREQ(),kt.clientCOUNT(),kt.clientCLOSE(),kt.clientAUTH()])}static relayEVENT(){return Kr([Gr("EVENT"),Lt(),kt.event()])}static relayOK(){return Kr([Gr("OK"),kt.id(),tl(),Lt()])}static relayEOSE(){return Kr([Gr("EOSE"),Lt()])}static relayNOTICE(){return Kr([Gr("NOTICE"),Lt()])}static relayCLOSED(){return Kr([Gr("CLOSED"),Lt(),Lt()])}static relayAUTH(){return Kr([Gr("AUTH"),Lt()])}static relayCOUNT(){return Kr([Gr("COUNT"),Lt(),Oo({count:Co().int().nonnegative(),approximate:tl().optional()})])}static relayMsg(){return t0([kt.relayEVENT(),kt.relayOK(),kt.relayEOSE(),kt.relayNOTICE(),kt.relayCLOSED(),kt.relayAUTH(),kt.relayCOUNT()])}static metadata(){return N1({about:Lt().optional().catch(void 0),banner:vd().optional().catch(void 0),bot:tl().optional().catch(void 0),display_name:Lt().optional().catch(void 0),lud06:kt.bech32("lnurl").optional().catch(void 0),lud16:S1().optional().catch(void 0),name:Lt().optional().catch(void 0),nip05:S1().optional().catch(void 0),picture:vd().optional().catch(void 0),website:vd().optional().catch(void 0)})}static connectRequest(){return Oo({id:Lt(),method:Lt(),params:Lt().array()})}static connectResponse(){return Oo({id:Lt(),result:Lt(),error:Lt().optional()})}static json(){return Lt().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:F6.custom,message:"Invalid JSON"}),oz}})}}class SC{constructor({relay:t,pubkey:n,signer:r,timeout:i,encryption:s="nip44"}){Ze(this,"relay");Ze(this,"pubkey");Ze(this,"signer");Ze(this,"timeout");Ze(this,"encryption");Ze(this,"nip04",{encrypt:async(t,n)=>this.cmd("nip04_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip04_decrypt",[t,n])});Ze(this,"nip44",{encrypt:async(t,n)=>this.cmd("nip44_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip44_decrypt",[t,n])});this.relay=t,this.pubkey=n,this.signer=r,this.timeout=i,this.encryption=s}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(t){const n=await this.cmd("sign_event",[JSON.stringify(t)]);return kt.json().pipe(kt.event()).parse(n)}async getRelays(){const t=await this.cmd("get_relays",[]);return kt.json().pipe(_6(Lt(),Oo({read:tl(),write:tl()}))).parse(t)}async connect(t){const n=[this.pubkey];return t&&n.push(t),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(t,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:i,error:s}=await this.send({id:crypto.randomUUID(),method:t,params:n},{signal:r});if(s)throw new Error(s);return i}async send(t,n={}){const{signal:r}=n,i=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(t)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),s=await this.signer.getPublicKey(),l=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[s]}],{signal:r}),u=new Promise((d,p)=>{(async()=>{try{for await(const y of l){if(y[0]==="CLOSED")throw new Error("Subscription closed");if(y[0]==="EVENT"){const g=y[2],b=await this.decrypt(this.pubkey,g.content),_=kt.json().pipe(kt.connectResponse()).parse(b);if(_.id===t.id){d(_);return}}}}catch(y){p(y)}})()});return await this.relay.event(i,{signal:r}),u}async encrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(t,n);case"nip44":return this.signer.nip44.encrypt(t,n)}}async decrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(t,n);case"nip44":return this.signer.nip44.decrypt(t,n)}}}const kC={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),kC[e]=t}function U6(e){let t="";for(let n=0;n<e.byteLength;n++)t+=kC[e[n]];return t}const CC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R1=Object.entries(CC).reduce((e,[t,n])=>(e[n]=Number(t),e),{}),$6=CC.split(""),Sc=6,kd=8,H6=63,Z6=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let i=0;i<e.length;i+=4){let s=0,l=0;for(let p=i,y=i+3;p<=y;p++)if(e[p]!=="="){if(!(e[p]in R1))throw new TypeError(`Invalid character ${e[p]} in base64 string.`);s|=R1[e[p]]<<(y-p)*Sc,l+=Sc}else s>>=Sc;const u=i/4*3;s>>=l%kd;const d=Math.floor(l/kd);for(let p=0;p<d;p++){const y=(d-p-1)*kd;r.setUint8(u+p,(s&255<<y)>>y)}}return new Uint8Array(n)},W6=e=>new TextEncoder().encode(e);function V6(e){let t;typeof e=="string"?t=W6(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",r=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<t.length;s+=3){let l=0,u=0;for(let p=s,y=Math.min(s+3,t.length);p<y;p++)l|=t[p]<<(y-p-1)*kd,u+=kd;const d=Math.ceil(u/Sc);l<<=d*Sc-u;for(let p=1;p<=d;p++){const y=(d-p)*Sc;i+=$6[(l&H6<<y)>>y]}i+="==".slice(0,4-d)}return i}class q6{static encodeEvent(t){return V6(JSON.stringify(t))}static decodeEvent(t){const n=Z6(t),r=new TextDecoder().decode(n);return kt.json().pipe(kt.event()).parse(r)}}class K6{constructor(t){Ze(this,"set");Ze(this,"capacity");this.set=new Set,this.capacity=t}add(t){if(!this.set.has(t)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}[Symbol.iterator](){return this.set.values()}}var $c,Hc,Jd;class NC{constructor(t){it(this,$c,[]);it(this,Hc);it(this,Jd,!1);t!=null&&t.aborted?this.abort():t==null||t.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Symbol.asyncIterator](){for(;!ue(this,Jd);){if(ue(this,$c).length){yield ue(this,$c).shift();continue}await new Promise(t=>{Ke(this,Hc,t)})}throw new DOMException("The signal has been aborted","AbortError")}push(t){var n;ue(this,$c).push(t),(n=ue(this,Hc))==null||n.call(this)}abort(){var t;Ke(this,Jd,!0),(t=ue(this,Hc))==null||t.call(this)}}$c=new WeakMap,Hc=new WeakMap,Jd=new WeakMap;class Aw{constructor(t){Ze(this,"_relays",new Map);Ze(this,"opts");this.opts=t}relay(t){const n=this._relays.get(t);if(n)return n;{const r=this.opts.open(t);return this._relays.set(t,r),r}}group(t){return new Aw({open:n=>this.relay(n),reqRouter:n=>new Map(t.map(r=>[r,n])),eventRouter:()=>t})}get relays(){return this._relays}async*req(t,n){const r=new AbortController,i=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,s=n!=null&&n.relays?new Map(n.relays.map(_=>[_,t])):await this.opts.reqRouter(t);if(s.size<1)return;const l=new NC(i),u=new Set,d=new Set,p=new K6(1e3),y=this.opts.eoseTimeout??1e3;let g;const b=[];for(const[_,S]of s.entries()){const v=this.relay(_),E=(async()=>{try{for await(const k of v.req(S,{signal:i}))if(k[0]==="EOSE"&&(u.add(_),u.size===1&&y>0&&g===void 0&&(g=setTimeout(()=>{r.abort()},y)),u.size===s.size&&l.push(k)),k[0]==="CLOSED"&&(d.add(_),d.size===s.size&&l.push(k)),k[0]==="EVENT"){const[,,T]=k;p.has(T.id)||(p.add(T.id),l.push(k))}}catch{}})();b.push(E)}try{for await(const _ of l)yield _}finally{g!==void 0&&clearTimeout(g),r.abort(),await Promise.allSettled(b)}}async event(t,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(t);r.length&&await Promise.any(r.map(i=>this.relay(i).event(t,n)))}async query(t,n){const r=new Map,i=new vp(r);if(t.reduce((l,u)=>l+nk(u),0)===0)return[];try{for await(const l of this.req(t,n))if(l[0]==="EOSE"||(l[0]==="EVENT"&&i.add(l[2]),l[0]==="CLOSED"))break}catch{}return t.some(l=>typeof l.search=="string")?[...r.values()]:[...i]}async close(){await Promise.all([...this._relays.values()].map(t=>t.close()))}async[Symbol.asyncDispose](){await this.close()}}class G6{constructor(t,n){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class Y6{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var Ut;(function(e){e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect"})(Ut||(Ut={}));class J6{constructor(t,n,r){var i,s,l,u,d,p,y,g,b,_,S,v,E,k,T;this._closedByUser=!1,this.handleOpenEvent=A=>this.handleEvent(Ut.open,A),this.handleErrorEvent=A=>this.handleEvent(Ut.error,A),this.handleCloseEvent=A=>this.handleEvent(Ut.close,A),this.handleMessageEvent=A=>this.handleEvent(Ut.message,A),this._url=t,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.maxRetries,instantReconnect:(s=r==null?void 0:r.retry)===null||s===void 0?void 0:s.instantReconnect,backoff:(l=r==null?void 0:r.retry)===null||l===void 0?void 0:l.backoff},listeners:{open:[...(d=(u=r==null?void 0:r.listeners)===null||u===void 0?void 0:u.open)!==null&&d!==void 0?d:[]],close:[...(y=(p=r==null?void 0:r.listeners)===null||p===void 0?void 0:p.close)!==null&&y!==void 0?y:[]],error:[...(b=(g=r==null?void 0:r.listeners)===null||g===void 0?void 0:g.error)!==null&&b!==void 0?b:[]],message:[...(S=(_=r==null?void 0:r.listeners)===null||_===void 0?void 0:_.message)!==null&&S!==void 0?S:[]],retry:[...(E=(v=r==null?void 0:r.listeners)===null||v===void 0?void 0:v.retry)!==null&&E!==void 0?E:[]],reconnect:[...(T=(k=r==null?void 0:r.listeners)===null||k===void 0?void 0:k.reconnect)!==null&&T!==void 0?T:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):this.buffer!==void 0&&this.buffer.add(t))}close(t,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,n)}addEventListener(t,n,r){this._options.listeners[t].push({listener:n,options:r})}removeEventListener(t,n,r){const i=s=>s.listener!==n||s.options!==r;this._options.listeners[t]=this._options.listeners[t].filter(i)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(Ut.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(Ut.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(Ut.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(Ut.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(Ut.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(Ut.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(Ut.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(Ut.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,n){const r=this._options.listeners[t],i=[];r.forEach(({listener:s,options:l})=>{s(this,n),(l===void 0||l.once===void 0||!l.once)&&i.push({listener:s,options:l})}),this._options.listeners[t]=i}handleEvent(t,n){switch(t){case Ut.close:this.dispatchEvent(t,n),this.scheduleConnectionRetryIfNeeded();break;case Ut.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},i=new CustomEvent(Ut.reconnect,{detail:r});this.dispatchEvent(Ut.reconnect,i),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,n),this.sendBufferedData();break;case Ut.retry:this.dispatchEvent(t,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let t=this.buffer.read();t!==void 0;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const t=r=>{const i=new CustomEvent(Ut.retry,{detail:r});this.handleEvent(Ut.retry,i)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class Q6{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:t})}),this}get maxRetries(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:t})}),this}get backoff(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return(t=this._options)===null||t===void 0?void 0:t.buffer}onOpen(t,n){return this.addListener(Ut.open,t,n),this}onClose(t,n){return this.addListener(Ut.close,t,n),this}onError(t,n){return this.addListener(Ut.error,t,n),this}onMessage(t,n){return this.addListener(Ut.message,t,n),this}onRetry(t,n){return this.addListener(Ut.retry,t,n),this}onReconnect(t,n){return this.addListener(Ut.reconnect,t,n),this}build(){return new J6(this._url,this._protocols,this._options)}addListener(t,n,r){var i,s,l,u,d,p,y,g,b,_,S,v,E,k,T,A,z,D,Z,W,q;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(l=(s=(i=this._options)===null||i===void 0?void 0:i.listeners)===null||s===void 0?void 0:s.open)!==null&&l!==void 0?l:[],close:(p=(d=(u=this._options)===null||u===void 0?void 0:u.listeners)===null||d===void 0?void 0:d.close)!==null&&p!==void 0?p:[],error:(b=(g=(y=this._options)===null||y===void 0?void 0:y.listeners)===null||g===void 0?void 0:g.error)!==null&&b!==void 0?b:[],message:(v=(S=(_=this._options)===null||_===void 0?void 0:_.listeners)===null||S===void 0?void 0:S.message)!==null&&v!==void 0?v:[],retry:(T=(k=(E=this._options)===null||E===void 0?void 0:E.listeners)===null||k===void 0?void 0:k.retry)!==null&&T!==void 0?T:[],reconnect:(D=(z=(A=this._options)===null||A===void 0?void 0:A.listeners)===null||z===void 0?void 0:z.reconnect)!==null&&D!==void 0?D:[],[t]:[...(q=(W=(Z=this._options)===null||Z===void 0?void 0:Z.listeners)===null||W===void 0?void 0:W[t])!==null&&q!==void 0?q:[],{listener:n,options:r}]}}),this}}class X6{constructor(t,n={}){Ze(this,"socket");Ze(this,"subs",new Map);Ze(this,"closedByUser",!1);Ze(this,"idleTimer");Ze(this,"controller",new AbortController);Ze(this,"url");Ze(this,"opts");Ze(this,"ee",new EventTarget);this.url=t,this.opts=n,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(t){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...t,url:this.url})}createSocket(){const{backoff:t=new G6(1e3)}=this.opts;return new Q6(this.url).withBuffer(new Y6).withBackoff(t===!1?void 0:t).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const i=kt.json().pipe(kt.relayMsg()).safeParse(r.data);i.success?(this.log({level:"trace",ns:"relay.ws.message",data:i.data}),this.receive(i.data)):this.log({level:"warn",ns:"relay.ws.message",error:i.error})}).build()}receive(t){const{auth:n,verifyEvent:r=nf}=this.opts;switch(t[0]){case"EVENT":if(!r(t[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"CLOSED":this.subs.delete(t[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t})),this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${t[1]}`,{detail:t}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:t}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"AUTH":n==null||n(t[1]).then(i=>this.send(["AUTH",i])).catch(()=>{})}}send(t){switch(this.log({level:"trace",ns:"relay.ws.send",data:t}),this.wake(),t[0]){case"REQ":this.subs.set(t[1],t);break;case"CLOSE":this.subs.delete(t[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}async*req(t,n={}){const{signal:r}=n,i=crypto.randomUUID(),s=this.on(`sub:${i}`,r),l=["REQ",i,...t];this.send(l);try{for await(const u of s){if(u[0]==="EOSE"&&(yield u),u[0]==="CLOSED")break;if(u[0]==="EVENT")if(tk(t,u[2]))yield u;else continue}}finally{this.send(["CLOSE",i])}}async query(t,n){const r=new vp,i=t.reduce((s,l)=>s+nk(l),0);if(i===0)return[];for await(const s of this.req(t,n)){if(s[0]==="EOSE")break;if(s[0]==="EVENT"&&r.add(s[2]),s[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=i)break}return[...r]}async event(t,n){const r=this.once(`ok:${t.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",t])}catch(l){throw r.catch(()=>{}),l}const[,,i,s]=await r;if(!i)throw new Error(s)}async count(t,n){const r=crypto.randomUUID(),i=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...t])}catch(l){throw i.catch(()=>{}),l}const s=await i;switch(s[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,l]=s;return l}}throw new Error("Count ended -- this should never happen")}async*on(t,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const i=new NC(r),s=l=>i.push(l.detail);this.ee.addEventListener(t,s);try{for await(const l of i)yield l}finally{this.ee.removeEventListener(t,s)}}async once(t,n){for await(const r of this.on(t,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:t=3e4}=this.opts;t!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:t}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:t}),this.socket.close()},t)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(t=>{this.socket.addEventListener(Ut.close,t,{once:!0})})}async[Symbol.asyncDispose](){await this.close()}}var To,Qd,r0;class jd{constructor(t){it(this,Qd);it(this,To);Ze(this,"pubkey");Ze(this,"nip04",{encrypt:async(t,n)=>Rd.encrypt(ue(this,To),t,n),decrypt:async(t,n)=>Rd.decrypt(ue(this,To),t,n)});Ze(this,"nip44",{encrypt:async(t,n)=>{const r=vt(this,Qd,r0).call(this,t);return Ks.v2.encrypt(n,r)},decrypt:async(t,n)=>{const r=vt(this,Qd,r0).call(this,t);return Ks.v2.decrypt(n,r)}});Ke(this,To,t)}async getPublicKey(){return this.pubkey??(this.pubkey=Bo(ue(this,To)))}async signEvent(t){return ri(t,ue(this,To))}}To=new WeakMap,Qd=new WeakSet,r0=function(t){return Ks.v2.utils.getConversationKey(ue(this,To),t)};const PC=C.createContext(void 0);function jr(){const e=C.useContext(PC);if(!e)throw new Error("useNostr must be used within a NostrProvider");return e}class nl{constructor(t,n,r){Ze(this,"id");Ze(this,"type");Ze(this,"pubkey");Ze(this,"createdAt");Ze(this,"data");this.id=`${t}:${n}`,this.type=t,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(t){const n=rr.decode(t);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,i=Bo(r);return new nl("nsec",i,{nsec:rr.nsecEncode(r)})}static async fromBunker(t,n){const{pubkey:r,secret:i,relays:s}=new Ed(t);if(!s.length)throw new Error("No relay provided");const l=tf(),u=rr.nsecEncode(l),d=new jd(l),p=new SC({relay:n.group(s),pubkey:r,signer:d,timeout:6e4});await p.connect(i);const y=await p.getPublicKey();return new nl("bunker",y,{bunkerPubkey:r,clientNsec:u,relays:s})}static async fromExtension(){const t=globalThis.nostr;if(!t)throw new Error("Nostr extension is not available");const n=await t.getPublicKey();return new nl("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const TC=C.createContext(void 0);function eB(e,t){switch(t.type){case"login.add":{const n=e.filter(r=>r.id!==t.login.id);return t.set?[t.login,...n]:[...n,t.login]}case"login.remove":return e.filter(n=>n.id!==t.id);case"login.set":{const n=e.find(i=>i.id===t.id);if(!n)return e;const r=e.filter(i=>i.id!==t.id);return[n,...r]}case"login.clear":return[];default:return e}}function tB(e){const[t,n]=C.useReducer(eB,[],()=>{const r=localStorage.getItem(e);return r?JSON.parse(r):[]});return C.useEffect(()=>{localStorage.setItem(e,JSON.stringify(t))},[t]),[t,n]}const nB=({children:e,storageKey:t})=>{const[n,r]=tB(t),i={logins:n,addLogin:s=>r({type:"login.add",login:s}),removeLogin:s=>r({type:"login.remove",id:s}),setLogin:s=>r({type:"login.set",id:s}),clearLogins:()=>r({type:"login.clear"})};return m.jsx(TC.Provider,{value:i,children:e})};class rl{constructor(t,n,r){this.method=t,this.pubkey=n,this.signer=r}static fromNsecLogin(t){const n=rr.decode(t.data.nsec);return new rl(t.type,t.pubkey,new jd(n.data))}static fromBunkerLogin(t,n){const r=rr.decode(t.data.clientNsec),i=new jd(r.data);return new rl(t.type,t.pubkey,new SC({relay:n.group(t.data.relays),pubkey:t.pubkey,signer:i,timeout:6e4}))}static fromExtensionLogin(t){return new rl(t.type,t.pubkey,new P3)}}function Rw(){const e=C.useContext(TC);if(!e)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return e}const AC=C.createContext(void 0);function RC(){const e=C.useContext(AC);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const rB=e=>{const{children:t}=e,{config:n}=RC(),r=Z0(),i=C.useRef(void 0),s=C.useRef(n.relayMetadata);return C.useEffect(()=>{s.current=n.relayMetadata,r.invalidateQueries({queryKey:["nostr"]})},[n.relayMetadata,r]),i.current||(i.current=new Aw({open(l){return new X6(l)},reqRouter(l){const u=new Map,d=s.current.relays.filter(p=>p.read).map(p=>p.url);for(const p of d)u.set(p,l);return u},eventRouter(l){const u=s.current.relays.filter(p=>p.write).map(p=>p.url);return[...new Set(u)]}})),m.jsx(PC.Provider,{value:{nostr:i.current},children:t})};function om(e){const{nostr:t}=jr();return Gi({queryKey:["author",e??""],queryFn:async({signal:n})=>{if(!e)return{};const[r]=await t.query([{kinds:[0],authors:[e],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!r)throw new Error("No event found");try{return{metadata:kt.json().pipe(kt.metadata()).parse(r.content),event:r}}catch{return{event:r}}},staleTime:5*60*1e3,retry:3})}function gl(){const{nostr:e}=jr(),{logins:t}=Rw(),n=C.useCallback(l=>{switch(l.type){case"nsec":return rl.fromNsecLogin(l);case"bunker":return rl.fromBunkerLogin(l,e);case"extension":return rl.fromExtensionLogin(l);default:throw new Error(`Unsupported login type: ${l.type}`)}},[e]),r=C.useMemo(()=>{const l=[];for(const u of t)try{const d=n(u);l.push(d)}catch(d){console.warn("Skipped invalid login",u.id,d)}return l},[t,n]),i=r[0],s=om(i==null?void 0:i.pubkey);return{user:i,users:r,...s.data}}function iB(){const{nostr:e}=jr(),{user:t}=gl(),{config:n,updateConfig:r}=RC();return C.useEffect(()=>{if(!t)return;(async()=>{try{const s=await e.query([{kinds:[10002],authors:[t.pubkey],limit:1}],{signal:AbortSignal.timeout(5e3)});if(s.length>0){const l=s[0];if(l.created_at>n.relayMetadata.updatedAt){const u=l.tags.filter(([d])=>d==="r").map(([d,p,y])=>({url:p,read:!y||y==="read",write:!y||y==="write"}));u.length>0&&(console.log("Syncing relay list from Nostr:",u),r(d=>({...d,relayMetadata:{relays:u,updatedAt:l.created_at}})))}}}catch(s){console.error("Failed to sync relays from Nostr:",s)}})()},[t,n.relayMetadata.updatedAt,e,r]),null}const oB=1,sB=1e6;let Ty=0;function aB(){return Ty=(Ty+1)%Number.MAX_SAFE_INTEGER,Ty.toString()}const Ay=new Map,I1=e=>{if(Ay.has(e))return;const t=setTimeout(()=>{Ay.delete(e),Cd({type:"REMOVE_TOAST",toastId:e})},sB);Ay.set(e,t)},lB=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,oB)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?I1(n):e.toasts.forEach(r=>{I1(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},np=[];let rp={toasts:[]};function Cd(e){rp=lB(rp,e),np.forEach(t=>{t(rp)})}function vc({...e}){const t=aB(),n=i=>Cd({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Cd({type:"DISMISS_TOAST",toastId:t});return Cd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function ru(){const[e,t]=C.useState(rp);return C.useEffect(()=>(np.push(t),()=>{const n=np.indexOf(t);n>-1&&np.splice(n,1)}),[e]),{...e,toast:vc,dismiss:n=>Cd({type:"DISMISS_TOAST",toastId:n})}}var iu=I2();const cB=Xd(iu);function Ue(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function j1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function sm(...e){return t=>{let n=!1;const r=e.map(i=>{const s=j1(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():j1(e[i],null)}}}}function ft(...e){return C.useCallback(sm(...e),e)}function uB(e,t){const n=C.createContext(t),r=s=>{const{children:l,...u}=s,d=C.useMemo(()=>u,Object.values(u));return m.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function i(s){const l=C.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Pn(e,t=[]){let n=[];function r(s,l){const u=C.createContext(l),d=n.length;n=[...n,l];const p=g=>{var k;const{scope:b,children:_,...S}=g,v=((k=b==null?void 0:b[e])==null?void 0:k[d])||u,E=C.useMemo(()=>S,Object.values(S));return m.jsx(v.Provider,{value:E,children:_})};p.displayName=s+"Provider";function y(g,b){var v;const _=((v=b==null?void 0:b[e])==null?void 0:v[d])||u,S=C.useContext(_);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[p,y]}const i=()=>{const s=n.map(l=>C.createContext(l));return function(u){const d=(u==null?void 0:u[e])||s;return C.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[r,dB(i,...t)]}function dB(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=r.reduce((u,{useScope:d,scopeName:p})=>{const g=d(s)[`__scope${p}`];return{...u,...g}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function cl(e){const t=hB(e),n=C.forwardRef((r,i)=>{const{children:s,...l}=r,u=C.Children.toArray(s),d=u.find(mB);if(d){const p=d.props.children,y=u.map(g=>g===d?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:g);return m.jsx(t,{...l,ref:i,children:C.isValidElement(p)?C.cloneElement(p,void 0,y):null})}return m.jsx(t,{...l,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var fB=cl("Slot");function hB(e){const t=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const l=yB(i),u=gB(s,i.props);return i.type!==C.Fragment&&(u.ref=r?sm(r,l):l),C.cloneElement(i,u)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IC=Symbol("radix.slottable");function pB(e){const t=({children:n})=>m.jsx(m.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=IC,t}function mB(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IC}function gB(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...u)=>{s(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function yB(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function rf(e){const t=e+"CollectionProvider",[n,r]=Pn(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:E,children:k}=v,T=Ls.useRef(null),A=Ls.useRef(new Map).current;return m.jsx(i,{scope:E,itemMap:A,collectionRef:T,children:k})};l.displayName=t;const u=e+"CollectionSlot",d=cl(u),p=Ls.forwardRef((v,E)=>{const{scope:k,children:T}=v,A=s(u,k),z=ft(E,A.collectionRef);return m.jsx(d,{ref:z,children:T})});p.displayName=u;const y=e+"CollectionItemSlot",g="data-radix-collection-item",b=cl(y),_=Ls.forwardRef((v,E)=>{const{scope:k,children:T,...A}=v,z=Ls.useRef(null),D=ft(E,z),Z=s(y,k);return Ls.useEffect(()=>(Z.itemMap.set(z,{ref:z,...A}),()=>void Z.itemMap.delete(z))),m.jsx(b,{[g]:"",ref:D,children:T})});_.displayName=y;function S(v){const E=s(e+"CollectionConsumer",v);return Ls.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const A=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort((Z,W)=>A.indexOf(Z.ref.current)-A.indexOf(W.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:p,ItemSlot:_},S,r]}var vB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=vB.reduce((e,t)=>{const n=cl(`Primitive.${t}`),r=C.forwardRef((i,s)=>{const{asChild:l,...u}=i,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(d,{...u,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Iw(e,t){e&&iu.flushSync(()=>e.dispatchEvent(t))}function ln(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function wB(e,t=globalThis==null?void 0:globalThis.document){const n=ln(e);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var _B="DismissableLayer",i0="dismissableLayer.update",xB="dismissableLayer.pointerDownOutside",bB="dismissableLayer.focusOutside",L1,jC=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ou=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:u,...d}=e,p=C.useContext(jC),[y,g]=C.useState(null),b=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=C.useState({}),S=ft(t,W=>g(W)),v=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(E),T=y?v.indexOf(y):-1,A=p.layersWithOutsidePointerEventsDisabled.size>0,z=T>=k,D=SB(W=>{const q=W.target,U=[...p.branches].some(V=>V.contains(q));!z||U||(i==null||i(W),l==null||l(W),W.defaultPrevented||u==null||u())},b),Z=kB(W=>{const q=W.target;[...p.branches].some(V=>V.contains(q))||(s==null||s(W),l==null||l(W),W.defaultPrevented||u==null||u())},b);return wB(W=>{T===p.layers.size-1&&(r==null||r(W),!W.defaultPrevented&&u&&(W.preventDefault(),u()))},b),C.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(L1=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),O1(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=L1)}},[y,b,n,p]),C.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),O1())},[y,p]),C.useEffect(()=>{const W=()=>_({});return document.addEventListener(i0,W),()=>document.removeEventListener(i0,W)},[]),m.jsx(Ge.div,{...d,ref:S,style:{pointerEvents:A?z?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,D.onPointerDownCapture)})});ou.displayName=_B;var EB="DismissableLayerBranch",LC=C.forwardRef((e,t)=>{const n=C.useContext(jC),r=C.useRef(null),i=ft(t,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx(Ge.div,{...e,ref:i})});LC.displayName=EB;function SB(e,t=globalThis==null?void 0:globalThis.document){const n=ln(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let d=function(){OC(xB,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function kB(e,t=globalThis==null?void 0:globalThis.document){const n=ln(e),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&OC(bB,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function O1(){const e=new CustomEvent(i0);document.dispatchEvent(e)}function OC(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Iw(i,s):i.dispatchEvent(s)}var CB=ou,NB=LC,un=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},PB="Portal",of=C.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,s]=C.useState(!1);un(()=>s(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?cB.createPortal(m.jsx(Ge.div,{...r,ref:t}),l):null});of.displayName=PB;function TB(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var jn=e=>{const{present:t,children:n}=e,r=AB(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=ft(r.ref,RB(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};jn.displayName="Presence";function AB(e){const[t,n]=C.useState(),r=C.useRef(null),i=C.useRef(e),s=C.useRef("none"),l=e?"mounted":"unmounted",[u,d]=TB(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=$h(r.current);s.current=u==="mounted"?p:"none"},[u]),un(()=>{const p=r.current,y=i.current;if(y!==e){const b=s.current,_=$h(p);e?d("MOUNT"):_==="none"||(p==null?void 0:p.display)==="none"?d("UNMOUNT"):d(y&&b!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),un(()=>{if(t){let p;const y=t.ownerDocument.defaultView??window,g=_=>{const v=$h(r.current).includes(_.animationName);if(_.target===t&&v&&(d("ANIMATION_END"),!i.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",p=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},b=_=>{_.target===t&&(s.current=$h(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{y.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:C.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function $h(e){return(e==null?void 0:e.animationName)||"none"}function RB(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var IB=B0[" useInsertionEffect ".trim().toString()]||un;function ni({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,l]=jB({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:i;{const y=C.useRef(e!==void 0);C.useEffect(()=>{const g=y.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=u},[u,r])}const p=C.useCallback(y=>{var g;if(u){const b=LB(y)?y(e):y;b!==e&&((g=l.current)==null||g.call(l,b))}else s(y)},[u,e,s,l]);return[d,p]}function jB({defaultProp:e,onChange:t}){const[n,r]=C.useState(e),i=C.useRef(n),s=C.useRef(t);return IB(()=>{s.current=t},[t]),C.useEffect(()=>{var l;i.current!==n&&((l=s.current)==null||l.call(s,n),i.current=n)},[n,i]),[n,r,s]}function LB(e){return typeof e=="function"}var MC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OB="VisuallyHidden",am=C.forwardRef((e,t)=>m.jsx(Ge.span,{...e,ref:t,style:{...MC,...e.style}}));am.displayName=OB;var MB=am,jw="ToastProvider",[Lw,zB,DB]=rf("Toast"),[zC,UK]=Pn("Toast",[DB]),[BB,lm]=zC(jw),DC=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:l}=e,[u,d]=C.useState(null),[p,y]=C.useState(0),g=C.useRef(!1),b=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${jw}\`. Expected non-empty \`string\`.`),m.jsx(Lw.Provider,{scope:t,children:m.jsx(BB,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:p,viewport:u,onViewportChange:d,onToastAdd:C.useCallback(()=>y(_=>_+1),[]),onToastRemove:C.useCallback(()=>y(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:b,children:l})})};DC.displayName=jw;var BC="ToastViewport",FB=["F8"],o0="toast.viewportPause",s0="toast.viewportResume",FC=C.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=FB,label:i="Notifications ({hotkey})",...s}=e,l=lm(BC,n),u=zB(n),d=C.useRef(null),p=C.useRef(null),y=C.useRef(null),g=C.useRef(null),b=ft(t,g,l.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=l.toastCount>0;C.useEffect(()=>{const E=k=>{var A;r.length!==0&&r.every(z=>k[z]||k.code===z)&&((A=g.current)==null||A.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),C.useEffect(()=>{const E=d.current,k=g.current;if(S&&E&&k){const T=()=>{if(!l.isClosePausedRef.current){const Z=new CustomEvent(o0);k.dispatchEvent(Z),l.isClosePausedRef.current=!0}},A=()=>{if(l.isClosePausedRef.current){const Z=new CustomEvent(s0);k.dispatchEvent(Z),l.isClosePausedRef.current=!1}},z=Z=>{!E.contains(Z.relatedTarget)&&A()},D=()=>{E.contains(document.activeElement)||A()};return E.addEventListener("focusin",T),E.addEventListener("focusout",z),E.addEventListener("pointermove",T),E.addEventListener("pointerleave",D),window.addEventListener("blur",T),window.addEventListener("focus",A),()=>{E.removeEventListener("focusin",T),E.removeEventListener("focusout",z),E.removeEventListener("pointermove",T),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",T),window.removeEventListener("focus",A)}}},[S,l.isClosePausedRef]);const v=C.useCallback(({tabbingDirection:E})=>{const T=u().map(A=>{const z=A.ref.current,D=[z,...XB(z)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?T.reverse():T).flat()},[u]);return C.useEffect(()=>{const E=g.current;if(E){const k=T=>{var D,Z,W;const A=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!A){const q=document.activeElement,U=T.shiftKey;if(T.target===E&&U){(D=p.current)==null||D.focus();return}const B=v({tabbingDirection:U?"backwards":"forwards"}),X=B.findIndex(j=>j===q);Ry(B.slice(X+1))?T.preventDefault():U?(Z=p.current)==null||Z.focus():(W=y.current)==null||W.focus()}};return E.addEventListener("keydown",k),()=>E.removeEventListener("keydown",k)}},[u,v]),m.jsxs(NB,{ref:d,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&m.jsx(a0,{ref:p,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Ry(E)}}),m.jsx(Lw.Slot,{scope:n,children:m.jsx(Ge.ol,{tabIndex:-1,...s,ref:b})}),S&&m.jsx(a0,{ref:y,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Ry(E)}})]})});FC.displayName=BC;var UC="ToastFocusProxy",a0=C.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=lm(UC,n);return m.jsx(am,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var p;const u=l.relatedTarget;!((p=s.viewport)!=null&&p.contains(u))&&r()}})});a0.displayName=UC;var sf="Toast",UB="toast.swipeStart",$B="toast.swipeMove",HB="toast.swipeCancel",ZB="toast.swipeEnd",$C=C.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...l}=e,[u,d]=ni({prop:r,defaultProp:i??!0,onChange:s,caller:sf});return m.jsx(jn,{present:n||u,children:m.jsx(qB,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:ln(e.onPause),onResume:ln(e.onResume),onSwipeStart:Ue(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,p=>{const{x:y,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,p=>{const{x:y,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});$C.displayName=sf;var[WB,VB]=zC(sf,{onClose(){}}),qB=C.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:p,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:b,onSwipeEnd:_,...S}=e,v=lm(sf,n),[E,k]=C.useState(null),T=ft(t,j=>k(j)),A=C.useRef(null),z=C.useRef(null),D=i||v.duration,Z=C.useRef(0),W=C.useRef(D),q=C.useRef(0),{onToastAdd:U,onToastRemove:V}=v,$=ln(()=>{var K;(E==null?void 0:E.contains(document.activeElement))&&((K=v.viewport)==null||K.focus()),l()}),B=C.useCallback(j=>{!j||j===1/0||(window.clearTimeout(q.current),Z.current=new Date().getTime(),q.current=window.setTimeout($,j))},[$]);C.useEffect(()=>{const j=v.viewport;if(j){const K=()=>{B(W.current),p==null||p()},oe=()=>{const ie=new Date().getTime()-Z.current;W.current=W.current-ie,window.clearTimeout(q.current),d==null||d()};return j.addEventListener(o0,oe),j.addEventListener(s0,K),()=>{j.removeEventListener(o0,oe),j.removeEventListener(s0,K)}}},[v.viewport,D,d,p,B]),C.useEffect(()=>{s&&!v.isClosePausedRef.current&&B(D)},[s,D,v.isClosePausedRef,B]),C.useEffect(()=>(U(),()=>V()),[U,V]);const X=C.useMemo(()=>E?GC(E):null,[E]);return v.viewport?m.jsxs(m.Fragment,{children:[X&&m.jsx(KB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),m.jsx(WB,{scope:n,onClose:$,children:iu.createPortal(m.jsx(Lw.ItemSlot,{scope:n,children:m.jsx(CB,{asChild:!0,onEscapeKeyDown:Ue(u,()=>{v.isFocusedToastEscapeKeyDownRef.current||$(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(Ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:T,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,j=>{j.key==="Escape"&&(u==null||u(j.nativeEvent),j.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:Ue(e.onPointerDown,j=>{j.button===0&&(A.current={x:j.clientX,y:j.clientY})}),onPointerMove:Ue(e.onPointerMove,j=>{if(!A.current)return;const K=j.clientX-A.current.x,oe=j.clientY-A.current.y,ie=!!z.current,te=["left","right"].includes(v.swipeDirection),ee=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,le=te?ee(0,K):0,H=te?0:ee(0,oe),Q=j.pointerType==="touch"?10:2,ke={x:le,y:H},_e={originalEvent:j,delta:ke};ie?(z.current=ke,Hh($B,g,_e,{discrete:!1})):M1(ke,v.swipeDirection,Q)?(z.current=ke,Hh(UB,y,_e,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(K)>Q||Math.abs(oe)>Q)&&(A.current=null)}),onPointerUp:Ue(e.onPointerUp,j=>{const K=z.current,oe=j.target;if(oe.hasPointerCapture(j.pointerId)&&oe.releasePointerCapture(j.pointerId),z.current=null,A.current=null,K){const ie=j.currentTarget,te={originalEvent:j,delta:K};M1(K,v.swipeDirection,v.swipeThreshold)?Hh(ZB,_,te,{discrete:!0}):Hh(HB,b,te,{discrete:!0}),ie.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),KB=e=>{const{__scopeToast:t,children:n,...r}=e,i=lm(sf,t),[s,l]=C.useState(!1),[u,d]=C.useState(!1);return JB(()=>l(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),u?null:m.jsx(of,{asChild:!0,children:m.jsx(am,{...r,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",n]})})})},GB="ToastTitle",HC=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return m.jsx(Ge.div,{...r,ref:t})});HC.displayName=GB;var YB="ToastDescription",ZC=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return m.jsx(Ge.div,{...r,ref:t})});ZC.displayName=YB;var WC="ToastAction",VC=C.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?m.jsx(KC,{altText:n,asChild:!0,children:m.jsx(Ow,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${WC}\`. Expected non-empty \`string\`.`),null)});VC.displayName=WC;var qC="ToastClose",Ow=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=VB(qC,n);return m.jsx(KC,{asChild:!0,children:m.jsx(Ge.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,i.onClose)})})});Ow.displayName=qC;var KC=C.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return m.jsx(Ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function GC(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),QB(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...GC(r))}}),t}function Hh(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Iw(i,s):i.dispatchEvent(s)}var M1=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function JB(e=()=>{}){const t=ln(e);un(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function QB(e){return e.nodeType===e.ELEMENT_NODE}function XB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ry(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var eF=DC,YC=FC,JC=$C,QC=HC,XC=ZC,eN=VC,tN=Ow;function nN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=nN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rN(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=nN(e))&&(r&&(r+=" "),r+=t);return r}const z1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,D1=rN,af=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return D1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,l=Object.keys(i).map(p=>{const y=n==null?void 0:n[p],g=s==null?void 0:s[p];if(y===null)return null;const b=z1(y)||z1(g);return i[p][b]}),u=n&&Object.entries(n).reduce((p,y)=>{let[g,b]=y;return b===void 0||(p[g]=b),p},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:g,className:b,..._}=y;return Object.entries(_).every(S=>{let[v,E]=S;return Array.isArray(E)?E.includes({...s,...u}[v]):{...s,...u}[v]===E})?[...p,g,b]:p},[]);return D1(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iN=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},d)=>C.createElement("svg",{ref:d,...nF,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:iN("lucide",i),...u},[...l.map(([p,y])=>C.createElement(p,y)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=(e,t)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(rF,{ref:s,iconNode:t,className:iN(`lucide-${tF(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=bt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=bt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=bt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=bt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=bt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=bt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=bt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=bt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=bt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=bt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=bt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=bt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=bt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=bt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=bt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=bt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=bt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=bt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=bt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=bt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=bt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=bt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=bt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=bt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=bt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=bt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=bt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=bt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=bt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),zw="-",CF=e=>{const t=PF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(zw);return u[0]===""&&u.length!==1&&u.shift(),dN(u,t)||NF(l)},getConflictingClassGroupIds:(l,u)=>{const d=n[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},dN=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?dN(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(zw);return(l=t.validators.find(({validator:u})=>u(s)))==null?void 0:l.classGroupId},F1=/^\[(.+)\]$/,NF=e=>{if(F1.test(e)){const t=F1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},PF=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return AF(Object.entries(e.classGroups),n).forEach(([s,l])=>{d0(l,r,s,t)}),r},d0=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:U1(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(TF(i)){d0(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,l])=>{d0(l,U1(t,s),n,r)})})},U1=(e,t)=>{let n=e;return t.split(zw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},TF=e=>e.isThemeGetter,AF=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([l,u])=>[t+l,u])):s);return[n,i]}):e,RF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,l)=>{n.set(s,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let l=n.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set(s,l){n.has(s)?n.set(s,l):i(s,l)}}},fN="!",IF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,l=u=>{const d=[];let p=0,y=0,g;for(let E=0;E<u.length;E++){let k=u[E];if(p===0){if(k===i&&(r||u.slice(E,E+s)===t)){d.push(u.slice(y,E)),y=E+s;continue}if(k==="/"){g=E;continue}}k==="["?p++:k==="]"&&p--}const b=d.length===0?u:u.substring(y),_=b.startsWith(fN),S=_?b.substring(1):b,v=g&&g>y?g-y:void 0;return{modifiers:d,hasImportantModifier:_,baseClassName:S,maybePostfixModifierPosition:v}};return n?u=>n({className:u,parseClassName:l}):l},jF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},LF=e=>({cache:RF(e.cacheSize),parseClassName:IF(e),...CF(e)}),OF=/\s+/,MF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],l=e.trim().split(OF);let u="";for(let d=l.length-1;d>=0;d-=1){const p=l[d],{modifiers:y,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:_}=n(p);let S=!!_,v=r(S?b.substring(0,_):b);if(!v){if(!S){u=p+(u.length>0?" "+u:u);continue}if(v=r(b),!v){u=p+(u.length>0?" "+u:u);continue}S=!1}const E=jF(y).join(":"),k=g?E+fN:E,T=k+v;if(s.includes(T))continue;s.push(T);const A=i(v,S);for(let z=0;z<A.length;++z){const D=A[z];s.push(k+D)}u=p+(u.length>0?" "+u:u)}return u};function zF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=hN(t))&&(r&&(r+=" "),r+=n);return r}const hN=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=hN(e[r]))&&(n&&(n+=" "),n+=t);return n};function DF(e,...t){let n,r,i,s=l;function l(d){const p=t.reduce((y,g)=>g(y),e());return n=LF(p),r=n.cache.get,i=n.cache.set,s=u,u(d)}function u(d){const p=r(d);if(p)return p;const y=MF(d,n);return i(d,y),y}return function(){return s(zF.apply(null,arguments))}}const Vt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},pN=/^\[(?:([a-z-]+):)?(.+)\]$/i,BF=/^\d+\/\d+$/,FF=new Set(["px","full","screen"]),UF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$F=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ZF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,So=e=>kc(e)||FF.has(e)||BF.test(e),Ts=e=>su(e,"length",XF),kc=e=>!!e&&!Number.isNaN(Number(e)),Iy=e=>su(e,"number",kc),fd=e=>!!e&&Number.isInteger(Number(e)),VF=e=>e.endsWith("%")&&kc(e.slice(0,-1)),_t=e=>pN.test(e),As=e=>UF.test(e),qF=new Set(["length","size","percentage"]),KF=e=>su(e,qF,mN),GF=e=>su(e,"position",mN),YF=new Set(["image","url"]),JF=e=>su(e,YF,tU),QF=e=>su(e,"",eU),hd=()=>!0,su=(e,t,n)=>{const r=pN.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},XF=e=>$F.test(e)&&!HF.test(e),mN=()=>!1,eU=e=>ZF.test(e),tU=e=>WF.test(e),nU=()=>{const e=Vt("colors"),t=Vt("spacing"),n=Vt("blur"),r=Vt("brightness"),i=Vt("borderColor"),s=Vt("borderRadius"),l=Vt("borderSpacing"),u=Vt("borderWidth"),d=Vt("contrast"),p=Vt("grayscale"),y=Vt("hueRotate"),g=Vt("invert"),b=Vt("gap"),_=Vt("gradientColorStops"),S=Vt("gradientColorStopPositions"),v=Vt("inset"),E=Vt("margin"),k=Vt("opacity"),T=Vt("padding"),A=Vt("saturate"),z=Vt("scale"),D=Vt("sepia"),Z=Vt("skew"),W=Vt("space"),q=Vt("translate"),U=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",_t,t],B=()=>[_t,t],X=()=>["",So,Ts],j=()=>["auto",kc,_t],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],oe=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",_t],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[kc,_t];return{cacheSize:500,separator:":",theme:{colors:[hd],spacing:[So,Ts],blur:["none","",As,_t],brightness:H(),borderColor:[e],borderRadius:["none","","full",As,_t],borderSpacing:B(),borderWidth:X(),contrast:H(),grayscale:ee(),hueRotate:H(),invert:ee(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[VF,Ts],inset:$(),margin:$(),opacity:H(),padding:B(),saturate:H(),scale:H(),sepia:ee(),skew:H(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",_t]}],container:["container"],columns:[{columns:[As]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),_t]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fd,_t]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_t]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",fd,_t]}],"grid-cols":[{"grid-cols":[hd]}],"col-start-end":[{col:["auto",{span:["full",fd,_t]},_t]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[hd]}],"row-start-end":[{row:["auto",{span:[fd,_t]},_t]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_t]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_t]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_t,t]}],"min-w":[{"min-w":[_t,t,"min","max","fit"]}],"max-w":[{"max-w":[_t,t,"none","full","min","max","fit","prose",{screen:[As]},As]}],h:[{h:[_t,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_t,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_t,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_t,t,"auto","min","max","fit"]}],"font-size":[{text:["base",As,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Iy]}],"font-family":[{font:[hd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_t]}],"line-clamp":[{"line-clamp":["none",kc,Iy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",So,_t]}],"list-image":[{"list-image":["none",_t]}],"list-style-type":[{list:["none","disc","decimal",_t]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",So,Ts]}],"underline-offset":[{"underline-offset":["auto",So,_t]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),GF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...oe(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:oe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...oe()]}],"outline-offset":[{"outline-offset":[So,_t]}],"outline-w":[{outline:[So,Ts]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[So,Ts]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",As,QF]}],"shadow-color":[{shadow:[hd]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",As,_t]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[g]}],saturate:[{saturate:[A]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_t]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",_t]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",_t]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[fd,_t]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_t]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_t]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_t]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[So,Ts,Iy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rU=DF(nU);function We(...e){return rU(rN(e))}const iU=eF,gN=C.forwardRef(({className:e,...t},n)=>m.jsx(YC,{ref:n,className:We("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));gN.displayName=YC.displayName;const oU=af("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yN=C.forwardRef(({className:e,variant:t,...n},r)=>m.jsx(JC,{ref:r,className:We(oU({variant:t}),e),...n}));yN.displayName=JC.displayName;const sU=C.forwardRef(({className:e,...t},n)=>m.jsx(eN,{ref:n,className:We("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));sU.displayName=eN.displayName;const vN=C.forwardRef(({className:e,...t},n)=>m.jsx(tN,{ref:n,className:We("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:m.jsx(uN,{className:"h-4 w-4"})}));vN.displayName=tN.displayName;const wN=C.forwardRef(({className:e,...t},n)=>m.jsx(QC,{ref:n,className:We("text-sm font-semibold",e),...t}));wN.displayName=QC.displayName;const _N=C.forwardRef(({className:e,...t},n)=>m.jsx(XC,{ref:n,className:We("text-sm opacity-90",e),...t}));_N.displayName=XC.displayName;function aU(){const{toasts:e}=ru();return m.jsxs(iU,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return m.jsxs(yN,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(wN,{children:n}),r&&m.jsx(_N,{children:r})]}),i,m.jsx(vN,{})]},t)}),m.jsx(gN,{})]})}var lU=B0[" useId ".trim().toString()]||(()=>{}),cU=0;function ei(e){const[t,n]=C.useState(lU());return un(()=>{n(r=>r??String(cU++))},[e]),t?`radix-${t}`:""}const uU=["top","right","bottom","left"],ra=Math.min,Ar=Math.max,Sp=Math.round,Zh=Math.floor,Qi=e=>({x:e,y:e}),dU={left:"right",right:"left",bottom:"top",top:"bottom"},fU={start:"end",end:"start"};function f0(e,t,n){return Ar(e,ra(t,n))}function Fo(e,t){return typeof e=="function"?e(t):e}function Uo(e){return e.split("-")[0]}function au(e){return e.split("-")[1]}function Dw(e){return e==="x"?"y":"x"}function Bw(e){return e==="y"?"height":"width"}function Mo(e){return["top","bottom"].includes(Uo(e))?"y":"x"}function Fw(e){return Dw(Mo(e))}function hU(e,t,n){n===void 0&&(n=!1);const r=au(e),i=Fw(e),s=Bw(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=kp(l)),[l,kp(l)]}function pU(e){const t=kp(e);return[h0(e),t,h0(t)]}function h0(e){return e.replace(/start|end/g,t=>fU[t])}function mU(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:l;default:return[]}}function gU(e,t,n,r){const i=au(e);let s=mU(Uo(e),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(h0)))),s}function kp(e){return e.replace(/left|right|bottom|top/g,t=>dU[t])}function yU(e){return{top:0,right:0,bottom:0,left:0,...e}}function xN(e){return typeof e!="number"?yU(e):{top:e,right:e,bottom:e,left:e}}function Cp(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function $1(e,t,n){let{reference:r,floating:i}=e;const s=Mo(t),l=Fw(t),u=Bw(l),d=Uo(t),p=s==="y",y=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[u]/2-i[u]/2;let _;switch(d){case"top":_={x:y,y:r.y-i.height};break;case"bottom":_={x:y,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:g};break;case"left":_={x:r.x-i.width,y:g};break;default:_={x:r.x,y:r.y}}switch(au(t)){case"start":_[l]-=b*(n&&p?-1:1);break;case"end":_[l]+=b*(n&&p?-1:1);break}return _}const vU=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,u=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let p=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:y,y:g}=$1(p,r,d),b=r,_={},S=0;for(let v=0;v<u.length;v++){const{name:E,fn:k}=u[v],{x:T,y:A,data:z,reset:D}=await k({x:y,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:_,rects:p,platform:l,elements:{reference:e,floating:t}});y=T??y,g=A??g,_={..._,[E]:{..._[E],...z}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(p=D.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:y,y:g}=$1(p,b,d)),v=-1)}return{x:y,y:g,placement:b,strategy:i,middlewareData:_}};async function Od(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:l,elements:u,strategy:d}=e,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:b=!1,padding:_=0}=Fo(t,e),S=xN(_),E=u[b?g==="floating"?"reference":"floating":g],k=Cp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:p,rootBoundary:y,strategy:d})),T=g==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),z=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},D=Cp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:A,strategy:d}):T);return{top:(k.top-D.top+S.top)/z.y,bottom:(D.bottom-k.bottom+S.bottom)/z.y,left:(k.left-D.left+S.left)/z.x,right:(D.right-k.right+S.right)/z.x}}const wU=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:l,elements:u,middlewareData:d}=t,{element:p,padding:y=0}=Fo(e,t)||{};if(p==null)return{};const g=xN(y),b={x:n,y:r},_=Fw(i),S=Bw(_),v=await l.getDimensions(p),E=_==="y",k=E?"top":"left",T=E?"bottom":"right",A=E?"clientHeight":"clientWidth",z=s.reference[S]+s.reference[_]-b[_]-s.floating[S],D=b[_]-s.reference[_],Z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let W=Z?Z[A]:0;(!W||!await(l.isElement==null?void 0:l.isElement(Z)))&&(W=u.floating[A]||s.floating[S]);const q=z/2-D/2,U=W/2-v[S]/2-1,V=ra(g[k],U),$=ra(g[T],U),B=V,X=W-v[S]-$,j=W/2-v[S]/2+q,K=f0(B,j,X),oe=!d.arrow&&au(i)!=null&&j!==K&&s.reference[S]/2-(j<B?V:$)-v[S]/2<0,ie=oe?j<B?j-B:j-X:0;return{[_]:b[_]+ie,data:{[_]:K,centerOffset:j-K-ie,...oe&&{alignmentOffset:ie}},reset:oe}}}),_U=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:u,platform:d,elements:p}=t,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...E}=Fo(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const k=Uo(i),T=Mo(u),A=Uo(u)===u,z=await(d.isRTL==null?void 0:d.isRTL(p.floating)),D=b||(A||!v?[kp(u)]:pU(u)),Z=S!=="none";!b&&Z&&D.push(...gU(u,v,S,z));const W=[u,...D],q=await Od(t,E),U=[];let V=((r=s.flip)==null?void 0:r.overflows)||[];if(y&&U.push(q[k]),g){const K=hU(i,l,z);U.push(q[K[0]],q[K[1]])}if(V=[...V,{placement:i,overflows:U}],!U.every(K=>K<=0)){var $,B;const K=((($=s.flip)==null?void 0:$.index)||0)+1,oe=W[K];if(oe){var X;const te=g==="alignment"?T!==Mo(oe):!1,ee=((X=V[0])==null?void 0:X.overflows[0])>0;if(!te||ee)return{data:{index:K,overflows:V},reset:{placement:oe}}}let ie=(B=V.filter(te=>te.overflows[0]<=0).sort((te,ee)=>te.overflows[1]-ee.overflows[1])[0])==null?void 0:B.placement;if(!ie)switch(_){case"bestFit":{var j;const te=(j=V.filter(ee=>{if(Z){const le=Mo(ee.placement);return le===T||le==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(le=>le>0).reduce((le,H)=>le+H,0)]).sort((ee,le)=>ee[1]-le[1])[0])==null?void 0:j[0];te&&(ie=te);break}case"initialPlacement":ie=u;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function H1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Z1(e){return uU.some(t=>e[t]>=0)}const xU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Fo(e,t);switch(r){case"referenceHidden":{const s=await Od(t,{...i,elementContext:"reference"}),l=H1(s,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Z1(l)}}}case"escaped":{const s=await Od(t,{...i,altBoundary:!0}),l=H1(s,n.floating);return{data:{escapedOffsets:l,escaped:Z1(l)}}}default:return{}}}}};async function bU(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Uo(n),u=au(n),d=Mo(n)==="y",p=["left","top"].includes(l)?-1:1,y=s&&d?-1:1,g=Fo(t,e);let{mainAxis:b,crossAxis:_,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(_=u==="end"?S*-1:S),d?{x:_*y,y:b*p}:{x:b*p,y:_*y}}const EU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:l,middlewareData:u}=t,d=await bU(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}},SU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:u={fn:E=>{let{x:k,y:T}=E;return{x:k,y:T}}},...d}=Fo(e,t),p={x:n,y:r},y=await Od(t,d),g=Mo(Uo(i)),b=Dw(g);let _=p[b],S=p[g];if(s){const E=b==="y"?"top":"left",k=b==="y"?"bottom":"right",T=_+y[E],A=_-y[k];_=f0(T,_,A)}if(l){const E=g==="y"?"top":"left",k=g==="y"?"bottom":"right",T=S+y[E],A=S-y[k];S=f0(T,S,A)}const v=u.fn({...t,[b]:_,[g]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[b]:s,[g]:l}}}}}},kU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:p=!0}=Fo(e,t),y={x:n,y:r},g=Mo(i),b=Dw(g);let _=y[b],S=y[g];const v=Fo(u,t),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const A=b==="y"?"height":"width",z=s.reference[b]-s.floating[A]+E.mainAxis,D=s.reference[b]+s.reference[A]-E.mainAxis;_<z?_=z:_>D&&(_=D)}if(p){var k,T;const A=b==="y"?"width":"height",z=["top","left"].includes(Uo(i)),D=s.reference[g]-s.floating[A]+(z&&((k=l.offset)==null?void 0:k[g])||0)+(z?0:E.crossAxis),Z=s.reference[g]+s.reference[A]+(z?0:((T=l.offset)==null?void 0:T[g])||0)-(z?E.crossAxis:0);S<D?S=D:S>Z&&(S=Z)}return{[b]:_,[g]:S}}}},CU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:l,elements:u}=t,{apply:d=()=>{},...p}=Fo(e,t),y=await Od(t,p),g=Uo(i),b=au(i),_=Mo(i)==="y",{width:S,height:v}=s.floating;let E,k;g==="top"||g==="bottom"?(E=g,k=b===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(k=g,E=b==="end"?"top":"bottom");const T=v-y.top-y.bottom,A=S-y.left-y.right,z=ra(v-y[E],T),D=ra(S-y[k],A),Z=!t.middlewareData.shift;let W=z,q=D;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(q=A),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(W=T),Z&&!b){const V=Ar(y.left,0),$=Ar(y.right,0),B=Ar(y.top,0),X=Ar(y.bottom,0);_?q=S-2*(V!==0||$!==0?V+$:Ar(y.left,y.right)):W=v-2*(B!==0||X!==0?B+X:Ar(y.top,y.bottom))}await d({...t,availableWidth:q,availableHeight:W});const U=await l.getDimensions(u.floating);return S!==U.width||v!==U.height?{reset:{rects:!0}}:{}}}};function um(){return typeof window<"u"}function lu(e){return bN(e)?(e.nodeName||"").toLowerCase():"#document"}function Ir(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function eo(e){var t;return(t=(bN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bN(e){return um()?e instanceof Node||e instanceof Ir(e).Node:!1}function Ei(e){return um()?e instanceof Element||e instanceof Ir(e).Element:!1}function Xi(e){return um()?e instanceof HTMLElement||e instanceof Ir(e).HTMLElement:!1}function W1(e){return!um()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ir(e).ShadowRoot}function lf(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Si(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function NU(e){return["table","td","th"].includes(lu(e))}function dm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Uw(e){const t=$w(),n=Ei(e)?Si(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function PU(e){let t=ia(e);for(;Xi(t)&&!Gc(t);){if(Uw(t))return t;if(dm(t))return null;t=ia(t)}return null}function $w(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gc(e){return["html","body","#document"].includes(lu(e))}function Si(e){return Ir(e).getComputedStyle(e)}function fm(e){return Ei(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ia(e){if(lu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||W1(e)&&e.host||eo(e);return W1(t)?t.host:t}function EN(e){const t=ia(e);return Gc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xi(t)&&lf(t)?t:EN(t)}function Md(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=EN(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),l=Ir(i);if(s){const u=p0(l);return t.concat(l,l.visualViewport||[],lf(i)?i:[],u&&n?Md(u):[])}return t.concat(i,Md(i,[],n))}function p0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function SN(e){const t=Si(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Xi(e),s=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=Sp(n)!==s||Sp(r)!==l;return u&&(n=s,r=l),{width:n,height:r,$:u}}function Hw(e){return Ei(e)?e:e.contextElement}function Cc(e){const t=Hw(e);if(!Xi(t))return Qi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=SN(t);let l=(s?Sp(n.width):n.width)/r,u=(s?Sp(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const TU=Qi(0);function kN(e){const t=Ir(e);return!$w()||!t.visualViewport?TU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function AU(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ir(e)?!1:t}function ul(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Hw(e);let l=Qi(1);t&&(r?Ei(r)&&(l=Cc(r)):l=Cc(e));const u=AU(s,n,r)?kN(s):Qi(0);let d=(i.left+u.x)/l.x,p=(i.top+u.y)/l.y,y=i.width/l.x,g=i.height/l.y;if(s){const b=Ir(s),_=r&&Ei(r)?Ir(r):r;let S=b,v=p0(S);for(;v&&r&&_!==S;){const E=Cc(v),k=v.getBoundingClientRect(),T=Si(v),A=k.left+(v.clientLeft+parseFloat(T.paddingLeft))*E.x,z=k.top+(v.clientTop+parseFloat(T.paddingTop))*E.y;d*=E.x,p*=E.y,y*=E.x,g*=E.y,d+=A,p+=z,S=Ir(v),v=p0(S)}}return Cp({width:y,height:g,x:d,y:p})}function Zw(e,t){const n=fm(e).scrollLeft;return t?t.left+n:ul(eo(e)).left+n}function CN(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:Zw(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function RU(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",l=eo(r),u=t?dm(t.floating):!1;if(r===l||u&&s)return n;let d={scrollLeft:0,scrollTop:0},p=Qi(1);const y=Qi(0),g=Xi(r);if((g||!g&&!s)&&((lu(r)!=="body"||lf(l))&&(d=fm(r)),Xi(r))){const _=ul(r);p=Cc(r),y.x=_.x+r.clientLeft,y.y=_.y+r.clientTop}const b=l&&!g&&!s?CN(l,d,!0):Qi(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-d.scrollLeft*p.x+y.x+b.x,y:n.y*p.y-d.scrollTop*p.y+y.y+b.y}}function IU(e){return Array.from(e.getClientRects())}function jU(e){const t=eo(e),n=fm(e),r=e.ownerDocument.body,i=Ar(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ar(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Zw(e);const u=-n.scrollTop;return Si(r).direction==="rtl"&&(l+=Ar(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:u}}function LU(e,t){const n=Ir(e),r=eo(e),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,u=0,d=0;if(i){s=i.width,l=i.height;const p=$w();(!p||p&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:s,height:l,x:u,y:d}}function OU(e,t){const n=ul(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Xi(e)?Cc(e):Qi(1),l=e.clientWidth*s.x,u=e.clientHeight*s.y,d=i*s.x,p=r*s.y;return{width:l,height:u,x:d,y:p}}function V1(e,t,n){let r;if(t==="viewport")r=LU(e,n);else if(t==="document")r=jU(eo(e));else if(Ei(t))r=OU(t,n);else{const i=kN(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Cp(r)}function NN(e,t){const n=ia(e);return n===t||!Ei(n)||Gc(n)?!1:Si(n).position==="fixed"||NN(n,t)}function MU(e,t){const n=t.get(e);if(n)return n;let r=Md(e,[],!1).filter(u=>Ei(u)&&lu(u)!=="body"),i=null;const s=Si(e).position==="fixed";let l=s?ia(e):e;for(;Ei(l)&&!Gc(l);){const u=Si(l),d=Uw(l);!d&&u.position==="fixed"&&(i=null),(s?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||lf(l)&&!d&&NN(e,l))?r=r.filter(y=>y!==l):i=u,l=ia(l)}return t.set(e,r),r}function zU(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?dm(t)?[]:MU(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((p,y)=>{const g=V1(t,y,i);return p.top=Ar(g.top,p.top),p.right=ra(g.right,p.right),p.bottom=ra(g.bottom,p.bottom),p.left=Ar(g.left,p.left),p},V1(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function DU(e){const{width:t,height:n}=SN(e);return{width:t,height:n}}function BU(e,t,n){const r=Xi(t),i=eo(t),s=n==="fixed",l=ul(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const d=Qi(0);function p(){d.x=Zw(i)}if(r||!r&&!s)if((lu(t)!=="body"||lf(i))&&(u=fm(t)),r){const _=ul(t,!0,s,t);d.x=_.x+t.clientLeft,d.y=_.y+t.clientTop}else i&&p();s&&!r&&i&&p();const y=i&&!r&&!s?CN(i,u):Qi(0),g=l.left+u.scrollLeft-d.x-y.x,b=l.top+u.scrollTop-d.y-y.y;return{x:g,y:b,width:l.width,height:l.height}}function jy(e){return Si(e).position==="static"}function q1(e,t){if(!Xi(e)||Si(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return eo(e)===n&&(n=n.ownerDocument.body),n}function PN(e,t){const n=Ir(e);if(dm(e))return n;if(!Xi(e)){let i=ia(e);for(;i&&!Gc(i);){if(Ei(i)&&!jy(i))return i;i=ia(i)}return n}let r=q1(e,t);for(;r&&NU(r)&&jy(r);)r=q1(r,t);return r&&Gc(r)&&jy(r)&&!Uw(r)?n:r||PU(e)||n}const FU=async function(e){const t=this.getOffsetParent||PN,n=this.getDimensions,r=await n(e.floating);return{reference:BU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UU(e){return Si(e).direction==="rtl"}const $U={convertOffsetParentRelativeRectToViewportRelativeRect:RU,getDocumentElement:eo,getClippingRect:zU,getOffsetParent:PN,getElementRects:FU,getClientRects:IU,getDimensions:DU,getScale:Cc,isElement:Ei,isRTL:UU};function TN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HU(e,t){let n=null,r;const i=eo(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const p=e.getBoundingClientRect(),{left:y,top:g,width:b,height:_}=p;if(u||t(),!b||!_)return;const S=Zh(g),v=Zh(i.clientWidth-(y+b)),E=Zh(i.clientHeight-(g+_)),k=Zh(y),A={rootMargin:-S+"px "+-v+"px "+-E+"px "+-k+"px",threshold:Ar(0,ra(1,d))||1};let z=!0;function D(Z){const W=Z[0].intersectionRatio;if(W!==d){if(!z)return l();W?l(!1,W):r=setTimeout(()=>{l(!1,1e-7)},1e3)}W===1&&!TN(p,e.getBoundingClientRect())&&l(),z=!1}try{n=new IntersectionObserver(D,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,A)}n.observe(e)}return l(!0),s}function ZU(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=Hw(e),y=i||s?[...p?Md(p):[],...Md(t)]:[];y.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),s&&k.addEventListener("resize",n)});const g=p&&u?HU(p,n):null;let b=-1,_=null;l&&(_=new ResizeObserver(k=>{let[T]=k;T&&T.target===p&&_&&(_.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var A;(A=_)==null||A.observe(t)})),n()}),p&&!d&&_.observe(p),_.observe(t));let S,v=d?ul(e):null;d&&E();function E(){const k=ul(e);v&&!TN(v,k)&&n(),v=k,S=requestAnimationFrame(E)}return n(),()=>{var k;y.forEach(T=>{i&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),g==null||g(),(k=_)==null||k.disconnect(),_=null,d&&cancelAnimationFrame(S)}}const WU=EU,VU=SU,qU=_U,KU=CU,GU=xU,K1=wU,YU=kU,JU=(e,t,n)=>{const r=new Map,i={platform:$U,...n},s={...i.platform,_c:r};return vU(e,t,{...i,platform:s})};var op=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Np(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Np(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Np(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function AN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function G1(e,t){const n=AN(e);return Math.round(t*n)/n}function Ly(e){const t=C.useRef(e);return op(()=>{t.current=e}),t}function QU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:d,open:p}=e,[y,g]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,_]=C.useState(r);Np(b,r)||_(r);const[S,v]=C.useState(null),[E,k]=C.useState(null),T=C.useCallback(te=>{te!==Z.current&&(Z.current=te,v(te))},[]),A=C.useCallback(te=>{te!==W.current&&(W.current=te,k(te))},[]),z=s||S,D=l||E,Z=C.useRef(null),W=C.useRef(null),q=C.useRef(y),U=d!=null,V=Ly(d),$=Ly(i),B=Ly(p),X=C.useCallback(()=>{if(!Z.current||!W.current)return;const te={placement:t,strategy:n,middleware:b};$.current&&(te.platform=$.current),JU(Z.current,W.current,te).then(ee=>{const le={...ee,isPositioned:B.current!==!1};j.current&&!Np(q.current,le)&&(q.current=le,iu.flushSync(()=>{g(le)}))})},[b,t,n,$,B]);op(()=>{p===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,g(te=>({...te,isPositioned:!1})))},[p]);const j=C.useRef(!1);op(()=>(j.current=!0,()=>{j.current=!1}),[]),op(()=>{if(z&&(Z.current=z),D&&(W.current=D),z&&D){if(V.current)return V.current(z,D,X);X()}},[z,D,X,V,U]);const K=C.useMemo(()=>({reference:Z,floating:W,setReference:T,setFloating:A}),[T,A]),oe=C.useMemo(()=>({reference:z,floating:D}),[z,D]),ie=C.useMemo(()=>{const te={position:n,left:0,top:0};if(!oe.floating)return te;const ee=G1(oe.floating,y.x),le=G1(oe.floating,y.y);return u?{...te,transform:"translate("+ee+"px, "+le+"px)",...AN(oe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:le}},[n,u,oe.floating,y.x,y.y]);return C.useMemo(()=>({...y,update:X,refs:K,elements:oe,floatingStyles:ie}),[y,X,K,oe,ie])}const XU=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?K1({element:r.current,padding:i}).fn(n):{}:r?K1({element:r,padding:i}).fn(n):{}}}},e$=(e,t)=>({...WU(e),options:[e,t]}),t$=(e,t)=>({...VU(e),options:[e,t]}),n$=(e,t)=>({...YU(e),options:[e,t]}),r$=(e,t)=>({...qU(e),options:[e,t]}),i$=(e,t)=>({...KU(e),options:[e,t]}),o$=(e,t)=>({...GU(e),options:[e,t]}),s$=(e,t)=>({...XU(e),options:[e,t]});var a$="Arrow",RN=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return m.jsx(Ge.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});RN.displayName=a$;var l$=RN;function hm(e){const[t,n]=C.useState(void 0);return un(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,u;if("borderBoxSize"in s){const d=s.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,u=p.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Ww="Popper",[IN,cu]=Pn(Ww),[c$,jN]=IN(Ww),LN=e=>{const{__scopePopper:t,children:n}=e,[r,i]=C.useState(null);return m.jsx(c$,{scope:t,anchor:r,onAnchorChange:i,children:n})};LN.displayName=Ww;var ON="PopperAnchor",MN=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=jN(ON,n),l=C.useRef(null),u=ft(t,l);return C.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:m.jsx(Ge.div,{...i,ref:u})});MN.displayName=ON;var Vw="PopperContent",[u$,d$]=IN(Vw),zN=C.forwardRef((e,t)=>{var Pe,Te,Oe,He,Qe,ot;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:S,...v}=e,E=jN(Vw,n),[k,T]=C.useState(null),A=ft(t,at=>T(at)),[z,D]=C.useState(null),Z=hm(z),W=(Z==null?void 0:Z.width)??0,q=(Z==null?void 0:Z.height)??0,U=r+(s!=="center"?"-"+s:""),V=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},$=Array.isArray(p)?p:[p],B=$.length>0,X={padding:V,boundary:$.filter(h$),altBoundary:B},{refs:j,floatingStyles:K,placement:oe,isPositioned:ie,middlewareData:te}=QU({strategy:"fixed",placement:U,whileElementsMounted:(...at)=>ZU(...at,{animationFrame:_==="always"}),elements:{reference:E.anchor},middleware:[e$({mainAxis:i+q,alignmentAxis:l}),d&&t$({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?n$():void 0,...X}),d&&r$({...X}),i$({...X,apply:({elements:at,rects:F,availableWidth:Ne,availableHeight:be})=>{const{width:se,height:re}=F.reference,pe=at.floating.style;pe.setProperty("--radix-popper-available-width",`${Ne}px`),pe.setProperty("--radix-popper-available-height",`${be}px`),pe.setProperty("--radix-popper-anchor-width",`${se}px`),pe.setProperty("--radix-popper-anchor-height",`${re}px`)}}),z&&s$({element:z,padding:u}),p$({arrowWidth:W,arrowHeight:q}),b&&o$({strategy:"referenceHidden",...X})]}),[ee,le]=FN(oe),H=ln(S);un(()=>{ie&&(H==null||H())},[ie,H]);const Q=(Pe=te.arrow)==null?void 0:Pe.x,ke=(Te=te.arrow)==null?void 0:Te.y,_e=((Oe=te.arrow)==null?void 0:Oe.centerOffset)!==0,[ve,Ie]=C.useState();return un(()=>{k&&Ie(window.getComputedStyle(k).zIndex)},[k]),m.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:ie?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(He=te.transformOrigin)==null?void 0:He.x,(Qe=te.transformOrigin)==null?void 0:Qe.y].join(" "),...((ot=te.hide)==null?void 0:ot.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:m.jsx(u$,{scope:n,placedSide:ee,onArrowChange:D,arrowX:Q,arrowY:ke,shouldHideArrow:_e,children:m.jsx(Ge.div,{"data-side":ee,"data-align":le,...v,ref:A,style:{...v.style,animation:ie?void 0:"none"}})})})});zN.displayName=Vw;var DN="PopperArrow",f$={top:"bottom",right:"left",bottom:"top",left:"right"},BN=C.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=d$(DN,r),l=f$[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(l$,{...i,ref:n,style:{...i.style,display:"block"}})})});BN.displayName=DN;function h$(e){return e!==null}var p$=e=>({name:"transformOrigin",options:e,fn(t){var E,k,T;const{placement:n,rects:r,middlewareData:i}=t,l=((E=i.arrow)==null?void 0:E.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[p,y]=FN(n),g={start:"0%",center:"50%",end:"100%"}[y],b=(((k=i.arrow)==null?void 0:k.x)??0)+u/2,_=(((T=i.arrow)==null?void 0:T.y)??0)+d/2;let S="",v="";return p==="bottom"?(S=l?g:`${b}px`,v=`${-d}px`):p==="top"?(S=l?g:`${b}px`,v=`${r.floating.height+d}px`):p==="right"?(S=`${-d}px`,v=l?g:`${_}px`):p==="left"&&(S=`${r.floating.width+d}px`,v=l?g:`${_}px`),{data:{x:S,y:v}}}});function FN(e){const[t,n="center"]=e.split("-");return[t,n]}var qw=LN,Kw=MN,Gw=zN,Yw=BN,[pm,$K]=Pn("Tooltip",[cu]),mm=cu(),UN="TooltipProvider",m$=700,m0="tooltip.open",[g$,Jw]=pm(UN),$N=e=>{const{__scopeTooltip:t,delayDuration:n=m$,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,l=C.useRef(!0),u=C.useRef(!1),d=C.useRef(0);return C.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),m.jsx(g$,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:C.useCallback(p=>{u.current=p},[]),disableHoverableContent:i,children:s})};$N.displayName=UN;var zd="Tooltip",[y$,gm]=pm(zd),HN=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:l,delayDuration:u}=e,d=Jw(zd,e.__scopeTooltip),p=mm(t),[y,g]=C.useState(null),b=ei(),_=C.useRef(0),S=l??d.disableHoverableContent,v=u??d.delayDuration,E=C.useRef(!1),[k,T]=ni({prop:r,defaultProp:i??!1,onChange:W=>{W?(d.onOpen(),document.dispatchEvent(new CustomEvent(m0))):d.onClose(),s==null||s(W)},caller:zd}),A=C.useMemo(()=>k?E.current?"delayed-open":"instant-open":"closed",[k]),z=C.useCallback(()=>{window.clearTimeout(_.current),_.current=0,E.current=!1,T(!0)},[T]),D=C.useCallback(()=>{window.clearTimeout(_.current),_.current=0,T(!1)},[T]),Z=C.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{E.current=!0,T(!0),_.current=0},v)},[v,T]);return C.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),m.jsx(qw,{...p,children:m.jsx(y$,{scope:t,contentId:b,open:k,stateAttribute:A,trigger:y,onTriggerChange:g,onTriggerEnter:C.useCallback(()=>{d.isOpenDelayedRef.current?Z():z()},[d.isOpenDelayedRef,Z,z]),onTriggerLeave:C.useCallback(()=>{S?D():(window.clearTimeout(_.current),_.current=0)},[D,S]),onOpen:z,onClose:D,disableHoverableContent:S,children:n})})};HN.displayName=zd;var g0="TooltipTrigger",ZN=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=gm(g0,n),s=Jw(g0,n),l=mm(n),u=C.useRef(null),d=ft(t,u,i.onTriggerChange),p=C.useRef(!1),y=C.useRef(!1),g=C.useCallback(()=>p.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),m.jsx(Kw,{asChild:!0,...l,children:m.jsx(Ge.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:Ue(e.onPointerMove,b=>{b.pointerType!=="touch"&&!y.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ue(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:Ue(e.onBlur,i.onClose),onClick:Ue(e.onClick,i.onClose)})})});ZN.displayName=g0;var v$="TooltipPortal",[HK,w$]=pm(v$,{forceMount:void 0}),Yc="TooltipContent",WN=C.forwardRef((e,t)=>{const n=w$(Yc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,l=gm(Yc,e.__scopeTooltip);return m.jsx(jn,{present:r||l.open,children:l.disableHoverableContent?m.jsx(VN,{side:i,...s,ref:t}):m.jsx(_$,{side:i,...s,ref:t})})}),_$=C.forwardRef((e,t)=>{const n=gm(Yc,e.__scopeTooltip),r=Jw(Yc,e.__scopeTooltip),i=C.useRef(null),s=ft(t,i),[l,u]=C.useState(null),{trigger:d,onClose:p}=n,y=i.current,{onPointerInTransitChange:g}=r,b=C.useCallback(()=>{u(null),g(!1)},[g]),_=C.useCallback((S,v)=>{const E=S.currentTarget,k={x:S.clientX,y:S.clientY},T=k$(k,E.getBoundingClientRect()),A=C$(k,T),z=N$(v.getBoundingClientRect()),D=T$([...A,...z]);u(D),g(!0)},[g]);return C.useEffect(()=>()=>b(),[b]),C.useEffect(()=>{if(d&&y){const S=E=>_(E,y),v=E=>_(E,d);return d.addEventListener("pointerleave",S),y.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",S),y.removeEventListener("pointerleave",v)}}},[d,y,_,b]),C.useEffect(()=>{if(l){const S=v=>{const E=v.target,k={x:v.clientX,y:v.clientY},T=(d==null?void 0:d.contains(E))||(y==null?void 0:y.contains(E)),A=!P$(k,l);T?b():A&&(b(),p())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[d,y,l,p,b]),m.jsx(VN,{...e,ref:s})}),[x$,b$]=pm(zd,{isInside:!1}),E$=pB("TooltipContent"),VN=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:l,...u}=e,d=gm(Yc,n),p=mm(n),{onClose:y}=d;return C.useEffect(()=>(document.addEventListener(m0,y),()=>document.removeEventListener(m0,y)),[y]),C.useEffect(()=>{if(d.trigger){const g=b=>{const _=b.target;_!=null&&_.contains(d.trigger)&&y()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,y]),m.jsx(ou,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:y,children:m.jsxs(Gw,{"data-state":d.stateAttribute,...p,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(E$,{children:r}),m.jsx(x$,{scope:n,isInside:!0,children:m.jsx(MB,{id:d.contentId,role:"tooltip",children:i||r})})]})})});WN.displayName=Yc;var qN="TooltipArrow",S$=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=mm(n);return b$(qN,n).isInside?null:m.jsx(Yw,{...i,...r,ref:t})});S$.displayName=qN;function k$(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function C$(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function N$(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function P$(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s],d=t[l],p=u.x,y=u.y,g=d.x,b=d.y;y>r!=b>r&&n<(g-p)*(r-y)/(b-y)+p&&(i=!i)}return i}function T$(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),A$(t)}function A$(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],l=n[n.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var R$=$N,I$=HN,j$=ZN,KN=WN;const il=R$,Wa=I$,Va=j$,Gs=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>m.jsx(KN,{ref:r,sideOffset:t,className:We("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Gs.displayName=KN.displayName;function y0(e,t,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,i=(n==null?void 0:n.deserialize)||JSON.parse,[s,l]=C.useState(()=>{try{const d=localStorage.getItem(e);return d?i(d):t}catch(d){return console.warn(`Failed to load ${e} from localStorage:`,d),t}}),u=d=>{try{const p=d instanceof Function?d(s):d;l(p),localStorage.setItem(e,r(p))}catch(p){console.warn(`Failed to save ${e} to localStorage:`,p)}};return C.useEffect(()=>{const d=p=>{if(p.key===e&&p.newValue!==null)try{l(i(p.newValue))}catch(y){console.warn(`Failed to sync ${e} from localStorage:`,y)}};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[e,i]),[s,u]}const L$=Oo({relays:wC(Oo({url:vd(),read:tl(),write:tl()})),updatedAt:Co()}),O$=Oo({theme:xC(["dark","light","system"]),relayMetadata:L$});function M$(e){const{children:t,storageKey:n,defaultConfig:r}=e,[i,s]=y0(n,{},{serialize:JSON.stringify,deserialize:p=>{const y=JSON.parse(p);return O$.partial().parse(y)}}),l=p=>{s(p)},u={...r,...i},d={config:u,updateConfig:l};return z$(u.theme),m.jsx(AC.Provider,{value:d,children:t})}function z$(e){C.useEffect(()=>{const t=window.document.documentElement;if(t.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(n);return}t.classList.add(e)},[e]),C.useEffect(()=>{if(e!=="system")return;const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{const r=window.document.documentElement;r.classList.remove("light","dark");const i=t.matches?"dark":"light";r.classList.add(i)};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[e])}var Y1,Oy,D$=(Y1=function(e,t){function n(U){if(!Number.isSafeInteger(U))throw new Error(`Wrong integer: ${U}`)}function r(...U){const V=($,B)=>X=>$(B(X));return{encode:Array.from(U).reverse().reduce(($,B)=>$?V($,B.encode):B.encode,void 0),decode:U.reduce(($,B)=>$?V($,B.decode):B.decode,void 0)}}function i(U){return{encode:V=>{if(!Array.isArray(V)||V.length&&typeof V[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return V.map($=>{if(n($),$<0||$>=U.length)throw new Error(`Digit index outside alphabet: ${$} (alphabet: ${U.length})`);return U[$]})},decode:V=>{if(!Array.isArray(V)||V.length&&typeof V[0]!="string")throw new Error("alphabet.decode input should be array of strings");return V.map($=>{if(typeof $!="string")throw new Error(`alphabet.decode: not string element=${$}`);const B=U.indexOf($);if(B===-1)throw new Error(`Unknown letter: "${$}". Allowed: ${U}`);return B})}}}function s(U=""){if(typeof U!="string")throw new Error("join separator should be string");return{encode:V=>{if(!Array.isArray(V)||V.length&&typeof V[0]!="string")throw new Error("join.encode input should be array of strings");for(let $ of V)if(typeof $!="string")throw new Error(`join.encode: non-string input=${$}`);return V.join(U)},decode:V=>{if(typeof V!="string")throw new Error("join.decode input should be string");return V.split(U)}}}function l(U,V="="){if(n(U),typeof V!="string")throw new Error("padding chr should be string");return{encode($){if(!Array.isArray($)||$.length&&typeof $[0]!="string")throw new Error("padding.encode input should be array of strings");for(let B of $)if(typeof B!="string")throw new Error(`padding.encode: non-string input=${B}`);for(;$.length*U%8;)$.push(V);return $},decode($){if(!Array.isArray($)||$.length&&typeof $[0]!="string")throw new Error("padding.encode input should be array of strings");for(let X of $)if(typeof X!="string")throw new Error(`padding.decode: non-string input=${X}`);let B=$.length;if(B*U%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;B>0&&$[B-1]===V;B--)if(!((B-1)*U%8))throw new Error("Invalid padding: string has too much padding");return $.slice(0,B)}}}function u(U){if(typeof U!="function")throw new Error("normalize fn should be function");return{encode:V=>V,decode:V=>U(V)}}function d(U,V,$){if(V<2)throw new Error(`convertRadix: wrong from=${V}, base cannot be less than 2`);if($<2)throw new Error(`convertRadix: wrong to=${$}, base cannot be less than 2`);if(!Array.isArray(U))throw new Error("convertRadix: data should be array");if(!U.length)return[];let B=0;const X=[],j=Array.from(U);for(j.forEach(K=>{if(n(K),K<0||K>=V)throw new Error(`Wrong integer: ${K}`)});;){let K=0,oe=!0;for(let ie=B;ie<j.length;ie++){const te=j[ie],ee=V*K+te;if(!Number.isSafeInteger(ee)||V*K/V!==K||ee-te!=V*K)throw new Error("convertRadix: carry overflow");if(K=ee%$,j[ie]=Math.floor(ee/$),!Number.isSafeInteger(j[ie])||j[ie]*$+K!==ee)throw new Error("convertRadix: carry overflow");oe&&(j[ie]?oe=!1:B=ie)}if(X.push(K),oe)break}for(let K=0;K<U.length-1&&U[K]===0;K++)X.push(0);return X.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const p=(U,V)=>V?p(V,U%V):U,y=(U,V)=>U+(V-p(U,V));function g(U,V,$,B){if(!Array.isArray(U))throw new Error("convertRadix2: data should be array");if(V<=0||V>32)throw new Error(`convertRadix2: wrong from=${V}`);if($<=0||$>32)throw new Error(`convertRadix2: wrong to=${$}`);if(y(V,$)>32)throw new Error(`convertRadix2: carry overflow from=${V} to=${$} carryBits=${y(V,$)}`);let X=0,j=0;const K=2**$-1,oe=[];for(const ie of U){if(n(ie),ie>=2**V)throw new Error(`convertRadix2: invalid data word=${ie} from=${V}`);if(X=X<<V|ie,j+V>32)throw new Error(`convertRadix2: carry overflow pos=${j} from=${V}`);for(j+=V;j>=$;j-=$)oe.push((X>>j-$&K)>>>0);X&=2**j-1}if(X=X<<$-j&K,!B&&j>=V)throw new Error("Excess padding");if(!B&&X)throw new Error(`Non-zero padding: ${X}`);return B&&j>0&&oe.push(X>>>0),oe}function b(U){return n(U),{encode:V=>{if(!(V instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return d(Array.from(V),256,U)},decode:V=>{if(!Array.isArray(V)||V.length&&typeof V[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(d(V,U,256))}}}function _(U,V=!1){if(n(U),U<=0||U>32)throw new Error("radix2: bits should be in (0..32]");if(y(8,U)>32||y(U,8)>32)throw new Error("radix2: carry overflow");return{encode:$=>{if(!($ instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return g(Array.from($),8,U,!V)},decode:$=>{if(!Array.isArray($)||$.length&&typeof $[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(g($,U,8,V))}}}function S(U){if(typeof U!="function")throw new Error("unsafeWrapper fn should be function");return function(...V){try{return U.apply(null,V)}catch{}}}function v(U,V){if(n(U),typeof V!="function")throw new Error("checksum fn should be function");return{encode($){if(!($ instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const B=V($).slice(0,U),X=new Uint8Array($.length+U);return X.set($),X.set(B,$.length),X},decode($){if(!($ instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const B=$.slice(0,-U),X=V(B).slice(0,U),j=$.slice(-U);for(let K=0;K<U;K++)if(X[K]!==j[K])throw new Error("Invalid checksum");return B}}}t.utils={alphabet:i,chain:r,checksum:v,radix:b,radix2:_,join:s,padding:l},t.base16=r(_(4),i("0123456789ABCDEF"),s("")),t.base32=r(_(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),l(5),s("")),t.base32hex=r(_(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),l(5),s("")),t.base32crockford=r(_(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s(""),u(U=>U.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=r(_(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),l(6),s("")),t.base64url=r(_(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),l(6),s(""));const E=U=>r(b(58),i(U),s(""));t.base58=E("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=E("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=E("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const k=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(U){let V="";for(let $=0;$<U.length;$+=8){const B=U.subarray($,$+8);V+=t.base58.encode(B).padStart(k[B.length],"1")}return V},decode(U){let V=[];for(let $=0;$<U.length;$+=11){const B=U.slice($,$+11),X=k.indexOf(B.length),j=t.base58.decode(B);for(let K=0;K<j.length-X;K++)if(j[K]!==0)throw new Error("base58xmr: wrong padding");V=V.concat(Array.from(j.slice(j.length-X)))}return Uint8Array.from(V)}},t.base58check=U=>r(v(4,V=>U(U(V))),t.base58);const T=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s("")),A=[996825010,642813549,513874426,1027748829,705979059];function z(U){const V=U>>25;let $=(33554431&U)<<5;for(let B=0;B<A.length;B++)(V>>B&1)==1&&($^=A[B]);return $}function D(U,V,$=1){const B=U.length;let X=1;for(let j=0;j<B;j++){const K=U.charCodeAt(j);if(K<33||K>126)throw new Error(`Invalid prefix (${U})`);X=z(X)^K>>5}X=z(X);for(let j=0;j<B;j++)X=z(X)^31&U.charCodeAt(j);for(let j of V)X=z(X)^j;for(let j=0;j<6;j++)X=z(X);return X^=$,T.encode(g([X%2**30],30,5,!1))}function Z(U){const V=U==="bech32"?1:734539939,$=_(5),B=$.decode,X=$.encode,j=S(B);function K(oe,ie=90){if(typeof oe!="string")throw new Error("bech32.decode input should be string, not "+typeof oe);if(oe.length<8||ie!==!1&&oe.length>ie)throw new TypeError(`Wrong string length: ${oe.length} (${oe}). Expected (8..${ie})`);const te=oe.toLowerCase();if(oe!==te&&oe!==oe.toUpperCase())throw new Error("String must be lowercase or uppercase");const ee=(oe=te).lastIndexOf("1");if(ee===0||ee===-1)throw new Error('Letter "1" must be present between prefix and data only');const le=oe.slice(0,ee),H=oe.slice(ee+1);if(H.length<6)throw new Error("Data must be at least 6 characters long");const Q=T.decode(H).slice(0,-6),ke=D(le,Q,V);if(!H.endsWith(ke))throw new Error(`Invalid checksum in ${oe}: expected "${ke}"`);return{prefix:le,words:Q}}return{encode:function(oe,ie,te=90){if(typeof oe!="string")throw new Error("bech32.encode prefix should be string, not "+typeof oe);if(!Array.isArray(ie)||ie.length&&typeof ie[0]!="number")throw new Error("bech32.encode words should be array of numbers, not "+typeof ie);const ee=oe.length+7+ie.length;if(te!==!1&&ee>te)throw new TypeError(`Length ${ee} exceeds limit ${te}`);return`${oe=oe.toLowerCase()}1${T.encode(ie)}${D(oe,ie,V)}`},decode:K,decodeToBytes:function(oe){const{prefix:ie,words:te}=K(oe,!1);return{prefix:ie,words:te,bytes:B(te)}},decodeUnsafe:S(K),fromWords:B,fromWordsUnsafe:j,toWords:X}}t.bech32=Z("bech32"),t.bech32m=Z("bech32m"),t.utf8={encode:U=>new TextDecoder().decode(U),decode:U=>new TextEncoder().encode(U)},t.hex=r(_(4),i("0123456789abcdef"),s(""),u(U=>{if(typeof U!="string"||U.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof U} with length ${U.length}`);return U.toLowerCase()}));const W={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},q=`Invalid encoding type. Available types: ${Object.keys(W).join(", ")}`;t.bytesToString=(U,V)=>{if(typeof U!="string"||!W.hasOwnProperty(U))throw new TypeError(q);if(!(V instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return W[U].encode(V)},t.str=t.bytesToString,t.stringToBytes=(U,V)=>{if(!W.hasOwnProperty(U))throw new TypeError(q);if(typeof V!="string")throw new TypeError("stringToBytes() expects string");return W[U].decode(V)},t.bytes=t.stringToBytes},Y1(Oy={exports:{}},Oy.exports),Oy.exports);const{bech32:Zi,hex:yi,utf8:B$}=D$,J1={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},Q1={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},X1={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},eE={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},tE={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},Wh=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],F$={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},U$=BigInt("2100000000000000000"),nE=BigInt(1e11),v0={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},GN={};for(let e=0,t=Object.keys(v0);e<t.length;e++){const n=t[e],r=v0[t[e]].toString();GN[r]=n}const $$={1:e=>yi.encode(Zi.fromWordsUnsafe(e)),16:e=>yi.encode(Zi.fromWordsUnsafe(e)),13:e=>B$.encode(Zi.fromWordsUnsafe(e)),19:e=>yi.encode(Zi.fromWordsUnsafe(e)),23:e=>yi.encode(Zi.fromWordsUnsafe(e)),27:e=>yi.encode(Zi.fromWordsUnsafe(e)),6:Pp,24:Pp,3:function(e){const t=[];let n,r,i,s,l,u=Zi.fromWordsUnsafe(e);for(;u.length>0;)n=yi.encode(u.slice(0,33)),r=yi.encode(u.slice(33,41)),i=parseInt(yi.encode(u.slice(41,45)),16),s=parseInt(yi.encode(u.slice(45,49)),16),l=parseInt(yi.encode(u.slice(49,51)),16),u=u.slice(51),t.push({pubkey:n,short_channel_id:r,fee_base_msat:i,fee_proportional_millionths:s,cltv_expiry_delta:l});return t},5:function(e){const t=e.slice().reverse().map(i=>[!!(1&i),!!(2&i),!!(4&i),!!(8&i),!!(16&i)]).reduce((i,s)=>i.concat(s),[]);for(;t.length<2*Wh.length;)t.push(!1);const n={};Wh.forEach((i,s)=>{let l;l=t[2*s]?"required":t[2*s+1]?"supported":"unsupported",n[i]=l});const r=t.slice(2*Wh.length);return n.extra_bits={start_bit:2*Wh.length,bits:r,has_required:r.reduce((i,s,l)=>l%2!=0?i||!1:i||s,!1)},n}};function H$(e){return t=>({tagCode:parseInt(e),words:Zi.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function Pp(e){return e.reverse().reduce((t,n,r)=>t+n*Math.pow(32,r),0)}const Z$=e=>Uint8Array.from(e.match(/.{1,2}/g).map(t=>parseInt(t,16))),W$=e=>{if(!e)return null;try{const t=function(g,b){if(typeof g!="string")throw new Error("Lightning Payment Request must be string");if(g.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const _=[],S=Zi.decode(g,Number.MAX_SAFE_INTEGER);g=g.toLowerCase();const v=S.prefix;let E=S.words,k=g.slice(v.length+1),T=E.slice(-104);E=E.slice(0,-104);let A=v.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(A&&!A[2]&&(A=v.match(/^ln(\S+)$/)),!A)throw new Error("Not a proper lightning payment request");_.push({name:"lightning_network",letters:"ln"});const z=A[1];let D;switch(z){case J1.bech32:D=J1;break;case Q1.bech32:D=Q1;break;case X1.bech32:D=X1;break;case eE.bech32:D=eE;break;case tE.bech32:D=tE}if(!D||D.bech32!==z)throw new Error("Unknown coin bech32 prefix");_.push({name:"coin_network",letters:z,value:D});const Z=A[2];let W;Z?(W=function(K,oe){let ie,te;if(K.slice(-1).match(/^[munp]$/))ie=K.slice(-1),te=K.slice(0,-1);else{if(K.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");te=K}if(!te.match(/^\d+$/))throw new Error("Not a valid human readable amount");const ee=BigInt(te),le=ie?ee*nE/F$[ie]:ee*nE;if(ie==="p"&&ee%BigInt(10)!==BigInt(0)||le>U$)throw new Error("Amount is outside of valid range");return le.toString()}(Z+A[3]),_.push({name:"amount",letters:A[2]+A[3],value:W})):W=null,_.push({name:"separator",letters:"1"});const q=Pp(E.slice(0,7));let U,V,$,B;for(E=E.slice(7),_.push({name:"timestamp",letters:k.slice(0,7),value:q}),k=k.slice(7);E.length>0;){const K=E[0].toString();U=GN[K]||"unknown_tag",V=$$[K]||H$(K),E=E.slice(1),$=Pp(E.slice(0,2)),E=E.slice(2),B=E.slice(0,$),E=E.slice($),_.push({name:U,tag:k[0],letters:k.slice(0,3+$),value:V(B)}),k=k.slice(3+$)}_.push({name:"signature",letters:k.slice(0,104),value:yi.encode(Zi.fromWordsUnsafe(T))}),k=k.slice(104),_.push({name:"checksum",letters:k});let X={paymentRequest:g,sections:_,get expiry(){let K=_.find(oe=>oe.name==="expiry");if(K)return j("timestamp")+K.value},get route_hints(){return _.filter(K=>K.name==="route_hint").map(K=>K.value)}};for(let K in v0)K!=="route_hint"&&Object.defineProperty(X,K,{get:()=>j(K)});return X;function j(K){let oe=_.find(ie=>ie.name===K);return oe?oe.value:void 0}}(e);if(!t||!t.sections)return null;const n=t.sections.find(g=>g.name==="payment_hash");if((n==null?void 0:n.name)!=="payment_hash"||!n.value)return null;const r=n.value;let i=0;const s=t.sections.find(g=>g.name==="amount");(s==null?void 0:s.name)==="amount"&&s.value&&(i=parseInt(s.value)/1e3);const l=t.sections.find(g=>g.name==="timestamp");if((l==null?void 0:l.name)!=="timestamp"||!l.value)return null;const u=l.value;let d;const p=t.sections.find(g=>g.name==="expiry");(p==null?void 0:p.name)==="expiry"&&(d=p.value);const y=t.sections.find(g=>g.name==="description");return{paymentHash:r,satoshi:i,timestamp:u,expiry:d,description:(y==null?void 0:y.name)==="description"?y==null?void 0:y.value:void 0}}catch{return null}};function rE(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const YN=e=>e instanceof Uint8Array,My=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Fi=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const V$=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tp(e){if(!YN(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=V$[e[n]];return t}function JN(e){if(typeof e=="string"&&(e=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(e)),!YN(e))throw new Error("expected Uint8Array, got "+typeof e);return e}let q$=class{clone(){return this._cloneInto()}};function K$(e){const t=r=>e().update(JN(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class G$ extends q${constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=My(this.buffer)}update(t){rE(this);const{view:n,buffer:r,blockLen:i}=this,s=(t=JN(t)).length;for(let l=0;l<s;){const u=Math.min(i-this.pos,s-l);if(u!==i)r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(n,0),this.pos=0);else{const d=My(t);for(;i<=s-l;l+=i)this.process(d,l)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){rE(this),function(g,b){(function(S,...v){if(!(S instanceof Uint8Array))throw new Error("Expected Uint8Array");if(v.length>0&&!v.includes(S.length))throw new Error(`Expected Uint8Array of length ${v}, not of length=${S.length}`)})(g);const _=b.outputLen;if(g.length<_)throw new Error(`digestInto() expects output buffer of length at least ${_}`)}(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let g=l;g<i;g++)n[g]=0;(function(g,b,_,S){if(typeof g.setBigUint64=="function")return g.setBigUint64(b,_,S);const v=BigInt(32),E=BigInt(4294967295),k=Number(_>>v&E),T=Number(_&E),A=S?0:4;g.setUint32(b+(S?4:0),k,S),g.setUint32(b+A,T,S)})(r,i-8,BigInt(8*this.length),s),this.process(r,0);const u=My(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,y=this.get();if(p>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<p;g++)u.setUint32(4*g,y[g],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:u}=this;return t.length=i,t.pos=u,t.finished=s,t.destroyed=l,i%n&&t.buffer.set(r),t}}const Y$=(e,t,n)=>e&t^e&n^t&n,J$=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Is=new Uint32Array(64);let Q$=class extends G${constructor(){super(64,32,8,!1),this.A=0|Rs[0],this.B=0|Rs[1],this.C=0|Rs[2],this.D=0|Rs[3],this.E=0|Rs[4],this.F=0|Rs[5],this.G=0|Rs[6],this.H=0|Rs[7]}get(){const{A:t,B:n,C:r,D:i,E:s,F:l,G:u,H:d}=this;return[t,n,r,i,s,l,u,d]}set(t,n,r,i,s,l,u,d){this.A=0|t,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|s,this.F=0|l,this.G=0|u,this.H=0|d}process(t,n){for(let b=0;b<16;b++,n+=4)Is[b]=t.getUint32(n,!1);for(let b=16;b<64;b++){const _=Is[b-15],S=Is[b-2],v=Fi(_,7)^Fi(_,18)^_>>>3,E=Fi(S,17)^Fi(S,19)^S>>>10;Is[b]=E+Is[b-7]+v+Is[b-16]|0}let{A:r,B:i,C:s,D:l,E:u,F:d,G:p,H:y}=this;for(let b=0;b<64;b++){const _=y+(Fi(u,6)^Fi(u,11)^Fi(u,25))+((g=u)&d^~g&p)+J$[b]+Is[b]|0,S=(Fi(r,2)^Fi(r,13)^Fi(r,22))+Y$(r,i,s)|0;y=p,p=d,d=u,u=l+_|0,l=s,s=i,i=r,r=_+S|0}var g;r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,y=y+this.H|0,this.set(r,i,s,l,u,d,p,y)}roundClean(){Is.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Ap=K$(()=>new Q$);let Qw=class{constructor(t){var n,r,i,s;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=t.pr,!this.paymentRequest)throw new Error("Invalid payment request");const l=W$(this.paymentRequest);if(!l)throw new Error("Failed to decode payment request");this.paymentHash=l.paymentHash,this.satoshi=l.satoshi,this.timestamp=l.timestamp,this.expiry=l.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=(n=l.description)!=null?n:null,this.verify=(r=t.verify)!=null?r:null,this.preimage=(i=t.preimage)!=null?i:null,this.successAction=(s=t.successAction)!=null?s:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(t){if(!t||!this.paymentHash)return!1;try{const n=Tp(Ap(Z$(t)));return this.paymentHash===n}catch{return!1}}async verifyPayment(){try{if(!this.verify)throw new Error("LNURL verify not available");const t=await fetch(this.verify);if(!t.ok)throw new Error(`Verification request failed: ${t.status} ${t.statusText}`);const n=await t.json();return n.preimage&&(this.preimage=n.preimage),n.settled}catch(t){return console.error("Failed to check LNURL-verify",t),!1}}hasExpired(){const{expiryDate:t}=this;return!!t&&t.getTime()<Date.now()}};const X$=e=>{if(e.tag!=="keysend")throw new Error("Invalid keysend params");if(e.status!=="OK")throw new Error("Keysend status not OK");if(!e.pubkey)throw new Error("Pubkey does not exist");let t,n;return e.customData&&e.customData[0]&&(t=e.customData[0].customKey,n=e.customData[0].customValue),{destination:e.pubkey,customKey:t,customValue:n}};async function e7({satoshi:e,comment:t,p:n,e:r,relays:i},s={}){const l=s.nostr||globalThis.nostr;if(!l)throw new Error("nostr option or window.nostr is not available");const u=[["relays",...i],["amount",e.toString()]];n&&u.push(["p",n]),r&&u.push(["e",r]);const d={pubkey:await l.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:u,content:t??""};return d.id=r7(d),await l.signEvent(d)}function t7(e){if(typeof e.content!="string"||typeof e.created_at!="number"||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function n7(e){if(!t7(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function r7(e){return Tp(Ap(n7(e)))}function i7(e,t){let n,r;var i,s;return t&&e&&(n=(i=e.names)==null?void 0:i[t],r=n?(s=e.relays)==null?void 0:s[n]:void 0),[e,n,r]}const o7=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/,QN=e=>!!e&&o7.test(e),iE=({amount:e,min:t,max:n})=>e>0&&e>=t&&e<=n,s7=async e=>{if(e.tag!=="payRequest")throw new Error("Invalid pay service params");const t=(e.callback+"").trim();if(!QN(t))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(e.minSendable||0)),r=Math.floor(Number(e.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let i,s;try{i=JSON.parse(e.metadata+""),s=Tp(Ap(e.metadata+""))}catch{i=[],s=Tp(Ap("[]"))}let l="",u="",d="",p="";for(let b=0;b<i.length;b++){const[_,S]=i[b];switch(_){case"text/plain":d=S;break;case"text/identifier":p=S;break;case"text/email":l=S;break;case"image/png;base64":case"image/jpeg;base64":u="data:"+_+","+S}}const y=e.payerData;let g;try{g=new URL(t).hostname}catch{}return{callback:t,fixed:n===r,min:n,max:r,domain:g,metadata:i,metadataHash:s,identifier:p,email:l,description:d,image:u,payerData:y,commentAllowed:Number(e.commentAllowed)||0,rawData:e,allowsNostr:e.allowsNostr||!1}};function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0.apply(this,arguments)}const a7=async(e,t)=>{const{boost:n}=e;t||(t={});const r=t.webln||globalThis.webln;if(!r)throw new Error("WebLN not available");if(!r.keysend)throw new Error("Keysend not available in current WebLN provider");const i=e.amount||Math.floor(n.value_msat/1e3),s={destination:e.destination,amount:i,customRecords:{7629169:JSON.stringify(n)}};return e.customKey&&e.customValue&&(s.customRecords[e.customKey]=e.customValue),await r.enable(),await r.keysend(s)},l7=/^((?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;class c7{constructor(t,n){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=t,this.options={proxy:"https://api.getalby.com/lnurl"},this.options=Object.assign(this.options,n),this.parse(),this.webln=this.options.webln}parse(){const t=l7.exec(this.address.toLowerCase());t&&(this.username=t[1],this.domain=t[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const t=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!t.ok)throw new Error(`Failed to fetch lnurl info: ${t.status} ${t.statusText}`);const n=await t.json();await this.parseLnUrlPayResponse(n.lnurlp),this.parseKeysendResponse(n.keysend),this.parseNostrResponse(n.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const t=await fetch(this.lnurlpUrl());if(t.ok){const n=await t.json();await this.parseLnUrlPayResponse(n)}}async fetchKeysendData(){const t=await fetch(this.keysendUrl());if(t.ok){const n=await t.json();this.parseKeysendResponse(n)}}async fetchNostrData(){const t=await fetch(this.nostrUrl());if(t.ok){const n=await t.json();this.parseNostrResponse(n)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(t){let n;if(this.options.proxy){const s=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(w0({ln:this.address},t)).toString()}`);if(!s.ok)throw new Error(`Failed to generate invoice: ${s.status} ${s.statusText}`);n=(await s.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!QN(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const s=new URL(this.lnurlpData.callback);s.search=new URLSearchParams(t).toString();const l=await fetch(s.toString());if(!l.ok)throw new Error(`Failed to generate invoice: ${l.status} ${l.statusText}`);n=await l.json()}const r=n&&n.pr&&n.pr.toString();if(!r)throw new Error("Invalid pay service invoice");const i={pr:r};if(n&&n.verify&&(i.verify=n.verify.toString()),n&&n.successAction&&typeof n.successAction=="object"){const{tag:s,message:l,description:u,url:d}=n.successAction;s==="message"?i.successAction={tag:s,message:l}:s==="url"&&(i.successAction={tag:s,description:u,url:d})}return new Qw(i)}async requestInvoice(t){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const n=1e3*t.satoshi,{commentAllowed:r,min:i,max:s}=this.lnurlpData;if(!iE({amount:n,min:i,max:s}))throw new Error("Invalid amount");if(t.comment&&r&&r>0&&t.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const l={amount:n.toString()};return t.comment&&(l.comment=t.comment),t.payerdata&&(l.payerdata=JSON.stringify(t.payerdata)),this.generateInvoice(l)}async boost(t,n=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:r,customKey:i,customValue:s}=this.keysendData,l=this.getWebLN();if(!l)throw new Error("WebLN not available");return a7({destination:r,customKey:i,customValue:s,amount:n,boost:t},{webln:l})}async zapInvoice({satoshi:t,comment:n,relays:r,e:i},s={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const l=this.nostrPubkey,u=1e3*t,{allowsNostr:d,min:p,max:y}=this.lnurlpData;if(!iE({amount:u,min:p,max:y}))throw new Error("Invalid amount");if(!d)throw new Error("Your provider does not support zaps");const g=await e7({satoshi:u,comment:n,p:l,e:i,relays:r},s),b={amount:u.toString(),nostr:JSON.stringify(g)};return await this.generateInvoice(b)}async zap(t,n={}){const r=this.zapInvoice(t,n),i=this.getWebLN();if(!i)throw new Error("WebLN not available");return await i.enable(),i.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(t){t&&(this.lnurlpData=await s7(t))}parseKeysendResponse(t){t&&(this.keysendData=X$(t))}parseNostrResponse(t){t&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=i7(t,this.username))}}function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qs.apply(this,arguments)}if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const u7=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function d7(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=u7[e[n]];return t}function pd(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=2*r,s=e.slice(i,i+2),l=Number.parseInt(s,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}class ca extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n}}class f7 extends ca{}class h7 extends ca{}class XN extends ca{}let oE=class extends XN{};class sE extends XN{}class aE extends ca{}class lE extends ca{}class zy extends ca{}class p7 extends ca{}class m7 extends ca{}class Nc{static parseWalletConnectUrl(t){t=t.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://").replace("nostrwalletconnect:","http://").replace("nostr+walletconnect:","http://");const n=new URL(t),r=n.searchParams.get("relay");if(!r)throw new Error("No relay URL found in connection string");const i={walletPubkey:n.host,relayUrl:r},s=n.searchParams.get("secret");s&&(i.secret=s);const l=n.searchParams.get("lud16");return l&&(i.lud16=l),i}constructor(t){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,t&&t.nostrWalletConnectUrl&&(t=Qs({},Nc.parseWalletConnectUrl(t.nostrWalletConnectUrl),t)),this.options=Qs({},t||{}),this.relayUrl=this.options.relayUrl,this.relay=new ck(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?rr.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?rr.decode(this.options.walletPubkey).data:this.options.walletPubkey,globalThis.WebSocket===void 0&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(t=!0){let n=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return t&&(n=`${n}&secret=${this.secret}`),n}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return Bo(pd(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error("Missing encryption or version");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(t){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(ri(t,pd(this.secret)))}getEventHash(t){return Sd(t)}close(){return this.relay.close()}async encrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await Rd.encrypt(this.secret,t,n);else{const i=Ks.getConversationKey(pd(this.secret),t);r=Ks.encrypt(n,i)}return r}async decrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await Rd.decrypt(this.secret,t,n);else{const i=Ks.getConversationKey(pd(this.secret),t);r=Ks.decrypt(n,i)}return r}static getAuthorizationUrl(t,n={},r){if(t.indexOf("/#/")>-1)throw new Error("hash router paths not supported");const i=new URL(t);return n.name&&i.searchParams.set("name",n.name),i.searchParams.set("pubkey",r),n.returnTo&&i.searchParams.set("return_to",n.returnTo),n.budgetRenewal&&i.searchParams.set("budget_renewal",n.budgetRenewal),n.expiresAt&&i.searchParams.set("expires_at",Math.floor(n.expiresAt.getTime()/1e3).toString()),n.maxAmount&&i.searchParams.set("max_amount",n.maxAmount.toString()),n.requestMethods&&i.searchParams.set("request_methods",n.requestMethods.join(" ")),n.notificationTypes&&i.searchParams.set("notification_types",n.notificationTypes.join(" ")),n.isolated&&i.searchParams.set("isolated","true"),n.metadata&&i.searchParams.set("metadata",JSON.stringify(n.metadata)),i}static fromAuthorizationUrl(t,n={},r){r=r||d7(tf()),n.name||(n.name=document.location.host);const i=this.getAuthorizationUrl(t,n,Bo(pd(r))),s=window.outerHeight/2+window.screenY-300,l=window.outerWidth/2+window.screenX-200;return new Promise((u,d)=>{const p=window.open(i.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${s},left=${l}`);if(!p)return void d(new Error("failed to execute window.open"));const y=b=>{const _=b.data;_&&_.type==="nwc:success"&&b.origin===`${i.protocol}//${i.host}`&&(_.relayUrl||d(new Error("no relayUrl in response")),_.walletPubkey||d(new Error("no walletPubkey in response")),u(new Nc({relayUrl:_.relayUrl,walletPubkey:_.walletPubkey,secret:r,lud16:_.lud16})),clearInterval(g),window.removeEventListener("message",y),p&&p.close())},g=setInterval(()=>{p&&p.closed&&(clearInterval(g),window.removeEventListener("message",y),d(new Error("Popup closed")))},500);window.addEventListener("message",y)})}async getWalletServiceInfo(){var t;await this._checkConnected();const n=await new Promise((d,p)=>{const y=[],g=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});g.onevent=b=>{y.push(b)},g.oneose=()=>{g.close(),d(y)}});if(!n.length)throw new Error("no info event (kind 13194) returned from relay");const r=n[0].content,i=n[0].tags.find(d=>d[0]==="notifications"),s=n[0].tags.find(d=>d[0]==="v"),l=n[0].tags.find(d=>d[0]==="encryption");let u=["nip04"];return s&&s[1].includes("1.0")&&u.push("nip44_v2"),l&&(u=l[1].split(" ")),{encryptions:u,capabilities:r.split(/[ |,]/g),notifications:(i==null||(t=i[1])==null?void 0:t.split(" "))||[]}}async getInfo(){try{return await this.executeNip47Request("get_info",{},t=>!!t.methods,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_info",t),t}}async getBudget(){try{return await this.executeNip47Request("get_budget",{},t=>t!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_budget",t),t}}async getBalance(){try{return await this.executeNip47Request("get_balance",{},t=>t.balance!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_balance",t),t}}async payInvoice(t){try{return await this.executeNip47Request("pay_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request pay_invoice",n),n}}async payKeysend(t){try{return await this.executeNip47Request("pay_keysend",t,n=>!!n.preimage)}catch(n){throw console.error("Failed to request pay_keysend",n),n}}async signMessage(t){try{return await this.executeNip47Request("sign_message",t,n=>n.message===t.message&&!!n.signature)}catch(n){throw console.error("Failed to request sign_message",n),n}}async createConnection(t){try{return await this.executeNip47Request("create_connection",t,n=>!!n.wallet_pubkey)}catch(n){throw console.error("Failed to request create_connection",n),n}}async multiPayInvoice(t){try{return{invoices:await this.executeMultiNip47Request("multi_pay_invoice",t,t.invoices.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_invoice",n),n}}async multiPayKeysend(t){try{return{keysends:await this.executeMultiNip47Request("multi_pay_keysend",t,t.keysends.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_keysend",n),n}}async makeInvoice(t){try{if(!t.amount)throw new Error("No amount specified");return await this.executeNip47Request("make_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_invoice",n),n}}async makeHoldInvoice(t){try{if(!t.amount)throw new Error("No amount specified");if(!t.payment_hash)throw new Error("No payment hash specified");return await this.executeNip47Request("make_hold_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_hold_invoice",n),n}}async settleHoldInvoice(t){try{return await this.executeNip47Request("settle_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request settle_hold_invoice",n),n}}async cancelHoldInvoice(t){try{return await this.executeNip47Request("cancel_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request cancel_hold_invoice",n),n}}async lookupInvoice(t){try{return await this.executeNip47Request("lookup_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request lookup_invoice",n),n}}async listTransactions(t){try{return await this.executeNip47Request("list_transactions",t,n=>!!n.transactions,{replyTimeout:1e4})}catch(n){throw console.error("Failed to request list_transactions",n),n}}async subscribeNotifications(t,n){var r=this;let i,s,l,u=!0;return async function(){for(;u;){try{await r._checkConnected(),await r._selectEncryptionType(),l=r.relay.subscribe([{kinds:[...r.encryptionType==="nip04"?[23196]:[23197]],authors:[r.walletPubkey],"#p":[r.publicKey]}],{}),console.info("subscribed to relay"),l.onevent=async function(d){const p=await r.decrypt(r.walletPubkey,d.content);let y;try{y=JSON.parse(p)}catch(g){return void console.error("Failed to parse decrypted event content",g)}y.notification?(!n||n.indexOf(y.notification_type)>-1)&&t(y):console.error("No notification in response",y)},await new Promise(d=>{i=()=>{d()},s=()=>{console.info("relay disconnected"),i==null||i()},r.relay.onclose=s}),s!==void 0&&(r.relay.onclose=null)}catch(d){console.error("error subscribing to notifications",d||"unknown relay error")}u&&await new Promise(d=>setTimeout(d,1e3))}}(),()=>{var d;u=!1,i==null||i(),(d=l)==null||d.close()}}async executeNip47Request(t,n,r,i){var s=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((l,u)=>{(async function(){const d={method:t,params:n},p=await s.encrypt(s.walletPubkey,JSON.stringify(d)),y={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",s.walletPubkey],["v",s.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",s.encryptionType]],content:p},g=await s.signEvent(y),b=s.relay.subscribe([{kinds:[23195],authors:[s.walletPubkey],"#e":[g.id]}],{}),_=setTimeout(function(){b.close(),u(new sE(`reply timeout: event ${g.id}`,"INTERNAL"))},(i==null?void 0:i.replyTimeout)||6e4);b.onevent=async function(v){clearTimeout(_),b.close();const E=await s.decrypt(s.walletPubkey,v.content);let k;try{k=JSON.parse(E)}catch{return clearTimeout(_),b.close(),void u(new lE("failed to deserialize response","INTERNAL"))}var T,A;k.result?r(k.result)?l(k.result):(clearTimeout(_),b.close(),u(new zy("response from NWC failed validation: "+JSON.stringify(k.result),"INTERNAL"))):(clearTimeout(_),b.close(),u(new h7(((T=k.error)==null?void 0:T.message)||"unknown Error",((A=k.error)==null?void 0:A.code)||"INTERNAL")))};const S=setTimeout(function(){b.close(),u(new oE(`publish timeout: ${g.id}`,"INTERNAL"))},(i==null?void 0:i.publishTimeout)||5e3);try{await s.relay.publish(g),clearTimeout(S)}catch(v){clearTimeout(S),u(new aE(`failed to publish: ${v}`,"INTERNAL"))}})()})}async executeMultiNip47Request(t,n,r,i,s){var l=this;await this._checkConnected(),await this._selectEncryptionType();const u=[];return new Promise((d,p)=>{(async function(){const y={method:t,params:n},g=await l.encrypt(l.walletPubkey,JSON.stringify(y)),b={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",l.walletPubkey],["v",l.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",l.encryptionType]],content:g},_=await l.signEvent(b),S=l.relay.subscribe([{kinds:[23195],authors:[l.walletPubkey],"#e":[_.id]}],{}),v=setTimeout(function(){S.close(),p(new sE(`reply timeout: event ${_.id}`,"INTERNAL"))},(s==null?void 0:s.replyTimeout)||6e4);S.onevent=async function(k){const T=await l.decrypt(l.walletPubkey,k.content);let A;try{A=JSON.parse(T)}catch{clearTimeout(v),S.close(),p(new lE("failed to deserialize response","INTERNAL"))}if(A.result){var z;if(!i(A.result))return clearTimeout(v),S.close(),void p(new zy("Response from NWC failed validation: "+JSON.stringify(A.result),"INTERNAL"));const W=(z=k.tags.find(q=>q[0]==="d"))==null?void 0:z[1];if(W===void 0)return clearTimeout(v),S.close(),void p(new zy("No d tag found in response event","INTERNAL"));u.push(Qs({},A.result,{dTag:W})),u.length===r&&(clearTimeout(v),S.close(),d(u))}else{var D,Z;clearTimeout(v),S.close(),p(new p7((D=A.error)==null?void 0:D.message,(Z=A.error)==null?void 0:Z.code))}};const E=setTimeout(function(){S.close(),p(new oE(`Publish timeout: ${_.id}`,"INTERNAL"))},(s==null?void 0:s.publishTimeout)||5e3);try{await l.relay.publish(_),clearTimeout(E)}catch(k){clearTimeout(E),p(new aE(`Failed to publish: ${k}`,"INTERNAL"))}})()})}async _checkConnected(){if(!this.secret)throw new Error("Missing secret key");if(!this.relayUrl)throw new Error("Missing relay url");try{this.relay.connected||await this.relay.connect()}catch{throw console.error("failed to connect to relay",this.relayUrl),new f7("Failed to connect to "+this.relayUrl,"OTHER")}}async _selectEncryptionType(){if(!this._encryptionType){const t=await this.getWalletServiceInfo(),n=this._findPreferredEncryptionType(t.encryptions);if(!n)throw new m7("no compatible encryption or version found between wallet and client","UNSUPPORTED_ENCRYPTION");n==="nip04"&&console.warn("NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead."),this._encryptionType=n}}_findPreferredEncryptionType(t){return t.includes("nip44_v2")?"nip44_v2":t.includes("nip04")?"nip04":null}}class g7{constructor(t,n){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=n,this.invoice=new Qw({pr:n.invoice}),this._nwcClient=t}onPaid(t){var n=this;return async function(){let r;try{var i;r=(i=(await n._nwcClient.getInfo()).notifications)==null?void 0:i.includes("payment_received")}catch{console.error("failed to fetch info, falling back to polling")}const s=u=>{n._unsubscribeFunc==null||n._unsubscribeFunc(),t(u)},l=u=>()=>{n._timeoutFunc=void 0,clearTimeout(n._timeoutId),u()};if(r){const u=d=>{d.notification.payment_hash===n.transaction.payment_hash&&s(d.notification)};n._unsubscribeFunc=l(await n._nwcClient.subscribeNotifications(u,["payment_received"]))}else console.warn("current connection does not support notifications, falling back to polling"),n._unsubscribeFunc=l(n._onPaidPollingFallback(s))}(),this}onTimeout(t,n){return this._timeoutFunc=()=>{var r;(r=this._unsubscribeFunc)==null||r.call(this),n()},this._timeoutId=setTimeout(()=>{var r;(r=this._timeoutFunc)==null||r.call(this)},1e3*t),this}unsubscribe(){var t;(t=this._unsubscribeFunc)==null||t.call(this)}_onPaidPollingFallback(t){var n=this;let r=!0;return async function(){for(;r;){const i=await n._nwcClient.lookupInvoice({payment_hash:n.transaction.payment_hash});if(i.settled_at&&i.preimage){t(i),r=!1;break}await new Promise(s=>setTimeout(s,3e3))}}(),()=>{r=!1}}}async function cE(e){if(typeof e=="number")return{satoshi:e,millisat:1e3*e};const t=await Promise.resolve(e.satoshi);return{satoshi:t,millisat:1e3*t}}class Dd{constructor(t){this.nwcClient=void 0,this.nwcClient=typeof t=="string"?new Nc({nostrWalletConnectUrl:t}):t instanceof Nc?t:new Nc(t)}async pay(t,n,r){let i=t;const s=n?await cE(n):void 0;if(i.indexOf("@")>-1){var l,u;if(!s)throw new Error("Amount must be provided when paying to a lightning address");const p=new c7(t);await p.fetch(),i=(await p.requestInvoice({satoshi:s.satoshi,comment:r==null||(l=r.metadata)==null?void 0:l.comment,payerdata:r==null||(u=r.metadata)==null?void 0:u.payer_data})).paymentRequest}const d=await this.nwcClient.payInvoice(Qs({},r||{},{invoice:i,amount:s==null?void 0:s.millisat}));return Qs({},d,{invoice:new Qw({pr:i})})}async requestPayment(t,n){const r=await cE(t),i=await this.nwcClient.makeInvoice(Qs({},n||{},{amount:r.millisat}));return new g7(this.nwcClient,i)}close(){this.nwcClient.close()}}function y7(){const{toast:e}=ru(),[t,n]=y0("nwc-connections",[]),[r,i]=y0("nwc-active-connection",null),[s,l]=C.useState({}),u=async(g,b)=>{const S=(E=>{try{return!E.startsWith("nostr+walletconnect://")&&!E.startsWith("nostrwalletconnect://")?(console.error("Invalid NWC URI protocol:",{protocol:E.split("://")[0]}),null):{connectionString:E}}catch(k){return console.error("Failed to parse NWC URI:",k),null}})(g);if(!S)return e({title:"Invalid NWC URI",description:"Please check the connection string and try again.",variant:"destructive"}),!1;if(t.find(E=>E.connectionString===S.connectionString))return e({title:"Connection already exists",description:"This wallet is already connected.",variant:"destructive"}),!1;try{let E;const k=new Promise((D,Z)=>{try{const W=new Dd(S.connectionString);D(W)}catch(W){Z(W)}}),T=new Promise((D,Z)=>{E=setTimeout(()=>Z(new Error("Connection test timeout")),1e4)});try{await Promise.race([k,T]),E&&clearTimeout(E)}catch(D){throw E&&clearTimeout(E),D}const A={connectionString:S.connectionString,alias:b||"NWC Wallet",isConnected:!0};l(D=>({...D,[S.connectionString]:{alias:A.alias,methods:["pay_invoice"]}}));const z=[...t,A];return n(z),(t.length===0||!r)&&i(S.connectionString),e({title:"Wallet connected",description:`Successfully connected to ${A.alias}.`}),!0}catch(E){console.error("NWC connection failed:",E);const k=E instanceof Error?E.message:"Unknown error occurred";return e({title:"Connection failed",description:`Could not connect to the wallet: ${k}`,variant:"destructive"}),!1}},d=g=>{const b=t.filter(_=>_.connectionString!==g);if(n(b),r===g){const _=b.length>0?b[0].connectionString:null;i(_)}l(_=>{const S={..._};return delete S[g],S}),e({title:"Wallet disconnected",description:"The wallet connection has been removed."})},p=C.useCallback(()=>!r&&t.length>0?(i(t[0].connectionString),t[0]):r&&t.find(b=>b.connectionString===r)||null,[r,t,i]),y=C.useCallback(async(g,b)=>{if(!g.connectionString)throw new Error("Invalid connection: missing connection string");let _;try{_=new Dd(g.connectionString)}catch(S){throw console.error("Failed to create NWC client:",S),new Error(`Failed to create NWC client: ${S instanceof Error?S.message:"Unknown error"}`)}try{let S;const v=new Promise((k,T)=>{S=setTimeout(()=>T(new Error("Payment timeout after 15 seconds")),15e3)}),E=_.pay(b);try{const k=await Promise.race([E,v]);return S&&clearTimeout(S),k}catch(k){throw S&&clearTimeout(S),k}}catch(S){throw console.error("NWC payment failed:",S),S instanceof Error?S.message.includes("timeout")?new Error("Payment timed out. Please try again."):S.message.includes("insufficient")?new Error("Insufficient balance in connected wallet."):S.message.includes("invalid")?new Error("Invalid invoice or connection. Please check your wallet."):new Error(`Payment failed: ${S.message}`):new Error("Payment failed with unknown error")}},[]);return{connections:t,activeConnection:r,connectionInfo:s,addConnection:u,removeConnection:d,setActiveConnection:i,getActiveConnection:p,sendPayment:y}}const eP=C.createContext(null);function tP(){const e=C.useContext(eP);if(!e)throw new Error("useNWC must be used within a NWCProvider");return e}function v7({children:e}){const t=y7();return m.jsx(eP.Provider,{value:t,children:e})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bd.apply(this,arguments)}var Ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ys||(Ys={}));const uE="popstate";function w7(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:l,hash:u}=r.location;return _0("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rp(i)}return x7(t,n,null,e)}function gn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _7(){return Math.random().toString(36).substr(2,8)}function dE(e,t){return{usr:e.state,key:e.key,idx:t}}function _0(e,t,n,r){return n===void 0&&(n=null),Bd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?uu(t):t,{state:n,key:t&&t.key||r||_7()})}function Rp(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function uu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function x7(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u=Ys.Pop,d=null,p=y();p==null&&(p=0,l.replaceState(Bd({},l.state,{idx:p}),""));function y(){return(l.state||{idx:null}).idx}function g(){u=Ys.Pop;let E=y(),k=E==null?null:E-p;p=E,d&&d({action:u,location:v.location,delta:k})}function b(E,k){u=Ys.Push;let T=_0(v.location,E,k);p=y()+1;let A=dE(T,p),z=v.createHref(T);try{l.pushState(A,"",z)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(z)}s&&d&&d({action:u,location:v.location,delta:1})}function _(E,k){u=Ys.Replace;let T=_0(v.location,E,k);p=y();let A=dE(T,p),z=v.createHref(T);l.replaceState(A,"",z),s&&d&&d({action:u,location:v.location,delta:0})}function S(E){let k=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof E=="string"?E:Rp(E);return T=T.replace(/ $/,"%20"),gn(k,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,k)}let v={get action(){return u},get location(){return e(i,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(uE,g),d=E,()=>{i.removeEventListener(uE,g),d=null}},createHref(E){return t(i,E)},createURL:S,encodeLocation(E){let k=S(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:_,go(E){return l.go(E)}};return v}var fE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fE||(fE={}));function b7(e,t,n){return n===void 0&&(n="/"),E7(e,t,n)}function E7(e,t,n,r){let i=typeof t=="string"?uu(t):t,s=e_(i.pathname||"/",n);if(s==null)return null;let l=nP(e);S7(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=M7(s);u=j7(l[d],p)}return u}function nP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(gn(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=Xs([r,d.relativePath]),y=n.concat(d);s.children&&s.children.length>0&&(gn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),nP(s.children,t,y,p)),!(s.path==null&&!s.index)&&t.push({path:p,score:R7(p,s.index),routesMeta:y})};return e.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of rP(s.path))i(s,l,d)}),t}function rP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=rP(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function S7(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:I7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const k7=/^:[\w-]+$/,C7=3,N7=2,P7=1,T7=10,A7=-2,hE=e=>e==="*";function R7(e,t){let n=e.split("/"),r=n.length;return n.some(hE)&&(r+=A7),t&&(r+=N7),n.filter(i=>!hE(i)).reduce((i,s)=>i+(k7.test(s)?C7:s===""?P7:T7),r)}function I7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function j7(e,t,n){let{routesMeta:r}=e,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,y=s==="/"?t:t.slice(s.length)||"/",g=L7({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),b=d.route;if(!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Xs([s,g.pathname]),pathnameBase:U7(Xs([s,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(s=Xs([s,g.pathnameBase]))}return l}function L7(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=O7(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,y,g)=>{let{paramName:b,isOptional:_}=y;if(b==="*"){let v=u[g]||"";l=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const S=u[g];return _&&!S?p[b]=void 0:p[b]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:l,pattern:e}}function O7(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Xw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function M7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function e_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const z7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D7=e=>z7.test(e);function B7(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?uu(e):e,s;if(n)if(D7(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Xw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?s=pE(n.substring(1),"/"):s=pE(n,t)}else s=t;return{pathname:s,search:$7(r),hash:H7(i)}}function pE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Dy(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function iP(e,t){let n=F7(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function oP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=uu(e):(i=Bd({},e),gn(!i.pathname||!i.pathname.includes("?"),Dy("?","pathname","search",i)),gn(!i.pathname||!i.pathname.includes("#"),Dy("#","pathname","hash",i)),gn(!i.search||!i.search.includes("#"),Dy("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}u=g>=0?t[g]:"/"}let d=B7(i,u),p=l&&l!=="/"&&l.endsWith("/"),y=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}const Xs=e=>e.join("/").replace(/\/\/+/g,"/"),U7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Z7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sP=["post","put","patch","delete"];new Set(sP);const W7=["get",...sP];new Set(W7);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fd.apply(this,arguments)}const t_=C.createContext(null),V7=C.createContext(null),yl=C.createContext(null),ym=C.createContext(null),ua=C.createContext({outlet:null,matches:[],isDataRoute:!1}),aP=C.createContext(null);function q7(e,t){let{relative:n}=t===void 0?{}:t;cf()||gn(!1);let{basename:r,navigator:i}=C.useContext(yl),{hash:s,pathname:l,search:u}=cP(e,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:Xs([r,l])),i.createHref({pathname:d,search:u,hash:s})}function cf(){return C.useContext(ym)!=null}function vl(){return cf()||gn(!1),C.useContext(ym).location}function lP(e){C.useContext(yl).static||C.useLayoutEffect(e)}function K7(){let{isDataRoute:e}=C.useContext(ua);return e?a9():G7()}function G7(){cf()||gn(!1);let e=C.useContext(t_),{basename:t,future:n,navigator:r}=C.useContext(yl),{matches:i}=C.useContext(ua),{pathname:s}=vl(),l=JSON.stringify(iP(i,n.v7_relativeSplatPath)),u=C.useRef(!1);return lP(()=>{u.current=!0}),C.useCallback(function(p,y){if(y===void 0&&(y={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let g=oP(p,JSON.parse(l),s,y.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Xs([t,g.pathname])),(y.replace?r.replace:r.push)(g,y.state,y)},[t,r,l,s,e])}function n_(){let{matches:e}=C.useContext(ua),t=e[e.length-1];return t?t.params:{}}function cP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(yl),{matches:i}=C.useContext(ua),{pathname:s}=vl(),l=JSON.stringify(iP(i,r.v7_relativeSplatPath));return C.useMemo(()=>oP(e,JSON.parse(l),s,n==="path"),[e,l,s,n])}function Y7(e,t){return J7(e,t)}function J7(e,t,n,r){cf()||gn(!1);let{navigator:i}=C.useContext(yl),{matches:s}=C.useContext(ua),l=s[s.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=vl(),y;if(t){var g;let E=typeof t=="string"?uu(t):t;d==="/"||(g=E.pathname)!=null&&g.startsWith(d)||gn(!1),y=E}else y=p;let b=y.pathname||"/",_=b;if(d!=="/"){let E=d.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=b7(e,{pathname:_}),v=n9(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Xs([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Xs([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return t&&v?C.createElement(ym.Provider,{value:{location:Fd({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ys.Pop}},v):v}function Q7(){let e=s9(),t=Z7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,null)}const X7=C.createElement(Q7,null);class e9 extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(ua.Provider,{value:this.props.routeContext},C.createElement(aP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t9(e){let{routeContext:t,match:n,children:r}=e,i=C.useContext(t_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(ua.Provider,{value:t},r)}function n9(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let y=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);y>=0||gn(!1),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<l.length;y++){let g=l[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=y),g.route.id){let{loaderData:b,errors:_}=n,S=g.route.loader&&b[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||S){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((y,g,b)=>{let _,S=!1,v=null,E=null;n&&(_=u&&g.route.id?u[g.route.id]:void 0,v=g.route.errorElement||X7,d&&(p<0&&b===0?(l9("route-fallback"),S=!0,E=null):p===b&&(S=!0,E=g.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,b+1)),T=()=>{let A;return _?A=v:S?A=E:g.route.Component?A=C.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=y,C.createElement(t9,{match:g,routeContext:{outlet:y,matches:k,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?C.createElement(e9,{location:n.location,revalidation:n.revalidation,component:v,error:_,children:T(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):T()},null)}var uP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uP||{}),dP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dP||{});function r9(e){let t=C.useContext(t_);return t||gn(!1),t}function i9(e){let t=C.useContext(V7);return t||gn(!1),t}function o9(e){let t=C.useContext(ua);return t||gn(!1),t}function fP(e){let t=o9(),n=t.matches[t.matches.length-1];return n.route.id||gn(!1),n.route.id}function s9(){var e;let t=C.useContext(aP),n=i9(),r=fP();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function a9(){let{router:e}=r9(uP.UseNavigateStable),t=fP(dP.UseNavigateStable),n=C.useRef(!1);return lP(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Fd({fromRouteId:t},s)))},[e,t])}const mE={};function l9(e,t,n){mE[e]||(mE[e]=!0)}function c9(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $i(e){gn(!1)}function u9(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ys.Pop,navigator:s,static:l=!1,future:u}=e;cf()&&gn(!1);let d=t.replace(/^\/*/,"/"),p=C.useMemo(()=>({basename:d,navigator:s,static:l,future:Fd({v7_relativeSplatPath:!1},u)}),[d,u,s,l]);typeof r=="string"&&(r=uu(r));let{pathname:y="/",search:g="",hash:b="",state:_=null,key:S="default"}=r,v=C.useMemo(()=>{let E=e_(y,d);return E==null?null:{location:{pathname:E,search:g,hash:b,state:_,key:S},navigationType:i}},[d,y,g,b,_,S,i]);return v==null?null:C.createElement(yl.Provider,{value:p},C.createElement(ym.Provider,{children:n,value:v}))}function d9(e){let{children:t,location:n}=e;return Y7(x0(t),n)}new Promise(()=>{});function x0(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,i)=>{if(!C.isValidElement(r))return;let s=[...t,i];if(r.type===C.Fragment){n.push.apply(n,x0(r.props.children,s));return}r.type!==$i&&gn(!1),!r.props.index||!r.props.children||gn(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=x0(r.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b0.apply(this,arguments)}function f9(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function h9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function p9(e,t){return e.button===0&&(!t||t==="_self")&&!h9(e)}const m9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g9="6";try{window.__reactRouterVersion=g9}catch{}const y9="startTransition",gE=B0[y9];function v9(e){let{basename:t,children:n,future:r,window:i}=e,s=C.useRef();s.current==null&&(s.current=w7({window:i,v5Compat:!0}));let l=s.current,[u,d]=C.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},y=C.useCallback(g=>{p&&gE?gE(()=>d(g)):d(g)},[d,p]);return C.useLayoutEffect(()=>l.listen(y),[l,y]),C.useEffect(()=>c9(r),[r]),C.createElement(u9,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const w9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wn=C.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:l,state:u,target:d,to:p,preventScrollReset:y,viewTransition:g}=t,b=f9(t,m9),{basename:_}=C.useContext(yl),S,v=!1;if(typeof p=="string"&&_9.test(p)&&(S=p,w9))try{let A=new URL(window.location.href),z=p.startsWith("//")?new URL(A.protocol+p):new URL(p),D=e_(z.pathname,_);z.origin===A.origin&&D!=null?p=D+z.search+z.hash:v=!0}catch{}let E=q7(p,{relative:i}),k=x9(p,{replace:l,state:u,target:d,preventScrollReset:y,relative:i,viewTransition:g});function T(A){r&&r(A),A.defaultPrevented||k(A)}return C.createElement("a",b0({},b,{href:S||E,onClick:v||s?r:T,ref:n,target:d}))});var yE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yE||(yE={}));var vE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vE||(vE={}));function x9(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:l,viewTransition:u}=t===void 0?{}:t,d=K7(),p=vl(),y=cP(e,{relative:l});return C.useCallback(g=>{if(p9(g,n)){g.preventDefault();let b=r!==void 0?r:Rp(p)===Rp(y);d(e,{replace:b,state:i,preventScrollReset:s,relative:l,viewTransition:u})}},[p,d,y,r,i,n,e,s,l,u])}function b9(){const{pathname:e}=vl();return C.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const E9=af("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pt=C.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const l=r?fB:"button";return m.jsx(l,{className:We(E9({variant:t,size:n,className:e})),ref:s,...i})});pt.displayName="Button";const fn=C.forwardRef(({className:e,type:t,...n},r)=>m.jsx("input",{type:t,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));fn.displayName="Input";var By="focusScope.autoFocusOnMount",Fy="focusScope.autoFocusOnUnmount",wE={bubbles:!1,cancelable:!0},S9="FocusScope",vm=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=e,[u,d]=C.useState(null),p=ln(i),y=ln(s),g=C.useRef(null),b=ft(t,v=>d(v)),_=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let v=function(A){if(_.paused||!u)return;const z=A.target;u.contains(z)?g.current=z:Ms(g.current,{select:!0})},E=function(A){if(_.paused||!u)return;const z=A.relatedTarget;z!==null&&(u.contains(z)||Ms(g.current,{select:!0}))},k=function(A){if(document.activeElement===document.body)for(const D of A)D.removedNodes.length>0&&Ms(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const T=new MutationObserver(k);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),T.disconnect()}}},[r,u,_.paused]),C.useEffect(()=>{if(u){xE.add(_);const v=document.activeElement;if(!u.contains(v)){const k=new CustomEvent(By,wE);u.addEventListener(By,p),u.dispatchEvent(k),k.defaultPrevented||(k9(A9(hP(u)),{select:!0}),document.activeElement===v&&Ms(u))}return()=>{u.removeEventListener(By,p),setTimeout(()=>{const k=new CustomEvent(Fy,wE);u.addEventListener(Fy,y),u.dispatchEvent(k),k.defaultPrevented||Ms(v??document.body,{select:!0}),u.removeEventListener(Fy,y),xE.remove(_)},0)}}},[u,p,y,_]);const S=C.useCallback(v=>{if(!n&&!r||_.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(E&&k){const T=v.currentTarget,[A,z]=C9(T);A&&z?!v.shiftKey&&k===z?(v.preventDefault(),n&&Ms(A,{select:!0})):v.shiftKey&&k===A&&(v.preventDefault(),n&&Ms(z,{select:!0})):k===T&&v.preventDefault()}},[n,r,_.paused]);return m.jsx(Ge.div,{tabIndex:-1,...l,ref:b,onKeyDown:S})});vm.displayName=S9;function k9(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ms(r,{select:t}),document.activeElement!==n)return}function C9(e){const t=hP(e),n=_E(t,e),r=_E(t.reverse(),e);return[n,r]}function hP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _E(e,t){for(const n of e)if(!N9(n,{upTo:t}))return n}function N9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function P9(e){return e instanceof HTMLInputElement&&"select"in e}function Ms(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&P9(e)&&t&&e.select()}}var xE=T9();function T9(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=bE(e,t),e.unshift(t)},remove(t){var n;e=bE(e,t),(n=e[0])==null||n.resume()}}}function bE(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function A9(e){return e.filter(t=>t.tagName!=="A")}var Uy=0;function r_(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??EE()),document.body.insertAdjacentElement("beforeend",e[1]??EE()),Uy++,()=>{Uy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Uy--}},[])}function EE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ki=function(){return Ki=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ki.apply(this,arguments)};function pP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function R9(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var sp="right-scroll-bar-position",ap="width-before-scroll-bar",I9="with-scroll-bars-hidden",j9="--removed-body-scroll-bar-size";function $y(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function L9(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var O9=typeof window<"u"?C.useLayoutEffect:C.useEffect,SE=new WeakMap;function M9(e,t){var n=L9(null,function(r){return e.forEach(function(i){return $y(i,r)})});return O9(function(){var r=SE.get(n);if(r){var i=new Set(r),s=new Set(e),l=n.current;i.forEach(function(u){s.has(u)||$y(u,null)}),s.forEach(function(u){i.has(u)||$y(u,l)})}SE.set(n,e)},[e]),n}function z9(e){return e}function D9(e,t){t===void 0&&(t=z9);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var l=t(s,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(s){for(r=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(u){return s(u)},filter:function(){return n}}},assignMedium:function(s){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(s),l=n}var d=function(){var y=l;l=[],y.forEach(s)},p=function(){return Promise.resolve().then(d)};p(),n={push:function(y){l.push(y),p()},filter:function(y){return l=l.filter(y),n}}}};return i}function B9(e){e===void 0&&(e={});var t=D9(null);return t.options=Ki({async:!0,ssr:!1},e),t}var mP=function(e){var t=e.sideCar,n=pP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Ki({},n))};mP.isSideCarExport=!0;function F9(e,t){return e.useMedium(t),mP}var gP=B9(),Hy=function(){},wm=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:Hy,onWheelCapture:Hy,onTouchMoveCapture:Hy}),i=r[0],s=r[1],l=e.forwardProps,u=e.children,d=e.className,p=e.removeScrollBar,y=e.enabled,g=e.shards,b=e.sideCar,_=e.noIsolation,S=e.inert,v=e.allowPinchZoom,E=e.as,k=E===void 0?"div":E,T=e.gapMode,A=pP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=b,D=M9([n,t]),Z=Ki(Ki({},A),i);return C.createElement(C.Fragment,null,y&&C.createElement(z,{sideCar:gP,removeScrollBar:p,shards:g,noIsolation:_,inert:S,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:T}),l?C.cloneElement(C.Children.only(u),Ki(Ki({},Z),{ref:D})):C.createElement(k,Ki({},Z,{className:d,ref:D}),u))});wm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wm.classNames={fullWidth:ap,zeroRight:sp};var U9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=U9();return t&&e.setAttribute("nonce",t),e}function H9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Z9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var W9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$9())&&(H9(t,n),Z9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},V9=function(){var e=W9();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},yP=function(){var e=V9(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},q9={left:0,top:0,right:0,gap:0},Zy=function(e){return parseInt(e||"",10)||0},K9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Zy(n),Zy(r),Zy(i)]},G9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return q9;var t=K9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Y9=yP(),Pc="data-scroll-locked",J9=function(e,t,n,r){var i=e.left,s=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(I9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Pc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sp,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ap,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(sp," .").concat(sp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ap," .").concat(ap,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Pc,`] {
    `).concat(j9,": ").concat(u,`px;
  }
`)},kE=function(){var e=parseInt(document.body.getAttribute(Pc)||"0",10);return isFinite(e)?e:0},Q9=function(){C.useEffect(function(){return document.body.setAttribute(Pc,(kE()+1).toString()),function(){var e=kE()-1;e<=0?document.body.removeAttribute(Pc):document.body.setAttribute(Pc,e.toString())}},[])},X9=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Q9();var s=C.useMemo(function(){return G9(i)},[i]);return C.createElement(Y9,{styles:J9(s,!t,i,n?"":"!important")})},E0=!1;if(typeof window<"u")try{var Vh=Object.defineProperty({},"passive",{get:function(){return E0=!0,!0}});window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{E0=!1}var hc=E0?{passive:!1}:!1,eH=function(e){return e.tagName==="TEXTAREA"},vP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!eH(e)&&n[t]==="visible")},tH=function(e){return vP(e,"overflowY")},nH=function(e){return vP(e,"overflowX")},CE=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=wP(e,r);if(i){var s=_P(e,r),l=s[1],u=s[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},rH=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},iH=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},wP=function(e,t){return e==="v"?tH(t):nH(t)},_P=function(e,t){return e==="v"?rH(t):iH(t)},oH=function(e,t){return e==="h"&&t==="rtl"?-1:1},sH=function(e,t,n,r,i){var s=oH(e,window.getComputedStyle(t).direction),l=s*r,u=n.target,d=t.contains(u),p=!1,y=l>0,g=0,b=0;do{var _=_P(e,u),S=_[0],v=_[1],E=_[2],k=v-E-s*S;(S||k)&&wP(e,u)&&(g+=k,b+=S),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(y&&Math.abs(g)<1||!y&&Math.abs(b)<1)&&(p=!0),p},qh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},NE=function(e){return[e.deltaX,e.deltaY]},PE=function(e){return e&&"current"in e?e.current:e},aH=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lH=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cH=0,pc=[];function uH(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(cH++)[0],s=C.useState(yP)[0],l=C.useRef(e);C.useEffect(function(){l.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=R9([e.lockRef.current],(e.shards||[]).map(PE),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=C.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var k=qh(v),T=n.current,A="deltaX"in v?v.deltaX:T[0]-k[0],z="deltaY"in v?v.deltaY:T[1]-k[1],D,Z=v.target,W=Math.abs(A)>Math.abs(z)?"h":"v";if("touches"in v&&W==="h"&&Z.type==="range")return!1;var q=CE(W,Z);if(!q)return!0;if(q?D=W:(D=W==="v"?"h":"v",q=CE(W,Z)),!q)return!1;if(!r.current&&"changedTouches"in v&&(A||z)&&(r.current=D),!D)return!0;var U=r.current||D;return sH(U,E,v,U==="h"?A:z)},[]),d=C.useCallback(function(v){var E=v;if(!(!pc.length||pc[pc.length-1]!==s)){var k="deltaY"in E?NE(E):qh(E),T=t.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&aH(D.delta,k)})[0];if(T&&T.should){E.cancelable&&E.preventDefault();return}if(!T){var A=(l.current.shards||[]).map(PE).filter(Boolean).filter(function(D){return D.contains(E.target)}),z=A.length>0?u(E,A[0]):!l.current.noIsolation;z&&E.cancelable&&E.preventDefault()}}},[]),p=C.useCallback(function(v,E,k,T){var A={name:v,delta:E,target:k,should:T,shadowParent:dH(k)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(z){return z!==A})},1)},[]),y=C.useCallback(function(v){n.current=qh(v),r.current=void 0},[]),g=C.useCallback(function(v){p(v.type,NE(v),v.target,u(v,e.lockRef.current))},[]),b=C.useCallback(function(v){p(v.type,qh(v),v.target,u(v,e.lockRef.current))},[]);C.useEffect(function(){return pc.push(s),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",d,hc),document.addEventListener("touchmove",d,hc),document.addEventListener("touchstart",y,hc),function(){pc=pc.filter(function(v){return v!==s}),document.removeEventListener("wheel",d,hc),document.removeEventListener("touchmove",d,hc),document.removeEventListener("touchstart",y,hc)}},[]);var _=e.removeScrollBar,S=e.inert;return C.createElement(C.Fragment,null,S?C.createElement(s,{styles:lH(i)}):null,_?C.createElement(X9,{gapMode:e.gapMode}):null)}function dH(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fH=F9(gP,uH);var _m=C.forwardRef(function(e,t){return C.createElement(wm,Ki({},e,{ref:t,sideCar:fH}))});_m.classNames=wm.classNames;var hH=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},mc=new WeakMap,Kh=new WeakMap,Gh={},Wy=0,xP=function(e){return e&&(e.host||xP(e.parentNode))},pH=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=xP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},mH=function(e,t,n,r){var i=pH(t,Array.isArray(e)?e:[e]);Gh[n]||(Gh[n]=new WeakMap);var s=Gh[n],l=[],u=new Set,d=new Set(i),p=function(g){!g||u.has(g)||(u.add(g),p(g.parentNode))};i.forEach(p);var y=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(b){if(u.has(b))y(b);else try{var _=b.getAttribute(r),S=_!==null&&_!=="false",v=(mc.get(b)||0)+1,E=(s.get(b)||0)+1;mc.set(b,v),s.set(b,E),l.push(b),v===1&&S&&Kh.set(b,!0),E===1&&b.setAttribute(n,"true"),S||b.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",b,k)}})};return y(t),u.clear(),Wy++,function(){l.forEach(function(g){var b=mc.get(g)-1,_=s.get(g)-1;mc.set(g,b),s.set(g,_),b||(Kh.has(g)||g.removeAttribute(r),Kh.delete(g)),_||g.removeAttribute(n)}),Wy--,Wy||(mc=new WeakMap,mc=new WeakMap,Kh=new WeakMap,Gh={})}},i_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=hH(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),mH(r,i,n,"aria-hidden")):function(){return null}},xm="Dialog",[bP,KK]=Pn(xm),[gH,ki]=bP(xm),EP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,u=C.useRef(null),d=C.useRef(null),[p,y]=ni({prop:r,defaultProp:i??!1,onChange:s,caller:xm});return m.jsx(gH,{scope:t,triggerRef:u,contentRef:d,contentId:ei(),titleId:ei(),descriptionId:ei(),open:p,onOpenChange:y,onOpenToggle:C.useCallback(()=>y(g=>!g),[y]),modal:l,children:n})};EP.displayName=xm;var SP="DialogTrigger",kP=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(SP,n),s=ft(t,i.triggerRef);return m.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":l_(i.open),...r,ref:s,onClick:Ue(e.onClick,i.onOpenToggle)})});kP.displayName=SP;var o_="DialogPortal",[yH,CP]=bP(o_,{forceMount:void 0}),NP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=ki(o_,t);return m.jsx(yH,{scope:t,forceMount:n,children:C.Children.map(r,l=>m.jsx(jn,{present:n||s.open,children:m.jsx(of,{asChild:!0,container:i,children:l})}))})};NP.displayName=o_;var Ip="DialogOverlay",PP=C.forwardRef((e,t)=>{const n=CP(Ip,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=ki(Ip,e.__scopeDialog);return s.modal?m.jsx(jn,{present:r||s.open,children:m.jsx(wH,{...i,ref:t})}):null});PP.displayName=Ip;var vH=cl("DialogOverlay.RemoveScroll"),wH=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(Ip,n);return m.jsx(_m,{as:vH,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(Ge.div,{"data-state":l_(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),dl="DialogContent",TP=C.forwardRef((e,t)=>{const n=CP(dl,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=ki(dl,e.__scopeDialog);return m.jsx(jn,{present:r||s.open,children:s.modal?m.jsx(_H,{...i,ref:t}):m.jsx(xH,{...i,ref:t})})});TP.displayName=dl;var _H=C.forwardRef((e,t)=>{const n=ki(dl,e.__scopeDialog),r=C.useRef(null),i=ft(t,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return i_(s)},[]),m.jsx(AP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&s.preventDefault()}),onFocusOutside:Ue(e.onFocusOutside,s=>s.preventDefault())})}),xH=C.forwardRef((e,t)=>{const n=ki(dl,e.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return m.jsx(AP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var d,p;(d=e.onInteractOutside)==null||d.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((p=n.triggerRef.current)==null?void 0:p.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),AP=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=e,u=ki(dl,n),d=C.useRef(null),p=ft(t,d);return r_(),m.jsxs(m.Fragment,{children:[m.jsx(vm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(ou,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":l_(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(bH,{titleId:u.titleId}),m.jsx(SH,{contentRef:d,descriptionId:u.descriptionId})]})]})}),s_="DialogTitle",a_=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(s_,n);return m.jsx(Ge.h2,{id:i.titleId,...r,ref:t})});a_.displayName=s_;var RP="DialogDescription",IP=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(RP,n);return m.jsx(Ge.p,{id:i.descriptionId,...r,ref:t})});IP.displayName=RP;var jP="DialogClose",LP=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(jP,n);return m.jsx(Ge.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,()=>i.onOpenChange(!1))})});LP.displayName=jP;function l_(e){return e?"open":"closed"}var OP="DialogTitleWarning",[GK,MP]=uB(OP,{contentName:dl,titleName:s_,docsSlug:"dialog"}),bH=({titleId:e})=>{const t=MP(OP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},EH="DialogDescriptionWarning",SH=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MP(EH).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},kH=EP,CH=kP,NH=NP,zP=PP,DP=TP,BP=a_,FP=IP,PH=LP;const fl=kH,TH=CH,AH=NH,UP=C.forwardRef(({className:e,...t},n)=>m.jsx(zP,{ref:n,className:We("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));UP.displayName=zP.displayName;const oa=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(AH,{children:[m.jsx(UP,{}),m.jsxs(DP,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,m.jsxs(PH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(uN,{className:"size-5"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oa.displayName=DP.displayName;const wl=({className:e,...t})=>m.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wl.displayName="DialogHeader";const du=C.forwardRef(({className:e,...t},n)=>m.jsx(BP,{ref:n,className:We("text-lg font-semibold leading-none tracking-tight",e),...t}));du.displayName=BP.displayName;const uf=C.forwardRef(({className:e,...t},n)=>m.jsx(FP,{ref:n,className:We("text-sm text-muted-foreground",e),...t}));uf.displayName=FP.displayName;var RH=C.createContext(void 0);function _l(e){const t=C.useContext(RH);return e||t||"ltr"}var Vy="rovingFocusGroup.onEntryFocus",IH={bubbles:!1,cancelable:!0},df="RovingFocusGroup",[S0,$P,jH]=rf(df),[LH,fu]=Pn(df,[jH]),[OH,MH]=LH(df),HP=C.forwardRef((e,t)=>m.jsx(S0.Provider,{scope:e.__scopeRovingFocusGroup,children:m.jsx(S0.Slot,{scope:e.__scopeRovingFocusGroup,children:m.jsx(zH,{...e,ref:t})})}));HP.displayName=df;var zH=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...g}=e,b=C.useRef(null),_=ft(t,b),S=_l(s),[v,E]=ni({prop:l,defaultProp:u??null,onChange:d,caller:df}),[k,T]=C.useState(!1),A=ln(p),z=$P(n),D=C.useRef(!1),[Z,W]=C.useState(0);return C.useEffect(()=>{const q=b.current;if(q)return q.addEventListener(Vy,A),()=>q.removeEventListener(Vy,A)},[A]),m.jsx(OH,{scope:n,orientation:r,dir:S,loop:i,currentTabStopId:v,onItemFocus:C.useCallback(q=>E(q),[E]),onItemShiftTab:C.useCallback(()=>T(!0),[]),onFocusableItemAdd:C.useCallback(()=>W(q=>q+1),[]),onFocusableItemRemove:C.useCallback(()=>W(q=>q-1),[]),children:m.jsx(Ge.div,{tabIndex:k||Z===0?-1:0,"data-orientation":r,...g,ref:_,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{D.current=!0}),onFocus:Ue(e.onFocus,q=>{const U=!D.current;if(q.target===q.currentTarget&&U&&!k){const V=new CustomEvent(Vy,IH);if(q.currentTarget.dispatchEvent(V),!V.defaultPrevented){const $=z().filter(oe=>oe.focusable),B=$.find(oe=>oe.active),X=$.find(oe=>oe.id===v),K=[B,X,...$].filter(Boolean).map(oe=>oe.ref.current);VP(K,y)}}D.current=!1}),onBlur:Ue(e.onBlur,()=>T(!1))})})}),ZP="RovingFocusGroupItem",WP=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:l,...u}=e,d=ei(),p=s||d,y=MH(ZP,n),g=y.currentTabStopId===p,b=$P(n),{onFocusableItemAdd:_,onFocusableItemRemove:S,currentTabStopId:v}=y;return C.useEffect(()=>{if(r)return _(),()=>S()},[r,_,S]),m.jsx(S0.ItemSlot,{scope:n,id:p,focusable:r,active:i,children:m.jsx(Ge.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...u,ref:t,onMouseDown:Ue(e.onMouseDown,E=>{r?y.onItemFocus(p):E.preventDefault()}),onFocus:Ue(e.onFocus,()=>y.onItemFocus(p)),onKeyDown:Ue(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){y.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const k=FH(E,y.orientation,y.dir);if(k!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let A=b().filter(z=>z.focusable).map(z=>z.ref.current);if(k==="last")A.reverse();else if(k==="prev"||k==="next"){k==="prev"&&A.reverse();const z=A.indexOf(E.currentTarget);A=y.loop?UH(A,z+1):A.slice(z+1)}setTimeout(()=>VP(A))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:v!=null}):l})})});WP.displayName=ZP;var DH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function FH(e,t,n){const r=BH(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return DH[r]}function VP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function UH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var c_=HP,u_=WP,bm="Tabs",[$H,YK]=Pn(bm,[fu]),qP=fu(),[HH,d_]=$H(bm),KP=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:l="horizontal",dir:u,activationMode:d="automatic",...p}=e,y=_l(u),[g,b]=ni({prop:r,onChange:i,defaultProp:s??"",caller:bm});return m.jsx(HH,{scope:n,baseId:ei(),value:g,onValueChange:b,orientation:l,dir:y,activationMode:d,children:m.jsx(Ge.div,{dir:y,"data-orientation":l,...p,ref:t})})});KP.displayName=bm;var GP="TabsList",YP=C.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=d_(GP,n),l=qP(n);return m.jsx(c_,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:r,children:m.jsx(Ge.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});YP.displayName=GP;var JP="TabsTrigger",QP=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,l=d_(JP,n),u=qP(n),d=tT(l.baseId,r),p=nT(l.baseId,r),y=r===l.value;return m.jsx(u_,{asChild:!0,...u,focusable:!i,active:y,children:m.jsx(Ge.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":p,"data-state":y?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...s,ref:t,onMouseDown:Ue(e.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?l.onValueChange(r):g.preventDefault()}),onKeyDown:Ue(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(r)}),onFocus:Ue(e.onFocus,()=>{const g=l.activationMode!=="manual";!y&&!i&&g&&l.onValueChange(r)})})})});QP.displayName=JP;var XP="TabsContent",eT=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...l}=e,u=d_(XP,n),d=tT(u.baseId,r),p=nT(u.baseId,r),y=r===u.value,g=C.useRef(y);return C.useEffect(()=>{const b=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(b)},[]),m.jsx(jn,{present:i||y,children:({present:b})=>m.jsx(Ge.div,{"data-state":y?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!b,id:p,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:b&&s})})});eT.displayName=XP;function tT(e,t){return`${e}-trigger-${t}`}function nT(e,t){return`${e}-content-${t}`}var ZH=KP,rT=YP,iT=QP,oT=eT;const WH=ZH,sT=C.forwardRef(({className:e,...t},n)=>m.jsx(rT,{ref:n,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));sT.displayName=rT.displayName;const k0=C.forwardRef(({className:e,...t},n)=>m.jsx(iT,{ref:n,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));k0.displayName=iT.displayName;const C0=C.forwardRef(({className:e,...t},n)=>m.jsx(oT,{ref:n,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));C0.displayName=oT.displayName;const VH=af("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),aT=C.forwardRef(({className:e,variant:t,...n},r)=>m.jsx("div",{ref:r,role:"alert",className:We(VH({variant:t}),e),...n}));aT.displayName="Alert";const qH=C.forwardRef(({className:e,...t},n)=>m.jsx("h5",{ref:n,className:We("mb-1 font-medium leading-none tracking-tight",e),...t}));qH.displayName="AlertTitle";const lT=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:We("text-sm [&_p]:leading-relaxed",e),...t}));lT.displayName="AlertDescription";var Em="Collapsible",[KH,JK]=Pn(Em),[GH,f_]=KH(Em),cT=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:l,...u}=e,[d,p]=ni({prop:r,defaultProp:i??!1,onChange:l,caller:Em});return m.jsx(GH,{scope:n,disabled:s,contentId:ei(),open:d,onOpenToggle:C.useCallback(()=>p(y=>!y),[p]),children:m.jsx(Ge.div,{"data-state":p_(d),"data-disabled":s?"":void 0,...u,ref:t})})});cT.displayName=Em;var uT="CollapsibleTrigger",dT=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=f_(uT,n);return m.jsx(Ge.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":p_(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:Ue(e.onClick,i.onOpenToggle)})});dT.displayName=uT;var h_="CollapsibleContent",fT=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=f_(h_,e.__scopeCollapsible);return m.jsx(jn,{present:n||i.open,children:({present:s})=>m.jsx(YH,{...r,ref:t,present:s})})});fT.displayName=h_;var YH=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,l=f_(h_,n),[u,d]=C.useState(r),p=C.useRef(null),y=ft(t,p),g=C.useRef(0),b=g.current,_=C.useRef(0),S=_.current,v=l.open||u,E=C.useRef(v),k=C.useRef(void 0);return C.useEffect(()=>{const T=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(T)},[]),un(()=>{const T=p.current;if(T){k.current=k.current||{transitionDuration:T.style.transitionDuration,animationName:T.style.animationName},T.style.transitionDuration="0s",T.style.animationName="none";const A=T.getBoundingClientRect();g.current=A.height,_.current=A.width,E.current||(T.style.transitionDuration=k.current.transitionDuration,T.style.animationName=k.current.animationName),d(r)}},[l.open,r]),m.jsx(Ge.div,{"data-state":p_(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...s,ref:y,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style},children:v&&i})});function p_(e){return e?"open":"closed"}var JH=cT;const QH=JH,XH=dT,eZ=fT;function hT(){const{nostr:e}=jr(),{logins:t,addLogin:n,removeLogin:r}=Rw();return{nsec(i){const s=nl.fromNsec(i);n(s)},async bunker(i){const s=await nl.fromBunker(i,e);n(s)},async extension(){const i=await nl.fromExtension();n(i)},async logout(){const i=t[0];i&&r(i.id)}}}const TE=e=>/^nsec1[a-zA-Z0-9]{58}$/.test(e),tZ=e=>e.startsWith("bunker://"),nZ=({isOpen:e,onClose:t,onLogin:n})=>{const[r,i]=C.useState(!1),[s,l]=C.useState(!1),[u,d]=C.useState(""),[p,y]=C.useState(""),[g,b]=C.useState({}),_=C.useRef(null),S=hT();C.useEffect(()=>{e&&(i(!1),l(!1),d(""),y(""),b({}),_.current&&(_.current.value=""))},[e]);const v=async()=>{i(!0),b(q=>({...q,extension:void 0}));try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");await S.extension(),n(),t()}catch(q){const U=q;console.error("Bunker login failed:",U),console.error("Nsec login failed:",U),console.error("Extension login failed:",U),b(V=>({...V,extension:U instanceof Error?U.message:"Extension login failed"}))}finally{i(!1)}},E=q=>{i(!0),b({}),setTimeout(()=>{try{S.nsec(q),n(),t()}catch{b({nsec:"Failed to login with this key. Please check that it's correct."}),i(!1)}},50)},k=()=>{if(!u.trim()){b(q=>({...q,nsec:"Please enter your secret key"}));return}if(!TE(u)){b(q=>({...q,nsec:"Invalid secret key format. Must be a valid nsec starting with nsec1."}));return}E(u)},T=async()=>{if(!p.trim()){b(q=>({...q,bunker:"Please enter a bunker URI"}));return}if(!tZ(p)){b(q=>({...q,bunker:"Invalid bunker URI format. Must start with bunker://"}));return}i(!0),b(q=>({...q,bunker:void 0}));try{await S.bunker(p),n(),t(),y("")}catch{b(q=>({...q,bunker:"Failed to connect to bunker. Please check the URI."}))}finally{i(!1)}},A=q=>{var $;const U=($=q.target.files)==null?void 0:$[0];if(!U)return;l(!0),b({});const V=new FileReader;V.onload=B=>{var j;l(!1);const X=(j=B.target)==null?void 0:j.result;if(X){const K=X.trim();TE(K)?E(K):b({file:"File does not contain a valid secret key."})}else b({file:"Could not read file content."})},V.onerror=()=>{l(!1),b({file:"Failed to read file."})},V.readAsText(U)},z="nostr"in window,[D,Z]=C.useState(!1),W=()=>m.jsxs(WH,{defaultValue:"key",className:"w-full",children:[m.jsxs(sT,{className:"grid w-full grid-cols-2 bg-muted/80 rounded-lg mb-4",children:[m.jsx(k0,{value:"key",className:"flex items-center gap-2",children:m.jsx("span",{children:"Secret Key"})}),m.jsx(k0,{value:"bunker",className:"flex items-center gap-2",children:m.jsx("span",{children:"Remote Signer"})})]}),m.jsx(C0,{value:"key",className:"space-y-4",children:m.jsxs("form",{onSubmit:q=>{q.preventDefault(),k()},className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(fn,{id:"nsec",type:"password",value:u,onChange:q=>{d(q.target.value),g.nsec&&b(U=>({...U,nsec:void 0}))},className:`rounded-lg ${g.nsec?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:"nsec1...",autoComplete:"off"}),g.nsec&&m.jsx("p",{className:"text-sm text-red-500",children:g.nsec})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(pt,{type:"submit",size:"lg",disabled:r||!u.trim(),className:"flex-1",children:r?"Verifying...":"Log in"}),m.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:_,onChange:A}),m.jsx(pt,{type:"button",variant:"outline",size:"lg",onClick:()=>{var q;return(q=_.current)==null?void 0:q.click()},disabled:r||s,className:"px-3",children:m.jsx(cN,{className:"w-4 h-4"})})]}),g.file&&m.jsx("p",{className:"text-sm text-red-500 text-center",children:g.file})]})}),m.jsx(C0,{value:"bunker",className:"space-y-4",children:m.jsxs("form",{onSubmit:q=>{q.preventDefault(),T()},className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(fn,{id:"bunkerUri",value:p,onChange:q=>{y(q.target.value),g.bunker&&b(U=>({...U,bunker:void 0}))},className:`rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary ${g.bunker?"border-red-500":""}`,placeholder:"bunker://",autoComplete:"off"}),g.bunker&&m.jsx("p",{className:"text-sm text-red-500",children:g.bunker})]}),m.jsx(pt,{type:"submit",size:"lg",className:"w-full",disabled:r||!p.trim(),children:r?"Connecting...":"Log in"})]})})]});return m.jsx(fl,{open:e,onOpenChange:t,children:m.jsxs(oa,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[m.jsx(wl,{className:"px-6 pt-6",children:m.jsx(a_,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:"Log in"})}),m.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),m.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto",children:[z&&m.jsxs("div",{className:"space-y-4",children:[g.extension&&m.jsxs(aT,{variant:"destructive",children:[m.jsx(Mw,{className:"h-4 w-4"}),m.jsx(lT,{children:g.extension})]}),m.jsx(pt,{className:"w-full h-12 px-9",onClick:v,disabled:r,children:r?"Logging in...":"Log in with Extension"})]}),z?m.jsxs(QH,{className:"space-y-4",open:D,onOpenChange:Z,children:[m.jsx(XH,{asChild:!0,children:m.jsxs("button",{className:"w-full flex items-center justify-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[m.jsx("span",{children:"More Options"}),m.jsx(cm,{className:`w-4 h-4 transition-transform ${D?"rotate-180":""}`})]})}),m.jsx(eZ,{children:W()})]}):W()]})]})})},Sm=C.forwardRef(({className:e,...t},n)=>m.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Sm.displayName="Textarea";function m_(){const{nostr:e}=jr(),{user:t}=gl();return W0({mutationFn:async n=>{if(t){const r=n.tags??[];location.protocol==="https:"&&!r.some(([s])=>s==="client")&&r.push(["client",location.hostname]);const i=await t.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await e.event(i,{signal:AbortSignal.timeout(5e3)}),i}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}class g_{constructor(t){Ze(this,"servers");Ze(this,"signer");Ze(this,"fetch");Ze(this,"expiresIn");this.servers=t.servers,this.signer=t.signer,this.fetch=t.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=t.expiresIn??6e4}async upload(t,n){const r=await crypto.subtle.digest("SHA-256",await t.arrayBuffer()),i=U6(new Uint8Array(r)),s=Date.now(),l=s+this.expiresIn,u=await this.signer.signEvent({kind:24242,content:`Upload ${t.name}`,created_at:Math.floor(s/1e3),tags:[["t","upload"],["x",i],["size",t.size.toString()],["expiration",Math.floor(l/1e3).toString()]]}),d=`Nostr ${q6.encodeEvent(u)}`;return Promise.any(this.servers.map(async p=>{const y=new URL("/upload",p),b=await(await this.fetch(y,{method:"PUT",body:t,headers:{authorization:d,"content-type":t.type},signal:n==null?void 0:n.signal})).json(),_=g_.schema().parse(b),S=[["url",_.url],["x",_.sha256],["ox",_.sha256],["size",_.size.toString()]];return _.type&&S.push(["m",_.type]),S}))}static schema(){return Oo({url:Lt(),sha256:Lt(),size:Co(),type:Lt().optional()})}}function pT(){const{user:e}=gl();return W0({mutationFn:async t=>{if(!e)throw new Error("Must be logged in to upload files");return await new g_({servers:["https://blossom.primal.net/"],signer:e.signer}).upload(t)}})}const rZ=({isOpen:e,onClose:t})=>{const[n,r]=C.useState("generate"),[i,s]=C.useState(""),[l,u]=C.useState(!1),[d,p]=C.useState({name:"",about:"",picture:""}),y=hT(),{mutateAsync:g,isPending:b}=m_(),{mutateAsync:_,isPending:S}=pT(),v=C.useRef(null),E=()=>{const D=tf();s(rr.nsecEncode(D)),r("download")},k=()=>{try{const D=new Blob([i],{type:"text/plain; charset=utf-8"}),Z=globalThis.URL.createObjectURL(D),W=rr.decode(i);if(W.type!=="nsec")throw new Error("Invalid nsec key");const q=Bo(W.data),U=rr.npubEncode(q),V=`nostr-${location.hostname.replaceAll(/\./g,"-")}-${U.slice(5,9)}.nsec.txt`,$=document.createElement("a");$.href=Z,$.download=V,$.style.display="none",document.body.appendChild($),$.click(),globalThis.URL.revokeObjectURL(Z),document.body.removeChild($),y.nsec(i),r("profile")}catch{vc({title:"Download failed",description:"Could not download the key file. Please copy it manually.",variant:"destructive"})}},T=async D=>{var W,q;const Z=(W=D.target.files)==null?void 0:W[0];if(Z){if(D.target.value="",!Z.type.startsWith("image/")){vc({title:"Invalid file type",description:"Please select an image file for your avatar.",variant:"destructive"});return}if(Z.size>5*1024*1024){vc({title:"File too large",description:"Avatar image must be smaller than 5MB.",variant:"destructive"});return}try{const V=(q=(await _(Z))[0])==null?void 0:q[1];V&&p($=>({...$,picture:V}))}catch{vc({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}}},A=async(D=!1)=>{try{if(!D&&(d.name||d.about||d.picture)){const Z={};d.name&&(Z.name=d.name),d.about&&(Z.about=d.about),d.picture&&(Z.picture=d.picture),await g({kind:0,content:JSON.stringify(Z)})}}catch{vc({title:"Profile Setup Failed",description:"Your account was created but profile setup failed. You can update it later.",variant:"destructive"})}finally{t()}},z=()=>{if(n==="generate")return"Sign up";if(n==="download")return"Secret Key";if(n==="profile")return"Create Your Profile"};return C.useEffect(()=>{e&&(r("generate"),s(""),u(!1),p({name:"",about:"",picture:""}))},[e]),m.jsx(fl,{open:e,onOpenChange:t,children:m.jsxs(oa,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[m.jsx(wl,{className:"px-6 pt-6",children:m.jsx(du,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:z()})}),m.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto flex-1",children:[n==="generate"&&m.jsxs("div",{className:"text-center space-y-6",children:[m.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),m.jsx(pt,{className:"w-full h-12 px-9",onClick:E,children:"Generate key"})]}),n==="download"&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex size-16 text-4xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),m.jsxs("div",{className:"relative",children:[m.jsx(fn,{type:l?"text":"password",value:i,readOnly:!0,className:"pr-10 font-mono text-sm"}),m.jsx(pt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>u(!l),children:l?m.jsx(dF,{className:"h-4 w-4 text-muted-foreground"}):m.jsx(fF,{className:"h-4 w-4 text-muted-foreground"})})]}),m.jsxs(pt,{className:"w-full h-12 px-9",onClick:k,children:[m.jsx(uF,{className:"size-4"}),"Download key"]}),m.jsx("div",{className:"mx-auto max-w-sm",children:m.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[m.jsx("div",{className:"flex items-center gap-2 mb-1",children:m.jsx("span",{className:"text-xs font-semibold text-amber-800 dark:text-amber-200",children:"Important Warning"})}),m.jsx("p",{className:"text-xs text-amber-900 dark:text-amber-300",children:"This key is your primary and only means of accessing your account. Store it safely and securely. Please download your key to continue."})]})})]}),n==="profile"&&m.jsxs("div",{className:"text-center space-y-4",children:[b&&m.jsx("div",{className:"p-4 rounded-lg bg-muted border",children:m.jsxs("div",{className:"flex items-center justify-center gap-3",children:[m.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),m.jsx("span",{className:"text-sm font-medium",children:"Publishing your profile..."})]})}),m.jsxs("div",{className:`space-y-4 text-left ${b?"opacity-50 pointer-events-none":""}`,children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"profile-name",className:"text-sm font-medium",children:"Display Name"}),m.jsx(fn,{id:"profile-name",value:d.name,onChange:D=>p(Z=>({...Z,name:D.target.value})),placeholder:"Your name",disabled:b})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"profile-about",className:"text-sm font-medium",children:"Bio"}),m.jsx(Sm,{id:"profile-about",value:d.about,onChange:D=>p(Z=>({...Z,about:D.target.value})),placeholder:"Tell others about yourself...",className:"resize-none",rows:3,disabled:b})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"profile-picture",className:"text-sm font-medium",children:"Avatar"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(fn,{id:"profile-picture",value:d.picture,onChange:D=>p(Z=>({...Z,picture:D.target.value})),placeholder:"https://example.com/your-avatar.jpg",className:"flex-1",disabled:b}),m.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:v,onChange:T}),m.jsx(pt,{type:"button",variant:"outline",size:"icon",onClick:()=>{var D;return(D=v.current)==null?void 0:D.click()},disabled:S||b,title:"Upload avatar image",children:S?m.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):m.jsx(cN,{className:"w-4 h-4"})})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(pt,{className:"w-full",onClick:()=>A(!1),disabled:b||S,children:b?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):"Create profile"}),m.jsx(pt,{variant:"outline",className:"w-full",onClick:()=>A(!0),disabled:b||S,children:b?"Setting up account...":"Skip for now"})]})]})]})]})})};function mT(){const{nostr:e}=jr(),{logins:t,setLogin:n,removeLogin:r}=Rw(),{data:i=[]}=Gi({queryKey:["nostr","logins",t.map(u=>u.id).join(";")],queryFn:async({signal:u})=>{const d=await e.query([{kinds:[0],authors:t.map(p=>p.pubkey)}],{signal:AbortSignal.any([u,AbortSignal.timeout(1500)])});return t.map(({id:p,pubkey:y})=>{const g=d.find(b=>b.pubkey===y);try{const b=kt.json().pipe(kt.metadata()).parse(g==null?void 0:g.content);return{id:p,pubkey:y,metadata:b,event:g}}catch{return{id:p,pubkey:y,metadata:{},event:g}}})},retry:3}),s=(()=>{const u=t[0];if(!u)return;const d=i.find(p=>p.id===u.id);return{metadata:{},...d,id:u.id,pubkey:u.pubkey}})(),l=(i||[]).slice(1);return{authors:i,currentUser:s,otherUsers:l,setLogin:n,removeLogin:r}}var N0=["Enter"," "],iZ=["ArrowDown","PageUp","Home"],gT=["ArrowUp","PageDown","End"],oZ=[...iZ,...gT],sZ={ltr:[...N0,"ArrowRight"],rtl:[...N0,"ArrowLeft"]},aZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ff="Menu",[Ud,lZ,cZ]=rf(ff),[xl,yT]=Pn(ff,[cZ,cu,fu]),km=cu(),vT=fu(),[uZ,bl]=xl(ff),[dZ,hf]=xl(ff),wT=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:l=!0}=e,u=km(t),[d,p]=C.useState(null),y=C.useRef(!1),g=ln(s),b=_l(i);return C.useEffect(()=>{const _=()=>{y.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>y.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),m.jsx(qw,{...u,children:m.jsx(uZ,{scope:t,open:n,onOpenChange:g,content:d,onContentChange:p,children:m.jsx(dZ,{scope:t,onClose:C.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:b,modal:l,children:r})})})};wT.displayName=ff;var fZ="MenuAnchor",y_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=km(n);return m.jsx(Kw,{...i,...r,ref:t})});y_.displayName=fZ;var v_="MenuPortal",[hZ,_T]=xl(v_,{forceMount:void 0}),xT=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=bl(v_,t);return m.jsx(hZ,{scope:t,forceMount:n,children:m.jsx(jn,{present:n||s.open,children:m.jsx(of,{asChild:!0,container:i,children:r})})})};xT.displayName=v_;var ti="MenuContent",[pZ,w_]=xl(ti),bT=C.forwardRef((e,t)=>{const n=_T(ti,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=bl(ti,e.__scopeMenu),l=hf(ti,e.__scopeMenu);return m.jsx(Ud.Provider,{scope:e.__scopeMenu,children:m.jsx(jn,{present:r||s.open,children:m.jsx(Ud.Slot,{scope:e.__scopeMenu,children:l.modal?m.jsx(mZ,{...i,ref:t}):m.jsx(gZ,{...i,ref:t})})})})}),mZ=C.forwardRef((e,t)=>{const n=bl(ti,e.__scopeMenu),r=C.useRef(null),i=ft(t,r);return C.useEffect(()=>{const s=r.current;if(s)return i_(s)},[]),m.jsx(__,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ue(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),gZ=C.forwardRef((e,t)=>{const n=bl(ti,e.__scopeMenu);return m.jsx(__,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yZ=cl("MenuContent.ScrollLock"),__=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:b,onDismiss:_,disableOutsideScroll:S,...v}=e,E=bl(ti,n),k=hf(ti,n),T=km(n),A=vT(n),z=lZ(n),[D,Z]=C.useState(null),W=C.useRef(null),q=ft(t,W,E.onContentChange),U=C.useRef(0),V=C.useRef(""),$=C.useRef(0),B=C.useRef(null),X=C.useRef("right"),j=C.useRef(0),K=S?_m:C.Fragment,oe=S?{as:yZ,allowPinchZoom:!0}:void 0,ie=ee=>{var Pe,Te;const le=V.current+ee,H=z().filter(Oe=>!Oe.disabled),Q=document.activeElement,ke=(Pe=H.find(Oe=>Oe.ref.current===Q))==null?void 0:Pe.textValue,_e=H.map(Oe=>Oe.textValue),ve=TZ(_e,le,ke),Ie=(Te=H.find(Oe=>Oe.textValue===ve))==null?void 0:Te.ref.current;(function Oe(He){V.current=He,window.clearTimeout(U.current),He!==""&&(U.current=window.setTimeout(()=>Oe(""),1e3))})(le),Ie&&setTimeout(()=>Ie.focus())};C.useEffect(()=>()=>window.clearTimeout(U.current),[]),r_();const te=C.useCallback(ee=>{var H,Q;return X.current===((H=B.current)==null?void 0:H.side)&&RZ(ee,(Q=B.current)==null?void 0:Q.area)},[]);return m.jsx(pZ,{scope:n,searchRef:V,onItemEnter:C.useCallback(ee=>{te(ee)&&ee.preventDefault()},[te]),onItemLeave:C.useCallback(ee=>{var le;te(ee)||((le=W.current)==null||le.focus(),Z(null))},[te]),onTriggerLeave:C.useCallback(ee=>{te(ee)&&ee.preventDefault()},[te]),pointerGraceTimerRef:$,onPointerGraceIntentChange:C.useCallback(ee=>{B.current=ee},[]),children:m.jsx(K,{...oe,children:m.jsx(vm,{asChild:!0,trapped:i,onMountAutoFocus:Ue(s,ee=>{var le;ee.preventDefault(),(le=W.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:m.jsx(ou,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:b,onDismiss:_,children:m.jsx(c_,{asChild:!0,...A,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:Z,onEntryFocus:Ue(d,ee=>{k.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(Gw,{role:"menu","aria-orientation":"vertical","data-state":DT(E.open),"data-radix-menu-content":"",dir:k.dir,...T,...v,ref:q,style:{outline:"none",...v.style},onKeyDown:Ue(v.onKeyDown,ee=>{const H=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,Q=ee.ctrlKey||ee.altKey||ee.metaKey,ke=ee.key.length===1;H&&(ee.key==="Tab"&&ee.preventDefault(),!Q&&ke&&ie(ee.key));const _e=W.current;if(ee.target!==_e||!oZ.includes(ee.key))return;ee.preventDefault();const Ie=z().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);gT.includes(ee.key)&&Ie.reverse(),NZ(Ie)}),onBlur:Ue(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(U.current),V.current="")}),onPointerMove:Ue(e.onPointerMove,$d(ee=>{const le=ee.target,H=j.current!==ee.clientX;if(ee.currentTarget.contains(le)&&H){const Q=ee.clientX>j.current?"right":"left";X.current=Q,j.current=ee.clientX}}))})})})})})})});bT.displayName=ti;var vZ="MenuGroup",x_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(Ge.div,{role:"group",...r,ref:t})});x_.displayName=vZ;var wZ="MenuLabel",ET=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(Ge.div,{...r,ref:t})});ET.displayName=wZ;var jp="MenuItem",AE="menu.itemSelect",Cm=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=C.useRef(null),l=hf(jp,e.__scopeMenu),u=w_(jp,e.__scopeMenu),d=ft(t,s),p=C.useRef(!1),y=()=>{const g=s.current;if(!n&&g){const b=new CustomEvent(AE,{bubbles:!0,cancelable:!0});g.addEventListener(AE,_=>r==null?void 0:r(_),{once:!0}),Iw(g,b),b.defaultPrevented?p.current=!1:l.onClose()}};return m.jsx(ST,{...i,ref:d,disabled:n,onClick:Ue(e.onClick,y),onPointerDown:g=>{var b;(b=e.onPointerDown)==null||b.call(e,g),p.current=!0},onPointerUp:Ue(e.onPointerUp,g=>{var b;p.current||(b=g.currentTarget)==null||b.click()}),onKeyDown:Ue(e.onKeyDown,g=>{const b=u.searchRef.current!=="";n||b&&g.key===" "||N0.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Cm.displayName=jp;var ST=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,l=w_(jp,n),u=vT(n),d=C.useRef(null),p=ft(t,d),[y,g]=C.useState(!1),[b,_]=C.useState("");return C.useEffect(()=>{const S=d.current;S&&_((S.textContent??"").trim())},[s.children]),m.jsx(Ud.ItemSlot,{scope:n,disabled:r,textValue:i??b,children:m.jsx(u_,{asChild:!0,...u,focusable:!r,children:m.jsx(Ge.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:p,onPointerMove:Ue(e.onPointerMove,$d(S=>{r?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ue(e.onPointerLeave,$d(S=>l.onItemLeave(S))),onFocus:Ue(e.onFocus,()=>g(!0)),onBlur:Ue(e.onBlur,()=>g(!1))})})})}),_Z="MenuCheckboxItem",kT=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return m.jsx(AT,{scope:e.__scopeMenu,checked:n,children:m.jsx(Cm,{role:"menuitemcheckbox","aria-checked":Lp(n)?"mixed":n,...i,ref:t,"data-state":E_(n),onSelect:Ue(i.onSelect,()=>r==null?void 0:r(Lp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});kT.displayName=_Z;var CT="MenuRadioGroup",[xZ,bZ]=xl(CT,{value:void 0,onValueChange:()=>{}}),NT=C.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=ln(r);return m.jsx(xZ,{scope:e.__scopeMenu,value:n,onValueChange:s,children:m.jsx(x_,{...i,ref:t})})});NT.displayName=CT;var PT="MenuRadioItem",TT=C.forwardRef((e,t)=>{const{value:n,...r}=e,i=bZ(PT,e.__scopeMenu),s=n===i.value;return m.jsx(AT,{scope:e.__scopeMenu,checked:s,children:m.jsx(Cm,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":E_(s),onSelect:Ue(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,n)},{checkForDefaultPrevented:!1})})})});TT.displayName=PT;var b_="MenuItemIndicator",[AT,EZ]=xl(b_,{checked:!1}),RT=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=EZ(b_,n);return m.jsx(jn,{present:r||Lp(s.checked)||s.checked===!0,children:m.jsx(Ge.span,{...i,ref:t,"data-state":E_(s.checked)})})});RT.displayName=b_;var SZ="MenuSeparator",IT=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(Ge.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});IT.displayName=SZ;var kZ="MenuArrow",jT=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=km(n);return m.jsx(Yw,{...i,...r,ref:t})});jT.displayName=kZ;var CZ="MenuSub",[QK,LT]=xl(CZ),_d="MenuSubTrigger",OT=C.forwardRef((e,t)=>{const n=bl(_d,e.__scopeMenu),r=hf(_d,e.__scopeMenu),i=LT(_d,e.__scopeMenu),s=w_(_d,e.__scopeMenu),l=C.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=s,p={__scopeMenu:e.__scopeMenu},y=C.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return C.useEffect(()=>y,[y]),C.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),d(null)}},[u,d]),m.jsx(y_,{asChild:!0,...p,children:m.jsx(ST,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":DT(n.open),...e,ref:sm(t,i.onTriggerChange),onClick:g=>{var b;(b=e.onClick)==null||b.call(e,g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ue(e.onPointerMove,$d(g=>{s.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:Ue(e.onPointerLeave,$d(g=>{var _,S;y();const b=(_=n.content)==null?void 0:_.getBoundingClientRect();if(b){const v=(S=n.content)==null?void 0:S.dataset.side,E=v==="right",k=E?-5:5,T=b[E?"left":"right"],A=b[E?"right":"left"];s.onPointerGraceIntentChange({area:[{x:g.clientX+k,y:g.clientY},{x:T,y:b.top},{x:A,y:b.top},{x:A,y:b.bottom},{x:T,y:b.bottom}],side:v}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(g),g.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ue(e.onKeyDown,g=>{var _;const b=s.searchRef.current!=="";e.disabled||b&&g.key===" "||sZ[r.dir].includes(g.key)&&(n.onOpenChange(!0),(_=n.content)==null||_.focus(),g.preventDefault())})})})});OT.displayName=_d;var MT="MenuSubContent",zT=C.forwardRef((e,t)=>{const n=_T(ti,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=bl(ti,e.__scopeMenu),l=hf(ti,e.__scopeMenu),u=LT(MT,e.__scopeMenu),d=C.useRef(null),p=ft(t,d);return m.jsx(Ud.Provider,{scope:e.__scopeMenu,children:m.jsx(jn,{present:r||s.open,children:m.jsx(Ud.Slot,{scope:e.__scopeMenu,children:m.jsx(__,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var g;l.isUsingKeyboardRef.current&&((g=d.current)==null||g.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Ue(e.onFocusOutside,y=>{y.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ue(e.onEscapeKeyDown,y=>{l.onClose(),y.preventDefault()}),onKeyDown:Ue(e.onKeyDown,y=>{var _;const g=y.currentTarget.contains(y.target),b=aZ[l.dir].includes(y.key);g&&b&&(s.onOpenChange(!1),(_=u.trigger)==null||_.focus(),y.preventDefault())})})})})})});zT.displayName=MT;function DT(e){return e?"open":"closed"}function Lp(e){return e==="indeterminate"}function E_(e){return Lp(e)?"indeterminate":e?"checked":"unchecked"}function NZ(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function PZ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function TZ(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=PZ(e,Math.max(s,0));i.length===1&&(l=l.filter(p=>p!==n));const d=l.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function AZ(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s],d=t[l],p=u.x,y=u.y,g=d.x,b=d.y;y>r!=b>r&&n<(g-p)*(r-y)/(b-y)+p&&(i=!i)}return i}function RZ(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return AZ(n,t)}function $d(e){return t=>t.pointerType==="mouse"?e(t):void 0}var IZ=wT,jZ=y_,LZ=xT,OZ=bT,MZ=x_,zZ=ET,DZ=Cm,BZ=kT,FZ=NT,UZ=TT,$Z=RT,HZ=IT,ZZ=jT,WZ=OT,VZ=zT,Nm="DropdownMenu",[qZ,XK]=Pn(Nm,[yT]),ir=yT(),[KZ,BT]=qZ(Nm),FT=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:l,modal:u=!0}=e,d=ir(t),p=C.useRef(null),[y,g]=ni({prop:i,defaultProp:s??!1,onChange:l,caller:Nm});return m.jsx(KZ,{scope:t,triggerId:ei(),triggerRef:p,contentId:ei(),open:y,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(b=>!b),[g]),modal:u,children:m.jsx(IZ,{...d,open:y,onOpenChange:g,dir:r,modal:u,children:n})})};FT.displayName=Nm;var UT="DropdownMenuTrigger",$T=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=BT(UT,n),l=ir(n);return m.jsx(jZ,{asChild:!0,...l,children:m.jsx(Ge.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:sm(t,s.triggerRef),onPointerDown:Ue(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:Ue(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});$T.displayName=UT;var GZ="DropdownMenuPortal",HT=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ir(t);return m.jsx(LZ,{...r,...n})};HT.displayName=GZ;var ZT="DropdownMenuContent",WT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=BT(ZT,n),s=ir(n),l=C.useRef(!1);return m.jsx(OZ,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:Ue(e.onCloseAutoFocus,u=>{var d;l.current||(d=i.triggerRef.current)==null||d.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Ue(e.onInteractOutside,u=>{const d=u.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,y=d.button===2||p;(!i.modal||y)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WT.displayName=ZT;var YZ="DropdownMenuGroup",JZ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ir(n);return m.jsx(MZ,{...i,...r,ref:t})});JZ.displayName=YZ;var QZ="DropdownMenuLabel",VT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ir(n);return m.jsx(zZ,{...i,...r,ref:t})});VT.displayName=QZ;var XZ="DropdownMenuItem",qT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ir(n);return m.jsx(DZ,{...i,...r,ref:t})});qT.displayName=XZ;var eW="DropdownMenuCheckboxItem",KT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ir(n);return m.jsx(BZ,{...i,...r,ref:t})});KT.displayName=eW;var tW="DropdownMenuRadioGroup",nW=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ir(n);return m.jsx(FZ,{...i,...r,ref:t})});nW.displayName=tW;var rW="DropdownMenuRadioItem",GT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ir(n);return m.jsx(UZ,{...i,...r,ref:t})});GT.displayName=rW;var iW="DropdownMenuItemIndicator",YT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ir(n);return m.jsx($Z,{...i,...r,ref:t})});YT.displayName=iW;var oW="DropdownMenuSeparator",JT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ir(n);return m.jsx(HZ,{...i,...r,ref:t})});JT.displayName=oW;var sW="DropdownMenuArrow",aW=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ir(n);return m.jsx(ZZ,{...i,...r,ref:t})});aW.displayName=sW;var lW="DropdownMenuSubTrigger",QT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ir(n);return m.jsx(WZ,{...i,...r,ref:t})});QT.displayName=lW;var cW="DropdownMenuSubContent",XT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ir(n);return m.jsx(VZ,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XT.displayName=cW;var uW=FT,dW=$T,fW=HT,eA=WT,tA=VT,nA=qT,rA=KT,iA=GT,oA=YT,sA=JT,aA=QT,lA=XT;const hW=uW,pW=dW,mW=C.forwardRef(({className:e,inset:t,children:n,...r},i)=>m.jsxs(aA,{ref:i,className:We("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,m.jsx(iF,{className:"ml-auto h-4 w-4"})]}));mW.displayName=aA.displayName;const gW=C.forwardRef(({className:e,...t},n)=>m.jsx(lA,{ref:n,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));gW.displayName=lA.displayName;const cA=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>m.jsx(fW,{children:m.jsx(eA,{ref:r,sideOffset:t,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));cA.displayName=eA.displayName;const lp=C.forwardRef(({className:e,inset:t,...n},r)=>m.jsx(nA,{ref:r,className:We("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));lp.displayName=nA.displayName;const yW=C.forwardRef(({className:e,children:t,checked:n,...r},i)=>m.jsxs(rA,{ref:i,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(oA,{children:m.jsx(sN,{className:"h-4 w-4"})})}),t]}));yW.displayName=rA.displayName;const vW=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(iA,{ref:r,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(oA,{children:m.jsx(aN,{className:"h-2 w-2 fill-current"})})}),t]}));vW.displayName=iA.displayName;const wW=C.forwardRef(({className:e,inset:t,...n},r)=>m.jsx(tA,{ref:r,className:We("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));wW.displayName=tA.displayName;const uA=C.forwardRef(({className:e,...t},n)=>m.jsx(sA,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",e),...t}));uA.displayName=sA.displayName;var qy={exports:{}},Ky={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function _W(){if(RE)return Ky;RE=1;var e=Fp();function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,b){var _=b(),S=r({inst:{value:_,getSnapshot:b}}),v=S[0].inst,E=S[1];return s(function(){v.value=_,v.getSnapshot=b,d(v)&&E({inst:v})},[g,_,b]),i(function(){return d(v)&&E({inst:v}),g(function(){d(v)&&E({inst:v})})},[g]),l(_),_}function d(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!n(g,_)}catch{return!0}}function p(g,b){return b()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return Ky.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,Ky}var IE;function xW(){return IE||(IE=1,qy.exports=_W()),qy.exports}var bW=xW();function EW(){return bW.useSyncExternalStore(SW,()=>!0,()=>!1)}function SW(){return()=>{}}var S_="Avatar",[kW,eG]=Pn(S_),[CW,dA]=kW(S_),fA=C.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=C.useState("idle");return m.jsx(CW,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:m.jsx(Ge.span,{...r,ref:t})})});fA.displayName=S_;var hA="AvatarImage",pA=C.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,l=dA(hA,n),u=NW(r,s),d=ln(p=>{i(p),l.onImageLoadingStatusChange(p)});return un(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?m.jsx(Ge.img,{...s,ref:t,src:r}):null});pA.displayName=hA;var mA="AvatarFallback",gA=C.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=dA(mA,n),[l,u]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&s.imageLoadingStatus!=="loaded"?m.jsx(Ge.span,{...i,ref:t}):null});gA.displayName=mA;function jE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function NW(e,{referrerPolicy:t,crossOrigin:n}){const r=EW(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[l,u]=C.useState(()=>jE(s,e));return un(()=>{u(jE(s,e))},[s,e]),un(()=>{const d=g=>()=>{u(g)};if(!s)return;const p=d("loaded"),y=d("error");return s.addEventListener("load",p),s.addEventListener("error",y),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",p),s.removeEventListener("error",y)}},[s,n,t]),l}var yA=fA,vA=pA,wA=gA;const Hd=C.forwardRef(({className:e,...t},n)=>m.jsx(yA,{ref:n,className:We("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Hd.displayName=yA.displayName;const Zd=C.forwardRef(({className:e,...t},n)=>m.jsx(vA,{ref:n,className:We("aspect-square h-full w-full object-cover",e),...t}));Zd.displayName=vA.displayName;const Wd=C.forwardRef(({className:e,...t},n)=>m.jsx(wA,{ref:n,className:We("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Wd.displayName=wA.displayName;function Pm(e){const t=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let l=0;l<e.length;l++){const u=e.charCodeAt(l);r=(r<<5)-r+u,r=r&r}const i=Math.abs(r)%t.length,s=Math.abs(r>>8)%n.length;return[t[i],n[s]].join(" ")}function PW({onAddAccountClick:e}){const{currentUser:t,otherUsers:n,setLogin:r,removeLogin:i}=mT();if(!t)return null;const s=l=>l.metadata.name??Pm(l.pubkey);return m.jsxs(hW,{modal:!1,children:[m.jsx(pW,{asChild:!0,children:m.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[m.jsxs(Hd,{className:"w-10 h-10",children:[m.jsx(Zd,{src:t.metadata.picture,alt:s(t)}),m.jsx(Wd,{children:s(t).charAt(0)})]}),m.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:m.jsx("p",{className:"font-medium text-sm truncate",children:s(t)})}),m.jsx(cm,{className:"w-4 h-4 text-muted-foreground"})]})}),m.jsxs(cA,{className:"w-56 p-2 animate-scale-in",children:[m.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(l=>{var u;return m.jsxs(lp,{onClick:()=>r(l.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[m.jsxs(Hd,{className:"w-8 h-8",children:[m.jsx(Zd,{src:l.metadata.picture,alt:s(l)}),m.jsx(Wd,{children:((u=s(l))==null?void 0:u.charAt(0))||m.jsx(SF,{})})]}),m.jsx("div",{className:"flex-1 truncate",children:m.jsx("p",{className:"text-sm font-medium",children:s(l)})}),l.id===t.id&&m.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},l.id)}),m.jsx(uA,{}),m.jsxs(lp,{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[m.jsx(EF,{className:"w-4 h-4"}),m.jsx("span",{children:"Add another account"})]}),m.jsxs(lp,{onClick:()=>i(t.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[m.jsx(vF,{className:"w-4 h-4"}),m.jsx("span",{children:"Log out"})]})]})]})}function P0({className:e}){const{currentUser:t}=mT(),[n,r]=C.useState(!1),[i,s]=C.useState(!1),l=()=>{r(!1),s(!1)};return m.jsxs("div",{className:We("inline-flex items-center justify-center",e),children:[t?m.jsx(PW,{onAddAccountClick:()=>r(!0)}):m.jsxs("div",{className:"flex gap-3 justify-center",children:[m.jsx(pt,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:m.jsx("span",{className:"truncate",children:"Log in"})}),m.jsx(pt,{onClick:()=>s(!0),variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all",children:m.jsx("span",{children:"Sign up"})})]}),m.jsx(nZ,{isOpen:n,onClose:()=>r(!1),onLogin:l}),m.jsx(rZ,{isOpen:i,onClose:()=>s(!1)})]})}function TW(){const e=vl(),t=n=>e.pathname===n;return m.jsx("nav",{className:"border-b bg-background/80 backdrop-blur sticky top-0 z-50",children:m.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx(Wn,{to:"/",className:"text-xl font-bold tracking-tight",children:"DeadDropstr"}),m.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[m.jsx(pt,{asChild:!0,variant:t("/")?"secondary":"ghost",size:"sm",children:m.jsxs(Wn,{to:"/",children:[m.jsx(pF,{className:"h-4 w-4 mr-1"}),"Home"]})}),m.jsx(pt,{asChild:!0,variant:t("/marketplace")?"secondary":"ghost",size:"sm",children:m.jsxs(Wn,{to:"/marketplace",children:[m.jsx(Ld,{className:"h-4 w-4 mr-1"}),"Marketplace"]})}),m.jsx(pt,{asChild:!0,variant:t("/dashboard")?"secondary":"ghost",size:"sm",children:m.jsxs(Wn,{to:"/dashboard",children:[m.jsx(l0,{className:"h-4 w-4 mr-1"}),"Dashboard"]})}),m.jsx(pt,{asChild:!0,variant:t("/messages")?"secondary":"ghost",size:"sm",children:m.jsxs(Wn,{to:"/messages",children:[m.jsx(lN,{className:"h-4 w-4 mr-1"}),"Messages"]})})]})]}),m.jsx(P0,{className:"max-w-60"})]})})}function AW(e,t={},n){e.use(C3);function r(l){if(l._flatMeta)return l;const{title:u,titleTemplate:d,...p}=l||{};return{title:u,titleTemplate:d,_flatMeta:p}}const i=e.push(r(t),n),s=i.patch;return i.__patched||(i.patch=l=>s(r(l)),i.__patched=!0),i}function RW(){const e=C.useContext(Y2);if(!e)throw new Error("useHead() was called without provide context.");return e}function IW(e,t,n){const r=t.head||RW(),[i]=C.useState(()=>n(r,e,t));return C.useEffect(()=>{i.patch(e)},[e]),C.useEffect(()=>()=>{i.dispose()},[]),i}function hu(e={},t={}){return IW(e,t,AW)}function k_(e){if(e.kind!==30402)return null;const t=A=>{var z;return(z=e.tags.find(([D])=>D===A))==null?void 0:z[1]};if(!(A=>e.tags.filter(([z])=>z===A).map(([,z])=>z))("t").includes("locker"))return null;const i=t("d");if(!i)return null;const s=t("title")||"Unnamed Locker",l=t("status")||"available",u=t("g")||"",d=t("location"),p=e.tags.find(([A])=>A==="price"),y=p&&parseInt(p[1])||0,g=(p==null?void 0:p[2])||"SATS",b=t("dimensions"),_=parseInt(t("overdue-fee")||"0"),S=parseInt(t("overdue-days")||"7"),v=t("proxy-mode")==="true",E=parseInt(t("proxy-fee")||"0"),k=parseInt(t("abandon-days")||"30"),T=e.tags.filter(([A])=>A==="image").map(([,A])=>A);return{id:e.id,pubkey:e.pubkey,dTag:i,title:s,description:e.content,status:l,geohash:u,location:d,price:y,currency:g,dimensions:b,overdueFee:_,overdueDays:S,proxyMode:v,proxyFee:E,abandonDays:k,images:T,createdAt:e.created_at,event:e}}function jW(e){const t=[["d",crypto.randomUUID()],["title",e.title],["t","locker"],["t","dead-drop"],["g",e.geohash],["price",e.baseFee.toString(),"SATS"],["status","available"],["dimensions",e.dimensions],["overdue-fee",e.overdueFee.toString()],["overdue-days",e.overdueDays.toString()],["proxy-mode",e.proxyMode.toString()],["abandon-days",e.abandonDays.toString()]];return e.location&&t.push(["location",e.location]),e.proxyMode&&e.proxyFee>0&&t.push(["proxy-fee",e.proxyFee.toString()]),t}function LW(e){const{nostr:t}=jr();return Gi({queryKey:["trust-score",e],queryFn:async()=>{if(!e)return null;const n=await t.query([{kinds:[7],"#p":[e],limit:500},{kinds:[9735],"#p":[e],limit:200}]);let r=0,i=0,s=0;for(const p of n)p.kind===7?p.content.trim()==="-"?i++:r++:p.kind===9735&&(s+=1e3);const l=Math.floor(s/1e3),u=r+i,d=u>0?Math.round((r+l)/(u+l)*100):50;return{pubkey:e,positiveReactions:r,negativeReactions:i,zapsSats:s,totalReactions:u,score:d}},enabled:!!e,staleTime:6e4})}const Mt=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Mt.displayName="Card";const Vn=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",e),...t}));Vn.displayName="CardHeader";const gr=C.forwardRef(({className:e,...t},n)=>m.jsx("h3",{ref:n,className:We("text-2xl font-semibold leading-none tracking-tight",e),...t}));gr.displayName="CardTitle";const Ro=C.forwardRef(({className:e,...t},n)=>m.jsx("p",{ref:n,className:We("text-sm text-muted-foreground",e),...t}));Ro.displayName="CardDescription";const qt=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:We("p-6 pt-0",e),...t}));qt.displayName="CardContent";const _A=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",e),...t}));_A.displayName="CardFooter";function OW(){const{nostr:e}=jr(),{user:t}=gl(),{toast:n}=ru();return W0({mutationFn:async({recipientPubkey:r,lockerId:i,paymentPreimage:s,rentalInvoice:l})=>{if(!t)throw new Error("User is not logged in");if(!t.signer.nip44)throw new Error("NIP-44 encryption not available. Please use a signer that supports NIP-44.");const u=Math.floor(Date.now()/1e3),d=E=>{const T=-Math.floor(Math.random()*172800);return E+T},p={action:"unlock",locker_id:i,payment_preimage:s,rental_invoice:l},y={kind:14,pubkey:t.pubkey,created_at:u,tags:[["p",r]],content:JSON.stringify(p)},g={kind:13,pubkey:t.pubkey,created_at:u,tags:[],content:await t.signer.nip44.encrypt(r,JSON.stringify(y))},b=tf(),_=new jd(b),S=await _.nip44.encrypt(r,JSON.stringify(g)),v=await _.signEvent({kind:1059,created_at:d(u),tags:[["p",r]],content:S});return await e.event(v),v},onSuccess:()=>{n({title:"Unlock command sent",description:"The encrypted unlock command has been published to the network."})},onError:r=>{console.error("[UnlockCommand] Failed to send:",r),n({title:"Failed to send unlock command",description:r.message,variant:"destructive"})}})}const MW=af("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Cn({className:e,variant:t,...n}){return m.jsx("div",{className:We(MW({variant:t}),e),...n})}var C_="Progress",N_=100,[zW,tG]=Pn(C_),[DW,BW]=zW(C_),xA=C.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=FW,...l}=e;(i||i===0)&&!LE(i)&&console.error(UW(`${i}`,"Progress"));const u=LE(i)?i:N_;r!==null&&!OE(r,u)&&console.error($W(`${r}`,"Progress"));const d=OE(r,u)?r:null,p=Op(d)?s(d,u):void 0;return m.jsx(DW,{scope:n,value:d,max:u,children:m.jsx(Ge.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Op(d)?d:void 0,"aria-valuetext":p,role:"progressbar","data-state":SA(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});xA.displayName=C_;var bA="ProgressIndicator",EA=C.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=BW(bA,n);return m.jsx(Ge.div,{"data-state":SA(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});EA.displayName=bA;function FW(e,t){return`${Math.round(e/t*100)}%`}function SA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Op(e){return typeof e=="number"}function LE(e){return Op(e)&&!isNaN(e)&&e>0}function OE(e,t){return Op(e)&&!isNaN(e)&&e<=t&&e>=0}function UW(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${N_}\`.`}function $W(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${N_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var kA=xA,HW=EA;const CA=C.forwardRef(({className:e,value:t,...n},r)=>m.jsx(kA,{ref:r,className:We("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:m.jsx(HW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));CA.displayName=kA.displayName;var gc={},Gy,ME;function ZW(){return ME||(ME=1,Gy=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Gy}var Yy={},js={},zE;function El(){if(zE)return js;zE=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return js.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},js.getSymbolTotalCodewords=function(r){return t[r]},js.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},js.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},js.isKanjiModeEnabled=function(){return typeof e<"u"},js.toSJIS=function(r){return e(r)},js}var Jy={},DE;function P_(){return DE||(DE=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}}(Jy)),Jy}var Qy,BE;function WW(){if(BE)return Qy;BE=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Qy=e,Qy}var Xy,FE;function VW(){if(FE)return Xy;FE=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,i){const s=t*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},Xy=e,Xy}var ev={},UE;function qW(){return UE||(UE=1,function(e){const t=El().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),l=s===145?26:Math.ceil((s-13)/(2*i-2))*2,u=[s-7];for(let d=1;d<i-1;d++)u[d]=u[d-1]-l;return u.push(6),u.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),l=s.length;for(let u=0;u<l;u++)for(let d=0;d<l;d++)u===0&&d===0||u===0&&d===l-1||u===l-1&&d===0||i.push([s[u],s[d]]);return i}}(ev)),ev}var tv={},$E;function KW(){if($E)return tv;$E=1;const e=El().getSymbolSize,t=7;return tv.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},tv}var nv={},HE;function GW(){return HE||(HE=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let l=0,u=0,d=0,p=null,y=null;for(let g=0;g<s;g++){u=d=0,p=y=null;for(let b=0;b<s;b++){let _=i.get(g,b);_===p?u++:(u>=5&&(l+=t.N1+(u-5)),p=_,u=1),_=i.get(b,g),_===y?d++:(d>=5&&(l+=t.N1+(d-5)),y=_,d=1)}u>=5&&(l+=t.N1+(u-5)),d>=5&&(l+=t.N1+(d-5))}return l},e.getPenaltyN2=function(i){const s=i.size;let l=0;for(let u=0;u<s-1;u++)for(let d=0;d<s-1;d++){const p=i.get(u,d)+i.get(u,d+1)+i.get(u+1,d)+i.get(u+1,d+1);(p===4||p===0)&&l++}return l*t.N2},e.getPenaltyN3=function(i){const s=i.size;let l=0,u=0,d=0;for(let p=0;p<s;p++){u=d=0;for(let y=0;y<s;y++)u=u<<1&2047|i.get(p,y),y>=10&&(u===1488||u===93)&&l++,d=d<<1&2047|i.get(y,p),y>=10&&(d===1488||d===93)&&l++}return l*t.N3},e.getPenaltyN4=function(i){let s=0;const l=i.data.length;for(let d=0;d<l;d++)s+=i.data[d];return Math.abs(Math.ceil(s*100/l/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const l=s.size;for(let u=0;u<l;u++)for(let d=0;d<l;d++)s.isReserved(d,u)||s.xor(d,u,n(i,d,u))},e.getBestMask=function(i,s){const l=Object.keys(e.Patterns).length;let u=0,d=1/0;for(let p=0;p<l;p++){s(p),e.applyMask(p,i);const y=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(p,i),y<d&&(d=y,u=p)}return u}}(nv)),nv}var Yh={},ZE;function NA(){if(ZE)return Yh;ZE=1;const e=P_(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Yh.getBlocksCount=function(i,s){switch(s){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},Yh.getTotalCodewordsCount=function(i,s){switch(s){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},Yh}var rv={},md={},WE;function YW(){if(WE)return md;WE=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]}(),md.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},md.exp=function(r){return e[r]},md.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},md}var VE;function JW(){return VE||(VE=1,function(e){const t=YW();e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let l=0;l<r.length;l++)for(let u=0;u<i.length;u++)s[l+u]^=t.mul(r[l],i[u]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const l=s[0];for(let d=0;d<i.length;d++)s[d]^=t.mul(i[d],l);let u=0;for(;u<s.length&&s[u]===0;)u++;s=s.slice(u)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}}(rv)),rv}var iv,qE;function QW(){if(qE)return iv;qE=1;const e=JW();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=e.mod(i,this.genPoly),l=this.degree-s.length;if(l>0){const u=new Uint8Array(this.degree);return u.set(s,l),u}return s},iv=t,iv}var ov={},sv={},av={},KE;function PA(){return KE||(KE=1,av.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),av}var Ui={},GE;function TA(){if(GE)return Ui;GE=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Ui.KANJI=new RegExp(n,"g"),Ui.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ui.BYTE=new RegExp(r,"g"),Ui.NUMERIC=new RegExp(e,"g"),Ui.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+e+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ui.testKanji=function(d){return i.test(d)},Ui.testNumeric=function(d){return s.test(d)},Ui.testAlphanumeric=function(d){return l.test(d)},Ui}var YE;function Sl(){return YE||(YE=1,function(e){const t=PA(),n=TA();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,l){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?s.ccBits[0]:l<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,l){if(e.isValid(s))return s;try{return r(s)}catch{return l}}}(sv)),sv}var JE;function XW(){return JE||(JE=1,function(e){const t=El(),n=NA(),r=P_(),i=Sl(),s=PA(),l=7973,u=t.getBCHDigit(l);function d(b,_,S){for(let v=1;v<=40;v++)if(_<=e.getCapacity(v,S,b))return v}function p(b,_){return i.getCharCountIndicator(b,_)+4}function y(b,_){let S=0;return b.forEach(function(v){const E=p(v.mode,_);S+=E+v.getBitsLength()}),S}function g(b,_){for(let S=1;S<=40;S++)if(y(b,S)<=e.getCapacity(S,_,i.MIXED))return S}e.from=function(_,S){return s.isValid(_)?parseInt(_,10):S},e.getCapacity=function(_,S,v){if(!s.isValid(_))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=i.BYTE);const E=t.getSymbolTotalCodewords(_),k=n.getTotalCodewordsCount(_,S),T=(E-k)*8;if(v===i.MIXED)return T;const A=T-p(v,_);switch(v){case i.NUMERIC:return Math.floor(A/10*3);case i.ALPHANUMERIC:return Math.floor(A/11*2);case i.KANJI:return Math.floor(A/13);case i.BYTE:default:return Math.floor(A/8)}},e.getBestVersionForData=function(_,S){let v;const E=r.from(S,r.M);if(Array.isArray(_)){if(_.length>1)return g(_,E);if(_.length===0)return 1;v=_[0]}else v=_;return d(v.mode,v.getLength(),E)},e.getEncodedBits=function(_){if(!s.isValid(_)||_<7)throw new Error("Invalid QR Code version");let S=_<<12;for(;t.getBCHDigit(S)-u>=0;)S^=l<<t.getBCHDigit(S)-u;return _<<12|S}}(ov)),ov}var lv={},QE;function eV(){if(QE)return lv;QE=1;const e=El(),t=1335,n=21522,r=e.getBCHDigit(t);return lv.getEncodedBits=function(s,l){const u=s.bit<<3|l;let d=u<<10;for(;e.getBCHDigit(d)-r>=0;)d^=t<<e.getBCHDigit(d)-r;return(u<<10|d)^n},lv}var cv={},uv,XE;function tV(){if(XE)return uv;XE=1;const e=Sl();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,s,l;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),l=parseInt(s,10),r.put(l,10);const u=this.data.length-i;u>0&&(s=this.data.substr(i),l=parseInt(s,10),r.put(l,u*3+1))},uv=t,uv}var dv,e2;function nV(){if(e2)return dv;e2=1;const e=Sl(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let l=t.indexOf(this.data[s])*45;l+=t.indexOf(this.data[s+1]),i.put(l,11)}this.data.length%2&&i.put(t.indexOf(this.data[s]),6)},dv=n,dv}var fv,t2;function rV(){if(t2)return fv;t2=1;const e=Sl();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},fv=t,fv}var hv,n2;function iV(){if(n2)return hv;n2=1;const e=Sl(),t=El();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=t.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},hv=n,hv}var pv={exports:{}},r2;function oV(){return r2||(r2=1,function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},l={};l[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var d,p,y,g,b,_,S,v,E;!u.empty();){d=u.pop(),p=d.value,g=d.cost,b=n[p]||{};for(y in b)b.hasOwnProperty(y)&&(_=b[y],S=g+_,v=l[y],E=typeof l[y]>"u",(E||v>S)&&(l[y]=S,u.push(y,S),s[y]=p))}if(typeof i<"u"&&typeof l[i]>"u"){var k=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(k)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t}(pv)),pv.exports}var i2;function sV(){return i2||(i2=1,function(e){const t=Sl(),n=tV(),r=nV(),i=rV(),s=iV(),l=TA(),u=El(),d=oV();function p(k){return unescape(encodeURIComponent(k)).length}function y(k,T,A){const z=[];let D;for(;(D=k.exec(A))!==null;)z.push({data:D[0],index:D.index,mode:T,length:D[0].length});return z}function g(k){const T=y(l.NUMERIC,t.NUMERIC,k),A=y(l.ALPHANUMERIC,t.ALPHANUMERIC,k);let z,D;return u.isKanjiModeEnabled()?(z=y(l.BYTE,t.BYTE,k),D=y(l.KANJI,t.KANJI,k)):(z=y(l.BYTE_KANJI,t.BYTE,k),D=[]),T.concat(A,z,D).sort(function(W,q){return W.index-q.index}).map(function(W){return{data:W.data,mode:W.mode,length:W.length}})}function b(k,T){switch(T){case t.NUMERIC:return n.getBitsLength(k);case t.ALPHANUMERIC:return r.getBitsLength(k);case t.KANJI:return s.getBitsLength(k);case t.BYTE:return i.getBitsLength(k)}}function _(k){return k.reduce(function(T,A){const z=T.length-1>=0?T[T.length-1]:null;return z&&z.mode===A.mode?(T[T.length-1].data+=A.data,T):(T.push(A),T)},[])}function S(k){const T=[];for(let A=0;A<k.length;A++){const z=k[A];switch(z.mode){case t.NUMERIC:T.push([z,{data:z.data,mode:t.ALPHANUMERIC,length:z.length},{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.ALPHANUMERIC:T.push([z,{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.KANJI:T.push([z,{data:z.data,mode:t.BYTE,length:p(z.data)}]);break;case t.BYTE:T.push([{data:z.data,mode:t.BYTE,length:p(z.data)}])}}return T}function v(k,T){const A={},z={start:{}};let D=["start"];for(let Z=0;Z<k.length;Z++){const W=k[Z],q=[];for(let U=0;U<W.length;U++){const V=W[U],$=""+Z+U;q.push($),A[$]={node:V,lastCount:0},z[$]={};for(let B=0;B<D.length;B++){const X=D[B];A[X]&&A[X].node.mode===V.mode?(z[X][$]=b(A[X].lastCount+V.length,V.mode)-b(A[X].lastCount,V.mode),A[X].lastCount+=V.length):(A[X]&&(A[X].lastCount=V.length),z[X][$]=b(V.length,V.mode)+4+t.getCharCountIndicator(V.mode,T))}}D=q}for(let Z=0;Z<D.length;Z++)z[D[Z]].end=0;return{map:z,table:A}}function E(k,T){let A;const z=t.getBestModeForData(k);if(A=t.from(T,z),A!==t.BYTE&&A.bit<z.bit)throw new Error('"'+k+'" cannot be encoded with mode '+t.toString(A)+`.
 Suggested mode is: `+t.toString(z));switch(A===t.KANJI&&!u.isKanjiModeEnabled()&&(A=t.BYTE),A){case t.NUMERIC:return new n(k);case t.ALPHANUMERIC:return new r(k);case t.KANJI:return new s(k);case t.BYTE:return new i(k)}}e.fromArray=function(T){return T.reduce(function(A,z){return typeof z=="string"?A.push(E(z,null)):z.data&&A.push(E(z.data,z.mode)),A},[])},e.fromString=function(T,A){const z=g(T,u.isKanjiModeEnabled()),D=S(z),Z=v(D,A),W=d.find_path(Z.map,"start","end"),q=[];for(let U=1;U<W.length-1;U++)q.push(Z.table[W[U]].node);return e.fromArray(_(q))},e.rawSplit=function(T){return e.fromArray(g(T,u.isKanjiModeEnabled()))}}(cv)),cv}var o2;function aV(){if(o2)return Yy;o2=1;const e=El(),t=P_(),n=WW(),r=VW(),i=qW(),s=KW(),l=GW(),u=NA(),d=QW(),p=XW(),y=eV(),g=Sl(),b=sV();function _(Z,W){const q=Z.size,U=s.getPositions(W);for(let V=0;V<U.length;V++){const $=U[V][0],B=U[V][1];for(let X=-1;X<=7;X++)if(!($+X<=-1||q<=$+X))for(let j=-1;j<=7;j++)B+j<=-1||q<=B+j||(X>=0&&X<=6&&(j===0||j===6)||j>=0&&j<=6&&(X===0||X===6)||X>=2&&X<=4&&j>=2&&j<=4?Z.set($+X,B+j,!0,!0):Z.set($+X,B+j,!1,!0))}}function S(Z){const W=Z.size;for(let q=8;q<W-8;q++){const U=q%2===0;Z.set(q,6,U,!0),Z.set(6,q,U,!0)}}function v(Z,W){const q=i.getPositions(W);for(let U=0;U<q.length;U++){const V=q[U][0],$=q[U][1];for(let B=-2;B<=2;B++)for(let X=-2;X<=2;X++)B===-2||B===2||X===-2||X===2||B===0&&X===0?Z.set(V+B,$+X,!0,!0):Z.set(V+B,$+X,!1,!0)}}function E(Z,W){const q=Z.size,U=p.getEncodedBits(W);let V,$,B;for(let X=0;X<18;X++)V=Math.floor(X/3),$=X%3+q-8-3,B=(U>>X&1)===1,Z.set(V,$,B,!0),Z.set($,V,B,!0)}function k(Z,W,q){const U=Z.size,V=y.getEncodedBits(W,q);let $,B;for($=0;$<15;$++)B=(V>>$&1)===1,$<6?Z.set($,8,B,!0):$<8?Z.set($+1,8,B,!0):Z.set(U-15+$,8,B,!0),$<8?Z.set(8,U-$-1,B,!0):$<9?Z.set(8,15-$-1+1,B,!0):Z.set(8,15-$-1,B,!0);Z.set(U-8,8,1,!0)}function T(Z,W){const q=Z.size;let U=-1,V=q-1,$=7,B=0;for(let X=q-1;X>0;X-=2)for(X===6&&X--;;){for(let j=0;j<2;j++)if(!Z.isReserved(V,X-j)){let K=!1;B<W.length&&(K=(W[B]>>>$&1)===1),Z.set(V,X-j,K),$--,$===-1&&(B++,$=7)}if(V+=U,V<0||q<=V){V-=U,U=-U;break}}}function A(Z,W,q){const U=new n;q.forEach(function(j){U.put(j.mode.bit,4),U.put(j.getLength(),g.getCharCountIndicator(j.mode,Z)),j.write(U)});const V=e.getSymbolTotalCodewords(Z),$=u.getTotalCodewordsCount(Z,W),B=(V-$)*8;for(U.getLengthInBits()+4<=B&&U.put(0,4);U.getLengthInBits()%8!==0;)U.putBit(0);const X=(B-U.getLengthInBits())/8;for(let j=0;j<X;j++)U.put(j%2?17:236,8);return z(U,Z,W)}function z(Z,W,q){const U=e.getSymbolTotalCodewords(W),V=u.getTotalCodewordsCount(W,q),$=U-V,B=u.getBlocksCount(W,q),X=U%B,j=B-X,K=Math.floor(U/B),oe=Math.floor($/B),ie=oe+1,te=K-oe,ee=new d(te);let le=0;const H=new Array(B),Q=new Array(B);let ke=0;const _e=new Uint8Array(Z.buffer);for(let Oe=0;Oe<B;Oe++){const He=Oe<j?oe:ie;H[Oe]=_e.slice(le,le+He),Q[Oe]=ee.encode(H[Oe]),le+=He,ke=Math.max(ke,He)}const ve=new Uint8Array(U);let Ie=0,Pe,Te;for(Pe=0;Pe<ke;Pe++)for(Te=0;Te<B;Te++)Pe<H[Te].length&&(ve[Ie++]=H[Te][Pe]);for(Pe=0;Pe<te;Pe++)for(Te=0;Te<B;Te++)ve[Ie++]=Q[Te][Pe];return ve}function D(Z,W,q,U){let V;if(Array.isArray(Z))V=b.fromArray(Z);else if(typeof Z=="string"){let K=W;if(!K){const oe=b.rawSplit(Z);K=p.getBestVersionForData(oe,q)}V=b.fromString(Z,K||40)}else throw new Error("Invalid data");const $=p.getBestVersionForData(V,q);if(!$)throw new Error("The amount of data is too big to be stored in a QR Code");if(!W)W=$;else if(W<$)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+$+`.
`);const B=A(W,q,V),X=e.getSymbolSize(W),j=new r(X);return _(j,W),S(j),v(j,W),k(j,q,0),W>=7&&E(j,W),T(j,B),isNaN(U)&&(U=l.getBestMask(j,k.bind(null,j,q))),l.applyMask(U,j),k(j,q,U),{modules:j,version:W,errorCorrectionLevel:q,maskPattern:U,segments:V}}return Yy.create=function(W,q){if(typeof W>"u"||W==="")throw new Error("No input text");let U=t.M,V,$;return typeof q<"u"&&(U=t.from(q.errorCorrectionLevel,t.M),V=p.from(q.version),$=l.from(q.maskPattern),q.toSJISFunc&&e.setToSJISFunction(q.toSJISFunc)),D(W,V,U,$)},Yy}var mv={},gv={},s2;function AA(){return s2||(s2=1,function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:s,scale:s?4:l,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const l=i.modules.size,u=i.modules.data,d=e.getScale(l,s),p=Math.floor((l+s.margin*2)*d),y=s.margin*d,g=[s.color.light,s.color.dark];for(let b=0;b<p;b++)for(let _=0;_<p;_++){let S=(b*p+_)*4,v=s.color.light;if(b>=y&&_>=y&&b<p-y&&_<p-y){const E=Math.floor((b-y)/d),k=Math.floor((_-y)/d);v=g[u[E*l+k]?1:0]}r[S++]=v.r,r[S++]=v.g,r[S++]=v.b,r[S]=v.a}}}(gv)),gv}var a2;function lV(){return a2||(a2=1,function(e){const t=AA();function n(i,s,l){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=l,s.width=l,s.style.height=l+"px",s.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,l,u){let d=u,p=l;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),l||(p=r()),d=t.getOptions(d);const y=t.getImageWidth(s.modules.size,d),g=p.getContext("2d"),b=g.createImageData(y,y);return t.qrToImageData(b.data,s,d),n(g,p,y),g.putImageData(b,0,0),p},e.renderToDataURL=function(s,l,u){let d=u;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),d||(d={});const p=e.render(s,l,d),y=d.type||"image/png",g=d.rendererOpts||{};return p.toDataURL(y,g.quality)}}(mv)),mv}var yv={},l2;function cV(){if(l2)return yv;l2=1;const e=AA();function t(i,s){const l=i.a/255,u=s+'="'+i.hex+'"';return l<1?u+" "+s+'-opacity="'+l.toFixed(2).slice(1)+'"':u}function n(i,s,l){let u=i+s;return typeof l<"u"&&(u+=" "+l),u}function r(i,s,l){let u="",d=0,p=!1,y=0;for(let g=0;g<i.length;g++){const b=Math.floor(g%s),_=Math.floor(g/s);!b&&!p&&(p=!0),i[g]?(y++,g>0&&b>0&&i[g-1]||(u+=p?n("M",b+l,.5+_+l):n("m",d,0),d=0,p=!1),b+1<s&&i[g+1]||(u+=n("h",y),y=0)):d++}return u}return yv.render=function(s,l,u){const d=e.getOptions(l),p=s.modules.size,y=s.modules.data,g=p+d.margin*2,b=d.color.light.a?"<path "+t(d.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",_="<path "+t(d.color.dark,"stroke")+' d="'+r(y,p,d.margin)+'"/>',S='viewBox="0 0 '+g+" "+g+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+S+' shape-rendering="crispEdges">'+b+_+`</svg>
`;return typeof u=="function"&&u(null,E),E},yv}var c2;function uV(){if(c2)return gc;c2=1;const e=ZW(),t=aV(),n=lV(),r=cV();function i(s,l,u,d,p){const y=[].slice.call(arguments,1),g=y.length,b=typeof y[g-1]=="function";if(!b&&!e())throw new Error("Callback required as last argument");if(b){if(g<2)throw new Error("Too few arguments provided");g===2?(p=u,u=l,l=d=void 0):g===3&&(l.getContext&&typeof p>"u"?(p=d,d=void 0):(p=d,d=u,u=l,l=void 0))}else{if(g<1)throw new Error("Too few arguments provided");return g===1?(u=l,l=d=void 0):g===2&&!l.getContext&&(d=u,u=l,l=void 0),new Promise(function(_,S){try{const v=t.create(u,d);_(s(v,l,d))}catch(v){S(v)}})}try{const _=t.create(u,d);p(null,s(_,l,d))}catch(_){p(_)}}return gc.create=t.create,gc.toCanvas=i.bind(null,n.render),gc.toDataURL=i.bind(null,n.renderToDataURL),gc.toString=i.bind(null,function(s,l,u){return r.render(s,u)}),gc}var dV=uV();const fV=Xd(dV);function hV(e){try{const t=new URL(e.replace("nostr+walletconnect://","https://")),n=t.hostname||t.pathname.replace("//",""),r=t.searchParams.get("secret"),i=[];return t.searchParams.forEach((s,l)=>{l==="relay"&&i.push(s)}),!n||!r||i.length===0?null:{walletPubkey:n,secret:r,relays:i}}catch{return null}}function pV(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.slice(n*2,n*2+2),16);return t}function mV({connectionString:e,onPaymentReceived:t,enabled:n=!0}){const{nostr:r}=jr(),[i,s]=C.useState(!1),[l,u]=C.useState(null),d=C.useRef(null),p=C.useRef(null),y=C.useRef(null),g=e?hV(e):null;C.useEffect(()=>{if(!(g!=null&&g.secret)){p.current=null,y.current=null;return}try{const _=pV(g.secret);p.current=new jd(_),y.current=Bo(_),console.log("[NWC Notifications] Client pubkey derived:",y.current.slice(0,16)+"...")}catch(_){console.error("[NWC Notifications] Failed to create signer from secret:",_),p.current=null,y.current=null}},[g==null?void 0:g.secret]);const b=C.useCallback(async _=>{var v;if(!((v=p.current)!=null&&v.nip44)||!(g!=null&&g.walletPubkey)||!y.current||_.pubkey!==g.walletPubkey)return;const S=_.tags.find(([E])=>E==="p");if(!(S&&S[1]!==y.current))try{let E;if(_.kind===23197&&p.current.nip44)E=await p.current.nip44.decrypt(g.walletPubkey,_.content);else if(_.kind===23196&&p.current.nip04)E=await p.current.nip04.decrypt(g.walletPubkey,_.content);else return;const k=JSON.parse(E);if(k.notification_type==="payment_received"&&k.notification){const T={type:"incoming",state:k.notification.state,invoice:k.notification.invoice,preimage:k.notification.preimage,payment_hash:k.notification.payment_hash,amount:k.notification.amount,settled_at:k.notification.settled_at};console.log("[NWC Notifications] Payment received:",T),u(T),t==null||t(T)}}catch(E){console.error("[NWC Notifications] Failed to process notification:",E)}},[g==null?void 0:g.walletPubkey,t]);return C.useEffect(()=>{if(!n||!g||!p.current||!y.current){s(!1);return}const{walletPubkey:_,relays:S}=g,v=y.current,E=r.group(S);let k=!1;return(async()=>{try{console.log("[NWC Notifications] Subscribing to relays:",S),console.log("[NWC Notifications] Filter: authors=%s, #p=%s",_.slice(0,16)+"...",v.slice(0,16)+"...");const A=E.req([{kinds:[23196,23197],authors:[_],"#p":[v],limit:50}]);k||s(!0);for await(const z of A){if(k)break;if(z[0]==="EVENT"){const D=z[2];await b(D)}else z[0]==="EOSE"&&console.log("[NWC Notifications] End of stored events, now listening for new notifications")}}catch(A){console.error("[NWC Notifications] Subscription error:",A),k||s(!1)}})(),()=>{var A;k=!0,(A=d.current)==null||A.close(),s(!1)}},[n,g,r,b]),{isConnected:i,lastNotification:l,clientPubkey:y.current}}function gV({open:e,invoice:t,amountSats:n,onClose:r,onPay:i,onSettled:s}){var q;const[l,u]=C.useState(null),[d,p]=C.useState("pending"),[y,g]=C.useState(null),[b,_]=C.useState(!1),[S,v]=C.useState(0),E=tP(),[k,T]=C.useState(!1),A=60;C.useEffect(()=>{e&&(p("pending"),g(null),_(!1),v(0))},[e]),C.useEffect(()=>{if(!t)return;let U=!0;return fV.toDataURL(t,{width:256,margin:2}).then(V=>{U&&u(V)}).catch(()=>{U&&u(null)}),()=>{U=!1}},[t]);const{isConnected:z}=mV({connectionString:((q=E.getActiveConnection())==null?void 0:q.connectionString)??null,enabled:e&&!!t,onPaymentReceived:async U=>{U.preimage&&(p("success"),g("Payment confirmed!"),s&&await s({preimage:U.preimage}),setTimeout(()=>r(),2e3))}});C.useEffect(()=>{if(!e||!t||z)return;const U=E.getActiveConnection();if(!U)return;let V=!1;const $=3e3,B=async()=>{if(!V){v(j=>j+1);try{const K=await new Dd(U.connectionString).lookupInvoice(t);if(K&&K.state==="settled"&&K.preimage){p("success"),g("Payment confirmed!"),s&&await s({preimage:K.preimage}),setTimeout(()=>{V||r()},2e3);return}}catch{}!V&&S<A?setTimeout(B,$):S>=A&&g("Waiting for payment timed out. You can still pay manually.")}},X=setTimeout(B,$);return()=>{V=!0,clearTimeout(X)}},[e,t,E,r,s,S,z]);const D=async()=>{try{await navigator.clipboard.writeText(t),_(!0),setTimeout(()=>_(!1),2e3)}catch{g("Failed to copy")}},Z=async()=>{p("paying"),g(null);try{await i(),p("success"),g("Payment successful!"),setTimeout(()=>r(),1500)}catch(U){p("error"),g((U==null?void 0:U.message)||"Payment failed")}},W=()=>{switch(d){case"pending":return m.jsxs(Cn,{variant:"secondary",className:"gap-1",children:[m.jsx(aF,{className:"h-3 w-3"})," Awaiting Payment"]});case"polling":return m.jsxs(Cn,{variant:"secondary",className:"gap-1",children:[m.jsx(Rr,{className:"h-3 w-3 animate-spin"})," Checking..."]});case"paying":return m.jsxs(Cn,{variant:"default",className:"gap-1",children:[m.jsx(Rr,{className:"h-3 w-3 animate-spin"})," Processing"]});case"success":return m.jsxs(Cn,{variant:"default",className:"gap-1 bg-green-600",children:[m.jsx(wd,{className:"h-3 w-3"})," Paid"]});case"error":return m.jsxs(Cn,{variant:"destructive",className:"gap-1",children:[m.jsx(sF,{className:"h-3 w-3"})," Failed"]})}};return m.jsx(fl,{open:e,onOpenChange:U=>{!U&&d!=="paying"&&r()},children:m.jsxs(oa,{className:"max-w-md",children:[m.jsxs(wl,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs(du,{className:"flex items-center gap-2",children:[m.jsx(u0,{className:"h-5 w-5 text-yellow-500"}),"Pay Invoice"]}),W()]}),m.jsx(uf,{children:"Scan the QR code with any Lightning wallet or pay directly."})]}),m.jsxs("div",{className:"space-y-4",children:[n&&m.jsxs("div",{className:"text-center",children:[m.jsx("span",{className:"text-3xl font-bold",children:n.toLocaleString()}),m.jsx("span",{className:"text-lg text-muted-foreground ml-2",children:"sats"})]}),m.jsx("div",{className:"flex justify-center p-4 bg-white rounded-lg",children:l?m.jsx("img",{src:l,alt:"Lightning Invoice QR",className:"w-56 h-56"}):m.jsx("div",{className:"w-56 h-56 flex items-center justify-center bg-muted rounded",children:m.jsx(Rr,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}),m.jsxs("div",{className:"relative",children:[m.jsx("textarea",{readOnly:!0,value:t,className:"w-full p-3 pr-12 rounded-lg border bg-muted/50 text-xs font-mono resize-none",rows:3}),m.jsx(pt,{size:"icon",variant:"ghost",className:"absolute right-2 top-2",onClick:D,children:b?m.jsx(wd,{className:"h-4 w-4 text-green-500"}):m.jsx(lF,{className:"h-4 w-4"})})]}),d==="pending"&&m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Rr,{className:"h-3 w-3 animate-spin"}),z?"Listening for payment...":"Waiting for payment..."]}),!z&&S>0&&m.jsxs("span",{children:[Math.floor(S/A*100),"%"]})]}),!z&&S>0&&m.jsx(CA,{value:S/A*100,className:"h-1"}),z&&m.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[m.jsx(wd,{className:"h-3 w-3"}),"Real-time notifications active"]})]}),y&&m.jsx("div",{className:`text-sm text-center p-2 rounded ${d==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":d==="error"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-muted text-muted-foreground"}`,children:y}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(pt,{variant:"outline",onClick:r,disabled:d==="paying",className:"flex-1",children:"Cancel"}),m.jsx(pt,{onClick:Z,disabled:d==="paying"||d==="success",className:"flex-1",children:d==="paying"?m.jsxs(m.Fragment,{children:[m.jsx(Rr,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):d==="success"?m.jsxs(m.Fragment,{children:[m.jsx(wd,{className:"h-4 w-4 mr-2"}),"Paid!"]}):m.jsxs(m.Fragment,{children:[m.jsx(u0,{className:"h-4 w-4 mr-2"}),"Pay Now"]})})]}),m.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Invoice will auto-detect when paid. You can also copy and pay externally."})]})]})})}function yV(){var z;const{nip19:e}=n_();hu({title:"Locker Details"});const{nostr:t}=jr(),n=tP();gl();const{mutateAsync:r}=OW(),{data:i}=Gi({queryKey:["locker-detail",e],queryFn:async()=>{if(!e)return null;const D=await t.query([{kinds:[30402],"#d":[e],limit:1}]);return!D||D.length===0?null:k_(D[0])},staleTime:6e4}),s=LW(i==null?void 0:i.pubkey),[l,u]=C.useState(!1),[d,p]=C.useState(""),[y,g]=C.useState(!1),[b,_]=C.useState(""),{connections:S,activeConnection:v,setActiveConnection:E,getActiveConnection:k}=n,T=async()=>{if(!i)return;const D=k();if(!D){p("No wallet connected. Please connect a Nostr Wallet Connect wallet first.");return}u(!0),p("");try{const Z=new Dd(D.connectionString),W=i.price*1e3,q=await Z.makeInvoice({amount:W,description:`Locker rental ${i.dTag}`});_(q.invoice),g(!0)}catch(Z){p((Z==null?void 0:Z.message)??"Failed to create invoice"),u(!1)}},A=async()=>{if(!i)throw new Error("No locker");const D=k();if(!D)throw new Error("No wallet connected");const q=(await new Dd(D.connectionString).pay(b)).preimage;return await r({recipientPubkey:i.pubkey,lockerId:i.dTag,paymentPreimage:q,rentalInvoice:b}),p("Unlock command sent via NIP-17. Locker should open shortly."),u(!1),q};return i?m.jsxs("div",{className:"container mx-auto p-6 space-y-4",children:[S.length>1&&m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Wallet"}),m.jsx("select",{className:"px-2 py-1 border rounded bg-background",value:v??"",onChange:D=>E(D.target.value),children:S.map(D=>m.jsx("option",{value:D.connectionString,children:D.alias??"NWC Wallet"},D.connectionString))})]}),m.jsxs("div",{className:"card",children:[m.jsx(Vn,{children:m.jsx(gr,{children:i.title})}),m.jsxs(qt,{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:i.location||i.geohash}),m.jsxs("p",{className:"mt-2",children:["Dimensions: ",i.dimensions]}),m.jsxs("p",{children:["Fee: ",i.price," sats"]}),m.jsxs("p",{children:["Owner: ",i.pubkey]}),m.jsxs("p",{children:["Trust Score: ",((z=s==null?void 0:s.data)==null?void 0:z.score)??""]}),m.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:i.description})]})]}),m.jsx("div",{children:m.jsxs(Mt,{children:[m.jsx(Vn,{children:m.jsx(gr,{children:"Rent this Locker"})}),m.jsxs(qt,{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"This will create a rental invoice via your connected wallet and unlock the locker once paid."}),m.jsx(pt,{onClick:T,disabled:l,className:"mt-4",children:l?"Creating invoice...":`Rent for ${i.price} sats`}),d&&m.jsx("p",{className:"mt-2 text-sm",children:d})]})]})}),m.jsx(gV,{open:y,invoice:b,onClose:()=>{g(!1),l&&u(!1)},onPay:A,onSettled:async D=>{if(!i)return;const Z=D.preimage;if(Z){try{await r({recipientPubkey:i.pubkey,lockerId:i.dTag,paymentPreimage:Z,rentalInvoice:b}),p("Unlock command sent via NIP-17. Locker should open shortly.")}catch(W){p((W==null?void 0:W.message)??"Failed to send unlock command")}u(!1)}}})]}):m.jsx("div",{className:"container mx-auto p-6",children:"Locker not found."})}var vV="Label",RA=C.forwardRef((e,t)=>m.jsx(Ge.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));RA.displayName=vV;var IA=RA;const wV=af("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rn=C.forwardRef(({className:e,...t},n)=>m.jsx(IA,{ref:n,className:We(wV(),e),...t}));Rn.displayName=IA.displayName;function Vd(e,[t,n]){return Math.min(n,Math.max(t,e))}function Tm(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var jA=["PageUp","PageDown"],LA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],OA={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},pu="Slider",[T0,_V,xV]=rf(pu),[MA,nG]=Pn(pu,[xV]),[bV,Am]=MA(pu),zA=C.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:p=[r],value:y,onValueChange:g=()=>{},onValueCommit:b=()=>{},inverted:_=!1,form:S,...v}=e,E=C.useRef(new Set),k=C.useRef(0),A=l==="horizontal"?EV:SV,[z=[],D]=ni({prop:y,defaultProp:p,onChange:$=>{var X;(X=[...E.current][k.current])==null||X.focus(),g($)}}),Z=C.useRef(z);function W($){const B=TV(z,$);V($,B)}function q($){V($,k.current)}function U(){const $=Z.current[k.current];z[k.current]!==$&&b(z)}function V($,B,{commit:X}={commit:!1}){const j=jV(s),K=LV(Math.round(($-r)/s)*s+r,j),oe=Vd(K,[r,i]);D((ie=[])=>{const te=NV(ie,oe,B);if(IV(te,d*s)){k.current=te.indexOf(oe);const ee=String(te)!==String(ie);return ee&&X&&b(te),ee?te:ie}else return ie})}return m.jsx(bV,{scope:e.__scopeSlider,name:n,disabled:u,min:r,max:i,valueIndexToChangeRef:k,thumbs:E.current,values:z,orientation:l,form:S,children:m.jsx(T0.Provider,{scope:e.__scopeSlider,children:m.jsx(T0.Slot,{scope:e.__scopeSlider,children:m.jsx(A,{"aria-disabled":u,"data-disabled":u?"":void 0,...v,ref:t,onPointerDown:Ue(v.onPointerDown,()=>{u||(Z.current=z)}),min:r,max:i,inverted:_,onSlideStart:u?void 0:W,onSlideMove:u?void 0:q,onSlideEnd:u?void 0:U,onHomeKeyDown:()=>!u&&V(r,0,{commit:!0}),onEndKeyDown:()=>!u&&V(i,z.length-1,{commit:!0}),onStepKeyDown:({event:$,direction:B})=>{if(!u){const K=jA.includes($.key)||$.shiftKey&&LA.includes($.key)?10:1,oe=k.current,ie=z[oe],te=s*K*B;V(ie+te,oe,{commit:!0})}}})})})})});zA.displayName=pu;var[DA,BA]=MA(pu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),EV=C.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:l,onSlideMove:u,onSlideEnd:d,onStepKeyDown:p,...y}=e,[g,b]=C.useState(null),_=ft(t,A=>b(A)),S=C.useRef(void 0),v=_l(i),E=v==="ltr",k=E&&!s||!E&&s;function T(A){const z=S.current||g.getBoundingClientRect(),D=[0,z.width],W=T_(D,k?[n,r]:[r,n]);return S.current=z,W(A-z.left)}return m.jsx(DA,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:m.jsx(FA,{dir:v,"data-orientation":"horizontal",...y,ref:_,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const z=T(A.clientX);l==null||l(z)},onSlideMove:A=>{const z=T(A.clientX);u==null||u(z)},onSlideEnd:()=>{S.current=void 0,d==null||d()},onStepKeyDown:A=>{const D=OA[k?"from-left":"from-right"].includes(A.key);p==null||p({event:A,direction:D?-1:1})}})})}),SV=C.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:l,onSlideEnd:u,onStepKeyDown:d,...p}=e,y=C.useRef(null),g=ft(t,y),b=C.useRef(void 0),_=!i;function S(v){const E=b.current||y.current.getBoundingClientRect(),k=[0,E.height],A=T_(k,_?[r,n]:[n,r]);return b.current=E,A(v-E.top)}return m.jsx(DA,{scope:e.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:m.jsx(FA,{"data-orientation":"vertical",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const E=S(v.clientY);s==null||s(E)},onSlideMove:v=>{const E=S(v.clientY);l==null||l(E)},onSlideEnd:()=>{b.current=void 0,u==null||u()},onStepKeyDown:v=>{const k=OA[_?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:k?-1:1})}})})}),FA=C.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:d,...p}=e,y=Am(pu,n);return m.jsx(Ge.span,{...p,ref:t,onKeyDown:Ue(e.onKeyDown,g=>{g.key==="Home"?(l(g),g.preventDefault()):g.key==="End"?(u(g),g.preventDefault()):jA.concat(LA).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:Ue(e.onPointerDown,g=>{const b=g.target;b.setPointerCapture(g.pointerId),g.preventDefault(),y.thumbs.has(b)?b.focus():r(g)}),onPointerMove:Ue(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:Ue(e.onPointerUp,g=>{const b=g.target;b.hasPointerCapture(g.pointerId)&&(b.releasePointerCapture(g.pointerId),s(g))})})}),UA="SliderTrack",$A=C.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Am(UA,n);return m.jsx(Ge.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});$A.displayName=UA;var A0="SliderRange",HA=C.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Am(A0,n),s=BA(A0,n),l=C.useRef(null),u=ft(t,l),d=i.values.length,p=i.values.map(b=>VA(b,i.min,i.max)),y=d>1?Math.min(...p):0,g=100-Math.max(...p);return m.jsx(Ge.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:u,style:{...e.style,[s.startEdge]:y+"%",[s.endEdge]:g+"%"}})});HA.displayName=A0;var R0="SliderThumb",ZA=C.forwardRef((e,t)=>{const n=_V(e.__scopeSlider),[r,i]=C.useState(null),s=ft(t,u=>i(u)),l=C.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return m.jsx(kV,{...e,ref:s,index:l})}),kV=C.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...s}=e,l=Am(R0,n),u=BA(R0,n),[d,p]=C.useState(null),y=ft(t,T=>p(T)),g=d?l.form||!!d.closest("form"):!0,b=hm(d),_=l.values[r],S=_===void 0?0:VA(_,l.min,l.max),v=PV(r,l.values.length),E=b==null?void 0:b[u.size],k=E?AV(E,S,u.direction):0;return C.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${S}% + ${k}px)`},children:[m.jsx(T0.ItemSlot,{scope:e.__scopeSlider,children:m.jsx(Ge.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":l.min,"aria-valuenow":_,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...s,ref:y,style:_===void 0?{display:"none"}:e.style,onFocus:Ue(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),g&&m.jsx(WA,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:_},r)]})});ZA.displayName=R0;var CV="RadioBubbleInput",WA=C.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=C.useRef(null),s=ft(i,r),l=Tm(t);return C.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&y){const g=new Event("input",{bubbles:!0});y.call(u,t),u.dispatchEvent(g)}},[l,t]),m.jsx(Ge.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});WA.displayName=CV;function NV(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,s)=>i-s)}function VA(e,t,n){const s=100/(n-t)*(e-t);return Vd(s,[0,100])}function PV(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function TV(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function AV(e,t,n){const r=e/2,s=T_([0,50],[0,r]);return(r-s(t)*n)*n}function RV(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function IV(e,t){if(t>0){const n=RV(e);return Math.min(...n)>=t}return!0}function T_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function jV(e){return(String(e).split(".")[1]||"").length}function LV(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var qA=zA,OV=$A,MV=HA,zV=ZA;const KA=C.forwardRef(({className:e,...t},n)=>m.jsxs(qA,{ref:n,className:We("relative flex w-full touch-none select-none items-center",e),...t,children:[m.jsx(OV,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:m.jsx(MV,{className:"absolute h-full bg-primary"})}),m.jsx(zV,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));KA.displayName=qA.displayName;function Xr({className:e,...t}){return m.jsx("div",{className:We("animate-pulse rounded-md bg-muted",e),...t})}var xd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var DV=xd.exports,u2;function BV(){return u2||(u2=1,function(e,t){(function(n,r){r(t)})(DV,function(n){var r="1.9.4";function i(a){var f,w,N,M;for(w=1,N=arguments.length;w<N;w++){M=arguments[w];for(f in M)a[f]=M[f]}return a}var s=Object.create||function(){function a(){}return function(f){return a.prototype=f,new a}}();function l(a,f){var w=Array.prototype.slice;if(a.bind)return a.bind.apply(a,w.call(arguments,1));var N=w.call(arguments,2);return function(){return a.apply(f,N.length?N.concat(w.call(arguments)):arguments)}}var u=0;function d(a){return"_leaflet_id"in a||(a._leaflet_id=++u),a._leaflet_id}function p(a,f,w){var N,M,J,ce;return ce=function(){N=!1,M&&(J.apply(w,M),M=!1)},J=function(){N?M=arguments:(a.apply(w,arguments),setTimeout(ce,f),N=!0)},J}function y(a,f,w){var N=f[1],M=f[0],J=N-M;return a===N&&w?a:((a-M)%J+J)%J+M}function g(){return!1}function b(a,f){if(f===!1)return a;var w=Math.pow(10,f===void 0?6:f);return Math.round(a*w)/w}function _(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function S(a){return _(a).split(/\s+/)}function v(a,f){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?s(a.options):{});for(var w in f)a.options[w]=f[w];return a.options}function E(a,f,w){var N=[];for(var M in a)N.push(encodeURIComponent(w?M.toUpperCase():M)+"="+encodeURIComponent(a[M]));return(!f||f.indexOf("?")===-1?"?":"&")+N.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function T(a,f){return a.replace(k,function(w,N){var M=f[N];if(M===void 0)throw new Error("No value provided for variable "+w);return typeof M=="function"&&(M=M(f)),M})}var A=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function z(a,f){for(var w=0;w<a.length;w++)if(a[w]===f)return w;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var W=0;function q(a){var f=+new Date,w=Math.max(0,16-(f-W));return W=f+w,window.setTimeout(a,w)}var U=window.requestAnimationFrame||Z("RequestAnimationFrame")||q,V=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function $(a,f,w){if(w&&U===q)a.call(f);else return U.call(window,l(a,f))}function B(a){a&&V.call(window,a)}var X={__proto__:null,extend:i,create:s,bind:l,get lastId(){return u},stamp:d,throttle:p,wrapNum:y,falseFn:g,formatNum:b,trim:_,splitWords:S,setOptions:v,getParamString:E,template:T,isArray:A,indexOf:z,emptyImageUrl:D,requestFn:U,cancelFn:V,requestAnimFrame:$,cancelAnimFrame:B};function j(){}j.extend=function(a){var f=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=f.__super__=this.prototype,N=s(w);N.constructor=f,f.prototype=N;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(f[M]=this[M]);return a.statics&&i(f,a.statics),a.includes&&(K(a.includes),i.apply(null,[N].concat(a.includes))),i(N,a),delete N.statics,delete N.includes,N.options&&(N.options=w.options?s(w.options):{},i(N.options,a.options)),N._initHooks=[],N.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var J=0,ce=N._initHooks.length;J<ce;J++)N._initHooks[J].call(this)}},f},j.include=function(a){var f=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=f,this.mergeOptions(a.options)),this},j.mergeOptions=function(a){return i(this.prototype.options,a),this},j.addInitHook=function(a){var f=Array.prototype.slice.call(arguments,1),w=typeof a=="function"?a:function(){this[a].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function K(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=A(a)?a:[a];for(var f=0;f<a.length;f++)a[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(a,f,w){if(typeof a=="object")for(var N in a)this._on(N,a[N],f);else{a=S(a);for(var M=0,J=a.length;M<J;M++)this._on(a[M],f,w)}return this},off:function(a,f,w){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var N in a)this._off(N,a[N],f);else{a=S(a);for(var M=arguments.length===1,J=0,ce=a.length;J<ce;J++)M?this._off(a[J]):this._off(a[J],f,w)}return this},_on:function(a,f,w,N){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(a,f,w)===!1){w===this&&(w=void 0);var M={fn:f,ctx:w};N&&(M.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(M)}},_off:function(a,f,w){var N,M,J;if(this._events&&(N=this._events[a],!!N)){if(arguments.length===1){if(this._firingCount)for(M=0,J=N.length;M<J;M++)N[M].fn=g;delete this._events[a];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var ce=this._listens(a,f,w);if(ce!==!1){var ge=N[ce];this._firingCount&&(ge.fn=g,this._events[a]=N=N.slice()),N.splice(ce,1)}}},fire:function(a,f,w){if(!this.listens(a,w))return this;var N=i({},f,{type:a,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var M=this._events[a];if(M){this._firingCount=this._firingCount+1||1;for(var J=0,ce=M.length;J<ce;J++){var ge=M[J],Ee=ge.fn;ge.once&&this.off(a,Ee,ge.ctx),Ee.call(ge.ctx||this,N)}this._firingCount--}}return w&&this._propagateEvent(N),this},listens:function(a,f,w,N){typeof a!="string"&&console.warn('"string" type argument expected');var M=f;typeof f!="function"&&(N=!!f,M=void 0,w=void 0);var J=this._events&&this._events[a];if(J&&J.length&&this._listens(a,M,w)!==!1)return!0;if(N){for(var ce in this._eventParents)if(this._eventParents[ce].listens(a,f,w,N))return!0}return!1},_listens:function(a,f,w){if(!this._events)return!1;var N=this._events[a]||[];if(!f)return!!N.length;w===this&&(w=void 0);for(var M=0,J=N.length;M<J;M++)if(N[M].fn===f&&N[M].ctx===w)return M;return!1},once:function(a,f,w){if(typeof a=="object")for(var N in a)this._on(N,a[N],f,!0);else{a=S(a);for(var M=0,J=a.length;M<J;M++)this._on(a[M],f,w,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[d(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[d(a)],this},_propagateEvent:function(a){for(var f in this._eventParents)this._eventParents[f].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var ie=j.extend(oe);function te(a,f,w){this.x=w?Math.round(a):a,this.y=w?Math.round(f):f}var ee=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(a){return this.clone()._add(le(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(le(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new te(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new te(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(a){a=le(a);var f=a.x-this.x,w=a.y-this.y;return Math.sqrt(f*f+w*w)},equals:function(a){return a=le(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=le(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function le(a,f,w){return a instanceof te?a:A(a)?new te(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new te(a.x,a.y):new te(a,f,w)}function H(a,f){if(a)for(var w=f?[a,f]:a,N=0,M=w.length;N<M;N++)this.extend(w[N])}H.prototype={extend:function(a){var f,w;if(!a)return this;if(a instanceof te||typeof a[0]=="number"||"x"in a)f=w=le(a);else if(a=Q(a),f=a.min,w=a.max,!f||!w)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=w.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(a){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var f,w;return typeof a[0]=="number"||a instanceof te?a=le(a):a=Q(a),a instanceof H?(f=a.min,w=a.max):f=w=a,f.x>=this.min.x&&w.x<=this.max.x&&f.y>=this.min.y&&w.y<=this.max.y},intersects:function(a){a=Q(a);var f=this.min,w=this.max,N=a.min,M=a.max,J=M.x>=f.x&&N.x<=w.x,ce=M.y>=f.y&&N.y<=w.y;return J&&ce},overlaps:function(a){a=Q(a);var f=this.min,w=this.max,N=a.min,M=a.max,J=M.x>f.x&&N.x<w.x,ce=M.y>f.y&&N.y<w.y;return J&&ce},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var f=this.min,w=this.max,N=Math.abs(f.x-w.x)*a,M=Math.abs(f.y-w.y)*a;return Q(le(f.x-N,f.y-M),le(w.x+N,w.y+M))},equals:function(a){return a?(a=Q(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Q(a,f){return!a||a instanceof H?a:new H(a,f)}function ke(a,f){if(a)for(var w=f?[a,f]:a,N=0,M=w.length;N<M;N++)this.extend(w[N])}ke.prototype={extend:function(a){var f=this._southWest,w=this._northEast,N,M;if(a instanceof ve)N=a,M=a;else if(a instanceof ke){if(N=a._southWest,M=a._northEast,!N||!M)return this}else return a?this.extend(Ie(a)||_e(a)):this;return!f&&!w?(this._southWest=new ve(N.lat,N.lng),this._northEast=new ve(M.lat,M.lng)):(f.lat=Math.min(N.lat,f.lat),f.lng=Math.min(N.lng,f.lng),w.lat=Math.max(M.lat,w.lat),w.lng=Math.max(M.lng,w.lng)),this},pad:function(a){var f=this._southWest,w=this._northEast,N=Math.abs(f.lat-w.lat)*a,M=Math.abs(f.lng-w.lng)*a;return new ke(new ve(f.lat-N,f.lng-M),new ve(w.lat+N,w.lng+M))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ve||"lat"in a?a=Ie(a):a=_e(a);var f=this._southWest,w=this._northEast,N,M;return a instanceof ke?(N=a.getSouthWest(),M=a.getNorthEast()):N=M=a,N.lat>=f.lat&&M.lat<=w.lat&&N.lng>=f.lng&&M.lng<=w.lng},intersects:function(a){a=_e(a);var f=this._southWest,w=this._northEast,N=a.getSouthWest(),M=a.getNorthEast(),J=M.lat>=f.lat&&N.lat<=w.lat,ce=M.lng>=f.lng&&N.lng<=w.lng;return J&&ce},overlaps:function(a){a=_e(a);var f=this._southWest,w=this._northEast,N=a.getSouthWest(),M=a.getNorthEast(),J=M.lat>f.lat&&N.lat<w.lat,ce=M.lng>f.lng&&N.lng<w.lng;return J&&ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,f){return a?(a=_e(a),this._southWest.equals(a.getSouthWest(),f)&&this._northEast.equals(a.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(a,f){return a instanceof ke?a:new ke(a,f)}function ve(a,f,w){if(isNaN(a)||isNaN(f))throw new Error("Invalid LatLng object: ("+a+", "+f+")");this.lat=+a,this.lng=+f,w!==void 0&&(this.alt=+w)}ve.prototype={equals:function(a,f){if(!a)return!1;a=Ie(a);var w=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return w<=(f===void 0?1e-9:f)},toString:function(a){return"LatLng("+b(this.lat,a)+", "+b(this.lng,a)+")"},distanceTo:function(a){return Te.distance(this,Ie(a))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(a){var f=180*a/40075017,w=f/Math.cos(Math.PI/180*this.lat);return _e([this.lat-f,this.lng-w],[this.lat+f,this.lng+w])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function Ie(a,f,w){return a instanceof ve?a:A(a)&&typeof a[0]!="object"?a.length===3?new ve(a[0],a[1],a[2]):a.length===2?new ve(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ve(a.lat,"lng"in a?a.lng:a.lon,a.alt):f===void 0?null:new ve(a,f,w)}var Pe={latLngToPoint:function(a,f){var w=this.projection.project(a),N=this.scale(f);return this.transformation._transform(w,N)},pointToLatLng:function(a,f){var w=this.scale(f),N=this.transformation.untransform(a,w);return this.projection.unproject(N)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var f=this.projection.bounds,w=this.scale(a),N=this.transformation.transform(f.min,w),M=this.transformation.transform(f.max,w);return new H(N,M)},infinite:!1,wrapLatLng:function(a){var f=this.wrapLng?y(a.lng,this.wrapLng,!0):a.lng,w=this.wrapLat?y(a.lat,this.wrapLat,!0):a.lat,N=a.alt;return new ve(w,f,N)},wrapLatLngBounds:function(a){var f=a.getCenter(),w=this.wrapLatLng(f),N=f.lat-w.lat,M=f.lng-w.lng;if(N===0&&M===0)return a;var J=a.getSouthWest(),ce=a.getNorthEast(),ge=new ve(J.lat-N,J.lng-M),Ee=new ve(ce.lat-N,ce.lng-M);return new ke(ge,Ee)}},Te=i({},Pe,{wrapLng:[-180,180],R:6371e3,distance:function(a,f){var w=Math.PI/180,N=a.lat*w,M=f.lat*w,J=Math.sin((f.lat-a.lat)*w/2),ce=Math.sin((f.lng-a.lng)*w/2),ge=J*J+Math.cos(N)*Math.cos(M)*ce*ce,Ee=2*Math.atan2(Math.sqrt(ge),Math.sqrt(1-ge));return this.R*Ee}}),Oe=6378137,He={R:Oe,MAX_LATITUDE:85.0511287798,project:function(a){var f=Math.PI/180,w=this.MAX_LATITUDE,N=Math.max(Math.min(w,a.lat),-w),M=Math.sin(N*f);return new te(this.R*a.lng*f,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(a){var f=180/Math.PI;return new ve((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*f,a.x*f/this.R)},bounds:function(){var a=Oe*Math.PI;return new H([-a,-a],[a,a])}()};function Qe(a,f,w,N){if(A(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=f,this._c=w,this._d=N}Qe.prototype={transform:function(a,f){return this._transform(a.clone(),f)},_transform:function(a,f){return f=f||1,a.x=f*(this._a*a.x+this._b),a.y=f*(this._c*a.y+this._d),a},untransform:function(a,f){return f=f||1,new te((a.x/f-this._b)/this._a,(a.y/f-this._d)/this._c)}};function ot(a,f,w,N){return new Qe(a,f,w,N)}var at=i({},Te,{code:"EPSG:3857",projection:He,transformation:function(){var a=.5/(Math.PI*He.R);return ot(a,.5,-a,.5)}()}),F=i({},at,{code:"EPSG:900913"});function Ne(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function be(a,f){var w="",N,M,J,ce,ge,Ee;for(N=0,J=a.length;N<J;N++){for(ge=a[N],M=0,ce=ge.length;M<ce;M++)Ee=ge[M],w+=(M?"L":"M")+Ee.x+" "+Ee.y;w+=f?nt.svg?"z":"x":""}return w||"M0 0"}var se=document.documentElement.style,re="ActiveXObject"in window,pe=re&&!document.addEventListener,Re="msLaunchUri"in navigator&&!("documentMode"in document),je=Ln("webkit"),me=Ln("android"),Be=Ln("android 2")||Ln("android 3"),qe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),De=me&&Ln("Google")&&qe<537&&!("AudioNode"in window),tt=!!window.opera,Y=!Re&&Ln("chrome"),R=Ln("gecko")&&!je&&!tt&&!re,O=!Y&&Ln("safari"),ne=Ln("phantom"),fe="OTransition"in se,xe=navigator.platform.indexOf("Win")===0,Ce=re&&"transition"in se,dt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Be,jt="MozPerspective"in se,xt=!window.L_DISABLE_3D&&(Ce||dt||jt)&&!fe&&!ne,Ct=typeof orientation<"u"||Ln("mobile"),Nt=Ct&&je,ha=Ct&&dt,Wo=!window.PointerEvent&&window.MSPointerEvent,Lr=!!(window.PointerEvent||Wo),Kn="ontouchstart"in window||!!window.TouchEvent,no=!window.L_NO_TOUCH&&(Kn||Lr),mf=Ct&&tt,gf=Ct&&R,yf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vf=function(){var a=!1;try{var f=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",g,f),window.removeEventListener("testPassiveEventSupport",g,f)}catch{}return a}(),gu=function(){return!!document.createElement("canvas").getContext}(),kl=!!(document.createElementNS&&Ne("svg").createSVGRect),pa=!!kl&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),yu=!kl&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var f=a.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),ma=navigator.platform.indexOf("Mac")===0,Dm=navigator.platform.indexOf("Linux")===0;function Ln(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var nt={ie:re,ielt9:pe,edge:Re,webkit:je,android:me,android23:Be,androidStock:De,opera:tt,chrome:Y,gecko:R,safari:O,phantom:ne,opera12:fe,win:xe,ie3d:Ce,webkit3d:dt,gecko3d:jt,any3d:xt,mobile:Ct,mobileWebkit:Nt,mobileWebkit3d:ha,msPointer:Wo,pointer:Lr,touch:no,touchNative:Kn,mobileOpera:mf,mobileGecko:gf,retina:yf,passiveEvents:vf,canvas:gu,svg:kl,vml:yu,inlineSvg:pa,mac:ma,linux:Dm},ga=nt.msPointer?"MSPointerDown":"pointerdown",Cl=nt.msPointer?"MSPointerMove":"pointermove",wf=nt.msPointer?"MSPointerUp":"pointerup",_f=nt.msPointer?"MSPointerCancel":"pointercancel",vu={touchstart:ga,touchmove:Cl,touchend:wf,touchcancel:_f},Ci={touchstart:Xt,touchmove:Nl,touchend:Nl,touchcancel:Nl},ro={},wu=!1;function Bm(a,f,w){return f==="touchstart"&&Fm(),Ci[f]?(w=Ci[f].bind(this,w),a.addEventListener(vu[f],w,!1),w):(console.warn("wrong event specified:",f),g)}function xf(a,f,w){if(!vu[f]){console.warn("wrong event specified:",f);return}a.removeEventListener(vu[f],w,!1)}function bf(a){ro[a.pointerId]=a}function Ef(a){ro[a.pointerId]&&(ro[a.pointerId]=a)}function _u(a){delete ro[a.pointerId]}function Fm(){wu||(document.addEventListener(ga,bf,!0),document.addEventListener(Cl,Ef,!0),document.addEventListener(wf,_u,!0),document.addEventListener(_f,_u,!0),wu=!0)}function Nl(a,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var w in ro)f.touches.push(ro[w]);f.changedTouches=[f],a(f)}}function Xt(a,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&en(f),Nl(a,f)}function Um(a){var f={},w,N;for(N in a)w=a[N],f[N]=w&&w.bind?w.bind(a):w;return a=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var xu=200;function Sf(a,f){a.addEventListener("dblclick",f);var w=0,N;function M(J){if(J.detail!==1){N=J.detail;return}if(!(J.pointerType==="mouse"||J.sourceCapabilities&&!J.sourceCapabilities.firesTouchEvents)){var ce=so(J);if(!(ce.some(function(Ee){return Ee instanceof HTMLLabelElement&&Ee.attributes.for})&&!ce.some(function(Ee){return Ee instanceof HTMLInputElement||Ee instanceof HTMLSelectElement}))){var ge=Date.now();ge-w<=xu?(N++,N===2&&f(Um(J))):N=1,w=ge}}}return a.addEventListener("click",M),{dblclick:f,simDblclick:M}}function Pl(a,f){a.removeEventListener("dblclick",f.dblclick),a.removeEventListener("click",f.simDblclick)}var bu=Go(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vo=Go(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ya=Vo==="webkitTransition"||Vo==="OTransition"?Vo+"End":"transitionend";function wr(a){return typeof a=="string"?document.getElementById(a):a}function va(a,f){var w=a.style[f]||a.currentStyle&&a.currentStyle[f];if((!w||w==="auto")&&document.defaultView){var N=document.defaultView.getComputedStyle(a,null);w=N?N[f]:null}return w==="auto"?null:w}function yt(a,f,w){var N=document.createElement(a);return N.className=f||"",w&&w.appendChild(N),N}function Zt(a){var f=a.parentNode;f&&f.removeChild(a)}function Tl(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function qo(a){var f=a.parentNode;f&&f.lastChild!==a&&f.appendChild(a)}function si(a){var f=a.parentNode;f&&f.firstChild!==a&&f.insertBefore(a,f.firstChild)}function Ko(a,f){if(a.classList!==void 0)return a.classList.contains(f);var w=Al(a);return w.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(w)}function gt(a,f){if(a.classList!==void 0)for(var w=S(f),N=0,M=w.length;N<M;N++)a.classList.add(w[N]);else if(!Ko(a,f)){var J=Al(a);Eu(a,(J?J+" ":"")+f)}}function $t(a,f){a.classList!==void 0?a.classList.remove(f):Eu(a,_((" "+Al(a)+" ").replace(" "+f+" "," ")))}function Eu(a,f){a.className.baseVal===void 0?a.className=f:a.className.baseVal=f}function Al(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function On(a,f){"opacity"in a.style?a.style.opacity=f:"filter"in a.style&&kf(a,f)}function kf(a,f){var w=!1,N="DXImageTransform.Microsoft.Alpha";try{w=a.filters.item(N)}catch{if(f===1)return}f=Math.round(f*100),w?(w.Enabled=f!==100,w.Opacity=f):a.style.filter+=" progid:"+N+"(opacity="+f+")"}function Go(a){for(var f=document.documentElement.style,w=0;w<a.length;w++)if(a[w]in f)return a[w];return!1}function _r(a,f,w){var N=f||new te(0,0);a.style[bu]=(nt.ie3d?"translate("+N.x+"px,"+N.y+"px)":"translate3d("+N.x+"px,"+N.y+"px,0)")+(w?" scale("+w+")":"")}function on(a,f){a._leaflet_pos=f,nt.any3d?_r(a,f):(a.style.left=f.x+"px",a.style.top=f.y+"px")}function ai(a){return a._leaflet_pos||new te(0,0)}var Pt,Yo,Rl;if("onselectstart"in document)Pt=function(){ht(window,"selectstart",en)},Yo=function(){Bt(window,"selectstart",en)};else{var io=Go(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pt=function(){if(io){var a=document.documentElement.style;Rl=a[io],a[io]="none"}},Yo=function(){io&&(document.documentElement.style[io]=Rl,Rl=void 0)}}function Il(){ht(window,"dragstart",en)}function jl(){Bt(window,"dragstart",en)}var wa,_a;function Jo(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(xr(),wa=a,_a=a.style.outlineStyle,a.style.outlineStyle="none",ht(window,"keydown",xr))}function xr(){wa&&(wa.style.outlineStyle=_a,wa=void 0,_a=void 0,Bt(window,"keydown",xr))}function li(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Or(a){var f=a.getBoundingClientRect();return{x:f.width/a.offsetWidth||1,y:f.height/a.offsetHeight||1,boundingClientRect:f}}var xa={__proto__:null,TRANSFORM:bu,TRANSITION:Vo,TRANSITION_END:ya,get:wr,getStyle:va,create:yt,remove:Zt,empty:Tl,toFront:qo,toBack:si,hasClass:Ko,addClass:gt,removeClass:$t,setClass:Eu,getClass:Al,setOpacity:On,testProp:Go,setTransform:_r,setPosition:on,getPosition:ai,get disableTextSelection(){return Pt},get enableTextSelection(){return Yo},disableImageDrag:Il,enableImageDrag:jl,preventOutline:Jo,restoreOutline:xr,getSizedParentNode:li,getScale:Or};function ht(a,f,w,N){if(f&&typeof f=="object")for(var M in f)ku(a,M,f[M],w);else{f=S(f);for(var J=0,ce=f.length;J<ce;J++)ku(a,f[J],w,N)}return this}var yn="_leaflet_events";function Bt(a,f,w,N){if(arguments.length===1)Su(a),delete a[yn];else if(f&&typeof f=="object")for(var M in f)Ll(a,M,f[M],w);else if(f=S(f),arguments.length===2)Su(a,function(ge){return z(f,ge)!==-1});else for(var J=0,ce=f.length;J<ce;J++)Ll(a,f[J],w,N);return this}function Su(a,f){for(var w in a[yn]){var N=w.split(/\d/)[0];(!f||f(N))&&Ll(a,N,null,null,w)}}var oo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ku(a,f,w,N){var M=f+d(w)+(N?"_"+d(N):"");if(a[yn]&&a[yn][M])return this;var J=function(ge){return w.call(N||a,ge||window.event)},ce=J;!nt.touchNative&&nt.pointer&&f.indexOf("touch")===0?J=Bm(a,f,J):nt.touch&&f==="dblclick"?J=Sf(a,J):"addEventListener"in a?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?a.addEventListener(oo[f]||f,J,nt.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(J=function(ge){ge=ge||window.event,Sa(a,ge)&&ce(ge)},a.addEventListener(oo[f],J,!1)):a.addEventListener(f,ce,!1):a.attachEvent("on"+f,J),a[yn]=a[yn]||{},a[yn][M]=J}function Ll(a,f,w,N,M){M=M||f+d(w)+(N?"_"+d(N):"");var J=a[yn]&&a[yn][M];if(!J)return this;!nt.touchNative&&nt.pointer&&f.indexOf("touch")===0?xf(a,f,J):nt.touch&&f==="dblclick"?Pl(a,J):"removeEventListener"in a?a.removeEventListener(oo[f]||f,J,!1):a.detachEvent("on"+f,J),a[yn][M]=null}function Mr(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ol(a){return ku(a,"wheel",Mr),this}function ba(a){return ht(a,"mousedown touchstart dblclick contextmenu",Mr),a._leaflet_disable_click=!0,this}function en(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function br(a){return en(a),Mr(a),this}function so(a){if(a.composedPath)return a.composedPath();for(var f=[],w=a.target;w;)f.push(w),w=w.parentNode;return f}function Ea(a,f){if(!f)return new te(a.clientX,a.clientY);var w=Or(f),N=w.boundingClientRect;return new te((a.clientX-N.left)/w.x-f.clientLeft,(a.clientY-N.top)/w.y-f.clientTop)}var $m=nt.linux&&nt.chrome?window.devicePixelRatio:nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Cf(a){return nt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/$m:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Sa(a,f){var w=f.relatedTarget;if(!w)return!0;try{for(;w&&w!==a;)w=w.parentNode}catch{return!1}return w!==a}var Ml={__proto__:null,on:ht,off:Bt,stopPropagation:Mr,disableScrollPropagation:Ol,disableClickPropagation:ba,preventDefault:en,stop:br,getPropagationPath:so,getMousePosition:Ea,getWheelDelta:Cf,isExternalTarget:Sa,addListener:ht,removeListener:Bt},zl=ie.extend({run:function(a,f,w,N){this.stop(),this._el=a,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(N||.5,.2),this._startPos=ai(a),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(a){var f=+new Date-this._startTime,w=this._duration*1e3;f<w?this._runFrame(this._easeOut(f/w),a):(this._runFrame(1),this._complete())},_runFrame:function(a,f){var w=this._startPos.add(this._offset.multiplyBy(a));f&&w._round(),on(this._el,w),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),St=ie.extend({options:{crs:at,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,f){f=v(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(Ie(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vo&&nt.any3d&&!nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ht(this._proxy,ya,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,f,w){if(f=f===void 0?this._zoom:this._limitZoom(f),a=this._limitCenter(Ie(a),f,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=i({animate:w.animate},w.zoom),w.pan=i({animate:w.animate,duration:w.duration},w.pan));var N=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,f,w.zoom):this._tryAnimatedPan(a,w.pan);if(N)return clearTimeout(this._sizeTimer),this}return this._resetView(a,f,w.pan&&w.pan.noMoveStart),this},setZoom:function(a,f){return this._loaded?this.setView(this.getCenter(),a,{zoom:f}):(this._zoom=a,this)},zoomIn:function(a,f){return a=a||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,f)},zoomOut:function(a,f){return a=a||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,f)},setZoomAround:function(a,f,w){var N=this.getZoomScale(f),M=this.getSize().divideBy(2),J=a instanceof te?a:this.latLngToContainerPoint(a),ce=J.subtract(M).multiplyBy(1-1/N),ge=this.containerPointToLatLng(M.add(ce));return this.setView(ge,f,{zoom:w})},_getBoundsCenterZoom:function(a,f){f=f||{},a=a.getBounds?a.getBounds():_e(a);var w=le(f.paddingTopLeft||f.padding||[0,0]),N=le(f.paddingBottomRight||f.padding||[0,0]),M=this.getBoundsZoom(a,!1,w.add(N));if(M=typeof f.maxZoom=="number"?Math.min(f.maxZoom,M):M,M===1/0)return{center:a.getCenter(),zoom:M};var J=N.subtract(w).divideBy(2),ce=this.project(a.getSouthWest(),M),ge=this.project(a.getNorthEast(),M),Ee=this.unproject(ce.add(ge).divideBy(2).add(J),M);return{center:Ee,zoom:M}},fitBounds:function(a,f){if(a=_e(a),!a.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(a,f);return this.setView(w.center,w.zoom,f)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,f){return this.setView(a,this._zoom,{pan:f})},panBy:function(a,f){if(a=le(a).round(),f=f||{},!a.x&&!a.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new zl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){gt(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,w,f.duration||.25,f.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,f,w){if(w=w||{},w.animate===!1||!nt.any3d)return this.setView(a,f,w);this._stop();var N=this.project(this.getCenter()),M=this.project(a),J=this.getSize(),ce=this._zoom;a=Ie(a),f=f===void 0?ce:f;var ge=Math.max(J.x,J.y),Ee=ge*this.getZoomScale(ce,f),Le=M.distanceTo(N)||1,Ve=1.42,lt=Ve*Ve;function wt(Ot){var fs=Ot?-1:1,ng=Ot?Ee:ge,rg=Ee*Ee-ge*ge+fs*lt*lt*Le*Le,po=2*ng*lt*Le,mo=rg/po,go=Math.sqrt(mo*mo+1)-mo,Jl=go<1e-9?-18:Math.log(go);return Jl}function vn(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function pn(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}function Jn(Ot){return vn(Ot)/pn(Ot)}var zn=wt(0);function us(Ot){return ge*(pn(zn)/pn(zn+Ve*Ot))}function Vu(Ot){return ge*(pn(zn)*Jn(zn+Ve*Ot)-vn(zn))/lt}function Li(Ot){return 1-Math.pow(1-Ot,1.5)}var qf=Date.now(),ho=(wt(1)-zn)/Ve,Fr=w.duration?1e3*w.duration:1e3*ho*.8;function ds(){var Ot=(Date.now()-qf)/Fr,fs=Li(Ot)*ho;Ot<=1?(this._flyToFrame=$(ds,this),this._move(this.unproject(N.add(M.subtract(N).multiplyBy(Vu(fs)/Le)),ce),this.getScaleZoom(ge/us(fs),ce),{flyTo:!0})):this._move(a,f)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),ds.call(this),this},flyToBounds:function(a,f){var w=this._getBoundsCenterZoom(a,f);return this.flyTo(w.center,w.zoom,f)},setMaxBounds:function(a){return a=_e(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var f=this.options.minZoom;return this.options.minZoom=a,this._loaded&&f!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var f=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&f!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,f){this._enforcingBounds=!0;var w=this.getCenter(),N=this._limitCenter(w,this._zoom,_e(a));return w.equals(N)||this.panTo(N,f),this._enforcingBounds=!1,this},panInside:function(a,f){f=f||{};var w=le(f.paddingTopLeft||f.padding||[0,0]),N=le(f.paddingBottomRight||f.padding||[0,0]),M=this.project(this.getCenter()),J=this.project(a),ce=this.getPixelBounds(),ge=Q([ce.min.add(w),ce.max.subtract(N)]),Ee=ge.getSize();if(!ge.contains(J)){this._enforcingBounds=!0;var Le=J.subtract(ge.getCenter()),Ve=ge.extend(J).getSize().subtract(Ee);M.x+=Le.x<0?-Ve.x:Ve.x,M.y+=Le.y<0?-Ve.y:Ve.y,this.panTo(this.unproject(M),f),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),N=f.divideBy(2).round(),M=w.divideBy(2).round(),J=N.subtract(M);return!J.x&&!J.y?this:(a.animate&&a.pan?this.panBy(J):(a.pan&&this._rawPanBy(J),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=l(this._handleGeolocationResponse,this),w=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,w,a):navigator.geolocation.getCurrentPosition(f,w,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var f=a.code,w=a.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var f=a.coords.latitude,w=a.coords.longitude,N=new ve(f,w),M=N.toBounds(a.coords.accuracy*2),J=this._locateOptions;if(J.setView){var ce=this.getBoundsZoom(M);this.setView(N,J.maxZoom?Math.min(ce,J.maxZoom):ce)}var ge={latlng:N,bounds:M,timestamp:a.timestamp};for(var Ee in a.coords)typeof a.coords[Ee]=="number"&&(ge[Ee]=a.coords[Ee]);this.fire("locationfound",ge)}},addHandler:function(a,f){if(!f)return this;var w=this[a]=new f(this);return this._handlers.push(w),this.options[a]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Zt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Zt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,f){var w="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),N=yt("div",w,f||this._mapPane);return a&&(this._panes[a]=N),N},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),f=this.unproject(a.getBottomLeft()),w=this.unproject(a.getTopRight());return new ke(f,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,f,w){a=_e(a),w=le(w||[0,0]);var N=this.getZoom()||0,M=this.getMinZoom(),J=this.getMaxZoom(),ce=a.getNorthWest(),ge=a.getSouthEast(),Ee=this.getSize().subtract(w),Le=Q(this.project(ge,N),this.project(ce,N)).getSize(),Ve=nt.any3d?this.options.zoomSnap:1,lt=Ee.x/Le.x,wt=Ee.y/Le.y,vn=f?Math.max(lt,wt):Math.min(lt,wt);return N=this.getScaleZoom(vn,N),Ve&&(N=Math.round(N/(Ve/100))*(Ve/100),N=f?Math.ceil(N/Ve)*Ve:Math.floor(N/Ve)*Ve),Math.max(M,Math.min(J,N))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,f){var w=this._getTopLeftPoint(a,f);return new H(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,f){var w=this.options.crs;return f=f===void 0?this._zoom:f,w.scale(a)/w.scale(f)},getScaleZoom:function(a,f){var w=this.options.crs;f=f===void 0?this._zoom:f;var N=w.zoom(a*w.scale(f));return isNaN(N)?1/0:N},project:function(a,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(Ie(a),f)},unproject:function(a,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(le(a),f)},layerPointToLatLng:function(a){var f=le(a).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(a){var f=this.project(Ie(a))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ie(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(_e(a))},distance:function(a,f){return this.options.crs.distance(Ie(a),Ie(f))},containerPointToLayerPoint:function(a){return le(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return le(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var f=this.containerPointToLayerPoint(le(a));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(a)))},mouseEventToContainerPoint:function(a){return Ea(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var f=this._container=wr(a);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ht(f,"scroll",this._onScroll,this),this._containerId=d(f)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&nt.any3d,gt(a,"leaflet-container"+(nt.touch?" leaflet-touch":"")+(nt.retina?" leaflet-retina":"")+(nt.ielt9?" leaflet-oldie":"")+(nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=va(a,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),on(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(gt(a.markerPane,"leaflet-zoom-hide"),gt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,f,w){on(this._mapPane,new te(0,0));var N=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var M=this._zoom!==f;this._moveStart(M,w)._move(a,f)._moveEnd(M),this.fire("viewreset"),N&&this.fire("load")},_moveStart:function(a,f){return a&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(a,f,w,N){f===void 0&&(f=this._zoom);var M=this._zoom!==f;return this._zoom=f,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),N?w&&w.pinch&&this.fire("zoom",w):((M||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){on(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[d(this._container)]=this;var f=a?Bt:ht;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),nt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,f){for(var w=[],N,M=f==="mouseout"||f==="mouseover",J=a.target||a.srcElement,ce=!1;J;){if(N=this._targets[d(J)],N&&(f==="click"||f==="preclick")&&this._draggableMoved(N)){ce=!0;break}if(N&&N.listens(f,!0)&&(M&&!Sa(J,a)||(w.push(N),M))||J===this._container)break;J=J.parentNode}return!w.length&&!ce&&!M&&this.listens(f,!0)&&(w=[this]),w},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var f=a.target||a.srcElement;if(!(!this._loaded||f._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(f))){var w=a.type;w==="mousedown"&&Jo(f),this._fireDOMEvent(a,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,f,w){if(a.type==="click"){var N=i({},a);N.type="preclick",this._fireDOMEvent(N,N.type,w)}var M=this._findEventTargets(a,f);if(w){for(var J=[],ce=0;ce<w.length;ce++)w[ce].listens(f,!0)&&J.push(w[ce]);M=J.concat(M)}if(M.length){f==="contextmenu"&&en(a);var ge=M[0],Ee={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Le=ge.getLatLng&&(!ge._radius||ge._radius<=10);Ee.containerPoint=Le?this.latLngToContainerPoint(ge.getLatLng()):this.mouseEventToContainerPoint(a),Ee.layerPoint=this.containerPointToLayerPoint(Ee.containerPoint),Ee.latlng=Le?ge.getLatLng():this.layerPointToLatLng(Ee.layerPoint)}for(ce=0;ce<M.length;ce++)if(M[ce].fire(f,Ee,!0),Ee.originalEvent._stopped||M[ce].options.bubblingMouseEvents===!1&&z(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,f=this._handlers.length;a<f;a++)this._handlers[a].disable()},whenReady:function(a,f){return this._loaded?a.call(f||this,{target:this}):this.on("load",a,f),this},_getMapPanePos:function(){return ai(this._mapPane)||new te(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,f){var w=a&&f!==void 0?this._getNewPixelOrigin(a,f):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,f){var w=this.getSize()._divideBy(2);return this.project(a,f)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,f,w){var N=this._getNewPixelOrigin(w,f);return this.project(a,f)._subtract(N)},_latLngBoundsToNewLayerBounds:function(a,f,w){var N=this._getNewPixelOrigin(w,f);return Q([this.project(a.getSouthWest(),f)._subtract(N),this.project(a.getNorthWest(),f)._subtract(N),this.project(a.getSouthEast(),f)._subtract(N),this.project(a.getNorthEast(),f)._subtract(N)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,f,w){if(!w)return a;var N=this.project(a,f),M=this.getSize().divideBy(2),J=new H(N.subtract(M),N.add(M)),ce=this._getBoundsOffset(J,w,f);return Math.abs(ce.x)<=1&&Math.abs(ce.y)<=1?a:this.unproject(N.add(ce),f)},_limitOffset:function(a,f){if(!f)return a;var w=this.getPixelBounds(),N=new H(w.min.add(a),w.max.add(a));return a.add(this._getBoundsOffset(N,f))},_getBoundsOffset:function(a,f,w){var N=Q(this.project(f.getNorthEast(),w),this.project(f.getSouthWest(),w)),M=N.min.subtract(a.min),J=N.max.subtract(a.max),ce=this._rebound(M.x,-J.x),ge=this._rebound(M.y,-J.y);return new te(ce,ge)},_rebound:function(a,f){return a+f>0?Math.round(a-f)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(f))},_limitZoom:function(a){var f=this.getMinZoom(),w=this.getMaxZoom(),N=nt.any3d?this.options.zoomSnap:1;return N&&(a=Math.round(a/N)*N),Math.max(f,Math.min(w,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,f){var w=this._getCenterOffset(a)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,f),!0)},_createAnimProxy:function(){var a=this._proxy=yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(f){var w=bu,N=this._proxy.style[w];_r(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),N===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Zt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),f=this.getZoom();_r(this._proxy,this.project(a,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,f,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var N=this.getZoomScale(f),M=this._getCenterOffset(a)._divideBy(1-1/N);return w.animate!==!0&&!this.getSize().contains(M)?!1:($(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(a,f,!0)},this),!0)},_animateZoom:function(a,f,w,N){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=f,gt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:f,noUpdate:N}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ni(a,f){return new St(a,f)}var Gn=j.extend({options:{position:"topright"},initialize:function(a){v(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var f=this._map;return f&&f.removeControl(this),this.options.position=a,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var f=this._container=this.onAdd(a),w=this.getPosition(),N=a._controlCorners[w];return gt(f,"leaflet-control"),w.indexOf("bottom")!==-1?N.insertBefore(f,N.firstChild):N.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Zt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Pi=function(a){return new Gn(a)};St.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},f="leaflet-",w=this._controlContainer=yt("div",f+"control-container",this._container);function N(M,J){var ce=f+M+" "+f+J;a[M+J]=yt("div",ce,w)}N("top","left"),N("top","right"),N("bottom","left"),N("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Zt(this._controlCorners[a]);Zt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Cu=Gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,f,w,N){return w<N?-1:N<w?1:0}},initialize:function(a,f,w){v(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var N in a)this._addLayer(a[N],N);for(N in f)this._addLayer(f[N],N,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Gn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,f){return this._addLayer(a,f),this._map?this._update():this},addOverlay:function(a,f){return this._addLayer(a,f,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var f=this._getLayer(d(a));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){gt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(gt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):$t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",f=this._container=yt("div",a),w=this.options.collapsed;f.setAttribute("aria-haspopup",!0),ba(f),Ol(f);var N=this._section=yt("section",a+"-list");w&&(this._map.on("click",this.collapse,this),ht(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=yt("a",a+"-toggle",f);M.href="#",M.title="Layers",M.setAttribute("role","button"),ht(M,{keydown:function(J){J.keyCode===13&&this._expandSafely()},click:function(J){en(J),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=yt("div",a+"-base",N),this._separator=yt("div",a+"-separator",N),this._overlaysList=yt("div",a+"-overlays",N),f.appendChild(N)},_getLayer:function(a){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&d(this._layers[f].layer)===a)return this._layers[f]},_addLayer:function(a,f,w){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:f,overlay:w}),this.options.sortLayers&&this._layers.sort(l(function(N,M){return this.options.sortFunction(N.layer,M.layer,N.name,M.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Tl(this._baseLayersList),Tl(this._overlaysList),this._layerControlInputs=[];var a,f,w,N,M=0;for(w=0;w<this._layers.length;w++)N=this._layers[w],this._addItem(N),f=f||N.overlay,a=a||!N.overlay,M+=N.overlay?0:1;return this.options.hideSingleBase&&(a=a&&M>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=f&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var f=this._getLayer(d(a.target)),w=f.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;w&&this._map.fire(w,f)},_createRadioElement:function(a,f){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(f?' checked="checked"':"")+"/>",N=document.createElement("div");return N.innerHTML=w,N.firstChild},_addItem:function(a){var f=document.createElement("label"),w=this._map.hasLayer(a.layer),N;a.overlay?(N=document.createElement("input"),N.type="checkbox",N.className="leaflet-control-layers-selector",N.defaultChecked=w):N=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(N),N.layerId=d(a.layer),ht(N,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+a.name;var J=document.createElement("span");f.appendChild(J),J.appendChild(N),J.appendChild(M);var ce=a.overlay?this._overlaysList:this._baseLayersList;return ce.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,f,w,N=[],M=[];this._handlingClick=!0;for(var J=a.length-1;J>=0;J--)f=a[J],w=this._getLayer(f.layerId).layer,f.checked?N.push(w):f.checked||M.push(w);for(J=0;J<M.length;J++)this._map.hasLayer(M[J])&&this._map.removeLayer(M[J]);for(J=0;J<N.length;J++)this._map.hasLayer(N[J])||this._map.addLayer(N[J]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,f,w,N=this._map.getZoom(),M=a.length-1;M>=0;M--)f=a[M],w=this._getLayer(f.layerId).layer,f.disabled=w.options.minZoom!==void 0&&N<w.options.minZoom||w.options.maxZoom!==void 0&&N>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,ht(a,"click",en),this.expand();var f=this;setTimeout(function(){Bt(a,"click",en),f._preventClick=!1})}}),Dl=function(a,f,w){return new Cu(a,f,w)},Qo=Gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var f="leaflet-control-zoom",w=yt("div",f+" leaflet-bar"),N=this.options;return this._zoomInButton=this._createButton(N.zoomInText,N.zoomInTitle,f+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(N.zoomOutText,N.zoomOutTitle,f+"-out",w,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,f,w,N,M){var J=yt("a",w,N);return J.innerHTML=a,J.href="#",J.title=f,J.setAttribute("role","button"),J.setAttribute("aria-label",f),ba(J),ht(J,"click",br),ht(J,"click",M,this),ht(J,"click",this._refocusOnMap,this),J},_updateDisabled:function(){var a=this._map,f="leaflet-disabled";$t(this._zoomInButton,f),$t(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(gt(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(gt(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});St.mergeOptions({zoomControl:!0}),St.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qo,this.addControl(this.zoomControl))});var Nf=function(a){return new Qo(a)},Mn=Gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var f="leaflet-control-scale",w=yt("div",f),N=this.options;return this._addScales(N,f+"-line",w),a.on(N.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),w},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,f,w){a.metric&&(this._mScale=yt("div",f,w)),a.imperial&&(this._iScale=yt("div",f,w))},_update:function(){var a=this._map,f=a.getSize().y/2,w=a.distance(a.containerPointToLatLng([0,f]),a.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(w)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var f=this._getRoundNum(a),w=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,w,f/a)},_updateImperial:function(a){var f=a*3.2808399,w,N,M;f>5280?(w=f/5280,N=this._getRoundNum(w),this._updateScale(this._iScale,N+" mi",N/w)):(M=this._getRoundNum(f),this._updateScale(this._iScale,M+" ft",M/f))},_updateScale:function(a,f,w){a.style.width=Math.round(this.options.maxWidth*w)+"px",a.innerHTML=f},_getRoundNum:function(a){var f=Math.pow(10,(Math.floor(a)+"").length-1),w=a/f;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,f*w}}),Xo=function(a){return new Mn(a)},Nu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ao=Gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(nt.inlineSvg?Nu+" ":"")+"Leaflet</a>"},initialize:function(a){v(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=yt("div","leaflet-control-attribution"),ba(this._container);for(var f in a._layers)a._layers[f].getAttribution&&this.addAttribution(a._layers[f].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var f in this._attributions)this._attributions[f]&&a.push(f);var w=[];this.options.prefix&&w.push(this.options.prefix),a.length&&w.push(a.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});St.mergeOptions({attributionControl:!0}),St.addInitHook(function(){this.options.attributionControl&&new ao().addTo(this)});var Hm=function(a){return new ao(a)};Gn.Layers=Cu,Gn.Zoom=Qo,Gn.Scale=Mn,Gn.Attribution=ao,Pi.layers=Dl,Pi.zoom=Nf,Pi.scale=Xo,Pi.attribution=Hm;var or=j.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});or.addTo=function(a,f){return a.addHandler(f,this),this};var Pu={Events:oe},es=nt.touch?"touchstart mousedown":"mousedown",Er=ie.extend({options:{clickTolerance:3},initialize:function(a,f,w,N){v(this,N),this._element=a,this._dragStartTarget=f||a,this._preventOutline=w},enable:function(){this._enabled||(ht(this._dragStartTarget,es,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Er._dragging===this&&this.finishDrag(!0),Bt(this._dragStartTarget,es,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Ko(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Er._dragging===this&&this.finishDrag();return}if(!(Er._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Er._dragging=this,this._preventOutline&&Jo(this._element),Il(),Pt(),!this._moving)){this.fire("down");var f=a.touches?a.touches[0]:a,w=li(this._element);this._startPoint=new te(f.clientX,f.clientY),this._startPos=ai(this._element),this._parentScale=Or(w);var N=a.type==="mousedown";ht(document,N?"mousemove":"touchmove",this._onMove,this),ht(document,N?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var f=a.touches&&a.touches.length===1?a.touches[0]:a,w=new te(f.clientX,f.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,en(a),this._moved||(this.fire("dragstart"),this._moved=!0,gt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),gt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),on(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){$t(document.body,"leaflet-dragging"),this._lastTarget&&($t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bt(document,"mousemove touchmove",this._onMove,this),Bt(document,"mouseup touchend touchcancel",this._onUp,this),jl(),Yo();var f=this._moved&&this._moving;this._moving=!1,Er._dragging=!1,f&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Tu(a,f,w){var N,M=[1,4,2,8],J,ce,ge,Ee,Le,Ve,lt,wt;for(J=0,Ve=a.length;J<Ve;J++)a[J]._code=lo(a[J],f);for(ge=0;ge<4;ge++){for(lt=M[ge],N=[],J=0,Ve=a.length,ce=Ve-1;J<Ve;ce=J++)Ee=a[J],Le=a[ce],Ee._code&lt?Le._code&lt||(wt=Fl(Le,Ee,lt,f,w),wt._code=lo(wt,f),N.push(wt)):(Le._code&lt&&(wt=Fl(Le,Ee,lt,f,w),wt._code=lo(wt,f),N.push(wt)),N.push(Ee));a=N}return a}function Pf(a,f){var w,N,M,J,ce,ge,Ee,Le,Ve;if(!a||a.length===0)throw new Error("latlngs not passed");sr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var lt=Ie([0,0]),wt=_e(a),vn=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());vn<1700&&(lt=Au(a));var pn=a.length,Jn=[];for(w=0;w<pn;w++){var zn=Ie(a[w]);Jn.push(f.project(Ie([zn.lat-lt.lat,zn.lng-lt.lng])))}for(ge=Ee=Le=0,w=0,N=pn-1;w<pn;N=w++)M=Jn[w],J=Jn[N],ce=M.y*J.x-J.y*M.x,Ee+=(M.x+J.x)*ce,Le+=(M.y+J.y)*ce,ge+=ce*3;ge===0?Ve=Jn[0]:Ve=[Ee/ge,Le/ge];var us=f.unproject(le(Ve));return Ie([us.lat+lt.lat,us.lng+lt.lng])}function Au(a){for(var f=0,w=0,N=0,M=0;M<a.length;M++){var J=Ie(a[M]);f+=J.lat,w+=J.lng,N++}return Ie([f/N,w/N])}var Zm={__proto__:null,clipPolygon:Tu,polygonCenter:Pf,centroid:Au};function Bl(a,f){if(!f||!a.length)return a.slice();var w=f*f;return a=qm(a,w),a=Vm(a,w),a}function Tf(a,f,w){return Math.sqrt(co(a,f,w,!0))}function Wm(a,f,w){return co(a,f,w)}function Vm(a,f){var w=a.length,N=typeof Uint8Array<"u"?Uint8Array:Array,M=new N(w);M[0]=M[w-1]=1,Ru(a,M,f,0,w-1);var J,ce=[];for(J=0;J<w;J++)M[J]&&ce.push(a[J]);return ce}function Ru(a,f,w,N,M){var J=0,ce,ge,Ee;for(ge=N+1;ge<=M-1;ge++)Ee=co(a[ge],a[N],a[M],!0),Ee>J&&(ce=ge,J=Ee);J>w&&(f[ce]=1,Ru(a,f,w,N,ce),Ru(a,f,w,ce,M))}function qm(a,f){for(var w=[a[0]],N=1,M=0,J=a.length;N<J;N++)Km(a[N],a[M])>f&&(w.push(a[N]),M=N);return M<J-1&&w.push(a[J-1]),w}var Iu;function Af(a,f,w,N,M){var J=N?Iu:lo(a,w),ce=lo(f,w),ge,Ee,Le;for(Iu=ce;;){if(!(J|ce))return[a,f];if(J&ce)return!1;ge=J||ce,Ee=Fl(a,f,ge,w,M),Le=lo(Ee,w),ge===J?(a=Ee,J=Le):(f=Ee,ce=Le)}}function Fl(a,f,w,N,M){var J=f.x-a.x,ce=f.y-a.y,ge=N.min,Ee=N.max,Le,Ve;return w&8?(Le=a.x+J*(Ee.y-a.y)/ce,Ve=Ee.y):w&4?(Le=a.x+J*(ge.y-a.y)/ce,Ve=ge.y):w&2?(Le=Ee.x,Ve=a.y+ce*(Ee.x-a.x)/J):w&1&&(Le=ge.x,Ve=a.y+ce*(ge.x-a.x)/J),new te(Le,Ve,M)}function lo(a,f){var w=0;return a.x<f.min.x?w|=1:a.x>f.max.x&&(w|=2),a.y<f.min.y?w|=4:a.y>f.max.y&&(w|=8),w}function Km(a,f){var w=f.x-a.x,N=f.y-a.y;return w*w+N*N}function co(a,f,w,N){var M=f.x,J=f.y,ce=w.x-M,ge=w.y-J,Ee=ce*ce+ge*ge,Le;return Ee>0&&(Le=((a.x-M)*ce+(a.y-J)*ge)/Ee,Le>1?(M=w.x,J=w.y):Le>0&&(M+=ce*Le,J+=ge*Le)),ce=a.x-M,ge=a.y-J,N?ce*ce+ge*ge:new te(M,J)}function sr(a){return!A(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Rf(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),sr(a)}function If(a,f){var w,N,M,J,ce,ge,Ee,Le;if(!a||a.length===0)throw new Error("latlngs not passed");sr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ve=Ie([0,0]),lt=_e(a),wt=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());wt<1700&&(Ve=Au(a));var vn=a.length,pn=[];for(w=0;w<vn;w++){var Jn=Ie(a[w]);pn.push(f.project(Ie([Jn.lat-Ve.lat,Jn.lng-Ve.lng])))}for(w=0,N=0;w<vn-1;w++)N+=pn[w].distanceTo(pn[w+1])/2;if(N===0)Le=pn[0];else for(w=0,J=0;w<vn-1;w++)if(ce=pn[w],ge=pn[w+1],M=ce.distanceTo(ge),J+=M,J>N){Ee=(J-N)/M,Le=[ge.x-Ee*(ge.x-ce.x),ge.y-Ee*(ge.y-ce.y)];break}var zn=f.unproject(le(Le));return Ie([zn.lat+Ve.lat,zn.lng+Ve.lng])}var jf={__proto__:null,simplify:Bl,pointToSegmentDistance:Tf,closestPointOnSegment:Wm,clipSegment:Af,_getEdgeIntersection:Fl,_getBitCode:lo,_sqClosestPointOnSegment:co,isFlat:sr,_flat:Rf,polylineCenter:If},ju={project:function(a){return new te(a.lng,a.lat)},unproject:function(a){return new ve(a.y,a.x)},bounds:new H([-180,-90],[180,90])},Lu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var f=Math.PI/180,w=this.R,N=a.lat*f,M=this.R_MINOR/w,J=Math.sqrt(1-M*M),ce=J*Math.sin(N),ge=Math.tan(Math.PI/4-N/2)/Math.pow((1-ce)/(1+ce),J/2);return N=-w*Math.log(Math.max(ge,1e-10)),new te(a.lng*f*w,N)},unproject:function(a){for(var f=180/Math.PI,w=this.R,N=this.R_MINOR/w,M=Math.sqrt(1-N*N),J=Math.exp(-a.y/w),ce=Math.PI/2-2*Math.atan(J),ge=0,Ee=.1,Le;ge<15&&Math.abs(Ee)>1e-7;ge++)Le=M*Math.sin(ce),Le=Math.pow((1-Le)/(1+Le),M/2),Ee=Math.PI/2-2*Math.atan(J*Le)-ce,ce+=Ee;return new ve(ce*f,a.x*f/w)}},Gm={__proto__:null,LonLat:ju,Mercator:Lu,SphericalMercator:He},Ym=i({},Te,{code:"EPSG:3395",projection:Lu,transformation:function(){var a=.5/(Math.PI*Lu.R);return ot(a,.5,-a,.5)}()}),Lf=i({},Te,{code:"EPSG:4326",projection:ju,transformation:ot(1/180,1,-1/180,.5)}),Jm=i({},Pe,{projection:ju,transformation:ot(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,f){var w=f.lng-a.lng,N=f.lat-a.lat;return Math.sqrt(w*w+N*N)},infinite:!0});Pe.Earth=Te,Pe.EPSG3395=Ym,Pe.EPSG3857=at,Pe.EPSG900913=F,Pe.EPSG4326=Lf,Pe.Simple=Jm;var Sr=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[d(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[d(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var f=a.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var w=this.getEvents();f.on(w,this),this.once("remove",function(){f.off(w,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});St.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var f=d(a);return this._layers[f]?this:(this._layers[f]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var f=d(a);return this._layers[f]?(this._loaded&&a.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return d(a)in this._layers},eachLayer:function(a,f){for(var w in this._layers)a.call(f,this._layers[w]);return this},_addLayers:function(a){a=a?A(a)?a:[a]:[];for(var f=0,w=a.length;f<w;f++)this.addLayer(a[f])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[d(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var f=d(a);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,f=-1/0,w=this._getZoomSpan();for(var N in this._zoomBoundLayers){var M=this._zoomBoundLayers[N].options;a=M.minZoom===void 0?a:Math.min(a,M.minZoom),f=M.maxZoom===void 0?f:Math.max(f,M.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=a===1/0?void 0:a,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ti=Sr.extend({initialize:function(a,f){v(this,f),this._layers={};var w,N;if(a)for(w=0,N=a.length;w<N;w++)this.addLayer(a[w])},addLayer:function(a){var f=this.getLayerId(a);return this._layers[f]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var f=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(a){var f=typeof a=="number"?a:this.getLayerId(a);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var f=Array.prototype.slice.call(arguments,1),w,N;for(w in this._layers)N=this._layers[w],N[a]&&N[a].apply(N,f);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,f){for(var w in this._layers)a.call(f,this._layers[w]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return d(a)}}),ka=function(a,f){return new Ti(a,f)},ci=Ti.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ti.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Ti.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ke;for(var f in this._layers){var w=this._layers[f];a.extend(w.getBounds?w.getBounds():w.getLatLng())}return a}}),Of=function(a,f){return new ci(a,f)},uo=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){v(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,f){var w=this._getIconUrl(a);if(!w){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var N=this._createImg(w,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(N,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(N.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),N},_setIconStyles:function(a,f){var w=this.options,N=w[f+"Size"];typeof N=="number"&&(N=[N,N]);var M=le(N),J=le(f==="shadow"&&w.shadowAnchor||w.iconAnchor||M&&M.divideBy(2,!0));a.className="leaflet-marker-"+f+" "+(w.className||""),J&&(a.style.marginLeft=-J.x+"px",a.style.marginTop=-J.y+"px"),M&&(a.style.width=M.x+"px",a.style.height=M.y+"px")},_createImg:function(a,f){return f=f||document.createElement("img"),f.src=a,f},_getIconUrl:function(a){return nt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Mf(a){return new uo(a)}var ts=uo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ts.imagePath!="string"&&(ts.imagePath=this._detectIconPath()),(this.options.imagePath||ts.imagePath)+uo.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var f=function(w,N,M){var J=N.exec(w);return J&&J[M]};return a=f(a,/^url\((['"])?(.+)\1\)$/,2),a&&f(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=yt("div","leaflet-default-icon-path",document.body),f=va(a,"background-image")||va(a,"backgroundImage");if(document.body.removeChild(a),f=this._stripUrl(f),f)return f;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),Ou=or.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Er(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),gt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var f=this._marker,w=f._map,N=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,J=ai(f._icon),ce=w.getPixelBounds(),ge=w.getPixelOrigin(),Ee=Q(ce.min._subtract(ge).add(M),ce.max._subtract(ge).subtract(M));if(!Ee.contains(J)){var Le=le((Math.max(Ee.max.x,J.x)-Ee.max.x)/(ce.max.x-Ee.max.x)-(Math.min(Ee.min.x,J.x)-Ee.min.x)/(ce.min.x-Ee.min.x),(Math.max(Ee.max.y,J.y)-Ee.max.y)/(ce.max.y-Ee.max.y)-(Math.min(Ee.min.y,J.y)-Ee.min.y)/(ce.min.y-Ee.min.y)).multiplyBy(N);w.panBy(Le,{animate:!1}),this._draggable._newPos._add(Le),this._draggable._startPos._add(Le),on(f._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=$(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,a)))},_onDrag:function(a){var f=this._marker,w=f._shadow,N=ai(f._icon),M=f._map.layerPointToLatLng(N);w&&on(w,N),f._latlng=M,a.latlng=M,a.oldLatLng=this._oldLatLng,f.fire("move",a).fire("drag",a)},_onDragEnd:function(a){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),ui=Sr.extend({options:{icon:new ts,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,f){v(this,f),this._latlng=Ie(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var f=this._latlng;return this._latlng=Ie(a),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=a.icon.createIcon(this._icon),N=!1;w!==this._icon&&(this._icon&&this._removeIcon(),N=!0,a.title&&(w.title=a.title),w.tagName==="IMG"&&(w.alt=a.alt||"")),gt(w,f),a.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(w,"focus",this._panOnFocus,this);var M=a.icon.createShadow(this._shadow),J=!1;M!==this._shadow&&(this._removeShadow(),J=!0),M&&(gt(M,f),M.alt=""),this._shadow=M,a.opacity<1&&this._updateOpacity(),N&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&J&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(this._icon,"focus",this._panOnFocus,this),Zt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Zt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&on(this._icon,a),this._shadow&&on(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(gt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ou)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ou(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&On(this._icon,a),this._shadow&&On(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var f=this.options.icon.options,w=f.iconSize?le(f.iconSize):le(0,0),N=f.iconAnchor?le(f.iconAnchor):le(0,0);a.panInside(this._latlng,{paddingTopLeft:N,paddingBottomRight:w.subtract(N)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qm(a,f){return new ui(a,f)}var Ai=Sr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return v(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ul=Ai.extend({options:{fill:!0,radius:10},initialize:function(a,f){v(this,f),this._latlng=Ie(a),this._radius=this.options.radius},setLatLng:function(a){var f=this._latlng;return this._latlng=Ie(a),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var f=a&&a.radius||this._radius;return Ai.prototype.setStyle.call(this,a),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,f=this._radiusY||a,w=this._clickTolerance(),N=[a+w,f+w];this._pxBounds=new H(this._point.subtract(N),this._point.add(N))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function zf(a,f){return new Ul(a,f)}var $l=Ul.extend({initialize:function(a,f,w){if(typeof f=="number"&&(f=i({},w,{radius:f})),v(this,f),this._latlng=Ie(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ke(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ai.prototype.setStyle,_project:function(){var a=this._latlng.lng,f=this._latlng.lat,w=this._map,N=w.options.crs;if(N.distance===Te.distance){var M=Math.PI/180,J=this._mRadius/Te.R/M,ce=w.project([f+J,a]),ge=w.project([f-J,a]),Ee=ce.add(ge).divideBy(2),Le=w.unproject(Ee).lat,Ve=Math.acos((Math.cos(J*M)-Math.sin(f*M)*Math.sin(Le*M))/(Math.cos(f*M)*Math.cos(Le*M)))/M;(isNaN(Ve)||Ve===0)&&(Ve=J/Math.cos(Math.PI/180*f)),this._point=Ee.subtract(w.getPixelOrigin()),this._radius=isNaN(Ve)?0:Ee.x-w.project([Le,a-Ve]).x,this._radiusY=Ee.y-ce.y}else{var lt=N.unproject(N.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(lt).x}this._updateBounds()}});function Ca(a,f,w){return new $l(a,f,w)}var Yn=Ai.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,f){v(this,f),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var f=1/0,w=null,N=co,M,J,ce=0,ge=this._parts.length;ce<ge;ce++)for(var Ee=this._parts[ce],Le=1,Ve=Ee.length;Le<Ve;Le++){M=Ee[Le-1],J=Ee[Le];var lt=N(a,M,J,!0);lt<f&&(f=lt,w=N(a,M,J))}return w&&(w.distance=Math.sqrt(f)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return If(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,f){return f=f||this._defaultShape(),a=Ie(a),f.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ke,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return sr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var f=[],w=sr(a),N=0,M=a.length;N<M;N++)w?(f[N]=Ie(a[N]),this._bounds.extend(f[N])):f[N]=this._convertLatLngs(a[N]);return f},_project:function(){var a=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),f=new te(a,a);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(a,f,w){var N=a[0]instanceof ve,M=a.length,J,ce;if(N){for(ce=[],J=0;J<M;J++)ce[J]=this._map.latLngToLayerPoint(a[J]),w.extend(ce[J]);f.push(ce)}else for(J=0;J<M;J++)this._projectLatlngs(a[J],f,w)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,w,N,M,J,ce,ge,Ee;for(w=0,M=0,J=this._rings.length;w<J;w++)for(Ee=this._rings[w],N=0,ce=Ee.length;N<ce-1;N++)ge=Af(Ee[N],Ee[N+1],a,N,!0),ge&&(f[M]=f[M]||[],f[M].push(ge[0]),(ge[1]!==Ee[N+1]||N===ce-2)&&(f[M].push(ge[1]),M++))}},_simplifyPoints:function(){for(var a=this._parts,f=this.options.smoothFactor,w=0,N=a.length;w<N;w++)a[w]=Bl(a[w],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,f){var w,N,M,J,ce,ge,Ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(w=0,J=this._parts.length;w<J;w++)for(ge=this._parts[w],N=0,ce=ge.length,M=ce-1;N<ce;M=N++)if(!(!f&&N===0)&&Tf(a,ge[M],ge[N])<=Ee)return!0;return!1}});function Xm(a,f){return new Yn(a,f)}Yn._flat=Rf;var di=Yn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var f=Yn.prototype._convertLatLngs.call(this,a),w=f.length;return w>=2&&f[0]instanceof ve&&f[0].equals(f[w-1])&&f.pop(),f},_setLatLngs:function(a){Yn.prototype._setLatLngs.call(this,a),sr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return sr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,f=this.options.weight,w=new te(f,f);if(a=new H(a.min.subtract(w),a.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var N=0,M=this._rings.length,J;N<M;N++)J=Tu(this._rings[N],a,!0),J.length&&this._parts.push(J)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var f=!1,w,N,M,J,ce,ge,Ee,Le;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(J=0,Ee=this._parts.length;J<Ee;J++)for(w=this._parts[J],ce=0,Le=w.length,ge=Le-1;ce<Le;ge=ce++)N=w[ce],M=w[ge],N.y>a.y!=M.y>a.y&&a.x<(M.x-N.x)*(a.y-N.y)/(M.y-N.y)+N.x&&(f=!f);return f||Yn.prototype._containsPoint.call(this,a,!0)}});function eg(a,f){return new di(a,f)}var zr=ci.extend({initialize:function(a,f){v(this,f),this._layers={},a&&this.addData(a)},addData:function(a){var f=A(a)?a:a.features,w,N,M;if(f){for(w=0,N=f.length;w<N;w++)M=f[w],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var J=this.options;if(J.filter&&!J.filter(a))return this;var ce=ns(a,J);return ce?(ce.feature=ql(a),ce.defaultOptions=ce.options,this.resetStyle(ce),J.onEachFeature&&J.onEachFeature(a,ce),this.addLayer(ce)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(f){this._setLayerStyle(f,a)},this)},_setLayerStyle:function(a,f){a.setStyle&&(typeof f=="function"&&(f=f(a.feature)),a.setStyle(f))}});function ns(a,f){var w=a.type==="Feature"?a.geometry:a,N=w?w.coordinates:null,M=[],J=f&&f.pointToLayer,ce=f&&f.coordsToLatLng||Zl,ge,Ee,Le,Ve;if(!N&&!w)return null;switch(w.type){case"Point":return ge=ce(N),Hl(J,a,ge,f);case"MultiPoint":for(Le=0,Ve=N.length;Le<Ve;Le++)ge=ce(N[Le]),M.push(Hl(J,a,ge,f));return new ci(M);case"LineString":case"MultiLineString":return Ee=Na(N,w.type==="LineString"?0:1,ce),new Yn(Ee,f);case"Polygon":case"MultiPolygon":return Ee=Na(N,w.type==="Polygon"?1:2,ce),new di(Ee,f);case"GeometryCollection":for(Le=0,Ve=w.geometries.length;Le<Ve;Le++){var lt=ns({geometry:w.geometries[Le],type:"Feature",properties:a.properties},f);lt&&M.push(lt)}return new ci(M);case"FeatureCollection":for(Le=0,Ve=w.features.length;Le<Ve;Le++){var wt=ns(w.features[Le],f);wt&&M.push(wt)}return new ci(M);default:throw new Error("Invalid GeoJSON object.")}}function Hl(a,f,w,N){return a?a(f,w):new ui(w,N&&N.markersInheritOptions&&N)}function Zl(a){return new ve(a[1],a[0],a[2])}function Na(a,f,w){for(var N=[],M=0,J=a.length,ce;M<J;M++)ce=f?Na(a[M],f-1,w):(w||Zl)(a[M]),N.push(ce);return N}function Wl(a,f){return a=Ie(a),a.alt!==void 0?[b(a.lng,f),b(a.lat,f),b(a.alt,f)]:[b(a.lng,f),b(a.lat,f)]}function Vl(a,f,w,N){for(var M=[],J=0,ce=a.length;J<ce;J++)M.push(f?Vl(a[J],sr(a[J])?0:f-1,w,N):Wl(a[J],N));return!f&&w&&M.length>0&&M.push(M[0].slice()),M}function rs(a,f){return a.feature?i({},a.feature,{geometry:f}):ql(f)}function ql(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Mu={toGeoJSON:function(a){return rs(this,{type:"Point",coordinates:Wl(this.getLatLng(),a)})}};ui.include(Mu),$l.include(Mu),Ul.include(Mu),Yn.include({toGeoJSON:function(a){var f=!sr(this._latlngs),w=Vl(this._latlngs,f?1:0,!1,a);return rs(this,{type:(f?"Multi":"")+"LineString",coordinates:w})}}),di.include({toGeoJSON:function(a){var f=!sr(this._latlngs),w=f&&!sr(this._latlngs[0]),N=Vl(this._latlngs,w?2:f?1:0,!0,a);return f||(N=[N]),rs(this,{type:(w?"Multi":"")+"Polygon",coordinates:N})}}),Ti.include({toMultiPoint:function(a){var f=[];return this.eachLayer(function(w){f.push(w.toGeoJSON(a).geometry.coordinates)}),rs(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(a){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(a);var w=f==="GeometryCollection",N=[];return this.eachLayer(function(M){if(M.toGeoJSON){var J=M.toGeoJSON(a);if(w)N.push(J.geometry);else{var ce=ql(J);ce.type==="FeatureCollection"?N.push.apply(N,ce.features):N.push(ce)}}}),w?rs(this,{geometries:N,type:"GeometryCollection"}):{type:"FeatureCollection",features:N}}});function Df(a,f){return new zr(a,f)}var kr=Df,Ri=Sr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,f,w){this._url=a,this._bounds=_e(f),v(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(gt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Zt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&qo(this._image),this},bringToBack:function(){return this._map&&si(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=_e(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",f=this._image=a?this._url:yt("img");if(gt(f,"leaflet-image-layer"),this._zoomAnimated&&gt(f,"leaflet-zoom-animated"),this.options.className&&gt(f,this.options.className),f.onselectstart=g,f.onmousemove=g,f.onload=l(this.fire,this,"load"),f.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(a){var f=this._map.getZoomScale(a.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;_r(this._image,w,f)},_reset:function(){var a=this._image,f=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=f.getSize();on(a,f.min),a.style.width=w.x+"px",a.style.height=w.y+"px"},_updateOpacity:function(){On(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Bf=function(a,f,w){return new Ri(a,f,w)},zu=Ri.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",f=this._image=a?this._url:yt("video");if(gt(f,"leaflet-image-layer"),this._zoomAnimated&&gt(f,"leaflet-zoom-animated"),this.options.className&&gt(f,this.options.className),f.onselectstart=g,f.onmousemove=g,f.onloadeddata=l(this.fire,this,"load"),a){for(var w=f.getElementsByTagName("source"),N=[],M=0;M<w.length;M++)N.push(w[M].src);this._url=w.length>0?N:[f.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var J=0;J<this._url.length;J++){var ce=yt("source");ce.src=this._url[J],f.appendChild(ce)}}});function Ff(a,f,w){return new zu(a,f,w)}var Du=Ri.extend({_initImage:function(){var a=this._image=this._url;gt(a,"leaflet-image-layer"),this._zoomAnimated&&gt(a,"leaflet-zoom-animated"),this.options.className&&gt(a,this.options.className),a.onselectstart=g,a.onmousemove=g}});function Bu(a,f,w){return new Du(a,f,w)}var Dr=Sr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,f){a&&(a instanceof ve||A(a))?(this._latlng=Ie(a),v(this,f)):(v(this,a),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&On(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&On(this._container,1),this.bringToFront(),this.options.interactive&&(gt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(On(this._container,0),this._removeTimeout=setTimeout(l(Zt,void 0,this._container),200)):Zt(this._container),this.options.interactive&&($t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ie(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qo(this._container),this},bringToBack:function(){return this._map&&si(this._container),this},_prepareOpen:function(a){var f=this._source;if(!f._map)return!1;if(f instanceof ci){f=null;var w=this._source._layers;for(var N in w)if(w[N]._map){f=w[N];break}if(!f)return!1;this._source=f}if(!a)if(f.getCenter)a=f.getCenter();else if(f.getLatLng)a=f.getLatLng();else if(f.getBounds)a=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")a.innerHTML=f;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),f=le(this.options.offset),w=this._getAnchor();this._zoomAnimated?on(this._container,a.add(w)):f=f.add(a).add(w);var N=this._containerBottom=-f.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=N+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});St.include({_initOverlay:function(a,f,w,N){var M=f;return M instanceof a||(M=new a(N).setContent(f)),w&&M.setLatLng(w),M}}),Sr.include({_initOverlay:function(a,f,w,N){var M=w;return M instanceof a?(v(M,N),M._source=this):(M=f&&!N?f:new a(N,this),M.setContent(w)),M}});var Kl=Dr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Dr.prototype.openOn.call(this,a)},onAdd:function(a){Dr.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ai||this._source.on("preclick",Mr))},onRemove:function(a){Dr.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ai||this._source.off("preclick",Mr))},getEvents:function(){var a=Dr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",f=this._container=yt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=yt("div",a+"-content-wrapper",f);if(this._contentNode=yt("div",a+"-content",w),ba(f),Ol(this._contentNode),ht(f,"contextmenu",Mr),this._tipContainer=yt("div",a+"-tip-container",f),this._tip=yt("div",a+"-tip",this._tipContainer),this.options.closeButton){var N=this._closeButton=yt("a",a+"-close-button",f);N.setAttribute("role","button"),N.setAttribute("aria-label","Close popup"),N.href="#close",N.innerHTML='<span aria-hidden="true">&#215;</span>',ht(N,"click",function(M){en(M),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,f=a.style;f.width="",f.whiteSpace="nowrap";var w=a.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),f.width=w+1+"px",f.whiteSpace="",f.height="";var N=a.offsetHeight,M=this.options.maxHeight,J="leaflet-popup-scrolled";M&&N>M?(f.height=M+"px",gt(a,J)):$t(a,J),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),w=this._getAnchor();on(this._container,f.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,f=parseInt(va(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+f,N=this._containerWidth,M=new te(this._containerLeft,-w-this._containerBottom);M._add(ai(this._container));var J=a.layerPointToContainerPoint(M),ce=le(this.options.autoPanPadding),ge=le(this.options.autoPanPaddingTopLeft||ce),Ee=le(this.options.autoPanPaddingBottomRight||ce),Le=a.getSize(),Ve=0,lt=0;J.x+N+Ee.x>Le.x&&(Ve=J.x+N-Le.x+Ee.x),J.x-Ve-ge.x<0&&(Ve=J.x-ge.x),J.y+w+Ee.y>Le.y&&(lt=J.y+w-Le.y+Ee.y),J.y-lt-ge.y<0&&(lt=J.y-ge.y),(Ve||lt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ve,lt]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),is=function(a,f){return new Kl(a,f)};St.mergeOptions({closePopupOnClick:!0}),St.include({openPopup:function(a,f,w){return this._initOverlay(Kl,a,f,w).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Sr.include({bindPopup:function(a,f){return this._popup=this._initOverlay(Kl,this._popup,a,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ci||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){br(a);var f=a.layer||a.target;if(this._popup._source===f&&!(f instanceof Ai)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=f,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var os=Dr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Dr.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Dr.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Dr.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",f=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=yt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var f,w,N=this._map,M=this._container,J=N.latLngToContainerPoint(N.getCenter()),ce=N.layerPointToContainerPoint(a),ge=this.options.direction,Ee=M.offsetWidth,Le=M.offsetHeight,Ve=le(this.options.offset),lt=this._getAnchor();ge==="top"?(f=Ee/2,w=Le):ge==="bottom"?(f=Ee/2,w=0):ge==="center"?(f=Ee/2,w=Le/2):ge==="right"?(f=0,w=Le/2):ge==="left"?(f=Ee,w=Le/2):ce.x<J.x?(ge="right",f=0,w=Le/2):(ge="left",f=Ee+(Ve.x+lt.x)*2,w=Le/2),a=a.subtract(le(f,w,!0)).add(Ve).add(lt),$t(M,"leaflet-tooltip-right"),$t(M,"leaflet-tooltip-left"),$t(M,"leaflet-tooltip-top"),$t(M,"leaflet-tooltip-bottom"),gt(M,"leaflet-tooltip-"+ge),on(M,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&On(this._container,a)},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(f)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Pa=function(a,f){return new os(a,f)};St.include({openTooltip:function(a,f,w){return this._initOverlay(os,a,f,w).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Sr.include({bindTooltip:function(a,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(os,this._tooltip,a,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var f=a?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[f](w),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ci||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var f=typeof a.getElement=="function"&&a.getElement();f&&(ht(f,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),ht(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var f=typeof a.getElement=="function"&&a.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var f=a.latlng,w,N;this._tooltip.options.sticky&&a.originalEvent&&(w=this._map.mouseEventToContainerPoint(a.originalEvent),N=this._map.containerPointToLayerPoint(w),f=this._map.layerPointToLatLng(N)),this._tooltip.setLatLng(f)}});var Gl=uo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var f=a&&a.tagName==="DIV"?a:document.createElement("div"),w=this.options;if(w.html instanceof Element?(Tl(f),f.appendChild(w.html)):f.innerHTML=w.html!==!1?w.html:"",w.bgPos){var N=le(w.bgPos);f.style.backgroundPosition=-N.x+"px "+-N.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Uf(a){return new Gl(a)}uo.Default=ts;var Ii=Sr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){v(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Zt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(si(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof te?a:new te(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var f=this.getPane().children,w=-a(-1/0,1/0),N=0,M=f.length,J;N<M;N++)J=f[N].style.zIndex,f[N]!==this._container&&J&&(w=a(w,+J));isFinite(w)&&(this.options.zIndex=w+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nt.ielt9){On(this._container,this.options.opacity);var a=+new Date,f=!1,w=!1;for(var N in this._tiles){var M=this._tiles[N];if(!(!M.current||!M.loaded)){var J=Math.min(1,(a-M.loaded)/200);On(M.el,J),J<1?f=!0:(M.active?w=!0:this._onOpaqueTile(M),M.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),f&&(B(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,f=this.options.maxZoom;if(a!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===a?(this._levels[w].el.style.zIndex=f-Math.abs(a-w),this._onUpdateLevel(w)):(Zt(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var N=this._levels[a],M=this._map;return N||(N=this._levels[a]={},N.el=yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),N.el.style.zIndex=f,N.origin=M.project(M.unproject(M.getPixelOrigin()),a).round(),N.zoom=a,this._setZoomTransform(N,M.getCenter(),M.getZoom()),g(N.el.offsetWidth),this._onCreateLevel(N)),this._level=N,N}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var a,f,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)f=this._tiles[a],f.retain=f.current;for(a in this._tiles)if(f=this._tiles[a],f.current&&!f.active){var N=f.coords;this._retainParent(N.x,N.y,N.z,N.z-5)||this._retainChildren(N.x,N.y,N.z,N.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var f in this._tiles)this._tiles[f].coords.z===a&&this._removeTile(f)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Zt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,f,w,N){var M=Math.floor(a/2),J=Math.floor(f/2),ce=w-1,ge=new te(+M,+J);ge.z=+ce;var Ee=this._tileCoordsToKey(ge),Le=this._tiles[Ee];return Le&&Le.active?(Le.retain=!0,!0):(Le&&Le.loaded&&(Le.retain=!0),ce>N?this._retainParent(M,J,ce,N):!1)},_retainChildren:function(a,f,w,N){for(var M=2*a;M<2*a+2;M++)for(var J=2*f;J<2*f+2;J++){var ce=new te(M,J);ce.z=w+1;var ge=this._tileCoordsToKey(ce),Ee=this._tiles[ge];if(Ee&&Ee.active){Ee.retain=!0;continue}else Ee&&Ee.loaded&&(Ee.retain=!0);w+1<N&&this._retainChildren(M,J,w+1,N)}},_resetView:function(a){var f=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var f=this.options;return f.minNativeZoom!==void 0&&a<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<a?f.maxNativeZoom:a},_setView:function(a,f,w,N){var M=Math.round(f);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var J=this.options.updateWhenZooming&&M!==this._tileZoom;(!N||J)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(a),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(a,f)},_setZoomTransforms:function(a,f){for(var w in this._levels)this._setZoomTransform(this._levels[w],a,f)},_setZoomTransform:function(a,f,w){var N=this._map.getZoomScale(w,a.zoom),M=a.origin.multiplyBy(N).subtract(this._map._getNewPixelOrigin(f,w)).round();nt.any3d?_r(a.el,M,N):on(a.el,M)},_resetGrid:function(){var a=this._map,f=a.options.crs,w=this._tileSize=this.getTileSize(),N=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,f.wrapLng[0]],N).x/w.x),Math.ceil(a.project([0,f.wrapLng[1]],N).x/w.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([f.wrapLat[0],0],N).y/w.x),Math.ceil(a.project([f.wrapLat[1],0],N).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var f=this._map,w=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),N=f.getZoomScale(w,this._tileZoom),M=f.project(a,this._tileZoom).floor(),J=f.getSize().divideBy(N*2);return new H(M.subtract(J),M.add(J))},_update:function(a){var f=this._map;if(f){var w=this._clampZoom(f.getZoom());if(a===void 0&&(a=f.getCenter()),this._tileZoom!==void 0){var N=this._getTiledPixelBounds(a),M=this._pxBoundsToTileRange(N),J=M.getCenter(),ce=[],ge=this.options.keepBuffer,Ee=new H(M.getBottomLeft().subtract([ge,-ge]),M.getTopRight().add([ge,-ge]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Le in this._tiles){var Ve=this._tiles[Le].coords;(Ve.z!==this._tileZoom||!Ee.contains(new te(Ve.x,Ve.y)))&&(this._tiles[Le].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(a,w);return}for(var lt=M.min.y;lt<=M.max.y;lt++)for(var wt=M.min.x;wt<=M.max.x;wt++){var vn=new te(wt,lt);if(vn.z=this._tileZoom,!!this._isValidTile(vn)){var pn=this._tiles[this._tileCoordsToKey(vn)];pn?pn.current=!0:ce.push(vn)}}if(ce.sort(function(zn,us){return zn.distanceTo(J)-us.distanceTo(J)}),ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Jn=document.createDocumentFragment();for(wt=0;wt<ce.length;wt++)this._addTile(ce[wt],Jn);this._level.el.appendChild(Jn)}}}},_isValidTile:function(a){var f=this._map.options.crs;if(!f.infinite){var w=this._globalTileRange;if(!f.wrapLng&&(a.x<w.min.x||a.x>w.max.x)||!f.wrapLat&&(a.y<w.min.y||a.y>w.max.y))return!1}if(!this.options.bounds)return!0;var N=this._tileCoordsToBounds(a);return _e(this.options.bounds).overlaps(N)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var f=this._map,w=this.getTileSize(),N=a.scaleBy(w),M=N.add(w),J=f.unproject(N,a.z),ce=f.unproject(M,a.z);return[J,ce]},_tileCoordsToBounds:function(a){var f=this._tileCoordsToNwSe(a),w=new ke(f[0],f[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var f=a.split(":"),w=new te(+f[0],+f[1]);return w.z=+f[2],w},_removeTile:function(a){var f=this._tiles[a];f&&(Zt(f.el),delete this._tiles[a],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){gt(a,"leaflet-tile");var f=this.getTileSize();a.style.width=f.x+"px",a.style.height=f.y+"px",a.onselectstart=g,a.onmousemove=g,nt.ielt9&&this.options.opacity<1&&On(a,this.options.opacity)},_addTile:function(a,f){var w=this._getTilePos(a),N=this._tileCoordsToKey(a),M=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(M),this.createTile.length<2&&$(l(this._tileReady,this,a,null,M)),on(M,w),this._tiles[N]={el:M,coords:a,current:!0},f.appendChild(M),this.fire("tileloadstart",{tile:M,coords:a})},_tileReady:function(a,f,w){f&&this.fire("tileerror",{error:f,tile:w,coords:a});var N=this._tileCoordsToKey(a);w=this._tiles[N],w&&(w.loaded=+new Date,this._map._fadeAnimated?(On(w.el,0),B(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),f||(gt(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nt.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var f=new te(this._wrapX?y(a.x,this._wrapX):a.x,this._wrapY?y(a.y,this._wrapY):a.y);return f.z=a.z,f},_pxBoundsToTileRange:function(a){var f=this.getTileSize();return new H(a.min.unscaleBy(f).floor(),a.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function ss(a){return new Ii(a)}var ji=Ii.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,f){this._url=a,f=v(this,f),f.detectRetina&&nt.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,f){return this._url===a&&f===void 0&&(f=!0),this._url=a,f||this.redraw(),this},createTile:function(a,f){var w=document.createElement("img");return ht(w,"load",l(this._tileOnLoad,this,f,w)),ht(w,"error",l(this._tileOnError,this,f,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(a),w},getTileUrl:function(a){var f={r:nt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-a.y;this.options.tms&&(f.y=w),f["-y"]=w}return T(this._url,i(f,this.options))},_tileOnLoad:function(a,f){nt.ielt9?setTimeout(l(a,this,null,f),0):a(null,f)},_tileOnError:function(a,f,w){var N=this.options.errorTileUrl;N&&f.getAttribute("src")!==N&&(f.src=N),a(w,f)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,f=this.options.maxZoom,w=this.options.zoomReverse,N=this.options.zoomOffset;return w&&(a=f-a),a+N},_getSubdomain:function(a){var f=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var a,f;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(f=this._tiles[a].el,f.onload=g,f.onerror=g,!f.complete)){f.src=D;var w=this._tiles[a].coords;Zt(f),delete this._tiles[a],this.fire("tileabort",{tile:f,coords:w})}},_removeTile:function(a){var f=this._tiles[a];if(f)return f.el.setAttribute("src",D),Ii.prototype._removeTile.call(this,a)},_tileReady:function(a,f,w){if(!(!this._map||w&&w.getAttribute("src")===D))return Ii.prototype._tileReady.call(this,a,f,w)}});function Fu(a,f){return new ji(a,f)}var Ta=ji.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,f){this._url=a;var w=i({},this.defaultWmsParams);for(var N in f)N in this.options||(w[N]=f[N]);f=v(this,f);var M=f.detectRetina&&nt.retina?2:1,J=this.getTileSize();w.width=J.x*M,w.height=J.y*M,this.wmsParams=w},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,ji.prototype.onAdd.call(this,a)},getTileUrl:function(a){var f=this._tileCoordsToNwSe(a),w=this._crs,N=Q(w.project(f[0]),w.project(f[1])),M=N.min,J=N.max,ce=(this._wmsVersion>=1.3&&this._crs===Lf?[M.y,M.x,J.y,J.x]:[M.x,M.y,J.x,J.y]).join(","),ge=ji.prototype.getTileUrl.call(this,a);return ge+E(this.wmsParams,ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ce},setParams:function(a,f){return i(this.wmsParams,a),f||this.redraw(),this}});function $f(a,f){return new Ta(a,f)}ji.WMS=Ta,Fu.wms=$f;var Br=Sr.extend({options:{padding:.1},initialize:function(a){v(this,a),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),gt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,f){var w=this._map.getZoomScale(f,this._zoom),N=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,f),J=N.multiplyBy(-w).add(M).subtract(this._map._getNewPixelOrigin(a,f));nt.any3d?_r(this._container,J,w):on(this._container,J)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,f=this._map.getSize(),w=this._map.containerPointToLayerPoint(f.multiplyBy(-a)).round();this._bounds=new H(w,w.add(f.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Uu=Br.extend({options:{tolerance:0},getEvents:function(){var a=Br.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Br.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");ht(a,"mousemove",this._onMouseMove,this),ht(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ht(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,Zt(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var f in this._layers)a=this._layers[f],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Br.prototype._update.call(this);var a=this._bounds,f=this._container,w=a.getSize(),N=nt.retina?2:1;on(f,a.min),f.width=N*w.x,f.height=N*w.y,f.style.width=w.x+"px",f.style.height=w.y+"px",nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Br.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[d(a)]=a;var f=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var f=a._order,w=f.next,N=f.prev;w?w.prev=N:this._drawLast=N,N?N.next=w:this._drawFirst=w,delete a._order,delete this._layers[d(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var f=a.options.dashArray.split(/[, ]+/),w=[],N,M;for(M=0;M<f.length;M++){if(N=Number(f[M]),isNaN(N))return;w.push(N)}a.options._dashArray=w}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var f=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(a._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(a._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var f=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,f=this._redrawBounds;if(this._ctx.save(),f){var w=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var N=this._drawFirst;N;N=N.next)a=N.layer,(!f||a._pxBounds&&a._pxBounds.intersects(f))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,f){if(this._drawing){var w,N,M,J,ce=a._parts,ge=ce.length,Ee=this._ctx;if(ge){for(Ee.beginPath(),w=0;w<ge;w++){for(N=0,M=ce[w].length;N<M;N++)J=ce[w][N],Ee[N?"lineTo":"moveTo"](J.x,J.y);f&&Ee.closePath()}this._fillStroke(Ee,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var f=a._point,w=this._ctx,N=Math.max(Math.round(a._radius),1),M=(Math.max(Math.round(a._radiusY),1)||N)/N;M!==1&&(w.save(),w.scale(1,M)),w.beginPath(),w.arc(f.x,f.y/M,N,0,Math.PI*2,!1),M!==1&&w.restore(),this._fillStroke(w,a)}},_fillStroke:function(a,f){var w=f.options;w.fill&&(a.globalAlpha=w.fillOpacity,a.fillStyle=w.fillColor||w.color,a.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(a.setLineDash&&a.setLineDash(f.options&&f.options._dashArray||[]),a.globalAlpha=w.opacity,a.lineWidth=w.weight,a.strokeStyle=w.color,a.lineCap=w.lineCap,a.lineJoin=w.lineJoin,a.stroke())},_onClick:function(a){for(var f=this._map.mouseEventToLayerPoint(a),w,N,M=this._drawFirst;M;M=M.next)w=M.layer,w.options.interactive&&w._containsPoint(f)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(w))&&(N=w);this._fireEvent(N?[N]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,f)}},_handleMouseOut:function(a){var f=this._hoveredLayer;f&&($t(this._container,"leaflet-interactive"),this._fireEvent([f],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,f){if(!this._mouseHoverThrottled){for(var w,N,M=this._drawFirst;M;M=M.next)w=M.layer,w.options.interactive&&w._containsPoint(f)&&(N=w);N!==this._hoveredLayer&&(this._handleMouseOut(a),N&&(gt(this._container,"leaflet-interactive"),this._fireEvent([N],a,"mouseover"),this._hoveredLayer=N)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,f,w){this._map._fireDOMEvent(f,w||f.type,a)},_bringToFront:function(a){var f=a._order;if(f){var w=f.next,N=f.prev;if(w)w.prev=N;else return;N?N.next=w:w&&(this._drawFirst=w),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(a)}},_bringToBack:function(a){var f=a._order;if(f){var w=f.next,N=f.prev;if(N)N.next=w;else return;w?w.prev=N:N&&(this._drawLast=N),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(a)}}});function $u(a){return nt.canvas?new Uu(a):null}var as=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hf={_initContainer:function(){this._container=yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Br.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var f=a._container=as("shape");gt(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",a._path=as("path"),f.appendChild(a._path),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){var f=a._container;this._container.appendChild(f),a.options.interactive&&a.addInteractiveTarget(f)},_removePath:function(a){var f=a._container;Zt(f),a.removeInteractiveTarget(f),delete this._layers[d(a)]},_updateStyle:function(a){var f=a._stroke,w=a._fill,N=a.options,M=a._container;M.stroked=!!N.stroke,M.filled=!!N.fill,N.stroke?(f||(f=a._stroke=as("stroke")),M.appendChild(f),f.weight=N.weight+"px",f.color=N.color,f.opacity=N.opacity,N.dashArray?f.dashStyle=A(N.dashArray)?N.dashArray.join(" "):N.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=N.lineCap.replace("butt","flat"),f.joinstyle=N.lineJoin):f&&(M.removeChild(f),a._stroke=null),N.fill?(w||(w=a._fill=as("fill")),M.appendChild(w),w.color=N.fillColor||N.color,w.opacity=N.fillOpacity):w&&(M.removeChild(w),a._fill=null)},_updateCircle:function(a){var f=a._point.round(),w=Math.round(a._radius),N=Math.round(a._radiusY||w);this._setPath(a,a._empty()?"M0 0":"AL "+f.x+","+f.y+" "+w+","+N+" 0,"+65535*360)},_setPath:function(a,f){a._path.v=f},_bringToFront:function(a){qo(a._container)},_bringToBack:function(a){si(a._container)}},Cr=nt.vml?as:Ne,fo=Br.extend({_initContainer:function(){this._container=Cr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Cr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Zt(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Br.prototype._update.call(this);var a=this._bounds,f=a.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,w.setAttribute("width",f.x),w.setAttribute("height",f.y)),on(w,a.min),w.setAttribute("viewBox",[a.min.x,a.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(a){var f=a._path=Cr("path");a.options.className&&gt(f,a.options.className),a.options.interactive&&gt(f,"leaflet-interactive"),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Zt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[d(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var f=a._path,w=a.options;f&&(w.stroke?(f.setAttribute("stroke",w.color),f.setAttribute("stroke-opacity",w.opacity),f.setAttribute("stroke-width",w.weight),f.setAttribute("stroke-linecap",w.lineCap),f.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?f.setAttribute("stroke-dasharray",w.dashArray):f.removeAttribute("stroke-dasharray"),w.dashOffset?f.setAttribute("stroke-dashoffset",w.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),w.fill?(f.setAttribute("fill",w.fillColor||w.color),f.setAttribute("fill-opacity",w.fillOpacity),f.setAttribute("fill-rule",w.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(a,f){this._setPath(a,be(a._parts,f))},_updateCircle:function(a){var f=a._point,w=Math.max(Math.round(a._radius),1),N=Math.max(Math.round(a._radiusY),1)||w,M="a"+w+","+N+" 0 1,0 ",J=a._empty()?"M0 0":"M"+(f.x-w)+","+f.y+M+w*2+",0 "+M+-w*2+",0 ";this._setPath(a,J)},_setPath:function(a,f){a._path.setAttribute("d",f)},_bringToFront:function(a){qo(a._path)},_bringToBack:function(a){si(a._path)}});nt.vml&&fo.include(Hf);function Yl(a){return nt.svg||nt.vml?new fo(a):null}St.include({getRenderer:function(a){var f=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var f=this._paneRenderers[a];return f===void 0&&(f=this._createRenderer({pane:a}),this._paneRenderers[a]=f),f},_createRenderer:function(a){return this.options.preferCanvas&&$u(a)||Yl(a)}});var Zf=di.extend({initialize:function(a,f){di.prototype.initialize.call(this,this._boundsToLatLngs(a),f)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=_e(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function tg(a,f){return new Zf(a,f)}fo.create=Cr,fo.pointsToPath=be,zr.geometryToLayer=ns,zr.coordsToLatLng=Zl,zr.coordsToLatLngs=Na,zr.latLngToCoords=Wl,zr.latLngsToCoords=Vl,zr.getFeature=rs,zr.asFeature=ql,St.mergeOptions({boxZoom:!0});var ls=or.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Zt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Pt(),Il(),this._startPoint=this._map.mouseEventToContainerPoint(a),ht(document,{contextmenu:br,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=yt("div","leaflet-zoom-box",this._container),gt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var f=new H(this._point,this._startPoint),w=f.getSize();on(this._box,f.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(Zt(this._box),$t(this._container,"leaflet-crosshair")),Yo(),jl(),Bt(document,{contextmenu:br,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var f=new ke(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});St.addInitHook("addHandler","boxZoom",ls),St.mergeOptions({doubleClickZoom:!0});var Wf=or.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var f=this._map,w=f.getZoom(),N=f.options.zoomDelta,M=a.originalEvent.shiftKey?w-N:w+N;f.options.doubleClickZoom==="center"?f.setZoom(M):f.setZoomAround(a.containerPoint,M)}});St.addInitHook("addHandler","doubleClickZoom",Wf),St.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Hu=or.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Er(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}gt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$t(this._map._container,"leaflet-grab"),$t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=_e(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var f=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(f),this._prunePositions(f)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,f){return a-(a-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;a.x<f.min.x&&(a.x=this._viscousLimit(a.x,f.min.x)),a.y<f.min.y&&(a.y=this._viscousLimit(a.y,f.min.y)),a.x>f.max.x&&(a.x=this._viscousLimit(a.x,f.max.x)),a.y>f.max.y&&(a.y=this._viscousLimit(a.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,f=Math.round(a/2),w=this._initialWorldOffset,N=this._draggable._newPos.x,M=(N-f+w)%a+f-w,J=(N+f+w)%a-f-w,ce=Math.abs(M+w)<Math.abs(J+w)?M:J;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ce},_onDragEnd:function(a){var f=this._map,w=f.options,N=!w.inertia||a.noInertia||this._times.length<2;if(f.fire("dragend",a),N)f.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),J=(this._lastTime-this._times[0])/1e3,ce=w.easeLinearity,ge=M.multiplyBy(ce/J),Ee=ge.distanceTo([0,0]),Le=Math.min(w.inertiaMaxSpeed,Ee),Ve=ge.multiplyBy(Le/Ee),lt=Le/(w.inertiaDeceleration*ce),wt=Ve.multiplyBy(-lt/2).round();!wt.x&&!wt.y?f.fire("moveend"):(wt=f._limitOffset(wt,f.options.maxBounds),$(function(){f.panBy(wt,{duration:lt,easeLinearity:ce,noMoveStart:!0,animate:!0})}))}}});St.addInitHook("addHandler","dragging",Hu),St.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zu=or.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),ht(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,f=document.documentElement,w=a.scrollTop||f.scrollTop,N=a.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(N,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var f=this._panKeys={},w=this.keyCodes,N,M;for(N=0,M=w.left.length;N<M;N++)f[w.left[N]]=[-1*a,0];for(N=0,M=w.right.length;N<M;N++)f[w.right[N]]=[a,0];for(N=0,M=w.down.length;N<M;N++)f[w.down[N]]=[0,a];for(N=0,M=w.up.length;N<M;N++)f[w.up[N]]=[0,-1*a]},_setZoomDelta:function(a){var f=this._zoomKeys={},w=this.keyCodes,N,M;for(N=0,M=w.zoomIn.length;N<M;N++)f[w.zoomIn[N]]=a;for(N=0,M=w.zoomOut.length;N<M;N++)f[w.zoomOut[N]]=-a},_addHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var f=a.keyCode,w=this._map,N;if(f in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(N=this._panKeys[f],a.shiftKey&&(N=le(N).multiplyBy(3)),w.options.maxBounds&&(N=w._limitOffset(le(N),w.options.maxBounds)),w.options.worldCopyJump){var M=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(N)));w.panTo(M)}else w.panBy(N)}else if(f in this._zoomKeys)w.setZoom(w.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;br(a)}}});St.addInitHook("addHandler","keyboard",Zu),St.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ft=or.extend({addHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var f=Cf(a),w=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var N=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),N),br(a)},_performZoom:function(){var a=this._map,f=a.getZoom(),w=this._map.options.zoomSnap||0;a._stop();var N=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(N))))/Math.LN2,J=w?Math.ceil(M/w)*w:M,ce=a._limitZoom(f+(this._delta>0?J:-J))-f;this._delta=0,this._startTime=null,ce&&(a.options.scrollWheelZoom==="center"?a.setZoom(f+ce):a.setZoomAround(this._lastMousePos,f+ce))}});St.addInitHook("addHandler","scrollWheelZoom",Ft);var Wu=600;St.mergeOptions({tapHold:nt.touchNative&&nt.safari&&nt.mobile,tapTolerance:15});var Aa=or.extend({addHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var f=a.touches[0];this._startPos=this._newPos=new te(f.clientX,f.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ht(document,"touchend",en),ht(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),Wu),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Bt(document,"touchend",en),Bt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)},_onMove:function(a){var f=a.touches[0];this._newPos=new te(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,f){var w=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});w._simulated=!0,f.target.dispatchEvent(w)}});St.addInitHook("addHandler","tapHold",Aa),St.mergeOptions({touchZoom:nt.touch,bounceAtZoomLimits:!0});var cs=or.extend({addHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$t(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var f=this._map;if(!(!a.touches||a.touches.length!==2||f._animatingZoom||this._zooming)){var w=f.mouseEventToContainerPoint(a.touches[0]),N=f.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(w.add(N)._divideBy(2))),this._startDist=w.distanceTo(N),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),en(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var f=this._map,w=f.mouseEventToContainerPoint(a.touches[0]),N=f.mouseEventToContainerPoint(a.touches[1]),M=w.distanceTo(N)/this._startDist;if(this._zoom=f.getScaleZoom(M,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&M<1||this._zoom>f.getMaxZoom()&&M>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var J=w._add(N)._divideBy(2)._subtract(this._centerPoint);if(M===1&&J.x===0&&J.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(J),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var ce=l(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(ce,this,!0),en(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});St.addInitHook("addHandler","touchZoom",cs),St.BoxZoom=ls,St.DoubleClickZoom=Wf,St.Drag=Hu,St.Keyboard=Zu,St.ScrollWheelZoom=Ft,St.TapHold=Aa,St.TouchZoom=cs,n.Bounds=H,n.Browser=nt,n.CRS=Pe,n.Canvas=Uu,n.Circle=$l,n.CircleMarker=Ul,n.Class=j,n.Control=Gn,n.DivIcon=Gl,n.DivOverlay=Dr,n.DomEvent=Ml,n.DomUtil=xa,n.Draggable=Er,n.Evented=ie,n.FeatureGroup=ci,n.GeoJSON=zr,n.GridLayer=Ii,n.Handler=or,n.Icon=uo,n.ImageOverlay=Ri,n.LatLng=ve,n.LatLngBounds=ke,n.Layer=Sr,n.LayerGroup=Ti,n.LineUtil=jf,n.Map=St,n.Marker=ui,n.Mixin=Pu,n.Path=Ai,n.Point=te,n.PolyUtil=Zm,n.Polygon=di,n.Polyline=Yn,n.Popup=Kl,n.PosAnimation=zl,n.Projection=Gm,n.Rectangle=Zf,n.Renderer=Br,n.SVG=fo,n.SVGOverlay=Du,n.TileLayer=ji,n.Tooltip=os,n.Transformation=Qe,n.Util=X,n.VideoOverlay=zu,n.bind=l,n.bounds=Q,n.canvas=$u,n.circle=Ca,n.circleMarker=zf,n.control=Pi,n.divIcon=Uf,n.extend=i,n.featureGroup=Of,n.geoJSON=Df,n.geoJson=kr,n.gridLayer=ss,n.icon=Mf,n.imageOverlay=Bf,n.latLng=Ie,n.latLngBounds=_e,n.layerGroup=ka,n.map=Ni,n.marker=Qm,n.point=le,n.polygon=eg,n.polyline=Xm,n.popup=is,n.rectangle=tg,n.setOptions=v,n.stamp=d,n.svg=Yl,n.svgOverlay=Bu,n.tileLayer=Fu,n.tooltip=Pa,n.transformation=ot,n.version=r,n.videoOverlay=Ff;var Vf=window.L;n.noConflict=function(){return window.L=Vf,this},window.L=n})}(xd,xd.exports)),xd.exports}var FV=BV();const xc=Xd(FV),UV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",$V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let HV=xc.icon({iconUrl:UV,shadowUrl:$V,iconSize:[25,41],iconAnchor:[12,41]});xc.Marker.prototype.options.icon=HV;const vv={"9q8yyz":[37.7749,-122.4194],"9q8yym":[34.0522,-118.2437],"9q8yyk":[40.7128,-74.006],"9q8yyf":[41.8781,-87.6298],dpwh:[47.6062,-122.3321],dqcjq:[39.7392,-104.9903]};function ZV(e){if(vv[e])return vv[e];for(const[t,n]of Object.entries(vv))if(e.startsWith(t))return n;return[25+Math.random()*35,-125+Math.random()*55]}function d2({lockers:e=[],onLockerClick:t,center:n=[45,-100],zoom:r=3}){const i=C.useRef(null),s=C.useRef(null),l=C.useRef([]);return C.useEffect(()=>{if(!s.current)return;const u=xc.map(s.current).setView(n,r);return xc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(u),i.current=u,()=>{u.remove(),i.current=null}},[n,r]),C.useEffect(()=>{if(i.current&&(l.current.forEach(u=>u.remove()),l.current=[],e.forEach(u=>{if(!u.geohash)return;const d=ZV(u.geohash);if(!d)return;const p=u.price>0&&u.price<1e3?`<div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${u.title}</h3>
            <p style="margin: 0; color: #666;">${u.description||""}</p>
            <p style="margin: 5px 0 0 0; font-size: 14px; font-weight: bold;">
              ${u.price} products
            </p>
          </div>`:`<div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${u.title}</h3>
            <p style="margin: 0; color: #666;">${u.description||""}</p>
          </div>`,y=xc.marker(d).addTo(i.current).bindPopup(p);t&&y.on("click",()=>t(u)),l.current.push(y)}),l.current.length>0&&l.current.length<10)){const u=new xc.FeatureGroup(l.current);i.current.fitBounds(u.getBounds().pad(.1))}},[e,t]),m.jsx("div",{ref:s,style:{height:"100%",width:"100%",minHeight:"400px"}})}const WV=[{id:"1",dTag:"prod-001",title:"Privacy-First Smartphone",description:"De-googled Android phone with GrapheneOS pre-installed. Full privacy setup.",price:899e3,category:"Electronics",vendor:"PrivacyTech Co",vendorNpub:"npub1abc...",inStock:!0,availableAt:["9q8yyz","9q8yyk","dpwh","9q8yym"]},{id:"2",dTag:"prod-002",title:"Faraday Phone Pouch",description:"Military-grade signal blocking pouch. Protects against tracking and surveillance.",price:45e3,category:"Accessories",vendor:"SignalSafe",vendorNpub:"npub1def...",inStock:!0,availableAt:["9q8yyz","9q8yyk","dpwh","9q8yym","dqcjq","9q8yyf"]},{id:"3",dTag:"prod-003",title:"Cold Card Hardware Wallet",description:"Ultra-secure Bitcoin hardware wallet. Air-gapped signing.",price:147e3,category:"Bitcoin",vendor:"CoinKite",vendorNpub:"npub1ghi...",inStock:!0,availableAt:["9q8yyz","9q8yyk","dpwh"]},{id:"4",dTag:"prod-004",title:"Anonymous SIM Card",description:"Pre-paid SIM, no ID required. Activated and ready to use.",price:25e3,category:"Communications",vendor:"GhostConnect",vendorNpub:"npub1jkl...",inStock:!1,availableAt:["9q8yyz","9q8yym"]},{id:"5",dTag:"prod-005",title:"Encrypted USB Drive",description:"Hardware-encrypted USB 3.0. Military-grade AES-256.",price:89e3,category:"Storage",vendor:"SecureData",vendorNpub:"npub1mno...",inStock:!0,availableAt:["9q8yyk","dpwh","dqcjq"]},{id:"6",dTag:"prod-006",title:"Privacy Screen Protector",description:"4-way privacy filter. Blocks side-angle viewing.",price:15e3,category:"Accessories",vendor:"PrivacyTech Co",vendorNpub:"npub1abc...",inStock:!0,availableAt:["9q8yyz","9q8yyk","dpwh","9q8yym","dqcjq"]}],Jh=[{id:"1",name:"Downtown SF",geohash:"9q8yyz",lat:37.7749,lon:-122.4194,city:"San Francisco",state:"CA"},{id:"2",name:"Union Square",geohash:"9q8yyk",lat:40.7128,lon:-74.006,city:"New York",state:"NY"},{id:"3",name:"Tech Hub",geohash:"dpwh",lat:47.6062,lon:-122.3321,city:"Seattle",state:"WA"},{id:"4",name:"LAX Area",geohash:"9q8yym",lat:34.0522,lon:-118.2437,city:"Los Angeles",state:"CA"},{id:"5",name:"Mile High",geohash:"dqcjq",lat:39.7392,lon:-104.9903,city:"Denver",state:"CO"},{id:"6",name:"Windy City",geohash:"9q8yyf",lat:41.8781,lon:-87.6298,city:"Chicago",state:"IL"}],VV=["All","Electronics","Accessories","Bitcoin","Communications","Storage"],qV={"san francisco":["9q8yyz"],sf:["9q8yyz"],94102:["9q8yyz"],94103:["9q8yyz"],"new york":["9q8yyk"],nyc:["9q8yyk"],10001:["9q8yyk"],seattle:["dpwh"],98101:["dpwh"],"los angeles":["9q8yym"],la:["9q8yym"],90001:["9q8yym"],denver:["dqcjq"],80201:["dqcjq"],chicago:["9q8yyf"],60601:["9q8yyf"]};function KV(){var V;const{nostr:e}=jr(),[t,n]=C.useState("grid"),[r,i]=C.useState(1e6),[s,l]=C.useState(!1),[u,d]=C.useState(""),[p,y]=C.useState(""),[g,b]=C.useState("All"),[_,S]=C.useState(null),[v,E]=C.useState(!1),[k,T]=C.useState(!1),{data:A,isLoading:z}=Gi({queryKey:["products"],queryFn:async()=>{try{return(await e.query([{kinds:[30402],"#t":["product"],limit:200}])).map(B=>{var X,j,K,oe,ie,te,ee,le;return{id:B.id,dTag:((X=B.tags.find(H=>H[0]==="d"))==null?void 0:X[1])||"",title:((j=B.tags.find(H=>H[0]==="title"))==null?void 0:j[1])||"Unnamed Product",description:B.content||"",price:parseInt(((K=B.tags.find(H=>H[0]==="price"))==null?void 0:K[1])||"0"),category:((oe=B.tags.find(H=>H[0]==="category"))==null?void 0:oe[1])||"Other",vendor:((ie=B.tags.find(H=>H[0]==="vendor"))==null?void 0:ie[1])||"Unknown",vendorNpub:B.pubkey,inStock:((te=B.tags.find(H=>H[0]==="stock"))==null?void 0:te[1])!=="0",availableAt:((le=(ee=B.tags.find(H=>H[0]==="locations"))==null?void 0:ee[1])==null?void 0:le.split(","))||[]}})}catch{return[]}},staleTime:6e4}),D=A!=null&&A.length?A:WV,Z=C.useMemo(()=>{if(!p.trim())return null;const $=p.toLowerCase().trim();return qV[$]||null},[p]),W=C.useMemo(()=>D.filter($=>{const B=!u||$.title.toLowerCase().includes(u.toLowerCase())||$.description.toLowerCase().includes(u.toLowerCase()),X=$.price<=r,j=g==="All"||$.category===g;let K=!0;return _?K=$.availableAt.includes(_):Z&&(K=Z.some(oe=>$.availableAt.some(ie=>ie.startsWith(oe)))),B&&X&&j&&K}),[D,u,r,g,Z,_]),q=$=>D.filter(B=>B.availableAt.includes($)&&B.inStock),U=$=>$>=1e8?` ${($/1e8).toFixed(3)}`:$>=1e6?`${($/1e6).toFixed(2)}M sats`:$>=1e3?`${($/1e3).toFixed(1)}k sats`:`${$} sats`;return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[m.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[m.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold",children:"Marketplace"}),m.jsx("p",{className:"text-muted-foreground",children:"Products shipped to dead drop lockers"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(pt,{variant:"outline",onClick:()=>T(!0),children:[m.jsx(Ld,{className:"h-4 w-4 mr-2"}),"Browse Map"]}),m.jsxs(fl,{open:v,onOpenChange:E,children:[m.jsx(TH,{asChild:!0,children:m.jsxs(pt,{variant:"outline",children:[m.jsx(c0,{className:"h-4 w-4 mr-2"}),"Become a Vendor"]})}),m.jsxs(oa,{className:"max-w-2xl",children:[m.jsxs(wl,{children:[m.jsx(du,{children:"Become a Vendor"}),m.jsx(uf,{children:"Sell products that ship to DeadDropstr lockers"})]}),m.jsx(YV,{onComplete:()=>E(!1)})]})]})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(wF,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),m.jsx(fn,{placeholder:"Search products...",value:u,onChange:$=>d($.target.value),className:"pl-10"})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Ep,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),m.jsx(fn,{placeholder:"Enter city or zip code...",value:p,onChange:$=>{y($.target.value),S(null)},className:"pl-10"})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsx("div",{className:"flex gap-2 flex-wrap flex-1",children:VV.map($=>m.jsx(pt,{variant:g===$?"default":"outline",size:"sm",onClick:()=>b($),children:$},$))}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(pt,{variant:t==="grid"?"default":"outline",size:"sm",onClick:()=>n("grid"),children:[m.jsx(yF,{className:"h-4 w-4 mr-2"}),"Grid"]}),m.jsxs(pt,{variant:t==="map"?"default":"outline",size:"sm",onClick:()=>n("map"),children:[m.jsx(Ld,{className:"h-4 w-4 mr-2"}),"Map"]}),m.jsxs(pt,{variant:"outline",size:"sm",onClick:()=>l(!s),children:[m.jsx(hF,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),(p||_)&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"Showing products available near:"}),_?m.jsxs(Cn,{variant:"secondary",className:"cursor-pointer",onClick:()=>S(null),children:[(V=Jh.find($=>$.geohash===_))==null?void 0:V.name," "]}):m.jsx(Cn,{variant:"secondary",children:p})]}),s&&m.jsx(Mt,{children:m.jsx(qt,{className:"pt-6",children:m.jsxs("div",{className:"space-y-2",children:[m.jsxs(Rn,{children:["Max Price: ",U(r)]}),m.jsx(KA,{min:0,max:1e7,step:1e4,value:[r],onValueChange:([$])=>i($)})]})})})]}),m.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-muted-foreground",children:[m.jsx(ip,{className:"h-4 w-4"}),W.length," product",W.length!==1?"s":""," found"]}),z?m.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[1,2,3,4].map($=>m.jsxs(Mt,{children:[m.jsx(Xr,{className:"h-48 w-full"}),m.jsx(Vn,{children:m.jsx(Xr,{className:"h-6 w-3/4"})})]},$))}):t==="map"?m.jsxs("div",{className:"grid lg:grid-cols-3 gap-4",children:[m.jsx(Mt,{className:"lg:col-span-2 min-h-[600px]",children:m.jsx(d2,{lockers:Jh.map($=>({id:$.id,dTag:$.id,title:$.name,price:0,geohash:$.geohash,status:"available",description:`${$.city}, ${$.state}`})),onLockerClick:$=>{S($.geohash),n("grid")}})}),m.jsxs("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:[m.jsx("h3",{className:"font-semibold text-lg",children:"Available Products"}),W.length===0?p&&!Z?m.jsx(f2,{location:p,onClear:()=>y("")}):m.jsx("p",{className:"text-muted-foreground text-sm",children:"No products match your filters"}):W.map($=>m.jsx(Mt,{className:"hover:border-primary transition-colors cursor-pointer",children:m.jsxs(qt,{className:"p-3",children:[m.jsxs("div",{className:"flex items-start justify-between mb-1",children:[m.jsx("h4",{className:"font-medium text-sm",children:$.title}),m.jsx(Cn,{variant:$.inStock?"default":"secondary",className:"text-xs",children:$.inStock?"In Stock":"Out"})]}),m.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 mb-2",children:$.vendor}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm font-medium",children:U($.price)}),m.jsx(pt,{asChild:!0,size:"sm",variant:"ghost",children:m.jsx(Wn,{to:`/product/${$.dTag}`,children:"View"})})]})]})},$.id))]})]}):p&&!Z?m.jsx(f2,{location:p,onClear:()=>y("")}):W.length===0?m.jsx(Mt,{className:"text-center py-12",children:m.jsxs(qt,{children:[m.jsx(ip,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),m.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),m.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your filters or search terms"}),p&&m.jsx(pt,{variant:"outline",className:"mt-4",onClick:()=>y(""),children:"Clear Location Filter"})]})}):m.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:W.map($=>m.jsxs(Mt,{className:"hover:border-primary transition-colors group flex flex-col",children:[m.jsx("div",{className:"aspect-square bg-muted flex items-center justify-center",children:$.image?m.jsx("img",{src:$.image,alt:$.title,className:"w-full h-full object-cover"}):m.jsx(ip,{className:"h-16 w-16 text-muted-foreground"})}),m.jsxs(Vn,{className:"pb-2",children:[m.jsx("div",{className:"flex items-start justify-between gap-2",children:m.jsx(gr,{className:"text-base group-hover:text-primary transition-colors line-clamp-2",children:$.title})}),m.jsx(Cn,{variant:"secondary",className:"w-fit text-xs",children:$.category})]}),m.jsxs(qt,{className:"flex-1",children:[m.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:$.description}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[m.jsx(c0,{className:"h-3 w-3"}),m.jsx("span",{className:"truncate",children:$.vendor})]}),m.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[m.jsx(Ep,{className:"h-3 w-3"}),m.jsxs("span",{children:["Available at ",$.availableAt.length," locations"]})]})]}),m.jsxs(_A,{className:"pt-0 flex items-center justify-between",children:[m.jsx("span",{className:"text-lg font-bold",children:U($.price)}),m.jsx(pt,{asChild:!0,size:"sm",disabled:!$.inStock,children:m.jsx(Wn,{to:`/product/${$.dTag}`,children:$.inStock?"Buy":"Out of Stock"})})]})]},$.id))})]}),m.jsx(fl,{open:k,onOpenChange:T,children:m.jsx(oa,{className:"max-w-6xl h-[80vh] p-0",children:m.jsxs("div",{className:"grid md:grid-cols-3 h-full",children:[m.jsx("div",{className:"md:col-span-2 h-full min-h-[400px]",children:m.jsx(d2,{lockers:Jh.map($=>({id:$.id,dTag:$.id,title:$.name,price:q($.geohash).length,geohash:$.geohash,status:"available",description:`${$.city}, ${$.state}`})),onLockerClick:$=>{S($.geohash),T(!1)}})}),m.jsxs("div",{className:"p-4 overflow-y-auto border-l",children:[m.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Select a Location"}),m.jsx("div",{className:"space-y-2",children:Jh.map($=>{const B=q($.geohash);return m.jsx(Mt,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>{S($.geohash),T(!1)},children:m.jsx(qt,{className:"p-3",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:$.name}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:[$.city,", ",$.state]})]}),m.jsxs(Cn,{children:[B.length," products"]})]})})},$.id)})})]})]})})})]})}const GV=[{name:"PrivacyTools.io",url:"https://www.privacytools.io",description:"Privacy-focused software and hardware recommendations",category:"Privacy Tools"},{name:"CoinKite",url:"https://coldcard.com",description:"Bitcoin hardware wallets and security devices",category:"Bitcoin"},{name:"Purism",url:"https://puri.sm",description:"Privacy-respecting laptops and phones",category:"Electronics"},{name:"Silent Pocket",url:"https://silentpocket.com",description:"Faraday bags and signal blocking accessories",category:"Accessories"},{name:"Privacy Pros",url:"https://privacypros.io",description:"Billfodl and crypto security products",category:"Bitcoin"},{name:"Decentralized Web",url:"https://getdweb.net",description:"Decentralized web hosting and services",category:"Services"}];function f2({location:e,onClear:t}){return m.jsxs("div",{className:"space-y-8",children:[m.jsx(Mt,{className:"bg-primary/5 border-primary/20",children:m.jsx(qt,{className:"p-6",children:m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center shrink-0",children:m.jsx(Ep,{className:"h-6 w-6 text-primary"})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold mb-1",children:["No Lockers in ",e]}),m.jsx("p",{className:"text-muted-foreground",children:"DeadDropstr lockers aren't available in your area yet. Check out these partner sites that ship directly while we expand."})]})]})})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Featured Partner Stores"}),m.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:GV.map(n=>m.jsxs(Mt,{className:"hover:border-primary transition-colors group",children:[m.jsx(Vn,{className:"pb-3",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsx(gr,{className:"text-lg group-hover:text-primary transition-colors",children:n.name}),m.jsx(Cn,{variant:"secondary",children:n.category})]})}),m.jsxs(qt,{className:"space-y-3",children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),m.jsx(pt,{variant:"outline",className:"w-full",onClick:()=>window.open(n.url,"_blank"),children:"Visit Store "})]})]},n.name))})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4 border-t",children:[m.jsx(pt,{variant:"outline",onClick:t,children:"Clear Search"}),m.jsxs(pt,{variant:"outline",onClick:()=>window.open("https://github.com/PlutarchsEcho/nostr-dead-drop-lockers","_blank"),children:["Request Locker in ",e]})]})]})}function YV({onComplete:e}){const[t,n]=C.useState({storeName:"",description:"",contact:""}),r=()=>{console.log("Vendor registration:",t),e()};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{children:"Store Name"}),m.jsx(fn,{placeholder:"Your store name",value:t.storeName,onChange:i=>n({...t,storeName:i.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{children:"Description"}),m.jsx(fn,{placeholder:"What do you sell?",value:t.description,onChange:i=>n({...t,description:i.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{children:"Contact (Nostr DM or Email)"}),m.jsx(fn,{placeholder:"How buyers can reach you",value:t.contact,onChange:i=>n({...t,contact:i.target.value})})]}),m.jsx("div",{className:"flex gap-2",children:m.jsx(pt,{onClick:r,className:"flex-1",children:"Register as Vendor"})}),m.jsxs("div",{className:"text-sm text-muted-foreground",children:[m.jsx("p",{className:"font-medium mb-2",children:"How it works:"}),m.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[m.jsx("li",{children:"Register your store profile"}),m.jsx("li",{children:"List products with prices in sats"}),m.jsx("li",{children:"When someone buys, you'll receive their chosen locker location"}),m.jsx("li",{children:"Ship the product to that locker"}),m.jsx("li",{children:"Buyer gets notified and picks up with a code"})]})]})]})}var A_="Radio",[JV,GA]=Pn(A_),[QV,XV]=JV(A_),YA=C.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:l,value:u="on",onCheck:d,form:p,...y}=e,[g,b]=C.useState(null),_=ft(t,E=>b(E)),S=C.useRef(!1),v=g?p||!!g.closest("form"):!0;return m.jsxs(QV,{scope:n,checked:i,disabled:l,children:[m.jsx(Ge.button,{type:"button",role:"radio","aria-checked":i,"data-state":eR(i),"data-disabled":l?"":void 0,disabled:l,value:u,...y,ref:_,onClick:Ue(e.onClick,E=>{i||d==null||d(),v&&(S.current=E.isPropagationStopped(),S.current||E.stopPropagation())})}),v&&m.jsx(XA,{control:g,bubbles:!S.current,name:r,value:u,checked:i,required:s,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});YA.displayName=A_;var JA="RadioIndicator",QA=C.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,s=XV(JA,n);return m.jsx(jn,{present:r||s.checked,children:m.jsx(Ge.span,{"data-state":eR(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})})});QA.displayName=JA;var eq="RadioBubbleInput",XA=C.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const l=C.useRef(null),u=ft(l,s),d=Tm(n),p=hm(t);return C.useEffect(()=>{const y=l.current;if(!y)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&_){const S=new Event("click",{bubbles:r});_.call(y,n),y.dispatchEvent(S)}},[d,n,r]),m.jsx(Ge.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});XA.displayName=eq;function eR(e){return e?"checked":"unchecked"}var tq=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Rm="RadioGroup",[nq,rG]=Pn(Rm,[fu,GA]),tR=fu(),nR=GA(),[rq,iq]=nq(Rm),rR=C.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:l=!1,disabled:u=!1,orientation:d,dir:p,loop:y=!0,onValueChange:g,...b}=e,_=tR(n),S=_l(p),[v,E]=ni({prop:s,defaultProp:i??"",onChange:g,caller:Rm});return m.jsx(rq,{scope:n,name:r,required:l,disabled:u,value:v,onValueChange:E,children:m.jsx(c_,{asChild:!0,..._,orientation:d,dir:S,loop:y,children:m.jsx(Ge.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":u?"":void 0,dir:S,...b,ref:t})})})});rR.displayName=Rm;var iR="RadioGroupItem",oR=C.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,s=iq(iR,n),l=s.disabled||r,u=tR(n),d=nR(n),p=C.useRef(null),y=ft(t,p),g=s.value===i.value,b=C.useRef(!1);return C.useEffect(()=>{const _=v=>{tq.includes(v.key)&&(b.current=!0)},S=()=>b.current=!1;return document.addEventListener("keydown",_),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",_),document.removeEventListener("keyup",S)}},[]),m.jsx(u_,{asChild:!0,...u,focusable:!l,active:g,children:m.jsx(YA,{disabled:l,required:s.required,checked:g,...d,...i,name:s.name,ref:y,onCheck:()=>s.onValueChange(i.value),onKeyDown:Ue(_=>{_.key==="Enter"&&_.preventDefault()}),onFocus:Ue(i.onFocus,()=>{var _;b.current&&((_=p.current)==null||_.click())})})})});oR.displayName=iR;var oq="RadioGroupIndicator",sR=C.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=nR(n);return m.jsx(QA,{...i,...r,ref:t})});sR.displayName=oq;var aR=rR,lR=oR,sq=sR;const cR=C.forwardRef(({className:e,...t},n)=>m.jsx(aR,{className:We("grid gap-2",e),...t,ref:n}));cR.displayName=aR.displayName;const uR=C.forwardRef(({className:e,...t},n)=>m.jsx(lR,{ref:n,className:We("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:m.jsx(sq,{className:"flex items-center justify-center",children:m.jsx(aN,{className:"h-2.5 w-2.5 fill-current text-current"})})}));uR.displayName=lR.displayName;const h2=[{id:"1",dTag:"prod-001",title:"Privacy-First Smartphone",description:"De-googled Android phone with GrapheneOS pre-installed. Full privacy setup including hardened browser, encrypted messaging, and no Google services. Perfect for those who value their digital privacy.",price:899e3,category:"Electronics",vendor:"PrivacyTech Co",vendorNpub:"npub1abc...",inStock:!0},{id:"2",dTag:"prod-002",title:"Faraday Phone Pouch",description:"Military-grade signal blocking pouch. Protects against tracking, surveillance, and unauthorized access to your device.",price:45e3,category:"Accessories",vendor:"SignalSafe",vendorNpub:"npub1def...",inStock:!0}],p2=[{id:"1",name:"Downtown SF",location:"San Francisco, CA",geohash:"9q8yyz"},{id:"2",name:"Union Square",location:"New York, NY",geohash:"9q8yyk"},{id:"3",name:"Tech Hub",location:"Seattle, WA",geohash:"dpwh"},{id:"4",name:"LAX Area",location:"Los Angeles, CA",geohash:"9q8yym"}];function aq(){var g;const{dTag:e}=n_(),{toast:t}=ru(),[n,r]=C.useState(!1),[i,s]=C.useState(""),[l,u]=C.useState("locker"),d=h2.find(b=>b.dTag===e)||h2[0],p=b=>b>=1e8?` ${(b/1e8).toFixed(3)}`:b>=1e6?`${(b/1e6).toFixed(2)}M sats`:b>=1e3?`${(b/1e3).toFixed(1)}k sats`:`${b} sats`,y=()=>{t({title:"Order placed!",description:"The vendor has been notified. You'll receive a pickup code once they ship to your selected locker."}),r(!1),u("locker"),s("")};return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[m.jsx(pt,{variant:"ghost",asChild:!0,className:"mb-4",children:m.jsxs(Wn,{to:"/marketplace",children:[m.jsx(oN,{className:"h-4 w-4 mr-2"}),"Back to Marketplace"]})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:m.jsx(ip,{className:"h-32 w-32 text-muted-foreground"})}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx(Cn,{className:"mb-2",children:d.category}),m.jsx("h1",{className:"text-3xl font-bold mb-2",children:d.title}),m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[m.jsx(c0,{className:"h-4 w-4"}),m.jsx("span",{children:d.vendor})]})]}),m.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:d.description}),m.jsxs("div",{className:"flex items-center justify-between py-4 border-y",children:[m.jsx("span",{className:"text-3xl font-bold",children:p(d.price)}),m.jsx(Cn,{variant:d.inStock?"default":"secondary",children:d.inStock?"In Stock":"Out of Stock"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[m.jsx(bF,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Ships to DeadDropstr Lockers"}),m.jsx("p",{className:"text-muted-foreground",children:"Pick up anonymously at a location near you"})]})]}),m.jsx(pt,{size:"lg",className:"w-full",disabled:!d.inStock,onClick:()=>r(!0),children:d.inStock?"Buy Now":"Out of Stock"})]})]})]}),m.jsxs(Mt,{className:"mt-12",children:[m.jsx(Vn,{children:m.jsx(gr,{children:"How DeadDropstr Delivery Works"})}),m.jsx(qt,{children:m.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-center",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:m.jsx("span",{className:"font-bold",children:"1"})}),m.jsx("p",{className:"font-medium",children:"Choose Locker"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a convenient pickup location"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:m.jsx("span",{className:"font-bold",children:"2"})}),m.jsx("p",{className:"font-medium",children:"Pay with Bitcoin"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Lightning or on-chain"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:m.jsx("span",{className:"font-bold",children:"3"})}),m.jsx("p",{className:"font-medium",children:"Vendor Ships"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Product delivered to your locker"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:m.jsx("span",{className:"font-bold",children:"4"})}),m.jsx("p",{className:"font-medium",children:"Pick Up"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive code & collect anonymously"})]})]})})]})]}),m.jsx(fl,{open:n,onOpenChange:r,children:m.jsxs(oa,{className:"max-w-lg",children:[m.jsxs(wl,{children:[m.jsx(du,{children:"Complete Your Order"}),m.jsx(uf,{children:"Choose a locker location for pickup"})]}),l==="locker"&&m.jsxs("div",{className:"space-y-4",children:[m.jsx(cR,{value:i,onValueChange:s,children:m.jsx("div",{className:"space-y-2",children:p2.map(b=>m.jsxs("div",{children:[m.jsx(uR,{value:b.id,id:b.id,className:"peer sr-only"}),m.jsx(Rn,{htmlFor:b.id,className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-muted peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Ep,{className:"h-5 w-5 text-muted-foreground"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:b.name}),m.jsx("p",{className:"text-sm text-muted-foreground",children:b.location})]})]})})]},b.id))})}),m.jsx(pt,{className:"w-full",disabled:!i,onClick:()=>u("confirm"),children:"Continue"})]}),l==="confirm"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Summary"}),m.jsx("p",{className:"font-medium",children:d.title}),m.jsx("p",{className:"text-lg font-bold",children:p(d.price)}),m.jsxs("div",{className:"pt-2 border-t",children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Deliver to:"}),m.jsx("p",{className:"font-medium",children:(g=p2.find(b=>b.id===i))==null?void 0:g.name})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(pt,{variant:"outline",onClick:()=>u("locker"),children:"Back"}),m.jsx(pt,{className:"flex-1",onClick:y,children:"Pay & Place Order"})]})]})]})})]})}function Qh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wv={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var m2;function lq(){return m2||(m2=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function l(p,y){if(!i[p]){if(!r[p]){var g=typeof Qh=="function"&&Qh;if(!y&&g)return g(p,!0);if(u)return u(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var _=i[p]={exports:{}};r[p][0].call(_.exports,function(S){var v=r[p][1][S];return l(v||S)},_,_.exports,n,r,i,s)}return i[p].exports}for(var u=typeof Qh=="function"&&Qh,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(n,r,i){var s=n("./utils"),l=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var p,y,g,b,_,S,v,E=[],k=0,T=d.length,A=T,z=s.getTypeOf(d)!=="string";k<d.length;)A=T-k,g=z?(p=d[k++],y=k<T?d[k++]:0,k<T?d[k++]:0):(p=d.charCodeAt(k++),y=k<T?d.charCodeAt(k++):0,k<T?d.charCodeAt(k++):0),b=p>>2,_=(3&p)<<4|y>>4,S=1<A?(15&y)<<2|g>>6:64,v=2<A?63&g:64,E.push(u.charAt(b)+u.charAt(_)+u.charAt(S)+u.charAt(v));return E.join("")},i.decode=function(d){var p,y,g,b,_,S,v=0,E=0,k="data:";if(d.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var T,A=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&A--,d.charAt(d.length-2)===u.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=l.uint8array?new Uint8Array(0|A):new Array(0|A);v<d.length;)p=u.indexOf(d.charAt(v++))<<2|(b=u.indexOf(d.charAt(v++)))>>4,y=(15&b)<<4|(_=u.indexOf(d.charAt(v++)))>>2,g=(3&_)<<6|(S=u.indexOf(d.charAt(v++))),T[E++]=p,_!==64&&(T[E++]=y),S!==64&&(T[E++]=g);return T}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),l=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function p(y,g,b,_,S){this.compressedSize=y,this.uncompressedSize=g,this.crc32=b,this.compression=_,this.compressedContent=S}p.prototype={getContentWorker:function(){var y=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),g=this;return y.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(y,g,b){return y.pipe(new u).pipe(new d("uncompressedSize")).pipe(g.compressWorker(b)).pipe(new d("compressedSize")).withStreamInfo("compression",g)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),l=function(){for(var u,d=[],p=0;p<256;p++){u=p;for(var y=0;y<8;y++)u=1&u?3988292384^u>>>1:u>>>1;d[p]=u}return d}();r.exports=function(u,d){return u!==void 0&&u.length?s.getTypeOf(u)!=="string"?function(p,y,g,b){var _=l,S=b+g;p^=-1;for(var v=b;v<S;v++)p=p>>>8^_[255&(p^y[v])];return-1^p}(0|d,u,u.length,0):function(p,y,g,b){var _=l,S=b+g;p^=-1;for(var v=b;v<S;v++)p=p>>>8^_[255&(p^y.charCodeAt(v))];return-1^p}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),u=n("./utils"),d=n("./stream/GenericWorker"),p=s?"uint8array":"array";function y(g,b){d.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}i.magic="\b\0",u.inherits(y,d),y.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,g.data),!1)},y.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}},i.compressWorker=function(g){return new y("Deflate",g)},i.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(_,S){var v,E="";for(v=0;v<S;v++)E+=String.fromCharCode(255&_),_>>>=8;return E}function l(_,S,v,E,k,T){var A,z,D=_.file,Z=_.compression,W=T!==p.utf8encode,q=u.transformTo("string",T(D.name)),U=u.transformTo("string",p.utf8encode(D.name)),V=D.comment,$=u.transformTo("string",T(V)),B=u.transformTo("string",p.utf8encode(V)),X=U.length!==D.name.length,j=B.length!==V.length,K="",oe="",ie="",te=D.dir,ee=D.date,le={crc32:0,compressedSize:0,uncompressedSize:0};S&&!v||(le.crc32=_.crc32,le.compressedSize=_.compressedSize,le.uncompressedSize=_.uncompressedSize);var H=0;S&&(H|=8),W||!X&&!j||(H|=2048);var Q=0,ke=0;te&&(Q|=16),k==="UNIX"?(ke=798,Q|=function(ve,Ie){var Pe=ve;return ve||(Pe=Ie?16893:33204),(65535&Pe)<<16}(D.unixPermissions,te)):(ke=20,Q|=function(ve){return 63&(ve||0)}(D.dosPermissions)),A=ee.getUTCHours(),A<<=6,A|=ee.getUTCMinutes(),A<<=5,A|=ee.getUTCSeconds()/2,z=ee.getUTCFullYear()-1980,z<<=4,z|=ee.getUTCMonth()+1,z<<=5,z|=ee.getUTCDate(),X&&(oe=s(1,1)+s(y(q),4)+U,K+="up"+s(oe.length,2)+oe),j&&(ie=s(1,1)+s(y($),4)+B,K+="uc"+s(ie.length,2)+ie);var _e="";return _e+=`
\0`,_e+=s(H,2),_e+=Z.magic,_e+=s(A,2),_e+=s(z,2),_e+=s(le.crc32,4),_e+=s(le.compressedSize,4),_e+=s(le.uncompressedSize,4),_e+=s(q.length,2),_e+=s(K.length,2),{fileRecord:g.LOCAL_FILE_HEADER+_e+q+K,dirRecord:g.CENTRAL_FILE_HEADER+s(ke,2)+_e+s($.length,2)+"\0\0\0\0"+s(Q,4)+s(E,4)+q+K+$}}var u=n("../utils"),d=n("../stream/GenericWorker"),p=n("../utf8"),y=n("../crc32"),g=n("../signature");function b(_,S,v,E){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=v,this.encodeFileName=E,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,d),b.prototype.push=function(_){var S=_.meta.percent||0,v=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,d.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:v?(S+100*(v-E-1))/v:100}}))},b.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var S=this.streamFiles&&!_.file.dir;if(S){var v=l(_,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(_){this.accumulate=!1;var S=this.streamFiles&&!_.file.dir,v=l(_,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),S)this.push({data:function(E){return g.DATA_DESCRIPTOR+s(E.crc32,4)+s(E.compressedSize,4)+s(E.uncompressedSize,4)}(_),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var _=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var v=this.bytesWritten-_,E=function(k,T,A,z,D){var Z=u.transformTo("string",D(z));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(k,2)+s(k,2)+s(T,4)+s(A,4)+s(Z.length,2)+Z}(this.dirRecords.length,v,_,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(_){this._sources.push(_);var S=this;return _.on("data",function(v){S.processChunk(v)}),_.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),_.on("error",function(v){S.error(v)}),this},b.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(_){var S=this._sources;if(!d.prototype.error.call(this,_))return!1;for(var v=0;v<S.length;v++)try{S[v].error(_)}catch{}return!0},b.prototype.lock=function(){d.prototype.lock.call(this);for(var _=this._sources,S=0;S<_.length;S++)_[S].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),l=n("./ZipFileWorker");i.generateWorker=function(u,d,p){var y=new l(d.streamFiles,p,d.platform,d.encodeFileName),g=0;try{u.forEach(function(b,_){g++;var S=function(T,A){var z=T||A,D=s[z];if(!D)throw new Error(z+" is not a valid compression method !");return D}(_.options.compression,d.compression),v=_.options.compressionOptions||d.compressionOptions||{},E=_.dir,k=_.date;_._compressWorker(S,v).withStreamInfo("file",{name:b,dir:E,date:k,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(y)}),y.entriesCount=g}catch(b){y.error(b)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var u in this)typeof this[u]!="function"&&(l[u]=this[u]);return l}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(l,u){return new s().loadAsync(l,u)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),l=n("./external"),u=n("./utf8"),d=n("./zipEntries"),p=n("./stream/Crc32Probe"),y=n("./nodejsUtils");function g(b){return new l.Promise(function(_,S){var v=b.decompressed.getContentWorker().pipe(new p);v.on("error",function(E){S(E)}).on("end",function(){v.streamInfo.crc32!==b.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}r.exports=function(b,_){var S=this;return _=s.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),y.isNode&&y.isStream(b)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",b,!0,_.optimizedBinaryString,_.base64).then(function(v){var E=new d(_);return E.load(v),E}).then(function(v){var E=[l.Promise.resolve(v)],k=v.files;if(_.checkCRC32)for(var T=0;T<k.length;T++)E.push(g(k[T]));return l.Promise.all(E)}).then(function(v){for(var E=v.shift(),k=E.files,T=0;T<k.length;T++){var A=k[T],z=A.fileNameStr,D=s.resolve(A.fileNameStr);S.file(D,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:_.createFolders}),A.dir||(S.file(D).unsafeOriginalName=z)}return E.zipComment.length&&(S.comment=E.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),l=n("../stream/GenericWorker");function u(d,p){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}s.inherits(u,l),u.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(y){p.push({data:y,meta:{percent:0}})}).on("error",function(y){p.isPaused?this.generatedError=y:p.error(y)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function l(u,d,p){s.call(this,d),this._helper=u;var y=this;u.on("data",function(g,b){y.push(g)||y._helper.pause(),p&&p(b)}).on("error",function(g){y.emit("error",g)}).on("end",function(){y.push(null)})}n("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(D,Z,W){var q,U=u.getTypeOf(Z),V=u.extend(W||{},y);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(D=k(D)),V.createFolders&&(q=E(D))&&T.call(this,q,!0);var $=U==="string"&&V.binary===!1&&V.base64===!1;W&&W.binary!==void 0||(V.binary=!$),(Z instanceof g&&Z.uncompressedSize===0||V.dir||!Z||Z.length===0)&&(V.base64=!1,V.binary=!0,Z="",V.compression="STORE",U="string");var B=null;B=Z instanceof g||Z instanceof d?Z:S.isNode&&S.isStream(Z)?new v(D,Z):u.prepareContent(D,Z,V.binary,V.optimizedBinaryString,V.base64);var X=new b(D,B,V);this.files[D]=X}var l=n("./utf8"),u=n("./utils"),d=n("./stream/GenericWorker"),p=n("./stream/StreamHelper"),y=n("./defaults"),g=n("./compressedObject"),b=n("./zipObject"),_=n("./generate"),S=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),E=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var Z=D.lastIndexOf("/");return 0<Z?D.substring(0,Z):""},k=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},T=function(D,Z){return Z=Z!==void 0?Z:y.createFolders,D=k(D),this.files[D]||s.call(this,D,null,{dir:!0,createFolders:Z}),this.files[D]};function A(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var Z,W,q;for(Z in this.files)q=this.files[Z],(W=Z.slice(this.root.length,Z.length))&&Z.slice(0,this.root.length)===this.root&&D(W,q)},filter:function(D){var Z=[];return this.forEach(function(W,q){D(W,q)&&Z.push(q)}),Z},file:function(D,Z,W){if(arguments.length!==1)return D=this.root+D,s.call(this,D,Z,W),this;if(A(D)){var q=D;return this.filter(function(V,$){return!$.dir&&q.test(V)})}var U=this.files[this.root+D];return U&&!U.dir?U:null},folder:function(D){if(!D)return this;if(A(D))return this.filter(function(U,V){return V.dir&&D.test(U)});var Z=this.root+D,W=T.call(this,Z),q=this.clone();return q.root=W.name,q},remove:function(D){D=this.root+D;var Z=this.files[D];if(Z||(D.slice(-1)!=="/"&&(D+="/"),Z=this.files[D]),Z&&!Z.dir)delete this.files[D];else for(var W=this.filter(function(U,V){return V.name.slice(0,D.length)===D}),q=0;q<W.length;q++)delete this.files[W[q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var Z,W={};try{if((W=u.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=W.type.toLowerCase(),W.compression=W.compression.toUpperCase(),W.type==="binarystring"&&(W.type="string"),!W.type)throw new Error("No output type specified.");u.checkSupport(W.type),W.platform!=="darwin"&&W.platform!=="freebsd"&&W.platform!=="linux"&&W.platform!=="sunos"||(W.platform="UNIX"),W.platform==="win32"&&(W.platform="DOS");var q=W.comment||this.comment||"";Z=_.generateWorker(this,W,q)}catch(U){(Z=new d("error")).error(U)}return new p(Z,W.type||"string",W.mimeType)},generateAsync:function(D,Z){return this.generateInternalStream(D).accumulate(Z)},generateNodeStream:function(D,Z){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(Z)}};r.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function l(u){s.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}n("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data[this.zero+u]},l.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),p=u.charCodeAt(1),y=u.charCodeAt(2),g=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===d&&this.data[b+1]===p&&this.data[b+2]===y&&this.data[b+3]===g)return b-this.zero;return-1},l.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),p=u.charCodeAt(1),y=u.charCodeAt(2),g=u.charCodeAt(3),b=this.readData(4);return d===b[0]&&p===b[1]&&y===b[2]&&g===b[3]},l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function l(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,p=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=u,p},readString:function(u){return s.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=l},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},l.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},l.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),l=n("../support"),u=n("./ArrayReader"),d=n("./StringReader"),p=n("./NodeBufferReader"),y=n("./Uint8ArrayReader");r.exports=function(g){var b=s.getTypeOf(g);return s.checkSupport(b),b!=="string"||l.uint8array?b==="nodebuffer"?new p(g):l.uint8array?new y(s.transformTo("uint8array",g)):new u(s.transformTo("array",g)):new d(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),l=n("../utils");function u(d){s.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(u,s),u.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),l=n("../crc32");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,s),u.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),l=n("./GenericWorker");function u(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}s.inherits(u,l),u.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}l.prototype.processChunk.call(this,d)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),l=n("./GenericWorker");function u(d){l.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(y){p.dataIsReady=!0,p.data=y,p.max=y&&y.length||0,p.type=s.getTypeOf(y),p.isPaused||p._tickAndRepeat()},function(y){p.error(y)})}s.inherits(u,l),u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,u){return this._listeners[l].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,u){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,u)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var u=this;return l.on("data",function(d){u.processChunk(d)}),l.on("end",function(){u.end()}),l.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,u){return this.extraStreamInfo[l]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),l=n("./ConvertWorker"),u=n("./GenericWorker"),d=n("../base64"),p=n("../support"),y=n("../external"),g=null;if(p.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(S,v){return new y.Promise(function(E,k){var T=[],A=S._internalType,z=S._outputType,D=S._mimeType;S.on("data",function(Z,W){T.push(Z),v&&v(W)}).on("error",function(Z){T=[],k(Z)}).on("end",function(){try{var Z=function(W,q,U){switch(W){case"blob":return s.newBlob(s.transformTo("arraybuffer",q),U);case"base64":return d.encode(q);default:return s.transformTo(W,q)}}(z,function(W,q){var U,V=0,$=null,B=0;for(U=0;U<q.length;U++)B+=q[U].length;switch(W){case"string":return q.join("");case"array":return Array.prototype.concat.apply([],q);case"uint8array":for($=new Uint8Array(B),U=0;U<q.length;U++)$.set(q[U],V),V+=q[U].length;return $;case"nodebuffer":return Buffer.concat(q);default:throw new Error("concat : unsupported type '"+W+"'")}}(A,T),D);E(Z)}catch(W){k(W)}T=[]}).resume()})}function _(S,v,E){var k=v;switch(v){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=v,this._mimeType=E,s.checkSupport(k),this._worker=S.pipe(new l(k)),S.lock()}catch(T){this._worker=new u("error"),this._worker.error(T)}}_.prototype={accumulate:function(S){return b(this,S)},on:function(S,v){var E=this;return S==="data"?this._worker.on(S,function(k){v.call(E,k.data,k.meta)}):this._worker.on(S,function(){s.delay(v,arguments,E)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},S)}},r.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),l=n("./support"),u=n("./nodejsUtils"),d=n("./stream/GenericWorker"),p=new Array(256),y=0;y<256;y++)p[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;p[254]=p[254]=1;function g(){d.call(this,"utf-8 decode"),this.leftOver=null}function b(){d.call(this,"utf-8 encode")}i.utf8encode=function(_){return l.nodebuffer?u.newBufferFrom(_,"utf-8"):function(S){var v,E,k,T,A,z=S.length,D=0;for(T=0;T<z;T++)(64512&(E=S.charCodeAt(T)))==55296&&T+1<z&&(64512&(k=S.charCodeAt(T+1)))==56320&&(E=65536+(E-55296<<10)+(k-56320),T++),D+=E<128?1:E<2048?2:E<65536?3:4;for(v=l.uint8array?new Uint8Array(D):new Array(D),T=A=0;A<D;T++)(64512&(E=S.charCodeAt(T)))==55296&&T+1<z&&(64512&(k=S.charCodeAt(T+1)))==56320&&(E=65536+(E-55296<<10)+(k-56320),T++),E<128?v[A++]=E:(E<2048?v[A++]=192|E>>>6:(E<65536?v[A++]=224|E>>>12:(v[A++]=240|E>>>18,v[A++]=128|E>>>12&63),v[A++]=128|E>>>6&63),v[A++]=128|63&E);return v}(_)},i.utf8decode=function(_){return l.nodebuffer?s.transformTo("nodebuffer",_).toString("utf-8"):function(S){var v,E,k,T,A=S.length,z=new Array(2*A);for(v=E=0;v<A;)if((k=S[v++])<128)z[E++]=k;else if(4<(T=p[k]))z[E++]=65533,v+=T-1;else{for(k&=T===2?31:T===3?15:7;1<T&&v<A;)k=k<<6|63&S[v++],T--;1<T?z[E++]=65533:k<65536?z[E++]=k:(k-=65536,z[E++]=55296|k>>10&1023,z[E++]=56320|1023&k)}return z.length!==E&&(z.subarray?z=z.subarray(0,E):z.length=E),s.applyFromCharCode(z)}(_=s.transformTo(l.uint8array?"uint8array":"array",_))},s.inherits(g,d),g.prototype.processChunk=function(_){var S=s.transformTo(l.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var v=S;(S=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),S.set(v,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var E=function(T,A){var z;for((A=A||T.length)>T.length&&(A=T.length),z=A-1;0<=z&&(192&T[z])==128;)z--;return z<0||z===0?A:z+p[T[z]]>A?z:A}(S),k=S;E!==S.length&&(l.uint8array?(k=S.subarray(0,E),this.leftOver=S.subarray(E,S.length)):(k=S.slice(0,E),this.leftOver=S.slice(E,S.length))),this.push({data:i.utf8decode(k),meta:_.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,s.inherits(b,d),b.prototype.processChunk=function(_){this.push({data:i.utf8encode(_.data),meta:_.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),l=n("./base64"),u=n("./nodejsUtils"),d=n("./external");function p(v){return v}function y(v,E){for(var k=0;k<v.length;++k)E[k]=255&v.charCodeAt(k);return E}n("setimmediate"),i.newBlob=function(v,E){i.checkSupport("blob");try{return new Blob([v],{type:E})}catch{try{var k=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return k.append(v),k.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(v,E,k){var T=[],A=0,z=v.length;if(z<=k)return String.fromCharCode.apply(null,v);for(;A<z;)E==="array"||E==="nodebuffer"?T.push(String.fromCharCode.apply(null,v.slice(A,Math.min(A+k,z)))):T.push(String.fromCharCode.apply(null,v.subarray(A,Math.min(A+k,z)))),A+=k;return T.join("")},stringifyByChar:function(v){for(var E="",k=0;k<v.length;k++)E+=String.fromCharCode(v[k]);return E},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function b(v){var E=65536,k=i.getTypeOf(v),T=!0;if(k==="uint8array"?T=g.applyCanBeUsed.uint8array:k==="nodebuffer"&&(T=g.applyCanBeUsed.nodebuffer),T)for(;1<E;)try{return g.stringifyByChunk(v,k,E)}catch{E=Math.floor(E/2)}return g.stringifyByChar(v)}function _(v,E){for(var k=0;k<v.length;k++)E[k]=v[k];return E}i.applyFromCharCode=b;var S={};S.string={string:p,array:function(v){return y(v,new Array(v.length))},arraybuffer:function(v){return S.string.uint8array(v).buffer},uint8array:function(v){return y(v,new Uint8Array(v.length))},nodebuffer:function(v){return y(v,u.allocBuffer(v.length))}},S.array={string:b,array:p,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(v)}},S.arraybuffer={string:function(v){return b(new Uint8Array(v))},array:function(v){return _(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:p,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(new Uint8Array(v))}},S.uint8array={string:b,array:function(v){return _(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:p,nodebuffer:function(v){return u.newBufferFrom(v)}},S.nodebuffer={string:b,array:function(v){return _(v,new Array(v.length))},arraybuffer:function(v){return S.nodebuffer.uint8array(v).buffer},uint8array:function(v){return _(v,new Uint8Array(v.length))},nodebuffer:p},i.transformTo=function(v,E){if(E=E||"",!v)return E;i.checkSupport(v);var k=i.getTypeOf(E);return S[k][v](E)},i.resolve=function(v){for(var E=v.split("/"),k=[],T=0;T<E.length;T++){var A=E[T];A==="."||A===""&&T!==0&&T!==E.length-1||(A===".."?k.pop():k.push(A))}return k.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&u.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var E,k,T="";for(k=0;k<(v||"").length;k++)T+="\\x"+((E=v.charCodeAt(k))<16?"0":"")+E.toString(16).toUpperCase();return T},i.delay=function(v,E,k){setImmediate(function(){v.apply(k||null,E||[])})},i.inherits=function(v,E){function k(){}k.prototype=E.prototype,v.prototype=new k},i.extend=function(){var v,E,k={};for(v=0;v<arguments.length;v++)for(E in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],E)&&k[E]===void 0&&(k[E]=arguments[v][E]);return k},i.prepareContent=function(v,E,k,T,A){return d.Promise.resolve(E).then(function(z){return s.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new d.Promise(function(D,Z){var W=new FileReader;W.onload=function(q){D(q.target.result)},W.onerror=function(q){Z(q.target.error)},W.readAsArrayBuffer(z)}):z}).then(function(z){var D=i.getTypeOf(z);return D?(D==="arraybuffer"?z=i.transformTo("uint8array",z):D==="string"&&(A?z=l.decode(z):k&&T!==!0&&(z=function(Z){return y(Z,s.uint8array?new Uint8Array(Z.length):new Array(Z.length))}(z))),z):d.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),l=n("./utils"),u=n("./signature"),d=n("./zipEntry"),p=n("./support");function y(g){this.files=[],this.loadOptions=g}y.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(b)+", expected "+l.pretty(g)+")")}},isSignature:function(g,b){var _=this.reader.index;this.reader.setIndex(g);var S=this.reader.readString(4)===b;return this.reader.setIndex(_),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),b=p.uint8array?"uint8array":"array",_=l.transformTo(b,g);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,b,_,S=this.zip64EndOfCentralSize-44;0<S;)g=this.reader.readInt(2),b=this.reader.readInt(4),_=this.reader.readData(b),this.zip64ExtensibleData[g]={id:g,length:b,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,b;for(g=0;g<this.files.length;g++)b=this.files[g],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(g=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var b=g;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var S=b-_;if(0<S)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(g){this.reader=s(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),l=n("./utils"),u=n("./compressedObject"),d=n("./crc32"),p=n("./utf8"),y=n("./compressions"),g=n("./support");function b(_,S){this.options=_,this.loadOptions=S}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var S,v;if(_.skip(22),this.fileNameLength=_.readInt(2),v=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(E){for(var k in y)if(Object.prototype.hasOwnProperty.call(y,k)&&y[k].magic===E)return y[k];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,S,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var S=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(S),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var S,v,E,k=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<k;)S=_.readInt(2),v=_.readInt(2),E=_.readData(v),this.extraFields[S]={id:S,length:v,value:E};_.setIndex(k)},handleUTF8:function(){var _=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var v=l.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var k=l.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var S=s(_.value);return S.readInt(1)!==1||d(this.fileName)!==S.readInt(4)?null:p.utf8decode(S.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var S=s(_.value);return S.readInt(1)!==1||d(this.fileComment)!==S.readInt(4)?null:p.utf8decode(S.readData(_.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(S,v,E){this.name=S,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=v,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var l=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),d=n("./utf8"),p=n("./compressedObject"),y=n("./stream/GenericWorker");s.prototype={internalStream:function(S){var v=null,E="string";try{if(!S)throw new Error("No output type specified.");var k=(E=S.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),v=this._decompressWorker();var T=!this._dataBinary;T&&!k&&(v=v.pipe(new d.Utf8EncodeWorker)),!T&&k&&(v=v.pipe(new d.Utf8DecodeWorker))}catch(A){(v=new y("error")).error(A)}return new l(v,E,"")},async:function(S,v){return this.internalStream(S).accumulate(v)},nodeStream:function(S,v){return this.internalStream(S||"nodebuffer").toNodejsStream(v)},_compressWorker:function(S,v){if(this._data instanceof p&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(E,S,v)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof y?this._data:new u(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<g.length;_++)s.prototype[g[_]]=b;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var l,u,d=s.MutationObserver||s.WebKitMutationObserver;if(d){var p=0,y=new d(S),g=s.document.createTextNode("");y.observe(g,{characterData:!0}),l=function(){g.data=p=++p%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){S(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(S,0)};else{var b=new s.MessageChannel;b.port1.onmessage=S,l=function(){b.port2.postMessage(0)}}var _=[];function S(){var v,E;u=!0;for(var k=_.length;k;){for(E=_,_=[],v=-1;++v<k;)E[v]();k=_.length}u=!1}r.exports=function(v){_.push(v)!==1||u||l()}}).call(this,typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function l(){}var u={},d=["REJECTED"],p=["FULFILLED"],y=["PENDING"];function g(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,k!==l&&v(this,k)}function b(k,T,A){this.promise=k,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function _(k,T,A){s(function(){var z;try{z=T(A)}catch(D){return u.reject(k,D)}z===k?u.reject(k,new TypeError("Cannot resolve promise with itself")):u.resolve(k,z)})}function S(k){var T=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof T=="function")return function(){T.apply(k,arguments)}}function v(k,T){var A=!1;function z(W){A||(A=!0,u.reject(k,W))}function D(W){A||(A=!0,u.resolve(k,W))}var Z=E(function(){T(D,z)});Z.status==="error"&&z(Z.value)}function E(k,T){var A={};try{A.value=k(T),A.status="success"}catch(z){A.status="error",A.value=z}return A}(r.exports=g).prototype.finally=function(k){if(typeof k!="function")return this;var T=this.constructor;return this.then(function(A){return T.resolve(k()).then(function(){return A})},function(A){return T.resolve(k()).then(function(){throw A})})},g.prototype.catch=function(k){return this.then(null,k)},g.prototype.then=function(k,T){if(typeof k!="function"&&this.state===p||typeof T!="function"&&this.state===d)return this;var A=new this.constructor(l);return this.state!==y?_(A,this.state===p?k:T,this.outcome):this.queue.push(new b(A,k,T)),A},b.prototype.callFulfilled=function(k){u.resolve(this.promise,k)},b.prototype.otherCallFulfilled=function(k){_(this.promise,this.onFulfilled,k)},b.prototype.callRejected=function(k){u.reject(this.promise,k)},b.prototype.otherCallRejected=function(k){_(this.promise,this.onRejected,k)},u.resolve=function(k,T){var A=E(S,T);if(A.status==="error")return u.reject(k,A.value);var z=A.value;if(z)v(k,z);else{k.state=p,k.outcome=T;for(var D=-1,Z=k.queue.length;++D<Z;)k.queue[D].callFulfilled(T)}return k},u.reject=function(k,T){k.state=d,k.outcome=T;for(var A=-1,z=k.queue.length;++A<z;)k.queue[A].callRejected(T);return k},g.resolve=function(k){return k instanceof this?k:u.resolve(new this(l),k)},g.reject=function(k){var T=new this(l);return u.reject(T,k)},g.all=function(k){var T=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=k.length,z=!1;if(!A)return this.resolve([]);for(var D=new Array(A),Z=0,W=-1,q=new this(l);++W<A;)U(k[W],W);return q;function U(V,$){T.resolve(V).then(function(B){D[$]=B,++Z!==A||z||(z=!0,u.resolve(q,D))},function(B){z||(z=!0,u.reject(q,B))})}},g.race=function(k){var T=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=k.length,z=!1;if(!A)return this.resolve([]);for(var D=-1,Z=new this(l);++D<A;)W=k[D],T.resolve(W).then(function(q){z||(z=!0,u.resolve(Z,q))},function(q){z||(z=!0,u.reject(Z,q))});var W;return Z}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),l=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/messages"),p=n("./zlib/zstream"),y=Object.prototype.toString,g=0,b=-1,_=0,S=8;function v(k){if(!(this instanceof v))return new v(k);this.options=l.assign({level:b,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},k||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var A=s.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(A!==g)throw new Error(d[A]);if(T.header&&s.deflateSetHeader(this.strm,T.header),T.dictionary){var z;if(z=typeof T.dictionary=="string"?u.string2buf(T.dictionary):y.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(A=s.deflateSetDictionary(this.strm,z))!==g)throw new Error(d[A]);this._dict_set=!0}}function E(k,T){var A=new v(T);if(A.push(k,!0),A.err)throw A.msg||d[A.err];return A.result}v.prototype.push=function(k,T){var A,z,D=this.strm,Z=this.options.chunkSize;if(this.ended)return!1;z=T===~~T?T:T===!0?4:0,typeof k=="string"?D.input=u.string2buf(k):y.call(k)==="[object ArrayBuffer]"?D.input=new Uint8Array(k):D.input=k,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new l.Buf8(Z),D.next_out=0,D.avail_out=Z),(A=s.deflate(D,z))!==1&&A!==g)return this.onEnd(A),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(l.shrinkBuf(D.output,D.next_out))):this.onData(l.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&A!==1);return z===4?(A=s.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===g):z!==2||(this.onEnd(g),!(D.avail_out=0))},v.prototype.onData=function(k){this.chunks.push(k)},v.prototype.onEnd=function(k){k===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},i.Deflate=v,i.deflate=E,i.deflateRaw=function(k,T){return(T=T||{}).raw=!0,E(k,T)},i.gzip=function(k,T){return(T=T||{}).gzip=!0,E(k,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),l=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/constants"),p=n("./zlib/messages"),y=n("./zlib/zstream"),g=n("./zlib/gzheader"),b=Object.prototype.toString;function _(v){if(!(this instanceof _))return new _(v);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},v||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||v&&v.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var k=s.inflateInit2(this.strm,E.windowBits);if(k!==d.Z_OK)throw new Error(p[k]);this.header=new g,s.inflateGetHeader(this.strm,this.header)}function S(v,E){var k=new _(E);if(k.push(v,!0),k.err)throw k.msg||p[k.err];return k.result}_.prototype.push=function(v,E){var k,T,A,z,D,Z,W=this.strm,q=this.options.chunkSize,U=this.options.dictionary,V=!1;if(this.ended)return!1;T=E===~~E?E:E===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof v=="string"?W.input=u.binstring2buf(v):b.call(v)==="[object ArrayBuffer]"?W.input=new Uint8Array(v):W.input=v,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new l.Buf8(q),W.next_out=0,W.avail_out=q),(k=s.inflate(W,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&U&&(Z=typeof U=="string"?u.string2buf(U):b.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,k=s.inflateSetDictionary(this.strm,Z)),k===d.Z_BUF_ERROR&&V===!0&&(k=d.Z_OK,V=!1),k!==d.Z_STREAM_END&&k!==d.Z_OK)return this.onEnd(k),!(this.ended=!0);W.next_out&&(W.avail_out!==0&&k!==d.Z_STREAM_END&&(W.avail_in!==0||T!==d.Z_FINISH&&T!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=u.utf8border(W.output,W.next_out),z=W.next_out-A,D=u.buf2string(W.output,A),W.next_out=z,W.avail_out=q-z,z&&l.arraySet(W.output,W.output,A,z,0),this.onData(D)):this.onData(l.shrinkBuf(W.output,W.next_out)))),W.avail_in===0&&W.avail_out===0&&(V=!0)}while((0<W.avail_in||W.avail_out===0)&&k!==d.Z_STREAM_END);return k===d.Z_STREAM_END&&(T=d.Z_FINISH),T===d.Z_FINISH?(k=s.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===d.Z_OK):T!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(W.avail_out=0))},_.prototype.onData=function(v){this.chunks.push(v)},_.prototype.onEnd=function(v){v===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=_,i.inflate=S,i.inflateRaw=function(v,E){return(E=E||{}).raw=!0,S(v,E)},i.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var y=p.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var g in y)y.hasOwnProperty(g)&&(d[g]=y[g])}}return d},i.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var l={arraySet:function(d,p,y,g,b){if(p.subarray&&d.subarray)d.set(p.subarray(y,y+g),b);else for(var _=0;_<g;_++)d[b+_]=p[y+_]},flattenChunks:function(d){var p,y,g,b,_,S;for(p=g=0,y=d.length;p<y;p++)g+=d[p].length;for(S=new Uint8Array(g),p=b=0,y=d.length;p<y;p++)_=d[p],S.set(_,b),b+=_.length;return S}},u={arraySet:function(d,p,y,g,b){for(var _=0;_<g;_++)d[b+_]=p[y+_]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),l=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new s.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function y(g,b){if(b<65537&&(g.subarray&&u||!g.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(g,b));for(var _="",S=0;S<b;S++)_+=String.fromCharCode(g[S]);return _}d[254]=d[254]=1,i.string2buf=function(g){var b,_,S,v,E,k=g.length,T=0;for(v=0;v<k;v++)(64512&(_=g.charCodeAt(v)))==55296&&v+1<k&&(64512&(S=g.charCodeAt(v+1)))==56320&&(_=65536+(_-55296<<10)+(S-56320),v++),T+=_<128?1:_<2048?2:_<65536?3:4;for(b=new s.Buf8(T),v=E=0;E<T;v++)(64512&(_=g.charCodeAt(v)))==55296&&v+1<k&&(64512&(S=g.charCodeAt(v+1)))==56320&&(_=65536+(_-55296<<10)+(S-56320),v++),_<128?b[E++]=_:(_<2048?b[E++]=192|_>>>6:(_<65536?b[E++]=224|_>>>12:(b[E++]=240|_>>>18,b[E++]=128|_>>>12&63),b[E++]=128|_>>>6&63),b[E++]=128|63&_);return b},i.buf2binstring=function(g){return y(g,g.length)},i.binstring2buf=function(g){for(var b=new s.Buf8(g.length),_=0,S=b.length;_<S;_++)b[_]=g.charCodeAt(_);return b},i.buf2string=function(g,b){var _,S,v,E,k=b||g.length,T=new Array(2*k);for(_=S=0;_<k;)if((v=g[_++])<128)T[S++]=v;else if(4<(E=d[v]))T[S++]=65533,_+=E-1;else{for(v&=E===2?31:E===3?15:7;1<E&&_<k;)v=v<<6|63&g[_++],E--;1<E?T[S++]=65533:v<65536?T[S++]=v:(v-=65536,T[S++]=55296|v>>10&1023,T[S++]=56320|1023&v)}return y(T,S)},i.utf8border=function(g,b){var _;for((b=b||g.length)>g.length&&(b=g.length),_=b-1;0<=_&&(192&g[_])==128;)_--;return _<0||_===0?b:_+d[g[_]]>b?_:b}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,l,u,d){for(var p=65535&s|0,y=s>>>16&65535|0,g=0;u!==0;){for(u-=g=2e3<u?2e3:u;y=y+(p=p+l[d++]|0)|0,--g;);p%=65521,y%=65521}return p|y<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var l,u=[],d=0;d<256;d++){l=d;for(var p=0;p<8;p++)l=1&l?3988292384^l>>>1:l>>>1;u[d]=l}return u}();r.exports=function(l,u,d,p){var y=s,g=p+d;l^=-1;for(var b=p;b<g;b++)l=l>>>8^y[255&(l^u[b])];return-1^l}},{}],46:[function(n,r,i){var s,l=n("../utils/common"),u=n("./trees"),d=n("./adler32"),p=n("./crc32"),y=n("./messages"),g=0,b=4,_=0,S=-2,v=-1,E=4,k=2,T=8,A=9,z=286,D=30,Z=19,W=2*z+1,q=15,U=3,V=258,$=V+U+1,B=42,X=113,j=1,K=2,oe=3,ie=4;function te(F,Ne){return F.msg=y[Ne],Ne}function ee(F){return(F<<1)-(4<F?9:0)}function le(F){for(var Ne=F.length;0<=--Ne;)F[Ne]=0}function H(F){var Ne=F.state,be=Ne.pending;be>F.avail_out&&(be=F.avail_out),be!==0&&(l.arraySet(F.output,Ne.pending_buf,Ne.pending_out,be,F.next_out),F.next_out+=be,Ne.pending_out+=be,F.total_out+=be,F.avail_out-=be,Ne.pending-=be,Ne.pending===0&&(Ne.pending_out=0))}function Q(F,Ne){u._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,Ne),F.block_start=F.strstart,H(F.strm)}function ke(F,Ne){F.pending_buf[F.pending++]=Ne}function _e(F,Ne){F.pending_buf[F.pending++]=Ne>>>8&255,F.pending_buf[F.pending++]=255&Ne}function ve(F,Ne){var be,se,re=F.max_chain_length,pe=F.strstart,Re=F.prev_length,je=F.nice_match,me=F.strstart>F.w_size-$?F.strstart-(F.w_size-$):0,Be=F.window,qe=F.w_mask,De=F.prev,tt=F.strstart+V,Y=Be[pe+Re-1],R=Be[pe+Re];F.prev_length>=F.good_match&&(re>>=2),je>F.lookahead&&(je=F.lookahead);do if(Be[(be=Ne)+Re]===R&&Be[be+Re-1]===Y&&Be[be]===Be[pe]&&Be[++be]===Be[pe+1]){pe+=2,be++;do;while(Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&pe<tt);if(se=V-(tt-pe),pe=tt-V,Re<se){if(F.match_start=Ne,je<=(Re=se))break;Y=Be[pe+Re-1],R=Be[pe+Re]}}while((Ne=De[Ne&qe])>me&&--re!=0);return Re<=F.lookahead?Re:F.lookahead}function Ie(F){var Ne,be,se,re,pe,Re,je,me,Be,qe,De=F.w_size;do{if(re=F.window_size-F.lookahead-F.strstart,F.strstart>=De+(De-$)){for(l.arraySet(F.window,F.window,De,De,0),F.match_start-=De,F.strstart-=De,F.block_start-=De,Ne=be=F.hash_size;se=F.head[--Ne],F.head[Ne]=De<=se?se-De:0,--be;);for(Ne=be=De;se=F.prev[--Ne],F.prev[Ne]=De<=se?se-De:0,--be;);re+=De}if(F.strm.avail_in===0)break;if(Re=F.strm,je=F.window,me=F.strstart+F.lookahead,Be=re,qe=void 0,qe=Re.avail_in,Be<qe&&(qe=Be),be=qe===0?0:(Re.avail_in-=qe,l.arraySet(je,Re.input,Re.next_in,qe,me),Re.state.wrap===1?Re.adler=d(Re.adler,je,qe,me):Re.state.wrap===2&&(Re.adler=p(Re.adler,je,qe,me)),Re.next_in+=qe,Re.total_in+=qe,qe),F.lookahead+=be,F.lookahead+F.insert>=U)for(pe=F.strstart-F.insert,F.ins_h=F.window[pe],F.ins_h=(F.ins_h<<F.hash_shift^F.window[pe+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[pe+U-1])&F.hash_mask,F.prev[pe&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=pe,pe++,F.insert--,!(F.lookahead+F.insert<U)););}while(F.lookahead<$&&F.strm.avail_in!==0)}function Pe(F,Ne){for(var be,se;;){if(F.lookahead<$){if(Ie(F),F.lookahead<$&&Ne===g)return j;if(F.lookahead===0)break}if(be=0,F.lookahead>=U&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+U-1])&F.hash_mask,be=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),be!==0&&F.strstart-be<=F.w_size-$&&(F.match_length=ve(F,be)),F.match_length>=U)if(se=u._tr_tally(F,F.strstart-F.match_start,F.match_length-U),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=U){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+U-1])&F.hash_mask,be=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else se=u._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(se&&(Q(F,!1),F.strm.avail_out===0))return j}return F.insert=F.strstart<U-1?F.strstart:U-1,Ne===b?(Q(F,!0),F.strm.avail_out===0?oe:ie):F.last_lit&&(Q(F,!1),F.strm.avail_out===0)?j:K}function Te(F,Ne){for(var be,se,re;;){if(F.lookahead<$){if(Ie(F),F.lookahead<$&&Ne===g)return j;if(F.lookahead===0)break}if(be=0,F.lookahead>=U&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+U-1])&F.hash_mask,be=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=U-1,be!==0&&F.prev_length<F.max_lazy_match&&F.strstart-be<=F.w_size-$&&(F.match_length=ve(F,be),F.match_length<=5&&(F.strategy===1||F.match_length===U&&4096<F.strstart-F.match_start)&&(F.match_length=U-1)),F.prev_length>=U&&F.match_length<=F.prev_length){for(re=F.strstart+F.lookahead-U,se=u._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-U),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=re&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+U-1])&F.hash_mask,be=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=U-1,F.strstart++,se&&(Q(F,!1),F.strm.avail_out===0))return j}else if(F.match_available){if((se=u._tr_tally(F,0,F.window[F.strstart-1]))&&Q(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return j}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(se=u._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<U-1?F.strstart:U-1,Ne===b?(Q(F,!0),F.strm.avail_out===0?oe:ie):F.last_lit&&(Q(F,!1),F.strm.avail_out===0)?j:K}function Oe(F,Ne,be,se,re){this.good_length=F,this.max_lazy=Ne,this.nice_length=be,this.max_chain=se,this.func=re}function He(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*W),this.dyn_dtree=new l.Buf16(2*(2*D+1)),this.bl_tree=new l.Buf16(2*(2*Z+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(q+1),this.heap=new l.Buf16(2*z+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*z+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Qe(F){var Ne;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=k,(Ne=F.state).pending=0,Ne.pending_out=0,Ne.wrap<0&&(Ne.wrap=-Ne.wrap),Ne.status=Ne.wrap?B:X,F.adler=Ne.wrap===2?0:1,Ne.last_flush=g,u._tr_init(Ne),_):te(F,S)}function ot(F){var Ne=Qe(F);return Ne===_&&function(be){be.window_size=2*be.w_size,le(be.head),be.max_lazy_match=s[be.level].max_lazy,be.good_match=s[be.level].good_length,be.nice_match=s[be.level].nice_length,be.max_chain_length=s[be.level].max_chain,be.strstart=0,be.block_start=0,be.lookahead=0,be.insert=0,be.match_length=be.prev_length=U-1,be.match_available=0,be.ins_h=0}(F.state),Ne}function at(F,Ne,be,se,re,pe){if(!F)return S;var Re=1;if(Ne===v&&(Ne=6),se<0?(Re=0,se=-se):15<se&&(Re=2,se-=16),re<1||A<re||be!==T||se<8||15<se||Ne<0||9<Ne||pe<0||E<pe)return te(F,S);se===8&&(se=9);var je=new He;return(F.state=je).strm=F,je.wrap=Re,je.gzhead=null,je.w_bits=se,je.w_size=1<<je.w_bits,je.w_mask=je.w_size-1,je.hash_bits=re+7,je.hash_size=1<<je.hash_bits,je.hash_mask=je.hash_size-1,je.hash_shift=~~((je.hash_bits+U-1)/U),je.window=new l.Buf8(2*je.w_size),je.head=new l.Buf16(je.hash_size),je.prev=new l.Buf16(je.w_size),je.lit_bufsize=1<<re+6,je.pending_buf_size=4*je.lit_bufsize,je.pending_buf=new l.Buf8(je.pending_buf_size),je.d_buf=1*je.lit_bufsize,je.l_buf=3*je.lit_bufsize,je.level=Ne,je.strategy=pe,je.method=be,ot(F)}s=[new Oe(0,0,0,0,function(F,Ne){var be=65535;for(be>F.pending_buf_size-5&&(be=F.pending_buf_size-5);;){if(F.lookahead<=1){if(Ie(F),F.lookahead===0&&Ne===g)return j;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var se=F.block_start+be;if((F.strstart===0||F.strstart>=se)&&(F.lookahead=F.strstart-se,F.strstart=se,Q(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-$&&(Q(F,!1),F.strm.avail_out===0))return j}return F.insert=0,Ne===b?(Q(F,!0),F.strm.avail_out===0?oe:ie):(F.strstart>F.block_start&&(Q(F,!1),F.strm.avail_out),j)}),new Oe(4,4,8,4,Pe),new Oe(4,5,16,8,Pe),new Oe(4,6,32,32,Pe),new Oe(4,4,16,16,Te),new Oe(8,16,32,32,Te),new Oe(8,16,128,128,Te),new Oe(8,32,128,256,Te),new Oe(32,128,258,1024,Te),new Oe(32,258,258,4096,Te)],i.deflateInit=function(F,Ne){return at(F,Ne,T,15,8,0)},i.deflateInit2=at,i.deflateReset=ot,i.deflateResetKeep=Qe,i.deflateSetHeader=function(F,Ne){return F&&F.state?F.state.wrap!==2?S:(F.state.gzhead=Ne,_):S},i.deflate=function(F,Ne){var be,se,re,pe;if(!F||!F.state||5<Ne||Ne<0)return F?te(F,S):S;if(se=F.state,!F.output||!F.input&&F.avail_in!==0||se.status===666&&Ne!==b)return te(F,F.avail_out===0?-5:S);if(se.strm=F,be=se.last_flush,se.last_flush=Ne,se.status===B)if(se.wrap===2)F.adler=0,ke(se,31),ke(se,139),ke(se,8),se.gzhead?(ke(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),ke(se,255&se.gzhead.time),ke(se,se.gzhead.time>>8&255),ke(se,se.gzhead.time>>16&255),ke(se,se.gzhead.time>>24&255),ke(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),ke(se,255&se.gzhead.os),se.gzhead.extra&&se.gzhead.extra.length&&(ke(se,255&se.gzhead.extra.length),ke(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(F.adler=p(F.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=69):(ke(se,0),ke(se,0),ke(se,0),ke(se,0),ke(se,0),ke(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),ke(se,3),se.status=X);else{var Re=T+(se.w_bits-8<<4)<<8;Re|=(2<=se.strategy||se.level<2?0:se.level<6?1:se.level===6?2:3)<<6,se.strstart!==0&&(Re|=32),Re+=31-Re%31,se.status=X,_e(se,Re),se.strstart!==0&&(_e(se,F.adler>>>16),_e(se,65535&F.adler)),F.adler=1}if(se.status===69)if(se.gzhead.extra){for(re=se.pending;se.gzindex<(65535&se.gzhead.extra.length)&&(se.pending!==se.pending_buf_size||(se.gzhead.hcrc&&se.pending>re&&(F.adler=p(F.adler,se.pending_buf,se.pending-re,re)),H(F),re=se.pending,se.pending!==se.pending_buf_size));)ke(se,255&se.gzhead.extra[se.gzindex]),se.gzindex++;se.gzhead.hcrc&&se.pending>re&&(F.adler=p(F.adler,se.pending_buf,se.pending-re,re)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=73)}else se.status=73;if(se.status===73)if(se.gzhead.name){re=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>re&&(F.adler=p(F.adler,se.pending_buf,se.pending-re,re)),H(F),re=se.pending,se.pending===se.pending_buf_size)){pe=1;break}pe=se.gzindex<se.gzhead.name.length?255&se.gzhead.name.charCodeAt(se.gzindex++):0,ke(se,pe)}while(pe!==0);se.gzhead.hcrc&&se.pending>re&&(F.adler=p(F.adler,se.pending_buf,se.pending-re,re)),pe===0&&(se.gzindex=0,se.status=91)}else se.status=91;if(se.status===91)if(se.gzhead.comment){re=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>re&&(F.adler=p(F.adler,se.pending_buf,se.pending-re,re)),H(F),re=se.pending,se.pending===se.pending_buf_size)){pe=1;break}pe=se.gzindex<se.gzhead.comment.length?255&se.gzhead.comment.charCodeAt(se.gzindex++):0,ke(se,pe)}while(pe!==0);se.gzhead.hcrc&&se.pending>re&&(F.adler=p(F.adler,se.pending_buf,se.pending-re,re)),pe===0&&(se.status=103)}else se.status=103;if(se.status===103&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&H(F),se.pending+2<=se.pending_buf_size&&(ke(se,255&F.adler),ke(se,F.adler>>8&255),F.adler=0,se.status=X)):se.status=X),se.pending!==0){if(H(F),F.avail_out===0)return se.last_flush=-1,_}else if(F.avail_in===0&&ee(Ne)<=ee(be)&&Ne!==b)return te(F,-5);if(se.status===666&&F.avail_in!==0)return te(F,-5);if(F.avail_in!==0||se.lookahead!==0||Ne!==g&&se.status!==666){var je=se.strategy===2?function(me,Be){for(var qe;;){if(me.lookahead===0&&(Ie(me),me.lookahead===0)){if(Be===g)return j;break}if(me.match_length=0,qe=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,qe&&(Q(me,!1),me.strm.avail_out===0))return j}return me.insert=0,Be===b?(Q(me,!0),me.strm.avail_out===0?oe:ie):me.last_lit&&(Q(me,!1),me.strm.avail_out===0)?j:K}(se,Ne):se.strategy===3?function(me,Be){for(var qe,De,tt,Y,R=me.window;;){if(me.lookahead<=V){if(Ie(me),me.lookahead<=V&&Be===g)return j;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=U&&0<me.strstart&&(De=R[tt=me.strstart-1])===R[++tt]&&De===R[++tt]&&De===R[++tt]){Y=me.strstart+V;do;while(De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&tt<Y);me.match_length=V-(Y-tt),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=U?(qe=u._tr_tally(me,1,me.match_length-U),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(qe=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),qe&&(Q(me,!1),me.strm.avail_out===0))return j}return me.insert=0,Be===b?(Q(me,!0),me.strm.avail_out===0?oe:ie):me.last_lit&&(Q(me,!1),me.strm.avail_out===0)?j:K}(se,Ne):s[se.level].func(se,Ne);if(je!==oe&&je!==ie||(se.status=666),je===j||je===oe)return F.avail_out===0&&(se.last_flush=-1),_;if(je===K&&(Ne===1?u._tr_align(se):Ne!==5&&(u._tr_stored_block(se,0,0,!1),Ne===3&&(le(se.head),se.lookahead===0&&(se.strstart=0,se.block_start=0,se.insert=0))),H(F),F.avail_out===0))return se.last_flush=-1,_}return Ne!==b?_:se.wrap<=0?1:(se.wrap===2?(ke(se,255&F.adler),ke(se,F.adler>>8&255),ke(se,F.adler>>16&255),ke(se,F.adler>>24&255),ke(se,255&F.total_in),ke(se,F.total_in>>8&255),ke(se,F.total_in>>16&255),ke(se,F.total_in>>24&255)):(_e(se,F.adler>>>16),_e(se,65535&F.adler)),H(F),0<se.wrap&&(se.wrap=-se.wrap),se.pending!==0?_:1)},i.deflateEnd=function(F){var Ne;return F&&F.state?(Ne=F.state.status)!==B&&Ne!==69&&Ne!==73&&Ne!==91&&Ne!==103&&Ne!==X&&Ne!==666?te(F,S):(F.state=null,Ne===X?te(F,-3):_):S},i.deflateSetDictionary=function(F,Ne){var be,se,re,pe,Re,je,me,Be,qe=Ne.length;if(!F||!F.state||(pe=(be=F.state).wrap)===2||pe===1&&be.status!==B||be.lookahead)return S;for(pe===1&&(F.adler=d(F.adler,Ne,qe,0)),be.wrap=0,qe>=be.w_size&&(pe===0&&(le(be.head),be.strstart=0,be.block_start=0,be.insert=0),Be=new l.Buf8(be.w_size),l.arraySet(Be,Ne,qe-be.w_size,be.w_size,0),Ne=Be,qe=be.w_size),Re=F.avail_in,je=F.next_in,me=F.input,F.avail_in=qe,F.next_in=0,F.input=Ne,Ie(be);be.lookahead>=U;){for(se=be.strstart,re=be.lookahead-(U-1);be.ins_h=(be.ins_h<<be.hash_shift^be.window[se+U-1])&be.hash_mask,be.prev[se&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=se,se++,--re;);be.strstart=se,be.lookahead=U-1,Ie(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=U-1,be.match_available=0,F.next_in=je,F.input=me,F.avail_in=Re,be.wrap=pe,_},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,l){var u,d,p,y,g,b,_,S,v,E,k,T,A,z,D,Z,W,q,U,V,$,B,X,j,K;u=s.state,d=s.next_in,j=s.input,p=d+(s.avail_in-5),y=s.next_out,K=s.output,g=y-(l-s.avail_out),b=y+(s.avail_out-257),_=u.dmax,S=u.wsize,v=u.whave,E=u.wnext,k=u.window,T=u.hold,A=u.bits,z=u.lencode,D=u.distcode,Z=(1<<u.lenbits)-1,W=(1<<u.distbits)-1;e:do{A<15&&(T+=j[d++]<<A,A+=8,T+=j[d++]<<A,A+=8),q=z[T&Z];t:for(;;){if(T>>>=U=q>>>24,A-=U,(U=q>>>16&255)===0)K[y++]=65535&q;else{if(!(16&U)){if((64&U)==0){q=z[(65535&q)+(T&(1<<U)-1)];continue t}if(32&U){u.mode=12;break e}s.msg="invalid literal/length code",u.mode=30;break e}V=65535&q,(U&=15)&&(A<U&&(T+=j[d++]<<A,A+=8),V+=T&(1<<U)-1,T>>>=U,A-=U),A<15&&(T+=j[d++]<<A,A+=8,T+=j[d++]<<A,A+=8),q=D[T&W];n:for(;;){if(T>>>=U=q>>>24,A-=U,!(16&(U=q>>>16&255))){if((64&U)==0){q=D[(65535&q)+(T&(1<<U)-1)];continue n}s.msg="invalid distance code",u.mode=30;break e}if($=65535&q,A<(U&=15)&&(T+=j[d++]<<A,(A+=8)<U&&(T+=j[d++]<<A,A+=8)),_<($+=T&(1<<U)-1)){s.msg="invalid distance too far back",u.mode=30;break e}if(T>>>=U,A-=U,(U=y-g)<$){if(v<(U=$-U)&&u.sane){s.msg="invalid distance too far back",u.mode=30;break e}if(X=k,(B=0)===E){if(B+=S-U,U<V){for(V-=U;K[y++]=k[B++],--U;);B=y-$,X=K}}else if(E<U){if(B+=S+E-U,(U-=E)<V){for(V-=U;K[y++]=k[B++],--U;);if(B=0,E<V){for(V-=U=E;K[y++]=k[B++],--U;);B=y-$,X=K}}}else if(B+=E-U,U<V){for(V-=U;K[y++]=k[B++],--U;);B=y-$,X=K}for(;2<V;)K[y++]=X[B++],K[y++]=X[B++],K[y++]=X[B++],V-=3;V&&(K[y++]=X[B++],1<V&&(K[y++]=X[B++]))}else{for(B=y-$;K[y++]=K[B++],K[y++]=K[B++],K[y++]=K[B++],2<(V-=3););V&&(K[y++]=K[B++],1<V&&(K[y++]=K[B++]))}break}}break}}while(d<p&&y<b);d-=V=A>>3,T&=(1<<(A-=V<<3))-1,s.next_in=d,s.next_out=y,s.avail_in=d<p?p-d+5:5-(d-p),s.avail_out=y<b?b-y+257:257-(y-b),u.hold=T,u.bits=A}},{}],49:[function(n,r,i){var s=n("../utils/common"),l=n("./adler32"),u=n("./crc32"),d=n("./inffast"),p=n("./inftrees"),y=1,g=2,b=0,_=-2,S=1,v=852,E=592;function k(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(B){var X;return B&&B.state?(X=B.state,B.total_in=B.total_out=X.total=0,B.msg="",X.wrap&&(B.adler=1&X.wrap),X.mode=S,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new s.Buf32(v),X.distcode=X.distdyn=new s.Buf32(E),X.sane=1,X.back=-1,b):_}function z(B){var X;return B&&B.state?((X=B.state).wsize=0,X.whave=0,X.wnext=0,A(B)):_}function D(B,X){var j,K;return B&&B.state?(K=B.state,X<0?(j=0,X=-X):(j=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?_:(K.window!==null&&K.wbits!==X&&(K.window=null),K.wrap=j,K.wbits=X,z(B))):_}function Z(B,X){var j,K;return B?(K=new T,(B.state=K).window=null,(j=D(B,X))!==b&&(B.state=null),j):_}var W,q,U=!0;function V(B){if(U){var X;for(W=new s.Buf32(512),q=new s.Buf32(32),X=0;X<144;)B.lens[X++]=8;for(;X<256;)B.lens[X++]=9;for(;X<280;)B.lens[X++]=7;for(;X<288;)B.lens[X++]=8;for(p(y,B.lens,0,288,W,0,B.work,{bits:9}),X=0;X<32;)B.lens[X++]=5;p(g,B.lens,0,32,q,0,B.work,{bits:5}),U=!1}B.lencode=W,B.lenbits=9,B.distcode=q,B.distbits=5}function $(B,X,j,K){var oe,ie=B.state;return ie.window===null&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new s.Buf8(ie.wsize)),K>=ie.wsize?(s.arraySet(ie.window,X,j-ie.wsize,ie.wsize,0),ie.wnext=0,ie.whave=ie.wsize):(K<(oe=ie.wsize-ie.wnext)&&(oe=K),s.arraySet(ie.window,X,j-K,oe,ie.wnext),(K-=oe)?(s.arraySet(ie.window,X,j-K,K,0),ie.wnext=K,ie.whave=ie.wsize):(ie.wnext+=oe,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=oe))),0}i.inflateReset=z,i.inflateReset2=D,i.inflateResetKeep=A,i.inflateInit=function(B){return Z(B,15)},i.inflateInit2=Z,i.inflate=function(B,X){var j,K,oe,ie,te,ee,le,H,Q,ke,_e,ve,Ie,Pe,Te,Oe,He,Qe,ot,at,F,Ne,be,se,re=0,pe=new s.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return _;(j=B.state).mode===12&&(j.mode=13),te=B.next_out,oe=B.output,le=B.avail_out,ie=B.next_in,K=B.input,ee=B.avail_in,H=j.hold,Q=j.bits,ke=ee,_e=le,Ne=b;e:for(;;)switch(j.mode){case S:if(j.wrap===0){j.mode=13;break}for(;Q<16;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(2&j.wrap&&H===35615){pe[j.check=0]=255&H,pe[1]=H>>>8&255,j.check=u(j.check,pe,2,0),Q=H=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&H)<<8)+(H>>8))%31){B.msg="incorrect header check",j.mode=30;break}if((15&H)!=8){B.msg="unknown compression method",j.mode=30;break}if(Q-=4,F=8+(15&(H>>>=4)),j.wbits===0)j.wbits=F;else if(F>j.wbits){B.msg="invalid window size",j.mode=30;break}j.dmax=1<<F,B.adler=j.check=1,j.mode=512&H?10:12,Q=H=0;break;case 2:for(;Q<16;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(j.flags=H,(255&j.flags)!=8){B.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){B.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=H>>8&1),512&j.flags&&(pe[0]=255&H,pe[1]=H>>>8&255,j.check=u(j.check,pe,2,0)),Q=H=0,j.mode=3;case 3:for(;Q<32;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}j.head&&(j.head.time=H),512&j.flags&&(pe[0]=255&H,pe[1]=H>>>8&255,pe[2]=H>>>16&255,pe[3]=H>>>24&255,j.check=u(j.check,pe,4,0)),Q=H=0,j.mode=4;case 4:for(;Q<16;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}j.head&&(j.head.xflags=255&H,j.head.os=H>>8),512&j.flags&&(pe[0]=255&H,pe[1]=H>>>8&255,j.check=u(j.check,pe,2,0)),Q=H=0,j.mode=5;case 5:if(1024&j.flags){for(;Q<16;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}j.length=H,j.head&&(j.head.extra_len=H),512&j.flags&&(pe[0]=255&H,pe[1]=H>>>8&255,j.check=u(j.check,pe,2,0)),Q=H=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(ee<(ve=j.length)&&(ve=ee),ve&&(j.head&&(F=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),s.arraySet(j.head.extra,K,ie,ve,F)),512&j.flags&&(j.check=u(j.check,K,ve,ie)),ee-=ve,ie+=ve,j.length-=ve),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(ee===0)break e;for(ve=0;F=K[ie+ve++],j.head&&F&&j.length<65536&&(j.head.name+=String.fromCharCode(F)),F&&ve<ee;);if(512&j.flags&&(j.check=u(j.check,K,ve,ie)),ee-=ve,ie+=ve,F)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(ee===0)break e;for(ve=0;F=K[ie+ve++],j.head&&F&&j.length<65536&&(j.head.comment+=String.fromCharCode(F)),F&&ve<ee;);if(512&j.flags&&(j.check=u(j.check,K,ve,ie)),ee-=ve,ie+=ve,F)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;Q<16;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(H!==(65535&j.check)){B.msg="header crc mismatch",j.mode=30;break}Q=H=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),B.adler=j.check=0,j.mode=12;break;case 10:for(;Q<32;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}B.adler=j.check=k(H),Q=H=0,j.mode=11;case 11:if(j.havedict===0)return B.next_out=te,B.avail_out=le,B.next_in=ie,B.avail_in=ee,j.hold=H,j.bits=Q,2;B.adler=j.check=1,j.mode=12;case 12:if(X===5||X===6)break e;case 13:if(j.last){H>>>=7&Q,Q-=7&Q,j.mode=27;break}for(;Q<3;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}switch(j.last=1&H,Q-=1,3&(H>>>=1)){case 0:j.mode=14;break;case 1:if(V(j),j.mode=20,X!==6)break;H>>>=2,Q-=2;break e;case 2:j.mode=17;break;case 3:B.msg="invalid block type",j.mode=30}H>>>=2,Q-=2;break;case 14:for(H>>>=7&Q,Q-=7&Q;Q<32;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if((65535&H)!=(H>>>16^65535)){B.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&H,Q=H=0,j.mode=15,X===6)break e;case 15:j.mode=16;case 16:if(ve=j.length){if(ee<ve&&(ve=ee),le<ve&&(ve=le),ve===0)break e;s.arraySet(oe,K,ie,ve,te),ee-=ve,ie+=ve,le-=ve,te+=ve,j.length-=ve;break}j.mode=12;break;case 17:for(;Q<14;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(j.nlen=257+(31&H),H>>>=5,Q-=5,j.ndist=1+(31&H),H>>>=5,Q-=5,j.ncode=4+(15&H),H>>>=4,Q-=4,286<j.nlen||30<j.ndist){B.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;Q<3;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}j.lens[Re[j.have++]]=7&H,H>>>=3,Q-=3}for(;j.have<19;)j.lens[Re[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,be={bits:j.lenbits},Ne=p(0,j.lens,0,19,j.lencode,0,j.work,be),j.lenbits=be.bits,Ne){B.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;Oe=(re=j.lencode[H&(1<<j.lenbits)-1])>>>16&255,He=65535&re,!((Te=re>>>24)<=Q);){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(He<16)H>>>=Te,Q-=Te,j.lens[j.have++]=He;else{if(He===16){for(se=Te+2;Q<se;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(H>>>=Te,Q-=Te,j.have===0){B.msg="invalid bit length repeat",j.mode=30;break}F=j.lens[j.have-1],ve=3+(3&H),H>>>=2,Q-=2}else if(He===17){for(se=Te+3;Q<se;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}Q-=Te,F=0,ve=3+(7&(H>>>=Te)),H>>>=3,Q-=3}else{for(se=Te+7;Q<se;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}Q-=Te,F=0,ve=11+(127&(H>>>=Te)),H>>>=7,Q-=7}if(j.have+ve>j.nlen+j.ndist){B.msg="invalid bit length repeat",j.mode=30;break}for(;ve--;)j.lens[j.have++]=F}}if(j.mode===30)break;if(j.lens[256]===0){B.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,be={bits:j.lenbits},Ne=p(y,j.lens,0,j.nlen,j.lencode,0,j.work,be),j.lenbits=be.bits,Ne){B.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,be={bits:j.distbits},Ne=p(g,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,be),j.distbits=be.bits,Ne){B.msg="invalid distances set",j.mode=30;break}if(j.mode=20,X===6)break e;case 20:j.mode=21;case 21:if(6<=ee&&258<=le){B.next_out=te,B.avail_out=le,B.next_in=ie,B.avail_in=ee,j.hold=H,j.bits=Q,d(B,_e),te=B.next_out,oe=B.output,le=B.avail_out,ie=B.next_in,K=B.input,ee=B.avail_in,H=j.hold,Q=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;Oe=(re=j.lencode[H&(1<<j.lenbits)-1])>>>16&255,He=65535&re,!((Te=re>>>24)<=Q);){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(Oe&&(240&Oe)==0){for(Qe=Te,ot=Oe,at=He;Oe=(re=j.lencode[at+((H&(1<<Qe+ot)-1)>>Qe)])>>>16&255,He=65535&re,!(Qe+(Te=re>>>24)<=Q);){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}H>>>=Qe,Q-=Qe,j.back+=Qe}if(H>>>=Te,Q-=Te,j.back+=Te,j.length=He,Oe===0){j.mode=26;break}if(32&Oe){j.back=-1,j.mode=12;break}if(64&Oe){B.msg="invalid literal/length code",j.mode=30;break}j.extra=15&Oe,j.mode=22;case 22:if(j.extra){for(se=j.extra;Q<se;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}j.length+=H&(1<<j.extra)-1,H>>>=j.extra,Q-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;Oe=(re=j.distcode[H&(1<<j.distbits)-1])>>>16&255,He=65535&re,!((Te=re>>>24)<=Q);){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if((240&Oe)==0){for(Qe=Te,ot=Oe,at=He;Oe=(re=j.distcode[at+((H&(1<<Qe+ot)-1)>>Qe)])>>>16&255,He=65535&re,!(Qe+(Te=re>>>24)<=Q);){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}H>>>=Qe,Q-=Qe,j.back+=Qe}if(H>>>=Te,Q-=Te,j.back+=Te,64&Oe){B.msg="invalid distance code",j.mode=30;break}j.offset=He,j.extra=15&Oe,j.mode=24;case 24:if(j.extra){for(se=j.extra;Q<se;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}j.offset+=H&(1<<j.extra)-1,H>>>=j.extra,Q-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){B.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(le===0)break e;if(ve=_e-le,j.offset>ve){if((ve=j.offset-ve)>j.whave&&j.sane){B.msg="invalid distance too far back",j.mode=30;break}Ie=ve>j.wnext?(ve-=j.wnext,j.wsize-ve):j.wnext-ve,ve>j.length&&(ve=j.length),Pe=j.window}else Pe=oe,Ie=te-j.offset,ve=j.length;for(le<ve&&(ve=le),le-=ve,j.length-=ve;oe[te++]=Pe[Ie++],--ve;);j.length===0&&(j.mode=21);break;case 26:if(le===0)break e;oe[te++]=j.length,le--,j.mode=21;break;case 27:if(j.wrap){for(;Q<32;){if(ee===0)break e;ee--,H|=K[ie++]<<Q,Q+=8}if(_e-=le,B.total_out+=_e,j.total+=_e,_e&&(B.adler=j.check=j.flags?u(j.check,oe,_e,te-_e):l(j.check,oe,_e,te-_e)),_e=le,(j.flags?H:k(H))!==j.check){B.msg="incorrect data check",j.mode=30;break}Q=H=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;Q<32;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(H!==(4294967295&j.total)){B.msg="incorrect length check",j.mode=30;break}Q=H=0}j.mode=29;case 29:Ne=1;break e;case 30:Ne=-3;break e;case 31:return-4;case 32:default:return _}return B.next_out=te,B.avail_out=le,B.next_in=ie,B.avail_in=ee,j.hold=H,j.bits=Q,(j.wsize||_e!==B.avail_out&&j.mode<30&&(j.mode<27||X!==4))&&$(B,B.output,B.next_out,_e-B.avail_out)?(j.mode=31,-4):(ke-=B.avail_in,_e-=B.avail_out,B.total_in+=ke,B.total_out+=_e,j.total+=_e,j.wrap&&_e&&(B.adler=j.check=j.flags?u(j.check,oe,_e,B.next_out-_e):l(j.check,oe,_e,B.next_out-_e)),B.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(ke==0&&_e===0||X===4)&&Ne===b&&(Ne=-5),Ne)},i.inflateEnd=function(B){if(!B||!B.state)return _;var X=B.state;return X.window&&(X.window=null),B.state=null,b},i.inflateGetHeader=function(B,X){var j;return B&&B.state?(2&(j=B.state).wrap)==0?_:((j.head=X).done=!1,b):_},i.inflateSetDictionary=function(B,X){var j,K=X.length;return B&&B.state?(j=B.state).wrap!==0&&j.mode!==11?_:j.mode===11&&l(1,X,K,0)!==j.check?-3:$(B,X,K,K)?(j.mode=31,-4):(j.havedict=1,b):_},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(y,g,b,_,S,v,E,k){var T,A,z,D,Z,W,q,U,V,$=k.bits,B=0,X=0,j=0,K=0,oe=0,ie=0,te=0,ee=0,le=0,H=0,Q=null,ke=0,_e=new s.Buf16(16),ve=new s.Buf16(16),Ie=null,Pe=0;for(B=0;B<=15;B++)_e[B]=0;for(X=0;X<_;X++)_e[g[b+X]]++;for(oe=$,K=15;1<=K&&_e[K]===0;K--);if(K<oe&&(oe=K),K===0)return S[v++]=20971520,S[v++]=20971520,k.bits=1,0;for(j=1;j<K&&_e[j]===0;j++);for(oe<j&&(oe=j),B=ee=1;B<=15;B++)if(ee<<=1,(ee-=_e[B])<0)return-1;if(0<ee&&(y===0||K!==1))return-1;for(ve[1]=0,B=1;B<15;B++)ve[B+1]=ve[B]+_e[B];for(X=0;X<_;X++)g[b+X]!==0&&(E[ve[g[b+X]]++]=X);if(W=y===0?(Q=Ie=E,19):y===1?(Q=l,ke-=257,Ie=u,Pe-=257,256):(Q=d,Ie=p,-1),B=j,Z=v,te=X=H=0,z=-1,D=(le=1<<(ie=oe))-1,y===1&&852<le||y===2&&592<le)return 1;for(;;){for(q=B-te,V=E[X]<W?(U=0,E[X]):E[X]>W?(U=Ie[Pe+E[X]],Q[ke+E[X]]):(U=96,0),T=1<<B-te,j=A=1<<ie;S[Z+(H>>te)+(A-=T)]=q<<24|U<<16|V|0,A!==0;);for(T=1<<B-1;H&T;)T>>=1;if(T!==0?(H&=T-1,H+=T):H=0,X++,--_e[B]==0){if(B===K)break;B=g[b+E[X]]}if(oe<B&&(H&D)!==z){for(te===0&&(te=oe),Z+=j,ee=1<<(ie=B-te);ie+te<K&&!((ee-=_e[ie+te])<=0);)ie++,ee<<=1;if(le+=1<<ie,y===1&&852<le||y===2&&592<le)return 1;S[z=H&D]=oe<<24|ie<<16|Z-v|0}}return H!==0&&(S[Z+H]=B-te<<24|64<<16|0),k.bits=oe,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),l=0,u=1;function d(re){for(var pe=re.length;0<=--pe;)re[pe]=0}var p=0,y=29,g=256,b=g+1+y,_=30,S=19,v=2*b+1,E=15,k=16,T=7,A=256,z=16,D=17,Z=18,W=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(b+2));d($);var B=new Array(2*_);d(B);var X=new Array(512);d(X);var j=new Array(256);d(j);var K=new Array(y);d(K);var oe,ie,te,ee=new Array(_);function le(re,pe,Re,je,me){this.static_tree=re,this.extra_bits=pe,this.extra_base=Re,this.elems=je,this.max_length=me,this.has_stree=re&&re.length}function H(re,pe){this.dyn_tree=re,this.max_code=0,this.stat_desc=pe}function Q(re){return re<256?X[re]:X[256+(re>>>7)]}function ke(re,pe){re.pending_buf[re.pending++]=255&pe,re.pending_buf[re.pending++]=pe>>>8&255}function _e(re,pe,Re){re.bi_valid>k-Re?(re.bi_buf|=pe<<re.bi_valid&65535,ke(re,re.bi_buf),re.bi_buf=pe>>k-re.bi_valid,re.bi_valid+=Re-k):(re.bi_buf|=pe<<re.bi_valid&65535,re.bi_valid+=Re)}function ve(re,pe,Re){_e(re,Re[2*pe],Re[2*pe+1])}function Ie(re,pe){for(var Re=0;Re|=1&re,re>>>=1,Re<<=1,0<--pe;);return Re>>>1}function Pe(re,pe,Re){var je,me,Be=new Array(E+1),qe=0;for(je=1;je<=E;je++)Be[je]=qe=qe+Re[je-1]<<1;for(me=0;me<=pe;me++){var De=re[2*me+1];De!==0&&(re[2*me]=Ie(Be[De]++,De))}}function Te(re){var pe;for(pe=0;pe<b;pe++)re.dyn_ltree[2*pe]=0;for(pe=0;pe<_;pe++)re.dyn_dtree[2*pe]=0;for(pe=0;pe<S;pe++)re.bl_tree[2*pe]=0;re.dyn_ltree[2*A]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function Oe(re){8<re.bi_valid?ke(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function He(re,pe,Re,je){var me=2*pe,Be=2*Re;return re[me]<re[Be]||re[me]===re[Be]&&je[pe]<=je[Re]}function Qe(re,pe,Re){for(var je=re.heap[Re],me=Re<<1;me<=re.heap_len&&(me<re.heap_len&&He(pe,re.heap[me+1],re.heap[me],re.depth)&&me++,!He(pe,je,re.heap[me],re.depth));)re.heap[Re]=re.heap[me],Re=me,me<<=1;re.heap[Re]=je}function ot(re,pe,Re){var je,me,Be,qe,De=0;if(re.last_lit!==0)for(;je=re.pending_buf[re.d_buf+2*De]<<8|re.pending_buf[re.d_buf+2*De+1],me=re.pending_buf[re.l_buf+De],De++,je===0?ve(re,me,pe):(ve(re,(Be=j[me])+g+1,pe),(qe=W[Be])!==0&&_e(re,me-=K[Be],qe),ve(re,Be=Q(--je),Re),(qe=q[Be])!==0&&_e(re,je-=ee[Be],qe)),De<re.last_lit;);ve(re,A,pe)}function at(re,pe){var Re,je,me,Be=pe.dyn_tree,qe=pe.stat_desc.static_tree,De=pe.stat_desc.has_stree,tt=pe.stat_desc.elems,Y=-1;for(re.heap_len=0,re.heap_max=v,Re=0;Re<tt;Re++)Be[2*Re]!==0?(re.heap[++re.heap_len]=Y=Re,re.depth[Re]=0):Be[2*Re+1]=0;for(;re.heap_len<2;)Be[2*(me=re.heap[++re.heap_len]=Y<2?++Y:0)]=1,re.depth[me]=0,re.opt_len--,De&&(re.static_len-=qe[2*me+1]);for(pe.max_code=Y,Re=re.heap_len>>1;1<=Re;Re--)Qe(re,Be,Re);for(me=tt;Re=re.heap[1],re.heap[1]=re.heap[re.heap_len--],Qe(re,Be,1),je=re.heap[1],re.heap[--re.heap_max]=Re,re.heap[--re.heap_max]=je,Be[2*me]=Be[2*Re]+Be[2*je],re.depth[me]=(re.depth[Re]>=re.depth[je]?re.depth[Re]:re.depth[je])+1,Be[2*Re+1]=Be[2*je+1]=me,re.heap[1]=me++,Qe(re,Be,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],function(R,O){var ne,fe,xe,Ce,dt,jt,xt=O.dyn_tree,Ct=O.max_code,Nt=O.stat_desc.static_tree,ha=O.stat_desc.has_stree,Wo=O.stat_desc.extra_bits,Lr=O.stat_desc.extra_base,Kn=O.stat_desc.max_length,no=0;for(Ce=0;Ce<=E;Ce++)R.bl_count[Ce]=0;for(xt[2*R.heap[R.heap_max]+1]=0,ne=R.heap_max+1;ne<v;ne++)Kn<(Ce=xt[2*xt[2*(fe=R.heap[ne])+1]+1]+1)&&(Ce=Kn,no++),xt[2*fe+1]=Ce,Ct<fe||(R.bl_count[Ce]++,dt=0,Lr<=fe&&(dt=Wo[fe-Lr]),jt=xt[2*fe],R.opt_len+=jt*(Ce+dt),ha&&(R.static_len+=jt*(Nt[2*fe+1]+dt)));if(no!==0){do{for(Ce=Kn-1;R.bl_count[Ce]===0;)Ce--;R.bl_count[Ce]--,R.bl_count[Ce+1]+=2,R.bl_count[Kn]--,no-=2}while(0<no);for(Ce=Kn;Ce!==0;Ce--)for(fe=R.bl_count[Ce];fe!==0;)Ct<(xe=R.heap[--ne])||(xt[2*xe+1]!==Ce&&(R.opt_len+=(Ce-xt[2*xe+1])*xt[2*xe],xt[2*xe+1]=Ce),fe--)}}(re,pe),Pe(Be,Y,re.bl_count)}function F(re,pe,Re){var je,me,Be=-1,qe=pe[1],De=0,tt=7,Y=4;for(qe===0&&(tt=138,Y=3),pe[2*(Re+1)+1]=65535,je=0;je<=Re;je++)me=qe,qe=pe[2*(je+1)+1],++De<tt&&me===qe||(De<Y?re.bl_tree[2*me]+=De:me!==0?(me!==Be&&re.bl_tree[2*me]++,re.bl_tree[2*z]++):De<=10?re.bl_tree[2*D]++:re.bl_tree[2*Z]++,Be=me,Y=(De=0)===qe?(tt=138,3):me===qe?(tt=6,3):(tt=7,4))}function Ne(re,pe,Re){var je,me,Be=-1,qe=pe[1],De=0,tt=7,Y=4;for(qe===0&&(tt=138,Y=3),je=0;je<=Re;je++)if(me=qe,qe=pe[2*(je+1)+1],!(++De<tt&&me===qe)){if(De<Y)for(;ve(re,me,re.bl_tree),--De!=0;);else me!==0?(me!==Be&&(ve(re,me,re.bl_tree),De--),ve(re,z,re.bl_tree),_e(re,De-3,2)):De<=10?(ve(re,D,re.bl_tree),_e(re,De-3,3)):(ve(re,Z,re.bl_tree),_e(re,De-11,7));Be=me,Y=(De=0)===qe?(tt=138,3):me===qe?(tt=6,3):(tt=7,4)}}d(ee);var be=!1;function se(re,pe,Re,je){_e(re,(p<<1)+(je?1:0),3),function(me,Be,qe,De){Oe(me),ke(me,qe),ke(me,~qe),s.arraySet(me.pending_buf,me.window,Be,qe,me.pending),me.pending+=qe}(re,pe,Re)}i._tr_init=function(re){be||(function(){var pe,Re,je,me,Be,qe=new Array(E+1);for(me=je=0;me<y-1;me++)for(K[me]=je,pe=0;pe<1<<W[me];pe++)j[je++]=me;for(j[je-1]=me,me=Be=0;me<16;me++)for(ee[me]=Be,pe=0;pe<1<<q[me];pe++)X[Be++]=me;for(Be>>=7;me<_;me++)for(ee[me]=Be<<7,pe=0;pe<1<<q[me]-7;pe++)X[256+Be++]=me;for(Re=0;Re<=E;Re++)qe[Re]=0;for(pe=0;pe<=143;)$[2*pe+1]=8,pe++,qe[8]++;for(;pe<=255;)$[2*pe+1]=9,pe++,qe[9]++;for(;pe<=279;)$[2*pe+1]=7,pe++,qe[7]++;for(;pe<=287;)$[2*pe+1]=8,pe++,qe[8]++;for(Pe($,b+1,qe),pe=0;pe<_;pe++)B[2*pe+1]=5,B[2*pe]=Ie(pe,5);oe=new le($,W,g+1,b,E),ie=new le(B,q,0,_,E),te=new le(new Array(0),U,0,S,T)}(),be=!0),re.l_desc=new H(re.dyn_ltree,oe),re.d_desc=new H(re.dyn_dtree,ie),re.bl_desc=new H(re.bl_tree,te),re.bi_buf=0,re.bi_valid=0,Te(re)},i._tr_stored_block=se,i._tr_flush_block=function(re,pe,Re,je){var me,Be,qe=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=function(De){var tt,Y=4093624447;for(tt=0;tt<=31;tt++,Y>>>=1)if(1&Y&&De.dyn_ltree[2*tt]!==0)return l;if(De.dyn_ltree[18]!==0||De.dyn_ltree[20]!==0||De.dyn_ltree[26]!==0)return u;for(tt=32;tt<g;tt++)if(De.dyn_ltree[2*tt]!==0)return u;return l}(re)),at(re,re.l_desc),at(re,re.d_desc),qe=function(De){var tt;for(F(De,De.dyn_ltree,De.l_desc.max_code),F(De,De.dyn_dtree,De.d_desc.max_code),at(De,De.bl_desc),tt=S-1;3<=tt&&De.bl_tree[2*V[tt]+1]===0;tt--);return De.opt_len+=3*(tt+1)+5+5+4,tt}(re),me=re.opt_len+3+7>>>3,(Be=re.static_len+3+7>>>3)<=me&&(me=Be)):me=Be=Re+5,Re+4<=me&&pe!==-1?se(re,pe,Re,je):re.strategy===4||Be===me?(_e(re,2+(je?1:0),3),ot(re,$,B)):(_e(re,4+(je?1:0),3),function(De,tt,Y,R){var O;for(_e(De,tt-257,5),_e(De,Y-1,5),_e(De,R-4,4),O=0;O<R;O++)_e(De,De.bl_tree[2*V[O]+1],3);Ne(De,De.dyn_ltree,tt-1),Ne(De,De.dyn_dtree,Y-1)}(re,re.l_desc.max_code+1,re.d_desc.max_code+1,qe+1),ot(re,re.dyn_ltree,re.dyn_dtree)),Te(re),je&&Oe(re)},i._tr_tally=function(re,pe,Re){return re.pending_buf[re.d_buf+2*re.last_lit]=pe>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&pe,re.pending_buf[re.l_buf+re.last_lit]=255&Re,re.last_lit++,pe===0?re.dyn_ltree[2*Re]++:(re.matches++,pe--,re.dyn_ltree[2*(j[Re]+g+1)]++,re.dyn_dtree[2*Q(pe)]++),re.last_lit===re.lit_bufsize-1},i._tr_align=function(re){_e(re,2,3),ve(re,A,$),function(pe){pe.bi_valid===16?(ke(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(re)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(l,u){if(!l.setImmediate){var d,p,y,g,b=1,_={},S=!1,v=l.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(l);E=E&&E.setTimeout?E:l,d={}.toString.call(l.process)==="[object process]"?function(z){process.nextTick(function(){T(z)})}:function(){if(l.postMessage&&!l.importScripts){var z=!0,D=l.onmessage;return l.onmessage=function(){z=!1},l.postMessage("","*"),l.onmessage=D,z}}()?(g="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",A,!1):l.attachEvent("onmessage",A),function(z){l.postMessage(g+z,"*")}):l.MessageChannel?((y=new MessageChannel).port1.onmessage=function(z){T(z.data)},function(z){y.port2.postMessage(z)}):v&&"onreadystatechange"in v.createElement("script")?(p=v.documentElement,function(z){var D=v.createElement("script");D.onreadystatechange=function(){T(z),D.onreadystatechange=null,p.removeChild(D),D=null},p.appendChild(D)}):function(z){setTimeout(T,0,z)},E.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var D=new Array(arguments.length-1),Z=0;Z<D.length;Z++)D[Z]=arguments[Z+1];var W={callback:z,args:D};return _[b]=W,d(b),b++},E.clearImmediate=k}function k(z){delete _[z]}function T(z){if(S)setTimeout(T,0,z);else{var D=_[z];if(D){S=!0;try{(function(Z){var W=Z.callback,q=Z.args;switch(q.length){case 0:W();break;case 1:W(q[0]);break;case 2:W(q[0],q[1]);break;case 3:W(q[0],q[1],q[2]);break;default:W.apply(u,q)}})(D)}finally{k(z),S=!1}}}}function A(z){z.source===l&&typeof z.data=="string"&&z.data.indexOf(g)===0&&T(+z.data.slice(g.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(wv)),wv.exports}lq();const cq=30023,uq="dead-drop-lockers@v1",g2="Dead Drop Lockers Source Snapshot";function dq(){const e=C.useRef(null),[t,n]=C.useState(null),r=pT(),i=m_(),s=u=>{var p;const d=((p=u.target.files)==null?void 0:p[0])??null;n(d)},l=async()=>{if(t)try{const u=await r.mutateAsync(t);await i.mutateAsync({kind:cq,content:`${g2}: snapshot uploaded`,tags:[["d",uq],["title",g2],["t","code-snapshot"],...u]}),alert("Snapshot published to Nostr")}catch(u){alert("Upload or publish failed: "+u.message)}};return m.jsxs("div",{className:"p-4",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Publish Snapshot to Nostr"}),m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a zip of your project locally and upload it here to publish a Nostr snapshot event."}),m.jsx("input",{type:"file",ref:e,onChange:s,accept:".zip"}),m.jsx("div",{className:"mt-4",children:m.jsx("button",{className:"btn",onClick:l,disabled:!t,children:"Upload & Publish"})})]})}function fq(){return hu({title:"DeadDropstr - Nostr-Native Smart Lockers",description:"A decentralized marketplace for autonomous physical lockers powered by Nostr and Lightning."}),m.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[m.jsxs("header",{className:"relative isolate overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(45%_40%_at_50%_60%,hsl(var(--primary)/0.12),transparent)]"}),m.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[m.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:["The ",m.jsx("span",{className:"text-primary",children:"Nostr-Native"})," Dead Drop Network"]}),m.jsx("p",{className:"max-w-2xl mx-auto text-lg text-muted-foreground mb-10",children:"Rent autonomous smart lockers for anonymous P2P exchanges. Pay with Lightning. No middlemen."}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m.jsx(pt,{asChild:!0,size:"lg",className:"text-base",children:m.jsxs(Wn,{to:"/marketplace",children:[m.jsx(Ld,{className:"mr-2 h-5 w-5"}),"Explore Lockers"]})}),m.jsx(pt,{asChild:!0,size:"lg",variant:"outline",className:"text-base",children:m.jsxs(Wn,{to:"/dashboard",children:[m.jsx(l0,{className:"mr-2 h-5 w-5"}),"Owner Dashboard"]})})]})]})]}),m.jsxs("section",{className:"container mx-auto px-4 py-16",children:[m.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsxs(Mt,{className:"bg-card/60 backdrop-blur",children:[m.jsxs(Vn,{children:[m.jsx(Ld,{className:"h-10 w-10 text-primary mb-2"}),m.jsx(gr,{children:"Find a Locker"})]}),m.jsx(qt,{children:m.jsx(Ro,{children:"Browse the map to find available smart lockers near you. Filter by size, price, and trust score."})})]}),m.jsxs(Mt,{className:"bg-card/60 backdrop-blur",children:[m.jsxs(Vn,{children:[m.jsx(u0,{className:"h-10 w-10 text-primary mb-2"}),m.jsx(gr,{children:"Pay with Lightning"})]}),m.jsx(qt,{children:m.jsx(Ro,{children:"Rent instantly using Nostr Wallet Connect (NIP-47) or WebLN. The locker unlocks once payment confirms."})})]}),m.jsxs(Mt,{className:"bg-card/60 backdrop-blur",children:[m.jsxs(Vn,{children:[m.jsx(lN,{className:"h-10 w-10 text-primary mb-2"}),m.jsx(gr,{children:"Negotiate Privately"})]}),m.jsx(qt,{children:m.jsx(Ro,{children:"Chat with buyers or sellers via encrypted NIP-17 messages. Goods payment is direct P2P via zaps."})})]}),m.jsxs(Mt,{className:"bg-card/60 backdrop-blur",children:[m.jsxs(Vn,{children:[m.jsx(l0,{className:"h-10 w-10 text-primary mb-2"}),m.jsx(gr,{children:"Manage Your Box"})]}),m.jsx(qt,{children:m.jsx(Ro,{children:"Owners configure fees, overdue penalties, proxy mode, and abandoned property rules from their dashboard."})})]})]})]}),m.jsx("section",{className:"container mx-auto px-4 py-16 text-center",children:m.jsxs(Mt,{className:"max-w-2xl mx-auto bg-primary/5 border-primary/20",children:[m.jsxs(Vn,{children:[m.jsx(gr,{className:"text-2xl",children:"Ready to Deploy a Locker?"}),m.jsx(Ro,{children:"Flash our ESP32 template onto your hardware, configure via the dashboard, and start earning sats."})]}),m.jsx(qt,{children:m.jsx(pt,{asChild:!0,size:"lg",children:m.jsx(Wn,{to:"/dashboard",children:"Get Started"})})})]})}),m.jsx("footer",{className:"border-t py-8 text-center text-sm text-muted-foreground",children:m.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Vibed with Shakespeare"})})]})}var Im="Switch",[hq,iG]=Pn(Im),[pq,mq]=hq(Im),dR=C.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:l,disabled:u,value:d="on",onCheckedChange:p,form:y,...g}=e,[b,_]=C.useState(null),S=ft(t,A=>_(A)),v=C.useRef(!1),E=b?y||!!b.closest("form"):!0,[k,T]=ni({prop:i,defaultProp:s??!1,onChange:p,caller:Im});return m.jsxs(pq,{scope:n,checked:k,disabled:u,children:[m.jsx(Ge.button,{type:"button",role:"switch","aria-checked":k,"aria-required":l,"data-state":mR(k),"data-disabled":u?"":void 0,disabled:u,value:d,...g,ref:S,onClick:Ue(e.onClick,A=>{T(z=>!z),E&&(v.current=A.isPropagationStopped(),v.current||A.stopPropagation())})}),E&&m.jsx(pR,{control:b,bubbles:!v.current,name:r,value:d,checked:k,required:l,disabled:u,form:y,style:{transform:"translateX(-100%)"}})]})});dR.displayName=Im;var fR="SwitchThumb",hR=C.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=mq(fR,n);return m.jsx(Ge.span,{"data-state":mR(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});hR.displayName=fR;var gq="SwitchBubbleInput",pR=C.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const l=C.useRef(null),u=ft(l,s),d=Tm(n),p=hm(t);return C.useEffect(()=>{const y=l.current;if(!y)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&_){const S=new Event("click",{bubbles:r});_.call(y,n),y.dispatchEvent(S)}},[d,n,r]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pR.displayName=gq;function mR(e){return e?"checked":"unchecked"}var gR=dR,yq=hR;const yR=C.forwardRef(({className:e,...t},n)=>m.jsx(gR,{className:We("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:m.jsx(yq,{className:We("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yR.displayName=gR.displayName;const _v="0123456789bcdefghjkmnpqrstuvwxyz";class kn{static encode(t,n,r){if(typeof r>"u"){for(let b=1;b<=12;b++){const _=kn.encode(t,n,b),S=kn.decode(_);if(S.lat==t&&S.lon==n)return _}r=12}if(t=Number(t),n=Number(n),r=Number(r),isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Invalid geohash");let i=0,s=0,l=!0,u="",d=-90,p=90,y=-180,g=180;for(;u.length<r;){if(l){const b=(y+g)/2;n>=b?(i=i*2+1,y=b):(i=i*2,g=b)}else{const b=(d+p)/2;t>=b?(i=i*2+1,d=b):(i=i*2,p=b)}l=!l,++s==5&&(u+=_v.charAt(i),s=0,i=0)}return u}static decode(t){const n=kn.bounds(t),r=n.sw.lat,i=n.sw.lon,s=n.ne.lat,l=n.ne.lon;let u=(r+s)/2,d=(i+l)/2;return u=u.toFixed(Math.floor(2-Math.log(s-r)/Math.LN10)),d=d.toFixed(Math.floor(2-Math.log(l-i)/Math.LN10)),{lat:Number(u),lon:Number(d)}}static bounds(t){if(t.length==0)throw new Error("Invalid geohash");t=t.toLowerCase();let n=!0,r=-90,i=90,s=-180,l=180;for(let d=0;d<t.length;d++){const p=t.charAt(d),y=_v.indexOf(p);if(y==-1)throw new Error("Invalid geohash");for(let g=4;g>=0;g--){const b=y>>g&1;if(n){const _=(s+l)/2;b==1?s=_:l=_}else{const _=(r+i)/2;b==1?r=_:i=_}n=!n}}return{sw:{lat:r,lon:s},ne:{lat:i,lon:l}}}static adjacent(t,n){if(t=t.toLowerCase(),n=n.toLowerCase(),t.length==0)throw new Error("Invalid geohash");if("nsew".indexOf(n)==-1)throw new Error("Invalid direction");const r={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]},i={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]},s=t.slice(-1);let l=t.slice(0,-1);const u=t.length%2;return i[n][u].indexOf(s)!=-1&&l!=""&&(l=kn.adjacent(l,n)),l+_v.charAt(r[n][u].indexOf(s))}static neighbours(t){return{n:kn.adjacent(t,"n"),ne:kn.adjacent(kn.adjacent(t,"n"),"e"),e:kn.adjacent(t,"e"),se:kn.adjacent(kn.adjacent(t,"s"),"e"),s:kn.adjacent(t,"s"),sw:kn.adjacent(kn.adjacent(t,"s"),"w"),w:kn.adjacent(t,"w"),nw:kn.adjacent(kn.adjacent(t,"n"),"w")}}}function vq(){const{nostr:e}=jr();return Gi({queryKey:["my-lockers"],queryFn:async()=>(await e.query([{kinds:[30402],limit:100}])).map(n=>k_(n)).filter(Boolean),staleTime:3e4})}function wq(){hu({title:"Owner Dashboard - Dead Drop Network"});const{user:e}=gl(),{mutateAsync:t,isPending:n}=m_(),{toast:r}=ru(),{data:i,isLoading:s}=vq(),[l,u]=C.useState(""),[d,p]=C.useState(""),[y,g]=C.useState(""),[b,_]=C.useState(""),[S,v]=C.useState(""),[E,k]=C.useState("1000"),[T,A]=C.useState("10"),[z,D]=C.useState("7"),[Z,W]=C.useState(!1),[q,U]=C.useState("500"),[V,$]=C.useState("30"),[B,X]=C.useState("30x30x45"),j=async K=>{if(K.preventDefault(),!!e)try{const oe=kn.encode(parseFloat(b),parseFloat(S),7),ie=jW({title:l,description:d,location:y,geohash:oe,baseFee:parseInt(E),overdueFee:parseInt(T),overdueDays:parseInt(z),proxyMode:Z,proxyFee:parseInt(q),abandonDays:parseInt(V),dimensions:B});await t({kind:30402,content:d,tags:ie}),r({title:"Locker Published",description:"Your locker listing is now live."}),u(""),p("")}catch(oe){r({title:"Error",description:oe.message,variant:"destructive"})}};return e?m.jsx("div",{className:"min-h-screen bg-background",children:m.jsxs("div",{className:"container mx-auto p-4 space-y-8",children:[m.jsxs("header",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-2xl font-semibold",children:"Owner Dashboard"}),m.jsx(P0,{className:"max-w-60"})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-medium mb-4",children:"My Lockers"}),s?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(K=>m.jsxs(Mt,{children:[m.jsxs(Vn,{children:[m.jsx(Xr,{className:"h-5 w-3/4"}),m.jsx(Xr,{className:"h-4 w-1/2"})]}),m.jsxs(qt,{children:[m.jsx(Xr,{className:"h-4 w-full mb-2"}),m.jsx(Xr,{className:"h-4 w-2/3"})]})]},K))}):i&&i.length>0?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(K=>m.jsxs(Mt,{children:[m.jsxs(Vn,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(gr,{className:"text-lg",children:K.title}),m.jsx(Cn,{variant:K.status==="available"?"default":"secondary",children:K.status})]}),m.jsx(Ro,{children:K.location||K.geohash})]}),m.jsxs(qt,{children:[m.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:K.description}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsxs("span",{children:["Fee: ",K.price," sats"]}),K.proxyMode&&m.jsx(Cn,{variant:"outline",children:"Proxy"})]})]})]},K.id))}):m.jsx(Mt,{className:"border-dashed",children:m.jsx(qt,{className:"py-8 text-center text-muted-foreground",children:"You haven't created any lockers yet."})})]}),m.jsxs(Mt,{children:[m.jsxs(Vn,{children:[m.jsx(gr,{children:"Create New Locker"}),m.jsx(Ro,{children:"Configure your smart locker and publish it to the network."})]}),m.jsx(qt,{children:m.jsxs("form",{onSubmit:j,className:"space-y-6",children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{htmlFor:"title",children:"Title"}),m.jsx(fn,{id:"title",value:l,onChange:K=>u(K.target.value),placeholder:"Downtown Dead Drop Box #1",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{htmlFor:"dimensions",children:"Dimensions (cm)"}),m.jsx(fn,{id:"dimensions",value:B,onChange:K=>X(K.target.value),placeholder:"WxHxD e.g. 30x30x45"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{htmlFor:"description",children:"Description"}),m.jsx(Sm,{id:"description",value:d,onChange:K=>p(K.target.value),placeholder:"Describe your locker, its features, and any special instructions...",rows:3})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{htmlFor:"location",children:"Location Address"}),m.jsx(fn,{id:"location",value:y,onChange:K=>g(K.target.value),placeholder:"123 Main St, City"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{htmlFor:"lat",children:"Latitude"}),m.jsx(fn,{id:"lat",type:"number",step:"any",value:b,onChange:K=>_(K.target.value),placeholder:"51.505",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{htmlFor:"lng",children:"Longitude"}),m.jsx(fn,{id:"lng",type:"number",step:"any",value:S,onChange:K=>v(K.target.value),placeholder:"-0.09",required:!0})]})]}),m.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[m.jsx("h3",{className:"font-medium",children:"Fee Structure"}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{htmlFor:"baseFee",children:"Base Fee (sats)"}),m.jsx(fn,{id:"baseFee",type:"number",value:E,onChange:K=>k(K.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{htmlFor:"overdueFee",children:"Overdue Fee (%)"}),m.jsx(fn,{id:"overdueFee",type:"number",value:T,onChange:K=>A(K.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{htmlFor:"overdueDays",children:"Overdue After (days)"}),m.jsx(fn,{id:"overdueDays",type:"number",value:z,onChange:K=>D(K.target.value)})]})]})]}),m.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium",children:"Proxy Mode"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"You manually receive and stock items for an extra fee."})]}),m.jsx(yR,{checked:Z,onCheckedChange:W})]}),Z&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{htmlFor:"proxyFee",children:"Proxy Fee (sats)"}),m.jsx(fn,{id:"proxyFee",type:"number",value:q,onChange:K=>U(K.target.value)})]})]}),m.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[m.jsx("h3",{className:"font-medium",children:"Abandoned Property"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"After this period, unclaimed items become owner property or are auctioned."}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Rn,{htmlFor:"abandonDays",children:"Days Until Abandoned"}),m.jsx(fn,{id:"abandonDays",type:"number",value:V,onChange:K=>$(K.target.value)})]})]}),m.jsx(pt,{type:"submit",disabled:n,className:"w-full",children:n?"Publishing...":"Publish Locker"})]})})]}),m.jsx("footer",{className:"text-center text-sm text-muted-foreground pt-8",children:m.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",children:"Vibed with Shakespeare"})})]})}):m.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:m.jsxs(Mt,{className:"w-full max-w-md",children:[m.jsxs(Vn,{children:[m.jsx(gr,{children:"Owner Dashboard"}),m.jsx(Ro,{children:"Please log in to manage your lockers."})]}),m.jsx(qt,{children:m.jsx(P0,{className:"w-full"})})]})})}const _q=C.createContext(null);function pf(){const e=C.useContext(_q);if(!e)throw new Error("useDMContext must be used within DMProvider");return e}function vR(e){const t=new Date(e*1e3),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),i=new Date(r);i.setDate(i.getDate()-1);const s=new Date(r);return s.setDate(s.getDate()-s.getDay()),t>=r?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):t>=i?"Yesterday":t>=s?t.toLocaleDateString(void 0,{weekday:"short"}):t.getFullYear()===n.getFullYear()?t.toLocaleDateString(void 0,{month:"short",day:"numeric"}):t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function wR(e){return new Date(e*1e3).toLocaleString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}function xq(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var R_="ScrollArea",[_R,oG]=Pn(R_),[bq,oi]=_R(R_),xR=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...l}=e,[u,d]=C.useState(null),[p,y]=C.useState(null),[g,b]=C.useState(null),[_,S]=C.useState(null),[v,E]=C.useState(null),[k,T]=C.useState(0),[A,z]=C.useState(0),[D,Z]=C.useState(!1),[W,q]=C.useState(!1),U=ft(t,$=>d($)),V=_l(i);return m.jsx(bq,{scope:n,type:r,dir:V,scrollHideDelay:s,scrollArea:u,viewport:p,onViewportChange:y,content:g,onContentChange:b,scrollbarX:_,onScrollbarXChange:S,scrollbarXEnabled:D,onScrollbarXEnabledChange:Z,scrollbarY:v,onScrollbarYChange:E,scrollbarYEnabled:W,onScrollbarYEnabledChange:q,onCornerWidthChange:T,onCornerHeightChange:z,children:m.jsx(Ge.div,{dir:V,...l,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});xR.displayName=R_;var bR="ScrollAreaViewport",ER=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=e,l=oi(bR,n),u=C.useRef(null),d=ft(t,u,l.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),m.jsx(Ge.div,{"data-radix-scroll-area-viewport":"",...s,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:m.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});ER.displayName=bR;var to="ScrollAreaScrollbar",I_=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=oi(to,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:l}=i,u=e.orientation==="horizontal";return C.useEffect(()=>(u?s(!0):l(!0),()=>{u?s(!1):l(!1)}),[u,s,l]),i.type==="hover"?m.jsx(Eq,{...r,ref:t,forceMount:n}):i.type==="scroll"?m.jsx(Sq,{...r,ref:t,forceMount:n}):i.type==="auto"?m.jsx(SR,{...r,ref:t,forceMount:n}):i.type==="always"?m.jsx(j_,{...r,ref:t}):null});I_.displayName=to;var Eq=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=oi(to,e.__scopeScrollArea),[s,l]=C.useState(!1);return C.useEffect(()=>{const u=i.scrollArea;let d=0;if(u){const p=()=>{window.clearTimeout(d),l(!0)},y=()=>{d=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",y),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",y)}}},[i.scrollArea,i.scrollHideDelay]),m.jsx(jn,{present:n||s,children:m.jsx(SR,{"data-state":s?"visible":"hidden",...r,ref:t})})}),Sq=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=oi(to,e.__scopeScrollArea),s=e.orientation==="horizontal",l=Lm(()=>d("SCROLL_END"),100),[u,d]=xq("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,i.scrollHideDelay,d]),C.useEffect(()=>{const p=i.viewport,y=s?"scrollLeft":"scrollTop";if(p){let g=p[y];const b=()=>{const _=p[y];g!==_&&(d("SCROLL"),l()),g=_};return p.addEventListener("scroll",b),()=>p.removeEventListener("scroll",b)}},[i.viewport,s,d,l]),m.jsx(jn,{present:n||u!=="hidden",children:m.jsx(j_,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ue(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ue(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),SR=C.forwardRef((e,t)=>{const n=oi(to,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,l]=C.useState(!1),u=e.orientation==="horizontal",d=Lm(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?p:y)}},10);return Jc(n.viewport,d),Jc(n.content,d),m.jsx(jn,{present:r||s,children:m.jsx(j_,{"data-state":s?"visible":"hidden",...i,ref:t})})}),j_=C.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=oi(to,e.__scopeScrollArea),s=C.useRef(null),l=C.useRef(0),[u,d]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=TR(u.viewport,u.content),y={...r,sizes:u,onSizesChange:d,hasThumb:p>0&&p<1,onThumbChange:b=>s.current=b,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:b=>l.current=b};function g(b,_){return Aq(b,l.current,u,_)}return n==="horizontal"?m.jsx(kq,{...y,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const b=i.viewport.scrollLeft,_=y2(b,u,i.dir);s.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:b=>{i.viewport&&(i.viewport.scrollLeft=b)},onDragScroll:b=>{i.viewport&&(i.viewport.scrollLeft=g(b,i.dir))}}):n==="vertical"?m.jsx(Cq,{...y,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const b=i.viewport.scrollTop,_=y2(b,u);s.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:b=>{i.viewport&&(i.viewport.scrollTop=b)},onDragScroll:b=>{i.viewport&&(i.viewport.scrollTop=g(b))}}):null}),kq=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=oi(to,e.__scopeScrollArea),[l,u]=C.useState(),d=C.useRef(null),p=ft(t,d,s.onScrollbarXChange);return C.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),m.jsx(CR,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":jm(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,g)=>{if(s.viewport){const b=s.viewport.scrollLeft+y.deltaX;e.onWheelScroll(b),RR(b,g)&&y.preventDefault()}},onResize:()=>{d.current&&s.viewport&&l&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:zp(l.paddingLeft),paddingEnd:zp(l.paddingRight)}})}})}),Cq=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=oi(to,e.__scopeScrollArea),[l,u]=C.useState(),d=C.useRef(null),p=ft(t,d,s.onScrollbarYChange);return C.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),m.jsx(CR,{"data-orientation":"vertical",...i,ref:p,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":jm(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,g)=>{if(s.viewport){const b=s.viewport.scrollTop+y.deltaY;e.onWheelScroll(b),RR(b,g)&&y.preventDefault()}},onResize:()=>{d.current&&s.viewport&&l&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:zp(l.paddingTop),paddingEnd:zp(l.paddingBottom)}})}})}),[Nq,kR]=_R(to),CR=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:p,onWheelScroll:y,onResize:g,...b}=e,_=oi(to,n),[S,v]=C.useState(null),E=ft(t,U=>v(U)),k=C.useRef(null),T=C.useRef(""),A=_.viewport,z=r.content-r.viewport,D=ln(y),Z=ln(d),W=Lm(g,10);function q(U){if(k.current){const V=U.clientX-k.current.left,$=U.clientY-k.current.top;p({x:V,y:$})}}return C.useEffect(()=>{const U=V=>{const $=V.target;(S==null?void 0:S.contains($))&&D(V,z)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[A,S,z,D]),C.useEffect(Z,[r,Z]),Jc(S,W),Jc(_.content,W),m.jsx(Nq,{scope:n,scrollbar:S,hasThumb:i,onThumbChange:ln(s),onThumbPointerUp:ln(l),onThumbPositionChange:Z,onThumbPointerDown:ln(u),children:m.jsx(Ge.div,{...b,ref:E,style:{position:"absolute",...b.style},onPointerDown:Ue(e.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),k.current=S.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_.viewport&&(_.viewport.style.scrollBehavior="auto"),q(U))}),onPointerMove:Ue(e.onPointerMove,q),onPointerUp:Ue(e.onPointerUp,U=>{const V=U.target;V.hasPointerCapture(U.pointerId)&&V.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=T.current,_.viewport&&(_.viewport.style.scrollBehavior=""),k.current=null})})})}),Mp="ScrollAreaThumb",NR=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=kR(Mp,e.__scopeScrollArea);return m.jsx(jn,{present:n||i.hasThumb,children:m.jsx(Pq,{ref:t,...r})})}),Pq=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=oi(Mp,n),l=kR(Mp,n),{onThumbPositionChange:u}=l,d=ft(t,g=>l.onThumbChange(g)),p=C.useRef(void 0),y=Lm(()=>{p.current&&(p.current(),p.current=void 0)},100);return C.useEffect(()=>{const g=s.viewport;if(g){const b=()=>{if(y(),!p.current){const _=Rq(g,u);p.current=_,u()}};return u(),g.addEventListener("scroll",b),()=>g.removeEventListener("scroll",b)}},[s.viewport,y,u]),m.jsx(Ge.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(e.onPointerDownCapture,g=>{const _=g.target.getBoundingClientRect(),S=g.clientX-_.left,v=g.clientY-_.top;l.onThumbPointerDown({x:S,y:v})}),onPointerUp:Ue(e.onPointerUp,l.onThumbPointerUp)})});NR.displayName=Mp;var L_="ScrollAreaCorner",PR=C.forwardRef((e,t)=>{const n=oi(L_,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?m.jsx(Tq,{...e,ref:t}):null});PR.displayName=L_;var Tq=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=oi(L_,n),[s,l]=C.useState(0),[u,d]=C.useState(0),p=!!(s&&u);return Jc(i.scrollbarX,()=>{var g;const y=((g=i.scrollbarX)==null?void 0:g.offsetHeight)||0;i.onCornerHeightChange(y),d(y)}),Jc(i.scrollbarY,()=>{var g;const y=((g=i.scrollbarY)==null?void 0:g.offsetWidth)||0;i.onCornerWidthChange(y),l(y)}),p?m.jsx(Ge.div,{...r,ref:t,style:{width:s,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function zp(e){return e?parseInt(e,10):0}function TR(e,t){const n=e/t;return isNaN(n)?0:n}function jm(e){const t=TR(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Aq(e,t,n,r="ltr"){const i=jm(n),s=i/2,l=t||s,u=i-l,d=n.scrollbar.paddingStart+l,p=n.scrollbar.size-n.scrollbar.paddingEnd-u,y=n.content-n.viewport,g=r==="ltr"?[0,y]:[y*-1,0];return AR([d,p],g)(e)}function y2(e,t,n="ltr"){const r=jm(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,l=t.content-t.viewport,u=s-r,d=n==="ltr"?[0,l]:[l*-1,0],p=Vd(e,d);return AR([0,l],[0,u])(p)}function AR(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function RR(e,t){return e>0&&e<t}var Rq=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},l=n.left!==s.left,u=n.top!==s.top;(l||u)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Lm(e,t){const n=ln(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Jc(e,t){const n=ln(t);un(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var IR=xR,Iq=ER,jq=PR;const O_=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(IR,{ref:r,className:We("relative overflow-hidden",e),...n,children:[m.jsx(Iq,{className:"h-full w-full rounded-[inherit] [&>div]:!block [&>div]:!w-full",children:t}),m.jsx(jR,{}),m.jsx(jq,{})]}));O_.displayName=IR.displayName;const jR=C.forwardRef(({className:e,orientation:t="vertical",...n},r)=>m.jsx(I_,{ref:r,orientation:t,className:We("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:m.jsx(NR,{className:"relative flex-1 rounded-full bg-border"})}));jR.displayName=I_.displayName;const yc={NIP04:"nip04",NIP17:"nip17"},Xh={NIP04_ONLY:"nip04_only",NIP17_ONLY:"nip17_only",NIP04_OR_NIP17:"nip04_or_nip17"},mr={IDLE:"idle",CACHE:"cache",RELAYS:"relays",SUBSCRIPTIONS:"subscriptions",READY:"ready"},Lq=({pubkey:e,isSelected:t,onClick:n,lastMessage:r,lastActivity:i,hasNIP4Messages:s})=>{var _;const l=om(e),u=(_=l.data)==null?void 0:_.metadata,d=(u==null?void 0:u.name)||Pm(e),p=u==null?void 0:u.picture,y=d.slice(0,2).toUpperCase(),g=r!=null&&r.error?" Encrypted message":(r==null?void 0:r.decryptedContent)||"No messages yet",b=l.isLoading&&!u;return m.jsx("button",{onClick:n,className:We("w-full text-left p-3 rounded-lg transition-colors hover:bg-accent block overflow-hidden",t&&"bg-accent"),children:m.jsxs("div",{className:"flex items-start gap-3 max-w-full",children:[b?m.jsx(Xr,{className:"h-10 w-10 rounded-full flex-shrink-0"}):m.jsxs(Hd,{className:"h-10 w-10 flex-shrink-0",children:[m.jsx(Zd,{src:p,alt:d}),m.jsx(Wd,{children:y})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[m.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[b?m.jsx(Xr,{className:"h-[1.25rem] w-24"}):m.jsx("span",{className:"font-medium text-sm truncate",children:d}),s&&m.jsx(il,{children:m.jsxs(Wa,{children:[m.jsx(Va,{asChild:!0,children:m.jsx("div",{className:"flex-shrink-0",children:m.jsx(Mw,{className:"h-3.5 w-3.5 text-yellow-600 dark:text-yellow-500"})})}),m.jsx(Gs,{side:"left",children:m.jsx("p",{className:"text-xs max-w-[200px]",children:"Some messages use outdated NIP-04 encryption"})})]})})]}),m.jsx(il,{children:m.jsxs(Wa,{children:[m.jsx(Va,{asChild:!0,children:m.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap flex-shrink-0 cursor-default",children:vR(i)})}),m.jsx(Gs,{side:"left",children:m.jsx("p",{className:"text-xs",children:wR(i)})})]})})]}),m.jsx("p",{className:"text-sm text-muted-foreground truncate",children:g})]})]})})},LR=C.memo(Lq);LR.displayName="ConversationItem";const Oq=()=>m.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4,5].map(e=>m.jsxs("div",{className:"flex items-start gap-3 p-3",children:[m.jsx(Xr,{className:"h-10 w-10 rounded-full flex-shrink-0"}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx(Xr,{className:"h-4 w-24"}),m.jsx(Xr,{className:"h-3 w-12"})]}),m.jsx(Xr,{className:"h-3 w-full"})]})]},e))}),Mq=({selectedPubkey:e,onSelectConversation:t,className:n,onStatusClick:r})=>{const{conversations:i,isLoading:s,loadingPhase:l}=pf(),[u,d]=C.useState("known"),{knownConversations:p,requestConversations:y}=C.useMemo(()=>({knownConversations:i.filter(_=>_.isKnown),requestConversations:i.filter(_=>_.isRequest)}),[i]),g=u==="known"?p:y,b=(l===mr.CACHE||l===mr.RELAYS)&&i.length===0;return m.jsxs(Mt,{className:We("h-full flex flex-col overflow-hidden",n),children:[m.jsxs("div",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h2",{className:"font-semibold text-lg",children:"Messages"}),(l===mr.CACHE||l===mr.RELAYS||l===mr.SUBSCRIPTIONS)&&m.jsx(il,{children:m.jsxs(Wa,{children:[m.jsx(Va,{asChild:!0,children:m.jsx("div",{className:"flex items-center",children:m.jsx(Rr,{className:"h-4 w-4 animate-spin text-muted-foreground"})})}),m.jsx(Gs,{children:m.jsxs("p",{className:"text-xs",children:[l===mr.CACHE&&"Loading from cache...",l===mr.RELAYS&&"Querying relays for new messages...",l===mr.SUBSCRIPTIONS&&"Setting up subscriptions..."]})})]})})]}),r&&m.jsx(pt,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:r,"aria-label":"View messaging status",children:m.jsx(mF,{className:"h-4 w-4"})})]}),m.jsx("div",{className:"px-2 pt-2 flex-shrink-0",children:m.jsxs("div",{className:"grid grid-cols-2 gap-1 bg-muted p-1 rounded-lg",children:[m.jsxs("button",{onClick:()=>d("known"),className:We("text-xs py-2 px-3 rounded-md transition-colors",u==="known"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Active ",p.length>0&&`(${p.length})`]}),m.jsxs("button",{onClick:()=>d("requests"),className:We("text-xs py-2 px-3 rounded-md transition-colors",u==="requests"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Requests ",y.length>0&&`(${y.length})`]})]})}),m.jsx("div",{className:"flex-1 min-h-0 mt-2 overflow-hidden",children:s||b?m.jsx(Oq,{}):i.length===0?m.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground px-4",children:m.jsxs("div",{children:[m.jsx("p",{className:"text-sm",children:"No conversations yet"}),m.jsx("p",{className:"text-xs mt-1",children:"Start a new conversation to get started"})]})}):g.length===0?m.jsx("div",{className:"flex items-center justify-center h-32 text-center text-muted-foreground px-4",children:m.jsxs("p",{className:"text-sm",children:["No ",u," conversations"]})}):m.jsx(O_,{className:"h-full block",children:m.jsx("div",{className:"block w-full px-2 py-2 space-y-1",children:g.map(_=>m.jsx(LR,{pubkey:_.pubkey,isSelected:e===_.pubkey,onClick:()=>t(_.pubkey),lastMessage:_.lastMessage,lastActivity:_.lastActivity,hasNIP4Messages:_.hasNIP4Messages},_.pubkey))})})})]})},xv=25;function zq(e){const{messages:t}=pf(),[n,r]=C.useState(xv),i=C.useMemo(()=>{const l=t.get(e);if(!l)return{messages:[],hasMoreMessages:!1,totalCount:0,lastMessage:null,lastActivity:0};const u=l.messages.length,d=u>n;return{messages:l.messages.slice(-n),hasMoreMessages:d,totalCount:u,lastMessage:l.lastMessage,lastActivity:l.lastActivity}},[t,e,n]),s=C.useCallback(()=>{r(l=>l+xv)},[]);return C.useEffect(()=>{r(xv)},[e]),{...i,loadEarlierMessages:s}}var Dq=[" ","Enter","ArrowUp","ArrowDown"],Bq=[" ","Enter"],hl="Select",[Om,Mm,Fq]=rf(hl),[mu,sG]=Pn(hl,[Fq,cu]),zm=cu(),[Uq,da]=mu(hl),[$q,Hq]=mu(hl),OR=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:l,defaultValue:u,onValueChange:d,dir:p,name:y,autoComplete:g,disabled:b,required:_,form:S}=e,v=zm(t),[E,k]=C.useState(null),[T,A]=C.useState(null),[z,D]=C.useState(!1),Z=_l(p),[W,q]=ni({prop:r,defaultProp:i??!1,onChange:s,caller:hl}),[U,V]=ni({prop:l,defaultProp:u,onChange:d,caller:hl}),$=C.useRef(null),B=E?S||!!E.closest("form"):!0,[X,j]=C.useState(new Set),K=Array.from(X).map(oe=>oe.props.value).join(";");return m.jsx(qw,{...v,children:m.jsxs(Uq,{required:_,scope:t,trigger:E,onTriggerChange:k,valueNode:T,onValueNodeChange:A,valueNodeHasChildren:z,onValueNodeHasChildrenChange:D,contentId:ei(),value:U,onValueChange:V,open:W,onOpenChange:q,dir:Z,triggerPointerDownPosRef:$,disabled:b,children:[m.jsx(Om.Provider,{scope:t,children:m.jsx($q,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(oe=>{j(ie=>new Set(ie).add(oe))},[]),onNativeOptionRemove:C.useCallback(oe=>{j(ie=>{const te=new Set(ie);return te.delete(oe),te})},[]),children:n})}),B?m.jsxs(oI,{"aria-hidden":!0,required:_,tabIndex:-1,name:y,autoComplete:g,value:U,onChange:oe=>V(oe.target.value),disabled:b,form:S,children:[U===void 0?m.jsx("option",{value:""}):null,Array.from(X)]},K):null]})})};OR.displayName=hl;var MR="SelectTrigger",zR=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=zm(n),l=da(MR,n),u=l.disabled||r,d=ft(t,l.onTriggerChange),p=Mm(n),y=C.useRef("touch"),[g,b,_]=aI(v=>{const E=p().filter(A=>!A.disabled),k=E.find(A=>A.value===l.value),T=lI(E,v,k);T!==void 0&&l.onValueChange(T.value)}),S=v=>{u||(l.onOpenChange(!0),_()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return m.jsx(Kw,{asChild:!0,...s,children:m.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":sI(l.value)?"":void 0,...i,ref:d,onClick:Ue(i.onClick,v=>{v.currentTarget.focus(),y.current!=="mouse"&&S(v)}),onPointerDown:Ue(i.onPointerDown,v=>{y.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:Ue(i.onKeyDown,v=>{const E=g.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&b(v.key),!(E&&v.key===" ")&&Dq.includes(v.key)&&(S(),v.preventDefault())})})})});zR.displayName=MR;var DR="SelectValue",BR=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:l="",...u}=e,d=da(DR,n),{onValueNodeHasChildrenChange:p}=d,y=s!==void 0,g=ft(t,d.onValueNodeChange);return un(()=>{p(y)},[p,y]),m.jsx(Ge.span,{...u,ref:g,style:{pointerEvents:"none"},children:sI(d.value)?m.jsx(m.Fragment,{children:l}):s})});BR.displayName=DR;var Zq="SelectIcon",FR=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return m.jsx(Ge.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});FR.displayName=Zq;var Wq="SelectPortal",UR=e=>m.jsx(of,{asChild:!0,...e});UR.displayName=Wq;var pl="SelectContent",$R=C.forwardRef((e,t)=>{const n=da(pl,e.__scopeSelect),[r,i]=C.useState();if(un(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?iu.createPortal(m.jsx(HR,{scope:e.__scopeSelect,children:m.jsx(Om.Slot,{scope:e.__scopeSelect,children:m.jsx("div",{children:e.children})})}),s):null}return m.jsx(ZR,{...e,ref:t})});$R.displayName=pl;var vi=10,[HR,fa]=mu(pl),Vq="SelectContentImpl",qq=cl("SelectContent.RemoveScroll"),ZR=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:u,sideOffset:d,align:p,alignOffset:y,arrowPadding:g,collisionBoundary:b,collisionPadding:_,sticky:S,hideWhenDetached:v,avoidCollisions:E,...k}=e,T=da(pl,n),[A,z]=C.useState(null),[D,Z]=C.useState(null),W=ft(t,Pe=>z(Pe)),[q,U]=C.useState(null),[V,$]=C.useState(null),B=Mm(n),[X,j]=C.useState(!1),K=C.useRef(!1);C.useEffect(()=>{if(A)return i_(A)},[A]),r_();const oe=C.useCallback(Pe=>{const[Te,...Oe]=B().map(ot=>ot.ref.current),[He]=Oe.slice(-1),Qe=document.activeElement;for(const ot of Pe)if(ot===Qe||(ot==null||ot.scrollIntoView({block:"nearest"}),ot===Te&&D&&(D.scrollTop=0),ot===He&&D&&(D.scrollTop=D.scrollHeight),ot==null||ot.focus(),document.activeElement!==Qe))return},[B,D]),ie=C.useCallback(()=>oe([q,A]),[oe,q,A]);C.useEffect(()=>{X&&ie()},[X,ie]);const{onOpenChange:te,triggerPointerDownPosRef:ee}=T;C.useEffect(()=>{if(A){let Pe={x:0,y:0};const Te=He=>{var Qe,ot;Pe={x:Math.abs(Math.round(He.pageX)-(((Qe=ee.current)==null?void 0:Qe.x)??0)),y:Math.abs(Math.round(He.pageY)-(((ot=ee.current)==null?void 0:ot.y)??0))}},Oe=He=>{Pe.x<=10&&Pe.y<=10?He.preventDefault():A.contains(He.target)||te(!1),document.removeEventListener("pointermove",Te),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[A,te,ee]),C.useEffect(()=>{const Pe=()=>te(!1);return window.addEventListener("blur",Pe),window.addEventListener("resize",Pe),()=>{window.removeEventListener("blur",Pe),window.removeEventListener("resize",Pe)}},[te]);const[le,H]=aI(Pe=>{const Te=B().filter(Qe=>!Qe.disabled),Oe=Te.find(Qe=>Qe.ref.current===document.activeElement),He=lI(Te,Pe,Oe);He&&setTimeout(()=>He.ref.current.focus())}),Q=C.useCallback((Pe,Te,Oe)=>{const He=!K.current&&!Oe;(T.value!==void 0&&T.value===Te||He)&&(U(Pe),He&&(K.current=!0))},[T.value]),ke=C.useCallback(()=>A==null?void 0:A.focus(),[A]),_e=C.useCallback((Pe,Te,Oe)=>{const He=!K.current&&!Oe;(T.value!==void 0&&T.value===Te||He)&&$(Pe)},[T.value]),ve=r==="popper"?I0:WR,Ie=ve===I0?{side:u,sideOffset:d,align:p,alignOffset:y,arrowPadding:g,collisionBoundary:b,collisionPadding:_,sticky:S,hideWhenDetached:v,avoidCollisions:E}:{};return m.jsx(HR,{scope:n,content:A,viewport:D,onViewportChange:Z,itemRefCallback:Q,selectedItem:q,onItemLeave:ke,itemTextRefCallback:_e,focusSelectedItem:ie,selectedItemText:V,position:r,isPositioned:X,searchRef:le,children:m.jsx(_m,{as:qq,allowPinchZoom:!0,children:m.jsx(vm,{asChild:!0,trapped:T.open,onMountAutoFocus:Pe=>{Pe.preventDefault()},onUnmountAutoFocus:Ue(i,Pe=>{var Te;(Te=T.trigger)==null||Te.focus({preventScroll:!0}),Pe.preventDefault()}),children:m.jsx(ou,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:Pe=>Pe.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:m.jsx(ve,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:Pe=>Pe.preventDefault(),...k,...Ie,onPlaced:()=>j(!0),ref:W,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ue(k.onKeyDown,Pe=>{const Te=Pe.ctrlKey||Pe.altKey||Pe.metaKey;if(Pe.key==="Tab"&&Pe.preventDefault(),!Te&&Pe.key.length===1&&H(Pe.key),["ArrowUp","ArrowDown","Home","End"].includes(Pe.key)){let He=B().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(Pe.key)&&(He=He.slice().reverse()),["ArrowUp","ArrowDown"].includes(Pe.key)){const Qe=Pe.target,ot=He.indexOf(Qe);He=He.slice(ot+1)}setTimeout(()=>oe(He)),Pe.preventDefault()}})})})})})})});ZR.displayName=Vq;var Kq="SelectItemAlignedPosition",WR=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=da(pl,n),l=fa(pl,n),[u,d]=C.useState(null),[p,y]=C.useState(null),g=ft(t,W=>y(W)),b=Mm(n),_=C.useRef(!1),S=C.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:k,focusSelectedItem:T}=l,A=C.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&p&&v&&E&&k){const W=s.trigger.getBoundingClientRect(),q=p.getBoundingClientRect(),U=s.valueNode.getBoundingClientRect(),V=k.getBoundingClientRect();if(s.dir!=="rtl"){const Qe=V.left-q.left,ot=U.left-Qe,at=W.left-ot,F=W.width+at,Ne=Math.max(F,q.width),be=window.innerWidth-vi,se=Vd(ot,[vi,Math.max(vi,be-Ne)]);u.style.minWidth=F+"px",u.style.left=se+"px"}else{const Qe=q.right-V.right,ot=window.innerWidth-U.right-Qe,at=window.innerWidth-W.right-ot,F=W.width+at,Ne=Math.max(F,q.width),be=window.innerWidth-vi,se=Vd(ot,[vi,Math.max(vi,be-Ne)]);u.style.minWidth=F+"px",u.style.right=se+"px"}const $=b(),B=window.innerHeight-vi*2,X=v.scrollHeight,j=window.getComputedStyle(p),K=parseInt(j.borderTopWidth,10),oe=parseInt(j.paddingTop,10),ie=parseInt(j.borderBottomWidth,10),te=parseInt(j.paddingBottom,10),ee=K+oe+X+te+ie,le=Math.min(E.offsetHeight*5,ee),H=window.getComputedStyle(v),Q=parseInt(H.paddingTop,10),ke=parseInt(H.paddingBottom,10),_e=W.top+W.height/2-vi,ve=B-_e,Ie=E.offsetHeight/2,Pe=E.offsetTop+Ie,Te=K+oe+Pe,Oe=ee-Te;if(Te<=_e){const Qe=$.length>0&&E===$[$.length-1].ref.current;u.style.bottom="0px";const ot=p.clientHeight-v.offsetTop-v.offsetHeight,at=Math.max(ve,Ie+(Qe?ke:0)+ot+ie),F=Te+at;u.style.height=F+"px"}else{const Qe=$.length>0&&E===$[0].ref.current;u.style.top="0px";const at=Math.max(_e,K+v.offsetTop+(Qe?Q:0)+Ie)+Oe;u.style.height=at+"px",v.scrollTop=Te-_e+v.offsetTop}u.style.margin=`${vi}px 0`,u.style.minHeight=le+"px",u.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[b,s.trigger,s.valueNode,u,p,v,E,k,s.dir,r]);un(()=>A(),[A]);const[z,D]=C.useState();un(()=>{p&&D(window.getComputedStyle(p).zIndex)},[p]);const Z=C.useCallback(W=>{W&&S.current===!0&&(A(),T==null||T(),S.current=!1)},[A,T]);return m.jsx(Yq,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:Z,children:m.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:m.jsx(Ge.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});WR.displayName=Kq;var Gq="SelectPopperPosition",I0=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=vi,...s}=e,l=zm(n);return m.jsx(Gw,{...l,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});I0.displayName=Gq;var[Yq,M_]=mu(pl,{}),j0="SelectViewport",VR=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=fa(j0,n),l=M_(j0,n),u=ft(t,s.onViewportChange),d=C.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(Om.Slot,{scope:n,children:m.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ue(i.onScroll,p=>{const y=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:b}=l;if(b!=null&&b.current&&g){const _=Math.abs(d.current-y.scrollTop);if(_>0){const S=window.innerHeight-vi*2,v=parseFloat(g.style.minHeight),E=parseFloat(g.style.height),k=Math.max(v,E);if(k<S){const T=k+_,A=Math.min(S,T),z=T-A;g.style.height=A+"px",g.style.bottom==="0px"&&(y.scrollTop=z>0?z:0,g.style.justifyContent="flex-end")}}}d.current=y.scrollTop})})})]})});VR.displayName=j0;var qR="SelectGroup",[Jq,Qq]=mu(qR),Xq=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ei();return m.jsx(Jq,{scope:n,id:i,children:m.jsx(Ge.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Xq.displayName=qR;var KR="SelectLabel",GR=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Qq(KR,n);return m.jsx(Ge.div,{id:i.id,...r,ref:t})});GR.displayName=KR;var Dp="SelectItem",[eK,YR]=mu(Dp),JR=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...l}=e,u=da(Dp,n),d=fa(Dp,n),p=u.value===r,[y,g]=C.useState(s??""),[b,_]=C.useState(!1),S=ft(t,T=>{var A;return(A=d.itemRefCallback)==null?void 0:A.call(d,T,r,i)}),v=ei(),E=C.useRef("touch"),k=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(eK,{scope:n,value:r,disabled:i,textId:v,isSelected:p,onItemTextChange:C.useCallback(T=>{g(A=>A||((T==null?void 0:T.textContent)??"").trim())},[]),children:m.jsx(Om.ItemSlot,{scope:n,value:r,disabled:i,textValue:y,children:m.jsx(Ge.div,{role:"option","aria-labelledby":v,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:S,onFocus:Ue(l.onFocus,()=>_(!0)),onBlur:Ue(l.onBlur,()=>_(!1)),onClick:Ue(l.onClick,()=>{E.current!=="mouse"&&k()}),onPointerUp:Ue(l.onPointerUp,()=>{E.current==="mouse"&&k()}),onPointerDown:Ue(l.onPointerDown,T=>{E.current=T.pointerType}),onPointerMove:Ue(l.onPointerMove,T=>{var A;E.current=T.pointerType,i?(A=d.onItemLeave)==null||A.call(d):E.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(l.onPointerLeave,T=>{var A;T.currentTarget===document.activeElement&&((A=d.onItemLeave)==null||A.call(d))}),onKeyDown:Ue(l.onKeyDown,T=>{var z;((z=d.searchRef)==null?void 0:z.current)!==""&&T.key===" "||(Bq.includes(T.key)&&k(),T.key===" "&&T.preventDefault())})})})})});JR.displayName=Dp;var bd="SelectItemText",QR=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,l=da(bd,n),u=fa(bd,n),d=YR(bd,n),p=Hq(bd,n),[y,g]=C.useState(null),b=ft(t,k=>g(k),d.onItemTextChange,k=>{var T;return(T=u.itemTextRefCallback)==null?void 0:T.call(u,k,d.value,d.disabled)}),_=y==null?void 0:y.textContent,S=C.useMemo(()=>m.jsx("option",{value:d.value,disabled:d.disabled,children:_},d.value),[d.disabled,d.value,_]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=p;return un(()=>(v(S),()=>E(S)),[v,E,S]),m.jsxs(m.Fragment,{children:[m.jsx(Ge.span,{id:d.textId,...s,ref:b}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?iu.createPortal(s.children,l.valueNode):null]})});QR.displayName=bd;var XR="SelectItemIndicator",eI=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return YR(XR,n).isSelected?m.jsx(Ge.span,{"aria-hidden":!0,...r,ref:t}):null});eI.displayName=XR;var L0="SelectScrollUpButton",tI=C.forwardRef((e,t)=>{const n=fa(L0,e.__scopeSelect),r=M_(L0,e.__scopeSelect),[i,s]=C.useState(!1),l=ft(t,r.onScrollButtonChange);return un(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=d.scrollTop>0;s(p)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?m.jsx(rI,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});tI.displayName=L0;var O0="SelectScrollDownButton",nI=C.forwardRef((e,t)=>{const n=fa(O0,e.__scopeSelect),r=M_(O0,e.__scopeSelect),[i,s]=C.useState(!1),l=ft(t,r.onScrollButtonChange);return un(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=d.scrollHeight-d.clientHeight,y=Math.ceil(d.scrollTop)<p;s(y)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?m.jsx(rI,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});nI.displayName=O0;var rI=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=fa("SelectScrollButton",n),l=C.useRef(null),u=Mm(n),d=C.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return C.useEffect(()=>()=>d(),[d]),un(()=>{var y;const p=u().find(g=>g.ref.current===document.activeElement);(y=p==null?void 0:p.ref.current)==null||y.scrollIntoView({block:"nearest"})},[u]),m.jsx(Ge.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ue(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ue(i.onPointerMove,()=>{var p;(p=s.onItemLeave)==null||p.call(s),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ue(i.onPointerLeave,()=>{d()})})}),tK="SelectSeparator",iI=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return m.jsx(Ge.div,{"aria-hidden":!0,...r,ref:t})});iI.displayName=tK;var M0="SelectArrow",nK=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=zm(n),s=da(M0,n),l=fa(M0,n);return s.open&&l.position==="popper"?m.jsx(Yw,{...i,...r,ref:t}):null});nK.displayName=M0;var rK="SelectBubbleInput",oI=C.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=C.useRef(null),s=ft(r,i),l=Tm(t);return C.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&y){const g=new Event("change",{bubbles:!0});y.call(u,t),u.dispatchEvent(g)}},[l,t]),m.jsx(Ge.select,{...n,style:{...MC,...n.style},ref:s,defaultValue:t})});oI.displayName=rK;function sI(e){return e===""||e===void 0}function aI(e){const t=ln(e),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(l=>{const u=n.current+l;t(u),function d(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(u)},[t]),s=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function lI(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=iK(e,Math.max(s,0));i.length===1&&(l=l.filter(p=>p!==n));const d=l.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function iK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var oK=OR,cI=zR,sK=BR,aK=FR,lK=UR,uI=$R,cK=VR,dI=GR,fI=JR,uK=QR,dK=eI,hI=tI,pI=nI,mI=iI;const fK=oK,hK=sK,gI=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(cI,{ref:r,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,m.jsx(aK,{asChild:!0,children:m.jsx(cm,{className:"h-4 w-4 opacity-50"})})]}));gI.displayName=cI.displayName;const yI=C.forwardRef(({className:e,...t},n)=>m.jsx(hI,{ref:n,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:m.jsx(oF,{className:"h-4 w-4"})}));yI.displayName=hI.displayName;const vI=C.forwardRef(({className:e,...t},n)=>m.jsx(pI,{ref:n,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:m.jsx(cm,{className:"h-4 w-4"})}));vI.displayName=pI.displayName;const wI=C.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>m.jsx(lK,{children:m.jsxs(uI,{ref:i,className:We("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[m.jsx(yI,{}),m.jsx(cK,{className:We("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),m.jsx(vI,{})]})}));wI.displayName=uI.displayName;const pK=C.forwardRef(({className:e,...t},n)=>m.jsx(dI,{ref:n,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));pK.displayName=dI.displayName;const z0=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(fI,{ref:r,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(dK,{children:m.jsx(sN,{className:"h-4 w-4"})})}),m.jsx(uK,{children:t})]}));z0.displayName=fI.displayName;const mK=C.forwardRef(({className:e,...t},n)=>m.jsx(mI,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",e),...t}));mK.displayName=mI.displayName;function D0({event:e,className:t}){const n=C.useMemo(()=>{const r=e.content,i=/(https?:\/\/[^\s]+)|nostr:(npub1|note1|nprofile1|nevent1)([023456789acdefghjklmnpqrstuvwxyz]+)|(#\w+)/g,s=[];let l=0,u,d=0;for(;(u=i.exec(r))!==null;){const[p,y,g,b,_]=u,S=u.index;if(S>l&&s.push(r.substring(l,S)),y)s.push(m.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:y},`url-${d++}`));else if(g&&b)try{const v=`${g}${b}`,E=rr.decode(v);if(E.type==="npub"){const k=E.data;s.push(m.jsx(v2,{pubkey:k},`mention-${d++}`))}else if(E.type==="nprofile"){const k=E.data.pubkey;s.push(m.jsx(v2,{pubkey:k},`mention-${d++}`))}else s.push(m.jsx(Wn,{to:`/${v}`,className:"text-blue-500 hover:underline break-all",children:p},`nostr-${d++}`))}catch{s.push(p)}else if(_){const v=_.slice(1);s.push(m.jsx(Wn,{to:`/t/${v}`,className:"text-blue-500 hover:underline",children:_},`hashtag-${d++}`))}l=S+p.length}return l<r.length&&s.push(r.substring(l)),s.length===0&&s.push(r),s},[e]);return m.jsx("div",{className:We("whitespace-pre-wrap break-words",t),children:n.length>0?n:e.content})}function v2({pubkey:e}){var s,l,u,d;const t=om(e),n=rr.npubEncode(e),r=!!((l=(s=t.data)==null?void 0:s.metadata)!=null&&l.name),i=((d=(u=t.data)==null?void 0:u.metadata)==null?void 0:d.name)??Pm(e);return m.jsxs(Wn,{to:`/${n}`,className:We("font-medium hover:underline",r?"text-blue-500":"text-gray-500 hover:text-gray-700"),children:["@",i]})}const _I=C.memo(({message:e,isFromCurrentUser:t})=>{var l;const n=((l=e.decryptedEvent)==null?void 0:l.kind)||e.kind,r=e.kind===4,i=n===15,s=e.decryptedEvent||{id:e.id,pubkey:e.pubkey,created_at:e.created_at,kind:e.kind,tags:e.tags,content:e.decryptedContent||"",sig:""};return m.jsx("div",{className:We("flex mb-4",t?"justify-end":"justify-start"),children:m.jsxs("div",{className:We("max-w-[70%] rounded-lg px-4 py-2",t?"bg-primary text-primary-foreground":"bg-muted"),children:[e.error?m.jsxs(Wa,{delayDuration:200,children:[m.jsx(Va,{asChild:!0,children:m.jsx("p",{className:"text-sm italic opacity-70 cursor-help",children:" Failed to decrypt"})}),m.jsx(Gs,{children:m.jsx("p",{className:"text-xs",children:e.error})})]}):i?m.jsx("div",{className:"text-sm",children:m.jsx(D0,{event:s,className:"whitespace-pre-wrap break-words"})}):m.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.decryptedContent}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx(il,{children:m.jsxs(Wa,{delayDuration:200,children:[m.jsx(Va,{asChild:!0,children:m.jsx("span",{className:We("text-xs opacity-70 cursor-default",t?"text-primary-foreground":"text-muted-foreground"),children:vR(e.created_at)})}),m.jsx(Gs,{children:m.jsx("p",{className:"text-xs",children:wR(e.created_at)})})]})}),m.jsx(il,{children:m.jsxs(Wa,{delayDuration:200,children:[m.jsx(Va,{asChild:!0,children:m.jsx("span",{className:We("flex-shrink-0 opacity-50",t?"text-primary-foreground":"text-muted-foreground"),children:e.kind===4?m.jsx(gF,{className:"h-3 w-3"}):m.jsx(xF,{className:"h-3 w-3"})})}),m.jsx(Gs,{children:m.jsxs("p",{className:"text-xs",children:[e.kind===4&&"NIP-04 Kind 4 (Legacy DM)",e.kind===14&&"NIP-17 Kind 14 (Private Message)",e.kind===15&&"NIP-17 Kind 15 (Media)",e.kind!==4&&e.kind!==14&&e.kind!==15&&`Kind ${e.kind}`]})})]})}),r&&m.jsx(il,{children:m.jsxs(Wa,{children:[m.jsx(Va,{asChild:!0,children:m.jsx("div",{className:"flex-shrink-0",children:m.jsx(Mw,{className:"h-3 w-3 text-yellow-600 dark:text-yellow-500"})})}),m.jsx(Gs,{children:m.jsx("p",{className:"text-xs",children:"Uses outdated NIP-04 encryption"})})]})}),e.isSending&&m.jsx(Rr,{className:"h-3 w-3 animate-spin opacity-70"})]})]})})});_I.displayName="MessageBubble";const gK=({pubkey:e,onBack:t})=>{var u;const r=(u=om(e).data)==null?void 0:u.metadata,i=(r==null?void 0:r.name)||Pm(e),s=r==null?void 0:r.picture,l=i.slice(0,2).toUpperCase();return m.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[t&&m.jsx(pt,{variant:"ghost",size:"icon",onClick:t,className:"md:hidden",children:m.jsx(oN,{className:"h-5 w-5"})}),m.jsxs(Hd,{className:"h-10 w-10",children:[m.jsx(Zd,{src:s,alt:i}),m.jsx(Wd,{children:l})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h2",{className:"font-semibold truncate",children:i}),(r==null?void 0:r.nip05)&&m.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r.nip05})]})]})},yK=({isLoading:e})=>m.jsx("div",{className:"h-full flex items-center justify-center p-8",children:m.jsx("div",{className:"text-center text-muted-foreground max-w-sm",children:e?m.jsxs(m.Fragment,{children:[m.jsx(Rr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),m.jsx("p",{className:"text-sm",children:"Loading conversations..."}),m.jsx("p",{className:"text-xs mt-2",children:"Fetching encrypted messages from relays"})]}):m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-sm",children:"Select a conversation to start messaging"}),m.jsx("p",{className:"text-xs mt-2",children:"Your messages are encrypted and stored locally"})]})})}),vK=({pubkey:e,onBack:t,className:n})=>{const{user:r}=gl(),{sendMessage:i,protocolMode:s,isLoading:l}=pf(),{messages:u,hasMoreMessages:d,loadEarlierMessages:p}=zq(e||""),[y,g]=C.useState(""),[b,_]=C.useState(!1),[S,v]=C.useState(!1),E=()=>s===Xh.NIP04_ONLY?yc.NIP04:(s===Xh.NIP17_ONLY||s===Xh.NIP04_OR_NIP17,yc.NIP17),[k,T]=C.useState(E()),A=C.useRef(null),z=s===Xh.NIP04_OR_NIP17;C.useEffect(()=>{if(A.current){const q=A.current.querySelector("[data-radix-scroll-area-viewport]");q&&(q.scrollTop=q.scrollHeight)}},[u.length]);const D=C.useCallback(async()=>{if(!(!y.trim()||!e||!r)){_(!0);try{await i({recipientPubkey:e,content:y.trim(),protocol:k}),g("")}catch(q){console.error("Failed to send message:",q)}finally{_(!1)}}},[y,e,r,i,k]),Z=C.useCallback(q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),D())},[D]),W=C.useCallback(async()=>{if(!A.current||S)return;const q=A.current.querySelector("[data-radix-scroll-area-viewport]");if(!q)return;const U=q.scrollHeight,V=q.scrollTop;v(!0),p(),setTimeout(()=>{if(q){const B=q.scrollHeight-U;q.scrollTop=V+B}v(!1)},0)},[p,S]);return e?r?m.jsxs(Mt,{className:We("h-full flex flex-col",n),children:[m.jsx(gK,{pubkey:e,onBack:t}),m.jsx(O_,{ref:A,className:"flex-1 p-4",children:u.length===0?m.jsx("div",{className:"h-full flex items-center justify-center",children:m.jsxs("div",{className:"text-center text-muted-foreground",children:[m.jsx("p",{className:"text-sm",children:"No messages yet"}),m.jsx("p",{className:"text-xs mt-1",children:"Send a message to start the conversation"})]})}):m.jsxs("div",{children:[d&&m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx(pt,{variant:"outline",size:"sm",onClick:W,disabled:S,className:"text-xs",children:S?m.jsxs(m.Fragment,{children:[m.jsx(Rr,{className:"h-3 w-3 animate-spin mr-2"}),"Loading..."]}):"Load Earlier Messages"})}),u.map(q=>m.jsx(_I,{message:q,isFromCurrentUser:q.pubkey===r.pubkey},q.id))]})}),m.jsx("div",{className:"p-4 border-t",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Sm,{value:y,onChange:q=>g(q.target.value),onKeyDown:Z,placeholder:"Type a message... (Enter to send, Shift+Enter for new line)",className:"min-h-[80px] resize-none",disabled:b}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(pt,{onClick:D,disabled:!y.trim()||b,size:"icon",className:"h-[44px] w-[90px]",children:b?m.jsx(Rr,{className:"h-5 w-5 animate-spin"}):m.jsx(_F,{className:"h-5 w-5"})}),m.jsxs(fK,{value:k,onValueChange:q=>T(q),disabled:!z,children:[m.jsx(gI,{className:"h-[32px] w-[90px] text-xs px-2",children:m.jsx(hK,{})}),m.jsxs(wI,{children:[m.jsx(z0,{value:yc.NIP17,className:"text-xs",children:"NIP-17"}),m.jsx(z0,{value:yc.NIP04,className:"text-xs",children:"NIP-04"})]})]})]})]})})]}):m.jsx(Mt,{className:We("h-full flex items-center justify-center",n),children:m.jsx("div",{className:"text-center text-muted-foreground",children:m.jsx("p",{className:"text-sm",children:"Please log in to view messages"})})}):m.jsx(Mt,{className:We("h-full",n),children:m.jsx(yK,{isLoading:l})})};var wK="Separator",w2="horizontal",_K=["horizontal","vertical"],xI=C.forwardRef((e,t)=>{const{decorative:n,orientation:r=w2,...i}=e,s=xK(r)?r:w2,u=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return m.jsx(Ge.div,{"data-orientation":s,...u,...i,ref:t})});xI.displayName=wK;function xK(e){return _K.includes(e)}var bI=xI;const EI=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>m.jsx(bI,{ref:i,decorative:n,orientation:t,className:We("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));EI.displayName=bI.displayName;const bK=({clearCacheAndRefetch:e})=>{const[t,n]=C.useState(!1),{toast:r}=ru(),{loadingPhase:i,subscriptions:s,scanProgress:l,isDoingInitialLoad:u,lastSync:d,conversations:p}=pf(),y=async()=>{if(e){n(!0);try{await e(),r({title:"Cache cleared",description:"Refetching messages from relays..."}),n(!1)}catch(v){console.error("Error clearing cache:",v),r({title:"Error",description:"Failed to clear cache. Please try again.",variant:"destructive"}),n(!1)}}},b=(()=>{switch(i){case mr.IDLE:return{label:"Idle",description:"Not yet initialized",icon:Rr,color:"text-muted-foreground"};case mr.CACHE:return{label:"Loading from cache",description:"Reading cached messages...",icon:cF,color:"text-blue-500"};case mr.RELAYS:return{label:"Loading from relays",description:"Fetching messages from Nostr relays...",icon:kF,color:"text-yellow-500"};case mr.SUBSCRIPTIONS:return{label:"Connecting subscriptions",description:"Setting up real-time message sync...",icon:B1,color:"text-orange-500"};case mr.READY:return{label:"Ready",description:"All systems operational",icon:wd,color:"text-green-500"};default:return{label:"Unknown",description:"Status unknown",icon:Rr,color:"text-muted-foreground"}}})(),_=b.icon,S=v=>{if(!v)return"Never";const E=new Date(v*1e3),T=new Date().getTime()-E.getTime(),A=Math.floor(T/6e4);return A<1?"Just now":A<60?`${A}m ago`:A<1440?`${Math.floor(A/60)}h ago`:E.toLocaleDateString()};return m.jsxs("div",{className:"space-y-4",children:[m.jsx(Mt,{children:m.jsx(qt,{className:"pt-6",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(_,{className:`h-5 w-5 ${b.color} ${i!==mr.READY?"animate-pulse":""}`}),m.jsxs("div",{className:"flex-1 space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"font-medium",children:b.label}),u&&m.jsx(Cn,{variant:"secondary",className:"text-xs",children:"Initial Load"})]}),m.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]})]})})}),(l.nip4!==null||l.nip17!==null)&&m.jsx(Mt,{children:m.jsx(qt,{className:"pt-6",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:"text-sm font-medium",children:"Scanning Messages"}),l.nip4!==null&&m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs",children:[m.jsx("span",{className:"text-muted-foreground",children:"NIP-4 (Legacy)"}),m.jsxs("span",{className:"text-muted-foreground",children:[l.nip4.current," events"]})]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip4.status})]}),l.nip17!==null&&m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs",children:[m.jsx("span",{className:"text-muted-foreground",children:"NIP-17 (Private)"}),m.jsxs("span",{className:"text-muted-foreground",children:[l.nip17.current," events"]})]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip17.status})]})]})})}),m.jsx(Mt,{children:m.jsx(qt,{className:"pt-6",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:"text-sm font-medium",children:"Real-time Subscriptions"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-4 (Legacy DMs)"}),m.jsx(Cn,{variant:s.isNIP4Connected?"default":"secondary",children:s.isNIP4Connected?"Connected":"Disconnected"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-17 (Private DMs)"}),m.jsx(Cn,{variant:s.isNIP17Connected?"default":"secondary",children:s.isNIP17Connected?"Connected":"Disconnected"})]})]})]})})}),m.jsx(Mt,{children:m.jsx(qt,{className:"pt-6",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:"text-sm font-medium",children:"Cache Information"}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),m.jsx("span",{className:"font-medium",children:p.length})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Last NIP-4 sync"}),m.jsx("span",{className:"font-medium",children:S(d.nip4)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Last NIP-17 sync"}),m.jsx("span",{className:"font-medium",children:S(d.nip17)})]})]})]})})}),e&&m.jsxs(m.Fragment,{children:[m.jsx(EI,{}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-sm font-medium",children:"Cache Management"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Clear all cached messages and refetch from relays. This will force a fresh sync."})]}),m.jsx(pt,{onClick:y,disabled:t,variant:"outline",className:"w-full",children:t?m.jsxs(m.Fragment,{children:[m.jsx(Rr,{className:"mr-2 h-4 w-4 animate-spin"}),"Clearing..."]}):m.jsxs(m.Fragment,{children:[m.jsx(B1,{className:"mr-2 h-4 w-4"}),"Clear Cache & Refetch"]})})]})]})]})},ep=768;function EK(){const[e,t]=C.useState(window.innerWidth<ep);return C.useEffect(()=>{const n=window.matchMedia(`(max-width: ${ep-1}px)`),r=()=>{t(window.innerWidth<ep)};return n.addEventListener("change",r),t(window.innerWidth<ep),()=>n.removeEventListener("change",r)},[]),!!e}const SK=({className:e})=>{const[t,n]=C.useState(null),[r,i]=C.useState(!1),s=EK(),{clearCacheAndRefetch:l}=pf(),u=!s||!t,d=!s||t,p=C.useCallback(g=>{n(g)},[]),y=C.useCallback(()=>{n(null)},[]);return m.jsxs(m.Fragment,{children:[m.jsx(fl,{open:r,onOpenChange:i,children:m.jsxs(oa,{className:"max-w-md",children:[m.jsxs(wl,{children:[m.jsx(du,{children:"Messaging Status"}),m.jsx(uf,{children:"View loading status, cache info, and connection details"})]}),m.jsx(bK,{clearCacheAndRefetch:l})]})}),m.jsxs("div",{className:We("flex gap-4 overflow-hidden",e),children:[m.jsx("div",{className:We("md:w-80 md:flex-shrink-0",s&&!u&&"hidden",s&&u&&"w-full"),children:m.jsx(Mq,{selectedPubkey:t,onSelectConversation:p,className:"h-full",onStatusClick:()=>i(!0)})}),m.jsx("div",{className:We("flex-1 md:min-w-0",s&&!d&&"hidden",s&&d&&"w-full"),children:m.jsx(vK,{pubkey:t,onBack:s?y:void 0,className:"h-full"})})]})]})},kK=()=>(hu({title:"Messages",description:"Private encrypted messaging on Nostr"}),m.jsx("div",{className:"min-h-screen bg-background",children:m.jsxs("div",{className:"container mx-auto p-4 h-screen flex flex-col",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsx("h1",{className:"text-2xl font-semibold",children:"Messages"})}),m.jsx(SK,{className:"flex-1"})]})}));function CK(){const{nip19:e}=n_();hu({title:"NIP-19"});const{nostr:t}=jr();if(!e)return m.jsx("div",{className:"container mx-auto p-6",children:"Invalid identifier"});let n;try{n=rr.decode(e)}catch{return m.jsx("div",{className:"container mx-auto p-6",children:"Invalid NIP-19 identifier"})}const{type:r,data:i}=n,s=Gi({queryKey:["nip19",e,"profile"],enabled:r==="npub"||r==="nprofile",queryFn:async()=>{const p=(i==null?void 0:i.pubkey)??i;if(!p)return null;const y=await t.query([{kinds:[0],authors:[p],limit:1}]),g=y==null?void 0:y[0];if(!g)return{pubkey:p};try{const b=JSON.parse(g.content||"{}");return{pubkey:p,metadata:b}}catch{return{pubkey:p}}}}),l=Gi({queryKey:["nip19",e,"note"],enabled:r==="note",queryFn:async()=>{const p=i;if(!p)return null;const y=await t.query([{ids:[p],kinds:[1],limit:1}]);return(y==null?void 0:y[0])??null}}),u=Gi({queryKey:["nip19",e,"event"],enabled:r==="nevent",queryFn:async()=>{const p=(i==null?void 0:i.id)??i;if(!p)return null;const y=await t.query([{ids:[p],limit:1}]);return(y==null?void 0:y[0])??null}}),d=Gi({queryKey:["nip19",e,"naddr"],enabled:r==="naddr",queryFn:async()=>{const p=i;if(!p)return null;const y=p.kind,g=p.pubkey,b=p.identifier,_=await t.query([{kinds:[y],authors:[g],"#d":[b],limit:1}]);return(_==null?void 0:_[0])??null}});if(r==="npub"||r==="nprofile"){const p=s.data;return s.isFetched?m.jsx("div",{className:"container mx-auto p-6",children:m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),m.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["pubkey: ",m.jsx("code",{children:p==null?void 0:p.pubkey})]}),p!=null&&p.metadata?m.jsxs("div",{className:"space-y-2",children:[m.jsx("img",{src:p.metadata.picture,alt:"avatar",className:"w-28 h-28 rounded-full"}),m.jsx("h2",{className:"text-xl font-semibold",children:p.metadata.display_name??p.metadata.name}),m.jsx("p",{className:"text-sm text-muted-foreground",children:p.metadata.about}),p.metadata.website&&m.jsx("p",{children:m.jsx("a",{href:p.metadata.website,target:"_blank",rel:"noreferrer",className:"text-primary",children:"Website"})})]}):m.jsx("p",{children:"No metadata available."})]})}):m.jsx("div",{className:"container mx-auto p-6",children:"Loading profile"})}if(r==="note"){const p=l.data;return l.isLoading?m.jsx("div",{className:"container mx-auto p-6",children:"Loading note"}):p?m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Text Note"}),m.jsx("div",{className:"prose max-w-none whitespace-pre-wrap",children:m.jsx(D0,{event:p})}),m.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",m.jsx(Wn,{to:`/${rr.encode({type:"npub",data:p.pubkey})}`,children:p.pubkey})]})]}):m.jsx("div",{className:"container mx-auto p-6",children:"Note not found"})}if(r==="nevent"){const p=u.data;return u.isLoading?m.jsx("div",{className:"container mx-auto p-6",children:"Loading event"}):p?m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsxs("h1",{className:"text-xl font-semibold",children:["Event (kind: ",p.kind,")"]}),m.jsx("div",{className:"mt-4 prose max-w-none whitespace-pre-wrap",children:p.kind===1?m.jsx(D0,{event:p}):m.jsx("pre",{children:p.content})}),m.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",m.jsx("code",{children:p.pubkey})]})]}):m.jsx("div",{className:"container mx-auto p-6",children:"Event not found"})}if(r==="naddr"){const p=d.data;if(d.isLoading)return m.jsx("div",{className:"container mx-auto p-6",children:"Loading addressable event"});if(!p)return m.jsx("div",{className:"container mx-auto p-6",children:"Addressable event not found"});if(p.kind===30402){const y=k_(p);return y?m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsx("h1",{className:"text-2xl font-semibold",children:y.title}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",m.jsx("code",{children:y.pubkey})]}),m.jsx("p",{className:"mt-2",children:y.description}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("p",{children:["Dimensions: ",y.dimensions]}),m.jsxs("p",{children:["Fee: ",y.price," ",y.currency]}),m.jsxs("p",{children:["Status: ",y.status]}),m.jsx(Wn,{to:`/locker/${e}`,className:"text-primary",children:"Open Locker Page"})]})]}):m.jsx("div",{className:"container mx-auto p-6",children:"Invalid locker event"})}return m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsx("h1",{className:"text-xl font-semibold",children:"Addressable Event"}),m.jsx("pre",{className:"mt-4 whitespace-pre-wrap",children:p.content}),m.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Author: ",m.jsx("code",{children:p.pubkey})]})]})}return m.jsx("div",{className:"container mx-auto p-6",children:"Unsupported identifier type"})}const NK=()=>{const e=vl();return hu({title:"404 - Page Not Found",description:"The page you are looking for could not be found. Return to the home page to continue browsing."}),C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"404"}),m.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})};function PK(){return m.jsxs(v9,{basename:"/nostr-dead-drop-lockers",children:[m.jsx(b9,{}),m.jsx(TW,{}),m.jsxs(d9,{children:[m.jsx($i,{path:"/",element:m.jsx(fq,{})}),m.jsx($i,{path:"/marketplace",element:m.jsx(KV,{})}),m.jsx($i,{path:"/product/:dTag",element:m.jsx(aq,{})}),m.jsx($i,{path:"/snapshot",element:m.jsx(dq,{})}),m.jsx($i,{path:"/dashboard",element:m.jsx(wq,{})}),m.jsx($i,{path:"/messages",element:m.jsx(kK,{})}),m.jsx($i,{path:"/locker/:nip19",element:m.jsx(yV,{})}),m.jsx($i,{path:"/:nip19",element:m.jsx(CK,{})}),m.jsx($i,{path:"*",element:m.jsx(NK,{})})]})]})}const TK=J2({plugins:[N3()]}),AK=new zj({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4,gcTime:1/0}}}),RK={theme:"light",relayMetadata:{relays:[{url:"wss://relay.ditto.pub",read:!0,write:!0},{url:"wss://relay.nostr.band",read:!0,write:!0},{url:"wss://relay.damus.io",read:!0,write:!0}],updatedAt:0}};function IK(){return m.jsx(b3,{head:TK,children:m.jsx(M$,{storageKey:"nostr:app-config",defaultConfig:RK,children:m.jsx($j,{client:AK,children:m.jsx(nB,{storageKey:"nostr:login",children:m.jsxs(rB,{children:[m.jsx(iB,{}),m.jsx(v7,{children:m.jsxs(il,{children:[m.jsx(aU,{}),m.jsx(C.Suspense,{children:m.jsx(PK,{})})]})})]})})})})})}mj.createRoot(document.getElementById("root")).render(m.jsx(xj,{children:m.jsx(IK,{})}));
