var GT=Object.defineProperty;var zx=e=>{throw TypeError(e)};var YT=(e,t,n)=>t in e?GT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $e=(e,t,n)=>YT(e,typeof t!="symbol"?t+"":t,n),wg=(e,t,n)=>t.has(e)||zx("Cannot "+n);var ue=(e,t,n)=>(wg(e,t,"read from private field"),n?n.call(e):t.get(e)),tt=(e,t,n)=>t.has(e)?zx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),We=(e,t,n,r)=>(wg(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),mt=(e,t,n)=>(wg(e,t,"access private method"),n);var eh=(e,t,n,r)=>({set _(i){We(e,t,i,n)},get _(){return ue(e,t,r)}});function JT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xg={exports:{}},zu={},_g={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx;function QT(){if(Dx)return xt;Dx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function b(F,K,Ce){this.props=F,this.context=K,this.refs=w,this.updater=Ce||_}b.prototype.isReactComponent={},b.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function S(){}S.prototype=b.prototype;function P(F,K,Ce){this.props=F,this.context=K,this.refs=w,this.updater=Ce||_}var R=P.prototype=new S;R.constructor=P,k(R,b.prototype),R.isPureReactComponent=!0;var D=Array.isArray,B=Object.prototype.hasOwnProperty,q={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function J(F,K,Ce){var be,we={},Re=null,Ue=null;if(K!=null)for(be in K.ref!==void 0&&(Ue=K.ref),K.key!==void 0&&(Re=""+K.key),K)B.call(K,be)&&!G.hasOwnProperty(be)&&(we[be]=K[be]);var De=arguments.length-2;if(De===1)we.children=Ce;else if(1<De){for(var Fe=Array(De),it=0;it<De;it++)Fe[it]=arguments[it+2];we.children=Fe}if(F&&F.defaultProps)for(be in De=F.defaultProps,De)we[be]===void 0&&(we[be]=De[be]);return{$$typeof:e,type:F,key:Re,ref:Ue,props:we,_owner:q.current}}function V(F,K){return{$$typeof:e,type:F.type,key:K,ref:F.ref,props:F.props,_owner:F._owner}}function Y(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function Q(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Ce){return K[Ce]})}var U=/\/+/g;function re(F,K){return typeof F=="object"&&F!==null&&F.key!=null?Q(""+F.key):K.toString(36)}function M(F,K,Ce,be,we){var Re=typeof F;(Re==="undefined"||Re==="boolean")&&(F=null);var Ue=!1;if(F===null)Ue=!0;else switch(Re){case"string":case"number":Ue=!0;break;case"object":switch(F.$$typeof){case e:case t:Ue=!0}}if(Ue)return Ue=F,we=we(Ue),F=be===""?"."+re(Ue,0):be,D(we)?(Ce="",F!=null&&(Ce=F.replace(U,"$&/")+"/"),M(we,K,Ce,"",function(it){return it})):we!=null&&(Y(we)&&(we=V(we,Ce+(!we.key||Ue&&Ue.key===we.key?"":(""+we.key).replace(U,"$&/")+"/")+F)),K.push(we)),1;if(Ue=0,be=be===""?".":be+":",D(F))for(var De=0;De<F.length;De++){Re=F[De];var Fe=be+re(Re,De);Ue+=M(Re,K,Ce,Fe,we)}else if(Fe=E(F),typeof Fe=="function")for(F=Fe.call(F),De=0;!(Re=F.next()).done;)Re=Re.value,Fe=be+re(Re,De++),Ue+=M(Re,K,Ce,Fe,we);else if(Re==="object")throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ue}function W(F,K,Ce){if(F==null)return F;var be=[],we=0;return M(F,be,"","",function(Re){return K.call(Ce,Re,we++)}),be}function ae(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(Ce){(F._status===0||F._status===-1)&&(F._status=1,F._result=Ce)},function(Ce){(F._status===0||F._status===-1)&&(F._status=2,F._result=Ce)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var oe={current:null},ne={transition:null},ee={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:ne,ReactCurrentOwner:q};function le(){throw Error("act(...) is not supported in production builds of React.")}return xt.Children={map:W,forEach:function(F,K,Ce){W(F,function(){K.apply(this,arguments)},Ce)},count:function(F){var K=0;return W(F,function(){K++}),K},toArray:function(F){return W(F,function(K){return K})||[]},only:function(F){if(!Y(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},xt.Component=b,xt.Fragment=n,xt.Profiler=i,xt.PureComponent=P,xt.StrictMode=r,xt.Suspense=f,xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,xt.act=le,xt.cloneElement=function(F,K,Ce){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var be=k({},F.props),we=F.key,Re=F.ref,Ue=F._owner;if(K!=null){if(K.ref!==void 0&&(Re=K.ref,Ue=q.current),K.key!==void 0&&(we=""+K.key),F.type&&F.type.defaultProps)var De=F.type.defaultProps;for(Fe in K)B.call(K,Fe)&&!G.hasOwnProperty(Fe)&&(be[Fe]=K[Fe]===void 0&&De!==void 0?De[Fe]:K[Fe])}var Fe=arguments.length-2;if(Fe===1)be.children=Ce;else if(1<Fe){De=Array(Fe);for(var it=0;it<Fe;it++)De[it]=arguments[it+2];be.children=De}return{$$typeof:e,type:F.type,key:we,ref:Re,props:be,_owner:Ue}},xt.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},xt.createElement=J,xt.createFactory=function(F){var K=J.bind(null,F);return K.type=F,K},xt.createRef=function(){return{current:null}},xt.forwardRef=function(F){return{$$typeof:u,render:F}},xt.isValidElement=Y,xt.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ae}},xt.memo=function(F,K){return{$$typeof:m,type:F,compare:K===void 0?null:K}},xt.startTransition=function(F){var K=ne.transition;ne.transition={};try{F()}finally{ne.transition=K}},xt.unstable_act=le,xt.useCallback=function(F,K){return oe.current.useCallback(F,K)},xt.useContext=function(F){return oe.current.useContext(F)},xt.useDebugValue=function(){},xt.useDeferredValue=function(F){return oe.current.useDeferredValue(F)},xt.useEffect=function(F,K){return oe.current.useEffect(F,K)},xt.useId=function(){return oe.current.useId()},xt.useImperativeHandle=function(F,K,Ce){return oe.current.useImperativeHandle(F,K,Ce)},xt.useInsertionEffect=function(F,K){return oe.current.useInsertionEffect(F,K)},xt.useLayoutEffect=function(F,K){return oe.current.useLayoutEffect(F,K)},xt.useMemo=function(F,K){return oe.current.useMemo(F,K)},xt.useReducer=function(F,K,Ce){return oe.current.useReducer(F,K,Ce)},xt.useRef=function(F){return oe.current.useRef(F)},xt.useState=function(F){return oe.current.useState(F)},xt.useSyncExternalStore=function(F,K,Ce){return oe.current.useSyncExternalStore(F,K,Ce)},xt.useTransition=function(){return oe.current.useTransition()},xt.version="18.3.1",xt}var Bx;function ip(){return Bx||(Bx=1,_g.exports=QT()),_g.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx;function XT(){if(Fx)return zu;Fx=1;var e=ip(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,m){var y,g={},E=null,_=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(_=f.ref);for(y in f)r.call(f,y)&&!l.hasOwnProperty(y)&&(g[y]=f[y]);if(u&&u.defaultProps)for(y in f=u.defaultProps,f)g[y]===void 0&&(g[y]=f[y]);return{$$typeof:t,type:u,key:E,ref:_,props:g,_owner:i.current}}return zu.Fragment=n,zu.jsx=c,zu.jsxs=c,zu}var Ux;function ej(){return Ux||(Ux=1,xg.exports=XT()),xg.exports}var p=ej(),nh={},bg={exports:{}},dr={},Eg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function tj(){return $x||($x=1,function(e){function t(ne,ee){var le=ne.length;ne.push(ee);e:for(;0<le;){var F=le-1>>>1,K=ne[F];if(0<i(K,ee))ne[F]=ee,ne[le]=K,le=F;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var ee=ne[0],le=ne.pop();if(le!==ee){ne[0]=le;e:for(var F=0,K=ne.length,Ce=K>>>1;F<Ce;){var be=2*(F+1)-1,we=ne[be],Re=be+1,Ue=ne[Re];if(0>i(we,le))Re<K&&0>i(Ue,we)?(ne[F]=Ue,ne[Re]=le,F=Re):(ne[F]=we,ne[be]=le,F=be);else if(Re<K&&0>i(Ue,le))ne[F]=Ue,ne[Re]=le,F=Re;else break e}}return ee}function i(ne,ee){var le=ne.sortIndex-ee.sortIndex;return le!==0?le:ne.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],y=1,g=null,E=3,_=!1,k=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ne){for(var ee=n(m);ee!==null;){if(ee.callback===null)r(m);else if(ee.startTime<=ne)r(m),ee.sortIndex=ee.expirationTime,t(f,ee);else break;ee=n(m)}}function D(ne){if(w=!1,R(ne),!k)if(n(f)!==null)k=!0,ae(B);else{var ee=n(m);ee!==null&&oe(D,ee.startTime-ne)}}function B(ne,ee){k=!1,w&&(w=!1,S(J),J=-1),_=!0;var le=E;try{for(R(ee),g=n(f);g!==null&&(!(g.expirationTime>ee)||ne&&!Q());){var F=g.callback;if(typeof F=="function"){g.callback=null,E=g.priorityLevel;var K=F(g.expirationTime<=ee);ee=e.unstable_now(),typeof K=="function"?g.callback=K:g===n(f)&&r(f),R(ee)}else r(f);g=n(f)}if(g!==null)var Ce=!0;else{var be=n(m);be!==null&&oe(D,be.startTime-ee),Ce=!1}return Ce}finally{g=null,E=le,_=!1}}var q=!1,G=null,J=-1,V=5,Y=-1;function Q(){return!(e.unstable_now()-Y<V)}function U(){if(G!==null){var ne=e.unstable_now();Y=ne;var ee=!0;try{ee=G(!0,ne)}finally{ee?re():(q=!1,G=null)}}else q=!1}var re;if(typeof P=="function")re=function(){P(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,W=M.port2;M.port1.onmessage=U,re=function(){W.postMessage(null)}}else re=function(){b(U,0)};function ae(ne){G=ne,q||(q=!0,re())}function oe(ne,ee){J=b(function(){ne(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){k||_||(k=!0,ae(B))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(ne){switch(E){case 1:case 2:case 3:var ee=3;break;default:ee=E}var le=E;E=ee;try{return ne()}finally{E=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,ee){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=E;E=ne;try{return ee()}finally{E=le}},e.unstable_scheduleCallback=function(ne,ee,le){var F=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?F+le:F):le=F,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=le+K,ne={id:y++,callback:ee,priorityLevel:ne,startTime:le,expirationTime:K,sortIndex:-1},le>F?(ne.sortIndex=le,t(m,ne),n(f)===null&&ne===n(m)&&(w?(S(J),J=-1):w=!0,oe(D,le-F))):(ne.sortIndex=K,t(f,ne),k||_||(k=!0,ae(B))),ne},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(ne){var ee=E;return function(){var le=E;E=ee;try{return ne.apply(this,arguments)}finally{E=le}}}}(kg)),kg}var Zx;function nj(){return Zx||(Zx=1,Eg.exports=tj()),Eg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function rj(){if(Hx)return dr;Hx=1;var e=ip(),t=nj();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function l(o,a){c(o,a),c(o+"Capture",a)}function c(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function E(o){return f.call(g,o)?!0:f.call(y,o)?!1:m.test(o)?g[o]=!0:(y[o]=!0,!1)}function _(o,a,h,x){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return x?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,a,h,x){if(a===null||typeof a>"u"||_(o,a,h,x))return!0;if(x)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(o,a,h,x,N,A,$){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=x,this.attributeNamespace=N,this.mustUseProperty=h,this.propertyName=o,this.type=a,this.sanitizeURL=A,this.removeEmptyString=$}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];b[a]=new w(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function P(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(S,P);b[a]=new w(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(S,P);b[a]=new w(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(S,P);b[a]=new w(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,a,h,x){var N=b.hasOwnProperty(a)?b[a]:null;(N!==null?N.type!==0:x||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,h,N,x)&&(h=null),x||N===null?E(a)&&(h===null?o.removeAttribute(a):o.setAttribute(a,""+h)):N.mustUseProperty?o[N.propertyName]=h===null?N.type===3?!1:"":h:(a=N.attributeName,x=N.attributeNamespace,h===null?o.removeAttribute(a):(N=N.type,h=N===3||N===4&&h===!0?"":""+h,x?o.setAttributeNS(x,a,h):o.setAttribute(a,h))))}var D=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),q=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Q=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ee(o){return o===null||typeof o!="object"?null:(o=ne&&o[ne]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,F;function K(o){if(F===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+o}var Ce=!1;function be(o,a){if(!o||Ce)return"";Ce=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Ee){var x=Ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(Ee){x=Ee}o.call(a.prototype)}else{try{throw Error()}catch(Ee){x=Ee}o()}}catch(Ee){if(Ee&&x&&typeof Ee.stack=="string"){for(var N=Ee.stack.split(`
`),A=x.stack.split(`
`),$=N.length-1,se=A.length-1;1<=$&&0<=se&&N[$]!==A[se];)se--;for(;1<=$&&0<=se;$--,se--)if(N[$]!==A[se]){if($!==1||se!==1)do if($--,se--,0>se||N[$]!==A[se]){var de=`
`+N[$].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=$&&0<=se);break}}}finally{Ce=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?K(o):""}function we(o){switch(o.tag){case 5:return K(o.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return o=be(o.type,!1),o;case 11:return o=be(o.type.render,!1),o;case 1:return o=be(o.type,!0),o;default:return""}}function Re(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case G:return"Fragment";case q:return"Portal";case V:return"Profiler";case J:return"StrictMode";case re:return"Suspense";case M:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Q:return(o.displayName||"Context")+".Consumer";case Y:return(o._context.displayName||"Context")+".Provider";case U:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case W:return a=o.displayName||null,a!==null?a:Re(o.type)||"Memo";case ae:a=o._payload,o=o._init;try{return Re(o(a))}catch{}}return null}function Ue(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(a);case 8:return a===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function De(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Fe(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function it(o){var a=Fe(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),x=""+o[a];if(!o.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var N=h.get,A=h.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return N.call(this)},set:function($){x=""+$,A.call(this,$)}}),Object.defineProperty(o,a,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function($){x=""+$},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function wt(o){o._valueTracker||(o._valueTracker=it(o))}function Rt(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var h=a.getValue(),x="";return o&&(x=Fe(o)?o.checked?"true":"false":o.value),o=x,o!==h?(a.setValue(o),!0):!1}function ht(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function z(o,a){var h=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Ne(o,a){var h=a.defaultValue==null?"":a.defaultValue,x=a.checked!=null?a.checked:a.defaultChecked;h=De(a.value!=null?a.value:h),o._wrapperState={initialChecked:x,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ke(o,a){a=a.checked,a!=null&&R(o,"checked",a,!1)}function ie(o,a){ke(o,a);var h=De(a.value),x=a.type;if(h!=null)x==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?pe(o,a.type,h):a.hasOwnProperty("defaultValue")&&pe(o,a.type,De(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function te(o,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var x=a.type;if(!(x!=="submit"&&x!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,h||a===o.value||(o.value=a),o.defaultValue=a}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function pe(o,a,h){(a!=="number"||ht(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Te=Array.isArray;function je(o,a,h,x){if(o=o.options,a){a={};for(var N=0;N<h.length;N++)a["$"+h[N]]=!0;for(h=0;h<o.length;h++)N=a.hasOwnProperty("$"+o[h].value),o[h].selected!==N&&(o[h].selected=N),N&&x&&(o[h].defaultSelected=!0)}else{for(h=""+De(h),a=null,N=0;N<o.length;N++){if(o[N].value===h){o[N].selected=!0,x&&(o[N].defaultSelected=!0);return}a!==null||o[N].disabled||(a=o[N])}a!==null&&(a.selected=!0)}}function me(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Me(o,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(n(92));if(Te(h)){if(1<h.length)throw Error(n(93));h=h[0]}a=h}a==null&&(a=""),h=a}o._wrapperState={initialValue:De(h)}}function He(o,a){var h=De(a.value),x=De(a.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),a.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),x!=null&&(o.defaultValue=""+x)}function Oe(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Qe(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Qe(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var T,I=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,x,N){MSApp.execUnsafeLocalFunction(function(){return o(a,h,x,N)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(T=T||document.createElement("div"),T.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=T.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function X(o,a){if(a){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=a;return}}o.textContent=a}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];Object.keys(fe).forEach(function(o){xe.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),fe[a]=fe[o]})});function Se(o,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||fe.hasOwnProperty(o)&&fe[o]?(""+a).trim():a+"px"}function ct(o,a){o=o.style;for(var h in a)if(a.hasOwnProperty(h)){var x=h.indexOf("--")===0,N=Se(h,a[h],x);h==="float"&&(h="cssFloat"),x?o.setProperty(h,N):o[h]=N}}var Ot=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(o,a){if(a){if(Ot[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Ct(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=null;function na(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var zo=null,Rr=null,Wn=null;function qi(o){if(o=oo(o)){if(typeof zo!="function")throw Error(n(280));var a=o.stateNode;a&&(a=Il(a),zo(o.stateNode,o.type,a))}}function Md(o){Rr?Wn?Wn.push(o):Wn=[o]:Rr=o}function zd(){if(Rr){var o=Rr,a=Wn;if(Wn=Rr=null,qi(o),a)for(o=0;o<a.length;o++)qi(a[o])}}function Dd(o,a){return o(a)}function Bd(){}var Vc=!1;function al(o,a,h){if(Vc)return o(a,h);Vc=!0;try{return Dd(o,a,h)}finally{Vc=!1,(Rr!==null||Wn!==null)&&(Bd(),zd())}}function ra(o,a){var h=o.stateNode;if(h===null)return null;var x=Il(h);if(x===null)return null;h=x[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,a,typeof h));return h}var qc=!1;if(u)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){qc=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{qc=!1}function Yp(o,a,h,x,N,A,$,se,de){var Ee=Array.prototype.slice.call(arguments,3);try{a.apply(h,Ee)}catch(Le){this.onError(Le)}}var In=!1,Xe=null,oa=!1,ll=null,Fd={onError:function(o){In=!0,Xe=o}};function Ud(o,a,h,x,N,A,$,se,de){In=!1,Xe=null,Yp.apply(Fd,arguments)}function Kc(o,a,h,x,N,A,$,se,de){if(Ud.apply(this,arguments),In){if(In){var Ee=Xe;In=!1,Xe=null}else throw Error(n(198));oa||(oa=!0,ll=Ee)}}function xi(o){var a=o,h=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(h=a.return),o=a.return;while(o)}return a.tag===3?h:null}function Ki(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Gc(o){if(xi(o)!==o)throw Error(n(188))}function Jp(o){var a=o.alternate;if(!a){if(a=xi(o),a===null)throw Error(n(188));return a!==o?null:o}for(var h=o,x=a;;){var N=h.return;if(N===null)break;var A=N.alternate;if(A===null){if(x=N.return,x!==null){h=x;continue}break}if(N.child===A.child){for(A=N.child;A;){if(A===h)return Gc(N),o;if(A===x)return Gc(N),a;A=A.sibling}throw Error(n(188))}if(h.return!==x.return)h=N,x=A;else{for(var $=!1,se=N.child;se;){if(se===h){$=!0,h=N,x=A;break}if(se===x){$=!0,x=N,h=A;break}se=se.sibling}if(!$){for(se=A.child;se;){if(se===h){$=!0,h=A,x=N;break}if(se===x){$=!0,x=A,h=N;break}se=se.sibling}if(!$)throw Error(n(189))}}if(h.alternate!==x)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:a}function $d(o){return o=Jp(o),o!==null?Zd(o):null}function Zd(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Zd(o);if(a!==null)return a;o=o.sibling}return null}var Hd=t.unstable_scheduleCallback,Yc=t.unstable_cancelCallback,Qp=t.unstable_shouldYield,cl=t.unstable_requestPaint,nn=t.unstable_now,Xp=t.unstable_getCurrentPriorityLevel,Jc=t.unstable_ImmediatePriority,Wd=t.unstable_UserBlockingPriority,ul=t.unstable_NormalPriority,Qc=t.unstable_LowPriority,Do=t.unstable_IdlePriority,sa=null,yr=null;function aa(o){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(sa,o,void 0,(o.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:Bo,qt=Math.log,dl=Math.LN2;function Bo(o){return o>>>=0,o===0?32:31-(qt(o)/dl|0)|0}var ti=64,Fo=4194304;function ft(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Wt(o,a){var h=o.pendingLanes;if(h===0)return 0;var x=0,N=o.suspendedLanes,A=o.pingedLanes,$=h&268435455;if($!==0){var se=$&~N;se!==0?x=ft(se):(A&=$,A!==0&&(x=ft(A)))}else $=h&~N,$!==0?x=ft($):A!==0&&(x=ft(A));if(x===0)return 0;if(a!==0&&a!==x&&(a&N)===0&&(N=x&-x,A=a&-a,N>=A||N===16&&(A&4194240)!==0))return a;if((x&4)!==0&&(x|=h&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=x;0<a;)h=31-pt(a),N=1<<h,x|=o[h],a&=~N;return x}function Xc(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fl(o,a){for(var h=o.suspendedLanes,x=o.pingedLanes,N=o.expirationTimes,A=o.pendingLanes;0<A;){var $=31-pt(A),se=1<<$,de=N[$];de===-1?((se&h)===0||(se&x)!==0)&&(N[$]=Xc(se,a)):de<=a&&(o.expiredLanes|=se),A&=~se}}function Ln(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Vd(){var o=ti;return ti<<=1,(ti&4194240)===0&&(ti=64),o}function Uo(o){for(var a=[],h=0;31>h;h++)a.push(o);return a}function vr(o,a,h){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-pt(a),o[a]=h}function un(o,a){var h=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<h;){var N=31-pt(h),A=1<<N;a[N]=0,x[N]=-1,o[N]=-1,h&=~A}}function ni(o,a){var h=o.entangledLanes|=a;for(o=o.entanglements;h;){var x=31-pt(h),N=1<<x;N&a|o[x]&a&&(o[x]|=a),h&=~N}}var Pt=0;function $o(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var hl,Gi,pl,ml,la,ca=!1,Zo=[],wr=null,ri=null,Ir=null,ua=new Map,ut=new Map,xn=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eu(o,a){switch(o){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":ua.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(a.pointerId)}}function Yi(o,a,h,x,N,A){return o===null||o.nativeEvent!==A?(o={blockedOn:a,domEventName:h,eventSystemFlags:x,nativeEvent:A,targetContainers:[N]},a!==null&&(a=oo(a),a!==null&&Gi(a)),o):(o.eventSystemFlags|=x,a=o.targetContainers,N!==null&&a.indexOf(N)===-1&&a.push(N),o)}function tu(o,a,h,x,N){switch(a){case"focusin":return wr=Yi(wr,o,a,h,x,N),!0;case"dragenter":return ri=Yi(ri,o,a,h,x,N),!0;case"mouseover":return Ir=Yi(Ir,o,a,h,x,N),!0;case"pointerover":var A=N.pointerId;return ua.set(A,Yi(ua.get(A)||null,o,a,h,x,N)),!0;case"gotpointercapture":return A=N.pointerId,ut.set(A,Yi(ut.get(A)||null,o,a,h,x,N)),!0}return!1}function gl(o){var a=io(o.target);if(a!==null){var h=xi(a);if(h!==null){if(a=h.tag,a===13){if(a=Ki(h),a!==null){o.blockedOn=a,la(o.priority,function(){pl(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Lr(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var h=wl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);Nt=x,h.target.dispatchEvent(x),Nt=null}else return a=oo(h),a!==null&&Gi(a),o.blockedOn=h,!1;a.shift()}return!0}function yl(o,a,h){Lr(o)&&h.delete(a)}function da(){ca=!1,wr!==null&&Lr(wr)&&(wr=null),ri!==null&&Lr(ri)&&(ri=null),Ir!==null&&Lr(Ir)&&(Ir=null),ua.forEach(yl),ut.forEach(yl)}function rn(o,a){o.blockedOn===a&&(o.blockedOn=null,ca||(ca=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,da)))}function xr(o){function a(N){return rn(N,o)}if(0<Zo.length){rn(Zo[0],o);for(var h=1;h<Zo.length;h++){var x=Zo[h];x.blockedOn===o&&(x.blockedOn=null)}}for(wr!==null&&rn(wr,o),ri!==null&&rn(ri,o),Ir!==null&&rn(Ir,o),ua.forEach(a),ut.forEach(a),h=0;h<xn.length;h++)x=xn[h],x.blockedOn===o&&(x.blockedOn=null);for(;0<xn.length&&(h=xn[0],h.blockedOn===null);)gl(h),h.blockedOn===null&&xn.shift()}var Ji=D.ReactCurrentBatchConfig,fa=!0;function em(o,a,h,x){var N=Pt,A=Ji.transition;Ji.transition=null;try{Pt=1,ha(o,a,h,x)}finally{Pt=N,Ji.transition=A}}function qd(o,a,h,x){var N=Pt,A=Ji.transition;Ji.transition=null;try{Pt=4,ha(o,a,h,x)}finally{Pt=N,Ji.transition=A}}function ha(o,a,h,x){if(fa){var N=wl(o,a,h,x);if(N===null)s(o,a,x,vl,h),eu(o,x);else if(tu(N,o,a,h,x))x.stopPropagation();else if(eu(o,x),a&4&&-1<Ft.indexOf(o)){for(;N!==null;){var A=oo(N);if(A!==null&&hl(A),A=wl(o,a,h,x),A===null&&s(o,a,x,vl,h),A===N)break;N=A}N!==null&&x.stopPropagation()}else s(o,a,x,null,h)}}var vl=null;function wl(o,a,h,x){if(vl=null,o=na(x),o=io(o),o!==null)if(a=xi(o),a===null)o=null;else if(h=a.tag,h===13){if(o=Ki(a),o!==null)return o;o=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return vl=o,null}function Et(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xp()){case Jc:return 1;case Wd:return 4;case ul:case Qc:return 16;case Do:return 536870912;default:return 16}default:return 16}}var _i=null,Vn=null,bi=null;function nu(){if(bi)return bi;var o,a=Vn,h=a.length,x,N="value"in _i?_i.value:_i.textContent,A=N.length;for(o=0;o<h&&a[o]===N[o];o++);var $=h-o;for(x=1;x<=$&&a[h-x]===N[A-x];x++);return bi=N.slice(o,1<x?1-x:void 0)}function xl(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ho(){return!0}function Kd(){return!1}function On(o){function a(h,x,N,A,$){this._reactName=h,this._targetInst=N,this.type=x,this.nativeEvent=A,this.target=$,this.currentTarget=null;for(var se in o)o.hasOwnProperty(se)&&(h=o[se],this[se]=h?h(A):A[se]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ho:Kd,this.isPropagationStopped=Kd,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),a}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=On(Wo),Qi=le({},Wo,{view:0,detail:0}),tm=On(Qi),ir,iu,Vo,_r=le({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Vo&&(Vo&&o.type==="mousemove"?(ir=o.screenX-Vo.screenX,iu=o.screenY-Vo.screenY):iu=ir=0,Vo=o),ir)},movementY:function(o){return"movementY"in o?o.movementY:iu}}),ou=On(_r),Gd=le({},_r,{dataTransfer:0}),su=On(Gd),nm=le({},Qi,{relatedTarget:0}),_l=On(nm),Yd=le({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),rm=On(Yd),im=le({},Wo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),au=On(im),om=le({},Wo,{data:0}),lu=On(om),Jd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sm(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Xi[o])?!!a[o]:!1}function eo(){return sm}var or=le({},Qi,{key:function(o){if(o.key){var a=Jd[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=xl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?bl[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(o){return o.type==="keypress"?xl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?xl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Qd=On(or),Xd=le({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ef=On(Xd),cu=le({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),uu=On(cu),am=le({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),lm=On(am),tf=le({},_r,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),cm=On(tf),br=[9,13,27,32],Ei=u&&"CompositionEvent"in window,pa=null;u&&"documentMode"in document&&(pa=document.documentMode);var ii=u&&"TextEvent"in window&&!pa,nf=u&&(!Ei||pa&&8<pa&&11>=pa),to=" ",rf=!1;function qo(o,a){switch(o){case"keyup":return br.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function du(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var oi=!1;function um(o,a){switch(o){case"compositionend":return du(a);case"keypress":return a.which!==32?null:(rf=!0,to);case"textInput":return o=a.data,o===to&&rf?null:o;default:return null}}function ki(o,a){if(oi)return o==="compositionend"||!Ei&&qo(o,a)?(o=nu(),bi=Vn=_i=null,oi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return nf&&a.locale!=="ko"?null:a.data;default:return null}}var El={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!El[o.type]:a==="textarea"}function kl(o,a,h,x){Md(x),a=v(a,"onChange"),0<a.length&&(h=new ru("onChange","change",null,h,x),o.push({event:h,listeners:a}))}var ma=null,qn=null;function dm(o){xu(o,0)}function si(o){var a=so(o);if(Rt(a))return o}function fm(o,a){if(o==="change")return a}var Or=!1;if(u){var Ko;if(u){var Sl="oninput"in document;if(!Sl){var Cl=document.createElement("div");Cl.setAttribute("oninput","return;"),Sl=typeof Cl.oninput=="function"}Ko=Sl}else Ko=!1;Or=Ko&&(!document.documentMode||9<document.documentMode)}function ga(){ma&&(ma.detachEvent("onpropertychange",Nl),qn=ma=null)}function Nl(o){if(o.propertyName==="value"&&si(qn)){var a=[];kl(a,qn,o,na(o)),al(dm,a)}}function Pl(o,a,h){o==="focusin"?(ga(),ma=a,qn=h,ma.attachEvent("onpropertychange",Nl)):o==="focusout"&&ga()}function Go(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return si(qn)}function Tl(o,a){if(o==="click")return si(a)}function fu(o,a){if(o==="input"||o==="change")return si(a)}function sf(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Er=typeof Object.is=="function"?Object.is:sf;function Si(o,a){if(Er(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var h=Object.keys(o),x=Object.keys(a);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var N=h[x];if(!f.call(a,N)||!Er(o[N],a[N]))return!1}return!0}function af(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function hu(o,a){var h=af(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=a&&x>=a)return{node:h,offset:a-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=af(h)}}function lf(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?lf(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function pu(){for(var o=window,a=ht();a instanceof o.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)o=a.contentWindow;else break;a=ht(o.document)}return a}function mu(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function Mr(o){var a=pu(),h=o.focusedElem,x=o.selectionRange;if(a!==h&&h&&h.ownerDocument&&lf(h.ownerDocument.documentElement,h)){if(x!==null&&mu(h)){if(a=x.start,o=x.end,o===void 0&&(o=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(o,h.value.length);else if(o=(a=h.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var N=h.textContent.length,A=Math.min(x.start,N);x=x.end===void 0?A:Math.min(x.end,N),!o.extend&&A>x&&(N=x,x=A,A=N),N=hu(h,A);var $=hu(h,x);N&&$&&(o.rangeCount!==1||o.anchorNode!==N.node||o.anchorOffset!==N.offset||o.focusNode!==$.node||o.focusOffset!==$.offset)&&(a=a.createRange(),a.setStart(N.node,N.offset),o.removeAllRanges(),A>x?(o.addRange(a),o.extend($.node,$.offset)):(a.setEnd($.node,$.offset),o.addRange(a)))}}for(a=[],o=h;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)o=a[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var jl=u&&"documentMode"in document&&11>=document.documentMode,Yo=null,Jo=null,ya=null,Al=!1;function cf(o,a,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Al||Yo==null||Yo!==ht(x)||(x=Yo,"selectionStart"in x&&mu(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),ya&&Si(ya,x)||(ya=x,x=v(Jo,"onSelect"),0<x.length&&(a=new ru("onSelect","select",null,a,h),o.push({event:a,listeners:x}),a.target=Yo)))}function Ci(o,a){var h={};return h[o.toLowerCase()]=a.toLowerCase(),h["Webkit"+o]="webkit"+a,h["Moz"+o]="moz"+a,h}var Qo={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionend:Ci("Transition","TransitionEnd")},Ni={},gu={};u&&(gu=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function va(o){if(Ni[o])return Ni[o];if(!Qo[o])return o;var a=Qo[o],h;for(h in a)if(a.hasOwnProperty(h)&&h in gu)return Ni[o]=a[h];return o}var uf=va("animationend"),zr=va("animationiteration"),yu=va("animationstart"),vu=va("transitionend"),Xo=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(o,a){Xo.set(o,a),l(a,[o])}for(var no=0;no<df.length;no++){var Rl=df[no],ff=Rl.toLowerCase(),hm=Rl[0].toUpperCase()+Rl.slice(1);kr(ff,"on"+hm)}kr(uf,"onAnimationEnd"),kr(zr,"onAnimationIteration"),kr(yu,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(vu,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hf=new Set("cancel close invalid load scroll toggle".split(" ").concat(es));function wu(o,a,h){var x=o.type||"unknown-event";o.currentTarget=h,Kc(x,a,void 0,o),o.currentTarget=null}function xu(o,a){a=(a&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],N=x.event;x=x.listeners;e:{var A=void 0;if(a)for(var $=x.length-1;0<=$;$--){var se=x[$],de=se.instance,Ee=se.currentTarget;if(se=se.listener,de!==A&&N.isPropagationStopped())break e;wu(N,se,Ee),A=de}else for($=0;$<x.length;$++){if(se=x[$],de=se.instance,Ee=se.currentTarget,se=se.listener,de!==A&&N.isPropagationStopped())break e;wu(N,se,Ee),A=de}}}if(oa)throw o=ll,oa=!1,ll=null,o}function Ut(o,a){var h=a[is];h===void 0&&(h=a[is]=new Set);var x=o+"__bubble";h.has(x)||(pf(a,o,2,!1),h.add(x))}function _u(o,a,h){var x=0;a&&(x|=4),pf(h,o,x,a)}var wa="_reactListening"+Math.random().toString(36).slice(2);function ts(o){if(!o[wa]){o[wa]=!0,r.forEach(function(h){h!=="selectionchange"&&(hf.has(h)||_u(h,!1,o),_u(h,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[wa]||(a[wa]=!0,_u("selectionchange",!1,a))}}function pf(o,a,h,x){switch(Et(a)){case 1:var N=em;break;case 4:N=qd;break;default:N=ha}h=N.bind(null,a,h,o),N=void 0,!qc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(N=!0),x?N!==void 0?o.addEventListener(a,h,{capture:!0,passive:N}):o.addEventListener(a,h,!0):N!==void 0?o.addEventListener(a,h,{passive:N}):o.addEventListener(a,h,!1)}function s(o,a,h,x,N){var A=x;if((a&1)===0&&(a&2)===0&&x!==null)e:for(;;){if(x===null)return;var $=x.tag;if($===3||$===4){var se=x.stateNode.containerInfo;if(se===N||se.nodeType===8&&se.parentNode===N)break;if($===4)for($=x.return;$!==null;){var de=$.tag;if((de===3||de===4)&&(de=$.stateNode.containerInfo,de===N||de.nodeType===8&&de.parentNode===N))return;$=$.return}for(;se!==null;){if($=io(se),$===null)return;if(de=$.tag,de===5||de===6){x=A=$;continue e}se=se.parentNode}}x=x.return}al(function(){var Ee=A,Le=na(h),ze=[];e:{var Ie=Xo.get(o);if(Ie!==void 0){var Ve=ru,Ye=o;switch(o){case"keypress":if(xl(h)===0)break e;case"keydown":case"keyup":Ve=Qd;break;case"focusin":Ye="focus",Ve=_l;break;case"focusout":Ye="blur",Ve=_l;break;case"beforeblur":case"afterblur":Ve=_l;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=uu;break;case uf:case zr:case yu:Ve=rm;break;case vu:Ve=lm;break;case"scroll":Ve=tm;break;case"wheel":Ve=cm;break;case"copy":case"cut":case"paste":Ve=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=ef}var Je=(a&4)!==0,pn=!Je&&o==="scroll",ye=Je?Ie!==null?Ie+"Capture":null:Ie;Je=[];for(var he=Ee,ve;he!==null;){ve=he;var Be=ve.stateNode;if(ve.tag===5&&Be!==null&&(ve=Be,ye!==null&&(Be=ra(he,ye),Be!=null&&Je.push(d(he,Be,ve)))),pn)break;he=he.return}0<Je.length&&(Ie=new Ve(Ie,Ye,null,h,Le),ze.push({event:Ie,listeners:Je}))}}if((a&7)===0){e:{if(Ie=o==="mouseover"||o==="pointerover",Ve=o==="mouseout"||o==="pointerout",Ie&&h!==Nt&&(Ye=h.relatedTarget||h.fromElement)&&(io(Ye)||Ye[zt]))break e;if((Ve||Ie)&&(Ie=Le.window===Le?Le:(Ie=Le.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Ve?(Ye=h.relatedTarget||h.toElement,Ve=Ee,Ye=Ye?io(Ye):null,Ye!==null&&(pn=xi(Ye),Ye!==pn||Ye.tag!==5&&Ye.tag!==6)&&(Ye=null)):(Ve=null,Ye=Ee),Ve!==Ye)){if(Je=ou,Be="onMouseLeave",ye="onMouseEnter",he="mouse",(o==="pointerout"||o==="pointerover")&&(Je=ef,Be="onPointerLeave",ye="onPointerEnter",he="pointer"),pn=Ve==null?Ie:so(Ve),ve=Ye==null?Ie:so(Ye),Ie=new Je(Be,he+"leave",Ve,h,Le),Ie.target=pn,Ie.relatedTarget=ve,Be=null,io(Le)===Ee&&(Je=new Je(ye,he+"enter",Ye,h,Le),Je.target=ve,Je.relatedTarget=pn,Be=Je),pn=Be,Ve&&Ye)t:{for(Je=Ve,ye=Ye,he=0,ve=Je;ve;ve=C(ve))he++;for(ve=0,Be=ye;Be;Be=C(Be))ve++;for(;0<he-ve;)Je=C(Je),he--;for(;0<ve-he;)ye=C(ye),ve--;for(;he--;){if(Je===ye||ye!==null&&Je===ye.alternate)break t;Je=C(Je),ye=C(ye)}Je=null}else Je=null;Ve!==null&&O(ze,Ie,Ve,Je,!1),Ye!==null&&pn!==null&&O(ze,pn,Ye,Je,!0)}}e:{if(Ie=Ee?so(Ee):window,Ve=Ie.nodeName&&Ie.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Ie.type==="file")var et=fm;else if(of(Ie))if(Or)et=fu;else{et=Go;var ot=Pl}else(Ve=Ie.nodeName)&&Ve.toLowerCase()==="input"&&(Ie.type==="checkbox"||Ie.type==="radio")&&(et=Tl);if(et&&(et=et(o,Ee))){kl(ze,et,h,Le);break e}ot&&ot(o,Ie,Ee),o==="focusout"&&(ot=Ie._wrapperState)&&ot.controlled&&Ie.type==="number"&&pe(Ie,"number",Ie.value)}switch(ot=Ee?so(Ee):window,o){case"focusin":(of(ot)||ot.contentEditable==="true")&&(Yo=ot,Jo=Ee,ya=null);break;case"focusout":ya=Jo=Yo=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,cf(ze,h,Le);break;case"selectionchange":if(jl)break;case"keydown":case"keyup":cf(ze,h,Le)}var st;if(Ei)e:{switch(o){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else oi?qo(o,h)&&(dt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(dt="onCompositionStart");dt&&(nf&&h.locale!=="ko"&&(oi||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&oi&&(st=nu()):(_i=Le,Vn="value"in _i?_i.value:_i.textContent,oi=!0)),ot=v(Ee,dt),0<ot.length&&(dt=new lu(dt,o,null,h,Le),ze.push({event:dt,listeners:ot}),st?dt.data=st:(st=du(h),st!==null&&(dt.data=st)))),(st=ii?um(o,h):ki(o,h))&&(Ee=v(Ee,"onBeforeInput"),0<Ee.length&&(Le=new lu("onBeforeInput","beforeinput",null,h,Le),ze.push({event:Le,listeners:Ee}),Le.data=st))}xu(ze,a)})}function d(o,a,h){return{instance:o,listener:a,currentTarget:h}}function v(o,a){for(var h=a+"Capture",x=[];o!==null;){var N=o,A=N.stateNode;N.tag===5&&A!==null&&(N=A,A=ra(o,h),A!=null&&x.unshift(d(o,A,N)),A=ra(o,a),A!=null&&x.push(d(o,A,N))),o=o.return}return x}function C(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function O(o,a,h,x,N){for(var A=a._reactName,$=[];h!==null&&h!==x;){var se=h,de=se.alternate,Ee=se.stateNode;if(de!==null&&de===x)break;se.tag===5&&Ee!==null&&(se=Ee,N?(de=ra(h,A),de!=null&&$.unshift(d(h,de,se))):N||(de=ra(h,A),de!=null&&$.push(d(h,de,se)))),h=h.return}$.length!==0&&o.push({event:a,listeners:$})}var H=/\r\n?/g,ce=/\u0000|\uFFFD/g;function ge(o){return(typeof o=="string"?o:""+o).replace(H,`
`).replace(ce,"")}function _e(o,a,h){if(a=ge(a),ge(o)!==a&&h)throw Error(n(425))}function Ae(){}var Ze=null,rt=null;function gt(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _n=typeof setTimeout=="function"?setTimeout:void 0,yn=typeof clearTimeout=="function"?clearTimeout:void 0,Kn=typeof Promise=="function"?Promise:void 0,Mn=typeof queueMicrotask=="function"?queueMicrotask:typeof Kn<"u"?function(o){return Kn.resolve(null).then(o).catch(ns)}:_n;function ns(o){setTimeout(function(){throw o})}function bu(o,a){var h=a,x=0;do{var N=h.nextSibling;if(o.removeChild(h),N&&N.nodeType===8)if(h=N.data,h==="/$"){if(x===0){o.removeChild(N),xr(a);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=N}while(h);xr(a)}function Pi(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function mf(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return o;a--}else h==="/$"&&a++}o=o.previousSibling}return null}var ro=Math.random().toString(36).slice(2),Dr="__reactFiber$"+ro,rs="__reactProps$"+ro,zt="__reactContainer$"+ro,is="__reactEvents$"+ro,pm="__reactListeners$"+ro,mm="__reactHandles$"+ro;function io(o){var a=o[Dr];if(a)return a;for(var h=o.parentNode;h;){if(a=h[zt]||h[Dr]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(o=mf(o);o!==null;){if(h=o[Dr])return h;o=mf(o)}return a}o=h,h=o.parentNode}return null}function oo(o){return o=o[Dr]||o[zt],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function so(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Il(o){return o[rs]||null}var gm=[],Ll=-1;function os(o){return{current:o}}function Kt(o){0>Ll||(o.current=gm[Ll],gm[Ll]=null,Ll--)}function Vt(o,a){Ll++,gm[Ll]=o.current,o.current=a}var ss={},zn=os(ss),sr=os(!1),xa=ss;function Ol(o,a){var h=o.type.contextTypes;if(!h)return ss;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===a)return x.__reactInternalMemoizedMaskedChildContext;var N={},A;for(A in h)N[A]=a[A];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=N),N}function ar(o){return o=o.childContextTypes,o!=null}function gf(){Kt(sr),Kt(zn)}function ow(o,a,h){if(zn.current!==ss)throw Error(n(168));Vt(zn,a),Vt(sr,h)}function sw(o,a,h){var x=o.stateNode;if(a=a.childContextTypes,typeof x.getChildContext!="function")return h;x=x.getChildContext();for(var N in x)if(!(N in a))throw Error(n(108,Ue(o)||"Unknown",N));return le({},h,x)}function yf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ss,xa=zn.current,Vt(zn,o),Vt(sr,sr.current),!0}function aw(o,a,h){var x=o.stateNode;if(!x)throw Error(n(169));h?(o=sw(o,a,xa),x.__reactInternalMemoizedMergedChildContext=o,Kt(sr),Kt(zn),Vt(zn,o)):Kt(sr),Vt(sr,h)}var ao=null,vf=!1,ym=!1;function lw(o){ao===null?ao=[o]:ao.push(o)}function pT(o){vf=!0,lw(o)}function as(){if(!ym&&ao!==null){ym=!0;var o=0,a=Pt;try{var h=ao;for(Pt=1;o<h.length;o++){var x=h[o];do x=x(!0);while(x!==null)}ao=null,vf=!1}catch(N){throw ao!==null&&(ao=ao.slice(o+1)),Hd(Jc,as),N}finally{Pt=a,ym=!1}}return null}var Ml=[],zl=0,wf=null,xf=0,Br=[],Fr=0,_a=null,lo=1,co="";function ba(o,a){Ml[zl++]=xf,Ml[zl++]=wf,wf=o,xf=a}function cw(o,a,h){Br[Fr++]=lo,Br[Fr++]=co,Br[Fr++]=_a,_a=o;var x=lo;o=co;var N=32-pt(x)-1;x&=~(1<<N),h+=1;var A=32-pt(a)+N;if(30<A){var $=N-N%5;A=(x&(1<<$)-1).toString(32),x>>=$,N-=$,lo=1<<32-pt(a)+N|h<<N|x,co=A+o}else lo=1<<A|h<<N|x,co=o}function vm(o){o.return!==null&&(ba(o,1),cw(o,1,0))}function wm(o){for(;o===wf;)wf=Ml[--zl],Ml[zl]=null,xf=Ml[--zl],Ml[zl]=null;for(;o===_a;)_a=Br[--Fr],Br[Fr]=null,co=Br[--Fr],Br[Fr]=null,lo=Br[--Fr],Br[Fr]=null}var Sr=null,Cr=null,Jt=!1,ai=null;function uw(o,a){var h=Hr(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=o,a=o.deletions,a===null?(o.deletions=[h],o.flags|=16):a.push(h)}function dw(o,a){switch(o.tag){case 5:var h=o.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Sr=o,Cr=Pi(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Sr=o,Cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=_a!==null?{id:lo,overflow:co}:null,o.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=Hr(18,null,null,0),h.stateNode=a,h.return=o,o.child=h,Sr=o,Cr=null,!0):!1;default:return!1}}function xm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function _m(o){if(Jt){var a=Cr;if(a){var h=a;if(!dw(o,a)){if(xm(o))throw Error(n(418));a=Pi(h.nextSibling);var x=Sr;a&&dw(o,a)?uw(x,h):(o.flags=o.flags&-4097|2,Jt=!1,Sr=o)}}else{if(xm(o))throw Error(n(418));o.flags=o.flags&-4097|2,Jt=!1,Sr=o}}}function fw(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Sr=o}function _f(o){if(o!==Sr)return!1;if(!Jt)return fw(o),Jt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!gt(o.type,o.memoizedProps)),a&&(a=Cr)){if(xm(o))throw hw(),Error(n(418));for(;a;)uw(o,a),a=Pi(a.nextSibling)}if(fw(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(a===0){Cr=Pi(o.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}o=o.nextSibling}Cr=null}}else Cr=Sr?Pi(o.stateNode.nextSibling):null;return!0}function hw(){for(var o=Cr;o;)o=Pi(o.nextSibling)}function Dl(){Cr=Sr=null,Jt=!1}function bm(o){ai===null?ai=[o]:ai.push(o)}var mT=D.ReactCurrentBatchConfig;function Eu(o,a,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var x=h.stateNode}if(!x)throw Error(n(147,o));var N=x,A=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===A?a.ref:(a=function($){var se=N.refs;$===null?delete se[A]:se[A]=$},a._stringRef=A,a)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function bf(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function pw(o){var a=o._init;return a(o._payload)}function mw(o){function a(ye,he){if(o){var ve=ye.deletions;ve===null?(ye.deletions=[he],ye.flags|=16):ve.push(he)}}function h(ye,he){if(!o)return null;for(;he!==null;)a(ye,he),he=he.sibling;return null}function x(ye,he){for(ye=new Map;he!==null;)he.key!==null?ye.set(he.key,he):ye.set(he.index,he),he=he.sibling;return ye}function N(ye,he){return ye=ms(ye,he),ye.index=0,ye.sibling=null,ye}function A(ye,he,ve){return ye.index=ve,o?(ve=ye.alternate,ve!==null?(ve=ve.index,ve<he?(ye.flags|=2,he):ve):(ye.flags|=2,he)):(ye.flags|=1048576,he)}function $(ye){return o&&ye.alternate===null&&(ye.flags|=2),ye}function se(ye,he,ve,Be){return he===null||he.tag!==6?(he=hg(ve,ye.mode,Be),he.return=ye,he):(he=N(he,ve),he.return=ye,he)}function de(ye,he,ve,Be){var et=ve.type;return et===G?Le(ye,he,ve.props.children,Be,ve.key):he!==null&&(he.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===ae&&pw(et)===he.type)?(Be=N(he,ve.props),Be.ref=Eu(ye,he,ve),Be.return=ye,Be):(Be=Vf(ve.type,ve.key,ve.props,null,ye.mode,Be),Be.ref=Eu(ye,he,ve),Be.return=ye,Be)}function Ee(ye,he,ve,Be){return he===null||he.tag!==4||he.stateNode.containerInfo!==ve.containerInfo||he.stateNode.implementation!==ve.implementation?(he=pg(ve,ye.mode,Be),he.return=ye,he):(he=N(he,ve.children||[]),he.return=ye,he)}function Le(ye,he,ve,Be,et){return he===null||he.tag!==7?(he=ja(ve,ye.mode,Be,et),he.return=ye,he):(he=N(he,ve),he.return=ye,he)}function ze(ye,he,ve){if(typeof he=="string"&&he!==""||typeof he=="number")return he=hg(""+he,ye.mode,ve),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case B:return ve=Vf(he.type,he.key,he.props,null,ye.mode,ve),ve.ref=Eu(ye,null,he),ve.return=ye,ve;case q:return he=pg(he,ye.mode,ve),he.return=ye,he;case ae:var Be=he._init;return ze(ye,Be(he._payload),ve)}if(Te(he)||ee(he))return he=ja(he,ye.mode,ve,null),he.return=ye,he;bf(ye,he)}return null}function Ie(ye,he,ve,Be){var et=he!==null?he.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return et!==null?null:se(ye,he,""+ve,Be);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case B:return ve.key===et?de(ye,he,ve,Be):null;case q:return ve.key===et?Ee(ye,he,ve,Be):null;case ae:return et=ve._init,Ie(ye,he,et(ve._payload),Be)}if(Te(ve)||ee(ve))return et!==null?null:Le(ye,he,ve,Be,null);bf(ye,ve)}return null}function Ve(ye,he,ve,Be,et){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return ye=ye.get(ve)||null,se(he,ye,""+Be,et);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case B:return ye=ye.get(Be.key===null?ve:Be.key)||null,de(he,ye,Be,et);case q:return ye=ye.get(Be.key===null?ve:Be.key)||null,Ee(he,ye,Be,et);case ae:var ot=Be._init;return Ve(ye,he,ve,ot(Be._payload),et)}if(Te(Be)||ee(Be))return ye=ye.get(ve)||null,Le(he,ye,Be,et,null);bf(he,Be)}return null}function Ye(ye,he,ve,Be){for(var et=null,ot=null,st=he,dt=he=0,Nn=null;st!==null&&dt<ve.length;dt++){st.index>dt?(Nn=st,st=null):Nn=st.sibling;var It=Ie(ye,st,ve[dt],Be);if(It===null){st===null&&(st=Nn);break}o&&st&&It.alternate===null&&a(ye,st),he=A(It,he,dt),ot===null?et=It:ot.sibling=It,ot=It,st=Nn}if(dt===ve.length)return h(ye,st),Jt&&ba(ye,dt),et;if(st===null){for(;dt<ve.length;dt++)st=ze(ye,ve[dt],Be),st!==null&&(he=A(st,he,dt),ot===null?et=st:ot.sibling=st,ot=st);return Jt&&ba(ye,dt),et}for(st=x(ye,st);dt<ve.length;dt++)Nn=Ve(st,ye,dt,ve[dt],Be),Nn!==null&&(o&&Nn.alternate!==null&&st.delete(Nn.key===null?dt:Nn.key),he=A(Nn,he,dt),ot===null?et=Nn:ot.sibling=Nn,ot=Nn);return o&&st.forEach(function(gs){return a(ye,gs)}),Jt&&ba(ye,dt),et}function Je(ye,he,ve,Be){var et=ee(ve);if(typeof et!="function")throw Error(n(150));if(ve=et.call(ve),ve==null)throw Error(n(151));for(var ot=et=null,st=he,dt=he=0,Nn=null,It=ve.next();st!==null&&!It.done;dt++,It=ve.next()){st.index>dt?(Nn=st,st=null):Nn=st.sibling;var gs=Ie(ye,st,It.value,Be);if(gs===null){st===null&&(st=Nn);break}o&&st&&gs.alternate===null&&a(ye,st),he=A(gs,he,dt),ot===null?et=gs:ot.sibling=gs,ot=gs,st=Nn}if(It.done)return h(ye,st),Jt&&ba(ye,dt),et;if(st===null){for(;!It.done;dt++,It=ve.next())It=ze(ye,It.value,Be),It!==null&&(he=A(It,he,dt),ot===null?et=It:ot.sibling=It,ot=It);return Jt&&ba(ye,dt),et}for(st=x(ye,st);!It.done;dt++,It=ve.next())It=Ve(st,ye,dt,It.value,Be),It!==null&&(o&&It.alternate!==null&&st.delete(It.key===null?dt:It.key),he=A(It,he,dt),ot===null?et=It:ot.sibling=It,ot=It);return o&&st.forEach(function(KT){return a(ye,KT)}),Jt&&ba(ye,dt),et}function pn(ye,he,ve,Be){if(typeof ve=="object"&&ve!==null&&ve.type===G&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case B:e:{for(var et=ve.key,ot=he;ot!==null;){if(ot.key===et){if(et=ve.type,et===G){if(ot.tag===7){h(ye,ot.sibling),he=N(ot,ve.props.children),he.return=ye,ye=he;break e}}else if(ot.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===ae&&pw(et)===ot.type){h(ye,ot.sibling),he=N(ot,ve.props),he.ref=Eu(ye,ot,ve),he.return=ye,ye=he;break e}h(ye,ot);break}else a(ye,ot);ot=ot.sibling}ve.type===G?(he=ja(ve.props.children,ye.mode,Be,ve.key),he.return=ye,ye=he):(Be=Vf(ve.type,ve.key,ve.props,null,ye.mode,Be),Be.ref=Eu(ye,he,ve),Be.return=ye,ye=Be)}return $(ye);case q:e:{for(ot=ve.key;he!==null;){if(he.key===ot)if(he.tag===4&&he.stateNode.containerInfo===ve.containerInfo&&he.stateNode.implementation===ve.implementation){h(ye,he.sibling),he=N(he,ve.children||[]),he.return=ye,ye=he;break e}else{h(ye,he);break}else a(ye,he);he=he.sibling}he=pg(ve,ye.mode,Be),he.return=ye,ye=he}return $(ye);case ae:return ot=ve._init,pn(ye,he,ot(ve._payload),Be)}if(Te(ve))return Ye(ye,he,ve,Be);if(ee(ve))return Je(ye,he,ve,Be);bf(ye,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,he!==null&&he.tag===6?(h(ye,he.sibling),he=N(he,ve),he.return=ye,ye=he):(h(ye,he),he=hg(ve,ye.mode,Be),he.return=ye,ye=he),$(ye)):h(ye,he)}return pn}var Bl=mw(!0),gw=mw(!1),Ef=os(null),kf=null,Fl=null,Em=null;function km(){Em=Fl=kf=null}function Sm(o){var a=Ef.current;Kt(Ef),o._currentValue=a}function Cm(o,a,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,x!==null&&(x.childLanes|=a)):x!==null&&(x.childLanes&a)!==a&&(x.childLanes|=a),o===h)break;o=o.return}}function Ul(o,a){kf=o,Em=Fl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(lr=!0),o.firstContext=null)}function Ur(o){var a=o._currentValue;if(Em!==o)if(o={context:o,memoizedValue:a,next:null},Fl===null){if(kf===null)throw Error(n(308));Fl=o,kf.dependencies={lanes:0,firstContext:o}}else Fl=Fl.next=o;return a}var Ea=null;function Nm(o){Ea===null?Ea=[o]:Ea.push(o)}function yw(o,a,h,x){var N=a.interleaved;return N===null?(h.next=h,Nm(a)):(h.next=N.next,N.next=h),a.interleaved=h,uo(o,x)}function uo(o,a){o.lanes|=a;var h=o.alternate;for(h!==null&&(h.lanes|=a),h=o,o=o.return;o!==null;)o.childLanes|=a,h=o.alternate,h!==null&&(h.childLanes|=a),h=o,o=o.return;return h.tag===3?h.stateNode:null}var ls=!1;function Pm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vw(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function fo(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function cs(o,a,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(jt&2)!==0){var N=x.pending;return N===null?a.next=a:(a.next=N.next,N.next=a),x.pending=a,uo(o,h)}return N=x.interleaved,N===null?(a.next=a,Nm(x)):(a.next=N.next,N.next=a),x.interleaved=a,uo(o,h)}function Sf(o,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var x=a.lanes;x&=o.pendingLanes,h|=x,a.lanes=h,ni(o,h)}}function ww(o,a){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var N=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var $={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};A===null?N=A=$:A=A.next=$,h=h.next}while(h!==null);A===null?N=A=a:A=A.next=a}else N=A=a;h={baseState:x.baseState,firstBaseUpdate:N,lastBaseUpdate:A,shared:x.shared,effects:x.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=a:o.next=a,h.lastBaseUpdate=a}function Cf(o,a,h,x){var N=o.updateQueue;ls=!1;var A=N.firstBaseUpdate,$=N.lastBaseUpdate,se=N.shared.pending;if(se!==null){N.shared.pending=null;var de=se,Ee=de.next;de.next=null,$===null?A=Ee:$.next=Ee,$=de;var Le=o.alternate;Le!==null&&(Le=Le.updateQueue,se=Le.lastBaseUpdate,se!==$&&(se===null?Le.firstBaseUpdate=Ee:se.next=Ee,Le.lastBaseUpdate=de))}if(A!==null){var ze=N.baseState;$=0,Le=Ee=de=null,se=A;do{var Ie=se.lane,Ve=se.eventTime;if((x&Ie)===Ie){Le!==null&&(Le=Le.next={eventTime:Ve,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var Ye=o,Je=se;switch(Ie=a,Ve=h,Je.tag){case 1:if(Ye=Je.payload,typeof Ye=="function"){ze=Ye.call(Ve,ze,Ie);break e}ze=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Je.payload,Ie=typeof Ye=="function"?Ye.call(Ve,ze,Ie):Ye,Ie==null)break e;ze=le({},ze,Ie);break e;case 2:ls=!0}}se.callback!==null&&se.lane!==0&&(o.flags|=64,Ie=N.effects,Ie===null?N.effects=[se]:Ie.push(se))}else Ve={eventTime:Ve,lane:Ie,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Le===null?(Ee=Le=Ve,de=ze):Le=Le.next=Ve,$|=Ie;if(se=se.next,se===null){if(se=N.shared.pending,se===null)break;Ie=se,se=Ie.next,Ie.next=null,N.lastBaseUpdate=Ie,N.shared.pending=null}}while(!0);if(Le===null&&(de=ze),N.baseState=de,N.firstBaseUpdate=Ee,N.lastBaseUpdate=Le,a=N.shared.interleaved,a!==null){N=a;do $|=N.lane,N=N.next;while(N!==a)}else A===null&&(N.shared.lanes=0);Ca|=$,o.lanes=$,o.memoizedState=ze}}function xw(o,a,h){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var x=o[a],N=x.callback;if(N!==null){if(x.callback=null,x=h,typeof N!="function")throw Error(n(191,N));N.call(x)}}}var ku={},Ti=os(ku),Su=os(ku),Cu=os(ku);function ka(o){if(o===ku)throw Error(n(174));return o}function Tm(o,a){switch(Vt(Cu,a),Vt(Su,o),Vt(Ti,ku),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Z(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Z(a,o)}Kt(Ti),Vt(Ti,a)}function $l(){Kt(Ti),Kt(Su),Kt(Cu)}function _w(o){ka(Cu.current);var a=ka(Ti.current),h=Z(a,o.type);a!==h&&(Vt(Su,o),Vt(Ti,h))}function jm(o){Su.current===o&&(Kt(Ti),Kt(Su))}var on=os(0);function Nf(o){for(var a=o;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Am=[];function Rm(){for(var o=0;o<Am.length;o++)Am[o]._workInProgressVersionPrimary=null;Am.length=0}var Pf=D.ReactCurrentDispatcher,Im=D.ReactCurrentBatchConfig,Sa=0,sn=null,bn=null,Sn=null,Tf=!1,Nu=!1,Pu=0,gT=0;function Dn(){throw Error(n(321))}function Lm(o,a){if(a===null)return!1;for(var h=0;h<a.length&&h<o.length;h++)if(!Er(o[h],a[h]))return!1;return!0}function Om(o,a,h,x,N,A){if(Sa=A,sn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Pf.current=o===null||o.memoizedState===null?xT:_T,o=h(x,N),Nu){A=0;do{if(Nu=!1,Pu=0,25<=A)throw Error(n(301));A+=1,Sn=bn=null,a.updateQueue=null,Pf.current=bT,o=h(x,N)}while(Nu)}if(Pf.current=Rf,a=bn!==null&&bn.next!==null,Sa=0,Sn=bn=sn=null,Tf=!1,a)throw Error(n(300));return o}function Mm(){var o=Pu!==0;return Pu=0,o}function ji(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?sn.memoizedState=Sn=o:Sn=Sn.next=o,Sn}function $r(){if(bn===null){var o=sn.alternate;o=o!==null?o.memoizedState:null}else o=bn.next;var a=Sn===null?sn.memoizedState:Sn.next;if(a!==null)Sn=a,bn=o;else{if(o===null)throw Error(n(310));bn=o,o={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Sn===null?sn.memoizedState=Sn=o:Sn=Sn.next=o}return Sn}function Tu(o,a){return typeof a=="function"?a(o):a}function zm(o){var a=$r(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=bn,N=x.baseQueue,A=h.pending;if(A!==null){if(N!==null){var $=N.next;N.next=A.next,A.next=$}x.baseQueue=N=A,h.pending=null}if(N!==null){A=N.next,x=x.baseState;var se=$=null,de=null,Ee=A;do{var Le=Ee.lane;if((Sa&Le)===Le)de!==null&&(de=de.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),x=Ee.hasEagerState?Ee.eagerState:o(x,Ee.action);else{var ze={lane:Le,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};de===null?(se=de=ze,$=x):de=de.next=ze,sn.lanes|=Le,Ca|=Le}Ee=Ee.next}while(Ee!==null&&Ee!==A);de===null?$=x:de.next=se,Er(x,a.memoizedState)||(lr=!0),a.memoizedState=x,a.baseState=$,a.baseQueue=de,h.lastRenderedState=x}if(o=h.interleaved,o!==null){N=o;do A=N.lane,sn.lanes|=A,Ca|=A,N=N.next;while(N!==o)}else N===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Dm(o){var a=$r(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=h.dispatch,N=h.pending,A=a.memoizedState;if(N!==null){h.pending=null;var $=N=N.next;do A=o(A,$.action),$=$.next;while($!==N);Er(A,a.memoizedState)||(lr=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),h.lastRenderedState=A}return[A,x]}function bw(){}function Ew(o,a){var h=sn,x=$r(),N=a(),A=!Er(x.memoizedState,N);if(A&&(x.memoizedState=N,lr=!0),x=x.queue,Bm(Cw.bind(null,h,x,o),[o]),x.getSnapshot!==a||A||Sn!==null&&Sn.memoizedState.tag&1){if(h.flags|=2048,ju(9,Sw.bind(null,h,x,N,a),void 0,null),Cn===null)throw Error(n(349));(Sa&30)!==0||kw(h,a,N)}return N}function kw(o,a,h){o.flags|=16384,o={getSnapshot:a,value:h},a=sn.updateQueue,a===null?(a={lastEffect:null,stores:null},sn.updateQueue=a,a.stores=[o]):(h=a.stores,h===null?a.stores=[o]:h.push(o))}function Sw(o,a,h,x){a.value=h,a.getSnapshot=x,Nw(a)&&Pw(o)}function Cw(o,a,h){return h(function(){Nw(a)&&Pw(o)})}function Nw(o){var a=o.getSnapshot;o=o.value;try{var h=a();return!Er(o,h)}catch{return!0}}function Pw(o){var a=uo(o,1);a!==null&&di(a,o,1,-1)}function Tw(o){var a=ji();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:o},a.queue=o,o=o.dispatch=wT.bind(null,sn,o),[a.memoizedState,o]}function ju(o,a,h,x){return o={tag:o,create:a,destroy:h,deps:x,next:null},a=sn.updateQueue,a===null?(a={lastEffect:null,stores:null},sn.updateQueue=a,a.lastEffect=o.next=o):(h=a.lastEffect,h===null?a.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,a.lastEffect=o)),o}function jw(){return $r().memoizedState}function jf(o,a,h,x){var N=ji();sn.flags|=o,N.memoizedState=ju(1|a,h,void 0,x===void 0?null:x)}function Af(o,a,h,x){var N=$r();x=x===void 0?null:x;var A=void 0;if(bn!==null){var $=bn.memoizedState;if(A=$.destroy,x!==null&&Lm(x,$.deps)){N.memoizedState=ju(a,h,A,x);return}}sn.flags|=o,N.memoizedState=ju(1|a,h,A,x)}function Aw(o,a){return jf(8390656,8,o,a)}function Bm(o,a){return Af(2048,8,o,a)}function Rw(o,a){return Af(4,2,o,a)}function Iw(o,a){return Af(4,4,o,a)}function Lw(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Ow(o,a,h){return h=h!=null?h.concat([o]):null,Af(4,4,Lw.bind(null,a,o),h)}function Fm(){}function Mw(o,a){var h=$r();a=a===void 0?null:a;var x=h.memoizedState;return x!==null&&a!==null&&Lm(a,x[1])?x[0]:(h.memoizedState=[o,a],o)}function zw(o,a){var h=$r();a=a===void 0?null:a;var x=h.memoizedState;return x!==null&&a!==null&&Lm(a,x[1])?x[0]:(o=o(),h.memoizedState=[o,a],o)}function Dw(o,a,h){return(Sa&21)===0?(o.baseState&&(o.baseState=!1,lr=!0),o.memoizedState=h):(Er(h,a)||(h=Vd(),sn.lanes|=h,Ca|=h,o.baseState=!0),a)}function yT(o,a){var h=Pt;Pt=h!==0&&4>h?h:4,o(!0);var x=Im.transition;Im.transition={};try{o(!1),a()}finally{Pt=h,Im.transition=x}}function Bw(){return $r().memoizedState}function vT(o,a,h){var x=hs(o);if(h={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null},Fw(o))Uw(a,h);else if(h=yw(o,a,h,x),h!==null){var N=Yn();di(h,o,x,N),$w(h,a,x)}}function wT(o,a,h){var x=hs(o),N={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null};if(Fw(o))Uw(a,N);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var $=a.lastRenderedState,se=A($,h);if(N.hasEagerState=!0,N.eagerState=se,Er(se,$)){var de=a.interleaved;de===null?(N.next=N,Nm(a)):(N.next=de.next,de.next=N),a.interleaved=N;return}}catch{}finally{}h=yw(o,a,N,x),h!==null&&(N=Yn(),di(h,o,x,N),$w(h,a,x))}}function Fw(o){var a=o.alternate;return o===sn||a!==null&&a===sn}function Uw(o,a){Nu=Tf=!0;var h=o.pending;h===null?a.next=a:(a.next=h.next,h.next=a),o.pending=a}function $w(o,a,h){if((h&4194240)!==0){var x=a.lanes;x&=o.pendingLanes,h|=x,a.lanes=h,ni(o,h)}}var Rf={readContext:Ur,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},xT={readContext:Ur,useCallback:function(o,a){return ji().memoizedState=[o,a===void 0?null:a],o},useContext:Ur,useEffect:Aw,useImperativeHandle:function(o,a,h){return h=h!=null?h.concat([o]):null,jf(4194308,4,Lw.bind(null,a,o),h)},useLayoutEffect:function(o,a){return jf(4194308,4,o,a)},useInsertionEffect:function(o,a){return jf(4,2,o,a)},useMemo:function(o,a){var h=ji();return a=a===void 0?null:a,o=o(),h.memoizedState=[o,a],o},useReducer:function(o,a,h){var x=ji();return a=h!==void 0?h(a):a,x.memoizedState=x.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},x.queue=o,o=o.dispatch=vT.bind(null,sn,o),[x.memoizedState,o]},useRef:function(o){var a=ji();return o={current:o},a.memoizedState=o},useState:Tw,useDebugValue:Fm,useDeferredValue:function(o){return ji().memoizedState=o},useTransition:function(){var o=Tw(!1),a=o[0];return o=yT.bind(null,o[1]),ji().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,h){var x=sn,N=ji();if(Jt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=a(),Cn===null)throw Error(n(349));(Sa&30)!==0||kw(x,a,h)}N.memoizedState=h;var A={value:h,getSnapshot:a};return N.queue=A,Aw(Cw.bind(null,x,A,o),[o]),x.flags|=2048,ju(9,Sw.bind(null,x,A,h,a),void 0,null),h},useId:function(){var o=ji(),a=Cn.identifierPrefix;if(Jt){var h=co,x=lo;h=(x&~(1<<32-pt(x)-1)).toString(32)+h,a=":"+a+"R"+h,h=Pu++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=gT++,a=":"+a+"r"+h.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},_T={readContext:Ur,useCallback:Mw,useContext:Ur,useEffect:Bm,useImperativeHandle:Ow,useInsertionEffect:Rw,useLayoutEffect:Iw,useMemo:zw,useReducer:zm,useRef:jw,useState:function(){return zm(Tu)},useDebugValue:Fm,useDeferredValue:function(o){var a=$r();return Dw(a,bn.memoizedState,o)},useTransition:function(){var o=zm(Tu)[0],a=$r().memoizedState;return[o,a]},useMutableSource:bw,useSyncExternalStore:Ew,useId:Bw,unstable_isNewReconciler:!1},bT={readContext:Ur,useCallback:Mw,useContext:Ur,useEffect:Bm,useImperativeHandle:Ow,useInsertionEffect:Rw,useLayoutEffect:Iw,useMemo:zw,useReducer:Dm,useRef:jw,useState:function(){return Dm(Tu)},useDebugValue:Fm,useDeferredValue:function(o){var a=$r();return bn===null?a.memoizedState=o:Dw(a,bn.memoizedState,o)},useTransition:function(){var o=Dm(Tu)[0],a=$r().memoizedState;return[o,a]},useMutableSource:bw,useSyncExternalStore:Ew,useId:Bw,unstable_isNewReconciler:!1};function li(o,a){if(o&&o.defaultProps){a=le({},a),o=o.defaultProps;for(var h in o)a[h]===void 0&&(a[h]=o[h]);return a}return a}function Um(o,a,h,x){a=o.memoizedState,h=h(x,a),h=h==null?a:le({},a,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var If={isMounted:function(o){return(o=o._reactInternals)?xi(o)===o:!1},enqueueSetState:function(o,a,h){o=o._reactInternals;var x=Yn(),N=hs(o),A=fo(x,N);A.payload=a,h!=null&&(A.callback=h),a=cs(o,A,N),a!==null&&(di(a,o,N,x),Sf(a,o,N))},enqueueReplaceState:function(o,a,h){o=o._reactInternals;var x=Yn(),N=hs(o),A=fo(x,N);A.tag=1,A.payload=a,h!=null&&(A.callback=h),a=cs(o,A,N),a!==null&&(di(a,o,N,x),Sf(a,o,N))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var h=Yn(),x=hs(o),N=fo(h,x);N.tag=2,a!=null&&(N.callback=a),a=cs(o,N,x),a!==null&&(di(a,o,x,h),Sf(a,o,x))}};function Zw(o,a,h,x,N,A,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,A,$):a.prototype&&a.prototype.isPureReactComponent?!Si(h,x)||!Si(N,A):!0}function Hw(o,a,h){var x=!1,N=ss,A=a.contextType;return typeof A=="object"&&A!==null?A=Ur(A):(N=ar(a)?xa:zn.current,x=a.contextTypes,A=(x=x!=null)?Ol(o,N):ss),a=new a(h,A),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=If,o.stateNode=a,a._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=N,o.__reactInternalMemoizedMaskedChildContext=A),a}function Ww(o,a,h,x){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,x),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,x),a.state!==o&&If.enqueueReplaceState(a,a.state,null)}function $m(o,a,h,x){var N=o.stateNode;N.props=h,N.state=o.memoizedState,N.refs={},Pm(o);var A=a.contextType;typeof A=="object"&&A!==null?N.context=Ur(A):(A=ar(a)?xa:zn.current,N.context=Ol(o,A)),N.state=o.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Um(o,a,A,h),N.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(a=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),a!==N.state&&If.enqueueReplaceState(N,N.state,null),Cf(o,h,N,x),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308)}function Zl(o,a){try{var h="",x=a;do h+=we(x),x=x.return;while(x);var N=h}catch(A){N=`
Error generating stack: `+A.message+`
`+A.stack}return{value:o,source:a,stack:N,digest:null}}function Zm(o,a,h){return{value:o,source:null,stack:h??null,digest:a??null}}function Hm(o,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var ET=typeof WeakMap=="function"?WeakMap:Map;function Vw(o,a,h){h=fo(-1,h),h.tag=3,h.payload={element:null};var x=a.value;return h.callback=function(){Ff||(Ff=!0,og=x),Hm(o,a)},h}function qw(o,a,h){h=fo(-1,h),h.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var N=a.value;h.payload=function(){return x(N)},h.callback=function(){Hm(o,a)}}var A=o.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(h.callback=function(){Hm(o,a),typeof x!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var $=a.stack;this.componentDidCatch(a.value,{componentStack:$!==null?$:""})}),h}function Kw(o,a,h){var x=o.pingCache;if(x===null){x=o.pingCache=new ET;var N=new Set;x.set(a,N)}else N=x.get(a),N===void 0&&(N=new Set,x.set(a,N));N.has(h)||(N.add(h),o=zT.bind(null,o,a,h),a.then(o,o))}function Gw(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function Yw(o,a,h,x,N){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=fo(-1,1),a.tag=2,cs(h,a,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=N,o)}var kT=D.ReactCurrentOwner,lr=!1;function Gn(o,a,h,x){a.child=o===null?gw(a,null,h,x):Bl(a,o.child,h,x)}function Jw(o,a,h,x,N){h=h.render;var A=a.ref;return Ul(a,N),x=Om(o,a,h,x,A,N),h=Mm(),o!==null&&!lr?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~N,ho(o,a,N)):(Jt&&h&&vm(a),a.flags|=1,Gn(o,a,x,N),a.child)}function Qw(o,a,h,x,N){if(o===null){var A=h.type;return typeof A=="function"&&!fg(A)&&A.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=A,Xw(o,a,A,x,N)):(o=Vf(h.type,null,x,a,a.mode,N),o.ref=a.ref,o.return=a,a.child=o)}if(A=o.child,(o.lanes&N)===0){var $=A.memoizedProps;if(h=h.compare,h=h!==null?h:Si,h($,x)&&o.ref===a.ref)return ho(o,a,N)}return a.flags|=1,o=ms(A,x),o.ref=a.ref,o.return=a,a.child=o}function Xw(o,a,h,x,N){if(o!==null){var A=o.memoizedProps;if(Si(A,x)&&o.ref===a.ref)if(lr=!1,a.pendingProps=x=A,(o.lanes&N)!==0)(o.flags&131072)!==0&&(lr=!0);else return a.lanes=o.lanes,ho(o,a,N)}return Wm(o,a,h,x,N)}function ex(o,a,h){var x=a.pendingProps,N=x.children,A=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(Wl,Nr),Nr|=h;else{if((h&1073741824)===0)return o=A!==null?A.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Vt(Wl,Nr),Nr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=A!==null?A.baseLanes:h,Vt(Wl,Nr),Nr|=x}else A!==null?(x=A.baseLanes|h,a.memoizedState=null):x=h,Vt(Wl,Nr),Nr|=x;return Gn(o,a,N,h),a.child}function tx(o,a){var h=a.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function Wm(o,a,h,x,N){var A=ar(h)?xa:zn.current;return A=Ol(a,A),Ul(a,N),h=Om(o,a,h,x,A,N),x=Mm(),o!==null&&!lr?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~N,ho(o,a,N)):(Jt&&x&&vm(a),a.flags|=1,Gn(o,a,h,N),a.child)}function nx(o,a,h,x,N){if(ar(h)){var A=!0;yf(a)}else A=!1;if(Ul(a,N),a.stateNode===null)Of(o,a),Hw(a,h,x),$m(a,h,x,N),x=!0;else if(o===null){var $=a.stateNode,se=a.memoizedProps;$.props=se;var de=$.context,Ee=h.contextType;typeof Ee=="object"&&Ee!==null?Ee=Ur(Ee):(Ee=ar(h)?xa:zn.current,Ee=Ol(a,Ee));var Le=h.getDerivedStateFromProps,ze=typeof Le=="function"||typeof $.getSnapshotBeforeUpdate=="function";ze||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(se!==x||de!==Ee)&&Ww(a,$,x,Ee),ls=!1;var Ie=a.memoizedState;$.state=Ie,Cf(a,x,$,N),de=a.memoizedState,se!==x||Ie!==de||sr.current||ls?(typeof Le=="function"&&(Um(a,h,Le,x),de=a.memoizedState),(se=ls||Zw(a,h,se,x,Ie,de,Ee))?(ze||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(a.flags|=4194308)):(typeof $.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=x,a.memoizedState=de),$.props=x,$.state=de,$.context=Ee,x=se):(typeof $.componentDidMount=="function"&&(a.flags|=4194308),x=!1)}else{$=a.stateNode,vw(o,a),se=a.memoizedProps,Ee=a.type===a.elementType?se:li(a.type,se),$.props=Ee,ze=a.pendingProps,Ie=$.context,de=h.contextType,typeof de=="object"&&de!==null?de=Ur(de):(de=ar(h)?xa:zn.current,de=Ol(a,de));var Ve=h.getDerivedStateFromProps;(Le=typeof Ve=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(se!==ze||Ie!==de)&&Ww(a,$,x,de),ls=!1,Ie=a.memoizedState,$.state=Ie,Cf(a,x,$,N);var Ye=a.memoizedState;se!==ze||Ie!==Ye||sr.current||ls?(typeof Ve=="function"&&(Um(a,h,Ve,x),Ye=a.memoizedState),(Ee=ls||Zw(a,h,Ee,x,Ie,Ye,de)||!1)?(Le||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(x,Ye,de),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(x,Ye,de)),typeof $.componentDidUpdate=="function"&&(a.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof $.componentDidUpdate!="function"||se===o.memoizedProps&&Ie===o.memoizedState||(a.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||se===o.memoizedProps&&Ie===o.memoizedState||(a.flags|=1024),a.memoizedProps=x,a.memoizedState=Ye),$.props=x,$.state=Ye,$.context=de,x=Ee):(typeof $.componentDidUpdate!="function"||se===o.memoizedProps&&Ie===o.memoizedState||(a.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||se===o.memoizedProps&&Ie===o.memoizedState||(a.flags|=1024),x=!1)}return Vm(o,a,h,x,A,N)}function Vm(o,a,h,x,N,A){tx(o,a);var $=(a.flags&128)!==0;if(!x&&!$)return N&&aw(a,h,!1),ho(o,a,A);x=a.stateNode,kT.current=a;var se=$&&typeof h.getDerivedStateFromError!="function"?null:x.render();return a.flags|=1,o!==null&&$?(a.child=Bl(a,o.child,null,A),a.child=Bl(a,null,se,A)):Gn(o,a,se,A),a.memoizedState=x.state,N&&aw(a,h,!0),a.child}function rx(o){var a=o.stateNode;a.pendingContext?ow(o,a.pendingContext,a.pendingContext!==a.context):a.context&&ow(o,a.context,!1),Tm(o,a.containerInfo)}function ix(o,a,h,x,N){return Dl(),bm(N),a.flags|=256,Gn(o,a,h,x),a.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Km(o){return{baseLanes:o,cachePool:null,transitions:null}}function ox(o,a,h){var x=a.pendingProps,N=on.current,A=!1,$=(a.flags&128)!==0,se;if((se=$)||(se=o!==null&&o.memoizedState===null?!1:(N&2)!==0),se?(A=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(N|=1),Vt(on,N&1),o===null)return _m(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):($=x.children,o=x.fallback,A?(x=a.mode,A=a.child,$={mode:"hidden",children:$},(x&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=$):A=qf($,x,0,null),o=ja(o,x,h,null),A.return=a,o.return=a,A.sibling=o,a.child=A,a.child.memoizedState=Km(h),a.memoizedState=qm,o):Gm(a,$));if(N=o.memoizedState,N!==null&&(se=N.dehydrated,se!==null))return ST(o,a,$,x,se,N,h);if(A){A=x.fallback,$=a.mode,N=o.child,se=N.sibling;var de={mode:"hidden",children:x.children};return($&1)===0&&a.child!==N?(x=a.child,x.childLanes=0,x.pendingProps=de,a.deletions=null):(x=ms(N,de),x.subtreeFlags=N.subtreeFlags&14680064),se!==null?A=ms(se,A):(A=ja(A,$,h,null),A.flags|=2),A.return=a,x.return=a,x.sibling=A,a.child=x,x=A,A=a.child,$=o.child.memoizedState,$=$===null?Km(h):{baseLanes:$.baseLanes|h,cachePool:null,transitions:$.transitions},A.memoizedState=$,A.childLanes=o.childLanes&~h,a.memoizedState=qm,x}return A=o.child,o=A.sibling,x=ms(A,{mode:"visible",children:x.children}),(a.mode&1)===0&&(x.lanes=h),x.return=a,x.sibling=null,o!==null&&(h=a.deletions,h===null?(a.deletions=[o],a.flags|=16):h.push(o)),a.child=x,a.memoizedState=null,x}function Gm(o,a){return a=qf({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Lf(o,a,h,x){return x!==null&&bm(x),Bl(a,o.child,null,h),o=Gm(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function ST(o,a,h,x,N,A,$){if(h)return a.flags&256?(a.flags&=-257,x=Zm(Error(n(422))),Lf(o,a,$,x)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(A=x.fallback,N=a.mode,x=qf({mode:"visible",children:x.children},N,0,null),A=ja(A,N,$,null),A.flags|=2,x.return=a,A.return=a,x.sibling=A,a.child=x,(a.mode&1)!==0&&Bl(a,o.child,null,$),a.child.memoizedState=Km($),a.memoizedState=qm,A);if((a.mode&1)===0)return Lf(o,a,$,null);if(N.data==="$!"){if(x=N.nextSibling&&N.nextSibling.dataset,x)var se=x.dgst;return x=se,A=Error(n(419)),x=Zm(A,x,void 0),Lf(o,a,$,x)}if(se=($&o.childLanes)!==0,lr||se){if(x=Cn,x!==null){switch($&-$){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(x.suspendedLanes|$))!==0?0:N,N!==0&&N!==A.retryLane&&(A.retryLane=N,uo(o,N),di(x,o,N,-1))}return dg(),x=Zm(Error(n(421))),Lf(o,a,$,x)}return N.data==="$?"?(a.flags|=128,a.child=o.child,a=DT.bind(null,o),N._reactRetry=a,null):(o=A.treeContext,Cr=Pi(N.nextSibling),Sr=a,Jt=!0,ai=null,o!==null&&(Br[Fr++]=lo,Br[Fr++]=co,Br[Fr++]=_a,lo=o.id,co=o.overflow,_a=a),a=Gm(a,x.children),a.flags|=4096,a)}function sx(o,a,h){o.lanes|=a;var x=o.alternate;x!==null&&(x.lanes|=a),Cm(o.return,a,h)}function Ym(o,a,h,x,N){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:N}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=x,A.tail=h,A.tailMode=N)}function ax(o,a,h){var x=a.pendingProps,N=x.revealOrder,A=x.tail;if(Gn(o,a,x.children,h),x=on.current,(x&2)!==0)x=x&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&sx(o,h,a);else if(o.tag===19)sx(o,h,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(Vt(on,x),(a.mode&1)===0)a.memoizedState=null;else switch(N){case"forwards":for(h=a.child,N=null;h!==null;)o=h.alternate,o!==null&&Nf(o)===null&&(N=h),h=h.sibling;h=N,h===null?(N=a.child,a.child=null):(N=h.sibling,h.sibling=null),Ym(a,!1,N,h,A);break;case"backwards":for(h=null,N=a.child,a.child=null;N!==null;){if(o=N.alternate,o!==null&&Nf(o)===null){a.child=N;break}o=N.sibling,N.sibling=h,h=N,N=o}Ym(a,!0,h,null,A);break;case"together":Ym(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Of(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function ho(o,a,h){if(o!==null&&(a.dependencies=o.dependencies),Ca|=a.lanes,(h&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,h=ms(o,o.pendingProps),a.child=h,h.return=a;o.sibling!==null;)o=o.sibling,h=h.sibling=ms(o,o.pendingProps),h.return=a;h.sibling=null}return a.child}function CT(o,a,h){switch(a.tag){case 3:rx(a),Dl();break;case 5:_w(a);break;case 1:ar(a.type)&&yf(a);break;case 4:Tm(a,a.stateNode.containerInfo);break;case 10:var x=a.type._context,N=a.memoizedProps.value;Vt(Ef,x._currentValue),x._currentValue=N;break;case 13:if(x=a.memoizedState,x!==null)return x.dehydrated!==null?(Vt(on,on.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?ox(o,a,h):(Vt(on,on.current&1),o=ho(o,a,h),o!==null?o.sibling:null);Vt(on,on.current&1);break;case 19:if(x=(h&a.childLanes)!==0,(o.flags&128)!==0){if(x)return ax(o,a,h);a.flags|=128}if(N=a.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Vt(on,on.current),x)break;return null;case 22:case 23:return a.lanes=0,ex(o,a,h)}return ho(o,a,h)}var lx,Jm,cx,ux;lx=function(o,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Jm=function(){},cx=function(o,a,h,x){var N=o.memoizedProps;if(N!==x){o=a.stateNode,ka(Ti.current);var A=null;switch(h){case"input":N=z(o,N),x=z(o,x),A=[];break;case"select":N=le({},N,{value:void 0}),x=le({},x,{value:void 0}),A=[];break;case"textarea":N=me(o,N),x=me(o,x),A=[];break;default:typeof N.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Ae)}vt(h,x);var $;h=null;for(Ee in N)if(!x.hasOwnProperty(Ee)&&N.hasOwnProperty(Ee)&&N[Ee]!=null)if(Ee==="style"){var se=N[Ee];for($ in se)se.hasOwnProperty($)&&(h||(h={}),h[$]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?A||(A=[]):(A=A||[]).push(Ee,null));for(Ee in x){var de=x[Ee];if(se=N!=null?N[Ee]:void 0,x.hasOwnProperty(Ee)&&de!==se&&(de!=null||se!=null))if(Ee==="style")if(se){for($ in se)!se.hasOwnProperty($)||de&&de.hasOwnProperty($)||(h||(h={}),h[$]="");for($ in de)de.hasOwnProperty($)&&se[$]!==de[$]&&(h||(h={}),h[$]=de[$])}else h||(A||(A=[]),A.push(Ee,h)),h=de;else Ee==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,se=se?se.__html:void 0,de!=null&&se!==de&&(A=A||[]).push(Ee,de)):Ee==="children"?typeof de!="string"&&typeof de!="number"||(A=A||[]).push(Ee,""+de):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(de!=null&&Ee==="onScroll"&&Ut("scroll",o),A||se===de||(A=[])):(A=A||[]).push(Ee,de))}h&&(A=A||[]).push("style",h);var Ee=A;(a.updateQueue=Ee)&&(a.flags|=4)}},ux=function(o,a,h,x){h!==x&&(a.flags|=4)};function Au(o,a){if(!Jt)switch(o.tailMode){case"hidden":a=o.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Bn(o){var a=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(a)for(var N=o.child;N!==null;)h|=N.lanes|N.childLanes,x|=N.subtreeFlags&14680064,x|=N.flags&14680064,N.return=o,N=N.sibling;else for(N=o.child;N!==null;)h|=N.lanes|N.childLanes,x|=N.subtreeFlags,x|=N.flags,N.return=o,N=N.sibling;return o.subtreeFlags|=x,o.childLanes=h,a}function NT(o,a,h){var x=a.pendingProps;switch(wm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(a),null;case 1:return ar(a.type)&&gf(),Bn(a),null;case 3:return x=a.stateNode,$l(),Kt(sr),Kt(zn),Rm(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(_f(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ai!==null&&(lg(ai),ai=null))),Jm(o,a),Bn(a),null;case 5:jm(a);var N=ka(Cu.current);if(h=a.type,o!==null&&a.stateNode!=null)cx(o,a,h,x,N),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!x){if(a.stateNode===null)throw Error(n(166));return Bn(a),null}if(o=ka(Ti.current),_f(a)){x=a.stateNode,h=a.type;var A=a.memoizedProps;switch(x[Dr]=a,x[rs]=A,o=(a.mode&1)!==0,h){case"dialog":Ut("cancel",x),Ut("close",x);break;case"iframe":case"object":case"embed":Ut("load",x);break;case"video":case"audio":for(N=0;N<es.length;N++)Ut(es[N],x);break;case"source":Ut("error",x);break;case"img":case"image":case"link":Ut("error",x),Ut("load",x);break;case"details":Ut("toggle",x);break;case"input":Ne(x,A),Ut("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!A.multiple},Ut("invalid",x);break;case"textarea":Me(x,A),Ut("invalid",x)}vt(h,A),N=null;for(var $ in A)if(A.hasOwnProperty($)){var se=A[$];$==="children"?typeof se=="string"?x.textContent!==se&&(A.suppressHydrationWarning!==!0&&_e(x.textContent,se,o),N=["children",se]):typeof se=="number"&&x.textContent!==""+se&&(A.suppressHydrationWarning!==!0&&_e(x.textContent,se,o),N=["children",""+se]):i.hasOwnProperty($)&&se!=null&&$==="onScroll"&&Ut("scroll",x)}switch(h){case"input":wt(x),te(x,A,!0);break;case"textarea":wt(x),Oe(x);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(x.onclick=Ae)}x=N,a.updateQueue=x,x!==null&&(a.flags|=4)}else{$=N.nodeType===9?N:N.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Qe(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=$.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=$.createElement(h,{is:x.is}):(o=$.createElement(h),h==="select"&&($=o,x.multiple?$.multiple=!0:x.size&&($.size=x.size))):o=$.createElementNS(o,h),o[Dr]=a,o[rs]=x,lx(o,a,!1,!1),a.stateNode=o;e:{switch($=Ct(h,x),h){case"dialog":Ut("cancel",o),Ut("close",o),N=x;break;case"iframe":case"object":case"embed":Ut("load",o),N=x;break;case"video":case"audio":for(N=0;N<es.length;N++)Ut(es[N],o);N=x;break;case"source":Ut("error",o),N=x;break;case"img":case"image":case"link":Ut("error",o),Ut("load",o),N=x;break;case"details":Ut("toggle",o),N=x;break;case"input":Ne(o,x),N=z(o,x),Ut("invalid",o);break;case"option":N=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},N=le({},x,{value:void 0}),Ut("invalid",o);break;case"textarea":Me(o,x),N=me(o,x),Ut("invalid",o);break;default:N=x}vt(h,N),se=N;for(A in se)if(se.hasOwnProperty(A)){var de=se[A];A==="style"?ct(o,de):A==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&I(o,de)):A==="children"?typeof de=="string"?(h!=="textarea"||de!=="")&&X(o,de):typeof de=="number"&&X(o,""+de):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?de!=null&&A==="onScroll"&&Ut("scroll",o):de!=null&&R(o,A,de,$))}switch(h){case"input":wt(o),te(o,x,!1);break;case"textarea":wt(o),Oe(o);break;case"option":x.value!=null&&o.setAttribute("value",""+De(x.value));break;case"select":o.multiple=!!x.multiple,A=x.value,A!=null?je(o,!!x.multiple,A,!1):x.defaultValue!=null&&je(o,!!x.multiple,x.defaultValue,!0);break;default:typeof N.onClick=="function"&&(o.onclick=Ae)}switch(h){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Bn(a),null;case 6:if(o&&a.stateNode!=null)ux(o,a,o.memoizedProps,x);else{if(typeof x!="string"&&a.stateNode===null)throw Error(n(166));if(h=ka(Cu.current),ka(Ti.current),_f(a)){if(x=a.stateNode,h=a.memoizedProps,x[Dr]=a,(A=x.nodeValue!==h)&&(o=Sr,o!==null))switch(o.tag){case 3:_e(x.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&_e(x.nodeValue,h,(o.mode&1)!==0)}A&&(a.flags|=4)}else x=(h.nodeType===9?h:h.ownerDocument).createTextNode(x),x[Dr]=a,a.stateNode=x}return Bn(a),null;case 13:if(Kt(on),x=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Jt&&Cr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)hw(),Dl(),a.flags|=98560,A=!1;else if(A=_f(a),x!==null&&x.dehydrated!==null){if(o===null){if(!A)throw Error(n(318));if(A=a.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[Dr]=a}else Dl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Bn(a),A=!1}else ai!==null&&(lg(ai),ai=null),A=!0;if(!A)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(on.current&1)!==0?En===0&&(En=3):dg())),a.updateQueue!==null&&(a.flags|=4),Bn(a),null);case 4:return $l(),Jm(o,a),o===null&&ts(a.stateNode.containerInfo),Bn(a),null;case 10:return Sm(a.type._context),Bn(a),null;case 17:return ar(a.type)&&gf(),Bn(a),null;case 19:if(Kt(on),A=a.memoizedState,A===null)return Bn(a),null;if(x=(a.flags&128)!==0,$=A.rendering,$===null)if(x)Au(A,!1);else{if(En!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if($=Nf(o),$!==null){for(a.flags|=128,Au(A,!1),x=$.updateQueue,x!==null&&(a.updateQueue=x,a.flags|=4),a.subtreeFlags=0,x=h,h=a.child;h!==null;)A=h,o=x,A.flags&=14680066,$=A.alternate,$===null?(A.childLanes=0,A.lanes=o,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=$.childLanes,A.lanes=$.lanes,A.child=$.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=$.memoizedProps,A.memoizedState=$.memoizedState,A.updateQueue=$.updateQueue,A.type=$.type,o=$.dependencies,A.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Vt(on,on.current&1|2),a.child}o=o.sibling}A.tail!==null&&nn()>Vl&&(a.flags|=128,x=!0,Au(A,!1),a.lanes=4194304)}else{if(!x)if(o=Nf($),o!==null){if(a.flags|=128,x=!0,h=o.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),Au(A,!0),A.tail===null&&A.tailMode==="hidden"&&!$.alternate&&!Jt)return Bn(a),null}else 2*nn()-A.renderingStartTime>Vl&&h!==1073741824&&(a.flags|=128,x=!0,Au(A,!1),a.lanes=4194304);A.isBackwards?($.sibling=a.child,a.child=$):(h=A.last,h!==null?h.sibling=$:a.child=$,A.last=$)}return A.tail!==null?(a=A.tail,A.rendering=a,A.tail=a.sibling,A.renderingStartTime=nn(),a.sibling=null,h=on.current,Vt(on,x?h&1|2:h&1),a):(Bn(a),null);case 22:case 23:return ug(),x=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(a.flags|=8192),x&&(a.mode&1)!==0?(Nr&1073741824)!==0&&(Bn(a),a.subtreeFlags&6&&(a.flags|=8192)):Bn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function PT(o,a){switch(wm(a),a.tag){case 1:return ar(a.type)&&gf(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return $l(),Kt(sr),Kt(zn),Rm(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return jm(a),null;case 13:if(Kt(on),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Dl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Kt(on),null;case 4:return $l(),null;case 10:return Sm(a.type._context),null;case 22:case 23:return ug(),null;case 24:return null;default:return null}}var Mf=!1,Fn=!1,TT=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Hl(o,a){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(x){dn(o,a,x)}else h.current=null}function Qm(o,a,h){try{h()}catch(x){dn(o,a,x)}}var dx=!1;function jT(o,a){if(Ze=fa,o=pu(),mu(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var N=x.anchorOffset,A=x.focusNode;x=x.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var $=0,se=-1,de=-1,Ee=0,Le=0,ze=o,Ie=null;t:for(;;){for(var Ve;ze!==h||N!==0&&ze.nodeType!==3||(se=$+N),ze!==A||x!==0&&ze.nodeType!==3||(de=$+x),ze.nodeType===3&&($+=ze.nodeValue.length),(Ve=ze.firstChild)!==null;)Ie=ze,ze=Ve;for(;;){if(ze===o)break t;if(Ie===h&&++Ee===N&&(se=$),Ie===A&&++Le===x&&(de=$),(Ve=ze.nextSibling)!==null)break;ze=Ie,Ie=ze.parentNode}ze=Ve}h=se===-1||de===-1?null:{start:se,end:de}}else h=null}h=h||{start:0,end:0}}else h=null;for(rt={focusedElem:o,selectionRange:h},fa=!1,Ge=a;Ge!==null;)if(a=Ge,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ge=o;else for(;Ge!==null;){a=Ge;try{var Ye=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ye!==null){var Je=Ye.memoizedProps,pn=Ye.memoizedState,ye=a.stateNode,he=ye.getSnapshotBeforeUpdate(a.elementType===a.type?Je:li(a.type,Je),pn);ye.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var ve=a.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Be){dn(a,a.return,Be)}if(o=a.sibling,o!==null){o.return=a.return,Ge=o;break}Ge=a.return}return Ye=dx,dx=!1,Ye}function Ru(o,a,h){var x=a.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var N=x=x.next;do{if((N.tag&o)===o){var A=N.destroy;N.destroy=void 0,A!==void 0&&Qm(a,h,A)}N=N.next}while(N!==x)}}function zf(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&o)===o){var x=h.create;h.destroy=x()}h=h.next}while(h!==a)}}function Xm(o){var a=o.ref;if(a!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof a=="function"?a(o):a.current=o}}function fx(o){var a=o.alternate;a!==null&&(o.alternate=null,fx(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Dr],delete a[rs],delete a[is],delete a[pm],delete a[mm])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function hx(o){return o.tag===5||o.tag===3||o.tag===4}function px(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||hx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function eg(o,a,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(o,a):h.insertBefore(o,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(o,h)):(a=h,a.appendChild(o)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=Ae));else if(x!==4&&(o=o.child,o!==null))for(eg(o,a,h),o=o.sibling;o!==null;)eg(o,a,h),o=o.sibling}function tg(o,a,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,a?h.insertBefore(o,a):h.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(tg(o,a,h),o=o.sibling;o!==null;)tg(o,a,h),o=o.sibling}var jn=null,ci=!1;function us(o,a,h){for(h=h.child;h!==null;)mx(o,a,h),h=h.sibling}function mx(o,a,h){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(sa,h)}catch{}switch(h.tag){case 5:Fn||Hl(h,a);case 6:var x=jn,N=ci;jn=null,us(o,a,h),jn=x,ci=N,jn!==null&&(ci?(o=jn,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):jn.removeChild(h.stateNode));break;case 18:jn!==null&&(ci?(o=jn,h=h.stateNode,o.nodeType===8?bu(o.parentNode,h):o.nodeType===1&&bu(o,h),xr(o)):bu(jn,h.stateNode));break;case 4:x=jn,N=ci,jn=h.stateNode.containerInfo,ci=!0,us(o,a,h),jn=x,ci=N;break;case 0:case 11:case 14:case 15:if(!Fn&&(x=h.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){N=x=x.next;do{var A=N,$=A.destroy;A=A.tag,$!==void 0&&((A&2)!==0||(A&4)!==0)&&Qm(h,a,$),N=N.next}while(N!==x)}us(o,a,h);break;case 1:if(!Fn&&(Hl(h,a),x=h.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=h.memoizedProps,x.state=h.memoizedState,x.componentWillUnmount()}catch(se){dn(h,a,se)}us(o,a,h);break;case 21:us(o,a,h);break;case 22:h.mode&1?(Fn=(x=Fn)||h.memoizedState!==null,us(o,a,h),Fn=x):us(o,a,h);break;default:us(o,a,h)}}function gx(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new TT),a.forEach(function(x){var N=BT.bind(null,o,x);h.has(x)||(h.add(x),x.then(N,N))})}}function ui(o,a){var h=a.deletions;if(h!==null)for(var x=0;x<h.length;x++){var N=h[x];try{var A=o,$=a,se=$;e:for(;se!==null;){switch(se.tag){case 5:jn=se.stateNode,ci=!1;break e;case 3:jn=se.stateNode.containerInfo,ci=!0;break e;case 4:jn=se.stateNode.containerInfo,ci=!0;break e}se=se.return}if(jn===null)throw Error(n(160));mx(A,$,N),jn=null,ci=!1;var de=N.alternate;de!==null&&(de.return=null),N.return=null}catch(Ee){dn(N,a,Ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)yx(a,o),a=a.sibling}function yx(o,a){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ui(a,o),Ai(o),x&4){try{Ru(3,o,o.return),zf(3,o)}catch(Je){dn(o,o.return,Je)}try{Ru(5,o,o.return)}catch(Je){dn(o,o.return,Je)}}break;case 1:ui(a,o),Ai(o),x&512&&h!==null&&Hl(h,h.return);break;case 5:if(ui(a,o),Ai(o),x&512&&h!==null&&Hl(h,h.return),o.flags&32){var N=o.stateNode;try{X(N,"")}catch(Je){dn(o,o.return,Je)}}if(x&4&&(N=o.stateNode,N!=null)){var A=o.memoizedProps,$=h!==null?h.memoizedProps:A,se=o.type,de=o.updateQueue;if(o.updateQueue=null,de!==null)try{se==="input"&&A.type==="radio"&&A.name!=null&&ke(N,A),Ct(se,$);var Ee=Ct(se,A);for($=0;$<de.length;$+=2){var Le=de[$],ze=de[$+1];Le==="style"?ct(N,ze):Le==="dangerouslySetInnerHTML"?I(N,ze):Le==="children"?X(N,ze):R(N,Le,ze,Ee)}switch(se){case"input":ie(N,A);break;case"textarea":He(N,A);break;case"select":var Ie=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!A.multiple;var Ve=A.value;Ve!=null?je(N,!!A.multiple,Ve,!1):Ie!==!!A.multiple&&(A.defaultValue!=null?je(N,!!A.multiple,A.defaultValue,!0):je(N,!!A.multiple,A.multiple?[]:"",!1))}N[rs]=A}catch(Je){dn(o,o.return,Je)}}break;case 6:if(ui(a,o),Ai(o),x&4){if(o.stateNode===null)throw Error(n(162));N=o.stateNode,A=o.memoizedProps;try{N.nodeValue=A}catch(Je){dn(o,o.return,Je)}}break;case 3:if(ui(a,o),Ai(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{xr(a.containerInfo)}catch(Je){dn(o,o.return,Je)}break;case 4:ui(a,o),Ai(o);break;case 13:ui(a,o),Ai(o),N=o.child,N.flags&8192&&(A=N.memoizedState!==null,N.stateNode.isHidden=A,!A||N.alternate!==null&&N.alternate.memoizedState!==null||(ig=nn())),x&4&&gx(o);break;case 22:if(Le=h!==null&&h.memoizedState!==null,o.mode&1?(Fn=(Ee=Fn)||Le,ui(a,o),Fn=Ee):ui(a,o),Ai(o),x&8192){if(Ee=o.memoizedState!==null,(o.stateNode.isHidden=Ee)&&!Le&&(o.mode&1)!==0)for(Ge=o,Le=o.child;Le!==null;){for(ze=Ge=Le;Ge!==null;){switch(Ie=Ge,Ve=Ie.child,Ie.tag){case 0:case 11:case 14:case 15:Ru(4,Ie,Ie.return);break;case 1:Hl(Ie,Ie.return);var Ye=Ie.stateNode;if(typeof Ye.componentWillUnmount=="function"){x=Ie,h=Ie.return;try{a=x,Ye.props=a.memoizedProps,Ye.state=a.memoizedState,Ye.componentWillUnmount()}catch(Je){dn(x,h,Je)}}break;case 5:Hl(Ie,Ie.return);break;case 22:if(Ie.memoizedState!==null){xx(ze);continue}}Ve!==null?(Ve.return=Ie,Ge=Ve):xx(ze)}Le=Le.sibling}e:for(Le=null,ze=o;;){if(ze.tag===5){if(Le===null){Le=ze;try{N=ze.stateNode,Ee?(A=N.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(se=ze.stateNode,de=ze.memoizedProps.style,$=de!=null&&de.hasOwnProperty("display")?de.display:null,se.style.display=Se("display",$))}catch(Je){dn(o,o.return,Je)}}}else if(ze.tag===6){if(Le===null)try{ze.stateNode.nodeValue=Ee?"":ze.memoizedProps}catch(Je){dn(o,o.return,Je)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===o)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===o)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===o)break e;Le===ze&&(Le=null),ze=ze.return}Le===ze&&(Le=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:ui(a,o),Ai(o),x&4&&gx(o);break;case 21:break;default:ui(a,o),Ai(o)}}function Ai(o){var a=o.flags;if(a&2){try{e:{for(var h=o.return;h!==null;){if(hx(h)){var x=h;break e}h=h.return}throw Error(n(160))}switch(x.tag){case 5:var N=x.stateNode;x.flags&32&&(X(N,""),x.flags&=-33);var A=px(o);tg(o,A,N);break;case 3:case 4:var $=x.stateNode.containerInfo,se=px(o);eg(o,se,$);break;default:throw Error(n(161))}}catch(de){dn(o,o.return,de)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function AT(o,a,h){Ge=o,vx(o)}function vx(o,a,h){for(var x=(o.mode&1)!==0;Ge!==null;){var N=Ge,A=N.child;if(N.tag===22&&x){var $=N.memoizedState!==null||Mf;if(!$){var se=N.alternate,de=se!==null&&se.memoizedState!==null||Fn;se=Mf;var Ee=Fn;if(Mf=$,(Fn=de)&&!Ee)for(Ge=N;Ge!==null;)$=Ge,de=$.child,$.tag===22&&$.memoizedState!==null?_x(N):de!==null?(de.return=$,Ge=de):_x(N);for(;A!==null;)Ge=A,vx(A),A=A.sibling;Ge=N,Mf=se,Fn=Ee}wx(o)}else(N.subtreeFlags&8772)!==0&&A!==null?(A.return=N,Ge=A):wx(o)}}function wx(o){for(;Ge!==null;){var a=Ge;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Fn||zf(5,a);break;case 1:var x=a.stateNode;if(a.flags&4&&!Fn)if(h===null)x.componentDidMount();else{var N=a.elementType===a.type?h.memoizedProps:li(a.type,h.memoizedProps);x.componentDidUpdate(N,h.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var A=a.updateQueue;A!==null&&xw(a,A,x);break;case 3:var $=a.updateQueue;if($!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}xw(a,$,h)}break;case 5:var se=a.stateNode;if(h===null&&a.flags&4){h=se;var de=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&h.focus();break;case"img":de.src&&(h.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Ee=a.alternate;if(Ee!==null){var Le=Ee.memoizedState;if(Le!==null){var ze=Le.dehydrated;ze!==null&&xr(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Fn||a.flags&512&&Xm(a)}catch(Ie){dn(a,a.return,Ie)}}if(a===o){Ge=null;break}if(h=a.sibling,h!==null){h.return=a.return,Ge=h;break}Ge=a.return}}function xx(o){for(;Ge!==null;){var a=Ge;if(a===o){Ge=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Ge=h;break}Ge=a.return}}function _x(o){for(;Ge!==null;){var a=Ge;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{zf(4,a)}catch(de){dn(a,h,de)}break;case 1:var x=a.stateNode;if(typeof x.componentDidMount=="function"){var N=a.return;try{x.componentDidMount()}catch(de){dn(a,N,de)}}var A=a.return;try{Xm(a)}catch(de){dn(a,A,de)}break;case 5:var $=a.return;try{Xm(a)}catch(de){dn(a,$,de)}}}catch(de){dn(a,a.return,de)}if(a===o){Ge=null;break}var se=a.sibling;if(se!==null){se.return=a.return,Ge=se;break}Ge=a.return}}var RT=Math.ceil,Df=D.ReactCurrentDispatcher,ng=D.ReactCurrentOwner,Zr=D.ReactCurrentBatchConfig,jt=0,Cn=null,vn=null,An=0,Nr=0,Wl=os(0),En=0,Iu=null,Ca=0,Bf=0,rg=0,Lu=null,cr=null,ig=0,Vl=1/0,po=null,Ff=!1,og=null,ds=null,Uf=!1,fs=null,$f=0,Ou=0,sg=null,Zf=-1,Hf=0;function Yn(){return(jt&6)!==0?nn():Zf!==-1?Zf:Zf=nn()}function hs(o){return(o.mode&1)===0?1:(jt&2)!==0&&An!==0?An&-An:mT.transition!==null?(Hf===0&&(Hf=Vd()),Hf):(o=Pt,o!==0||(o=window.event,o=o===void 0?16:Et(o.type)),o)}function di(o,a,h,x){if(50<Ou)throw Ou=0,sg=null,Error(n(185));vr(o,h,x),((jt&2)===0||o!==Cn)&&(o===Cn&&((jt&2)===0&&(Bf|=h),En===4&&ps(o,An)),ur(o,x),h===1&&jt===0&&(a.mode&1)===0&&(Vl=nn()+500,vf&&as()))}function ur(o,a){var h=o.callbackNode;fl(o,a);var x=Wt(o,o===Cn?An:0);if(x===0)h!==null&&Yc(h),o.callbackNode=null,o.callbackPriority=0;else if(a=x&-x,o.callbackPriority!==a){if(h!=null&&Yc(h),a===1)o.tag===0?pT(Ex.bind(null,o)):lw(Ex.bind(null,o)),Mn(function(){(jt&6)===0&&as()}),h=null;else{switch($o(x)){case 1:h=Jc;break;case 4:h=Wd;break;case 16:h=ul;break;case 536870912:h=Do;break;default:h=ul}h=Ax(h,bx.bind(null,o))}o.callbackPriority=a,o.callbackNode=h}}function bx(o,a){if(Zf=-1,Hf=0,(jt&6)!==0)throw Error(n(327));var h=o.callbackNode;if(ql()&&o.callbackNode!==h)return null;var x=Wt(o,o===Cn?An:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||a)a=Wf(o,x);else{a=x;var N=jt;jt|=2;var A=Sx();(Cn!==o||An!==a)&&(po=null,Vl=nn()+500,Pa(o,a));do try{OT();break}catch(se){kx(o,se)}while(!0);km(),Df.current=A,jt=N,vn!==null?a=0:(Cn=null,An=0,a=En)}if(a!==0){if(a===2&&(N=Ln(o),N!==0&&(x=N,a=ag(o,N))),a===1)throw h=Iu,Pa(o,0),ps(o,x),ur(o,nn()),h;if(a===6)ps(o,x);else{if(N=o.current.alternate,(x&30)===0&&!IT(N)&&(a=Wf(o,x),a===2&&(A=Ln(o),A!==0&&(x=A,a=ag(o,A))),a===1))throw h=Iu,Pa(o,0),ps(o,x),ur(o,nn()),h;switch(o.finishedWork=N,o.finishedLanes=x,a){case 0:case 1:throw Error(n(345));case 2:Ta(o,cr,po);break;case 3:if(ps(o,x),(x&130023424)===x&&(a=ig+500-nn(),10<a)){if(Wt(o,0)!==0)break;if(N=o.suspendedLanes,(N&x)!==x){Yn(),o.pingedLanes|=o.suspendedLanes&N;break}o.timeoutHandle=_n(Ta.bind(null,o,cr,po),a);break}Ta(o,cr,po);break;case 4:if(ps(o,x),(x&4194240)===x)break;for(a=o.eventTimes,N=-1;0<x;){var $=31-pt(x);A=1<<$,$=a[$],$>N&&(N=$),x&=~A}if(x=N,x=nn()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*RT(x/1960))-x,10<x){o.timeoutHandle=_n(Ta.bind(null,o,cr,po),x);break}Ta(o,cr,po);break;case 5:Ta(o,cr,po);break;default:throw Error(n(329))}}}return ur(o,nn()),o.callbackNode===h?bx.bind(null,o):null}function ag(o,a){var h=Lu;return o.current.memoizedState.isDehydrated&&(Pa(o,a).flags|=256),o=Wf(o,a),o!==2&&(a=cr,cr=h,a!==null&&lg(a)),o}function lg(o){cr===null?cr=o:cr.push.apply(cr,o)}function IT(o){for(var a=o;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var x=0;x<h.length;x++){var N=h[x],A=N.getSnapshot;N=N.value;try{if(!Er(A(),N))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ps(o,a){for(a&=~rg,a&=~Bf,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var h=31-pt(a),x=1<<h;o[h]=-1,a&=~x}}function Ex(o){if((jt&6)!==0)throw Error(n(327));ql();var a=Wt(o,0);if((a&1)===0)return ur(o,nn()),null;var h=Wf(o,a);if(o.tag!==0&&h===2){var x=Ln(o);x!==0&&(a=x,h=ag(o,x))}if(h===1)throw h=Iu,Pa(o,0),ps(o,a),ur(o,nn()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Ta(o,cr,po),ur(o,nn()),null}function cg(o,a){var h=jt;jt|=1;try{return o(a)}finally{jt=h,jt===0&&(Vl=nn()+500,vf&&as())}}function Na(o){fs!==null&&fs.tag===0&&(jt&6)===0&&ql();var a=jt;jt|=1;var h=Zr.transition,x=Pt;try{if(Zr.transition=null,Pt=1,o)return o()}finally{Pt=x,Zr.transition=h,jt=a,(jt&6)===0&&as()}}function ug(){Nr=Wl.current,Kt(Wl)}function Pa(o,a){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,yn(h)),vn!==null)for(h=vn.return;h!==null;){var x=h;switch(wm(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&gf();break;case 3:$l(),Kt(sr),Kt(zn),Rm();break;case 5:jm(x);break;case 4:$l();break;case 13:Kt(on);break;case 19:Kt(on);break;case 10:Sm(x.type._context);break;case 22:case 23:ug()}h=h.return}if(Cn=o,vn=o=ms(o.current,null),An=Nr=a,En=0,Iu=null,rg=Bf=Ca=0,cr=Lu=null,Ea!==null){for(a=0;a<Ea.length;a++)if(h=Ea[a],x=h.interleaved,x!==null){h.interleaved=null;var N=x.next,A=h.pending;if(A!==null){var $=A.next;A.next=N,x.next=$}h.pending=x}Ea=null}return o}function kx(o,a){do{var h=vn;try{if(km(),Pf.current=Rf,Tf){for(var x=sn.memoizedState;x!==null;){var N=x.queue;N!==null&&(N.pending=null),x=x.next}Tf=!1}if(Sa=0,Sn=bn=sn=null,Nu=!1,Pu=0,ng.current=null,h===null||h.return===null){En=1,Iu=a,vn=null;break}e:{var A=o,$=h.return,se=h,de=a;if(a=An,se.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ee=de,Le=se,ze=Le.tag;if((Le.mode&1)===0&&(ze===0||ze===11||ze===15)){var Ie=Le.alternate;Ie?(Le.updateQueue=Ie.updateQueue,Le.memoizedState=Ie.memoizedState,Le.lanes=Ie.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var Ve=Gw($);if(Ve!==null){Ve.flags&=-257,Yw(Ve,$,se,A,a),Ve.mode&1&&Kw(A,Ee,a),a=Ve,de=Ee;var Ye=a.updateQueue;if(Ye===null){var Je=new Set;Je.add(de),a.updateQueue=Je}else Ye.add(de);break e}else{if((a&1)===0){Kw(A,Ee,a),dg();break e}de=Error(n(426))}}else if(Jt&&se.mode&1){var pn=Gw($);if(pn!==null){(pn.flags&65536)===0&&(pn.flags|=256),Yw(pn,$,se,A,a),bm(Zl(de,se));break e}}A=de=Zl(de,se),En!==4&&(En=2),Lu===null?Lu=[A]:Lu.push(A),A=$;do{switch(A.tag){case 3:A.flags|=65536,a&=-a,A.lanes|=a;var ye=Vw(A,de,a);ww(A,ye);break e;case 1:se=de;var he=A.type,ve=A.stateNode;if((A.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(ds===null||!ds.has(ve)))){A.flags|=65536,a&=-a,A.lanes|=a;var Be=qw(A,se,a);ww(A,Be);break e}}A=A.return}while(A!==null)}Nx(h)}catch(et){a=et,vn===h&&h!==null&&(vn=h=h.return);continue}break}while(!0)}function Sx(){var o=Df.current;return Df.current=Rf,o===null?Rf:o}function dg(){(En===0||En===3||En===2)&&(En=4),Cn===null||(Ca&268435455)===0&&(Bf&268435455)===0||ps(Cn,An)}function Wf(o,a){var h=jt;jt|=2;var x=Sx();(Cn!==o||An!==a)&&(po=null,Pa(o,a));do try{LT();break}catch(N){kx(o,N)}while(!0);if(km(),jt=h,Df.current=x,vn!==null)throw Error(n(261));return Cn=null,An=0,En}function LT(){for(;vn!==null;)Cx(vn)}function OT(){for(;vn!==null&&!Qp();)Cx(vn)}function Cx(o){var a=jx(o.alternate,o,Nr);o.memoizedProps=o.pendingProps,a===null?Nx(o):vn=a,ng.current=null}function Nx(o){var a=o;do{var h=a.alternate;if(o=a.return,(a.flags&32768)===0){if(h=NT(h,a,Nr),h!==null){vn=h;return}}else{if(h=PT(h,a),h!==null){h.flags&=32767,vn=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{En=6,vn=null;return}}if(a=a.sibling,a!==null){vn=a;return}vn=a=o}while(a!==null);En===0&&(En=5)}function Ta(o,a,h){var x=Pt,N=Zr.transition;try{Zr.transition=null,Pt=1,MT(o,a,h,x)}finally{Zr.transition=N,Pt=x}return null}function MT(o,a,h,x){do ql();while(fs!==null);if((jt&6)!==0)throw Error(n(327));h=o.finishedWork;var N=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var A=h.lanes|h.childLanes;if(un(o,A),o===Cn&&(vn=Cn=null,An=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Uf||(Uf=!0,Ax(ul,function(){return ql(),null})),A=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||A){A=Zr.transition,Zr.transition=null;var $=Pt;Pt=1;var se=jt;jt|=4,ng.current=null,jT(o,h),yx(h,o),Mr(rt),fa=!!Ze,rt=Ze=null,o.current=h,AT(h),cl(),jt=se,Pt=$,Zr.transition=A}else o.current=h;if(Uf&&(Uf=!1,fs=o,$f=N),A=o.pendingLanes,A===0&&(ds=null),aa(h.stateNode),ur(o,nn()),a!==null)for(x=o.onRecoverableError,h=0;h<a.length;h++)N=a[h],x(N.value,{componentStack:N.stack,digest:N.digest});if(Ff)throw Ff=!1,o=og,og=null,o;return($f&1)!==0&&o.tag!==0&&ql(),A=o.pendingLanes,(A&1)!==0?o===sg?Ou++:(Ou=0,sg=o):Ou=0,as(),null}function ql(){if(fs!==null){var o=$o($f),a=Zr.transition,h=Pt;try{if(Zr.transition=null,Pt=16>o?16:o,fs===null)var x=!1;else{if(o=fs,fs=null,$f=0,(jt&6)!==0)throw Error(n(331));var N=jt;for(jt|=4,Ge=o.current;Ge!==null;){var A=Ge,$=A.child;if((Ge.flags&16)!==0){var se=A.deletions;if(se!==null){for(var de=0;de<se.length;de++){var Ee=se[de];for(Ge=Ee;Ge!==null;){var Le=Ge;switch(Le.tag){case 0:case 11:case 15:Ru(8,Le,A)}var ze=Le.child;if(ze!==null)ze.return=Le,Ge=ze;else for(;Ge!==null;){Le=Ge;var Ie=Le.sibling,Ve=Le.return;if(fx(Le),Le===Ee){Ge=null;break}if(Ie!==null){Ie.return=Ve,Ge=Ie;break}Ge=Ve}}}var Ye=A.alternate;if(Ye!==null){var Je=Ye.child;if(Je!==null){Ye.child=null;do{var pn=Je.sibling;Je.sibling=null,Je=pn}while(Je!==null)}}Ge=A}}if((A.subtreeFlags&2064)!==0&&$!==null)$.return=A,Ge=$;else e:for(;Ge!==null;){if(A=Ge,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Ru(9,A,A.return)}var ye=A.sibling;if(ye!==null){ye.return=A.return,Ge=ye;break e}Ge=A.return}}var he=o.current;for(Ge=he;Ge!==null;){$=Ge;var ve=$.child;if(($.subtreeFlags&2064)!==0&&ve!==null)ve.return=$,Ge=ve;else e:for($=he;Ge!==null;){if(se=Ge,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:zf(9,se)}}catch(et){dn(se,se.return,et)}if(se===$){Ge=null;break e}var Be=se.sibling;if(Be!==null){Be.return=se.return,Ge=Be;break e}Ge=se.return}}if(jt=N,as(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(sa,o)}catch{}x=!0}return x}finally{Pt=h,Zr.transition=a}}return!1}function Px(o,a,h){a=Zl(h,a),a=Vw(o,a,1),o=cs(o,a,1),a=Yn(),o!==null&&(vr(o,1,a),ur(o,a))}function dn(o,a,h){if(o.tag===3)Px(o,o,h);else for(;a!==null;){if(a.tag===3){Px(a,o,h);break}else if(a.tag===1){var x=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(ds===null||!ds.has(x))){o=Zl(h,o),o=qw(a,o,1),a=cs(a,o,1),o=Yn(),a!==null&&(vr(a,1,o),ur(a,o));break}}a=a.return}}function zT(o,a,h){var x=o.pingCache;x!==null&&x.delete(a),a=Yn(),o.pingedLanes|=o.suspendedLanes&h,Cn===o&&(An&h)===h&&(En===4||En===3&&(An&130023424)===An&&500>nn()-ig?Pa(o,0):rg|=h),ur(o,a)}function Tx(o,a){a===0&&((o.mode&1)===0?a=1:(a=Fo,Fo<<=1,(Fo&130023424)===0&&(Fo=4194304)));var h=Yn();o=uo(o,a),o!==null&&(vr(o,a,h),ur(o,h))}function DT(o){var a=o.memoizedState,h=0;a!==null&&(h=a.retryLane),Tx(o,h)}function BT(o,a){var h=0;switch(o.tag){case 13:var x=o.stateNode,N=o.memoizedState;N!==null&&(h=N.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(a),Tx(o,h)}var jx;jx=function(o,a,h){if(o!==null)if(o.memoizedProps!==a.pendingProps||sr.current)lr=!0;else{if((o.lanes&h)===0&&(a.flags&128)===0)return lr=!1,CT(o,a,h);lr=(o.flags&131072)!==0}else lr=!1,Jt&&(a.flags&1048576)!==0&&cw(a,xf,a.index);switch(a.lanes=0,a.tag){case 2:var x=a.type;Of(o,a),o=a.pendingProps;var N=Ol(a,zn.current);Ul(a,h),N=Om(null,a,x,o,N,h);var A=Mm();return a.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ar(x)?(A=!0,yf(a)):A=!1,a.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Pm(a),N.updater=If,a.stateNode=N,N._reactInternals=a,$m(a,x,o,h),a=Vm(null,a,x,!0,A,h)):(a.tag=0,Jt&&A&&vm(a),Gn(null,a,N,h),a=a.child),a;case 16:x=a.elementType;e:{switch(Of(o,a),o=a.pendingProps,N=x._init,x=N(x._payload),a.type=x,N=a.tag=UT(x),o=li(x,o),N){case 0:a=Wm(null,a,x,o,h);break e;case 1:a=nx(null,a,x,o,h);break e;case 11:a=Jw(null,a,x,o,h);break e;case 14:a=Qw(null,a,x,li(x.type,o),h);break e}throw Error(n(306,x,""))}return a;case 0:return x=a.type,N=a.pendingProps,N=a.elementType===x?N:li(x,N),Wm(o,a,x,N,h);case 1:return x=a.type,N=a.pendingProps,N=a.elementType===x?N:li(x,N),nx(o,a,x,N,h);case 3:e:{if(rx(a),o===null)throw Error(n(387));x=a.pendingProps,A=a.memoizedState,N=A.element,vw(o,a),Cf(a,x,null,h);var $=a.memoizedState;if(x=$.element,A.isDehydrated)if(A={element:x,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){N=Zl(Error(n(423)),a),a=ix(o,a,x,h,N);break e}else if(x!==N){N=Zl(Error(n(424)),a),a=ix(o,a,x,h,N);break e}else for(Cr=Pi(a.stateNode.containerInfo.firstChild),Sr=a,Jt=!0,ai=null,h=gw(a,null,x,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Dl(),x===N){a=ho(o,a,h);break e}Gn(o,a,x,h)}a=a.child}return a;case 5:return _w(a),o===null&&_m(a),x=a.type,N=a.pendingProps,A=o!==null?o.memoizedProps:null,$=N.children,gt(x,N)?$=null:A!==null&&gt(x,A)&&(a.flags|=32),tx(o,a),Gn(o,a,$,h),a.child;case 6:return o===null&&_m(a),null;case 13:return ox(o,a,h);case 4:return Tm(a,a.stateNode.containerInfo),x=a.pendingProps,o===null?a.child=Bl(a,null,x,h):Gn(o,a,x,h),a.child;case 11:return x=a.type,N=a.pendingProps,N=a.elementType===x?N:li(x,N),Jw(o,a,x,N,h);case 7:return Gn(o,a,a.pendingProps,h),a.child;case 8:return Gn(o,a,a.pendingProps.children,h),a.child;case 12:return Gn(o,a,a.pendingProps.children,h),a.child;case 10:e:{if(x=a.type._context,N=a.pendingProps,A=a.memoizedProps,$=N.value,Vt(Ef,x._currentValue),x._currentValue=$,A!==null)if(Er(A.value,$)){if(A.children===N.children&&!sr.current){a=ho(o,a,h);break e}}else for(A=a.child,A!==null&&(A.return=a);A!==null;){var se=A.dependencies;if(se!==null){$=A.child;for(var de=se.firstContext;de!==null;){if(de.context===x){if(A.tag===1){de=fo(-1,h&-h),de.tag=2;var Ee=A.updateQueue;if(Ee!==null){Ee=Ee.shared;var Le=Ee.pending;Le===null?de.next=de:(de.next=Le.next,Le.next=de),Ee.pending=de}}A.lanes|=h,de=A.alternate,de!==null&&(de.lanes|=h),Cm(A.return,h,a),se.lanes|=h;break}de=de.next}}else if(A.tag===10)$=A.type===a.type?null:A.child;else if(A.tag===18){if($=A.return,$===null)throw Error(n(341));$.lanes|=h,se=$.alternate,se!==null&&(se.lanes|=h),Cm($,h,a),$=A.sibling}else $=A.child;if($!==null)$.return=A;else for($=A;$!==null;){if($===a){$=null;break}if(A=$.sibling,A!==null){A.return=$.return,$=A;break}$=$.return}A=$}Gn(o,a,N.children,h),a=a.child}return a;case 9:return N=a.type,x=a.pendingProps.children,Ul(a,h),N=Ur(N),x=x(N),a.flags|=1,Gn(o,a,x,h),a.child;case 14:return x=a.type,N=li(x,a.pendingProps),N=li(x.type,N),Qw(o,a,x,N,h);case 15:return Xw(o,a,a.type,a.pendingProps,h);case 17:return x=a.type,N=a.pendingProps,N=a.elementType===x?N:li(x,N),Of(o,a),a.tag=1,ar(x)?(o=!0,yf(a)):o=!1,Ul(a,h),Hw(a,x,N),$m(a,x,N,h),Vm(null,a,x,!0,o,h);case 19:return ax(o,a,h);case 22:return ex(o,a,h)}throw Error(n(156,a.tag))};function Ax(o,a){return Hd(o,a)}function FT(o,a,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(o,a,h,x){return new FT(o,a,h,x)}function fg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function UT(o){if(typeof o=="function")return fg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===U)return 11;if(o===W)return 14}return 2}function ms(o,a){var h=o.alternate;return h===null?(h=Hr(o.tag,a,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=a,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,a=o.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function Vf(o,a,h,x,N,A){var $=2;if(x=o,typeof o=="function")fg(o)&&($=1);else if(typeof o=="string")$=5;else e:switch(o){case G:return ja(h.children,N,A,a);case J:$=8,N|=8;break;case V:return o=Hr(12,h,a,N|2),o.elementType=V,o.lanes=A,o;case re:return o=Hr(13,h,a,N),o.elementType=re,o.lanes=A,o;case M:return o=Hr(19,h,a,N),o.elementType=M,o.lanes=A,o;case oe:return qf(h,N,A,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Y:$=10;break e;case Q:$=9;break e;case U:$=11;break e;case W:$=14;break e;case ae:$=16,x=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=Hr($,h,a,N),a.elementType=o,a.type=x,a.lanes=A,a}function ja(o,a,h,x){return o=Hr(7,o,x,a),o.lanes=h,o}function qf(o,a,h,x){return o=Hr(22,o,x,a),o.elementType=oe,o.lanes=h,o.stateNode={isHidden:!1},o}function hg(o,a,h){return o=Hr(6,o,null,a),o.lanes=h,o}function pg(o,a,h){return a=Hr(4,o.children!==null?o.children:[],o.key,a),a.lanes=h,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function $T(o,a,h,x,N){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uo(0),this.expirationTimes=Uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.identifierPrefix=x,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function mg(o,a,h,x,N,A,$,se,de){return o=new $T(o,a,h,se,de),a===1?(a=1,A===!0&&(a|=8)):a=0,A=Hr(3,null,null,a),o.current=A,A.stateNode=o,A.memoizedState={element:x,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pm(A),o}function ZT(o,a,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:x==null?null:""+x,children:o,containerInfo:a,implementation:h}}function Rx(o){if(!o)return ss;o=o._reactInternals;e:{if(xi(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ar(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(ar(h))return sw(o,h,a)}return a}function Ix(o,a,h,x,N,A,$,se,de){return o=mg(h,x,!0,o,N,A,$,se,de),o.context=Rx(null),h=o.current,x=Yn(),N=hs(h),A=fo(x,N),A.callback=a??null,cs(h,A,N),o.current.lanes=N,vr(o,N,x),ur(o,x),o}function Kf(o,a,h,x){var N=a.current,A=Yn(),$=hs(N);return h=Rx(h),a.context===null?a.context=h:a.pendingContext=h,a=fo(A,$),a.payload={element:o},x=x===void 0?null:x,x!==null&&(a.callback=x),o=cs(N,a,$),o!==null&&(di(o,N,$,A),Sf(o,N,$)),$}function Gf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Lx(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<a?h:a}}function gg(o,a){Lx(o,a),(o=o.alternate)&&Lx(o,a)}function HT(){return null}var Ox=typeof reportError=="function"?reportError:function(o){console.error(o)};function yg(o){this._internalRoot=o}Yf.prototype.render=yg.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));Kf(o,a,null,null)},Yf.prototype.unmount=yg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Na(function(){Kf(null,o,null,null)}),a[zt]=null}};function Yf(o){this._internalRoot=o}Yf.prototype.unstable_scheduleHydration=function(o){if(o){var a=ml();o={blockedOn:null,target:o,priority:a};for(var h=0;h<xn.length&&a!==0&&a<xn[h].priority;h++);xn.splice(h,0,o),h===0&&gl(o)}};function vg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Jf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Mx(){}function WT(o,a,h,x,N){if(N){if(typeof x=="function"){var A=x;x=function(){var Ee=Gf($);A.call(Ee)}}var $=Ix(a,x,o,0,null,!1,!1,"",Mx);return o._reactRootContainer=$,o[zt]=$.current,ts(o.nodeType===8?o.parentNode:o),Na(),$}for(;N=o.lastChild;)o.removeChild(N);if(typeof x=="function"){var se=x;x=function(){var Ee=Gf(de);se.call(Ee)}}var de=mg(o,0,!1,null,null,!1,!1,"",Mx);return o._reactRootContainer=de,o[zt]=de.current,ts(o.nodeType===8?o.parentNode:o),Na(function(){Kf(a,de,h,x)}),de}function Qf(o,a,h,x,N){var A=h._reactRootContainer;if(A){var $=A;if(typeof N=="function"){var se=N;N=function(){var de=Gf($);se.call(de)}}Kf(a,$,o,N)}else $=WT(h,a,o,N,x);return Gf($)}hl=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var h=ft(a.pendingLanes);h!==0&&(ni(a,h|1),ur(a,nn()),(jt&6)===0&&(Vl=nn()+500,as()))}break;case 13:Na(function(){var x=uo(o,1);if(x!==null){var N=Yn();di(x,o,1,N)}}),gg(o,1)}},Gi=function(o){if(o.tag===13){var a=uo(o,134217728);if(a!==null){var h=Yn();di(a,o,134217728,h)}gg(o,134217728)}},pl=function(o){if(o.tag===13){var a=hs(o),h=uo(o,a);if(h!==null){var x=Yn();di(h,o,a,x)}gg(o,a)}},ml=function(){return Pt},la=function(o,a){var h=Pt;try{return Pt=o,a()}finally{Pt=h}},zo=function(o,a,h){switch(a){case"input":if(ie(o,h),a=h.name,h.type==="radio"&&a!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var x=h[a];if(x!==o&&x.form===o.form){var N=Il(x);if(!N)throw Error(n(90));Rt(x),ie(x,N)}}}break;case"textarea":He(o,h);break;case"select":a=h.value,a!=null&&je(o,!!h.multiple,a,!1)}},Dd=cg,Bd=Na;var VT={usingClientEntryPoint:!1,Events:[oo,so,Il,Md,zd,cg]},Mu={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qT={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=$d(o),o===null?null:o.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||HT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{sa=Xf.inject(qT),yr=Xf}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VT,dr.createPortal=function(o,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vg(a))throw Error(n(200));return ZT(o,a,null,h)},dr.createRoot=function(o,a){if(!vg(o))throw Error(n(299));var h=!1,x="",N=Ox;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(x=a.identifierPrefix),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=mg(o,1,!1,null,null,h,!1,x,N),o[zt]=a.current,ts(o.nodeType===8?o.parentNode:o),new yg(a)},dr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=$d(a),o=o===null?null:o.stateNode,o},dr.flushSync=function(o){return Na(o)},dr.hydrate=function(o,a,h){if(!Jf(a))throw Error(n(200));return Qf(null,o,a,!0,h)},dr.hydrateRoot=function(o,a,h){if(!vg(o))throw Error(n(405));var x=h!=null&&h.hydratedSources||null,N=!1,A="",$=Ox;if(h!=null&&(h.unstable_strictMode===!0&&(N=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&($=h.onRecoverableError)),a=Ix(a,null,o,1,h??null,N,!1,A,$),o[zt]=a.current,ts(o),x)for(o=0;o<x.length;o++)h=x[o],N=h._getVersion,N=N(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,N]:a.mutableSourceEagerHydrationData.push(h,N);return new Yf(a)},dr.render=function(o,a,h){if(!Jf(a))throw Error(n(200));return Qf(null,o,a,!1,h)},dr.unmountComponentAtNode=function(o){if(!Jf(o))throw Error(n(40));return o._reactRootContainer?(Na(function(){Qf(null,null,o,!1,function(){o._reactRootContainer=null,o[zt]=null})}),!0):!1},dr.unstable_batchedUpdates=cg,dr.unstable_renderSubtreeIntoContainer=function(o,a,h,x){if(!Jf(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Qf(o,a,h,!1,x)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var Wx;function P1(){if(Wx)return bg.exports;Wx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bg.exports=rj(),bg.exports}var Vx;function ij(){if(Vx)return nh;Vx=1;var e=P1();return nh.createRoot=e.createRoot,nh.hydrateRoot=e.hydrateRoot,nh}var oj=ij(),Sg={},Du={},qx;function sj(){if(qx)return Du;qx=1,Du.byteLength=u,Du.toByteArray=m,Du.fromByteArray=E;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,l=r.length;i<l;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function c(_){var k=_.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=_.indexOf("=");w===-1&&(w=k);var b=w===k?0:4-w%4;return[w,b]}function u(_){var k=c(_),w=k[0],b=k[1];return(w+b)*3/4-b}function f(_,k,w){return(k+w)*3/4-w}function m(_){var k,w=c(_),b=w[0],S=w[1],P=new n(f(_,b,S)),R=0,D=S>0?b-4:b,B;for(B=0;B<D;B+=4)k=t[_.charCodeAt(B)]<<18|t[_.charCodeAt(B+1)]<<12|t[_.charCodeAt(B+2)]<<6|t[_.charCodeAt(B+3)],P[R++]=k>>16&255,P[R++]=k>>8&255,P[R++]=k&255;return S===2&&(k=t[_.charCodeAt(B)]<<2|t[_.charCodeAt(B+1)]>>4,P[R++]=k&255),S===1&&(k=t[_.charCodeAt(B)]<<10|t[_.charCodeAt(B+1)]<<4|t[_.charCodeAt(B+2)]>>2,P[R++]=k>>8&255,P[R++]=k&255),P}function y(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function g(_,k,w){for(var b,S=[],P=k;P<w;P+=3)b=(_[P]<<16&16711680)+(_[P+1]<<8&65280)+(_[P+2]&255),S.push(y(b));return S.join("")}function E(_){for(var k,w=_.length,b=w%3,S=[],P=16383,R=0,D=w-b;R<D;R+=P)S.push(g(_,R,R+P>D?D:R+P));return b===1?(k=_[w-1],S.push(e[k>>2]+e[k<<4&63]+"==")):b===2&&(k=(_[w-2]<<8)+_[w-1],S.push(e[k>>10]+e[k>>4&63]+e[k<<2&63]+"=")),S.join("")}return Du}var rh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Kx;function aj(){return Kx||(Kx=1,rh.read=function(e,t,n,r,i){var l,c,u=i*8-r-1,f=(1<<u)-1,m=f>>1,y=-7,g=n?i-1:0,E=n?-1:1,_=e[t+g];for(g+=E,l=_&(1<<-y)-1,_>>=-y,y+=u;y>0;l=l*256+e[t+g],g+=E,y-=8);for(c=l&(1<<-y)-1,l>>=-y,y+=r;y>0;c=c*256+e[t+g],g+=E,y-=8);if(l===0)l=1-m;else{if(l===f)return c?NaN:(_?-1:1)*(1/0);c=c+Math.pow(2,r),l=l-m}return(_?-1:1)*c*Math.pow(2,l-r)},rh.write=function(e,t,n,r,i,l){var c,u,f,m=l*8-i-1,y=(1<<m)-1,g=y>>1,E=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=r?0:l-1,k=r?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,c=y):(c=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-c))<1&&(c--,f*=2),c+g>=1?t+=E/f:t+=E*Math.pow(2,1-g),t*f>=2&&(c++,f/=2),c+g>=y?(u=0,c=y):c+g>=1?(u=(t*f-1)*Math.pow(2,i),c=c+g):(u=t*Math.pow(2,g-1)*Math.pow(2,i),c=0));i>=8;e[n+_]=u&255,_+=k,u/=256,i-=8);for(c=c<<i|u,m+=i;m>0;e[n+_]=c&255,_+=k,c/=256,m-=8);e[n+_-k]|=w*128}),rh}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Gx;function lj(){return Gx||(Gx=1,function(e){const t=sj(),n=aj(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=P,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const Z=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(Z,T),Z.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(Z){if(Z>i)throw new RangeError('The value "'+Z+'" is invalid for option "size"');const T=new Uint8Array(Z);return Object.setPrototypeOf(T,u.prototype),T}function u(Z,T,I){if(typeof Z=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(Z)}return f(Z,T,I)}u.poolSize=8192;function f(Z,T,I){if(typeof Z=="string")return E(Z,T);if(ArrayBuffer.isView(Z))return k(Z);if(Z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z);if(me(Z,ArrayBuffer)||Z&&me(Z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(Z,SharedArrayBuffer)||Z&&me(Z.buffer,SharedArrayBuffer)))return w(Z,T,I);if(typeof Z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const X=Z.valueOf&&Z.valueOf();if(X!=null&&X!==Z)return u.from(X,T,I);const fe=b(Z);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Z[Symbol.toPrimitive]=="function")return u.from(Z[Symbol.toPrimitive]("string"),T,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}u.from=function(Z,T,I){return f(Z,T,I)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function m(Z){if(typeof Z!="number")throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function y(Z,T,I){return m(Z),Z<=0?c(Z):T!==void 0?typeof I=="string"?c(Z).fill(T,I):c(Z).fill(T):c(Z)}u.alloc=function(Z,T,I){return y(Z,T,I)};function g(Z){return m(Z),c(Z<0?0:S(Z)|0)}u.allocUnsafe=function(Z){return g(Z)},u.allocUnsafeSlow=function(Z){return g(Z)};function E(Z,T){if((typeof T!="string"||T==="")&&(T="utf8"),!u.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const I=R(Z,T)|0;let X=c(I);const fe=X.write(Z,T);return fe!==I&&(X=X.slice(0,fe)),X}function _(Z){const T=Z.length<0?0:S(Z.length)|0,I=c(T);for(let X=0;X<T;X+=1)I[X]=Z[X]&255;return I}function k(Z){if(me(Z,Uint8Array)){const T=new Uint8Array(Z);return w(T.buffer,T.byteOffset,T.byteLength)}return _(Z)}function w(Z,T,I){if(T<0||Z.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<T+(I||0))throw new RangeError('"length" is outside of buffer bounds');let X;return T===void 0&&I===void 0?X=new Uint8Array(Z):I===void 0?X=new Uint8Array(Z,T):X=new Uint8Array(Z,T,I),Object.setPrototypeOf(X,u.prototype),X}function b(Z){if(u.isBuffer(Z)){const T=S(Z.length)|0,I=c(T);return I.length===0||Z.copy(I,0,0,T),I}if(Z.length!==void 0)return typeof Z.length!="number"||Me(Z.length)?c(0):_(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return _(Z.data)}function S(Z){if(Z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Z|0}function P(Z){return+Z!=Z&&(Z=0),u.alloc(+Z)}u.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==u.prototype},u.compare=function(T,I){if(me(T,Uint8Array)&&(T=u.from(T,T.offset,T.byteLength)),me(I,Uint8Array)&&(I=u.from(I,I.offset,I.byteLength)),!u.isBuffer(T)||!u.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===I)return 0;let X=T.length,fe=I.length;for(let xe=0,Se=Math.min(X,fe);xe<Se;++xe)if(T[xe]!==I[xe]){X=T[xe],fe=I[xe];break}return X<fe?-1:fe<X?1:0},u.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(T,I){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return u.alloc(0);let X;if(I===void 0)for(I=0,X=0;X<T.length;++X)I+=T[X].length;const fe=u.allocUnsafe(I);let xe=0;for(X=0;X<T.length;++X){let Se=T[X];if(me(Se,Uint8Array))xe+Se.length>fe.length?(u.isBuffer(Se)||(Se=u.from(Se)),Se.copy(fe,xe)):Uint8Array.prototype.set.call(fe,Se,xe);else if(u.isBuffer(Se))Se.copy(fe,xe);else throw new TypeError('"list" argument must be an Array of Buffers');xe+=Se.length}return fe};function R(Z,T){if(u.isBuffer(Z))return Z.length;if(ArrayBuffer.isView(Z)||me(Z,ArrayBuffer))return Z.byteLength;if(typeof Z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);const I=Z.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&I===0)return 0;let fe=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return ie(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return Te(Z).length;default:if(fe)return X?-1:ie(Z).length;T=(""+T).toLowerCase(),fe=!0}}u.byteLength=R;function D(Z,T,I){let X=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,T>>>=0,I<=T))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return ee(this,T,I);case"utf8":case"utf-8":return M(this,T,I);case"ascii":return oe(this,T,I);case"latin1":case"binary":return ne(this,T,I);case"base64":return re(this,T,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,T,I);default:if(X)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),X=!0}}u.prototype._isBuffer=!0;function B(Z,T,I){const X=Z[T];Z[T]=Z[I],Z[I]=X}u.prototype.swap16=function(){const T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let I=0;I<T;I+=2)B(this,I,I+1);return this},u.prototype.swap32=function(){const T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let I=0;I<T;I+=4)B(this,I,I+3),B(this,I+1,I+2);return this},u.prototype.swap64=function(){const T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let I=0;I<T;I+=8)B(this,I,I+7),B(this,I+1,I+6),B(this,I+2,I+5),B(this,I+3,I+4);return this},u.prototype.toString=function(){const T=this.length;return T===0?"":arguments.length===0?M(this,0,T):D.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(T){if(!u.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:u.compare(this,T)===0},u.prototype.inspect=function(){let T="";const I=e.INSPECT_MAX_BYTES;return T=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(T+=" ... "),"<Buffer "+T+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(T,I,X,fe,xe){if(me(T,Uint8Array)&&(T=u.from(T,T.offset,T.byteLength)),!u.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(I===void 0&&(I=0),X===void 0&&(X=T?T.length:0),fe===void 0&&(fe=0),xe===void 0&&(xe=this.length),I<0||X>T.length||fe<0||xe>this.length)throw new RangeError("out of range index");if(fe>=xe&&I>=X)return 0;if(fe>=xe)return-1;if(I>=X)return 1;if(I>>>=0,X>>>=0,fe>>>=0,xe>>>=0,this===T)return 0;let Se=xe-fe,ct=X-I;const Ot=Math.min(Se,ct),vt=this.slice(fe,xe),Ct=T.slice(I,X);for(let Nt=0;Nt<Ot;++Nt)if(vt[Nt]!==Ct[Nt]){Se=vt[Nt],ct=Ct[Nt];break}return Se<ct?-1:ct<Se?1:0};function q(Z,T,I,X,fe){if(Z.length===0)return-1;if(typeof I=="string"?(X=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,Me(I)&&(I=fe?0:Z.length-1),I<0&&(I=Z.length+I),I>=Z.length){if(fe)return-1;I=Z.length-1}else if(I<0)if(fe)I=0;else return-1;if(typeof T=="string"&&(T=u.from(T,X)),u.isBuffer(T))return T.length===0?-1:G(Z,T,I,X,fe);if(typeof T=="number")return T=T&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(Z,T,I):Uint8Array.prototype.lastIndexOf.call(Z,T,I):G(Z,[T],I,X,fe);throw new TypeError("val must be string, number or Buffer")}function G(Z,T,I,X,fe){let xe=1,Se=Z.length,ct=T.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(Z.length<2||T.length<2)return-1;xe=2,Se/=2,ct/=2,I/=2}function Ot(Ct,Nt){return xe===1?Ct[Nt]:Ct.readUInt16BE(Nt*xe)}let vt;if(fe){let Ct=-1;for(vt=I;vt<Se;vt++)if(Ot(Z,vt)===Ot(T,Ct===-1?0:vt-Ct)){if(Ct===-1&&(Ct=vt),vt-Ct+1===ct)return Ct*xe}else Ct!==-1&&(vt-=vt-Ct),Ct=-1}else for(I+ct>Se&&(I=Se-ct),vt=I;vt>=0;vt--){let Ct=!0;for(let Nt=0;Nt<ct;Nt++)if(Ot(Z,vt+Nt)!==Ot(T,Nt)){Ct=!1;break}if(Ct)return vt}return-1}u.prototype.includes=function(T,I,X){return this.indexOf(T,I,X)!==-1},u.prototype.indexOf=function(T,I,X){return q(this,T,I,X,!0)},u.prototype.lastIndexOf=function(T,I,X){return q(this,T,I,X,!1)};function J(Z,T,I,X){I=Number(I)||0;const fe=Z.length-I;X?(X=Number(X),X>fe&&(X=fe)):X=fe;const xe=T.length;X>xe/2&&(X=xe/2);let Se;for(Se=0;Se<X;++Se){const ct=parseInt(T.substr(Se*2,2),16);if(Me(ct))return Se;Z[I+Se]=ct}return Se}function V(Z,T,I,X){return je(ie(T,Z.length-I),Z,I,X)}function Y(Z,T,I,X){return je(te(T),Z,I,X)}function Q(Z,T,I,X){return je(Te(T),Z,I,X)}function U(Z,T,I,X){return je(pe(T,Z.length-I),Z,I,X)}u.prototype.write=function(T,I,X,fe){if(I===void 0)fe="utf8",X=this.length,I=0;else if(X===void 0&&typeof I=="string")fe=I,X=this.length,I=0;else if(isFinite(I))I=I>>>0,isFinite(X)?(X=X>>>0,fe===void 0&&(fe="utf8")):(fe=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const xe=this.length-I;if((X===void 0||X>xe)&&(X=xe),T.length>0&&(X<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Se=!1;for(;;)switch(fe){case"hex":return J(this,T,I,X);case"utf8":case"utf-8":return V(this,T,I,X);case"ascii":case"latin1":case"binary":return Y(this,T,I,X);case"base64":return Q(this,T,I,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,T,I,X);default:if(Se)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Se=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(Z,T,I){return T===0&&I===Z.length?t.fromByteArray(Z):t.fromByteArray(Z.slice(T,I))}function M(Z,T,I){I=Math.min(Z.length,I);const X=[];let fe=T;for(;fe<I;){const xe=Z[fe];let Se=null,ct=xe>239?4:xe>223?3:xe>191?2:1;if(fe+ct<=I){let Ot,vt,Ct,Nt;switch(ct){case 1:xe<128&&(Se=xe);break;case 2:Ot=Z[fe+1],(Ot&192)===128&&(Nt=(xe&31)<<6|Ot&63,Nt>127&&(Se=Nt));break;case 3:Ot=Z[fe+1],vt=Z[fe+2],(Ot&192)===128&&(vt&192)===128&&(Nt=(xe&15)<<12|(Ot&63)<<6|vt&63,Nt>2047&&(Nt<55296||Nt>57343)&&(Se=Nt));break;case 4:Ot=Z[fe+1],vt=Z[fe+2],Ct=Z[fe+3],(Ot&192)===128&&(vt&192)===128&&(Ct&192)===128&&(Nt=(xe&15)<<18|(Ot&63)<<12|(vt&63)<<6|Ct&63,Nt>65535&&Nt<1114112&&(Se=Nt))}}Se===null?(Se=65533,ct=1):Se>65535&&(Se-=65536,X.push(Se>>>10&1023|55296),Se=56320|Se&1023),X.push(Se),fe+=ct}return ae(X)}const W=4096;function ae(Z){const T=Z.length;if(T<=W)return String.fromCharCode.apply(String,Z);let I="",X=0;for(;X<T;)I+=String.fromCharCode.apply(String,Z.slice(X,X+=W));return I}function oe(Z,T,I){let X="";I=Math.min(Z.length,I);for(let fe=T;fe<I;++fe)X+=String.fromCharCode(Z[fe]&127);return X}function ne(Z,T,I){let X="";I=Math.min(Z.length,I);for(let fe=T;fe<I;++fe)X+=String.fromCharCode(Z[fe]);return X}function ee(Z,T,I){const X=Z.length;(!T||T<0)&&(T=0),(!I||I<0||I>X)&&(I=X);let fe="";for(let xe=T;xe<I;++xe)fe+=He[Z[xe]];return fe}function le(Z,T,I){const X=Z.slice(T,I);let fe="";for(let xe=0;xe<X.length-1;xe+=2)fe+=String.fromCharCode(X[xe]+X[xe+1]*256);return fe}u.prototype.slice=function(T,I){const X=this.length;T=~~T,I=I===void 0?X:~~I,T<0?(T+=X,T<0&&(T=0)):T>X&&(T=X),I<0?(I+=X,I<0&&(I=0)):I>X&&(I=X),I<T&&(I=T);const fe=this.subarray(T,I);return Object.setPrototypeOf(fe,u.prototype),fe};function F(Z,T,I){if(Z%1!==0||Z<0)throw new RangeError("offset is not uint");if(Z+T>I)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(T,I,X){T=T>>>0,I=I>>>0,X||F(T,I,this.length);let fe=this[T],xe=1,Se=0;for(;++Se<I&&(xe*=256);)fe+=this[T+Se]*xe;return fe},u.prototype.readUintBE=u.prototype.readUIntBE=function(T,I,X){T=T>>>0,I=I>>>0,X||F(T,I,this.length);let fe=this[T+--I],xe=1;for(;I>0&&(xe*=256);)fe+=this[T+--I]*xe;return fe},u.prototype.readUint8=u.prototype.readUInt8=function(T,I){return T=T>>>0,I||F(T,1,this.length),this[T]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(T,I){return T=T>>>0,I||F(T,2,this.length),this[T]|this[T+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(T,I){return T=T>>>0,I||F(T,2,this.length),this[T]<<8|this[T+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(T,I){return T=T>>>0,I||F(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(T,I){return T=T>>>0,I||F(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},u.prototype.readBigUInt64LE=Oe(function(T){T=T>>>0,ht(T,"offset");const I=this[T],X=this[T+7];(I===void 0||X===void 0)&&z(T,this.length-8);const fe=I+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,xe=this[++T]+this[++T]*2**8+this[++T]*2**16+X*2**24;return BigInt(fe)+(BigInt(xe)<<BigInt(32))}),u.prototype.readBigUInt64BE=Oe(function(T){T=T>>>0,ht(T,"offset");const I=this[T],X=this[T+7];(I===void 0||X===void 0)&&z(T,this.length-8);const fe=I*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],xe=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+X;return(BigInt(fe)<<BigInt(32))+BigInt(xe)}),u.prototype.readIntLE=function(T,I,X){T=T>>>0,I=I>>>0,X||F(T,I,this.length);let fe=this[T],xe=1,Se=0;for(;++Se<I&&(xe*=256);)fe+=this[T+Se]*xe;return xe*=128,fe>=xe&&(fe-=Math.pow(2,8*I)),fe},u.prototype.readIntBE=function(T,I,X){T=T>>>0,I=I>>>0,X||F(T,I,this.length);let fe=I,xe=1,Se=this[T+--fe];for(;fe>0&&(xe*=256);)Se+=this[T+--fe]*xe;return xe*=128,Se>=xe&&(Se-=Math.pow(2,8*I)),Se},u.prototype.readInt8=function(T,I){return T=T>>>0,I||F(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},u.prototype.readInt16LE=function(T,I){T=T>>>0,I||F(T,2,this.length);const X=this[T]|this[T+1]<<8;return X&32768?X|4294901760:X},u.prototype.readInt16BE=function(T,I){T=T>>>0,I||F(T,2,this.length);const X=this[T+1]|this[T]<<8;return X&32768?X|4294901760:X},u.prototype.readInt32LE=function(T,I){return T=T>>>0,I||F(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},u.prototype.readInt32BE=function(T,I){return T=T>>>0,I||F(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},u.prototype.readBigInt64LE=Oe(function(T){T=T>>>0,ht(T,"offset");const I=this[T],X=this[T+7];(I===void 0||X===void 0)&&z(T,this.length-8);const fe=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(X<<24);return(BigInt(fe)<<BigInt(32))+BigInt(I+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)}),u.prototype.readBigInt64BE=Oe(function(T){T=T>>>0,ht(T,"offset");const I=this[T],X=this[T+7];(I===void 0||X===void 0)&&z(T,this.length-8);const fe=(I<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(fe)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+X)}),u.prototype.readFloatLE=function(T,I){return T=T>>>0,I||F(T,4,this.length),n.read(this,T,!0,23,4)},u.prototype.readFloatBE=function(T,I){return T=T>>>0,I||F(T,4,this.length),n.read(this,T,!1,23,4)},u.prototype.readDoubleLE=function(T,I){return T=T>>>0,I||F(T,8,this.length),n.read(this,T,!0,52,8)},u.prototype.readDoubleBE=function(T,I){return T=T>>>0,I||F(T,8,this.length),n.read(this,T,!1,52,8)};function K(Z,T,I,X,fe,xe){if(!u.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>fe||T<xe)throw new RangeError('"value" argument is out of bounds');if(I+X>Z.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(T,I,X,fe){if(T=+T,I=I>>>0,X=X>>>0,!fe){const ct=Math.pow(2,8*X)-1;K(this,T,I,X,ct,0)}let xe=1,Se=0;for(this[I]=T&255;++Se<X&&(xe*=256);)this[I+Se]=T/xe&255;return I+X},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(T,I,X,fe){if(T=+T,I=I>>>0,X=X>>>0,!fe){const ct=Math.pow(2,8*X)-1;K(this,T,I,X,ct,0)}let xe=X-1,Se=1;for(this[I+xe]=T&255;--xe>=0&&(Se*=256);)this[I+xe]=T/Se&255;return I+X},u.prototype.writeUint8=u.prototype.writeUInt8=function(T,I,X){return T=+T,I=I>>>0,X||K(this,T,I,1,255,0),this[I]=T&255,I+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(T,I,X){return T=+T,I=I>>>0,X||K(this,T,I,2,65535,0),this[I]=T&255,this[I+1]=T>>>8,I+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(T,I,X){return T=+T,I=I>>>0,X||K(this,T,I,2,65535,0),this[I]=T>>>8,this[I+1]=T&255,I+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(T,I,X){return T=+T,I=I>>>0,X||K(this,T,I,4,4294967295,0),this[I+3]=T>>>24,this[I+2]=T>>>16,this[I+1]=T>>>8,this[I]=T&255,I+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(T,I,X){return T=+T,I=I>>>0,X||K(this,T,I,4,4294967295,0),this[I]=T>>>24,this[I+1]=T>>>16,this[I+2]=T>>>8,this[I+3]=T&255,I+4};function Ce(Z,T,I,X,fe){Rt(T,X,fe,Z,I,7);let xe=Number(T&BigInt(4294967295));Z[I++]=xe,xe=xe>>8,Z[I++]=xe,xe=xe>>8,Z[I++]=xe,xe=xe>>8,Z[I++]=xe;let Se=Number(T>>BigInt(32)&BigInt(4294967295));return Z[I++]=Se,Se=Se>>8,Z[I++]=Se,Se=Se>>8,Z[I++]=Se,Se=Se>>8,Z[I++]=Se,I}function be(Z,T,I,X,fe){Rt(T,X,fe,Z,I,7);let xe=Number(T&BigInt(4294967295));Z[I+7]=xe,xe=xe>>8,Z[I+6]=xe,xe=xe>>8,Z[I+5]=xe,xe=xe>>8,Z[I+4]=xe;let Se=Number(T>>BigInt(32)&BigInt(4294967295));return Z[I+3]=Se,Se=Se>>8,Z[I+2]=Se,Se=Se>>8,Z[I+1]=Se,Se=Se>>8,Z[I]=Se,I+8}u.prototype.writeBigUInt64LE=Oe(function(T,I=0){return Ce(this,T,I,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Oe(function(T,I=0){return be(this,T,I,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(T,I,X,fe){if(T=+T,I=I>>>0,!fe){const Ot=Math.pow(2,8*X-1);K(this,T,I,X,Ot-1,-Ot)}let xe=0,Se=1,ct=0;for(this[I]=T&255;++xe<X&&(Se*=256);)T<0&&ct===0&&this[I+xe-1]!==0&&(ct=1),this[I+xe]=(T/Se>>0)-ct&255;return I+X},u.prototype.writeIntBE=function(T,I,X,fe){if(T=+T,I=I>>>0,!fe){const Ot=Math.pow(2,8*X-1);K(this,T,I,X,Ot-1,-Ot)}let xe=X-1,Se=1,ct=0;for(this[I+xe]=T&255;--xe>=0&&(Se*=256);)T<0&&ct===0&&this[I+xe+1]!==0&&(ct=1),this[I+xe]=(T/Se>>0)-ct&255;return I+X},u.prototype.writeInt8=function(T,I,X){return T=+T,I=I>>>0,X||K(this,T,I,1,127,-128),T<0&&(T=255+T+1),this[I]=T&255,I+1},u.prototype.writeInt16LE=function(T,I,X){return T=+T,I=I>>>0,X||K(this,T,I,2,32767,-32768),this[I]=T&255,this[I+1]=T>>>8,I+2},u.prototype.writeInt16BE=function(T,I,X){return T=+T,I=I>>>0,X||K(this,T,I,2,32767,-32768),this[I]=T>>>8,this[I+1]=T&255,I+2},u.prototype.writeInt32LE=function(T,I,X){return T=+T,I=I>>>0,X||K(this,T,I,4,2147483647,-2147483648),this[I]=T&255,this[I+1]=T>>>8,this[I+2]=T>>>16,this[I+3]=T>>>24,I+4},u.prototype.writeInt32BE=function(T,I,X){return T=+T,I=I>>>0,X||K(this,T,I,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[I]=T>>>24,this[I+1]=T>>>16,this[I+2]=T>>>8,this[I+3]=T&255,I+4},u.prototype.writeBigInt64LE=Oe(function(T,I=0){return Ce(this,T,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Oe(function(T,I=0){return be(this,T,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function we(Z,T,I,X,fe,xe){if(I+X>Z.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function Re(Z,T,I,X,fe){return T=+T,I=I>>>0,fe||we(Z,T,I,4),n.write(Z,T,I,X,23,4),I+4}u.prototype.writeFloatLE=function(T,I,X){return Re(this,T,I,!0,X)},u.prototype.writeFloatBE=function(T,I,X){return Re(this,T,I,!1,X)};function Ue(Z,T,I,X,fe){return T=+T,I=I>>>0,fe||we(Z,T,I,8),n.write(Z,T,I,X,52,8),I+8}u.prototype.writeDoubleLE=function(T,I,X){return Ue(this,T,I,!0,X)},u.prototype.writeDoubleBE=function(T,I,X){return Ue(this,T,I,!1,X)},u.prototype.copy=function(T,I,X,fe){if(!u.isBuffer(T))throw new TypeError("argument should be a Buffer");if(X||(X=0),!fe&&fe!==0&&(fe=this.length),I>=T.length&&(I=T.length),I||(I=0),fe>0&&fe<X&&(fe=X),fe===X||T.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),T.length-I<fe-X&&(fe=T.length-I+X);const xe=fe-X;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(I,X,fe):Uint8Array.prototype.set.call(T,this.subarray(X,fe),I),xe},u.prototype.fill=function(T,I,X,fe){if(typeof T=="string"){if(typeof I=="string"?(fe=I,I=0,X=this.length):typeof X=="string"&&(fe=X,X=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!u.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(T.length===1){const Se=T.charCodeAt(0);(fe==="utf8"&&Se<128||fe==="latin1")&&(T=Se)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(I<0||this.length<I||this.length<X)throw new RangeError("Out of range index");if(X<=I)return this;I=I>>>0,X=X===void 0?this.length:X>>>0,T||(T=0);let xe;if(typeof T=="number")for(xe=I;xe<X;++xe)this[xe]=T;else{const Se=u.isBuffer(T)?T:u.from(T,fe),ct=Se.length;if(ct===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(xe=0;xe<X-I;++xe)this[xe+I]=Se[xe%ct]}return this};const De={};function Fe(Z,T,I){De[Z]=class extends I{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Z}]`,this.stack,delete this.name}get code(){return Z}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${Z}]: ${this.message}`}}}Fe("ERR_BUFFER_OUT_OF_BOUNDS",function(Z){return Z?`${Z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Fe("ERR_INVALID_ARG_TYPE",function(Z,T){return`The "${Z}" argument must be of type number. Received type ${typeof T}`},TypeError),Fe("ERR_OUT_OF_RANGE",function(Z,T,I){let X=`The value of "${Z}" is out of range.`,fe=I;return Number.isInteger(I)&&Math.abs(I)>2**32?fe=it(String(I)):typeof I=="bigint"&&(fe=String(I),(I>BigInt(2)**BigInt(32)||I<-(BigInt(2)**BigInt(32)))&&(fe=it(fe)),fe+="n"),X+=` It must be ${T}. Received ${fe}`,X},RangeError);function it(Z){let T="",I=Z.length;const X=Z[0]==="-"?1:0;for(;I>=X+4;I-=3)T=`_${Z.slice(I-3,I)}${T}`;return`${Z.slice(0,I)}${T}`}function wt(Z,T,I){ht(T,"offset"),(Z[T]===void 0||Z[T+I]===void 0)&&z(T,Z.length-(I+1))}function Rt(Z,T,I,X,fe,xe){if(Z>I||Z<T){const Se=typeof T=="bigint"?"n":"";let ct;throw T===0||T===BigInt(0)?ct=`>= 0${Se} and < 2${Se} ** ${(xe+1)*8}${Se}`:ct=`>= -(2${Se} ** ${(xe+1)*8-1}${Se}) and < 2 ** ${(xe+1)*8-1}${Se}`,new De.ERR_OUT_OF_RANGE("value",ct,Z)}wt(X,fe,xe)}function ht(Z,T){if(typeof Z!="number")throw new De.ERR_INVALID_ARG_TYPE(T,"number",Z)}function z(Z,T,I){throw Math.floor(Z)!==Z?(ht(Z,I),new De.ERR_OUT_OF_RANGE("offset","an integer",Z)):T<0?new De.ERR_BUFFER_OUT_OF_BOUNDS:new De.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${T}`,Z)}const Ne=/[^+/0-9A-Za-z-_]/g;function ke(Z){if(Z=Z.split("=")[0],Z=Z.trim().replace(Ne,""),Z.length<2)return"";for(;Z.length%4!==0;)Z=Z+"=";return Z}function ie(Z,T){T=T||1/0;let I;const X=Z.length;let fe=null;const xe=[];for(let Se=0;Se<X;++Se){if(I=Z.charCodeAt(Se),I>55295&&I<57344){if(!fe){if(I>56319){(T-=3)>-1&&xe.push(239,191,189);continue}else if(Se+1===X){(T-=3)>-1&&xe.push(239,191,189);continue}fe=I;continue}if(I<56320){(T-=3)>-1&&xe.push(239,191,189),fe=I;continue}I=(fe-55296<<10|I-56320)+65536}else fe&&(T-=3)>-1&&xe.push(239,191,189);if(fe=null,I<128){if((T-=1)<0)break;xe.push(I)}else if(I<2048){if((T-=2)<0)break;xe.push(I>>6|192,I&63|128)}else if(I<65536){if((T-=3)<0)break;xe.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((T-=4)<0)break;xe.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return xe}function te(Z){const T=[];for(let I=0;I<Z.length;++I)T.push(Z.charCodeAt(I)&255);return T}function pe(Z,T){let I,X,fe;const xe=[];for(let Se=0;Se<Z.length&&!((T-=2)<0);++Se)I=Z.charCodeAt(Se),X=I>>8,fe=I%256,xe.push(fe),xe.push(X);return xe}function Te(Z){return t.toByteArray(ke(Z))}function je(Z,T,I,X){let fe;for(fe=0;fe<X&&!(fe+I>=T.length||fe>=Z.length);++fe)T[fe+I]=Z[fe];return fe}function me(Z,T){return Z instanceof T||Z!=null&&Z.constructor!=null&&Z.constructor.name!=null&&Z.constructor.name===T.name}function Me(Z){return Z!==Z}const He=function(){const Z="0123456789abcdef",T=new Array(256);for(let I=0;I<16;++I){const X=I*16;for(let fe=0;fe<16;++fe)T[X+fe]=Z[I]+Z[fe]}return T}();function Oe(Z){return typeof BigInt>"u"?Qe:Z}function Qe(){throw new Error("BigInt not supported")}}(Sg)),Sg}var cj=lj();const uj=rp(cj);globalThis.Buffer||(globalThis.Buffer=uj.Buffer);AbortSignal.any||(AbortSignal.any=function(e){if(e.length===0)return new AbortController().signal;if(e.length===1)return e[0];for(const r of e)if(r.aborted){const i=new AbortController;return i.abort(r.reason),i.signal}const t=new AbortController,n=r=>{const i=r.target;t.abort(i.reason)};for(const r of e)r.addEventListener("abort",n,{once:!0});return t.signal.addEventListener("abort",()=>{for(const r of e)r.removeEventListener("abort",n)},{once:!0}),t.signal});AbortSignal.timeout||(AbortSignal.timeout=function(e){const t=new AbortController;return setTimeout(()=>{t.abort(new DOMException("The operation was aborted due to timeout","TimeoutError"))},e),t.signal});var j=ip();const Ss=rp(j),wv=JT({__proto__:null,default:Ss},[j]);class dj extends j.Component{constructor(n){super(n);$e(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n,r;return this.state.hasError?this.props.fallback?this.props.fallback:p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:p.jsxs("div",{className:"max-w-md w-full space-y-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),p.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. The error has been reported."})]}),p.jsx("div",{className:"bg-muted p-4 rounded-lg",children:p.jsxs("details",{className:"text-sm",children:[p.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Error details"}),p.jsxs("div",{className:"mt-2 space-y-2",children:[p.jsxs("div",{children:[p.jsx("strong",{className:"text-foreground",children:"Message:"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:(n=this.state.error)==null?void 0:n.message})]}),((r=this.state.error)==null?void 0:r.stack)&&p.jsxs("div",{children:[p.jsx("strong",{className:"text-foreground",children:"Stack trace:"}),p.jsx("pre",{className:"text-xs text-muted-foreground mt-1 overflow-auto max-h-32",children:this.state.error.stack})]})]})]})}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try again"}),p.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload page"})]})]})}):this.props.children}}var Lc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qa=typeof window>"u"||"Deno"in globalThis;function Yr(){}function fj(e,t){return typeof e=="function"?e(t):e}function fy(e){return typeof e=="number"&&e>=0&&e!==1/0}function T1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function nc(e,t){return typeof e=="function"?e(t):e}function mi(e,t){return typeof e=="function"?e(t):e}function Yx(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:l,queryKey:c,stale:u}=e;if(c){if(r){if(t.queryHash!==xv(c,t.options))return!1}else if(!td(t.queryKey,c))return!1}if(n!=="all"){const f=t.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||l&&!l(t))}function Jx(e,t){const{exact:n,status:r,predicate:i,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Ka(t.options.mutationKey)!==Ka(l))return!1}else if(!td(t.options.mutationKey,l))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function xv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ka)(e)}function Ka(e){return JSON.stringify(e,(t,n)=>hy(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function td(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>td(e[n],t[n])):!1}function j1(e,t){if(e===t)return e;const n=Qx(e)&&Qx(t);if(n||hy(e)&&hy(t)){const r=n?e:Object.keys(e),i=r.length,l=n?t:Object.keys(t),c=l.length,u=n?[]:{};let f=0;for(let m=0;m<c;m++){const y=n?m:l[m];(!n&&r.includes(y)||n)&&e[y]===void 0&&t[y]===void 0?(u[y]=void 0,f++):(u[y]=j1(e[y],t[y]),u[y]===e[y]&&e[y]!==void 0&&f++)}return i===c&&f===i?e:u}return t}function Ph(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Qx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hy(e){if(!Xx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Xx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Xx(e){return Object.prototype.toString.call(e)==="[object Object]"}function hj(e){return new Promise(t=>{setTimeout(t,e)})}function py(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?j1(e,t):t}function pj(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function mj(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var _v=Symbol();function A1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===_v?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ma,Ps,cc,g1,gj=(g1=class extends Lc{constructor(){super();tt(this,Ma);tt(this,Ps);tt(this,cc);We(this,cc,t=>{if(!qa&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,Ps)||this.setEventListener(ue(this,cc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Ps))==null||t.call(this),We(this,Ps,void 0))}setEventListener(t){var n;We(this,cc,t),(n=ue(this,Ps))==null||n.call(this),We(this,Ps,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ue(this,Ma)!==t&&(We(this,Ma,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ue(this,Ma)=="boolean"?ue(this,Ma):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ma=new WeakMap,Ps=new WeakMap,cc=new WeakMap,g1),bv=new gj,uc,Ts,dc,y1,yj=(y1=class extends Lc{constructor(){super();tt(this,uc,!0);tt(this,Ts);tt(this,dc);We(this,dc,t=>{if(!qa&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ue(this,Ts)||this.setEventListener(ue(this,dc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Ts))==null||t.call(this),We(this,Ts,void 0))}setEventListener(t){var n;We(this,dc,t),(n=ue(this,Ts))==null||n.call(this),We(this,Ts,t(this.setOnline.bind(this)))}setOnline(t){ue(this,uc)!==t&&(We(this,uc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ue(this,uc)}},uc=new WeakMap,Ts=new WeakMap,dc=new WeakMap,y1),Th=new yj;function my(){let e,t;const n=new Promise((i,l)=>{e=i,t=l});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function vj(e){return Math.min(1e3*2**e,3e4)}function R1(e){return(e??"online")==="online"?Th.isOnline():!0}var I1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Cg(e){return e instanceof I1}function L1(e){let t=!1,n=0,r=!1,i;const l=my(),c=w=>{var b;r||(E(new I1(w)),(b=e.abort)==null||b.call(e))},u=()=>{t=!0},f=()=>{t=!1},m=()=>bv.isFocused()&&(e.networkMode==="always"||Th.isOnline())&&e.canRun(),y=()=>R1(e.networkMode)&&e.canRun(),g=w=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,w),i==null||i(),l.resolve(w))},E=w=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,w),i==null||i(),l.reject(w))},_=()=>new Promise(w=>{var b;i=S=>{(r||m())&&w(S)},(b=e.onPause)==null||b.call(e)}).then(()=>{var w;i=void 0,r||(w=e.onContinue)==null||w.call(e)}),k=()=>{if(r)return;let w;const b=n===0?e.initialPromise:void 0;try{w=b??e.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(g).catch(S=>{var q;if(r)return;const P=e.retry??(qa?0:3),R=e.retryDelay??vj,D=typeof R=="function"?R(n,S):R,B=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,S);if(t||!B){E(S);return}n++,(q=e.onFail)==null||q.call(e,n,S),hj(D).then(()=>m()?void 0:_()).then(()=>{t?E(S):k()})})};return{promise:l,cancel:c,continue:()=>(i==null||i(),l),cancelRetry:u,continueRetry:f,canStart:y,start:()=>(y()?k():_().then(k),l)}}var wj=e=>setTimeout(e,0);function xj(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=wj;const l=u=>{t?e.push(u):i(()=>{n(u)})},c=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(f=>{n(f)})})})};return{batch:u=>{let f;t++;try{f=u()}finally{t--,t||c()}return f},batchCalls:u=>(...f)=>{l(()=>{u(...f)})},schedule:l,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var kn=xj(),za,v1,O1=(v1=class{constructor(){tt(this,za)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fy(this.gcTime)&&We(this,za,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qa?1/0:5*60*1e3))}clearGcTimeout(){ue(this,za)&&(clearTimeout(ue(this,za)),We(this,za,void 0))}},za=new WeakMap,v1),fc,hc,Gr,Da,Un,wd,Ba,hi,go,w1,_j=(w1=class extends O1{constructor(t){super();tt(this,hi);tt(this,fc);tt(this,hc);tt(this,Gr);tt(this,Da);tt(this,Un);tt(this,wd);tt(this,Ba);We(this,Ba,!1),We(this,wd,t.defaultOptions),this.setOptions(t.options),this.observers=[],We(this,Da,t.client),We(this,Gr,ue(this,Da).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,We(this,fc,bj(this.options)),this.state=t.state??ue(this,fc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,Un))==null?void 0:t.promise}setOptions(t){this.options={...ue(this,wd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,Gr).remove(this)}setData(t,n){const r=py(this.state.data,t,this.options);return mt(this,hi,go).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){mt(this,hi,go).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ue(this,Un))==null?void 0:r.promise;return(i=ue(this,Un))==null||i.cancel(t),n?n.then(Yr).catch(Yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,fc))}isActive(){return this.observers.some(t=>mi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_v||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!T1(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Un))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Un))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,Gr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ue(this,Un)&&(ue(this,Ba)?ue(this,Un).cancel({revert:!0}):ue(this,Un).cancelRetry()),this.scheduleGc()),ue(this,Gr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,hi,go).call(this,{type:"invalidate"})}fetch(t,n){var f,m,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Un))return ue(this,Un).continueRetry(),ue(this,Un).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(E=>E.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(We(this,Ba,!0),r.signal)})},l=()=>{const g=A1(this.options,n),E={client:ue(this,Da),queryKey:this.queryKey,meta:this.meta};return i(E),We(this,Ba,!1),this.options.persister?this.options.persister(g,E,this):g(E)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,Da),state:this.state,fetchFn:l};i(c),(f=this.options.behavior)==null||f.onFetch(c,this),We(this,hc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&mt(this,hi,go).call(this,{type:"fetch",meta:(y=c.fetchOptions)==null?void 0:y.meta});const u=g=>{var E,_,k,w;Cg(g)&&g.silent||mt(this,hi,go).call(this,{type:"error",error:g}),Cg(g)||((_=(E=ue(this,Gr).config).onError)==null||_.call(E,g,this),(w=(k=ue(this,Gr).config).onSettled)==null||w.call(k,this.state.data,g,this)),this.scheduleGc()};return We(this,Un,L1({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var E,_,k,w;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(b){u(b);return}(_=(E=ue(this,Gr).config).onSuccess)==null||_.call(E,g,this),(w=(k=ue(this,Gr).config).onSettled)==null||w.call(k,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,E)=>{mt(this,hi,go).call(this,{type:"failed",failureCount:g,error:E})},onPause:()=>{mt(this,hi,go).call(this,{type:"pause"})},onContinue:()=>{mt(this,hi,go).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),ue(this,Un).start()}},fc=new WeakMap,hc=new WeakMap,Gr=new WeakMap,Da=new WeakMap,Un=new WeakMap,wd=new WeakMap,Ba=new WeakMap,hi=new WeakSet,go=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...M1(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Cg(i)&&i.revert&&ue(this,hc)?{...ue(this,hc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),kn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ue(this,Gr).notify({query:this,type:"updated",action:t})})},w1);function M1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:R1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function bj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zi,x1,Ej=(x1=class extends Lc{constructor(t={}){super();tt(this,zi);this.config=t,We(this,zi,new Map)}build(t,n,r){const i=n.queryKey,l=n.queryHash??xv(i,n);let c=this.get(l);return c||(c=new _j({client:t,queryKey:i,queryHash:l,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(c)),c}add(t){ue(this,zi).has(t.queryHash)||(ue(this,zi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ue(this,zi).get(t.queryHash);n&&(t.destroy(),n===t&&ue(this,zi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,zi).get(t)}getAll(){return[...ue(this,zi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Yx(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Yx(t,r)):n}notify(t){kn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zi=new WeakMap,x1),Di,Qn,Fa,Bi,Cs,_1,kj=(_1=class extends O1{constructor(t){super();tt(this,Bi);tt(this,Di);tt(this,Qn);tt(this,Fa);this.mutationId=t.mutationId,We(this,Qn,t.mutationCache),We(this,Di,[]),this.state=t.state||z1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,Di).includes(t)||(ue(this,Di).push(t),this.clearGcTimeout(),ue(this,Qn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){We(this,Di,ue(this,Di).filter(n=>n!==t)),this.scheduleGc(),ue(this,Qn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,Di).length||(this.state.status==="pending"?this.scheduleGc():ue(this,Qn).remove(this))}continue(){var t;return((t=ue(this,Fa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,c,u,f,m,y,g,E,_,k,w,b,S,P,R,D,B,q,G,J;const n=()=>{mt(this,Bi,Cs).call(this,{type:"continue"})};We(this,Fa,L1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(V,Y)=>{mt(this,Bi,Cs).call(this,{type:"failed",failureCount:V,error:Y})},onPause:()=>{mt(this,Bi,Cs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,Qn).canRun(this)}));const r=this.state.status==="pending",i=!ue(this,Fa).canStart();try{if(r)n();else{mt(this,Bi,Cs).call(this,{type:"pending",variables:t,isPaused:i}),await((c=(l=ue(this,Qn).config).onMutate)==null?void 0:c.call(l,t,this));const Y=await((f=(u=this.options).onMutate)==null?void 0:f.call(u,t));Y!==this.state.context&&mt(this,Bi,Cs).call(this,{type:"pending",context:Y,variables:t,isPaused:i})}const V=await ue(this,Fa).start();return await((y=(m=ue(this,Qn).config).onSuccess)==null?void 0:y.call(m,V,t,this.state.context,this)),await((E=(g=this.options).onSuccess)==null?void 0:E.call(g,V,t,this.state.context)),await((k=(_=ue(this,Qn).config).onSettled)==null?void 0:k.call(_,V,null,this.state.variables,this.state.context,this)),await((b=(w=this.options).onSettled)==null?void 0:b.call(w,V,null,t,this.state.context)),mt(this,Bi,Cs).call(this,{type:"success",data:V}),V}catch(V){try{throw await((P=(S=ue(this,Qn).config).onError)==null?void 0:P.call(S,V,t,this.state.context,this)),await((D=(R=this.options).onError)==null?void 0:D.call(R,V,t,this.state.context)),await((q=(B=ue(this,Qn).config).onSettled)==null?void 0:q.call(B,void 0,V,this.state.variables,this.state.context,this)),await((J=(G=this.options).onSettled)==null?void 0:J.call(G,void 0,V,t,this.state.context)),V}finally{mt(this,Bi,Cs).call(this,{type:"error",error:V})}}finally{ue(this,Qn).runNext(this)}}},Di=new WeakMap,Qn=new WeakMap,Fa=new WeakMap,Bi=new WeakSet,Cs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kn.batch(()=>{ue(this,Di).forEach(r=>{r.onMutationUpdate(t)}),ue(this,Qn).notify({mutation:this,type:"updated",action:t})})},_1);function z1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wo,pi,xd,b1,Sj=(b1=class extends Lc{constructor(t={}){super();tt(this,wo);tt(this,pi);tt(this,xd);this.config=t,We(this,wo,new Set),We(this,pi,new Map),We(this,xd,0)}build(t,n,r){const i=new kj({mutationCache:this,mutationId:++eh(this,xd)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ue(this,wo).add(t);const n=ih(t);if(typeof n=="string"){const r=ue(this,pi).get(n);r?r.push(t):ue(this,pi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,wo).delete(t)){const n=ih(t);if(typeof n=="string"){const r=ue(this,pi).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ue(this,pi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ih(t);if(typeof n=="string"){const r=ue(this,pi).get(n),i=r==null?void 0:r.find(l=>l.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=ih(t);if(typeof n=="string"){const i=(r=ue(this,pi).get(n))==null?void 0:r.find(l=>l!==t&&l.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kn.batch(()=>{ue(this,wo).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,wo).clear(),ue(this,pi).clear()})}getAll(){return Array.from(ue(this,wo))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Jx(n,r))}findAll(t={}){return this.getAll().filter(n=>Jx(t,n))}notify(t){kn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return kn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Yr))))}},wo=new WeakMap,pi=new WeakMap,xd=new WeakMap,b1);function ih(e){var t;return(t=e.options.scope)==null?void 0:t.id}function e_(e){return{onFetch:(t,n)=>{var y,g,E,_,k;const r=t.options,i=(E=(g=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:g.fetchMore)==null?void 0:E.direction,l=((_=t.state.data)==null?void 0:_.pages)||[],c=((k=t.state.data)==null?void 0:k.pageParams)||[];let u={pages:[],pageParams:[]},f=0;const m=async()=>{let w=!1;const b=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},S=A1(t.options,t.fetchOptions),P=async(R,D,B)=>{if(w)return Promise.reject();if(D==null&&R.pages.length)return Promise.resolve(R);const q={client:t.client,queryKey:t.queryKey,pageParam:D,direction:B?"backward":"forward",meta:t.options.meta};b(q);const G=await S(q),{maxPages:J}=t.options,V=B?mj:pj;return{pages:V(R.pages,G,J),pageParams:V(R.pageParams,D,J)}};if(i&&l.length){const R=i==="backward",D=R?Cj:t_,B={pages:l,pageParams:c},q=D(r,B);u=await P(B,q,R)}else{const R=e??l.length;do{const D=f===0?c[0]??r.initialPageParam:t_(r,u);if(f>0&&D==null)break;u=await P(u,D),f++}while(f<R)}return u};t.options.persister?t.fetchFn=()=>{var w,b;return(b=(w=t.options).persister)==null?void 0:b.call(w,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=m}}}function t_(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Cj(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var fn,js,As,pc,mc,Rs,gc,yc,E1,Nj=(E1=class{constructor(e={}){tt(this,fn);tt(this,js);tt(this,As);tt(this,pc);tt(this,mc);tt(this,Rs);tt(this,gc);tt(this,yc);We(this,fn,e.queryCache||new Ej),We(this,js,e.mutationCache||new Sj),We(this,As,e.defaultOptions||{}),We(this,pc,new Map),We(this,mc,new Map),We(this,Rs,0)}mount(){eh(this,Rs)._++,ue(this,Rs)===1&&(We(this,gc,bv.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,fn).onFocus())})),We(this,yc,Th.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,fn).onOnline())})))}unmount(){var e,t;eh(this,Rs)._--,ue(this,Rs)===0&&((e=ue(this,gc))==null||e.call(this),We(this,gc,void 0),(t=ue(this,yc))==null||t.call(this),We(this,yc,void 0))}isFetching(e){return ue(this,fn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,js).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,fn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ue(this,fn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(nc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ue(this,fn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ue(this,fn).get(r.queryHash),l=i==null?void 0:i.state.data,c=fj(t,l);if(c!==void 0)return ue(this,fn).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return kn.batch(()=>ue(this,fn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,fn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ue(this,fn);kn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ue(this,fn);return kn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=kn.batch(()=>ue(this,fn).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Yr).catch(Yr)}invalidateQueries(e,t={}){return kn.batch(()=>(ue(this,fn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=kn.batch(()=>ue(this,fn).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let l=i.fetch(void 0,n);return n.throwOnError||(l=l.catch(Yr)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(Yr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ue(this,fn).build(this,t);return n.isStaleByTime(nc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Yr).catch(Yr)}fetchInfiniteQuery(e){return e.behavior=e_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Yr).catch(Yr)}ensureInfiniteQueryData(e){return e.behavior=e_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Th.isOnline()?ue(this,js).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,fn)}getMutationCache(){return ue(this,js)}getDefaultOptions(){return ue(this,As)}setDefaultOptions(e){We(this,As,e)}setQueryDefaults(e,t){ue(this,pc).set(Ka(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,pc).values()],n={};return t.forEach(r=>{td(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ue(this,mc).set(Ka(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,mc).values()],n={};return t.forEach(r=>{td(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,As).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===_v&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,As).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,fn).clear(),ue(this,js).clear()}},fn=new WeakMap,js=new WeakMap,As=new WeakMap,pc=new WeakMap,mc=new WeakMap,Rs=new WeakMap,gc=new WeakMap,yc=new WeakMap,E1),fr,Tt,_d,Xn,Ua,vc,Is,Ls,bd,wc,xc,$a,Za,Os,_c,Dt,Wu,gy,yy,vy,wy,xy,_y,by,D1,k1,Pj=(k1=class extends Lc{constructor(t,n){super();tt(this,Dt);tt(this,fr);tt(this,Tt);tt(this,_d);tt(this,Xn);tt(this,Ua);tt(this,vc);tt(this,Is);tt(this,Ls);tt(this,bd);tt(this,wc);tt(this,xc);tt(this,$a);tt(this,Za);tt(this,Os);tt(this,_c,new Set);this.options=n,We(this,fr,t),We(this,Ls,null),We(this,Is,my()),this.options.experimental_prefetchInRender||ue(this,Is).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,Tt).addObserver(this),n_(ue(this,Tt),this.options)?mt(this,Dt,Wu).call(this):this.updateResult(),mt(this,Dt,wy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ey(ue(this,Tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ey(ue(this,Tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,Dt,xy).call(this),mt(this,Dt,_y).call(this),ue(this,Tt).removeObserver(this)}setOptions(t){const n=this.options,r=ue(this,Tt);if(this.options=ue(this,fr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mi(this.options.enabled,ue(this,Tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,Dt,by).call(this),ue(this,Tt).setOptions(this.options),n._defaulted&&!Ph(this.options,n)&&ue(this,fr).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,Tt),observer:this});const i=this.hasListeners();i&&r_(ue(this,Tt),r,this.options,n)&&mt(this,Dt,Wu).call(this),this.updateResult(),i&&(ue(this,Tt)!==r||mi(this.options.enabled,ue(this,Tt))!==mi(n.enabled,ue(this,Tt))||nc(this.options.staleTime,ue(this,Tt))!==nc(n.staleTime,ue(this,Tt)))&&mt(this,Dt,gy).call(this);const l=mt(this,Dt,yy).call(this);i&&(ue(this,Tt)!==r||mi(this.options.enabled,ue(this,Tt))!==mi(n.enabled,ue(this,Tt))||l!==ue(this,Os))&&mt(this,Dt,vy).call(this,l)}getOptimisticResult(t){const n=ue(this,fr).getQueryCache().build(ue(this,fr),t),r=this.createResult(n,t);return jj(this,r)&&(We(this,Xn,r),We(this,vc,this.options),We(this,Ua,ue(this,Tt).state)),r}getCurrentResult(){return ue(this,Xn)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(t){ue(this,_c).add(t)}getCurrentQuery(){return ue(this,Tt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ue(this,fr).defaultQueryOptions(t),r=ue(this,fr).getQueryCache().build(ue(this,fr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return mt(this,Dt,Wu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,Xn)))}createResult(t,n){var V;const r=ue(this,Tt),i=this.options,l=ue(this,Xn),c=ue(this,Ua),u=ue(this,vc),m=t!==r?t.state:ue(this,_d),{state:y}=t;let g={...y},E=!1,_;if(n._optimisticResults){const Y=this.hasListeners(),Q=!Y&&n_(t,n),U=Y&&r_(t,r,n,i);(Q||U)&&(g={...g,...M1(y.data,t.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:k,errorUpdatedAt:w,status:b}=g;_=g.data;let S=!1;if(n.placeholderData!==void 0&&_===void 0&&b==="pending"){let Y;l!=null&&l.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(Y=l.data,S=!0):Y=typeof n.placeholderData=="function"?n.placeholderData((V=ue(this,xc))==null?void 0:V.state.data,ue(this,xc)):n.placeholderData,Y!==void 0&&(b="success",_=py(l==null?void 0:l.data,Y,n),E=!0)}if(n.select&&_!==void 0&&!S)if(l&&_===(c==null?void 0:c.data)&&n.select===ue(this,bd))_=ue(this,wc);else try{We(this,bd,n.select),_=n.select(_),_=py(l==null?void 0:l.data,_,n),We(this,wc,_),We(this,Ls,null)}catch(Y){We(this,Ls,Y)}ue(this,Ls)&&(k=ue(this,Ls),_=ue(this,wc),w=Date.now(),b="error");const P=g.fetchStatus==="fetching",R=b==="pending",D=b==="error",B=R&&P,q=_!==void 0,J={status:b,fetchStatus:g.fetchStatus,isPending:R,isSuccess:b==="success",isError:D,isInitialLoading:B,isLoading:B,data:_,dataUpdatedAt:g.dataUpdatedAt,error:k,errorUpdatedAt:w,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>m.dataUpdateCount||g.errorUpdateCount>m.errorUpdateCount,isFetching:P,isRefetching:P&&!R,isLoadingError:D&&!q,isPaused:g.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:D&&q,isStale:Ev(t,n),refetch:this.refetch,promise:ue(this,Is)};if(this.options.experimental_prefetchInRender){const Y=re=>{J.status==="error"?re.reject(J.error):J.data!==void 0&&re.resolve(J.data)},Q=()=>{const re=We(this,Is,J.promise=my());Y(re)},U=ue(this,Is);switch(U.status){case"pending":t.queryHash===r.queryHash&&Y(U);break;case"fulfilled":(J.status==="error"||J.data!==U.value)&&Q();break;case"rejected":(J.status!=="error"||J.error!==U.reason)&&Q();break}}return J}updateResult(){const t=ue(this,Xn),n=this.createResult(ue(this,Tt),this.options);if(We(this,Ua,ue(this,Tt).state),We(this,vc,this.options),ue(this,Ua).data!==void 0&&We(this,xc,ue(this,Tt)),Ph(n,t))return;We(this,Xn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!ue(this,_c).size)return!0;const c=new Set(l??ue(this,_c));return this.options.throwOnError&&c.add("error"),Object.keys(ue(this,Xn)).some(u=>{const f=u;return ue(this,Xn)[f]!==t[f]&&c.has(f)})};mt(this,Dt,D1).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,Dt,wy).call(this)}},fr=new WeakMap,Tt=new WeakMap,_d=new WeakMap,Xn=new WeakMap,Ua=new WeakMap,vc=new WeakMap,Is=new WeakMap,Ls=new WeakMap,bd=new WeakMap,wc=new WeakMap,xc=new WeakMap,$a=new WeakMap,Za=new WeakMap,Os=new WeakMap,_c=new WeakMap,Dt=new WeakSet,Wu=function(t){mt(this,Dt,by).call(this);let n=ue(this,Tt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Yr)),n},gy=function(){mt(this,Dt,xy).call(this);const t=nc(this.options.staleTime,ue(this,Tt));if(qa||ue(this,Xn).isStale||!fy(t))return;const r=T1(ue(this,Xn).dataUpdatedAt,t)+1;We(this,$a,setTimeout(()=>{ue(this,Xn).isStale||this.updateResult()},r))},yy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,Tt)):this.options.refetchInterval)??!1},vy=function(t){mt(this,Dt,_y).call(this),We(this,Os,t),!(qa||mi(this.options.enabled,ue(this,Tt))===!1||!fy(ue(this,Os))||ue(this,Os)===0)&&We(this,Za,setInterval(()=>{(this.options.refetchIntervalInBackground||bv.isFocused())&&mt(this,Dt,Wu).call(this)},ue(this,Os)))},wy=function(){mt(this,Dt,gy).call(this),mt(this,Dt,vy).call(this,mt(this,Dt,yy).call(this))},xy=function(){ue(this,$a)&&(clearTimeout(ue(this,$a)),We(this,$a,void 0))},_y=function(){ue(this,Za)&&(clearInterval(ue(this,Za)),We(this,Za,void 0))},by=function(){const t=ue(this,fr).getQueryCache().build(ue(this,fr),this.options);if(t===ue(this,Tt))return;const n=ue(this,Tt);We(this,Tt,t),We(this,_d,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},D1=function(t){kn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ue(this,Xn))}),ue(this,fr).getQueryCache().notify({query:ue(this,Tt),type:"observerResultsUpdated"})})},k1);function Tj(e,t){return mi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function n_(e,t){return Tj(e,t)||e.state.data!==void 0&&Ey(e,t,t.refetchOnMount)}function Ey(e,t,n){if(mi(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Ev(e,t)}return!1}function r_(e,t,n,r){return(e!==t||mi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ev(e,n)}function Ev(e,t){return mi(t.enabled,e)!==!1&&e.isStaleByTime(nc(t.staleTime,e))}function jj(e,t){return!Ph(e.getCurrentResult(),t)}var Ms,zs,hr,xo,Po,xh,ky,S1,Aj=(S1=class extends Lc{constructor(n,r){super();tt(this,Po);tt(this,Ms);tt(this,zs);tt(this,hr);tt(this,xo);We(this,Ms,n),this.setOptions(r),this.bindMethods(),mt(this,Po,xh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ue(this,Ms).defaultMutationOptions(n),Ph(this.options,r)||ue(this,Ms).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,hr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ka(r.mutationKey)!==Ka(this.options.mutationKey)?this.reset():((i=ue(this,hr))==null?void 0:i.state.status)==="pending"&&ue(this,hr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,hr))==null||n.removeObserver(this)}onMutationUpdate(n){mt(this,Po,xh).call(this),mt(this,Po,ky).call(this,n)}getCurrentResult(){return ue(this,zs)}reset(){var n;(n=ue(this,hr))==null||n.removeObserver(this),We(this,hr,void 0),mt(this,Po,xh).call(this),mt(this,Po,ky).call(this)}mutate(n,r){var i;return We(this,xo,r),(i=ue(this,hr))==null||i.removeObserver(this),We(this,hr,ue(this,Ms).getMutationCache().build(ue(this,Ms),this.options)),ue(this,hr).addObserver(this),ue(this,hr).execute(n)}},Ms=new WeakMap,zs=new WeakMap,hr=new WeakMap,xo=new WeakMap,Po=new WeakSet,xh=function(){var r;const n=((r=ue(this,hr))==null?void 0:r.state)??z1();We(this,zs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ky=function(n){kn.batch(()=>{var r,i,l,c,u,f,m,y;if(ue(this,xo)&&this.hasListeners()){const g=ue(this,zs).variables,E=ue(this,zs).context;(n==null?void 0:n.type)==="success"?((i=(r=ue(this,xo)).onSuccess)==null||i.call(r,n.data,g,E),(c=(l=ue(this,xo)).onSettled)==null||c.call(l,n.data,null,g,E)):(n==null?void 0:n.type)==="error"&&((f=(u=ue(this,xo)).onError)==null||f.call(u,n.error,g,E),(y=(m=ue(this,xo)).onSettled)==null||y.call(m,void 0,n.error,g,E))}this.listeners.forEach(g=>{g(ue(this,zs))})})},S1),B1=j.createContext(void 0),kv=e=>{const t=j.useContext(B1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Rj=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(B1.Provider,{value:e,children:t})),F1=j.createContext(!1),Ij=()=>j.useContext(F1);F1.Provider;function Lj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Oj=j.createContext(Lj()),Mj=()=>j.useContext(Oj);function U1(e,t){return typeof e=="function"?e(...t):!!e}function Sy(){}var zj=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Dj=e=>{j.useEffect(()=>{e.clearReset()},[e])},Bj=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||U1(n,[e.error,r])),Fj=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Uj=(e,t)=>e.isLoading&&e.isFetching&&!t,$j=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,i_=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Zj(e,t,n){var g,E,_,k,w;const r=kv(),i=Ij(),l=Mj(),c=r.defaultQueryOptions(e);(E=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||E.call(g,c),c._optimisticResults=i?"isRestoring":"optimistic",Fj(c),zj(c,l),Dj(l);const u=!r.getQueryCache().get(c.queryHash),[f]=j.useState(()=>new t(r,c)),m=f.getOptimisticResult(c),y=!i&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(b=>{const S=y?f.subscribe(kn.batchCalls(b)):Sy;return f.updateResult(),S},[f,y]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),j.useEffect(()=>{f.setOptions(c)},[c,f]),$j(c,m))throw i_(c,f,l);if(Bj({result:m,errorResetBoundary:l,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;if((k=(_=r.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||k.call(_,c,m),c.experimental_prefetchInRender&&!qa&&Uj(m,i)){const b=u?i_(c,f,l):(w=r.getQueryCache().get(c.queryHash))==null?void 0:w.promise;b==null||b.catch(Sy).finally(()=>{f.updateResult()})}return c.notifyOnChangeProps?m:f.trackResult(m)}function Ra(e,t){return Zj(e,Pj)}function $1(e,t){const n=kv(),[r]=j.useState(()=>new Aj(n,e));j.useEffect(()=>{r.setOptions(e)},[r,e]);const i=j.useSyncExternalStore(j.useCallback(c=>r.subscribe(kn.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=j.useCallback((c,u)=>{r.mutate(c,u).catch(Sy)},[r]);if(i.error&&U1(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}function Cy(e,t={},n){for(const r in e){const i=e[r],l=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Cy(i,t,l):typeof i=="function"&&(t[l]=i)}return t}const Hj={run:e=>e()},Wj=()=>Hj,Z1=typeof console.createTask<"u"?console.createTask:Wj;function Vj(e,t){const n=t.shift(),r=Z1(n);return e.reduce((i,l)=>i.then(()=>r.run(()=>l(...t))),Promise.resolve())}function qj(e,t){const n=t.shift(),r=Z1(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function Ng(e,t){for(const n of[...e])n(t)}class Kj{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let l;for(;this._deprecatedHooks[t];)l=this._deprecatedHooks[t],t=l.to;if(l&&!r.allowDeprecated){let c=l.message;c||(c=`${i} hook has been deprecated`+(l.to?`, please use ${l.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(c)||(console.warn(c),this._deprecatedMessages.add(c))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...l)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...l));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Cy(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=Cy(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(Vj,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(qj,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Ng(this._before,i);const l=t(n in this._hooks?[...this._hooks[n]]:[],r);return l instanceof Promise?l.finally(()=>{this._after&&i&&Ng(this._after,i)}):(this._after&&i&&Ng(this._after,i),l)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function Gj(){return new Kj}const Yj=new Set(["link","style","script","noscript"]),Jj=new Set(["title","titleTemplate","script","style","noscript"]),o_=new Set(["base","meta","link","style","script","noscript"]),Qj=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Xj=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),eA=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),tA=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Sv=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),nA=["name","property","http-equiv"];function H1(e){const t=e.split(":");return t.length?Sv.has(t[1]):!1}function Ny(e){const{props:t,tag:n}=e;if(Xj.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of nA)if(t[r]!==void 0)return`${n}:${t[r]}`}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(Jj.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function s_(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,i])=>`${r}:${String(i)}`).join(",")}`}function Py(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let i;if(t&&(i=t(n,e)),Array.isArray(i))return i.map(l=>Py(l,t));if((i==null?void 0:i.constructor)===Object){const l={};for(const c of Object.keys(i))l[c]=Py(i[c],t,c);return l}return i}function rA(e,t){const n=e==="style"?new Map:new Set;function r(i){const l=i.trim();if(l)if(e==="style"){const[c,...u]=l.split(":").map(f=>f.trim());c&&u.length&&n.set(c,u.join(":"))}else l.split(" ").filter(Boolean).forEach(c=>n.add(c))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(i=>r(i)):t&&typeof t=="object"&&Object.entries(t).forEach(([i,l])=>{l&&l!=="false"&&(e==="style"?n.set(i.trim(),l):r(i))}),n}function W1(e,t){return e.props=e.props||{},t&&Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=rA(n,r);return}if(eA.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let c=t.type;if(t.type||(c="application/json"),!(c!=null&&c.endsWith("json"))&&c!=="speculationrules")return;t.type=c,e.props.type=c,e[n]=JSON.stringify(r)}else e[n]=r;return}const i=String(r),l=n.startsWith("data-");i==="true"||i===""?e.props[n]=l?i:!0:!r&&l&&i==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e}function iA(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=W1({tag:e,props:{}},n);return r.key&&Yj.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(i=>({...r,props:{...r.props,content:i}})):r}function oA(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(i,l)=>{for(let c=0;c<t.length;c++)l=t[c](i,l);return l};e=n(void 0,e);const r=[];return e=Py(e,n),Object.entries(e||{}).forEach(([i,l])=>{if(l!==void 0)for(const c of Array.isArray(l)?l:[l])r.push(iA(i,c))}),r.flat()}const a_=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,l_={base:-10,title:10},sA={critical:-8,high:-1,low:2},c_={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},aA=/@import/,Bu=e=>e===""||e===!0;function lA(e,t){var l;if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=sA[t.tagPriority]||0,i=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:c_;if(t.tag in l_)n=l_[t.tag];else if(t.tag==="meta"){const c=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;c&&(n=c_.meta[c])}else t.tag==="link"&&t.props.rel?n=i.link[t.props.rel]:t.tag==="script"?Bu(t.props.async)?n=i.script.async:t.props.src&&!Bu(t.props.defer)&&!Bu(t.props.async)&&t.props.type!=="module"&&!((l=t.props.type)!=null&&l.endsWith("json"))?n=i.script.sync:Bu(t.props.defer)&&t.props.src&&!Bu(t.props.async)&&(n=i.script.defer):t.tag==="style"&&(n=t.innerHTML&&aA.test(t.innerHTML)?i.style.imported:i.style.sync);return(n||100)+r}function u_(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function cA(e={}){var u;const t=Gj();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,i=new Map,l=[],c={_entryCount:1,plugins:i,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:f=>u_(c,f),push(f,m){const y={...m||{}};delete y.head;const g=y._index??c._entryCount++,E={_i:g,input:f,options:y},_={_poll(k=!1){c.dirty=!0,!k&&l.push(g),t.callHook("entries:updated",c)},dispose(){r.delete(g)&&_._poll(!0)},patch(k){(!y.mode||y.mode==="server"&&n||y.mode==="client"&&!n)&&(E.input=k,r.set(g,E),_._poll())}};return _.patch(f),_},async resolveTags(){var _;const f={tagMap:new Map,tags:[],entries:[...c.entries.values()]};for(await t.callHook("entries:resolve",f);l.length;){const k=l.shift(),w=r.get(k);if(w){const b={tags:oA(w.input,e.propResolvers||[]).map(S=>Object.assign(S,w.options)),entry:w};await t.callHook("entries:normalize",b),w._tags=b.tags.map((S,P)=>(S._w=lA(c,S),S._p=(w._i<<10)+P,S._d=Ny(S),S))}}let m=!1;f.entries.flatMap(k=>(k._tags||[]).map(w=>({...w,props:{...w.props}}))).sort(a_).reduce((k,w)=>{const b=String(w._d||w._p);if(!k.has(b))return k.set(b,w);const S=k.get(b);if(((w==null?void 0:w.tagDuplicateStrategy)||(tA.has(w.tag)?"merge":null)||(w.key&&w.key===S.key?"merge":null))==="merge"){const R={...S.props};Object.entries(w.props).forEach(([D,B])=>R[D]=D==="style"?new Map([...S.props.style||new Map,...B]):D==="class"?new Set([...S.props.class||new Set,...B]):B),k.set(b,{...w,props:R})}else w._p>>10===S._p>>10&&w.tag==="meta"&&H1(b)?(k.set(b,Object.assign([...Array.isArray(S)?S:[S],w],w)),m=!0):(w._w===S._w?w._p>S._p:(w==null?void 0:w._w)<(S==null?void 0:S._w))&&k.set(b,w);return k},f.tagMap);const y=f.tagMap.get("title"),g=f.tagMap.get("titleTemplate");if(c._title=y==null?void 0:y.textContent,g){const k=g==null?void 0:g.textContent;if(c._titleTemplate=k,k){let w=typeof k=="function"?k(y==null?void 0:y.textContent):k;typeof w=="string"&&!c.plugins.has("template-params")&&(w=w.replace("%s",(y==null?void 0:y.textContent)||"")),y?w===null?f.tagMap.delete("title"):f.tagMap.set("title",{...y,textContent:w}):(g.tag="title",g.textContent=w)}}f.tags=Array.from(f.tagMap.values()),m&&(f.tags=f.tags.flat().sort(a_)),await t.callHook("tags:beforeResolve",f),await t.callHook("tags:resolve",f),await t.callHook("tags:afterResolve",f);const E=[];for(const k of f.tags){const{innerHTML:w,tag:b,props:S}=k;if(Qj.has(b)&&!(Object.keys(S).length===0&&!k.innerHTML&&!k.textContent)&&!(b==="meta"&&!S.content&&!S["http-equiv"]&&!S.charset)){if(b==="script"&&w){if((_=S.type)!=null&&_.endsWith("json")){const P=typeof w=="string"?w:JSON.stringify(w);k.innerHTML=P.replace(/</g,"\\u003C")}else typeof w=="string"&&(k.innerHTML=w.replace(new RegExp(`</${b}`,"g"),`<\\/${b}`));k._d=Ny(k)}E.push(k)}}return E}};return((e==null?void 0:e.plugins)||[]).forEach(f=>u_(c,f)),c.hooks.callHook("init",c),(u=e.init)==null||u.forEach(f=>f&&c.push(f)),c}async function V1(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async i=>{var _;const l=new Map,c=new Promise(k=>{e.resolveTags().then(w=>{k(w.map(b=>{const S=l.get(b._d)||0,P={tag:b,id:(S?`${b._d}:${S}`:b._d)||s_(b),shouldRender:!0};return b._d&&H1(b._d)&&l.set(b._d,S+1),P}))})});let u=e._dom;if(!u){u={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const k of["body","head"]){const w=(_=n[k])==null?void 0:_.children;for(const b of w){const S=b.tagName.toLowerCase();if(!o_.has(S))continue;const P=W1({tag:S,props:{}},{innerHTML:b.innerHTML,...b.getAttributeNames().reduce((R,D)=>(R[D]=b.getAttribute(D),R),{})||{}});if(P.key=b.getAttribute("data-hid")||void 0,P._d=Ny(P)||s_(P),u.elMap.has(P._d)){let R=1,D=P._d;for(;u.elMap.has(D);)D=`${P._d}:${R++}`;u.elMap.set(D,b)}else u.elMap.set(P._d,b)}}}u.pendingSideEffects={...u.sideEffects},u.sideEffects={};function f(k,w,b){const S=`${k}:${w}`;u.sideEffects[S]=b,delete u.pendingSideEffects[S]}function m({id:k,$el:w,tag:b}){const S=b.tag.endsWith("Attrs");u.elMap.set(k,w),S||(b.textContent&&b.textContent!==w.textContent&&(w.textContent=b.textContent),b.innerHTML&&b.innerHTML!==w.innerHTML&&(w.innerHTML=b.innerHTML),f(k,"el",()=>{w==null||w.remove(),u.elMap.delete(k)}));for(const P in b.props){if(!Object.prototype.hasOwnProperty.call(b.props,P))continue;const R=b.props[P];if(P.startsWith("on")&&typeof R=="function"){const B=w==null?void 0:w.dataset;if(B&&B[`${P}fired`]){const q=P.slice(0,-5);R.call(w,new Event(q.substring(2)))}w.getAttribute(`data-${P}`)!==""&&((b.tag==="bodyAttrs"?n.defaultView:w).addEventListener(P.substring(2),R.bind(w)),w.setAttribute(`data-${P}`,""));continue}const D=`attr:${P}`;if(P==="class"){if(!R)continue;for(const B of R)S&&f(k,`${D}:${B}`,()=>w.classList.remove(B)),!w.classList.contains(B)&&w.classList.add(B)}else if(P==="style"){if(!R)continue;for(const[B,q]of R)f(k,`${D}:${B}`,()=>{w.style.removeProperty(B)}),w.style.setProperty(B,q)}else R!==!1&&R!==null&&(w.getAttribute(P)!==R&&w.setAttribute(P,R===!0?"":String(R)),S&&f(k,D,()=>w.removeAttribute(P)))}}const y=[],g={bodyClose:void 0,bodyOpen:void 0,head:void 0},E=await c;for(const k of E){const{tag:w,shouldRender:b,id:S}=k;if(b){if(w.tag==="title"){n.title=w.textContent,f("title","",()=>n.title=u.title);continue}k.$el=k.$el||u.elMap.get(S),k.$el?m(k):o_.has(w.tag)&&y.push(k)}}for(const k of y){const w=k.tag.tagPosition||"head";k.$el=n.createElement(k.tag.tag),m(k),g[w]=g[w]||n.createDocumentFragment(),g[w].appendChild(k.$el)}for(const k of E)await e.hooks.callHook("dom:renderTag",k,n,f);g.head&&n.head.appendChild(g.head),g.bodyOpen&&n.body.insertBefore(g.bodyOpen,n.body.firstChild),g.bodyClose&&n.body.appendChild(g.bodyClose);for(const k in u.pendingSideEffects)u.pendingSideEffects[k]();e._dom=u,await e.hooks.callHook("dom:rendered",{renders:E}),i()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function uA(e={}){var r,i,l;const t=((r=e.domOptions)==null?void 0:r.render)||V1;e.document=e.document||(typeof window<"u"?document:void 0);const n=((l=(i=e.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:l.innerHTML)||!1;return cA({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function dA(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}const q1=j.createContext(null);function K1(e={}){const t=uA({domOptions:{render:dA(()=>V1(t),n=>setTimeout(n,0))},...e});return t}function fA({children:e,head:t}){return j.createElement(q1.Provider,{value:t||K1()},e)}const nd={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},hA={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},G1={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>`${Eo(e)}=${t}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:e,value:t})=>e==="seconds"?`${t}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>typeof t=="boolean"?Eo(e):`${Eo(e)}:${t}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:e,value:t})=>`${Eo(e)} ${t}`}},charset:{}};function Eo(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t.indexOf("-");return n===-1?t:nd.META.has(t.slice(0,n))||nd.OG.has(t.slice(0,n))?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function Y1(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>String(n)!=="false"&&t))}function Ty(e){return Array.isArray(e)?e.map(Ty):!e||typeof e!="object"?e:Object.fromEntries(Object.entries(e).map(([t,n])=>[Eo(t),Ty(n)]))}function J1(e,t={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:i,resolve:l}=t;return Object.entries(e).map(([c,u])=>{if(l){const m=l({key:c,value:u});if(m!==void 0)return m}const f=typeof u=="object"?J1(u,t):typeof u=="number"?u.toString():typeof u=="string"&&i?`${i}${u.replace(new RegExp(i,"g"),`\\${i}`)}${i}`:u;return`${c}${r}${f}`}).join(n)}function d_(e,t){const n=Y1(t),r=Eo(e),i=Q1(r);if(!Sv.has(r))return[{[i]:r,...n}];const l=Object.fromEntries(Object.entries(n).map(([c,u])=>[`${e}${c==="url"?"":`${c[0].toUpperCase()}${c.slice(1)}`}`,u]));return jh(l||{}).sort((c,u)=>{var f,m;return(((f=c[i])==null?void 0:f.length)||0)-(((m=u[i])==null?void 0:m.length)||0)})}function Q1(e){var r;if(((r=G1[e])==null?void 0:r.metaKey)==="http-equiv"||nd.HTTP_EQUIV.has(e))return"http-equiv";const t=Eo(e),n=t.indexOf(":");return n===-1?"name":nd.OG.has(t.slice(0,n))?"property":"name"}function pA(e){return hA[e]||Eo(e)}function mA(e,t){var n;return t==="refresh"?`${e.seconds};url=${e.url}`:J1(Ty(e),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:i})=>r===null?"":typeof r=="boolean"?i:void 0,...(n=G1[t])==null?void 0:n.unpack})}function jh(e){const t=[],n={};for(const[i,l]of Object.entries(e)){if(Array.isArray(l)){if(i==="themeColor"){l.forEach(c=>{typeof c=="object"&&c!==null&&t.push({name:"theme-color",...c})});continue}for(const c of l)if(typeof c=="object"&&c!==null){const u=[],f=[];for(const[m,y]of Object.entries(c)){const g=`${i}${m==="url"?"":`:${m}`}`,E=jh({[g]:y});(m==="url"?u:f).push(...E)}t.push(...u,...f)}else t.push(...typeof c=="string"?jh({[i]:c}):d_(i,c));continue}if(typeof l=="object"&&l)if(nd.MEDIA.has(i)){const c=i.startsWith("twitter")?"twitter":"og",u=i.replace(/^(og|twitter)/,"").toLowerCase(),f=c==="twitter"?"name":"property";l.url&&t.push({[f]:`${c}:${u}`,content:l.url}),l.secureUrl&&t.push({[f]:`${c}:${u}:secure_url`,content:l.secureUrl});for(const[m,y]of Object.entries(l))m!=="url"&&m!=="secureUrl"&&t.push({[f]:`${c}:${u}:${m}`,content:y})}else Sv.has(Eo(i))?t.push(...d_(i,l)):n[i]=Y1(l);else n[i]=l}const r=Object.entries(n).map(([i,l])=>{if(i==="charset")return{charset:l===null?"_null":l};const c=Q1(i),u=pA(i),f=l===null?"_null":typeof l=="object"?mA(l,i):typeof l=="number"?l.toString():l;return c==="http-equiv"?{"http-equiv":u,content:f}:{[c]:u,content:f}});return[...t,...r].map(i=>"content"in i&&i.content==="_null"?{...i,content:null}:i)}const gA={key:"flatMeta",hooks:{"entries:normalize":e=>{const t=[];e.tags=e.tags.map(n=>n.tag!=="_flatMeta"?n:(t.push(jh(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...t)}}};function yA(e={}){return t=>(t.push({meta:[{name:"twitter:card",content:e.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:n})=>{var u,f;let r=t._titleTemplate||t._title;const i=n.get("meta:og:title");typeof(i==null?void 0:i.props["data-infer"])<"u"&&(typeof r=="function"&&(r=r(t._title)),i.props.content=e.ogTitle?e.ogTitle(r):r||"",i.processTemplateParams=!0);const l=(f=(u=n.get("meta:description"))==null?void 0:u.props)==null?void 0:f.content,c=n.get("meta:og:description");typeof(c==null?void 0:c.props["data-infer"])<"u"&&(c.props.content=e.ogDescription?e.ogDescription(l):l||"",c.processTemplateParams=!0)}}})}class Yu{constructor(t){$e(this,"pubkey");$e(this,"relays");$e(this,"secret");const n=new URL(t),r=new URLSearchParams(n.search),i=n.hostname||n.pathname.slice(2),l=r.getAll("relay"),c=r.get("secret")??void 0;if(!i)throw new Error("Invalid bunker URI");this.pubkey=i,this.relays=l,this.secret=c}get href(){return this.toString()}toString(){return Yu.toString(this)}static fromJSON(t){const n=Yu.toString(t);return new Yu(n)}static toString(t){const n=new URLSearchParams;for(const r of t.relays)n.append("relay",r);return t.secret&&n.set("secret",t.secret),`bunker://${t.pubkey}?${n.toString()}`}}class vA{get nostr(){const t=globalThis.nostr;if(!t)throw new Error("Browser extension not available");return t}async getPublicKey(){const t=await this.nostr.getPublicKey();if(typeof t!="string")throw new Error(`Nostr public key retrieval failed: expected string, got ${JSON.stringify(t)}`);return t}async signEvent(t){const n=await this.nostr.signEvent(t);if(typeof n!="object"||!n.id||!n.pubkey||!n.sig)throw new Error(`Nostr event signing failed: expected object with id, pubkey, and sig, got ${JSON.stringify(n)}`);return n}async getRelays(){if(!this.nostr.getRelays)return{};const t=await this.nostr.getRelays();if(typeof t!="object"||t===null)throw new Error(`Nostr getRelays failed: expected object, got ${JSON.stringify(t)}`);return this.nostr.getRelays()}get nip04(){const t=this.nostr;if(t.nip04)return{encrypt:async(n,r)=>{const i=await t.nip04.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip04.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}get nip44(){const t=this.nostr;if(t.nip44)return{encrypt:async(n,r)=>{const i=await t.nip44.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip44.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}}function f_(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function X1(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function wA(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");f_(e.outputLen),f_(e.blockLen)}function Ah(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function xA(e,t){X1(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Pg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e2=e=>e instanceof Uint8Array,Tg=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ri=(e,t)=>e<<32-t|e>>>t,_A=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_A)throw new Error("Non little-endian hardware is not supported");function bA(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Cv(e){if(typeof e=="string"&&(e=bA(e)),!e2(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function EA(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!e2(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let t2=class{clone(){return this._cloneInto()}};function kA(e){const t=r=>e().update(Cv(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function n2(e=32){if(Pg&&typeof Pg.getRandomValues=="function")return Pg.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function SA(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),l=BigInt(4294967295),c=Number(n>>i&l),u=Number(n&l),f=r?4:0,m=r?0:4;e.setUint32(t+f,c,r),e.setUint32(t+m,u,r)}let CA=class extends t2{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Tg(this.buffer)}update(t){Ah(this);const{view:n,buffer:r,blockLen:i}=this;t=Cv(t);const l=t.length;for(let c=0;c<l;){const u=Math.min(i-this.pos,l-c);if(u===i){const f=Tg(t);for(;i<=l-c;c+=i)this.process(f,c);continue}r.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ah(this),xA(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:l}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let g=c;g<i;g++)n[g]=0;SA(r,i-8,BigInt(this.length*8),l),this.process(r,0);const u=Tg(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=f/4,y=this.get();if(m>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<m;g++)u.setUint32(4*g,y[g],l)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:l,destroyed:c,pos:u}=this;return t.length=i,t.pos=u,t.finished=l,t.destroyed=c,i%n&&t.buffer.set(r),t}};const NA=(e,t,n)=>e&t^~e&n,PA=(e,t,n)=>e&t^e&n^t&n,TA=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ys=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vs=new Uint32Array(64);let jA=class extends CA{constructor(){super(64,32,8,!1),this.A=ys[0]|0,this.B=ys[1]|0,this.C=ys[2]|0,this.D=ys[3]|0,this.E=ys[4]|0,this.F=ys[5]|0,this.G=ys[6]|0,this.H=ys[7]|0}get(){const{A:t,B:n,C:r,D:i,E:l,F:c,G:u,H:f}=this;return[t,n,r,i,l,c,u,f]}set(t,n,r,i,l,c,u,f){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=l|0,this.F=c|0,this.G=u|0,this.H=f|0}process(t,n){for(let g=0;g<16;g++,n+=4)vs[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){const E=vs[g-15],_=vs[g-2],k=Ri(E,7)^Ri(E,18)^E>>>3,w=Ri(_,17)^Ri(_,19)^_>>>10;vs[g]=w+vs[g-7]+k+vs[g-16]|0}let{A:r,B:i,C:l,D:c,E:u,F:f,G:m,H:y}=this;for(let g=0;g<64;g++){const E=Ri(u,6)^Ri(u,11)^Ri(u,25),_=y+E+NA(u,f,m)+TA[g]+vs[g]|0,w=(Ri(r,2)^Ri(r,13)^Ri(r,22))+PA(r,i,l)|0;y=m,m=f,f=u,u=c+_|0,c=l,l=i,i=r,r=_+w|0}r=r+this.A|0,i=i+this.B|0,l=l+this.C|0,c=c+this.D|0,u=u+this.E|0,f=f+this.F|0,m=m+this.G|0,y=y+this.H|0,this.set(r,i,l,c,u,f,m,y)}roundClean(){vs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const jy=kA(()=>new jA);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r2=BigInt(0),op=BigInt(1),AA=BigInt(2),sp=e=>e instanceof Uint8Array,RA=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function kc(e){if(!sp(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=RA[e[n]];return t}function i2(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Nv(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Sc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,l=e.slice(i,i+2),c=Number.parseInt(l,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}function pr(e){return Nv(kc(e))}function Pv(e){if(!sp(e))throw new Error("Uint8Array expected");return Nv(kc(Uint8Array.from(e).reverse()))}function Ws(e,t){return Sc(e.toString(16).padStart(t*2,"0"))}function Tv(e,t){return Ws(e,t).reverse()}function IA(e){return Sc(i2(e))}function $n(e,t,n){let r;if(typeof t=="string")try{r=Sc(t)}catch(l){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${l}`)}else if(sp(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function Ga(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!sp(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function LA(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function OA(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function MA(e){let t;for(t=0;e>r2;e>>=op,t+=1);return t}function zA(e,t){return e>>BigInt(t)&op}const DA=(e,t,n)=>e|(n?op:r2)<<BigInt(t),jv=e=>(AA<<BigInt(e-1))-op,jg=e=>new Uint8Array(e),h_=e=>Uint8Array.from(e);function o2(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=jg(e),i=jg(e),l=0;const c=()=>{r.fill(1),i.fill(0),l=0},u=(...g)=>n(i,r,...g),f=(g=jg())=>{i=u(h_([0]),g),r=u(),g.length!==0&&(i=u(h_([1]),g),r=u())},m=()=>{if(l++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const E=[];for(;g<t;){r=u();const _=r.slice();E.push(_),g+=r.length}return Ga(...E)};return(g,E)=>{c(),f(g);let _;for(;!(_=E(m()));)f();return c(),_}}const BA={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Sd(e,t,n={}){const r=(i,l,c)=>{const u=BA[l];if(typeof u!="function")throw new Error(`Invalid validator "${l}", expected function`);const f=e[i];if(!(c&&f===void 0)&&!u(f,e))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${l}`)};for(const[i,l]of Object.entries(t))r(i,l,!1);for(const[i,l]of Object.entries(n))r(i,l,!0);return e}const FA=Object.freeze(Object.defineProperty({__proto__:null,bitGet:zA,bitLen:MA,bitMask:jv,bitSet:DA,bytesToHex:kc,bytesToNumberBE:pr,bytesToNumberLE:Pv,concatBytes:Ga,createHmacDrbg:o2,ensureBytes:$n,equalBytes:LA,hexToBytes:Sc,hexToNumber:Nv,numberToBytesBE:Ws,numberToBytesLE:Tv,numberToHexUnpadded:i2,numberToVarBytesBE:IA,utf8ToBytes:OA,validateObject:Sd},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tn=BigInt(0),mn=BigInt(1),Aa=BigInt(2),UA=BigInt(3),Ay=BigInt(4),p_=BigInt(5),m_=BigInt(8);BigInt(9);BigInt(16);function Rn(e,t){const n=e%t;return n>=Tn?n:t+n}function $A(e,t,n){if(n<=Tn||t<Tn)throw new Error("Expected power/modulo > 0");if(n===mn)return Tn;let r=mn;for(;t>Tn;)t&mn&&(r=r*e%n),e=e*e%n,t>>=mn;return r}function Wr(e,t,n){let r=e;for(;t-- >Tn;)r*=r,r%=n;return r}function Ry(e,t){if(e===Tn||t<=Tn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Rn(e,t),r=t,i=Tn,l=mn;for(;n!==Tn;){const u=r/n,f=r%n,m=i-l*u;r=n,n=f,i=l,l=m}if(r!==mn)throw new Error("invert: does not exist");return Rn(i,t)}function ZA(e){const t=(e-mn)/Aa;let n,r,i;for(n=e-mn,r=0;n%Aa===Tn;n/=Aa,r++);for(i=Aa;i<e&&$A(i,t,e)!==e-mn;i++);if(r===1){const c=(e+mn)/Ay;return function(f,m){const y=f.pow(m,c);if(!f.eql(f.sqr(y),m))throw new Error("Cannot find square root");return y}}const l=(n+mn)/Aa;return function(u,f){if(u.pow(f,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let m=r,y=u.pow(u.mul(u.ONE,i),n),g=u.pow(f,l),E=u.pow(f,n);for(;!u.eql(E,u.ONE);){if(u.eql(E,u.ZERO))return u.ZERO;let _=1;for(let w=u.sqr(E);_<m&&!u.eql(w,u.ONE);_++)w=u.sqr(w);const k=u.pow(y,mn<<BigInt(m-_-1));y=u.sqr(k),g=u.mul(g,k),E=u.mul(E,y),m=_}return g}}function HA(e){if(e%Ay===UA){const t=(e+mn)/Ay;return function(r,i){const l=r.pow(i,t);if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}if(e%m_===p_){const t=(e-p_)/m_;return function(r,i){const l=r.mul(i,Aa),c=r.pow(l,t),u=r.mul(i,c),f=r.mul(r.mul(u,Aa),c),m=r.mul(u,r.sub(f,r.ONE));if(!r.eql(r.sqr(m),i))throw new Error("Cannot find square root");return m}}return ZA(e)}const WA=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function VA(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=WA.reduce((r,i)=>(r[i]="function",r),t);return Sd(e,n)}function qA(e,t,n){if(n<Tn)throw new Error("Expected power > 0");if(n===Tn)return e.ONE;if(n===mn)return t;let r=e.ONE,i=t;for(;n>Tn;)n&mn&&(r=e.mul(r,i)),i=e.sqr(i),n>>=mn;return r}function KA(e,t){const n=new Array(t.length),r=t.reduce((l,c,u)=>e.is0(c)?l:(n[u]=l,e.mul(l,c)),e.ONE),i=e.inv(r);return t.reduceRight((l,c,u)=>e.is0(c)?l:(n[u]=e.mul(l,n[u]),e.mul(l,c)),i),n}function s2(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function GA(e,t,n=!1,r={}){if(e<=Tn)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:l}=s2(e,t);if(l>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=HA(e),u=Object.freeze({ORDER:e,BITS:i,BYTES:l,MASK:jv(i),ZERO:Tn,ONE:mn,create:f=>Rn(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return Tn<=f&&f<e},is0:f=>f===Tn,isOdd:f=>(f&mn)===mn,neg:f=>Rn(-f,e),eql:(f,m)=>f===m,sqr:f=>Rn(f*f,e),add:(f,m)=>Rn(f+m,e),sub:(f,m)=>Rn(f-m,e),mul:(f,m)=>Rn(f*m,e),pow:(f,m)=>qA(u,f,m),div:(f,m)=>Rn(f*Ry(m,e),e),sqrN:f=>f*f,addN:(f,m)=>f+m,subN:(f,m)=>f-m,mulN:(f,m)=>f*m,inv:f=>Ry(f,e),sqrt:r.sqrt||(f=>c(u,f)),invertBatch:f=>KA(u,f),cmov:(f,m,y)=>y?m:f,toBytes:f=>n?Tv(f,l):Ws(f,l),fromBytes:f=>{if(f.length!==l)throw new Error(`Fp.fromBytes: expected ${l}, got ${f.length}`);return n?Pv(f):pr(f)}});return Object.freeze(u)}function a2(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function l2(e){const t=a2(e);return t+Math.ceil(t/2)}function YA(e,t,n=!1){const r=e.length,i=a2(t),l=l2(t);if(r<16||r<l||r>1024)throw new Error(`expected ${l}-1024 bytes of input, got ${r}`);const c=n?pr(e):Pv(e),u=Rn(c,t-mn)+mn;return n?Tv(u,i):Ws(u,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const JA=BigInt(0),Ag=BigInt(1);function QA(e,t){const n=(i,l)=>{const c=l.negate();return i?c:l},r=i=>{const l=Math.ceil(t/i)+1,c=2**(i-1);return{windows:l,windowSize:c}};return{constTimeNegate:n,unsafeLadder(i,l){let c=e.ZERO,u=i;for(;l>JA;)l&Ag&&(c=c.add(u)),u=u.double(),l>>=Ag;return c},precomputeWindow(i,l){const{windows:c,windowSize:u}=r(l),f=[];let m=i,y=m;for(let g=0;g<c;g++){y=m,f.push(y);for(let E=1;E<u;E++)y=y.add(m),f.push(y);m=y.double()}return f},wNAF(i,l,c){const{windows:u,windowSize:f}=r(i);let m=e.ZERO,y=e.BASE;const g=BigInt(2**i-1),E=2**i,_=BigInt(i);for(let k=0;k<u;k++){const w=k*f;let b=Number(c&g);c>>=_,b>f&&(b-=E,c+=Ag);const S=w,P=w+Math.abs(b)-1,R=k%2!==0,D=b<0;b===0?y=y.add(n(R,l[S])):m=m.add(n(D,l[P]))}return{p:m,f:y}},wNAFCached(i,l,c,u){const f=i._WINDOW_SIZE||1;let m=l.get(i);return m||(m=this.precomputeWindow(i,f),f!==1&&l.set(i,u(m))),this.wNAF(f,m,c)}}}function c2(e){return VA(e.Fp),Sd(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...s2(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function XA(e){const t=c2(e);Sd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:eR,hexToBytes:tR}=FA,Ia={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Ia;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:eR(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Ia,n=typeof e=="string"?tR(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l}=Ia._parseInt(n.subarray(2)),{d:c,l:u}=Ia._parseInt(l);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:c}},hexFromSig(e){const t=m=>Number.parseInt(m[0],16)&8?"00"+m:m,n=m=>{const y=m.toString(16);return y.length&1?`0${y}`:y},r=t(n(e.s)),i=t(n(e.r)),l=r.length/2,c=i.length/2,u=n(l),f=n(c);return`30${n(c+l+4)}02${f}${i}02${u}${r}`}},bo=BigInt(0),Jr=BigInt(1);BigInt(2);const g_=BigInt(3);BigInt(4);function nR(e){const t=XA(e),{Fp:n}=t,r=t.toBytes||((k,w,b)=>{const S=w.toAffine();return Ga(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),i=t.fromBytes||(k=>{const w=k.subarray(1),b=n.fromBytes(w.subarray(0,n.BYTES)),S=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:b,y:S}});function l(k){const{a:w,b}=t,S=n.sqr(k),P=n.mul(S,k);return n.add(n.add(P,n.mul(k,w)),b)}if(!n.eql(n.sqr(t.Gy),l(t.Gx)))throw new Error("bad generator point: equation left != right");function c(k){return typeof k=="bigint"&&bo<k&&k<t.n}function u(k){if(!c(k))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(k){const{allowedPrivateKeyLengths:w,nByteLength:b,wrapPrivateKey:S,n:P}=t;if(w&&typeof k!="bigint"){if(k instanceof Uint8Array&&(k=kc(k)),typeof k!="string"||!w.includes(k.length))throw new Error("Invalid key");k=k.padStart(b*2,"0")}let R;try{R=typeof k=="bigint"?k:pr($n("private key",k,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof k}`)}return S&&(R=Rn(R,P)),u(R),R}const m=new Map;function y(k){if(!(k instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(w,b,S){if(this.px=w,this.py=b,this.pz=S,w==null||!n.isValid(w))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required")}static fromAffine(w){const{x:b,y:S}=w||{};if(!w||!n.isValid(b)||!n.isValid(S))throw new Error("invalid affine point");if(w instanceof g)throw new Error("projective point not allowed");const P=R=>n.eql(R,n.ZERO);return P(b)&&P(S)?g.ZERO:new g(b,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const b=n.invertBatch(w.map(S=>S.pz));return w.map((S,P)=>S.toAffine(b[P])).map(g.fromAffine)}static fromHex(w){const b=g.fromAffine(i($n("pointHex",w)));return b.assertValidity(),b}static fromPrivateKey(w){return g.BASE.multiply(f(w))}_setWindowSize(w){this._WINDOW_SIZE=w,m.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:w,y:b}=this.toAffine();if(!n.isValid(w)||!n.isValid(b))throw new Error("bad point: x or y not FE");const S=n.sqr(b),P=l(w);if(!n.eql(S,P))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){y(w);const{px:b,py:S,pz:P}=this,{px:R,py:D,pz:B}=w,q=n.eql(n.mul(b,B),n.mul(R,P)),G=n.eql(n.mul(S,B),n.mul(D,P));return q&&G}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b}=t,S=n.mul(b,g_),{px:P,py:R,pz:D}=this;let B=n.ZERO,q=n.ZERO,G=n.ZERO,J=n.mul(P,P),V=n.mul(R,R),Y=n.mul(D,D),Q=n.mul(P,R);return Q=n.add(Q,Q),G=n.mul(P,D),G=n.add(G,G),B=n.mul(w,G),q=n.mul(S,Y),q=n.add(B,q),B=n.sub(V,q),q=n.add(V,q),q=n.mul(B,q),B=n.mul(Q,B),G=n.mul(S,G),Y=n.mul(w,Y),Q=n.sub(J,Y),Q=n.mul(w,Q),Q=n.add(Q,G),G=n.add(J,J),J=n.add(G,J),J=n.add(J,Y),J=n.mul(J,Q),q=n.add(q,J),Y=n.mul(R,D),Y=n.add(Y,Y),J=n.mul(Y,Q),B=n.sub(B,J),G=n.mul(Y,V),G=n.add(G,G),G=n.add(G,G),new g(B,q,G)}add(w){y(w);const{px:b,py:S,pz:P}=this,{px:R,py:D,pz:B}=w;let q=n.ZERO,G=n.ZERO,J=n.ZERO;const V=t.a,Y=n.mul(t.b,g_);let Q=n.mul(b,R),U=n.mul(S,D),re=n.mul(P,B),M=n.add(b,S),W=n.add(R,D);M=n.mul(M,W),W=n.add(Q,U),M=n.sub(M,W),W=n.add(b,P);let ae=n.add(R,B);return W=n.mul(W,ae),ae=n.add(Q,re),W=n.sub(W,ae),ae=n.add(S,P),q=n.add(D,B),ae=n.mul(ae,q),q=n.add(U,re),ae=n.sub(ae,q),J=n.mul(V,W),q=n.mul(Y,re),J=n.add(q,J),q=n.sub(U,J),J=n.add(U,J),G=n.mul(q,J),U=n.add(Q,Q),U=n.add(U,Q),re=n.mul(V,re),W=n.mul(Y,W),U=n.add(U,re),re=n.sub(Q,re),re=n.mul(V,re),W=n.add(W,re),Q=n.mul(U,W),G=n.add(G,Q),Q=n.mul(ae,W),q=n.mul(M,q),q=n.sub(q,Q),Q=n.mul(M,U),J=n.mul(ae,J),J=n.add(J,Q),new g(q,G,J)}subtract(w){return this.add(w.negate())}is0(){return this.equals(g.ZERO)}wNAF(w){return _.wNAFCached(this,m,w,b=>{const S=n.invertBatch(b.map(P=>P.pz));return b.map((P,R)=>P.toAffine(S[R])).map(g.fromAffine)})}multiplyUnsafe(w){const b=g.ZERO;if(w===bo)return b;if(u(w),w===Jr)return this;const{endo:S}=t;if(!S)return _.unsafeLadder(this,w);let{k1neg:P,k1:R,k2neg:D,k2:B}=S.splitScalar(w),q=b,G=b,J=this;for(;R>bo||B>bo;)R&Jr&&(q=q.add(J)),B&Jr&&(G=G.add(J)),J=J.double(),R>>=Jr,B>>=Jr;return P&&(q=q.negate()),D&&(G=G.negate()),G=new g(n.mul(G.px,S.beta),G.py,G.pz),q.add(G)}multiply(w){u(w);let b=w,S,P;const{endo:R}=t;if(R){const{k1neg:D,k1:B,k2neg:q,k2:G}=R.splitScalar(b);let{p:J,f:V}=this.wNAF(B),{p:Y,f:Q}=this.wNAF(G);J=_.constTimeNegate(D,J),Y=_.constTimeNegate(q,Y),Y=new g(n.mul(Y.px,R.beta),Y.py,Y.pz),S=J.add(Y),P=V.add(Q)}else{const{p:D,f:B}=this.wNAF(b);S=D,P=B}return g.normalizeZ([S,P])[0]}multiplyAndAddUnsafe(w,b,S){const P=g.BASE,R=(B,q)=>q===bo||q===Jr||!B.equals(P)?B.multiplyUnsafe(q):B.multiply(q),D=R(this,b).add(R(w,S));return D.is0()?void 0:D}toAffine(w){const{px:b,py:S,pz:P}=this,R=this.is0();w==null&&(w=R?n.ONE:n.inv(P));const D=n.mul(b,w),B=n.mul(S,w),q=n.mul(P,w);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(q,n.ONE))throw new Error("invZ was invalid");return{x:D,y:B}}isTorsionFree(){const{h:w,isTorsionFree:b}=t;if(w===Jr)return!0;if(b)return b(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:b}=t;return w===Jr?this:b?b(g,this):this.multiplyUnsafe(t.h)}toRawBytes(w=!0){return this.assertValidity(),r(g,this,w)}toHex(w=!0){return kc(this.toRawBytes(w))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const E=t.nBitLength,_=QA(g,t.endo?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:f,weierstrassEquation:l,isWithinCurveOrder:c}}function rR(e){const t=c2(e);return Sd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function iR(e){const t=rR(e),{Fp:n,n:r}=t,i=n.BYTES+1,l=2*n.BYTES+1;function c(W){return bo<W&&W<n.ORDER}function u(W){return Rn(W,r)}function f(W){return Ry(W,r)}const{ProjectivePoint:m,normPrivateKeyToScalar:y,weierstrassEquation:g,isWithinCurveOrder:E}=nR({...t,toBytes(W,ae,oe){const ne=ae.toAffine(),ee=n.toBytes(ne.x),le=Ga;return oe?le(Uint8Array.from([ae.hasEvenY()?2:3]),ee):le(Uint8Array.from([4]),ee,n.toBytes(ne.y))},fromBytes(W){const ae=W.length,oe=W[0],ne=W.subarray(1);if(ae===i&&(oe===2||oe===3)){const ee=pr(ne);if(!c(ee))throw new Error("Point is not on curve");const le=g(ee);let F=n.sqrt(le);const K=(F&Jr)===Jr;return(oe&1)===1!==K&&(F=n.neg(F)),{x:ee,y:F}}else if(ae===l&&oe===4){const ee=n.fromBytes(ne.subarray(0,n.BYTES)),le=n.fromBytes(ne.subarray(n.BYTES,2*n.BYTES));return{x:ee,y:le}}else throw new Error(`Point of length ${ae} was invalid. Expected ${i} compressed bytes or ${l} uncompressed bytes`)}}),_=W=>kc(Ws(W,t.nByteLength));function k(W){const ae=r>>Jr;return W>ae}function w(W){return k(W)?u(-W):W}const b=(W,ae,oe)=>pr(W.slice(ae,oe));class S{constructor(ae,oe,ne){this.r=ae,this.s=oe,this.recovery=ne,this.assertValidity()}static fromCompact(ae){const oe=t.nByteLength;return ae=$n("compactSignature",ae,oe*2),new S(b(ae,0,oe),b(ae,oe,2*oe))}static fromDER(ae){const{r:oe,s:ne}=Ia.toSig($n("DER",ae));return new S(oe,ne)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(ae){return new S(this.r,this.s,ae)}recoverPublicKey(ae){const{r:oe,s:ne,recovery:ee}=this,le=G($n("msgHash",ae));if(ee==null||![0,1,2,3].includes(ee))throw new Error("recovery id invalid");const F=ee===2||ee===3?oe+t.n:oe;if(F>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=(ee&1)===0?"02":"03",Ce=m.fromHex(K+_(F)),be=f(F),we=u(-le*be),Re=u(ne*be),Ue=m.BASE.multiplyAndAddUnsafe(Ce,we,Re);if(!Ue)throw new Error("point at infinify");return Ue.assertValidity(),Ue}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Sc(this.toDERHex())}toDERHex(){return Ia.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Sc(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}const P={isValidPrivateKey(W){try{return y(W),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const W=l2(t.n);return YA(t.randomBytes(W),t.n)},precompute(W=8,ae=m.BASE){return ae._setWindowSize(W),ae.multiply(BigInt(3)),ae}};function R(W,ae=!0){return m.fromPrivateKey(W).toRawBytes(ae)}function D(W){const ae=W instanceof Uint8Array,oe=typeof W=="string",ne=(ae||oe)&&W.length;return ae?ne===i||ne===l:oe?ne===2*i||ne===2*l:W instanceof m}function B(W,ae,oe=!0){if(D(W))throw new Error("first arg must be private key");if(!D(ae))throw new Error("second arg must be public key");return m.fromHex(ae).multiply(y(W)).toRawBytes(oe)}const q=t.bits2int||function(W){const ae=pr(W),oe=W.length*8-t.nBitLength;return oe>0?ae>>BigInt(oe):ae},G=t.bits2int_modN||function(W){return u(q(W))},J=jv(t.nBitLength);function V(W){if(typeof W!="bigint")throw new Error("bigint expected");if(!(bo<=W&&W<J))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ws(W,t.nByteLength)}function Y(W,ae,oe=Q){if(["recovered","canonical"].some(Fe=>Fe in oe))throw new Error("sign() legacy options not supported");const{hash:ne,randomBytes:ee}=t;let{lowS:le,prehash:F,extraEntropy:K}=oe;le==null&&(le=!0),W=$n("msgHash",W),F&&(W=$n("prehashed msgHash",ne(W)));const Ce=G(W),be=y(ae),we=[V(be),V(Ce)];if(K!=null){const Fe=K===!0?ee(n.BYTES):K;we.push($n("extraEntropy",Fe))}const Re=Ga(...we),Ue=Ce;function De(Fe){const it=q(Fe);if(!E(it))return;const wt=f(it),Rt=m.BASE.multiply(it).toAffine(),ht=u(Rt.x);if(ht===bo)return;const z=u(wt*u(Ue+ht*be));if(z===bo)return;let Ne=(Rt.x===ht?0:2)|Number(Rt.y&Jr),ke=z;return le&&k(z)&&(ke=w(z),Ne^=1),new S(ht,ke,Ne)}return{seed:Re,k2sig:De}}const Q={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};function re(W,ae,oe=Q){const{seed:ne,k2sig:ee}=Y(W,ae,oe),le=t;return o2(le.hash.outputLen,le.nByteLength,le.hmac)(ne,ee)}m.BASE._setWindowSize(8);function M(W,ae,oe,ne=U){var Rt;const ee=W;if(ae=$n("msgHash",ae),oe=$n("publicKey",oe),"strict"in ne)throw new Error("options.strict was renamed to lowS");const{lowS:le,prehash:F}=ne;let K,Ce;try{if(typeof ee=="string"||ee instanceof Uint8Array)try{K=S.fromDER(ee)}catch(ht){if(!(ht instanceof Ia.Err))throw ht;K=S.fromCompact(ee)}else if(typeof ee=="object"&&typeof ee.r=="bigint"&&typeof ee.s=="bigint"){const{r:ht,s:z}=ee;K=new S(ht,z)}else throw new Error("PARSE");Ce=m.fromHex(oe)}catch(ht){if(ht.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(le&&K.hasHighS())return!1;F&&(ae=t.hash(ae));const{r:be,s:we}=K,Re=G(ae),Ue=f(we),De=u(Re*Ue),Fe=u(be*Ue),it=(Rt=m.BASE.multiplyAndAddUnsafe(Ce,De,Fe))==null?void 0:Rt.toAffine();return it?u(it.x)===be:!1}return{CURVE:t,getPublicKey:R,getSharedSecret:B,sign:re,verify:M,ProjectivePoint:m,Signature:S,utils:P}}let u2=class extends t2{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,wA(t);const r=Cv(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,l=new Uint8Array(i);l.set(r.length>i?t.create().update(r).digest():r);for(let c=0;c<l.length;c++)l[c]^=54;this.iHash.update(l),this.oHash=t.create();for(let c=0;c<l.length;c++)l[c]^=106;this.oHash.update(l),l.fill(0)}update(t){return Ah(this),this.iHash.update(t),this}digestInto(t){Ah(this),X1(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:l,blockLen:c,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=l,t.blockLen=c,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const d2=(e,t,n)=>new u2(e,t).update(n).digest();d2.create=(e,t)=>new u2(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function oR(e){return{hash:e,hmac:(t,...n)=>d2(e,t,EA(...n)),randomBytes:n2}}function sR(e,t){const n=r=>iR({...e,...oR(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ap=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Rh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f2=BigInt(1),Ih=BigInt(2),y_=(e,t)=>(e+t/Ih)/t;function h2(e){const t=ap,n=BigInt(3),r=BigInt(6),i=BigInt(11),l=BigInt(22),c=BigInt(23),u=BigInt(44),f=BigInt(88),m=e*e*e%t,y=m*m*e%t,g=Wr(y,n,t)*y%t,E=Wr(g,n,t)*y%t,_=Wr(E,Ih,t)*m%t,k=Wr(_,i,t)*_%t,w=Wr(k,l,t)*k%t,b=Wr(w,u,t)*w%t,S=Wr(b,f,t)*b%t,P=Wr(S,u,t)*w%t,R=Wr(P,n,t)*y%t,D=Wr(R,c,t)*k%t,B=Wr(D,r,t)*m%t,q=Wr(B,Ih,t);if(!Iy.eql(Iy.sqr(q),e))throw new Error("Cannot find square root");return q}const Iy=GA(ap,void 0,void 0,{sqrt:h2}),Oc=sR({a:BigInt(0),b:BigInt(7),Fp:Iy,n:Rh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Rh,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-f2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),l=n,c=BigInt("0x100000000000000000000000000000000"),u=y_(l*e,t),f=y_(-r*e,t);let m=Rn(e-u*n-f*i,t),y=Rn(-u*r-f*l,t);const g=m>c,E=y>c;if(g&&(m=t-m),E&&(y=t-y),m>c||y>c)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:g,k1:m,k2neg:E,k2:y}}}},jy),lp=BigInt(0),p2=e=>typeof e=="bigint"&&lp<e&&e<ap,aR=e=>typeof e=="bigint"&&lp<e&&e<Rh,v_={};function Lh(e,...t){let n=v_[e];if(n===void 0){const r=jy(Uint8Array.from(e,i=>i.charCodeAt(0)));n=Ga(r,r),v_[e]=n}return jy(Ga(n,...t))}const Av=e=>e.toRawBytes(!0).slice(1),Ly=e=>Ws(e,32),Rg=e=>Rn(e,ap),rd=e=>Rn(e,Rh),Rv=Oc.ProjectivePoint,lR=(e,t,n)=>Rv.BASE.multiplyAndAddUnsafe(e,t,n);function Oy(e){let t=Oc.utils.normPrivateKeyToScalar(e),n=Rv.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:rd(-t),bytes:Av(n)}}function m2(e){if(!p2(e))throw new Error("bad x: need 0 < x < p");const t=Rg(e*e),n=Rg(t*e+BigInt(7));let r=h2(n);r%Ih!==lp&&(r=Rg(-r));const i=new Rv(e,r,f2);return i.assertValidity(),i}function g2(...e){return rd(pr(Lh("BIP0340/challenge",...e)))}function cR(e){return Oy(e).bytes}function uR(e,t,n=n2(32)){const r=$n("message",e),{bytes:i,scalar:l}=Oy(t),c=$n("auxRand",n,32),u=Ly(l^pr(Lh("BIP0340/aux",c))),f=Lh("BIP0340/nonce",u,i,r),m=rd(pr(f));if(m===lp)throw new Error("sign failed: k is zero");const{bytes:y,scalar:g}=Oy(m),E=g2(y,i,r),_=new Uint8Array(64);if(_.set(y,0),_.set(Ly(rd(g+E*l)),32),!y2(_,r,i))throw new Error("sign: Invalid signature produced");return _}function y2(e,t,n){const r=$n("signature",e,64),i=$n("message",t),l=$n("publicKey",n,32);try{const c=m2(pr(l)),u=pr(r.subarray(0,32));if(!p2(u))return!1;const f=pr(r.subarray(32,64));if(!aR(f))return!1;const m=g2(Ly(u),Av(c),i),y=lR(c,f,rd(-m));return!(!y||!y.hasEvenY()||y.toAffine().x!==u)}catch{return!1}}const Fu={getPublicKey:cR,sign:uR,verify:y2,utils:{randomPrivateKey:Oc.utils.randomPrivateKey,lift_x:m2,pointToBytes:Av,numberToBytesBE:Ws,bytesToNumberBE:pr,taggedHash:Lh,mod:Rn}},Ig=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Iv=e=>e instanceof Uint8Array,Lg=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ii=(e,t)=>e<<32-t|e>>>t,dR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!dR)throw new Error("Non little-endian hardware is not supported");const fR=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Zn(e){if(!Iv(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=fR[e[n]];return t}function Ya(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,l=e.slice(i,i+2),c=Number.parseInt(l,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}function hR(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function id(e){if(typeof e=="string"&&(e=hR(e)),!Iv(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function cp(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!Iv(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class v2{clone(){return this._cloneInto()}}function w2(e){const t=r=>e().update(id(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function x2(e=32){if(Ig&&typeof Ig.getRandomValues=="function")return Ig.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function My(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function pR(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function _2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function mR(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");My(e.outputLen),My(e.blockLen)}function gR(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function yR(e,t){_2(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ui={number:My,bool:pR,bytes:_2,hash:mR,exists:gR,output:yR};function vR(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),l=BigInt(4294967295),c=Number(n>>i&l),u=Number(n&l),f=r?4:0,m=r?0:4;e.setUint32(t+f,c,r),e.setUint32(t+m,u,r)}class wR extends v2{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Lg(this.buffer)}update(t){Ui.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=id(t);const l=t.length;for(let c=0;c<l;){const u=Math.min(i-this.pos,l-c);if(u===i){const f=Lg(t);for(;i<=l-c;c+=i)this.process(f,c);continue}r.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ui.exists(this),Ui.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:l}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let g=c;g<i;g++)n[g]=0;vR(r,i-8,BigInt(this.length*8),l),this.process(r,0);const u=Lg(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=f/4,y=this.get();if(m>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<m;g++)u.setUint32(4*g,y[g],l)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:l,destroyed:c,pos:u}=this;return t.length=i,t.pos=u,t.finished=l,t.destroyed=c,i%n&&t.buffer.set(r),t}}const xR=(e,t,n)=>e&t^~e&n,_R=(e,t,n)=>e&t^e&n^t&n,bR=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ws=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xs=new Uint32Array(64);class b2 extends wR{constructor(){super(64,32,8,!1),this.A=ws[0]|0,this.B=ws[1]|0,this.C=ws[2]|0,this.D=ws[3]|0,this.E=ws[4]|0,this.F=ws[5]|0,this.G=ws[6]|0,this.H=ws[7]|0}get(){const{A:t,B:n,C:r,D:i,E:l,F:c,G:u,H:f}=this;return[t,n,r,i,l,c,u,f]}set(t,n,r,i,l,c,u,f){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=l|0,this.F=c|0,this.G=u|0,this.H=f|0}process(t,n){for(let g=0;g<16;g++,n+=4)xs[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){const E=xs[g-15],_=xs[g-2],k=Ii(E,7)^Ii(E,18)^E>>>3,w=Ii(_,17)^Ii(_,19)^_>>>10;xs[g]=w+xs[g-7]+k+xs[g-16]|0}let{A:r,B:i,C:l,D:c,E:u,F:f,G:m,H:y}=this;for(let g=0;g<64;g++){const E=Ii(u,6)^Ii(u,11)^Ii(u,25),_=y+E+xR(u,f,m)+bR[g]+xs[g]|0,w=(Ii(r,2)^Ii(r,13)^Ii(r,22))+_R(r,i,l)|0;y=m,m=f,f=u,u=c+_|0,c=l,l=i,i=r,r=_+w|0}r=r+this.A|0,i=i+this.B|0,l=l+this.C|0,c=c+this.D|0,u=u+this.E|0,f=f+this.F|0,m=m+this.G|0,y=y+this.H|0,this.set(r,i,l,c,u,f,m,y)}roundClean(){xs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class ER extends b2{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Mc=w2(()=>new b2);w2(()=>new ER);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zc(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Ro(...e){const t=(i,l)=>c=>i(l(c)),n=Array.from(e).reverse().reduce((i,l)=>i?t(i,l.encode):l.encode,void 0),r=e.reduce((i,l)=>i?t(i,l.decode):l.decode,void 0);return{encode:n,decode:r}}function Io(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(zc(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function Lo(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function up(e,t="="){if(zc(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of n)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function E2(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function w_(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],l=Array.from(e);for(l.forEach(c=>{if(zc(c),c<0||c>=t)throw new Error(`Wrong integer: ${c}`)});;){let c=0,u=!0;for(let f=r;f<l.length;f++){const m=l[f],y=t*c+m;if(!Number.isSafeInteger(y)||t*c/t!==c||y-m!==t*c)throw new Error("convertRadix: carry overflow");if(c=y%n,l[f]=Math.floor(y/n),!Number.isSafeInteger(l[f])||l[f]*n+c!==y)throw new Error("convertRadix: carry overflow");if(u)l[f]?u=!1:r=f;else continue}if(i.push(c),u)break}for(let c=0;c<e.length-1&&e[c]===0;c++)i.push(0);return i.reverse()}const k2=(e,t)=>t?k2(t,e%t):e,Oh=(e,t)=>e+(t-k2(e,t));function zy(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Oh(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Oh(t,n)}`);let i=0,l=0;const c=2**n-1,u=[];for(const f of e){if(zc(f),f>=2**t)throw new Error(`convertRadix2: invalid data word=${f} from=${t}`);if(i=i<<t|f,l+t>32)throw new Error(`convertRadix2: carry overflow pos=${l} from=${t}`);for(l+=t;l>=n;l-=n)u.push((i>>l-n&c)>>>0);i&=2**l-1}if(i=i<<n-l&c,!r&&l>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&l>0&&u.push(i>>>0),u}function kR(e){return zc(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return w_(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(w_(t,e,2**8))}}}function Js(e,t=!1){if(zc(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Oh(8,e)>32||Oh(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return zy(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(zy(n,e,8,t))}}}function x_(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const SR=Ro(Js(4),Io("0123456789ABCDEF"),Lo("")),CR=Ro(Js(5),Io("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),up(5),Lo(""));Ro(Js(5),Io("0123456789ABCDEFGHIJKLMNOPQRSTUV"),up(5),Lo(""));Ro(Js(5),Io("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Lo(""),E2(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const To=Ro(Js(6),Io("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),up(6),Lo("")),NR=Ro(Js(6),Io("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),up(6),Lo("")),Lv=e=>Ro(kR(58),Io(e),Lo("")),Dy=Lv("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Lv("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Lv("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const __=[0,2,3,5,6,7,9,10,11],PR={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Dy.encode(r).padStart(__[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=__.indexOf(r.length),l=Dy.decode(r);for(let c=0;c<l.length-i;c++)if(l[c]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(l.slice(l.length-i)))}return Uint8Array.from(t)}},By=Ro(Io("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Lo("")),b_=[996825010,642813549,513874426,1027748829,705979059];function Uu(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<b_.length;r++)(t>>r&1)===1&&(n^=b_[r]);return n}function E_(e,t,n=1){const r=e.length;let i=1;for(let l=0;l<r;l++){const c=e.charCodeAt(l);if(c<33||c>126)throw new Error(`Invalid prefix (${e})`);i=Uu(i)^c>>5}i=Uu(i);for(let l=0;l<r;l++)i=Uu(i)^e.charCodeAt(l)&31;for(let l of t)i=Uu(i)^l;for(let l=0;l<6;l++)i=Uu(i);return i^=n,By.encode(zy([i%2**30],30,5,!1))}function S2(e){const t=e==="bech32"?1:734539939,n=Js(5),r=n.decode,i=n.encode,l=x_(r);function c(y,g,E=90){if(typeof y!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof y}`);if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof g}`);const _=y.length+7+g.length;if(E!==!1&&_>E)throw new TypeError(`Length ${_} exceeds limit ${E}`);return y=y.toLowerCase(),`${y}1${By.encode(g)}${E_(y,g,t)}`}function u(y,g=90){if(typeof y!="string")throw new Error(`bech32.decode input should be string, not ${typeof y}`);if(y.length<8||g!==!1&&y.length>g)throw new TypeError(`Wrong string length: ${y.length} (${y}). Expected (8..${g})`);const E=y.toLowerCase();if(y!==E&&y!==y.toUpperCase())throw new Error("String must be lowercase or uppercase");y=E;const _=y.lastIndexOf("1");if(_===0||_===-1)throw new Error('Letter "1" must be present between prefix and data only');const k=y.slice(0,_),w=y.slice(_+1);if(w.length<6)throw new Error("Data must be at least 6 characters long");const b=By.decode(w).slice(0,-6),S=E_(k,b,t);if(!w.endsWith(S))throw new Error(`Invalid checksum in ${y}: expected "${S}"`);return{prefix:k,words:b}}const f=x_(u);function m(y){const{prefix:g,words:E}=u(y,!1);return{prefix:g,words:E,bytes:r(E)}}return{encode:c,decode:u,decodeToBytes:m,decodeUnsafe:f,fromWords:r,fromWordsUnsafe:l,toWords:i}}const Cc=S2("bech32");S2("bech32m");const TR={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},jR=Ro(Js(4),Io("0123456789abcdef"),Lo(""),E2(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),AR={utf8:TR,hex:jR,base16:SR,base32:CR,base64:To,base64url:NR,base58:Dy,base58xmr:PR};`${Object.keys(AR).join(", ")}`;function Og(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function k_(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function RR(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function ko(e,...t){if(!RR(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Hn=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),IR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!IR)throw new Error("Non little-endian hardware is not supported");function LR(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function OR(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const MR=(e,t)=>(Object.assign(t,e),t),Us=16,zR=283;function Ov(e){return e<<1^zR&-(e>>7)}function Xl(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Ov(e);return n}const Fy=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=Ov(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),DR=Fy.map((e,t)=>Fy.indexOf(t)),BR=e=>e<<24|e>>>8,Mg=e=>e<<8|e>>>24;function C2(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((m,y)=>t(e[y])),r=n.map(Mg),i=r.map(Mg),l=i.map(Mg),c=new Uint32Array(256*256),u=new Uint32Array(256*256),f=new Uint16Array(256*256);for(let m=0;m<256;m++)for(let y=0;y<256;y++){const g=m*256+y;c[g]=n[m]^r[y],u[g]=i[m]^l[y],f[g]=e[m]<<8|e[y]}return{sbox:e,sbox2:f,T0:n,T1:r,T2:i,T3:l,T01:c,T23:u}}const Mv=C2(Fy,e=>Xl(e,3)<<24|e<<16|e<<8|Xl(e,2)),N2=C2(DR,e=>Xl(e,11)<<24|Xl(e,13)<<16|Xl(e,9)<<8|Xl(e,14)),FR=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Ov(n))e[t]=n;return e})();function P2(e){ko(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Mv,r=Hn(e),i=r.length,l=u=>$i(n,u,u,u,u),c=new Uint32Array(t+28);c.set(r);for(let u=i;u<c.length;u++){let f=c[u-1];u%i===0?f=l(BR(f))^FR[u/i-1]:i>6&&u%i===4&&(f=l(f)),c[u]=c[u-i]^f}return c}function UR(e){const t=P2(e),n=t.slice(),r=t.length,{sbox2:i}=Mv,{T0:l,T1:c,T2:u,T3:f}=N2;for(let m=0;m<r;m+=4)for(let y=0;y<4;y++)n[m+y]=t[r-m-4+y];t.fill(0);for(let m=4;m<r-4;m++){const y=n[m],g=$i(i,y,y,y,y);n[m]=l[g&255]^c[g>>>8&255]^u[g>>>16&255]^f[g>>>24]}return n}function Ds(e,t,n,r,i,l){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|l>>>24&255]}function $i(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function S_(e,t,n,r,i){const{sbox2:l,T01:c,T23:u}=Mv;let f=0;t^=e[f++],n^=e[f++],r^=e[f++],i^=e[f++];const m=e.length/4-2;for(let k=0;k<m;k++){const w=e[f++]^Ds(c,u,t,n,r,i),b=e[f++]^Ds(c,u,n,r,i,t),S=e[f++]^Ds(c,u,r,i,t,n),P=e[f++]^Ds(c,u,i,t,n,r);t=w,n=b,r=S,i=P}const y=e[f++]^$i(l,t,n,r,i),g=e[f++]^$i(l,n,r,i,t),E=e[f++]^$i(l,r,i,t,n),_=e[f++]^$i(l,i,t,n,r);return{s0:y,s1:g,s2:E,s3:_}}function $R(e,t,n,r,i){const{sbox2:l,T01:c,T23:u}=N2;let f=0;t^=e[f++],n^=e[f++],r^=e[f++],i^=e[f++];const m=e.length/4-2;for(let k=0;k<m;k++){const w=e[f++]^Ds(c,u,t,i,r,n),b=e[f++]^Ds(c,u,n,t,i,r),S=e[f++]^Ds(c,u,r,n,t,i),P=e[f++]^Ds(c,u,i,r,n,t);t=w,n=b,r=S,i=P}const y=e[f++]^$i(l,t,i,r,n),g=e[f++]^$i(l,n,t,i,r),E=e[f++]^$i(l,r,n,t,i),_=e[f++]^$i(l,i,r,n,t);return{s0:y,s1:g,s2:E,s3:_}}function T2(e,t){if(!t)return new Uint8Array(e);if(ko(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function ZR(e){if(ko(e),e.length%Us!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Us}`)}function HR(e,t,n){let r=e.length;const i=r%Us;if(!t&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const l=Hn(e);if(t){let f=Us-i;f||(f=Us),r=r+f}const c=T2(r,n),u=Hn(c);return{b:l,o:u,out:c}}function WR(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const i=e.subarray(0,-r);for(let l=0;l<r;l++)if(e[n-l-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function VR(e){const t=new Uint8Array(16),n=Hn(t);t.set(e);const r=Us-e.length;for(let i=Us-r;i<Us;i++)t[i]=r;return n}const j2=MR({blockSize:16,nonceLength:16},function(t,n,r={}){ko(t),ko(n,16);const i=!r.disablePadding;return{encrypt:(l,c)=>{const u=P2(t),{b:f,o:m,out:y}=HR(l,i,c),g=Hn(n);let E=g[0],_=g[1],k=g[2],w=g[3],b=0;for(;b+4<=f.length;)E^=f[b+0],_^=f[b+1],k^=f[b+2],w^=f[b+3],{s0:E,s1:_,s2:k,s3:w}=S_(u,E,_,k,w),m[b++]=E,m[b++]=_,m[b++]=k,m[b++]=w;if(i){const S=VR(l.subarray(b*4));E^=S[0],_^=S[1],k^=S[2],w^=S[3],{s0:E,s1:_,s2:k,s3:w}=S_(u,E,_,k,w),m[b++]=E,m[b++]=_,m[b++]=k,m[b++]=w}return u.fill(0),y},decrypt:(l,c)=>{ZR(l);const u=UR(t),f=Hn(n),m=T2(l.length,c),y=Hn(l),g=Hn(m);let E=f[0],_=f[1],k=f[2],w=f[3];for(let b=0;b+4<=y.length;){const S=E,P=_,R=k,D=w;E=y[b+0],_=y[b+1],k=y[b+2],w=y[b+3];const{s0:B,s1:q,s2:G,s3:J}=$R(u,E,_,k,w);g[b++]=B^S,g[b++]=q^P,g[b++]=G^R,g[b++]=J^D}return u.fill(0),WR(m,i)}}}),A2=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),qR=A2("expand 16-byte k"),KR=A2("expand 32-byte k"),GR=Hn(qR),R2=Hn(KR);R2.slice();function Lt(e,t){return e<<t|e>>>32-t}function Uy(e){return e.byteOffset%4===0}const oh=64,YR=16,I2=2**32-1,C_=new Uint32Array;function JR(e,t,n,r,i,l,c,u){const f=i.length,m=new Uint8Array(oh),y=Hn(m),g=Uy(i)&&Uy(l),E=g?Hn(i):C_,_=g?Hn(l):C_;for(let k=0;k<f;c++){if(e(t,n,r,y,c,u),c>=I2)throw new Error("arx: counter overflow");const w=Math.min(oh,f-k);if(g&&w===oh){const b=k/4;if(k%4!==0)throw new Error("arx: invalid block position");for(let S=0,P;S<YR;S++)P=b+S,_[P]=E[P]^y[S];k+=oh;continue}for(let b=0,S;b<w;b++)S=k+b,l[S]=i[S]^m[b];k+=w}}function QR(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:l,rounds:c}=LR({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Og(i),Og(c),k_(l),k_(n),(u,f,m,y,g=0)=>{ko(u),ko(f),ko(m);const E=m.length;if(y||(y=new Uint8Array(E)),ko(y),Og(g),g<0||g>=I2)throw new Error("arx: counter overflow");if(y.length<E)throw new Error(`arx: output (${y.length}) is shorter than data (${E})`);const _=[];let k=u.length,w,b;if(k===32)w=u.slice(),_.push(w),b=R2;else if(k===16&&n)w=new Uint8Array(32),w.set(u),w.set(u,16),b=GR,_.push(w);else throw new Error(`arx: invalid 32-byte key, got length=${k}`);Uy(f)||(f=f.slice(),_.push(f));const S=Hn(w);if(r){if(f.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(b,S,Hn(f.subarray(0,16)),S),f=f.subarray(16)}const P=16-i;if(P!==f.length)throw new Error(`arx: nonce must be ${P} or 16 bytes`);if(P!==12){const D=new Uint8Array(12);D.set(f,l?0:12-f.length),f=D,_.push(f)}const R=Hn(f);for(JR(e,b,S,R,m,y,g,c);_.length>0;)_.pop().fill(0);return y}}function XR(e,t,n,r,i,l=20){let c=e[0],u=e[1],f=e[2],m=e[3],y=t[0],g=t[1],E=t[2],_=t[3],k=t[4],w=t[5],b=t[6],S=t[7],P=i,R=n[0],D=n[1],B=n[2],q=c,G=u,J=f,V=m,Y=y,Q=g,U=E,re=_,M=k,W=w,ae=b,oe=S,ne=P,ee=R,le=D,F=B;for(let Ce=0;Ce<l;Ce+=2)q=q+Y|0,ne=Lt(ne^q,16),M=M+ne|0,Y=Lt(Y^M,12),q=q+Y|0,ne=Lt(ne^q,8),M=M+ne|0,Y=Lt(Y^M,7),G=G+Q|0,ee=Lt(ee^G,16),W=W+ee|0,Q=Lt(Q^W,12),G=G+Q|0,ee=Lt(ee^G,8),W=W+ee|0,Q=Lt(Q^W,7),J=J+U|0,le=Lt(le^J,16),ae=ae+le|0,U=Lt(U^ae,12),J=J+U|0,le=Lt(le^J,8),ae=ae+le|0,U=Lt(U^ae,7),V=V+re|0,F=Lt(F^V,16),oe=oe+F|0,re=Lt(re^oe,12),V=V+re|0,F=Lt(F^V,8),oe=oe+F|0,re=Lt(re^oe,7),q=q+Q|0,F=Lt(F^q,16),ae=ae+F|0,Q=Lt(Q^ae,12),q=q+Q|0,F=Lt(F^q,8),ae=ae+F|0,Q=Lt(Q^ae,7),G=G+U|0,ne=Lt(ne^G,16),oe=oe+ne|0,U=Lt(U^oe,12),G=G+U|0,ne=Lt(ne^G,8),oe=oe+ne|0,U=Lt(U^oe,7),J=J+re|0,ee=Lt(ee^J,16),M=M+ee|0,re=Lt(re^M,12),J=J+re|0,ee=Lt(ee^J,8),M=M+ee|0,re=Lt(re^M,7),V=V+Y|0,le=Lt(le^V,16),W=W+le|0,Y=Lt(Y^W,12),V=V+Y|0,le=Lt(le^V,8),W=W+le|0,Y=Lt(Y^W,7);let K=0;r[K++]=c+q|0,r[K++]=u+G|0,r[K++]=f+J|0,r[K++]=m+V|0,r[K++]=y+Y|0,r[K++]=g+Q|0,r[K++]=E+U|0,r[K++]=_+re|0,r[K++]=k+M|0,r[K++]=w+W|0,r[K++]=b+ae|0,r[K++]=S+oe|0,r[K++]=P+ne|0,r[K++]=R+ee|0,r[K++]=D+le|0,r[K++]=B+F|0}const L2=QR(XR,{counterRight:!1,counterLength:4,allowShortKeys:!1});class O2 extends v2{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Ui.hash(t);const r=id(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,l=new Uint8Array(i);l.set(r.length>i?t.create().update(r).digest():r);for(let c=0;c<l.length;c++)l[c]^=54;this.iHash.update(l),this.oHash=t.create();for(let c=0;c<l.length;c++)l[c]^=106;this.oHash.update(l),l.fill(0)}update(t){return Ui.exists(this),this.iHash.update(t),this}digestInto(t){Ui.exists(this),Ui.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:l,blockLen:c,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=l,t.blockLen=c,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dp=(e,t,n)=>new O2(e,t).update(n).digest();dp.create=(e,t)=>new O2(e,t);function e4(e,t,n){return Ui.hash(e),dp(e,id(n),id(t))}const zg=new Uint8Array([0]),N_=new Uint8Array;function t4(e,t,n,r=32){if(Ui.hash(e),Ui.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);n===void 0&&(n=N_);const l=new Uint8Array(i*e.outputLen),c=dp.create(e,t),u=c._cloneInto(),f=new Uint8Array(c.outputLen);for(let m=0;m<i;m++)zg[0]=m+1,u.update(m===0?N_:f).update(n).update(zg).digestInto(f),l.set(f,e.outputLen*m),c._cloneInto(u);return c.destroy(),u.destroy(),f.fill(0),zg.fill(0),l.slice(0,r)}var n4=Object.defineProperty,Xt=(e,t)=>{for(var n in t)n4(e,n,{get:t[n],enumerable:!0})},Kl=Symbol("verified"),r4=e=>e instanceof Object;function zv(e){if(!r4(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var i4={};Xt(i4,{Queue:()=>D2,QueueNode:()=>z2,binarySearch:()=>Dv,bytesToHex:()=>Zn,hexToBytes:()=>Ya,insertEventIntoAscendingList:()=>s4,insertEventIntoDescendingList:()=>o4,normalizeURL:()=>M2,utf8Decoder:()=>So,utf8Encoder:()=>gi});var So=new TextDecoder("utf-8"),gi=new TextEncoder;function M2(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch{throw new Error(`Invalid URL: ${e}`)}}function o4(e,t){const[n,r]=Dv(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:i.created_at-t.created_at);return r||e.splice(n,0,t),e}function s4(e,t){const[n,r]=Dv(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:t.created_at-i.created_at);return r||e.splice(n,0,t),e}function Dv(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),l=t(e[i]);if(l===0)return[i,!0];l<0?r=i-1:n=i+1}return[n,!1]}var z2=class{constructor(e){$e(this,"value");$e(this,"next",null);$e(this,"prev",null);this.value=e}},D2=class{constructor(){$e(this,"first");$e(this,"last");this.first=null,this.last=null}enqueue(e){const t=new z2(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},a4=class{generateSecretKey(){return Fu.utils.randomPrivateKey()}getPublicKey(e){return Zn(Fu.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Zn(Fu.getPublicKey(t)),n.id=Ju(n),n.sig=Zn(Fu.sign(Ju(n),t)),n[Kl]=!0,n}verifyEvent(e){if(typeof e[Kl]=="boolean")return e[Kl];const t=Ju(e);if(t!==e.id)return e[Kl]=!1,!1;try{const n=Fu.verify(e.sig,t,e.pubkey);return e[Kl]=n,n}catch{return e[Kl]=!1,!1}}};function l4(e){if(!zv(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Ju(e){let t=Mc(gi.encode(l4(e)));return Zn(t)}var fp=new a4,hp=fp.generateSecretKey,Vs=fp.getPublicKey,Xr=fp.finalizeEvent,Cd=fp.verifyEvent,c4={};Xt(c4,{Application:()=>l3,BadgeAward:()=>y4,BadgeDefinition:()=>t3,BlockedRelaysList:()=>B4,BookmarkList:()=>M4,Bookmarksets:()=>Q4,Calendar:()=>m3,CalendarEventRSVP:()=>g3,ChannelCreation:()=>H2,ChannelHideMessage:()=>q2,ChannelMessage:()=>V2,ChannelMetadata:()=>W2,ChannelMuteUser:()=>K2,ClassifiedListing:()=>d3,ClientAuth:()=>Y2,CommunitiesList:()=>z4,CommunityDefinition:()=>w3,CommunityPostApproval:()=>S4,Contacts:()=>p4,CreateOrUpdateProduct:()=>i3,CreateOrUpdateStall:()=>r3,Curationsets:()=>X4,Date:()=>h3,DirectMessageRelaysList:()=>Z4,DraftClassifiedListing:()=>f3,DraftLong:()=>s3,Emojisets:()=>a3,EncryptedDirectMessage:()=>m4,EventDeletion:()=>g4,FileMetadata:()=>w4,FileServerPreference:()=>H4,Followsets:()=>G4,GenericRepost:()=>Uv,Genericlists:()=>Y4,GiftWrap:()=>G2,HTTPAuth:()=>$v,Handlerinformation:()=>v3,Handlerrecommendation:()=>y3,Highlights:()=>R4,InterestsList:()=>U4,Interestsets:()=>n3,JobFeedback:()=>P4,JobRequest:()=>C4,JobResult:()=>N4,Label:()=>k4,LightningPubRPC:()=>V4,LiveChatMessage:()=>x4,LiveEvent:()=>c3,LongFormArticle:()=>o3,Metadata:()=>f4,Mutelist:()=>I4,NWCWalletInfo:()=>W4,NWCWalletRequest:()=>J2,NWCWalletResponse:()=>q4,NostrConnect:()=>K4,OpenTimestamps:()=>v4,Pinlist:()=>L4,PrivateDirectMessage:()=>Z2,ProblemTracker:()=>_4,ProfileBadges:()=>e3,PublicChatsList:()=>D4,Reaction:()=>Fv,RecommendRelay:()=>h4,RelayList:()=>O4,Relaysets:()=>J4,Report:()=>b4,Reporting:()=>E4,Repost:()=>Bv,Seal:()=>$2,SearchRelaysList:()=>F4,ShortTextNote:()=>U2,Time:()=>p3,UserEmojiList:()=>$4,UserStatuses:()=>u3,Zap:()=>A4,ZapGoal:()=>T4,ZapRequest:()=>j4,classifyKind:()=>u4,isAddressableKind:()=>mp,isEphemeralKind:()=>F2,isKind:()=>d4,isRegularKind:()=>B2,isReplaceableKind:()=>pp});function B2(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function pp(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function F2(e){return 2e4<=e&&e<3e4}function mp(e){return 3e4<=e&&e<4e4}function u4(e){return B2(e)?"regular":pp(e)?"replaceable":F2(e)?"ephemeral":mp(e)?"parameterized":"unknown"}function d4(e,t){const n=t instanceof Array?t:[t];return zv(e)&&n.includes(e.kind)||!1}var f4=0,U2=1,h4=2,p4=3,m4=4,g4=5,Bv=6,Fv=7,y4=8,$2=13,Z2=14,Uv=16,H2=40,W2=41,V2=42,q2=43,K2=44,v4=1040,G2=1059,w4=1063,x4=1311,_4=1971,b4=1984,E4=1984,k4=1985,S4=4550,C4=5999,N4=6999,P4=7e3,T4=9041,j4=9734,A4=9735,R4=9802,I4=1e4,L4=10001,O4=10002,M4=10003,z4=10004,D4=10005,B4=10006,F4=10007,U4=10015,$4=10030,Z4=10050,H4=10096,W4=13194,V4=21e3,Y2=22242,J2=23194,q4=23195,K4=24133,$v=27235,G4=3e4,Y4=30001,J4=30002,Q4=30003,X4=30004,e3=30008,t3=30009,n3=30015,r3=30017,i3=30018,o3=30023,s3=30024,a3=30030,l3=30078,c3=30311,u3=30315,d3=30402,f3=30403,h3=31922,p3=31923,m3=31924,g3=31925,y3=31989,v3=31990,w3=34550;function x3(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),i=e[`#${r}`];if(i&&!t.tags.find(([l,c])=>l===n.slice(1)&&i.indexOf(c)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function Q2(e,t){for(let n=0;n<e.length;n++)if(x3(e[n],t))return!0;return!1}function X2(e){var t,n,r,i,l,c;if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[u,f]of Object.entries(e))if(u[0]==="#"&&Array.isArray(f)&&!f.length)return 0;return Math.min(Math.max(0,e.limit??1/0),((t=e.ids)==null?void 0:t.length)??1/0,(n=e.authors)!=null&&n.length&&((r=e.kinds)!=null&&r.every(u=>pp(u)))?e.authors.length*e.kinds.length:1/0,(i=e.authors)!=null&&i.length&&((l=e.kinds)!=null&&l.every(u=>mp(u)))&&((c=e["#d"])!=null&&c.length)?e.authors.length*e.kinds.length*e["#d"].length:1/0)}var _3={};Xt(_3,{getHex64:()=>gp,getInt:()=>eE,getSubscriptionId:()=>tE,matchEventId:()=>b3,matchEventKind:()=>k3,matchEventPubkey:()=>E3});function gp(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function eE(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),l=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,l),10)}function tE(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(i===-1)return null;let l=r+1+i;return e.slice(r+1,l)}function b3(e,t){return t===gp(e,"id")}function E3(e,t){return t===gp(e,"pubkey")}function k3(e,t){return t===eE(e,"kind")}var S3={};Xt(S3,{makeAuthEvent:()=>nE});function nE(e,t){return{kind:Y2,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function C3(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var rE=class extends Error{constructor(e,t){super(`Tried to send message '${e} on a closed connection to ${t}.`),this.name="SendingOnClosedConnection"}},iE=class{constructor(e,t){$e(this,"url");$e(this,"_connected",!1);$e(this,"onclose",null);$e(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));$e(this,"baseEoseTimeout",4400);$e(this,"connectionTimeout",4400);$e(this,"publishTimeout",4400);$e(this,"openSubs",new Map);$e(this,"connectionTimeoutHandle");$e(this,"connectionPromise");$e(this,"openCountRequests",new Map);$e(this,"openEventPublishes",new Map);$e(this,"ws");$e(this,"incomingMessageQueue",new D2);$e(this,"queueRunning",!1);$e(this,"challenge");$e(this,"authPromise");$e(this,"serial",0);$e(this,"verifyEvent");$e(this,"_WebSocket");this.url=M2(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){const n=new iE(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket closed"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await C3();this.queueRunning=!1}handleNext(){var n,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=tE(e);if(t){const i=this.openSubs.get(t);if(!i)return;const l=gp(e,"id"),c=(n=i.alreadyHaveEvent)==null?void 0:n.call(i,l);if((r=i.receivedEvent)==null||r.call(i,this,l),c)return}try{let i=JSON.parse(e);switch(i[0]){case"EVENT":{const l=this.openSubs.get(i[1]),c=i[2];this.verifyEvent(c)&&Q2(l.filters,c)&&l.onevent(c);return}case"COUNT":{const l=i[1],c=i[2],u=this.openCountRequests.get(l);u&&(u.resolve(c.count),this.openCountRequests.delete(l));return}case"EOSE":{const l=this.openSubs.get(i[1]);if(!l)return;l.receivedEose();return}case"OK":{const l=i[1],c=i[2],u=i[3],f=this.openEventPublishes.get(l);f&&(clearTimeout(f.timeout),c?f.resolve(u):f.reject(new Error(u)),this.openEventPublishes.delete(l));return}case"CLOSED":{const l=i[1],c=this.openSubs.get(l);if(!c)return;c.closed=!0,c.close(i[2]);return}case"NOTICE":this.onnotice(i[1]);return;case"AUTH":{this.challenge=i[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new rE(e,this.url);this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){const t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let i=await e(nE(this.url,t)),l=setTimeout(()=>{let c=this.openEventPublishes.get(i.id);c&&(c.reject(new Error("auth timed out")),this.openEventPublishes.delete(i.id))},this.publishTimeout);this.openEventPublishes.set(i.id,{resolve:n,reject:r,timeout:l}),this.send('["AUTH",'+JSON.stringify(i)+"]")}catch(i){console.warn("subscribe auth function failed:",i)}}),this.authPromise)}async publish(e){const t=new Promise((n,r)=>{const i=setTimeout(()=>{const l=this.openEventPublishes.get(e.id);l&&(l.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:n,reject:r,timeout:i})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((i,l)=>{this.openCountRequests.set(n,{resolve:i,reject:l})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||(t.label?t.label+":":"sub:")+this.serial,r=new N3(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},N3=class{constructor(e,t,n,r){$e(this,"relay");$e(this,"id");$e(this,"closed",!1);$e(this,"eosed",!1);$e(this,"filters");$e(this,"alreadyHaveEvent");$e(this,"receivedEvent");$e(this,"onevent");$e(this,"oneose");$e(this,"onclose");$e(this,"eoseTimeout");$e(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(i=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,i)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof rE))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},oE;try{oE=WebSocket}catch{}var sE=class extends iE{constructor(e){super(e,{verifyEvent:Cd,websocketImplementation:oE})}static async connect(e){const t=new sE(e);return await t.connect(),t}},P3;try{P3=WebSocket}catch{}var tr={};Xt(tr,{BECH32_REGEX:()=>aE,Bech32MaxSize:()=>Zv,NostrTypeGuard:()=>T3,decode:()=>yp,decodeNostrURI:()=>A3,encodeBytes:()=>wp,naddrEncode:()=>z3,neventEncode:()=>M3,noteEncode:()=>L3,nprofileEncode:()=>O3,npubEncode:()=>I3,nsecEncode:()=>R3});var T3={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},Zv=5e3,aE=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function j3(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function A3(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),yp(e)}catch{return{type:"invalid",data:null}}}function yp(e){var i,l,c,u,f,m,y;let{prefix:t,words:n}=Cc.decode(e,Zv),r=new Uint8Array(Cc.fromWords(n));switch(t){case"nprofile":{let g=Dg(r);if(!((i=g[0])!=null&&i[0]))throw new Error("missing TLV 0 for nprofile");if(g[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Zn(g[0][0]),relays:g[1]?g[1].map(E=>So.decode(E)):[]}}}case"nevent":{let g=Dg(r);if(!((l=g[0])!=null&&l[0]))throw new Error("missing TLV 0 for nevent");if(g[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(g[2]&&g[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(g[3]&&g[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Zn(g[0][0]),relays:g[1]?g[1].map(E=>So.decode(E)):[],author:(c=g[2])!=null&&c[0]?Zn(g[2][0]):void 0,kind:(u=g[3])!=null&&u[0]?parseInt(Zn(g[3][0]),16):void 0}}}case"naddr":{let g=Dg(r);if(!((f=g[0])!=null&&f[0]))throw new Error("missing TLV 0 for naddr");if(!((m=g[2])!=null&&m[0]))throw new Error("missing TLV 2 for naddr");if(g[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((y=g[3])!=null&&y[0]))throw new Error("missing TLV 3 for naddr");if(g[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:So.decode(g[0][0]),pubkey:Zn(g[2][0]),kind:parseInt(Zn(g[3][0]),16),relays:g[1]?g[1].map(E=>So.decode(E)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Zn(r)};default:throw new Error(`unknown prefix ${t}`)}}function Dg(e){let t={},n=e;for(;n.length>0;){let r=n[0],i=n[1],l=n.slice(2,2+i);if(n=n.slice(2+i),l.length<i)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(l)}return t}function R3(e){return wp("nsec",e)}function I3(e){return wp("npub",Ya(e))}function L3(e){return wp("note",Ya(e))}function vp(e,t){let n=Cc.toWords(t);return Cc.encode(e,n,Zv)}function wp(e,t){return vp(e,t)}function O3(e){let t=Hv({0:[Ya(e.pubkey)],1:(e.relays||[]).map(n=>gi.encode(n))});return vp("nprofile",t)}function M3(e){let t;e.kind!==void 0&&(t=j3(e.kind));let n=Hv({0:[Ya(e.id)],1:(e.relays||[]).map(r=>gi.encode(r)),2:e.author?[Ya(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return vp("nevent",n)}function z3(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Hv({0:[gi.encode(e.identifier)],1:(e.relays||[]).map(r=>gi.encode(r)),2:[Ya(e.pubkey)],3:[new Uint8Array(t)]});return vp("naddr",n)}function Hv(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(i=>{let l=new Uint8Array(i.length+2);l.set([parseInt(n)],0),l.set([i.length],1),l.set(i,2),t.push(l)})}),cp(...t)}var od={};Xt(od,{decrypt:()=>D3,encrypt:()=>lE});function lE(e,t,n){const r=e instanceof Uint8Array?Zn(e):e,i=Oc.getSharedSecret(r,"02"+t),l=cE(i);let c=Uint8Array.from(x2(16)),u=gi.encode(n),f=j2(l,c).encrypt(u),m=To.encode(new Uint8Array(f)),y=To.encode(new Uint8Array(c.buffer));return`${m}?iv=${y}`}function D3(e,t,n){const r=e instanceof Uint8Array?Zn(e):e;let[i,l]=n.split("?iv="),c=Oc.getSharedSecret(r,"02"+t),u=cE(c),f=To.decode(l),m=To.decode(i),y=j2(u,f).decrypt(m);return So.decode(y)}function cE(e){return e.slice(1,33)}var B3={};Xt(B3,{NIP05_REGEX:()=>Wv,isNip05:()=>F3,isValid:()=>Z3,queryProfile:()=>uE,searchDomain:()=>$3,useFetchImplementation:()=>U3});var Wv=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,F3=e=>Wv.test(e||""),xp;try{xp=fetch}catch{}function U3(e){xp=e}async function $3(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await xp(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function uE(e){var i;const t=e.match(Wv);if(!t)return null;const[,n="_",r]=t;try{const l=`https://${r}/.well-known/nostr.json?name=${n}`,c=await xp(l,{redirect:"manual"});if(c.status!==200)throw Error("Wrong response code");const u=await c.json(),f=u.names[n];return f?{pubkey:f,relays:(i=u.relays)==null?void 0:i[f]}:null}catch{return null}}async function Z3(e,t){const n=await uE(t);return n?n.pubkey===e:!1}var H3={};Xt(H3,{parse:()=>W3});function W3(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let i=e.tags.length-1;i>=0;i--){const l=e.tags[i];if(l[0]==="e"&&l[1]){const[c,u,f,m,y]=l,g={id:u,relays:f?[f]:[],author:y};if(m==="root"){t.root=g;continue}if(m==="reply"){t.reply=g;continue}if(m==="mention"){t.mentions.push(g);continue}n?r=g:n=g,t.mentions.push(g);continue}if(l[0]==="q"&&l[1]){const[c,u,f]=l;t.quotes.push({id:u,relays:f?[f]:[]})}if(l[0]==="p"&&l[1]){t.profiles.push({pubkey:l[1],relays:l[2]?[l[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(i=>{if(!i)return;let l=t.mentions.indexOf(i);if(l!==-1&&t.mentions.splice(l,1),i.author){let c=t.profiles.find(u=>u.pubkey===i.author);c&&c.relays&&(i.relays||(i.relays=[]),c.relays.forEach(u=>{var f;((f=i.relays)==null?void 0:f.indexOf(u))===-1&&i.relays.push(u)}),c.relays=i.relays)}}),t.mentions.forEach(i=>{if(i.author){let l=t.profiles.find(c=>c.pubkey===i.author);l&&l.relays&&(i.relays||(i.relays=[]),l.relays.forEach(c=>{i.relays.indexOf(c)===-1&&i.relays.push(c)}),l.relays=i.relays)}}),t}var V3={};Xt(V3,{fetchRelayInformation:()=>K3,useFetchImplementation:()=>q3});var dE;try{dE=fetch}catch{}function q3(e){dE=e}async function K3(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var G3={};Xt(G3,{fastEventHash:()=>hE,getPow:()=>fE,minePow:()=>Y3});function fE(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function Y3(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const l=Math.floor(new Date().getTime()/1e3);if(l!==r.created_at&&(n=0,r.created_at=l),i[1]=(++n).toString(),r.id=hE(r),fE(r.id)>=t)break}return r}function hE(e){return Zn(Mc(gi.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var J3={};Xt(J3,{unwrapEvent:()=>lI,unwrapManyEvents:()=>cI,wrapEvent:()=>CE,wrapManyEvents:()=>aI});var Q3={};Xt(Q3,{createRumor:()=>bE,createSeal:()=>EE,createWrap:()=>kE,unwrapEvent:()=>Yv,unwrapManyEvents:()=>SE,wrapEvent:()=>Mh,wrapManyEvents:()=>oI});var Bs={};Xt(Bs,{decrypt:()=>Gv,encrypt:()=>Kv,getConversationKey:()=>Vv,v2:()=>rI});var pE=1,mE=65535;function Vv(e,t){const n=Oc.getSharedSecret(e,"02"+t).subarray(1,33);return e4(Mc,n,"nip44-v2")}function gE(e,t){const n=t4(Mc,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function qv(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function X3(e){if(!Number.isSafeInteger(e)||e<pE||e>mE)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function eI(e){const t=gi.encode(e),n=t.length,r=X3(n),i=new Uint8Array(qv(n)-n);return cp(r,t,i)}function tI(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<pE||t>mE||n.length!==t||e.length!==2+qv(t))throw new Error("invalid padding");return So.decode(n)}function yE(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=cp(n,t);return dp(Mc,e,r)}function nI(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=To.decode(e)}catch(l){throw new Error("invalid base64: "+l.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(i!==2)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function Kv(e,t,n=x2(32)){const{chacha_key:r,chacha_nonce:i,hmac_key:l}=gE(t,n),c=eI(e),u=L2(r,i,c),f=yE(l,u,n);return To.encode(cp(new Uint8Array([2]),n,u,f))}function Gv(e,t){const{nonce:n,ciphertext:r,mac:i}=nI(e),{chacha_key:l,chacha_nonce:c,hmac_key:u}=gE(t,n),f=yE(u,r,n);if(!OR(f,i))throw new Error("invalid MAC");const m=L2(l,c,r);return tI(m)}var rI={utils:{getConversationKey:Vv,calcPaddedLen:qv},encrypt:Kv,decrypt:Gv},iI=2*24*60*60,vE=()=>Math.round(Date.now()/1e3),wE=()=>Math.round(vE()-Math.random()*iI),xE=(e,t)=>Vv(e,t),_E=(e,t,n)=>Kv(JSON.stringify(e),xE(t,n)),P_=(e,t)=>JSON.parse(Gv(e.content,xE(t,e.pubkey)));function bE(e,t){const n={created_at:vE(),content:"",tags:[],...e,pubkey:Vs(t)};return n.id=Ju(n),n}function EE(e,t,n){return Xr({kind:$2,content:_E(e,t,n),created_at:wE(),tags:[]},t)}function kE(e,t){const n=hp();return Xr({kind:G2,content:_E(e,n,t),created_at:wE(),tags:[["p",t]]},n)}function Mh(e,t,n){const r=bE(e,t),i=EE(r,t,n);return kE(i,n)}function oI(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=Vs(t),i=[Mh(e,t,r)];return n.forEach(l=>{i.push(Mh(e,t,l))}),i}function Yv(e,t){const n=P_(e,t);return P_(n,t)}function SE(e,t){let n=[];return e.forEach(r=>{n.push(Yv(r,t))}),n.sort((r,i)=>r.created_at-i.created_at),n}function sI(e,t,n,r){const i={created_at:Math.ceil(Date.now()/1e3),kind:Z2,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:c,relayUrl:u})=>{i.tags.push(u?["p",c,u]:["p",c])}),r&&i.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&i.tags.push(["subject",n]),i}function CE(e,t,n,r,i){const l=sI(t,n,r,i);return Mh(l,e,t.publicKey)}function aI(e,t,n,r,i){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Vs(e)},...t].map(c=>CE(e,c,n,r,i))}var lI=Yv,cI=SE,uI={};Xt(uI,{finishRepostEvent:()=>dI,getRepostedEvent:()=>fI,getRepostedEventPointer:()=>NE});function dI(e,t,n,r){var c;let i;const l=[...e.tags??[],["e",t.id,n],["p",t.pubkey]];return t.kind===U2?i=Bv:(i=Uv,l.push(["k",String(t.kind)])),Xr({kind:i,tags:l,content:e.content===""||(c=t.tags)!=null&&c.find(u=>u[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function NE(e){if(![Bv,Uv].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function fI(e,{skipVerification:t}={}){const n=NE(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!Cd(r)))return r}var hI={};Xt(hI,{NOSTR_URI_REGEX:()=>Jv,parse:()=>mI,test:()=>pI});var Jv=new RegExp(`nostr:(${aE.source})`);function pI(e){return typeof e=="string"&&new RegExp(`^${Jv.source}$`).test(e)}function mI(e){const t=e.match(new RegExp(`^${Jv.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:yp(t[1])}}var gI={};Xt(gI,{finishReactionEvent:()=>yI,getReactedEventPointer:()=>vI});function yI(e,t,n){const r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return Xr({...e,kind:Fv,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function vI(e){if(e.kind!==Fv)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var wI={};Xt(wI,{parse:()=>_I});var xI=/\W/m,T_=/\W |\W$|$|,| /m;function*_I(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.indexOf(":",r);if(i===-1)break;if(e.substring(i-5,i)==="nostr"){const l=e.substring(i+60).match(xI),c=l?i+60+l.index:t;try{let u,{data:f,type:m}=yp(e.substring(i+1,c));switch(m){case"npub":u={pubkey:f};break;case"nsec":case"note":r=c+1;continue;default:u=f}n!==i-5&&(yield{type:"text",text:e.substring(n,i-5)}),yield{type:"reference",pointer:u},r=c,n=r;continue}catch{r=i+1;continue}}else if(e.substring(i-5,i)==="https"||e.substring(i-4,i)==="http"){const l=e.substring(i+4).match(T_),c=l?i+4+l.index:t,u=e[i-1]==="s"?5:4;try{let f=new URL(e.substring(i-u,c));if(f.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),f.pathname.endsWith(".png")||f.pathname.endsWith(".jpg")||f.pathname.endsWith(".jpeg")||f.pathname.endsWith(".gif")||f.pathname.endsWith(".webp")){yield{type:"image",url:f.toString()},r=c,n=r;continue}if(f.pathname.endsWith(".mp4")||f.pathname.endsWith(".avi")||f.pathname.endsWith(".webm")||f.pathname.endsWith(".mkv")){yield{type:"video",url:f.toString()},r=c,n=r;continue}if(f.pathname.endsWith(".mp3")||f.pathname.endsWith(".aac")||f.pathname.endsWith(".ogg")||f.pathname.endsWith(".opus")){yield{type:"audio",url:f.toString()},r=c,n=r;continue}yield{type:"url",url:f.toString()},r=c,n=r;continue}catch{r=c+1;continue}}else if(e.substring(i-3,i)==="wss"||e.substring(i-2,i)==="ws"){const l=e.substring(i+4).match(T_),c=l?i+4+l.index:t,u=e[i-1]==="s"?3:2;try{let f=new URL(e.substring(i-u,c));if(f.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),yield{type:"relay",url:f.toString()},r=c,n=r;continue}catch{r=c+1;continue}}else{r=i+1;continue}}n!==t&&(yield{type:"text",text:e.substring(n)})}var bI={};Xt(bI,{channelCreateEvent:()=>EI,channelHideMessageEvent:()=>CI,channelMessageEvent:()=>SI,channelMetadataEvent:()=>kI,channelMuteUserEvent:()=>NI});var EI=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Xr({kind:H2,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},kI=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Xr({kind:W2,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},SI=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Xr({kind:V2,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},CI=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Xr({kind:q2,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},NI=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Xr({kind:K2,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},PI={};Xt(PI,{EMOJI_SHORTCODE_REGEX:()=>PE,matchAll:()=>TI,regex:()=>Qv,replaceAll:()=>jI});var PE=/:(\w+):/,Qv=()=>new RegExp(`\\B${PE.source}\\B`,"g");function*TI(e){const t=e.matchAll(Qv());for(const n of t)try{const[r,i]=n;yield{shortcode:r,name:i,start:n.index,end:n.index+r.length}}catch{}}function jI(e,t){return e.replaceAll(Qv(),(n,r)=>t({shortcode:n,name:r}))}var AI={};Xt(AI,{useFetchImplementation:()=>RI,validateGithub:()=>II});var Xv;try{Xv=fetch}catch{}function RI(e){Xv=e}async function II(e,t,n){try{return await(await Xv(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var LI={};Xt(LI,{makeNwcRequestEvent:()=>MI,parseConnectionString:()=>OI});function OI(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),l=n.get("secret");if(!r||!i||!l)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:l}}async function MI(e,t,n){const i=lE(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),l={kind:J2,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return Xr(l,t)}var zI={};Xt(zI,{normalizeIdentifier:()=>DI});function DI(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var BI={};Xt(BI,{getSatoshisAmountFromBolt11:()=>WI,getZapEndpoint:()=>UI,makeZapReceipt:()=>HI,makeZapRequest:()=>$I,useFetchImplementation:()=>FI,validateZapRequest:()=>ZI});var e0;try{e0=fetch}catch{}function FI(e){e0=e}async function UI(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:c}=Cc.decode(n,1e3),u=Cc.fromWords(c);t=So.decode(u)}else if(r){let[c,u]=r.split("@");t=new URL(`/.well-known/lnurlp/${c}`,`https://${u}`).toString()}else return null;let l=await(await e0(t)).json();if(l.allowsNostr&&l.nostrPubkey)return l.callback}catch{}return null}function $I({profile:e,event:t,amount:n,relays:r,comment:i=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let l={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",n.toString()],["relays",...r]]};if(t&&typeof t=="string"&&l.tags.push(["e",t]),t&&typeof t=="object"){if(pp(t.kind)){const c=["a",`${t.kind}:${t.pubkey}:`];l.tags.push(c)}else if(mp(t.kind)){let c=t.tags.find(([f,m])=>f==="d"&&m);if(!c)throw new Error("d tag not found or is empty");const u=["a",`${t.kind}:${t.pubkey}:${c[1]}`];l.tags.push(u)}}return l}function ZI(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!zv(t))return"Zap request is not a valid Nostr event.";if(!Cd(t))return"Invalid signature on zap request.";let n=t.tags.find(([l,c])=>l==="p"&&c);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([l,c])=>l==="e"&&c);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([l,c])=>l==="relays"&&c)?null:"Zap request doesn't have a 'relays' tag."}function HI({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e),l=i.tags.filter(([u])=>u==="e"||u==="p"||u==="a"),c={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...l,["P",i.pubkey],["bolt11",n],["description",e]]};return t&&c.tags.push(["preimage",t]),c}function WI(e){if(e.length<50)return 0;e=e.substring(0,50);const t=e.lastIndexOf("1");if(t===-1)return 0;const n=e.substring(0,t);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const i=r[r.length-1],l=i.charCodeAt(0)-48,c=l>=0&&l<=9;let u=r.length-1;if(c&&u++,u<1)return 0;const f=parseInt(r.substring(0,u));switch(i){case"m":return f*1e5;case"u":return f*100;case"n":return f/10;case"p":return f/1e4;default:return f*1e8}}var VI={};Xt(VI,{getToken:()=>qI,hashPayload:()=>t0,unpackEventFromToken:()=>jE,validateEvent:()=>ME,validateEventKind:()=>RE,validateEventMethodTag:()=>LE,validateEventPayloadTag:()=>OE,validateEventTimestamp:()=>AE,validateEventUrlTag:()=>IE,validateToken:()=>KI});var TE="Nostr ";async function qI(e,t,n,r=!1,i){const l={kind:$v,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};i&&l.tags.push(["payload",t0(i)]);const c=await n(l);return(r?TE:"")+To.encode(gi.encode(JSON.stringify(c)))}async function KI(e,t,n){const r=await jE(e).catch(l=>{throw l});return await ME(r,t,n).catch(l=>{throw l})}async function jE(e){if(!e)throw new Error("Missing token");e=e.replace(TE,"");const t=So.decode(To.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function AE(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function RE(e){return e.kind===$v}function IE(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function LE(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function t0(e){const t=Mc(gi.encode(JSON.stringify(e)));return Zn(t)}function OE(e,t){const n=e.tags.find(i=>i[0]==="payload");if(!n)return!1;const r=t0(t);return n.length>0&&n[1]===r}async function ME(e,t,n,r){if(!Cd(e))throw new Error("Invalid nostr event, signature invalid");if(!RE(e))throw new Error("Invalid nostr event, kind invalid");if(!AE(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!IE(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!LE(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!OE(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var C1,N1,np,zE;const Oi=class Oi{constructor(t){tt(this,np);$e(this,"cache");$e(this,C1,"NSet");this.cache=t??new Map}get size(){return this.cache.size}add(t){mt(this,np,zE).call(this,t);for(const n of this){if(Oi.deletes(n,t)||Oi.replaces(n,t))return this;Oi.replaces(t,n)&&this.delete(n)}return this.cache.set(t.id,t),this}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,n){return this.cache.forEach((r,i)=>t(r,r,this),n)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of Oi.sortEvents([...this.cache.values()]))yield t}[(N1=Symbol.iterator,C1=Symbol.toStringTag,N1)](){return this.values()}static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isAddressable(t){return 3e4<=t&&t<4e4}static replaces(t,n){var l,c;const{kind:r,pubkey:i}=t;if(Oi.isReplaceable(r))return r===n.kind&&i===n.pubkey&&Oi.sortEvents([t,n])[0]===t;if(Oi.isAddressable(r)){const u=((l=t.tags.find(([m])=>m==="d"))==null?void 0:l[1])||"",f=((c=n.tags.find(([m])=>m==="d"))==null?void 0:c[1])||"";return r===n.kind&&i===n.pubkey&&Oi.sortEvents([t,n])[0]===t&&u===f}return!1}static deletes(t,n){const{kind:r,pubkey:i,tags:l}=t;if(r===5&&i===n.pubkey){for(const[c,u]of l)if(c==="e"&&u===n.id)return!0}return!1}static sortEvents(t){return t.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}};np=new WeakSet,zE=function(t){if(t.kind===5){for(const n of t.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===t.pubkey&&this.delete(r)}}};let zh=Oi;const GI=Object.freeze({status:"aborted"});function Pe(e,t,n){function r(u,f){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:f,constr:c,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,f);const m=c.prototype,y=Object.keys(m);for(let g=0;g<y.length;g++){const E=y[g];E in u||(u[E]=m[E].bind(u))}}const i=(n==null?void 0:n.Parent)??Object;class l extends i{}Object.defineProperty(l,"name",{value:e});function c(u){var f;const m=n!=null&&n.Parent?new l:this;r(m,u),(f=m._zod).deferred??(f.deferred=[]);for(const y of m._zod.deferred)y();return m}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:u=>{var f,m;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(m=(f=u==null?void 0:u._zod)==null?void 0:f.traits)==null?void 0:m.has(e)}}),Object.defineProperty(c,"name",{value:e}),c}class rc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class DE extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const BE={};function qs(e){return BE}function FE(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function $y(e,t){return typeof t=="bigint"?t.toString():t}function n0(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function r0(e){return e==null}function i0(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function YI(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f!=null&&f[1]&&(i=Number.parseInt(f[1]))}const l=n>i?n:i,c=Number.parseInt(e.toFixed(l).replace(".","")),u=Number.parseInt(t.toFixed(l).replace(".",""));return c%u/10**l}const j_=Symbol("evaluating");function Bt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==j_)return r===void 0&&(r=j_,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function el(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Qs(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function A_(e){return JSON.stringify(e)}function JI(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const UE="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Dh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const QI=n0(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Nc(e){if(Dh(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Dh(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function $E(e){return Nc(e)?{...e}:Array.isArray(e)?[...e]:e}const XI=new Set(["string","number","symbol"]);function Pc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Xs(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function nt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function eL(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const tL={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function nL(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const l=Qs(e._zod.def,{get shape(){const c={};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&(c[u]=n.shape[u])}return el(this,"shape",c),c},checks:[]});return Xs(e,l)}function rL(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const l=Qs(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&delete c[u]}return el(this,"shape",c),c},checks:[]});return Xs(e,l)}function iL(e,t){if(!Nc(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const l=e._zod.def.shape;for(const c in t)if(Object.getOwnPropertyDescriptor(l,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=Qs(e._zod.def,{get shape(){const l={...e._zod.def.shape,...t};return el(this,"shape",l),l}});return Xs(e,i)}function oL(e,t){if(!Nc(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Qs(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return el(this,"shape",r),r}});return Xs(e,n)}function sL(e,t){const n=Qs(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return el(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Xs(e,n)}function aL(e,t,n){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=Qs(t._zod.def,{get shape(){const u=t._zod.def.shape,f={...u};if(n)for(const m in n){if(!(m in u))throw new Error(`Unrecognized key: "${m}"`);n[m]&&(f[m]=e?new e({type:"optional",innerType:u[m]}):u[m])}else for(const m in u)f[m]=e?new e({type:"optional",innerType:u[m]}):u[m];return el(this,"shape",f),f},checks:[]});return Xs(t,c)}function lL(e,t,n){const r=Qs(t._zod.def,{get shape(){const i=t._zod.def.shape,l={...i};if(n)for(const c in n){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=new e({type:"nonoptional",innerType:i[c]}))}else for(const c in i)l[c]=new e({type:"nonoptional",innerType:i[c]});return el(this,"shape",l),l}});return Xs(t,r)}function ec(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function La(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function sh(e){return typeof e=="string"?e:e==null?void 0:e.message}function Ks(e,t,n){var i,l,c,u,f,m;const r={...e,path:e.path??[]};if(!e.message){const y=sh((c=(l=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:l.error)==null?void 0:c.call(l,e))??sh((u=t==null?void 0:t.error)==null?void 0:u.call(t,e))??sh((f=n.customError)==null?void 0:f.call(n,e))??sh((m=n.localeError)==null?void 0:m.call(n,e))??"Invalid input";r.message=y}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function o0(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function sd(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const ZE=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,$y,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},HE=Pe("$ZodError",ZE),WE=Pe("$ZodError",ZE,{Parent:Error});function cL(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function uL(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>r({issues:c}));else if(l.code==="invalid_key")r({issues:l.issues});else if(l.code==="invalid_element")r({issues:l.issues});else if(l.path.length===0)n._errors.push(t(l));else{let c=n,u=0;for(;u<l.path.length;){const f=l.path[u];u===l.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(t(l))):c[f]=c[f]||{_errors:[]},c=c[f],u++}}};return r(e),n}const s0=e=>(t,n,r,i)=>{const l=r?Object.assign(r,{async:!1}):{async:!1},c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise)throw new rc;if(c.issues.length){const u=new((i==null?void 0:i.Err)??e)(c.issues.map(f=>Ks(f,l,qs())));throw UE(u,i==null?void 0:i.callee),u}return c.value},a0=e=>async(t,n,r,i)=>{const l=r?Object.assign(r,{async:!0}):{async:!0};let c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const u=new((i==null?void 0:i.Err)??e)(c.issues.map(f=>Ks(f,l,qs())));throw UE(u,i==null?void 0:i.callee),u}return c.value},_p=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},l=t._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new rc;return l.issues.length?{success:!1,error:new(e??HE)(l.issues.map(c=>Ks(c,i,qs())))}:{success:!0,data:l.value}},dL=_p(WE),bp=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new e(l.issues.map(c=>Ks(c,i,qs())))}:{success:!0,data:l.value}},fL=bp(WE),hL=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return s0(e)(t,n,i)},pL=e=>(t,n,r)=>s0(e)(t,n,r),mL=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return a0(e)(t,n,i)},gL=e=>async(t,n,r)=>a0(e)(t,n,r),yL=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return _p(e)(t,n,i)},vL=e=>(t,n,r)=>_p(e)(t,n,r),wL=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return bp(e)(t,n,i)},xL=e=>async(t,n,r)=>bp(e)(t,n,r),_L=/^[cC][^\s-]{8,}$/,bL=/^[0-9a-z]+$/,EL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,kL=/^[0-9a-vA-V]{20}$/,SL=/^[A-Za-z0-9]{27}$/,CL=/^[a-zA-Z0-9_-]{21}$/,NL=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,PL=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,R_=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,TL=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,jL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function AL(){return new RegExp(jL,"u")}const RL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,LL=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,OL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ML=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,VE=/^[A-Za-z0-9_-]*$/,zL=/^\+[1-9]\d{6,14}$/,qE="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",DL=new RegExp(`^${qE}$`);function KE(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function BL(e){return new RegExp(`^${KE(e)}$`)}function FL(e){const t=KE({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${qE}T(?:${r})$`)}const UL=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},$L=/^-?\d+$/,GE=/^-?\d+(?:\.\d+)?$/,ZL=/^(?:true|false)$/i,HL=/^[^A-Z]*$/,WL=/^[^a-z]*$/,gr=Pe("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),YE={number:"number",bigint:"bigint",object:"date"},JE=Pe("$ZodCheckLessThan",(e,t)=>{gr.init(e,t);const n=YE[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,l=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<l&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),QE=Pe("$ZodCheckGreaterThan",(e,t)=>{gr.init(e,t);const n=YE[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,l=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>l&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),VL=Pe("$ZodCheckMultipleOf",(e,t)=>{gr.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):YI(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),qL=Pe("$ZodCheckNumberFormat",(e,t)=>{var c;gr.init(e,t),t.format=t.format||"float64";const n=(c=t.format)==null?void 0:c.includes("int"),r=n?"int":"number",[i,l]=tL[t.format];e._zod.onattach.push(u=>{const f=u._zod.bag;f.format=t.format,f.minimum=i,f.maximum=l,n&&(f.pattern=$L)}),e._zod.check=u=>{const f=u.value;if(n){if(!Number.isInteger(f)){u.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:f,inst:e});return}if(!Number.isSafeInteger(f)){f>0?u.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):u.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}f<i&&u.issues.push({origin:"number",input:f,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),f>l&&u.issues.push({origin:"number",input:f,code:"too_big",maximum:l,inclusive:!0,inst:e,continue:!t.abort})}}),KL=Pe("$ZodCheckMaxLength",(e,t)=>{var n;gr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!r0(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const c=o0(i);r.issues.push({origin:c,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),GL=Pe("$ZodCheckMinLength",(e,t)=>{var n;gr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!r0(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const c=o0(i);r.issues.push({origin:c,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),YL=Pe("$ZodCheckLengthEquals",(e,t)=>{var n;gr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!r0(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,l=i.length;if(l===t.length)return;const c=o0(i),u=l>t.length;r.issues.push({origin:c,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Ep=Pe("$ZodCheckStringFormat",(e,t)=>{var n,r;gr.init(e,t),e._zod.onattach.push(i=>{const l=i._zod.bag;l.format=t.format,t.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),JL=Pe("$ZodCheckRegex",(e,t)=>{Ep.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),QL=Pe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=HL),Ep.init(e,t)}),XL=Pe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=WL),Ep.init(e,t)}),eO=Pe("$ZodCheckIncludes",(e,t)=>{gr.init(e,t);const n=Pc(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),tO=Pe("$ZodCheckStartsWith",(e,t)=>{gr.init(e,t);const n=new RegExp(`^${Pc(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),nO=Pe("$ZodCheckEndsWith",(e,t)=>{gr.init(e,t);const n=new RegExp(`.*${Pc(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),rO=Pe("$ZodCheckOverwrite",(e,t)=>{gr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class iO{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(c=>c),i=Math.min(...r.map(c=>c.length-c.trimStart().length)),l=r.map(c=>c.slice(i)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(l=>`  ${l}`)];return new t(...n,i.join(`
`))}}const oO={major:4,minor:3,patch:6},Yt=Pe("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=oO;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const l of r)for(const c of l._zod.onattach)c(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const l=(u,f,m)=>{let y=ec(u),g;for(const E of f){if(E._zod.def.when){if(!E._zod.def.when(u))continue}else if(y)continue;const _=u.issues.length,k=E._zod.check(u);if(k instanceof Promise&&(m==null?void 0:m.async)===!1)throw new rc;if(g||k instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await k,u.issues.length!==_&&(y||(y=ec(u,_)))});else{if(u.issues.length===_)continue;y||(y=ec(u,_))}}return g?g.then(()=>u):u},c=(u,f,m)=>{if(ec(u))return u.aborted=!0,u;const y=l(f,r,m);if(y instanceof Promise){if(m.async===!1)throw new rc;return y.then(g=>e._zod.parse(g,m))}return e._zod.parse(y,m)};e._zod.run=(u,f)=>{if(f.skipChecks)return e._zod.parse(u,f);if(f.direction==="backward"){const y=e._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return y instanceof Promise?y.then(g=>c(g,u,f)):c(y,u,f)}const m=e._zod.parse(u,f);if(m instanceof Promise){if(f.async===!1)throw new rc;return m.then(y=>l(y,r,f))}return l(m,r,f)}}Bt(e,"~standard",()=>({validate:l=>{var c;try{const u=dL(e,l);return u.success?{value:u.data}:{issues:(c=u.error)==null?void 0:c.issues}}catch{return fL(e,l).then(f=>{var m;return f.success?{value:f.data}:{issues:(m=f.error)==null?void 0:m.issues}})}},vendor:"zod",version:1}))}),l0=Pe("$ZodString",(e,t)=>{var n;Yt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??UL(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),en=Pe("$ZodStringFormat",(e,t)=>{Ep.init(e,t),l0.init(e,t)}),sO=Pe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=PL),en.init(e,t)}),aO=Pe("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=R_(r))}else t.pattern??(t.pattern=R_());en.init(e,t)}),lO=Pe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=TL),en.init(e,t)}),cO=Pe("$ZodURL",(e,t)=>{en.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),uO=Pe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=AL()),en.init(e,t)}),dO=Pe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=CL),en.init(e,t)}),fO=Pe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=_L),en.init(e,t)}),hO=Pe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=bL),en.init(e,t)}),pO=Pe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=EL),en.init(e,t)}),mO=Pe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=kL),en.init(e,t)}),gO=Pe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=SL),en.init(e,t)}),yO=Pe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=FL(t)),en.init(e,t)}),vO=Pe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=DL),en.init(e,t)}),wO=Pe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=BL(t)),en.init(e,t)}),xO=Pe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=NL),en.init(e,t)}),_O=Pe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=RL),en.init(e,t),e._zod.bag.format="ipv4"}),bO=Pe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=IL),en.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),EO=Pe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=LL),en.init(e,t)}),kO=Pe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=OL),en.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,l]=r;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function XE(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const SO=Pe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=ML),en.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{XE(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function CO(e){if(!VE.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return XE(n)}const NO=Pe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=VE),en.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{CO(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),PO=Pe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=zL),en.init(e,t)});function TO(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const jO=Pe("$ZodJWT",(e,t)=>{en.init(e,t),e._zod.check=n=>{TO(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),ek=Pe("$ZodNumber",(e,t)=>{Yt.init(e,t),e._zod.pattern=e._zod.bag.pattern??GE,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const l=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...l?{received:l}:{}}),n}}),AO=Pe("$ZodNumberFormat",(e,t)=>{qL.init(e,t),ek.init(e,t)}),RO=Pe("$ZodBoolean",(e,t)=>{Yt.init(e,t),e._zod.pattern=ZL,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),IO=Pe("$ZodUnknown",(e,t)=>{Yt.init(e,t),e._zod.parse=n=>n}),LO=Pe("$ZodNever",(e,t)=>{Yt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function I_(e,t,n){e.issues.length&&t.issues.push(...La(n,e.issues)),t.value[n]=e.value}const OO=Pe("$ZodArray",(e,t)=>{Yt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const l=[];for(let c=0;c<i.length;c++){const u=i[c],f=t.element._zod.run({value:u,issues:[]},r);f instanceof Promise?l.push(f.then(m=>I_(m,n,c))):I_(f,n,c)}return l.length?Promise.all(l).then(()=>n):n}});function Bh(e,t,n,r,i){if(e.issues.length){if(i&&!(n in r))return;t.issues.push(...La(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function tk(e){var r,i,l,c;const t=Object.keys(e.shape);for(const u of t)if(!((c=(l=(i=(r=e.shape)==null?void 0:r[u])==null?void 0:i._zod)==null?void 0:l.traits)!=null&&c.has("$ZodType")))throw new Error(`Invalid element at key "${u}": expected a Zod schema`);const n=eL(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function nk(e,t,n,r,i,l){const c=[],u=i.keySet,f=i.catchall._zod,m=f.def.type,y=f.optout==="optional";for(const g in t){if(u.has(g))continue;if(m==="never"){c.push(g);continue}const E=f.run({value:t[g],issues:[]},r);E instanceof Promise?e.push(E.then(_=>Bh(_,n,g,t,y))):Bh(E,n,g,t,y)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:t,inst:l}),e.length?Promise.all(e).then(()=>n):n}const MO=Pe("$ZodObject",(e,t)=>{Yt.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const f={...u};return Object.defineProperty(t,"shape",{value:f}),f}})}const r=n0(()=>tk(t));Bt(e._zod,"propValues",()=>{const u=t.shape,f={};for(const m in u){const y=u[m]._zod;if(y.values){f[m]??(f[m]=new Set);for(const g of y.values)f[m].add(g)}}return f});const i=Dh,l=t.catchall;let c;e._zod.parse=(u,f)=>{c??(c=r.value);const m=u.value;if(!i(m))return u.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),u;u.value={};const y=[],g=c.shape;for(const E of c.keys){const _=g[E],k=_._zod.optout==="optional",w=_._zod.run({value:m[E],issues:[]},f);w instanceof Promise?y.push(w.then(b=>Bh(b,u,E,m,k))):Bh(w,u,E,m,k)}return l?nk(y,m,u,f,r.value,e):y.length?Promise.all(y).then(()=>u):u}}),zO=Pe("$ZodObjectJIT",(e,t)=>{MO.init(e,t);const n=e._zod.parse,r=n0(()=>tk(t)),i=E=>{var R;const _=new iO(["shape","payload","ctx"]),k=r.value,w=D=>{const B=A_(D);return`shape[${B}]._zod.run({ value: input[${B}], issues: [] }, ctx)`};_.write("const input = payload.value;");const b=Object.create(null);let S=0;for(const D of k.keys)b[D]=`key_${S++}`;_.write("const newResult = {};");for(const D of k.keys){const B=b[D],q=A_(D),G=E[D],J=((R=G==null?void 0:G._zod)==null?void 0:R.optout)==="optional";_.write(`const ${B} = ${w(D)};`),J?_.write(`
        if (${B}.issues.length) {
          if (${q} in input) {
            payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${q}, ...iss.path] : [${q}]
            })));
          }
        }
        
        if (${B}.value === undefined) {
          if (${q} in input) {
            newResult[${q}] = undefined;
          }
        } else {
          newResult[${q}] = ${B}.value;
        }
        
      `):_.write(`
        if (${B}.issues.length) {
          payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${q}, ...iss.path] : [${q}]
          })));
        }
        
        if (${B}.value === undefined) {
          if (${q} in input) {
            newResult[${q}] = undefined;
          }
        } else {
          newResult[${q}] = ${B}.value;
        }
        
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const P=_.compile();return(D,B)=>P(E,D,B)};let l;const c=Dh,u=!BE.jitless,m=u&&QI.value,y=t.catchall;let g;e._zod.parse=(E,_)=>{g??(g=r.value);const k=E.value;return c(k)?u&&m&&(_==null?void 0:_.async)===!1&&_.jitless!==!0?(l||(l=i(t.shape)),E=l(E,_),y?nk([],k,E,_,g,e):E):n(E,_):(E.issues.push({expected:"object",code:"invalid_type",input:k,inst:e}),E)}});function L_(e,t,n,r){for(const l of e)if(l.issues.length===0)return t.value=l.value,t;const i=e.filter(l=>!ec(l));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(l=>l.issues.map(c=>Ks(c,r,qs())))}),t)}const DO=Pe("$ZodUnion",(e,t)=>{Yt.init(e,t),Bt(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Bt(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Bt(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Bt(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>i0(l.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,l)=>{if(n)return r(i,l);let c=!1;const u=[];for(const f of t.options){const m=f._zod.run({value:i.value,issues:[]},l);if(m instanceof Promise)u.push(m),c=!0;else{if(m.issues.length===0)return m;u.push(m)}}return c?Promise.all(u).then(f=>L_(f,i,e,l)):L_(u,i,e,l)}}),BO=Pe("$ZodIntersection",(e,t)=>{Yt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,l=t.left._zod.run({value:i,issues:[]},r),c=t.right._zod.run({value:i,issues:[]},r);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([f,m])=>O_(n,f,m)):O_(n,l,c)}});function Zy(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Nc(e)&&Nc(t)){const n=Object.keys(t),r=Object.keys(e).filter(l=>n.indexOf(l)!==-1),i={...e,...t};for(const l of r){const c=Zy(e[l],t[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};i[l]=c.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],l=t[r],c=Zy(i,l);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function O_(e,t,n){const r=new Map;let i;for(const u of t.issues)if(u.code==="unrecognized_keys"){i??(i=u);for(const f of u.keys)r.has(f)||r.set(f,{}),r.get(f).l=!0}else e.issues.push(u);for(const u of n.issues)if(u.code==="unrecognized_keys")for(const f of u.keys)r.has(f)||r.set(f,{}),r.get(f).r=!0;else e.issues.push(u);const l=[...r].filter(([,u])=>u.l&&u.r).map(([u])=>u);if(l.length&&i&&e.issues.push({...i,keys:l}),ec(e))return e;const c=Zy(t.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return e.value=c.data,e}const FO=Pe("$ZodTuple",(e,t)=>{Yt.init(e,t);const n=t.items;e._zod.parse=(r,i)=>{const l=r.value;if(!Array.isArray(l))return r.issues.push({input:l,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const c=[],u=[...n].reverse().findIndex(y=>y._zod.optin!=="optional"),f=u===-1?0:n.length-u;if(!t.rest){const y=l.length>n.length,g=l.length<f-1;if(y||g)return r.issues.push({...y?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:l,inst:e,origin:"array"}),r}let m=-1;for(const y of n){if(m++,m>=l.length&&m>=f)continue;const g=y._zod.run({value:l[m],issues:[]},i);g instanceof Promise?c.push(g.then(E=>ah(E,r,m))):ah(g,r,m)}if(t.rest){const y=l.slice(n.length);for(const g of y){m++;const E=t.rest._zod.run({value:g,issues:[]},i);E instanceof Promise?c.push(E.then(_=>ah(_,r,m))):ah(E,r,m)}}return c.length?Promise.all(c).then(()=>r):r}});function ah(e,t,n){e.issues.length&&t.issues.push(...La(n,e.issues)),t.value[n]=e.value}const UO=Pe("$ZodRecord",(e,t)=>{Yt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Nc(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const l=[],c=t.keyType._zod.values;if(c){n.value={};const u=new Set;for(const m of c)if(typeof m=="string"||typeof m=="number"||typeof m=="symbol"){u.add(typeof m=="number"?m.toString():m);const y=t.valueType._zod.run({value:i[m],issues:[]},r);y instanceof Promise?l.push(y.then(g=>{g.issues.length&&n.issues.push(...La(m,g.issues)),n.value[m]=g.value})):(y.issues.length&&n.issues.push(...La(m,y.issues)),n.value[m]=y.value)}let f;for(const m in i)u.has(m)||(f=f??[],f.push(m));f&&f.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:f})}else{n.value={};for(const u of Reflect.ownKeys(i)){if(u==="__proto__")continue;let f=t.keyType._zod.run({value:u,issues:[]},r);if(f instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof u=="string"&&GE.test(u)&&f.issues.length){const g=t.keyType._zod.run({value:Number(u),issues:[]},r);if(g instanceof Promise)throw new Error("Async schemas not supported in object keys currently");g.issues.length===0&&(f=g)}if(f.issues.length){t.mode==="loose"?n.value[u]=i[u]:n.issues.push({code:"invalid_key",origin:"record",issues:f.issues.map(g=>Ks(g,r,qs())),input:u,path:[u],inst:e});continue}const y=t.valueType._zod.run({value:i[u],issues:[]},r);y instanceof Promise?l.push(y.then(g=>{g.issues.length&&n.issues.push(...La(u,g.issues)),n.value[f.value]=g.value})):(y.issues.length&&n.issues.push(...La(u,y.issues)),n.value[f.value]=y.value)}}return l.length?Promise.all(l).then(()=>n):n}}),$O=Pe("$ZodEnum",(e,t)=>{Yt.init(e,t);const n=FE(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>XI.has(typeof i)).map(i=>typeof i=="string"?Pc(i):i.toString()).join("|")})$`),e._zod.parse=(i,l)=>{const c=i.value;return r.has(c)||i.issues.push({code:"invalid_value",values:n,input:c,inst:e}),i}}),ZO=Pe("$ZodLiteral",(e,t)=>{if(Yt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Pc(r):r?Pc(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const l=r.value;return n.has(l)||r.issues.push({code:"invalid_value",values:t.values,input:l,inst:e}),r}}),HO=Pe("$ZodTransform",(e,t)=>{Yt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new DE(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(c=>(n.value=c,n));if(i instanceof Promise)throw new rc;return n.value=i,n}});function M_(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const rk=Pe("$ZodOptional",(e,t)=>{Yt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Bt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Bt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${i0(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>M_(l,n.value)):M_(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),WO=Pe("$ZodExactOptional",(e,t)=>{rk.init(e,t),Bt(e._zod,"values",()=>t.innerType._zod.values),Bt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),VO=Pe("$ZodNullable",(e,t)=>{Yt.init(e,t),Bt(e._zod,"optin",()=>t.innerType._zod.optin),Bt(e._zod,"optout",()=>t.innerType._zod.optout),Bt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${i0(n.source)}|null)$`):void 0}),Bt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),qO=Pe("$ZodDefault",(e,t)=>{Yt.init(e,t),e._zod.optin="optional",Bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>z_(l,t)):z_(i,t)}});function z_(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const KO=Pe("$ZodPrefault",(e,t)=>{Yt.init(e,t),e._zod.optin="optional",Bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),GO=Pe("$ZodNonOptional",(e,t)=>{Yt.init(e,t),Bt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>D_(l,e)):D_(i,e)}});function D_(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const YO=Pe("$ZodCatch",(e,t)=>{Yt.init(e,t),Bt(e._zod,"optin",()=>t.innerType._zod.optin),Bt(e._zod,"optout",()=>t.innerType._zod.optout),Bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=t.catchValue({...n,error:{issues:l.issues.map(c=>Ks(c,r,qs()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(l=>Ks(l,r,qs()))},input:n.value}),n.issues=[]),n)}}),JO=Pe("$ZodPipe",(e,t)=>{Yt.init(e,t),Bt(e._zod,"values",()=>t.in._zod.values),Bt(e._zod,"optin",()=>t.in._zod.optin),Bt(e._zod,"optout",()=>t.out._zod.optout),Bt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const l=t.out._zod.run(n,r);return l instanceof Promise?l.then(c=>lh(c,t.in,r)):lh(l,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(l=>lh(l,t.out,r)):lh(i,t.out,r)}});function lh(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const QO=Pe("$ZodReadonly",(e,t)=>{Yt.init(e,t),Bt(e._zod,"propValues",()=>t.innerType._zod.propValues),Bt(e._zod,"values",()=>t.innerType._zod.values),Bt(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Bt(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(B_):B_(i)}});function B_(e){return e.value=Object.freeze(e.value),e}const XO=Pe("$ZodCustom",(e,t)=>{gr.init(e,t),Yt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(l=>F_(l,n,r,e));F_(i,n,r,e)}});function F_(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(sd(i))}}var U_;class eM{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function tM(){return new eM}(U_=globalThis).__zod_globalRegistry??(U_.__zod_globalRegistry=tM());const Vu=globalThis.__zod_globalRegistry;function nM(e,t){return new e({type:"string",...nt(t)})}function ik(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...nt(t)})}function $_(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...nt(t)})}function rM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...nt(t)})}function iM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...nt(t)})}function oM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...nt(t)})}function sM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...nt(t)})}function ok(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...nt(t)})}function aM(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...nt(t)})}function lM(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...nt(t)})}function cM(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...nt(t)})}function uM(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...nt(t)})}function dM(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...nt(t)})}function fM(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...nt(t)})}function hM(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...nt(t)})}function pM(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...nt(t)})}function mM(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...nt(t)})}function gM(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...nt(t)})}function yM(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...nt(t)})}function vM(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...nt(t)})}function wM(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...nt(t)})}function xM(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...nt(t)})}function _M(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...nt(t)})}function bM(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...nt(t)})}function EM(e,t){return new e({type:"string",format:"date",check:"string_format",...nt(t)})}function kM(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...nt(t)})}function SM(e,t){return new e({type:"string",format:"duration",check:"string_format",...nt(t)})}function CM(e,t){return new e({type:"number",checks:[],...nt(t)})}function NM(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...nt(t)})}function PM(e,t){return new e({type:"boolean",...nt(t)})}function TM(e){return new e({type:"unknown"})}function jM(e,t){return new e({type:"never",...nt(t)})}function Z_(e,t){return new JE({check:"less_than",...nt(t),value:e,inclusive:!1})}function Bg(e,t){return new JE({check:"less_than",...nt(t),value:e,inclusive:!0})}function H_(e,t){return new QE({check:"greater_than",...nt(t),value:e,inclusive:!1})}function Fg(e,t){return new QE({check:"greater_than",...nt(t),value:e,inclusive:!0})}function W_(e,t){return new VL({check:"multiple_of",...nt(t),value:e})}function sk(e,t){return new KL({check:"max_length",...nt(t),maximum:e})}function Fh(e,t){return new GL({check:"min_length",...nt(t),minimum:e})}function ak(e,t){return new YL({check:"length_equals",...nt(t),length:e})}function AM(e,t){return new JL({check:"string_format",format:"regex",...nt(t),pattern:e})}function RM(e){return new QL({check:"string_format",format:"lowercase",...nt(e)})}function IM(e){return new XL({check:"string_format",format:"uppercase",...nt(e)})}function LM(e,t){return new eO({check:"string_format",format:"includes",...nt(t),includes:e})}function OM(e,t){return new tO({check:"string_format",format:"starts_with",...nt(t),prefix:e})}function MM(e,t){return new nO({check:"string_format",format:"ends_with",...nt(t),suffix:e})}function Dc(e){return new rO({check:"overwrite",tx:e})}function zM(e){return Dc(t=>t.normalize(e))}function DM(){return Dc(e=>e.trim())}function BM(){return Dc(e=>e.toLowerCase())}function FM(){return Dc(e=>e.toUpperCase())}function UM(){return Dc(e=>JI(e))}function $M(e,t,n){return new e({type:"array",element:t,...nt(n)})}function ZM(e,t,n){return new e({type:"custom",check:"custom",fn:t,...nt(n)})}function HM(e){const t=WM(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(sd(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(sd(i))}},e(n.value,n)));return t}function WM(e,t){const n=new gr({check:"custom",...nt(t)});return n._zod.check=e,n}function lk(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??Vu,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function hn(e,t,n={path:[],schemaPath:[]}){var y,g;var r;const i=e._zod.def,l=t.seen.get(e);if(l)return l.count++,n.schemaPath.includes(e)&&(l.cycle=n.path),l.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,c);const u=(g=(y=e._zod).toJSONSchema)==null?void 0:g.call(y);if(u)c.schema=u;else{const E={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,c.schema,E);else{const k=c.schema,w=t.processors[i.type];if(!w)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);w(e,t,k,E)}const _=e._zod.parent;_&&(c.ref||(c.ref=_),hn(_,t,E),t.seen.get(_).isParent=!0)}const f=t.metadataRegistry.get(e);return f&&Object.assign(c.schema,f),t.io==="input"&&Jn(e)&&(delete c.schema.examples,delete c.schema.default),t.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,t.seen.get(e).schema}function ck(e,t){var c,u,f,m;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const y of e.seen.entries()){const g=(c=e.metadataRegistry.get(y[0]))==null?void 0:c.id;if(g){const E=r.get(g);if(E&&E!==y[0])throw new Error(`Duplicate schema id "${g}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(g,y[0])}}const i=y=>{var w;const g=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const b=(w=e.external.registry.get(y[0]))==null?void 0:w.id,S=e.external.uri??(R=>R);if(b)return{ref:S(b)};const P=y[1].defId??y[1].schema.id??`schema${e.counter++}`;return y[1].defId=P,{defId:P,ref:`${S("__shared")}#/${g}/${P}`}}if(y[1]===n)return{ref:"#"};const _=`#/${g}/`,k=y[1].schema.id??`__schema${e.counter++}`;return{defId:k,ref:_+k}},l=y=>{if(y[1].schema.$ref)return;const g=y[1],{ref:E,defId:_}=i(y);g.def={...g.schema},_&&(g.defId=_);const k=g.schema;for(const w in k)delete k[w];k.$ref=E};if(e.cycles==="throw")for(const y of e.seen.entries()){const g=y[1];if(g.cycle)throw new Error(`Cycle detected: #/${(u=g.cycle)==null?void 0:u.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const y of e.seen.entries()){const g=y[1];if(t===y[0]){l(y);continue}if(e.external){const _=(f=e.external.registry.get(y[0]))==null?void 0:f.id;if(t!==y[0]&&_){l(y);continue}}if((m=e.metadataRegistry.get(y[0]))==null?void 0:m.id){l(y);continue}if(g.cycle){l(y);continue}if(g.count>1&&e.reused==="ref"){l(y);continue}}}function uk(e,t){var c,u,f;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=m=>{const y=e.seen.get(m);if(y.ref===null)return;const g=y.def??y.schema,E={...g},_=y.ref;if(y.ref=null,_){r(_);const w=e.seen.get(_),b=w.schema;if(b.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(b)):Object.assign(g,b),Object.assign(g,E),m._zod.parent===_)for(const P in g)P==="$ref"||P==="allOf"||P in E||delete g[P];if(b.$ref&&w.def)for(const P in g)P==="$ref"||P==="allOf"||P in w.def&&JSON.stringify(g[P])===JSON.stringify(w.def[P])&&delete g[P]}const k=m._zod.parent;if(k&&k!==_){r(k);const w=e.seen.get(k);if(w!=null&&w.schema.$ref&&(g.$ref=w.schema.$ref,w.def))for(const b in g)b==="$ref"||b==="allOf"||b in w.def&&JSON.stringify(g[b])===JSON.stringify(w.def[b])&&delete g[b]}e.override({zodSchema:m,jsonSchema:g,path:y.path??[]})};for(const m of[...e.seen.entries()].reverse())r(m[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,(c=e.external)!=null&&c.uri){const m=(u=e.external.registry.get(t))==null?void 0:u.id;if(!m)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(m)}Object.assign(i,n.def??n.schema);const l=((f=e.external)==null?void 0:f.defs)??{};for(const m of e.seen.entries()){const y=m[1];y.def&&y.defId&&(l[y.defId]=y.def)}e.external||Object.keys(l).length>0&&(e.target==="draft-2020-12"?i.$defs=l:i.definitions=l);try{const m=JSON.parse(JSON.stringify(i));return Object.defineProperty(m,"~standard",{value:{...t["~standard"],jsonSchema:{input:Uh(t,"input",e.processors),output:Uh(t,"output",e.processors)}},enumerable:!1,writable:!1}),m}catch{throw new Error("Error converting schema to JSON.")}}function Jn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Jn(r.element,n);if(r.type==="set")return Jn(r.valueType,n);if(r.type==="lazy")return Jn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Jn(r.innerType,n);if(r.type==="intersection")return Jn(r.left,n)||Jn(r.right,n);if(r.type==="record"||r.type==="map")return Jn(r.keyType,n)||Jn(r.valueType,n);if(r.type==="pipe")return Jn(r.in,n)||Jn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Jn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Jn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Jn(i,n))return!0;return!!(r.rest&&Jn(r.rest,n))}return!1}const VM=(e,t={})=>n=>{const r=lk({...n,processors:t});return hn(e,r),ck(r,e),uk(r,e)},Uh=(e,t,n={})=>r=>{const{libraryOptions:i,target:l}=r??{},c=lk({...i??{},target:l,io:t,processors:n});return hn(e,c),ck(c,e),uk(c,e)},qM={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},KM=(e,t,n,r)=>{const i=n;i.type="string";const{minimum:l,maximum:c,format:u,patterns:f,contentEncoding:m}=e._zod.bag;if(typeof l=="number"&&(i.minLength=l),typeof c=="number"&&(i.maxLength=c),u&&(i.format=qM[u]??u,i.format===""&&delete i.format,u==="time"&&delete i.format),m&&(i.contentEncoding=m),f&&f.size>0){const y=[...f];y.length===1?i.pattern=y[0].source:y.length>1&&(i.allOf=[...y.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},GM=(e,t,n,r)=>{const i=n,{minimum:l,maximum:c,format:u,multipleOf:f,exclusiveMaximum:m,exclusiveMinimum:y}=e._zod.bag;typeof u=="string"&&u.includes("int")?i.type="integer":i.type="number",typeof y=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=y,i.exclusiveMinimum=!0):i.exclusiveMinimum=y),typeof l=="number"&&(i.minimum=l,typeof y=="number"&&t.target!=="draft-04"&&(y>=l?delete i.minimum:delete i.exclusiveMinimum)),typeof m=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=m,i.exclusiveMaximum=!0):i.exclusiveMaximum=m),typeof c=="number"&&(i.maximum=c,typeof m=="number"&&t.target!=="draft-04"&&(m<=c?delete i.maximum:delete i.exclusiveMaximum)),typeof f=="number"&&(i.multipleOf=f)},YM=(e,t,n,r)=>{n.type="boolean"},JM=(e,t,n,r)=>{n.not={}},QM=(e,t,n,r)=>{},XM=(e,t,n,r)=>{const i=e._zod.def,l=FE(i.entries);l.every(c=>typeof c=="number")&&(n.type="number"),l.every(c=>typeof c=="string")&&(n.type="string"),n.enum=l},ez=(e,t,n,r)=>{const i=e._zod.def,l=[];for(const c of i.values)if(c===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof c=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");l.push(Number(c))}else l.push(c);if(l.length!==0)if(l.length===1){const c=l[0];n.type=c===null?"null":typeof c,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[c]:n.const=c}else l.every(c=>typeof c=="number")&&(n.type="number"),l.every(c=>typeof c=="string")&&(n.type="string"),l.every(c=>typeof c=="boolean")&&(n.type="boolean"),l.every(c=>c===null)&&(n.type="null"),n.enum=l},tz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},nz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},rz=(e,t,n,r)=>{const i=n,l=e._zod.def,{minimum:c,maximum:u}=e._zod.bag;typeof c=="number"&&(i.minItems=c),typeof u=="number"&&(i.maxItems=u),i.type="array",i.items=hn(l.element,t,{...r,path:[...r.path,"items"]})},iz=(e,t,n,r)=>{var m;const i=n,l=e._zod.def;i.type="object",i.properties={};const c=l.shape;for(const y in c)i.properties[y]=hn(c[y],t,{...r,path:[...r.path,"properties",y]});const u=new Set(Object.keys(c)),f=new Set([...u].filter(y=>{const g=l.shape[y]._zod;return t.io==="input"?g.optin===void 0:g.optout===void 0}));f.size>0&&(i.required=Array.from(f)),((m=l.catchall)==null?void 0:m._zod.def.type)==="never"?i.additionalProperties=!1:l.catchall?l.catchall&&(i.additionalProperties=hn(l.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},oz=(e,t,n,r)=>{const i=e._zod.def,l=i.inclusive===!1,c=i.options.map((u,f)=>hn(u,t,{...r,path:[...r.path,l?"oneOf":"anyOf",f]}));l?n.oneOf=c:n.anyOf=c},sz=(e,t,n,r)=>{const i=e._zod.def,l=hn(i.left,t,{...r,path:[...r.path,"allOf",0]}),c=hn(i.right,t,{...r,path:[...r.path,"allOf",1]}),u=m=>"allOf"in m&&Object.keys(m).length===1,f=[...u(l)?l.allOf:[l],...u(c)?c.allOf:[c]];n.allOf=f},az=(e,t,n,r)=>{const i=n,l=e._zod.def;i.type="array";const c=t.target==="draft-2020-12"?"prefixItems":"items",u=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",f=l.items.map((E,_)=>hn(E,t,{...r,path:[...r.path,c,_]})),m=l.rest?hn(l.rest,t,{...r,path:[...r.path,u,...t.target==="openapi-3.0"?[l.items.length]:[]]}):null;t.target==="draft-2020-12"?(i.prefixItems=f,m&&(i.items=m)):t.target==="openapi-3.0"?(i.items={anyOf:f},m&&i.items.anyOf.push(m),i.minItems=f.length,m||(i.maxItems=f.length)):(i.items=f,m&&(i.additionalItems=m));const{minimum:y,maximum:g}=e._zod.bag;typeof y=="number"&&(i.minItems=y),typeof g=="number"&&(i.maxItems=g)},lz=(e,t,n,r)=>{const i=n,l=e._zod.def;i.type="object";const c=l.keyType,u=c._zod.bag,f=u==null?void 0:u.patterns;if(l.mode==="loose"&&f&&f.size>0){const y=hn(l.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});i.patternProperties={};for(const g of f)i.patternProperties[g.source]=y}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(i.propertyNames=hn(l.keyType,t,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=hn(l.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const m=c._zod.values;if(m){const y=[...m].filter(g=>typeof g=="string"||typeof g=="number");y.length>0&&(i.required=y)}},cz=(e,t,n,r)=>{const i=e._zod.def,l=hn(i.innerType,t,r),c=t.seen.get(e);t.target==="openapi-3.0"?(c.ref=i.innerType,n.nullable=!0):n.anyOf=[l,{type:"null"}]},uz=(e,t,n,r)=>{const i=e._zod.def;hn(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType},dz=(e,t,n,r)=>{const i=e._zod.def;hn(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},fz=(e,t,n,r)=>{const i=e._zod.def;hn(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},hz=(e,t,n,r)=>{const i=e._zod.def;hn(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType;let c;try{c=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},pz=(e,t,n,r)=>{const i=e._zod.def,l=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;hn(l,t,r);const c=t.seen.get(e);c.ref=l},mz=(e,t,n,r)=>{const i=e._zod.def;hn(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType,n.readOnly=!0},dk=(e,t,n,r)=>{const i=e._zod.def;hn(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType},gz=Pe("ZodISODateTime",(e,t)=>{yO.init(e,t),cn.init(e,t)});function yz(e){return bM(gz,e)}const vz=Pe("ZodISODate",(e,t)=>{vO.init(e,t),cn.init(e,t)});function wz(e){return EM(vz,e)}const xz=Pe("ZodISOTime",(e,t)=>{wO.init(e,t),cn.init(e,t)});function _z(e){return kM(xz,e)}const bz=Pe("ZodISODuration",(e,t)=>{xO.init(e,t),cn.init(e,t)});function Ez(e){return SM(bz,e)}const kz=(e,t)=>{HE.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>uL(e,n)},flatten:{value:n=>cL(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,$y,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,$y,2)}},isEmpty:{get(){return e.issues.length===0}}})},ei=Pe("ZodError",kz,{Parent:Error}),Sz=s0(ei),Cz=a0(ei),Nz=_p(ei),Pz=bp(ei),Tz=hL(ei),jz=pL(ei),Az=mL(ei),Rz=gL(ei),Iz=yL(ei),Lz=vL(ei),Oz=wL(ei),Mz=xL(ei),tn=Pe("ZodType",(e,t)=>(Yt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Uh(e,"input"),output:Uh(e,"output")}}),e.toJSONSchema=VM(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Qs(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Xs(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>Sz(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>Nz(e,n,r),e.parseAsync=async(n,r)=>Cz(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>Pz(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>Tz(e,n,r),e.decode=(n,r)=>jz(e,n,r),e.encodeAsync=async(n,r)=>Az(e,n,r),e.decodeAsync=async(n,r)=>Rz(e,n,r),e.safeEncode=(n,r)=>Iz(e,n,r),e.safeDecode=(n,r)=>Lz(e,n,r),e.safeEncodeAsync=async(n,r)=>Oz(e,n,r),e.safeDecodeAsync=async(n,r)=>Mz(e,n,r),e.refine=(n,r)=>e.check(P5(n,r)),e.superRefine=n=>e.check(T5(n)),e.overwrite=n=>e.check(Dc(n)),e.optional=()=>Y_(e),e.exactOptional=()=>m5(e),e.nullable=()=>J_(e),e.nullish=()=>Y_(J_(e)),e.nonoptional=n=>_5(e,n),e.array=()=>gk(e),e.or=n=>Wy([e,n]),e.and=n=>a5(e,n),e.transform=n=>Q_(e,h5(n)),e.default=n=>v5(e,n),e.prefault=n=>x5(e,n),e.catch=n=>E5(e,n),e.pipe=n=>Q_(e,n),e.readonly=()=>C5(e),e.describe=n=>{const r=e.clone();return Vu.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Vu.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Vu.get(e);const r=e.clone();return Vu.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),fk=Pe("_ZodString",(e,t)=>{l0.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(r,i,l)=>KM(e,r,i);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(AM(...r)),e.includes=(...r)=>e.check(LM(...r)),e.startsWith=(...r)=>e.check(OM(...r)),e.endsWith=(...r)=>e.check(MM(...r)),e.min=(...r)=>e.check(Fh(...r)),e.max=(...r)=>e.check(sk(...r)),e.length=(...r)=>e.check(ak(...r)),e.nonempty=(...r)=>e.check(Fh(1,...r)),e.lowercase=r=>e.check(RM(r)),e.uppercase=r=>e.check(IM(r)),e.trim=()=>e.check(DM()),e.normalize=(...r)=>e.check(zM(...r)),e.toLowerCase=()=>e.check(BM()),e.toUpperCase=()=>e.check(FM()),e.slugify=()=>e.check(UM())}),zz=Pe("ZodString",(e,t)=>{l0.init(e,t),fk.init(e,t),e.email=n=>e.check(ik(hk,n)),e.url=n=>e.check(ok(pk,n)),e.jwt=n=>e.check(_M(Qz,n)),e.emoji=n=>e.check(aM(Dz,n)),e.guid=n=>e.check($_(q_,n)),e.uuid=n=>e.check(rM(ch,n)),e.uuidv4=n=>e.check(iM(ch,n)),e.uuidv6=n=>e.check(oM(ch,n)),e.uuidv7=n=>e.check(sM(ch,n)),e.nanoid=n=>e.check(lM(Bz,n)),e.guid=n=>e.check($_(q_,n)),e.cuid=n=>e.check(cM(Fz,n)),e.cuid2=n=>e.check(uM(Uz,n)),e.ulid=n=>e.check(dM($z,n)),e.base64=n=>e.check(vM(Gz,n)),e.base64url=n=>e.check(wM(Yz,n)),e.xid=n=>e.check(fM(Zz,n)),e.ksuid=n=>e.check(hM(Hz,n)),e.ipv4=n=>e.check(pM(Wz,n)),e.ipv6=n=>e.check(mM(Vz,n)),e.cidrv4=n=>e.check(gM(qz,n)),e.cidrv6=n=>e.check(yM(Kz,n)),e.e164=n=>e.check(xM(Jz,n)),e.datetime=n=>e.check(yz(n)),e.date=n=>e.check(wz(n)),e.time=n=>e.check(_z(n)),e.duration=n=>e.check(Ez(n))});function Mt(e){return nM(zz,e)}const cn=Pe("ZodStringFormat",(e,t)=>{en.init(e,t),fk.init(e,t)}),hk=Pe("ZodEmail",(e,t)=>{lO.init(e,t),cn.init(e,t)});function V_(e){return ik(hk,e)}const q_=Pe("ZodGUID",(e,t)=>{sO.init(e,t),cn.init(e,t)}),ch=Pe("ZodUUID",(e,t)=>{aO.init(e,t),cn.init(e,t)}),pk=Pe("ZodURL",(e,t)=>{cO.init(e,t),cn.init(e,t)});function qu(e){return ok(pk,e)}const Dz=Pe("ZodEmoji",(e,t)=>{uO.init(e,t),cn.init(e,t)}),Bz=Pe("ZodNanoID",(e,t)=>{dO.init(e,t),cn.init(e,t)}),Fz=Pe("ZodCUID",(e,t)=>{fO.init(e,t),cn.init(e,t)}),Uz=Pe("ZodCUID2",(e,t)=>{hO.init(e,t),cn.init(e,t)}),$z=Pe("ZodULID",(e,t)=>{pO.init(e,t),cn.init(e,t)}),Zz=Pe("ZodXID",(e,t)=>{mO.init(e,t),cn.init(e,t)}),Hz=Pe("ZodKSUID",(e,t)=>{gO.init(e,t),cn.init(e,t)}),Wz=Pe("ZodIPv4",(e,t)=>{_O.init(e,t),cn.init(e,t)}),Vz=Pe("ZodIPv6",(e,t)=>{bO.init(e,t),cn.init(e,t)}),qz=Pe("ZodCIDRv4",(e,t)=>{EO.init(e,t),cn.init(e,t)}),Kz=Pe("ZodCIDRv6",(e,t)=>{kO.init(e,t),cn.init(e,t)}),Gz=Pe("ZodBase64",(e,t)=>{SO.init(e,t),cn.init(e,t)}),Yz=Pe("ZodBase64URL",(e,t)=>{NO.init(e,t),cn.init(e,t)}),Jz=Pe("ZodE164",(e,t)=>{PO.init(e,t),cn.init(e,t)}),Qz=Pe("ZodJWT",(e,t)=>{jO.init(e,t),cn.init(e,t)}),mk=Pe("ZodNumber",(e,t)=>{ek.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(r,i,l)=>GM(e,r,i),e.gt=(r,i)=>e.check(H_(r,i)),e.gte=(r,i)=>e.check(Fg(r,i)),e.min=(r,i)=>e.check(Fg(r,i)),e.lt=(r,i)=>e.check(Z_(r,i)),e.lte=(r,i)=>e.check(Bg(r,i)),e.max=(r,i)=>e.check(Bg(r,i)),e.int=r=>e.check(K_(r)),e.safe=r=>e.check(K_(r)),e.positive=r=>e.check(H_(0,r)),e.nonnegative=r=>e.check(Fg(0,r)),e.negative=r=>e.check(Z_(0,r)),e.nonpositive=r=>e.check(Bg(0,r)),e.multipleOf=(r,i)=>e.check(W_(r,i)),e.step=(r,i)=>e.check(W_(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function yo(e){return CM(mk,e)}const Xz=Pe("ZodNumberFormat",(e,t)=>{AO.init(e,t),mk.init(e,t)});function K_(e){return NM(Xz,e)}const e5=Pe("ZodBoolean",(e,t)=>{RO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>YM(e,n,r)});function Ha(e){return PM(e5,e)}const t5=Pe("ZodUnknown",(e,t)=>{IO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>QM()});function Hy(){return TM(t5)}const n5=Pe("ZodNever",(e,t)=>{LO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>JM(e,n,r)});function r5(e){return jM(n5,e)}const i5=Pe("ZodArray",(e,t)=>{OO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>rz(e,n,r,i),e.element=t.element,e.min=(n,r)=>e.check(Fh(n,r)),e.nonempty=n=>e.check(Fh(1,n)),e.max=(n,r)=>e.check(sk(n,r)),e.length=(n,r)=>e.check(ak(n,r)),e.unwrap=()=>e.element});function gk(e,t){return $M(i5,e,t)}const yk=Pe("ZodObject",(e,t)=>{zO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>iz(e,n,r,i),Bt(e,"shape",()=>t.shape),e.keyof=()=>vk(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Hy()}),e.loose=()=>e.clone({...e._zod.def,catchall:Hy()}),e.strict=()=>e.clone({...e._zod.def,catchall:r5()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>iL(e,n),e.safeExtend=n=>oL(e,n),e.merge=n=>sL(e,n),e.pick=n=>nL(e,n),e.omit=n=>rL(e,n),e.partial=(...n)=>aL(wk,e,n[0]),e.required=(...n)=>lL(xk,e,n[0])});function Co(e,t){const n={type:"object",shape:e??{},...nt(t)};return new yk(n)}function G_(e,t){return new yk({type:"object",shape:e,catchall:Hy(),...nt(t)})}const o5=Pe("ZodUnion",(e,t)=>{DO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>oz(e,n,r,i),e.options=t.options});function Wy(e,t){return new o5({type:"union",options:e,...nt(t)})}const s5=Pe("ZodIntersection",(e,t)=>{BO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>sz(e,n,r,i)});function a5(e,t){return new s5({type:"intersection",left:e,right:t})}const l5=Pe("ZodTuple",(e,t)=>{FO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>az(e,n,r,i),e.rest=n=>e.clone({...e._zod.def,rest:n})});function Vr(e,t,n){const r=t instanceof Yt,i=r?n:t,l=r?t:null;return new l5({type:"tuple",items:e,rest:l,...nt(i)})}const c5=Pe("ZodRecord",(e,t)=>{UO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>lz(e,n,r,i),e.keyType=t.keyType,e.valueType=t.valueType});function u5(e,t,n){return new c5({type:"record",keyType:e,valueType:t,...nt(n)})}const Vy=Pe("ZodEnum",(e,t)=>{$O.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(r,i,l)=>XM(e,r,i),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const l={};for(const c of r)if(n.has(c))l[c]=t.entries[c];else throw new Error(`Key ${c} not found in enum`);return new Vy({...t,checks:[],...nt(i),entries:l})},e.exclude=(r,i)=>{const l={...t.entries};for(const c of r)if(n.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new Vy({...t,checks:[],...nt(i),entries:l})}});function vk(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Vy({type:"enum",entries:n,...nt(t)})}const d5=Pe("ZodLiteral",(e,t)=>{ZO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>ez(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function qr(e,t){return new d5({type:"literal",values:Array.isArray(e)?e:[e],...nt(t)})}const f5=Pe("ZodTransform",(e,t)=>{HO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>nz(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new DE(e.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(sd(l,n.value,t));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=e),n.issues.push(sd(c))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function h5(e){return new f5({type:"transform",transform:e})}const wk=Pe("ZodOptional",(e,t)=>{rk.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>dk(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function Y_(e){return new wk({type:"optional",innerType:e})}const p5=Pe("ZodExactOptional",(e,t)=>{WO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>dk(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function m5(e){return new p5({type:"optional",innerType:e})}const g5=Pe("ZodNullable",(e,t)=>{VO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>cz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function J_(e){return new g5({type:"nullable",innerType:e})}const y5=Pe("ZodDefault",(e,t)=>{qO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>dz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function v5(e,t){return new y5({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():$E(t)}})}const w5=Pe("ZodPrefault",(e,t)=>{KO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>fz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function x5(e,t){return new w5({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():$E(t)}})}const xk=Pe("ZodNonOptional",(e,t)=>{GO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>uz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function _5(e,t){return new xk({type:"nonoptional",innerType:e,...nt(t)})}const b5=Pe("ZodCatch",(e,t)=>{YO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>hz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function E5(e,t){return new b5({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const k5=Pe("ZodPipe",(e,t)=>{JO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>pz(e,n,r,i),e.in=t.in,e.out=t.out});function Q_(e,t){return new k5({type:"pipe",in:e,out:t})}const S5=Pe("ZodReadonly",(e,t)=>{QO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>mz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function C5(e){return new S5({type:"readonly",innerType:e})}const N5=Pe("ZodCustom",(e,t)=>{XO.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>tz(e,n)});function P5(e,t={}){return ZM(N5,e,t)}function T5(e){return HM(e)}const j5={custom:"custom"};class kt{static id(){return Mt().regex(/^[0-9a-f]{64}$/)}static event(){return Co({id:kt.id(),kind:yo().int().nonnegative(),pubkey:kt.id(),tags:Mt().array().array(),content:Mt(),created_at:yo().int().nonnegative(),sig:Mt()}).required({id:!0,kind:!0,pubkey:!0,tags:!0,content:!0,created_at:!0,sig:!0})}static filter(){return G_({kinds:yo().int().nonnegative().array().optional(),ids:kt.id().array().optional(),authors:kt.id().array().optional(),since:yo().int().nonnegative().optional(),until:yo().int().nonnegative().optional(),limit:yo().int().nonnegative().optional(),search:Mt().optional()}).transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[i,l])=>((n.includes(i)||i.startsWith("#"))&&(r[i]=l),r),{})})}static bech32(t){return Mt().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return qu().regex(/^wss?:\/\//)}static clientEVENT(){return Vr([qr("EVENT"),kt.event()])}static clientREQ(){return Vr([qr("REQ"),Mt()]).rest(kt.filter())}static clientCOUNT(){return Vr([qr("COUNT"),Mt()]).rest(kt.filter())}static clientCLOSE(){return Vr([qr("CLOSE"),Mt()])}static clientAUTH(){return Vr([qr("AUTH"),kt.event()])}static clientMsg(){return Wy([kt.clientEVENT(),kt.clientREQ(),kt.clientCOUNT(),kt.clientCLOSE(),kt.clientAUTH()])}static relayEVENT(){return Vr([qr("EVENT"),Mt(),kt.event()])}static relayOK(){return Vr([qr("OK"),kt.id(),Ha(),Mt()])}static relayEOSE(){return Vr([qr("EOSE"),Mt()])}static relayNOTICE(){return Vr([qr("NOTICE"),Mt()])}static relayCLOSED(){return Vr([qr("CLOSED"),Mt(),Mt()])}static relayAUTH(){return Vr([qr("AUTH"),Mt()])}static relayCOUNT(){return Vr([qr("COUNT"),Mt(),Co({count:yo().int().nonnegative(),approximate:Ha().optional()})])}static relayMsg(){return Wy([kt.relayEVENT(),kt.relayOK(),kt.relayEOSE(),kt.relayNOTICE(),kt.relayCLOSED(),kt.relayAUTH(),kt.relayCOUNT()])}static metadata(){return G_({about:Mt().optional().catch(void 0),banner:qu().optional().catch(void 0),bot:Ha().optional().catch(void 0),display_name:Mt().optional().catch(void 0),lud06:kt.bech32("lnurl").optional().catch(void 0),lud16:V_().optional().catch(void 0),name:Mt().optional().catch(void 0),nip05:V_().optional().catch(void 0),picture:qu().optional().catch(void 0),website:qu().optional().catch(void 0)})}static connectRequest(){return Co({id:Mt(),method:Mt(),params:Mt().array()})}static connectResponse(){return Co({id:Mt(),result:Mt(),error:Mt().optional()})}static json(){return Mt().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:j5.custom,message:"Invalid JSON"}),GI}})}}class _k{constructor({relay:t,pubkey:n,signer:r,timeout:i,encryption:l="nip44"}){$e(this,"relay");$e(this,"pubkey");$e(this,"signer");$e(this,"timeout");$e(this,"encryption");$e(this,"nip04",{encrypt:async(t,n)=>this.cmd("nip04_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip04_decrypt",[t,n])});$e(this,"nip44",{encrypt:async(t,n)=>this.cmd("nip44_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip44_decrypt",[t,n])});this.relay=t,this.pubkey=n,this.signer=r,this.timeout=i,this.encryption=l}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(t){const n=await this.cmd("sign_event",[JSON.stringify(t)]);return kt.json().pipe(kt.event()).parse(n)}async getRelays(){const t=await this.cmd("get_relays",[]);return kt.json().pipe(u5(Mt(),Co({read:Ha(),write:Ha()}))).parse(t)}async connect(t){const n=[this.pubkey];return t&&n.push(t),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(t,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:i,error:l}=await this.send({id:crypto.randomUUID(),method:t,params:n},{signal:r});if(l)throw new Error(l);return i}async send(t,n={}){const{signal:r}=n,i=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(t)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),l=await this.signer.getPublicKey(),c=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[l]}],{signal:r}),u=new Promise((f,m)=>{(async()=>{try{for await(const y of c){if(y[0]==="CLOSED")throw new Error("Subscription closed");if(y[0]==="EVENT"){const g=y[2],E=await this.decrypt(this.pubkey,g.content),_=kt.json().pipe(kt.connectResponse()).parse(E);if(_.id===t.id){f(_);return}}}}catch(y){m(y)}})()});return await this.relay.event(i,{signal:r}),u}async encrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(t,n);case"nip44":return this.signer.nip44.encrypt(t,n)}}async decrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(t,n);case"nip44":return this.signer.nip44.decrypt(t,n)}}}const bk={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),bk[e]=t}function A5(e){let t="";for(let n=0;n<e.byteLength;n++)t+=bk[e[n]];return t}const Ek="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X_=Object.entries(Ek).reduce((e,[t,n])=>(e[n]=Number(t),e),{}),R5=Ek.split(""),ic=6,Qu=8,I5=63,L5=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let i=0;i<e.length;i+=4){let l=0,c=0;for(let m=i,y=i+3;m<=y;m++)if(e[m]!=="="){if(!(e[m]in X_))throw new TypeError(`Invalid character ${e[m]} in base64 string.`);l|=X_[e[m]]<<(y-m)*ic,c+=ic}else l>>=ic;const u=i/4*3;l>>=c%Qu;const f=Math.floor(c/Qu);for(let m=0;m<f;m++){const y=(f-m-1)*Qu;r.setUint8(u+m,(l&255<<y)>>y)}}return new Uint8Array(n)},O5=e=>new TextEncoder().encode(e);function M5(e){let t;typeof e=="string"?t=O5(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",r=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let l=0;l<t.length;l+=3){let c=0,u=0;for(let m=l,y=Math.min(l+3,t.length);m<y;m++)c|=t[m]<<(y-m-1)*Qu,u+=Qu;const f=Math.ceil(u/ic);c<<=f*ic-u;for(let m=1;m<=f;m++){const y=(f-m)*ic;i+=R5[(c&I5<<y)>>y]}i+="==".slice(0,4-f)}return i}class z5{static encodeEvent(t){return M5(JSON.stringify(t))}static decodeEvent(t){const n=L5(t),r=new TextDecoder().decode(n);return kt.json().pipe(kt.event()).parse(r)}}class D5{constructor(t){$e(this,"set");$e(this,"capacity");this.set=new Set,this.capacity=t}add(t){if(!this.set.has(t)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}[Symbol.iterator](){return this.set.values()}}var bc,Ec,Ed;class kk{constructor(t){tt(this,bc,[]);tt(this,Ec);tt(this,Ed,!1);t!=null&&t.aborted?this.abort():t==null||t.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Symbol.asyncIterator](){for(;!ue(this,Ed);){if(ue(this,bc).length){yield ue(this,bc).shift();continue}await new Promise(t=>{We(this,Ec,t)})}throw new DOMException("The signal has been aborted","AbortError")}push(t){var n;ue(this,bc).push(t),(n=ue(this,Ec))==null||n.call(this)}abort(){var t;We(this,Ed,!0),(t=ue(this,Ec))==null||t.call(this)}}bc=new WeakMap,Ec=new WeakMap,Ed=new WeakMap;class c0{constructor(t){$e(this,"_relays",new Map);$e(this,"opts");this.opts=t}relay(t){const n=this._relays.get(t);if(n)return n;{const r=this.opts.open(t);return this._relays.set(t,r),r}}group(t){return new c0({open:n=>this.relay(n),reqRouter:n=>new Map(t.map(r=>[r,n])),eventRouter:()=>t})}get relays(){return this._relays}async*req(t,n){const r=new AbortController,i=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,l=n!=null&&n.relays?new Map(n.relays.map(_=>[_,t])):await this.opts.reqRouter(t);if(l.size<1)return;const c=new kk(i),u=new Set,f=new Set,m=new D5(1e3),y=this.opts.eoseTimeout??1e3;let g;const E=[];for(const[_,k]of l.entries()){const w=this.relay(_),b=(async()=>{try{for await(const S of w.req(k,{signal:i}))if(S[0]==="EOSE"&&(u.add(_),u.size===1&&y>0&&g===void 0&&(g=setTimeout(()=>{r.abort()},y)),u.size===l.size&&c.push(S)),S[0]==="CLOSED"&&(f.add(_),f.size===l.size&&c.push(S)),S[0]==="EVENT"){const[,,P]=S;m.has(P.id)||(m.add(P.id),c.push(S))}}catch{}})();E.push(b)}try{for await(const _ of c)yield _}finally{g!==void 0&&clearTimeout(g),r.abort(),await Promise.allSettled(E)}}async event(t,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(t);r.length&&await Promise.any(r.map(i=>this.relay(i).event(t,n)))}async query(t,n){const r=new Map,i=new zh(r);if(t.reduce((c,u)=>c+X2(u),0)===0)return[];try{for await(const c of this.req(t,n))if(c[0]==="EOSE"||(c[0]==="EVENT"&&i.add(c[2]),c[0]==="CLOSED"))break}catch{}return t.some(c=>typeof c.search=="string")?[...r.values()]:[...i]}async close(){await Promise.all([...this._relays.values()].map(t=>t.close()))}async[Symbol.asyncDispose](){await this.close()}}class B5{constructor(t,n){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class F5{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var $t;(function(e){e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect"})($t||($t={}));class U5{constructor(t,n,r){var i,l,c,u,f,m,y,g,E,_,k,w,b,S,P;this._closedByUser=!1,this.handleOpenEvent=R=>this.handleEvent($t.open,R),this.handleErrorEvent=R=>this.handleEvent($t.error,R),this.handleCloseEvent=R=>this.handleEvent($t.close,R),this.handleMessageEvent=R=>this.handleEvent($t.message,R),this._url=t,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.maxRetries,instantReconnect:(l=r==null?void 0:r.retry)===null||l===void 0?void 0:l.instantReconnect,backoff:(c=r==null?void 0:r.retry)===null||c===void 0?void 0:c.backoff},listeners:{open:[...(f=(u=r==null?void 0:r.listeners)===null||u===void 0?void 0:u.open)!==null&&f!==void 0?f:[]],close:[...(y=(m=r==null?void 0:r.listeners)===null||m===void 0?void 0:m.close)!==null&&y!==void 0?y:[]],error:[...(E=(g=r==null?void 0:r.listeners)===null||g===void 0?void 0:g.error)!==null&&E!==void 0?E:[]],message:[...(k=(_=r==null?void 0:r.listeners)===null||_===void 0?void 0:_.message)!==null&&k!==void 0?k:[]],retry:[...(b=(w=r==null?void 0:r.listeners)===null||w===void 0?void 0:w.retry)!==null&&b!==void 0?b:[]],reconnect:[...(P=(S=r==null?void 0:r.listeners)===null||S===void 0?void 0:S.reconnect)!==null&&P!==void 0?P:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):this.buffer!==void 0&&this.buffer.add(t))}close(t,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,n)}addEventListener(t,n,r){this._options.listeners[t].push({listener:n,options:r})}removeEventListener(t,n,r){const i=l=>l.listener!==n||l.options!==r;this._options.listeners[t]=this._options.listeners[t].filter(i)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener($t.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener($t.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener($t.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener($t.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener($t.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener($t.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener($t.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener($t.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,n){const r=this._options.listeners[t],i=[];r.forEach(({listener:l,options:c})=>{l(this,n),(c===void 0||c.once===void 0||!c.once)&&i.push({listener:l,options:c})}),this._options.listeners[t]=i}handleEvent(t,n){switch(t){case $t.close:this.dispatchEvent(t,n),this.scheduleConnectionRetryIfNeeded();break;case $t.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},i=new CustomEvent($t.reconnect,{detail:r});this.dispatchEvent($t.reconnect,i),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,n),this.sendBufferedData();break;case $t.retry:this.dispatchEvent(t,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let t=this.buffer.read();t!==void 0;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const t=r=>{const i=new CustomEvent($t.retry,{detail:r});this.handleEvent($t.retry,i)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class $5{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:t})}),this}get maxRetries(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:t})}),this}get backoff(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return(t=this._options)===null||t===void 0?void 0:t.buffer}onOpen(t,n){return this.addListener($t.open,t,n),this}onClose(t,n){return this.addListener($t.close,t,n),this}onError(t,n){return this.addListener($t.error,t,n),this}onMessage(t,n){return this.addListener($t.message,t,n),this}onRetry(t,n){return this.addListener($t.retry,t,n),this}onReconnect(t,n){return this.addListener($t.reconnect,t,n),this}build(){return new U5(this._url,this._protocols,this._options)}addListener(t,n,r){var i,l,c,u,f,m,y,g,E,_,k,w,b,S,P,R,D,B,q,G,J;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(c=(l=(i=this._options)===null||i===void 0?void 0:i.listeners)===null||l===void 0?void 0:l.open)!==null&&c!==void 0?c:[],close:(m=(f=(u=this._options)===null||u===void 0?void 0:u.listeners)===null||f===void 0?void 0:f.close)!==null&&m!==void 0?m:[],error:(E=(g=(y=this._options)===null||y===void 0?void 0:y.listeners)===null||g===void 0?void 0:g.error)!==null&&E!==void 0?E:[],message:(w=(k=(_=this._options)===null||_===void 0?void 0:_.listeners)===null||k===void 0?void 0:k.message)!==null&&w!==void 0?w:[],retry:(P=(S=(b=this._options)===null||b===void 0?void 0:b.listeners)===null||S===void 0?void 0:S.retry)!==null&&P!==void 0?P:[],reconnect:(B=(D=(R=this._options)===null||R===void 0?void 0:R.listeners)===null||D===void 0?void 0:D.reconnect)!==null&&B!==void 0?B:[],[t]:[...(J=(G=(q=this._options)===null||q===void 0?void 0:q.listeners)===null||G===void 0?void 0:G[t])!==null&&J!==void 0?J:[],{listener:n,options:r}]}}),this}}class Z5{constructor(t,n={}){$e(this,"socket");$e(this,"subs",new Map);$e(this,"closedByUser",!1);$e(this,"idleTimer");$e(this,"controller",new AbortController);$e(this,"url");$e(this,"opts");$e(this,"ee",new EventTarget);this.url=t,this.opts=n,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(t){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...t,url:this.url})}createSocket(){const{backoff:t=new B5(1e3)}=this.opts;return new $5(this.url).withBuffer(new F5).withBackoff(t===!1?void 0:t).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const i=kt.json().pipe(kt.relayMsg()).safeParse(r.data);i.success?(this.log({level:"trace",ns:"relay.ws.message",data:i.data}),this.receive(i.data)):this.log({level:"warn",ns:"relay.ws.message",error:i.error})}).build()}receive(t){const{auth:n,verifyEvent:r=Cd}=this.opts;switch(t[0]){case"EVENT":if(!r(t[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"CLOSED":this.subs.delete(t[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t})),this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${t[1]}`,{detail:t}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:t}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"AUTH":n==null||n(t[1]).then(i=>this.send(["AUTH",i])).catch(()=>{})}}send(t){switch(this.log({level:"trace",ns:"relay.ws.send",data:t}),this.wake(),t[0]){case"REQ":this.subs.set(t[1],t);break;case"CLOSE":this.subs.delete(t[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}async*req(t,n={}){const{signal:r}=n,i=crypto.randomUUID(),l=this.on(`sub:${i}`,r),c=["REQ",i,...t];this.send(c);try{for await(const u of l){if(u[0]==="EOSE"&&(yield u),u[0]==="CLOSED")break;if(u[0]==="EVENT")if(Q2(t,u[2]))yield u;else continue}}finally{this.send(["CLOSE",i])}}async query(t,n){const r=new zh,i=t.reduce((l,c)=>l+X2(c),0);if(i===0)return[];for await(const l of this.req(t,n)){if(l[0]==="EOSE")break;if(l[0]==="EVENT"&&r.add(l[2]),l[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=i)break}return[...r]}async event(t,n){const r=this.once(`ok:${t.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",t])}catch(c){throw r.catch(()=>{}),c}const[,,i,l]=await r;if(!i)throw new Error(l)}async count(t,n){const r=crypto.randomUUID(),i=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...t])}catch(c){throw i.catch(()=>{}),c}const l=await i;switch(l[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,c]=l;return c}}throw new Error("Count ended -- this should never happen")}async*on(t,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const i=new kk(r),l=c=>i.push(c.detail);this.ee.addEventListener(t,l);try{for await(const c of i)yield c}finally{this.ee.removeEventListener(t,l)}}async once(t,n){for await(const r of this.on(t,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:t=3e4}=this.opts;t!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:t}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:t}),this.socket.close()},t)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(t=>{this.socket.addEventListener($t.close,t,{once:!0})})}async[Symbol.asyncDispose](){await this.close()}}var _o,kd,Ky;class qy{constructor(t){tt(this,kd);tt(this,_o);$e(this,"pubkey");$e(this,"nip04",{encrypt:async(t,n)=>od.encrypt(ue(this,_o),t,n),decrypt:async(t,n)=>od.decrypt(ue(this,_o),t,n)});$e(this,"nip44",{encrypt:async(t,n)=>{const r=mt(this,kd,Ky).call(this,t);return Bs.v2.encrypt(n,r)},decrypt:async(t,n)=>{const r=mt(this,kd,Ky).call(this,t);return Bs.v2.decrypt(n,r)}});We(this,_o,t)}async getPublicKey(){return this.pubkey??(this.pubkey=Vs(ue(this,_o)))}async signEvent(t){return Xr(t,ue(this,_o))}}_o=new WeakMap,kd=new WeakSet,Ky=function(t){return Bs.v2.utils.getConversationKey(ue(this,_o),t)};const Sk=j.createContext(void 0);function Oo(){const e=j.useContext(Sk);if(!e)throw new Error("useNostr must be used within a NostrProvider");return e}class Wa{constructor(t,n,r){$e(this,"id");$e(this,"type");$e(this,"pubkey");$e(this,"createdAt");$e(this,"data");this.id=`${t}:${n}`,this.type=t,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(t){const n=tr.decode(t);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,i=Vs(r);return new Wa("nsec",i,{nsec:tr.nsecEncode(r)})}static async fromBunker(t,n){const{pubkey:r,secret:i,relays:l}=new Yu(t);if(!l.length)throw new Error("No relay provided");const c=hp(),u=tr.nsecEncode(c),f=new qy(c),m=new _k({relay:n.group(l),pubkey:r,signer:f,timeout:6e4});await m.connect(i);const y=await m.getPublicKey();return new Wa("bunker",y,{bunkerPubkey:r,clientNsec:u,relays:l})}static async fromExtension(){const t=globalThis.nostr;if(!t)throw new Error("Nostr extension is not available");const n=await t.getPublicKey();return new Wa("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const Ck=j.createContext(void 0);function H5(e,t){switch(t.type){case"login.add":{const n=e.filter(r=>r.id!==t.login.id);return t.set?[t.login,...n]:[...n,t.login]}case"login.remove":return e.filter(n=>n.id!==t.id);case"login.set":{const n=e.find(i=>i.id===t.id);if(!n)return e;const r=e.filter(i=>i.id!==t.id);return[n,...r]}case"login.clear":return[];default:return e}}function W5(e){const[t,n]=j.useReducer(H5,[],()=>{const r=localStorage.getItem(e);return r?JSON.parse(r):[]});return j.useEffect(()=>{localStorage.setItem(e,JSON.stringify(t))},[t]),[t,n]}const V5=({children:e,storageKey:t})=>{const[n,r]=W5(t),i={logins:n,addLogin:l=>r({type:"login.add",login:l}),removeLogin:l=>r({type:"login.remove",id:l}),setLogin:l=>r({type:"login.set",id:l}),clearLogins:()=>r({type:"login.clear"})};return p.jsx(Ck.Provider,{value:i,children:e})};class Va{constructor(t,n,r){this.method=t,this.pubkey=n,this.signer=r}static fromNsecLogin(t){const n=tr.decode(t.data.nsec);return new Va(t.type,t.pubkey,new qy(n.data))}static fromBunkerLogin(t,n){const r=tr.decode(t.data.clientNsec),i=new qy(r.data);return new Va(t.type,t.pubkey,new _k({relay:n.group(t.data.relays),pubkey:t.pubkey,signer:i,timeout:6e4}))}static fromExtensionLogin(t){return new Va(t.type,t.pubkey,new vA)}}function u0(){const e=j.useContext(Ck);if(!e)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return e}const Nk=j.createContext(void 0);function Pk(){const e=j.useContext(Nk);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const q5=e=>{const{children:t}=e,{config:n}=Pk(),r=kv(),i=j.useRef(void 0),l=j.useRef(n.relayMetadata);return j.useEffect(()=>{l.current=n.relayMetadata,r.invalidateQueries({queryKey:["nostr"]})},[n.relayMetadata,r]),i.current||(i.current=new c0({open(c){return new Z5(c)},reqRouter(c){const u=new Map,f=l.current.relays.filter(m=>m.read).map(m=>m.url);for(const m of f)u.set(m,c);return u},eventRouter(c){const u=l.current.relays.filter(m=>m.write).map(m=>m.url);return[...new Set(u)]}})),p.jsx(Sk.Provider,{value:{nostr:i.current},children:t})};function Tk(e){const{nostr:t}=Oo();return Ra({queryKey:["author",e??""],queryFn:async({signal:n})=>{if(!e)return{};const[r]=await t.query([{kinds:[0],authors:[e],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!r)throw new Error("No event found");try{return{metadata:kt.json().pipe(kt.metadata()).parse(r.content),event:r}}catch{return{event:r}}},staleTime:5*60*1e3,retry:3})}function kp(){const{nostr:e}=Oo(),{logins:t}=u0(),n=j.useCallback(c=>{switch(c.type){case"nsec":return Va.fromNsecLogin(c);case"bunker":return Va.fromBunkerLogin(c,e);case"extension":return Va.fromExtensionLogin(c);default:throw new Error(`Unsupported login type: ${c.type}`)}},[e]),r=j.useMemo(()=>{const c=[];for(const u of t)try{const f=n(u);c.push(f)}catch(f){console.warn("Skipped invalid login",u.id,f)}return c},[t,n]),i=r[0],l=Tk(i==null?void 0:i.pubkey);return{user:i,users:r,...l.data}}function K5(){const{nostr:e}=Oo(),{user:t}=kp(),{config:n,updateConfig:r}=Pk();return j.useEffect(()=>{if(!t)return;(async()=>{try{const l=await e.query([{kinds:[10002],authors:[t.pubkey],limit:1}],{signal:AbortSignal.timeout(5e3)});if(l.length>0){const c=l[0];if(c.created_at>n.relayMetadata.updatedAt){const u=c.tags.filter(([f])=>f==="r").map(([f,m,y])=>({url:m,read:!y||y==="read",write:!y||y==="write"}));u.length>0&&(console.log("Syncing relay list from Nostr:",u),r(f=>({...f,relayMetadata:{relays:u,updatedAt:c.created_at}})))}}}catch(l){console.error("Failed to sync relays from Nostr:",l)}})()},[t,n.relayMetadata.updatedAt,e,r]),null}const G5=1,Y5=1e6;let Ug=0;function J5(){return Ug=(Ug+1)%Number.MAX_SAFE_INTEGER,Ug.toString()}const $g=new Map,eb=e=>{if($g.has(e))return;const t=setTimeout(()=>{$g.delete(e),Xu({type:"REMOVE_TOAST",toastId:e})},Y5);$g.set(e,t)},Q5=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,G5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?eb(n):e.toasts.forEach(r=>{eb(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},_h=[];let bh={toasts:[]};function Xu(e){bh=Q5(bh,e),_h.forEach(t=>{t(bh)})}function Ql({...e}){const t=J5(),n=i=>Xu({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Xu({type:"DISMISS_TOAST",toastId:t});return Xu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function tl(){const[e,t]=j.useState(bh);return j.useEffect(()=>(_h.push(t),()=>{const n=_h.indexOf(t);n>-1&&_h.splice(n,1)}),[e]),{...e,toast:Ql,dismiss:n=>Xu({type:"DISMISS_TOAST",toastId:n})}}var Sp=P1();const X5=rp(Sp);function Ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function tb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Cp(...e){return t=>{let n=!1;const r=e.map(i=>{const l=tb(i,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<r.length;i++){const l=r[i];typeof l=="function"?l():tb(e[i],null)}}}}function At(...e){return j.useCallback(Cp(...e),e)}function e8(e,t){const n=j.createContext(t),r=l=>{const{children:c,...u}=l,f=j.useMemo(()=>u,Object.values(u));return p.jsx(n.Provider,{value:f,children:c})};r.displayName=e+"Provider";function i(l){const c=j.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[r,i]}function nr(e,t=[]){let n=[];function r(l,c){const u=j.createContext(c),f=n.length;n=[...n,c];const m=g=>{var S;const{scope:E,children:_,...k}=g,w=((S=E==null?void 0:E[e])==null?void 0:S[f])||u,b=j.useMemo(()=>k,Object.values(k));return p.jsx(w.Provider,{value:b,children:_})};m.displayName=l+"Provider";function y(g,E){var w;const _=((w=E==null?void 0:E[e])==null?void 0:w[f])||u,k=j.useContext(_);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,y]}const i=()=>{const l=n.map(c=>j.createContext(c));return function(u){const f=(u==null?void 0:u[e])||l;return j.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return i.scopeName=e,[r,t8(i,...t)]}function t8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=r.reduce((u,{useScope:f,scopeName:m})=>{const g=f(l)[`__scope${m}`];return{...u,...g}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function Tc(e){const t=r8(e),n=j.forwardRef((r,i)=>{const{children:l,...c}=r,u=j.Children.toArray(l),f=u.find(o8);if(f){const m=f.props.children,y=u.map(g=>g===f?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:g);return p.jsx(t,{...c,ref:i,children:j.isValidElement(m)?j.cloneElement(m,void 0,y):null})}return p.jsx(t,{...c,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}var n8=Tc("Slot");function r8(e){const t=j.forwardRef((n,r)=>{const{children:i,...l}=n;if(j.isValidElement(i)){const c=a8(i),u=s8(l,i.props);return i.type!==j.Fragment&&(u.ref=r?Cp(r,c):c),j.cloneElement(i,u)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jk=Symbol("radix.slottable");function i8(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=jk,t}function o8(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jk}function s8(e,t){const n={...t};for(const r in t){const i=e[r],l=t[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...u)=>{l(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function a8(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Np(e){const t=e+"CollectionProvider",[n,r]=nr(t),[i,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:b,children:S}=w,P=Ss.useRef(null),R=Ss.useRef(new Map).current;return p.jsx(i,{scope:b,itemMap:R,collectionRef:P,children:S})};c.displayName=t;const u=e+"CollectionSlot",f=Tc(u),m=Ss.forwardRef((w,b)=>{const{scope:S,children:P}=w,R=l(u,S),D=At(b,R.collectionRef);return p.jsx(f,{ref:D,children:P})});m.displayName=u;const y=e+"CollectionItemSlot",g="data-radix-collection-item",E=Tc(y),_=Ss.forwardRef((w,b)=>{const{scope:S,children:P,...R}=w,D=Ss.useRef(null),B=At(b,D),q=l(y,S);return Ss.useEffect(()=>(q.itemMap.set(D,{ref:D,...R}),()=>void q.itemMap.delete(D))),p.jsx(E,{[g]:"",ref:B,children:P})});_.displayName=y;function k(w){const b=l(e+"CollectionConsumer",w);return Ss.useCallback(()=>{const P=b.collectionRef.current;if(!P)return[];const R=Array.from(P.querySelectorAll(`[${g}]`));return Array.from(b.itemMap.values()).sort((q,G)=>R.indexOf(q.ref.current)-R.indexOf(G.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:c,Slot:m,ItemSlot:_},k,r]}var l8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],at=l8.reduce((e,t)=>{const n=Tc(`Primitive.${t}`),r=j.forwardRef((i,l)=>{const{asChild:c,...u}=i,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(f,{...u,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function d0(e,t){e&&Sp.flushSync(()=>e.dispatchEvent(t))}function mr(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function c8(e,t=globalThis==null?void 0:globalThis.document){const n=mr(e);j.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var u8="DismissableLayer",Gy="dismissableLayer.update",d8="dismissableLayer.pointerDownOutside",f8="dismissableLayer.focusOutside",nb,Ak=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nd=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...f}=e,m=j.useContext(Ak),[y,g]=j.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=j.useState({}),k=At(t,G=>g(G)),w=Array.from(m.layers),[b]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(b),P=y?w.indexOf(y):-1,R=m.layersWithOutsidePointerEventsDisabled.size>0,D=P>=S,B=p8(G=>{const J=G.target,V=[...m.branches].some(Y=>Y.contains(J));!D||V||(i==null||i(G),c==null||c(G),G.defaultPrevented||u==null||u())},E),q=m8(G=>{const J=G.target;[...m.branches].some(Y=>Y.contains(J))||(l==null||l(G),c==null||c(G),G.defaultPrevented||u==null||u())},E);return c8(G=>{P===m.layers.size-1&&(r==null||r(G),!G.defaultPrevented&&u&&(G.preventDefault(),u()))},E),j.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(nb=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),rb(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=nb)}},[y,E,n,m]),j.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),rb())},[y,m]),j.useEffect(()=>{const G=()=>_({});return document.addEventListener(Gy,G),()=>document.removeEventListener(Gy,G)},[]),p.jsx(at.div,{...f,ref:k,style:{pointerEvents:R?D?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,q.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,q.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,B.onPointerDownCapture)})});Nd.displayName=u8;var h8="DismissableLayerBranch",Rk=j.forwardRef((e,t)=>{const n=j.useContext(Ak),r=j.useRef(null),i=At(t,r);return j.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),p.jsx(at.div,{...e,ref:i})});Rk.displayName=h8;function p8(e,t=globalThis==null?void 0:globalThis.document){const n=mr(e),r=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const l=u=>{if(u.target&&!r.current){let f=function(){Ik(d8,n,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}else t.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function m8(e,t=globalThis==null?void 0:globalThis.document){const n=mr(e),r=j.useRef(!1);return j.useEffect(()=>{const i=l=>{l.target&&!r.current&&Ik(f8,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rb(){const e=new CustomEvent(Gy);document.dispatchEvent(e)}function Ik(e,t,n,{discrete:r}){const i=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?d0(i,l):i.dispatchEvent(l)}var g8=Nd,y8=Rk,jr=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},v8="Portal",Pp=j.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,l]=j.useState(!1);jr(()=>l(!0),[]);const c=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?X5.createPortal(p.jsx(at.div,{...r,ref:t}),c):null});Pp.displayName=v8;function w8(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var Ar=e=>{const{present:t,children:n}=e,r=x8(t),i=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),l=At(r.ref,_8(i));return typeof n=="function"||r.isPresent?j.cloneElement(i,{ref:l}):null};Ar.displayName="Presence";function x8(e){const[t,n]=j.useState(),r=j.useRef(null),i=j.useRef(e),l=j.useRef("none"),c=e?"mounted":"unmounted",[u,f]=w8(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const m=uh(r.current);l.current=u==="mounted"?m:"none"},[u]),jr(()=>{const m=r.current,y=i.current;if(y!==e){const E=l.current,_=uh(m);e?f("MOUNT"):_==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(y&&E!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),jr(()=>{if(t){let m;const y=t.ownerDocument.defaultView??window,g=_=>{const w=uh(r.current).includes(_.animationName);if(_.target===t&&w&&(f("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",m=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},E=_=>{_.target===t&&(l.current=uh(r.current))};return t.addEventListener("animationstart",E),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{y.clearTimeout(m),t.removeEventListener("animationstart",E),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:j.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function uh(e){return(e==null?void 0:e.animationName)||"none"}function _8(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var b8=wv[" useInsertionEffect ".trim().toString()]||jr;function Mo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,l,c]=E8({defaultProp:t,onChange:n}),u=e!==void 0,f=u?e:i;{const y=j.useRef(e!==void 0);j.useEffect(()=>{const g=y.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=u},[u,r])}const m=j.useCallback(y=>{var g;if(u){const E=k8(y)?y(e):y;E!==e&&((g=c.current)==null||g.call(c,E))}else l(y)},[u,e,l,c]);return[f,m]}function E8({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),i=j.useRef(n),l=j.useRef(t);return b8(()=>{l.current=t},[t]),j.useEffect(()=>{var c;i.current!==n&&((c=l.current)==null||c.call(l,n),i.current=n)},[n,i]),[n,r,l]}function k8(e){return typeof e=="function"}var S8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),C8="VisuallyHidden",Tp=j.forwardRef((e,t)=>p.jsx(at.span,{...e,ref:t,style:{...S8,...e.style}}));Tp.displayName=C8;var N8=Tp,f0="ToastProvider",[h0,P8,T8]=Np("Toast"),[Lk,VZ]=nr("Toast",[T8]),[j8,jp]=Lk(f0),Ok=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:l=50,children:c}=e,[u,f]=j.useState(null),[m,y]=j.useState(0),g=j.useRef(!1),E=j.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${f0}\`. Expected non-empty \`string\`.`),p.jsx(h0.Provider,{scope:t,children:p.jsx(j8,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:l,toastCount:m,viewport:u,onViewportChange:f,onToastAdd:j.useCallback(()=>y(_=>_+1),[]),onToastRemove:j.useCallback(()=>y(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:E,children:c})})};Ok.displayName=f0;var Mk="ToastViewport",A8=["F8"],Yy="toast.viewportPause",Jy="toast.viewportResume",zk=j.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=A8,label:i="Notifications ({hotkey})",...l}=e,c=jp(Mk,n),u=P8(n),f=j.useRef(null),m=j.useRef(null),y=j.useRef(null),g=j.useRef(null),E=At(t,g,c.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=c.toastCount>0;j.useEffect(()=>{const b=S=>{var R;r.length!==0&&r.every(D=>S[D]||S.code===D)&&((R=g.current)==null||R.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),j.useEffect(()=>{const b=f.current,S=g.current;if(k&&b&&S){const P=()=>{if(!c.isClosePausedRef.current){const q=new CustomEvent(Yy);S.dispatchEvent(q),c.isClosePausedRef.current=!0}},R=()=>{if(c.isClosePausedRef.current){const q=new CustomEvent(Jy);S.dispatchEvent(q),c.isClosePausedRef.current=!1}},D=q=>{!b.contains(q.relatedTarget)&&R()},B=()=>{b.contains(document.activeElement)||R()};return b.addEventListener("focusin",P),b.addEventListener("focusout",D),b.addEventListener("pointermove",P),b.addEventListener("pointerleave",B),window.addEventListener("blur",P),window.addEventListener("focus",R),()=>{b.removeEventListener("focusin",P),b.removeEventListener("focusout",D),b.removeEventListener("pointermove",P),b.removeEventListener("pointerleave",B),window.removeEventListener("blur",P),window.removeEventListener("focus",R)}}},[k,c.isClosePausedRef]);const w=j.useCallback(({tabbingDirection:b})=>{const P=u().map(R=>{const D=R.ref.current,B=[D,...H8(D)];return b==="forwards"?B:B.reverse()});return(b==="forwards"?P.reverse():P).flat()},[u]);return j.useEffect(()=>{const b=g.current;if(b){const S=P=>{var B,q,G;const R=P.altKey||P.ctrlKey||P.metaKey;if(P.key==="Tab"&&!R){const J=document.activeElement,V=P.shiftKey;if(P.target===b&&V){(B=m.current)==null||B.focus();return}const U=w({tabbingDirection:V?"backwards":"forwards"}),re=U.findIndex(M=>M===J);Zg(U.slice(re+1))?P.preventDefault():V?(q=m.current)==null||q.focus():(G=y.current)==null||G.focus()}};return b.addEventListener("keydown",S),()=>b.removeEventListener("keydown",S)}},[u,w]),p.jsxs(y8,{ref:f,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&p.jsx(Qy,{ref:m,onFocusFromOutsideViewport:()=>{const b=w({tabbingDirection:"forwards"});Zg(b)}}),p.jsx(h0.Slot,{scope:n,children:p.jsx(at.ol,{tabIndex:-1,...l,ref:E})}),k&&p.jsx(Qy,{ref:y,onFocusFromOutsideViewport:()=>{const b=w({tabbingDirection:"backwards"});Zg(b)}})]})});zk.displayName=Mk;var Dk="ToastFocusProxy",Qy=j.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,l=jp(Dk,n);return p.jsx(Tp,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:c=>{var m;const u=c.relatedTarget;!((m=l.viewport)!=null&&m.contains(u))&&r()}})});Qy.displayName=Dk;var Pd="Toast",R8="toast.swipeStart",I8="toast.swipeMove",L8="toast.swipeCancel",O8="toast.swipeEnd",Bk=j.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:l,...c}=e,[u,f]=Mo({prop:r,defaultProp:i??!0,onChange:l,caller:Pd});return p.jsx(Ar,{present:n||u,children:p.jsx(D8,{open:u,...c,ref:t,onClose:()=>f(!1),onPause:mr(e.onPause),onResume:mr(e.onResume),onSwipeStart:Ke(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ke(e.onSwipeMove,m=>{const{x:y,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Ke(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ke(e.onSwipeEnd,m=>{const{x:y,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),f(!1)})})})});Bk.displayName=Pd;var[M8,z8]=Lk(Pd,{onClose(){}}),D8=j.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:l,onClose:c,onEscapeKeyDown:u,onPause:f,onResume:m,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:E,onSwipeEnd:_,...k}=e,w=jp(Pd,n),[b,S]=j.useState(null),P=At(t,M=>S(M)),R=j.useRef(null),D=j.useRef(null),B=i||w.duration,q=j.useRef(0),G=j.useRef(B),J=j.useRef(0),{onToastAdd:V,onToastRemove:Y}=w,Q=mr(()=>{var W;(b==null?void 0:b.contains(document.activeElement))&&((W=w.viewport)==null||W.focus()),c()}),U=j.useCallback(M=>{!M||M===1/0||(window.clearTimeout(J.current),q.current=new Date().getTime(),J.current=window.setTimeout(Q,M))},[Q]);j.useEffect(()=>{const M=w.viewport;if(M){const W=()=>{U(G.current),m==null||m()},ae=()=>{const oe=new Date().getTime()-q.current;G.current=G.current-oe,window.clearTimeout(J.current),f==null||f()};return M.addEventListener(Yy,ae),M.addEventListener(Jy,W),()=>{M.removeEventListener(Yy,ae),M.removeEventListener(Jy,W)}}},[w.viewport,B,f,m,U]),j.useEffect(()=>{l&&!w.isClosePausedRef.current&&U(B)},[l,B,w.isClosePausedRef,U]),j.useEffect(()=>(V(),()=>Y()),[V,Y]);const re=j.useMemo(()=>b?Vk(b):null,[b]);return w.viewport?p.jsxs(p.Fragment,{children:[re&&p.jsx(B8,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:re}),p.jsx(M8,{scope:n,onClose:Q,children:Sp.createPortal(p.jsx(h0.ItemSlot,{scope:n,children:p.jsx(g8,{asChild:!0,onEscapeKeyDown:Ke(u,()=>{w.isFocusedToastEscapeKeyDownRef.current||Q(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(at.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":w.swipeDirection,...k,ref:P,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ke(e.onKeyDown,M=>{M.key==="Escape"&&(u==null||u(M.nativeEvent),M.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:Ke(e.onPointerDown,M=>{M.button===0&&(R.current={x:M.clientX,y:M.clientY})}),onPointerMove:Ke(e.onPointerMove,M=>{if(!R.current)return;const W=M.clientX-R.current.x,ae=M.clientY-R.current.y,oe=!!D.current,ne=["left","right"].includes(w.swipeDirection),ee=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,le=ne?ee(0,W):0,F=ne?0:ee(0,ae),K=M.pointerType==="touch"?10:2,Ce={x:le,y:F},be={originalEvent:M,delta:Ce};oe?(D.current=Ce,dh(I8,g,be,{discrete:!1})):ib(Ce,w.swipeDirection,K)?(D.current=Ce,dh(R8,y,be,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(W)>K||Math.abs(ae)>K)&&(R.current=null)}),onPointerUp:Ke(e.onPointerUp,M=>{const W=D.current,ae=M.target;if(ae.hasPointerCapture(M.pointerId)&&ae.releasePointerCapture(M.pointerId),D.current=null,R.current=null,W){const oe=M.currentTarget,ne={originalEvent:M,delta:W};ib(W,w.swipeDirection,w.swipeThreshold)?dh(O8,_,ne,{discrete:!0}):dh(L8,E,ne,{discrete:!0}),oe.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),B8=e=>{const{__scopeToast:t,children:n,...r}=e,i=jp(Pd,t),[l,c]=j.useState(!1),[u,f]=j.useState(!1);return $8(()=>c(!0)),j.useEffect(()=>{const m=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(m)},[]),u?null:p.jsx(Pp,{asChild:!0,children:p.jsx(Tp,{...r,children:l&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},F8="ToastTitle",Fk=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(at.div,{...r,ref:t})});Fk.displayName=F8;var U8="ToastDescription",Uk=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(at.div,{...r,ref:t})});Uk.displayName=U8;var $k="ToastAction",Zk=j.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(Wk,{altText:n,asChild:!0,children:p.jsx(p0,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$k}\`. Expected non-empty \`string\`.`),null)});Zk.displayName=$k;var Hk="ToastClose",p0=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=z8(Hk,n);return p.jsx(Wk,{asChild:!0,children:p.jsx(at.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,i.onClose)})})});p0.displayName=Hk;var Wk=j.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return p.jsx(at.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Vk(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Z8(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!i)if(l){const c=r.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...Vk(r))}}),t}function dh(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?d0(i,l):i.dispatchEvent(l)}var ib=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),l=r>i;return t==="left"||t==="right"?l&&r>n:!l&&i>n};function $8(e=()=>{}){const t=mr(e);jr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Z8(e){return e.nodeType===e.ELEMENT_NODE}function H8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Zg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var W8=Ok,qk=zk,Kk=Bk,Gk=Fk,Yk=Uk,Jk=Zk,Qk=p0;function Xk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Xk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function eS(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Xk(e))&&(r&&(r+=" "),r+=t);return r}const ob=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sb=eS,Td=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return sb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:l}=t,c=Object.keys(i).map(m=>{const y=n==null?void 0:n[m],g=l==null?void 0:l[m];if(y===null)return null;const E=ob(y)||ob(g);return i[m][E]}),u=n&&Object.entries(n).reduce((m,y)=>{let[g,E]=y;return E===void 0||(m[g]=E),m},{}),f=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:g,className:E,..._}=y;return Object.entries(_).every(k=>{let[w,b]=k;return Array.isArray(b)?b.includes({...l,...u}[w]):{...l,...u}[w]===b})?[...m,g,E]:m},[]);return sb(e,c,f,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:c,...u},f)=>j.createElement("svg",{ref:f,...q8,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:tS("lucide",i),...u},[...c.map(([m,y])=>j.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=(e,t)=>{const n=j.forwardRef(({className:r,...i},l)=>j.createElement(K8,{ref:l,iconNode:t,className:tS(`lucide-${V8(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=bt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=bt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=bt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=bt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=bt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=bt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=bt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=bt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=bt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=bt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=bt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=bt("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=bt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=bt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=bt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=bt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=bt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=bt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=bt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=bt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=bt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=bt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=bt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=bt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=bt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=bt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=bt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),g0="-",h6=e=>{const t=m6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{const u=c.split(g0);return u[0]===""&&u.length!==1&&u.shift(),uS(u,t)||p6(c)},getConflictingClassGroupIds:(c,u)=>{const f=n[c]||[];return u&&r[c]?[...f,...r[c]]:f}}},uS=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?uS(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const l=e.join(g0);return(c=t.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},lb=/^\[(.+)\]$/,p6=e=>{if(lb.test(e)){const t=lb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},m6=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return y6(Object.entries(e.classGroups),n).forEach(([l,c])=>{ev(c,r,l,t)}),r},ev=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const l=i===""?t:cb(t,i);l.classGroupId=n;return}if(typeof i=="function"){if(g6(i)){ev(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,c])=>{ev(c,cb(t,l),n,r)})})},cb=(e,t)=>{let n=e;return t.split(g0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},g6=e=>e.isThemeGetter,y6=(e,t)=>t?e.map(([n,r])=>{const i=r.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,u])=>[t+c,u])):l);return[n,i]}):e,v6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(l,c)=>{n.set(l,c),t++,t>e&&(t=0,r=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return i(l,c),c},set(l,c){n.has(l)?n.set(l,c):i(l,c)}}},dS="!",w6=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],l=t.length,c=u=>{const f=[];let m=0,y=0,g;for(let b=0;b<u.length;b++){let S=u[b];if(m===0){if(S===i&&(r||u.slice(b,b+l)===t)){f.push(u.slice(y,b)),y=b+l;continue}if(S==="/"){g=b;continue}}S==="["?m++:S==="]"&&m--}const E=f.length===0?u:u.substring(y),_=E.startsWith(dS),k=_?E.substring(1):E,w=g&&g>y?g-y:void 0;return{modifiers:f,hasImportantModifier:_,baseClassName:k,maybePostfixModifierPosition:w}};return n?u=>n({className:u,parseClassName:c}):c},x6=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},_6=e=>({cache:v6(e.cacheSize),parseClassName:w6(e),...h6(e)}),b6=/\s+/,E6=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,l=[],c=e.trim().split(b6);let u="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{modifiers:y,hasImportantModifier:g,baseClassName:E,maybePostfixModifierPosition:_}=n(m);let k=!!_,w=r(k?E.substring(0,_):E);if(!w){if(!k){u=m+(u.length>0?" "+u:u);continue}if(w=r(E),!w){u=m+(u.length>0?" "+u:u);continue}k=!1}const b=x6(y).join(":"),S=g?b+dS:b,P=S+w;if(l.includes(P))continue;l.push(P);const R=i(w,k);for(let D=0;D<R.length;++D){const B=R[D];l.push(S+B)}u=m+(u.length>0?" "+u:u)}return u};function k6(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=fS(t))&&(r&&(r+=" "),r+=n);return r}const fS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=fS(e[r]))&&(n&&(n+=" "),n+=t);return n};function S6(e,...t){let n,r,i,l=c;function c(f){const m=t.reduce((y,g)=>g(y),e());return n=_6(m),r=n.cache.get,i=n.cache.set,l=u,u(f)}function u(f){const m=r(f);if(m)return m;const y=E6(f,n);return i(f,y),y}return function(){return l(k6.apply(null,arguments))}}const Gt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},hS=/^\[(?:([a-z-]+):)?(.+)\]$/i,C6=/^\d+\/\d+$/,N6=new Set(["px","full","screen"]),P6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,T6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,A6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mo=e=>oc(e)||N6.has(e)||C6.test(e),_s=e=>Fc(e,"length",F6),oc=e=>!!e&&!Number.isNaN(Number(e)),Wg=e=>Fc(e,"number",oc),$u=e=>!!e&&Number.isInteger(Number(e)),I6=e=>e.endsWith("%")&&oc(e.slice(0,-1)),yt=e=>hS.test(e),bs=e=>P6.test(e),L6=new Set(["length","size","percentage"]),O6=e=>Fc(e,L6,pS),M6=e=>Fc(e,"position",pS),z6=new Set(["image","url"]),D6=e=>Fc(e,z6,$6),B6=e=>Fc(e,"",U6),Zu=()=>!0,Fc=(e,t,n)=>{const r=hS.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},F6=e=>T6.test(e)&&!j6.test(e),pS=()=>!1,U6=e=>A6.test(e),$6=e=>R6.test(e),Z6=()=>{const e=Gt("colors"),t=Gt("spacing"),n=Gt("blur"),r=Gt("brightness"),i=Gt("borderColor"),l=Gt("borderRadius"),c=Gt("borderSpacing"),u=Gt("borderWidth"),f=Gt("contrast"),m=Gt("grayscale"),y=Gt("hueRotate"),g=Gt("invert"),E=Gt("gap"),_=Gt("gradientColorStops"),k=Gt("gradientColorStopPositions"),w=Gt("inset"),b=Gt("margin"),S=Gt("opacity"),P=Gt("padding"),R=Gt("saturate"),D=Gt("scale"),B=Gt("sepia"),q=Gt("skew"),G=Gt("space"),J=Gt("translate"),V=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",yt,t],U=()=>[yt,t],re=()=>["",mo,_s],M=()=>["auto",oc,yt],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",yt],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[oc,yt];return{cacheSize:500,separator:":",theme:{colors:[Zu],spacing:[mo,_s],blur:["none","",bs,yt],brightness:F(),borderColor:[e],borderRadius:["none","","full",bs,yt],borderSpacing:U(),borderWidth:re(),contrast:F(),grayscale:ee(),hueRotate:F(),invert:ee(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[I6,_s],inset:Q(),margin:Q(),opacity:F(),padding:U(),saturate:F(),scale:F(),sepia:ee(),skew:F(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",yt]}],container:["container"],columns:[{columns:[bs]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),yt]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$u,yt]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yt]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",$u,yt]}],"grid-cols":[{"grid-cols":[Zu]}],"col-start-end":[{col:["auto",{span:["full",$u,yt]},yt]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Zu]}],"row-start-end":[{row:["auto",{span:[$u,yt]},yt]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yt]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[G]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[G]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yt,t]}],"min-w":[{"min-w":[yt,t,"min","max","fit"]}],"max-w":[{"max-w":[yt,t,"none","full","min","max","fit","prose",{screen:[bs]},bs]}],h:[{h:[yt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",bs,_s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wg]}],"font-family":[{font:[Zu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yt]}],"line-clamp":[{"line-clamp":["none",oc,Wg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mo,yt]}],"list-image":[{"list-image":["none",yt]}],"list-style-type":[{list:["none","disc","decimal",yt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mo,_s]}],"underline-offset":[{"underline-offset":["auto",mo,yt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),M6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",O6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},D6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:ae()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[mo,yt]}],"outline-w":[{outline:[mo,_s]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[mo,_s]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bs,B6]}],"shadow-color":[{shadow:[Zu]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",bs,yt]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[g]}],saturate:[{saturate:[R]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yt]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",yt]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",yt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[$u,yt]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[q]}],"skew-y":[{"skew-y":[q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mo,_s,Wg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},H6=S6(Z6);function lt(...e){return H6(eS(e))}const W6=W8,mS=j.forwardRef(({className:e,...t},n)=>p.jsx(qk,{ref:n,className:lt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));mS.displayName=qk.displayName;const V6=Td("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gS=j.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(Kk,{ref:r,className:lt(V6({variant:t}),e),...n}));gS.displayName=Kk.displayName;const q6=j.forwardRef(({className:e,...t},n)=>p.jsx(Jk,{ref:n,className:lt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));q6.displayName=Jk.displayName;const yS=j.forwardRef(({className:e,...t},n)=>p.jsx(Qk,{ref:n,className:lt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(cS,{className:"h-4 w-4"})}));yS.displayName=Qk.displayName;const vS=j.forwardRef(({className:e,...t},n)=>p.jsx(Gk,{ref:n,className:lt("text-sm font-semibold",e),...t}));vS.displayName=Gk.displayName;const wS=j.forwardRef(({className:e,...t},n)=>p.jsx(Yk,{ref:n,className:lt("text-sm opacity-90",e),...t}));wS.displayName=Yk.displayName;function K6(){const{toasts:e}=tl();return p.jsxs(W6,{children:[e.map(function({id:t,title:n,description:r,action:i,...l}){return p.jsxs(gS,{...l,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(vS,{children:n}),r&&p.jsx(wS,{children:r})]}),i,p.jsx(yS,{})]},t)}),p.jsx(mS,{})]})}var G6=wv[" useId ".trim().toString()]||(()=>{}),Y6=0;function $s(e){const[t,n]=j.useState(G6());return jr(()=>{n(r=>r??String(Y6++))},[e]),t?`radix-${t}`:""}const J6=["top","right","bottom","left"],Gs=Math.min,Pr=Math.max,Hh=Math.round,fh=Math.floor,Zi=e=>({x:e,y:e}),Q6={left:"right",right:"left",bottom:"top",top:"bottom"},X6={start:"end",end:"start"};function tv(e,t,n){return Pr(e,Gs(t,n))}function jo(e,t){return typeof e=="function"?e(t):e}function Ao(e){return e.split("-")[0]}function Uc(e){return e.split("-")[1]}function y0(e){return e==="x"?"y":"x"}function v0(e){return e==="y"?"height":"width"}function No(e){return["top","bottom"].includes(Ao(e))?"y":"x"}function w0(e){return y0(No(e))}function eD(e,t,n){n===void 0&&(n=!1);const r=Uc(e),i=w0(e),l=v0(i);let c=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=Wh(c)),[c,Wh(c)]}function tD(e){const t=Wh(e);return[nv(e),t,nv(t)]}function nv(e){return e.replace(/start|end/g,t=>X6[t])}function nD(e,t,n){const r=["left","right"],i=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?l:c;default:return[]}}function rD(e,t,n,r){const i=Uc(e);let l=nD(Ao(e),n==="start",r);return i&&(l=l.map(c=>c+"-"+i),t&&(l=l.concat(l.map(nv)))),l}function Wh(e){return e.replace(/left|right|bottom|top/g,t=>Q6[t])}function iD(e){return{top:0,right:0,bottom:0,left:0,...e}}function xS(e){return typeof e!="number"?iD(e):{top:e,right:e,bottom:e,left:e}}function Vh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function ub(e,t,n){let{reference:r,floating:i}=e;const l=No(t),c=w0(t),u=v0(c),f=Ao(t),m=l==="y",y=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,E=r[u]/2-i[u]/2;let _;switch(f){case"top":_={x:y,y:r.y-i.height};break;case"bottom":_={x:y,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:g};break;case"left":_={x:r.x-i.width,y:g};break;default:_={x:r.x,y:r.y}}switch(Uc(t)){case"start":_[c]-=E*(n&&m?-1:1);break;case"end":_[c]+=E*(n&&m?-1:1);break}return _}const oD=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:l=[],platform:c}=n,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:y,y:g}=ub(m,r,f),E=r,_={},k=0;for(let w=0;w<u.length;w++){const{name:b,fn:S}=u[w],{x:P,y:R,data:D,reset:B}=await S({x:y,y:g,initialPlacement:r,placement:E,strategy:i,middlewareData:_,rects:m,platform:c,elements:{reference:e,floating:t}});y=P??y,g=R??g,_={..._,[b]:{..._[b],...D}},B&&k<=50&&(k++,typeof B=="object"&&(B.placement&&(E=B.placement),B.rects&&(m=B.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):B.rects),{x:y,y:g}=ub(m,E,f)),w=-1)}return{x:y,y:g,placement:E,strategy:i,middlewareData:_}};async function ld(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:E=!1,padding:_=0}=jo(t,e),k=xS(_),b=u[E?g==="floating"?"reference":"floating":g],S=Vh(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(b)))==null||n?b:b.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:m,rootBoundary:y,strategy:f})),P=g==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),D=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},B=Vh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:R,strategy:f}):P);return{top:(S.top-B.top+k.top)/D.y,bottom:(B.bottom-S.bottom+k.bottom)/D.y,left:(S.left-B.left+k.left)/D.x,right:(B.right-S.right+k.right)/D.x}}const sD=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:m,padding:y=0}=jo(e,t)||{};if(m==null)return{};const g=xS(y),E={x:n,y:r},_=w0(i),k=v0(_),w=await c.getDimensions(m),b=_==="y",S=b?"top":"left",P=b?"bottom":"right",R=b?"clientHeight":"clientWidth",D=l.reference[k]+l.reference[_]-E[_]-l.floating[k],B=E[_]-l.reference[_],q=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let G=q?q[R]:0;(!G||!await(c.isElement==null?void 0:c.isElement(q)))&&(G=u.floating[R]||l.floating[k]);const J=D/2-B/2,V=G/2-w[k]/2-1,Y=Gs(g[S],V),Q=Gs(g[P],V),U=Y,re=G-w[k]-Q,M=G/2-w[k]/2+J,W=tv(U,M,re),ae=!f.arrow&&Uc(i)!=null&&M!==W&&l.reference[k]/2-(M<U?Y:Q)-w[k]/2<0,oe=ae?M<U?M-U:M-re:0;return{[_]:E[_]+oe,data:{[_]:W,centerOffset:M-W-oe,...ae&&{alignmentOffset:oe}},reset:ae}}}),aD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:m}=t,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:E,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:w=!0,...b}=jo(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const S=Ao(i),P=No(u),R=Ao(u)===u,D=await(f.isRTL==null?void 0:f.isRTL(m.floating)),B=E||(R||!w?[Wh(u)]:tD(u)),q=k!=="none";!E&&q&&B.push(...rD(u,w,k,D));const G=[u,...B],J=await ld(t,b),V=[];let Y=((r=l.flip)==null?void 0:r.overflows)||[];if(y&&V.push(J[S]),g){const W=eD(i,c,D);V.push(J[W[0]],J[W[1]])}if(Y=[...Y,{placement:i,overflows:V}],!V.every(W=>W<=0)){var Q,U;const W=(((Q=l.flip)==null?void 0:Q.index)||0)+1,ae=G[W];if(ae){var re;const ne=g==="alignment"?P!==No(ae):!1,ee=((re=Y[0])==null?void 0:re.overflows[0])>0;if(!ne||ee)return{data:{index:W,overflows:Y},reset:{placement:ae}}}let oe=(U=Y.filter(ne=>ne.overflows[0]<=0).sort((ne,ee)=>ne.overflows[1]-ee.overflows[1])[0])==null?void 0:U.placement;if(!oe)switch(_){case"bestFit":{var M;const ne=(M=Y.filter(ee=>{if(q){const le=No(ee.placement);return le===P||le==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(le=>le>0).reduce((le,F)=>le+F,0)]).sort((ee,le)=>ee[1]-le[1])[0])==null?void 0:M[0];ne&&(oe=ne);break}case"initialPlacement":oe=u;break}if(i!==oe)return{reset:{placement:oe}}}return{}}}};function db(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fb(e){return J6.some(t=>e[t]>=0)}const lD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=jo(e,t);switch(r){case"referenceHidden":{const l=await ld(t,{...i,elementContext:"reference"}),c=db(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:fb(c)}}}case"escaped":{const l=await ld(t,{...i,altBoundary:!0}),c=db(l,n.floating);return{data:{escapedOffsets:c,escaped:fb(c)}}}default:return{}}}}};async function cD(e,t){const{placement:n,platform:r,elements:i}=e,l=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=Ao(n),u=Uc(n),f=No(n)==="y",m=["left","top"].includes(c)?-1:1,y=l&&f?-1:1,g=jo(t,e);let{mainAxis:E,crossAxis:_,alignmentAxis:k}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof k=="number"&&(_=u==="end"?k*-1:k),f?{x:_*y,y:E*m}:{x:E*m,y:_*y}}const uD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:l,placement:c,middlewareData:u}=t,f=await cD(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:c}}}}},dD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:b=>{let{x:S,y:P}=b;return{x:S,y:P}}},...f}=jo(e,t),m={x:n,y:r},y=await ld(t,f),g=No(Ao(i)),E=y0(g);let _=m[E],k=m[g];if(l){const b=E==="y"?"top":"left",S=E==="y"?"bottom":"right",P=_+y[b],R=_-y[S];_=tv(P,_,R)}if(c){const b=g==="y"?"top":"left",S=g==="y"?"bottom":"right",P=k+y[b],R=k-y[S];k=tv(P,k,R)}const w=u.fn({...t,[E]:_,[g]:k});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[E]:l,[g]:c}}}}}},fD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:l,middlewareData:c}=t,{offset:u=0,mainAxis:f=!0,crossAxis:m=!0}=jo(e,t),y={x:n,y:r},g=No(i),E=y0(g);let _=y[E],k=y[g];const w=jo(u,t),b=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const R=E==="y"?"height":"width",D=l.reference[E]-l.floating[R]+b.mainAxis,B=l.reference[E]+l.reference[R]-b.mainAxis;_<D?_=D:_>B&&(_=B)}if(m){var S,P;const R=E==="y"?"width":"height",D=["top","left"].includes(Ao(i)),B=l.reference[g]-l.floating[R]+(D&&((S=c.offset)==null?void 0:S[g])||0)+(D?0:b.crossAxis),q=l.reference[g]+l.reference[R]+(D?0:((P=c.offset)==null?void 0:P[g])||0)-(D?b.crossAxis:0);k<B?k=B:k>q&&(k=q)}return{[E]:_,[g]:k}}}},hD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:l,platform:c,elements:u}=t,{apply:f=()=>{},...m}=jo(e,t),y=await ld(t,m),g=Ao(i),E=Uc(i),_=No(i)==="y",{width:k,height:w}=l.floating;let b,S;g==="top"||g==="bottom"?(b=g,S=E===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(S=g,b=E==="end"?"top":"bottom");const P=w-y.top-y.bottom,R=k-y.left-y.right,D=Gs(w-y[b],P),B=Gs(k-y[S],R),q=!t.middlewareData.shift;let G=D,J=B;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(J=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(G=P),q&&!E){const Y=Pr(y.left,0),Q=Pr(y.right,0),U=Pr(y.top,0),re=Pr(y.bottom,0);_?J=k-2*(Y!==0||Q!==0?Y+Q:Pr(y.left,y.right)):G=w-2*(U!==0||re!==0?U+re:Pr(y.top,y.bottom))}await f({...t,availableWidth:J,availableHeight:G});const V=await c.getDimensions(u.floating);return k!==V.width||w!==V.height?{reset:{rects:!0}}:{}}}};function Rp(){return typeof window<"u"}function $c(e){return _S(e)?(e.nodeName||"").toLowerCase():"#document"}function Tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vi(e){var t;return(t=(_S(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _S(e){return Rp()?e instanceof Node||e instanceof Tr(e).Node:!1}function yi(e){return Rp()?e instanceof Element||e instanceof Tr(e).Element:!1}function Wi(e){return Rp()?e instanceof HTMLElement||e instanceof Tr(e).HTMLElement:!1}function hb(e){return!Rp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tr(e).ShadowRoot}function jd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=vi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function pD(e){return["table","td","th"].includes($c(e))}function Ip(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function x0(e){const t=_0(),n=yi(e)?vi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function mD(e){let t=Ys(e);for(;Wi(t)&&!jc(t);){if(x0(t))return t;if(Ip(t))return null;t=Ys(t)}return null}function _0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jc(e){return["html","body","#document"].includes($c(e))}function vi(e){return Tr(e).getComputedStyle(e)}function Lp(e){return yi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ys(e){if($c(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hb(e)&&e.host||Vi(e);return hb(t)?t.host:t}function bS(e){const t=Ys(e);return jc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wi(t)&&jd(t)?t:bS(t)}function cd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=bS(e),l=i===((r=e.ownerDocument)==null?void 0:r.body),c=Tr(i);if(l){const u=rv(c);return t.concat(c,c.visualViewport||[],jd(i)?i:[],u&&n?cd(u):[])}return t.concat(i,cd(i,[],n))}function rv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ES(e){const t=vi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Wi(e),l=i?e.offsetWidth:n,c=i?e.offsetHeight:r,u=Hh(n)!==l||Hh(r)!==c;return u&&(n=l,r=c),{width:n,height:r,$:u}}function b0(e){return yi(e)?e:e.contextElement}function sc(e){const t=b0(e);if(!Wi(t))return Zi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:l}=ES(t);let c=(l?Hh(n.width):n.width)/r,u=(l?Hh(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const gD=Zi(0);function kS(e){const t=Tr(e);return!_0()||!t.visualViewport?gD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yD(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tr(e)?!1:t}function Ja(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),l=b0(e);let c=Zi(1);t&&(r?yi(r)&&(c=sc(r)):c=sc(e));const u=yD(l,n,r)?kS(l):Zi(0);let f=(i.left+u.x)/c.x,m=(i.top+u.y)/c.y,y=i.width/c.x,g=i.height/c.y;if(l){const E=Tr(l),_=r&&yi(r)?Tr(r):r;let k=E,w=rv(k);for(;w&&r&&_!==k;){const b=sc(w),S=w.getBoundingClientRect(),P=vi(w),R=S.left+(w.clientLeft+parseFloat(P.paddingLeft))*b.x,D=S.top+(w.clientTop+parseFloat(P.paddingTop))*b.y;f*=b.x,m*=b.y,y*=b.x,g*=b.y,f+=R,m+=D,k=Tr(w),w=rv(k)}}return Vh({width:y,height:g,x:f,y:m})}function E0(e,t){const n=Lp(e).scrollLeft;return t?t.left+n:Ja(Vi(e)).left+n}function SS(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:E0(e,r)),l=r.top+t.scrollTop;return{x:i,y:l}}function vD(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const l=i==="fixed",c=Vi(r),u=t?Ip(t.floating):!1;if(r===c||u&&l)return n;let f={scrollLeft:0,scrollTop:0},m=Zi(1);const y=Zi(0),g=Wi(r);if((g||!g&&!l)&&(($c(r)!=="body"||jd(c))&&(f=Lp(r)),Wi(r))){const _=Ja(r);m=sc(r),y.x=_.x+r.clientLeft,y.y=_.y+r.clientTop}const E=c&&!g&&!l?SS(c,f,!0):Zi(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+y.x+E.x,y:n.y*m.y-f.scrollTop*m.y+y.y+E.y}}function wD(e){return Array.from(e.getClientRects())}function xD(e){const t=Vi(e),n=Lp(e),r=e.ownerDocument.body,i=Pr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=Pr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+E0(e);const u=-n.scrollTop;return vi(r).direction==="rtl"&&(c+=Pr(t.clientWidth,r.clientWidth)-i),{width:i,height:l,x:c,y:u}}function _D(e,t){const n=Tr(e),r=Vi(e),i=n.visualViewport;let l=r.clientWidth,c=r.clientHeight,u=0,f=0;if(i){l=i.width,c=i.height;const m=_0();(!m||m&&t==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:l,height:c,x:u,y:f}}function bD(e,t){const n=Ja(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,l=Wi(e)?sc(e):Zi(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=i*l.x,m=r*l.y;return{width:c,height:u,x:f,y:m}}function pb(e,t,n){let r;if(t==="viewport")r=_D(e,n);else if(t==="document")r=xD(Vi(e));else if(yi(t))r=bD(t,n);else{const i=kS(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Vh(r)}function CS(e,t){const n=Ys(e);return n===t||!yi(n)||jc(n)?!1:vi(n).position==="fixed"||CS(n,t)}function ED(e,t){const n=t.get(e);if(n)return n;let r=cd(e,[],!1).filter(u=>yi(u)&&$c(u)!=="body"),i=null;const l=vi(e).position==="fixed";let c=l?Ys(e):e;for(;yi(c)&&!jc(c);){const u=vi(c),f=x0(c);!f&&u.position==="fixed"&&(i=null),(l?!f&&!i:!f&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||jd(c)&&!f&&CS(e,c))?r=r.filter(y=>y!==c):i=u,c=Ys(c)}return t.set(e,r),r}function kD(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const c=[...n==="clippingAncestors"?Ip(t)?[]:ED(t,this._c):[].concat(n),r],u=c[0],f=c.reduce((m,y)=>{const g=pb(t,y,i);return m.top=Pr(g.top,m.top),m.right=Gs(g.right,m.right),m.bottom=Gs(g.bottom,m.bottom),m.left=Pr(g.left,m.left),m},pb(t,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function SD(e){const{width:t,height:n}=ES(e);return{width:t,height:n}}function CD(e,t,n){const r=Wi(t),i=Vi(t),l=n==="fixed",c=Ja(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=Zi(0);function m(){f.x=E0(i)}if(r||!r&&!l)if(($c(t)!=="body"||jd(i))&&(u=Lp(t)),r){const _=Ja(t,!0,l,t);f.x=_.x+t.clientLeft,f.y=_.y+t.clientTop}else i&&m();l&&!r&&i&&m();const y=i&&!r&&!l?SS(i,u):Zi(0),g=c.left+u.scrollLeft-f.x-y.x,E=c.top+u.scrollTop-f.y-y.y;return{x:g,y:E,width:c.width,height:c.height}}function Vg(e){return vi(e).position==="static"}function mb(e,t){if(!Wi(e)||vi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vi(e)===n&&(n=n.ownerDocument.body),n}function NS(e,t){const n=Tr(e);if(Ip(e))return n;if(!Wi(e)){let i=Ys(e);for(;i&&!jc(i);){if(yi(i)&&!Vg(i))return i;i=Ys(i)}return n}let r=mb(e,t);for(;r&&pD(r)&&Vg(r);)r=mb(r,t);return r&&jc(r)&&Vg(r)&&!x0(r)?n:r||mD(e)||n}const ND=async function(e){const t=this.getOffsetParent||NS,n=this.getDimensions,r=await n(e.floating);return{reference:CD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function PD(e){return vi(e).direction==="rtl"}const TD={convertOffsetParentRelativeRectToViewportRelativeRect:vD,getDocumentElement:Vi,getClippingRect:kD,getOffsetParent:NS,getElementRects:ND,getClientRects:wD,getDimensions:SD,getScale:sc,isElement:yi,isRTL:PD};function PS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jD(e,t){let n=null,r;const i=Vi(e);function l(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:y,top:g,width:E,height:_}=m;if(u||t(),!E||!_)return;const k=fh(g),w=fh(i.clientWidth-(y+E)),b=fh(i.clientHeight-(g+_)),S=fh(y),R={rootMargin:-k+"px "+-w+"px "+-b+"px "+-S+"px",threshold:Pr(0,Gs(1,f))||1};let D=!0;function B(q){const G=q[0].intersectionRatio;if(G!==f){if(!D)return c();G?c(!1,G):r=setTimeout(()=>{c(!1,1e-7)},1e3)}G===1&&!PS(m,e.getBoundingClientRect())&&c(),D=!1}try{n=new IntersectionObserver(B,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(B,R)}n.observe(e)}return c(!0),l}function AD(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=b0(e),y=i||l?[...m?cd(m):[],...cd(t)]:[];y.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),l&&S.addEventListener("resize",n)});const g=m&&u?jD(m,n):null;let E=-1,_=null;c&&(_=new ResizeObserver(S=>{let[P]=S;P&&P.target===m&&_&&(_.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(t)})),n()}),m&&!f&&_.observe(m),_.observe(t));let k,w=f?Ja(e):null;f&&b();function b(){const S=Ja(e);w&&!PS(w,S)&&n(),w=S,k=requestAnimationFrame(b)}return n(),()=>{var S;y.forEach(P=>{i&&P.removeEventListener("scroll",n),l&&P.removeEventListener("resize",n)}),g==null||g(),(S=_)==null||S.disconnect(),_=null,f&&cancelAnimationFrame(k)}}const RD=uD,ID=dD,LD=aD,OD=hD,MD=lD,gb=sD,zD=fD,DD=(e,t,n)=>{const r=new Map,i={platform:TD,...n},l={...i.platform,_c:r};return oD(e,t,{...i,platform:l})};var kh=typeof document<"u"?j.useLayoutEffect:j.useEffect;function qh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!qh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const l=i[r];if(!(l==="_owner"&&e.$$typeof)&&!qh(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function TS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yb(e,t){const n=TS(e);return Math.round(t*n)/n}function qg(e){const t=j.useRef(e);return kh(()=>{t.current=e}),t}function BD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=e,[y,g]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[E,_]=j.useState(r);qh(E,r)||_(r);const[k,w]=j.useState(null),[b,S]=j.useState(null),P=j.useCallback(ne=>{ne!==q.current&&(q.current=ne,w(ne))},[]),R=j.useCallback(ne=>{ne!==G.current&&(G.current=ne,S(ne))},[]),D=l||k,B=c||b,q=j.useRef(null),G=j.useRef(null),J=j.useRef(y),V=f!=null,Y=qg(f),Q=qg(i),U=qg(m),re=j.useCallback(()=>{if(!q.current||!G.current)return;const ne={placement:t,strategy:n,middleware:E};Q.current&&(ne.platform=Q.current),DD(q.current,G.current,ne).then(ee=>{const le={...ee,isPositioned:U.current!==!1};M.current&&!qh(J.current,le)&&(J.current=le,Sp.flushSync(()=>{g(le)}))})},[E,t,n,Q,U]);kh(()=>{m===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,g(ne=>({...ne,isPositioned:!1})))},[m]);const M=j.useRef(!1);kh(()=>(M.current=!0,()=>{M.current=!1}),[]),kh(()=>{if(D&&(q.current=D),B&&(G.current=B),D&&B){if(Y.current)return Y.current(D,B,re);re()}},[D,B,re,Y,V]);const W=j.useMemo(()=>({reference:q,floating:G,setReference:P,setFloating:R}),[P,R]),ae=j.useMemo(()=>({reference:D,floating:B}),[D,B]),oe=j.useMemo(()=>{const ne={position:n,left:0,top:0};if(!ae.floating)return ne;const ee=yb(ae.floating,y.x),le=yb(ae.floating,y.y);return u?{...ne,transform:"translate("+ee+"px, "+le+"px)",...TS(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:le}},[n,u,ae.floating,y.x,y.y]);return j.useMemo(()=>({...y,update:re,refs:W,elements:ae,floatingStyles:oe}),[y,re,W,ae,oe])}const FD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?gb({element:r.current,padding:i}).fn(n):{}:r?gb({element:r,padding:i}).fn(n):{}}}},UD=(e,t)=>({...RD(e),options:[e,t]}),$D=(e,t)=>({...ID(e),options:[e,t]}),ZD=(e,t)=>({...zD(e),options:[e,t]}),HD=(e,t)=>({...LD(e),options:[e,t]}),WD=(e,t)=>({...OD(e),options:[e,t]}),VD=(e,t)=>({...MD(e),options:[e,t]}),qD=(e,t)=>({...FD(e),options:[e,t]});var KD="Arrow",jS=j.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...l}=e;return p.jsx(at.svg,{...l,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});jS.displayName=KD;var GD=jS;function Op(e){const[t,n]=j.useState(void 0);return jr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let c,u;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,u=m.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var k0="Popper",[AS,Mp]=nr(k0),[YD,RS]=AS(k0),IS=e=>{const{__scopePopper:t,children:n}=e,[r,i]=j.useState(null);return p.jsx(YD,{scope:t,anchor:r,onAnchorChange:i,children:n})};IS.displayName=k0;var LS="PopperAnchor",OS=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,l=RS(LS,n),c=j.useRef(null),u=At(t,c);return j.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:p.jsx(at.div,{...i,ref:u})});OS.displayName=LS;var S0="PopperContent",[JD,QD]=AS(S0),MS=j.forwardRef((e,t)=>{var Ue,De,Fe,it,wt,Rt;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:E=!1,updatePositionStrategy:_="optimized",onPlaced:k,...w}=e,b=RS(S0,n),[S,P]=j.useState(null),R=At(t,ht=>P(ht)),[D,B]=j.useState(null),q=Op(D),G=(q==null?void 0:q.width)??0,J=(q==null?void 0:q.height)??0,V=r+(l!=="center"?"-"+l:""),Y=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},Q=Array.isArray(m)?m:[m],U=Q.length>0,re={padding:Y,boundary:Q.filter(eB),altBoundary:U},{refs:M,floatingStyles:W,placement:ae,isPositioned:oe,middlewareData:ne}=BD({strategy:"fixed",placement:V,whileElementsMounted:(...ht)=>AD(...ht,{animationFrame:_==="always"}),elements:{reference:b.anchor},middleware:[UD({mainAxis:i+J,alignmentAxis:c}),f&&$D({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?ZD():void 0,...re}),f&&HD({...re}),WD({...re,apply:({elements:ht,rects:z,availableWidth:Ne,availableHeight:ke})=>{const{width:ie,height:te}=z.reference,pe=ht.floating.style;pe.setProperty("--radix-popper-available-width",`${Ne}px`),pe.setProperty("--radix-popper-available-height",`${ke}px`),pe.setProperty("--radix-popper-anchor-width",`${ie}px`),pe.setProperty("--radix-popper-anchor-height",`${te}px`)}}),D&&qD({element:D,padding:u}),tB({arrowWidth:G,arrowHeight:J}),E&&VD({strategy:"referenceHidden",...re})]}),[ee,le]=BS(ae),F=mr(k);jr(()=>{oe&&(F==null||F())},[oe,F]);const K=(Ue=ne.arrow)==null?void 0:Ue.x,Ce=(De=ne.arrow)==null?void 0:De.y,be=((Fe=ne.arrow)==null?void 0:Fe.centerOffset)!==0,[we,Re]=j.useState();return jr(()=>{S&&Re(window.getComputedStyle(S).zIndex)},[S]),p.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:oe?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(it=ne.transformOrigin)==null?void 0:it.x,(wt=ne.transformOrigin)==null?void 0:wt.y].join(" "),...((Rt=ne.hide)==null?void 0:Rt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(JD,{scope:n,placedSide:ee,onArrowChange:B,arrowX:K,arrowY:Ce,shouldHideArrow:be,children:p.jsx(at.div,{"data-side":ee,"data-align":le,...w,ref:R,style:{...w.style,animation:oe?void 0:"none"}})})})});MS.displayName=S0;var zS="PopperArrow",XD={top:"bottom",right:"left",bottom:"top",left:"right"},DS=j.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,l=QD(zS,r),c=XD[l.placedSide];return p.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:p.jsx(GD,{...i,ref:n,style:{...i.style,display:"block"}})})});DS.displayName=zS;function eB(e){return e!==null}var tB=e=>({name:"transformOrigin",options:e,fn(t){var b,S,P;const{placement:n,rects:r,middlewareData:i}=t,c=((b=i.arrow)==null?void 0:b.centerOffset)!==0,u=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[m,y]=BS(n),g={start:"0%",center:"50%",end:"100%"}[y],E=(((S=i.arrow)==null?void 0:S.x)??0)+u/2,_=(((P=i.arrow)==null?void 0:P.y)??0)+f/2;let k="",w="";return m==="bottom"?(k=c?g:`${E}px`,w=`${-f}px`):m==="top"?(k=c?g:`${E}px`,w=`${r.floating.height+f}px`):m==="right"?(k=`${-f}px`,w=c?g:`${_}px`):m==="left"&&(k=`${r.floating.width+f}px`,w=c?g:`${_}px`),{data:{x:k,y:w}}}});function BS(e){const[t,n="center"]=e.split("-");return[t,n]}var nB=IS,FS=OS,US=MS,$S=DS,[zp,qZ]=nr("Tooltip",[Mp]),C0=Mp(),ZS="TooltipProvider",rB=700,vb="tooltip.open",[iB,HS]=zp(ZS),WS=e=>{const{__scopeTooltip:t,delayDuration:n=rB,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:l}=e,c=j.useRef(!0),u=j.useRef(!1),f=j.useRef(0);return j.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),p.jsx(iB,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:j.useCallback(m=>{u.current=m},[]),disableHoverableContent:i,children:l})};WS.displayName=ZS;var VS="Tooltip",[KZ,Dp]=zp(VS),iv="TooltipTrigger",oB=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Dp(iv,n),l=HS(iv,n),c=C0(n),u=j.useRef(null),f=At(t,u,i.onTriggerChange),m=j.useRef(!1),y=j.useRef(!1),g=j.useCallback(()=>m.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),p.jsx(FS,{asChild:!0,...c,children:p.jsx(at.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:f,onPointerMove:Ke(e.onPointerMove,E=>{E.pointerType!=="touch"&&!y.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ke(e.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:Ke(e.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ke(e.onFocus,()=>{m.current||i.onOpen()}),onBlur:Ke(e.onBlur,i.onClose),onClick:Ke(e.onClick,i.onClose)})})});oB.displayName=iv;var sB="TooltipPortal",[GZ,aB]=zp(sB,{forceMount:void 0}),Ac="TooltipContent",qS=j.forwardRef((e,t)=>{const n=aB(Ac,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...l}=e,c=Dp(Ac,e.__scopeTooltip);return p.jsx(Ar,{present:r||c.open,children:c.disableHoverableContent?p.jsx(KS,{side:i,...l,ref:t}):p.jsx(lB,{side:i,...l,ref:t})})}),lB=j.forwardRef((e,t)=>{const n=Dp(Ac,e.__scopeTooltip),r=HS(Ac,e.__scopeTooltip),i=j.useRef(null),l=At(t,i),[c,u]=j.useState(null),{trigger:f,onClose:m}=n,y=i.current,{onPointerInTransitChange:g}=r,E=j.useCallback(()=>{u(null),g(!1)},[g]),_=j.useCallback((k,w)=>{const b=k.currentTarget,S={x:k.clientX,y:k.clientY},P=hB(S,b.getBoundingClientRect()),R=pB(S,P),D=mB(w.getBoundingClientRect()),B=yB([...R,...D]);u(B),g(!0)},[g]);return j.useEffect(()=>()=>E(),[E]),j.useEffect(()=>{if(f&&y){const k=b=>_(b,y),w=b=>_(b,f);return f.addEventListener("pointerleave",k),y.addEventListener("pointerleave",w),()=>{f.removeEventListener("pointerleave",k),y.removeEventListener("pointerleave",w)}}},[f,y,_,E]),j.useEffect(()=>{if(c){const k=w=>{const b=w.target,S={x:w.clientX,y:w.clientY},P=(f==null?void 0:f.contains(b))||(y==null?void 0:y.contains(b)),R=!gB(S,c);P?E():R&&(E(),m())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[f,y,c,m,E]),p.jsx(KS,{...e,ref:l})}),[cB,uB]=zp(VS,{isInside:!1}),dB=i8("TooltipContent"),KS=j.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:c,...u}=e,f=Dp(Ac,n),m=C0(n),{onClose:y}=f;return j.useEffect(()=>(document.addEventListener(vb,y),()=>document.removeEventListener(vb,y)),[y]),j.useEffect(()=>{if(f.trigger){const g=E=>{const _=E.target;_!=null&&_.contains(f.trigger)&&y()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,y]),p.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:y,children:p.jsxs(US,{"data-state":f.stateAttribute,...m,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(dB,{children:r}),p.jsx(cB,{scope:n,isInside:!0,children:p.jsx(N8,{id:f.contentId,role:"tooltip",children:i||r})})]})})});qS.displayName=Ac;var GS="TooltipArrow",fB=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=C0(n);return uB(GS,n).isInside?null:p.jsx($S,{...i,...r,ref:t})});fB.displayName=GS;function hB(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,r,i,l)){case l:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function pB(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function mB(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function gB(e,t){const{x:n,y:r}=e;let i=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const u=t[l],f=t[c],m=u.x,y=u.y,g=f.x,E=f.y;y>r!=E>r&&n<(g-m)*(r-y)/(E-y)+m&&(i=!i)}return i}function yB(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vB(t)}function vB(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(i.y-c.y)>=(l.y-c.y)*(i.x-c.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const l=n[n.length-1],c=n[n.length-2];if((l.x-c.x)*(i.y-c.y)>=(l.y-c.y)*(i.x-c.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var wB=WS,YS=qS;const xB=wB,_B=j.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(YS,{ref:r,sideOffset:t,className:lt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));_B.displayName=YS.displayName;function ov(e,t,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,i=(n==null?void 0:n.deserialize)||JSON.parse,[l,c]=j.useState(()=>{try{const f=localStorage.getItem(e);return f?i(f):t}catch(f){return console.warn(`Failed to load ${e} from localStorage:`,f),t}}),u=f=>{try{const m=f instanceof Function?f(l):f;c(m),localStorage.setItem(e,r(m))}catch(m){console.warn(`Failed to save ${e} to localStorage:`,m)}};return j.useEffect(()=>{const f=m=>{if(m.key===e&&m.newValue!==null)try{c(i(m.newValue))}catch(y){console.warn(`Failed to sync ${e} from localStorage:`,y)}};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)},[e,i]),[l,u]}const bB=Co({relays:gk(Co({url:qu(),read:Ha(),write:Ha()})),updatedAt:yo()}),EB=Co({theme:vk(["dark","light","system"]),relayMetadata:bB});function kB(e){const{children:t,storageKey:n,defaultConfig:r}=e,[i,l]=ov(n,{},{serialize:JSON.stringify,deserialize:m=>{const y=JSON.parse(m);return EB.partial().parse(y)}}),c=m=>{l(m)},u={...r,...i},f={config:u,updateConfig:c};return SB(u.theme),p.jsx(Nk.Provider,{value:f,children:t})}function SB(e){j.useEffect(()=>{const t=window.document.documentElement;if(t.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(n);return}t.classList.add(e)},[e]),j.useEffect(()=>{if(e!=="system")return;const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{const r=window.document.documentElement;r.classList.remove("light","dark");const i=t.matches?"dark":"light";r.classList.add(i)};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[e])}var wb,Kg,CB=(wb=function(e,t){function n(V){if(!Number.isSafeInteger(V))throw new Error(`Wrong integer: ${V}`)}function r(...V){const Y=(Q,U)=>re=>Q(U(re));return{encode:Array.from(V).reverse().reduce((Q,U)=>Q?Y(Q,U.encode):U.encode,void 0),decode:V.reduce((Q,U)=>Q?Y(Q,U.decode):U.decode,void 0)}}function i(V){return{encode:Y=>{if(!Array.isArray(Y)||Y.length&&typeof Y[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return Y.map(Q=>{if(n(Q),Q<0||Q>=V.length)throw new Error(`Digit index outside alphabet: ${Q} (alphabet: ${V.length})`);return V[Q]})},decode:Y=>{if(!Array.isArray(Y)||Y.length&&typeof Y[0]!="string")throw new Error("alphabet.decode input should be array of strings");return Y.map(Q=>{if(typeof Q!="string")throw new Error(`alphabet.decode: not string element=${Q}`);const U=V.indexOf(Q);if(U===-1)throw new Error(`Unknown letter: "${Q}". Allowed: ${V}`);return U})}}}function l(V=""){if(typeof V!="string")throw new Error("join separator should be string");return{encode:Y=>{if(!Array.isArray(Y)||Y.length&&typeof Y[0]!="string")throw new Error("join.encode input should be array of strings");for(let Q of Y)if(typeof Q!="string")throw new Error(`join.encode: non-string input=${Q}`);return Y.join(V)},decode:Y=>{if(typeof Y!="string")throw new Error("join.decode input should be string");return Y.split(V)}}}function c(V,Y="="){if(n(V),typeof Y!="string")throw new Error("padding chr should be string");return{encode(Q){if(!Array.isArray(Q)||Q.length&&typeof Q[0]!="string")throw new Error("padding.encode input should be array of strings");for(let U of Q)if(typeof U!="string")throw new Error(`padding.encode: non-string input=${U}`);for(;Q.length*V%8;)Q.push(Y);return Q},decode(Q){if(!Array.isArray(Q)||Q.length&&typeof Q[0]!="string")throw new Error("padding.encode input should be array of strings");for(let re of Q)if(typeof re!="string")throw new Error(`padding.decode: non-string input=${re}`);let U=Q.length;if(U*V%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;U>0&&Q[U-1]===Y;U--)if(!((U-1)*V%8))throw new Error("Invalid padding: string has too much padding");return Q.slice(0,U)}}}function u(V){if(typeof V!="function")throw new Error("normalize fn should be function");return{encode:Y=>Y,decode:Y=>V(Y)}}function f(V,Y,Q){if(Y<2)throw new Error(`convertRadix: wrong from=${Y}, base cannot be less than 2`);if(Q<2)throw new Error(`convertRadix: wrong to=${Q}, base cannot be less than 2`);if(!Array.isArray(V))throw new Error("convertRadix: data should be array");if(!V.length)return[];let U=0;const re=[],M=Array.from(V);for(M.forEach(W=>{if(n(W),W<0||W>=Y)throw new Error(`Wrong integer: ${W}`)});;){let W=0,ae=!0;for(let oe=U;oe<M.length;oe++){const ne=M[oe],ee=Y*W+ne;if(!Number.isSafeInteger(ee)||Y*W/Y!==W||ee-ne!=Y*W)throw new Error("convertRadix: carry overflow");if(W=ee%Q,M[oe]=Math.floor(ee/Q),!Number.isSafeInteger(M[oe])||M[oe]*Q+W!==ee)throw new Error("convertRadix: carry overflow");ae&&(M[oe]?ae=!1:U=oe)}if(re.push(W),ae)break}for(let W=0;W<V.length-1&&V[W]===0;W++)re.push(0);return re.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const m=(V,Y)=>Y?m(Y,V%Y):V,y=(V,Y)=>V+(Y-m(V,Y));function g(V,Y,Q,U){if(!Array.isArray(V))throw new Error("convertRadix2: data should be array");if(Y<=0||Y>32)throw new Error(`convertRadix2: wrong from=${Y}`);if(Q<=0||Q>32)throw new Error(`convertRadix2: wrong to=${Q}`);if(y(Y,Q)>32)throw new Error(`convertRadix2: carry overflow from=${Y} to=${Q} carryBits=${y(Y,Q)}`);let re=0,M=0;const W=2**Q-1,ae=[];for(const oe of V){if(n(oe),oe>=2**Y)throw new Error(`convertRadix2: invalid data word=${oe} from=${Y}`);if(re=re<<Y|oe,M+Y>32)throw new Error(`convertRadix2: carry overflow pos=${M} from=${Y}`);for(M+=Y;M>=Q;M-=Q)ae.push((re>>M-Q&W)>>>0);re&=2**M-1}if(re=re<<Q-M&W,!U&&M>=Y)throw new Error("Excess padding");if(!U&&re)throw new Error(`Non-zero padding: ${re}`);return U&&M>0&&ae.push(re>>>0),ae}function E(V){return n(V),{encode:Y=>{if(!(Y instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return f(Array.from(Y),256,V)},decode:Y=>{if(!Array.isArray(Y)||Y.length&&typeof Y[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(f(Y,V,256))}}}function _(V,Y=!1){if(n(V),V<=0||V>32)throw new Error("radix2: bits should be in (0..32]");if(y(8,V)>32||y(V,8)>32)throw new Error("radix2: carry overflow");return{encode:Q=>{if(!(Q instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return g(Array.from(Q),8,V,!Y)},decode:Q=>{if(!Array.isArray(Q)||Q.length&&typeof Q[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(g(Q,V,8,Y))}}}function k(V){if(typeof V!="function")throw new Error("unsafeWrapper fn should be function");return function(...Y){try{return V.apply(null,Y)}catch{}}}function w(V,Y){if(n(V),typeof Y!="function")throw new Error("checksum fn should be function");return{encode(Q){if(!(Q instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const U=Y(Q).slice(0,V),re=new Uint8Array(Q.length+V);return re.set(Q),re.set(U,Q.length),re},decode(Q){if(!(Q instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const U=Q.slice(0,-V),re=Y(U).slice(0,V),M=Q.slice(-V);for(let W=0;W<V;W++)if(re[W]!==M[W])throw new Error("Invalid checksum");return U}}}t.utils={alphabet:i,chain:r,checksum:w,radix:E,radix2:_,join:l,padding:c},t.base16=r(_(4),i("0123456789ABCDEF"),l("")),t.base32=r(_(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),c(5),l("")),t.base32hex=r(_(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),c(5),l("")),t.base32crockford=r(_(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),l(""),u(V=>V.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=r(_(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),c(6),l("")),t.base64url=r(_(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),c(6),l(""));const b=V=>r(E(58),i(V),l(""));t.base58=b("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=b("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=b("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const S=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(V){let Y="";for(let Q=0;Q<V.length;Q+=8){const U=V.subarray(Q,Q+8);Y+=t.base58.encode(U).padStart(S[U.length],"1")}return Y},decode(V){let Y=[];for(let Q=0;Q<V.length;Q+=11){const U=V.slice(Q,Q+11),re=S.indexOf(U.length),M=t.base58.decode(U);for(let W=0;W<M.length-re;W++)if(M[W]!==0)throw new Error("base58xmr: wrong padding");Y=Y.concat(Array.from(M.slice(M.length-re)))}return Uint8Array.from(Y)}},t.base58check=V=>r(w(4,Y=>V(V(Y))),t.base58);const P=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),l("")),R=[996825010,642813549,513874426,1027748829,705979059];function D(V){const Y=V>>25;let Q=(33554431&V)<<5;for(let U=0;U<R.length;U++)(Y>>U&1)==1&&(Q^=R[U]);return Q}function B(V,Y,Q=1){const U=V.length;let re=1;for(let M=0;M<U;M++){const W=V.charCodeAt(M);if(W<33||W>126)throw new Error(`Invalid prefix (${V})`);re=D(re)^W>>5}re=D(re);for(let M=0;M<U;M++)re=D(re)^31&V.charCodeAt(M);for(let M of Y)re=D(re)^M;for(let M=0;M<6;M++)re=D(re);return re^=Q,P.encode(g([re%2**30],30,5,!1))}function q(V){const Y=V==="bech32"?1:734539939,Q=_(5),U=Q.decode,re=Q.encode,M=k(U);function W(ae,oe=90){if(typeof ae!="string")throw new Error("bech32.decode input should be string, not "+typeof ae);if(ae.length<8||oe!==!1&&ae.length>oe)throw new TypeError(`Wrong string length: ${ae.length} (${ae}). Expected (8..${oe})`);const ne=ae.toLowerCase();if(ae!==ne&&ae!==ae.toUpperCase())throw new Error("String must be lowercase or uppercase");const ee=(ae=ne).lastIndexOf("1");if(ee===0||ee===-1)throw new Error('Letter "1" must be present between prefix and data only');const le=ae.slice(0,ee),F=ae.slice(ee+1);if(F.length<6)throw new Error("Data must be at least 6 characters long");const K=P.decode(F).slice(0,-6),Ce=B(le,K,Y);if(!F.endsWith(Ce))throw new Error(`Invalid checksum in ${ae}: expected "${Ce}"`);return{prefix:le,words:K}}return{encode:function(ae,oe,ne=90){if(typeof ae!="string")throw new Error("bech32.encode prefix should be string, not "+typeof ae);if(!Array.isArray(oe)||oe.length&&typeof oe[0]!="number")throw new Error("bech32.encode words should be array of numbers, not "+typeof oe);const ee=ae.length+7+oe.length;if(ne!==!1&&ee>ne)throw new TypeError(`Length ${ee} exceeds limit ${ne}`);return`${ae=ae.toLowerCase()}1${P.encode(oe)}${B(ae,oe,Y)}`},decode:W,decodeToBytes:function(ae){const{prefix:oe,words:ne}=W(ae,!1);return{prefix:oe,words:ne,bytes:U(ne)}},decodeUnsafe:k(W),fromWords:U,fromWordsUnsafe:M,toWords:re}}t.bech32=q("bech32"),t.bech32m=q("bech32m"),t.utf8={encode:V=>new TextDecoder().decode(V),decode:V=>new TextEncoder().encode(V)},t.hex=r(_(4),i("0123456789abcdef"),l(""),u(V=>{if(typeof V!="string"||V.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof V} with length ${V.length}`);return V.toLowerCase()}));const G={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},J=`Invalid encoding type. Available types: ${Object.keys(G).join(", ")}`;t.bytesToString=(V,Y)=>{if(typeof V!="string"||!G.hasOwnProperty(V))throw new TypeError(J);if(!(Y instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return G[V].encode(Y)},t.str=t.bytesToString,t.stringToBytes=(V,Y)=>{if(!G.hasOwnProperty(V))throw new TypeError(J);if(typeof Y!="string")throw new TypeError("stringToBytes() expects string");return G[V].decode(Y)},t.bytes=t.stringToBytes},wb(Kg={exports:{}},Kg.exports),Kg.exports);const{bech32:Mi,hex:fi,utf8:NB}=CB,xb={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},_b={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},bb={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Eb={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},kb={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},hh=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],PB={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},TB=BigInt("2100000000000000000"),Sb=BigInt(1e11),sv={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},JS={};for(let e=0,t=Object.keys(sv);e<t.length;e++){const n=t[e],r=sv[t[e]].toString();JS[r]=n}const jB={1:e=>fi.encode(Mi.fromWordsUnsafe(e)),16:e=>fi.encode(Mi.fromWordsUnsafe(e)),13:e=>NB.encode(Mi.fromWordsUnsafe(e)),19:e=>fi.encode(Mi.fromWordsUnsafe(e)),23:e=>fi.encode(Mi.fromWordsUnsafe(e)),27:e=>fi.encode(Mi.fromWordsUnsafe(e)),6:Kh,24:Kh,3:function(e){const t=[];let n,r,i,l,c,u=Mi.fromWordsUnsafe(e);for(;u.length>0;)n=fi.encode(u.slice(0,33)),r=fi.encode(u.slice(33,41)),i=parseInt(fi.encode(u.slice(41,45)),16),l=parseInt(fi.encode(u.slice(45,49)),16),c=parseInt(fi.encode(u.slice(49,51)),16),u=u.slice(51),t.push({pubkey:n,short_channel_id:r,fee_base_msat:i,fee_proportional_millionths:l,cltv_expiry_delta:c});return t},5:function(e){const t=e.slice().reverse().map(i=>[!!(1&i),!!(2&i),!!(4&i),!!(8&i),!!(16&i)]).reduce((i,l)=>i.concat(l),[]);for(;t.length<2*hh.length;)t.push(!1);const n={};hh.forEach((i,l)=>{let c;c=t[2*l]?"required":t[2*l+1]?"supported":"unsupported",n[i]=c});const r=t.slice(2*hh.length);return n.extra_bits={start_bit:2*hh.length,bits:r,has_required:r.reduce((i,l,c)=>c%2!=0?i||!1:i||l,!1)},n}};function AB(e){return t=>({tagCode:parseInt(e),words:Mi.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function Kh(e){return e.reverse().reduce((t,n,r)=>t+n*Math.pow(32,r),0)}const RB=e=>Uint8Array.from(e.match(/.{1,2}/g).map(t=>parseInt(t,16))),IB=e=>{if(!e)return null;try{const t=function(g,E){if(typeof g!="string")throw new Error("Lightning Payment Request must be string");if(g.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const _=[],k=Mi.decode(g,Number.MAX_SAFE_INTEGER);g=g.toLowerCase();const w=k.prefix;let b=k.words,S=g.slice(w.length+1),P=b.slice(-104);b=b.slice(0,-104);let R=w.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(R&&!R[2]&&(R=w.match(/^ln(\S+)$/)),!R)throw new Error("Not a proper lightning payment request");_.push({name:"lightning_network",letters:"ln"});const D=R[1];let B;switch(D){case xb.bech32:B=xb;break;case _b.bech32:B=_b;break;case bb.bech32:B=bb;break;case Eb.bech32:B=Eb;break;case kb.bech32:B=kb}if(!B||B.bech32!==D)throw new Error("Unknown coin bech32 prefix");_.push({name:"coin_network",letters:D,value:B});const q=R[2];let G;q?(G=function(W,ae){let oe,ne;if(W.slice(-1).match(/^[munp]$/))oe=W.slice(-1),ne=W.slice(0,-1);else{if(W.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");ne=W}if(!ne.match(/^\d+$/))throw new Error("Not a valid human readable amount");const ee=BigInt(ne),le=oe?ee*Sb/PB[oe]:ee*Sb;if(oe==="p"&&ee%BigInt(10)!==BigInt(0)||le>TB)throw new Error("Amount is outside of valid range");return le.toString()}(q+R[3]),_.push({name:"amount",letters:R[2]+R[3],value:G})):G=null,_.push({name:"separator",letters:"1"});const J=Kh(b.slice(0,7));let V,Y,Q,U;for(b=b.slice(7),_.push({name:"timestamp",letters:S.slice(0,7),value:J}),S=S.slice(7);b.length>0;){const W=b[0].toString();V=JS[W]||"unknown_tag",Y=jB[W]||AB(W),b=b.slice(1),Q=Kh(b.slice(0,2)),b=b.slice(2),U=b.slice(0,Q),b=b.slice(Q),_.push({name:V,tag:S[0],letters:S.slice(0,3+Q),value:Y(U)}),S=S.slice(3+Q)}_.push({name:"signature",letters:S.slice(0,104),value:fi.encode(Mi.fromWordsUnsafe(P))}),S=S.slice(104),_.push({name:"checksum",letters:S});let re={paymentRequest:g,sections:_,get expiry(){let W=_.find(ae=>ae.name==="expiry");if(W)return M("timestamp")+W.value},get route_hints(){return _.filter(W=>W.name==="route_hint").map(W=>W.value)}};for(let W in sv)W!=="route_hint"&&Object.defineProperty(re,W,{get:()=>M(W)});return re;function M(W){let ae=_.find(oe=>oe.name===W);return ae?ae.value:void 0}}(e);if(!t||!t.sections)return null;const n=t.sections.find(g=>g.name==="payment_hash");if((n==null?void 0:n.name)!=="payment_hash"||!n.value)return null;const r=n.value;let i=0;const l=t.sections.find(g=>g.name==="amount");(l==null?void 0:l.name)==="amount"&&l.value&&(i=parseInt(l.value)/1e3);const c=t.sections.find(g=>g.name==="timestamp");if((c==null?void 0:c.name)!=="timestamp"||!c.value)return null;const u=c.value;let f;const m=t.sections.find(g=>g.name==="expiry");(m==null?void 0:m.name)==="expiry"&&(f=m.value);const y=t.sections.find(g=>g.name==="description");return{paymentHash:r,satoshi:i,timestamp:u,expiry:f,description:(y==null?void 0:y.name)==="description"?y==null?void 0:y.value:void 0}}catch{return null}};function Cb(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const QS=e=>e instanceof Uint8Array,Gg=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Li=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const LB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Gh(e){if(!QS(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=LB[e[n]];return t}function XS(e){if(typeof e=="string"&&(e=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(e)),!QS(e))throw new Error("expected Uint8Array, got "+typeof e);return e}let OB=class{clone(){return this._cloneInto()}};function MB(e){const t=r=>e().update(XS(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class zB extends OB{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Gg(this.buffer)}update(t){Cb(this);const{view:n,buffer:r,blockLen:i}=this,l=(t=XS(t)).length;for(let c=0;c<l;){const u=Math.min(i-this.pos,l-c);if(u!==i)r.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0);else{const f=Gg(t);for(;i<=l-c;c+=i)this.process(f,c)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Cb(this),function(g,E){(function(k,...w){if(!(k instanceof Uint8Array))throw new Error("Expected Uint8Array");if(w.length>0&&!w.includes(k.length))throw new Error(`Expected Uint8Array of length ${w}, not of length=${k.length}`)})(g);const _=E.outputLen;if(g.length<_)throw new Error(`digestInto() expects output buffer of length at least ${_}`)}(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:l}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let g=c;g<i;g++)n[g]=0;(function(g,E,_,k){if(typeof g.setBigUint64=="function")return g.setBigUint64(E,_,k);const w=BigInt(32),b=BigInt(4294967295),S=Number(_>>w&b),P=Number(_&b),R=k?0:4;g.setUint32(E+(k?4:0),S,k),g.setUint32(E+R,P,k)})(r,i-8,BigInt(8*this.length),l),this.process(r,0);const u=Gg(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=f/4,y=this.get();if(m>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<m;g++)u.setUint32(4*g,y[g],l)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:l,destroyed:c,pos:u}=this;return t.length=i,t.pos=u,t.finished=l,t.destroyed=c,i%n&&t.buffer.set(r),t}}const DB=(e,t,n)=>e&t^e&n^t&n,BB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Es=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ks=new Uint32Array(64);let FB=class extends zB{constructor(){super(64,32,8,!1),this.A=0|Es[0],this.B=0|Es[1],this.C=0|Es[2],this.D=0|Es[3],this.E=0|Es[4],this.F=0|Es[5],this.G=0|Es[6],this.H=0|Es[7]}get(){const{A:t,B:n,C:r,D:i,E:l,F:c,G:u,H:f}=this;return[t,n,r,i,l,c,u,f]}set(t,n,r,i,l,c,u,f){this.A=0|t,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|l,this.F=0|c,this.G=0|u,this.H=0|f}process(t,n){for(let E=0;E<16;E++,n+=4)ks[E]=t.getUint32(n,!1);for(let E=16;E<64;E++){const _=ks[E-15],k=ks[E-2],w=Li(_,7)^Li(_,18)^_>>>3,b=Li(k,17)^Li(k,19)^k>>>10;ks[E]=b+ks[E-7]+w+ks[E-16]|0}let{A:r,B:i,C:l,D:c,E:u,F:f,G:m,H:y}=this;for(let E=0;E<64;E++){const _=y+(Li(u,6)^Li(u,11)^Li(u,25))+((g=u)&f^~g&m)+BB[E]+ks[E]|0,k=(Li(r,2)^Li(r,13)^Li(r,22))+DB(r,i,l)|0;y=m,m=f,f=u,u=c+_|0,c=l,l=i,i=r,r=_+k|0}var g;r=r+this.A|0,i=i+this.B|0,l=l+this.C|0,c=c+this.D|0,u=u+this.E|0,f=f+this.F|0,m=m+this.G|0,y=y+this.H|0,this.set(r,i,l,c,u,f,m,y)}roundClean(){ks.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Yh=MB(()=>new FB);let N0=class{constructor(t){var n,r,i,l;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=t.pr,!this.paymentRequest)throw new Error("Invalid payment request");const c=IB(this.paymentRequest);if(!c)throw new Error("Failed to decode payment request");this.paymentHash=c.paymentHash,this.satoshi=c.satoshi,this.timestamp=c.timestamp,this.expiry=c.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=(n=c.description)!=null?n:null,this.verify=(r=t.verify)!=null?r:null,this.preimage=(i=t.preimage)!=null?i:null,this.successAction=(l=t.successAction)!=null?l:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(t){if(!t||!this.paymentHash)return!1;try{const n=Gh(Yh(RB(t)));return this.paymentHash===n}catch{return!1}}async verifyPayment(){try{if(!this.verify)throw new Error("LNURL verify not available");const t=await fetch(this.verify);if(!t.ok)throw new Error(`Verification request failed: ${t.status} ${t.statusText}`);const n=await t.json();return n.preimage&&(this.preimage=n.preimage),n.settled}catch(t){return console.error("Failed to check LNURL-verify",t),!1}}hasExpired(){const{expiryDate:t}=this;return!!t&&t.getTime()<Date.now()}};const UB=e=>{if(e.tag!=="keysend")throw new Error("Invalid keysend params");if(e.status!=="OK")throw new Error("Keysend status not OK");if(!e.pubkey)throw new Error("Pubkey does not exist");let t,n;return e.customData&&e.customData[0]&&(t=e.customData[0].customKey,n=e.customData[0].customValue),{destination:e.pubkey,customKey:t,customValue:n}};async function $B({satoshi:e,comment:t,p:n,e:r,relays:i},l={}){const c=l.nostr||globalThis.nostr;if(!c)throw new Error("nostr option or window.nostr is not available");const u=[["relays",...i],["amount",e.toString()]];n&&u.push(["p",n]),r&&u.push(["e",r]);const f={pubkey:await c.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:u,content:t??""};return f.id=WB(f),await c.signEvent(f)}function ZB(e){if(typeof e.content!="string"||typeof e.created_at!="number"||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function HB(e){if(!ZB(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function WB(e){return Gh(Yh(HB(e)))}function VB(e,t){let n,r;var i,l;return t&&e&&(n=(i=e.names)==null?void 0:i[t],r=n?(l=e.relays)==null?void 0:l[n]:void 0),[e,n,r]}const qB=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/,eC=e=>!!e&&qB.test(e),Nb=({amount:e,min:t,max:n})=>e>0&&e>=t&&e<=n,KB=async e=>{if(e.tag!=="payRequest")throw new Error("Invalid pay service params");const t=(e.callback+"").trim();if(!eC(t))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(e.minSendable||0)),r=Math.floor(Number(e.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let i,l;try{i=JSON.parse(e.metadata+""),l=Gh(Yh(e.metadata+""))}catch{i=[],l=Gh(Yh("[]"))}let c="",u="",f="",m="";for(let E=0;E<i.length;E++){const[_,k]=i[E];switch(_){case"text/plain":f=k;break;case"text/identifier":m=k;break;case"text/email":c=k;break;case"image/png;base64":case"image/jpeg;base64":u="data:"+_+","+k}}const y=e.payerData;let g;try{g=new URL(t).hostname}catch{}return{callback:t,fixed:n===r,min:n,max:r,domain:g,metadata:i,metadataHash:l,identifier:m,email:c,description:f,image:u,payerData:y,commentAllowed:Number(e.commentAllowed)||0,rawData:e,allowsNostr:e.allowsNostr||!1}};function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},av.apply(this,arguments)}const GB=async(e,t)=>{const{boost:n}=e;t||(t={});const r=t.webln||globalThis.webln;if(!r)throw new Error("WebLN not available");if(!r.keysend)throw new Error("Keysend not available in current WebLN provider");const i=e.amount||Math.floor(n.value_msat/1e3),l={destination:e.destination,amount:i,customRecords:{7629169:JSON.stringify(n)}};return e.customKey&&e.customValue&&(l.customRecords[e.customKey]=e.customValue),await r.enable(),await r.keysend(l)},YB=/^((?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;class JB{constructor(t,n){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=t,this.options={proxy:"https://api.getalby.com/lnurl"},this.options=Object.assign(this.options,n),this.parse(),this.webln=this.options.webln}parse(){const t=YB.exec(this.address.toLowerCase());t&&(this.username=t[1],this.domain=t[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const t=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!t.ok)throw new Error(`Failed to fetch lnurl info: ${t.status} ${t.statusText}`);const n=await t.json();await this.parseLnUrlPayResponse(n.lnurlp),this.parseKeysendResponse(n.keysend),this.parseNostrResponse(n.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const t=await fetch(this.lnurlpUrl());if(t.ok){const n=await t.json();await this.parseLnUrlPayResponse(n)}}async fetchKeysendData(){const t=await fetch(this.keysendUrl());if(t.ok){const n=await t.json();this.parseKeysendResponse(n)}}async fetchNostrData(){const t=await fetch(this.nostrUrl());if(t.ok){const n=await t.json();this.parseNostrResponse(n)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(t){let n;if(this.options.proxy){const l=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(av({ln:this.address},t)).toString()}`);if(!l.ok)throw new Error(`Failed to generate invoice: ${l.status} ${l.statusText}`);n=(await l.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!eC(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const l=new URL(this.lnurlpData.callback);l.search=new URLSearchParams(t).toString();const c=await fetch(l.toString());if(!c.ok)throw new Error(`Failed to generate invoice: ${c.status} ${c.statusText}`);n=await c.json()}const r=n&&n.pr&&n.pr.toString();if(!r)throw new Error("Invalid pay service invoice");const i={pr:r};if(n&&n.verify&&(i.verify=n.verify.toString()),n&&n.successAction&&typeof n.successAction=="object"){const{tag:l,message:c,description:u,url:f}=n.successAction;l==="message"?i.successAction={tag:l,message:c}:l==="url"&&(i.successAction={tag:l,description:u,url:f})}return new N0(i)}async requestInvoice(t){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const n=1e3*t.satoshi,{commentAllowed:r,min:i,max:l}=this.lnurlpData;if(!Nb({amount:n,min:i,max:l}))throw new Error("Invalid amount");if(t.comment&&r&&r>0&&t.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const c={amount:n.toString()};return t.comment&&(c.comment=t.comment),t.payerdata&&(c.payerdata=JSON.stringify(t.payerdata)),this.generateInvoice(c)}async boost(t,n=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:r,customKey:i,customValue:l}=this.keysendData,c=this.getWebLN();if(!c)throw new Error("WebLN not available");return GB({destination:r,customKey:i,customValue:l,amount:n,boost:t},{webln:c})}async zapInvoice({satoshi:t,comment:n,relays:r,e:i},l={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const c=this.nostrPubkey,u=1e3*t,{allowsNostr:f,min:m,max:y}=this.lnurlpData;if(!Nb({amount:u,min:m,max:y}))throw new Error("Invalid amount");if(!f)throw new Error("Your provider does not support zaps");const g=await $B({satoshi:u,comment:n,p:c,e:i,relays:r},l),E={amount:u.toString(),nostr:JSON.stringify(g)};return await this.generateInvoice(E)}async zap(t,n={}){const r=this.zapInvoice(t,n),i=this.getWebLN();if(!i)throw new Error("WebLN not available");return await i.enable(),i.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(t){t&&(this.lnurlpData=await KB(t))}parseKeysendResponse(t){t&&(this.keysendData=UB(t))}parseNostrResponse(t){t&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=VB(t,this.username))}}function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zs.apply(this,arguments)}if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const QB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function XB(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=QB[e[n]];return t}function Hu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=2*r,l=e.slice(i,i+2),c=Number.parseInt(l,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}class ea extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n}}class eF extends ea{}class tF extends ea{}class tC extends ea{}let Pb=class extends tC{};class Tb extends tC{}class jb extends ea{}class Ab extends ea{}class Yg extends ea{}class nF extends ea{}class rF extends ea{}class ac{static parseWalletConnectUrl(t){t=t.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://").replace("nostrwalletconnect:","http://").replace("nostr+walletconnect:","http://");const n=new URL(t),r=n.searchParams.get("relay");if(!r)throw new Error("No relay URL found in connection string");const i={walletPubkey:n.host,relayUrl:r},l=n.searchParams.get("secret");l&&(i.secret=l);const c=n.searchParams.get("lud16");return c&&(i.lud16=c),i}constructor(t){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,t&&t.nostrWalletConnectUrl&&(t=Zs({},ac.parseWalletConnectUrl(t.nostrWalletConnectUrl),t)),this.options=Zs({},t||{}),this.relayUrl=this.options.relayUrl,this.relay=new sE(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?tr.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?tr.decode(this.options.walletPubkey).data:this.options.walletPubkey,globalThis.WebSocket===void 0&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(t=!0){let n=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return t&&(n=`${n}&secret=${this.secret}`),n}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return Vs(Hu(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error("Missing encryption or version");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(t){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(Xr(t,Hu(this.secret)))}getEventHash(t){return Ju(t)}close(){return this.relay.close()}async encrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await od.encrypt(this.secret,t,n);else{const i=Bs.getConversationKey(Hu(this.secret),t);r=Bs.encrypt(n,i)}return r}async decrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await od.decrypt(this.secret,t,n);else{const i=Bs.getConversationKey(Hu(this.secret),t);r=Bs.decrypt(n,i)}return r}static getAuthorizationUrl(t,n={},r){if(t.indexOf("/#/")>-1)throw new Error("hash router paths not supported");const i=new URL(t);return n.name&&i.searchParams.set("name",n.name),i.searchParams.set("pubkey",r),n.returnTo&&i.searchParams.set("return_to",n.returnTo),n.budgetRenewal&&i.searchParams.set("budget_renewal",n.budgetRenewal),n.expiresAt&&i.searchParams.set("expires_at",Math.floor(n.expiresAt.getTime()/1e3).toString()),n.maxAmount&&i.searchParams.set("max_amount",n.maxAmount.toString()),n.requestMethods&&i.searchParams.set("request_methods",n.requestMethods.join(" ")),n.notificationTypes&&i.searchParams.set("notification_types",n.notificationTypes.join(" ")),n.isolated&&i.searchParams.set("isolated","true"),n.metadata&&i.searchParams.set("metadata",JSON.stringify(n.metadata)),i}static fromAuthorizationUrl(t,n={},r){r=r||XB(hp()),n.name||(n.name=document.location.host);const i=this.getAuthorizationUrl(t,n,Vs(Hu(r))),l=window.outerHeight/2+window.screenY-300,c=window.outerWidth/2+window.screenX-200;return new Promise((u,f)=>{const m=window.open(i.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${l},left=${c}`);if(!m)return void f(new Error("failed to execute window.open"));const y=E=>{const _=E.data;_&&_.type==="nwc:success"&&E.origin===`${i.protocol}//${i.host}`&&(_.relayUrl||f(new Error("no relayUrl in response")),_.walletPubkey||f(new Error("no walletPubkey in response")),u(new ac({relayUrl:_.relayUrl,walletPubkey:_.walletPubkey,secret:r,lud16:_.lud16})),clearInterval(g),window.removeEventListener("message",y),m&&m.close())},g=setInterval(()=>{m&&m.closed&&(clearInterval(g),window.removeEventListener("message",y),f(new Error("Popup closed")))},500);window.addEventListener("message",y)})}async getWalletServiceInfo(){var t;await this._checkConnected();const n=await new Promise((f,m)=>{const y=[],g=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});g.onevent=E=>{y.push(E)},g.oneose=()=>{g.close(),f(y)}});if(!n.length)throw new Error("no info event (kind 13194) returned from relay");const r=n[0].content,i=n[0].tags.find(f=>f[0]==="notifications"),l=n[0].tags.find(f=>f[0]==="v"),c=n[0].tags.find(f=>f[0]==="encryption");let u=["nip04"];return l&&l[1].includes("1.0")&&u.push("nip44_v2"),c&&(u=c[1].split(" ")),{encryptions:u,capabilities:r.split(/[ |,]/g),notifications:(i==null||(t=i[1])==null?void 0:t.split(" "))||[]}}async getInfo(){try{return await this.executeNip47Request("get_info",{},t=>!!t.methods,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_info",t),t}}async getBudget(){try{return await this.executeNip47Request("get_budget",{},t=>t!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_budget",t),t}}async getBalance(){try{return await this.executeNip47Request("get_balance",{},t=>t.balance!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_balance",t),t}}async payInvoice(t){try{return await this.executeNip47Request("pay_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request pay_invoice",n),n}}async payKeysend(t){try{return await this.executeNip47Request("pay_keysend",t,n=>!!n.preimage)}catch(n){throw console.error("Failed to request pay_keysend",n),n}}async signMessage(t){try{return await this.executeNip47Request("sign_message",t,n=>n.message===t.message&&!!n.signature)}catch(n){throw console.error("Failed to request sign_message",n),n}}async createConnection(t){try{return await this.executeNip47Request("create_connection",t,n=>!!n.wallet_pubkey)}catch(n){throw console.error("Failed to request create_connection",n),n}}async multiPayInvoice(t){try{return{invoices:await this.executeMultiNip47Request("multi_pay_invoice",t,t.invoices.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_invoice",n),n}}async multiPayKeysend(t){try{return{keysends:await this.executeMultiNip47Request("multi_pay_keysend",t,t.keysends.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_keysend",n),n}}async makeInvoice(t){try{if(!t.amount)throw new Error("No amount specified");return await this.executeNip47Request("make_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_invoice",n),n}}async makeHoldInvoice(t){try{if(!t.amount)throw new Error("No amount specified");if(!t.payment_hash)throw new Error("No payment hash specified");return await this.executeNip47Request("make_hold_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_hold_invoice",n),n}}async settleHoldInvoice(t){try{return await this.executeNip47Request("settle_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request settle_hold_invoice",n),n}}async cancelHoldInvoice(t){try{return await this.executeNip47Request("cancel_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request cancel_hold_invoice",n),n}}async lookupInvoice(t){try{return await this.executeNip47Request("lookup_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request lookup_invoice",n),n}}async listTransactions(t){try{return await this.executeNip47Request("list_transactions",t,n=>!!n.transactions,{replyTimeout:1e4})}catch(n){throw console.error("Failed to request list_transactions",n),n}}async subscribeNotifications(t,n){var r=this;let i,l,c,u=!0;return async function(){for(;u;){try{await r._checkConnected(),await r._selectEncryptionType(),c=r.relay.subscribe([{kinds:[...r.encryptionType==="nip04"?[23196]:[23197]],authors:[r.walletPubkey],"#p":[r.publicKey]}],{}),console.info("subscribed to relay"),c.onevent=async function(f){const m=await r.decrypt(r.walletPubkey,f.content);let y;try{y=JSON.parse(m)}catch(g){return void console.error("Failed to parse decrypted event content",g)}y.notification?(!n||n.indexOf(y.notification_type)>-1)&&t(y):console.error("No notification in response",y)},await new Promise(f=>{i=()=>{f()},l=()=>{console.info("relay disconnected"),i==null||i()},r.relay.onclose=l}),l!==void 0&&(r.relay.onclose=null)}catch(f){console.error("error subscribing to notifications",f||"unknown relay error")}u&&await new Promise(f=>setTimeout(f,1e3))}}(),()=>{var f;u=!1,i==null||i(),(f=c)==null||f.close()}}async executeNip47Request(t,n,r,i){var l=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((c,u)=>{(async function(){const f={method:t,params:n},m=await l.encrypt(l.walletPubkey,JSON.stringify(f)),y={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",l.walletPubkey],["v",l.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",l.encryptionType]],content:m},g=await l.signEvent(y),E=l.relay.subscribe([{kinds:[23195],authors:[l.walletPubkey],"#e":[g.id]}],{}),_=setTimeout(function(){E.close(),u(new Tb(`reply timeout: event ${g.id}`,"INTERNAL"))},(i==null?void 0:i.replyTimeout)||6e4);E.onevent=async function(w){clearTimeout(_),E.close();const b=await l.decrypt(l.walletPubkey,w.content);let S;try{S=JSON.parse(b)}catch{return clearTimeout(_),E.close(),void u(new Ab("failed to deserialize response","INTERNAL"))}var P,R;S.result?r(S.result)?c(S.result):(clearTimeout(_),E.close(),u(new Yg("response from NWC failed validation: "+JSON.stringify(S.result),"INTERNAL"))):(clearTimeout(_),E.close(),u(new tF(((P=S.error)==null?void 0:P.message)||"unknown Error",((R=S.error)==null?void 0:R.code)||"INTERNAL")))};const k=setTimeout(function(){E.close(),u(new Pb(`publish timeout: ${g.id}`,"INTERNAL"))},(i==null?void 0:i.publishTimeout)||5e3);try{await l.relay.publish(g),clearTimeout(k)}catch(w){clearTimeout(k),u(new jb(`failed to publish: ${w}`,"INTERNAL"))}})()})}async executeMultiNip47Request(t,n,r,i,l){var c=this;await this._checkConnected(),await this._selectEncryptionType();const u=[];return new Promise((f,m)=>{(async function(){const y={method:t,params:n},g=await c.encrypt(c.walletPubkey,JSON.stringify(y)),E={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",c.walletPubkey],["v",c.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",c.encryptionType]],content:g},_=await c.signEvent(E),k=c.relay.subscribe([{kinds:[23195],authors:[c.walletPubkey],"#e":[_.id]}],{}),w=setTimeout(function(){k.close(),m(new Tb(`reply timeout: event ${_.id}`,"INTERNAL"))},(l==null?void 0:l.replyTimeout)||6e4);k.onevent=async function(S){const P=await c.decrypt(c.walletPubkey,S.content);let R;try{R=JSON.parse(P)}catch{clearTimeout(w),k.close(),m(new Ab("failed to deserialize response","INTERNAL"))}if(R.result){var D;if(!i(R.result))return clearTimeout(w),k.close(),void m(new Yg("Response from NWC failed validation: "+JSON.stringify(R.result),"INTERNAL"));const G=(D=S.tags.find(J=>J[0]==="d"))==null?void 0:D[1];if(G===void 0)return clearTimeout(w),k.close(),void m(new Yg("No d tag found in response event","INTERNAL"));u.push(Zs({},R.result,{dTag:G})),u.length===r&&(clearTimeout(w),k.close(),f(u))}else{var B,q;clearTimeout(w),k.close(),m(new nF((B=R.error)==null?void 0:B.message,(q=R.error)==null?void 0:q.code))}};const b=setTimeout(function(){k.close(),m(new Pb(`Publish timeout: ${_.id}`,"INTERNAL"))},(l==null?void 0:l.publishTimeout)||5e3);try{await c.relay.publish(_),clearTimeout(b)}catch(S){clearTimeout(b),m(new jb(`Failed to publish: ${S}`,"INTERNAL"))}})()})}async _checkConnected(){if(!this.secret)throw new Error("Missing secret key");if(!this.relayUrl)throw new Error("Missing relay url");try{this.relay.connected||await this.relay.connect()}catch{throw console.error("failed to connect to relay",this.relayUrl),new eF("Failed to connect to "+this.relayUrl,"OTHER")}}async _selectEncryptionType(){if(!this._encryptionType){const t=await this.getWalletServiceInfo(),n=this._findPreferredEncryptionType(t.encryptions);if(!n)throw new rF("no compatible encryption or version found between wallet and client","UNSUPPORTED_ENCRYPTION");n==="nip04"&&console.warn("NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead."),this._encryptionType=n}}_findPreferredEncryptionType(t){return t.includes("nip44_v2")?"nip44_v2":t.includes("nip04")?"nip04":null}}class iF{constructor(t,n){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=n,this.invoice=new N0({pr:n.invoice}),this._nwcClient=t}onPaid(t){var n=this;return async function(){let r;try{var i;r=(i=(await n._nwcClient.getInfo()).notifications)==null?void 0:i.includes("payment_received")}catch{console.error("failed to fetch info, falling back to polling")}const l=u=>{n._unsubscribeFunc==null||n._unsubscribeFunc(),t(u)},c=u=>()=>{n._timeoutFunc=void 0,clearTimeout(n._timeoutId),u()};if(r){const u=f=>{f.notification.payment_hash===n.transaction.payment_hash&&l(f.notification)};n._unsubscribeFunc=c(await n._nwcClient.subscribeNotifications(u,["payment_received"]))}else console.warn("current connection does not support notifications, falling back to polling"),n._unsubscribeFunc=c(n._onPaidPollingFallback(l))}(),this}onTimeout(t,n){return this._timeoutFunc=()=>{var r;(r=this._unsubscribeFunc)==null||r.call(this),n()},this._timeoutId=setTimeout(()=>{var r;(r=this._timeoutFunc)==null||r.call(this)},1e3*t),this}unsubscribe(){var t;(t=this._unsubscribeFunc)==null||t.call(this)}_onPaidPollingFallback(t){var n=this;let r=!0;return async function(){for(;r;){const i=await n._nwcClient.lookupInvoice({payment_hash:n.transaction.payment_hash});if(i.settled_at&&i.preimage){t(i),r=!1;break}await new Promise(l=>setTimeout(l,3e3))}}(),()=>{r=!1}}}async function Rb(e){if(typeof e=="number")return{satoshi:e,millisat:1e3*e};const t=await Promise.resolve(e.satoshi);return{satoshi:t,millisat:1e3*t}}class Ib{constructor(t){this.nwcClient=void 0,this.nwcClient=typeof t=="string"?new ac({nostrWalletConnectUrl:t}):t instanceof ac?t:new ac(t)}async pay(t,n,r){let i=t;const l=n?await Rb(n):void 0;if(i.indexOf("@")>-1){var c,u;if(!l)throw new Error("Amount must be provided when paying to a lightning address");const m=new JB(t);await m.fetch(),i=(await m.requestInvoice({satoshi:l.satoshi,comment:r==null||(c=r.metadata)==null?void 0:c.comment,payerdata:r==null||(u=r.metadata)==null?void 0:u.payer_data})).paymentRequest}const f=await this.nwcClient.payInvoice(Zs({},r||{},{invoice:i,amount:l==null?void 0:l.millisat}));return Zs({},f,{invoice:new N0({pr:i})})}async requestPayment(t,n){const r=await Rb(t),i=await this.nwcClient.makeInvoice(Zs({},n||{},{amount:r.millisat}));return new iF(this.nwcClient,i)}close(){this.nwcClient.close()}}function oF(){const{toast:e}=tl(),[t,n]=ov("nwc-connections",[]),[r,i]=ov("nwc-active-connection",null),[l,c]=j.useState({}),u=async(g,E)=>{const k=(b=>{try{return!b.startsWith("nostr+walletconnect://")&&!b.startsWith("nostrwalletconnect://")?(console.error("Invalid NWC URI protocol:",{protocol:b.split("://")[0]}),null):{connectionString:b}}catch(S){return console.error("Failed to parse NWC URI:",S),null}})(g);if(!k)return e({title:"Invalid NWC URI",description:"Please check the connection string and try again.",variant:"destructive"}),!1;if(t.find(b=>b.connectionString===k.connectionString))return e({title:"Connection already exists",description:"This wallet is already connected.",variant:"destructive"}),!1;try{let b;const S=new Promise((B,q)=>{try{const G=new Ib(k.connectionString);B(G)}catch(G){q(G)}}),P=new Promise((B,q)=>{b=setTimeout(()=>q(new Error("Connection test timeout")),1e4)});try{await Promise.race([S,P]),b&&clearTimeout(b)}catch(B){throw b&&clearTimeout(b),B}const R={connectionString:k.connectionString,alias:E||"NWC Wallet",isConnected:!0};c(B=>({...B,[k.connectionString]:{alias:R.alias,methods:["pay_invoice"]}}));const D=[...t,R];return n(D),(t.length===0||!r)&&i(k.connectionString),e({title:"Wallet connected",description:`Successfully connected to ${R.alias}.`}),!0}catch(b){console.error("NWC connection failed:",b);const S=b instanceof Error?b.message:"Unknown error occurred";return e({title:"Connection failed",description:`Could not connect to the wallet: ${S}`,variant:"destructive"}),!1}},f=g=>{const E=t.filter(_=>_.connectionString!==g);if(n(E),r===g){const _=E.length>0?E[0].connectionString:null;i(_)}c(_=>{const k={..._};return delete k[g],k}),e({title:"Wallet disconnected",description:"The wallet connection has been removed."})},m=j.useCallback(()=>!r&&t.length>0?(i(t[0].connectionString),t[0]):r&&t.find(E=>E.connectionString===r)||null,[r,t,i]),y=j.useCallback(async(g,E)=>{if(!g.connectionString)throw new Error("Invalid connection: missing connection string");let _;try{_=new Ib(g.connectionString)}catch(k){throw console.error("Failed to create NWC client:",k),new Error(`Failed to create NWC client: ${k instanceof Error?k.message:"Unknown error"}`)}try{let k;const w=new Promise((S,P)=>{k=setTimeout(()=>P(new Error("Payment timeout after 15 seconds")),15e3)}),b=_.pay(E);try{const S=await Promise.race([b,w]);return k&&clearTimeout(k),S}catch(S){throw k&&clearTimeout(k),S}}catch(k){throw console.error("NWC payment failed:",k),k instanceof Error?k.message.includes("timeout")?new Error("Payment timed out. Please try again."):k.message.includes("insufficient")?new Error("Insufficient balance in connected wallet."):k.message.includes("invalid")?new Error("Invalid invoice or connection. Please check your wallet."):new Error(`Payment failed: ${k.message}`):new Error("Payment failed with unknown error")}},[]);return{connections:t,activeConnection:r,connectionInfo:l,addConnection:u,removeConnection:f,setActiveConnection:i,getActiveConnection:m,sendPayment:y}}const sF=j.createContext(null);function aF({children:e}){const t=oF();return p.jsx(sF.Provider,{value:t,children:e})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ud.apply(this,arguments)}var Fs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fs||(Fs={}));const Lb="popstate";function lF(e){e===void 0&&(e={});function t(r,i){let{pathname:l,search:c,hash:u}=r.location;return lv("",{pathname:l,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jh(i)}return uF(t,n,null,e)}function wn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function P0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cF(){return Math.random().toString(36).substr(2,8)}function Ob(e,t){return{usr:e.state,key:e.key,idx:t}}function lv(e,t,n,r){return n===void 0&&(n=null),ud({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zc(t):t,{state:n,key:t&&t.key||r||cF()})}function Jh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function uF(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:l=!1}=r,c=i.history,u=Fs.Pop,f=null,m=y();m==null&&(m=0,c.replaceState(ud({},c.state,{idx:m}),""));function y(){return(c.state||{idx:null}).idx}function g(){u=Fs.Pop;let b=y(),S=b==null?null:b-m;m=b,f&&f({action:u,location:w.location,delta:S})}function E(b,S){u=Fs.Push;let P=lv(w.location,b,S);m=y()+1;let R=Ob(P,m),D=w.createHref(P);try{c.pushState(R,"",D)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(D)}l&&f&&f({action:u,location:w.location,delta:1})}function _(b,S){u=Fs.Replace;let P=lv(w.location,b,S);m=y();let R=Ob(P,m),D=w.createHref(P);c.replaceState(R,"",D),l&&f&&f({action:u,location:w.location,delta:0})}function k(b){let S=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof b=="string"?b:Jh(b);return P=P.replace(/ $/,"%20"),wn(S,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,S)}let w={get action(){return u},get location(){return e(i,c)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Lb,g),f=b,()=>{i.removeEventListener(Lb,g),f=null}},createHref(b){return t(i,b)},createURL:k,encodeLocation(b){let S=k(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:E,replace:_,go(b){return c.go(b)}};return w}var Mb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mb||(Mb={}));function dF(e,t,n){return n===void 0&&(n="/"),fF(e,t,n)}function fF(e,t,n,r){let i=typeof t=="string"?Zc(t):t,l=T0(i.pathname||"/",n);if(l==null)return null;let c=nC(e);hF(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=SF(l);u=bF(c[f],m)}return u}function nC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(l,c,u)=>{let f={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(wn(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=Hs([r,f.relativePath]),y=n.concat(f);l.children&&l.children.length>0&&(wn(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),nC(l.children,t,y,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:xF(m,l.index),routesMeta:y})};return e.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))i(l,c);else for(let f of rC(l.path))i(l,c,f)}),t}function rC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let c=rC(r.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function hF(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_F(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pF=/^:[\w-]+$/,mF=3,gF=2,yF=1,vF=10,wF=-2,zb=e=>e==="*";function xF(e,t){let n=e.split("/"),r=n.length;return n.some(zb)&&(r+=wF),t&&(r+=gF),n.filter(i=>!zb(i)).reduce((i,l)=>i+(pF.test(l)?mF:l===""?yF:vF),r)}function _F(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function bF(e,t,n){let{routesMeta:r}=e,i={},l="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",g=EF({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),E=f.route;if(!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:Hs([l,g.pathname]),pathnameBase:jF(Hs([l,g.pathnameBase])),route:E}),g.pathnameBase!=="/"&&(l=Hs([l,g.pathnameBase]))}return c}function EF(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=kF(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((m,y,g)=>{let{paramName:E,isOptional:_}=y;if(E==="*"){let w=u[g]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const k=u[g];return _&&!k?m[E]=void 0:m[E]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function kF(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),P0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function SF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return P0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function T0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const CF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NF=e=>CF.test(e);function PF(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Zc(e):e,l;if(n)if(NF(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),P0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?l=Db(n.substring(1),"/"):l=Db(n,t)}else l=t;return{pathname:l,search:AF(r),hash:RF(i)}}function Db(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TF(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function iC(e,t){let n=TF(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function oC(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Zc(e):(i=ud({},e),wn(!i.pathname||!i.pathname.includes("?"),Jg("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),Jg("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),Jg("#","search","hash",i)));let l=e===""||i.pathname==="",c=l?"/":i.pathname,u;if(c==null)u=n;else{let g=t.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),g-=1;i.pathname=E.join("/")}u=g>=0?t[g]:"/"}let f=PF(i,u),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}const Hs=e=>e.join("/").replace(/\/\/+/g,"/"),jF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sC=["post","put","patch","delete"];new Set(sC);const LF=["get",...sC];new Set(LF);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dd.apply(this,arguments)}const j0=j.createContext(null),OF=j.createContext(null),nl=j.createContext(null),Bp=j.createContext(null),ta=j.createContext({outlet:null,matches:[],isDataRoute:!1}),aC=j.createContext(null);function MF(e,t){let{relative:n}=t===void 0?{}:t;Ad()||wn(!1);let{basename:r,navigator:i}=j.useContext(nl),{hash:l,pathname:c,search:u}=uC(e,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:Hs([r,c])),i.createHref({pathname:f,search:u,hash:l})}function Ad(){return j.useContext(Bp)!=null}function rl(){return Ad()||wn(!1),j.useContext(Bp).location}function lC(e){j.useContext(nl).static||j.useLayoutEffect(e)}function cC(){let{isDataRoute:e}=j.useContext(ta);return e?GF():zF()}function zF(){Ad()||wn(!1);let e=j.useContext(j0),{basename:t,future:n,navigator:r}=j.useContext(nl),{matches:i}=j.useContext(ta),{pathname:l}=rl(),c=JSON.stringify(iC(i,n.v7_relativeSplatPath)),u=j.useRef(!1);return lC(()=>{u.current=!0}),j.useCallback(function(m,y){if(y===void 0&&(y={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let g=oC(m,JSON.parse(c),l,y.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Hs([t,g.pathname])),(y.replace?r.replace:r.push)(g,y.state,y)},[t,r,c,l,e])}function A0(){let{matches:e}=j.useContext(ta),t=e[e.length-1];return t?t.params:{}}function uC(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=j.useContext(nl),{matches:i}=j.useContext(ta),{pathname:l}=rl(),c=JSON.stringify(iC(i,r.v7_relativeSplatPath));return j.useMemo(()=>oC(e,JSON.parse(c),l,n==="path"),[e,c,l,n])}function DF(e,t){return BF(e,t)}function BF(e,t,n,r){Ad()||wn(!1);let{navigator:i}=j.useContext(nl),{matches:l}=j.useContext(ta),c=l[l.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let m=rl(),y;if(t){var g;let b=typeof t=="string"?Zc(t):t;f==="/"||(g=b.pathname)!=null&&g.startsWith(f)||wn(!1),y=b}else y=m;let E=y.pathname||"/",_=E;if(f!=="/"){let b=f.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(b.length).join("/")}let k=dF(e,{pathname:_}),w=HF(k&&k.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:Hs([f,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:Hs([f,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,n,r);return t&&w?j.createElement(Bp.Provider,{value:{location:dd({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Fs.Pop}},w):w}function FF(){let e=KF(),t=IF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:i},n):null,null)}const UF=j.createElement(FF,null);class $F extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(ta.Provider,{value:this.props.routeContext},j.createElement(aC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZF(e){let{routeContext:t,match:n,children:r}=e,i=j.useContext(j0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(ta.Provider,{value:t},r)}function HF(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let y=c.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);y>=0||wn(!1),c=c.slice(0,Math.min(c.length,y+1))}let f=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<c.length;y++){let g=c[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:E,errors:_}=n,k=g.route.loader&&E[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||k){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((y,g,E)=>{let _,k=!1,w=null,b=null;n&&(_=u&&g.route.id?u[g.route.id]:void 0,w=g.route.errorElement||UF,f&&(m<0&&E===0?(YF("route-fallback"),k=!0,b=null):m===E&&(k=!0,b=g.route.hydrateFallbackElement||null)));let S=t.concat(c.slice(0,E+1)),P=()=>{let R;return _?R=w:k?R=b:g.route.Component?R=j.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=y,j.createElement(ZF,{match:g,routeContext:{outlet:y,matches:S,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?j.createElement($F,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):P()},null)}var dC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dC||{}),fC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fC||{});function WF(e){let t=j.useContext(j0);return t||wn(!1),t}function VF(e){let t=j.useContext(OF);return t||wn(!1),t}function qF(e){let t=j.useContext(ta);return t||wn(!1),t}function hC(e){let t=qF(),n=t.matches[t.matches.length-1];return n.route.id||wn(!1),n.route.id}function KF(){var e;let t=j.useContext(aC),n=VF(),r=hC();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function GF(){let{router:e}=WF(dC.UseNavigateStable),t=hC(fC.UseNavigateStable),n=j.useRef(!1);return lC(()=>{n.current=!0}),j.useCallback(function(i,l){l===void 0&&(l={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,dd({fromRouteId:t},l)))},[e,t])}const Bb={};function YF(e,t,n){Bb[e]||(Bb[e]=!0)}function JF(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Kr(e){wn(!1)}function QF(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Fs.Pop,navigator:l,static:c=!1,future:u}=e;Ad()&&wn(!1);let f=t.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:l,static:c,future:dd({v7_relativeSplatPath:!1},u)}),[f,u,l,c]);typeof r=="string"&&(r=Zc(r));let{pathname:y="/",search:g="",hash:E="",state:_=null,key:k="default"}=r,w=j.useMemo(()=>{let b=T0(y,f);return b==null?null:{location:{pathname:b,search:g,hash:E,state:_,key:k},navigationType:i}},[f,y,g,E,_,k,i]);return w==null?null:j.createElement(nl.Provider,{value:m},j.createElement(Bp.Provider,{children:n,value:w}))}function XF(e){let{children:t,location:n}=e;return DF(cv(t),n)}new Promise(()=>{});function cv(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(r,i)=>{if(!j.isValidElement(r))return;let l=[...t,i];if(r.type===j.Fragment){n.push.apply(n,cv(r.props.children,l));return}r.type!==Kr&&wn(!1),!r.props.index||!r.props.children||wn(!1);let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=cv(r.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uv.apply(this,arguments)}function eU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,l;for(l=0;l<r.length;l++)i=r[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function tU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nU(e,t){return e.button===0&&(!t||t==="_self")&&!tU(e)}const rU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iU="6";try{window.__reactRouterVersion=iU}catch{}const oU="startTransition",Fb=wv[oU];function sU(e){let{basename:t,children:n,future:r,window:i}=e,l=j.useRef();l.current==null&&(l.current=lF({window:i,v5Compat:!0}));let c=l.current,[u,f]=j.useState({action:c.action,location:c.location}),{v7_startTransition:m}=r||{},y=j.useCallback(g=>{m&&Fb?Fb(()=>f(g)):f(g)},[f,m]);return j.useLayoutEffect(()=>c.listen(y),[c,y]),j.useEffect(()=>JF(r),[r]),j.createElement(QF,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const aU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=j.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:l,replace:c,state:u,target:f,to:m,preventScrollReset:y,viewTransition:g}=t,E=eU(t,rU),{basename:_}=j.useContext(nl),k,w=!1;if(typeof m=="string"&&lU.test(m)&&(k=m,aU))try{let R=new URL(window.location.href),D=m.startsWith("//")?new URL(R.protocol+m):new URL(m),B=T0(D.pathname,_);D.origin===R.origin&&B!=null?m=B+D.search+D.hash:w=!0}catch{}let b=MF(m,{relative:i}),S=cU(m,{replace:c,state:u,target:f,preventScrollReset:y,relative:i,viewTransition:g});function P(R){r&&r(R),R.defaultPrevented||S(R)}return j.createElement("a",uv({},E,{href:k||b,onClick:w||l?r:P,ref:n,target:f}))});var Ub;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ub||(Ub={}));var $b;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($b||($b={}));function cU(e,t){let{target:n,replace:r,state:i,preventScrollReset:l,relative:c,viewTransition:u}=t===void 0?{}:t,f=cC(),m=rl(),y=uC(e,{relative:c});return j.useCallback(g=>{if(nU(g,n)){g.preventDefault();let E=r!==void 0?r:Jh(m)===Jh(y);f(e,{replace:E,state:i,preventScrollReset:l,relative:c,viewTransition:u})}},[m,f,y,r,i,n,e,l,c,u])}function uU(){const{pathname:e}=rl();return j.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const dU=Td("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qe=j.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},l)=>{const c=r?n8:"button";return p.jsx(c,{className:lt(dU({variant:t,size:n,className:e})),ref:l,...i})});qe.displayName="Button";const Qt=j.forwardRef(({className:e,type:t,...n},r)=>p.jsx("input",{type:t,className:lt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Qt.displayName="Input";var Qg="focusScope.autoFocusOnMount",Xg="focusScope.autoFocusOnUnmount",Zb={bubbles:!1,cancelable:!0},fU="FocusScope",R0=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=e,[u,f]=j.useState(null),m=mr(i),y=mr(l),g=j.useRef(null),E=At(t,w=>f(w)),_=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let w=function(R){if(_.paused||!u)return;const D=R.target;u.contains(D)?g.current=D:Ns(g.current,{select:!0})},b=function(R){if(_.paused||!u)return;const D=R.relatedTarget;D!==null&&(u.contains(D)||Ns(g.current,{select:!0}))},S=function(R){if(document.activeElement===document.body)for(const B of R)B.removedNodes.length>0&&Ns(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",b);const P=new MutationObserver(S);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",b),P.disconnect()}}},[r,u,_.paused]),j.useEffect(()=>{if(u){Wb.add(_);const w=document.activeElement;if(!u.contains(w)){const S=new CustomEvent(Qg,Zb);u.addEventListener(Qg,m),u.dispatchEvent(S),S.defaultPrevented||(hU(vU(pC(u)),{select:!0}),document.activeElement===w&&Ns(u))}return()=>{u.removeEventListener(Qg,m),setTimeout(()=>{const S=new CustomEvent(Xg,Zb);u.addEventListener(Xg,y),u.dispatchEvent(S),S.defaultPrevented||Ns(w??document.body,{select:!0}),u.removeEventListener(Xg,y),Wb.remove(_)},0)}}},[u,m,y,_]);const k=j.useCallback(w=>{if(!n&&!r||_.paused)return;const b=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,S=document.activeElement;if(b&&S){const P=w.currentTarget,[R,D]=pU(P);R&&D?!w.shiftKey&&S===D?(w.preventDefault(),n&&Ns(R,{select:!0})):w.shiftKey&&S===R&&(w.preventDefault(),n&&Ns(D,{select:!0})):S===P&&w.preventDefault()}},[n,r,_.paused]);return p.jsx(at.div,{tabIndex:-1,...c,ref:E,onKeyDown:k})});R0.displayName=fU;function hU(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ns(r,{select:t}),document.activeElement!==n)return}function pU(e){const t=pC(e),n=Hb(t,e),r=Hb(t.reverse(),e);return[n,r]}function pC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hb(e,t){for(const n of e)if(!mU(n,{upTo:t}))return n}function mU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gU(e){return e instanceof HTMLInputElement&&"select"in e}function Ns(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&gU(e)&&t&&e.select()}}var Wb=yU();function yU(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Vb(e,t),e.unshift(t)},remove(t){var n;e=Vb(e,t),(n=e[0])==null||n.resume()}}}function Vb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function vU(e){return e.filter(t=>t.tagName!=="A")}var ey=0;function mC(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??qb()),document.body.insertAdjacentElement("beforeend",e[1]??qb()),ey++,()=>{ey===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ey--}},[])}function qb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fi=function(){return Fi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Fi.apply(this,arguments)};function gC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function wU(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,l;r<i;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}var Sh="right-scroll-bar-position",Ch="width-before-scroll-bar",xU="with-scroll-bars-hidden",_U="--removed-body-scroll-bar-size";function ty(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bU(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var EU=typeof window<"u"?j.useLayoutEffect:j.useEffect,Kb=new WeakMap;function kU(e,t){var n=bU(null,function(r){return e.forEach(function(i){return ty(i,r)})});return EU(function(){var r=Kb.get(n);if(r){var i=new Set(r),l=new Set(e),c=n.current;i.forEach(function(u){l.has(u)||ty(u,null)}),l.forEach(function(u){i.has(u)||ty(u,c)})}Kb.set(n,e)},[e]),n}function SU(e){return e}function CU(e,t){t===void 0&&(t=SU);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var c=t(l,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(r=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(u){return l(u)},filter:function(){return n}}},assignMedium:function(l){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(l),c=n}var f=function(){var y=c;c=[],y.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(y){c.push(y),m()},filter:function(y){return c=c.filter(y),n}}}};return i}function NU(e){e===void 0&&(e={});var t=CU(null);return t.options=Fi({async:!0,ssr:!1},e),t}var yC=function(e){var t=e.sideCar,n=gC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,Fi({},n))};yC.isSideCarExport=!0;function PU(e,t){return e.useMedium(t),yC}var vC=NU(),ny=function(){},Fp=j.forwardRef(function(e,t){var n=j.useRef(null),r=j.useState({onScrollCapture:ny,onWheelCapture:ny,onTouchMoveCapture:ny}),i=r[0],l=r[1],c=e.forwardProps,u=e.children,f=e.className,m=e.removeScrollBar,y=e.enabled,g=e.shards,E=e.sideCar,_=e.noIsolation,k=e.inert,w=e.allowPinchZoom,b=e.as,S=b===void 0?"div":b,P=e.gapMode,R=gC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=E,B=kU([n,t]),q=Fi(Fi({},R),i);return j.createElement(j.Fragment,null,y&&j.createElement(D,{sideCar:vC,removeScrollBar:m,shards:g,noIsolation:_,inert:k,setCallbacks:l,allowPinchZoom:!!w,lockRef:n,gapMode:P}),c?j.cloneElement(j.Children.only(u),Fi(Fi({},q),{ref:B})):j.createElement(S,Fi({},q,{className:f,ref:B}),u))});Fp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fp.classNames={fullWidth:Ch,zeroRight:Sh};var TU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=TU();return t&&e.setAttribute("nonce",t),e}function AU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function RU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var IU=function(){var e=0,t=null;return{add:function(n){e==0&&(t=jU())&&(AU(t,n),RU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},LU=function(){var e=IU();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},wC=function(){var e=LU(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},OU={left:0,top:0,right:0,gap:0},ry=function(e){return parseInt(e||"",10)||0},MU=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[ry(n),ry(r),ry(i)]},zU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return OU;var t=MU(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},DU=wC(),lc="data-scroll-locked",BU=function(e,t,n,r){var i=e.left,l=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(xU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(lc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Ch,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Sh," .").concat(Sh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ch," .").concat(Ch,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(lc,`] {
    `).concat(_U,": ").concat(u,`px;
  }
`)},Gb=function(){var e=parseInt(document.body.getAttribute(lc)||"0",10);return isFinite(e)?e:0},FU=function(){j.useEffect(function(){return document.body.setAttribute(lc,(Gb()+1).toString()),function(){var e=Gb()-1;e<=0?document.body.removeAttribute(lc):document.body.setAttribute(lc,e.toString())}},[])},UU=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;FU();var l=j.useMemo(function(){return zU(i)},[i]);return j.createElement(DU,{styles:BU(l,!t,i,n?"":"!important")})},dv=!1;if(typeof window<"u")try{var ph=Object.defineProperty({},"passive",{get:function(){return dv=!0,!0}});window.addEventListener("test",ph,ph),window.removeEventListener("test",ph,ph)}catch{dv=!1}var Gl=dv?{passive:!1}:!1,$U=function(e){return e.tagName==="TEXTAREA"},xC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$U(e)&&n[t]==="visible")},ZU=function(e){return xC(e,"overflowY")},HU=function(e){return xC(e,"overflowX")},Yb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=_C(e,r);if(i){var l=bC(e,r),c=l[1],u=l[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},WU=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},VU=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},_C=function(e,t){return e==="v"?ZU(t):HU(t)},bC=function(e,t){return e==="v"?WU(t):VU(t)},qU=function(e,t){return e==="h"&&t==="rtl"?-1:1},KU=function(e,t,n,r,i){var l=qU(e,window.getComputedStyle(t).direction),c=l*r,u=n.target,f=t.contains(u),m=!1,y=c>0,g=0,E=0;do{var _=bC(e,u),k=_[0],w=_[1],b=_[2],S=w-b-l*k;(k||S)&&_C(e,u)&&(g+=S,E+=k),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(y&&Math.abs(g)<1||!y&&Math.abs(E)<1)&&(m=!0),m},mh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Jb=function(e){return[e.deltaX,e.deltaY]},Qb=function(e){return e&&"current"in e?e.current:e},GU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},JU=0,Yl=[];function QU(e){var t=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),i=j.useState(JU++)[0],l=j.useState(wC)[0],c=j.useRef(e);j.useEffect(function(){c.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var w=wU([e.lockRef.current],(e.shards||[]).map(Qb),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=j.useCallback(function(w,b){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var S=mh(w),P=n.current,R="deltaX"in w?w.deltaX:P[0]-S[0],D="deltaY"in w?w.deltaY:P[1]-S[1],B,q=w.target,G=Math.abs(R)>Math.abs(D)?"h":"v";if("touches"in w&&G==="h"&&q.type==="range")return!1;var J=Yb(G,q);if(!J)return!0;if(J?B=G:(B=G==="v"?"h":"v",J=Yb(G,q)),!J)return!1;if(!r.current&&"changedTouches"in w&&(R||D)&&(r.current=B),!B)return!0;var V=r.current||B;return KU(V,b,w,V==="h"?R:D)},[]),f=j.useCallback(function(w){var b=w;if(!(!Yl.length||Yl[Yl.length-1]!==l)){var S="deltaY"in b?Jb(b):mh(b),P=t.current.filter(function(B){return B.name===b.type&&(B.target===b.target||b.target===B.shadowParent)&&GU(B.delta,S)})[0];if(P&&P.should){b.cancelable&&b.preventDefault();return}if(!P){var R=(c.current.shards||[]).map(Qb).filter(Boolean).filter(function(B){return B.contains(b.target)}),D=R.length>0?u(b,R[0]):!c.current.noIsolation;D&&b.cancelable&&b.preventDefault()}}},[]),m=j.useCallback(function(w,b,S,P){var R={name:w,delta:b,target:S,should:P,shadowParent:XU(S)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(D){return D!==R})},1)},[]),y=j.useCallback(function(w){n.current=mh(w),r.current=void 0},[]),g=j.useCallback(function(w){m(w.type,Jb(w),w.target,u(w,e.lockRef.current))},[]),E=j.useCallback(function(w){m(w.type,mh(w),w.target,u(w,e.lockRef.current))},[]);j.useEffect(function(){return Yl.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:E}),document.addEventListener("wheel",f,Gl),document.addEventListener("touchmove",f,Gl),document.addEventListener("touchstart",y,Gl),function(){Yl=Yl.filter(function(w){return w!==l}),document.removeEventListener("wheel",f,Gl),document.removeEventListener("touchmove",f,Gl),document.removeEventListener("touchstart",y,Gl)}},[]);var _=e.removeScrollBar,k=e.inert;return j.createElement(j.Fragment,null,k?j.createElement(l,{styles:YU(i)}):null,_?j.createElement(UU,{gapMode:e.gapMode}):null)}function XU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const e$=PU(vC,QU);var I0=j.forwardRef(function(e,t){return j.createElement(Fp,Fi({},e,{ref:t,sideCar:e$}))});I0.classNames=Fp.classNames;var t$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jl=new WeakMap,gh=new WeakMap,yh={},iy=0,EC=function(e){return e&&(e.host||EC(e.parentNode))},n$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=EC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},r$=function(e,t,n,r){var i=n$(t,Array.isArray(e)?e:[e]);yh[n]||(yh[n]=new WeakMap);var l=yh[n],c=[],u=new Set,f=new Set(i),m=function(g){!g||u.has(g)||(u.add(g),m(g.parentNode))};i.forEach(m);var y=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(E){if(u.has(E))y(E);else try{var _=E.getAttribute(r),k=_!==null&&_!=="false",w=(Jl.get(E)||0)+1,b=(l.get(E)||0)+1;Jl.set(E,w),l.set(E,b),c.push(E),w===1&&k&&gh.set(E,!0),b===1&&E.setAttribute(n,"true"),k||E.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",E,S)}})};return y(t),u.clear(),iy++,function(){c.forEach(function(g){var E=Jl.get(g)-1,_=l.get(g)-1;Jl.set(g,E),l.set(g,_),E||(gh.has(g)||g.removeAttribute(r),gh.delete(g)),_||g.removeAttribute(n)}),iy--,iy||(Jl=new WeakMap,Jl=new WeakMap,gh=new WeakMap,yh={})}},kC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t$(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),r$(r,i,n,"aria-hidden")):function(){return null}},Up="Dialog",[SC,eH]=nr(Up),[i$,wi]=SC(Up),CC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:l,modal:c=!0}=e,u=j.useRef(null),f=j.useRef(null),[m,y]=Mo({prop:r,defaultProp:i??!1,onChange:l,caller:Up});return p.jsx(i$,{scope:t,triggerRef:u,contentRef:f,contentId:$s(),titleId:$s(),descriptionId:$s(),open:m,onOpenChange:y,onOpenToggle:j.useCallback(()=>y(g=>!g),[y]),modal:c,children:n})};CC.displayName=Up;var NC="DialogTrigger",o$=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=wi(NC,n),l=At(t,i.triggerRef);return p.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":z0(i.open),...r,ref:l,onClick:Ke(e.onClick,i.onOpenToggle)})});o$.displayName=NC;var L0="DialogPortal",[s$,PC]=SC(L0,{forceMount:void 0}),TC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,l=wi(L0,t);return p.jsx(s$,{scope:t,forceMount:n,children:j.Children.map(r,c=>p.jsx(Ar,{present:n||l.open,children:p.jsx(Pp,{asChild:!0,container:i,children:c})}))})};TC.displayName=L0;var Qh="DialogOverlay",jC=j.forwardRef((e,t)=>{const n=PC(Qh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,l=wi(Qh,e.__scopeDialog);return l.modal?p.jsx(Ar,{present:r||l.open,children:p.jsx(l$,{...i,ref:t})}):null});jC.displayName=Qh;var a$=Tc("DialogOverlay.RemoveScroll"),l$=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=wi(Qh,n);return p.jsx(I0,{as:a$,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(at.div,{"data-state":z0(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Qa="DialogContent",AC=j.forwardRef((e,t)=>{const n=PC(Qa,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,l=wi(Qa,e.__scopeDialog);return p.jsx(Ar,{present:r||l.open,children:l.modal?p.jsx(c$,{...i,ref:t}):p.jsx(u$,{...i,ref:t})})});AC.displayName=Qa;var c$=j.forwardRef((e,t)=>{const n=wi(Qa,e.__scopeDialog),r=j.useRef(null),i=At(t,n.contentRef,r);return j.useEffect(()=>{const l=r.current;if(l)return kC(l)},[]),p.jsx(RC,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,l=>l.preventDefault())})}),u$=j.forwardRef((e,t)=>{const n=wi(Qa,e.__scopeDialog),r=j.useRef(!1),i=j.useRef(!1);return p.jsx(RC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:l=>{var f,m;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((m=n.triggerRef.current)==null?void 0:m.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),RC=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=e,u=wi(Qa,n),f=j.useRef(null),m=At(t,f);return mC(),p.jsxs(p.Fragment,{children:[p.jsx(R0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:p.jsx(Nd,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":z0(u.open),...c,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(d$,{titleId:u.titleId}),p.jsx(h$,{contentRef:f,descriptionId:u.descriptionId})]})]})}),O0="DialogTitle",M0=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=wi(O0,n);return p.jsx(at.h2,{id:i.titleId,...r,ref:t})});M0.displayName=O0;var IC="DialogDescription",LC=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=wi(IC,n);return p.jsx(at.p,{id:i.descriptionId,...r,ref:t})});LC.displayName=IC;var OC="DialogClose",MC=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=wi(OC,n);return p.jsx(at.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});MC.displayName=OC;function z0(e){return e?"open":"closed"}var zC="DialogTitleWarning",[tH,DC]=e8(zC,{contentName:Qa,titleName:O0,docsSlug:"dialog"}),d$=({titleId:e})=>{const t=DC(zC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},f$="DialogDescriptionWarning",h$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DC(f$).contentName}}.`;return j.useEffect(()=>{var l;const i=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},p$=CC,m$=TC,BC=jC,FC=AC,UC=M0,$C=LC,g$=MC;const Rc=p$,y$=m$,ZC=j.forwardRef(({className:e,...t},n)=>p.jsx(BC,{ref:n,className:lt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ZC.displayName=BC.displayName;const Xa=j.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(y$,{children:[p.jsx(ZC,{}),p.jsxs(FC,{ref:r,className:lt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(g$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(cS,{className:"size-5"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xa.displayName=FC.displayName;const Ic=({className:e,...t})=>p.jsx("div",{className:lt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ic.displayName="DialogHeader";const fd=j.forwardRef(({className:e,...t},n)=>p.jsx(UC,{ref:n,className:lt("text-lg font-semibold leading-none tracking-tight",e),...t}));fd.displayName=UC.displayName;const Xh=j.forwardRef(({className:e,...t},n)=>p.jsx($C,{ref:n,className:lt("text-sm text-muted-foreground",e),...t}));Xh.displayName=$C.displayName;var v$=j.createContext(void 0);function Rd(e){const t=j.useContext(v$);return e||t||"ltr"}var oy="rovingFocusGroup.onEntryFocus",w$={bubbles:!1,cancelable:!0},Id="RovingFocusGroup",[fv,HC,x$]=Np(Id),[_$,Hc]=nr(Id,[x$]),[b$,E$]=_$(Id),WC=j.forwardRef((e,t)=>p.jsx(fv.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(fv.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(k$,{...e,ref:t})})}));WC.displayName=Id;var k$=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...g}=e,E=j.useRef(null),_=At(t,E),k=Rd(l),[w,b]=Mo({prop:c,defaultProp:u??null,onChange:f,caller:Id}),[S,P]=j.useState(!1),R=mr(m),D=HC(n),B=j.useRef(!1),[q,G]=j.useState(0);return j.useEffect(()=>{const J=E.current;if(J)return J.addEventListener(oy,R),()=>J.removeEventListener(oy,R)},[R]),p.jsx(b$,{scope:n,orientation:r,dir:k,loop:i,currentTabStopId:w,onItemFocus:j.useCallback(J=>b(J),[b]),onItemShiftTab:j.useCallback(()=>P(!0),[]),onFocusableItemAdd:j.useCallback(()=>G(J=>J+1),[]),onFocusableItemRemove:j.useCallback(()=>G(J=>J-1),[]),children:p.jsx(at.div,{tabIndex:S||q===0?-1:0,"data-orientation":r,...g,ref:_,style:{outline:"none",...e.style},onMouseDown:Ke(e.onMouseDown,()=>{B.current=!0}),onFocus:Ke(e.onFocus,J=>{const V=!B.current;if(J.target===J.currentTarget&&V&&!S){const Y=new CustomEvent(oy,w$);if(J.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const Q=D().filter(ae=>ae.focusable),U=Q.find(ae=>ae.active),re=Q.find(ae=>ae.id===w),W=[U,re,...Q].filter(Boolean).map(ae=>ae.ref.current);KC(W,y)}}B.current=!1}),onBlur:Ke(e.onBlur,()=>P(!1))})})}),VC="RovingFocusGroupItem",qC=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:l,children:c,...u}=e,f=$s(),m=l||f,y=E$(VC,n),g=y.currentTabStopId===m,E=HC(n),{onFocusableItemAdd:_,onFocusableItemRemove:k,currentTabStopId:w}=y;return j.useEffect(()=>{if(r)return _(),()=>k()},[r,_,k]),p.jsx(fv.ItemSlot,{scope:n,id:m,focusable:r,active:i,children:p.jsx(at.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...u,ref:t,onMouseDown:Ke(e.onMouseDown,b=>{r?y.onItemFocus(m):b.preventDefault()}),onFocus:Ke(e.onFocus,()=>y.onItemFocus(m)),onKeyDown:Ke(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){y.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const S=N$(b,y.orientation,y.dir);if(S!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let R=E().filter(D=>D.focusable).map(D=>D.ref.current);if(S==="last")R.reverse();else if(S==="prev"||S==="next"){S==="prev"&&R.reverse();const D=R.indexOf(b.currentTarget);R=y.loop?P$(R,D+1):R.slice(D+1)}setTimeout(()=>KC(R))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:w!=null}):c})})});qC.displayName=VC;var S$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function C$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function N$(e,t,n){const r=C$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return S$[r]}function KC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function P$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var D0=WC,B0=qC,$p="Tabs",[T$,nH]=nr($p,[Hc]),GC=Hc(),[j$,F0]=T$($p),YC=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:l,orientation:c="horizontal",dir:u,activationMode:f="automatic",...m}=e,y=Rd(u),[g,E]=Mo({prop:r,onChange:i,defaultProp:l??"",caller:$p});return p.jsx(j$,{scope:n,baseId:$s(),value:g,onValueChange:E,orientation:c,dir:y,activationMode:f,children:p.jsx(at.div,{dir:y,"data-orientation":c,...m,ref:t})})});YC.displayName=$p;var JC="TabsList",QC=j.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,l=F0(JC,n),c=GC(n);return p.jsx(D0,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:r,children:p.jsx(at.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:t})})});QC.displayName=JC;var XC="TabsTrigger",eN=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...l}=e,c=F0(XC,n),u=GC(n),f=rN(c.baseId,r),m=iN(c.baseId,r),y=r===c.value;return p.jsx(B0,{asChild:!0,...u,focusable:!i,active:y,children:p.jsx(at.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...l,ref:t,onMouseDown:Ke(e.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?c.onValueChange(r):g.preventDefault()}),onKeyDown:Ke(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(r)}),onFocus:Ke(e.onFocus,()=>{const g=c.activationMode!=="manual";!y&&!i&&g&&c.onValueChange(r)})})})});eN.displayName=XC;var tN="TabsContent",nN=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:l,...c}=e,u=F0(tN,n),f=rN(u.baseId,r),m=iN(u.baseId,r),y=r===u.value,g=j.useRef(y);return j.useEffect(()=>{const E=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(E)},[]),p.jsx(Ar,{present:i||y,children:({present:E})=>p.jsx(at.div,{"data-state":y?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!E,id:m,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:E&&l})})});nN.displayName=tN;function rN(e,t){return`${e}-trigger-${t}`}function iN(e,t){return`${e}-content-${t}`}var A$=YC,oN=QC,sN=eN,aN=nN;const lN=A$,U0=j.forwardRef(({className:e,...t},n)=>p.jsx(oN,{ref:n,className:lt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));U0.displayName=oN.displayName;const hd=j.forwardRef(({className:e,...t},n)=>p.jsx(sN,{ref:n,className:lt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));hd.displayName=sN.displayName;const pd=j.forwardRef(({className:e,...t},n)=>p.jsx(aN,{ref:n,className:lt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pd.displayName=aN.displayName;const R$=Td("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),cN=j.forwardRef(({className:e,variant:t,...n},r)=>p.jsx("div",{ref:r,role:"alert",className:lt(R$({variant:t}),e),...n}));cN.displayName="Alert";const I$=j.forwardRef(({className:e,...t},n)=>p.jsx("h5",{ref:n,className:lt("mb-1 font-medium leading-none tracking-tight",e),...t}));I$.displayName="AlertTitle";const uN=j.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:lt("text-sm [&_p]:leading-relaxed",e),...t}));uN.displayName="AlertDescription";var Zp="Collapsible",[L$,rH]=nr(Zp),[O$,$0]=L$(Zp),dN=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:l,onOpenChange:c,...u}=e,[f,m]=Mo({prop:r,defaultProp:i??!1,onChange:c,caller:Zp});return p.jsx(O$,{scope:n,disabled:l,contentId:$s(),open:f,onOpenToggle:j.useCallback(()=>m(y=>!y),[m]),children:p.jsx(at.div,{"data-state":H0(f),"data-disabled":l?"":void 0,...u,ref:t})})});dN.displayName=Zp;var fN="CollapsibleTrigger",hN=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=$0(fN,n);return p.jsx(at.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":H0(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:Ke(e.onClick,i.onOpenToggle)})});hN.displayName=fN;var Z0="CollapsibleContent",pN=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=$0(Z0,e.__scopeCollapsible);return p.jsx(Ar,{present:n||i.open,children:({present:l})=>p.jsx(M$,{...r,ref:t,present:l})})});pN.displayName=Z0;var M$=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...l}=e,c=$0(Z0,n),[u,f]=j.useState(r),m=j.useRef(null),y=At(t,m),g=j.useRef(0),E=g.current,_=j.useRef(0),k=_.current,w=c.open||u,b=j.useRef(w),S=j.useRef(void 0);return j.useEffect(()=>{const P=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(P)},[]),jr(()=>{const P=m.current;if(P){S.current=S.current||{transitionDuration:P.style.transitionDuration,animationName:P.style.animationName},P.style.transitionDuration="0s",P.style.animationName="none";const R=P.getBoundingClientRect();g.current=R.height,_.current=R.width,b.current||(P.style.transitionDuration=S.current.transitionDuration,P.style.animationName=S.current.animationName),f(r)}},[c.open,r]),p.jsx(at.div,{"data-state":H0(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!w,...l,ref:y,style:{"--radix-collapsible-content-height":E?`${E}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...e.style},children:w&&i})});function H0(e){return e?"open":"closed"}var z$=dN;const D$=z$,B$=hN,F$=pN;function mN(){const{nostr:e}=Oo(),{logins:t,addLogin:n,removeLogin:r}=u0();return{nsec(i){const l=Wa.fromNsec(i);n(l)},async bunker(i){const l=await Wa.fromBunker(i,e);n(l)},async extension(){const i=await Wa.fromExtension();n(i)},async logout(){const i=t[0];i&&r(i.id)}}}const Xb=e=>/^nsec1[a-zA-Z0-9]{58}$/.test(e),U$=e=>e.startsWith("bunker://"),$$=({isOpen:e,onClose:t,onLogin:n})=>{const[r,i]=j.useState(!1),[l,c]=j.useState(!1),[u,f]=j.useState(""),[m,y]=j.useState(""),[g,E]=j.useState({}),_=j.useRef(null),k=mN();j.useEffect(()=>{e&&(i(!1),c(!1),f(""),y(""),E({}),_.current&&(_.current.value=""))},[e]);const w=async()=>{i(!0),E(J=>({...J,extension:void 0}));try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");await k.extension(),n(),t()}catch(J){const V=J;console.error("Bunker login failed:",V),console.error("Nsec login failed:",V),console.error("Extension login failed:",V),E(Y=>({...Y,extension:V instanceof Error?V.message:"Extension login failed"}))}finally{i(!1)}},b=J=>{i(!0),E({}),setTimeout(()=>{try{k.nsec(J),n(),t()}catch{E({nsec:"Failed to login with this key. Please check that it's correct."}),i(!1)}},50)},S=()=>{if(!u.trim()){E(J=>({...J,nsec:"Please enter your secret key"}));return}if(!Xb(u)){E(J=>({...J,nsec:"Invalid secret key format. Must be a valid nsec starting with nsec1."}));return}b(u)},P=async()=>{if(!m.trim()){E(J=>({...J,bunker:"Please enter a bunker URI"}));return}if(!U$(m)){E(J=>({...J,bunker:"Invalid bunker URI format. Must start with bunker://"}));return}i(!0),E(J=>({...J,bunker:void 0}));try{await k.bunker(m),n(),t(),y("")}catch{E(J=>({...J,bunker:"Failed to connect to bunker. Please check the URI."}))}finally{i(!1)}},R=J=>{var Q;const V=(Q=J.target.files)==null?void 0:Q[0];if(!V)return;c(!0),E({});const Y=new FileReader;Y.onload=U=>{var M;c(!1);const re=(M=U.target)==null?void 0:M.result;if(re){const W=re.trim();Xb(W)?b(W):E({file:"File does not contain a valid secret key."})}else E({file:"Could not read file content."})},Y.onerror=()=>{c(!1),E({file:"Failed to read file."})},Y.readAsText(V)},D="nostr"in window,[B,q]=j.useState(!1),G=()=>p.jsxs(lN,{defaultValue:"key",className:"w-full",children:[p.jsxs(U0,{className:"grid w-full grid-cols-2 bg-muted/80 rounded-lg mb-4",children:[p.jsx(hd,{value:"key",className:"flex items-center gap-2",children:p.jsx("span",{children:"Secret Key"})}),p.jsx(hd,{value:"bunker",className:"flex items-center gap-2",children:p.jsx("span",{children:"Remote Signer"})})]}),p.jsx(pd,{value:"key",className:"space-y-4",children:p.jsxs("form",{onSubmit:J=>{J.preventDefault(),S()},className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Qt,{id:"nsec",type:"password",value:u,onChange:J=>{f(J.target.value),g.nsec&&E(V=>({...V,nsec:void 0}))},className:`rounded-lg ${g.nsec?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:"nsec1...",autoComplete:"off"}),g.nsec&&p.jsx("p",{className:"text-sm text-red-500",children:g.nsec})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(qe,{type:"submit",size:"lg",disabled:r||!u.trim(),className:"flex-1",children:r?"Verifying...":"Log in"}),p.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:_,onChange:R}),p.jsx(qe,{type:"button",variant:"outline",size:"lg",onClick:()=>{var J;return(J=_.current)==null?void 0:J.click()},disabled:r||l,className:"px-3",children:p.jsx(lS,{className:"w-4 h-4"})})]}),g.file&&p.jsx("p",{className:"text-sm text-red-500 text-center",children:g.file})]})}),p.jsx(pd,{value:"bunker",className:"space-y-4",children:p.jsxs("form",{onSubmit:J=>{J.preventDefault(),P()},className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Qt,{id:"bunkerUri",value:m,onChange:J=>{y(J.target.value),g.bunker&&E(V=>({...V,bunker:void 0}))},className:`rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary ${g.bunker?"border-red-500":""}`,placeholder:"bunker://",autoComplete:"off"}),g.bunker&&p.jsx("p",{className:"text-sm text-red-500",children:g.bunker})]}),p.jsx(qe,{type:"submit",size:"lg",className:"w-full",disabled:r||!m.trim(),children:r?"Connecting...":"Log in"})]})})]});return p.jsx(Rc,{open:e,onOpenChange:t,children:p.jsxs(Xa,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[p.jsx(Ic,{className:"px-6 pt-6",children:p.jsx(M0,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:"Log in"})}),p.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),p.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto",children:[D&&p.jsxs("div",{className:"space-y-4",children:[g.extension&&p.jsxs(cN,{variant:"destructive",children:[p.jsx(aS,{className:"h-4 w-4"}),p.jsx(uN,{children:g.extension})]}),p.jsx(qe,{className:"w-full h-12 px-9",onClick:w,disabled:r,children:r?"Logging in...":"Log in with Extension"})]}),D?p.jsxs(D$,{className:"space-y-4",open:B,onOpenChange:q,children:[p.jsx(B$,{asChild:!0,children:p.jsxs("button",{className:"w-full flex items-center justify-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[p.jsx("span",{children:"More Options"}),p.jsx(rS,{className:`w-4 h-4 transition-transform ${B?"rotate-180":""}`})]})}),p.jsx(F$,{children:G()})]}):G()]})]})})},W0=j.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:lt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));W0.displayName="Textarea";function V0(){const{nostr:e}=Oo(),{user:t}=kp();return $1({mutationFn:async n=>{if(t){const r=n.tags??[];location.protocol==="https:"&&!r.some(([l])=>l==="client")&&r.push(["client",location.hostname]);const i=await t.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await e.event(i,{signal:AbortSignal.timeout(5e3)}),i}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}class q0{constructor(t){$e(this,"servers");$e(this,"signer");$e(this,"fetch");$e(this,"expiresIn");this.servers=t.servers,this.signer=t.signer,this.fetch=t.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=t.expiresIn??6e4}async upload(t,n){const r=await crypto.subtle.digest("SHA-256",await t.arrayBuffer()),i=A5(new Uint8Array(r)),l=Date.now(),c=l+this.expiresIn,u=await this.signer.signEvent({kind:24242,content:`Upload ${t.name}`,created_at:Math.floor(l/1e3),tags:[["t","upload"],["x",i],["size",t.size.toString()],["expiration",Math.floor(c/1e3).toString()]]}),f=`Nostr ${z5.encodeEvent(u)}`;return Promise.any(this.servers.map(async m=>{const y=new URL("/upload",m),E=await(await this.fetch(y,{method:"PUT",body:t,headers:{authorization:f,"content-type":t.type},signal:n==null?void 0:n.signal})).json(),_=q0.schema().parse(E),k=[["url",_.url],["x",_.sha256],["ox",_.sha256],["size",_.size.toString()]];return _.type&&k.push(["m",_.type]),k}))}static schema(){return Co({url:Mt(),sha256:Mt(),size:yo(),type:Mt().optional()})}}function gN(){const{user:e}=kp();return $1({mutationFn:async t=>{if(!e)throw new Error("Must be logged in to upload files");return await new q0({servers:["https://blossom.primal.net/"],signer:e.signer}).upload(t)}})}const Z$=({isOpen:e,onClose:t})=>{const[n,r]=j.useState("generate"),[i,l]=j.useState(""),[c,u]=j.useState(!1),[f,m]=j.useState({name:"",about:"",picture:""}),y=mN(),{mutateAsync:g,isPending:E}=V0(),{mutateAsync:_,isPending:k}=gN(),w=j.useRef(null),b=()=>{const B=hp();l(tr.nsecEncode(B)),r("download")},S=()=>{try{const B=new Blob([i],{type:"text/plain; charset=utf-8"}),q=globalThis.URL.createObjectURL(B),G=tr.decode(i);if(G.type!=="nsec")throw new Error("Invalid nsec key");const J=Vs(G.data),V=tr.npubEncode(J),Y=`nostr-${location.hostname.replaceAll(/\./g,"-")}-${V.slice(5,9)}.nsec.txt`,Q=document.createElement("a");Q.href=q,Q.download=Y,Q.style.display="none",document.body.appendChild(Q),Q.click(),globalThis.URL.revokeObjectURL(q),document.body.removeChild(Q),y.nsec(i),r("profile")}catch{Ql({title:"Download failed",description:"Could not download the key file. Please copy it manually.",variant:"destructive"})}},P=async B=>{var G,J;const q=(G=B.target.files)==null?void 0:G[0];if(q){if(B.target.value="",!q.type.startsWith("image/")){Ql({title:"Invalid file type",description:"Please select an image file for your avatar.",variant:"destructive"});return}if(q.size>5*1024*1024){Ql({title:"File too large",description:"Avatar image must be smaller than 5MB.",variant:"destructive"});return}try{const Y=(J=(await _(q))[0])==null?void 0:J[1];Y&&m(Q=>({...Q,picture:Y}))}catch{Ql({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}}},R=async(B=!1)=>{try{if(!B&&(f.name||f.about||f.picture)){const q={};f.name&&(q.name=f.name),f.about&&(q.about=f.about),f.picture&&(q.picture=f.picture),await g({kind:0,content:JSON.stringify(q)})}}catch{Ql({title:"Profile Setup Failed",description:"Your account was created but profile setup failed. You can update it later.",variant:"destructive"})}finally{t()}},D=()=>{if(n==="generate")return"Sign up";if(n==="download")return"Secret Key";if(n==="profile")return"Create Your Profile"};return j.useEffect(()=>{e&&(r("generate"),l(""),u(!1),m({name:"",about:"",picture:""}))},[e]),p.jsx(Rc,{open:e,onOpenChange:t,children:p.jsxs(Xa,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[p.jsx(Ic,{className:"px-6 pt-6",children:p.jsx(fd,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:D()})}),p.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto flex-1",children:[n==="generate"&&p.jsxs("div",{className:"text-center space-y-6",children:[p.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),p.jsx(qe,{className:"w-full h-12 px-9",onClick:b,children:"Generate key"})]}),n==="download"&&p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"flex size-16 text-4xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),p.jsxs("div",{className:"relative",children:[p.jsx(Qt,{type:c?"text":"password",value:i,readOnly:!0,className:"pr-10 font-mono text-sm"}),p.jsx(qe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>u(!c),children:c?p.jsx(J8,{className:"h-4 w-4 text-muted-foreground"}):p.jsx(Q8,{className:"h-4 w-4 text-muted-foreground"})})]}),p.jsxs(qe,{className:"w-full h-12 px-9",onClick:S,children:[p.jsx($h,{className:"size-4"}),"Download key"]}),p.jsx("div",{className:"mx-auto max-w-sm",children:p.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[p.jsx("div",{className:"flex items-center gap-2 mb-1",children:p.jsx("span",{className:"text-xs font-semibold text-amber-800 dark:text-amber-200",children:"Important Warning"})}),p.jsx("p",{className:"text-xs text-amber-900 dark:text-amber-300",children:"This key is your primary and only means of accessing your account. Store it safely and securely. Please download your key to continue."})]})})]}),n==="profile"&&p.jsxs("div",{className:"text-center space-y-4",children:[E&&p.jsx("div",{className:"p-4 rounded-lg bg-muted border",children:p.jsxs("div",{className:"flex items-center justify-center gap-3",children:[p.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),p.jsx("span",{className:"text-sm font-medium",children:"Publishing your profile..."})]})}),p.jsxs("div",{className:`space-y-4 text-left ${E?"opacity-50 pointer-events-none":""}`,children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"profile-name",className:"text-sm font-medium",children:"Display Name"}),p.jsx(Qt,{id:"profile-name",value:f.name,onChange:B=>m(q=>({...q,name:B.target.value})),placeholder:"Your name",disabled:E})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"profile-about",className:"text-sm font-medium",children:"Bio"}),p.jsx(W0,{id:"profile-about",value:f.about,onChange:B=>m(q=>({...q,about:B.target.value})),placeholder:"Tell others about yourself...",className:"resize-none",rows:3,disabled:E})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"profile-picture",className:"text-sm font-medium",children:"Avatar"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Qt,{id:"profile-picture",value:f.picture,onChange:B=>m(q=>({...q,picture:B.target.value})),placeholder:"https://example.com/your-avatar.jpg",className:"flex-1",disabled:E}),p.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:w,onChange:P}),p.jsx(qe,{type:"button",variant:"outline",size:"icon",onClick:()=>{var B;return(B=w.current)==null?void 0:B.click()},disabled:k||E,title:"Upload avatar image",children:k?p.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):p.jsx(lS,{className:"w-4 h-4"})})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(qe,{className:"w-full",onClick:()=>R(!1),disabled:E||k,children:E?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):"Create profile"}),p.jsx(qe,{variant:"outline",className:"w-full",onClick:()=>R(!0),disabled:E||k,children:E?"Setting up account...":"Skip for now"})]})]})]})]})})};function yN(){const{nostr:e}=Oo(),{logins:t,setLogin:n,removeLogin:r}=u0(),{data:i=[]}=Ra({queryKey:["nostr","logins",t.map(u=>u.id).join(";")],queryFn:async({signal:u})=>{const f=await e.query([{kinds:[0],authors:t.map(m=>m.pubkey)}],{signal:AbortSignal.any([u,AbortSignal.timeout(1500)])});return t.map(({id:m,pubkey:y})=>{const g=f.find(E=>E.pubkey===y);try{const E=kt.json().pipe(kt.metadata()).parse(g==null?void 0:g.content);return{id:m,pubkey:y,metadata:E,event:g}}catch{return{id:m,pubkey:y,metadata:{},event:g}}})},retry:3}),l=(()=>{const u=t[0];if(!u)return;const f=i.find(m=>m.id===u.id);return{metadata:{},...f,id:u.id,pubkey:u.pubkey}})(),c=(i||[]).slice(1);return{authors:i,currentUser:l,otherUsers:c,setLogin:n,removeLogin:r}}var hv=["Enter"," "],H$=["ArrowDown","PageUp","Home"],vN=["ArrowUp","PageDown","End"],W$=[...H$,...vN],V$={ltr:[...hv,"ArrowRight"],rtl:[...hv,"ArrowLeft"]},q$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ld="Menu",[md,K$,G$]=Np(Ld),[il,wN]=nr(Ld,[G$,Mp,Hc]),Hp=Mp(),xN=Hc(),[Y$,ol]=il(Ld),[J$,Od]=il(Ld),_N=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:l,modal:c=!0}=e,u=Hp(t),[f,m]=j.useState(null),y=j.useRef(!1),g=mr(l),E=Rd(i);return j.useEffect(()=>{const _=()=>{y.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>y.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),p.jsx(nB,{...u,children:p.jsx(Y$,{scope:t,open:n,onOpenChange:g,content:f,onContentChange:m,children:p.jsx(J$,{scope:t,onClose:j.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:E,modal:c,children:r})})})};_N.displayName=Ld;var Q$="MenuAnchor",K0=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Hp(n);return p.jsx(FS,{...i,...r,ref:t})});K0.displayName=Q$;var G0="MenuPortal",[X$,bN]=il(G0,{forceMount:void 0}),EN=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,l=ol(G0,t);return p.jsx(X$,{scope:t,forceMount:n,children:p.jsx(Ar,{present:n||l.open,children:p.jsx(Pp,{asChild:!0,container:i,children:r})})})};EN.displayName=G0;var Qr="MenuContent",[e9,Y0]=il(Qr),kN=j.forwardRef((e,t)=>{const n=bN(Qr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,l=ol(Qr,e.__scopeMenu),c=Od(Qr,e.__scopeMenu);return p.jsx(md.Provider,{scope:e.__scopeMenu,children:p.jsx(Ar,{present:r||l.open,children:p.jsx(md.Slot,{scope:e.__scopeMenu,children:c.modal?p.jsx(t9,{...i,ref:t}):p.jsx(n9,{...i,ref:t})})})})}),t9=j.forwardRef((e,t)=>{const n=ol(Qr,e.__scopeMenu),r=j.useRef(null),i=At(t,r);return j.useEffect(()=>{const l=r.current;if(l)return kC(l)},[]),p.jsx(J0,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ke(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),n9=j.forwardRef((e,t)=>{const n=ol(Qr,e.__scopeMenu);return p.jsx(J0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),r9=Tc("MenuContent.ScrollLock"),J0=j.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:E,onDismiss:_,disableOutsideScroll:k,...w}=e,b=ol(Qr,n),S=Od(Qr,n),P=Hp(n),R=xN(n),D=K$(n),[B,q]=j.useState(null),G=j.useRef(null),J=At(t,G,b.onContentChange),V=j.useRef(0),Y=j.useRef(""),Q=j.useRef(0),U=j.useRef(null),re=j.useRef("right"),M=j.useRef(0),W=k?I0:j.Fragment,ae=k?{as:r9,allowPinchZoom:!0}:void 0,oe=ee=>{var Ue,De;const le=Y.current+ee,F=D().filter(Fe=>!Fe.disabled),K=document.activeElement,Ce=(Ue=F.find(Fe=>Fe.ref.current===K))==null?void 0:Ue.textValue,be=F.map(Fe=>Fe.textValue),we=m9(be,le,Ce),Re=(De=F.find(Fe=>Fe.textValue===we))==null?void 0:De.ref.current;(function Fe(it){Y.current=it,window.clearTimeout(V.current),it!==""&&(V.current=window.setTimeout(()=>Fe(""),1e3))})(le),Re&&setTimeout(()=>Re.focus())};j.useEffect(()=>()=>window.clearTimeout(V.current),[]),mC();const ne=j.useCallback(ee=>{var F,K;return re.current===((F=U.current)==null?void 0:F.side)&&y9(ee,(K=U.current)==null?void 0:K.area)},[]);return p.jsx(e9,{scope:n,searchRef:Y,onItemEnter:j.useCallback(ee=>{ne(ee)&&ee.preventDefault()},[ne]),onItemLeave:j.useCallback(ee=>{var le;ne(ee)||((le=G.current)==null||le.focus(),q(null))},[ne]),onTriggerLeave:j.useCallback(ee=>{ne(ee)&&ee.preventDefault()},[ne]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:j.useCallback(ee=>{U.current=ee},[]),children:p.jsx(W,{...ae,children:p.jsx(R0,{asChild:!0,trapped:i,onMountAutoFocus:Ke(l,ee=>{var le;ee.preventDefault(),(le=G.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:p.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:E,onDismiss:_,children:p.jsx(D0,{asChild:!0,...R,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:q,onEntryFocus:Ke(f,ee=>{S.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(US,{role:"menu","aria-orientation":"vertical","data-state":FN(b.open),"data-radix-menu-content":"",dir:S.dir,...P,...w,ref:J,style:{outline:"none",...w.style},onKeyDown:Ke(w.onKeyDown,ee=>{const F=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,K=ee.ctrlKey||ee.altKey||ee.metaKey,Ce=ee.key.length===1;F&&(ee.key==="Tab"&&ee.preventDefault(),!K&&Ce&&oe(ee.key));const be=G.current;if(ee.target!==be||!W$.includes(ee.key))return;ee.preventDefault();const Re=D().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);vN.includes(ee.key)&&Re.reverse(),h9(Re)}),onBlur:Ke(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(V.current),Y.current="")}),onPointerMove:Ke(e.onPointerMove,gd(ee=>{const le=ee.target,F=M.current!==ee.clientX;if(ee.currentTarget.contains(le)&&F){const K=ee.clientX>M.current?"right":"left";re.current=K,M.current=ee.clientX}}))})})})})})})});kN.displayName=Qr;var i9="MenuGroup",Q0=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(at.div,{role:"group",...r,ref:t})});Q0.displayName=i9;var o9="MenuLabel",SN=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(at.div,{...r,ref:t})});SN.displayName=o9;var ep="MenuItem",e1="menu.itemSelect",Wp=j.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,l=j.useRef(null),c=Od(ep,e.__scopeMenu),u=Y0(ep,e.__scopeMenu),f=At(t,l),m=j.useRef(!1),y=()=>{const g=l.current;if(!n&&g){const E=new CustomEvent(e1,{bubbles:!0,cancelable:!0});g.addEventListener(e1,_=>r==null?void 0:r(_),{once:!0}),d0(g,E),E.defaultPrevented?m.current=!1:c.onClose()}};return p.jsx(CN,{...i,ref:f,disabled:n,onClick:Ke(e.onClick,y),onPointerDown:g=>{var E;(E=e.onPointerDown)==null||E.call(e,g),m.current=!0},onPointerUp:Ke(e.onPointerUp,g=>{var E;m.current||(E=g.currentTarget)==null||E.click()}),onKeyDown:Ke(e.onKeyDown,g=>{const E=u.searchRef.current!=="";n||E&&g.key===" "||hv.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Wp.displayName=ep;var CN=j.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...l}=e,c=Y0(ep,n),u=xN(n),f=j.useRef(null),m=At(t,f),[y,g]=j.useState(!1),[E,_]=j.useState("");return j.useEffect(()=>{const k=f.current;k&&_((k.textContent??"").trim())},[l.children]),p.jsx(md.ItemSlot,{scope:n,disabled:r,textValue:i??E,children:p.jsx(B0,{asChild:!0,...u,focusable:!r,children:p.jsx(at.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:m,onPointerMove:Ke(e.onPointerMove,gd(k=>{r?c.onItemLeave(k):(c.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(e.onPointerLeave,gd(k=>c.onItemLeave(k))),onFocus:Ke(e.onFocus,()=>g(!0)),onBlur:Ke(e.onBlur,()=>g(!1))})})})}),s9="MenuCheckboxItem",NN=j.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return p.jsx(RN,{scope:e.__scopeMenu,checked:n,children:p.jsx(Wp,{role:"menuitemcheckbox","aria-checked":tp(n)?"mixed":n,...i,ref:t,"data-state":ew(n),onSelect:Ke(i.onSelect,()=>r==null?void 0:r(tp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});NN.displayName=s9;var PN="MenuRadioGroup",[a9,l9]=il(PN,{value:void 0,onValueChange:()=>{}}),TN=j.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,l=mr(r);return p.jsx(a9,{scope:e.__scopeMenu,value:n,onValueChange:l,children:p.jsx(Q0,{...i,ref:t})})});TN.displayName=PN;var jN="MenuRadioItem",AN=j.forwardRef((e,t)=>{const{value:n,...r}=e,i=l9(jN,e.__scopeMenu),l=n===i.value;return p.jsx(RN,{scope:e.__scopeMenu,checked:l,children:p.jsx(Wp,{role:"menuitemradio","aria-checked":l,...r,ref:t,"data-state":ew(l),onSelect:Ke(r.onSelect,()=>{var c;return(c=i.onValueChange)==null?void 0:c.call(i,n)},{checkForDefaultPrevented:!1})})})});AN.displayName=jN;var X0="MenuItemIndicator",[RN,c9]=il(X0,{checked:!1}),IN=j.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,l=c9(X0,n);return p.jsx(Ar,{present:r||tp(l.checked)||l.checked===!0,children:p.jsx(at.span,{...i,ref:t,"data-state":ew(l.checked)})})});IN.displayName=X0;var u9="MenuSeparator",LN=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return p.jsx(at.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});LN.displayName=u9;var d9="MenuArrow",ON=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Hp(n);return p.jsx($S,{...i,...r,ref:t})});ON.displayName=d9;var f9="MenuSub",[iH,MN]=il(f9),Ku="MenuSubTrigger",zN=j.forwardRef((e,t)=>{const n=ol(Ku,e.__scopeMenu),r=Od(Ku,e.__scopeMenu),i=MN(Ku,e.__scopeMenu),l=Y0(Ku,e.__scopeMenu),c=j.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=l,m={__scopeMenu:e.__scopeMenu},y=j.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return j.useEffect(()=>y,[y]),j.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),f(null)}},[u,f]),p.jsx(K0,{asChild:!0,...m,children:p.jsx(CN,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":FN(n.open),...e,ref:Cp(t,i.onTriggerChange),onClick:g=>{var E;(E=e.onClick)==null||E.call(e,g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ke(e.onPointerMove,gd(g=>{l.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:Ke(e.onPointerLeave,gd(g=>{var _,k;y();const E=(_=n.content)==null?void 0:_.getBoundingClientRect();if(E){const w=(k=n.content)==null?void 0:k.dataset.side,b=w==="right",S=b?-5:5,P=E[b?"left":"right"],R=E[b?"right":"left"];l.onPointerGraceIntentChange({area:[{x:g.clientX+S,y:g.clientY},{x:P,y:E.top},{x:R,y:E.top},{x:R,y:E.bottom},{x:P,y:E.bottom}],side:w}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(g),g.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(e.onKeyDown,g=>{var _;const E=l.searchRef.current!=="";e.disabled||E&&g.key===" "||V$[r.dir].includes(g.key)&&(n.onOpenChange(!0),(_=n.content)==null||_.focus(),g.preventDefault())})})})});zN.displayName=Ku;var DN="MenuSubContent",BN=j.forwardRef((e,t)=>{const n=bN(Qr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,l=ol(Qr,e.__scopeMenu),c=Od(Qr,e.__scopeMenu),u=MN(DN,e.__scopeMenu),f=j.useRef(null),m=At(t,f);return p.jsx(md.Provider,{scope:e.__scopeMenu,children:p.jsx(Ar,{present:r||l.open,children:p.jsx(md.Slot,{scope:e.__scopeMenu,children:p.jsx(J0,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var g;c.isUsingKeyboardRef.current&&((g=f.current)==null||g.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Ke(e.onFocusOutside,y=>{y.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ke(e.onEscapeKeyDown,y=>{c.onClose(),y.preventDefault()}),onKeyDown:Ke(e.onKeyDown,y=>{var _;const g=y.currentTarget.contains(y.target),E=q$[c.dir].includes(y.key);g&&E&&(l.onOpenChange(!1),(_=u.trigger)==null||_.focus(),y.preventDefault())})})})})})});BN.displayName=DN;function FN(e){return e?"open":"closed"}function tp(e){return e==="indeterminate"}function ew(e){return tp(e)?"indeterminate":e?"checked":"unchecked"}function h9(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function p9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function m9(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=p9(e,Math.max(l,0));i.length===1&&(c=c.filter(m=>m!==n));const f=c.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function g9(e,t){const{x:n,y:r}=e;let i=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const u=t[l],f=t[c],m=u.x,y=u.y,g=f.x,E=f.y;y>r!=E>r&&n<(g-m)*(r-y)/(E-y)+m&&(i=!i)}return i}function y9(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return g9(n,t)}function gd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var v9=_N,w9=K0,x9=EN,_9=kN,b9=Q0,E9=SN,k9=Wp,S9=NN,C9=TN,N9=AN,P9=IN,T9=LN,j9=ON,A9=zN,R9=BN,Vp="DropdownMenu",[I9,oH]=nr(Vp,[wN]),rr=wN(),[L9,UN]=I9(Vp),$N=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:l,onOpenChange:c,modal:u=!0}=e,f=rr(t),m=j.useRef(null),[y,g]=Mo({prop:i,defaultProp:l??!1,onChange:c,caller:Vp});return p.jsx(L9,{scope:t,triggerId:$s(),triggerRef:m,contentId:$s(),open:y,onOpenChange:g,onOpenToggle:j.useCallback(()=>g(E=>!E),[g]),modal:u,children:p.jsx(v9,{...f,open:y,onOpenChange:g,dir:r,modal:u,children:n})})};$N.displayName=Vp;var ZN="DropdownMenuTrigger",HN=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,l=UN(ZN,n),c=rr(n);return p.jsx(w9,{asChild:!0,...c,children:p.jsx(at.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Cp(t,l.triggerRef),onPointerDown:Ke(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(l.onOpenToggle(),l.open||u.preventDefault())}),onKeyDown:Ke(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&l.onOpenToggle(),u.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});HN.displayName=ZN;var O9="DropdownMenuPortal",WN=e=>{const{__scopeDropdownMenu:t,...n}=e,r=rr(t);return p.jsx(x9,{...r,...n})};WN.displayName=O9;var VN="DropdownMenuContent",qN=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=UN(VN,n),l=rr(n),c=j.useRef(!1);return p.jsx(_9,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...r,ref:t,onCloseAutoFocus:Ke(e.onCloseAutoFocus,u=>{var f;c.current||(f=i.triggerRef.current)==null||f.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:Ke(e.onInteractOutside,u=>{const f=u.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,y=f.button===2||m;(!i.modal||y)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qN.displayName=VN;var M9="DropdownMenuGroup",z9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return p.jsx(b9,{...i,...r,ref:t})});z9.displayName=M9;var D9="DropdownMenuLabel",KN=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return p.jsx(E9,{...i,...r,ref:t})});KN.displayName=D9;var B9="DropdownMenuItem",GN=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return p.jsx(k9,{...i,...r,ref:t})});GN.displayName=B9;var F9="DropdownMenuCheckboxItem",YN=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return p.jsx(S9,{...i,...r,ref:t})});YN.displayName=F9;var U9="DropdownMenuRadioGroup",$9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return p.jsx(C9,{...i,...r,ref:t})});$9.displayName=U9;var Z9="DropdownMenuRadioItem",JN=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return p.jsx(N9,{...i,...r,ref:t})});JN.displayName=Z9;var H9="DropdownMenuItemIndicator",QN=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return p.jsx(P9,{...i,...r,ref:t})});QN.displayName=H9;var W9="DropdownMenuSeparator",XN=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return p.jsx(T9,{...i,...r,ref:t})});XN.displayName=W9;var V9="DropdownMenuArrow",q9=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return p.jsx(j9,{...i,...r,ref:t})});q9.displayName=V9;var K9="DropdownMenuSubTrigger",eP=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return p.jsx(A9,{...i,...r,ref:t})});eP.displayName=K9;var G9="DropdownMenuSubContent",tP=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return p.jsx(R9,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tP.displayName=G9;var Y9=$N,J9=HN,Q9=WN,nP=qN,rP=KN,iP=GN,oP=YN,sP=JN,aP=QN,lP=XN,cP=eP,uP=tP;const X9=Y9,e7=J9,t7=j.forwardRef(({className:e,inset:t,children:n,...r},i)=>p.jsxs(cP,{ref:i,className:lt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,p.jsx(Y8,{className:"ml-auto h-4 w-4"})]}));t7.displayName=cP.displayName;const n7=j.forwardRef(({className:e,...t},n)=>p.jsx(uP,{ref:n,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));n7.displayName=uP.displayName;const dP=j.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(Q9,{children:p.jsx(nP,{ref:r,sideOffset:t,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));dP.displayName=nP.displayName;const Nh=j.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(iP,{ref:r,className:lt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Nh.displayName=iP.displayName;const r7=j.forwardRef(({className:e,children:t,checked:n,...r},i)=>p.jsxs(oP,{ref:i,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(aP,{children:p.jsx(G8,{className:"h-4 w-4"})})}),t]}));r7.displayName=oP.displayName;const i7=j.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(sP,{ref:r,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(aP,{children:p.jsx(iS,{className:"h-2 w-2 fill-current"})})}),t]}));i7.displayName=sP.displayName;const o7=j.forwardRef(({className:e,inset:t,...n},r)=>p.jsx(rP,{ref:r,className:lt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));o7.displayName=rP.displayName;const fP=j.forwardRef(({className:e,...t},n)=>p.jsx(lP,{ref:n,className:lt("-mx-1 my-1 h-px bg-muted",e),...t}));fP.displayName=lP.displayName;var sy={exports:{}},ay={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function s7(){if(t1)return ay;t1=1;var e=ip();function t(g,E){return g===E&&(g!==0||1/g===1/E)||g!==g&&E!==E}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(g,E){var _=E(),k=r({inst:{value:_,getSnapshot:E}}),w=k[0].inst,b=k[1];return l(function(){w.value=_,w.getSnapshot=E,f(w)&&b({inst:w})},[g,_,E]),i(function(){return f(w)&&b({inst:w}),g(function(){f(w)&&b({inst:w})})},[g]),c(_),_}function f(g){var E=g.getSnapshot;g=g.value;try{var _=E();return!n(g,_)}catch{return!0}}function m(g,E){return E()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return ay.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,ay}var n1;function a7(){return n1||(n1=1,sy.exports=s7()),sy.exports}var l7=a7();function c7(){return l7.useSyncExternalStore(u7,()=>!0,()=>!1)}function u7(){return()=>{}}var tw="Avatar",[d7,sH]=nr(tw),[f7,hP]=d7(tw),pP=j.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,l]=j.useState("idle");return p.jsx(f7,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:p.jsx(at.span,{...r,ref:t})})});pP.displayName=tw;var mP="AvatarImage",gP=j.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...l}=e,c=hP(mP,n),u=h7(r,l),f=mr(m=>{i(m),c.onImageLoadingStatusChange(m)});return jr(()=>{u!=="idle"&&f(u)},[u,f]),u==="loaded"?p.jsx(at.img,{...l,ref:t,src:r}):null});gP.displayName=mP;var yP="AvatarFallback",vP=j.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,l=hP(yP,n),[c,u]=j.useState(r===void 0);return j.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(f)}},[r]),c&&l.imageLoadingStatus!=="loaded"?p.jsx(at.span,{...i,ref:t}):null});vP.displayName=yP;function r1(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function h7(e,{referrerPolicy:t,crossOrigin:n}){const r=c7(),i=j.useRef(null),l=r?(i.current||(i.current=new window.Image),i.current):null,[c,u]=j.useState(()=>r1(l,e));return jr(()=>{u(r1(l,e))},[l,e]),jr(()=>{const f=g=>()=>{u(g)};if(!l)return;const m=f("loaded"),y=f("error");return l.addEventListener("load",m),l.addEventListener("error",y),t&&(l.referrerPolicy=t),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",m),l.removeEventListener("error",y)}},[l,n,t]),c}var wP=pP,xP=gP,_P=vP;const yd=j.forwardRef(({className:e,...t},n)=>p.jsx(wP,{ref:n,className:lt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));yd.displayName=wP.displayName;const pv=j.forwardRef(({className:e,...t},n)=>p.jsx(xP,{ref:n,className:lt("aspect-square h-full w-full object-cover",e),...t}));pv.displayName=xP.displayName;const vd=j.forwardRef(({className:e,...t},n)=>p.jsx(_P,{ref:n,className:lt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));vd.displayName=_P.displayName;function bP(e){const t=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let c=0;c<e.length;c++){const u=e.charCodeAt(c);r=(r<<5)-r+u,r=r&r}const i=Math.abs(r)%t.length,l=Math.abs(r>>8)%n.length;return[t[i],n[l]].join(" ")}function p7({onAddAccountClick:e}){const{currentUser:t,otherUsers:n,setLogin:r,removeLogin:i}=yN();if(!t)return null;const l=c=>c.metadata.name??bP(c.pubkey);return p.jsxs(X9,{modal:!1,children:[p.jsx(e7,{asChild:!0,children:p.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[p.jsxs(yd,{className:"w-10 h-10",children:[p.jsx(pv,{src:t.metadata.picture,alt:l(t)}),p.jsx(vd,{children:l(t).charAt(0)})]}),p.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:p.jsx("p",{className:"font-medium text-sm truncate",children:l(t)})}),p.jsx(rS,{className:"w-4 h-4 text-muted-foreground"})]})}),p.jsxs(dP,{className:"w-56 p-2 animate-scale-in",children:[p.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(c=>{var u;return p.jsxs(Nh,{onClick:()=>r(c.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[p.jsxs(yd,{className:"w-8 h-8",children:[p.jsx(pv,{src:c.metadata.picture,alt:l(c)}),p.jsx(vd,{children:((u=l(c))==null?void 0:u.charAt(0))||p.jsx(Zh,{})})]}),p.jsx("div",{className:"flex-1 truncate",children:p.jsx("p",{className:"text-sm font-medium",children:l(c)})}),c.id===t.id&&p.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},c.id)}),p.jsx(fP,{}),p.jsxs(Nh,{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[p.jsx(d6,{className:"w-4 h-4"}),p.jsx("span",{children:"Add another account"})]}),p.jsxs(Nh,{onClick:()=>i(t.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[p.jsx(i6,{className:"w-4 h-4"}),p.jsx("span",{children:"Log out"})]})]})]})}function mv({className:e}){const{currentUser:t}=yN(),[n,r]=j.useState(!1),[i,l]=j.useState(!1),c=()=>{r(!1),l(!1)};return p.jsxs("div",{className:lt("inline-flex items-center justify-center",e),children:[t?p.jsx(p7,{onAddAccountClick:()=>r(!0)}):p.jsxs("div",{className:"flex gap-3 justify-center",children:[p.jsx(qe,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:p.jsx("span",{className:"truncate",children:"Log in"})}),p.jsx(qe,{onClick:()=>l(!0),variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all",children:p.jsx("span",{children:"Sign up"})})]}),p.jsx($$,{isOpen:n,onClose:()=>r(!1),onLogin:c}),p.jsx(Z$,{isOpen:i,onClose:()=>l(!1)})]})}function m7(){const e=rl(),t=n=>e.pathname===n;return p.jsx("nav",{className:"border-b bg-background/80 backdrop-blur sticky top-0 z-50",children:p.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx(ln,{to:"/",className:"text-xl font-bold tracking-tight",children:"DeadDropstr"}),p.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[p.jsx(qe,{asChild:!0,variant:t("/")?"secondary":"ghost",size:"sm",children:p.jsxs(ln,{to:"/",children:[p.jsx(e6,{className:"h-4 w-4 mr-1"}),"Home"]})}),p.jsx(qe,{asChild:!0,variant:t("/marketplace")?"secondary":"ghost",size:"sm",children:p.jsxs(ln,{to:"/marketplace",children:[p.jsx(ad,{className:"h-4 w-4 mr-1"}),"Marketplace"]})}),p.jsx(qe,{asChild:!0,variant:t("/my-lockers")?"secondary":"ghost",size:"sm",children:p.jsxs(ln,{to:"/my-lockers",children:[p.jsx(Hi,{className:"h-4 w-4 mr-1"}),"My Lockers"]})}),p.jsx(qe,{asChild:!0,variant:t("/proxy-drops")?"secondary":"ghost",size:"sm",children:p.jsxs(ln,{to:"/proxy-drops",children:[p.jsx(ed,{className:"h-4 w-4 mr-1"}),"Proxy Drops"]})}),p.jsx(qe,{asChild:!0,variant:t("/dashboard")?"secondary":"ghost",size:"sm",children:p.jsxs(ln,{to:"/dashboard",children:[p.jsx(Eh,{className:"h-4 w-4 mr-1"}),"Host"]})}),p.jsx(qe,{asChild:!0,variant:t("/messages")?"secondary":"ghost",size:"sm",children:p.jsxs(ln,{to:"/messages",children:[p.jsx(m0,{className:"h-4 w-4 mr-1"}),"Messages"]})})]})]}),p.jsx(mv,{className:"max-w-60"})]})})}const _t=j.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:lt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));_t.displayName="Card";const Zt=j.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:lt("flex flex-col space-y-1.5 p-6",e),...t}));Zt.displayName="CardHeader";const Ht=j.forwardRef(({className:e,...t},n)=>p.jsx("h3",{ref:n,className:lt("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ht.displayName="CardTitle";const er=j.forwardRef(({className:e,...t},n)=>p.jsx("p",{ref:n,className:lt("text-sm text-muted-foreground",e),...t}));er.displayName="CardDescription";const St=j.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:lt("p-6 pt-0",e),...t}));St.displayName="CardContent";const Oa=j.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:lt("flex items-center p-6 pt-0",e),...t}));Oa.displayName="CardFooter";const g7=Td("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function gn({className:e,variant:t,...n}){return p.jsx("div",{className:lt(g7({variant:t}),e),...n})}var y7="Label",EP=j.forwardRef((e,t)=>p.jsx(at.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));EP.displayName=y7;var kP=EP;const v7=Td("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),an=j.forwardRef(({className:e,...t},n)=>p.jsx(kP,{ref:n,className:lt(v7(),e),...t}));an.displayName=kP.displayName;var w7="Separator",i1="horizontal",x7=["horizontal","vertical"],SP=j.forwardRef((e,t)=>{const{decorative:n,orientation:r=i1,...i}=e,l=_7(r)?r:i1,u=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return p.jsx(at.div,{"data-orientation":l,...u,...i,ref:t})});SP.displayName=w7;function _7(e){return x7.includes(e)}var CP=SP;const vo=j.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>p.jsx(CP,{ref:i,decorative:n,orientation:t,className:lt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));vo.displayName=CP.displayName;const o1=[{id:"1",dTag:"locker-sf-001",name:"Mission District Secure Box",description:"24/7 accessible smart locker in secure building. Camera monitored. Perfect for package exchanges and dead drops. Located in a well-lit area with foot traffic.",price:500,geohash:"9q8yyz",address:"2490 Mission St, San Francisco, CA 94110",city:"San Francisco",state:"CA",owner:"npub1owner1...",dimensions:"40x50x60 cm",features:["24/7 Access","Camera Monitored","Climate Controlled","NFC Unlock"],availability:"Available now"},{id:"2",dTag:"locker-nyc-001",name:"Brooklyn Heights Drop",description:"Street-level locker in residential neighborhood. Well-lit and discreet. Great for quick exchanges.",price:750,geohash:"9q8yyk",address:"145 Columbia Heights, Brooklyn, NY 11201",city:"New York",state:"NY",owner:"npub1owner2...",dimensions:"35x45x55 cm",features:["Ground Floor","Discreet Location","QR Code Access"],availability:"Available now"}];function b7(){const{dTag:e}=A0(),t=cC(),{toast:n}=tl(),[r,i]=j.useState("details"),[l,c]=j.useState(24),[u,f]=j.useState(!1),m=o1.find(k=>k.dTag===e)||o1[0],y=m.price*l,g=()=>{n({title:"Payment received!",description:"Generating your access credentials..."}),setTimeout(()=>i("confirmation"),1500)},E=k=>{navigator.clipboard.writeText(k),f(!0),setTimeout(()=>f(!1),2e3),n({title:"Copied to clipboard"})},_=Math.random().toString(36).substring(2,8).toUpperCase();return p.jsx("div",{className:"min-h-screen bg-background",children:p.jsxs("div",{className:"container mx-auto p-4 max-w-2xl",children:[p.jsxs(qe,{variant:"ghost",className:"mb-4 -ml-4",onClick:()=>t(-1),children:[p.jsx(nS,{className:"h-4 w-4 mr-2"}),"Back"]}),r==="details"&&p.jsx(p.Fragment,{children:p.jsxs(_t,{children:[p.jsx(Zt,{children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx(Ht,{className:"text-2xl",children:m.name}),p.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[p.jsx(Bc,{className:"h-4 w-4"}),p.jsxs("span",{children:[m.city,", ",m.state]})]})]}),p.jsx(gn,{variant:"secondary",children:m.availability})]})}),p.jsxs(St,{className:"space-y-6",children:[p.jsx("p",{className:"text-muted-foreground",children:m.description}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[p.jsx(Hi,{className:"h-4 w-4"}),p.jsx("span",{className:"text-sm",children:"Dimensions"})]}),p.jsx("p",{className:"font-medium",children:m.dimensions})]}),p.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[p.jsx(oS,{className:"h-4 w-4"}),p.jsx("span",{className:"text-sm",children:"Hourly Rate"})]}),p.jsxs("p",{className:"font-medium",children:[m.price," sats"]})]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium mb-2",children:"Features"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:m.features.map(k=>p.jsx(gn,{variant:"outline",children:k},k))})]}),p.jsx(vo,{}),p.jsxs("div",{className:"bg-primary/5 border border-primary/20 p-4 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(ed,{className:"h-5 w-5 text-primary"}),p.jsx("span",{className:"font-medium",children:"Secure Dead Drop"})]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"This locker uses end-to-end encryption. Only you and the recipient (if specified) will have access to the contents."})]})]}),p.jsx(Oa,{children:p.jsx(qe,{size:"lg",className:"w-full",onClick:()=>i("duration"),children:"Rent This Locker"})})]})}),r==="duration"&&p.jsxs(_t,{children:[p.jsx(Zt,{children:p.jsx(Ht,{children:"Select Rental Duration"})}),p.jsxs(St,{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs(an,{children:["Rental Hours: ",l," hrs"]}),p.jsx("input",{type:"range",min:"1",max:"168",value:l,onChange:k=>c(parseInt(k.target.value)),className:"w-full"}),p.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[p.jsx("span",{children:"1 hour"}),p.jsx("span",{children:"1 week (168 hrs)"})]})]}),p.jsx(vo,{}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Hourly rate"}),p.jsxs("span",{children:[m.price," sats"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Duration"}),p.jsxs("span",{children:[l," hours"]})]}),p.jsx(vo,{}),p.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[p.jsx("span",{children:"Total"}),p.jsxs("span",{children:[y.toLocaleString()," sats"]})]}),p.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[" $",(y/5e4).toFixed(2)," USD"]})]})]}),p.jsxs(Oa,{className:"flex gap-2",children:[p.jsx(qe,{variant:"outline",className:"flex-1",onClick:()=>i("details"),children:"Back"}),p.jsx(qe,{className:"flex-1",onClick:()=>i("payment"),children:"Continue to Payment"})]})]}),r==="payment"&&p.jsxs(_t,{children:[p.jsx(Zt,{children:p.jsx(Ht,{children:"Complete Payment"})}),p.jsxs(St,{className:"space-y-6",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-48 h-48 bg-muted mx-auto rounded-lg flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx(Ap,{className:"h-12 w-12 mx-auto text-primary mb-2"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Mock Payment"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"(Placeholder)"})]})}),p.jsxs("div",{children:[p.jsxs("p",{className:"text-2xl font-bold",children:[y.toLocaleString()," sats"]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan to pay with Lightning"})]})]}),p.jsx(vo,{}),p.jsx("div",{className:"bg-muted p-4 rounded-lg",children:p.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'This is a demo. Click "Simulate Payment" to see the confirmation flow.'})})]}),p.jsxs(Oa,{className:"flex gap-2",children:[p.jsx(qe,{variant:"outline",className:"flex-1",onClick:()=>i("duration"),children:"Back"}),p.jsx(qe,{className:"flex-1",onClick:g,children:"Simulate Payment"})]})]}),r==="confirmation"&&p.jsxs(_t,{className:"border-green-500/50 bg-green-50/50",children:[p.jsx(Zt,{children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:p.jsx(Hg,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{children:[p.jsx(Ht,{children:"Rental Confirmed!"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Your locker is ready"})]})]})}),p.jsxs(St,{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-4",children:[p.jsxs("div",{children:[p.jsx(an,{className:"text-muted-foreground",children:"Locker Address"}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx("p",{className:"font-mono text-sm",children:m.address}),p.jsx(qe,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>E(m.address),children:u?p.jsx(Hg,{className:"h-4 w-4"}):p.jsx(ab,{className:"h-4 w-4"})})]})]}),p.jsx(vo,{}),p.jsxs("div",{children:[p.jsx(an,{className:"text-muted-foreground",children:"Access Code"}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx("div",{className:"bg-black text-white px-4 py-2 rounded font-mono text-lg tracking-widest",children:_}),p.jsx(qe,{size:"icon",variant:"ghost",className:"h-10 w-10",onClick:()=>E(_),children:u?p.jsx(Hg,{className:"h-4 w-4"}):p.jsx(ab,{className:"h-4 w-4"})})]}),p.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Enter this code on the locker keypad or scan NFC"})]}),p.jsx(vo,{}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[p.jsx(t6,{className:"h-4 w-4"}),p.jsxs("span",{children:["Valid for ",l," hours from now"]})]})]}),p.jsx("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:p.jsxs("p",{className:"text-sm text-blue-800",children:[p.jsx("strong",{children:"Next Steps:"})," Go to the locker location and enter your access code. You can share this code with someone else for a dead drop exchange."]})})]}),p.jsx(Oa,{children:p.jsx(qe,{className:"w-full",onClick:()=>t("/marketplace"),children:"Back to Marketplace"})})]})]})})}function NP(e,[t,n]){return Math.min(n,Math.max(t,e))}function nw(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var PP=["PageUp","PageDown"],TP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Wc="Slider",[gv,E7,k7]=Np(Wc),[AP,aH]=nr(Wc,[k7]),[S7,qp]=AP(Wc),RP=j.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:l=1,orientation:c="horizontal",disabled:u=!1,minStepsBetweenThumbs:f=0,defaultValue:m=[r],value:y,onValueChange:g=()=>{},onValueCommit:E=()=>{},inverted:_=!1,form:k,...w}=e,b=j.useRef(new Set),S=j.useRef(0),R=c==="horizontal"?C7:N7,[D=[],B]=Mo({prop:y,defaultProp:m,onChange:Q=>{var re;(re=[...b.current][S.current])==null||re.focus(),g(Q)}}),q=j.useRef(D);function G(Q){const U=R7(D,Q);Y(Q,U)}function J(Q){Y(Q,S.current)}function V(){const Q=q.current[S.current];D[S.current]!==Q&&E(D)}function Y(Q,U,{commit:re}={commit:!1}){const M=M7(l),W=z7(Math.round((Q-r)/l)*l+r,M),ae=NP(W,[r,i]);B((oe=[])=>{const ne=j7(oe,ae,U);if(O7(ne,f*l)){S.current=ne.indexOf(ae);const ee=String(ne)!==String(oe);return ee&&re&&E(ne),ee?ne:oe}else return oe})}return p.jsx(S7,{scope:e.__scopeSlider,name:n,disabled:u,min:r,max:i,valueIndexToChangeRef:S,thumbs:b.current,values:D,orientation:c,form:k,children:p.jsx(gv.Provider,{scope:e.__scopeSlider,children:p.jsx(gv.Slot,{scope:e.__scopeSlider,children:p.jsx(R,{"aria-disabled":u,"data-disabled":u?"":void 0,...w,ref:t,onPointerDown:Ke(w.onPointerDown,()=>{u||(q.current=D)}),min:r,max:i,inverted:_,onSlideStart:u?void 0:G,onSlideMove:u?void 0:J,onSlideEnd:u?void 0:V,onHomeKeyDown:()=>!u&&Y(r,0,{commit:!0}),onEndKeyDown:()=>!u&&Y(i,D.length-1,{commit:!0}),onStepKeyDown:({event:Q,direction:U})=>{if(!u){const W=PP.includes(Q.key)||Q.shiftKey&&TP.includes(Q.key)?10:1,ae=S.current,oe=D[ae],ne=l*W*U;Y(oe+ne,ae,{commit:!0})}}})})})})});RP.displayName=Wc;var[IP,LP]=AP(Wc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),C7=j.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:l,onSlideStart:c,onSlideMove:u,onSlideEnd:f,onStepKeyDown:m,...y}=e,[g,E]=j.useState(null),_=At(t,R=>E(R)),k=j.useRef(void 0),w=Rd(i),b=w==="ltr",S=b&&!l||!b&&l;function P(R){const D=k.current||g.getBoundingClientRect(),B=[0,D.width],G=rw(B,S?[n,r]:[r,n]);return k.current=D,G(R-D.left)}return p.jsx(IP,{scope:e.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:p.jsx(OP,{dir:w,"data-orientation":"horizontal",...y,ref:_,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:R=>{const D=P(R.clientX);c==null||c(D)},onSlideMove:R=>{const D=P(R.clientX);u==null||u(D)},onSlideEnd:()=>{k.current=void 0,f==null||f()},onStepKeyDown:R=>{const B=jP[S?"from-left":"from-right"].includes(R.key);m==null||m({event:R,direction:B?-1:1})}})})}),N7=j.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:f,...m}=e,y=j.useRef(null),g=At(t,y),E=j.useRef(void 0),_=!i;function k(w){const b=E.current||y.current.getBoundingClientRect(),S=[0,b.height],R=rw(S,_?[r,n]:[n,r]);return E.current=b,R(w-b.top)}return p.jsx(IP,{scope:e.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:p.jsx(OP,{"data-orientation":"vertical",...m,ref:g,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const b=k(w.clientY);l==null||l(b)},onSlideMove:w=>{const b=k(w.clientY);c==null||c(b)},onSlideEnd:()=>{E.current=void 0,u==null||u()},onStepKeyDown:w=>{const S=jP[_?"from-bottom":"from-top"].includes(w.key);f==null||f({event:w,direction:S?-1:1})}})})}),OP=j.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:u,onStepKeyDown:f,...m}=e,y=qp(Wc,n);return p.jsx(at.span,{...m,ref:t,onKeyDown:Ke(e.onKeyDown,g=>{g.key==="Home"?(c(g),g.preventDefault()):g.key==="End"?(u(g),g.preventDefault()):PP.concat(TP).includes(g.key)&&(f(g),g.preventDefault())}),onPointerDown:Ke(e.onPointerDown,g=>{const E=g.target;E.setPointerCapture(g.pointerId),g.preventDefault(),y.thumbs.has(E)?E.focus():r(g)}),onPointerMove:Ke(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:Ke(e.onPointerUp,g=>{const E=g.target;E.hasPointerCapture(g.pointerId)&&(E.releasePointerCapture(g.pointerId),l(g))})})}),MP="SliderTrack",zP=j.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=qp(MP,n);return p.jsx(at.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});zP.displayName=MP;var yv="SliderRange",DP=j.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=qp(yv,n),l=LP(yv,n),c=j.useRef(null),u=At(t,c),f=i.values.length,m=i.values.map(E=>UP(E,i.min,i.max)),y=f>1?Math.min(...m):0,g=100-Math.max(...m);return p.jsx(at.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:u,style:{...e.style,[l.startEdge]:y+"%",[l.endEdge]:g+"%"}})});DP.displayName=yv;var vv="SliderThumb",BP=j.forwardRef((e,t)=>{const n=E7(e.__scopeSlider),[r,i]=j.useState(null),l=At(t,u=>i(u)),c=j.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return p.jsx(P7,{...e,ref:l,index:c})}),P7=j.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...l}=e,c=qp(vv,n),u=LP(vv,n),[f,m]=j.useState(null),y=At(t,P=>m(P)),g=f?c.form||!!f.closest("form"):!0,E=Op(f),_=c.values[r],k=_===void 0?0:UP(_,c.min,c.max),w=A7(r,c.values.length),b=E==null?void 0:E[u.size],S=b?I7(b,k,u.direction):0;return j.useEffect(()=>{if(f)return c.thumbs.add(f),()=>{c.thumbs.delete(f)}},[f,c.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${k}% + ${S}px)`},children:[p.jsx(gv.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(at.span,{role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":c.min,"aria-valuenow":_,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:y,style:_===void 0?{display:"none"}:e.style,onFocus:Ke(e.onFocus,()=>{c.valueIndexToChangeRef.current=r})})}),g&&p.jsx(FP,{name:i??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:_},r)]})});BP.displayName=vv;var T7="RadioBubbleInput",FP=j.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=j.useRef(null),l=At(i,r),c=nw(t);return j.useEffect(()=>{const u=i.current;if(!u)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&y){const g=new Event("input",{bubbles:!0});y.call(u,t),u.dispatchEvent(g)}},[c,t]),p.jsx(at.input,{style:{display:"none"},...n,ref:l,defaultValue:t})});FP.displayName=T7;function j7(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,l)=>i-l)}function UP(e,t,n){const l=100/(n-t)*(e-t);return NP(l,[0,100])}function A7(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function R7(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function I7(e,t,n){const r=e/2,l=rw([0,50],[0,r]);return(r-l(t)*n)*n}function L7(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function O7(e,t){if(t>0){const n=L7(e);return Math.min(...n)>=t}return!0}function rw(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function M7(e){return(String(e).split(".")[1]||"").length}function z7(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var $P=RP,D7=zP,B7=DP,F7=BP;const ZP=j.forwardRef(({className:e,...t},n)=>p.jsxs($P,{ref:n,className:lt("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx(D7,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(B7,{className:"absolute h-full bg-primary"})}),p.jsx(F7,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ZP.displayName=$P.displayName;var Gu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var U7=Gu.exports,s1;function $7(){return s1||(s1=1,function(e,t){(function(n,r){r(t)})(U7,function(n){var r="1.9.4";function i(s){var d,v,C,O;for(v=1,C=arguments.length;v<C;v++){O=arguments[v];for(d in O)s[d]=O[d]}return s}var l=Object.create||function(){function s(){}return function(d){return s.prototype=d,new s}}();function c(s,d){var v=Array.prototype.slice;if(s.bind)return s.bind.apply(s,v.call(arguments,1));var C=v.call(arguments,2);return function(){return s.apply(d,C.length?C.concat(v.call(arguments)):arguments)}}var u=0;function f(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function m(s,d,v){var C,O,H,ce;return ce=function(){C=!1,O&&(H.apply(v,O),O=!1)},H=function(){C?O=arguments:(s.apply(v,arguments),setTimeout(ce,d),C=!0)},H}function y(s,d,v){var C=d[1],O=d[0],H=C-O;return s===C&&v?s:((s-O)%H+H)%H+O}function g(){return!1}function E(s,d){if(d===!1)return s;var v=Math.pow(10,d===void 0?6:d);return Math.round(s*v)/v}function _(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function k(s){return _(s).split(/\s+/)}function w(s,d){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?l(s.options):{});for(var v in d)s.options[v]=d[v];return s.options}function b(s,d,v){var C=[];for(var O in s)C.push(encodeURIComponent(v?O.toUpperCase():O)+"="+encodeURIComponent(s[O]));return(!d||d.indexOf("?")===-1?"?":"&")+C.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function P(s,d){return s.replace(S,function(v,C){var O=d[C];if(O===void 0)throw new Error("No value provided for variable "+v);return typeof O=="function"&&(O=O(d)),O})}var R=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function D(s,d){for(var v=0;v<s.length;v++)if(s[v]===d)return v;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var G=0;function J(s){var d=+new Date,v=Math.max(0,16-(d-G));return G=d+v,window.setTimeout(s,v)}var V=window.requestAnimationFrame||q("RequestAnimationFrame")||J,Y=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Q(s,d,v){if(v&&V===J)s.call(d);else return V.call(window,c(s,d))}function U(s){s&&Y.call(window,s)}var re={__proto__:null,extend:i,create:l,bind:c,get lastId(){return u},stamp:f,throttle:m,wrapNum:y,falseFn:g,formatNum:E,trim:_,splitWords:k,setOptions:w,getParamString:b,template:P,isArray:R,indexOf:D,emptyImageUrl:B,requestFn:V,cancelFn:Y,requestAnimFrame:Q,cancelAnimFrame:U};function M(){}M.extend=function(s){var d=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=d.__super__=this.prototype,C=l(v);C.constructor=d,d.prototype=C;for(var O in this)Object.prototype.hasOwnProperty.call(this,O)&&O!=="prototype"&&O!=="__super__"&&(d[O]=this[O]);return s.statics&&i(d,s.statics),s.includes&&(W(s.includes),i.apply(null,[C].concat(s.includes))),i(C,s),delete C.statics,delete C.includes,C.options&&(C.options=v.options?l(v.options):{},i(C.options,s.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var H=0,ce=C._initHooks.length;H<ce;H++)C._initHooks[H].call(this)}},d},M.include=function(s){var d=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=d,this.mergeOptions(s.options)),this},M.mergeOptions=function(s){return i(this.prototype.options,s),this},M.addInitHook=function(s){var d=Array.prototype.slice.call(arguments,1),v=typeof s=="function"?s:function(){this[s].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function W(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=R(s)?s:[s];for(var d=0;d<s.length;d++)s[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(s,d,v){if(typeof s=="object")for(var C in s)this._on(C,s[C],d);else{s=k(s);for(var O=0,H=s.length;O<H;O++)this._on(s[O],d,v)}return this},off:function(s,d,v){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var C in s)this._off(C,s[C],d);else{s=k(s);for(var O=arguments.length===1,H=0,ce=s.length;H<ce;H++)O?this._off(s[H]):this._off(s[H],d,v)}return this},_on:function(s,d,v,C){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(s,d,v)===!1){v===this&&(v=void 0);var O={fn:d,ctx:v};C&&(O.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(O)}},_off:function(s,d,v){var C,O,H;if(this._events&&(C=this._events[s],!!C)){if(arguments.length===1){if(this._firingCount)for(O=0,H=C.length;O<H;O++)C[O].fn=g;delete this._events[s];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var ce=this._listens(s,d,v);if(ce!==!1){var ge=C[ce];this._firingCount&&(ge.fn=g,this._events[s]=C=C.slice()),C.splice(ce,1)}}},fire:function(s,d,v){if(!this.listens(s,v))return this;var C=i({},d,{type:s,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var O=this._events[s];if(O){this._firingCount=this._firingCount+1||1;for(var H=0,ce=O.length;H<ce;H++){var ge=O[H],_e=ge.fn;ge.once&&this.off(s,_e,ge.ctx),_e.call(ge.ctx||this,C)}this._firingCount--}}return v&&this._propagateEvent(C),this},listens:function(s,d,v,C){typeof s!="string"&&console.warn('"string" type argument expected');var O=d;typeof d!="function"&&(C=!!d,O=void 0,v=void 0);var H=this._events&&this._events[s];if(H&&H.length&&this._listens(s,O,v)!==!1)return!0;if(C){for(var ce in this._eventParents)if(this._eventParents[ce].listens(s,d,v,C))return!0}return!1},_listens:function(s,d,v){if(!this._events)return!1;var C=this._events[s]||[];if(!d)return!!C.length;v===this&&(v=void 0);for(var O=0,H=C.length;O<H;O++)if(C[O].fn===d&&C[O].ctx===v)return O;return!1},once:function(s,d,v){if(typeof s=="object")for(var C in s)this._on(C,s[C],d,!0);else{s=k(s);for(var O=0,H=s.length;O<H;O++)this._on(s[O],d,v,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[f(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[f(s)],this},_propagateEvent:function(s){for(var d in this._eventParents)this._eventParents[d].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var oe=M.extend(ae);function ne(s,d,v){this.x=v?Math.round(s):s,this.y=v?Math.round(d):d}var ee=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(s){return this.clone()._add(le(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(le(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ne(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ne(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(s){s=le(s);var d=s.x-this.x,v=s.y-this.y;return Math.sqrt(d*d+v*v)},equals:function(s){return s=le(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=le(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function le(s,d,v){return s instanceof ne?s:R(s)?new ne(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ne(s.x,s.y):new ne(s,d,v)}function F(s,d){if(s)for(var v=d?[s,d]:s,C=0,O=v.length;C<O;C++)this.extend(v[C])}F.prototype={extend:function(s){var d,v;if(!s)return this;if(s instanceof ne||typeof s[0]=="number"||"x"in s)d=v=le(s);else if(s=K(s),d=s.min,v=s.max,!d||!v)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=v.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(s){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var d,v;return typeof s[0]=="number"||s instanceof ne?s=le(s):s=K(s),s instanceof F?(d=s.min,v=s.max):d=v=s,d.x>=this.min.x&&v.x<=this.max.x&&d.y>=this.min.y&&v.y<=this.max.y},intersects:function(s){s=K(s);var d=this.min,v=this.max,C=s.min,O=s.max,H=O.x>=d.x&&C.x<=v.x,ce=O.y>=d.y&&C.y<=v.y;return H&&ce},overlaps:function(s){s=K(s);var d=this.min,v=this.max,C=s.min,O=s.max,H=O.x>d.x&&C.x<v.x,ce=O.y>d.y&&C.y<v.y;return H&&ce},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var d=this.min,v=this.max,C=Math.abs(d.x-v.x)*s,O=Math.abs(d.y-v.y)*s;return K(le(d.x-C,d.y-O),le(v.x+C,v.y+O))},equals:function(s){return s?(s=K(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function K(s,d){return!s||s instanceof F?s:new F(s,d)}function Ce(s,d){if(s)for(var v=d?[s,d]:s,C=0,O=v.length;C<O;C++)this.extend(v[C])}Ce.prototype={extend:function(s){var d=this._southWest,v=this._northEast,C,O;if(s instanceof we)C=s,O=s;else if(s instanceof Ce){if(C=s._southWest,O=s._northEast,!C||!O)return this}else return s?this.extend(Re(s)||be(s)):this;return!d&&!v?(this._southWest=new we(C.lat,C.lng),this._northEast=new we(O.lat,O.lng)):(d.lat=Math.min(C.lat,d.lat),d.lng=Math.min(C.lng,d.lng),v.lat=Math.max(O.lat,v.lat),v.lng=Math.max(O.lng,v.lng)),this},pad:function(s){var d=this._southWest,v=this._northEast,C=Math.abs(d.lat-v.lat)*s,O=Math.abs(d.lng-v.lng)*s;return new Ce(new we(d.lat-C,d.lng-O),new we(v.lat+C,v.lng+O))},getCenter:function(){return new we((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new we(this.getNorth(),this.getWest())},getSouthEast:function(){return new we(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof we||"lat"in s?s=Re(s):s=be(s);var d=this._southWest,v=this._northEast,C,O;return s instanceof Ce?(C=s.getSouthWest(),O=s.getNorthEast()):C=O=s,C.lat>=d.lat&&O.lat<=v.lat&&C.lng>=d.lng&&O.lng<=v.lng},intersects:function(s){s=be(s);var d=this._southWest,v=this._northEast,C=s.getSouthWest(),O=s.getNorthEast(),H=O.lat>=d.lat&&C.lat<=v.lat,ce=O.lng>=d.lng&&C.lng<=v.lng;return H&&ce},overlaps:function(s){s=be(s);var d=this._southWest,v=this._northEast,C=s.getSouthWest(),O=s.getNorthEast(),H=O.lat>d.lat&&C.lat<v.lat,ce=O.lng>d.lng&&C.lng<v.lng;return H&&ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,d){return s?(s=be(s),this._southWest.equals(s.getSouthWest(),d)&&this._northEast.equals(s.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function be(s,d){return s instanceof Ce?s:new Ce(s,d)}function we(s,d,v){if(isNaN(s)||isNaN(d))throw new Error("Invalid LatLng object: ("+s+", "+d+")");this.lat=+s,this.lng=+d,v!==void 0&&(this.alt=+v)}we.prototype={equals:function(s,d){if(!s)return!1;s=Re(s);var v=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return v<=(d===void 0?1e-9:d)},toString:function(s){return"LatLng("+E(this.lat,s)+", "+E(this.lng,s)+")"},distanceTo:function(s){return De.distance(this,Re(s))},wrap:function(){return De.wrapLatLng(this)},toBounds:function(s){var d=180*s/40075017,v=d/Math.cos(Math.PI/180*this.lat);return be([this.lat-d,this.lng-v],[this.lat+d,this.lng+v])},clone:function(){return new we(this.lat,this.lng,this.alt)}};function Re(s,d,v){return s instanceof we?s:R(s)&&typeof s[0]!="object"?s.length===3?new we(s[0],s[1],s[2]):s.length===2?new we(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new we(s.lat,"lng"in s?s.lng:s.lon,s.alt):d===void 0?null:new we(s,d,v)}var Ue={latLngToPoint:function(s,d){var v=this.projection.project(s),C=this.scale(d);return this.transformation._transform(v,C)},pointToLatLng:function(s,d){var v=this.scale(d),C=this.transformation.untransform(s,v);return this.projection.unproject(C)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var d=this.projection.bounds,v=this.scale(s),C=this.transformation.transform(d.min,v),O=this.transformation.transform(d.max,v);return new F(C,O)},infinite:!1,wrapLatLng:function(s){var d=this.wrapLng?y(s.lng,this.wrapLng,!0):s.lng,v=this.wrapLat?y(s.lat,this.wrapLat,!0):s.lat,C=s.alt;return new we(v,d,C)},wrapLatLngBounds:function(s){var d=s.getCenter(),v=this.wrapLatLng(d),C=d.lat-v.lat,O=d.lng-v.lng;if(C===0&&O===0)return s;var H=s.getSouthWest(),ce=s.getNorthEast(),ge=new we(H.lat-C,H.lng-O),_e=new we(ce.lat-C,ce.lng-O);return new Ce(ge,_e)}},De=i({},Ue,{wrapLng:[-180,180],R:6371e3,distance:function(s,d){var v=Math.PI/180,C=s.lat*v,O=d.lat*v,H=Math.sin((d.lat-s.lat)*v/2),ce=Math.sin((d.lng-s.lng)*v/2),ge=H*H+Math.cos(C)*Math.cos(O)*ce*ce,_e=2*Math.atan2(Math.sqrt(ge),Math.sqrt(1-ge));return this.R*_e}}),Fe=6378137,it={R:Fe,MAX_LATITUDE:85.0511287798,project:function(s){var d=Math.PI/180,v=this.MAX_LATITUDE,C=Math.max(Math.min(v,s.lat),-v),O=Math.sin(C*d);return new ne(this.R*s.lng*d,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(s){var d=180/Math.PI;return new we((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*d,s.x*d/this.R)},bounds:function(){var s=Fe*Math.PI;return new F([-s,-s],[s,s])}()};function wt(s,d,v,C){if(R(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=d,this._c=v,this._d=C}wt.prototype={transform:function(s,d){return this._transform(s.clone(),d)},_transform:function(s,d){return d=d||1,s.x=d*(this._a*s.x+this._b),s.y=d*(this._c*s.y+this._d),s},untransform:function(s,d){return d=d||1,new ne((s.x/d-this._b)/this._a,(s.y/d-this._d)/this._c)}};function Rt(s,d,v,C){return new wt(s,d,v,C)}var ht=i({},De,{code:"EPSG:3857",projection:it,transformation:function(){var s=.5/(Math.PI*it.R);return Rt(s,.5,-s,.5)}()}),z=i({},ht,{code:"EPSG:900913"});function Ne(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function ke(s,d){var v="",C,O,H,ce,ge,_e;for(C=0,H=s.length;C<H;C++){for(ge=s[C],O=0,ce=ge.length;O<ce;O++)_e=ge[O],v+=(O?"L":"M")+_e.x+" "+_e.y;v+=d?Xe.svg?"z":"x":""}return v||"M0 0"}var ie=document.documentElement.style,te="ActiveXObject"in window,pe=te&&!document.addEventListener,Te="msLaunchUri"in navigator&&!("documentMode"in document),je=In("webkit"),me=In("android"),Me=In("android 2")||In("android 3"),He=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Oe=me&&In("Google")&&He<537&&!("AudioNode"in window),Qe=!!window.opera,Z=!Te&&In("chrome"),T=In("gecko")&&!je&&!Qe&&!te,I=!Z&&In("safari"),X=In("phantom"),fe="OTransition"in ie,xe=navigator.platform.indexOf("Win")===0,Se=te&&"transition"in ie,ct="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Me,Ot="MozPerspective"in ie,vt=!window.L_DISABLE_3D&&(Se||ct||Ot)&&!fe&&!X,Ct=typeof orientation<"u"||In("mobile"),Nt=Ct&&je,na=Ct&&ct,zo=!window.PointerEvent&&window.MSPointerEvent,Rr=!!(window.PointerEvent||zo),Wn="ontouchstart"in window||!!window.TouchEvent,qi=!window.L_NO_TOUCH&&(Wn||Rr),Md=Ct&&Qe,zd=Ct&&T,Dd=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Bd=function(){var s=!1;try{var d=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",g,d),window.removeEventListener("testPassiveEventSupport",g,d)}catch{}return s}(),Vc=function(){return!!document.createElement("canvas").getContext}(),al=!!(document.createElementNS&&Ne("svg").createSVGRect),ra=!!al&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),qc=!al&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var d=s.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),ia=navigator.platform.indexOf("Mac")===0,Yp=navigator.platform.indexOf("Linux")===0;function In(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Xe={ie:te,ielt9:pe,edge:Te,webkit:je,android:me,android23:Me,androidStock:Oe,opera:Qe,chrome:Z,gecko:T,safari:I,phantom:X,opera12:fe,win:xe,ie3d:Se,webkit3d:ct,gecko3d:Ot,any3d:vt,mobile:Ct,mobileWebkit:Nt,mobileWebkit3d:na,msPointer:zo,pointer:Rr,touch:qi,touchNative:Wn,mobileOpera:Md,mobileGecko:zd,retina:Dd,passiveEvents:Bd,canvas:Vc,svg:al,vml:qc,inlineSvg:ra,mac:ia,linux:Yp},oa=Xe.msPointer?"MSPointerDown":"pointerdown",ll=Xe.msPointer?"MSPointerMove":"pointermove",Fd=Xe.msPointer?"MSPointerUp":"pointerup",Ud=Xe.msPointer?"MSPointerCancel":"pointercancel",Kc={touchstart:oa,touchmove:ll,touchend:Fd,touchcancel:Ud},xi={touchstart:nn,touchmove:cl,touchend:cl,touchcancel:cl},Ki={},Gc=!1;function Jp(s,d,v){return d==="touchstart"&&Qp(),xi[d]?(v=xi[d].bind(this,v),s.addEventListener(Kc[d],v,!1),v):(console.warn("wrong event specified:",d),g)}function $d(s,d,v){if(!Kc[d]){console.warn("wrong event specified:",d);return}s.removeEventListener(Kc[d],v,!1)}function Zd(s){Ki[s.pointerId]=s}function Hd(s){Ki[s.pointerId]&&(Ki[s.pointerId]=s)}function Yc(s){delete Ki[s.pointerId]}function Qp(){Gc||(document.addEventListener(oa,Zd,!0),document.addEventListener(ll,Hd,!0),document.addEventListener(Fd,Yc,!0),document.addEventListener(Ud,Yc,!0),Gc=!0)}function cl(s,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var v in Ki)d.touches.push(Ki[v]);d.changedTouches=[d],s(d)}}function nn(s,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&rn(d),cl(s,d)}function Xp(s){var d={},v,C;for(C in s)v=s[C],d[C]=v&&v.bind?v.bind(s):v;return s=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Jc=200;function Wd(s,d){s.addEventListener("dblclick",d);var v=0,C;function O(H){if(H.detail!==1){C=H.detail;return}if(!(H.pointerType==="mouse"||H.sourceCapabilities&&!H.sourceCapabilities.firesTouchEvents)){var ce=Ji(H);if(!(ce.some(function(_e){return _e instanceof HTMLLabelElement&&_e.attributes.for})&&!ce.some(function(_e){return _e instanceof HTMLInputElement||_e instanceof HTMLSelectElement}))){var ge=Date.now();ge-v<=Jc?(C++,C===2&&d(Xp(H))):C=1,v=ge}}}return s.addEventListener("click",O),{dblclick:d,simDblclick:O}}function ul(s,d){s.removeEventListener("dblclick",d.dblclick),s.removeEventListener("click",d.simDblclick)}var Qc=Uo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Do=Uo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),sa=Do==="webkitTransition"||Do==="OTransition"?Do+"End":"transitionend";function yr(s){return typeof s=="string"?document.getElementById(s):s}function aa(s,d){var v=s.style[d]||s.currentStyle&&s.currentStyle[d];if((!v||v==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(s,null);v=C?C[d]:null}return v==="auto"?null:v}function pt(s,d,v){var C=document.createElement(s);return C.className=d||"",v&&v.appendChild(C),C}function qt(s){var d=s.parentNode;d&&d.removeChild(s)}function dl(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Bo(s){var d=s.parentNode;d&&d.lastChild!==s&&d.appendChild(s)}function ti(s){var d=s.parentNode;d&&d.firstChild!==s&&d.insertBefore(s,d.firstChild)}function Fo(s,d){if(s.classList!==void 0)return s.classList.contains(d);var v=fl(s);return v.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(v)}function ft(s,d){if(s.classList!==void 0)for(var v=k(d),C=0,O=v.length;C<O;C++)s.classList.add(v[C]);else if(!Fo(s,d)){var H=fl(s);Xc(s,(H?H+" ":"")+d)}}function Wt(s,d){s.classList!==void 0?s.classList.remove(d):Xc(s,_((" "+fl(s)+" ").replace(" "+d+" "," ")))}function Xc(s,d){s.className.baseVal===void 0?s.className=d:s.className.baseVal=d}function fl(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ln(s,d){"opacity"in s.style?s.style.opacity=d:"filter"in s.style&&Vd(s,d)}function Vd(s,d){var v=!1,C="DXImageTransform.Microsoft.Alpha";try{v=s.filters.item(C)}catch{if(d===1)return}d=Math.round(d*100),v?(v.Enabled=d!==100,v.Opacity=d):s.style.filter+=" progid:"+C+"(opacity="+d+")"}function Uo(s){for(var d=document.documentElement.style,v=0;v<s.length;v++)if(s[v]in d)return s[v];return!1}function vr(s,d,v){var C=d||new ne(0,0);s.style[Qc]=(Xe.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(v?" scale("+v+")":"")}function un(s,d){s._leaflet_pos=d,Xe.any3d?vr(s,d):(s.style.left=d.x+"px",s.style.top=d.y+"px")}function ni(s){return s._leaflet_pos||new ne(0,0)}var Pt,$o,hl;if("onselectstart"in document)Pt=function(){ut(window,"selectstart",rn)},$o=function(){Ft(window,"selectstart",rn)};else{var Gi=Uo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pt=function(){if(Gi){var s=document.documentElement.style;hl=s[Gi],s[Gi]="none"}},$o=function(){Gi&&(document.documentElement.style[Gi]=hl,hl=void 0)}}function pl(){ut(window,"dragstart",rn)}function ml(){Ft(window,"dragstart",rn)}var la,ca;function Zo(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(wr(),la=s,ca=s.style.outlineStyle,s.style.outlineStyle="none",ut(window,"keydown",wr))}function wr(){la&&(la.style.outlineStyle=ca,la=void 0,ca=void 0,Ft(window,"keydown",wr))}function ri(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ir(s){var d=s.getBoundingClientRect();return{x:d.width/s.offsetWidth||1,y:d.height/s.offsetHeight||1,boundingClientRect:d}}var ua={__proto__:null,TRANSFORM:Qc,TRANSITION:Do,TRANSITION_END:sa,get:yr,getStyle:aa,create:pt,remove:qt,empty:dl,toFront:Bo,toBack:ti,hasClass:Fo,addClass:ft,removeClass:Wt,setClass:Xc,getClass:fl,setOpacity:Ln,testProp:Uo,setTransform:vr,setPosition:un,getPosition:ni,get disableTextSelection(){return Pt},get enableTextSelection(){return $o},disableImageDrag:pl,enableImageDrag:ml,preventOutline:Zo,restoreOutline:wr,getSizedParentNode:ri,getScale:Ir};function ut(s,d,v,C){if(d&&typeof d=="object")for(var O in d)tu(s,O,d[O],v);else{d=k(d);for(var H=0,ce=d.length;H<ce;H++)tu(s,d[H],v,C)}return this}var xn="_leaflet_events";function Ft(s,d,v,C){if(arguments.length===1)eu(s),delete s[xn];else if(d&&typeof d=="object")for(var O in d)gl(s,O,d[O],v);else if(d=k(d),arguments.length===2)eu(s,function(ge){return D(d,ge)!==-1});else for(var H=0,ce=d.length;H<ce;H++)gl(s,d[H],v,C);return this}function eu(s,d){for(var v in s[xn]){var C=v.split(/\d/)[0];(!d||d(C))&&gl(s,C,null,null,v)}}var Yi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function tu(s,d,v,C){var O=d+f(v)+(C?"_"+f(C):"");if(s[xn]&&s[xn][O])return this;var H=function(ge){return v.call(C||s,ge||window.event)},ce=H;!Xe.touchNative&&Xe.pointer&&d.indexOf("touch")===0?H=Jp(s,d,H):Xe.touch&&d==="dblclick"?H=Wd(s,H):"addEventListener"in s?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?s.addEventListener(Yi[d]||d,H,Xe.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(H=function(ge){ge=ge||window.event,ha(s,ge)&&ce(ge)},s.addEventListener(Yi[d],H,!1)):s.addEventListener(d,ce,!1):s.attachEvent("on"+d,H),s[xn]=s[xn]||{},s[xn][O]=H}function gl(s,d,v,C,O){O=O||d+f(v)+(C?"_"+f(C):"");var H=s[xn]&&s[xn][O];if(!H)return this;!Xe.touchNative&&Xe.pointer&&d.indexOf("touch")===0?$d(s,d,H):Xe.touch&&d==="dblclick"?ul(s,H):"removeEventListener"in s?s.removeEventListener(Yi[d]||d,H,!1):s.detachEvent("on"+d,H),s[xn][O]=null}function Lr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function yl(s){return tu(s,"wheel",Lr),this}function da(s){return ut(s,"mousedown touchstart dblclick contextmenu",Lr),s._leaflet_disable_click=!0,this}function rn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function xr(s){return rn(s),Lr(s),this}function Ji(s){if(s.composedPath)return s.composedPath();for(var d=[],v=s.target;v;)d.push(v),v=v.parentNode;return d}function fa(s,d){if(!d)return new ne(s.clientX,s.clientY);var v=Ir(d),C=v.boundingClientRect;return new ne((s.clientX-C.left)/v.x-d.clientLeft,(s.clientY-C.top)/v.y-d.clientTop)}var em=Xe.linux&&Xe.chrome?window.devicePixelRatio:Xe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qd(s){return Xe.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/em:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ha(s,d){var v=d.relatedTarget;if(!v)return!0;try{for(;v&&v!==s;)v=v.parentNode}catch{return!1}return v!==s}var vl={__proto__:null,on:ut,off:Ft,stopPropagation:Lr,disableScrollPropagation:yl,disableClickPropagation:da,preventDefault:rn,stop:xr,getPropagationPath:Ji,getMousePosition:fa,getWheelDelta:qd,isExternalTarget:ha,addListener:ut,removeListener:Ft},wl=oe.extend({run:function(s,d,v,C){this.stop(),this._el=s,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=ni(s),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Q(this._animate,this),this._step()},_step:function(s){var d=+new Date-this._startTime,v=this._duration*1e3;d<v?this._runFrame(this._easeOut(d/v),s):(this._runFrame(1),this._complete())},_runFrame:function(s,d){var v=this._startPos.add(this._offset.multiplyBy(s));d&&v._round(),un(this._el,v),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Et=oe.extend({options:{crs:ht,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,d){d=w(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(Re(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Do&&Xe.any3d&&!Xe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ut(this._proxy,sa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,d,v){if(d=d===void 0?this._zoom:this._limitZoom(d),s=this._limitCenter(Re(s),d,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=i({animate:v.animate},v.zoom),v.pan=i({animate:v.animate,duration:v.duration},v.pan));var C=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,d,v.zoom):this._tryAnimatedPan(s,v.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(s,d,v.pan&&v.pan.noMoveStart),this},setZoom:function(s,d){return this._loaded?this.setView(this.getCenter(),s,{zoom:d}):(this._zoom=s,this)},zoomIn:function(s,d){return s=s||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,d)},zoomOut:function(s,d){return s=s||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,d)},setZoomAround:function(s,d,v){var C=this.getZoomScale(d),O=this.getSize().divideBy(2),H=s instanceof ne?s:this.latLngToContainerPoint(s),ce=H.subtract(O).multiplyBy(1-1/C),ge=this.containerPointToLatLng(O.add(ce));return this.setView(ge,d,{zoom:v})},_getBoundsCenterZoom:function(s,d){d=d||{},s=s.getBounds?s.getBounds():be(s);var v=le(d.paddingTopLeft||d.padding||[0,0]),C=le(d.paddingBottomRight||d.padding||[0,0]),O=this.getBoundsZoom(s,!1,v.add(C));if(O=typeof d.maxZoom=="number"?Math.min(d.maxZoom,O):O,O===1/0)return{center:s.getCenter(),zoom:O};var H=C.subtract(v).divideBy(2),ce=this.project(s.getSouthWest(),O),ge=this.project(s.getNorthEast(),O),_e=this.unproject(ce.add(ge).divideBy(2).add(H),O);return{center:_e,zoom:O}},fitBounds:function(s,d){if(s=be(s),!s.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(s,d);return this.setView(v.center,v.zoom,d)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,d){return this.setView(s,this._zoom,{pan:d})},panBy:function(s,d){if(s=le(s).round(),d=d||{},!s.x&&!s.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){ft(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,v,d.duration||.25,d.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,d,v){if(v=v||{},v.animate===!1||!Xe.any3d)return this.setView(s,d,v);this._stop();var C=this.project(this.getCenter()),O=this.project(s),H=this.getSize(),ce=this._zoom;s=Re(s),d=d===void 0?ce:d;var ge=Math.max(H.x,H.y),_e=ge*this.getZoomScale(ce,d),Ae=O.distanceTo(C)||1,Ze=1.42,rt=Ze*Ze;function gt(zt){var is=zt?-1:1,pm=zt?_e:ge,mm=_e*_e-ge*ge+is*rt*rt*Ae*Ae,io=2*pm*rt*Ae,oo=mm/io,so=Math.sqrt(oo*oo+1)-oo,Il=so<1e-9?-18:Math.log(so);return Il}function _n(zt){return(Math.exp(zt)-Math.exp(-zt))/2}function yn(zt){return(Math.exp(zt)+Math.exp(-zt))/2}function Kn(zt){return _n(zt)/yn(zt)}var Mn=gt(0);function ns(zt){return ge*(yn(Mn)/yn(Mn+Ze*zt))}function bu(zt){return ge*(yn(Mn)*Kn(Mn+Ze*zt)-_n(Mn))/rt}function Pi(zt){return 1-Math.pow(1-zt,1.5)}var mf=Date.now(),ro=(gt(1)-Mn)/Ze,Dr=v.duration?1e3*v.duration:1e3*ro*.8;function rs(){var zt=(Date.now()-mf)/Dr,is=Pi(zt)*ro;zt<=1?(this._flyToFrame=Q(rs,this),this._move(this.unproject(C.add(O.subtract(C).multiplyBy(bu(is)/Ae)),ce),this.getScaleZoom(ge/ns(is),ce),{flyTo:!0})):this._move(s,d)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),rs.call(this),this},flyToBounds:function(s,d){var v=this._getBoundsCenterZoom(s,d);return this.flyTo(v.center,v.zoom,d)},setMaxBounds:function(s){return s=be(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var d=this.options.minZoom;return this.options.minZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var d=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,d){this._enforcingBounds=!0;var v=this.getCenter(),C=this._limitCenter(v,this._zoom,be(s));return v.equals(C)||this.panTo(C,d),this._enforcingBounds=!1,this},panInside:function(s,d){d=d||{};var v=le(d.paddingTopLeft||d.padding||[0,0]),C=le(d.paddingBottomRight||d.padding||[0,0]),O=this.project(this.getCenter()),H=this.project(s),ce=this.getPixelBounds(),ge=K([ce.min.add(v),ce.max.subtract(C)]),_e=ge.getSize();if(!ge.contains(H)){this._enforcingBounds=!0;var Ae=H.subtract(ge.getCenter()),Ze=ge.extend(H).getSize().subtract(_e);O.x+=Ae.x<0?-Ze.x:Ze.x,O.y+=Ae.y<0?-Ze.y:Ze.y,this.panTo(this.unproject(O),d),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),C=d.divideBy(2).round(),O=v.divideBy(2).round(),H=C.subtract(O);return!H.x&&!H.y?this:(s.animate&&s.pan?this.panBy(H):(s.pan&&this._rawPanBy(H),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=c(this._handleGeolocationResponse,this),v=c(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,v,s):navigator.geolocation.getCurrentPosition(d,v,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var d=s.code,v=s.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var d=s.coords.latitude,v=s.coords.longitude,C=new we(d,v),O=C.toBounds(s.coords.accuracy*2),H=this._locateOptions;if(H.setView){var ce=this.getBoundsZoom(O);this.setView(C,H.maxZoom?Math.min(ce,H.maxZoom):ce)}var ge={latlng:C,bounds:O,timestamp:s.timestamp};for(var _e in s.coords)typeof s.coords[_e]=="number"&&(ge[_e]=s.coords[_e]);this.fire("locationfound",ge)}},addHandler:function(s,d){if(!d)return this;var v=this[s]=new d(this);return this._handlers.push(v),this.options[s]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)qt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,d){var v="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),C=pt("div",v,d||this._mapPane);return s&&(this._panes[s]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),d=this.unproject(s.getBottomLeft()),v=this.unproject(s.getTopRight());return new Ce(d,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,d,v){s=be(s),v=le(v||[0,0]);var C=this.getZoom()||0,O=this.getMinZoom(),H=this.getMaxZoom(),ce=s.getNorthWest(),ge=s.getSouthEast(),_e=this.getSize().subtract(v),Ae=K(this.project(ge,C),this.project(ce,C)).getSize(),Ze=Xe.any3d?this.options.zoomSnap:1,rt=_e.x/Ae.x,gt=_e.y/Ae.y,_n=d?Math.max(rt,gt):Math.min(rt,gt);return C=this.getScaleZoom(_n,C),Ze&&(C=Math.round(C/(Ze/100))*(Ze/100),C=d?Math.ceil(C/Ze)*Ze:Math.floor(C/Ze)*Ze),Math.max(O,Math.min(H,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,d){var v=this._getTopLeftPoint(s,d);return new F(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,d){var v=this.options.crs;return d=d===void 0?this._zoom:d,v.scale(s)/v.scale(d)},getScaleZoom:function(s,d){var v=this.options.crs;d=d===void 0?this._zoom:d;var C=v.zoom(s*v.scale(d));return isNaN(C)?1/0:C},project:function(s,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(Re(s),d)},unproject:function(s,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(le(s),d)},layerPointToLatLng:function(s){var d=le(s).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(s){var d=this.project(Re(s))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Re(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(be(s))},distance:function(s,d){return this.options.crs.distance(Re(s),Re(d))},containerPointToLayerPoint:function(s){return le(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return le(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var d=this.containerPointToLayerPoint(le(s));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Re(s)))},mouseEventToContainerPoint:function(s){return fa(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var d=this._container=yr(s);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ut(d,"scroll",this._onScroll,this),this._containerId=f(d)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Xe.any3d,ft(s,"leaflet-container"+(Xe.touch?" leaflet-touch":"")+(Xe.retina?" leaflet-retina":"")+(Xe.ielt9?" leaflet-oldie":"")+(Xe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=aa(s,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),un(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ft(s.markerPane,"leaflet-zoom-hide"),ft(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,d,v){un(this._mapPane,new ne(0,0));var C=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var O=this._zoom!==d;this._moveStart(O,v)._move(s,d)._moveEnd(O),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(s,d){return s&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(s,d,v,C){d===void 0&&(d=this._zoom);var O=this._zoom!==d;return this._zoom=d,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),C?v&&v.pinch&&this.fire("zoom",v):((O||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){un(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[f(this._container)]=this;var d=s?Ft:ut;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Xe.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=Q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,d){for(var v=[],C,O=d==="mouseout"||d==="mouseover",H=s.target||s.srcElement,ce=!1;H;){if(C=this._targets[f(H)],C&&(d==="click"||d==="preclick")&&this._draggableMoved(C)){ce=!0;break}if(C&&C.listens(d,!0)&&(O&&!ha(H,s)||(v.push(C),O))||H===this._container)break;H=H.parentNode}return!v.length&&!ce&&!O&&this.listens(d,!0)&&(v=[this]),v},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var d=s.target||s.srcElement;if(!(!this._loaded||d._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(d))){var v=s.type;v==="mousedown"&&Zo(d),this._fireDOMEvent(s,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,d,v){if(s.type==="click"){var C=i({},s);C.type="preclick",this._fireDOMEvent(C,C.type,v)}var O=this._findEventTargets(s,d);if(v){for(var H=[],ce=0;ce<v.length;ce++)v[ce].listens(d,!0)&&H.push(v[ce]);O=H.concat(O)}if(O.length){d==="contextmenu"&&rn(s);var ge=O[0],_e={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Ae=ge.getLatLng&&(!ge._radius||ge._radius<=10);_e.containerPoint=Ae?this.latLngToContainerPoint(ge.getLatLng()):this.mouseEventToContainerPoint(s),_e.layerPoint=this.containerPointToLayerPoint(_e.containerPoint),_e.latlng=Ae?ge.getLatLng():this.layerPointToLatLng(_e.layerPoint)}for(ce=0;ce<O.length;ce++)if(O[ce].fire(d,_e,!0),_e.originalEvent._stopped||O[ce].options.bubblingMouseEvents===!1&&D(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,d=this._handlers.length;s<d;s++)this._handlers[s].disable()},whenReady:function(s,d){return this._loaded?s.call(d||this,{target:this}):this.on("load",s,d),this},_getMapPanePos:function(){return ni(this._mapPane)||new ne(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,d){var v=s&&d!==void 0?this._getNewPixelOrigin(s,d):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,d){var v=this.getSize()._divideBy(2);return this.project(s,d)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,d,v){var C=this._getNewPixelOrigin(v,d);return this.project(s,d)._subtract(C)},_latLngBoundsToNewLayerBounds:function(s,d,v){var C=this._getNewPixelOrigin(v,d);return K([this.project(s.getSouthWest(),d)._subtract(C),this.project(s.getNorthWest(),d)._subtract(C),this.project(s.getSouthEast(),d)._subtract(C),this.project(s.getNorthEast(),d)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,d,v){if(!v)return s;var C=this.project(s,d),O=this.getSize().divideBy(2),H=new F(C.subtract(O),C.add(O)),ce=this._getBoundsOffset(H,v,d);return Math.abs(ce.x)<=1&&Math.abs(ce.y)<=1?s:this.unproject(C.add(ce),d)},_limitOffset:function(s,d){if(!d)return s;var v=this.getPixelBounds(),C=new F(v.min.add(s),v.max.add(s));return s.add(this._getBoundsOffset(C,d))},_getBoundsOffset:function(s,d,v){var C=K(this.project(d.getNorthEast(),v),this.project(d.getSouthWest(),v)),O=C.min.subtract(s.min),H=C.max.subtract(s.max),ce=this._rebound(O.x,-H.x),ge=this._rebound(O.y,-H.y);return new ne(ce,ge)},_rebound:function(s,d){return s+d>0?Math.round(s-d)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(d))},_limitZoom:function(s){var d=this.getMinZoom(),v=this.getMaxZoom(),C=Xe.any3d?this.options.zoomSnap:1;return C&&(s=Math.round(s/C)*C),Math.max(d,Math.min(v,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,d){var v=this._getCenterOffset(s)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,d),!0)},_createAnimProxy:function(){var s=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(d){var v=Qc,C=this._proxy.style[v];vr(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),C===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),d=this.getZoom();vr(this._proxy,this.project(s,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,d,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(d),O=this._getCenterOffset(s)._divideBy(1-1/C);return v.animate!==!0&&!this.getSize().contains(O)?!1:(Q(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(s,d,!0)},this),!0)},_animateZoom:function(s,d,v,C){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=d,ft(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:d,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _i(s,d){return new Et(s,d)}var Vn=M.extend({options:{position:"topright"},initialize:function(s){w(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var d=this._map;return d&&d.removeControl(this),this.options.position=s,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var d=this._container=this.onAdd(s),v=this.getPosition(),C=s._controlCorners[v];return ft(d,"leaflet-control"),v.indexOf("bottom")!==-1?C.insertBefore(d,C.firstChild):C.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),bi=function(s){return new Vn(s)};Et.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},d="leaflet-",v=this._controlContainer=pt("div",d+"control-container",this._container);function C(O,H){var ce=d+O+" "+d+H;s[O+H]=pt("div",ce,v)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)qt(this._controlCorners[s]);qt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var nu=Vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,d,v,C){return v<C?-1:C<v?1:0}},initialize:function(s,d,v){w(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in s)this._addLayer(s[C],C);for(C in d)this._addLayer(d[C],C,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Vn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,d){return this._addLayer(s,d),this._map?this._update():this},addOverlay:function(s,d){return this._addLayer(s,d,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var d=this._getLayer(f(s));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){ft(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ft(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",d=this._container=pt("div",s),v=this.options.collapsed;d.setAttribute("aria-haspopup",!0),da(d),yl(d);var C=this._section=pt("section",s+"-list");v&&(this._map.on("click",this.collapse,this),ut(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=pt("a",s+"-toggle",d);O.href="#",O.title="Layers",O.setAttribute("role","button"),ut(O,{keydown:function(H){H.keyCode===13&&this._expandSafely()},click:function(H){rn(H),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=pt("div",s+"-base",C),this._separator=pt("div",s+"-separator",C),this._overlaysList=pt("div",s+"-overlays",C),d.appendChild(C)},_getLayer:function(s){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&f(this._layers[d].layer)===s)return this._layers[d]},_addLayer:function(s,d,v){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:d,overlay:v}),this.options.sortLayers&&this._layers.sort(c(function(C,O){return this.options.sortFunction(C.layer,O.layer,C.name,O.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;dl(this._baseLayersList),dl(this._overlaysList),this._layerControlInputs=[];var s,d,v,C,O=0;for(v=0;v<this._layers.length;v++)C=this._layers[v],this._addItem(C),d=d||C.overlay,s=s||!C.overlay,O+=C.overlay?0:1;return this.options.hideSingleBase&&(s=s&&O>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=d&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var d=this._getLayer(f(s.target)),v=d.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;v&&this._map.fire(v,d)},_createRadioElement:function(s,d){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(d?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=v,C.firstChild},_addItem:function(s){var d=document.createElement("label"),v=this._map.hasLayer(s.layer),C;s.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=v):C=this._createRadioElement("leaflet-base-layers_"+f(this),v),this._layerControlInputs.push(C),C.layerId=f(s.layer),ut(C,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+s.name;var H=document.createElement("span");d.appendChild(H),H.appendChild(C),H.appendChild(O);var ce=s.overlay?this._overlaysList:this._baseLayersList;return ce.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,d,v,C=[],O=[];this._handlingClick=!0;for(var H=s.length-1;H>=0;H--)d=s[H],v=this._getLayer(d.layerId).layer,d.checked?C.push(v):d.checked||O.push(v);for(H=0;H<O.length;H++)this._map.hasLayer(O[H])&&this._map.removeLayer(O[H]);for(H=0;H<C.length;H++)this._map.hasLayer(C[H])||this._map.addLayer(C[H]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,d,v,C=this._map.getZoom(),O=s.length-1;O>=0;O--)d=s[O],v=this._getLayer(d.layerId).layer,d.disabled=v.options.minZoom!==void 0&&C<v.options.minZoom||v.options.maxZoom!==void 0&&C>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ut(s,"click",rn),this.expand();var d=this;setTimeout(function(){Ft(s,"click",rn),d._preventClick=!1})}}),xl=function(s,d,v){return new nu(s,d,v)},Ho=Vn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var d="leaflet-control-zoom",v=pt("div",d+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,d+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,d+"-out",v,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,d,v,C,O){var H=pt("a",v,C);return H.innerHTML=s,H.href="#",H.title=d,H.setAttribute("role","button"),H.setAttribute("aria-label",d),da(H),ut(H,"click",xr),ut(H,"click",O,this),ut(H,"click",this._refocusOnMap,this),H},_updateDisabled:function(){var s=this._map,d="leaflet-disabled";Wt(this._zoomInButton,d),Wt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ft(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ft(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Et.mergeOptions({zoomControl:!0}),Et.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ho,this.addControl(this.zoomControl))});var Kd=function(s){return new Ho(s)},On=Vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var d="leaflet-control-scale",v=pt("div",d),C=this.options;return this._addScales(C,d+"-line",v),s.on(C.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),v},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,d,v){s.metric&&(this._mScale=pt("div",d,v)),s.imperial&&(this._iScale=pt("div",d,v))},_update:function(){var s=this._map,d=s.getSize().y/2,v=s.distance(s.containerPointToLatLng([0,d]),s.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(v)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var d=this._getRoundNum(s),v=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,v,d/s)},_updateImperial:function(s){var d=s*3.2808399,v,C,O;d>5280?(v=d/5280,C=this._getRoundNum(v),this._updateScale(this._iScale,C+" mi",C/v)):(O=this._getRoundNum(d),this._updateScale(this._iScale,O+" ft",O/d))},_updateScale:function(s,d,v){s.style.width=Math.round(this.options.maxWidth*v)+"px",s.innerHTML=d},_getRoundNum:function(s){var d=Math.pow(10,(Math.floor(s)+"").length-1),v=s/d;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,d*v}}),Wo=function(s){return new On(s)},ru='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qi=Vn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Xe.inlineSvg?ru+" ":"")+"Leaflet</a>"},initialize:function(s){w(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),da(this._container);for(var d in s._layers)s._layers[d].getAttribution&&this.addAttribution(s._layers[d].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var d in this._attributions)this._attributions[d]&&s.push(d);var v=[];this.options.prefix&&v.push(this.options.prefix),s.length&&v.push(s.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});Et.mergeOptions({attributionControl:!0}),Et.addInitHook(function(){this.options.attributionControl&&new Qi().addTo(this)});var tm=function(s){return new Qi(s)};Vn.Layers=nu,Vn.Zoom=Ho,Vn.Scale=On,Vn.Attribution=Qi,bi.layers=xl,bi.zoom=Kd,bi.scale=Wo,bi.attribution=tm;var ir=M.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ir.addTo=function(s,d){return s.addHandler(d,this),this};var iu={Events:ae},Vo=Xe.touch?"touchstart mousedown":"mousedown",_r=oe.extend({options:{clickTolerance:3},initialize:function(s,d,v,C){w(this,C),this._element=s,this._dragStartTarget=d||s,this._preventOutline=v},enable:function(){this._enabled||(ut(this._dragStartTarget,Vo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_r._dragging===this&&this.finishDrag(!0),Ft(this._dragStartTarget,Vo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Fo(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){_r._dragging===this&&this.finishDrag();return}if(!(_r._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(_r._dragging=this,this._preventOutline&&Zo(this._element),pl(),Pt(),!this._moving)){this.fire("down");var d=s.touches?s.touches[0]:s,v=ri(this._element);this._startPoint=new ne(d.clientX,d.clientY),this._startPos=ni(this._element),this._parentScale=Ir(v);var C=s.type==="mousedown";ut(document,C?"mousemove":"touchmove",this._onMove,this),ut(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var d=s.touches&&s.touches.length===1?s.touches[0]:s,v=new ne(d.clientX,d.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,rn(s),this._moved||(this.fire("dragstart"),this._moved=!0,ft(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ft(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),un(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Wt(document.body,"leaflet-dragging"),this._lastTarget&&(Wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ft(document,"mousemove touchmove",this._onMove,this),Ft(document,"mouseup touchend touchcancel",this._onUp,this),ml(),$o();var d=this._moved&&this._moving;this._moving=!1,_r._dragging=!1,d&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function ou(s,d,v){var C,O=[1,4,2,8],H,ce,ge,_e,Ae,Ze,rt,gt;for(H=0,Ze=s.length;H<Ze;H++)s[H]._code=Xi(s[H],d);for(ge=0;ge<4;ge++){for(rt=O[ge],C=[],H=0,Ze=s.length,ce=Ze-1;H<Ze;ce=H++)_e=s[H],Ae=s[ce],_e._code&rt?Ae._code&rt||(gt=bl(Ae,_e,rt,d,v),gt._code=Xi(gt,d),C.push(gt)):(Ae._code&rt&&(gt=bl(Ae,_e,rt,d,v),gt._code=Xi(gt,d),C.push(gt)),C.push(_e));s=C}return s}function Gd(s,d){var v,C,O,H,ce,ge,_e,Ae,Ze;if(!s||s.length===0)throw new Error("latlngs not passed");or(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var rt=Re([0,0]),gt=be(s),_n=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());_n<1700&&(rt=su(s));var yn=s.length,Kn=[];for(v=0;v<yn;v++){var Mn=Re(s[v]);Kn.push(d.project(Re([Mn.lat-rt.lat,Mn.lng-rt.lng])))}for(ge=_e=Ae=0,v=0,C=yn-1;v<yn;C=v++)O=Kn[v],H=Kn[C],ce=O.y*H.x-H.y*O.x,_e+=(O.x+H.x)*ce,Ae+=(O.y+H.y)*ce,ge+=ce*3;ge===0?Ze=Kn[0]:Ze=[_e/ge,Ae/ge];var ns=d.unproject(le(Ze));return Re([ns.lat+rt.lat,ns.lng+rt.lng])}function su(s){for(var d=0,v=0,C=0,O=0;O<s.length;O++){var H=Re(s[O]);d+=H.lat,v+=H.lng,C++}return Re([d/C,v/C])}var nm={__proto__:null,clipPolygon:ou,polygonCenter:Gd,centroid:su};function _l(s,d){if(!d||!s.length)return s.slice();var v=d*d;return s=om(s,v),s=im(s,v),s}function Yd(s,d,v){return Math.sqrt(eo(s,d,v,!0))}function rm(s,d,v){return eo(s,d,v)}function im(s,d){var v=s.length,C=typeof Uint8Array<"u"?Uint8Array:Array,O=new C(v);O[0]=O[v-1]=1,au(s,O,d,0,v-1);var H,ce=[];for(H=0;H<v;H++)O[H]&&ce.push(s[H]);return ce}function au(s,d,v,C,O){var H=0,ce,ge,_e;for(ge=C+1;ge<=O-1;ge++)_e=eo(s[ge],s[C],s[O],!0),_e>H&&(ce=ge,H=_e);H>v&&(d[ce]=1,au(s,d,v,C,ce),au(s,d,v,ce,O))}function om(s,d){for(var v=[s[0]],C=1,O=0,H=s.length;C<H;C++)sm(s[C],s[O])>d&&(v.push(s[C]),O=C);return O<H-1&&v.push(s[H-1]),v}var lu;function Jd(s,d,v,C,O){var H=C?lu:Xi(s,v),ce=Xi(d,v),ge,_e,Ae;for(lu=ce;;){if(!(H|ce))return[s,d];if(H&ce)return!1;ge=H||ce,_e=bl(s,d,ge,v,O),Ae=Xi(_e,v),ge===H?(s=_e,H=Ae):(d=_e,ce=Ae)}}function bl(s,d,v,C,O){var H=d.x-s.x,ce=d.y-s.y,ge=C.min,_e=C.max,Ae,Ze;return v&8?(Ae=s.x+H*(_e.y-s.y)/ce,Ze=_e.y):v&4?(Ae=s.x+H*(ge.y-s.y)/ce,Ze=ge.y):v&2?(Ae=_e.x,Ze=s.y+ce*(_e.x-s.x)/H):v&1&&(Ae=ge.x,Ze=s.y+ce*(ge.x-s.x)/H),new ne(Ae,Ze,O)}function Xi(s,d){var v=0;return s.x<d.min.x?v|=1:s.x>d.max.x&&(v|=2),s.y<d.min.y?v|=4:s.y>d.max.y&&(v|=8),v}function sm(s,d){var v=d.x-s.x,C=d.y-s.y;return v*v+C*C}function eo(s,d,v,C){var O=d.x,H=d.y,ce=v.x-O,ge=v.y-H,_e=ce*ce+ge*ge,Ae;return _e>0&&(Ae=((s.x-O)*ce+(s.y-H)*ge)/_e,Ae>1?(O=v.x,H=v.y):Ae>0&&(O+=ce*Ae,H+=ge*Ae)),ce=s.x-O,ge=s.y-H,C?ce*ce+ge*ge:new ne(O,H)}function or(s){return!R(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Qd(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),or(s)}function Xd(s,d){var v,C,O,H,ce,ge,_e,Ae;if(!s||s.length===0)throw new Error("latlngs not passed");or(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ze=Re([0,0]),rt=be(s),gt=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());gt<1700&&(Ze=su(s));var _n=s.length,yn=[];for(v=0;v<_n;v++){var Kn=Re(s[v]);yn.push(d.project(Re([Kn.lat-Ze.lat,Kn.lng-Ze.lng])))}for(v=0,C=0;v<_n-1;v++)C+=yn[v].distanceTo(yn[v+1])/2;if(C===0)Ae=yn[0];else for(v=0,H=0;v<_n-1;v++)if(ce=yn[v],ge=yn[v+1],O=ce.distanceTo(ge),H+=O,H>C){_e=(H-C)/O,Ae=[ge.x-_e*(ge.x-ce.x),ge.y-_e*(ge.y-ce.y)];break}var Mn=d.unproject(le(Ae));return Re([Mn.lat+Ze.lat,Mn.lng+Ze.lng])}var ef={__proto__:null,simplify:_l,pointToSegmentDistance:Yd,closestPointOnSegment:rm,clipSegment:Jd,_getEdgeIntersection:bl,_getBitCode:Xi,_sqClosestPointOnSegment:eo,isFlat:or,_flat:Qd,polylineCenter:Xd},cu={project:function(s){return new ne(s.lng,s.lat)},unproject:function(s){return new we(s.y,s.x)},bounds:new F([-180,-90],[180,90])},uu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new F([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var d=Math.PI/180,v=this.R,C=s.lat*d,O=this.R_MINOR/v,H=Math.sqrt(1-O*O),ce=H*Math.sin(C),ge=Math.tan(Math.PI/4-C/2)/Math.pow((1-ce)/(1+ce),H/2);return C=-v*Math.log(Math.max(ge,1e-10)),new ne(s.lng*d*v,C)},unproject:function(s){for(var d=180/Math.PI,v=this.R,C=this.R_MINOR/v,O=Math.sqrt(1-C*C),H=Math.exp(-s.y/v),ce=Math.PI/2-2*Math.atan(H),ge=0,_e=.1,Ae;ge<15&&Math.abs(_e)>1e-7;ge++)Ae=O*Math.sin(ce),Ae=Math.pow((1-Ae)/(1+Ae),O/2),_e=Math.PI/2-2*Math.atan(H*Ae)-ce,ce+=_e;return new we(ce*d,s.x*d/v)}},am={__proto__:null,LonLat:cu,Mercator:uu,SphericalMercator:it},lm=i({},De,{code:"EPSG:3395",projection:uu,transformation:function(){var s=.5/(Math.PI*uu.R);return Rt(s,.5,-s,.5)}()}),tf=i({},De,{code:"EPSG:4326",projection:cu,transformation:Rt(1/180,1,-1/180,.5)}),cm=i({},Ue,{projection:cu,transformation:Rt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,d){var v=d.lng-s.lng,C=d.lat-s.lat;return Math.sqrt(v*v+C*C)},infinite:!0});Ue.Earth=De,Ue.EPSG3395=lm,Ue.EPSG3857=ht,Ue.EPSG900913=z,Ue.EPSG4326=tf,Ue.Simple=cm;var br=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[f(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[f(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var d=s.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var v=this.getEvents();d.on(v,this),this.once("remove",function(){d.off(v,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Et.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var d=f(s);return this._layers[d]?this:(this._layers[d]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var d=f(s);return this._layers[d]?(this._loaded&&s.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return f(s)in this._layers},eachLayer:function(s,d){for(var v in this._layers)s.call(d,this._layers[v]);return this},_addLayers:function(s){s=s?R(s)?s:[s]:[];for(var d=0,v=s.length;d<v;d++)this.addLayer(s[d])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[f(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var d=f(s);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,d=-1/0,v=this._getZoomSpan();for(var C in this._zoomBoundLayers){var O=this._zoomBoundLayers[C].options;s=O.minZoom===void 0?s:Math.min(s,O.minZoom),d=O.maxZoom===void 0?d:Math.max(d,O.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=s===1/0?void 0:s,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ei=br.extend({initialize:function(s,d){w(this,d),this._layers={};var v,C;if(s)for(v=0,C=s.length;v<C;v++)this.addLayer(s[v])},addLayer:function(s){var d=this.getLayerId(s);return this._layers[d]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var d=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(s){var d=typeof s=="number"?s:this.getLayerId(s);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var d=Array.prototype.slice.call(arguments,1),v,C;for(v in this._layers)C=this._layers[v],C[s]&&C[s].apply(C,d);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,d){for(var v in this._layers)s.call(d,this._layers[v]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return f(s)}}),pa=function(s,d){return new Ei(s,d)},ii=Ei.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ei.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ei.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ce;for(var d in this._layers){var v=this._layers[d];s.extend(v.getBounds?v.getBounds():v.getLatLng())}return s}}),nf=function(s,d){return new ii(s,d)},to=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){w(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,d){var v=this._getIconUrl(s);if(!v){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(v,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(C,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(s,d){var v=this.options,C=v[d+"Size"];typeof C=="number"&&(C=[C,C]);var O=le(C),H=le(d==="shadow"&&v.shadowAnchor||v.iconAnchor||O&&O.divideBy(2,!0));s.className="leaflet-marker-"+d+" "+(v.className||""),H&&(s.style.marginLeft=-H.x+"px",s.style.marginTop=-H.y+"px"),O&&(s.style.width=O.x+"px",s.style.height=O.y+"px")},_createImg:function(s,d){return d=d||document.createElement("img"),d.src=s,d},_getIconUrl:function(s){return Xe.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function rf(s){return new to(s)}var qo=to.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof qo.imagePath!="string"&&(qo.imagePath=this._detectIconPath()),(this.options.imagePath||qo.imagePath)+to.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var d=function(v,C,O){var H=C.exec(v);return H&&H[O]};return s=d(s,/^url\((['"])?(.+)\1\)$/,2),s&&d(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=pt("div","leaflet-default-icon-path",document.body),d=aa(s,"background-image")||aa(s,"backgroundImage");if(document.body.removeChild(s),d=this._stripUrl(d),d)return d;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),du=ir.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new _r(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ft(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var d=this._marker,v=d._map,C=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,H=ni(d._icon),ce=v.getPixelBounds(),ge=v.getPixelOrigin(),_e=K(ce.min._subtract(ge).add(O),ce.max._subtract(ge).subtract(O));if(!_e.contains(H)){var Ae=le((Math.max(_e.max.x,H.x)-_e.max.x)/(ce.max.x-_e.max.x)-(Math.min(_e.min.x,H.x)-_e.min.x)/(ce.min.x-_e.min.x),(Math.max(_e.max.y,H.y)-_e.max.y)/(ce.max.y-_e.max.y)-(Math.min(_e.min.y,H.y)-_e.min.y)/(ce.min.y-_e.min.y)).multiplyBy(C);v.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),un(d._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Q(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=Q(this._adjustPan.bind(this,s)))},_onDrag:function(s){var d=this._marker,v=d._shadow,C=ni(d._icon),O=d._map.layerPointToLatLng(C);v&&un(v,C),d._latlng=O,s.latlng=O,s.oldLatLng=this._oldLatLng,d.fire("move",s).fire("drag",s)},_onDragEnd:function(s){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),oi=br.extend({options:{icon:new qo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,d){w(this,d),this._latlng=Re(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var d=this._latlng;return this._latlng=Re(s),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=s.icon.createIcon(this._icon),C=!1;v!==this._icon&&(this._icon&&this._removeIcon(),C=!0,s.title&&(v.title=s.title),v.tagName==="IMG"&&(v.alt=s.alt||"")),ft(v,d),s.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ut(v,"focus",this._panOnFocus,this);var O=s.icon.createShadow(this._shadow),H=!1;O!==this._shadow&&(this._removeShadow(),H=!0),O&&(ft(O,d),O.alt=""),this._shadow=O,s.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&H&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(this._icon,"focus",this._panOnFocus,this),qt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&un(this._icon,s),this._shadow&&un(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(ft(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),du)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new du(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ln(this._icon,s),this._shadow&&Ln(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var d=this.options.icon.options,v=d.iconSize?le(d.iconSize):le(0,0),C=d.iconAnchor?le(d.iconAnchor):le(0,0);s.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:v.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function um(s,d){return new oi(s,d)}var ki=br.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return w(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),El=ki.extend({options:{fill:!0,radius:10},initialize:function(s,d){w(this,d),this._latlng=Re(s),this._radius=this.options.radius},setLatLng:function(s){var d=this._latlng;return this._latlng=Re(s),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var d=s&&s.radius||this._radius;return ki.prototype.setStyle.call(this,s),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,d=this._radiusY||s,v=this._clickTolerance(),C=[s+v,d+v];this._pxBounds=new F(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function of(s,d){return new El(s,d)}var kl=El.extend({initialize:function(s,d,v){if(typeof d=="number"&&(d=i({},v,{radius:d})),w(this,d),this._latlng=Re(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:ki.prototype.setStyle,_project:function(){var s=this._latlng.lng,d=this._latlng.lat,v=this._map,C=v.options.crs;if(C.distance===De.distance){var O=Math.PI/180,H=this._mRadius/De.R/O,ce=v.project([d+H,s]),ge=v.project([d-H,s]),_e=ce.add(ge).divideBy(2),Ae=v.unproject(_e).lat,Ze=Math.acos((Math.cos(H*O)-Math.sin(d*O)*Math.sin(Ae*O))/(Math.cos(d*O)*Math.cos(Ae*O)))/O;(isNaN(Ze)||Ze===0)&&(Ze=H/Math.cos(Math.PI/180*d)),this._point=_e.subtract(v.getPixelOrigin()),this._radius=isNaN(Ze)?0:_e.x-v.project([Ae,s-Ze]).x,this._radiusY=_e.y-ce.y}else{var rt=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(rt).x}this._updateBounds()}});function ma(s,d,v){return new kl(s,d,v)}var qn=ki.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,d){w(this,d),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var d=1/0,v=null,C=eo,O,H,ce=0,ge=this._parts.length;ce<ge;ce++)for(var _e=this._parts[ce],Ae=1,Ze=_e.length;Ae<Ze;Ae++){O=_e[Ae-1],H=_e[Ae];var rt=C(s,O,H,!0);rt<d&&(d=rt,v=C(s,O,H))}return v&&(v.distance=Math.sqrt(d)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,d){return d=d||this._defaultShape(),s=Re(s),d.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ce,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return or(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var d=[],v=or(s),C=0,O=s.length;C<O;C++)v?(d[C]=Re(s[C]),this._bounds.extend(d[C])):d[C]=this._convertLatLngs(s[C]);return d},_project:function(){var s=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),d=new ne(s,s);this._rawPxBounds&&(this._pxBounds=new F([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(s,d,v){var C=s[0]instanceof we,O=s.length,H,ce;if(C){for(ce=[],H=0;H<O;H++)ce[H]=this._map.latLngToLayerPoint(s[H]),v.extend(ce[H]);d.push(ce)}else for(H=0;H<O;H++)this._projectLatlngs(s[H],d,v)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,v,C,O,H,ce,ge,_e;for(v=0,O=0,H=this._rings.length;v<H;v++)for(_e=this._rings[v],C=0,ce=_e.length;C<ce-1;C++)ge=Jd(_e[C],_e[C+1],s,C,!0),ge&&(d[O]=d[O]||[],d[O].push(ge[0]),(ge[1]!==_e[C+1]||C===ce-2)&&(d[O].push(ge[1]),O++))}},_simplifyPoints:function(){for(var s=this._parts,d=this.options.smoothFactor,v=0,C=s.length;v<C;v++)s[v]=_l(s[v],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,d){var v,C,O,H,ce,ge,_e=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(v=0,H=this._parts.length;v<H;v++)for(ge=this._parts[v],C=0,ce=ge.length,O=ce-1;C<ce;O=C++)if(!(!d&&C===0)&&Yd(s,ge[O],ge[C])<=_e)return!0;return!1}});function dm(s,d){return new qn(s,d)}qn._flat=Qd;var si=qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var d=qn.prototype._convertLatLngs.call(this,s),v=d.length;return v>=2&&d[0]instanceof we&&d[0].equals(d[v-1])&&d.pop(),d},_setLatLngs:function(s){qn.prototype._setLatLngs.call(this,s),or(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return or(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,d=this.options.weight,v=new ne(d,d);if(s=new F(s.min.subtract(v),s.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,O=this._rings.length,H;C<O;C++)H=ou(this._rings[C],s,!0),H.length&&this._parts.push(H)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var d=!1,v,C,O,H,ce,ge,_e,Ae;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(H=0,_e=this._parts.length;H<_e;H++)for(v=this._parts[H],ce=0,Ae=v.length,ge=Ae-1;ce<Ae;ge=ce++)C=v[ce],O=v[ge],C.y>s.y!=O.y>s.y&&s.x<(O.x-C.x)*(s.y-C.y)/(O.y-C.y)+C.x&&(d=!d);return d||qn.prototype._containsPoint.call(this,s,!0)}});function fm(s,d){return new si(s,d)}var Or=ii.extend({initialize:function(s,d){w(this,d),this._layers={},s&&this.addData(s)},addData:function(s){var d=R(s)?s:s.features,v,C,O;if(d){for(v=0,C=d.length;v<C;v++)O=d[v],(O.geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var H=this.options;if(H.filter&&!H.filter(s))return this;var ce=Ko(s,H);return ce?(ce.feature=Tl(s),ce.defaultOptions=ce.options,this.resetStyle(ce),H.onEachFeature&&H.onEachFeature(s,ce),this.addLayer(ce)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(d){this._setLayerStyle(d,s)},this)},_setLayerStyle:function(s,d){s.setStyle&&(typeof d=="function"&&(d=d(s.feature)),s.setStyle(d))}});function Ko(s,d){var v=s.type==="Feature"?s.geometry:s,C=v?v.coordinates:null,O=[],H=d&&d.pointToLayer,ce=d&&d.coordsToLatLng||Cl,ge,_e,Ae,Ze;if(!C&&!v)return null;switch(v.type){case"Point":return ge=ce(C),Sl(H,s,ge,d);case"MultiPoint":for(Ae=0,Ze=C.length;Ae<Ze;Ae++)ge=ce(C[Ae]),O.push(Sl(H,s,ge,d));return new ii(O);case"LineString":case"MultiLineString":return _e=ga(C,v.type==="LineString"?0:1,ce),new qn(_e,d);case"Polygon":case"MultiPolygon":return _e=ga(C,v.type==="Polygon"?1:2,ce),new si(_e,d);case"GeometryCollection":for(Ae=0,Ze=v.geometries.length;Ae<Ze;Ae++){var rt=Ko({geometry:v.geometries[Ae],type:"Feature",properties:s.properties},d);rt&&O.push(rt)}return new ii(O);case"FeatureCollection":for(Ae=0,Ze=v.features.length;Ae<Ze;Ae++){var gt=Ko(v.features[Ae],d);gt&&O.push(gt)}return new ii(O);default:throw new Error("Invalid GeoJSON object.")}}function Sl(s,d,v,C){return s?s(d,v):new oi(v,C&&C.markersInheritOptions&&C)}function Cl(s){return new we(s[1],s[0],s[2])}function ga(s,d,v){for(var C=[],O=0,H=s.length,ce;O<H;O++)ce=d?ga(s[O],d-1,v):(v||Cl)(s[O]),C.push(ce);return C}function Nl(s,d){return s=Re(s),s.alt!==void 0?[E(s.lng,d),E(s.lat,d),E(s.alt,d)]:[E(s.lng,d),E(s.lat,d)]}function Pl(s,d,v,C){for(var O=[],H=0,ce=s.length;H<ce;H++)O.push(d?Pl(s[H],or(s[H])?0:d-1,v,C):Nl(s[H],C));return!d&&v&&O.length>0&&O.push(O[0].slice()),O}function Go(s,d){return s.feature?i({},s.feature,{geometry:d}):Tl(d)}function Tl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var fu={toGeoJSON:function(s){return Go(this,{type:"Point",coordinates:Nl(this.getLatLng(),s)})}};oi.include(fu),kl.include(fu),El.include(fu),qn.include({toGeoJSON:function(s){var d=!or(this._latlngs),v=Pl(this._latlngs,d?1:0,!1,s);return Go(this,{type:(d?"Multi":"")+"LineString",coordinates:v})}}),si.include({toGeoJSON:function(s){var d=!or(this._latlngs),v=d&&!or(this._latlngs[0]),C=Pl(this._latlngs,v?2:d?1:0,!0,s);return d||(C=[C]),Go(this,{type:(v?"Multi":"")+"Polygon",coordinates:C})}}),Ei.include({toMultiPoint:function(s){var d=[];return this.eachLayer(function(v){d.push(v.toGeoJSON(s).geometry.coordinates)}),Go(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(s){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(s);var v=d==="GeometryCollection",C=[];return this.eachLayer(function(O){if(O.toGeoJSON){var H=O.toGeoJSON(s);if(v)C.push(H.geometry);else{var ce=Tl(H);ce.type==="FeatureCollection"?C.push.apply(C,ce.features):C.push(ce)}}}),v?Go(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function sf(s,d){return new Or(s,d)}var Er=sf,Si=br.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,d,v){this._url=s,this._bounds=be(d),w(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ft(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Bo(this._image),this},bringToBack:function(){return this._map&&ti(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=be(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",d=this._image=s?this._url:pt("img");if(ft(d,"leaflet-image-layer"),this._zoomAnimated&&ft(d,"leaflet-zoom-animated"),this.options.className&&ft(d,this.options.className),d.onselectstart=g,d.onmousemove=g,d.onload=c(this.fire,this,"load"),d.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(s){var d=this._map.getZoomScale(s.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;vr(this._image,v,d)},_reset:function(){var s=this._image,d=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=d.getSize();un(s,d.min),s.style.width=v.x+"px",s.style.height=v.y+"px"},_updateOpacity:function(){Ln(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),af=function(s,d,v){return new Si(s,d,v)},hu=Si.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",d=this._image=s?this._url:pt("video");if(ft(d,"leaflet-image-layer"),this._zoomAnimated&&ft(d,"leaflet-zoom-animated"),this.options.className&&ft(d,this.options.className),d.onselectstart=g,d.onmousemove=g,d.onloadeddata=c(this.fire,this,"load"),s){for(var v=d.getElementsByTagName("source"),C=[],O=0;O<v.length;O++)C.push(v[O].src);this._url=v.length>0?C:[d.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var H=0;H<this._url.length;H++){var ce=pt("source");ce.src=this._url[H],d.appendChild(ce)}}});function lf(s,d,v){return new hu(s,d,v)}var pu=Si.extend({_initImage:function(){var s=this._image=this._url;ft(s,"leaflet-image-layer"),this._zoomAnimated&&ft(s,"leaflet-zoom-animated"),this.options.className&&ft(s,this.options.className),s.onselectstart=g,s.onmousemove=g}});function mu(s,d,v){return new pu(s,d,v)}var Mr=br.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,d){s&&(s instanceof we||R(s))?(this._latlng=Re(s),w(this,d)):(w(this,s),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ln(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ln(this._container,1),this.bringToFront(),this.options.interactive&&(ft(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ln(this._container,0),this._removeTimeout=setTimeout(c(qt,void 0,this._container),200)):qt(this._container),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Re(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bo(this._container),this},bringToBack:function(){return this._map&&ti(this._container),this},_prepareOpen:function(s){var d=this._source;if(!d._map)return!1;if(d instanceof ii){d=null;var v=this._source._layers;for(var C in v)if(v[C]._map){d=v[C];break}if(!d)return!1;this._source=d}if(!s)if(d.getCenter)s=d.getCenter();else if(d.getLatLng)s=d.getLatLng();else if(d.getBounds)s=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")s.innerHTML=d;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),d=le(this.options.offset),v=this._getAnchor();this._zoomAnimated?un(this._container,s.add(v)):d=d.add(s).add(v);var C=this._containerBottom=-d.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=C+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});Et.include({_initOverlay:function(s,d,v,C){var O=d;return O instanceof s||(O=new s(C).setContent(d)),v&&O.setLatLng(v),O}}),br.include({_initOverlay:function(s,d,v,C){var O=v;return O instanceof s?(w(O,C),O._source=this):(O=d&&!C?d:new s(C,this),O.setContent(v)),O}});var jl=Mr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Mr.prototype.openOn.call(this,s)},onAdd:function(s){Mr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ki||this._source.on("preclick",Lr))},onRemove:function(s){Mr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ki||this._source.off("preclick",Lr))},getEvents:function(){var s=Mr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",d=this._container=pt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=pt("div",s+"-content-wrapper",d);if(this._contentNode=pt("div",s+"-content",v),da(d),yl(this._contentNode),ut(d,"contextmenu",Lr),this._tipContainer=pt("div",s+"-tip-container",d),this._tip=pt("div",s+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=pt("a",s+"-close-button",d);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',ut(C,"click",function(O){rn(O),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,d=s.style;d.width="",d.whiteSpace="nowrap";var v=s.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),d.width=v+1+"px",d.whiteSpace="",d.height="";var C=s.offsetHeight,O=this.options.maxHeight,H="leaflet-popup-scrolled";O&&C>O?(d.height=O+"px",ft(s,H)):Wt(s,H),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),v=this._getAnchor();un(this._container,d.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,d=parseInt(aa(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+d,C=this._containerWidth,O=new ne(this._containerLeft,-v-this._containerBottom);O._add(ni(this._container));var H=s.layerPointToContainerPoint(O),ce=le(this.options.autoPanPadding),ge=le(this.options.autoPanPaddingTopLeft||ce),_e=le(this.options.autoPanPaddingBottomRight||ce),Ae=s.getSize(),Ze=0,rt=0;H.x+C+_e.x>Ae.x&&(Ze=H.x+C-Ae.x+_e.x),H.x-Ze-ge.x<0&&(Ze=H.x-ge.x),H.y+v+_e.y>Ae.y&&(rt=H.y+v-Ae.y+_e.y),H.y-rt-ge.y<0&&(rt=H.y-ge.y),(Ze||rt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Ze,rt]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yo=function(s,d){return new jl(s,d)};Et.mergeOptions({closePopupOnClick:!0}),Et.include({openPopup:function(s,d,v){return this._initOverlay(jl,s,d,v).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),br.include({bindPopup:function(s,d){return this._popup=this._initOverlay(jl,this._popup,s,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ii||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){xr(s);var d=s.layer||s.target;if(this._popup._source===d&&!(d instanceof ki)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=d,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Jo=Mr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Mr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Mr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Mr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",d=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var d,v,C=this._map,O=this._container,H=C.latLngToContainerPoint(C.getCenter()),ce=C.layerPointToContainerPoint(s),ge=this.options.direction,_e=O.offsetWidth,Ae=O.offsetHeight,Ze=le(this.options.offset),rt=this._getAnchor();ge==="top"?(d=_e/2,v=Ae):ge==="bottom"?(d=_e/2,v=0):ge==="center"?(d=_e/2,v=Ae/2):ge==="right"?(d=0,v=Ae/2):ge==="left"?(d=_e,v=Ae/2):ce.x<H.x?(ge="right",d=0,v=Ae/2):(ge="left",d=_e+(Ze.x+rt.x)*2,v=Ae/2),s=s.subtract(le(d,v,!0)).add(Ze).add(rt),Wt(O,"leaflet-tooltip-right"),Wt(O,"leaflet-tooltip-left"),Wt(O,"leaflet-tooltip-top"),Wt(O,"leaflet-tooltip-bottom"),ft(O,"leaflet-tooltip-"+ge),un(O,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ln(this._container,s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(d)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ya=function(s,d){return new Jo(s,d)};Et.include({openTooltip:function(s,d,v){return this._initOverlay(Jo,s,d,v).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),br.include({bindTooltip:function(s,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jo,this._tooltip,s,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var d=s?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[d](v),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ii||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var d=typeof s.getElement=="function"&&s.getElement();d&&(ut(d,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ut(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var d=typeof s.getElement=="function"&&s.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var d=s.latlng,v,C;this._tooltip.options.sticky&&s.originalEvent&&(v=this._map.mouseEventToContainerPoint(s.originalEvent),C=this._map.containerPointToLayerPoint(v),d=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(d)}});var Al=to.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var d=s&&s.tagName==="DIV"?s:document.createElement("div"),v=this.options;if(v.html instanceof Element?(dl(d),d.appendChild(v.html)):d.innerHTML=v.html!==!1?v.html:"",v.bgPos){var C=le(v.bgPos);d.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function cf(s){return new Al(s)}to.Default=qo;var Ci=br.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Xe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){w(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),qt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ti(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ne?s:new ne(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var d=this.getPane().children,v=-s(-1/0,1/0),C=0,O=d.length,H;C<O;C++)H=d[C].style.zIndex,d[C]!==this._container&&H&&(v=s(v,+H));isFinite(v)&&(this.options.zIndex=v+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Xe.ielt9){Ln(this._container,this.options.opacity);var s=+new Date,d=!1,v=!1;for(var C in this._tiles){var O=this._tiles[C];if(!(!O.current||!O.loaded)){var H=Math.min(1,(s-O.loaded)/200);Ln(O.el,H),H<1?d=!0:(O.active?v=!0:this._onOpaqueTile(O),O.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),d&&(U(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,d=this.options.maxZoom;if(s!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===s?(this._levels[v].el.style.zIndex=d-Math.abs(s-v),this._onUpdateLevel(v)):(qt(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var C=this._levels[s],O=this._map;return C||(C=this._levels[s]={},C.el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=d,C.origin=O.project(O.unproject(O.getPixelOrigin()),s).round(),C.zoom=s,this._setZoomTransform(C,O.getCenter(),O.getZoom()),g(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var s,d,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)d=this._tiles[s],d.retain=d.current;for(s in this._tiles)if(d=this._tiles[s],d.current&&!d.active){var C=d.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var d in this._tiles)this._tiles[d].coords.z===s&&this._removeTile(d)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)qt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,d,v,C){var O=Math.floor(s/2),H=Math.floor(d/2),ce=v-1,ge=new ne(+O,+H);ge.z=+ce;var _e=this._tileCoordsToKey(ge),Ae=this._tiles[_e];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ce>C?this._retainParent(O,H,ce,C):!1)},_retainChildren:function(s,d,v,C){for(var O=2*s;O<2*s+2;O++)for(var H=2*d;H<2*d+2;H++){var ce=new ne(O,H);ce.z=v+1;var ge=this._tileCoordsToKey(ce),_e=this._tiles[ge];if(_e&&_e.active){_e.retain=!0;continue}else _e&&_e.loaded&&(_e.retain=!0);v+1<C&&this._retainChildren(O,H,v+1,C)}},_resetView:function(s){var d=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var d=this.options;return d.minNativeZoom!==void 0&&s<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<s?d.maxNativeZoom:s},_setView:function(s,d,v,C){var O=Math.round(d);this.options.maxZoom!==void 0&&O>this.options.maxZoom||this.options.minZoom!==void 0&&O<this.options.minZoom?O=void 0:O=this._clampZoom(O);var H=this.options.updateWhenZooming&&O!==this._tileZoom;(!C||H)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),O!==void 0&&this._update(s),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(s,d)},_setZoomTransforms:function(s,d){for(var v in this._levels)this._setZoomTransform(this._levels[v],s,d)},_setZoomTransform:function(s,d,v){var C=this._map.getZoomScale(v,s.zoom),O=s.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(d,v)).round();Xe.any3d?vr(s.el,O,C):un(s.el,O)},_resetGrid:function(){var s=this._map,d=s.options.crs,v=this._tileSize=this.getTileSize(),C=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,d.wrapLng[0]],C).x/v.x),Math.ceil(s.project([0,d.wrapLng[1]],C).x/v.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([d.wrapLat[0],0],C).y/v.x),Math.ceil(s.project([d.wrapLat[1],0],C).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var d=this._map,v=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),C=d.getZoomScale(v,this._tileZoom),O=d.project(s,this._tileZoom).floor(),H=d.getSize().divideBy(C*2);return new F(O.subtract(H),O.add(H))},_update:function(s){var d=this._map;if(d){var v=this._clampZoom(d.getZoom());if(s===void 0&&(s=d.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(s),O=this._pxBoundsToTileRange(C),H=O.getCenter(),ce=[],ge=this.options.keepBuffer,_e=new F(O.getBottomLeft().subtract([ge,-ge]),O.getTopRight().add([ge,-ge]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Ze=this._tiles[Ae].coords;(Ze.z!==this._tileZoom||!_e.contains(new ne(Ze.x,Ze.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(s,v);return}for(var rt=O.min.y;rt<=O.max.y;rt++)for(var gt=O.min.x;gt<=O.max.x;gt++){var _n=new ne(gt,rt);if(_n.z=this._tileZoom,!!this._isValidTile(_n)){var yn=this._tiles[this._tileCoordsToKey(_n)];yn?yn.current=!0:ce.push(_n)}}if(ce.sort(function(Mn,ns){return Mn.distanceTo(H)-ns.distanceTo(H)}),ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Kn=document.createDocumentFragment();for(gt=0;gt<ce.length;gt++)this._addTile(ce[gt],Kn);this._level.el.appendChild(Kn)}}}},_isValidTile:function(s){var d=this._map.options.crs;if(!d.infinite){var v=this._globalTileRange;if(!d.wrapLng&&(s.x<v.min.x||s.x>v.max.x)||!d.wrapLat&&(s.y<v.min.y||s.y>v.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(s);return be(this.options.bounds).overlaps(C)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var d=this._map,v=this.getTileSize(),C=s.scaleBy(v),O=C.add(v),H=d.unproject(C,s.z),ce=d.unproject(O,s.z);return[H,ce]},_tileCoordsToBounds:function(s){var d=this._tileCoordsToNwSe(s),v=new Ce(d[0],d[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var d=s.split(":"),v=new ne(+d[0],+d[1]);return v.z=+d[2],v},_removeTile:function(s){var d=this._tiles[s];d&&(qt(d.el),delete this._tiles[s],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ft(s,"leaflet-tile");var d=this.getTileSize();s.style.width=d.x+"px",s.style.height=d.y+"px",s.onselectstart=g,s.onmousemove=g,Xe.ielt9&&this.options.opacity<1&&Ln(s,this.options.opacity)},_addTile:function(s,d){var v=this._getTilePos(s),C=this._tileCoordsToKey(s),O=this.createTile(this._wrapCoords(s),c(this._tileReady,this,s));this._initTile(O),this.createTile.length<2&&Q(c(this._tileReady,this,s,null,O)),un(O,v),this._tiles[C]={el:O,coords:s,current:!0},d.appendChild(O),this.fire("tileloadstart",{tile:O,coords:s})},_tileReady:function(s,d,v){d&&this.fire("tileerror",{error:d,tile:v,coords:s});var C=this._tileCoordsToKey(s);v=this._tiles[C],v&&(v.loaded=+new Date,this._map._fadeAnimated?(Ln(v.el,0),U(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),d||(ft(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Xe.ielt9||!this._map._fadeAnimated?Q(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var d=new ne(this._wrapX?y(s.x,this._wrapX):s.x,this._wrapY?y(s.y,this._wrapY):s.y);return d.z=s.z,d},_pxBoundsToTileRange:function(s){var d=this.getTileSize();return new F(s.min.unscaleBy(d).floor(),s.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Qo(s){return new Ci(s)}var Ni=Ci.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,d){this._url=s,d=w(this,d),d.detectRetina&&Xe.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,d){return this._url===s&&d===void 0&&(d=!0),this._url=s,d||this.redraw(),this},createTile:function(s,d){var v=document.createElement("img");return ut(v,"load",c(this._tileOnLoad,this,d,v)),ut(v,"error",c(this._tileOnError,this,d,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(s),v},getTileUrl:function(s){var d={r:Xe.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-s.y;this.options.tms&&(d.y=v),d["-y"]=v}return P(this._url,i(d,this.options))},_tileOnLoad:function(s,d){Xe.ielt9?setTimeout(c(s,this,null,d),0):s(null,d)},_tileOnError:function(s,d,v){var C=this.options.errorTileUrl;C&&d.getAttribute("src")!==C&&(d.src=C),s(v,d)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,d=this.options.maxZoom,v=this.options.zoomReverse,C=this.options.zoomOffset;return v&&(s=d-s),s+C},_getSubdomain:function(s){var d=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var s,d;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(d=this._tiles[s].el,d.onload=g,d.onerror=g,!d.complete)){d.src=B;var v=this._tiles[s].coords;qt(d),delete this._tiles[s],this.fire("tileabort",{tile:d,coords:v})}},_removeTile:function(s){var d=this._tiles[s];if(d)return d.el.setAttribute("src",B),Ci.prototype._removeTile.call(this,s)},_tileReady:function(s,d,v){if(!(!this._map||v&&v.getAttribute("src")===B))return Ci.prototype._tileReady.call(this,s,d,v)}});function gu(s,d){return new Ni(s,d)}var va=Ni.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,d){this._url=s;var v=i({},this.defaultWmsParams);for(var C in d)C in this.options||(v[C]=d[C]);d=w(this,d);var O=d.detectRetina&&Xe.retina?2:1,H=this.getTileSize();v.width=H.x*O,v.height=H.y*O,this.wmsParams=v},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Ni.prototype.onAdd.call(this,s)},getTileUrl:function(s){var d=this._tileCoordsToNwSe(s),v=this._crs,C=K(v.project(d[0]),v.project(d[1])),O=C.min,H=C.max,ce=(this._wmsVersion>=1.3&&this._crs===tf?[O.y,O.x,H.y,H.x]:[O.x,O.y,H.x,H.y]).join(","),ge=Ni.prototype.getTileUrl.call(this,s);return ge+b(this.wmsParams,ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ce},setParams:function(s,d){return i(this.wmsParams,s),d||this.redraw(),this}});function uf(s,d){return new va(s,d)}Ni.WMS=va,gu.wms=uf;var zr=br.extend({options:{padding:.1},initialize:function(s){w(this,s),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ft(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,d){var v=this._map.getZoomScale(d,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,d),H=C.multiplyBy(-v).add(O).subtract(this._map._getNewPixelOrigin(s,d));Xe.any3d?vr(this._container,H,v):un(this._container,H)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,d=this._map.getSize(),v=this._map.containerPointToLayerPoint(d.multiplyBy(-s)).round();this._bounds=new F(v,v.add(d.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),yu=zr.extend({options:{tolerance:0},getEvents:function(){var s=zr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ut(s,"mousemove",this._onMouseMove,this),ut(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ut(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,qt(this._container),Ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var d in this._layers)s=this._layers[d],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zr.prototype._update.call(this);var s=this._bounds,d=this._container,v=s.getSize(),C=Xe.retina?2:1;un(d,s.min),d.width=C*v.x,d.height=C*v.y,d.style.width=v.x+"px",d.style.height=v.y+"px",Xe.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){zr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[f(s)]=s;var d=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var d=s._order,v=d.next,C=d.prev;v?v.prev=C:this._drawLast=C,C?C.next=v:this._drawFirst=v,delete s._order,delete this._layers[f(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var d=s.options.dashArray.split(/[, ]+/),v=[],C,O;for(O=0;O<d.length;O++){if(C=Number(d[O]),isNaN(C))return;v.push(C)}s.options._dashArray=v}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Q(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var d=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(s._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(s._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var d=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,d=this._redrawBounds;if(this._ctx.save(),d){var v=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)s=C.layer,(!d||s._pxBounds&&s._pxBounds.intersects(d))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,d){if(this._drawing){var v,C,O,H,ce=s._parts,ge=ce.length,_e=this._ctx;if(ge){for(_e.beginPath(),v=0;v<ge;v++){for(C=0,O=ce[v].length;C<O;C++)H=ce[v][C],_e[C?"lineTo":"moveTo"](H.x,H.y);d&&_e.closePath()}this._fillStroke(_e,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var d=s._point,v=this._ctx,C=Math.max(Math.round(s._radius),1),O=(Math.max(Math.round(s._radiusY),1)||C)/C;O!==1&&(v.save(),v.scale(1,O)),v.beginPath(),v.arc(d.x,d.y/O,C,0,Math.PI*2,!1),O!==1&&v.restore(),this._fillStroke(v,s)}},_fillStroke:function(s,d){var v=d.options;v.fill&&(s.globalAlpha=v.fillOpacity,s.fillStyle=v.fillColor||v.color,s.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(s.setLineDash&&s.setLineDash(d.options&&d.options._dashArray||[]),s.globalAlpha=v.opacity,s.lineWidth=v.weight,s.strokeStyle=v.color,s.lineCap=v.lineCap,s.lineJoin=v.lineJoin,s.stroke())},_onClick:function(s){for(var d=this._map.mouseEventToLayerPoint(s),v,C,O=this._drawFirst;O;O=O.next)v=O.layer,v.options.interactive&&v._containsPoint(d)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(v))&&(C=v);this._fireEvent(C?[C]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,d)}},_handleMouseOut:function(s){var d=this._hoveredLayer;d&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,d){if(!this._mouseHoverThrottled){for(var v,C,O=this._drawFirst;O;O=O.next)v=O.layer,v.options.interactive&&v._containsPoint(d)&&(C=v);C!==this._hoveredLayer&&(this._handleMouseOut(s),C&&(ft(this._container,"leaflet-interactive"),this._fireEvent([C],s,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,d,v){this._map._fireDOMEvent(d,v||d.type,s)},_bringToFront:function(s){var d=s._order;if(d){var v=d.next,C=d.prev;if(v)v.prev=C;else return;C?C.next=v:v&&(this._drawFirst=v),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(s)}},_bringToBack:function(s){var d=s._order;if(d){var v=d.next,C=d.prev;if(C)C.next=v;else return;v?v.prev=C:C&&(this._drawLast=C),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(s)}}});function vu(s){return Xe.canvas?new yu(s):null}var Xo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),df={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var d=s._container=Xo("shape");ft(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",s._path=Xo("path"),d.appendChild(s._path),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){var d=s._container;this._container.appendChild(d),s.options.interactive&&s.addInteractiveTarget(d)},_removePath:function(s){var d=s._container;qt(d),s.removeInteractiveTarget(d),delete this._layers[f(s)]},_updateStyle:function(s){var d=s._stroke,v=s._fill,C=s.options,O=s._container;O.stroked=!!C.stroke,O.filled=!!C.fill,C.stroke?(d||(d=s._stroke=Xo("stroke")),O.appendChild(d),d.weight=C.weight+"px",d.color=C.color,d.opacity=C.opacity,C.dashArray?d.dashStyle=R(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=C.lineCap.replace("butt","flat"),d.joinstyle=C.lineJoin):d&&(O.removeChild(d),s._stroke=null),C.fill?(v||(v=s._fill=Xo("fill")),O.appendChild(v),v.color=C.fillColor||C.color,v.opacity=C.fillOpacity):v&&(O.removeChild(v),s._fill=null)},_updateCircle:function(s){var d=s._point.round(),v=Math.round(s._radius),C=Math.round(s._radiusY||v);this._setPath(s,s._empty()?"M0 0":"AL "+d.x+","+d.y+" "+v+","+C+" 0,"+65535*360)},_setPath:function(s,d){s._path.v=d},_bringToFront:function(s){Bo(s._container)},_bringToBack:function(s){ti(s._container)}},kr=Xe.vml?Xo:Ne,no=zr.extend({_initContainer:function(){this._container=kr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qt(this._container),Ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zr.prototype._update.call(this);var s=this._bounds,d=s.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,v.setAttribute("width",d.x),v.setAttribute("height",d.y)),un(v,s.min),v.setAttribute("viewBox",[s.min.x,s.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(s){var d=s._path=kr("path");s.options.className&&ft(d,s.options.className),s.options.interactive&&ft(d,"leaflet-interactive"),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){qt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[f(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var d=s._path,v=s.options;d&&(v.stroke?(d.setAttribute("stroke",v.color),d.setAttribute("stroke-opacity",v.opacity),d.setAttribute("stroke-width",v.weight),d.setAttribute("stroke-linecap",v.lineCap),d.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?d.setAttribute("stroke-dasharray",v.dashArray):d.removeAttribute("stroke-dasharray"),v.dashOffset?d.setAttribute("stroke-dashoffset",v.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),v.fill?(d.setAttribute("fill",v.fillColor||v.color),d.setAttribute("fill-opacity",v.fillOpacity),d.setAttribute("fill-rule",v.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(s,d){this._setPath(s,ke(s._parts,d))},_updateCircle:function(s){var d=s._point,v=Math.max(Math.round(s._radius),1),C=Math.max(Math.round(s._radiusY),1)||v,O="a"+v+","+C+" 0 1,0 ",H=s._empty()?"M0 0":"M"+(d.x-v)+","+d.y+O+v*2+",0 "+O+-v*2+",0 ";this._setPath(s,H)},_setPath:function(s,d){s._path.setAttribute("d",d)},_bringToFront:function(s){Bo(s._path)},_bringToBack:function(s){ti(s._path)}});Xe.vml&&no.include(df);function Rl(s){return Xe.svg||Xe.vml?new no(s):null}Et.include({getRenderer:function(s){var d=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var d=this._paneRenderers[s];return d===void 0&&(d=this._createRenderer({pane:s}),this._paneRenderers[s]=d),d},_createRenderer:function(s){return this.options.preferCanvas&&vu(s)||Rl(s)}});var ff=si.extend({initialize:function(s,d){si.prototype.initialize.call(this,this._boundsToLatLngs(s),d)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=be(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function hm(s,d){return new ff(s,d)}no.create=kr,no.pointsToPath=ke,Or.geometryToLayer=Ko,Or.coordsToLatLng=Cl,Or.coordsToLatLngs=ga,Or.latLngToCoords=Nl,Or.latLngsToCoords=Pl,Or.getFeature=Go,Or.asFeature=Tl,Et.mergeOptions({boxZoom:!0});var es=ir.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Pt(),pl(),this._startPoint=this._map.mouseEventToContainerPoint(s),ut(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),ft(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var d=new F(this._point,this._startPoint),v=d.getSize();un(this._box,d.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(qt(this._box),Wt(this._container,"leaflet-crosshair")),$o(),ml(),Ft(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var d=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Et.addInitHook("addHandler","boxZoom",es),Et.mergeOptions({doubleClickZoom:!0});var hf=ir.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var d=this._map,v=d.getZoom(),C=d.options.zoomDelta,O=s.originalEvent.shiftKey?v-C:v+C;d.options.doubleClickZoom==="center"?d.setZoom(O):d.setZoomAround(s.containerPoint,O)}});Et.addInitHook("addHandler","doubleClickZoom",hf),Et.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wu=ir.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new _r(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ft(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Wt(this._map._container,"leaflet-grab"),Wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=be(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var d=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(d),this._prunePositions(d)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,d){return s-(s-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;s.x<d.min.x&&(s.x=this._viscousLimit(s.x,d.min.x)),s.y<d.min.y&&(s.y=this._viscousLimit(s.y,d.min.y)),s.x>d.max.x&&(s.x=this._viscousLimit(s.x,d.max.x)),s.y>d.max.y&&(s.y=this._viscousLimit(s.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,d=Math.round(s/2),v=this._initialWorldOffset,C=this._draggable._newPos.x,O=(C-d+v)%s+d-v,H=(C+d+v)%s-d-v,ce=Math.abs(O+v)<Math.abs(H+v)?O:H;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ce},_onDragEnd:function(s){var d=this._map,v=d.options,C=!v.inertia||s.noInertia||this._times.length<2;if(d.fire("dragend",s),C)d.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),H=(this._lastTime-this._times[0])/1e3,ce=v.easeLinearity,ge=O.multiplyBy(ce/H),_e=ge.distanceTo([0,0]),Ae=Math.min(v.inertiaMaxSpeed,_e),Ze=ge.multiplyBy(Ae/_e),rt=Ae/(v.inertiaDeceleration*ce),gt=Ze.multiplyBy(-rt/2).round();!gt.x&&!gt.y?d.fire("moveend"):(gt=d._limitOffset(gt,d.options.maxBounds),Q(function(){d.panBy(gt,{duration:rt,easeLinearity:ce,noMoveStart:!0,animate:!0})}))}}});Et.addInitHook("addHandler","dragging",wu),Et.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xu=ir.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ut(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,d=document.documentElement,v=s.scrollTop||d.scrollTop,C=s.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(C,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var d=this._panKeys={},v=this.keyCodes,C,O;for(C=0,O=v.left.length;C<O;C++)d[v.left[C]]=[-1*s,0];for(C=0,O=v.right.length;C<O;C++)d[v.right[C]]=[s,0];for(C=0,O=v.down.length;C<O;C++)d[v.down[C]]=[0,s];for(C=0,O=v.up.length;C<O;C++)d[v.up[C]]=[0,-1*s]},_setZoomDelta:function(s){var d=this._zoomKeys={},v=this.keyCodes,C,O;for(C=0,O=v.zoomIn.length;C<O;C++)d[v.zoomIn[C]]=s;for(C=0,O=v.zoomOut.length;C<O;C++)d[v.zoomOut[C]]=-s},_addHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var d=s.keyCode,v=this._map,C;if(d in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(C=this._panKeys[d],s.shiftKey&&(C=le(C).multiplyBy(3)),v.options.maxBounds&&(C=v._limitOffset(le(C),v.options.maxBounds)),v.options.worldCopyJump){var O=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(C)));v.panTo(O)}else v.panBy(C)}else if(d in this._zoomKeys)v.setZoom(v.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;xr(s)}}});Et.addInitHook("addHandler","keyboard",xu),Et.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ut=ir.extend({addHooks:function(){ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var d=qd(s),v=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var C=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),C),xr(s)},_performZoom:function(){var s=this._map,d=s.getZoom(),v=this._map.options.zoomSnap||0;s._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),O=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,H=v?Math.ceil(O/v)*v:O,ce=s._limitZoom(d+(this._delta>0?H:-H))-d;this._delta=0,this._startTime=null,ce&&(s.options.scrollWheelZoom==="center"?s.setZoom(d+ce):s.setZoomAround(this._lastMousePos,d+ce))}});Et.addInitHook("addHandler","scrollWheelZoom",Ut);var _u=600;Et.mergeOptions({tapHold:Xe.touchNative&&Xe.safari&&Xe.mobile,tapTolerance:15});var wa=ir.extend({addHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var d=s.touches[0];this._startPos=this._newPos=new ne(d.clientX,d.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ut(document,"touchend",rn),ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),_u),ut(document,"touchend touchcancel contextmenu",this._cancel,this),ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ft(document,"touchend",rn),Ft(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)},_onMove:function(s){var d=s.touches[0];this._newPos=new ne(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,d){var v=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});v._simulated=!0,d.target.dispatchEvent(v)}});Et.addInitHook("addHandler","tapHold",wa),Et.mergeOptions({touchZoom:Xe.touch,bounceAtZoomLimits:!0});var ts=ir.extend({addHooks:function(){ft(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var d=this._map;if(!(!s.touches||s.touches.length!==2||d._animatingZoom||this._zooming)){var v=d.mouseEventToContainerPoint(s.touches[0]),C=d.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(v.add(C)._divideBy(2))),this._startDist=v.distanceTo(C),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend touchcancel",this._onTouchEnd,this),rn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var d=this._map,v=d.mouseEventToContainerPoint(s.touches[0]),C=d.mouseEventToContainerPoint(s.touches[1]),O=v.distanceTo(C)/this._startDist;if(this._zoom=d.getScaleZoom(O,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&O<1||this._zoom>d.getMaxZoom()&&O>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,O===1)return}else{var H=v._add(C)._divideBy(2)._subtract(this._centerPoint);if(O===1&&H.x===0&&H.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(H),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var ce=c(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Q(ce,this,!0),rn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Et.addInitHook("addHandler","touchZoom",ts),Et.BoxZoom=es,Et.DoubleClickZoom=hf,Et.Drag=wu,Et.Keyboard=xu,Et.ScrollWheelZoom=Ut,Et.TapHold=wa,Et.TouchZoom=ts,n.Bounds=F,n.Browser=Xe,n.CRS=Ue,n.Canvas=yu,n.Circle=kl,n.CircleMarker=El,n.Class=M,n.Control=Vn,n.DivIcon=Al,n.DivOverlay=Mr,n.DomEvent=vl,n.DomUtil=ua,n.Draggable=_r,n.Evented=oe,n.FeatureGroup=ii,n.GeoJSON=Or,n.GridLayer=Ci,n.Handler=ir,n.Icon=to,n.ImageOverlay=Si,n.LatLng=we,n.LatLngBounds=Ce,n.Layer=br,n.LayerGroup=Ei,n.LineUtil=ef,n.Map=Et,n.Marker=oi,n.Mixin=iu,n.Path=ki,n.Point=ne,n.PolyUtil=nm,n.Polygon=si,n.Polyline=qn,n.Popup=jl,n.PosAnimation=wl,n.Projection=am,n.Rectangle=ff,n.Renderer=zr,n.SVG=no,n.SVGOverlay=pu,n.TileLayer=Ni,n.Tooltip=Jo,n.Transformation=wt,n.Util=re,n.VideoOverlay=hu,n.bind=c,n.bounds=K,n.canvas=vu,n.circle=ma,n.circleMarker=of,n.control=bi,n.divIcon=cf,n.extend=i,n.featureGroup=nf,n.geoJSON=sf,n.geoJson=Er,n.gridLayer=Qo,n.icon=rf,n.imageOverlay=af,n.latLng=Re,n.latLngBounds=be,n.layerGroup=pa,n.map=_i,n.marker=um,n.point=le,n.polygon=fm,n.polyline=dm,n.popup=Yo,n.rectangle=hm,n.setOptions=w,n.stamp=f,n.svg=Rl,n.svgOverlay=mu,n.tileLayer=gu,n.tooltip=ya,n.transformation=Rt,n.version=r,n.videoOverlay=lf;var pf=window.L;n.noConflict=function(){return window.L=pf,this},window.L=n})}(Gu,Gu.exports)),Gu.exports}var Z7=$7();const tc=rp(Z7),H7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",W7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let V7=tc.icon({iconUrl:H7,shadowUrl:W7,iconSize:[25,41],iconAnchor:[12,41]});tc.Marker.prototype.options.icon=V7;const ly={"9q8yyz":[37.7749,-122.4194],"9q8yym":[34.0522,-118.2437],"9q8yyk":[40.7128,-74.006],"9q8yyf":[41.8781,-87.6298],dpwh:[47.6062,-122.3321],dqcjq:[39.7392,-104.9903]};function q7(e){if(ly[e])return ly[e];for(const[t,n]of Object.entries(ly))if(e.startsWith(t))return n;return[25+Math.random()*35,-125+Math.random()*55]}function a1({lockers:e=[],onLockerClick:t,center:n=[45,-100],zoom:r=3}){const i=j.useRef(null),l=j.useRef(null),c=j.useRef([]);return j.useEffect(()=>{if(!l.current)return;const u=tc.map(l.current).setView(n,r);return tc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(u),i.current=u,()=>{u.remove(),i.current=null}},[n,r]),j.useEffect(()=>{if(i.current&&(c.current.forEach(u=>u.remove()),c.current=[],e.forEach(u=>{if(!u.geohash)return;const f=q7(u.geohash);if(!f)return;const m=u.price>0&&u.price<1e3?`<div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${u.title}</h3>
            <p style="margin: 0; color: #666;">${u.description||""}</p>
            <p style="margin: 5px 0 0 0; font-size: 14px; font-weight: bold;">
              ${u.price} products
            </p>
          </div>`:`<div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${u.title}</h3>
            <p style="margin: 0; color: #666;">${u.description||""}</p>
          </div>`,y=tc.marker(f).addTo(i.current).bindPopup(m);t&&y.on("click",()=>t(u)),c.current.push(y)}),c.current.length>0&&c.current.length<10)){const u=new tc.FeatureGroup(c.current);i.current.fitBounds(u.getBounds().pad(.1))}},[e,t]),p.jsx("div",{ref:l,style:{height:"100%",width:"100%",minHeight:"400px"}})}const cy=[{id:"1",dTag:"locker-sf-001",name:"Mission District Secure Box",description:"24/7 accessible smart locker in secure building. Camera monitored.",price:500,geohash:"9q8yyz",city:"San Francisco",state:"CA",owner:"npub1owner1...",dimensions:"40x50x60 cm",features:["24/7 Access","Camera","Climate Controlled"],proxyService:{available:!0,fee:1e4,name:"Alice (Owner)"}},{id:"2",dTag:"locker-nyc-001",name:"Brooklyn Heights Drop",description:"Street-level locker. Well-lit area, residential neighborhood.",price:750,geohash:"9q8yyk",city:"New York",state:"NY",owner:"npub1owner2...",dimensions:"35x45x55 cm",features:["Ground Floor","Discreet"],proxyService:{available:!0,fee:15e3,name:"Bob (Owner)"}},{id:"3",dTag:"locker-sea-001",name:"Capitol Hill Tech Hub",description:"Indoor location near coffee shops. NFC + QR unlock.",price:400,geohash:"dpwh",city:"Seattle",state:"WA",owner:"npub1owner3...",dimensions:"50x60x70 cm",features:["NFC Unlock","Indoor","WiFi"]},{id:"4",dTag:"locker-la-001",name:"Silverlake Community Box",description:"Community-run locker. Local volunteers maintain.",price:300,geohash:"9q8yym",city:"Los Angeles",state:"CA",owner:"npub1owner4...",dimensions:"30x40x50 cm",features:["Community Run","Cheap"],proxyService:{available:!0,fee:8e3,name:"Carol (Community)"}}],K7=[{id:"seller-1",name:"CryptoVault",npub:"npub1vault...",tagline:"Premium hardware wallets & security devices",items:["ColdCard","SeedSigner","Faraday bags"],trustScore:4.9,sales:156,servicesAreas:["9q8yyz","9q8yyk","dpwh"],isPremium:!0},{id:"seller-2",name:"PrivacyFirst",npub:"npub1priv...",tagline:"De-googled phones & privacy tools",items:["Pixel w/ GrapheneOS","VPN subs"," anon SIMs"],trustScore:4.7,sales:89,servicesAreas:["9q8yyz","9q8yym","dpwh"],isPremium:!0},{id:"seller-3",name:"SatStacker",npub:"npub1sat...",tagline:"Bitcoin merchandise & educational kits",items:["Metal seeds","Books","Stickers"],trustScore:5,sales:234,servicesAreas:["9q8yyk","dqcjq"],isPremium:!1}],G7={"san francisco":["9q8yyz"],sf:["9q8yyz"],94102:["9q8yyz"],94103:["9q8yyz"],"new york":["9q8yyk"],nyc:["9q8yyk"],10001:["9q8yyk"],seattle:["dpwh"],98101:["dpwh"],"los angeles":["9q8yym"],la:["9q8yym"],90001:["9q8yym"],denver:["dqcjq"],80201:["dqcjq"],chicago:["9q8yyf"],60601:["9q8yyf"]};function Y7(){const{nostr:e}=Oo(),[t,n]=j.useState("grid"),[r,i]=j.useState(2e3),[l,c]=j.useState(!1),[u,f]=j.useState(""),[m,y]=j.useState(""),[g,E]=j.useState(!1),_=j.useMemo(()=>{if(!m.trim())return null;const P=m.toLowerCase().trim();return G7[P]||null},[m]),k=j.useMemo(()=>cy.filter(P=>{const R=!u||P.name.toLowerCase().includes(u.toLowerCase())||P.description.toLowerCase().includes(u.toLowerCase())||P.city.toLowerCase().includes(u.toLowerCase()),D=P.price<=r,B=!_||_.some(q=>P.geohash.startsWith(q));return R&&D&&B}),[u,r,_]),w=j.useMemo(()=>_?K7.filter(P=>P.servicesAreas.some(R=>_.some(D=>R.startsWith(D)))):[],[_]),b=P=>P>=1e3?`${(P/1e3).toFixed(1)}k`:`${P}`,S=m&&!_;return w.length>0,p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[p.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[p.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold",children:"Locker Marketplace"}),p.jsx("p",{className:"text-muted-foreground",children:"Find secure drop boxes for anonymous exchanges"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(qe,{variant:"outline",onClick:()=>E(!0),children:[p.jsx(ad,{className:"h-4 w-4 mr-2"}),"Browse Map"]}),p.jsx(qe,{asChild:!0,children:p.jsxs(ln,{to:"/dashboard",children:[p.jsx(Hi,{className:"h-4 w-4 mr-2"}),"List Your Locker"]})})]})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(a6,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),p.jsx(Qt,{placeholder:"Search lockers...",value:u,onChange:P=>f(P.target.value),className:"pl-10"})]}),p.jsxs("div",{className:"relative",children:[p.jsx(Bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),p.jsx(Qt,{placeholder:"Enter city or zip code...",value:m,onChange:P=>y(P.target.value),className:"pl-10"})]})]}),p.jsx("div",{className:"flex flex-wrap items-center gap-3",children:p.jsxs("div",{className:"flex gap-2 flex-1",children:[p.jsxs(qe,{variant:t==="grid"?"default":"outline",size:"sm",onClick:()=>n("grid"),children:[p.jsx(n6,{className:"h-4 w-4 mr-2"}),"Grid"]}),p.jsxs(qe,{variant:t==="map"?"default":"outline",size:"sm",onClick:()=>n("map"),children:[p.jsx(ad,{className:"h-4 w-4 mr-2"}),"Map"]}),p.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>c(!l),children:[p.jsx(X8,{className:"h-4 w-4 mr-2"}),"Filters"]})]})}),l&&p.jsx(_t,{children:p.jsx(St,{className:"pt-6",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs(an,{children:["Max Hourly Rate: ",b(r)," sats"]}),p.jsx(ZP,{min:0,max:5e3,step:100,value:[r],onValueChange:([P])=>i(P)})]})})})]}),S?p.jsx(J7,{location:m,onClear:()=>y("")}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[p.jsx(Hi,{className:"h-4 w-4"}),k.length," locker",k.length!==1?"s":""," found",m&&p.jsxs("span",{children:["near ",m]})]}),t==="map"?p.jsxs("div",{className:"grid lg:grid-cols-3 gap-4",children:[p.jsx(_t,{className:"lg:col-span-2 min-h-[500px]",children:p.jsx(a1,{lockers:k.map(P=>({id:P.id,dTag:P.dTag,title:P.name,price:P.price,geohash:P.geohash,status:"available",description:`${P.city}, ${P.state}`}))})}),p.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:k.map(P=>p.jsx(l1,{locker:P,compact:!0},P.id))})]}):p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:k.map(P=>p.jsx(l1,{locker:P},P.id))}),k.length>0&&p.jsxs("div",{className:"border-t border-dashed pt-6 mt-8",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Featured from the circular economy"}),p.jsx(gn,{variant:"outline",className:"text-xs",children:"P2P Network"})]}),p.jsx(_t,{className:"bg-muted/30",children:p.jsx(St,{className:"p-4",children:p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[p.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center shrink-0",children:p.jsx(Xy,{className:"h-6 w-6 text-primary"})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[p.jsx("h4",{className:"font-semibold",children:"CryptoVault"}),p.jsx(gn,{variant:"secondary",className:"text-xs",children:" 4.9 Trust"}),p.jsx(gn,{variant:"outline",className:"text-xs",children:"156 sales"})]}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Premium hardware wallets & security devices. Ships to any locker or local drop-off."}),p.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[p.jsx(gn,{variant:"outline",className:"text-xs",children:"ColdCard"}),p.jsx(gn,{variant:"outline",className:"text-xs",children:"SeedSigner"}),p.jsx(gn,{variant:"outline",className:"text-xs",children:"Faraday Bags"})]})]}),p.jsxs("div",{className:"flex gap-2 shrink-0",children:[p.jsx(qe,{size:"sm",variant:"outline",children:"Message"}),p.jsx(qe,{size:"sm",children:"View Store"})]})]})})}),p.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[w.map(P=>p.jsxs(qe,{variant:"outline",size:"sm",className:"h-auto py-1.5",children:[p.jsx(Xy,{className:"h-3 w-3 mr-1.5"}),P.name]},P.id)),p.jsx(qe,{variant:"ghost",size:"sm",className:"h-auto py-1.5 text-muted-foreground",children:"Join network "})]})]})]})]}),p.jsx(Rc,{open:g,onOpenChange:E,children:p.jsx(Xa,{className:"max-w-6xl h-[80vh] p-0",children:p.jsxs("div",{className:"grid md:grid-cols-3 h-full",children:[p.jsx("div",{className:"md:col-span-2 h-full min-h-[400px]",children:p.jsx(a1,{lockers:cy.map(P=>({id:P.id,dTag:P.dTag,title:P.name,price:P.price,geohash:P.geohash,status:"available",description:`${P.city}, ${P.state}`}))})}),p.jsxs("div",{className:"p-4 overflow-y-auto border-l",children:[p.jsx("h3",{className:"font-semibold text-lg mb-4",children:"All Locations"}),p.jsx("div",{className:"space-y-2",children:cy.map(P=>p.jsx(_t,{className:"cursor-pointer hover:border-primary",children:p.jsxs(St,{className:"p-3",children:[p.jsx("p",{className:"font-medium text-sm",children:P.name}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[P.city,", ",P.state]}),p.jsxs("p",{className:"text-sm font-medium mt-1",children:[b(P.price)," sats/hr"]})]})},P.id))})]})]})})})]})}function l1({locker:e,compact:t=!1}){var n;return t?p.jsx(_t,{className:"hover:border-primary transition-colors",children:p.jsxs(St,{className:"p-3",children:[p.jsx("p",{className:"font-medium text-sm",children:e.name}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.city,", ",e.state]}),p.jsxs("p",{className:"text-sm font-medium mt-1",children:[e.price," sats/hr"]})]})}):p.jsxs(_t,{className:"hover:border-primary transition-colors group",children:[p.jsxs(Zt,{className:"pb-3",children:[p.jsx("div",{className:"flex items-start justify-between",children:p.jsx(Ht,{className:"text-base group-hover:text-primary transition-colors",children:e.name})}),p.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[p.jsx(Bc,{className:"h-3 w-3"}),p.jsxs("span",{children:[e.city,", ",e.state]})]})]}),p.jsxs(St,{className:"space-y-3",children:[p.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),p.jsx("div",{className:"flex flex-wrap gap-1",children:e.features.map(r=>p.jsx(gn,{variant:"secondary",className:"text-xs",children:r},r))}),e.dimensions&&p.jsx("p",{className:"text-xs text-muted-foreground",children:e.dimensions}),p.jsx("div",{className:"pt-2 border-t",children:(n=e.proxyService)!=null&&n.available?p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Proxy Service"}),p.jsx("p",{className:"text-sm font-medium",children:e.proxyService.name})]}),p.jsxs(gn,{variant:"outline",className:"text-xs",children:["+",e.proxyService.fee.toLocaleString()," sats/drop"]})]}):p.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[p.jsx("p",{className:"text-xs",children:"No proxy service - self-service only"}),p.jsx(gn,{variant:"outline",className:"text-xs",children:"Unmanned"})]})})]}),p.jsxs(Oa,{className:"pt-0 flex items-center justify-between",children:[p.jsxs("span",{className:"text-lg font-bold",children:[e.price," ",p.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"sats/hr"})]}),p.jsx(qe,{asChild:!0,size:"sm",children:p.jsx(ln,{to:`/locker/${e.dTag}`,children:"Rent"})})]})]})}function J7({location:e,onClear:t}){return p.jsx(_t,{className:"text-center py-12",children:p.jsxs(St,{className:"space-y-4",children:[p.jsx(Bc,{className:"h-12 w-12 mx-auto text-muted-foreground"}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl font-bold mb-2",children:["No lockers in ",e]}),p.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Be the first to host a locker and enable local P2P trades."})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4",children:[p.jsx(qe,{asChild:!0,children:p.jsxs(ln,{to:"/dashboard",children:[p.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Host a Locker"]})}),p.jsx(qe,{variant:"outline",onClick:t,children:"Clear Search"})]})]})})}var iw="Radio",[Q7,HP]=nr(iw),[X7,eZ]=Q7(iw),WP=j.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:l,disabled:c,value:u="on",onCheck:f,form:m,...y}=e,[g,E]=j.useState(null),_=At(t,b=>E(b)),k=j.useRef(!1),w=g?m||!!g.closest("form"):!0;return p.jsxs(X7,{scope:n,checked:i,disabled:c,children:[p.jsx(at.button,{type:"button",role:"radio","aria-checked":i,"data-state":GP(i),"data-disabled":c?"":void 0,disabled:c,value:u,...y,ref:_,onClick:Ke(e.onClick,b=>{i||f==null||f(),w&&(k.current=b.isPropagationStopped(),k.current||b.stopPropagation())})}),w&&p.jsx(KP,{control:g,bubbles:!k.current,name:r,value:u,checked:i,required:l,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});WP.displayName=iw;var VP="RadioIndicator",qP=j.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,l=eZ(VP,n);return p.jsx(Ar,{present:r||l.checked,children:p.jsx(at.span,{"data-state":GP(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t})})});qP.displayName=VP;var tZ="RadioBubbleInput",KP=j.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},l)=>{const c=j.useRef(null),u=At(c,l),f=nw(n),m=Op(t);return j.useEffect(()=>{const y=c.current;if(!y)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==n&&_){const k=new Event("click",{bubbles:r});_.call(y,n),y.dispatchEvent(k)}},[f,n,r]),p.jsx(at.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});KP.displayName=tZ;function GP(e){return e?"checked":"unchecked"}var nZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Kp="RadioGroup",[rZ,lH]=nr(Kp,[Hc,HP]),YP=Hc(),JP=HP(),[iZ,oZ]=rZ(Kp),QP=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:l,required:c=!1,disabled:u=!1,orientation:f,dir:m,loop:y=!0,onValueChange:g,...E}=e,_=YP(n),k=Rd(m),[w,b]=Mo({prop:l,defaultProp:i??"",onChange:g,caller:Kp});return p.jsx(iZ,{scope:n,name:r,required:c,disabled:u,value:w,onValueChange:b,children:p.jsx(D0,{asChild:!0,..._,orientation:f,dir:k,loop:y,children:p.jsx(at.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":u?"":void 0,dir:k,...E,ref:t})})})});QP.displayName=Kp;var XP="RadioGroupItem",eT=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,l=oZ(XP,n),c=l.disabled||r,u=YP(n),f=JP(n),m=j.useRef(null),y=At(t,m),g=l.value===i.value,E=j.useRef(!1);return j.useEffect(()=>{const _=w=>{nZ.includes(w.key)&&(E.current=!0)},k=()=>E.current=!1;return document.addEventListener("keydown",_),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",_),document.removeEventListener("keyup",k)}},[]),p.jsx(B0,{asChild:!0,...u,focusable:!c,active:g,children:p.jsx(WP,{disabled:c,required:l.required,checked:g,...f,...i,name:l.name,ref:y,onCheck:()=>l.onValueChange(i.value),onKeyDown:Ke(_=>{_.key==="Enter"&&_.preventDefault()}),onFocus:Ke(i.onFocus,()=>{var _;E.current&&((_=m.current)==null||_.click())})})})});eT.displayName=XP;var sZ="RadioGroupIndicator",tT=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=JP(n);return p.jsx(qP,{...i,...r,ref:t})});tT.displayName=sZ;var nT=QP,rT=eT,aZ=tT;const iT=j.forwardRef(({className:e,...t},n)=>p.jsx(nT,{className:lt("grid gap-2",e),...t,ref:n}));iT.displayName=nT.displayName;const oT=j.forwardRef(({className:e,...t},n)=>p.jsx(rT,{ref:n,className:lt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:p.jsx(aZ,{className:"flex items-center justify-center",children:p.jsx(iS,{className:"h-2.5 w-2.5 fill-current text-current"})})}));oT.displayName=rT.displayName;const c1=[{id:"1",dTag:"prod-001",title:"Privacy-First Smartphone",description:"De-googled Android phone with GrapheneOS pre-installed. Full privacy setup including hardened browser, encrypted messaging, and no Google services. Perfect for those who value their digital privacy.",price:899e3,category:"Electronics",vendor:"PrivacyTech Co",vendorNpub:"npub1abc...",inStock:!0},{id:"2",dTag:"prod-002",title:"Faraday Phone Pouch",description:"Military-grade signal blocking pouch. Protects against tracking, surveillance, and unauthorized access to your device.",price:45e3,category:"Accessories",vendor:"SignalSafe",vendorNpub:"npub1def...",inStock:!0}],u1=[{id:"1",name:"Downtown SF",location:"San Francisco, CA",geohash:"9q8yyz"},{id:"2",name:"Union Square",location:"New York, NY",geohash:"9q8yyk"},{id:"3",name:"Tech Hub",location:"Seattle, WA",geohash:"dpwh"},{id:"4",name:"LAX Area",location:"Los Angeles, CA",geohash:"9q8yym"}];function lZ(){var g;const{dTag:e}=A0(),{toast:t}=tl(),[n,r]=j.useState(!1),[i,l]=j.useState(""),[c,u]=j.useState("locker"),f=c1.find(E=>E.dTag===e)||c1[0],m=E=>E>=1e8?` ${(E/1e8).toFixed(3)}`:E>=1e6?`${(E/1e6).toFixed(2)}M sats`:E>=1e3?`${(E/1e3).toFixed(1)}k sats`:`${E} sats`,y=()=>{t({title:"Order placed!",description:"The vendor has been notified. You'll receive a pickup code once they ship to your selected locker."}),r(!1),u("locker"),l("")};return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[p.jsx(qe,{variant:"ghost",asChild:!0,className:"mb-4",children:p.jsxs(ln,{to:"/marketplace",children:[p.jsx(nS,{className:"h-4 w-4 mr-2"}),"Back to Marketplace"]})}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:p.jsx(c6,{className:"h-32 w-32 text-muted-foreground"})}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx(gn,{className:"mb-2",children:f.category}),p.jsx("h1",{className:"text-3xl font-bold mb-2",children:f.title}),p.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[p.jsx(Xy,{className:"h-4 w-4"}),p.jsx("span",{children:f.vendor})]})]}),p.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:f.description}),p.jsxs("div",{className:"flex items-center justify-between py-4 border-y",children:[p.jsx("span",{className:"text-3xl font-bold",children:m(f.price)}),p.jsx(gn,{variant:f.inStock?"default":"secondary",children:f.inStock?"In Stock":"Out of Stock"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[p.jsx(u6,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Ships to DeadDropstr Lockers"}),p.jsx("p",{className:"text-muted-foreground",children:"Pick up anonymously at a location near you"})]})]}),p.jsx(qe,{size:"lg",className:"w-full",disabled:!f.inStock,onClick:()=>r(!0),children:f.inStock?"Buy Now":"Out of Stock"})]})]})]}),p.jsxs(_t,{className:"mt-12",children:[p.jsx(Zt,{children:p.jsx(Ht,{children:"How DeadDropstr Delivery Works"})}),p.jsx(St,{children:p.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-center",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:p.jsx("span",{className:"font-bold",children:"1"})}),p.jsx("p",{className:"font-medium",children:"Choose Locker"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a convenient pickup location"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:p.jsx("span",{className:"font-bold",children:"2"})}),p.jsx("p",{className:"font-medium",children:"Pay with Bitcoin"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Lightning or on-chain"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:p.jsx("span",{className:"font-bold",children:"3"})}),p.jsx("p",{className:"font-medium",children:"Vendor Ships"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Product delivered to your locker"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:p.jsx("span",{className:"font-bold",children:"4"})}),p.jsx("p",{className:"font-medium",children:"Pick Up"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive code & collect anonymously"})]})]})})]})]}),p.jsx(Rc,{open:n,onOpenChange:r,children:p.jsxs(Xa,{className:"max-w-lg",children:[p.jsxs(Ic,{children:[p.jsx(fd,{children:"Complete Your Order"}),p.jsx(Xh,{children:"Choose a locker location for pickup"})]}),c==="locker"&&p.jsxs("div",{className:"space-y-4",children:[p.jsx(iT,{value:i,onValueChange:l,children:p.jsx("div",{className:"space-y-2",children:u1.map(E=>p.jsxs("div",{children:[p.jsx(oT,{value:E.id,id:E.id,className:"peer sr-only"}),p.jsx(an,{htmlFor:E.id,className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-muted peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Bc,{className:"h-5 w-5 text-muted-foreground"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:E.name}),p.jsx("p",{className:"text-sm text-muted-foreground",children:E.location})]})]})})]},E.id))})}),p.jsx(qe,{className:"w-full",disabled:!i,onClick:()=>u("confirm"),children:"Continue"})]}),c==="confirm"&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Summary"}),p.jsx("p",{className:"font-medium",children:f.title}),p.jsx("p",{className:"text-lg font-bold",children:m(f.price)}),p.jsxs("div",{className:"pt-2 border-t",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Deliver to:"}),p.jsx("p",{className:"font-medium",children:(g=u1.find(E=>E.id===i))==null?void 0:g.name})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(qe,{variant:"outline",onClick:()=>u("locker"),children:"Back"}),p.jsx(qe,{className:"flex-1",onClick:y,children:"Pay & Place Order"})]})]})]})})]})}function vh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uy={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var d1;function cZ(){return d1||(d1=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,l){function c(m,y){if(!i[m]){if(!r[m]){var g=typeof vh=="function"&&vh;if(!y&&g)return g(m,!0);if(u)return u(m,!0);var E=new Error("Cannot find module '"+m+"'");throw E.code="MODULE_NOT_FOUND",E}var _=i[m]={exports:{}};r[m][0].call(_.exports,function(k){var w=r[m][1][k];return c(w||k)},_,_.exports,n,r,i,l)}return i[m].exports}for(var u=typeof vh=="function"&&vh,f=0;f<l.length;f++)c(l[f]);return c}({1:[function(n,r,i){var l=n("./utils"),c=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(f){for(var m,y,g,E,_,k,w,b=[],S=0,P=f.length,R=P,D=l.getTypeOf(f)!=="string";S<f.length;)R=P-S,g=D?(m=f[S++],y=S<P?f[S++]:0,S<P?f[S++]:0):(m=f.charCodeAt(S++),y=S<P?f.charCodeAt(S++):0,S<P?f.charCodeAt(S++):0),E=m>>2,_=(3&m)<<4|y>>4,k=1<R?(15&y)<<2|g>>6:64,w=2<R?63&g:64,b.push(u.charAt(E)+u.charAt(_)+u.charAt(k)+u.charAt(w));return b.join("")},i.decode=function(f){var m,y,g,E,_,k,w=0,b=0,S="data:";if(f.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var P,R=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===u.charAt(64)&&R--,f.charAt(f.length-2)===u.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=c.uint8array?new Uint8Array(0|R):new Array(0|R);w<f.length;)m=u.indexOf(f.charAt(w++))<<2|(E=u.indexOf(f.charAt(w++)))>>4,y=(15&E)<<4|(_=u.indexOf(f.charAt(w++)))>>2,g=(3&_)<<6|(k=u.indexOf(f.charAt(w++))),P[b++]=m,_!==64&&(P[b++]=y),k!==64&&(P[b++]=g);return P}},{"./support":30,"./utils":32}],2:[function(n,r,i){var l=n("./external"),c=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),f=n("./stream/DataLengthProbe");function m(y,g,E,_,k){this.compressedSize=y,this.uncompressedSize=g,this.crc32=E,this.compression=_,this.compressedContent=k}m.prototype={getContentWorker:function(){var y=new c(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),g=this;return y.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new c(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(y,g,E){return y.pipe(new u).pipe(new f("uncompressedSize")).pipe(g.compressWorker(E)).pipe(new f("compressedSize")).withStreamInfo("compression",g)},r.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var l=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var l=n("./utils"),c=function(){for(var u,f=[],m=0;m<256;m++){u=m;for(var y=0;y<8;y++)u=1&u?3988292384^u>>>1:u>>>1;f[m]=u}return f}();r.exports=function(u,f){return u!==void 0&&u.length?l.getTypeOf(u)!=="string"?function(m,y,g,E){var _=c,k=E+g;m^=-1;for(var w=E;w<k;w++)m=m>>>8^_[255&(m^y[w])];return-1^m}(0|f,u,u.length,0):function(m,y,g,E){var _=c,k=E+g;m^=-1;for(var w=E;w<k;w++)m=m>>>8^_[255&(m^y.charCodeAt(w))];return-1^m}(0|f,u,u.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var l=null;l=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:l}},{lie:37}],7:[function(n,r,i){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=n("pako"),u=n("./utils"),f=n("./stream/GenericWorker"),m=l?"uint8array":"array";function y(g,E){f.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=E,this.meta={}}i.magic="\b\0",u.inherits(y,f),y.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(m,g.data),!1)},y.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(E){g.push({data:E,meta:g.meta})}},i.compressWorker=function(g){return new y("Deflate",g)},i.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function l(_,k){var w,b="";for(w=0;w<k;w++)b+=String.fromCharCode(255&_),_>>>=8;return b}function c(_,k,w,b,S,P){var R,D,B=_.file,q=_.compression,G=P!==m.utf8encode,J=u.transformTo("string",P(B.name)),V=u.transformTo("string",m.utf8encode(B.name)),Y=B.comment,Q=u.transformTo("string",P(Y)),U=u.transformTo("string",m.utf8encode(Y)),re=V.length!==B.name.length,M=U.length!==Y.length,W="",ae="",oe="",ne=B.dir,ee=B.date,le={crc32:0,compressedSize:0,uncompressedSize:0};k&&!w||(le.crc32=_.crc32,le.compressedSize=_.compressedSize,le.uncompressedSize=_.uncompressedSize);var F=0;k&&(F|=8),G||!re&&!M||(F|=2048);var K=0,Ce=0;ne&&(K|=16),S==="UNIX"?(Ce=798,K|=function(we,Re){var Ue=we;return we||(Ue=Re?16893:33204),(65535&Ue)<<16}(B.unixPermissions,ne)):(Ce=20,K|=function(we){return 63&(we||0)}(B.dosPermissions)),R=ee.getUTCHours(),R<<=6,R|=ee.getUTCMinutes(),R<<=5,R|=ee.getUTCSeconds()/2,D=ee.getUTCFullYear()-1980,D<<=4,D|=ee.getUTCMonth()+1,D<<=5,D|=ee.getUTCDate(),re&&(ae=l(1,1)+l(y(J),4)+V,W+="up"+l(ae.length,2)+ae),M&&(oe=l(1,1)+l(y(Q),4)+U,W+="uc"+l(oe.length,2)+oe);var be="";return be+=`
\0`,be+=l(F,2),be+=q.magic,be+=l(R,2),be+=l(D,2),be+=l(le.crc32,4),be+=l(le.compressedSize,4),be+=l(le.uncompressedSize,4),be+=l(J.length,2),be+=l(W.length,2),{fileRecord:g.LOCAL_FILE_HEADER+be+J+W,dirRecord:g.CENTRAL_FILE_HEADER+l(Ce,2)+be+l(Q.length,2)+"\0\0\0\0"+l(K,4)+l(b,4)+J+W+Q}}var u=n("../utils"),f=n("../stream/GenericWorker"),m=n("../utf8"),y=n("../crc32"),g=n("../signature");function E(_,k,w,b){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=w,this.encodeFileName=b,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(E,f),E.prototype.push=function(_){var k=_.meta.percent||0,w=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,f.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:w?(k+100*(w-b-1))/w:100}}))},E.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var k=this.streamFiles&&!_.file.dir;if(k){var w=c(_,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},E.prototype.closedSource=function(_){this.accumulate=!1;var k=this.streamFiles&&!_.file.dir,w=c(_,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),k)this.push({data:function(b){return g.DATA_DESCRIPTOR+l(b.crc32,4)+l(b.compressedSize,4)+l(b.uncompressedSize,4)}(_),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},E.prototype.flush=function(){for(var _=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var w=this.bytesWritten-_,b=function(S,P,R,D,B){var q=u.transformTo("string",B(D));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(S,2)+l(S,2)+l(P,4)+l(R,4)+l(q.length,2)+q}(this.dirRecords.length,w,_,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},E.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},E.prototype.registerPrevious=function(_){this._sources.push(_);var k=this;return _.on("data",function(w){k.processChunk(w)}),_.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),_.on("error",function(w){k.error(w)}),this},E.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},E.prototype.error=function(_){var k=this._sources;if(!f.prototype.error.call(this,_))return!1;for(var w=0;w<k.length;w++)try{k[w].error(_)}catch{}return!0},E.prototype.lock=function(){f.prototype.lock.call(this);for(var _=this._sources,k=0;k<_.length;k++)_[k].lock()},r.exports=E},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var l=n("../compressions"),c=n("./ZipFileWorker");i.generateWorker=function(u,f,m){var y=new c(f.streamFiles,m,f.platform,f.encodeFileName),g=0;try{u.forEach(function(E,_){g++;var k=function(P,R){var D=P||R,B=l[D];if(!B)throw new Error(D+" is not a valid compression method !");return B}(_.options.compression,f.compression),w=_.options.compressionOptions||f.compressionOptions||{},b=_.dir,S=_.date;_._compressWorker(k,w).withStreamInfo("file",{name:E,dir:b,date:S,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(y)}),y.entriesCount=g}catch(E){y.error(E)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new l;for(var u in this)typeof this[u]!="function"&&(c[u]=this[u]);return c}}(l.prototype=n("./object")).loadAsync=n("./load"),l.support=n("./support"),l.defaults=n("./defaults"),l.version="3.10.1",l.loadAsync=function(c,u){return new l().loadAsync(c,u)},l.external=n("./external"),r.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var l=n("./utils"),c=n("./external"),u=n("./utf8"),f=n("./zipEntries"),m=n("./stream/Crc32Probe"),y=n("./nodejsUtils");function g(E){return new c.Promise(function(_,k){var w=E.decompressed.getContentWorker().pipe(new m);w.on("error",function(b){k(b)}).on("end",function(){w.streamInfo.crc32!==E.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}r.exports=function(E,_){var k=this;return _=l.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),y.isNode&&y.isStream(E)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",E,!0,_.optimizedBinaryString,_.base64).then(function(w){var b=new f(_);return b.load(w),b}).then(function(w){var b=[c.Promise.resolve(w)],S=w.files;if(_.checkCRC32)for(var P=0;P<S.length;P++)b.push(g(S[P]));return c.Promise.all(b)}).then(function(w){for(var b=w.shift(),S=b.files,P=0;P<S.length;P++){var R=S[P],D=R.fileNameStr,B=l.resolve(R.fileNameStr);k.file(B,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:_.createFolders}),R.dir||(k.file(B).unsafeOriginalName=D)}return b.zipComment.length&&(k.comment=b.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var l=n("../utils"),c=n("../stream/GenericWorker");function u(f,m){c.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(m)}l.inherits(u,c),u.prototype._bindStream=function(f){var m=this;(this._stream=f).pause(),f.on("data",function(y){m.push({data:y,meta:{percent:0}})}).on("error",function(y){m.isPaused?this.generatedError=y:m.error(y)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},u.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var l=n("readable-stream").Readable;function c(u,f,m){l.call(this,f),this._helper=u;var y=this;u.on("data",function(g,E){y.push(g)||y._helper.pause(),m&&m(E)}).on("error",function(g){y.emit("error",g)}).on("end",function(){y.push(null)})}n("../utils").inherits(c,l),c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,c);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,c)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var c=new Buffer(l);return c.fill(0),c},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(n,r,i){function l(B,q,G){var J,V=u.getTypeOf(q),Y=u.extend(G||{},y);Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),typeof Y.unixPermissions=="string"&&(Y.unixPermissions=parseInt(Y.unixPermissions,8)),Y.unixPermissions&&16384&Y.unixPermissions&&(Y.dir=!0),Y.dosPermissions&&16&Y.dosPermissions&&(Y.dir=!0),Y.dir&&(B=S(B)),Y.createFolders&&(J=b(B))&&P.call(this,J,!0);var Q=V==="string"&&Y.binary===!1&&Y.base64===!1;G&&G.binary!==void 0||(Y.binary=!Q),(q instanceof g&&q.uncompressedSize===0||Y.dir||!q||q.length===0)&&(Y.base64=!1,Y.binary=!0,q="",Y.compression="STORE",V="string");var U=null;U=q instanceof g||q instanceof f?q:k.isNode&&k.isStream(q)?new w(B,q):u.prepareContent(B,q,Y.binary,Y.optimizedBinaryString,Y.base64);var re=new E(B,U,Y);this.files[B]=re}var c=n("./utf8"),u=n("./utils"),f=n("./stream/GenericWorker"),m=n("./stream/StreamHelper"),y=n("./defaults"),g=n("./compressedObject"),E=n("./zipObject"),_=n("./generate"),k=n("./nodejsUtils"),w=n("./nodejs/NodejsStreamInputAdapter"),b=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var q=B.lastIndexOf("/");return 0<q?B.substring(0,q):""},S=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},P=function(B,q){return q=q!==void 0?q:y.createFolders,B=S(B),this.files[B]||l.call(this,B,null,{dir:!0,createFolders:q}),this.files[B]};function R(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var q,G,J;for(q in this.files)J=this.files[q],(G=q.slice(this.root.length,q.length))&&q.slice(0,this.root.length)===this.root&&B(G,J)},filter:function(B){var q=[];return this.forEach(function(G,J){B(G,J)&&q.push(J)}),q},file:function(B,q,G){if(arguments.length!==1)return B=this.root+B,l.call(this,B,q,G),this;if(R(B)){var J=B;return this.filter(function(Y,Q){return!Q.dir&&J.test(Y)})}var V=this.files[this.root+B];return V&&!V.dir?V:null},folder:function(B){if(!B)return this;if(R(B))return this.filter(function(V,Y){return Y.dir&&B.test(V)});var q=this.root+B,G=P.call(this,q),J=this.clone();return J.root=G.name,J},remove:function(B){B=this.root+B;var q=this.files[B];if(q||(B.slice(-1)!=="/"&&(B+="/"),q=this.files[B]),q&&!q.dir)delete this.files[B];else for(var G=this.filter(function(V,Y){return Y.name.slice(0,B.length)===B}),J=0;J<G.length;J++)delete this.files[G[J].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var q,G={};try{if((G=u.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=G.type.toLowerCase(),G.compression=G.compression.toUpperCase(),G.type==="binarystring"&&(G.type="string"),!G.type)throw new Error("No output type specified.");u.checkSupport(G.type),G.platform!=="darwin"&&G.platform!=="freebsd"&&G.platform!=="linux"&&G.platform!=="sunos"||(G.platform="UNIX"),G.platform==="win32"&&(G.platform="DOS");var J=G.comment||this.comment||"";q=_.generateWorker(this,G,J)}catch(V){(q=new f("error")).error(V)}return new m(q,G.type||"string",G.mimeType)},generateAsync:function(B,q){return this.generateInternalStream(B).accumulate(q)},generateNodeStream:function(B,q){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(q)}};r.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var l=n("./DataReader");function c(u){l.call(this,u);for(var f=0;f<this.data.length;f++)u[f]=255&u[f]}n("../utils").inherits(c,l),c.prototype.byteAt=function(u){return this.data[this.zero+u]},c.prototype.lastIndexOfSignature=function(u){for(var f=u.charCodeAt(0),m=u.charCodeAt(1),y=u.charCodeAt(2),g=u.charCodeAt(3),E=this.length-4;0<=E;--E)if(this.data[E]===f&&this.data[E+1]===m&&this.data[E+2]===y&&this.data[E+3]===g)return E-this.zero;return-1},c.prototype.readAndCheckSignature=function(u){var f=u.charCodeAt(0),m=u.charCodeAt(1),y=u.charCodeAt(2),g=u.charCodeAt(3),E=this.readData(4);return f===E[0]&&m===E[1]&&y===E[2]&&g===E[3]},c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var l=n("../utils");function c(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var f,m=0;for(this.checkOffset(u),f=this.index+u-1;f>=this.index;f--)m=(m<<8)+this.byteAt(f);return this.index+=u,m},readString:function(u){return l.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=c},{"../utils":32}],19:[function(n,r,i){var l=n("./Uint8ArrayReader");function c(u){l.call(this,u)}n("../utils").inherits(c,l),c.prototype.readData=function(u){this.checkOffset(u);var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var l=n("./DataReader");function c(u){l.call(this,u)}n("../utils").inherits(c,l),c.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},c.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},c.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},c.prototype.readData=function(u){this.checkOffset(u);var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var l=n("./ArrayReader");function c(u){l.call(this,u)}n("../utils").inherits(c,l),c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var l=n("../utils"),c=n("../support"),u=n("./ArrayReader"),f=n("./StringReader"),m=n("./NodeBufferReader"),y=n("./Uint8ArrayReader");r.exports=function(g){var E=l.getTypeOf(g);return l.checkSupport(E),E!=="string"||c.uint8array?E==="nodebuffer"?new m(g):c.uint8array?new y(l.transformTo("uint8array",g)):new u(l.transformTo("array",g)):new f(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var l=n("./GenericWorker"),c=n("../utils");function u(f){l.call(this,"ConvertWorker to "+f),this.destType=f}c.inherits(u,l),u.prototype.processChunk=function(f){this.push({data:c.transformTo(this.destType,f.data),meta:f.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var l=n("./GenericWorker"),c=n("../crc32");function u(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,l),u.prototype.processChunk=function(f){this.streamInfo.crc32=c(f.data,this.streamInfo.crc32||0),this.push(f)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var l=n("../utils"),c=n("./GenericWorker");function u(f){c.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}l.inherits(u,c),u.prototype.processChunk=function(f){if(f){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+f.data.length}c.prototype.processChunk.call(this,f)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var l=n("../utils"),c=n("./GenericWorker");function u(f){c.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(y){m.dataIsReady=!0,m.data=y,m.max=y&&y.length||0,m.type=l.getTypeOf(y),m.isPaused||m._tickAndRepeat()},function(y){m.error(y)})}l.inherits(u,c),u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,m);break;case"uint8array":f=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":f=this.data.slice(this.index,m)}return this.index=m,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function l(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,u){return this._listeners[c].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,u){if(this._listeners[c])for(var f=0;f<this._listeners[c].length;f++)this._listeners[c][f].call(this,u)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var u=this;return c.on("data",function(f){u.processChunk(f)}),c.on("end",function(){u.end()}),c.on("error",function(f){u.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,u){return this.extraStreamInfo[c]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},r.exports=l},{}],29:[function(n,r,i){var l=n("../utils"),c=n("./ConvertWorker"),u=n("./GenericWorker"),f=n("../base64"),m=n("../support"),y=n("../external"),g=null;if(m.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function E(k,w){return new y.Promise(function(b,S){var P=[],R=k._internalType,D=k._outputType,B=k._mimeType;k.on("data",function(q,G){P.push(q),w&&w(G)}).on("error",function(q){P=[],S(q)}).on("end",function(){try{var q=function(G,J,V){switch(G){case"blob":return l.newBlob(l.transformTo("arraybuffer",J),V);case"base64":return f.encode(J);default:return l.transformTo(G,J)}}(D,function(G,J){var V,Y=0,Q=null,U=0;for(V=0;V<J.length;V++)U+=J[V].length;switch(G){case"string":return J.join("");case"array":return Array.prototype.concat.apply([],J);case"uint8array":for(Q=new Uint8Array(U),V=0;V<J.length;V++)Q.set(J[V],Y),Y+=J[V].length;return Q;case"nodebuffer":return Buffer.concat(J);default:throw new Error("concat : unsupported type '"+G+"'")}}(R,P),B);b(q)}catch(G){S(G)}P=[]}).resume()})}function _(k,w,b){var S=w;switch(w){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=w,this._mimeType=b,l.checkSupport(S),this._worker=k.pipe(new c(S)),k.lock()}catch(P){this._worker=new u("error"),this._worker.error(P)}}_.prototype={accumulate:function(k){return E(this,k)},on:function(k,w){var b=this;return k==="data"?this._worker.on(k,function(S){w.call(b,S.data,S.meta)}):this._worker.on(k,function(){l.delay(w,arguments,b)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},k)}},r.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var l=new ArrayBuffer(0);try{i.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(l),i.blob=c.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var l=n("./utils"),c=n("./support"),u=n("./nodejsUtils"),f=n("./stream/GenericWorker"),m=new Array(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;m[254]=m[254]=1;function g(){f.call(this,"utf-8 decode"),this.leftOver=null}function E(){f.call(this,"utf-8 encode")}i.utf8encode=function(_){return c.nodebuffer?u.newBufferFrom(_,"utf-8"):function(k){var w,b,S,P,R,D=k.length,B=0;for(P=0;P<D;P++)(64512&(b=k.charCodeAt(P)))==55296&&P+1<D&&(64512&(S=k.charCodeAt(P+1)))==56320&&(b=65536+(b-55296<<10)+(S-56320),P++),B+=b<128?1:b<2048?2:b<65536?3:4;for(w=c.uint8array?new Uint8Array(B):new Array(B),P=R=0;R<B;P++)(64512&(b=k.charCodeAt(P)))==55296&&P+1<D&&(64512&(S=k.charCodeAt(P+1)))==56320&&(b=65536+(b-55296<<10)+(S-56320),P++),b<128?w[R++]=b:(b<2048?w[R++]=192|b>>>6:(b<65536?w[R++]=224|b>>>12:(w[R++]=240|b>>>18,w[R++]=128|b>>>12&63),w[R++]=128|b>>>6&63),w[R++]=128|63&b);return w}(_)},i.utf8decode=function(_){return c.nodebuffer?l.transformTo("nodebuffer",_).toString("utf-8"):function(k){var w,b,S,P,R=k.length,D=new Array(2*R);for(w=b=0;w<R;)if((S=k[w++])<128)D[b++]=S;else if(4<(P=m[S]))D[b++]=65533,w+=P-1;else{for(S&=P===2?31:P===3?15:7;1<P&&w<R;)S=S<<6|63&k[w++],P--;1<P?D[b++]=65533:S<65536?D[b++]=S:(S-=65536,D[b++]=55296|S>>10&1023,D[b++]=56320|1023&S)}return D.length!==b&&(D.subarray?D=D.subarray(0,b):D.length=b),l.applyFromCharCode(D)}(_=l.transformTo(c.uint8array?"uint8array":"array",_))},l.inherits(g,f),g.prototype.processChunk=function(_){var k=l.transformTo(c.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var w=k;(k=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),k.set(w,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var b=function(P,R){var D;for((R=R||P.length)>P.length&&(R=P.length),D=R-1;0<=D&&(192&P[D])==128;)D--;return D<0||D===0?R:D+m[P[D]]>R?D:R}(k),S=k;b!==k.length&&(c.uint8array?(S=k.subarray(0,b),this.leftOver=k.subarray(b,k.length)):(S=k.slice(0,b),this.leftOver=k.slice(b,k.length))),this.push({data:i.utf8decode(S),meta:_.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,l.inherits(E,f),E.prototype.processChunk=function(_){this.push({data:i.utf8encode(_.data),meta:_.meta})},i.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var l=n("./support"),c=n("./base64"),u=n("./nodejsUtils"),f=n("./external");function m(w){return w}function y(w,b){for(var S=0;S<w.length;++S)b[S]=255&w.charCodeAt(S);return b}n("setimmediate"),i.newBlob=function(w,b){i.checkSupport("blob");try{return new Blob([w],{type:b})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(w),S.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(w,b,S){var P=[],R=0,D=w.length;if(D<=S)return String.fromCharCode.apply(null,w);for(;R<D;)b==="array"||b==="nodebuffer"?P.push(String.fromCharCode.apply(null,w.slice(R,Math.min(R+S,D)))):P.push(String.fromCharCode.apply(null,w.subarray(R,Math.min(R+S,D)))),R+=S;return P.join("")},stringifyByChar:function(w){for(var b="",S=0;S<w.length;S++)b+=String.fromCharCode(w[S]);return b},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function E(w){var b=65536,S=i.getTypeOf(w),P=!0;if(S==="uint8array"?P=g.applyCanBeUsed.uint8array:S==="nodebuffer"&&(P=g.applyCanBeUsed.nodebuffer),P)for(;1<b;)try{return g.stringifyByChunk(w,S,b)}catch{b=Math.floor(b/2)}return g.stringifyByChar(w)}function _(w,b){for(var S=0;S<w.length;S++)b[S]=w[S];return b}i.applyFromCharCode=E;var k={};k.string={string:m,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return k.string.uint8array(w).buffer},uint8array:function(w){return y(w,new Uint8Array(w.length))},nodebuffer:function(w){return y(w,u.allocBuffer(w.length))}},k.array={string:E,array:m,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return u.newBufferFrom(w)}},k.arraybuffer={string:function(w){return E(new Uint8Array(w))},array:function(w){return _(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:m,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return u.newBufferFrom(new Uint8Array(w))}},k.uint8array={string:E,array:function(w){return _(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:m,nodebuffer:function(w){return u.newBufferFrom(w)}},k.nodebuffer={string:E,array:function(w){return _(w,new Array(w.length))},arraybuffer:function(w){return k.nodebuffer.uint8array(w).buffer},uint8array:function(w){return _(w,new Uint8Array(w.length))},nodebuffer:m},i.transformTo=function(w,b){if(b=b||"",!w)return b;i.checkSupport(w);var S=i.getTypeOf(b);return k[S][w](b)},i.resolve=function(w){for(var b=w.split("/"),S=[],P=0;P<b.length;P++){var R=b[P];R==="."||R===""&&P!==0&&P!==b.length-1||(R===".."?S.pop():S.push(R))}return S.join("/")},i.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":l.nodebuffer&&u.isBuffer(w)?"nodebuffer":l.uint8array&&w instanceof Uint8Array?"uint8array":l.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(w){if(!l[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(w){var b,S,P="";for(S=0;S<(w||"").length;S++)P+="\\x"+((b=w.charCodeAt(S))<16?"0":"")+b.toString(16).toUpperCase();return P},i.delay=function(w,b,S){setImmediate(function(){w.apply(S||null,b||[])})},i.inherits=function(w,b){function S(){}S.prototype=b.prototype,w.prototype=new S},i.extend=function(){var w,b,S={};for(w=0;w<arguments.length;w++)for(b in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],b)&&S[b]===void 0&&(S[b]=arguments[w][b]);return S},i.prepareContent=function(w,b,S,P,R){return f.Promise.resolve(b).then(function(D){return l.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new f.Promise(function(B,q){var G=new FileReader;G.onload=function(J){B(J.target.result)},G.onerror=function(J){q(J.target.error)},G.readAsArrayBuffer(D)}):D}).then(function(D){var B=i.getTypeOf(D);return B?(B==="arraybuffer"?D=i.transformTo("uint8array",D):B==="string"&&(R?D=c.decode(D):S&&P!==!0&&(D=function(q){return y(q,l.uint8array?new Uint8Array(q.length):new Array(q.length))}(D))),D):f.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var l=n("./reader/readerFor"),c=n("./utils"),u=n("./signature"),f=n("./zipEntry"),m=n("./support");function y(g){this.files=[],this.loadOptions=g}y.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var E=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(E)+", expected "+c.pretty(g)+")")}},isSignature:function(g,E){var _=this.reader.index;this.reader.setIndex(g);var k=this.reader.readString(4)===E;return this.reader.setIndex(_),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),E=m.uint8array?"uint8array":"array",_=c.transformTo(E,g);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,E,_,k=this.zip64EndOfCentralSize-44;0<k;)g=this.reader.readInt(2),E=this.reader.readInt(4),_=this.reader.readData(E),this.zip64ExtensibleData[g]={id:g,length:E,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,E;for(g=0;g<this.files.length;g++)E=this.files[g],this.reader.setIndex(E.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),E.readLocalPart(this.reader),E.handleUTF8(),E.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(g=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var E=g;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var k=E-_;if(0<k)this.isSignature(E,u.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(g){this.reader=l(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var l=n("./reader/readerFor"),c=n("./utils"),u=n("./compressedObject"),f=n("./crc32"),m=n("./utf8"),y=n("./compressions"),g=n("./support");function E(_,k){this.options=_,this.loadOptions=k}E.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var k,w;if(_.skip(22),this.fileNameLength=_.readInt(2),w=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=function(b){for(var S in y)if(Object.prototype.hasOwnProperty.call(y,S)&&y[S].magic===b)return y[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,k,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var k=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(k),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=l(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var k,w,b,S=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<S;)k=_.readInt(2),w=_.readInt(2),b=_.readData(w),this.extraFields[k]={id:k,length:w,value:b};_.setIndex(S)},handleUTF8:function(){var _=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var w=c.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var S=c.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var k=l(_.value);return k.readInt(1)!==1||f(this.fileName)!==k.readInt(4)?null:m.utf8decode(k.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var k=l(_.value);return k.readInt(1)!==1||f(this.fileComment)!==k.readInt(4)?null:m.utf8decode(k.readData(_.length-5))}return null}},r.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function l(k,w,b){this.name=k,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=w,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var c=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),f=n("./utf8"),m=n("./compressedObject"),y=n("./stream/GenericWorker");l.prototype={internalStream:function(k){var w=null,b="string";try{if(!k)throw new Error("No output type specified.");var S=(b=k.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),w=this._decompressWorker();var P=!this._dataBinary;P&&!S&&(w=w.pipe(new f.Utf8EncodeWorker)),!P&&S&&(w=w.pipe(new f.Utf8DecodeWorker))}catch(R){(w=new y("error")).error(R)}return new c(w,b,"")},async:function(k,w){return this.internalStream(k).accumulate(w)},nodeStream:function(k,w){return this.internalStream(k||"nodebuffer").toNodejsStream(w)},_compressWorker:function(k,w){if(this._data instanceof m&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new f.Utf8EncodeWorker)),m.createWorkerFrom(b,k,w)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof y?this._data:new u(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],E=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<g.length;_++)l.prototype[g[_]]=E;r.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(l){var c,u,f=l.MutationObserver||l.WebKitMutationObserver;if(f){var m=0,y=new f(k),g=l.document.createTextNode("");y.observe(g,{characterData:!0}),c=function(){g.data=m=++m%2}}else if(l.setImmediate||l.MessageChannel===void 0)c="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var w=l.document.createElement("script");w.onreadystatechange=function(){k(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},l.document.documentElement.appendChild(w)}:function(){setTimeout(k,0)};else{var E=new l.MessageChannel;E.port1.onmessage=k,c=function(){E.port2.postMessage(0)}}var _=[];function k(){var w,b;u=!0;for(var S=_.length;S;){for(b=_,_=[],w=-1;++w<S;)b[w]();S=_.length}u=!1}r.exports=function(w){_.push(w)!==1||u||c()}}).call(this,typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var l=n("immediate");function c(){}var u={},f=["REJECTED"],m=["FULFILLED"],y=["PENDING"];function g(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,S!==c&&w(this,S)}function E(S,P,R){this.promise=S,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function _(S,P,R){l(function(){var D;try{D=P(R)}catch(B){return u.reject(S,B)}D===S?u.reject(S,new TypeError("Cannot resolve promise with itself")):u.resolve(S,D)})}function k(S){var P=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof P=="function")return function(){P.apply(S,arguments)}}function w(S,P){var R=!1;function D(G){R||(R=!0,u.reject(S,G))}function B(G){R||(R=!0,u.resolve(S,G))}var q=b(function(){P(B,D)});q.status==="error"&&D(q.value)}function b(S,P){var R={};try{R.value=S(P),R.status="success"}catch(D){R.status="error",R.value=D}return R}(r.exports=g).prototype.finally=function(S){if(typeof S!="function")return this;var P=this.constructor;return this.then(function(R){return P.resolve(S()).then(function(){return R})},function(R){return P.resolve(S()).then(function(){throw R})})},g.prototype.catch=function(S){return this.then(null,S)},g.prototype.then=function(S,P){if(typeof S!="function"&&this.state===m||typeof P!="function"&&this.state===f)return this;var R=new this.constructor(c);return this.state!==y?_(R,this.state===m?S:P,this.outcome):this.queue.push(new E(R,S,P)),R},E.prototype.callFulfilled=function(S){u.resolve(this.promise,S)},E.prototype.otherCallFulfilled=function(S){_(this.promise,this.onFulfilled,S)},E.prototype.callRejected=function(S){u.reject(this.promise,S)},E.prototype.otherCallRejected=function(S){_(this.promise,this.onRejected,S)},u.resolve=function(S,P){var R=b(k,P);if(R.status==="error")return u.reject(S,R.value);var D=R.value;if(D)w(S,D);else{S.state=m,S.outcome=P;for(var B=-1,q=S.queue.length;++B<q;)S.queue[B].callFulfilled(P)}return S},u.reject=function(S,P){S.state=f,S.outcome=P;for(var R=-1,D=S.queue.length;++R<D;)S.queue[R].callRejected(P);return S},g.resolve=function(S){return S instanceof this?S:u.resolve(new this(c),S)},g.reject=function(S){var P=new this(c);return u.reject(P,S)},g.all=function(S){var P=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=S.length,D=!1;if(!R)return this.resolve([]);for(var B=new Array(R),q=0,G=-1,J=new this(c);++G<R;)V(S[G],G);return J;function V(Y,Q){P.resolve(Y).then(function(U){B[Q]=U,++q!==R||D||(D=!0,u.resolve(J,B))},function(U){D||(D=!0,u.reject(J,U))})}},g.race=function(S){var P=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=S.length,D=!1;if(!R)return this.resolve([]);for(var B=-1,q=new this(c);++B<R;)G=S[B],P.resolve(G).then(function(J){D||(D=!0,u.resolve(q,J))},function(J){D||(D=!0,u.reject(q,J))});var G;return q}},{immediate:36}],38:[function(n,r,i){var l={};(0,n("./lib/utils/common").assign)(l,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var l=n("./zlib/deflate"),c=n("./utils/common"),u=n("./utils/strings"),f=n("./zlib/messages"),m=n("./zlib/zstream"),y=Object.prototype.toString,g=0,E=-1,_=0,k=8;function w(S){if(!(this instanceof w))return new w(S);this.options=c.assign({level:E,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},S||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var R=l.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(R!==g)throw new Error(f[R]);if(P.header&&l.deflateSetHeader(this.strm,P.header),P.dictionary){var D;if(D=typeof P.dictionary=="string"?u.string2buf(P.dictionary):y.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,(R=l.deflateSetDictionary(this.strm,D))!==g)throw new Error(f[R]);this._dict_set=!0}}function b(S,P){var R=new w(P);if(R.push(S,!0),R.err)throw R.msg||f[R.err];return R.result}w.prototype.push=function(S,P){var R,D,B=this.strm,q=this.options.chunkSize;if(this.ended)return!1;D=P===~~P?P:P===!0?4:0,typeof S=="string"?B.input=u.string2buf(S):y.call(S)==="[object ArrayBuffer]"?B.input=new Uint8Array(S):B.input=S,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new c.Buf8(q),B.next_out=0,B.avail_out=q),(R=l.deflate(B,D))!==1&&R!==g)return this.onEnd(R),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(c.shrinkBuf(B.output,B.next_out))):this.onData(c.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&R!==1);return D===4?(R=l.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===g):D!==2||(this.onEnd(g),!(B.avail_out=0))},w.prototype.onData=function(S){this.chunks.push(S)},w.prototype.onEnd=function(S){S===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},i.Deflate=w,i.deflate=b,i.deflateRaw=function(S,P){return(P=P||{}).raw=!0,b(S,P)},i.gzip=function(S,P){return(P=P||{}).gzip=!0,b(S,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var l=n("./zlib/inflate"),c=n("./utils/common"),u=n("./utils/strings"),f=n("./zlib/constants"),m=n("./zlib/messages"),y=n("./zlib/zstream"),g=n("./zlib/gzheader"),E=Object.prototype.toString;function _(w){if(!(this instanceof _))return new _(w);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},w||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||w&&w.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var S=l.inflateInit2(this.strm,b.windowBits);if(S!==f.Z_OK)throw new Error(m[S]);this.header=new g,l.inflateGetHeader(this.strm,this.header)}function k(w,b){var S=new _(b);if(S.push(w,!0),S.err)throw S.msg||m[S.err];return S.result}_.prototype.push=function(w,b){var S,P,R,D,B,q,G=this.strm,J=this.options.chunkSize,V=this.options.dictionary,Y=!1;if(this.ended)return!1;P=b===~~b?b:b===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof w=="string"?G.input=u.binstring2buf(w):E.call(w)==="[object ArrayBuffer]"?G.input=new Uint8Array(w):G.input=w,G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0&&(G.output=new c.Buf8(J),G.next_out=0,G.avail_out=J),(S=l.inflate(G,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&V&&(q=typeof V=="string"?u.string2buf(V):E.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,S=l.inflateSetDictionary(this.strm,q)),S===f.Z_BUF_ERROR&&Y===!0&&(S=f.Z_OK,Y=!1),S!==f.Z_STREAM_END&&S!==f.Z_OK)return this.onEnd(S),!(this.ended=!0);G.next_out&&(G.avail_out!==0&&S!==f.Z_STREAM_END&&(G.avail_in!==0||P!==f.Z_FINISH&&P!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=u.utf8border(G.output,G.next_out),D=G.next_out-R,B=u.buf2string(G.output,R),G.next_out=D,G.avail_out=J-D,D&&c.arraySet(G.output,G.output,R,D,0),this.onData(B)):this.onData(c.shrinkBuf(G.output,G.next_out)))),G.avail_in===0&&G.avail_out===0&&(Y=!0)}while((0<G.avail_in||G.avail_out===0)&&S!==f.Z_STREAM_END);return S===f.Z_STREAM_END&&(P=f.Z_FINISH),P===f.Z_FINISH?(S=l.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===f.Z_OK):P!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(G.avail_out=0))},_.prototype.onData=function(w){this.chunks.push(w)},_.prototype.onEnd=function(w){w===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Inflate=_,i.inflate=k,i.inflateRaw=function(w,b){return(b=b||{}).raw=!0,k(w,b)},i.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(f){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var g in y)y.hasOwnProperty(g)&&(f[g]=y[g])}}return f},i.shrinkBuf=function(f,m){return f.length===m?f:f.subarray?f.subarray(0,m):(f.length=m,f)};var c={arraySet:function(f,m,y,g,E){if(m.subarray&&f.subarray)f.set(m.subarray(y,y+g),E);else for(var _=0;_<g;_++)f[E+_]=m[y+_]},flattenChunks:function(f){var m,y,g,E,_,k;for(m=g=0,y=f.length;m<y;m++)g+=f[m].length;for(k=new Uint8Array(g),m=E=0,y=f.length;m<y;m++)_=f[m],k.set(_,E),E+=_.length;return k}},u={arraySet:function(f,m,y,g,E){for(var _=0;_<g;_++)f[E+_]=m[y+_]},flattenChunks:function(f){return[].concat.apply([],f)}};i.setTyped=function(f){f?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,c)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(l)},{}],42:[function(n,r,i){var l=n("./common"),c=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var f=new l.Buf8(256),m=0;m<256;m++)f[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function y(g,E){if(E<65537&&(g.subarray&&u||!g.subarray&&c))return String.fromCharCode.apply(null,l.shrinkBuf(g,E));for(var _="",k=0;k<E;k++)_+=String.fromCharCode(g[k]);return _}f[254]=f[254]=1,i.string2buf=function(g){var E,_,k,w,b,S=g.length,P=0;for(w=0;w<S;w++)(64512&(_=g.charCodeAt(w)))==55296&&w+1<S&&(64512&(k=g.charCodeAt(w+1)))==56320&&(_=65536+(_-55296<<10)+(k-56320),w++),P+=_<128?1:_<2048?2:_<65536?3:4;for(E=new l.Buf8(P),w=b=0;b<P;w++)(64512&(_=g.charCodeAt(w)))==55296&&w+1<S&&(64512&(k=g.charCodeAt(w+1)))==56320&&(_=65536+(_-55296<<10)+(k-56320),w++),_<128?E[b++]=_:(_<2048?E[b++]=192|_>>>6:(_<65536?E[b++]=224|_>>>12:(E[b++]=240|_>>>18,E[b++]=128|_>>>12&63),E[b++]=128|_>>>6&63),E[b++]=128|63&_);return E},i.buf2binstring=function(g){return y(g,g.length)},i.binstring2buf=function(g){for(var E=new l.Buf8(g.length),_=0,k=E.length;_<k;_++)E[_]=g.charCodeAt(_);return E},i.buf2string=function(g,E){var _,k,w,b,S=E||g.length,P=new Array(2*S);for(_=k=0;_<S;)if((w=g[_++])<128)P[k++]=w;else if(4<(b=f[w]))P[k++]=65533,_+=b-1;else{for(w&=b===2?31:b===3?15:7;1<b&&_<S;)w=w<<6|63&g[_++],b--;1<b?P[k++]=65533:w<65536?P[k++]=w:(w-=65536,P[k++]=55296|w>>10&1023,P[k++]=56320|1023&w)}return y(P,k)},i.utf8border=function(g,E){var _;for((E=E||g.length)>g.length&&(E=g.length),_=E-1;0<=_&&(192&g[_])==128;)_--;return _<0||_===0?E:_+f[g[_]]>E?_:E}},{"./common":41}],43:[function(n,r,i){r.exports=function(l,c,u,f){for(var m=65535&l|0,y=l>>>16&65535|0,g=0;u!==0;){for(u-=g=2e3<u?2e3:u;y=y+(m=m+c[f++]|0)|0,--g;);m%=65521,y%=65521}return m|y<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var l=function(){for(var c,u=[],f=0;f<256;f++){c=f;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;u[f]=c}return u}();r.exports=function(c,u,f,m){var y=l,g=m+f;c^=-1;for(var E=m;E<g;E++)c=c>>>8^y[255&(c^u[E])];return-1^c}},{}],46:[function(n,r,i){var l,c=n("../utils/common"),u=n("./trees"),f=n("./adler32"),m=n("./crc32"),y=n("./messages"),g=0,E=4,_=0,k=-2,w=-1,b=4,S=2,P=8,R=9,D=286,B=30,q=19,G=2*D+1,J=15,V=3,Y=258,Q=Y+V+1,U=42,re=113,M=1,W=2,ae=3,oe=4;function ne(z,Ne){return z.msg=y[Ne],Ne}function ee(z){return(z<<1)-(4<z?9:0)}function le(z){for(var Ne=z.length;0<=--Ne;)z[Ne]=0}function F(z){var Ne=z.state,ke=Ne.pending;ke>z.avail_out&&(ke=z.avail_out),ke!==0&&(c.arraySet(z.output,Ne.pending_buf,Ne.pending_out,ke,z.next_out),z.next_out+=ke,Ne.pending_out+=ke,z.total_out+=ke,z.avail_out-=ke,Ne.pending-=ke,Ne.pending===0&&(Ne.pending_out=0))}function K(z,Ne){u._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,Ne),z.block_start=z.strstart,F(z.strm)}function Ce(z,Ne){z.pending_buf[z.pending++]=Ne}function be(z,Ne){z.pending_buf[z.pending++]=Ne>>>8&255,z.pending_buf[z.pending++]=255&Ne}function we(z,Ne){var ke,ie,te=z.max_chain_length,pe=z.strstart,Te=z.prev_length,je=z.nice_match,me=z.strstart>z.w_size-Q?z.strstart-(z.w_size-Q):0,Me=z.window,He=z.w_mask,Oe=z.prev,Qe=z.strstart+Y,Z=Me[pe+Te-1],T=Me[pe+Te];z.prev_length>=z.good_match&&(te>>=2),je>z.lookahead&&(je=z.lookahead);do if(Me[(ke=Ne)+Te]===T&&Me[ke+Te-1]===Z&&Me[ke]===Me[pe]&&Me[++ke]===Me[pe+1]){pe+=2,ke++;do;while(Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&pe<Qe);if(ie=Y-(Qe-pe),pe=Qe-Y,Te<ie){if(z.match_start=Ne,je<=(Te=ie))break;Z=Me[pe+Te-1],T=Me[pe+Te]}}while((Ne=Oe[Ne&He])>me&&--te!=0);return Te<=z.lookahead?Te:z.lookahead}function Re(z){var Ne,ke,ie,te,pe,Te,je,me,Me,He,Oe=z.w_size;do{if(te=z.window_size-z.lookahead-z.strstart,z.strstart>=Oe+(Oe-Q)){for(c.arraySet(z.window,z.window,Oe,Oe,0),z.match_start-=Oe,z.strstart-=Oe,z.block_start-=Oe,Ne=ke=z.hash_size;ie=z.head[--Ne],z.head[Ne]=Oe<=ie?ie-Oe:0,--ke;);for(Ne=ke=Oe;ie=z.prev[--Ne],z.prev[Ne]=Oe<=ie?ie-Oe:0,--ke;);te+=Oe}if(z.strm.avail_in===0)break;if(Te=z.strm,je=z.window,me=z.strstart+z.lookahead,Me=te,He=void 0,He=Te.avail_in,Me<He&&(He=Me),ke=He===0?0:(Te.avail_in-=He,c.arraySet(je,Te.input,Te.next_in,He,me),Te.state.wrap===1?Te.adler=f(Te.adler,je,He,me):Te.state.wrap===2&&(Te.adler=m(Te.adler,je,He,me)),Te.next_in+=He,Te.total_in+=He,He),z.lookahead+=ke,z.lookahead+z.insert>=V)for(pe=z.strstart-z.insert,z.ins_h=z.window[pe],z.ins_h=(z.ins_h<<z.hash_shift^z.window[pe+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[pe+V-1])&z.hash_mask,z.prev[pe&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=pe,pe++,z.insert--,!(z.lookahead+z.insert<V)););}while(z.lookahead<Q&&z.strm.avail_in!==0)}function Ue(z,Ne){for(var ke,ie;;){if(z.lookahead<Q){if(Re(z),z.lookahead<Q&&Ne===g)return M;if(z.lookahead===0)break}if(ke=0,z.lookahead>=V&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+V-1])&z.hash_mask,ke=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),ke!==0&&z.strstart-ke<=z.w_size-Q&&(z.match_length=we(z,ke)),z.match_length>=V)if(ie=u._tr_tally(z,z.strstart-z.match_start,z.match_length-V),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=V){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+V-1])&z.hash_mask,ke=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else ie=u._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(ie&&(K(z,!1),z.strm.avail_out===0))return M}return z.insert=z.strstart<V-1?z.strstart:V-1,Ne===E?(K(z,!0),z.strm.avail_out===0?ae:oe):z.last_lit&&(K(z,!1),z.strm.avail_out===0)?M:W}function De(z,Ne){for(var ke,ie,te;;){if(z.lookahead<Q){if(Re(z),z.lookahead<Q&&Ne===g)return M;if(z.lookahead===0)break}if(ke=0,z.lookahead>=V&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+V-1])&z.hash_mask,ke=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=V-1,ke!==0&&z.prev_length<z.max_lazy_match&&z.strstart-ke<=z.w_size-Q&&(z.match_length=we(z,ke),z.match_length<=5&&(z.strategy===1||z.match_length===V&&4096<z.strstart-z.match_start)&&(z.match_length=V-1)),z.prev_length>=V&&z.match_length<=z.prev_length){for(te=z.strstart+z.lookahead-V,ie=u._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-V),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=te&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+V-1])&z.hash_mask,ke=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=V-1,z.strstart++,ie&&(K(z,!1),z.strm.avail_out===0))return M}else if(z.match_available){if((ie=u._tr_tally(z,0,z.window[z.strstart-1]))&&K(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return M}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(ie=u._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<V-1?z.strstart:V-1,Ne===E?(K(z,!0),z.strm.avail_out===0?ae:oe):z.last_lit&&(K(z,!1),z.strm.avail_out===0)?M:W}function Fe(z,Ne,ke,ie,te){this.good_length=z,this.max_lazy=Ne,this.nice_length=ke,this.max_chain=ie,this.func=te}function it(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*G),this.dyn_dtree=new c.Buf16(2*(2*B+1)),this.bl_tree=new c.Buf16(2*(2*q+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(J+1),this.heap=new c.Buf16(2*D+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*D+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function wt(z){var Ne;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=S,(Ne=z.state).pending=0,Ne.pending_out=0,Ne.wrap<0&&(Ne.wrap=-Ne.wrap),Ne.status=Ne.wrap?U:re,z.adler=Ne.wrap===2?0:1,Ne.last_flush=g,u._tr_init(Ne),_):ne(z,k)}function Rt(z){var Ne=wt(z);return Ne===_&&function(ke){ke.window_size=2*ke.w_size,le(ke.head),ke.max_lazy_match=l[ke.level].max_lazy,ke.good_match=l[ke.level].good_length,ke.nice_match=l[ke.level].nice_length,ke.max_chain_length=l[ke.level].max_chain,ke.strstart=0,ke.block_start=0,ke.lookahead=0,ke.insert=0,ke.match_length=ke.prev_length=V-1,ke.match_available=0,ke.ins_h=0}(z.state),Ne}function ht(z,Ne,ke,ie,te,pe){if(!z)return k;var Te=1;if(Ne===w&&(Ne=6),ie<0?(Te=0,ie=-ie):15<ie&&(Te=2,ie-=16),te<1||R<te||ke!==P||ie<8||15<ie||Ne<0||9<Ne||pe<0||b<pe)return ne(z,k);ie===8&&(ie=9);var je=new it;return(z.state=je).strm=z,je.wrap=Te,je.gzhead=null,je.w_bits=ie,je.w_size=1<<je.w_bits,je.w_mask=je.w_size-1,je.hash_bits=te+7,je.hash_size=1<<je.hash_bits,je.hash_mask=je.hash_size-1,je.hash_shift=~~((je.hash_bits+V-1)/V),je.window=new c.Buf8(2*je.w_size),je.head=new c.Buf16(je.hash_size),je.prev=new c.Buf16(je.w_size),je.lit_bufsize=1<<te+6,je.pending_buf_size=4*je.lit_bufsize,je.pending_buf=new c.Buf8(je.pending_buf_size),je.d_buf=1*je.lit_bufsize,je.l_buf=3*je.lit_bufsize,je.level=Ne,je.strategy=pe,je.method=ke,Rt(z)}l=[new Fe(0,0,0,0,function(z,Ne){var ke=65535;for(ke>z.pending_buf_size-5&&(ke=z.pending_buf_size-5);;){if(z.lookahead<=1){if(Re(z),z.lookahead===0&&Ne===g)return M;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var ie=z.block_start+ke;if((z.strstart===0||z.strstart>=ie)&&(z.lookahead=z.strstart-ie,z.strstart=ie,K(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-Q&&(K(z,!1),z.strm.avail_out===0))return M}return z.insert=0,Ne===E?(K(z,!0),z.strm.avail_out===0?ae:oe):(z.strstart>z.block_start&&(K(z,!1),z.strm.avail_out),M)}),new Fe(4,4,8,4,Ue),new Fe(4,5,16,8,Ue),new Fe(4,6,32,32,Ue),new Fe(4,4,16,16,De),new Fe(8,16,32,32,De),new Fe(8,16,128,128,De),new Fe(8,32,128,256,De),new Fe(32,128,258,1024,De),new Fe(32,258,258,4096,De)],i.deflateInit=function(z,Ne){return ht(z,Ne,P,15,8,0)},i.deflateInit2=ht,i.deflateReset=Rt,i.deflateResetKeep=wt,i.deflateSetHeader=function(z,Ne){return z&&z.state?z.state.wrap!==2?k:(z.state.gzhead=Ne,_):k},i.deflate=function(z,Ne){var ke,ie,te,pe;if(!z||!z.state||5<Ne||Ne<0)return z?ne(z,k):k;if(ie=z.state,!z.output||!z.input&&z.avail_in!==0||ie.status===666&&Ne!==E)return ne(z,z.avail_out===0?-5:k);if(ie.strm=z,ke=ie.last_flush,ie.last_flush=Ne,ie.status===U)if(ie.wrap===2)z.adler=0,Ce(ie,31),Ce(ie,139),Ce(ie,8),ie.gzhead?(Ce(ie,(ie.gzhead.text?1:0)+(ie.gzhead.hcrc?2:0)+(ie.gzhead.extra?4:0)+(ie.gzhead.name?8:0)+(ie.gzhead.comment?16:0)),Ce(ie,255&ie.gzhead.time),Ce(ie,ie.gzhead.time>>8&255),Ce(ie,ie.gzhead.time>>16&255),Ce(ie,ie.gzhead.time>>24&255),Ce(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),Ce(ie,255&ie.gzhead.os),ie.gzhead.extra&&ie.gzhead.extra.length&&(Ce(ie,255&ie.gzhead.extra.length),Ce(ie,ie.gzhead.extra.length>>8&255)),ie.gzhead.hcrc&&(z.adler=m(z.adler,ie.pending_buf,ie.pending,0)),ie.gzindex=0,ie.status=69):(Ce(ie,0),Ce(ie,0),Ce(ie,0),Ce(ie,0),Ce(ie,0),Ce(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),Ce(ie,3),ie.status=re);else{var Te=P+(ie.w_bits-8<<4)<<8;Te|=(2<=ie.strategy||ie.level<2?0:ie.level<6?1:ie.level===6?2:3)<<6,ie.strstart!==0&&(Te|=32),Te+=31-Te%31,ie.status=re,be(ie,Te),ie.strstart!==0&&(be(ie,z.adler>>>16),be(ie,65535&z.adler)),z.adler=1}if(ie.status===69)if(ie.gzhead.extra){for(te=ie.pending;ie.gzindex<(65535&ie.gzhead.extra.length)&&(ie.pending!==ie.pending_buf_size||(ie.gzhead.hcrc&&ie.pending>te&&(z.adler=m(z.adler,ie.pending_buf,ie.pending-te,te)),F(z),te=ie.pending,ie.pending!==ie.pending_buf_size));)Ce(ie,255&ie.gzhead.extra[ie.gzindex]),ie.gzindex++;ie.gzhead.hcrc&&ie.pending>te&&(z.adler=m(z.adler,ie.pending_buf,ie.pending-te,te)),ie.gzindex===ie.gzhead.extra.length&&(ie.gzindex=0,ie.status=73)}else ie.status=73;if(ie.status===73)if(ie.gzhead.name){te=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>te&&(z.adler=m(z.adler,ie.pending_buf,ie.pending-te,te)),F(z),te=ie.pending,ie.pending===ie.pending_buf_size)){pe=1;break}pe=ie.gzindex<ie.gzhead.name.length?255&ie.gzhead.name.charCodeAt(ie.gzindex++):0,Ce(ie,pe)}while(pe!==0);ie.gzhead.hcrc&&ie.pending>te&&(z.adler=m(z.adler,ie.pending_buf,ie.pending-te,te)),pe===0&&(ie.gzindex=0,ie.status=91)}else ie.status=91;if(ie.status===91)if(ie.gzhead.comment){te=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>te&&(z.adler=m(z.adler,ie.pending_buf,ie.pending-te,te)),F(z),te=ie.pending,ie.pending===ie.pending_buf_size)){pe=1;break}pe=ie.gzindex<ie.gzhead.comment.length?255&ie.gzhead.comment.charCodeAt(ie.gzindex++):0,Ce(ie,pe)}while(pe!==0);ie.gzhead.hcrc&&ie.pending>te&&(z.adler=m(z.adler,ie.pending_buf,ie.pending-te,te)),pe===0&&(ie.status=103)}else ie.status=103;if(ie.status===103&&(ie.gzhead.hcrc?(ie.pending+2>ie.pending_buf_size&&F(z),ie.pending+2<=ie.pending_buf_size&&(Ce(ie,255&z.adler),Ce(ie,z.adler>>8&255),z.adler=0,ie.status=re)):ie.status=re),ie.pending!==0){if(F(z),z.avail_out===0)return ie.last_flush=-1,_}else if(z.avail_in===0&&ee(Ne)<=ee(ke)&&Ne!==E)return ne(z,-5);if(ie.status===666&&z.avail_in!==0)return ne(z,-5);if(z.avail_in!==0||ie.lookahead!==0||Ne!==g&&ie.status!==666){var je=ie.strategy===2?function(me,Me){for(var He;;){if(me.lookahead===0&&(Re(me),me.lookahead===0)){if(Me===g)return M;break}if(me.match_length=0,He=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,He&&(K(me,!1),me.strm.avail_out===0))return M}return me.insert=0,Me===E?(K(me,!0),me.strm.avail_out===0?ae:oe):me.last_lit&&(K(me,!1),me.strm.avail_out===0)?M:W}(ie,Ne):ie.strategy===3?function(me,Me){for(var He,Oe,Qe,Z,T=me.window;;){if(me.lookahead<=Y){if(Re(me),me.lookahead<=Y&&Me===g)return M;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=V&&0<me.strstart&&(Oe=T[Qe=me.strstart-1])===T[++Qe]&&Oe===T[++Qe]&&Oe===T[++Qe]){Z=me.strstart+Y;do;while(Oe===T[++Qe]&&Oe===T[++Qe]&&Oe===T[++Qe]&&Oe===T[++Qe]&&Oe===T[++Qe]&&Oe===T[++Qe]&&Oe===T[++Qe]&&Oe===T[++Qe]&&Qe<Z);me.match_length=Y-(Z-Qe),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=V?(He=u._tr_tally(me,1,me.match_length-V),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(He=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),He&&(K(me,!1),me.strm.avail_out===0))return M}return me.insert=0,Me===E?(K(me,!0),me.strm.avail_out===0?ae:oe):me.last_lit&&(K(me,!1),me.strm.avail_out===0)?M:W}(ie,Ne):l[ie.level].func(ie,Ne);if(je!==ae&&je!==oe||(ie.status=666),je===M||je===ae)return z.avail_out===0&&(ie.last_flush=-1),_;if(je===W&&(Ne===1?u._tr_align(ie):Ne!==5&&(u._tr_stored_block(ie,0,0,!1),Ne===3&&(le(ie.head),ie.lookahead===0&&(ie.strstart=0,ie.block_start=0,ie.insert=0))),F(z),z.avail_out===0))return ie.last_flush=-1,_}return Ne!==E?_:ie.wrap<=0?1:(ie.wrap===2?(Ce(ie,255&z.adler),Ce(ie,z.adler>>8&255),Ce(ie,z.adler>>16&255),Ce(ie,z.adler>>24&255),Ce(ie,255&z.total_in),Ce(ie,z.total_in>>8&255),Ce(ie,z.total_in>>16&255),Ce(ie,z.total_in>>24&255)):(be(ie,z.adler>>>16),be(ie,65535&z.adler)),F(z),0<ie.wrap&&(ie.wrap=-ie.wrap),ie.pending!==0?_:1)},i.deflateEnd=function(z){var Ne;return z&&z.state?(Ne=z.state.status)!==U&&Ne!==69&&Ne!==73&&Ne!==91&&Ne!==103&&Ne!==re&&Ne!==666?ne(z,k):(z.state=null,Ne===re?ne(z,-3):_):k},i.deflateSetDictionary=function(z,Ne){var ke,ie,te,pe,Te,je,me,Me,He=Ne.length;if(!z||!z.state||(pe=(ke=z.state).wrap)===2||pe===1&&ke.status!==U||ke.lookahead)return k;for(pe===1&&(z.adler=f(z.adler,Ne,He,0)),ke.wrap=0,He>=ke.w_size&&(pe===0&&(le(ke.head),ke.strstart=0,ke.block_start=0,ke.insert=0),Me=new c.Buf8(ke.w_size),c.arraySet(Me,Ne,He-ke.w_size,ke.w_size,0),Ne=Me,He=ke.w_size),Te=z.avail_in,je=z.next_in,me=z.input,z.avail_in=He,z.next_in=0,z.input=Ne,Re(ke);ke.lookahead>=V;){for(ie=ke.strstart,te=ke.lookahead-(V-1);ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[ie+V-1])&ke.hash_mask,ke.prev[ie&ke.w_mask]=ke.head[ke.ins_h],ke.head[ke.ins_h]=ie,ie++,--te;);ke.strstart=ie,ke.lookahead=V-1,Re(ke)}return ke.strstart+=ke.lookahead,ke.block_start=ke.strstart,ke.insert=ke.lookahead,ke.lookahead=0,ke.match_length=ke.prev_length=V-1,ke.match_available=0,z.next_in=je,z.input=me,z.avail_in=Te,ke.wrap=pe,_},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(l,c){var u,f,m,y,g,E,_,k,w,b,S,P,R,D,B,q,G,J,V,Y,Q,U,re,M,W;u=l.state,f=l.next_in,M=l.input,m=f+(l.avail_in-5),y=l.next_out,W=l.output,g=y-(c-l.avail_out),E=y+(l.avail_out-257),_=u.dmax,k=u.wsize,w=u.whave,b=u.wnext,S=u.window,P=u.hold,R=u.bits,D=u.lencode,B=u.distcode,q=(1<<u.lenbits)-1,G=(1<<u.distbits)-1;e:do{R<15&&(P+=M[f++]<<R,R+=8,P+=M[f++]<<R,R+=8),J=D[P&q];t:for(;;){if(P>>>=V=J>>>24,R-=V,(V=J>>>16&255)===0)W[y++]=65535&J;else{if(!(16&V)){if((64&V)==0){J=D[(65535&J)+(P&(1<<V)-1)];continue t}if(32&V){u.mode=12;break e}l.msg="invalid literal/length code",u.mode=30;break e}Y=65535&J,(V&=15)&&(R<V&&(P+=M[f++]<<R,R+=8),Y+=P&(1<<V)-1,P>>>=V,R-=V),R<15&&(P+=M[f++]<<R,R+=8,P+=M[f++]<<R,R+=8),J=B[P&G];n:for(;;){if(P>>>=V=J>>>24,R-=V,!(16&(V=J>>>16&255))){if((64&V)==0){J=B[(65535&J)+(P&(1<<V)-1)];continue n}l.msg="invalid distance code",u.mode=30;break e}if(Q=65535&J,R<(V&=15)&&(P+=M[f++]<<R,(R+=8)<V&&(P+=M[f++]<<R,R+=8)),_<(Q+=P&(1<<V)-1)){l.msg="invalid distance too far back",u.mode=30;break e}if(P>>>=V,R-=V,(V=y-g)<Q){if(w<(V=Q-V)&&u.sane){l.msg="invalid distance too far back",u.mode=30;break e}if(re=S,(U=0)===b){if(U+=k-V,V<Y){for(Y-=V;W[y++]=S[U++],--V;);U=y-Q,re=W}}else if(b<V){if(U+=k+b-V,(V-=b)<Y){for(Y-=V;W[y++]=S[U++],--V;);if(U=0,b<Y){for(Y-=V=b;W[y++]=S[U++],--V;);U=y-Q,re=W}}}else if(U+=b-V,V<Y){for(Y-=V;W[y++]=S[U++],--V;);U=y-Q,re=W}for(;2<Y;)W[y++]=re[U++],W[y++]=re[U++],W[y++]=re[U++],Y-=3;Y&&(W[y++]=re[U++],1<Y&&(W[y++]=re[U++]))}else{for(U=y-Q;W[y++]=W[U++],W[y++]=W[U++],W[y++]=W[U++],2<(Y-=3););Y&&(W[y++]=W[U++],1<Y&&(W[y++]=W[U++]))}break}}break}}while(f<m&&y<E);f-=Y=R>>3,P&=(1<<(R-=Y<<3))-1,l.next_in=f,l.next_out=y,l.avail_in=f<m?m-f+5:5-(f-m),l.avail_out=y<E?E-y+257:257-(y-E),u.hold=P,u.bits=R}},{}],49:[function(n,r,i){var l=n("../utils/common"),c=n("./adler32"),u=n("./crc32"),f=n("./inffast"),m=n("./inftrees"),y=1,g=2,E=0,_=-2,k=1,w=852,b=592;function S(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(U){var re;return U&&U.state?(re=U.state,U.total_in=U.total_out=re.total=0,U.msg="",re.wrap&&(U.adler=1&re.wrap),re.mode=k,re.last=0,re.havedict=0,re.dmax=32768,re.head=null,re.hold=0,re.bits=0,re.lencode=re.lendyn=new l.Buf32(w),re.distcode=re.distdyn=new l.Buf32(b),re.sane=1,re.back=-1,E):_}function D(U){var re;return U&&U.state?((re=U.state).wsize=0,re.whave=0,re.wnext=0,R(U)):_}function B(U,re){var M,W;return U&&U.state?(W=U.state,re<0?(M=0,re=-re):(M=1+(re>>4),re<48&&(re&=15)),re&&(re<8||15<re)?_:(W.window!==null&&W.wbits!==re&&(W.window=null),W.wrap=M,W.wbits=re,D(U))):_}function q(U,re){var M,W;return U?(W=new P,(U.state=W).window=null,(M=B(U,re))!==E&&(U.state=null),M):_}var G,J,V=!0;function Y(U){if(V){var re;for(G=new l.Buf32(512),J=new l.Buf32(32),re=0;re<144;)U.lens[re++]=8;for(;re<256;)U.lens[re++]=9;for(;re<280;)U.lens[re++]=7;for(;re<288;)U.lens[re++]=8;for(m(y,U.lens,0,288,G,0,U.work,{bits:9}),re=0;re<32;)U.lens[re++]=5;m(g,U.lens,0,32,J,0,U.work,{bits:5}),V=!1}U.lencode=G,U.lenbits=9,U.distcode=J,U.distbits=5}function Q(U,re,M,W){var ae,oe=U.state;return oe.window===null&&(oe.wsize=1<<oe.wbits,oe.wnext=0,oe.whave=0,oe.window=new l.Buf8(oe.wsize)),W>=oe.wsize?(l.arraySet(oe.window,re,M-oe.wsize,oe.wsize,0),oe.wnext=0,oe.whave=oe.wsize):(W<(ae=oe.wsize-oe.wnext)&&(ae=W),l.arraySet(oe.window,re,M-W,ae,oe.wnext),(W-=ae)?(l.arraySet(oe.window,re,M-W,W,0),oe.wnext=W,oe.whave=oe.wsize):(oe.wnext+=ae,oe.wnext===oe.wsize&&(oe.wnext=0),oe.whave<oe.wsize&&(oe.whave+=ae))),0}i.inflateReset=D,i.inflateReset2=B,i.inflateResetKeep=R,i.inflateInit=function(U){return q(U,15)},i.inflateInit2=q,i.inflate=function(U,re){var M,W,ae,oe,ne,ee,le,F,K,Ce,be,we,Re,Ue,De,Fe,it,wt,Rt,ht,z,Ne,ke,ie,te=0,pe=new l.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return _;(M=U.state).mode===12&&(M.mode=13),ne=U.next_out,ae=U.output,le=U.avail_out,oe=U.next_in,W=U.input,ee=U.avail_in,F=M.hold,K=M.bits,Ce=ee,be=le,Ne=E;e:for(;;)switch(M.mode){case k:if(M.wrap===0){M.mode=13;break}for(;K<16;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(2&M.wrap&&F===35615){pe[M.check=0]=255&F,pe[1]=F>>>8&255,M.check=u(M.check,pe,2,0),K=F=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&F)<<8)+(F>>8))%31){U.msg="incorrect header check",M.mode=30;break}if((15&F)!=8){U.msg="unknown compression method",M.mode=30;break}if(K-=4,z=8+(15&(F>>>=4)),M.wbits===0)M.wbits=z;else if(z>M.wbits){U.msg="invalid window size",M.mode=30;break}M.dmax=1<<z,U.adler=M.check=1,M.mode=512&F?10:12,K=F=0;break;case 2:for(;K<16;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(M.flags=F,(255&M.flags)!=8){U.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){U.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=F>>8&1),512&M.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,M.check=u(M.check,pe,2,0)),K=F=0,M.mode=3;case 3:for(;K<32;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}M.head&&(M.head.time=F),512&M.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,pe[2]=F>>>16&255,pe[3]=F>>>24&255,M.check=u(M.check,pe,4,0)),K=F=0,M.mode=4;case 4:for(;K<16;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}M.head&&(M.head.xflags=255&F,M.head.os=F>>8),512&M.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,M.check=u(M.check,pe,2,0)),K=F=0,M.mode=5;case 5:if(1024&M.flags){for(;K<16;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}M.length=F,M.head&&(M.head.extra_len=F),512&M.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,M.check=u(M.check,pe,2,0)),K=F=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(ee<(we=M.length)&&(we=ee),we&&(M.head&&(z=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),l.arraySet(M.head.extra,W,oe,we,z)),512&M.flags&&(M.check=u(M.check,W,we,oe)),ee-=we,oe+=we,M.length-=we),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(ee===0)break e;for(we=0;z=W[oe+we++],M.head&&z&&M.length<65536&&(M.head.name+=String.fromCharCode(z)),z&&we<ee;);if(512&M.flags&&(M.check=u(M.check,W,we,oe)),ee-=we,oe+=we,z)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(ee===0)break e;for(we=0;z=W[oe+we++],M.head&&z&&M.length<65536&&(M.head.comment+=String.fromCharCode(z)),z&&we<ee;);if(512&M.flags&&(M.check=u(M.check,W,we,oe)),ee-=we,oe+=we,z)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;K<16;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(F!==(65535&M.check)){U.msg="header crc mismatch",M.mode=30;break}K=F=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),U.adler=M.check=0,M.mode=12;break;case 10:for(;K<32;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}U.adler=M.check=S(F),K=F=0,M.mode=11;case 11:if(M.havedict===0)return U.next_out=ne,U.avail_out=le,U.next_in=oe,U.avail_in=ee,M.hold=F,M.bits=K,2;U.adler=M.check=1,M.mode=12;case 12:if(re===5||re===6)break e;case 13:if(M.last){F>>>=7&K,K-=7&K,M.mode=27;break}for(;K<3;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}switch(M.last=1&F,K-=1,3&(F>>>=1)){case 0:M.mode=14;break;case 1:if(Y(M),M.mode=20,re!==6)break;F>>>=2,K-=2;break e;case 2:M.mode=17;break;case 3:U.msg="invalid block type",M.mode=30}F>>>=2,K-=2;break;case 14:for(F>>>=7&K,K-=7&K;K<32;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if((65535&F)!=(F>>>16^65535)){U.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&F,K=F=0,M.mode=15,re===6)break e;case 15:M.mode=16;case 16:if(we=M.length){if(ee<we&&(we=ee),le<we&&(we=le),we===0)break e;l.arraySet(ae,W,oe,we,ne),ee-=we,oe+=we,le-=we,ne+=we,M.length-=we;break}M.mode=12;break;case 17:for(;K<14;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(M.nlen=257+(31&F),F>>>=5,K-=5,M.ndist=1+(31&F),F>>>=5,K-=5,M.ncode=4+(15&F),F>>>=4,K-=4,286<M.nlen||30<M.ndist){U.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;K<3;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}M.lens[Te[M.have++]]=7&F,F>>>=3,K-=3}for(;M.have<19;)M.lens[Te[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,ke={bits:M.lenbits},Ne=m(0,M.lens,0,19,M.lencode,0,M.work,ke),M.lenbits=ke.bits,Ne){U.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;Fe=(te=M.lencode[F&(1<<M.lenbits)-1])>>>16&255,it=65535&te,!((De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(it<16)F>>>=De,K-=De,M.lens[M.have++]=it;else{if(it===16){for(ie=De+2;K<ie;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(F>>>=De,K-=De,M.have===0){U.msg="invalid bit length repeat",M.mode=30;break}z=M.lens[M.have-1],we=3+(3&F),F>>>=2,K-=2}else if(it===17){for(ie=De+3;K<ie;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}K-=De,z=0,we=3+(7&(F>>>=De)),F>>>=3,K-=3}else{for(ie=De+7;K<ie;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}K-=De,z=0,we=11+(127&(F>>>=De)),F>>>=7,K-=7}if(M.have+we>M.nlen+M.ndist){U.msg="invalid bit length repeat",M.mode=30;break}for(;we--;)M.lens[M.have++]=z}}if(M.mode===30)break;if(M.lens[256]===0){U.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,ke={bits:M.lenbits},Ne=m(y,M.lens,0,M.nlen,M.lencode,0,M.work,ke),M.lenbits=ke.bits,Ne){U.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,ke={bits:M.distbits},Ne=m(g,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,ke),M.distbits=ke.bits,Ne){U.msg="invalid distances set",M.mode=30;break}if(M.mode=20,re===6)break e;case 20:M.mode=21;case 21:if(6<=ee&&258<=le){U.next_out=ne,U.avail_out=le,U.next_in=oe,U.avail_in=ee,M.hold=F,M.bits=K,f(U,be),ne=U.next_out,ae=U.output,le=U.avail_out,oe=U.next_in,W=U.input,ee=U.avail_in,F=M.hold,K=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;Fe=(te=M.lencode[F&(1<<M.lenbits)-1])>>>16&255,it=65535&te,!((De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(Fe&&(240&Fe)==0){for(wt=De,Rt=Fe,ht=it;Fe=(te=M.lencode[ht+((F&(1<<wt+Rt)-1)>>wt)])>>>16&255,it=65535&te,!(wt+(De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}F>>>=wt,K-=wt,M.back+=wt}if(F>>>=De,K-=De,M.back+=De,M.length=it,Fe===0){M.mode=26;break}if(32&Fe){M.back=-1,M.mode=12;break}if(64&Fe){U.msg="invalid literal/length code",M.mode=30;break}M.extra=15&Fe,M.mode=22;case 22:if(M.extra){for(ie=M.extra;K<ie;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}M.length+=F&(1<<M.extra)-1,F>>>=M.extra,K-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;Fe=(te=M.distcode[F&(1<<M.distbits)-1])>>>16&255,it=65535&te,!((De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if((240&Fe)==0){for(wt=De,Rt=Fe,ht=it;Fe=(te=M.distcode[ht+((F&(1<<wt+Rt)-1)>>wt)])>>>16&255,it=65535&te,!(wt+(De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}F>>>=wt,K-=wt,M.back+=wt}if(F>>>=De,K-=De,M.back+=De,64&Fe){U.msg="invalid distance code",M.mode=30;break}M.offset=it,M.extra=15&Fe,M.mode=24;case 24:if(M.extra){for(ie=M.extra;K<ie;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}M.offset+=F&(1<<M.extra)-1,F>>>=M.extra,K-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){U.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(le===0)break e;if(we=be-le,M.offset>we){if((we=M.offset-we)>M.whave&&M.sane){U.msg="invalid distance too far back",M.mode=30;break}Re=we>M.wnext?(we-=M.wnext,M.wsize-we):M.wnext-we,we>M.length&&(we=M.length),Ue=M.window}else Ue=ae,Re=ne-M.offset,we=M.length;for(le<we&&(we=le),le-=we,M.length-=we;ae[ne++]=Ue[Re++],--we;);M.length===0&&(M.mode=21);break;case 26:if(le===0)break e;ae[ne++]=M.length,le--,M.mode=21;break;case 27:if(M.wrap){for(;K<32;){if(ee===0)break e;ee--,F|=W[oe++]<<K,K+=8}if(be-=le,U.total_out+=be,M.total+=be,be&&(U.adler=M.check=M.flags?u(M.check,ae,be,ne-be):c(M.check,ae,be,ne-be)),be=le,(M.flags?F:S(F))!==M.check){U.msg="incorrect data check",M.mode=30;break}K=F=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;K<32;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(F!==(4294967295&M.total)){U.msg="incorrect length check",M.mode=30;break}K=F=0}M.mode=29;case 29:Ne=1;break e;case 30:Ne=-3;break e;case 31:return-4;case 32:default:return _}return U.next_out=ne,U.avail_out=le,U.next_in=oe,U.avail_in=ee,M.hold=F,M.bits=K,(M.wsize||be!==U.avail_out&&M.mode<30&&(M.mode<27||re!==4))&&Q(U,U.output,U.next_out,be-U.avail_out)?(M.mode=31,-4):(Ce-=U.avail_in,be-=U.avail_out,U.total_in+=Ce,U.total_out+=be,M.total+=be,M.wrap&&be&&(U.adler=M.check=M.flags?u(M.check,ae,be,U.next_out-be):c(M.check,ae,be,U.next_out-be)),U.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(Ce==0&&be===0||re===4)&&Ne===E&&(Ne=-5),Ne)},i.inflateEnd=function(U){if(!U||!U.state)return _;var re=U.state;return re.window&&(re.window=null),U.state=null,E},i.inflateGetHeader=function(U,re){var M;return U&&U.state?(2&(M=U.state).wrap)==0?_:((M.head=re).done=!1,E):_},i.inflateSetDictionary=function(U,re){var M,W=re.length;return U&&U.state?(M=U.state).wrap!==0&&M.mode!==11?_:M.mode===11&&c(1,re,W,0)!==M.check?-3:Q(U,re,W,W)?(M.mode=31,-4):(M.havedict=1,E):_},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var l=n("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(y,g,E,_,k,w,b,S){var P,R,D,B,q,G,J,V,Y,Q=S.bits,U=0,re=0,M=0,W=0,ae=0,oe=0,ne=0,ee=0,le=0,F=0,K=null,Ce=0,be=new l.Buf16(16),we=new l.Buf16(16),Re=null,Ue=0;for(U=0;U<=15;U++)be[U]=0;for(re=0;re<_;re++)be[g[E+re]]++;for(ae=Q,W=15;1<=W&&be[W]===0;W--);if(W<ae&&(ae=W),W===0)return k[w++]=20971520,k[w++]=20971520,S.bits=1,0;for(M=1;M<W&&be[M]===0;M++);for(ae<M&&(ae=M),U=ee=1;U<=15;U++)if(ee<<=1,(ee-=be[U])<0)return-1;if(0<ee&&(y===0||W!==1))return-1;for(we[1]=0,U=1;U<15;U++)we[U+1]=we[U]+be[U];for(re=0;re<_;re++)g[E+re]!==0&&(b[we[g[E+re]]++]=re);if(G=y===0?(K=Re=b,19):y===1?(K=c,Ce-=257,Re=u,Ue-=257,256):(K=f,Re=m,-1),U=M,q=w,ne=re=F=0,D=-1,B=(le=1<<(oe=ae))-1,y===1&&852<le||y===2&&592<le)return 1;for(;;){for(J=U-ne,Y=b[re]<G?(V=0,b[re]):b[re]>G?(V=Re[Ue+b[re]],K[Ce+b[re]]):(V=96,0),P=1<<U-ne,M=R=1<<oe;k[q+(F>>ne)+(R-=P)]=J<<24|V<<16|Y|0,R!==0;);for(P=1<<U-1;F&P;)P>>=1;if(P!==0?(F&=P-1,F+=P):F=0,re++,--be[U]==0){if(U===W)break;U=g[E+b[re]]}if(ae<U&&(F&B)!==D){for(ne===0&&(ne=ae),q+=M,ee=1<<(oe=U-ne);oe+ne<W&&!((ee-=be[oe+ne])<=0);)oe++,ee<<=1;if(le+=1<<oe,y===1&&852<le||y===2&&592<le)return 1;k[D=F&B]=ae<<24|oe<<16|q-w|0}}return F!==0&&(k[q+F]=U-ne<<24|64<<16|0),S.bits=ae,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var l=n("../utils/common"),c=0,u=1;function f(te){for(var pe=te.length;0<=--pe;)te[pe]=0}var m=0,y=29,g=256,E=g+1+y,_=30,k=19,w=2*E+1,b=15,S=16,P=7,R=256,D=16,B=17,q=18,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],J=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(E+2));f(Q);var U=new Array(2*_);f(U);var re=new Array(512);f(re);var M=new Array(256);f(M);var W=new Array(y);f(W);var ae,oe,ne,ee=new Array(_);function le(te,pe,Te,je,me){this.static_tree=te,this.extra_bits=pe,this.extra_base=Te,this.elems=je,this.max_length=me,this.has_stree=te&&te.length}function F(te,pe){this.dyn_tree=te,this.max_code=0,this.stat_desc=pe}function K(te){return te<256?re[te]:re[256+(te>>>7)]}function Ce(te,pe){te.pending_buf[te.pending++]=255&pe,te.pending_buf[te.pending++]=pe>>>8&255}function be(te,pe,Te){te.bi_valid>S-Te?(te.bi_buf|=pe<<te.bi_valid&65535,Ce(te,te.bi_buf),te.bi_buf=pe>>S-te.bi_valid,te.bi_valid+=Te-S):(te.bi_buf|=pe<<te.bi_valid&65535,te.bi_valid+=Te)}function we(te,pe,Te){be(te,Te[2*pe],Te[2*pe+1])}function Re(te,pe){for(var Te=0;Te|=1&te,te>>>=1,Te<<=1,0<--pe;);return Te>>>1}function Ue(te,pe,Te){var je,me,Me=new Array(b+1),He=0;for(je=1;je<=b;je++)Me[je]=He=He+Te[je-1]<<1;for(me=0;me<=pe;me++){var Oe=te[2*me+1];Oe!==0&&(te[2*me]=Re(Me[Oe]++,Oe))}}function De(te){var pe;for(pe=0;pe<E;pe++)te.dyn_ltree[2*pe]=0;for(pe=0;pe<_;pe++)te.dyn_dtree[2*pe]=0;for(pe=0;pe<k;pe++)te.bl_tree[2*pe]=0;te.dyn_ltree[2*R]=1,te.opt_len=te.static_len=0,te.last_lit=te.matches=0}function Fe(te){8<te.bi_valid?Ce(te,te.bi_buf):0<te.bi_valid&&(te.pending_buf[te.pending++]=te.bi_buf),te.bi_buf=0,te.bi_valid=0}function it(te,pe,Te,je){var me=2*pe,Me=2*Te;return te[me]<te[Me]||te[me]===te[Me]&&je[pe]<=je[Te]}function wt(te,pe,Te){for(var je=te.heap[Te],me=Te<<1;me<=te.heap_len&&(me<te.heap_len&&it(pe,te.heap[me+1],te.heap[me],te.depth)&&me++,!it(pe,je,te.heap[me],te.depth));)te.heap[Te]=te.heap[me],Te=me,me<<=1;te.heap[Te]=je}function Rt(te,pe,Te){var je,me,Me,He,Oe=0;if(te.last_lit!==0)for(;je=te.pending_buf[te.d_buf+2*Oe]<<8|te.pending_buf[te.d_buf+2*Oe+1],me=te.pending_buf[te.l_buf+Oe],Oe++,je===0?we(te,me,pe):(we(te,(Me=M[me])+g+1,pe),(He=G[Me])!==0&&be(te,me-=W[Me],He),we(te,Me=K(--je),Te),(He=J[Me])!==0&&be(te,je-=ee[Me],He)),Oe<te.last_lit;);we(te,R,pe)}function ht(te,pe){var Te,je,me,Me=pe.dyn_tree,He=pe.stat_desc.static_tree,Oe=pe.stat_desc.has_stree,Qe=pe.stat_desc.elems,Z=-1;for(te.heap_len=0,te.heap_max=w,Te=0;Te<Qe;Te++)Me[2*Te]!==0?(te.heap[++te.heap_len]=Z=Te,te.depth[Te]=0):Me[2*Te+1]=0;for(;te.heap_len<2;)Me[2*(me=te.heap[++te.heap_len]=Z<2?++Z:0)]=1,te.depth[me]=0,te.opt_len--,Oe&&(te.static_len-=He[2*me+1]);for(pe.max_code=Z,Te=te.heap_len>>1;1<=Te;Te--)wt(te,Me,Te);for(me=Qe;Te=te.heap[1],te.heap[1]=te.heap[te.heap_len--],wt(te,Me,1),je=te.heap[1],te.heap[--te.heap_max]=Te,te.heap[--te.heap_max]=je,Me[2*me]=Me[2*Te]+Me[2*je],te.depth[me]=(te.depth[Te]>=te.depth[je]?te.depth[Te]:te.depth[je])+1,Me[2*Te+1]=Me[2*je+1]=me,te.heap[1]=me++,wt(te,Me,1),2<=te.heap_len;);te.heap[--te.heap_max]=te.heap[1],function(T,I){var X,fe,xe,Se,ct,Ot,vt=I.dyn_tree,Ct=I.max_code,Nt=I.stat_desc.static_tree,na=I.stat_desc.has_stree,zo=I.stat_desc.extra_bits,Rr=I.stat_desc.extra_base,Wn=I.stat_desc.max_length,qi=0;for(Se=0;Se<=b;Se++)T.bl_count[Se]=0;for(vt[2*T.heap[T.heap_max]+1]=0,X=T.heap_max+1;X<w;X++)Wn<(Se=vt[2*vt[2*(fe=T.heap[X])+1]+1]+1)&&(Se=Wn,qi++),vt[2*fe+1]=Se,Ct<fe||(T.bl_count[Se]++,ct=0,Rr<=fe&&(ct=zo[fe-Rr]),Ot=vt[2*fe],T.opt_len+=Ot*(Se+ct),na&&(T.static_len+=Ot*(Nt[2*fe+1]+ct)));if(qi!==0){do{for(Se=Wn-1;T.bl_count[Se]===0;)Se--;T.bl_count[Se]--,T.bl_count[Se+1]+=2,T.bl_count[Wn]--,qi-=2}while(0<qi);for(Se=Wn;Se!==0;Se--)for(fe=T.bl_count[Se];fe!==0;)Ct<(xe=T.heap[--X])||(vt[2*xe+1]!==Se&&(T.opt_len+=(Se-vt[2*xe+1])*vt[2*xe],vt[2*xe+1]=Se),fe--)}}(te,pe),Ue(Me,Z,te.bl_count)}function z(te,pe,Te){var je,me,Me=-1,He=pe[1],Oe=0,Qe=7,Z=4;for(He===0&&(Qe=138,Z=3),pe[2*(Te+1)+1]=65535,je=0;je<=Te;je++)me=He,He=pe[2*(je+1)+1],++Oe<Qe&&me===He||(Oe<Z?te.bl_tree[2*me]+=Oe:me!==0?(me!==Me&&te.bl_tree[2*me]++,te.bl_tree[2*D]++):Oe<=10?te.bl_tree[2*B]++:te.bl_tree[2*q]++,Me=me,Z=(Oe=0)===He?(Qe=138,3):me===He?(Qe=6,3):(Qe=7,4))}function Ne(te,pe,Te){var je,me,Me=-1,He=pe[1],Oe=0,Qe=7,Z=4;for(He===0&&(Qe=138,Z=3),je=0;je<=Te;je++)if(me=He,He=pe[2*(je+1)+1],!(++Oe<Qe&&me===He)){if(Oe<Z)for(;we(te,me,te.bl_tree),--Oe!=0;);else me!==0?(me!==Me&&(we(te,me,te.bl_tree),Oe--),we(te,D,te.bl_tree),be(te,Oe-3,2)):Oe<=10?(we(te,B,te.bl_tree),be(te,Oe-3,3)):(we(te,q,te.bl_tree),be(te,Oe-11,7));Me=me,Z=(Oe=0)===He?(Qe=138,3):me===He?(Qe=6,3):(Qe=7,4)}}f(ee);var ke=!1;function ie(te,pe,Te,je){be(te,(m<<1)+(je?1:0),3),function(me,Me,He,Oe){Fe(me),Ce(me,He),Ce(me,~He),l.arraySet(me.pending_buf,me.window,Me,He,me.pending),me.pending+=He}(te,pe,Te)}i._tr_init=function(te){ke||(function(){var pe,Te,je,me,Me,He=new Array(b+1);for(me=je=0;me<y-1;me++)for(W[me]=je,pe=0;pe<1<<G[me];pe++)M[je++]=me;for(M[je-1]=me,me=Me=0;me<16;me++)for(ee[me]=Me,pe=0;pe<1<<J[me];pe++)re[Me++]=me;for(Me>>=7;me<_;me++)for(ee[me]=Me<<7,pe=0;pe<1<<J[me]-7;pe++)re[256+Me++]=me;for(Te=0;Te<=b;Te++)He[Te]=0;for(pe=0;pe<=143;)Q[2*pe+1]=8,pe++,He[8]++;for(;pe<=255;)Q[2*pe+1]=9,pe++,He[9]++;for(;pe<=279;)Q[2*pe+1]=7,pe++,He[7]++;for(;pe<=287;)Q[2*pe+1]=8,pe++,He[8]++;for(Ue(Q,E+1,He),pe=0;pe<_;pe++)U[2*pe+1]=5,U[2*pe]=Re(pe,5);ae=new le(Q,G,g+1,E,b),oe=new le(U,J,0,_,b),ne=new le(new Array(0),V,0,k,P)}(),ke=!0),te.l_desc=new F(te.dyn_ltree,ae),te.d_desc=new F(te.dyn_dtree,oe),te.bl_desc=new F(te.bl_tree,ne),te.bi_buf=0,te.bi_valid=0,De(te)},i._tr_stored_block=ie,i._tr_flush_block=function(te,pe,Te,je){var me,Me,He=0;0<te.level?(te.strm.data_type===2&&(te.strm.data_type=function(Oe){var Qe,Z=4093624447;for(Qe=0;Qe<=31;Qe++,Z>>>=1)if(1&Z&&Oe.dyn_ltree[2*Qe]!==0)return c;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return u;for(Qe=32;Qe<g;Qe++)if(Oe.dyn_ltree[2*Qe]!==0)return u;return c}(te)),ht(te,te.l_desc),ht(te,te.d_desc),He=function(Oe){var Qe;for(z(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),z(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),ht(Oe,Oe.bl_desc),Qe=k-1;3<=Qe&&Oe.bl_tree[2*Y[Qe]+1]===0;Qe--);return Oe.opt_len+=3*(Qe+1)+5+5+4,Qe}(te),me=te.opt_len+3+7>>>3,(Me=te.static_len+3+7>>>3)<=me&&(me=Me)):me=Me=Te+5,Te+4<=me&&pe!==-1?ie(te,pe,Te,je):te.strategy===4||Me===me?(be(te,2+(je?1:0),3),Rt(te,Q,U)):(be(te,4+(je?1:0),3),function(Oe,Qe,Z,T){var I;for(be(Oe,Qe-257,5),be(Oe,Z-1,5),be(Oe,T-4,4),I=0;I<T;I++)be(Oe,Oe.bl_tree[2*Y[I]+1],3);Ne(Oe,Oe.dyn_ltree,Qe-1),Ne(Oe,Oe.dyn_dtree,Z-1)}(te,te.l_desc.max_code+1,te.d_desc.max_code+1,He+1),Rt(te,te.dyn_ltree,te.dyn_dtree)),De(te),je&&Fe(te)},i._tr_tally=function(te,pe,Te){return te.pending_buf[te.d_buf+2*te.last_lit]=pe>>>8&255,te.pending_buf[te.d_buf+2*te.last_lit+1]=255&pe,te.pending_buf[te.l_buf+te.last_lit]=255&Te,te.last_lit++,pe===0?te.dyn_ltree[2*Te]++:(te.matches++,pe--,te.dyn_ltree[2*(M[Te]+g+1)]++,te.dyn_dtree[2*K(pe)]++),te.last_lit===te.lit_bufsize-1},i._tr_align=function(te){be(te,2,3),we(te,R,Q),function(pe){pe.bi_valid===16?(Ce(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(te)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(l){(function(c,u){if(!c.setImmediate){var f,m,y,g,E=1,_={},k=!1,w=c.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(c);b=b&&b.setTimeout?b:c,f={}.toString.call(c.process)==="[object process]"?function(D){process.nextTick(function(){P(D)})}:function(){if(c.postMessage&&!c.importScripts){var D=!0,B=c.onmessage;return c.onmessage=function(){D=!1},c.postMessage("","*"),c.onmessage=B,D}}()?(g="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",R,!1):c.attachEvent("onmessage",R),function(D){c.postMessage(g+D,"*")}):c.MessageChannel?((y=new MessageChannel).port1.onmessage=function(D){P(D.data)},function(D){y.port2.postMessage(D)}):w&&"onreadystatechange"in w.createElement("script")?(m=w.documentElement,function(D){var B=w.createElement("script");B.onreadystatechange=function(){P(D),B.onreadystatechange=null,m.removeChild(B),B=null},m.appendChild(B)}):function(D){setTimeout(P,0,D)},b.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var B=new Array(arguments.length-1),q=0;q<B.length;q++)B[q]=arguments[q+1];var G={callback:D,args:B};return _[E]=G,f(E),E++},b.clearImmediate=S}function S(D){delete _[D]}function P(D){if(k)setTimeout(P,0,D);else{var B=_[D];if(B){k=!0;try{(function(q){var G=q.callback,J=q.args;switch(J.length){case 0:G();break;case 1:G(J[0]);break;case 2:G(J[0],J[1]);break;case 3:G(J[0],J[1],J[2]);break;default:G.apply(u,J)}})(B)}finally{S(D),k=!1}}}}function R(D){D.source===c&&typeof D.data=="string"&&D.data.indexOf(g)===0&&P(+D.data.slice(g.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(uy)),uy.exports}cZ();const uZ=30023,dZ="dead-drop-lockers@v1",f1="Dead Drop Lockers Source Snapshot";function fZ(){const e=j.useRef(null),[t,n]=j.useState(null),r=gN(),i=V0(),l=u=>{var m;const f=((m=u.target.files)==null?void 0:m[0])??null;n(f)},c=async()=>{if(t)try{const u=await r.mutateAsync(t);await i.mutateAsync({kind:uZ,content:`${f1}: snapshot uploaded`,tags:[["d",dZ],["title",f1],["t","code-snapshot"],...u]}),alert("Snapshot published to Nostr")}catch(u){alert("Upload or publish failed: "+u.message)}};return p.jsxs("div",{className:"p-4",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"Publish Snapshot to Nostr"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a zip of your project locally and upload it here to publish a Nostr snapshot event."}),p.jsx("input",{type:"file",ref:e,onChange:l,accept:".zip"}),p.jsx("div",{className:"mt-4",children:p.jsx("button",{className:"btn",onClick:c,disabled:!t,children:"Upload & Publish"})})]})}function hZ(e,t={},n){e.use(gA);function r(c){if(c._flatMeta)return c;const{title:u,titleTemplate:f,...m}=c||{};return{title:u,titleTemplate:f,_flatMeta:m}}const i=e.push(r(t),n),l=i.patch;return i.__patched||(i.patch=c=>l(r(c)),i.__patched=!0),i}function pZ(){const e=j.useContext(q1);if(!e)throw new Error("useHead() was called without provide context.");return e}function mZ(e,t,n){const r=t.head||pZ(),[i]=j.useState(()=>n(r,e,t));return j.useEffect(()=>{i.patch(e)},[e]),j.useEffect(()=>()=>{i.dispose()},[]),i}function sl(e={},t={}){return mZ(e,t,hZ)}const gZ=[{id:"rental-1",lockerId:"locker-sf-001",lockerName:"Mission District Secure Box",address:"2490 Mission St, San Francisco, CA 94110",accessCode:"A7B9C2",startTime:new Date(Date.now()-36e5*2),endTime:new Date(Date.now()+36e5*22),totalHours:24,hourlyRate:500,totalPaid:12e3,status:"active",demandLevel:"high"},{id:"rental-2",lockerId:"locker-sea-001",lockerName:"Capitol Hill Tech Hub",address:"123 Pine St, Seattle, WA 98101",accessCode:"D4E8F1",startTime:new Date(Date.now()-36e5*48),endTime:new Date(Date.now()+36e5*24),totalHours:72,hourlyRate:400,totalPaid:28800,status:"active",demandLevel:"medium"}],yZ=[{id:"rental-0",lockerName:"Brooklyn Heights Drop",startTime:new Date(Date.now()-864e5*7),endTime:new Date(Date.now()-864e5*6),totalPaid:18e3,status:"completed"}];function vZ(){sl({title:"My Rentals - DeadDropstr"});const{toast:e}=tl(),[t,n]=j.useState(gZ),[r,i]=j.useState(null),[l,c]=j.useState(!1),[u,f]=j.useState(!1),[m,y]=j.useState(12),g=w=>{const b=w.getTime()-Date.now();if(b<=0)return{hours:0,minutes:0,expired:!0};const S=Math.floor(b/36e5),P=Math.floor(b%36e5/6e4);return{hours:S,minutes:P,expired:!1}},E=w=>{const b=g(w.endTime),S=b.hours+b.minutes/60,P=Math.ceil(S),R=P*w.hourlyRate,B={low:.9,medium:.75,high:.5}[w.demandLevel]||.75,q=Math.floor(R*B);return{unusedHours:P,unusedValue:R,refundAmount:q,refundRate:B}},_=()=>{if(!r)return;const w=m*r.hourlyRate;n(t.map(b=>b.id===r.id?{...b,endTime:new Date(b.endTime.getTime()+m*36e5)}:b)),e({title:"Rental Extended",description:`Added ${m} hours for ${w.toLocaleString()} sats`}),c(!1),i(null)},k=()=>{if(!r)return;const{refundAmount:w}=E(r);n(t.filter(b=>b.id!==r.id)),e({title:"Locker Released",description:w>0?`${w.toLocaleString()} sats refunded`:"No refund - high demand area"}),f(!1),i(null)};return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[p.jsxs("header",{className:"mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"My Lockers"}),p.jsx("p",{className:"text-muted-foreground",children:"Manage your active rentals"})]}),p.jsxs("div",{className:"space-y-4 mb-8",children:[p.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[p.jsx(oS,{className:"h-5 w-5"}),"Active Rentals (",t.length,")"]}),t.length===0?p.jsx(_t,{className:"border-dashed",children:p.jsxs(St,{className:"py-8 text-center text-muted-foreground",children:[p.jsx(Hi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),p.jsx("p",{children:"No active rentals"}),p.jsx(qe,{asChild:!0,className:"mt-4",children:p.jsx(ln,{to:"/marketplace",children:"Find a Locker"})})]})}):t.map(w=>{const b=g(w.endTime),S=(w.totalHours-(b.hours+b.minutes/60))/w.totalHours*100;return p.jsxs(_t,{className:b.hours<4?"border-orange-500/50":"",children:[p.jsx(Zt,{children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx(Ht,{className:"text-lg",children:w.lockerName}),p.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[p.jsx(Bc,{className:"h-4 w-4"}),p.jsx("span",{className:"text-sm",children:w.address})]})]}),p.jsx(gn,{variant:b.hours<4?"destructive":"default",children:b.expired?"Expired":`${b.hours}h ${b.minutes}m left`})]})}),p.jsxs(St,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Time elapsed"}),p.jsxs("span",{className:"font-medium",children:[Math.round(S),"%"]})]}),p.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${S}%`}})})]}),p.jsxs("div",{className:"bg-black text-white p-4 rounded-lg",children:[p.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Access Code"}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("p",{className:"font-mono text-2xl tracking-[0.3em]",children:w.accessCode}),p.jsx(qe,{size:"sm",variant:"ghost",className:"text-white hover:text-white/80",onClick:()=>{navigator.clipboard.writeText(w.accessCode),e({title:"Code copied"})},children:"Copy"})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-sm text-muted-foreground",children:"Demand:"}),p.jsx(gn,{variant:w.demandLevel==="high"?"destructive":"secondary",className:"text-xs",children:w.demandLevel}),w.demandLevel==="high"&&p.jsx("span",{className:"text-xs text-muted-foreground",children:"(Early release = 50% refund)"})]})]}),p.jsxs(Oa,{className:"flex gap-2",children:[p.jsxs(qe,{variant:"outline",className:"flex-1",onClick:()=>{i(w),c(!0)},children:[p.jsx(o6,{className:"h-4 w-4 mr-2"}),"Add Time"]}),p.jsxs(qe,{variant:"outline",className:"flex-1",onClick:()=>{i(w),f(!0)},children:[p.jsx(r6,{className:"h-4 w-4 mr-2"}),"Release Early"]})]})]},w.id)})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"History"}),yZ.map(w=>p.jsx(_t,{className:"opacity-60",children:p.jsxs(St,{className:"p-4 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:w.lockerName}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.startTime.toLocaleDateString()," - ",w.endTime.toLocaleDateString()]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx(gn,{variant:"outline",children:"Completed"}),p.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[w.totalPaid.toLocaleString()," sats"]})]})]})},w.id))]})]}),p.jsx(Rc,{open:l,onOpenChange:c,children:p.jsxs(Xa,{children:[p.jsxs(Ic,{children:[p.jsx(fd,{children:"Add Time"}),p.jsxs(Xh,{children:["Extend your rental for ",r==null?void 0:r.lockerName]})]}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(an,{children:["Additional Hours: ",m]}),p.jsx("input",{type:"range",min:"1",max:"72",value:m,onChange:w=>y(parseInt(w.target.value)),className:"w-full"}),p.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[p.jsx("span",{children:"1 hour"}),p.jsx("span",{children:"3 days"})]})]}),p.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Rate"}),p.jsxs("span",{children:[r==null?void 0:r.hourlyRate," sats/hr"]})]}),p.jsx(vo,{}),p.jsxs("div",{className:"flex justify-between font-bold",children:[p.jsx("span",{children:"Total"}),p.jsxs("span",{children:[(m*((r==null?void 0:r.hourlyRate)||0)).toLocaleString()," sats"]})]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(qe,{variant:"outline",className:"flex-1",onClick:()=>c(!1),children:"Cancel"}),p.jsxs(qe,{className:"flex-1",onClick:_,children:[p.jsx(Ap,{className:"h-4 w-4 mr-2"}),"Pay & Extend"]})]})]})}),p.jsx(Rc,{open:u,onOpenChange:f,children:p.jsxs(Xa,{children:[p.jsxs(Ic,{children:[p.jsx(fd,{children:"Release Locker Early"}),p.jsx(Xh,{children:"Return this locker to the pool and receive a partial refund"})]}),r&&p.jsxs("div",{className:"space-y-4 py-4",children:[p.jsx("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:(()=>{const{unusedHours:w,unusedValue:b,refundAmount:S,refundRate:P}=E(r);return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Unused time"}),p.jsxs("span",{children:["~",w," hours"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Unused value"}),p.jsxs("span",{children:[b.toLocaleString()," sats"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Refund rate"}),p.jsxs("span",{children:[Math.round(P*100),"% (",r.demandLevel," demand)"]})]}),p.jsx(vo,{}),p.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[p.jsx("span",{children:"Your refund"}),p.jsxs("span",{className:"text-green-600",children:[S.toLocaleString()," sats"]})]})]})})()}),r.demandLevel==="high"&&p.jsxs("div",{className:"bg-orange-50 border border-orange-200 p-3 rounded-lg flex items-start gap-2",children:[p.jsx(aS,{className:"h-5 w-5 text-orange-600 shrink-0 mt-0.5"}),p.jsx("p",{className:"text-sm text-orange-800",children:"This is a high-demand area. Early release refunds are limited to 50% to maintain locker availability for others."})]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"The access code will be deactivated immediately. Make sure you've retrieved your items."})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(qe,{variant:"outline",className:"flex-1",onClick:()=>f(!1),children:"Keep Rental"}),p.jsxs(qe,{variant:"destructive",className:"flex-1",onClick:k,children:[p.jsx(s6,{className:"h-4 w-4 mr-2"}),"Release & Refund"]})]})]})})]})}function wZ(){return sl({title:"Using a Proxy - DeadDropstr"}),p.jsx("div",{className:"min-h-screen bg-background",children:p.jsxs("div",{className:"container mx-auto p-4 max-w-2xl",children:[p.jsxs("header",{className:"mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Using a Proxy"}),p.jsx("p",{className:"text-muted-foreground",children:"Have someone else handle your locker drop"})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs(_t,{children:[p.jsxs(Zt,{children:[p.jsx(Ht,{children:"What is a Proxy?"}),p.jsx(er,{children:"A paid service to handle your locker drop"})]}),p.jsxs(St,{className:"space-y-4",children:[p.jsx("p",{className:"text-muted-foreground",children:"A proxy receives your package and places it in a locker for a fee. This is useful when you can't be there in person."}),p.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[p.jsx("p",{className:"font-medium mb-2",children:"Typical proxy fees:"}),p.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[p.jsx("li",{children:"Locker owner proxy: 5,000 - 15,000 sats per drop"}),p.jsx("li",{children:"Courier service: 10,000 - 50,000 sats per drop"}),p.jsx("li",{children:"Friend/acquaintance: Whatever you agree on"})]})]})]})]}),p.jsxs(_t,{children:[p.jsx(Zt,{children:p.jsx(Ht,{children:"How It Works"})}),p.jsxs(St,{className:"space-y-6",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center shrink-0 font-bold text-primary",children:"1"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Rent the locker"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Go to the marketplace and rent a locker for the time you need"})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center shrink-0 font-bold text-primary",children:"2"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Ship to the locker address"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Send your package to the locker location (or have your vendor ship there)"})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center shrink-0 font-bold text-primary",children:"3"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Pay the proxy fee"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Send sats via Lightning (usually upfront, sometimes half now/half after)"})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center shrink-0 font-bold text-primary",children:"4"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Message your proxy the code"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Send them the locker access code via Nostr DM (or any secure chat)"})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center shrink-0 font-bold text-primary",children:"5"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"They drop it off"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"The proxy uses the code to open the locker and places the item inside"})]})]})]})]}),p.jsxs(_t,{children:[p.jsx(Zt,{children:p.jsx(Ht,{children:"Tell the Recipient"})}),p.jsxs(St,{children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"Once the item is in the locker, message the recipient their pickup code. They can then collect it whenever they're ready."}),p.jsx(qe,{asChild:!0,className:"w-full",children:p.jsxs(ln,{to:"/messages",children:[p.jsx(m0,{className:"h-4 w-4 mr-2"}),"Open Messages"]})})]})]}),p.jsxs(_t,{className:"bg-muted/50",children:[p.jsx(Zt,{children:p.jsx(Ht,{children:"That's It"})}),p.jsxs(St,{className:"space-y-4",children:[p.jsx("p",{className:"text-muted-foreground",children:"No special systems needed. Just rent a locker and share the codes with whoever needs them via secure message."}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(qe,{asChild:!0,variant:"outline",className:"flex-1",children:p.jsxs(ln,{to:"/marketplace",children:[p.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Find a Locker"]})}),p.jsx(qe,{asChild:!0,className:"flex-1",children:p.jsxs(ln,{to:"/my-lockers",children:[p.jsx(Zh,{className:"h-4 w-4 mr-2"}),"My Lockers"]})})]})]})]})]})]})})}function xZ(){return sl({title:"DeadDropstr - Nostr-Native Smart Lockers",description:"A decentralized marketplace for autonomous physical lockers powered by Nostr and Lightning."}),p.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[p.jsxs("header",{className:"relative isolate overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(45%_40%_at_50%_60%,hsl(var(--primary)/0.12),transparent)]"}),p.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[p.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:["The ",p.jsx("span",{className:"text-primary",children:"Nostr-Native"})," Dead Drop Network"]}),p.jsx("p",{className:"max-w-2xl mx-auto text-lg text-muted-foreground mb-10",children:"Rent autonomous smart lockers for anonymous P2P exchanges. Pay with Lightning. No middlemen."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[p.jsx(qe,{asChild:!0,size:"lg",className:"text-base",children:p.jsxs(ln,{to:"/marketplace",children:[p.jsx(ad,{className:"mr-2 h-5 w-5"}),"Explore Lockers"]})}),p.jsx(qe,{asChild:!0,size:"lg",variant:"outline",className:"text-base",children:p.jsxs(ln,{to:"/dashboard",children:[p.jsx(Eh,{className:"mr-2 h-5 w-5"}),"Owner Dashboard"]})})]})]})]}),p.jsxs("section",{className:"container mx-auto px-4 py-16",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs(_t,{className:"bg-card/60 backdrop-blur",children:[p.jsxs(Zt,{children:[p.jsx(ad,{className:"h-10 w-10 text-primary mb-2"}),p.jsx(Ht,{children:"Find a Locker"})]}),p.jsx(St,{children:p.jsx(er,{children:"Browse the map to find available smart lockers near you. Filter by size, price, and trust score."})})]}),p.jsxs(_t,{className:"bg-card/60 backdrop-blur",children:[p.jsxs(Zt,{children:[p.jsx(Ap,{className:"h-10 w-10 text-primary mb-2"}),p.jsx(Ht,{children:"Pay with Lightning"})]}),p.jsx(St,{children:p.jsx(er,{children:"Rent instantly using Nostr Wallet Connect (NIP-47) or WebLN. The locker unlocks once payment confirms."})})]}),p.jsxs(_t,{className:"bg-card/60 backdrop-blur",children:[p.jsxs(Zt,{children:[p.jsx(m0,{className:"h-10 w-10 text-primary mb-2"}),p.jsx(Ht,{children:"Negotiate Privately"})]}),p.jsx(St,{children:p.jsx(er,{children:"Chat with buyers or sellers via encrypted NIP-17 messages. Goods payment is direct P2P via zaps."})})]}),p.jsxs(_t,{className:"bg-card/60 backdrop-blur",children:[p.jsxs(Zt,{children:[p.jsx(Eh,{className:"h-10 w-10 text-primary mb-2"}),p.jsx(Ht,{children:"Manage Your Box"})]}),p.jsx(St,{children:p.jsx(er,{children:"Owners configure fees, overdue penalties, proxy mode, and abandoned property rules from their dashboard."})})]})]})]}),p.jsxs("section",{className:"container mx-auto px-4 py-16",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Ready to Deploy a Locker?"}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[p.jsxs(_t,{className:"bg-primary/5 border-primary/20",children:[p.jsxs(Zt,{children:[p.jsx(sS,{className:"h-10 w-10 text-primary mb-2"}),p.jsx(Ht,{children:"Open Hardware Standard"}),p.jsx(er,{children:"Fully documented, hackable, and extensible"})]}),p.jsxs(St,{className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Our reference design uses off-the-shelf components: ESP32-S3, secure element, 4G/WiFi module, and standard electronic locks. Fully open source firmware."}),p.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground list-disc list-inside",children:[p.jsx("li",{children:"Nostr-native event processing"}),p.jsx("li",{children:"Offline-capable code validation"}),p.jsx("li",{children:"Signed access logs"}),p.jsx("li",{children:"Battery backup & tamper detection"})]}),p.jsxs(qe,{variant:"outline",className:"w-full",onClick:()=>window.open("https://github.com/PlutarchsEcho/deaddrop-hardware","_blank"),children:[p.jsx($h,{className:"mr-2 h-4 w-4"}),"View Specs"]})]})]}),p.jsxs(_t,{className:"bg-primary/5 border-primary/20",children:[p.jsxs(Zt,{children:[p.jsx(Hi,{className:"h-10 w-10 text-primary mb-2"}),p.jsx(Ht,{children:"DIY Kits"}),p.jsx(er,{children:"Everything you need to build your own"})]}),p.jsxs(St,{className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Pre-sourced component kits with step-by-step assembly guides. Just add your own lockbox or enclosure."}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Basic Kit"}),p.jsx("span",{className:"font-medium",children:"~$85"})]}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Pro Kit (4G + Secure Element)"}),p.jsx("span",{className:"font-medium",children:"~$150"})]}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Complete Enclosure"}),p.jsx("span",{className:"font-medium",children:"~$200-500"})]})]}),p.jsxs(qe,{variant:"outline",className:"w-full",children:[p.jsx(Hi,{className:"mr-2 h-4 w-4"}),"Browse Kits"]})]})]}),p.jsxs(_t,{className:"bg-primary/5 border-primary/20",children:[p.jsxs(Zt,{children:[p.jsx(f6,{className:"h-10 w-10 text-primary mb-2"}),p.jsx(Ht,{children:"Build Your Own"}),p.jsx(er,{children:"Free plans and BOMs"})]}),p.jsxs(St,{className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Download complete schematics, PCB layouts, 3D printable enclosures, and firmware. Source your own parts anywhere in the world."}),p.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground list-disc list-inside",children:[p.jsx("li",{children:"Gerber files & PCB designs"}),p.jsx("li",{children:"3D printable STL files"}),p.jsx("li",{children:"Bill of Materials (BOM)"}),p.jsx("li",{children:"Assembly instructions"}),p.jsx("li",{children:"Firmware source code"})]}),p.jsxs(qe,{className:"w-full",onClick:()=>window.open("https://github.com/PlutarchsEcho/deaddrop-hardware/releases","_blank"),children:[p.jsx($h,{className:"mr-2 h-4 w-4"}),"Download Plans"]})]})]})]}),p.jsx("div",{className:"text-center mt-12",children:p.jsx(qe,{asChild:!0,size:"lg",children:p.jsxs(ln,{to:"/dashboard",children:[p.jsx(Eh,{className:"mr-2 h-5 w-5"}),"Configure Your Locker"]})})})]}),p.jsx("footer",{className:"border-t py-8 text-center text-sm text-muted-foreground",children:p.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Vibed with Shakespeare"})})]})}var Gp="Switch",[_Z,cH]=nr(Gp),[bZ,EZ]=_Z(Gp),sT=j.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:l,required:c,disabled:u,value:f="on",onCheckedChange:m,form:y,...g}=e,[E,_]=j.useState(null),k=At(t,R=>_(R)),w=j.useRef(!1),b=E?y||!!E.closest("form"):!0,[S,P]=Mo({prop:i,defaultProp:l??!1,onChange:m,caller:Gp});return p.jsxs(bZ,{scope:n,checked:S,disabled:u,children:[p.jsx(at.button,{type:"button",role:"switch","aria-checked":S,"aria-required":c,"data-state":uT(S),"data-disabled":u?"":void 0,disabled:u,value:f,...g,ref:k,onClick:Ke(e.onClick,R=>{P(D=>!D),b&&(w.current=R.isPropagationStopped(),w.current||R.stopPropagation())})}),b&&p.jsx(cT,{control:E,bubbles:!w.current,name:r,value:f,checked:S,required:c,disabled:u,form:y,style:{transform:"translateX(-100%)"}})]})});sT.displayName=Gp;var aT="SwitchThumb",lT=j.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=EZ(aT,n);return p.jsx(at.span,{"data-state":uT(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});lT.displayName=aT;var kZ="SwitchBubbleInput",cT=j.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},l)=>{const c=j.useRef(null),u=At(c,l),f=nw(n),m=Op(t);return j.useEffect(()=>{const y=c.current;if(!y)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==n&&_){const k=new Event("click",{bubbles:r});_.call(y,n),y.dispatchEvent(k)}},[f,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cT.displayName=kZ;function uT(e){return e?"checked":"unchecked"}var dT=sT,SZ=lT;const fT=j.forwardRef(({className:e,...t},n)=>p.jsx(dT,{className:lt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:p.jsx(SZ,{className:lt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fT.displayName=dT.displayName;function hT(e){if(e.kind!==30402)return null;const t=R=>{var D;return(D=e.tags.find(([B])=>B===R))==null?void 0:D[1]};if(!(R=>e.tags.filter(([D])=>D===R).map(([,D])=>D))("t").includes("locker"))return null;const i=t("d");if(!i)return null;const l=t("title")||"Unnamed Locker",c=t("status")||"available",u=t("g")||"",f=t("location"),m=e.tags.find(([R])=>R==="price"),y=m&&parseInt(m[1])||0,g=(m==null?void 0:m[2])||"SATS",E=t("dimensions"),_=parseInt(t("overdue-fee")||"0"),k=parseInt(t("overdue-days")||"7"),w=t("proxy-mode")==="true",b=parseInt(t("proxy-fee")||"0"),S=parseInt(t("abandon-days")||"30"),P=e.tags.filter(([R])=>R==="image").map(([,R])=>R);return{id:e.id,pubkey:e.pubkey,dTag:i,title:l,description:e.content,status:c,geohash:u,location:f,price:y,currency:g,dimensions:E,overdueFee:_,overdueDays:k,proxyMode:w,proxyFee:b,abandonDays:S,images:P,createdAt:e.created_at,event:e}}function CZ(e){const t=[["d",crypto.randomUUID()],["title",e.title],["t","locker"],["t","dead-drop"],["g",e.geohash],["price",e.baseFee.toString(),"SATS"],["status","available"],["dimensions",e.dimensions],["overdue-fee",e.overdueFee.toString()],["overdue-days",e.overdueDays.toString()],["proxy-mode",e.proxyMode.toString()],["abandon-days",e.abandonDays.toString()]];return e.location&&t.push(["location",e.location]),e.proxyMode&&e.proxyFee>0&&t.push(["proxy-fee",e.proxyFee.toString()]),t}const dy="0123456789bcdefghjkmnpqrstuvwxyz";class Pn{static encode(t,n,r){if(typeof r>"u"){for(let E=1;E<=12;E++){const _=Pn.encode(t,n,E),k=Pn.decode(_);if(k.lat==t&&k.lon==n)return _}r=12}if(t=Number(t),n=Number(n),r=Number(r),isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Invalid geohash");let i=0,l=0,c=!0,u="",f=-90,m=90,y=-180,g=180;for(;u.length<r;){if(c){const E=(y+g)/2;n>=E?(i=i*2+1,y=E):(i=i*2,g=E)}else{const E=(f+m)/2;t>=E?(i=i*2+1,f=E):(i=i*2,m=E)}c=!c,++l==5&&(u+=dy.charAt(i),l=0,i=0)}return u}static decode(t){const n=Pn.bounds(t),r=n.sw.lat,i=n.sw.lon,l=n.ne.lat,c=n.ne.lon;let u=(r+l)/2,f=(i+c)/2;return u=u.toFixed(Math.floor(2-Math.log(l-r)/Math.LN10)),f=f.toFixed(Math.floor(2-Math.log(c-i)/Math.LN10)),{lat:Number(u),lon:Number(f)}}static bounds(t){if(t.length==0)throw new Error("Invalid geohash");t=t.toLowerCase();let n=!0,r=-90,i=90,l=-180,c=180;for(let f=0;f<t.length;f++){const m=t.charAt(f),y=dy.indexOf(m);if(y==-1)throw new Error("Invalid geohash");for(let g=4;g>=0;g--){const E=y>>g&1;if(n){const _=(l+c)/2;E==1?l=_:c=_}else{const _=(r+i)/2;E==1?r=_:i=_}n=!n}}return{sw:{lat:r,lon:l},ne:{lat:i,lon:c}}}static adjacent(t,n){if(t=t.toLowerCase(),n=n.toLowerCase(),t.length==0)throw new Error("Invalid geohash");if("nsew".indexOf(n)==-1)throw new Error("Invalid direction");const r={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]},i={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]},l=t.slice(-1);let c=t.slice(0,-1);const u=t.length%2;return i[n][u].indexOf(l)!=-1&&c!=""&&(c=Pn.adjacent(c,n)),c+dy.charAt(r[n][u].indexOf(l))}static neighbours(t){return{n:Pn.adjacent(t,"n"),ne:Pn.adjacent(Pn.adjacent(t,"n"),"e"),e:Pn.adjacent(t,"e"),se:Pn.adjacent(Pn.adjacent(t,"s"),"e"),s:Pn.adjacent(t,"s"),sw:Pn.adjacent(Pn.adjacent(t,"s"),"w"),w:Pn.adjacent(t,"w"),nw:Pn.adjacent(Pn.adjacent(t,"n"),"w")}}}function NZ(){const{nostr:e}=Oo();return Ra({queryKey:["my-lockers"],queryFn:async()=>(await e.query([{kinds:[30402],limit:100}])).map(n=>hT(n)).filter(Boolean),staleTime:3e4})}function wh({className:e,...t}){return p.jsx("div",{className:lt("animate-pulse rounded-md bg-muted",e),...t})}function PZ(){sl({title:"Owner Dashboard - Dead Drop Network"});const{user:e}=kp(),{mutateAsync:t,isPending:n}=V0(),{toast:r}=tl(),{data:i,isLoading:l}=NZ(),[c,u]=j.useState(""),[f,m]=j.useState(""),[y,g]=j.useState(""),[E,_]=j.useState(""),[k,w]=j.useState(""),[b,S]=j.useState("1000"),[P,R]=j.useState("10"),[D,B]=j.useState("7"),[q,G]=j.useState(!1),[J,V]=j.useState("500"),[Y,Q]=j.useState("30"),[U,re]=j.useState("30x30x45"),M=async W=>{if(W.preventDefault(),!!e)try{const ae=Pn.encode(parseFloat(E),parseFloat(k),7),oe=CZ({title:c,description:f,location:y,geohash:ae,baseFee:parseInt(b),overdueFee:parseInt(P),overdueDays:parseInt(D),proxyMode:q,proxyFee:parseInt(J),abandonDays:parseInt(Y),dimensions:U});await t({kind:30402,content:f,tags:oe}),r({title:"Locker Published",description:"Your locker listing is now live."}),u(""),m("")}catch(ae){r({title:"Error",description:ae.message,variant:"destructive"})}};return e?p.jsx("div",{className:"min-h-screen bg-background",children:p.jsxs("div",{className:"container mx-auto p-4 space-y-8",children:[p.jsxs("header",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"Host Dashboard"}),p.jsx(mv,{className:"max-w-60"})]}),p.jsxs(lN,{defaultValue:"lockers",className:"space-y-6",children:[p.jsxs(U0,{children:[p.jsx(hd,{value:"lockers",children:"My Lockers"}),p.jsx(hd,{value:"proxy",children:"Become a Proxy"})]}),p.jsxs(pd,{value:"lockers",className:"space-y-8",children:[p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-medium mb-4",children:"My Lockers"}),l?p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(W=>p.jsxs(_t,{children:[p.jsxs(Zt,{children:[p.jsx(wh,{className:"h-5 w-3/4"}),p.jsx(wh,{className:"h-4 w-1/2"})]}),p.jsxs(St,{children:[p.jsx(wh,{className:"h-4 w-full mb-2"}),p.jsx(wh,{className:"h-4 w-2/3"})]})]},W))}):i&&i.length>0?p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(W=>p.jsxs(_t,{children:[p.jsxs(Zt,{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ht,{className:"text-lg",children:W.title}),p.jsx(gn,{variant:W.status==="available"?"default":"secondary",children:W.status})]}),p.jsx(er,{children:W.location||W.geohash})]}),p.jsxs(St,{children:[p.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:W.description}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{children:["Fee: ",W.price," sats"]}),W.proxyMode&&p.jsx(gn,{variant:"outline",children:"Proxy"})]})]})]},W.id))}):p.jsx(_t,{className:"border-dashed",children:p.jsx(St,{className:"py-8 text-center text-muted-foreground",children:"You haven't created any lockers yet."})})]}),p.jsxs(_t,{className:"bg-muted/50 border-dashed",children:[p.jsxs(Zt,{children:[p.jsx(Ht,{className:"text-base",children:"Don't Have Hardware Yet?"}),p.jsx(er,{children:"You'll need a Nostr-compatible smart locker to complete setup"})]}),p.jsxs(St,{className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"DeadDropstr lockers run on open hardware. Choose your path:"}),p.jsxs("div",{className:"grid sm:grid-cols-3 gap-3",children:[p.jsxs(qe,{variant:"outline",size:"sm",className:"h-auto py-2",onClick:()=>window.open("https://github.com/PlutarchsEcho/deaddrop-hardware","_blank"),children:[p.jsx(sS,{className:"mr-2 h-4 w-4"}),"View Open Specs"]}),p.jsxs(qe,{variant:"outline",size:"sm",className:"h-auto py-2",children:[p.jsx(Hi,{className:"mr-2 h-4 w-4"}),"Order DIY Kit"]}),p.jsxs(qe,{variant:"outline",size:"sm",className:"h-auto py-2",onClick:()=>window.open("https://github.com/PlutarchsEcho/deaddrop-hardware/releases","_blank"),children:[p.jsx($h,{className:"mr-2 h-4 w-4"}),"Download Plans"]})]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Estimated build cost: $85-250 depending on features (4G, secure element, enclosure)"})]})]}),p.jsxs(_t,{children:[p.jsxs(Zt,{children:[p.jsx(Ht,{children:"Create New Locker"}),p.jsx(er,{children:"Configure your smart locker and publish it to the network."})]}),p.jsx(St,{children:p.jsxs("form",{onSubmit:M,className:"space-y-6",children:[p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{htmlFor:"title",children:"Title"}),p.jsx(Qt,{id:"title",value:c,onChange:W=>u(W.target.value),placeholder:"Downtown Dead Drop Box #1",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{htmlFor:"dimensions",children:"Dimensions (cm)"}),p.jsx(Qt,{id:"dimensions",value:U,onChange:W=>re(W.target.value),placeholder:"WxHxD e.g. 30x30x45"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{htmlFor:"description",children:"Description"}),p.jsx(W0,{id:"description",value:f,onChange:W=>m(W.target.value),placeholder:"Describe your locker, its features, and any special instructions...",rows:3})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{htmlFor:"location",children:"Location Address"}),p.jsx(Qt,{id:"location",value:y,onChange:W=>g(W.target.value),placeholder:"123 Main St, City"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{htmlFor:"lat",children:"Latitude"}),p.jsx(Qt,{id:"lat",type:"number",step:"any",value:E,onChange:W=>_(W.target.value),placeholder:"51.505",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{htmlFor:"lng",children:"Longitude"}),p.jsx(Qt,{id:"lng",type:"number",step:"any",value:k,onChange:W=>w(W.target.value),placeholder:"-0.09",required:!0})]})]}),p.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[p.jsx("h3",{className:"font-medium",children:"Fee Structure"}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{htmlFor:"baseFee",children:"Base Fee (sats)"}),p.jsx(Qt,{id:"baseFee",type:"number",value:b,onChange:W=>S(W.target.value)})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{htmlFor:"overdueFee",children:"Overdue Fee (%)"}),p.jsx(Qt,{id:"overdueFee",type:"number",value:P,onChange:W=>R(W.target.value)})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{htmlFor:"overdueDays",children:"Overdue After (days)"}),p.jsx(Qt,{id:"overdueDays",type:"number",value:D,onChange:W=>B(W.target.value)})]})]})]}),p.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium",children:"Proxy Mode"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"You manually receive and stock items for an extra fee."})]}),p.jsx(fT,{checked:q,onCheckedChange:G})]}),q&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{htmlFor:"proxyFee",children:"Proxy Fee (sats)"}),p.jsx(Qt,{id:"proxyFee",type:"number",value:J,onChange:W=>V(W.target.value)})]})]}),p.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[p.jsx("h3",{className:"font-medium",children:"Abandoned Property"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"After this period, unclaimed items become owner property or are auctioned."}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{htmlFor:"abandonDays",children:"Days Until Abandoned"}),p.jsx(Qt,{id:"abandonDays",type:"number",value:Y,onChange:W=>Q(W.target.value)})]})]}),p.jsx(qe,{type:"submit",disabled:n,className:"w-full",children:n?"Publishing...":"Publish Locker"})]})})]})]}),p.jsx(pd,{value:"proxy",children:p.jsx(TZ,{})})]}),p.jsx("footer",{className:"text-center text-sm text-muted-foreground pt-8",children:p.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",children:"Vibed with Shakespeare"})})]})}):p.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:p.jsxs(_t,{className:"w-full max-w-md",children:[p.jsxs(Zt,{children:[p.jsx(Ht,{children:"Owner Dashboard"}),p.jsx(er,{children:"Please log in to manage your lockers."})]}),p.jsx(St,{children:p.jsx(mv,{className:"w-full"})})]})})}function TZ(){const{toast:e}=tl(),[t,n]=j.useState(!1),[r,i]=j.useState({name:"",feePerDrop:"10000",deposit:"50000",serviceAreas:"",npub:""}),l=()=>{e({title:"Proxy Registration Submitted",description:`Deposit of ${r.deposit} sats required to activate.`}),n(!0)};return t?p.jsxs(_t,{children:[p.jsx(Zt,{children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:p.jsx(ed,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{children:[p.jsx(Ht,{children:"You're a Verified Proxy!"}),p.jsx(er,{children:"Your proxy service is now active"})]})]})}),p.jsxs(St,{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Fee"}),p.jsxs("p",{className:"text-2xl font-bold",children:[parseInt(r.feePerDrop).toLocaleString()," sats"]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"per drop"})]}),p.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Deposit Staked"}),p.jsxs("p",{className:"text-2xl font-bold",children:[parseInt(r.deposit).toLocaleString()," sats"]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"held in escrow"})]})]}),p.jsxs("div",{className:"bg-primary/5 border border-primary/20 p-4 rounded-lg",children:[p.jsx("p",{className:"font-medium mb-2",children:"How it works:"}),p.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[p.jsx("li",{children:"Shippers will message you with drop requests"}),p.jsx("li",{children:"You receive packages at your address or meet for handoff"}),p.jsx("li",{children:"You place items in lockers using the codes they provide"}),p.jsxs("li",{children:["You earn ",r.feePerDrop," sats per completed drop"]}),p.jsx("li",{children:"Your deposit ensures trust - can be slashed for bad behavior"})]})]}),p.jsxs(qe,{className:"w-full",children:[p.jsx(Ap,{className:"h-4 w-4 mr-2"}),"View Drop Requests"]})]})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(_t,{children:[p.jsx(Zt,{children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:p.jsx(ed,{className:"h-6 w-6 text-primary"})}),p.jsxs("div",{children:[p.jsx(Ht,{children:"Become a Verified Proxy"}),p.jsx(er,{children:"Get paid to handle locker drops for others"})]})]})}),p.jsxs(St,{className:"space-y-6",children:[p.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[p.jsx("p",{className:"font-medium",children:"What is a proxy?"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"A proxy receives packages on behalf of shippers and places them in lockers. You earn a fee per drop while providing a valuable service to the network."})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{children:"Your Name / Handle"}),p.jsx(Qt,{placeholder:"How shippers will know you",value:r.name,onChange:c=>i({...r,name:c.target.value})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{children:"Your npub (for receiving payments)"}),p.jsx(Qt,{placeholder:"npub1...",value:r.npub,onChange:c=>i({...r,npub:c.target.value})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{children:"Fee per Drop (sats)"}),p.jsx(Qt,{type:"number",value:r.feePerDrop,onChange:c=>i({...r,feePerDrop:c.target.value})}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Typical range: 5,000 - 50,000 sats per drop"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{children:"Service Areas"}),p.jsx(Qt,{placeholder:"e.g., San Francisco, Bay Area",value:r.serviceAreas,onChange:c=>i({...r,serviceAreas:c.target.value})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(an,{children:"Security Deposit (sats)"}),p.jsx(Qt,{type:"number",value:r.deposit,onChange:c=>i({...r,deposit:c.target.value})}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 50,000 sats. Held in escrow, returned if you leave the network. Can be slashed for fraud or no-shows."})]})]}),p.jsx("div",{className:"bg-amber-50 border border-amber-200 p-4 rounded-lg",children:p.jsxs("p",{className:"text-sm text-amber-800",children:[p.jsx("strong",{children:"Note:"})," Your deposit creates trust. If you fail to complete drops or steal packages, the deposit can be claimed by affected parties through the dispute resolution system."]})}),p.jsxs(qe,{className:"w-full",onClick:l,children:[p.jsx(ed,{className:"h-4 w-4 mr-2"}),"Register as Proxy (",r.deposit," sats deposit)"]})]})]}),p.jsxs(_t,{className:"bg-muted/50",children:[p.jsx(Zt,{children:p.jsx(Ht,{className:"text-base",children:"Top Proxies in the Network"})}),p.jsxs(St,{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Alice (SF Bay)"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:" 4.9  127 drops  10k sats"})]}),p.jsx(gn,{variant:"secondary",children:"Verified"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Bob (NYC)"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:" 4.8  89 drops  15k sats"})]}),p.jsx(gn,{variant:"secondary",children:"Verified"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Carol (Seattle)"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:" 5.0  45 drops  8k sats"})]}),p.jsx(gn,{variant:"secondary",children:"Verified"})]})]})]})]})}const h1=[{id:"1",pubkey:"npub1abc123...",name:"CryptoMike",lastMessage:"Can you drop the package at the SF locker?",timestamp:"2 min ago",unread:!0},{id:"2",pubkey:"npub1def456...",name:"PrivacyPam",lastMessage:"Thanks for the quick delivery!",timestamp:"1 hour ago",unread:!1},{id:"3",pubkey:"npub1ghi789...",name:"BitcoinBill",lastMessage:"Locker code is 8472",timestamp:"Yesterday",unread:!1}],jZ=()=>{sl({title:"Messages",description:"Private encrypted messaging on Nostr"});const[e,t]=j.useState(h1[0]),[n,r]=j.useState("");return p.jsx("div",{className:"min-h-screen bg-background",children:p.jsxs("div",{className:"container mx-auto p-4 h-[calc(100vh-80px)]",children:[p.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Messages"}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-4 h-full",children:[p.jsx("div",{className:"space-y-2",children:h1.map(i=>p.jsx(_t,{className:`cursor-pointer transition-colors ${(e==null?void 0:e.id)===i.id?"border-primary":"hover:border-primary/50"}`,onClick:()=>t(i),children:p.jsxs(St,{className:"p-3 flex items-center gap-3",children:[p.jsx(yd,{className:"h-10 w-10",children:p.jsx(vd,{children:p.jsx(Zh,{className:"h-5 w-5"})})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("p",{className:"font-medium truncate",children:i.name}),i.unread&&p.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"})]}),p.jsx("p",{className:"text-sm text-muted-foreground truncate",children:i.lastMessage}),p.jsx("p",{className:"text-xs text-muted-foreground",children:i.timestamp})]})]})},i.id))}),p.jsxs(_t,{className:"md:col-span-2 flex flex-col",children:[p.jsx(Zt,{className:"border-b",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(yd,{className:"h-8 w-8",children:p.jsx(vd,{children:p.jsx(Zh,{className:"h-4 w-4"})})}),p.jsx(Ht,{className:"text-base",children:e==null?void 0:e.name})]})}),p.jsxs(St,{className:"flex-1 flex flex-col p-4",children:[p.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto",children:[p.jsx("div",{className:"flex justify-start",children:p.jsx("div",{className:"bg-muted rounded-lg px-4 py-2 max-w-[80%]",children:p.jsx("p",{className:"text-sm",children:"Hey, I saw your locker listing."})})}),p.jsx("div",{className:"flex justify-end",children:p.jsx("div",{className:"bg-primary text-primary-foreground rounded-lg px-4 py-2 max-w-[80%]",children:p.jsx("p",{className:"text-sm",children:"Hi! Yes, it's available. What do you need to store?"})})}),p.jsx("div",{className:"flex justify-start",children:p.jsx("div",{className:"bg-muted rounded-lg px-4 py-2 max-w-[80%]",children:p.jsx("p",{className:"text-sm",children:e==null?void 0:e.lastMessage})})})]}),p.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[p.jsx(Qt,{placeholder:"Type a message...",value:n,onChange:i=>r(i.target.value),onKeyDown:i=>{i.key==="Enter"&&r("")}}),p.jsx(qe,{size:"icon",onClick:()=>r(""),children:p.jsx(l6,{className:"h-4 w-4"})})]})]})]})]})]})})};function p1({event:e,className:t}){const n=j.useMemo(()=>{const r=e.content,i=/(https?:\/\/[^\s]+)|nostr:(npub1|note1|nprofile1|nevent1)([023456789acdefghjklmnpqrstuvwxyz]+)|(#\w+)/g,l=[];let c=0,u,f=0;for(;(u=i.exec(r))!==null;){const[m,y,g,E,_]=u,k=u.index;if(k>c&&l.push(r.substring(c,k)),y)l.push(p.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:y},`url-${f++}`));else if(g&&E)try{const w=`${g}${E}`,b=tr.decode(w);if(b.type==="npub"){const S=b.data;l.push(p.jsx(m1,{pubkey:S},`mention-${f++}`))}else if(b.type==="nprofile"){const S=b.data.pubkey;l.push(p.jsx(m1,{pubkey:S},`mention-${f++}`))}else l.push(p.jsx(ln,{to:`/${w}`,className:"text-blue-500 hover:underline break-all",children:m},`nostr-${f++}`))}catch{l.push(m)}else if(_){const w=_.slice(1);l.push(p.jsx(ln,{to:`/t/${w}`,className:"text-blue-500 hover:underline",children:_},`hashtag-${f++}`))}c=k+m.length}return c<r.length&&l.push(r.substring(c)),l.length===0&&l.push(r),l},[e]);return p.jsx("div",{className:lt("whitespace-pre-wrap break-words",t),children:n.length>0?n:e.content})}function m1({pubkey:e}){var l,c,u,f;const t=Tk(e),n=tr.npubEncode(e),r=!!((c=(l=t.data)==null?void 0:l.metadata)!=null&&c.name),i=((f=(u=t.data)==null?void 0:u.metadata)==null?void 0:f.name)??bP(e);return p.jsxs(ln,{to:`/${n}`,className:lt("font-medium hover:underline",r?"text-blue-500":"text-gray-500 hover:text-gray-700"),children:["@",i]})}function AZ(){const{nip19:e}=A0();sl({title:"NIP-19"});const{nostr:t}=Oo();if(!e)return p.jsx("div",{className:"container mx-auto p-6",children:"Invalid identifier"});let n;try{n=tr.decode(e)}catch{return p.jsx("div",{className:"container mx-auto p-6",children:"Invalid NIP-19 identifier"})}const{type:r,data:i}=n,l=Ra({queryKey:["nip19",e,"profile"],enabled:r==="npub"||r==="nprofile",queryFn:async()=>{const m=(i==null?void 0:i.pubkey)??i;if(!m)return null;const y=await t.query([{kinds:[0],authors:[m],limit:1}]),g=y==null?void 0:y[0];if(!g)return{pubkey:m};try{const E=JSON.parse(g.content||"{}");return{pubkey:m,metadata:E}}catch{return{pubkey:m}}}}),c=Ra({queryKey:["nip19",e,"note"],enabled:r==="note",queryFn:async()=>{const m=i;if(!m)return null;const y=await t.query([{ids:[m],kinds:[1],limit:1}]);return(y==null?void 0:y[0])??null}}),u=Ra({queryKey:["nip19",e,"event"],enabled:r==="nevent",queryFn:async()=>{const m=(i==null?void 0:i.id)??i;if(!m)return null;const y=await t.query([{ids:[m],limit:1}]);return(y==null?void 0:y[0])??null}}),f=Ra({queryKey:["nip19",e,"naddr"],enabled:r==="naddr",queryFn:async()=>{const m=i;if(!m)return null;const y=m.kind,g=m.pubkey,E=m.identifier,_=await t.query([{kinds:[y],authors:[g],"#d":[E],limit:1}]);return(_==null?void 0:_[0])??null}});if(r==="npub"||r==="nprofile"){const m=l.data;return l.isFetched?p.jsx("div",{className:"container mx-auto p-6",children:p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),p.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["pubkey: ",p.jsx("code",{children:m==null?void 0:m.pubkey})]}),m!=null&&m.metadata?p.jsxs("div",{className:"space-y-2",children:[p.jsx("img",{src:m.metadata.picture,alt:"avatar",className:"w-28 h-28 rounded-full"}),p.jsx("h2",{className:"text-xl font-semibold",children:m.metadata.display_name??m.metadata.name}),p.jsx("p",{className:"text-sm text-muted-foreground",children:m.metadata.about}),m.metadata.website&&p.jsx("p",{children:p.jsx("a",{href:m.metadata.website,target:"_blank",rel:"noreferrer",className:"text-primary",children:"Website"})})]}):p.jsx("p",{children:"No metadata available."})]})}):p.jsx("div",{className:"container mx-auto p-6",children:"Loading profile"})}if(r==="note"){const m=c.data;return c.isLoading?p.jsx("div",{className:"container mx-auto p-6",children:"Loading note"}):m?p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Text Note"}),p.jsx("div",{className:"prose max-w-none whitespace-pre-wrap",children:p.jsx(p1,{event:m})}),p.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",p.jsx(ln,{to:`/${tr.encode({type:"npub",data:m.pubkey})}`,children:m.pubkey})]})]}):p.jsx("div",{className:"container mx-auto p-6",children:"Note not found"})}if(r==="nevent"){const m=u.data;return u.isLoading?p.jsx("div",{className:"container mx-auto p-6",children:"Loading event"}):m?p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsxs("h1",{className:"text-xl font-semibold",children:["Event (kind: ",m.kind,")"]}),p.jsx("div",{className:"mt-4 prose max-w-none whitespace-pre-wrap",children:m.kind===1?p.jsx(p1,{event:m}):p.jsx("pre",{children:m.content})}),p.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",p.jsx("code",{children:m.pubkey})]})]}):p.jsx("div",{className:"container mx-auto p-6",children:"Event not found"})}if(r==="naddr"){const m=f.data;if(f.isLoading)return p.jsx("div",{className:"container mx-auto p-6",children:"Loading addressable event"});if(!m)return p.jsx("div",{className:"container mx-auto p-6",children:"Addressable event not found"});if(m.kind===30402){const y=hT(m);return y?p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:y.title}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",p.jsx("code",{children:y.pubkey})]}),p.jsx("p",{className:"mt-2",children:y.description}),p.jsxs("div",{className:"mt-4",children:[p.jsxs("p",{children:["Dimensions: ",y.dimensions]}),p.jsxs("p",{children:["Fee: ",y.price," ",y.currency]}),p.jsxs("p",{children:["Status: ",y.status]}),p.jsx(ln,{to:`/locker/${e}`,className:"text-primary",children:"Open Locker Page"})]})]}):p.jsx("div",{className:"container mx-auto p-6",children:"Invalid locker event"})}return p.jsxs("div",{className:"container mx-auto p-6",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Addressable Event"}),p.jsx("pre",{className:"mt-4 whitespace-pre-wrap",children:m.content}),p.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Author: ",p.jsx("code",{children:m.pubkey})]})]})}return p.jsx("div",{className:"container mx-auto p-6",children:"Unsupported identifier type"})}const RZ=()=>{const e=rl();return sl({title:"404 - Page Not Found",description:"The page you are looking for could not be found. Return to the home page to continue browsing."}),j.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})};function IZ(){return p.jsxs(sU,{basename:"/nostr-dead-drop-lockers",children:[p.jsx(uU,{}),p.jsx(m7,{}),p.jsxs(XF,{children:[p.jsx(Kr,{path:"/",element:p.jsx(xZ,{})}),p.jsx(Kr,{path:"/marketplace",element:p.jsx(Y7,{})}),p.jsx(Kr,{path:"/product/:dTag",element:p.jsx(lZ,{})}),p.jsx(Kr,{path:"/snapshot",element:p.jsx(fZ,{})}),p.jsx(Kr,{path:"/dashboard",element:p.jsx(PZ,{})}),p.jsx(Kr,{path:"/my-lockers",element:p.jsx(vZ,{})}),p.jsx(Kr,{path:"/proxy-drops",element:p.jsx(wZ,{})}),p.jsx(Kr,{path:"/messages",element:p.jsx(jZ,{})}),p.jsx(Kr,{path:"/locker/:nip19",element:p.jsx(b7,{})}),p.jsx(Kr,{path:"/:nip19",element:p.jsx(AZ,{})}),p.jsx(Kr,{path:"*",element:p.jsx(RZ,{})})]})]})}const LZ=K1({plugins:[yA()]}),OZ=new Nj({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4,gcTime:1/0}}}),MZ={theme:"light",relayMetadata:{relays:[{url:"wss://relay.ditto.pub",read:!0,write:!0},{url:"wss://relay.nostr.band",read:!0,write:!0},{url:"wss://relay.damus.io",read:!0,write:!0}],updatedAt:0}};function zZ(){return p.jsx(fA,{head:LZ,children:p.jsx(kB,{storageKey:"nostr:app-config",defaultConfig:MZ,children:p.jsx(Rj,{client:OZ,children:p.jsx(V5,{storageKey:"nostr:login",children:p.jsxs(q5,{children:[p.jsx(K5,{}),p.jsx(aF,{children:p.jsxs(xB,{children:[p.jsx(K6,{}),p.jsx(j.Suspense,{children:p.jsx(IZ,{})})]})})]})})})})})}oj.createRoot(document.getElementById("root")).render(p.jsx(dj,{children:p.jsx(zZ,{})}));
