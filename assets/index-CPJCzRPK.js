var iR=Object.defineProperty;var mx=e=>{throw TypeError(e)};var oR=(e,t,n)=>t in e?iR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $e=(e,t,n)=>oR(e,typeof t!="symbol"?t+"":t,n),_g=(e,t,n)=>t.has(e)||mx("Cannot "+n);var ue=(e,t,n)=>(_g(e,t,"read from private field"),n?n.call(e):t.get(e)),et=(e,t,n)=>t.has(e)?mx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),We=(e,t,n,r)=>(_g(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),pt=(e,t,n)=>(_g(e,t,"access private method"),n);var ih=(e,t,n,r)=>({set _(i){We(e,t,i,n)},get _(){return ue(e,t,r)}});function sR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xg={exports:{}},ju={},bg={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function aR(){if(gx)return _t;gx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function b($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,v={};function E($,Q,Ce){this.props=$,this.context=Q,this.refs=v,this.updater=Ce||x}E.prototype.isReactComponent={},E.prototype.setState=function($,Q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Q,"setState")},E.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function S(){}S.prototype=E.prototype;function T($,Q,Ce){this.props=$,this.context=Q,this.refs=v,this.updater=Ce||x}var R=T.prototype=new S;R.constructor=T,k(R,E.prototype),R.isPureReactComponent=!0;var z=Array.isArray,D=Object.prototype.hasOwnProperty,Z={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function Y($,Q,Ce){var xe,ve={},Re=null,Ue=null;if(Q!=null)for(xe in Q.ref!==void 0&&(Ue=Q.ref),Q.key!==void 0&&(Re=""+Q.key),Q)D.call(Q,xe)&&!V.hasOwnProperty(xe)&&(ve[xe]=Q[xe]);var Me=arguments.length-2;if(Me===1)ve.children=Ce;else if(1<Me){for(var Be=Array(Me),nt=0;nt<Me;nt++)Be[nt]=arguments[nt+2];ve.children=Be}if($&&$.defaultProps)for(xe in Me=$.defaultProps,Me)ve[xe]===void 0&&(ve[xe]=Me[xe]);return{$$typeof:e,type:$,key:Re,ref:Ue,props:ve,_owner:Z.current}}function U($,Q){return{$$typeof:e,type:$.type,key:Q,ref:$.ref,props:$.props,_owner:$._owner}}function q($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function J($){var Q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Ce){return Q[Ce]})}var F=/\/+/g;function X($,Q){return typeof $=="object"&&$!==null&&$.key!=null?J(""+$.key):Q.toString(36)}function O($,Q,Ce,xe,ve){var Re=typeof $;(Re==="undefined"||Re==="boolean")&&($=null);var Ue=!1;if($===null)Ue=!0;else switch(Re){case"string":case"number":Ue=!0;break;case"object":switch($.$$typeof){case e:case t:Ue=!0}}if(Ue)return Ue=$,ve=ve(Ue),$=xe===""?"."+X(Ue,0):xe,z(ve)?(Ce="",$!=null&&(Ce=$.replace(F,"$&/")+"/"),O(ve,Q,Ce,"",function(nt){return nt})):ve!=null&&(q(ve)&&(ve=U(ve,Ce+(!ve.key||Ue&&Ue.key===ve.key?"":(""+ve.key).replace(F,"$&/")+"/")+$)),Q.push(ve)),1;if(Ue=0,xe=xe===""?".":xe+":",z($))for(var Me=0;Me<$.length;Me++){Re=$[Me];var Be=xe+X(Re,Me);Ue+=O(Re,Q,Ce,Be,ve)}else if(Be=b($),typeof Be=="function")for($=Be.call($),Me=0;!(Re=$.next()).done;)Re=Re.value,Be=xe+X(Re,Me++),Ue+=O(Re,Q,Ce,Be,ve);else if(Re==="object")throw Q=String($),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ue}function K($,Q,Ce){if($==null)return $;var xe=[],ve=0;return O($,xe,"","",function(Re){return Q.call(Ce,Re,ve++)}),xe}function ae($){if($._status===-1){var Q=$._result;Q=Q(),Q.then(function(Ce){($._status===0||$._status===-1)&&($._status=1,$._result=Ce)},function(Ce){($._status===0||$._status===-1)&&($._status=2,$._result=Ce)}),$._status===-1&&($._status=0,$._result=Q)}if($._status===1)return $._result.default;throw $._result}var oe={current:null},re={transition:null},te={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:re,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return _t.Children={map:K,forEach:function($,Q,Ce){K($,function(){Q.apply(this,arguments)},Ce)},count:function($){var Q=0;return K($,function(){Q++}),Q},toArray:function($){return K($,function(Q){return Q})||[]},only:function($){if(!q($))throw Error("React.Children.only expected to receive a single React element child.");return $}},_t.Component=E,_t.Fragment=n,_t.Profiler=i,_t.PureComponent=T,_t.StrictMode=r,_t.Suspense=d,_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,_t.act=le,_t.cloneElement=function($,Q,Ce){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var xe=k({},$.props),ve=$.key,Re=$.ref,Ue=$._owner;if(Q!=null){if(Q.ref!==void 0&&(Re=Q.ref,Ue=Z.current),Q.key!==void 0&&(ve=""+Q.key),$.type&&$.type.defaultProps)var Me=$.type.defaultProps;for(Be in Q)D.call(Q,Be)&&!V.hasOwnProperty(Be)&&(xe[Be]=Q[Be]===void 0&&Me!==void 0?Me[Be]:Q[Be])}var Be=arguments.length-2;if(Be===1)xe.children=Ce;else if(1<Be){Me=Array(Be);for(var nt=0;nt<Be;nt++)Me[nt]=arguments[nt+2];xe.children=Me}return{$$typeof:e,type:$.type,key:ve,ref:Re,props:xe,_owner:Ue}},_t.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},_t.createElement=Y,_t.createFactory=function($){var Q=Y.bind(null,$);return Q.type=$,Q},_t.createRef=function(){return{current:null}},_t.forwardRef=function($){return{$$typeof:u,render:$}},_t.isValidElement=q,_t.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:ae}},_t.memo=function($,Q){return{$$typeof:p,type:$,compare:Q===void 0?null:Q}},_t.startTransition=function($){var Q=re.transition;re.transition={};try{$()}finally{re.transition=Q}},_t.unstable_act=le,_t.useCallback=function($,Q){return oe.current.useCallback($,Q)},_t.useContext=function($){return oe.current.useContext($)},_t.useDebugValue=function(){},_t.useDeferredValue=function($){return oe.current.useDeferredValue($)},_t.useEffect=function($,Q){return oe.current.useEffect($,Q)},_t.useId=function(){return oe.current.useId()},_t.useImperativeHandle=function($,Q,Ce){return oe.current.useImperativeHandle($,Q,Ce)},_t.useInsertionEffect=function($,Q){return oe.current.useInsertionEffect($,Q)},_t.useLayoutEffect=function($,Q){return oe.current.useLayoutEffect($,Q)},_t.useMemo=function($,Q){return oe.current.useMemo($,Q)},_t.useReducer=function($,Q,Ce){return oe.current.useReducer($,Q,Ce)},_t.useRef=function($){return oe.current.useRef($)},_t.useState=function($){return oe.current.useState($)},_t.useSyncExternalStore=function($,Q,Ce){return oe.current.useSyncExternalStore($,Q,Ce)},_t.useTransition=function(){return oe.current.useTransition()},_t.version="18.3.1",_t}var yx;function sp(){return yx||(yx=1,bg.exports=aR()),bg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function lR(){if(vx)return ju;vx=1;var e=sp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,p){var g,m={},b=null,x=null;p!==void 0&&(b=""+p),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(x=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(m[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)m[g]===void 0&&(m[g]=d[g]);return{$$typeof:t,type:u,key:b,ref:x,props:m,_owner:i.current}}return ju.Fragment=n,ju.jsx=c,ju.jsxs=c,ju}var wx;function cR(){return wx||(wx=1,xg.exports=lR()),xg.exports}var w=cR(),sh={},Eg={exports:{}},lr={},kg={exports:{}},Sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function uR(){return _x||(_x=1,function(e){function t(re,te){var le=re.length;re.push(te);e:for(;0<le;){var $=le-1>>>1,Q=re[$];if(0<i(Q,te))re[$]=te,re[le]=Q,le=$;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var te=re[0],le=re.pop();if(le!==te){re[0]=le;e:for(var $=0,Q=re.length,Ce=Q>>>1;$<Ce;){var xe=2*($+1)-1,ve=re[xe],Re=xe+1,Ue=re[Re];if(0>i(ve,le))Re<Q&&0>i(Ue,ve)?(re[$]=Ue,re[Re]=le,$=Re):(re[$]=ve,re[xe]=le,$=xe);else if(Re<Q&&0>i(Ue,le))re[$]=Ue,re[Re]=le,$=Re;else break e}}return te}function i(re,te){var le=re.sortIndex-te.sortIndex;return le!==0?le:re.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],p=[],g=1,m=null,b=3,x=!1,k=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(re){for(var te=n(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=re)r(p),te.sortIndex=te.expirationTime,t(d,te);else break;te=n(p)}}function z(re){if(v=!1,R(re),!k)if(n(d)!==null)k=!0,ae(D);else{var te=n(p);te!==null&&oe(z,te.startTime-re)}}function D(re,te){k=!1,v&&(v=!1,S(Y),Y=-1),x=!0;var le=b;try{for(R(te),m=n(d);m!==null&&(!(m.expirationTime>te)||re&&!J());){var $=m.callback;if(typeof $=="function"){m.callback=null,b=m.priorityLevel;var Q=$(m.expirationTime<=te);te=e.unstable_now(),typeof Q=="function"?m.callback=Q:m===n(d)&&r(d),R(te)}else r(d);m=n(d)}if(m!==null)var Ce=!0;else{var xe=n(p);xe!==null&&oe(z,xe.startTime-te),Ce=!1}return Ce}finally{m=null,b=le,x=!1}}var Z=!1,V=null,Y=-1,U=5,q=-1;function J(){return!(e.unstable_now()-q<U)}function F(){if(V!==null){var re=e.unstable_now();q=re;var te=!0;try{te=V(!0,re)}finally{te?X():(Z=!1,V=null)}}else Z=!1}var X;if(typeof T=="function")X=function(){T(F)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,K=O.port2;O.port1.onmessage=F,X=function(){K.postMessage(null)}}else X=function(){E(F,0)};function ae(re){V=re,Z||(Z=!0,X())}function oe(re,te){Y=E(function(){re(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){k||x||(k=!0,ae(D))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(re){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var le=b;b=te;try{return re()}finally{b=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,te){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=b;b=re;try{return te()}finally{b=le}},e.unstable_scheduleCallback=function(re,te,le){var $=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?$+le:$):le=$,re){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=le+Q,re={id:g++,callback:te,priorityLevel:re,startTime:le,expirationTime:Q,sortIndex:-1},le>$?(re.sortIndex=le,t(p,re),n(d)===null&&re===n(p)&&(v?(S(Y),Y=-1):v=!0,oe(z,le-$))):(re.sortIndex=Q,t(d,re),k||x||(k=!0,ae(D))),re},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(re){var te=b;return function(){var le=b;b=te;try{return re.apply(this,arguments)}finally{b=le}}}}(Sg)),Sg}var xx;function dR(){return xx||(xx=1,kg.exports=uR()),kg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx;function fR(){if(bx)return lr;bx=1;var e=sp(),t=dR();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,l){c(o,l),c(o+"Capture",l)}function c(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function b(o){return d.call(m,o)?!0:d.call(g,o)?!1:p.test(o)?m[o]=!0:(g[o]=!0,!1)}function x(o,l,h,_){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return _?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,l,h,_){if(l===null||typeof l>"u"||x(o,l,h,_))return!0;if(_)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function v(o,l,h,_,P,I,H){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=_,this.attributeNamespace=P,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=I,this.removeEmptyString=H}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new v(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];E[l]=new v(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new v(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new v(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new v(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new v(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function T(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(S,T);E[l]=new v(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(S,T);E[l]=new v(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(S,T);E[l]=new v(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,l,h,_){var P=E.hasOwnProperty(l)?E[l]:null;(P!==null?P.type!==0:_||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(k(l,h,P,_)&&(h=null),_||P===null?b(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):P.mustUseProperty?o[P.propertyName]=h===null?P.type===3?!1:"":h:(l=P.attributeName,_=P.attributeNamespace,h===null?o.removeAttribute(l):(P=P.type,h=P===3||P===4&&h===!0?"":""+h,_?o.setAttributeNS(_,l,h):o.setAttribute(l,h))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),Z=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),J=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),re=Symbol.iterator;function te(o){return o===null||typeof o!="object"?null:(o=re&&o[re]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,$;function Q(o){if($===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);$=l&&l[1]||""}return`
`+$+o}var Ce=!1;function xe(o,l){if(!o||Ce)return"";Ce=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Ee){var _=Ee}Reflect.construct(o,[],l)}else{try{l.call()}catch(Ee){_=Ee}o.call(l.prototype)}else{try{throw Error()}catch(Ee){_=Ee}o()}}catch(Ee){if(Ee&&_&&typeof Ee.stack=="string"){for(var P=Ee.stack.split(`
`),I=_.stack.split(`
`),H=P.length-1,se=I.length-1;1<=H&&0<=se&&P[H]!==I[se];)se--;for(;1<=H&&0<=se;H--,se--)if(P[H]!==I[se]){if(H!==1||se!==1)do if(H--,se--,0>se||P[H]!==I[se]){var de=`
`+P[H].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=H&&0<=se);break}}}finally{Ce=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?Q(o):""}function ve(o){switch(o.tag){case 5:return Q(o.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return o=xe(o.type,!1),o;case 11:return o=xe(o.type.render,!1),o;case 1:return o=xe(o.type,!0),o;default:return""}}function Re(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case V:return"Fragment";case Z:return"Portal";case U:return"Profiler";case Y:return"StrictMode";case X:return"Suspense";case O:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case J:return(o.displayName||"Context")+".Consumer";case q:return(o._context.displayName||"Context")+".Provider";case F:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case K:return l=o.displayName||null,l!==null?l:Re(o.type)||"Memo";case ae:l=o._payload,o=o._init;try{return Re(o(l))}catch{}}return null}function Ue(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(l);case 8:return l===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Me(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Be(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function nt(o){var l=Be(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),_=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var P=h.get,I=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return P.call(this)},set:function(H){_=""+H,I.call(this,H)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return _},setValue:function(H){_=""+H},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function wt(o){o._valueTracker||(o._valueTracker=nt(o))}function At(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),_="";return o&&(_=Be(o)?o.checked?"true":"false":o.value),o=_,o!==h?(l.setValue(o),!0):!1}function ft(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function B(o,l){var h=l.checked;return le({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Pe(o,l){var h=l.defaultValue==null?"":l.defaultValue,_=l.checked!=null?l.checked:l.defaultChecked;h=Me(l.value!=null?l.value:h),o._wrapperState={initialChecked:_,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ke(o,l){l=l.checked,l!=null&&R(o,"checked",l,!1)}function ie(o,l){ke(o,l);var h=Me(l.value),_=l.type;if(h!=null)_==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(_==="submit"||_==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?pe(o,l.type,h):l.hasOwnProperty("defaultValue")&&pe(o,l.type,Me(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function ne(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var _=l.type;if(!(_!=="submit"&&_!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function pe(o,l,h){(l!=="number"||ft(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Ne=Array.isArray;function Ae(o,l,h,_){if(o=o.options,l){l={};for(var P=0;P<h.length;P++)l["$"+h[P]]=!0;for(h=0;h<o.length;h++)P=l.hasOwnProperty("$"+o[h].value),o[h].selected!==P&&(o[h].selected=P),P&&_&&(o[h].defaultSelected=!0)}else{for(h=""+Me(h),l=null,P=0;P<o.length;P++){if(o[P].value===h){o[P].selected=!0,_&&(o[P].defaultSelected=!0);return}l!==null||o[P].disabled||(l=o[P])}l!==null&&(l.selected=!0)}}function me(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ze(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(Ne(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:Me(h)}}function He(o,l){var h=Me(l.value),_=Me(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),_!=null&&(o.defaultValue=""+_)}function je(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Je(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function W(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Je(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var N,M=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,_,P){MSApp.execUnsafeLocalFunction(function(){return o(l,h,_,P)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(N=N||document.createElement("div"),N.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=N.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function ee(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];Object.keys(fe).forEach(function(o){_e.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),fe[l]=fe[o]})});function Se(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||fe.hasOwnProperty(o)&&fe[o]?(""+l).trim():l+"px"}function lt(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var _=h.indexOf("--")===0,P=Se(h,l[h],_);h==="float"&&(h="cssFloat"),_?o.setProperty(h,P):o[h]=P}}var Lt=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(o,l){if(l){if(Lt[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Et(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=null;function ra(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Do=null,Ir=null,Zn=null;function qi(o){if(o=oo(o)){if(typeof Do!="function")throw Error(n(280));var l=o.stateNode;l&&(l=Rl(l),Do(o.stateNode,o.type,l))}}function Fd(o){Ir?Zn?Zn.push(o):Zn=[o]:Ir=o}function Ud(){if(Ir){var o=Ir,l=Zn;if(Zn=Ir=null,qi(o),l)for(o=0;o<l.length;o++)qi(l[o])}}function $d(o,l){return o(l)}function Zd(){}var Wc=!1;function ol(o,l,h){if(Wc)return o(l,h);Wc=!0;try{return $d(o,l,h)}finally{Wc=!1,(Ir!==null||Zn!==null)&&(Zd(),Ud())}}function ia(o,l){var h=o.stateNode;if(h===null)return null;var _=Rl(h);if(_===null)return null;h=_[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(o=o.type,_=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!_;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var Vc=!1;if(u)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Vc=!1}function Jp(o,l,h,_,P,I,H,se,de){var Ee=Array.prototype.slice.call(arguments,3);try{l.apply(h,Ee)}catch(Oe){this.onError(Oe)}}var Nn=!1,Qe=null,sa=!1,sl=null,Hd={onError:function(o){Nn=!0,Qe=o}};function Wd(o,l,h,_,P,I,H,se,de){Nn=!1,Qe=null,Jp.apply(Hd,arguments)}function qc(o,l,h,_,P,I,H,se,de){if(Wd.apply(this,arguments),Nn){if(Nn){var Ee=Qe;Nn=!1,Qe=null}else throw Error(n(198));sa||(sa=!0,sl=Ee)}}function wi(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function Ki(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Kc(o){if(wi(o)!==o)throw Error(n(188))}function Qp(o){var l=o.alternate;if(!l){if(l=wi(o),l===null)throw Error(n(188));return l!==o?null:o}for(var h=o,_=l;;){var P=h.return;if(P===null)break;var I=P.alternate;if(I===null){if(_=P.return,_!==null){h=_;continue}break}if(P.child===I.child){for(I=P.child;I;){if(I===h)return Kc(P),o;if(I===_)return Kc(P),l;I=I.sibling}throw Error(n(188))}if(h.return!==_.return)h=P,_=I;else{for(var H=!1,se=P.child;se;){if(se===h){H=!0,h=P,_=I;break}if(se===_){H=!0,_=P,h=I;break}se=se.sibling}if(!H){for(se=I.child;se;){if(se===h){H=!0,h=I,_=P;break}if(se===_){H=!0,_=I,h=P;break}se=se.sibling}if(!H)throw Error(n(189))}}if(h.alternate!==_)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:l}function Vd(o){return o=Qp(o),o!==null?qd(o):null}function qd(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=qd(o);if(l!==null)return l;o=o.sibling}return null}var Kd=t.unstable_scheduleCallback,Gc=t.unstable_cancelCallback,Xp=t.unstable_shouldYield,al=t.unstable_requestPaint,Jt=t.unstable_now,em=t.unstable_getCurrentPriorityLevel,Yc=t.unstable_ImmediatePriority,Gd=t.unstable_UserBlockingPriority,ll=t.unstable_NormalPriority,Jc=t.unstable_LowPriority,Bo=t.unstable_IdlePriority,aa=null,gr=null;function la(o){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(aa,o,void 0,(o.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:Fo,Zt=Math.log,cl=Math.LN2;function Fo(o){return o>>>=0,o===0?32:31-(Zt(o)/cl|0)|0}var ei=64,Uo=4194304;function dt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ut(o,l){var h=o.pendingLanes;if(h===0)return 0;var _=0,P=o.suspendedLanes,I=o.pingedLanes,H=h&268435455;if(H!==0){var se=H&~P;se!==0?_=dt(se):(I&=H,I!==0&&(_=dt(I)))}else H=h&~P,H!==0?_=dt(H):I!==0&&(_=dt(I));if(_===0)return 0;if(l!==0&&l!==_&&(l&P)===0&&(P=_&-_,I=l&-l,P>=I||P===16&&(I&4194240)!==0))return l;if((_&4)!==0&&(_|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=_;0<l;)h=31-ht(l),P=1<<h,_|=o[h],l&=~P;return _}function Qc(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ul(o,l){for(var h=o.suspendedLanes,_=o.pingedLanes,P=o.expirationTimes,I=o.pendingLanes;0<I;){var H=31-ht(I),se=1<<H,de=P[H];de===-1?((se&h)===0||(se&_)!==0)&&(P[H]=Qc(se,l)):de<=l&&(o.expiredLanes|=se),I&=~se}}function An(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Yd(){var o=ei;return ei<<=1,(ei&4194240)===0&&(ei=64),o}function $o(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function yr(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-ht(l),o[l]=h}function nn(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var _=o.eventTimes;for(o=o.expirationTimes;0<h;){var P=31-ht(h),I=1<<P;l[P]=0,_[P]=-1,o[P]=-1,h&=~I}}function ti(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var _=31-ht(h),P=1<<_;P&l|o[_]&l&&(o[_]|=l),h&=~P}}var St=0;function Zo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var dl,Gi,fl,hl,ca,ua=!1,Ho=[],vr=null,ni=null,Lr=null,da=new Map,ct=new Map,pn=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xc(o,l){switch(o){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":da.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(l.pointerId)}}function Yi(o,l,h,_,P,I){return o===null||o.nativeEvent!==I?(o={blockedOn:l,domEventName:h,eventSystemFlags:_,nativeEvent:I,targetContainers:[P]},l!==null&&(l=oo(l),l!==null&&Gi(l)),o):(o.eventSystemFlags|=_,l=o.targetContainers,P!==null&&l.indexOf(P)===-1&&l.push(P),o)}function eu(o,l,h,_,P){switch(l){case"focusin":return vr=Yi(vr,o,l,h,_,P),!0;case"dragenter":return ni=Yi(ni,o,l,h,_,P),!0;case"mouseover":return Lr=Yi(Lr,o,l,h,_,P),!0;case"pointerover":var I=P.pointerId;return da.set(I,Yi(da.get(I)||null,o,l,h,_,P)),!0;case"gotpointercapture":return I=P.pointerId,ct.set(I,Yi(ct.get(I)||null,o,l,h,_,P)),!0}return!1}function pl(o){var l=io(o.target);if(l!==null){var h=wi(l);if(h!==null){if(l=h.tag,l===13){if(l=Ki(h),l!==null){o.blockedOn=l,ca(o.priority,function(){fl(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Or(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=yl(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var _=new h.constructor(h.type,h);kt=_,h.target.dispatchEvent(_),kt=null}else return l=oo(h),l!==null&&Gi(l),o.blockedOn=h,!1;l.shift()}return!0}function ml(o,l,h){Or(o)&&h.delete(l)}function fa(){ua=!1,vr!==null&&Or(vr)&&(vr=null),ni!==null&&Or(ni)&&(ni=null),Lr!==null&&Or(Lr)&&(Lr=null),da.forEach(ml),ct.forEach(ml)}function Qt(o,l){o.blockedOn===l&&(o.blockedOn=null,ua||(ua=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fa)))}function wr(o){function l(P){return Qt(P,o)}if(0<Ho.length){Qt(Ho[0],o);for(var h=1;h<Ho.length;h++){var _=Ho[h];_.blockedOn===o&&(_.blockedOn=null)}}for(vr!==null&&Qt(vr,o),ni!==null&&Qt(ni,o),Lr!==null&&Qt(Lr,o),da.forEach(l),ct.forEach(l),h=0;h<pn.length;h++)_=pn[h],_.blockedOn===o&&(_.blockedOn=null);for(;0<pn.length&&(h=pn[0],h.blockedOn===null);)pl(h),h.blockedOn===null&&pn.shift()}var Ji=z.ReactCurrentBatchConfig,ha=!0;function tm(o,l,h,_){var P=St,I=Ji.transition;Ji.transition=null;try{St=1,pa(o,l,h,_)}finally{St=P,Ji.transition=I}}function Jd(o,l,h,_){var P=St,I=Ji.transition;Ji.transition=null;try{St=4,pa(o,l,h,_)}finally{St=P,Ji.transition=I}}function pa(o,l,h,_){if(ha){var P=yl(o,l,h,_);if(P===null)s(o,l,_,gl,h),Xc(o,_);else if(eu(P,o,l,h,_))_.stopPropagation();else if(Xc(o,_),l&4&&-1<Dt.indexOf(o)){for(;P!==null;){var I=oo(P);if(I!==null&&dl(I),I=yl(o,l,h,_),I===null&&s(o,l,_,gl,h),I===P)break;P=I}P!==null&&_.stopPropagation()}else s(o,l,_,null,h)}}var gl=null;function yl(o,l,h,_){if(gl=null,o=ra(_),o=io(o),o!==null)if(l=wi(o),l===null)o=null;else if(h=l.tag,h===13){if(o=Ki(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return gl=o,null}function xt(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(em()){case Yc:return 1;case Gd:return 4;case ll:case Jc:return 16;case Bo:return 536870912;default:return 16}default:return 16}}var _i=null,Hn=null,xi=null;function tu(){if(xi)return xi;var o,l=Hn,h=l.length,_,P="value"in _i?_i.value:_i.textContent,I=P.length;for(o=0;o<h&&l[o]===P[o];o++);var H=h-o;for(_=1;_<=H&&l[h-_]===P[I-_];_++);return xi=P.slice(o,1<_?1-_:void 0)}function vl(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Wo(){return!0}function Qd(){return!1}function Rn(o){function l(h,_,P,I,H){this._reactName=h,this._targetInst=P,this.type=_,this.nativeEvent=I,this.target=H,this.currentTarget=null;for(var se in o)o.hasOwnProperty(se)&&(h=o[se],this[se]=h?h(I):I[se]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Wo:Qd,this.isPropagationStopped=Qd,this}return le(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Wo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Wo)},persist:function(){},isPersistent:Wo}),l}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=Rn(Vo),Qi=le({},Vo,{view:0,detail:0}),nm=Rn(Qi),tr,ru,qo,_r=le({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==qo&&(qo&&o.type==="mousemove"?(tr=o.screenX-qo.screenX,ru=o.screenY-qo.screenY):ru=tr=0,qo=o),tr)},movementY:function(o){return"movementY"in o?o.movementY:ru}}),iu=Rn(_r),Xd=le({},_r,{dataTransfer:0}),ou=Rn(Xd),rm=le({},Qi,{relatedTarget:0}),wl=Rn(rm),ef=le({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),im=Rn(ef),om=le({},Vo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),su=Rn(om),sm=le({},Vo,{data:0}),au=Rn(sm),tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_l={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function am(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Xi[o])?!!l[o]:!1}function eo(){return am}var nr=le({},Qi,{key:function(o){if(o.key){var l=tf[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=vl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?_l[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(o){return o.type==="keypress"?vl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?vl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),nf=Rn(nr),rf=le({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=Rn(rf),lu=le({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),cu=Rn(lu),lm=le({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),cm=Rn(lm),sf=le({},_r,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),um=Rn(sf),xr=[9,13,27,32],bi=u&&"CompositionEvent"in window,ma=null;u&&"documentMode"in document&&(ma=document.documentMode);var ri=u&&"TextEvent"in window&&!ma,af=u&&(!bi||ma&&8<ma&&11>=ma),to=" ",lf=!1;function Ko(o,l){switch(o){case"keyup":return xr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ii=!1;function dm(o,l){switch(o){case"compositionend":return uu(l);case"keypress":return l.which!==32?null:(lf=!0,to);case"textInput":return o=l.data,o===to&&lf?null:o;default:return null}}function Ei(o,l){if(ii)return o==="compositionend"||!bi&&Ko(o,l)?(o=tu(),xi=Hn=_i=null,ii=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return af&&l.locale!=="ko"?null:l.data;default:return null}}var xl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!xl[o.type]:l==="textarea"}function bl(o,l,h,_){Fd(_),l=y(l,"onChange"),0<l.length&&(h=new nu("onChange","change",null,h,_),o.push({event:h,listeners:l}))}var ga=null,Wn=null;function fm(o){wu(o,0)}function oi(o){var l=so(o);if(At(l))return o}function hm(o,l){if(o==="change")return l}var Mr=!1;if(u){var Go;if(u){var El="oninput"in document;if(!El){var kl=document.createElement("div");kl.setAttribute("oninput","return;"),El=typeof kl.oninput=="function"}Go=El}else Go=!1;Mr=Go&&(!document.documentMode||9<document.documentMode)}function ya(){ga&&(ga.detachEvent("onpropertychange",Sl),Wn=ga=null)}function Sl(o){if(o.propertyName==="value"&&oi(Wn)){var l=[];bl(l,Wn,o,ra(o)),ol(fm,l)}}function Cl(o,l,h){o==="focusin"?(ya(),ga=l,Wn=h,ga.attachEvent("onpropertychange",Sl)):o==="focusout"&&ya()}function Yo(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return oi(Wn)}function Pl(o,l){if(o==="click")return oi(l)}function du(o,l){if(o==="input"||o==="change")return oi(l)}function uf(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var br=typeof Object.is=="function"?Object.is:uf;function ki(o,l){if(br(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),_=Object.keys(l);if(h.length!==_.length)return!1;for(_=0;_<h.length;_++){var P=h[_];if(!d.call(l,P)||!br(o[P],l[P]))return!1}return!0}function df(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function fu(o,l){var h=df(o);o=0;for(var _;h;){if(h.nodeType===3){if(_=o+h.textContent.length,o<=l&&_>=l)return{node:h,offset:l-o};o=_}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=df(h)}}function ff(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?ff(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function hu(){for(var o=window,l=ft();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=ft(o.document)}return l}function pu(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function jr(o){var l=hu(),h=o.focusedElem,_=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&ff(h.ownerDocument.documentElement,h)){if(_!==null&&pu(h)){if(l=_.start,o=_.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var P=h.textContent.length,I=Math.min(_.start,P);_=_.end===void 0?I:Math.min(_.end,P),!o.extend&&I>_&&(P=_,_=I,I=P),P=fu(h,I);var H=fu(h,_);P&&H&&(o.rangeCount!==1||o.anchorNode!==P.node||o.anchorOffset!==P.offset||o.focusNode!==H.node||o.focusOffset!==H.offset)&&(l=l.createRange(),l.setStart(P.node,P.offset),o.removeAllRanges(),I>_?(o.addRange(l),o.extend(H.node,H.offset)):(l.setEnd(H.node,H.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Tl=u&&"documentMode"in document&&11>=document.documentMode,Jo=null,Qo=null,va=null,Nl=!1;function hf(o,l,h){var _=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Nl||Jo==null||Jo!==ft(_)||(_=Jo,"selectionStart"in _&&pu(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),va&&ki(va,_)||(va=_,_=y(Qo,"onSelect"),0<_.length&&(l=new nu("onSelect","select",null,l,h),o.push({event:l,listeners:_}),l.target=Jo)))}function Si(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var Xo={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionend:Si("Transition","TransitionEnd")},Ci={},mu={};u&&(mu=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function wa(o){if(Ci[o])return Ci[o];if(!Xo[o])return o;var l=Xo[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in mu)return Ci[o]=l[h];return o}var pf=wa("animationend"),zr=wa("animationiteration"),gu=wa("animationstart"),yu=wa("transitionend"),es=new Map,mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(o,l){es.set(o,l),a(l,[o])}for(var no=0;no<mf.length;no++){var Al=mf[no],gf=Al.toLowerCase(),pm=Al[0].toUpperCase()+Al.slice(1);Er(gf,"on"+pm)}Er(pf,"onAnimationEnd"),Er(zr,"onAnimationIteration"),Er(gu,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(yu,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function vu(o,l,h){var _=o.type||"unknown-event";o.currentTarget=h,qc(_,l,void 0,o),o.currentTarget=null}function wu(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var _=o[h],P=_.event;_=_.listeners;e:{var I=void 0;if(l)for(var H=_.length-1;0<=H;H--){var se=_[H],de=se.instance,Ee=se.currentTarget;if(se=se.listener,de!==I&&P.isPropagationStopped())break e;vu(P,se,Ee),I=de}else for(H=0;H<_.length;H++){if(se=_[H],de=se.instance,Ee=se.currentTarget,se=se.listener,de!==I&&P.isPropagationStopped())break e;vu(P,se,Ee),I=de}}}if(sa)throw o=sl,sa=!1,sl=null,o}function Bt(o,l){var h=l[os];h===void 0&&(h=l[os]=new Set);var _=o+"__bubble";h.has(_)||(vf(l,o,2,!1),h.add(_))}function _u(o,l,h){var _=0;l&&(_|=4),vf(h,o,_,l)}var _a="_reactListening"+Math.random().toString(36).slice(2);function ns(o){if(!o[_a]){o[_a]=!0,r.forEach(function(h){h!=="selectionchange"&&(yf.has(h)||_u(h,!1,o),_u(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[_a]||(l[_a]=!0,_u("selectionchange",!1,l))}}function vf(o,l,h,_){switch(xt(l)){case 1:var P=tm;break;case 4:P=Jd;break;default:P=pa}h=P.bind(null,l,h,o),P=void 0,!Vc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(P=!0),_?P!==void 0?o.addEventListener(l,h,{capture:!0,passive:P}):o.addEventListener(l,h,!0):P!==void 0?o.addEventListener(l,h,{passive:P}):o.addEventListener(l,h,!1)}function s(o,l,h,_,P){var I=_;if((l&1)===0&&(l&2)===0&&_!==null)e:for(;;){if(_===null)return;var H=_.tag;if(H===3||H===4){var se=_.stateNode.containerInfo;if(se===P||se.nodeType===8&&se.parentNode===P)break;if(H===4)for(H=_.return;H!==null;){var de=H.tag;if((de===3||de===4)&&(de=H.stateNode.containerInfo,de===P||de.nodeType===8&&de.parentNode===P))return;H=H.return}for(;se!==null;){if(H=io(se),H===null)return;if(de=H.tag,de===5||de===6){_=I=H;continue e}se=se.parentNode}}_=_.return}ol(function(){var Ee=I,Oe=ra(h),De=[];e:{var Le=es.get(o);if(Le!==void 0){var Ve=nu,Ge=o;switch(o){case"keypress":if(vl(h)===0)break e;case"keydown":case"keyup":Ve=nf;break;case"focusin":Ge="focus",Ve=wl;break;case"focusout":Ge="blur",Ve=wl;break;case"beforeblur":case"afterblur":Ve=wl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=cu;break;case pf:case zr:case gu:Ve=im;break;case yu:Ve=cm;break;case"scroll":Ve=nm;break;case"wheel":Ve=um;break;case"copy":case"cut":case"paste":Ve=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=of}var Ye=(l&4)!==0,cn=!Ye&&o==="scroll",ye=Ye?Le!==null?Le+"Capture":null:Le;Ye=[];for(var he=Ee,we;he!==null;){we=he;var Fe=we.stateNode;if(we.tag===5&&Fe!==null&&(we=Fe,ye!==null&&(Fe=ia(he,ye),Fe!=null&&Ye.push(f(he,Fe,we)))),cn)break;he=he.return}0<Ye.length&&(Le=new Ve(Le,Ge,null,h,Oe),De.push({event:Le,listeners:Ye}))}}if((l&7)===0){e:{if(Le=o==="mouseover"||o==="pointerover",Ve=o==="mouseout"||o==="pointerout",Le&&h!==kt&&(Ge=h.relatedTarget||h.fromElement)&&(io(Ge)||Ge[Mt]))break e;if((Ve||Le)&&(Le=Oe.window===Oe?Oe:(Le=Oe.ownerDocument)?Le.defaultView||Le.parentWindow:window,Ve?(Ge=h.relatedTarget||h.toElement,Ve=Ee,Ge=Ge?io(Ge):null,Ge!==null&&(cn=wi(Ge),Ge!==cn||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Ve=null,Ge=Ee),Ve!==Ge)){if(Ye=iu,Fe="onMouseLeave",ye="onMouseEnter",he="mouse",(o==="pointerout"||o==="pointerover")&&(Ye=of,Fe="onPointerLeave",ye="onPointerEnter",he="pointer"),cn=Ve==null?Le:so(Ve),we=Ge==null?Le:so(Ge),Le=new Ye(Fe,he+"leave",Ve,h,Oe),Le.target=cn,Le.relatedTarget=we,Fe=null,io(Oe)===Ee&&(Ye=new Ye(ye,he+"enter",Ge,h,Oe),Ye.target=we,Ye.relatedTarget=cn,Fe=Ye),cn=Fe,Ve&&Ge)t:{for(Ye=Ve,ye=Ge,he=0,we=Ye;we;we=C(we))he++;for(we=0,Fe=ye;Fe;Fe=C(Fe))we++;for(;0<he-we;)Ye=C(Ye),he--;for(;0<we-he;)ye=C(ye),we--;for(;he--;){if(Ye===ye||ye!==null&&Ye===ye.alternate)break t;Ye=C(Ye),ye=C(ye)}Ye=null}else Ye=null;Ve!==null&&j(De,Le,Ve,Ye,!1),Ge!==null&&cn!==null&&j(De,cn,Ge,Ye,!0)}}e:{if(Le=Ee?so(Ee):window,Ve=Le.nodeName&&Le.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Le.type==="file")var Xe=hm;else if(cf(Le))if(Mr)Xe=du;else{Xe=Yo;var it=Cl}else(Ve=Le.nodeName)&&Ve.toLowerCase()==="input"&&(Le.type==="checkbox"||Le.type==="radio")&&(Xe=Pl);if(Xe&&(Xe=Xe(o,Ee))){bl(De,Xe,h,Oe);break e}it&&it(o,Le,Ee),o==="focusout"&&(it=Le._wrapperState)&&it.controlled&&Le.type==="number"&&pe(Le,"number",Le.value)}switch(it=Ee?so(Ee):window,o){case"focusin":(cf(it)||it.contentEditable==="true")&&(Jo=it,Qo=Ee,va=null);break;case"focusout":va=Qo=Jo=null;break;case"mousedown":Nl=!0;break;case"contextmenu":case"mouseup":case"dragend":Nl=!1,hf(De,h,Oe);break;case"selectionchange":if(Tl)break;case"keydown":case"keyup":hf(De,h,Oe)}var ot;if(bi)e:{switch(o){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else ii?Ko(o,h)&&(ut="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(ut="onCompositionStart");ut&&(af&&h.locale!=="ko"&&(ii||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ii&&(ot=tu()):(_i=Oe,Hn="value"in _i?_i.value:_i.textContent,ii=!0)),it=y(Ee,ut),0<it.length&&(ut=new au(ut,o,null,h,Oe),De.push({event:ut,listeners:it}),ot?ut.data=ot:(ot=uu(h),ot!==null&&(ut.data=ot)))),(ot=ri?dm(o,h):Ei(o,h))&&(Ee=y(Ee,"onBeforeInput"),0<Ee.length&&(Oe=new au("onBeforeInput","beforeinput",null,h,Oe),De.push({event:Oe,listeners:Ee}),Oe.data=ot))}wu(De,l)})}function f(o,l,h){return{instance:o,listener:l,currentTarget:h}}function y(o,l){for(var h=l+"Capture",_=[];o!==null;){var P=o,I=P.stateNode;P.tag===5&&I!==null&&(P=I,I=ia(o,h),I!=null&&_.unshift(f(o,I,P)),I=ia(o,l),I!=null&&_.push(f(o,I,P))),o=o.return}return _}function C(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function j(o,l,h,_,P){for(var I=l._reactName,H=[];h!==null&&h!==_;){var se=h,de=se.alternate,Ee=se.stateNode;if(de!==null&&de===_)break;se.tag===5&&Ee!==null&&(se=Ee,P?(de=ia(h,I),de!=null&&H.unshift(f(h,de,se))):P||(de=ia(h,I),de!=null&&H.push(f(h,de,se)))),h=h.return}H.length!==0&&o.push({event:l,listeners:H})}var G=/\r\n?/g,ce=/\u0000|\uFFFD/g;function ge(o){return(typeof o=="string"?o:""+o).replace(G,`
`).replace(ce,"")}function be(o,l,h){if(l=ge(l),ge(o)!==l&&h)throw Error(n(425))}function Ie(){}var Ze=null,rt=null;function gt(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var mn=typeof setTimeout=="function"?setTimeout:void 0,dn=typeof clearTimeout=="function"?clearTimeout:void 0,Vn=typeof Promise=="function"?Promise:void 0,In=typeof queueMicrotask=="function"?queueMicrotask:typeof Vn<"u"?function(o){return Vn.resolve(null).then(o).catch(rs)}:mn;function rs(o){setTimeout(function(){throw o})}function xu(o,l){var h=l,_=0;do{var P=h.nextSibling;if(o.removeChild(h),P&&P.nodeType===8)if(h=P.data,h==="/$"){if(_===0){o.removeChild(P),wr(l);return}_--}else h!=="$"&&h!=="$?"&&h!=="$!"||_++;h=P}while(h);wr(l)}function Pi(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function wf(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var ro=Math.random().toString(36).slice(2),Dr="__reactFiber$"+ro,is="__reactProps$"+ro,Mt="__reactContainer$"+ro,os="__reactEvents$"+ro,mm="__reactListeners$"+ro,gm="__reactHandles$"+ro;function io(o){var l=o[Dr];if(l)return l;for(var h=o.parentNode;h;){if(l=h[Mt]||h[Dr]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=wf(o);o!==null;){if(h=o[Dr])return h;o=wf(o)}return l}o=h,h=o.parentNode}return null}function oo(o){return o=o[Dr]||o[Mt],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function so(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Rl(o){return o[is]||null}var ym=[],Il=-1;function ss(o){return{current:o}}function Ht(o){0>Il||(o.current=ym[Il],ym[Il]=null,Il--)}function $t(o,l){Il++,ym[Il]=o.current,o.current=l}var as={},Ln=ss(as),rr=ss(!1),xa=as;function Ll(o,l){var h=o.type.contextTypes;if(!h)return as;var _=o.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===l)return _.__reactInternalMemoizedMaskedChildContext;var P={},I;for(I in h)P[I]=l[I];return _&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=P),P}function ir(o){return o=o.childContextTypes,o!=null}function _f(){Ht(rr),Ht(Ln)}function zw(o,l,h){if(Ln.current!==as)throw Error(n(168));$t(Ln,l),$t(rr,h)}function Dw(o,l,h){var _=o.stateNode;if(l=l.childContextTypes,typeof _.getChildContext!="function")return h;_=_.getChildContext();for(var P in _)if(!(P in l))throw Error(n(108,Ue(o)||"Unknown",P));return le({},h,_)}function xf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||as,xa=Ln.current,$t(Ln,o),$t(rr,rr.current),!0}function Bw(o,l,h){var _=o.stateNode;if(!_)throw Error(n(169));h?(o=Dw(o,l,xa),_.__reactInternalMemoizedMergedChildContext=o,Ht(rr),Ht(Ln),$t(Ln,o)):Ht(rr),$t(rr,h)}var ao=null,bf=!1,vm=!1;function Fw(o){ao===null?ao=[o]:ao.push(o)}function EA(o){bf=!0,Fw(o)}function ls(){if(!vm&&ao!==null){vm=!0;var o=0,l=St;try{var h=ao;for(St=1;o<h.length;o++){var _=h[o];do _=_(!0);while(_!==null)}ao=null,bf=!1}catch(P){throw ao!==null&&(ao=ao.slice(o+1)),Kd(Yc,ls),P}finally{St=l,vm=!1}}return null}var Ol=[],Ml=0,Ef=null,kf=0,Br=[],Fr=0,ba=null,lo=1,co="";function Ea(o,l){Ol[Ml++]=kf,Ol[Ml++]=Ef,Ef=o,kf=l}function Uw(o,l,h){Br[Fr++]=lo,Br[Fr++]=co,Br[Fr++]=ba,ba=o;var _=lo;o=co;var P=32-ht(_)-1;_&=~(1<<P),h+=1;var I=32-ht(l)+P;if(30<I){var H=P-P%5;I=(_&(1<<H)-1).toString(32),_>>=H,P-=H,lo=1<<32-ht(l)+P|h<<P|_,co=I+o}else lo=1<<I|h<<P|_,co=o}function wm(o){o.return!==null&&(Ea(o,1),Uw(o,1,0))}function _m(o){for(;o===Ef;)Ef=Ol[--Ml],Ol[Ml]=null,kf=Ol[--Ml],Ol[Ml]=null;for(;o===ba;)ba=Br[--Fr],Br[Fr]=null,co=Br[--Fr],Br[Fr]=null,lo=Br[--Fr],Br[Fr]=null}var kr=null,Sr=null,qt=!1,si=null;function $w(o,l){var h=Hr(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function Zw(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,kr=o,Sr=Pi(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,kr=o,Sr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=ba!==null?{id:lo,overflow:co}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Hr(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,kr=o,Sr=null,!0):!1;default:return!1}}function xm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function bm(o){if(qt){var l=Sr;if(l){var h=l;if(!Zw(o,l)){if(xm(o))throw Error(n(418));l=Pi(h.nextSibling);var _=kr;l&&Zw(o,l)?$w(_,h):(o.flags=o.flags&-4097|2,qt=!1,kr=o)}}else{if(xm(o))throw Error(n(418));o.flags=o.flags&-4097|2,qt=!1,kr=o}}}function Hw(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;kr=o}function Sf(o){if(o!==kr)return!1;if(!qt)return Hw(o),qt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!gt(o.type,o.memoizedProps)),l&&(l=Sr)){if(xm(o))throw Ww(),Error(n(418));for(;l;)$w(o,l),l=Pi(l.nextSibling)}if(Hw(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){Sr=Pi(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}Sr=null}}else Sr=kr?Pi(o.stateNode.nextSibling):null;return!0}function Ww(){for(var o=Sr;o;)o=Pi(o.nextSibling)}function jl(){Sr=kr=null,qt=!1}function Em(o){si===null?si=[o]:si.push(o)}var kA=z.ReactCurrentBatchConfig;function bu(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var _=h.stateNode}if(!_)throw Error(n(147,o));var P=_,I=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===I?l.ref:(l=function(H){var se=P.refs;H===null?delete se[I]:se[I]=H},l._stringRef=I,l)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function Cf(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Vw(o){var l=o._init;return l(o._payload)}function qw(o){function l(ye,he){if(o){var we=ye.deletions;we===null?(ye.deletions=[he],ye.flags|=16):we.push(he)}}function h(ye,he){if(!o)return null;for(;he!==null;)l(ye,he),he=he.sibling;return null}function _(ye,he){for(ye=new Map;he!==null;)he.key!==null?ye.set(he.key,he):ye.set(he.index,he),he=he.sibling;return ye}function P(ye,he){return ye=gs(ye,he),ye.index=0,ye.sibling=null,ye}function I(ye,he,we){return ye.index=we,o?(we=ye.alternate,we!==null?(we=we.index,we<he?(ye.flags|=2,he):we):(ye.flags|=2,he)):(ye.flags|=1048576,he)}function H(ye){return o&&ye.alternate===null&&(ye.flags|=2),ye}function se(ye,he,we,Fe){return he===null||he.tag!==6?(he=pg(we,ye.mode,Fe),he.return=ye,he):(he=P(he,we),he.return=ye,he)}function de(ye,he,we,Fe){var Xe=we.type;return Xe===V?Oe(ye,he,we.props.children,Fe,we.key):he!==null&&(he.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===ae&&Vw(Xe)===he.type)?(Fe=P(he,we.props),Fe.ref=bu(ye,he,we),Fe.return=ye,Fe):(Fe=Yf(we.type,we.key,we.props,null,ye.mode,Fe),Fe.ref=bu(ye,he,we),Fe.return=ye,Fe)}function Ee(ye,he,we,Fe){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=mg(we,ye.mode,Fe),he.return=ye,he):(he=P(he,we.children||[]),he.return=ye,he)}function Oe(ye,he,we,Fe,Xe){return he===null||he.tag!==7?(he=Ra(we,ye.mode,Fe,Xe),he.return=ye,he):(he=P(he,we),he.return=ye,he)}function De(ye,he,we){if(typeof he=="string"&&he!==""||typeof he=="number")return he=pg(""+he,ye.mode,we),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case D:return we=Yf(he.type,he.key,he.props,null,ye.mode,we),we.ref=bu(ye,null,he),we.return=ye,we;case Z:return he=mg(he,ye.mode,we),he.return=ye,he;case ae:var Fe=he._init;return De(ye,Fe(he._payload),we)}if(Ne(he)||te(he))return he=Ra(he,ye.mode,we,null),he.return=ye,he;Cf(ye,he)}return null}function Le(ye,he,we,Fe){var Xe=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return Xe!==null?null:se(ye,he,""+we,Fe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case D:return we.key===Xe?de(ye,he,we,Fe):null;case Z:return we.key===Xe?Ee(ye,he,we,Fe):null;case ae:return Xe=we._init,Le(ye,he,Xe(we._payload),Fe)}if(Ne(we)||te(we))return Xe!==null?null:Oe(ye,he,we,Fe,null);Cf(ye,we)}return null}function Ve(ye,he,we,Fe,Xe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return ye=ye.get(we)||null,se(he,ye,""+Fe,Xe);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case D:return ye=ye.get(Fe.key===null?we:Fe.key)||null,de(he,ye,Fe,Xe);case Z:return ye=ye.get(Fe.key===null?we:Fe.key)||null,Ee(he,ye,Fe,Xe);case ae:var it=Fe._init;return Ve(ye,he,we,it(Fe._payload),Xe)}if(Ne(Fe)||te(Fe))return ye=ye.get(we)||null,Oe(he,ye,Fe,Xe,null);Cf(he,Fe)}return null}function Ge(ye,he,we,Fe){for(var Xe=null,it=null,ot=he,ut=he=0,bn=null;ot!==null&&ut<we.length;ut++){ot.index>ut?(bn=ot,ot=null):bn=ot.sibling;var Rt=Le(ye,ot,we[ut],Fe);if(Rt===null){ot===null&&(ot=bn);break}o&&ot&&Rt.alternate===null&&l(ye,ot),he=I(Rt,he,ut),it===null?Xe=Rt:it.sibling=Rt,it=Rt,ot=bn}if(ut===we.length)return h(ye,ot),qt&&Ea(ye,ut),Xe;if(ot===null){for(;ut<we.length;ut++)ot=De(ye,we[ut],Fe),ot!==null&&(he=I(ot,he,ut),it===null?Xe=ot:it.sibling=ot,it=ot);return qt&&Ea(ye,ut),Xe}for(ot=_(ye,ot);ut<we.length;ut++)bn=Ve(ot,ye,ut,we[ut],Fe),bn!==null&&(o&&bn.alternate!==null&&ot.delete(bn.key===null?ut:bn.key),he=I(bn,he,ut),it===null?Xe=bn:it.sibling=bn,it=bn);return o&&ot.forEach(function(ys){return l(ye,ys)}),qt&&Ea(ye,ut),Xe}function Ye(ye,he,we,Fe){var Xe=te(we);if(typeof Xe!="function")throw Error(n(150));if(we=Xe.call(we),we==null)throw Error(n(151));for(var it=Xe=null,ot=he,ut=he=0,bn=null,Rt=we.next();ot!==null&&!Rt.done;ut++,Rt=we.next()){ot.index>ut?(bn=ot,ot=null):bn=ot.sibling;var ys=Le(ye,ot,Rt.value,Fe);if(ys===null){ot===null&&(ot=bn);break}o&&ot&&ys.alternate===null&&l(ye,ot),he=I(ys,he,ut),it===null?Xe=ys:it.sibling=ys,it=ys,ot=bn}if(Rt.done)return h(ye,ot),qt&&Ea(ye,ut),Xe;if(ot===null){for(;!Rt.done;ut++,Rt=we.next())Rt=De(ye,Rt.value,Fe),Rt!==null&&(he=I(Rt,he,ut),it===null?Xe=Rt:it.sibling=Rt,it=Rt);return qt&&Ea(ye,ut),Xe}for(ot=_(ye,ot);!Rt.done;ut++,Rt=we.next())Rt=Ve(ot,ye,ut,Rt.value,Fe),Rt!==null&&(o&&Rt.alternate!==null&&ot.delete(Rt.key===null?ut:Rt.key),he=I(Rt,he,ut),it===null?Xe=Rt:it.sibling=Rt,it=Rt);return o&&ot.forEach(function(rR){return l(ye,rR)}),qt&&Ea(ye,ut),Xe}function cn(ye,he,we,Fe){if(typeof we=="object"&&we!==null&&we.type===V&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case D:e:{for(var Xe=we.key,it=he;it!==null;){if(it.key===Xe){if(Xe=we.type,Xe===V){if(it.tag===7){h(ye,it.sibling),he=P(it,we.props.children),he.return=ye,ye=he;break e}}else if(it.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===ae&&Vw(Xe)===it.type){h(ye,it.sibling),he=P(it,we.props),he.ref=bu(ye,it,we),he.return=ye,ye=he;break e}h(ye,it);break}else l(ye,it);it=it.sibling}we.type===V?(he=Ra(we.props.children,ye.mode,Fe,we.key),he.return=ye,ye=he):(Fe=Yf(we.type,we.key,we.props,null,ye.mode,Fe),Fe.ref=bu(ye,he,we),Fe.return=ye,ye=Fe)}return H(ye);case Z:e:{for(it=we.key;he!==null;){if(he.key===it)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){h(ye,he.sibling),he=P(he,we.children||[]),he.return=ye,ye=he;break e}else{h(ye,he);break}else l(ye,he);he=he.sibling}he=mg(we,ye.mode,Fe),he.return=ye,ye=he}return H(ye);case ae:return it=we._init,cn(ye,he,it(we._payload),Fe)}if(Ne(we))return Ge(ye,he,we,Fe);if(te(we))return Ye(ye,he,we,Fe);Cf(ye,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,he!==null&&he.tag===6?(h(ye,he.sibling),he=P(he,we),he.return=ye,ye=he):(h(ye,he),he=pg(we,ye.mode,Fe),he.return=ye,ye=he),H(ye)):h(ye,he)}return cn}var zl=qw(!0),Kw=qw(!1),Pf=ss(null),Tf=null,Dl=null,km=null;function Sm(){km=Dl=Tf=null}function Cm(o){var l=Pf.current;Ht(Pf),o._currentValue=l}function Pm(o,l,h){for(;o!==null;){var _=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,_!==null&&(_.childLanes|=l)):_!==null&&(_.childLanes&l)!==l&&(_.childLanes|=l),o===h)break;o=o.return}}function Bl(o,l){Tf=o,km=Dl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(or=!0),o.firstContext=null)}function Ur(o){var l=o._currentValue;if(km!==o)if(o={context:o,memoizedValue:l,next:null},Dl===null){if(Tf===null)throw Error(n(308));Dl=o,Tf.dependencies={lanes:0,firstContext:o}}else Dl=Dl.next=o;return l}var ka=null;function Tm(o){ka===null?ka=[o]:ka.push(o)}function Gw(o,l,h,_){var P=l.interleaved;return P===null?(h.next=h,Tm(l)):(h.next=P.next,P.next=h),l.interleaved=h,uo(o,_)}function uo(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var cs=!1;function Nm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yw(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function fo(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function us(o,l,h){var _=o.updateQueue;if(_===null)return null;if(_=_.shared,(Pt&2)!==0){var P=_.pending;return P===null?l.next=l:(l.next=P.next,P.next=l),_.pending=l,uo(o,h)}return P=_.interleaved,P===null?(l.next=l,Tm(_)):(l.next=P.next,P.next=l),_.interleaved=l,uo(o,h)}function Nf(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var _=l.lanes;_&=o.pendingLanes,h|=_,l.lanes=h,ti(o,h)}}function Jw(o,l){var h=o.updateQueue,_=o.alternate;if(_!==null&&(_=_.updateQueue,h===_)){var P=null,I=null;if(h=h.firstBaseUpdate,h!==null){do{var H={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};I===null?P=I=H:I=I.next=H,h=h.next}while(h!==null);I===null?P=I=l:I=I.next=l}else P=I=l;h={baseState:_.baseState,firstBaseUpdate:P,lastBaseUpdate:I,shared:_.shared,effects:_.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function Af(o,l,h,_){var P=o.updateQueue;cs=!1;var I=P.firstBaseUpdate,H=P.lastBaseUpdate,se=P.shared.pending;if(se!==null){P.shared.pending=null;var de=se,Ee=de.next;de.next=null,H===null?I=Ee:H.next=Ee,H=de;var Oe=o.alternate;Oe!==null&&(Oe=Oe.updateQueue,se=Oe.lastBaseUpdate,se!==H&&(se===null?Oe.firstBaseUpdate=Ee:se.next=Ee,Oe.lastBaseUpdate=de))}if(I!==null){var De=P.baseState;H=0,Oe=Ee=de=null,se=I;do{var Le=se.lane,Ve=se.eventTime;if((_&Le)===Le){Oe!==null&&(Oe=Oe.next={eventTime:Ve,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var Ge=o,Ye=se;switch(Le=l,Ve=h,Ye.tag){case 1:if(Ge=Ye.payload,typeof Ge=="function"){De=Ge.call(Ve,De,Le);break e}De=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Ye.payload,Le=typeof Ge=="function"?Ge.call(Ve,De,Le):Ge,Le==null)break e;De=le({},De,Le);break e;case 2:cs=!0}}se.callback!==null&&se.lane!==0&&(o.flags|=64,Le=P.effects,Le===null?P.effects=[se]:Le.push(se))}else Ve={eventTime:Ve,lane:Le,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Oe===null?(Ee=Oe=Ve,de=De):Oe=Oe.next=Ve,H|=Le;if(se=se.next,se===null){if(se=P.shared.pending,se===null)break;Le=se,se=Le.next,Le.next=null,P.lastBaseUpdate=Le,P.shared.pending=null}}while(!0);if(Oe===null&&(de=De),P.baseState=de,P.firstBaseUpdate=Ee,P.lastBaseUpdate=Oe,l=P.shared.interleaved,l!==null){P=l;do H|=P.lane,P=P.next;while(P!==l)}else I===null&&(P.shared.lanes=0);Pa|=H,o.lanes=H,o.memoizedState=De}}function Qw(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var _=o[l],P=_.callback;if(P!==null){if(_.callback=null,_=h,typeof P!="function")throw Error(n(191,P));P.call(_)}}}var Eu={},Ti=ss(Eu),ku=ss(Eu),Su=ss(Eu);function Sa(o){if(o===Eu)throw Error(n(174));return o}function Am(o,l){switch($t(Su,l),$t(ku,o),$t(Ti,Eu),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:W(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=W(l,o)}Ht(Ti),$t(Ti,l)}function Fl(){Ht(Ti),Ht(ku),Ht(Su)}function Xw(o){Sa(Su.current);var l=Sa(Ti.current),h=W(l,o.type);l!==h&&($t(ku,o),$t(Ti,h))}function Rm(o){ku.current===o&&(Ht(Ti),Ht(ku))}var Xt=ss(0);function Rf(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Im=[];function Lm(){for(var o=0;o<Im.length;o++)Im[o]._workInProgressVersionPrimary=null;Im.length=0}var If=z.ReactCurrentDispatcher,Om=z.ReactCurrentBatchConfig,Ca=0,en=null,gn=null,_n=null,Lf=!1,Cu=!1,Pu=0,SA=0;function On(){throw Error(n(321))}function Mm(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!br(o[h],l[h]))return!1;return!0}function jm(o,l,h,_,P,I){if(Ca=I,en=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,If.current=o===null||o.memoizedState===null?NA:AA,o=h(_,P),Cu){I=0;do{if(Cu=!1,Pu=0,25<=I)throw Error(n(301));I+=1,_n=gn=null,l.updateQueue=null,If.current=RA,o=h(_,P)}while(Cu)}if(If.current=jf,l=gn!==null&&gn.next!==null,Ca=0,_n=gn=en=null,Lf=!1,l)throw Error(n(300));return o}function zm(){var o=Pu!==0;return Pu=0,o}function Ni(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?en.memoizedState=_n=o:_n=_n.next=o,_n}function $r(){if(gn===null){var o=en.alternate;o=o!==null?o.memoizedState:null}else o=gn.next;var l=_n===null?en.memoizedState:_n.next;if(l!==null)_n=l,gn=o;else{if(o===null)throw Error(n(310));gn=o,o={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},_n===null?en.memoizedState=_n=o:_n=_n.next=o}return _n}function Tu(o,l){return typeof l=="function"?l(o):l}function Dm(o){var l=$r(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var _=gn,P=_.baseQueue,I=h.pending;if(I!==null){if(P!==null){var H=P.next;P.next=I.next,I.next=H}_.baseQueue=P=I,h.pending=null}if(P!==null){I=P.next,_=_.baseState;var se=H=null,de=null,Ee=I;do{var Oe=Ee.lane;if((Ca&Oe)===Oe)de!==null&&(de=de.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),_=Ee.hasEagerState?Ee.eagerState:o(_,Ee.action);else{var De={lane:Oe,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};de===null?(se=de=De,H=_):de=de.next=De,en.lanes|=Oe,Pa|=Oe}Ee=Ee.next}while(Ee!==null&&Ee!==I);de===null?H=_:de.next=se,br(_,l.memoizedState)||(or=!0),l.memoizedState=_,l.baseState=H,l.baseQueue=de,h.lastRenderedState=_}if(o=h.interleaved,o!==null){P=o;do I=P.lane,en.lanes|=I,Pa|=I,P=P.next;while(P!==o)}else P===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function Bm(o){var l=$r(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var _=h.dispatch,P=h.pending,I=l.memoizedState;if(P!==null){h.pending=null;var H=P=P.next;do I=o(I,H.action),H=H.next;while(H!==P);br(I,l.memoizedState)||(or=!0),l.memoizedState=I,l.baseQueue===null&&(l.baseState=I),h.lastRenderedState=I}return[I,_]}function e_(){}function t_(o,l){var h=en,_=$r(),P=l(),I=!br(_.memoizedState,P);if(I&&(_.memoizedState=P,or=!0),_=_.queue,Fm(i_.bind(null,h,_,o),[o]),_.getSnapshot!==l||I||_n!==null&&_n.memoizedState.tag&1){if(h.flags|=2048,Nu(9,r_.bind(null,h,_,P,l),void 0,null),xn===null)throw Error(n(349));(Ca&30)!==0||n_(h,l,P)}return P}function n_(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=en.updateQueue,l===null?(l={lastEffect:null,stores:null},en.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function r_(o,l,h,_){l.value=h,l.getSnapshot=_,o_(l)&&s_(o)}function i_(o,l,h){return h(function(){o_(l)&&s_(o)})}function o_(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!br(o,h)}catch{return!0}}function s_(o){var l=uo(o,1);l!==null&&ui(l,o,1,-1)}function a_(o){var l=Ni();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:o},l.queue=o,o=o.dispatch=TA.bind(null,en,o),[l.memoizedState,o]}function Nu(o,l,h,_){return o={tag:o,create:l,destroy:h,deps:_,next:null},l=en.updateQueue,l===null?(l={lastEffect:null,stores:null},en.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(_=h.next,h.next=o,o.next=_,l.lastEffect=o)),o}function l_(){return $r().memoizedState}function Of(o,l,h,_){var P=Ni();en.flags|=o,P.memoizedState=Nu(1|l,h,void 0,_===void 0?null:_)}function Mf(o,l,h,_){var P=$r();_=_===void 0?null:_;var I=void 0;if(gn!==null){var H=gn.memoizedState;if(I=H.destroy,_!==null&&Mm(_,H.deps)){P.memoizedState=Nu(l,h,I,_);return}}en.flags|=o,P.memoizedState=Nu(1|l,h,I,_)}function c_(o,l){return Of(8390656,8,o,l)}function Fm(o,l){return Mf(2048,8,o,l)}function u_(o,l){return Mf(4,2,o,l)}function d_(o,l){return Mf(4,4,o,l)}function f_(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function h_(o,l,h){return h=h!=null?h.concat([o]):null,Mf(4,4,f_.bind(null,l,o),h)}function Um(){}function p_(o,l){var h=$r();l=l===void 0?null:l;var _=h.memoizedState;return _!==null&&l!==null&&Mm(l,_[1])?_[0]:(h.memoizedState=[o,l],o)}function m_(o,l){var h=$r();l=l===void 0?null:l;var _=h.memoizedState;return _!==null&&l!==null&&Mm(l,_[1])?_[0]:(o=o(),h.memoizedState=[o,l],o)}function g_(o,l,h){return(Ca&21)===0?(o.baseState&&(o.baseState=!1,or=!0),o.memoizedState=h):(br(h,l)||(h=Yd(),en.lanes|=h,Pa|=h,o.baseState=!0),l)}function CA(o,l){var h=St;St=h!==0&&4>h?h:4,o(!0);var _=Om.transition;Om.transition={};try{o(!1),l()}finally{St=h,Om.transition=_}}function y_(){return $r().memoizedState}function PA(o,l,h){var _=ps(o);if(h={lane:_,action:h,hasEagerState:!1,eagerState:null,next:null},v_(o))w_(l,h);else if(h=Gw(o,l,h,_),h!==null){var P=Kn();ui(h,o,_,P),__(h,l,_)}}function TA(o,l,h){var _=ps(o),P={lane:_,action:h,hasEagerState:!1,eagerState:null,next:null};if(v_(o))w_(l,P);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=l.lastRenderedReducer,I!==null))try{var H=l.lastRenderedState,se=I(H,h);if(P.hasEagerState=!0,P.eagerState=se,br(se,H)){var de=l.interleaved;de===null?(P.next=P,Tm(l)):(P.next=de.next,de.next=P),l.interleaved=P;return}}catch{}finally{}h=Gw(o,l,P,_),h!==null&&(P=Kn(),ui(h,o,_,P),__(h,l,_))}}function v_(o){var l=o.alternate;return o===en||l!==null&&l===en}function w_(o,l){Cu=Lf=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function __(o,l,h){if((h&4194240)!==0){var _=l.lanes;_&=o.pendingLanes,h|=_,l.lanes=h,ti(o,h)}}var jf={readContext:Ur,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},NA={readContext:Ur,useCallback:function(o,l){return Ni().memoizedState=[o,l===void 0?null:l],o},useContext:Ur,useEffect:c_,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,Of(4194308,4,f_.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Of(4194308,4,o,l)},useInsertionEffect:function(o,l){return Of(4,2,o,l)},useMemo:function(o,l){var h=Ni();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var _=Ni();return l=h!==void 0?h(l):l,_.memoizedState=_.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},_.queue=o,o=o.dispatch=PA.bind(null,en,o),[_.memoizedState,o]},useRef:function(o){var l=Ni();return o={current:o},l.memoizedState=o},useState:a_,useDebugValue:Um,useDeferredValue:function(o){return Ni().memoizedState=o},useTransition:function(){var o=a_(!1),l=o[0];return o=CA.bind(null,o[1]),Ni().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var _=en,P=Ni();if(qt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),xn===null)throw Error(n(349));(Ca&30)!==0||n_(_,l,h)}P.memoizedState=h;var I={value:h,getSnapshot:l};return P.queue=I,c_(i_.bind(null,_,I,o),[o]),_.flags|=2048,Nu(9,r_.bind(null,_,I,h,l),void 0,null),h},useId:function(){var o=Ni(),l=xn.identifierPrefix;if(qt){var h=co,_=lo;h=(_&~(1<<32-ht(_)-1)).toString(32)+h,l=":"+l+"R"+h,h=Pu++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=SA++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},AA={readContext:Ur,useCallback:p_,useContext:Ur,useEffect:Fm,useImperativeHandle:h_,useInsertionEffect:u_,useLayoutEffect:d_,useMemo:m_,useReducer:Dm,useRef:l_,useState:function(){return Dm(Tu)},useDebugValue:Um,useDeferredValue:function(o){var l=$r();return g_(l,gn.memoizedState,o)},useTransition:function(){var o=Dm(Tu)[0],l=$r().memoizedState;return[o,l]},useMutableSource:e_,useSyncExternalStore:t_,useId:y_,unstable_isNewReconciler:!1},RA={readContext:Ur,useCallback:p_,useContext:Ur,useEffect:Fm,useImperativeHandle:h_,useInsertionEffect:u_,useLayoutEffect:d_,useMemo:m_,useReducer:Bm,useRef:l_,useState:function(){return Bm(Tu)},useDebugValue:Um,useDeferredValue:function(o){var l=$r();return gn===null?l.memoizedState=o:g_(l,gn.memoizedState,o)},useTransition:function(){var o=Bm(Tu)[0],l=$r().memoizedState;return[o,l]},useMutableSource:e_,useSyncExternalStore:t_,useId:y_,unstable_isNewReconciler:!1};function ai(o,l){if(o&&o.defaultProps){l=le({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function $m(o,l,h,_){l=o.memoizedState,h=h(_,l),h=h==null?l:le({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var zf={isMounted:function(o){return(o=o._reactInternals)?wi(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var _=Kn(),P=ps(o),I=fo(_,P);I.payload=l,h!=null&&(I.callback=h),l=us(o,I,P),l!==null&&(ui(l,o,P,_),Nf(l,o,P))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var _=Kn(),P=ps(o),I=fo(_,P);I.tag=1,I.payload=l,h!=null&&(I.callback=h),l=us(o,I,P),l!==null&&(ui(l,o,P,_),Nf(l,o,P))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=Kn(),_=ps(o),P=fo(h,_);P.tag=2,l!=null&&(P.callback=l),l=us(o,P,_),l!==null&&(ui(l,o,_,h),Nf(l,o,_))}};function x_(o,l,h,_,P,I,H){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(_,I,H):l.prototype&&l.prototype.isPureReactComponent?!ki(h,_)||!ki(P,I):!0}function b_(o,l,h){var _=!1,P=as,I=l.contextType;return typeof I=="object"&&I!==null?I=Ur(I):(P=ir(l)?xa:Ln.current,_=l.contextTypes,I=(_=_!=null)?Ll(o,P):as),l=new l(h,I),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=zf,o.stateNode=l,l._reactInternals=o,_&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=I),l}function E_(o,l,h,_){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,_),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,_),l.state!==o&&zf.enqueueReplaceState(l,l.state,null)}function Zm(o,l,h,_){var P=o.stateNode;P.props=h,P.state=o.memoizedState,P.refs={},Nm(o);var I=l.contextType;typeof I=="object"&&I!==null?P.context=Ur(I):(I=ir(l)?xa:Ln.current,P.context=Ll(o,I)),P.state=o.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&($m(o,l,I,h),P.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(l=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),l!==P.state&&zf.enqueueReplaceState(P,P.state,null),Af(o,h,P,_),P.state=o.memoizedState),typeof P.componentDidMount=="function"&&(o.flags|=4194308)}function Ul(o,l){try{var h="",_=l;do h+=ve(_),_=_.return;while(_);var P=h}catch(I){P=`
Error generating stack: `+I.message+`
`+I.stack}return{value:o,source:l,stack:P,digest:null}}function Hm(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function Wm(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var IA=typeof WeakMap=="function"?WeakMap:Map;function k_(o,l,h){h=fo(-1,h),h.tag=3,h.payload={element:null};var _=l.value;return h.callback=function(){Hf||(Hf=!0,sg=_),Wm(o,l)},h}function S_(o,l,h){h=fo(-1,h),h.tag=3;var _=o.type.getDerivedStateFromError;if(typeof _=="function"){var P=l.value;h.payload=function(){return _(P)},h.callback=function(){Wm(o,l)}}var I=o.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(h.callback=function(){Wm(o,l),typeof _!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var H=l.stack;this.componentDidCatch(l.value,{componentStack:H!==null?H:""})}),h}function C_(o,l,h){var _=o.pingCache;if(_===null){_=o.pingCache=new IA;var P=new Set;_.set(l,P)}else P=_.get(l),P===void 0&&(P=new Set,_.set(l,P));P.has(h)||(P.add(h),o=VA.bind(null,o,l,h),l.then(o,o))}function P_(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function T_(o,l,h,_,P){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=fo(-1,1),l.tag=2,us(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=P,o)}var LA=z.ReactCurrentOwner,or=!1;function qn(o,l,h,_){l.child=o===null?Kw(l,null,h,_):zl(l,o.child,h,_)}function N_(o,l,h,_,P){h=h.render;var I=l.ref;return Bl(l,P),_=jm(o,l,h,_,I,P),h=zm(),o!==null&&!or?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~P,ho(o,l,P)):(qt&&h&&wm(l),l.flags|=1,qn(o,l,_,P),l.child)}function A_(o,l,h,_,P){if(o===null){var I=h.type;return typeof I=="function"&&!hg(I)&&I.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=I,R_(o,l,I,_,P)):(o=Yf(h.type,null,_,l,l.mode,P),o.ref=l.ref,o.return=l,l.child=o)}if(I=o.child,(o.lanes&P)===0){var H=I.memoizedProps;if(h=h.compare,h=h!==null?h:ki,h(H,_)&&o.ref===l.ref)return ho(o,l,P)}return l.flags|=1,o=gs(I,_),o.ref=l.ref,o.return=l,l.child=o}function R_(o,l,h,_,P){if(o!==null){var I=o.memoizedProps;if(ki(I,_)&&o.ref===l.ref)if(or=!1,l.pendingProps=_=I,(o.lanes&P)!==0)(o.flags&131072)!==0&&(or=!0);else return l.lanes=o.lanes,ho(o,l,P)}return Vm(o,l,h,_,P)}function I_(o,l,h){var _=l.pendingProps,P=_.children,I=o!==null?o.memoizedState:null;if(_.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Zl,Cr),Cr|=h;else{if((h&1073741824)===0)return o=I!==null?I.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,$t(Zl,Cr),Cr|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=I!==null?I.baseLanes:h,$t(Zl,Cr),Cr|=_}else I!==null?(_=I.baseLanes|h,l.memoizedState=null):_=h,$t(Zl,Cr),Cr|=_;return qn(o,l,P,h),l.child}function L_(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Vm(o,l,h,_,P){var I=ir(h)?xa:Ln.current;return I=Ll(l,I),Bl(l,P),h=jm(o,l,h,_,I,P),_=zm(),o!==null&&!or?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~P,ho(o,l,P)):(qt&&_&&wm(l),l.flags|=1,qn(o,l,h,P),l.child)}function O_(o,l,h,_,P){if(ir(h)){var I=!0;xf(l)}else I=!1;if(Bl(l,P),l.stateNode===null)Bf(o,l),b_(l,h,_),Zm(l,h,_,P),_=!0;else if(o===null){var H=l.stateNode,se=l.memoizedProps;H.props=se;var de=H.context,Ee=h.contextType;typeof Ee=="object"&&Ee!==null?Ee=Ur(Ee):(Ee=ir(h)?xa:Ln.current,Ee=Ll(l,Ee));var Oe=h.getDerivedStateFromProps,De=typeof Oe=="function"||typeof H.getSnapshotBeforeUpdate=="function";De||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(se!==_||de!==Ee)&&E_(l,H,_,Ee),cs=!1;var Le=l.memoizedState;H.state=Le,Af(l,_,H,P),de=l.memoizedState,se!==_||Le!==de||rr.current||cs?(typeof Oe=="function"&&($m(l,h,Oe,_),de=l.memoizedState),(se=cs||x_(l,h,se,_,Le,de,Ee))?(De||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(l.flags|=4194308)):(typeof H.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=_,l.memoizedState=de),H.props=_,H.state=de,H.context=Ee,_=se):(typeof H.componentDidMount=="function"&&(l.flags|=4194308),_=!1)}else{H=l.stateNode,Yw(o,l),se=l.memoizedProps,Ee=l.type===l.elementType?se:ai(l.type,se),H.props=Ee,De=l.pendingProps,Le=H.context,de=h.contextType,typeof de=="object"&&de!==null?de=Ur(de):(de=ir(h)?xa:Ln.current,de=Ll(l,de));var Ve=h.getDerivedStateFromProps;(Oe=typeof Ve=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(se!==De||Le!==de)&&E_(l,H,_,de),cs=!1,Le=l.memoizedState,H.state=Le,Af(l,_,H,P);var Ge=l.memoizedState;se!==De||Le!==Ge||rr.current||cs?(typeof Ve=="function"&&($m(l,h,Ve,_),Ge=l.memoizedState),(Ee=cs||x_(l,h,Ee,_,Le,Ge,de)||!1)?(Oe||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(_,Ge,de),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(_,Ge,de)),typeof H.componentDidUpdate=="function"&&(l.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof H.componentDidUpdate!="function"||se===o.memoizedProps&&Le===o.memoizedState||(l.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||se===o.memoizedProps&&Le===o.memoizedState||(l.flags|=1024),l.memoizedProps=_,l.memoizedState=Ge),H.props=_,H.state=Ge,H.context=de,_=Ee):(typeof H.componentDidUpdate!="function"||se===o.memoizedProps&&Le===o.memoizedState||(l.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||se===o.memoizedProps&&Le===o.memoizedState||(l.flags|=1024),_=!1)}return qm(o,l,h,_,I,P)}function qm(o,l,h,_,P,I){L_(o,l);var H=(l.flags&128)!==0;if(!_&&!H)return P&&Bw(l,h,!1),ho(o,l,I);_=l.stateNode,LA.current=l;var se=H&&typeof h.getDerivedStateFromError!="function"?null:_.render();return l.flags|=1,o!==null&&H?(l.child=zl(l,o.child,null,I),l.child=zl(l,null,se,I)):qn(o,l,se,I),l.memoizedState=_.state,P&&Bw(l,h,!0),l.child}function M_(o){var l=o.stateNode;l.pendingContext?zw(o,l.pendingContext,l.pendingContext!==l.context):l.context&&zw(o,l.context,!1),Am(o,l.containerInfo)}function j_(o,l,h,_,P){return jl(),Em(P),l.flags|=256,qn(o,l,h,_),l.child}var Km={dehydrated:null,treeContext:null,retryLane:0};function Gm(o){return{baseLanes:o,cachePool:null,transitions:null}}function z_(o,l,h){var _=l.pendingProps,P=Xt.current,I=!1,H=(l.flags&128)!==0,se;if((se=H)||(se=o!==null&&o.memoizedState===null?!1:(P&2)!==0),se?(I=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(P|=1),$t(Xt,P&1),o===null)return bm(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(H=_.children,o=_.fallback,I?(_=l.mode,I=l.child,H={mode:"hidden",children:H},(_&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=H):I=Jf(H,_,0,null),o=Ra(o,_,h,null),I.return=l,o.return=l,I.sibling=o,l.child=I,l.child.memoizedState=Gm(h),l.memoizedState=Km,o):Ym(l,H));if(P=o.memoizedState,P!==null&&(se=P.dehydrated,se!==null))return OA(o,l,H,_,se,P,h);if(I){I=_.fallback,H=l.mode,P=o.child,se=P.sibling;var de={mode:"hidden",children:_.children};return(H&1)===0&&l.child!==P?(_=l.child,_.childLanes=0,_.pendingProps=de,l.deletions=null):(_=gs(P,de),_.subtreeFlags=P.subtreeFlags&14680064),se!==null?I=gs(se,I):(I=Ra(I,H,h,null),I.flags|=2),I.return=l,_.return=l,_.sibling=I,l.child=_,_=I,I=l.child,H=o.child.memoizedState,H=H===null?Gm(h):{baseLanes:H.baseLanes|h,cachePool:null,transitions:H.transitions},I.memoizedState=H,I.childLanes=o.childLanes&~h,l.memoizedState=Km,_}return I=o.child,o=I.sibling,_=gs(I,{mode:"visible",children:_.children}),(l.mode&1)===0&&(_.lanes=h),_.return=l,_.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=_,l.memoizedState=null,_}function Ym(o,l){return l=Jf({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Df(o,l,h,_){return _!==null&&Em(_),zl(l,o.child,null,h),o=Ym(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function OA(o,l,h,_,P,I,H){if(h)return l.flags&256?(l.flags&=-257,_=Hm(Error(n(422))),Df(o,l,H,_)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(I=_.fallback,P=l.mode,_=Jf({mode:"visible",children:_.children},P,0,null),I=Ra(I,P,H,null),I.flags|=2,_.return=l,I.return=l,_.sibling=I,l.child=_,(l.mode&1)!==0&&zl(l,o.child,null,H),l.child.memoizedState=Gm(H),l.memoizedState=Km,I);if((l.mode&1)===0)return Df(o,l,H,null);if(P.data==="$!"){if(_=P.nextSibling&&P.nextSibling.dataset,_)var se=_.dgst;return _=se,I=Error(n(419)),_=Hm(I,_,void 0),Df(o,l,H,_)}if(se=(H&o.childLanes)!==0,or||se){if(_=xn,_!==null){switch(H&-H){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(_.suspendedLanes|H))!==0?0:P,P!==0&&P!==I.retryLane&&(I.retryLane=P,uo(o,P),ui(_,o,P,-1))}return fg(),_=Hm(Error(n(421))),Df(o,l,H,_)}return P.data==="$?"?(l.flags|=128,l.child=o.child,l=qA.bind(null,o),P._reactRetry=l,null):(o=I.treeContext,Sr=Pi(P.nextSibling),kr=l,qt=!0,si=null,o!==null&&(Br[Fr++]=lo,Br[Fr++]=co,Br[Fr++]=ba,lo=o.id,co=o.overflow,ba=l),l=Ym(l,_.children),l.flags|=4096,l)}function D_(o,l,h){o.lanes|=l;var _=o.alternate;_!==null&&(_.lanes|=l),Pm(o.return,l,h)}function Jm(o,l,h,_,P){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:_,tail:h,tailMode:P}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=_,I.tail=h,I.tailMode=P)}function B_(o,l,h){var _=l.pendingProps,P=_.revealOrder,I=_.tail;if(qn(o,l,_.children,h),_=Xt.current,(_&2)!==0)_=_&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&D_(o,h,l);else if(o.tag===19)D_(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}_&=1}if($t(Xt,_),(l.mode&1)===0)l.memoizedState=null;else switch(P){case"forwards":for(h=l.child,P=null;h!==null;)o=h.alternate,o!==null&&Rf(o)===null&&(P=h),h=h.sibling;h=P,h===null?(P=l.child,l.child=null):(P=h.sibling,h.sibling=null),Jm(l,!1,P,h,I);break;case"backwards":for(h=null,P=l.child,l.child=null;P!==null;){if(o=P.alternate,o!==null&&Rf(o)===null){l.child=P;break}o=P.sibling,P.sibling=h,h=P,P=o}Jm(l,!0,h,null,I);break;case"together":Jm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Bf(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function ho(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),Pa|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,h=gs(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=gs(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function MA(o,l,h){switch(l.tag){case 3:M_(l),jl();break;case 5:Xw(l);break;case 1:ir(l.type)&&xf(l);break;case 4:Am(l,l.stateNode.containerInfo);break;case 10:var _=l.type._context,P=l.memoizedProps.value;$t(Pf,_._currentValue),_._currentValue=P;break;case 13:if(_=l.memoizedState,_!==null)return _.dehydrated!==null?($t(Xt,Xt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?z_(o,l,h):($t(Xt,Xt.current&1),o=ho(o,l,h),o!==null?o.sibling:null);$t(Xt,Xt.current&1);break;case 19:if(_=(h&l.childLanes)!==0,(o.flags&128)!==0){if(_)return B_(o,l,h);l.flags|=128}if(P=l.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),$t(Xt,Xt.current),_)break;return null;case 22:case 23:return l.lanes=0,I_(o,l,h)}return ho(o,l,h)}var F_,Qm,U_,$_;F_=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Qm=function(){},U_=function(o,l,h,_){var P=o.memoizedProps;if(P!==_){o=l.stateNode,Sa(Ti.current);var I=null;switch(h){case"input":P=B(o,P),_=B(o,_),I=[];break;case"select":P=le({},P,{value:void 0}),_=le({},_,{value:void 0}),I=[];break;case"textarea":P=me(o,P),_=me(o,_),I=[];break;default:typeof P.onClick!="function"&&typeof _.onClick=="function"&&(o.onclick=Ie)}vt(h,_);var H;h=null;for(Ee in P)if(!_.hasOwnProperty(Ee)&&P.hasOwnProperty(Ee)&&P[Ee]!=null)if(Ee==="style"){var se=P[Ee];for(H in se)se.hasOwnProperty(H)&&(h||(h={}),h[H]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?I||(I=[]):(I=I||[]).push(Ee,null));for(Ee in _){var de=_[Ee];if(se=P!=null?P[Ee]:void 0,_.hasOwnProperty(Ee)&&de!==se&&(de!=null||se!=null))if(Ee==="style")if(se){for(H in se)!se.hasOwnProperty(H)||de&&de.hasOwnProperty(H)||(h||(h={}),h[H]="");for(H in de)de.hasOwnProperty(H)&&se[H]!==de[H]&&(h||(h={}),h[H]=de[H])}else h||(I||(I=[]),I.push(Ee,h)),h=de;else Ee==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,se=se?se.__html:void 0,de!=null&&se!==de&&(I=I||[]).push(Ee,de)):Ee==="children"?typeof de!="string"&&typeof de!="number"||(I=I||[]).push(Ee,""+de):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(de!=null&&Ee==="onScroll"&&Bt("scroll",o),I||se===de||(I=[])):(I=I||[]).push(Ee,de))}h&&(I=I||[]).push("style",h);var Ee=I;(l.updateQueue=Ee)&&(l.flags|=4)}},$_=function(o,l,h,_){h!==_&&(l.flags|=4)};function Au(o,l){if(!qt)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var _=null;h!==null;)h.alternate!==null&&(_=h),h=h.sibling;_===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:_.sibling=null}}function Mn(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,_=0;if(l)for(var P=o.child;P!==null;)h|=P.lanes|P.childLanes,_|=P.subtreeFlags&14680064,_|=P.flags&14680064,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)h|=P.lanes|P.childLanes,_|=P.subtreeFlags,_|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=_,o.childLanes=h,l}function jA(o,l,h){var _=l.pendingProps;switch(_m(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(l),null;case 1:return ir(l.type)&&_f(),Mn(l),null;case 3:return _=l.stateNode,Fl(),Ht(rr),Ht(Ln),Lm(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(o===null||o.child===null)&&(Sf(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,si!==null&&(cg(si),si=null))),Qm(o,l),Mn(l),null;case 5:Rm(l);var P=Sa(Su.current);if(h=l.type,o!==null&&l.stateNode!=null)U_(o,l,h,_,P),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!_){if(l.stateNode===null)throw Error(n(166));return Mn(l),null}if(o=Sa(Ti.current),Sf(l)){_=l.stateNode,h=l.type;var I=l.memoizedProps;switch(_[Dr]=l,_[is]=I,o=(l.mode&1)!==0,h){case"dialog":Bt("cancel",_),Bt("close",_);break;case"iframe":case"object":case"embed":Bt("load",_);break;case"video":case"audio":for(P=0;P<ts.length;P++)Bt(ts[P],_);break;case"source":Bt("error",_);break;case"img":case"image":case"link":Bt("error",_),Bt("load",_);break;case"details":Bt("toggle",_);break;case"input":Pe(_,I),Bt("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!I.multiple},Bt("invalid",_);break;case"textarea":ze(_,I),Bt("invalid",_)}vt(h,I),P=null;for(var H in I)if(I.hasOwnProperty(H)){var se=I[H];H==="children"?typeof se=="string"?_.textContent!==se&&(I.suppressHydrationWarning!==!0&&be(_.textContent,se,o),P=["children",se]):typeof se=="number"&&_.textContent!==""+se&&(I.suppressHydrationWarning!==!0&&be(_.textContent,se,o),P=["children",""+se]):i.hasOwnProperty(H)&&se!=null&&H==="onScroll"&&Bt("scroll",_)}switch(h){case"input":wt(_),ne(_,I,!0);break;case"textarea":wt(_),je(_);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(_.onclick=Ie)}_=P,l.updateQueue=_,_!==null&&(l.flags|=4)}else{H=P.nodeType===9?P:P.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Je(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=H.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof _.is=="string"?o=H.createElement(h,{is:_.is}):(o=H.createElement(h),h==="select"&&(H=o,_.multiple?H.multiple=!0:_.size&&(H.size=_.size))):o=H.createElementNS(o,h),o[Dr]=l,o[is]=_,F_(o,l,!1,!1),l.stateNode=o;e:{switch(H=Et(h,_),h){case"dialog":Bt("cancel",o),Bt("close",o),P=_;break;case"iframe":case"object":case"embed":Bt("load",o),P=_;break;case"video":case"audio":for(P=0;P<ts.length;P++)Bt(ts[P],o);P=_;break;case"source":Bt("error",o),P=_;break;case"img":case"image":case"link":Bt("error",o),Bt("load",o),P=_;break;case"details":Bt("toggle",o),P=_;break;case"input":Pe(o,_),P=B(o,_),Bt("invalid",o);break;case"option":P=_;break;case"select":o._wrapperState={wasMultiple:!!_.multiple},P=le({},_,{value:void 0}),Bt("invalid",o);break;case"textarea":ze(o,_),P=me(o,_),Bt("invalid",o);break;default:P=_}vt(h,P),se=P;for(I in se)if(se.hasOwnProperty(I)){var de=se[I];I==="style"?lt(o,de):I==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&M(o,de)):I==="children"?typeof de=="string"?(h!=="textarea"||de!=="")&&ee(o,de):typeof de=="number"&&ee(o,""+de):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?de!=null&&I==="onScroll"&&Bt("scroll",o):de!=null&&R(o,I,de,H))}switch(h){case"input":wt(o),ne(o,_,!1);break;case"textarea":wt(o),je(o);break;case"option":_.value!=null&&o.setAttribute("value",""+Me(_.value));break;case"select":o.multiple=!!_.multiple,I=_.value,I!=null?Ae(o,!!_.multiple,I,!1):_.defaultValue!=null&&Ae(o,!!_.multiple,_.defaultValue,!0);break;default:typeof P.onClick=="function"&&(o.onclick=Ie)}switch(h){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Mn(l),null;case 6:if(o&&l.stateNode!=null)$_(o,l,o.memoizedProps,_);else{if(typeof _!="string"&&l.stateNode===null)throw Error(n(166));if(h=Sa(Su.current),Sa(Ti.current),Sf(l)){if(_=l.stateNode,h=l.memoizedProps,_[Dr]=l,(I=_.nodeValue!==h)&&(o=kr,o!==null))switch(o.tag){case 3:be(_.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&be(_.nodeValue,h,(o.mode&1)!==0)}I&&(l.flags|=4)}else _=(h.nodeType===9?h:h.ownerDocument).createTextNode(_),_[Dr]=l,l.stateNode=_}return Mn(l),null;case 13:if(Ht(Xt),_=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(qt&&Sr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Ww(),jl(),l.flags|=98560,I=!1;else if(I=Sf(l),_!==null&&_.dehydrated!==null){if(o===null){if(!I)throw Error(n(318));if(I=l.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[Dr]=l}else jl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Mn(l),I=!1}else si!==null&&(cg(si),si=null),I=!0;if(!I)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(_=_!==null,_!==(o!==null&&o.memoizedState!==null)&&_&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Xt.current&1)!==0?yn===0&&(yn=3):fg())),l.updateQueue!==null&&(l.flags|=4),Mn(l),null);case 4:return Fl(),Qm(o,l),o===null&&ns(l.stateNode.containerInfo),Mn(l),null;case 10:return Cm(l.type._context),Mn(l),null;case 17:return ir(l.type)&&_f(),Mn(l),null;case 19:if(Ht(Xt),I=l.memoizedState,I===null)return Mn(l),null;if(_=(l.flags&128)!==0,H=I.rendering,H===null)if(_)Au(I,!1);else{if(yn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(H=Rf(o),H!==null){for(l.flags|=128,Au(I,!1),_=H.updateQueue,_!==null&&(l.updateQueue=_,l.flags|=4),l.subtreeFlags=0,_=h,h=l.child;h!==null;)I=h,o=_,I.flags&=14680066,H=I.alternate,H===null?(I.childLanes=0,I.lanes=o,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=H.childLanes,I.lanes=H.lanes,I.child=H.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=H.memoizedProps,I.memoizedState=H.memoizedState,I.updateQueue=H.updateQueue,I.type=H.type,o=H.dependencies,I.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return $t(Xt,Xt.current&1|2),l.child}o=o.sibling}I.tail!==null&&Jt()>Hl&&(l.flags|=128,_=!0,Au(I,!1),l.lanes=4194304)}else{if(!_)if(o=Rf(H),o!==null){if(l.flags|=128,_=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Au(I,!0),I.tail===null&&I.tailMode==="hidden"&&!H.alternate&&!qt)return Mn(l),null}else 2*Jt()-I.renderingStartTime>Hl&&h!==1073741824&&(l.flags|=128,_=!0,Au(I,!1),l.lanes=4194304);I.isBackwards?(H.sibling=l.child,l.child=H):(h=I.last,h!==null?h.sibling=H:l.child=H,I.last=H)}return I.tail!==null?(l=I.tail,I.rendering=l,I.tail=l.sibling,I.renderingStartTime=Jt(),l.sibling=null,h=Xt.current,$t(Xt,_?h&1|2:h&1),l):(Mn(l),null);case 22:case 23:return dg(),_=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==_&&(l.flags|=8192),_&&(l.mode&1)!==0?(Cr&1073741824)!==0&&(Mn(l),l.subtreeFlags&6&&(l.flags|=8192)):Mn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function zA(o,l){switch(_m(l),l.tag){case 1:return ir(l.type)&&_f(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Fl(),Ht(rr),Ht(Ln),Lm(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Rm(l),null;case 13:if(Ht(Xt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));jl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Ht(Xt),null;case 4:return Fl(),null;case 10:return Cm(l.type._context),null;case 22:case 23:return dg(),null;case 24:return null;default:return null}}var Ff=!1,jn=!1,DA=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function $l(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(_){rn(o,l,_)}else h.current=null}function Xm(o,l,h){try{h()}catch(_){rn(o,l,_)}}var Z_=!1;function BA(o,l){if(Ze=ha,o=hu(),pu(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var _=h.getSelection&&h.getSelection();if(_&&_.rangeCount!==0){h=_.anchorNode;var P=_.anchorOffset,I=_.focusNode;_=_.focusOffset;try{h.nodeType,I.nodeType}catch{h=null;break e}var H=0,se=-1,de=-1,Ee=0,Oe=0,De=o,Le=null;t:for(;;){for(var Ve;De!==h||P!==0&&De.nodeType!==3||(se=H+P),De!==I||_!==0&&De.nodeType!==3||(de=H+_),De.nodeType===3&&(H+=De.nodeValue.length),(Ve=De.firstChild)!==null;)Le=De,De=Ve;for(;;){if(De===o)break t;if(Le===h&&++Ee===P&&(se=H),Le===I&&++Oe===_&&(de=H),(Ve=De.nextSibling)!==null)break;De=Le,Le=De.parentNode}De=Ve}h=se===-1||de===-1?null:{start:se,end:de}}else h=null}h=h||{start:0,end:0}}else h=null;for(rt={focusedElem:o,selectionRange:h},ha=!1,Ke=l;Ke!==null;)if(l=Ke,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ke=o;else for(;Ke!==null;){l=Ke;try{var Ge=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Ye=Ge.memoizedProps,cn=Ge.memoizedState,ye=l.stateNode,he=ye.getSnapshotBeforeUpdate(l.elementType===l.type?Ye:ai(l.type,Ye),cn);ye.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var we=l.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Fe){rn(l,l.return,Fe)}if(o=l.sibling,o!==null){o.return=l.return,Ke=o;break}Ke=l.return}return Ge=Z_,Z_=!1,Ge}function Ru(o,l,h){var _=l.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var P=_=_.next;do{if((P.tag&o)===o){var I=P.destroy;P.destroy=void 0,I!==void 0&&Xm(l,h,I)}P=P.next}while(P!==_)}}function Uf(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var _=h.create;h.destroy=_()}h=h.next}while(h!==l)}}function eg(o){var l=o.ref;if(l!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof l=="function"?l(o):l.current=o}}function H_(o){var l=o.alternate;l!==null&&(o.alternate=null,H_(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Dr],delete l[is],delete l[os],delete l[mm],delete l[gm])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function W_(o){return o.tag===5||o.tag===3||o.tag===4}function V_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||W_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function tg(o,l,h){var _=o.tag;if(_===5||_===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Ie));else if(_!==4&&(o=o.child,o!==null))for(tg(o,l,h),o=o.sibling;o!==null;)tg(o,l,h),o=o.sibling}function ng(o,l,h){var _=o.tag;if(_===5||_===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(_!==4&&(o=o.child,o!==null))for(ng(o,l,h),o=o.sibling;o!==null;)ng(o,l,h),o=o.sibling}var Sn=null,li=!1;function ds(o,l,h){for(h=h.child;h!==null;)q_(o,l,h),h=h.sibling}function q_(o,l,h){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(aa,h)}catch{}switch(h.tag){case 5:jn||$l(h,l);case 6:var _=Sn,P=li;Sn=null,ds(o,l,h),Sn=_,li=P,Sn!==null&&(li?(o=Sn,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Sn.removeChild(h.stateNode));break;case 18:Sn!==null&&(li?(o=Sn,h=h.stateNode,o.nodeType===8?xu(o.parentNode,h):o.nodeType===1&&xu(o,h),wr(o)):xu(Sn,h.stateNode));break;case 4:_=Sn,P=li,Sn=h.stateNode.containerInfo,li=!0,ds(o,l,h),Sn=_,li=P;break;case 0:case 11:case 14:case 15:if(!jn&&(_=h.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){P=_=_.next;do{var I=P,H=I.destroy;I=I.tag,H!==void 0&&((I&2)!==0||(I&4)!==0)&&Xm(h,l,H),P=P.next}while(P!==_)}ds(o,l,h);break;case 1:if(!jn&&($l(h,l),_=h.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=h.memoizedProps,_.state=h.memoizedState,_.componentWillUnmount()}catch(se){rn(h,l,se)}ds(o,l,h);break;case 21:ds(o,l,h);break;case 22:h.mode&1?(jn=(_=jn)||h.memoizedState!==null,ds(o,l,h),jn=_):ds(o,l,h);break;default:ds(o,l,h)}}function K_(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new DA),l.forEach(function(_){var P=KA.bind(null,o,_);h.has(_)||(h.add(_),_.then(P,P))})}}function ci(o,l){var h=l.deletions;if(h!==null)for(var _=0;_<h.length;_++){var P=h[_];try{var I=o,H=l,se=H;e:for(;se!==null;){switch(se.tag){case 5:Sn=se.stateNode,li=!1;break e;case 3:Sn=se.stateNode.containerInfo,li=!0;break e;case 4:Sn=se.stateNode.containerInfo,li=!0;break e}se=se.return}if(Sn===null)throw Error(n(160));q_(I,H,P),Sn=null,li=!1;var de=P.alternate;de!==null&&(de.return=null),P.return=null}catch(Ee){rn(P,l,Ee)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)G_(l,o),l=l.sibling}function G_(o,l){var h=o.alternate,_=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ci(l,o),Ai(o),_&4){try{Ru(3,o,o.return),Uf(3,o)}catch(Ye){rn(o,o.return,Ye)}try{Ru(5,o,o.return)}catch(Ye){rn(o,o.return,Ye)}}break;case 1:ci(l,o),Ai(o),_&512&&h!==null&&$l(h,h.return);break;case 5:if(ci(l,o),Ai(o),_&512&&h!==null&&$l(h,h.return),o.flags&32){var P=o.stateNode;try{ee(P,"")}catch(Ye){rn(o,o.return,Ye)}}if(_&4&&(P=o.stateNode,P!=null)){var I=o.memoizedProps,H=h!==null?h.memoizedProps:I,se=o.type,de=o.updateQueue;if(o.updateQueue=null,de!==null)try{se==="input"&&I.type==="radio"&&I.name!=null&&ke(P,I),Et(se,H);var Ee=Et(se,I);for(H=0;H<de.length;H+=2){var Oe=de[H],De=de[H+1];Oe==="style"?lt(P,De):Oe==="dangerouslySetInnerHTML"?M(P,De):Oe==="children"?ee(P,De):R(P,Oe,De,Ee)}switch(se){case"input":ie(P,I);break;case"textarea":He(P,I);break;case"select":var Le=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!I.multiple;var Ve=I.value;Ve!=null?Ae(P,!!I.multiple,Ve,!1):Le!==!!I.multiple&&(I.defaultValue!=null?Ae(P,!!I.multiple,I.defaultValue,!0):Ae(P,!!I.multiple,I.multiple?[]:"",!1))}P[is]=I}catch(Ye){rn(o,o.return,Ye)}}break;case 6:if(ci(l,o),Ai(o),_&4){if(o.stateNode===null)throw Error(n(162));P=o.stateNode,I=o.memoizedProps;try{P.nodeValue=I}catch(Ye){rn(o,o.return,Ye)}}break;case 3:if(ci(l,o),Ai(o),_&4&&h!==null&&h.memoizedState.isDehydrated)try{wr(l.containerInfo)}catch(Ye){rn(o,o.return,Ye)}break;case 4:ci(l,o),Ai(o);break;case 13:ci(l,o),Ai(o),P=o.child,P.flags&8192&&(I=P.memoizedState!==null,P.stateNode.isHidden=I,!I||P.alternate!==null&&P.alternate.memoizedState!==null||(og=Jt())),_&4&&K_(o);break;case 22:if(Oe=h!==null&&h.memoizedState!==null,o.mode&1?(jn=(Ee=jn)||Oe,ci(l,o),jn=Ee):ci(l,o),Ai(o),_&8192){if(Ee=o.memoizedState!==null,(o.stateNode.isHidden=Ee)&&!Oe&&(o.mode&1)!==0)for(Ke=o,Oe=o.child;Oe!==null;){for(De=Ke=Oe;Ke!==null;){switch(Le=Ke,Ve=Le.child,Le.tag){case 0:case 11:case 14:case 15:Ru(4,Le,Le.return);break;case 1:$l(Le,Le.return);var Ge=Le.stateNode;if(typeof Ge.componentWillUnmount=="function"){_=Le,h=Le.return;try{l=_,Ge.props=l.memoizedProps,Ge.state=l.memoizedState,Ge.componentWillUnmount()}catch(Ye){rn(_,h,Ye)}}break;case 5:$l(Le,Le.return);break;case 22:if(Le.memoizedState!==null){Q_(De);continue}}Ve!==null?(Ve.return=Le,Ke=Ve):Q_(De)}Oe=Oe.sibling}e:for(Oe=null,De=o;;){if(De.tag===5){if(Oe===null){Oe=De;try{P=De.stateNode,Ee?(I=P.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(se=De.stateNode,de=De.memoizedProps.style,H=de!=null&&de.hasOwnProperty("display")?de.display:null,se.style.display=Se("display",H))}catch(Ye){rn(o,o.return,Ye)}}}else if(De.tag===6){if(Oe===null)try{De.stateNode.nodeValue=Ee?"":De.memoizedProps}catch(Ye){rn(o,o.return,Ye)}}else if((De.tag!==22&&De.tag!==23||De.memoizedState===null||De===o)&&De.child!==null){De.child.return=De,De=De.child;continue}if(De===o)break e;for(;De.sibling===null;){if(De.return===null||De.return===o)break e;Oe===De&&(Oe=null),De=De.return}Oe===De&&(Oe=null),De.sibling.return=De.return,De=De.sibling}}break;case 19:ci(l,o),Ai(o),_&4&&K_(o);break;case 21:break;default:ci(l,o),Ai(o)}}function Ai(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(W_(h)){var _=h;break e}h=h.return}throw Error(n(160))}switch(_.tag){case 5:var P=_.stateNode;_.flags&32&&(ee(P,""),_.flags&=-33);var I=V_(o);ng(o,I,P);break;case 3:case 4:var H=_.stateNode.containerInfo,se=V_(o);tg(o,se,H);break;default:throw Error(n(161))}}catch(de){rn(o,o.return,de)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function FA(o,l,h){Ke=o,Y_(o)}function Y_(o,l,h){for(var _=(o.mode&1)!==0;Ke!==null;){var P=Ke,I=P.child;if(P.tag===22&&_){var H=P.memoizedState!==null||Ff;if(!H){var se=P.alternate,de=se!==null&&se.memoizedState!==null||jn;se=Ff;var Ee=jn;if(Ff=H,(jn=de)&&!Ee)for(Ke=P;Ke!==null;)H=Ke,de=H.child,H.tag===22&&H.memoizedState!==null?X_(P):de!==null?(de.return=H,Ke=de):X_(P);for(;I!==null;)Ke=I,Y_(I),I=I.sibling;Ke=P,Ff=se,jn=Ee}J_(o)}else(P.subtreeFlags&8772)!==0&&I!==null?(I.return=P,Ke=I):J_(o)}}function J_(o){for(;Ke!==null;){var l=Ke;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:jn||Uf(5,l);break;case 1:var _=l.stateNode;if(l.flags&4&&!jn)if(h===null)_.componentDidMount();else{var P=l.elementType===l.type?h.memoizedProps:ai(l.type,h.memoizedProps);_.componentDidUpdate(P,h.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var I=l.updateQueue;I!==null&&Qw(l,I,_);break;case 3:var H=l.updateQueue;if(H!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}Qw(l,H,h)}break;case 5:var se=l.stateNode;if(h===null&&l.flags&4){h=se;var de=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&h.focus();break;case"img":de.src&&(h.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Ee=l.alternate;if(Ee!==null){var Oe=Ee.memoizedState;if(Oe!==null){var De=Oe.dehydrated;De!==null&&wr(De)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}jn||l.flags&512&&eg(l)}catch(Le){rn(l,l.return,Le)}}if(l===o){Ke=null;break}if(h=l.sibling,h!==null){h.return=l.return,Ke=h;break}Ke=l.return}}function Q_(o){for(;Ke!==null;){var l=Ke;if(l===o){Ke=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Ke=h;break}Ke=l.return}}function X_(o){for(;Ke!==null;){var l=Ke;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Uf(4,l)}catch(de){rn(l,h,de)}break;case 1:var _=l.stateNode;if(typeof _.componentDidMount=="function"){var P=l.return;try{_.componentDidMount()}catch(de){rn(l,P,de)}}var I=l.return;try{eg(l)}catch(de){rn(l,I,de)}break;case 5:var H=l.return;try{eg(l)}catch(de){rn(l,H,de)}}}catch(de){rn(l,l.return,de)}if(l===o){Ke=null;break}var se=l.sibling;if(se!==null){se.return=l.return,Ke=se;break}Ke=l.return}}var UA=Math.ceil,$f=z.ReactCurrentDispatcher,rg=z.ReactCurrentOwner,Zr=z.ReactCurrentBatchConfig,Pt=0,xn=null,fn=null,Cn=0,Cr=0,Zl=ss(0),yn=0,Iu=null,Pa=0,Zf=0,ig=0,Lu=null,sr=null,og=0,Hl=1/0,po=null,Hf=!1,sg=null,fs=null,Wf=!1,hs=null,Vf=0,Ou=0,ag=null,qf=-1,Kf=0;function Kn(){return(Pt&6)!==0?Jt():qf!==-1?qf:qf=Jt()}function ps(o){return(o.mode&1)===0?1:(Pt&2)!==0&&Cn!==0?Cn&-Cn:kA.transition!==null?(Kf===0&&(Kf=Yd()),Kf):(o=St,o!==0||(o=window.event,o=o===void 0?16:xt(o.type)),o)}function ui(o,l,h,_){if(50<Ou)throw Ou=0,ag=null,Error(n(185));yr(o,h,_),((Pt&2)===0||o!==xn)&&(o===xn&&((Pt&2)===0&&(Zf|=h),yn===4&&ms(o,Cn)),ar(o,_),h===1&&Pt===0&&(l.mode&1)===0&&(Hl=Jt()+500,bf&&ls()))}function ar(o,l){var h=o.callbackNode;ul(o,l);var _=Ut(o,o===xn?Cn:0);if(_===0)h!==null&&Gc(h),o.callbackNode=null,o.callbackPriority=0;else if(l=_&-_,o.callbackPriority!==l){if(h!=null&&Gc(h),l===1)o.tag===0?EA(tx.bind(null,o)):Fw(tx.bind(null,o)),In(function(){(Pt&6)===0&&ls()}),h=null;else{switch(Zo(_)){case 1:h=Yc;break;case 4:h=Gd;break;case 16:h=ll;break;case 536870912:h=Bo;break;default:h=ll}h=cx(h,ex.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function ex(o,l){if(qf=-1,Kf=0,(Pt&6)!==0)throw Error(n(327));var h=o.callbackNode;if(Wl()&&o.callbackNode!==h)return null;var _=Ut(o,o===xn?Cn:0);if(_===0)return null;if((_&30)!==0||(_&o.expiredLanes)!==0||l)l=Gf(o,_);else{l=_;var P=Pt;Pt|=2;var I=rx();(xn!==o||Cn!==l)&&(po=null,Hl=Jt()+500,Na(o,l));do try{HA();break}catch(se){nx(o,se)}while(!0);Sm(),$f.current=I,Pt=P,fn!==null?l=0:(xn=null,Cn=0,l=yn)}if(l!==0){if(l===2&&(P=An(o),P!==0&&(_=P,l=lg(o,P))),l===1)throw h=Iu,Na(o,0),ms(o,_),ar(o,Jt()),h;if(l===6)ms(o,_);else{if(P=o.current.alternate,(_&30)===0&&!$A(P)&&(l=Gf(o,_),l===2&&(I=An(o),I!==0&&(_=I,l=lg(o,I))),l===1))throw h=Iu,Na(o,0),ms(o,_),ar(o,Jt()),h;switch(o.finishedWork=P,o.finishedLanes=_,l){case 0:case 1:throw Error(n(345));case 2:Aa(o,sr,po);break;case 3:if(ms(o,_),(_&130023424)===_&&(l=og+500-Jt(),10<l)){if(Ut(o,0)!==0)break;if(P=o.suspendedLanes,(P&_)!==_){Kn(),o.pingedLanes|=o.suspendedLanes&P;break}o.timeoutHandle=mn(Aa.bind(null,o,sr,po),l);break}Aa(o,sr,po);break;case 4:if(ms(o,_),(_&4194240)===_)break;for(l=o.eventTimes,P=-1;0<_;){var H=31-ht(_);I=1<<H,H=l[H],H>P&&(P=H),_&=~I}if(_=P,_=Jt()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*UA(_/1960))-_,10<_){o.timeoutHandle=mn(Aa.bind(null,o,sr,po),_);break}Aa(o,sr,po);break;case 5:Aa(o,sr,po);break;default:throw Error(n(329))}}}return ar(o,Jt()),o.callbackNode===h?ex.bind(null,o):null}function lg(o,l){var h=Lu;return o.current.memoizedState.isDehydrated&&(Na(o,l).flags|=256),o=Gf(o,l),o!==2&&(l=sr,sr=h,l!==null&&cg(l)),o}function cg(o){sr===null?sr=o:sr.push.apply(sr,o)}function $A(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var _=0;_<h.length;_++){var P=h[_],I=P.getSnapshot;P=P.value;try{if(!br(I(),P))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ms(o,l){for(l&=~ig,l&=~Zf,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-ht(l),_=1<<h;o[h]=-1,l&=~_}}function tx(o){if((Pt&6)!==0)throw Error(n(327));Wl();var l=Ut(o,0);if((l&1)===0)return ar(o,Jt()),null;var h=Gf(o,l);if(o.tag!==0&&h===2){var _=An(o);_!==0&&(l=_,h=lg(o,_))}if(h===1)throw h=Iu,Na(o,0),ms(o,l),ar(o,Jt()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Aa(o,sr,po),ar(o,Jt()),null}function ug(o,l){var h=Pt;Pt|=1;try{return o(l)}finally{Pt=h,Pt===0&&(Hl=Jt()+500,bf&&ls())}}function Ta(o){hs!==null&&hs.tag===0&&(Pt&6)===0&&Wl();var l=Pt;Pt|=1;var h=Zr.transition,_=St;try{if(Zr.transition=null,St=1,o)return o()}finally{St=_,Zr.transition=h,Pt=l,(Pt&6)===0&&ls()}}function dg(){Cr=Zl.current,Ht(Zl)}function Na(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,dn(h)),fn!==null)for(h=fn.return;h!==null;){var _=h;switch(_m(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&_f();break;case 3:Fl(),Ht(rr),Ht(Ln),Lm();break;case 5:Rm(_);break;case 4:Fl();break;case 13:Ht(Xt);break;case 19:Ht(Xt);break;case 10:Cm(_.type._context);break;case 22:case 23:dg()}h=h.return}if(xn=o,fn=o=gs(o.current,null),Cn=Cr=l,yn=0,Iu=null,ig=Zf=Pa=0,sr=Lu=null,ka!==null){for(l=0;l<ka.length;l++)if(h=ka[l],_=h.interleaved,_!==null){h.interleaved=null;var P=_.next,I=h.pending;if(I!==null){var H=I.next;I.next=P,_.next=H}h.pending=_}ka=null}return o}function nx(o,l){do{var h=fn;try{if(Sm(),If.current=jf,Lf){for(var _=en.memoizedState;_!==null;){var P=_.queue;P!==null&&(P.pending=null),_=_.next}Lf=!1}if(Ca=0,_n=gn=en=null,Cu=!1,Pu=0,rg.current=null,h===null||h.return===null){yn=1,Iu=l,fn=null;break}e:{var I=o,H=h.return,se=h,de=l;if(l=Cn,se.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ee=de,Oe=se,De=Oe.tag;if((Oe.mode&1)===0&&(De===0||De===11||De===15)){var Le=Oe.alternate;Le?(Oe.updateQueue=Le.updateQueue,Oe.memoizedState=Le.memoizedState,Oe.lanes=Le.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var Ve=P_(H);if(Ve!==null){Ve.flags&=-257,T_(Ve,H,se,I,l),Ve.mode&1&&C_(I,Ee,l),l=Ve,de=Ee;var Ge=l.updateQueue;if(Ge===null){var Ye=new Set;Ye.add(de),l.updateQueue=Ye}else Ge.add(de);break e}else{if((l&1)===0){C_(I,Ee,l),fg();break e}de=Error(n(426))}}else if(qt&&se.mode&1){var cn=P_(H);if(cn!==null){(cn.flags&65536)===0&&(cn.flags|=256),T_(cn,H,se,I,l),Em(Ul(de,se));break e}}I=de=Ul(de,se),yn!==4&&(yn=2),Lu===null?Lu=[I]:Lu.push(I),I=H;do{switch(I.tag){case 3:I.flags|=65536,l&=-l,I.lanes|=l;var ye=k_(I,de,l);Jw(I,ye);break e;case 1:se=de;var he=I.type,we=I.stateNode;if((I.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(fs===null||!fs.has(we)))){I.flags|=65536,l&=-l,I.lanes|=l;var Fe=S_(I,se,l);Jw(I,Fe);break e}}I=I.return}while(I!==null)}ox(h)}catch(Xe){l=Xe,fn===h&&h!==null&&(fn=h=h.return);continue}break}while(!0)}function rx(){var o=$f.current;return $f.current=jf,o===null?jf:o}function fg(){(yn===0||yn===3||yn===2)&&(yn=4),xn===null||(Pa&268435455)===0&&(Zf&268435455)===0||ms(xn,Cn)}function Gf(o,l){var h=Pt;Pt|=2;var _=rx();(xn!==o||Cn!==l)&&(po=null,Na(o,l));do try{ZA();break}catch(P){nx(o,P)}while(!0);if(Sm(),Pt=h,$f.current=_,fn!==null)throw Error(n(261));return xn=null,Cn=0,yn}function ZA(){for(;fn!==null;)ix(fn)}function HA(){for(;fn!==null&&!Xp();)ix(fn)}function ix(o){var l=lx(o.alternate,o,Cr);o.memoizedProps=o.pendingProps,l===null?ox(o):fn=l,rg.current=null}function ox(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=jA(h,l,Cr),h!==null){fn=h;return}}else{if(h=zA(h,l),h!==null){h.flags&=32767,fn=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{yn=6,fn=null;return}}if(l=l.sibling,l!==null){fn=l;return}fn=l=o}while(l!==null);yn===0&&(yn=5)}function Aa(o,l,h){var _=St,P=Zr.transition;try{Zr.transition=null,St=1,WA(o,l,h,_)}finally{Zr.transition=P,St=_}return null}function WA(o,l,h,_){do Wl();while(hs!==null);if((Pt&6)!==0)throw Error(n(327));h=o.finishedWork;var P=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var I=h.lanes|h.childLanes;if(nn(o,I),o===xn&&(fn=xn=null,Cn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Wf||(Wf=!0,cx(ll,function(){return Wl(),null})),I=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||I){I=Zr.transition,Zr.transition=null;var H=St;St=1;var se=Pt;Pt|=4,rg.current=null,BA(o,h),G_(h,o),jr(rt),ha=!!Ze,rt=Ze=null,o.current=h,FA(h),al(),Pt=se,St=H,Zr.transition=I}else o.current=h;if(Wf&&(Wf=!1,hs=o,Vf=P),I=o.pendingLanes,I===0&&(fs=null),la(h.stateNode),ar(o,Jt()),l!==null)for(_=o.onRecoverableError,h=0;h<l.length;h++)P=l[h],_(P.value,{componentStack:P.stack,digest:P.digest});if(Hf)throw Hf=!1,o=sg,sg=null,o;return(Vf&1)!==0&&o.tag!==0&&Wl(),I=o.pendingLanes,(I&1)!==0?o===ag?Ou++:(Ou=0,ag=o):Ou=0,ls(),null}function Wl(){if(hs!==null){var o=Zo(Vf),l=Zr.transition,h=St;try{if(Zr.transition=null,St=16>o?16:o,hs===null)var _=!1;else{if(o=hs,hs=null,Vf=0,(Pt&6)!==0)throw Error(n(331));var P=Pt;for(Pt|=4,Ke=o.current;Ke!==null;){var I=Ke,H=I.child;if((Ke.flags&16)!==0){var se=I.deletions;if(se!==null){for(var de=0;de<se.length;de++){var Ee=se[de];for(Ke=Ee;Ke!==null;){var Oe=Ke;switch(Oe.tag){case 0:case 11:case 15:Ru(8,Oe,I)}var De=Oe.child;if(De!==null)De.return=Oe,Ke=De;else for(;Ke!==null;){Oe=Ke;var Le=Oe.sibling,Ve=Oe.return;if(H_(Oe),Oe===Ee){Ke=null;break}if(Le!==null){Le.return=Ve,Ke=Le;break}Ke=Ve}}}var Ge=I.alternate;if(Ge!==null){var Ye=Ge.child;if(Ye!==null){Ge.child=null;do{var cn=Ye.sibling;Ye.sibling=null,Ye=cn}while(Ye!==null)}}Ke=I}}if((I.subtreeFlags&2064)!==0&&H!==null)H.return=I,Ke=H;else e:for(;Ke!==null;){if(I=Ke,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:Ru(9,I,I.return)}var ye=I.sibling;if(ye!==null){ye.return=I.return,Ke=ye;break e}Ke=I.return}}var he=o.current;for(Ke=he;Ke!==null;){H=Ke;var we=H.child;if((H.subtreeFlags&2064)!==0&&we!==null)we.return=H,Ke=we;else e:for(H=he;Ke!==null;){if(se=Ke,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:Uf(9,se)}}catch(Xe){rn(se,se.return,Xe)}if(se===H){Ke=null;break e}var Fe=se.sibling;if(Fe!==null){Fe.return=se.return,Ke=Fe;break e}Ke=se.return}}if(Pt=P,ls(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(aa,o)}catch{}_=!0}return _}finally{St=h,Zr.transition=l}}return!1}function sx(o,l,h){l=Ul(h,l),l=k_(o,l,1),o=us(o,l,1),l=Kn(),o!==null&&(yr(o,1,l),ar(o,l))}function rn(o,l,h){if(o.tag===3)sx(o,o,h);else for(;l!==null;){if(l.tag===3){sx(l,o,h);break}else if(l.tag===1){var _=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(fs===null||!fs.has(_))){o=Ul(h,o),o=S_(l,o,1),l=us(l,o,1),o=Kn(),l!==null&&(yr(l,1,o),ar(l,o));break}}l=l.return}}function VA(o,l,h){var _=o.pingCache;_!==null&&_.delete(l),l=Kn(),o.pingedLanes|=o.suspendedLanes&h,xn===o&&(Cn&h)===h&&(yn===4||yn===3&&(Cn&130023424)===Cn&&500>Jt()-og?Na(o,0):ig|=h),ar(o,l)}function ax(o,l){l===0&&((o.mode&1)===0?l=1:(l=Uo,Uo<<=1,(Uo&130023424)===0&&(Uo=4194304)));var h=Kn();o=uo(o,l),o!==null&&(yr(o,l,h),ar(o,h))}function qA(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),ax(o,h)}function KA(o,l){var h=0;switch(o.tag){case 13:var _=o.stateNode,P=o.memoizedState;P!==null&&(h=P.retryLane);break;case 19:_=o.stateNode;break;default:throw Error(n(314))}_!==null&&_.delete(l),ax(o,h)}var lx;lx=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||rr.current)or=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return or=!1,MA(o,l,h);or=(o.flags&131072)!==0}else or=!1,qt&&(l.flags&1048576)!==0&&Uw(l,kf,l.index);switch(l.lanes=0,l.tag){case 2:var _=l.type;Bf(o,l),o=l.pendingProps;var P=Ll(l,Ln.current);Bl(l,h),P=jm(null,l,_,o,P,h);var I=zm();return l.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ir(_)?(I=!0,xf(l)):I=!1,l.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Nm(l),P.updater=zf,l.stateNode=P,P._reactInternals=l,Zm(l,_,o,h),l=qm(null,l,_,!0,I,h)):(l.tag=0,qt&&I&&wm(l),qn(null,l,P,h),l=l.child),l;case 16:_=l.elementType;e:{switch(Bf(o,l),o=l.pendingProps,P=_._init,_=P(_._payload),l.type=_,P=l.tag=YA(_),o=ai(_,o),P){case 0:l=Vm(null,l,_,o,h);break e;case 1:l=O_(null,l,_,o,h);break e;case 11:l=N_(null,l,_,o,h);break e;case 14:l=A_(null,l,_,ai(_.type,o),h);break e}throw Error(n(306,_,""))}return l;case 0:return _=l.type,P=l.pendingProps,P=l.elementType===_?P:ai(_,P),Vm(o,l,_,P,h);case 1:return _=l.type,P=l.pendingProps,P=l.elementType===_?P:ai(_,P),O_(o,l,_,P,h);case 3:e:{if(M_(l),o===null)throw Error(n(387));_=l.pendingProps,I=l.memoizedState,P=I.element,Yw(o,l),Af(l,_,null,h);var H=l.memoizedState;if(_=H.element,I.isDehydrated)if(I={element:_,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},l.updateQueue.baseState=I,l.memoizedState=I,l.flags&256){P=Ul(Error(n(423)),l),l=j_(o,l,_,h,P);break e}else if(_!==P){P=Ul(Error(n(424)),l),l=j_(o,l,_,h,P);break e}else for(Sr=Pi(l.stateNode.containerInfo.firstChild),kr=l,qt=!0,si=null,h=Kw(l,null,_,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(jl(),_===P){l=ho(o,l,h);break e}qn(o,l,_,h)}l=l.child}return l;case 5:return Xw(l),o===null&&bm(l),_=l.type,P=l.pendingProps,I=o!==null?o.memoizedProps:null,H=P.children,gt(_,P)?H=null:I!==null&&gt(_,I)&&(l.flags|=32),L_(o,l),qn(o,l,H,h),l.child;case 6:return o===null&&bm(l),null;case 13:return z_(o,l,h);case 4:return Am(l,l.stateNode.containerInfo),_=l.pendingProps,o===null?l.child=zl(l,null,_,h):qn(o,l,_,h),l.child;case 11:return _=l.type,P=l.pendingProps,P=l.elementType===_?P:ai(_,P),N_(o,l,_,P,h);case 7:return qn(o,l,l.pendingProps,h),l.child;case 8:return qn(o,l,l.pendingProps.children,h),l.child;case 12:return qn(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(_=l.type._context,P=l.pendingProps,I=l.memoizedProps,H=P.value,$t(Pf,_._currentValue),_._currentValue=H,I!==null)if(br(I.value,H)){if(I.children===P.children&&!rr.current){l=ho(o,l,h);break e}}else for(I=l.child,I!==null&&(I.return=l);I!==null;){var se=I.dependencies;if(se!==null){H=I.child;for(var de=se.firstContext;de!==null;){if(de.context===_){if(I.tag===1){de=fo(-1,h&-h),de.tag=2;var Ee=I.updateQueue;if(Ee!==null){Ee=Ee.shared;var Oe=Ee.pending;Oe===null?de.next=de:(de.next=Oe.next,Oe.next=de),Ee.pending=de}}I.lanes|=h,de=I.alternate,de!==null&&(de.lanes|=h),Pm(I.return,h,l),se.lanes|=h;break}de=de.next}}else if(I.tag===10)H=I.type===l.type?null:I.child;else if(I.tag===18){if(H=I.return,H===null)throw Error(n(341));H.lanes|=h,se=H.alternate,se!==null&&(se.lanes|=h),Pm(H,h,l),H=I.sibling}else H=I.child;if(H!==null)H.return=I;else for(H=I;H!==null;){if(H===l){H=null;break}if(I=H.sibling,I!==null){I.return=H.return,H=I;break}H=H.return}I=H}qn(o,l,P.children,h),l=l.child}return l;case 9:return P=l.type,_=l.pendingProps.children,Bl(l,h),P=Ur(P),_=_(P),l.flags|=1,qn(o,l,_,h),l.child;case 14:return _=l.type,P=ai(_,l.pendingProps),P=ai(_.type,P),A_(o,l,_,P,h);case 15:return R_(o,l,l.type,l.pendingProps,h);case 17:return _=l.type,P=l.pendingProps,P=l.elementType===_?P:ai(_,P),Bf(o,l),l.tag=1,ir(_)?(o=!0,xf(l)):o=!1,Bl(l,h),b_(l,_,P),Zm(l,_,P,h),qm(null,l,_,!0,o,h);case 19:return B_(o,l,h);case 22:return I_(o,l,h)}throw Error(n(156,l.tag))};function cx(o,l){return Kd(o,l)}function GA(o,l,h,_){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(o,l,h,_){return new GA(o,l,h,_)}function hg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function YA(o){if(typeof o=="function")return hg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===K)return 14}return 2}function gs(o,l){var h=o.alternate;return h===null?(h=Hr(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function Yf(o,l,h,_,P,I){var H=2;if(_=o,typeof o=="function")hg(o)&&(H=1);else if(typeof o=="string")H=5;else e:switch(o){case V:return Ra(h.children,P,I,l);case Y:H=8,P|=8;break;case U:return o=Hr(12,h,l,P|2),o.elementType=U,o.lanes=I,o;case X:return o=Hr(13,h,l,P),o.elementType=X,o.lanes=I,o;case O:return o=Hr(19,h,l,P),o.elementType=O,o.lanes=I,o;case oe:return Jf(h,P,I,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case q:H=10;break e;case J:H=9;break e;case F:H=11;break e;case K:H=14;break e;case ae:H=16,_=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=Hr(H,h,l,P),l.elementType=o,l.type=_,l.lanes=I,l}function Ra(o,l,h,_){return o=Hr(7,o,_,l),o.lanes=h,o}function Jf(o,l,h,_){return o=Hr(22,o,_,l),o.elementType=oe,o.lanes=h,o.stateNode={isHidden:!1},o}function pg(o,l,h){return o=Hr(6,o,null,l),o.lanes=h,o}function mg(o,l,h){return l=Hr(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function JA(o,l,h,_,P){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=_,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function gg(o,l,h,_,P,I,H,se,de){return o=new JA(o,l,h,se,de),l===1?(l=1,I===!0&&(l|=8)):l=0,I=Hr(3,null,null,l),o.current=I,I.stateNode=o,I.memoizedState={element:_,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nm(I),o}function QA(o,l,h){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:_==null?null:""+_,children:o,containerInfo:l,implementation:h}}function ux(o){if(!o)return as;o=o._reactInternals;e:{if(wi(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ir(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(ir(h))return Dw(o,h,l)}return l}function dx(o,l,h,_,P,I,H,se,de){return o=gg(h,_,!0,o,P,I,H,se,de),o.context=ux(null),h=o.current,_=Kn(),P=ps(h),I=fo(_,P),I.callback=l??null,us(h,I,P),o.current.lanes=P,yr(o,P,_),ar(o,_),o}function Qf(o,l,h,_){var P=l.current,I=Kn(),H=ps(P);return h=ux(h),l.context===null?l.context=h:l.pendingContext=h,l=fo(I,H),l.payload={element:o},_=_===void 0?null:_,_!==null&&(l.callback=_),o=us(P,l,H),o!==null&&(ui(o,P,H,I),Nf(o,P,H)),H}function Xf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function fx(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function yg(o,l){fx(o,l),(o=o.alternate)&&fx(o,l)}function XA(){return null}var hx=typeof reportError=="function"?reportError:function(o){console.error(o)};function vg(o){this._internalRoot=o}eh.prototype.render=vg.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));Qf(o,l,null,null)},eh.prototype.unmount=vg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Ta(function(){Qf(null,o,null,null)}),l[Mt]=null}};function eh(o){this._internalRoot=o}eh.prototype.unstable_scheduleHydration=function(o){if(o){var l=hl();o={blockedOn:null,target:o,priority:l};for(var h=0;h<pn.length&&l!==0&&l<pn[h].priority;h++);pn.splice(h,0,o),h===0&&pl(o)}};function wg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function th(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function px(){}function eR(o,l,h,_,P){if(P){if(typeof _=="function"){var I=_;_=function(){var Ee=Xf(H);I.call(Ee)}}var H=dx(l,_,o,0,null,!1,!1,"",px);return o._reactRootContainer=H,o[Mt]=H.current,ns(o.nodeType===8?o.parentNode:o),Ta(),H}for(;P=o.lastChild;)o.removeChild(P);if(typeof _=="function"){var se=_;_=function(){var Ee=Xf(de);se.call(Ee)}}var de=gg(o,0,!1,null,null,!1,!1,"",px);return o._reactRootContainer=de,o[Mt]=de.current,ns(o.nodeType===8?o.parentNode:o),Ta(function(){Qf(l,de,h,_)}),de}function nh(o,l,h,_,P){var I=h._reactRootContainer;if(I){var H=I;if(typeof P=="function"){var se=P;P=function(){var de=Xf(H);se.call(de)}}Qf(l,H,o,P)}else H=eR(h,l,o,P,_);return Xf(H)}dl=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=dt(l.pendingLanes);h!==0&&(ti(l,h|1),ar(l,Jt()),(Pt&6)===0&&(Hl=Jt()+500,ls()))}break;case 13:Ta(function(){var _=uo(o,1);if(_!==null){var P=Kn();ui(_,o,1,P)}}),yg(o,1)}},Gi=function(o){if(o.tag===13){var l=uo(o,134217728);if(l!==null){var h=Kn();ui(l,o,134217728,h)}yg(o,134217728)}},fl=function(o){if(o.tag===13){var l=ps(o),h=uo(o,l);if(h!==null){var _=Kn();ui(h,o,l,_)}yg(o,l)}},hl=function(){return St},ca=function(o,l){var h=St;try{return St=o,l()}finally{St=h}},Do=function(o,l,h){switch(l){case"input":if(ie(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var _=h[l];if(_!==o&&_.form===o.form){var P=Rl(_);if(!P)throw Error(n(90));At(_),ie(_,P)}}}break;case"textarea":He(o,h);break;case"select":l=h.value,l!=null&&Ae(o,!!h.multiple,l,!1)}},$d=ug,Zd=Ta;var tR={usingClientEntryPoint:!1,Events:[oo,so,Rl,Fd,Ud,ug]},Mu={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nR={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Vd(o),o===null?null:o.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||XA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{aa=rh.inject(nR),gr=rh}catch{}}return lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tR,lr.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wg(l))throw Error(n(200));return QA(o,l,null,h)},lr.createRoot=function(o,l){if(!wg(o))throw Error(n(299));var h=!1,_="",P=hx;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),l=gg(o,1,!1,null,null,h,!1,_,P),o[Mt]=l.current,ns(o.nodeType===8?o.parentNode:o),new vg(l)},lr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Vd(l),o=o===null?null:o.stateNode,o},lr.flushSync=function(o){return Ta(o)},lr.hydrate=function(o,l,h){if(!th(l))throw Error(n(200));return nh(null,o,l,!0,h)},lr.hydrateRoot=function(o,l,h){if(!wg(o))throw Error(n(405));var _=h!=null&&h.hydratedSources||null,P=!1,I="",H=hx;if(h!=null&&(h.unstable_strictMode===!0&&(P=!0),h.identifierPrefix!==void 0&&(I=h.identifierPrefix),h.onRecoverableError!==void 0&&(H=h.onRecoverableError)),l=dx(l,null,o,1,h??null,P,!1,I,H),o[Mt]=l.current,ns(o),_)for(o=0;o<_.length;o++)h=_[o],P=h._getVersion,P=P(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,P]:l.mutableSourceEagerHydrationData.push(h,P);return new eh(l)},lr.render=function(o,l,h){if(!th(l))throw Error(n(200));return nh(null,o,l,!1,h)},lr.unmountComponentAtNode=function(o){if(!th(o))throw Error(n(40));return o._reactRootContainer?(Ta(function(){nh(null,null,o,!1,function(){o._reactRootContainer=null,o[Mt]=null})}),!0):!1},lr.unstable_batchedUpdates=ug,lr.unstable_renderSubtreeIntoContainer=function(o,l,h,_){if(!th(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return nh(o,l,h,!1,_)},lr.version="18.3.1-next-f1338f8080-20240426",lr}var Ex;function I2(){if(Ex)return Eg.exports;Ex=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Eg.exports=fR(),Eg.exports}var kx;function hR(){if(kx)return sh;kx=1;var e=I2();return sh.createRoot=e.createRoot,sh.hydrateRoot=e.hydrateRoot,sh}var pR=hR(),Cg={},zu={},Sx;function mR(){if(Sx)return zu;Sx=1,zu.byteLength=u,zu.toByteArray=p,zu.fromByteArray=b;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function c(x){var k=x.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=x.indexOf("=");v===-1&&(v=k);var E=v===k?0:4-v%4;return[v,E]}function u(x){var k=c(x),v=k[0],E=k[1];return(v+E)*3/4-E}function d(x,k,v){return(k+v)*3/4-v}function p(x){var k,v=c(x),E=v[0],S=v[1],T=new n(d(x,E,S)),R=0,z=S>0?E-4:E,D;for(D=0;D<z;D+=4)k=t[x.charCodeAt(D)]<<18|t[x.charCodeAt(D+1)]<<12|t[x.charCodeAt(D+2)]<<6|t[x.charCodeAt(D+3)],T[R++]=k>>16&255,T[R++]=k>>8&255,T[R++]=k&255;return S===2&&(k=t[x.charCodeAt(D)]<<2|t[x.charCodeAt(D+1)]>>4,T[R++]=k&255),S===1&&(k=t[x.charCodeAt(D)]<<10|t[x.charCodeAt(D+1)]<<4|t[x.charCodeAt(D+2)]>>2,T[R++]=k>>8&255,T[R++]=k&255),T}function g(x){return e[x>>18&63]+e[x>>12&63]+e[x>>6&63]+e[x&63]}function m(x,k,v){for(var E,S=[],T=k;T<v;T+=3)E=(x[T]<<16&16711680)+(x[T+1]<<8&65280)+(x[T+2]&255),S.push(g(E));return S.join("")}function b(x){for(var k,v=x.length,E=v%3,S=[],T=16383,R=0,z=v-E;R<z;R+=T)S.push(m(x,R,R+T>z?z:R+T));return E===1?(k=x[v-1],S.push(e[k>>2]+e[k<<4&63]+"==")):E===2&&(k=(x[v-2]<<8)+x[v-1],S.push(e[k>>10]+e[k>>4&63]+e[k<<2&63]+"=")),S.join("")}return zu}var ah={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Cx;function gR(){return Cx||(Cx=1,ah.read=function(e,t,n,r,i){var a,c,u=i*8-r-1,d=(1<<u)-1,p=d>>1,g=-7,m=n?i-1:0,b=n?-1:1,x=e[t+m];for(m+=b,a=x&(1<<-g)-1,x>>=-g,g+=u;g>0;a=a*256+e[t+m],m+=b,g-=8);for(c=a&(1<<-g)-1,a>>=-g,g+=r;g>0;c=c*256+e[t+m],m+=b,g-=8);if(a===0)a=1-p;else{if(a===d)return c?NaN:(x?-1:1)*(1/0);c=c+Math.pow(2,r),a=a-p}return(x?-1:1)*c*Math.pow(2,a-r)},ah.write=function(e,t,n,r,i,a){var c,u,d,p=a*8-i-1,g=(1<<p)-1,m=g>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:a-1,k=r?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,c=g):(c=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-c))<1&&(c--,d*=2),c+m>=1?t+=b/d:t+=b*Math.pow(2,1-m),t*d>=2&&(c++,d/=2),c+m>=g?(u=0,c=g):c+m>=1?(u=(t*d-1)*Math.pow(2,i),c=c+m):(u=t*Math.pow(2,m-1)*Math.pow(2,i),c=0));i>=8;e[n+x]=u&255,x+=k,u/=256,i-=8);for(c=c<<i|u,p+=i;p>0;e[n+x]=c&255,x+=k,c/=256,p-=8);e[n+x-k]|=v*128}),ah}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Px;function yR(){return Px||(Px=1,function(e){const t=mR(),n=gR(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=T,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=a(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const W=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(W,N),W.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(W){if(W>i)throw new RangeError('The value "'+W+'" is invalid for option "size"');const N=new Uint8Array(W);return Object.setPrototypeOf(N,u.prototype),N}function u(W,N,M){if(typeof W=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(W)}return d(W,N,M)}u.poolSize=8192;function d(W,N,M){if(typeof W=="string")return b(W,N);if(ArrayBuffer.isView(W))return k(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(me(W,ArrayBuffer)||W&&me(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(W,SharedArrayBuffer)||W&&me(W.buffer,SharedArrayBuffer)))return v(W,N,M);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ee=W.valueOf&&W.valueOf();if(ee!=null&&ee!==W)return u.from(ee,N,M);const fe=E(W);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return u.from(W[Symbol.toPrimitive]("string"),N,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}u.from=function(W,N,M){return d(W,N,M)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function g(W,N,M){return p(W),W<=0?c(W):N!==void 0?typeof M=="string"?c(W).fill(N,M):c(W).fill(N):c(W)}u.alloc=function(W,N,M){return g(W,N,M)};function m(W){return p(W),c(W<0?0:S(W)|0)}u.allocUnsafe=function(W){return m(W)},u.allocUnsafeSlow=function(W){return m(W)};function b(W,N){if((typeof N!="string"||N==="")&&(N="utf8"),!u.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const M=R(W,N)|0;let ee=c(M);const fe=ee.write(W,N);return fe!==M&&(ee=ee.slice(0,fe)),ee}function x(W){const N=W.length<0?0:S(W.length)|0,M=c(N);for(let ee=0;ee<N;ee+=1)M[ee]=W[ee]&255;return M}function k(W){if(me(W,Uint8Array)){const N=new Uint8Array(W);return v(N.buffer,N.byteOffset,N.byteLength)}return x(W)}function v(W,N,M){if(N<0||W.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<N+(M||0))throw new RangeError('"length" is outside of buffer bounds');let ee;return N===void 0&&M===void 0?ee=new Uint8Array(W):M===void 0?ee=new Uint8Array(W,N):ee=new Uint8Array(W,N,M),Object.setPrototypeOf(ee,u.prototype),ee}function E(W){if(u.isBuffer(W)){const N=S(W.length)|0,M=c(N);return M.length===0||W.copy(M,0,0,N),M}if(W.length!==void 0)return typeof W.length!="number"||ze(W.length)?c(0):x(W);if(W.type==="Buffer"&&Array.isArray(W.data))return x(W.data)}function S(W){if(W>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return W|0}function T(W){return+W!=W&&(W=0),u.alloc(+W)}u.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==u.prototype},u.compare=function(N,M){if(me(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),me(M,Uint8Array)&&(M=u.from(M,M.offset,M.byteLength)),!u.isBuffer(N)||!u.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===M)return 0;let ee=N.length,fe=M.length;for(let _e=0,Se=Math.min(ee,fe);_e<Se;++_e)if(N[_e]!==M[_e]){ee=N[_e],fe=M[_e];break}return ee<fe?-1:fe<ee?1:0},u.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(N,M){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return u.alloc(0);let ee;if(M===void 0)for(M=0,ee=0;ee<N.length;++ee)M+=N[ee].length;const fe=u.allocUnsafe(M);let _e=0;for(ee=0;ee<N.length;++ee){let Se=N[ee];if(me(Se,Uint8Array))_e+Se.length>fe.length?(u.isBuffer(Se)||(Se=u.from(Se)),Se.copy(fe,_e)):Uint8Array.prototype.set.call(fe,Se,_e);else if(u.isBuffer(Se))Se.copy(fe,_e);else throw new TypeError('"list" argument must be an Array of Buffers');_e+=Se.length}return fe};function R(W,N){if(u.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||me(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const M=W.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&M===0)return 0;let fe=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return ie(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return Ne(W).length;default:if(fe)return ee?-1:ie(W).length;N=(""+N).toLowerCase(),fe=!0}}u.byteLength=R;function z(W,N,M){let ee=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,N>>>=0,M<=N))return"";for(W||(W="utf8");;)switch(W){case"hex":return te(this,N,M);case"utf8":case"utf-8":return O(this,N,M);case"ascii":return oe(this,N,M);case"latin1":case"binary":return re(this,N,M);case"base64":return X(this,N,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,N,M);default:if(ee)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),ee=!0}}u.prototype._isBuffer=!0;function D(W,N,M){const ee=W[N];W[N]=W[M],W[M]=ee}u.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<N;M+=2)D(this,M,M+1);return this},u.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<N;M+=4)D(this,M,M+3),D(this,M+1,M+2);return this},u.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<N;M+=8)D(this,M,M+7),D(this,M+1,M+6),D(this,M+2,M+5),D(this,M+3,M+4);return this},u.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?O(this,0,N):z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(N){if(!u.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:u.compare(this,N)===0},u.prototype.inspect=function(){let N="";const M=e.INSPECT_MAX_BYTES;return N=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(N+=" ... "),"<Buffer "+N+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(N,M,ee,fe,_e){if(me(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),!u.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(M===void 0&&(M=0),ee===void 0&&(ee=N?N.length:0),fe===void 0&&(fe=0),_e===void 0&&(_e=this.length),M<0||ee>N.length||fe<0||_e>this.length)throw new RangeError("out of range index");if(fe>=_e&&M>=ee)return 0;if(fe>=_e)return-1;if(M>=ee)return 1;if(M>>>=0,ee>>>=0,fe>>>=0,_e>>>=0,this===N)return 0;let Se=_e-fe,lt=ee-M;const Lt=Math.min(Se,lt),vt=this.slice(fe,_e),Et=N.slice(M,ee);for(let kt=0;kt<Lt;++kt)if(vt[kt]!==Et[kt]){Se=vt[kt],lt=Et[kt];break}return Se<lt?-1:lt<Se?1:0};function Z(W,N,M,ee,fe){if(W.length===0)return-1;if(typeof M=="string"?(ee=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,ze(M)&&(M=fe?0:W.length-1),M<0&&(M=W.length+M),M>=W.length){if(fe)return-1;M=W.length-1}else if(M<0)if(fe)M=0;else return-1;if(typeof N=="string"&&(N=u.from(N,ee)),u.isBuffer(N))return N.length===0?-1:V(W,N,M,ee,fe);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(W,N,M):Uint8Array.prototype.lastIndexOf.call(W,N,M):V(W,[N],M,ee,fe);throw new TypeError("val must be string, number or Buffer")}function V(W,N,M,ee,fe){let _e=1,Se=W.length,lt=N.length;if(ee!==void 0&&(ee=String(ee).toLowerCase(),ee==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(W.length<2||N.length<2)return-1;_e=2,Se/=2,lt/=2,M/=2}function Lt(Et,kt){return _e===1?Et[kt]:Et.readUInt16BE(kt*_e)}let vt;if(fe){let Et=-1;for(vt=M;vt<Se;vt++)if(Lt(W,vt)===Lt(N,Et===-1?0:vt-Et)){if(Et===-1&&(Et=vt),vt-Et+1===lt)return Et*_e}else Et!==-1&&(vt-=vt-Et),Et=-1}else for(M+lt>Se&&(M=Se-lt),vt=M;vt>=0;vt--){let Et=!0;for(let kt=0;kt<lt;kt++)if(Lt(W,vt+kt)!==Lt(N,kt)){Et=!1;break}if(Et)return vt}return-1}u.prototype.includes=function(N,M,ee){return this.indexOf(N,M,ee)!==-1},u.prototype.indexOf=function(N,M,ee){return Z(this,N,M,ee,!0)},u.prototype.lastIndexOf=function(N,M,ee){return Z(this,N,M,ee,!1)};function Y(W,N,M,ee){M=Number(M)||0;const fe=W.length-M;ee?(ee=Number(ee),ee>fe&&(ee=fe)):ee=fe;const _e=N.length;ee>_e/2&&(ee=_e/2);let Se;for(Se=0;Se<ee;++Se){const lt=parseInt(N.substr(Se*2,2),16);if(ze(lt))return Se;W[M+Se]=lt}return Se}function U(W,N,M,ee){return Ae(ie(N,W.length-M),W,M,ee)}function q(W,N,M,ee){return Ae(ne(N),W,M,ee)}function J(W,N,M,ee){return Ae(Ne(N),W,M,ee)}function F(W,N,M,ee){return Ae(pe(N,W.length-M),W,M,ee)}u.prototype.write=function(N,M,ee,fe){if(M===void 0)fe="utf8",ee=this.length,M=0;else if(ee===void 0&&typeof M=="string")fe=M,ee=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(ee)?(ee=ee>>>0,fe===void 0&&(fe="utf8")):(fe=ee,ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _e=this.length-M;if((ee===void 0||ee>_e)&&(ee=_e),N.length>0&&(ee<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Se=!1;for(;;)switch(fe){case"hex":return Y(this,N,M,ee);case"utf8":case"utf-8":return U(this,N,M,ee);case"ascii":case"latin1":case"binary":return q(this,N,M,ee);case"base64":return J(this,N,M,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,N,M,ee);default:if(Se)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Se=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(W,N,M){return N===0&&M===W.length?t.fromByteArray(W):t.fromByteArray(W.slice(N,M))}function O(W,N,M){M=Math.min(W.length,M);const ee=[];let fe=N;for(;fe<M;){const _e=W[fe];let Se=null,lt=_e>239?4:_e>223?3:_e>191?2:1;if(fe+lt<=M){let Lt,vt,Et,kt;switch(lt){case 1:_e<128&&(Se=_e);break;case 2:Lt=W[fe+1],(Lt&192)===128&&(kt=(_e&31)<<6|Lt&63,kt>127&&(Se=kt));break;case 3:Lt=W[fe+1],vt=W[fe+2],(Lt&192)===128&&(vt&192)===128&&(kt=(_e&15)<<12|(Lt&63)<<6|vt&63,kt>2047&&(kt<55296||kt>57343)&&(Se=kt));break;case 4:Lt=W[fe+1],vt=W[fe+2],Et=W[fe+3],(Lt&192)===128&&(vt&192)===128&&(Et&192)===128&&(kt=(_e&15)<<18|(Lt&63)<<12|(vt&63)<<6|Et&63,kt>65535&&kt<1114112&&(Se=kt))}}Se===null?(Se=65533,lt=1):Se>65535&&(Se-=65536,ee.push(Se>>>10&1023|55296),Se=56320|Se&1023),ee.push(Se),fe+=lt}return ae(ee)}const K=4096;function ae(W){const N=W.length;if(N<=K)return String.fromCharCode.apply(String,W);let M="",ee=0;for(;ee<N;)M+=String.fromCharCode.apply(String,W.slice(ee,ee+=K));return M}function oe(W,N,M){let ee="";M=Math.min(W.length,M);for(let fe=N;fe<M;++fe)ee+=String.fromCharCode(W[fe]&127);return ee}function re(W,N,M){let ee="";M=Math.min(W.length,M);for(let fe=N;fe<M;++fe)ee+=String.fromCharCode(W[fe]);return ee}function te(W,N,M){const ee=W.length;(!N||N<0)&&(N=0),(!M||M<0||M>ee)&&(M=ee);let fe="";for(let _e=N;_e<M;++_e)fe+=He[W[_e]];return fe}function le(W,N,M){const ee=W.slice(N,M);let fe="";for(let _e=0;_e<ee.length-1;_e+=2)fe+=String.fromCharCode(ee[_e]+ee[_e+1]*256);return fe}u.prototype.slice=function(N,M){const ee=this.length;N=~~N,M=M===void 0?ee:~~M,N<0?(N+=ee,N<0&&(N=0)):N>ee&&(N=ee),M<0?(M+=ee,M<0&&(M=0)):M>ee&&(M=ee),M<N&&(M=N);const fe=this.subarray(N,M);return Object.setPrototypeOf(fe,u.prototype),fe};function $(W,N,M){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+N>M)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(N,M,ee){N=N>>>0,M=M>>>0,ee||$(N,M,this.length);let fe=this[N],_e=1,Se=0;for(;++Se<M&&(_e*=256);)fe+=this[N+Se]*_e;return fe},u.prototype.readUintBE=u.prototype.readUIntBE=function(N,M,ee){N=N>>>0,M=M>>>0,ee||$(N,M,this.length);let fe=this[N+--M],_e=1;for(;M>0&&(_e*=256);)fe+=this[N+--M]*_e;return fe},u.prototype.readUint8=u.prototype.readUInt8=function(N,M){return N=N>>>0,M||$(N,1,this.length),this[N]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(N,M){return N=N>>>0,M||$(N,2,this.length),this[N]|this[N+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(N,M){return N=N>>>0,M||$(N,2,this.length),this[N]<<8|this[N+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(N,M){return N=N>>>0,M||$(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(N,M){return N=N>>>0,M||$(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},u.prototype.readBigUInt64LE=je(function(N){N=N>>>0,ft(N,"offset");const M=this[N],ee=this[N+7];(M===void 0||ee===void 0)&&B(N,this.length-8);const fe=M+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,_e=this[++N]+this[++N]*2**8+this[++N]*2**16+ee*2**24;return BigInt(fe)+(BigInt(_e)<<BigInt(32))}),u.prototype.readBigUInt64BE=je(function(N){N=N>>>0,ft(N,"offset");const M=this[N],ee=this[N+7];(M===void 0||ee===void 0)&&B(N,this.length-8);const fe=M*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],_e=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+ee;return(BigInt(fe)<<BigInt(32))+BigInt(_e)}),u.prototype.readIntLE=function(N,M,ee){N=N>>>0,M=M>>>0,ee||$(N,M,this.length);let fe=this[N],_e=1,Se=0;for(;++Se<M&&(_e*=256);)fe+=this[N+Se]*_e;return _e*=128,fe>=_e&&(fe-=Math.pow(2,8*M)),fe},u.prototype.readIntBE=function(N,M,ee){N=N>>>0,M=M>>>0,ee||$(N,M,this.length);let fe=M,_e=1,Se=this[N+--fe];for(;fe>0&&(_e*=256);)Se+=this[N+--fe]*_e;return _e*=128,Se>=_e&&(Se-=Math.pow(2,8*M)),Se},u.prototype.readInt8=function(N,M){return N=N>>>0,M||$(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},u.prototype.readInt16LE=function(N,M){N=N>>>0,M||$(N,2,this.length);const ee=this[N]|this[N+1]<<8;return ee&32768?ee|4294901760:ee},u.prototype.readInt16BE=function(N,M){N=N>>>0,M||$(N,2,this.length);const ee=this[N+1]|this[N]<<8;return ee&32768?ee|4294901760:ee},u.prototype.readInt32LE=function(N,M){return N=N>>>0,M||$(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},u.prototype.readInt32BE=function(N,M){return N=N>>>0,M||$(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},u.prototype.readBigInt64LE=je(function(N){N=N>>>0,ft(N,"offset");const M=this[N],ee=this[N+7];(M===void 0||ee===void 0)&&B(N,this.length-8);const fe=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(ee<<24);return(BigInt(fe)<<BigInt(32))+BigInt(M+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),u.prototype.readBigInt64BE=je(function(N){N=N>>>0,ft(N,"offset");const M=this[N],ee=this[N+7];(M===void 0||ee===void 0)&&B(N,this.length-8);const fe=(M<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(fe)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+ee)}),u.prototype.readFloatLE=function(N,M){return N=N>>>0,M||$(N,4,this.length),n.read(this,N,!0,23,4)},u.prototype.readFloatBE=function(N,M){return N=N>>>0,M||$(N,4,this.length),n.read(this,N,!1,23,4)},u.prototype.readDoubleLE=function(N,M){return N=N>>>0,M||$(N,8,this.length),n.read(this,N,!0,52,8)},u.prototype.readDoubleBE=function(N,M){return N=N>>>0,M||$(N,8,this.length),n.read(this,N,!1,52,8)};function Q(W,N,M,ee,fe,_e){if(!u.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>fe||N<_e)throw new RangeError('"value" argument is out of bounds');if(M+ee>W.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(N,M,ee,fe){if(N=+N,M=M>>>0,ee=ee>>>0,!fe){const lt=Math.pow(2,8*ee)-1;Q(this,N,M,ee,lt,0)}let _e=1,Se=0;for(this[M]=N&255;++Se<ee&&(_e*=256);)this[M+Se]=N/_e&255;return M+ee},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(N,M,ee,fe){if(N=+N,M=M>>>0,ee=ee>>>0,!fe){const lt=Math.pow(2,8*ee)-1;Q(this,N,M,ee,lt,0)}let _e=ee-1,Se=1;for(this[M+_e]=N&255;--_e>=0&&(Se*=256);)this[M+_e]=N/Se&255;return M+ee},u.prototype.writeUint8=u.prototype.writeUInt8=function(N,M,ee){return N=+N,M=M>>>0,ee||Q(this,N,M,1,255,0),this[M]=N&255,M+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(N,M,ee){return N=+N,M=M>>>0,ee||Q(this,N,M,2,65535,0),this[M]=N&255,this[M+1]=N>>>8,M+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(N,M,ee){return N=+N,M=M>>>0,ee||Q(this,N,M,2,65535,0),this[M]=N>>>8,this[M+1]=N&255,M+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(N,M,ee){return N=+N,M=M>>>0,ee||Q(this,N,M,4,4294967295,0),this[M+3]=N>>>24,this[M+2]=N>>>16,this[M+1]=N>>>8,this[M]=N&255,M+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(N,M,ee){return N=+N,M=M>>>0,ee||Q(this,N,M,4,4294967295,0),this[M]=N>>>24,this[M+1]=N>>>16,this[M+2]=N>>>8,this[M+3]=N&255,M+4};function Ce(W,N,M,ee,fe){At(N,ee,fe,W,M,7);let _e=Number(N&BigInt(4294967295));W[M++]=_e,_e=_e>>8,W[M++]=_e,_e=_e>>8,W[M++]=_e,_e=_e>>8,W[M++]=_e;let Se=Number(N>>BigInt(32)&BigInt(4294967295));return W[M++]=Se,Se=Se>>8,W[M++]=Se,Se=Se>>8,W[M++]=Se,Se=Se>>8,W[M++]=Se,M}function xe(W,N,M,ee,fe){At(N,ee,fe,W,M,7);let _e=Number(N&BigInt(4294967295));W[M+7]=_e,_e=_e>>8,W[M+6]=_e,_e=_e>>8,W[M+5]=_e,_e=_e>>8,W[M+4]=_e;let Se=Number(N>>BigInt(32)&BigInt(4294967295));return W[M+3]=Se,Se=Se>>8,W[M+2]=Se,Se=Se>>8,W[M+1]=Se,Se=Se>>8,W[M]=Se,M+8}u.prototype.writeBigUInt64LE=je(function(N,M=0){return Ce(this,N,M,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=je(function(N,M=0){return xe(this,N,M,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(N,M,ee,fe){if(N=+N,M=M>>>0,!fe){const Lt=Math.pow(2,8*ee-1);Q(this,N,M,ee,Lt-1,-Lt)}let _e=0,Se=1,lt=0;for(this[M]=N&255;++_e<ee&&(Se*=256);)N<0&&lt===0&&this[M+_e-1]!==0&&(lt=1),this[M+_e]=(N/Se>>0)-lt&255;return M+ee},u.prototype.writeIntBE=function(N,M,ee,fe){if(N=+N,M=M>>>0,!fe){const Lt=Math.pow(2,8*ee-1);Q(this,N,M,ee,Lt-1,-Lt)}let _e=ee-1,Se=1,lt=0;for(this[M+_e]=N&255;--_e>=0&&(Se*=256);)N<0&&lt===0&&this[M+_e+1]!==0&&(lt=1),this[M+_e]=(N/Se>>0)-lt&255;return M+ee},u.prototype.writeInt8=function(N,M,ee){return N=+N,M=M>>>0,ee||Q(this,N,M,1,127,-128),N<0&&(N=255+N+1),this[M]=N&255,M+1},u.prototype.writeInt16LE=function(N,M,ee){return N=+N,M=M>>>0,ee||Q(this,N,M,2,32767,-32768),this[M]=N&255,this[M+1]=N>>>8,M+2},u.prototype.writeInt16BE=function(N,M,ee){return N=+N,M=M>>>0,ee||Q(this,N,M,2,32767,-32768),this[M]=N>>>8,this[M+1]=N&255,M+2},u.prototype.writeInt32LE=function(N,M,ee){return N=+N,M=M>>>0,ee||Q(this,N,M,4,2147483647,-2147483648),this[M]=N&255,this[M+1]=N>>>8,this[M+2]=N>>>16,this[M+3]=N>>>24,M+4},u.prototype.writeInt32BE=function(N,M,ee){return N=+N,M=M>>>0,ee||Q(this,N,M,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[M]=N>>>24,this[M+1]=N>>>16,this[M+2]=N>>>8,this[M+3]=N&255,M+4},u.prototype.writeBigInt64LE=je(function(N,M=0){return Ce(this,N,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=je(function(N,M=0){return xe(this,N,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ve(W,N,M,ee,fe,_e){if(M+ee>W.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function Re(W,N,M,ee,fe){return N=+N,M=M>>>0,fe||ve(W,N,M,4),n.write(W,N,M,ee,23,4),M+4}u.prototype.writeFloatLE=function(N,M,ee){return Re(this,N,M,!0,ee)},u.prototype.writeFloatBE=function(N,M,ee){return Re(this,N,M,!1,ee)};function Ue(W,N,M,ee,fe){return N=+N,M=M>>>0,fe||ve(W,N,M,8),n.write(W,N,M,ee,52,8),M+8}u.prototype.writeDoubleLE=function(N,M,ee){return Ue(this,N,M,!0,ee)},u.prototype.writeDoubleBE=function(N,M,ee){return Ue(this,N,M,!1,ee)},u.prototype.copy=function(N,M,ee,fe){if(!u.isBuffer(N))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!fe&&fe!==0&&(fe=this.length),M>=N.length&&(M=N.length),M||(M=0),fe>0&&fe<ee&&(fe=ee),fe===ee||N.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),N.length-M<fe-ee&&(fe=N.length-M+ee);const _e=fe-ee;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,ee,fe):Uint8Array.prototype.set.call(N,this.subarray(ee,fe),M),_e},u.prototype.fill=function(N,M,ee,fe){if(typeof N=="string"){if(typeof M=="string"?(fe=M,M=0,ee=this.length):typeof ee=="string"&&(fe=ee,ee=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!u.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(N.length===1){const Se=N.charCodeAt(0);(fe==="utf8"&&Se<128||fe==="latin1")&&(N=Se)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(M<0||this.length<M||this.length<ee)throw new RangeError("Out of range index");if(ee<=M)return this;M=M>>>0,ee=ee===void 0?this.length:ee>>>0,N||(N=0);let _e;if(typeof N=="number")for(_e=M;_e<ee;++_e)this[_e]=N;else{const Se=u.isBuffer(N)?N:u.from(N,fe),lt=Se.length;if(lt===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(_e=0;_e<ee-M;++_e)this[_e+M]=Se[_e%lt]}return this};const Me={};function Be(W,N,M){Me[W]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}Be("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Be("ERR_INVALID_ARG_TYPE",function(W,N){return`The "${W}" argument must be of type number. Received type ${typeof N}`},TypeError),Be("ERR_OUT_OF_RANGE",function(W,N,M){let ee=`The value of "${W}" is out of range.`,fe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?fe=nt(String(M)):typeof M=="bigint"&&(fe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(fe=nt(fe)),fe+="n"),ee+=` It must be ${N}. Received ${fe}`,ee},RangeError);function nt(W){let N="",M=W.length;const ee=W[0]==="-"?1:0;for(;M>=ee+4;M-=3)N=`_${W.slice(M-3,M)}${N}`;return`${W.slice(0,M)}${N}`}function wt(W,N,M){ft(N,"offset"),(W[N]===void 0||W[N+M]===void 0)&&B(N,W.length-(M+1))}function At(W,N,M,ee,fe,_e){if(W>M||W<N){const Se=typeof N=="bigint"?"n":"";let lt;throw N===0||N===BigInt(0)?lt=`>= 0${Se} and < 2${Se} ** ${(_e+1)*8}${Se}`:lt=`>= -(2${Se} ** ${(_e+1)*8-1}${Se}) and < 2 ** ${(_e+1)*8-1}${Se}`,new Me.ERR_OUT_OF_RANGE("value",lt,W)}wt(ee,fe,_e)}function ft(W,N){if(typeof W!="number")throw new Me.ERR_INVALID_ARG_TYPE(N,"number",W)}function B(W,N,M){throw Math.floor(W)!==W?(ft(W,M),new Me.ERR_OUT_OF_RANGE("offset","an integer",W)):N<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,W)}const Pe=/[^+/0-9A-Za-z-_]/g;function ke(W){if(W=W.split("=")[0],W=W.trim().replace(Pe,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function ie(W,N){N=N||1/0;let M;const ee=W.length;let fe=null;const _e=[];for(let Se=0;Se<ee;++Se){if(M=W.charCodeAt(Se),M>55295&&M<57344){if(!fe){if(M>56319){(N-=3)>-1&&_e.push(239,191,189);continue}else if(Se+1===ee){(N-=3)>-1&&_e.push(239,191,189);continue}fe=M;continue}if(M<56320){(N-=3)>-1&&_e.push(239,191,189),fe=M;continue}M=(fe-55296<<10|M-56320)+65536}else fe&&(N-=3)>-1&&_e.push(239,191,189);if(fe=null,M<128){if((N-=1)<0)break;_e.push(M)}else if(M<2048){if((N-=2)<0)break;_e.push(M>>6|192,M&63|128)}else if(M<65536){if((N-=3)<0)break;_e.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((N-=4)<0)break;_e.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return _e}function ne(W){const N=[];for(let M=0;M<W.length;++M)N.push(W.charCodeAt(M)&255);return N}function pe(W,N){let M,ee,fe;const _e=[];for(let Se=0;Se<W.length&&!((N-=2)<0);++Se)M=W.charCodeAt(Se),ee=M>>8,fe=M%256,_e.push(fe),_e.push(ee);return _e}function Ne(W){return t.toByteArray(ke(W))}function Ae(W,N,M,ee){let fe;for(fe=0;fe<ee&&!(fe+M>=N.length||fe>=W.length);++fe)N[fe+M]=W[fe];return fe}function me(W,N){return W instanceof N||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===N.name}function ze(W){return W!==W}const He=function(){const W="0123456789abcdef",N=new Array(256);for(let M=0;M<16;++M){const ee=M*16;for(let fe=0;fe<16;++fe)N[ee+fe]=W[M]+W[fe]}return N}();function je(W){return typeof BigInt>"u"?Je:W}function Je(){throw new Error("BigInt not supported")}}(Cg)),Cg}var vR=yR();const wR=kd(vR);globalThis.Buffer||(globalThis.Buffer=wR.Buffer);AbortSignal.any||(AbortSignal.any=function(e){if(e.length===0)return new AbortController().signal;if(e.length===1)return e[0];for(const r of e)if(r.aborted){const i=new AbortController;return i.abort(r.reason),i.signal}const t=new AbortController,n=r=>{const i=r.target;t.abort(i.reason)};for(const r of e)r.addEventListener("abort",n,{once:!0});return t.signal.addEventListener("abort",()=>{for(const r of e)r.removeEventListener("abort",n)},{once:!0}),t.signal});AbortSignal.timeout||(AbortSignal.timeout=function(e){const t=new AbortController;return setTimeout(()=>{t.abort(new DOMException("The operation was aborted due to timeout","TimeoutError"))},e),t.signal});var A=sp();const Ps=kd(A),qv=sR({__proto__:null,default:Ps},[A]);class _R extends A.Component{constructor(n){super(n);$e(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n,r;return this.state.hasError?this.props.fallback?this.props.fallback:w.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:w.jsxs("div",{className:"max-w-md w-full space-y-4",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),w.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. The error has been reported."})]}),w.jsx("div",{className:"bg-muted p-4 rounded-lg",children:w.jsxs("details",{className:"text-sm",children:[w.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Error details"}),w.jsxs("div",{className:"mt-2 space-y-2",children:[w.jsxs("div",{children:[w.jsx("strong",{className:"text-foreground",children:"Message:"}),w.jsx("p",{className:"text-muted-foreground mt-1",children:(n=this.state.error)==null?void 0:n.message})]}),((r=this.state.error)==null?void 0:r.stack)&&w.jsxs("div",{children:[w.jsx("strong",{className:"text-foreground",children:"Stack trace:"}),w.jsx("pre",{className:"text-xs text-muted-foreground mt-1 overflow-auto max-h-32",children:this.state.error.stack})]})]})]})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try again"}),w.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload page"})]})]})}):this.props.children}}var Rc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Va=typeof window>"u"||"Deno"in globalThis;function Gr(){}function xR(e,t){return typeof e=="function"?e(t):e}function My(e){return typeof e=="number"&&e>=0&&e!==1/0}function L2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tc(e,t){return typeof e=="function"?e(t):e}function pi(e,t){return typeof e=="function"?e(t):e}function Tx(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:c,stale:u}=e;if(c){if(r){if(t.queryHash!==Kv(c,t.options))return!1}else if(!td(t.queryKey,c))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||a&&!a(t))}function Nx(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(qa(t.options.mutationKey)!==qa(a))return!1}else if(!td(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Kv(e,t){return((t==null?void 0:t.queryKeyHashFn)||qa)(e)}function qa(e){return JSON.stringify(e,(t,n)=>jy(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function td(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>td(e[n],t[n])):!1}function O2(e,t){if(e===t)return e;const n=Ax(e)&&Ax(t);if(n||jy(e)&&jy(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),c=a.length,u=n?[]:{};let d=0;for(let p=0;p<c;p++){const g=n?p:a[p];(!n&&r.includes(g)||n)&&e[g]===void 0&&t[g]===void 0?(u[g]=void 0,d++):(u[g]=O2(e[g],t[g]),u[g]===e[g]&&e[g]!==void 0&&d++)}return i===c&&d===i?e:u}return t}function Lh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Ax(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function jy(e){if(!Rx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Rx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Rx(e){return Object.prototype.toString.call(e)==="[object Object]"}function bR(e){return new Promise(t=>{setTimeout(t,e)})}function zy(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?O2(e,t):t}function ER(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function kR(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Gv=Symbol();function M2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Gv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ma,As,lc,_2,SR=(_2=class extends Rc{constructor(){super();et(this,Ma);et(this,As);et(this,lc);We(this,lc,t=>{if(!Va&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,As)||this.setEventListener(ue(this,lc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,As))==null||t.call(this),We(this,As,void 0))}setEventListener(t){var n;We(this,lc,t),(n=ue(this,As))==null||n.call(this),We(this,As,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ue(this,Ma)!==t&&(We(this,Ma,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ue(this,Ma)=="boolean"?ue(this,Ma):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ma=new WeakMap,As=new WeakMap,lc=new WeakMap,_2),Yv=new SR,cc,Rs,uc,x2,CR=(x2=class extends Rc{constructor(){super();et(this,cc,!0);et(this,Rs);et(this,uc);We(this,uc,t=>{if(!Va&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ue(this,Rs)||this.setEventListener(ue(this,uc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Rs))==null||t.call(this),We(this,Rs,void 0))}setEventListener(t){var n;We(this,uc,t),(n=ue(this,Rs))==null||n.call(this),We(this,Rs,t(this.setOnline.bind(this)))}setOnline(t){ue(this,cc)!==t&&(We(this,cc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ue(this,cc)}},cc=new WeakMap,Rs=new WeakMap,uc=new WeakMap,x2),Oh=new CR;function Dy(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function PR(e){return Math.min(1e3*2**e,3e4)}function j2(e){return(e??"online")==="online"?Oh.isOnline():!0}var z2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Pg(e){return e instanceof z2}function D2(e){let t=!1,n=0,r=!1,i;const a=Dy(),c=v=>{var E;r||(b(new z2(v)),(E=e.abort)==null||E.call(e))},u=()=>{t=!0},d=()=>{t=!1},p=()=>Yv.isFocused()&&(e.networkMode==="always"||Oh.isOnline())&&e.canRun(),g=()=>j2(e.networkMode)&&e.canRun(),m=v=>{var E;r||(r=!0,(E=e.onSuccess)==null||E.call(e,v),i==null||i(),a.resolve(v))},b=v=>{var E;r||(r=!0,(E=e.onError)==null||E.call(e,v),i==null||i(),a.reject(v))},x=()=>new Promise(v=>{var E;i=S=>{(r||p())&&v(S)},(E=e.onPause)==null||E.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),k=()=>{if(r)return;let v;const E=n===0?e.initialPromise:void 0;try{v=E??e.fn()}catch(S){v=Promise.reject(S)}Promise.resolve(v).then(m).catch(S=>{var Z;if(r)return;const T=e.retry??(Va?0:3),R=e.retryDelay??PR,z=typeof R=="function"?R(n,S):R,D=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,S);if(t||!D){b(S);return}n++,(Z=e.onFail)==null||Z.call(e,n,S),bR(z).then(()=>p()?void 0:x()).then(()=>{t?b(S):k()})})};return{promise:a,cancel:c,continue:()=>(i==null||i(),a),cancelRetry:u,continueRetry:d,canStart:g,start:()=>(g()?k():x().then(k),a)}}var TR=e=>setTimeout(e,0);function NR(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=TR;const a=u=>{t?e.push(u):i(()=>{n(u)})},c=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||c()}return d},batchCalls:u=>(...d)=>{a(()=>{u(...d)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var wn=NR(),ja,b2,B2=(b2=class{constructor(){et(this,ja)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),My(this.gcTime)&&We(this,ja,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Va?1/0:5*60*1e3))}clearGcTimeout(){ue(this,ja)&&(clearTimeout(ue(this,ja)),We(this,ja,void 0))}},ja=new WeakMap,b2),dc,fc,Kr,za,zn,vd,Da,fi,go,E2,AR=(E2=class extends B2{constructor(t){super();et(this,fi);et(this,dc);et(this,fc);et(this,Kr);et(this,za);et(this,zn);et(this,vd);et(this,Da);We(this,Da,!1),We(this,vd,t.defaultOptions),this.setOptions(t.options),this.observers=[],We(this,za,t.client),We(this,Kr,ue(this,za).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,We(this,dc,RR(this.options)),this.state=t.state??ue(this,dc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,zn))==null?void 0:t.promise}setOptions(t){this.options={...ue(this,vd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,Kr).remove(this)}setData(t,n){const r=zy(this.state.data,t,this.options);return pt(this,fi,go).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){pt(this,fi,go).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ue(this,zn))==null?void 0:r.promise;return(i=ue(this,zn))==null||i.cancel(t),n?n.then(Gr).catch(Gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,dc))}isActive(){return this.observers.some(t=>pi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!L2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,zn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,zn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,Kr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ue(this,zn)&&(ue(this,Da)?ue(this,zn).cancel({revert:!0}):ue(this,zn).cancelRetry()),this.scheduleGc()),ue(this,Kr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,fi,go).call(this,{type:"invalidate"})}fetch(t,n){var d,p,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,zn))return ue(this,zn).continueRetry(),ue(this,zn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(b=>b.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(We(this,Da,!0),r.signal)})},a=()=>{const m=M2(this.options,n),b={client:ue(this,za),queryKey:this.queryKey,meta:this.meta};return i(b),We(this,Da,!1),this.options.persister?this.options.persister(m,b,this):m(b)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,za),state:this.state,fetchFn:a};i(c),(d=this.options.behavior)==null||d.onFetch(c,this),We(this,fc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&pt(this,fi,go).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta});const u=m=>{var b,x,k,v;Pg(m)&&m.silent||pt(this,fi,go).call(this,{type:"error",error:m}),Pg(m)||((x=(b=ue(this,Kr).config).onError)==null||x.call(b,m,this),(v=(k=ue(this,Kr).config).onSettled)==null||v.call(k,this.state.data,m,this)),this.scheduleGc()};return We(this,zn,D2({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var b,x,k,v;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(E){u(E);return}(x=(b=ue(this,Kr).config).onSuccess)==null||x.call(b,m,this),(v=(k=ue(this,Kr).config).onSettled)==null||v.call(k,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,b)=>{pt(this,fi,go).call(this,{type:"failed",failureCount:m,error:b})},onPause:()=>{pt(this,fi,go).call(this,{type:"pause"})},onContinue:()=>{pt(this,fi,go).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),ue(this,zn).start()}},dc=new WeakMap,fc=new WeakMap,Kr=new WeakMap,za=new WeakMap,zn=new WeakMap,vd=new WeakMap,Da=new WeakMap,fi=new WeakSet,go=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...F2(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Pg(i)&&i.revert&&ue(this,fc)?{...ue(this,fc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),wn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ue(this,Kr).notify({query:this,type:"updated",action:t})})},E2);function F2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:j2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function RR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Di,k2,IR=(k2=class extends Rc{constructor(t={}){super();et(this,Di);this.config=t,We(this,Di,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??Kv(i,n);let c=this.get(a);return c||(c=new AR({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(c)),c}add(t){ue(this,Di).has(t.queryHash)||(ue(this,Di).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ue(this,Di).get(t.queryHash);n&&(t.destroy(),n===t&&ue(this,Di).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,Di).get(t)}getAll(){return[...ue(this,Di).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Tx(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Tx(t,r)):n}notify(t){wn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Di=new WeakMap,k2),Bi,Yn,Ba,Fi,Ts,S2,LR=(S2=class extends B2{constructor(t){super();et(this,Fi);et(this,Bi);et(this,Yn);et(this,Ba);this.mutationId=t.mutationId,We(this,Yn,t.mutationCache),We(this,Bi,[]),this.state=t.state||U2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,Bi).includes(t)||(ue(this,Bi).push(t),this.clearGcTimeout(),ue(this,Yn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){We(this,Bi,ue(this,Bi).filter(n=>n!==t)),this.scheduleGc(),ue(this,Yn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,Bi).length||(this.state.status==="pending"?this.scheduleGc():ue(this,Yn).remove(this))}continue(){var t;return((t=ue(this,Ba))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,c,u,d,p,g,m,b,x,k,v,E,S,T,R,z,D,Z,V,Y;const n=()=>{pt(this,Fi,Ts).call(this,{type:"continue"})};We(this,Ba,D2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(U,q)=>{pt(this,Fi,Ts).call(this,{type:"failed",failureCount:U,error:q})},onPause:()=>{pt(this,Fi,Ts).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,Yn).canRun(this)}));const r=this.state.status==="pending",i=!ue(this,Ba).canStart();try{if(r)n();else{pt(this,Fi,Ts).call(this,{type:"pending",variables:t,isPaused:i}),await((c=(a=ue(this,Yn).config).onMutate)==null?void 0:c.call(a,t,this));const q=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t));q!==this.state.context&&pt(this,Fi,Ts).call(this,{type:"pending",context:q,variables:t,isPaused:i})}const U=await ue(this,Ba).start();return await((g=(p=ue(this,Yn).config).onSuccess)==null?void 0:g.call(p,U,t,this.state.context,this)),await((b=(m=this.options).onSuccess)==null?void 0:b.call(m,U,t,this.state.context)),await((k=(x=ue(this,Yn).config).onSettled)==null?void 0:k.call(x,U,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,U,null,t,this.state.context)),pt(this,Fi,Ts).call(this,{type:"success",data:U}),U}catch(U){try{throw await((T=(S=ue(this,Yn).config).onError)==null?void 0:T.call(S,U,t,this.state.context,this)),await((z=(R=this.options).onError)==null?void 0:z.call(R,U,t,this.state.context)),await((Z=(D=ue(this,Yn).config).onSettled)==null?void 0:Z.call(D,void 0,U,this.state.variables,this.state.context,this)),await((Y=(V=this.options).onSettled)==null?void 0:Y.call(V,void 0,U,t,this.state.context)),U}finally{pt(this,Fi,Ts).call(this,{type:"error",error:U})}}finally{ue(this,Yn).runNext(this)}}},Bi=new WeakMap,Yn=new WeakMap,Ba=new WeakMap,Fi=new WeakSet,Ts=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wn.batch(()=>{ue(this,Bi).forEach(r=>{r.onMutationUpdate(t)}),ue(this,Yn).notify({mutation:this,type:"updated",action:t})})},S2);function U2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vo,hi,wd,C2,OR=(C2=class extends Rc{constructor(t={}){super();et(this,vo);et(this,hi);et(this,wd);this.config=t,We(this,vo,new Set),We(this,hi,new Map),We(this,wd,0)}build(t,n,r){const i=new LR({mutationCache:this,mutationId:++ih(this,wd)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ue(this,vo).add(t);const n=lh(t);if(typeof n=="string"){const r=ue(this,hi).get(n);r?r.push(t):ue(this,hi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,vo).delete(t)){const n=lh(t);if(typeof n=="string"){const r=ue(this,hi).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ue(this,hi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=lh(t);if(typeof n=="string"){const r=ue(this,hi).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=lh(t);if(typeof n=="string"){const i=(r=ue(this,hi).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){wn.batch(()=>{ue(this,vo).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,vo).clear(),ue(this,hi).clear()})}getAll(){return Array.from(ue(this,vo))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Nx(n,r))}findAll(t={}){return this.getAll().filter(n=>Nx(t,n))}notify(t){wn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return wn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Gr))))}},vo=new WeakMap,hi=new WeakMap,wd=new WeakMap,C2);function lh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ix(e){return{onFetch:(t,n)=>{var g,m,b,x,k;const r=t.options,i=(b=(m=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:b.direction,a=((x=t.state.data)==null?void 0:x.pages)||[],c=((k=t.state.data)==null?void 0:k.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const p=async()=>{let v=!1;const E=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},S=M2(t.options,t.fetchOptions),T=async(R,z,D)=>{if(v)return Promise.reject();if(z==null&&R.pages.length)return Promise.resolve(R);const Z={client:t.client,queryKey:t.queryKey,pageParam:z,direction:D?"backward":"forward",meta:t.options.meta};E(Z);const V=await S(Z),{maxPages:Y}=t.options,U=D?kR:ER;return{pages:U(R.pages,V,Y),pageParams:U(R.pageParams,z,Y)}};if(i&&a.length){const R=i==="backward",z=R?MR:Lx,D={pages:a,pageParams:c},Z=z(r,D);u=await T(D,Z,R)}else{const R=e??a.length;do{const z=d===0?c[0]??r.initialPageParam:Lx(r,u);if(d>0&&z==null)break;u=await T(u,z),d++}while(d<R)}return u};t.options.persister?t.fetchFn=()=>{var v,E;return(E=(v=t.options).persister)==null?void 0:E.call(v,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function Lx(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function MR(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var on,Is,Ls,hc,pc,Os,mc,gc,P2,jR=(P2=class{constructor(e={}){et(this,on);et(this,Is);et(this,Ls);et(this,hc);et(this,pc);et(this,Os);et(this,mc);et(this,gc);We(this,on,e.queryCache||new IR),We(this,Is,e.mutationCache||new OR),We(this,Ls,e.defaultOptions||{}),We(this,hc,new Map),We(this,pc,new Map),We(this,Os,0)}mount(){ih(this,Os)._++,ue(this,Os)===1&&(We(this,mc,Yv.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,on).onFocus())})),We(this,gc,Oh.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,on).onOnline())})))}unmount(){var e,t;ih(this,Os)._--,ue(this,Os)===0&&((e=ue(this,mc))==null||e.call(this),We(this,mc,void 0),(t=ue(this,gc))==null||t.call(this),We(this,gc,void 0))}isFetching(e){return ue(this,on).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,Is).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,on).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ue(this,on).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(tc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ue(this,on).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ue(this,on).get(r.queryHash),a=i==null?void 0:i.state.data,c=xR(t,a);if(c!==void 0)return ue(this,on).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return wn.batch(()=>ue(this,on).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,on).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ue(this,on);wn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ue(this,on);return wn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=wn.batch(()=>ue(this,on).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Gr).catch(Gr)}invalidateQueries(e,t={}){return wn.batch(()=>(ue(this,on).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=wn.batch(()=>ue(this,on).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Gr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Gr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ue(this,on).build(this,t);return n.isStaleByTime(tc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Gr).catch(Gr)}fetchInfiniteQuery(e){return e.behavior=Ix(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Gr).catch(Gr)}ensureInfiniteQueryData(e){return e.behavior=Ix(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Oh.isOnline()?ue(this,Is).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,on)}getMutationCache(){return ue(this,Is)}getDefaultOptions(){return ue(this,Ls)}setDefaultOptions(e){We(this,Ls,e)}setQueryDefaults(e,t){ue(this,hc).set(qa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,hc).values()],n={};return t.forEach(r=>{td(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ue(this,pc).set(qa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,pc).values()],n={};return t.forEach(r=>{td(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,Ls).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Kv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Gv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,Ls).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,on).clear(),ue(this,Is).clear()}},on=new WeakMap,Is=new WeakMap,Ls=new WeakMap,hc=new WeakMap,pc=new WeakMap,Os=new WeakMap,mc=new WeakMap,gc=new WeakMap,P2),ur,Ct,_d,Jn,Fa,yc,Ms,js,xd,vc,wc,Ua,$a,zs,_c,jt,Vu,By,Fy,Uy,$y,Zy,Hy,Wy,$2,T2,zR=(T2=class extends Rc{constructor(t,n){super();et(this,jt);et(this,ur);et(this,Ct);et(this,_d);et(this,Jn);et(this,Fa);et(this,yc);et(this,Ms);et(this,js);et(this,xd);et(this,vc);et(this,wc);et(this,Ua);et(this,$a);et(this,zs);et(this,_c,new Set);this.options=n,We(this,ur,t),We(this,js,null),We(this,Ms,Dy()),this.options.experimental_prefetchInRender||ue(this,Ms).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,Ct).addObserver(this),Ox(ue(this,Ct),this.options)?pt(this,jt,Vu).call(this):this.updateResult(),pt(this,jt,$y).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vy(ue(this,Ct),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vy(ue(this,Ct),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pt(this,jt,Zy).call(this),pt(this,jt,Hy).call(this),ue(this,Ct).removeObserver(this)}setOptions(t){const n=this.options,r=ue(this,Ct);if(this.options=ue(this,ur).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pi(this.options.enabled,ue(this,Ct))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pt(this,jt,Wy).call(this),ue(this,Ct).setOptions(this.options),n._defaulted&&!Lh(this.options,n)&&ue(this,ur).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,Ct),observer:this});const i=this.hasListeners();i&&Mx(ue(this,Ct),r,this.options,n)&&pt(this,jt,Vu).call(this),this.updateResult(),i&&(ue(this,Ct)!==r||pi(this.options.enabled,ue(this,Ct))!==pi(n.enabled,ue(this,Ct))||tc(this.options.staleTime,ue(this,Ct))!==tc(n.staleTime,ue(this,Ct)))&&pt(this,jt,By).call(this);const a=pt(this,jt,Fy).call(this);i&&(ue(this,Ct)!==r||pi(this.options.enabled,ue(this,Ct))!==pi(n.enabled,ue(this,Ct))||a!==ue(this,zs))&&pt(this,jt,Uy).call(this,a)}getOptimisticResult(t){const n=ue(this,ur).getQueryCache().build(ue(this,ur),t),r=this.createResult(n,t);return BR(this,r)&&(We(this,Jn,r),We(this,yc,this.options),We(this,Fa,ue(this,Ct).state)),r}getCurrentResult(){return ue(this,Jn)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(t){ue(this,_c).add(t)}getCurrentQuery(){return ue(this,Ct)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ue(this,ur).defaultQueryOptions(t),r=ue(this,ur).getQueryCache().build(ue(this,ur),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return pt(this,jt,Vu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,Jn)))}createResult(t,n){var U;const r=ue(this,Ct),i=this.options,a=ue(this,Jn),c=ue(this,Fa),u=ue(this,yc),p=t!==r?t.state:ue(this,_d),{state:g}=t;let m={...g},b=!1,x;if(n._optimisticResults){const q=this.hasListeners(),J=!q&&Ox(t,n),F=q&&Mx(t,r,n,i);(J||F)&&(m={...m,...F2(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:k,errorUpdatedAt:v,status:E}=m;x=m.data;let S=!1;if(n.placeholderData!==void 0&&x===void 0&&E==="pending"){let q;a!=null&&a.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(q=a.data,S=!0):q=typeof n.placeholderData=="function"?n.placeholderData((U=ue(this,wc))==null?void 0:U.state.data,ue(this,wc)):n.placeholderData,q!==void 0&&(E="success",x=zy(a==null?void 0:a.data,q,n),b=!0)}if(n.select&&x!==void 0&&!S)if(a&&x===(c==null?void 0:c.data)&&n.select===ue(this,xd))x=ue(this,vc);else try{We(this,xd,n.select),x=n.select(x),x=zy(a==null?void 0:a.data,x,n),We(this,vc,x),We(this,js,null)}catch(q){We(this,js,q)}ue(this,js)&&(k=ue(this,js),x=ue(this,vc),v=Date.now(),E="error");const T=m.fetchStatus==="fetching",R=E==="pending",z=E==="error",D=R&&T,Z=x!==void 0,Y={status:E,fetchStatus:m.fetchStatus,isPending:R,isSuccess:E==="success",isError:z,isInitialLoading:D,isLoading:D,data:x,dataUpdatedAt:m.dataUpdatedAt,error:k,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>p.dataUpdateCount||m.errorUpdateCount>p.errorUpdateCount,isFetching:T,isRefetching:T&&!R,isLoadingError:z&&!Z,isPaused:m.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:z&&Z,isStale:Jv(t,n),refetch:this.refetch,promise:ue(this,Ms)};if(this.options.experimental_prefetchInRender){const q=X=>{Y.status==="error"?X.reject(Y.error):Y.data!==void 0&&X.resolve(Y.data)},J=()=>{const X=We(this,Ms,Y.promise=Dy());q(X)},F=ue(this,Ms);switch(F.status){case"pending":t.queryHash===r.queryHash&&q(F);break;case"fulfilled":(Y.status==="error"||Y.data!==F.value)&&J();break;case"rejected":(Y.status!=="error"||Y.error!==F.reason)&&J();break}}return Y}updateResult(){const t=ue(this,Jn),n=this.createResult(ue(this,Ct),this.options);if(We(this,Fa,ue(this,Ct).state),We(this,yc,this.options),ue(this,Fa).data!==void 0&&We(this,wc,ue(this,Ct)),Lh(n,t))return;We(this,Jn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!ue(this,_c).size)return!0;const c=new Set(a??ue(this,_c));return this.options.throwOnError&&c.add("error"),Object.keys(ue(this,Jn)).some(u=>{const d=u;return ue(this,Jn)[d]!==t[d]&&c.has(d)})};pt(this,jt,$2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pt(this,jt,$y).call(this)}},ur=new WeakMap,Ct=new WeakMap,_d=new WeakMap,Jn=new WeakMap,Fa=new WeakMap,yc=new WeakMap,Ms=new WeakMap,js=new WeakMap,xd=new WeakMap,vc=new WeakMap,wc=new WeakMap,Ua=new WeakMap,$a=new WeakMap,zs=new WeakMap,_c=new WeakMap,jt=new WeakSet,Vu=function(t){pt(this,jt,Wy).call(this);let n=ue(this,Ct).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Gr)),n},By=function(){pt(this,jt,Zy).call(this);const t=tc(this.options.staleTime,ue(this,Ct));if(Va||ue(this,Jn).isStale||!My(t))return;const r=L2(ue(this,Jn).dataUpdatedAt,t)+1;We(this,Ua,setTimeout(()=>{ue(this,Jn).isStale||this.updateResult()},r))},Fy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,Ct)):this.options.refetchInterval)??!1},Uy=function(t){pt(this,jt,Hy).call(this),We(this,zs,t),!(Va||pi(this.options.enabled,ue(this,Ct))===!1||!My(ue(this,zs))||ue(this,zs)===0)&&We(this,$a,setInterval(()=>{(this.options.refetchIntervalInBackground||Yv.isFocused())&&pt(this,jt,Vu).call(this)},ue(this,zs)))},$y=function(){pt(this,jt,By).call(this),pt(this,jt,Uy).call(this,pt(this,jt,Fy).call(this))},Zy=function(){ue(this,Ua)&&(clearTimeout(ue(this,Ua)),We(this,Ua,void 0))},Hy=function(){ue(this,$a)&&(clearInterval(ue(this,$a)),We(this,$a,void 0))},Wy=function(){const t=ue(this,ur).getQueryCache().build(ue(this,ur),this.options);if(t===ue(this,Ct))return;const n=ue(this,Ct);We(this,Ct,t),We(this,_d,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},$2=function(t){wn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ue(this,Jn))}),ue(this,ur).getQueryCache().notify({query:ue(this,Ct),type:"observerResultsUpdated"})})},T2);function DR(e,t){return pi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ox(e,t){return DR(e,t)||e.state.data!==void 0&&Vy(e,t,t.refetchOnMount)}function Vy(e,t,n){if(pi(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Jv(e,t)}return!1}function Mx(e,t,n,r){return(e!==t||pi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Jv(e,n)}function Jv(e,t){return pi(t.enabled,e)!==!1&&e.isStaleByTime(tc(t.staleTime,e))}function BR(e,t){return!Lh(e.getCurrentResult(),t)}var Ds,Bs,dr,wo,No,Ch,qy,N2,FR=(N2=class extends Rc{constructor(n,r){super();et(this,No);et(this,Ds);et(this,Bs);et(this,dr);et(this,wo);We(this,Ds,n),this.setOptions(r),this.bindMethods(),pt(this,No,Ch).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ue(this,Ds).defaultMutationOptions(n),Lh(this.options,r)||ue(this,Ds).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,dr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&qa(r.mutationKey)!==qa(this.options.mutationKey)?this.reset():((i=ue(this,dr))==null?void 0:i.state.status)==="pending"&&ue(this,dr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,dr))==null||n.removeObserver(this)}onMutationUpdate(n){pt(this,No,Ch).call(this),pt(this,No,qy).call(this,n)}getCurrentResult(){return ue(this,Bs)}reset(){var n;(n=ue(this,dr))==null||n.removeObserver(this),We(this,dr,void 0),pt(this,No,Ch).call(this),pt(this,No,qy).call(this)}mutate(n,r){var i;return We(this,wo,r),(i=ue(this,dr))==null||i.removeObserver(this),We(this,dr,ue(this,Ds).getMutationCache().build(ue(this,Ds),this.options)),ue(this,dr).addObserver(this),ue(this,dr).execute(n)}},Ds=new WeakMap,Bs=new WeakMap,dr=new WeakMap,wo=new WeakMap,No=new WeakSet,Ch=function(){var r;const n=((r=ue(this,dr))==null?void 0:r.state)??U2();We(this,Bs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},qy=function(n){wn.batch(()=>{var r,i,a,c,u,d,p,g;if(ue(this,wo)&&this.hasListeners()){const m=ue(this,Bs).variables,b=ue(this,Bs).context;(n==null?void 0:n.type)==="success"?((i=(r=ue(this,wo)).onSuccess)==null||i.call(r,n.data,m,b),(c=(a=ue(this,wo)).onSettled)==null||c.call(a,n.data,null,m,b)):(n==null?void 0:n.type)==="error"&&((d=(u=ue(this,wo)).onError)==null||d.call(u,n.error,m,b),(g=(p=ue(this,wo)).onSettled)==null||g.call(p,void 0,n.error,m,b))}this.listeners.forEach(m=>{m(ue(this,Bs))})})},N2),Z2=A.createContext(void 0),Qv=e=>{const t=A.useContext(Z2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},UR=({client:e,children:t})=>(A.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),w.jsx(Z2.Provider,{value:e,children:t})),H2=A.createContext(!1),$R=()=>A.useContext(H2);H2.Provider;function ZR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var HR=A.createContext(ZR()),WR=()=>A.useContext(HR);function W2(e,t){return typeof e=="function"?e(...t):!!e}function Ky(){}var VR=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},qR=e=>{A.useEffect(()=>{e.clearReset()},[e])},KR=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||W2(n,[e.error,r])),GR=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},YR=(e,t)=>e.isLoading&&e.isFetching&&!t,JR=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,jx=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function QR(e,t,n){var m,b,x,k,v;const r=Qv(),i=$R(),a=WR(),c=r.defaultQueryOptions(e);(b=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||b.call(m,c),c._optimisticResults=i?"isRestoring":"optimistic",GR(c),VR(c,a),qR(a);const u=!r.getQueryCache().get(c.queryHash),[d]=A.useState(()=>new t(r,c)),p=d.getOptimisticResult(c),g=!i&&e.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(E=>{const S=g?d.subscribe(wn.batchCalls(E)):Ky;return d.updateResult(),S},[d,g]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),A.useEffect(()=>{d.setOptions(c)},[c,d]),JR(c,p))throw jx(c,d,a);if(KR({result:p,errorResetBoundary:a,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if((k=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||k.call(x,c,p),c.experimental_prefetchInRender&&!Va&&YR(p,i)){const E=u?jx(c,d,a):(v=r.getQueryCache().get(c.queryHash))==null?void 0:v.promise;E==null||E.catch(Ky).finally(()=>{d.updateResult()})}return c.notifyOnChangeProps?p:d.trackResult(p)}function Eo(e,t){return QR(e,zR)}function Xv(e,t){const n=Qv(),[r]=A.useState(()=>new FR(n,e));A.useEffect(()=>{r.setOptions(e)},[r,e]);const i=A.useSyncExternalStore(A.useCallback(c=>r.subscribe(wn.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=A.useCallback((c,u)=>{r.mutate(c,u).catch(Ky)},[r]);if(i.error&&W2(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function Gy(e,t={},n){for(const r in e){const i=e[r],a=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Gy(i,t,a):typeof i=="function"&&(t[a]=i)}return t}const XR={run:e=>e()},e3=()=>XR,V2=typeof console.createTask<"u"?console.createTask:e3;function t3(e,t){const n=t.shift(),r=V2(n);return e.reduce((i,a)=>i.then(()=>r.run(()=>a(...t))),Promise.resolve())}function n3(e,t){const n=t.shift(),r=V2(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function Tg(e,t){for(const n of[...e])n(t)}class r3{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let a;for(;this._deprecatedHooks[t];)a=this._deprecatedHooks[t],t=a.to;if(a&&!r.allowDeprecated){let c=a.message;c||(c=`${i} hook has been deprecated`+(a.to?`, please use ${a.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(c)||(console.warn(c),this._deprecatedMessages.add(c))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...a)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...a));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Gy(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=Gy(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(t3,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(n3,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Tg(this._before,i);const a=t(n in this._hooks?[...this._hooks[n]]:[],r);return a instanceof Promise?a.finally(()=>{this._after&&i&&Tg(this._after,i)}):(this._after&&i&&Tg(this._after,i),a)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function i3(){return new r3}const o3=new Set(["link","style","script","noscript"]),s3=new Set(["title","titleTemplate","script","style","noscript"]),zx=new Set(["base","meta","link","style","script","noscript"]),a3=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),l3=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),c3=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),u3=new Set(["templateParams","htmlAttrs","bodyAttrs"]),e0=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),d3=["name","property","http-equiv"];function q2(e){const t=e.split(":");return t.length?e0.has(t[1]):!1}function Yy(e){const{props:t,tag:n}=e;if(l3.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of d3)if(t[r]!==void 0)return`${n}:${t[r]}`}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(s3.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function Dx(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,i])=>`${r}:${String(i)}`).join(",")}`}function Jy(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let i;if(t&&(i=t(n,e)),Array.isArray(i))return i.map(a=>Jy(a,t));if((i==null?void 0:i.constructor)===Object){const a={};for(const c of Object.keys(i))a[c]=Jy(i[c],t,c);return a}return i}function f3(e,t){const n=e==="style"?new Map:new Set;function r(i){const a=i.trim();if(a)if(e==="style"){const[c,...u]=a.split(":").map(d=>d.trim());c&&u.length&&n.set(c,u.join(":"))}else a.split(" ").filter(Boolean).forEach(c=>n.add(c))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(i=>r(i)):t&&typeof t=="object"&&Object.entries(t).forEach(([i,a])=>{a&&a!=="false"&&(e==="style"?n.set(i.trim(),a):r(i))}),n}function K2(e,t){return e.props=e.props||{},t&&Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=f3(n,r);return}if(c3.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let c=t.type;if(t.type||(c="application/json"),!(c!=null&&c.endsWith("json"))&&c!=="speculationrules")return;t.type=c,e.props.type=c,e[n]=JSON.stringify(r)}else e[n]=r;return}const i=String(r),a=n.startsWith("data-");i==="true"||i===""?e.props[n]=a?i:!0:!r&&a&&i==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e}function h3(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=K2({tag:e,props:{}},n);return r.key&&o3.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(i=>({...r,props:{...r.props,content:i}})):r}function p3(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(i,a)=>{for(let c=0;c<t.length;c++)a=t[c](i,a);return a};e=n(void 0,e);const r=[];return e=Jy(e,n),Object.entries(e||{}).forEach(([i,a])=>{if(a!==void 0)for(const c of Array.isArray(a)?a:[a])r.push(h3(i,c))}),r.flat()}const Bx=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,Fx={base:-10,title:10},m3={critical:-8,high:-1,low:2},Ux={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},g3=/@import/,Du=e=>e===""||e===!0;function y3(e,t){var a;if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=m3[t.tagPriority]||0,i=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Ux;if(t.tag in Fx)n=Fx[t.tag];else if(t.tag==="meta"){const c=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;c&&(n=Ux.meta[c])}else t.tag==="link"&&t.props.rel?n=i.link[t.props.rel]:t.tag==="script"?Du(t.props.async)?n=i.script.async:t.props.src&&!Du(t.props.defer)&&!Du(t.props.async)&&t.props.type!=="module"&&!((a=t.props.type)!=null&&a.endsWith("json"))?n=i.script.sync:Du(t.props.defer)&&t.props.src&&!Du(t.props.async)&&(n=i.script.defer):t.tag==="style"&&(n=t.innerHTML&&g3.test(t.innerHTML)?i.style.imported:i.style.sync);return(n||100)+r}function $x(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function v3(e={}){var u;const t=i3();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,i=new Map,a=[],c={_entryCount:1,plugins:i,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:d=>$x(c,d),push(d,p){const g={...p||{}};delete g.head;const m=g._index??c._entryCount++,b={_i:m,input:d,options:g},x={_poll(k=!1){c.dirty=!0,!k&&a.push(m),t.callHook("entries:updated",c)},dispose(){r.delete(m)&&x._poll(!0)},patch(k){(!g.mode||g.mode==="server"&&n||g.mode==="client"&&!n)&&(b.input=k,r.set(m,b),x._poll())}};return x.patch(d),x},async resolveTags(){var x;const d={tagMap:new Map,tags:[],entries:[...c.entries.values()]};for(await t.callHook("entries:resolve",d);a.length;){const k=a.shift(),v=r.get(k);if(v){const E={tags:p3(v.input,e.propResolvers||[]).map(S=>Object.assign(S,v.options)),entry:v};await t.callHook("entries:normalize",E),v._tags=E.tags.map((S,T)=>(S._w=y3(c,S),S._p=(v._i<<10)+T,S._d=Yy(S),S))}}let p=!1;d.entries.flatMap(k=>(k._tags||[]).map(v=>({...v,props:{...v.props}}))).sort(Bx).reduce((k,v)=>{const E=String(v._d||v._p);if(!k.has(E))return k.set(E,v);const S=k.get(E);if(((v==null?void 0:v.tagDuplicateStrategy)||(u3.has(v.tag)?"merge":null)||(v.key&&v.key===S.key?"merge":null))==="merge"){const R={...S.props};Object.entries(v.props).forEach(([z,D])=>R[z]=z==="style"?new Map([...S.props.style||new Map,...D]):z==="class"?new Set([...S.props.class||new Set,...D]):D),k.set(E,{...v,props:R})}else v._p>>10===S._p>>10&&v.tag==="meta"&&q2(E)?(k.set(E,Object.assign([...Array.isArray(S)?S:[S],v],v)),p=!0):(v._w===S._w?v._p>S._p:(v==null?void 0:v._w)<(S==null?void 0:S._w))&&k.set(E,v);return k},d.tagMap);const g=d.tagMap.get("title"),m=d.tagMap.get("titleTemplate");if(c._title=g==null?void 0:g.textContent,m){const k=m==null?void 0:m.textContent;if(c._titleTemplate=k,k){let v=typeof k=="function"?k(g==null?void 0:g.textContent):k;typeof v=="string"&&!c.plugins.has("template-params")&&(v=v.replace("%s",(g==null?void 0:g.textContent)||"")),g?v===null?d.tagMap.delete("title"):d.tagMap.set("title",{...g,textContent:v}):(m.tag="title",m.textContent=v)}}d.tags=Array.from(d.tagMap.values()),p&&(d.tags=d.tags.flat().sort(Bx)),await t.callHook("tags:beforeResolve",d),await t.callHook("tags:resolve",d),await t.callHook("tags:afterResolve",d);const b=[];for(const k of d.tags){const{innerHTML:v,tag:E,props:S}=k;if(a3.has(E)&&!(Object.keys(S).length===0&&!k.innerHTML&&!k.textContent)&&!(E==="meta"&&!S.content&&!S["http-equiv"]&&!S.charset)){if(E==="script"&&v){if((x=S.type)!=null&&x.endsWith("json")){const T=typeof v=="string"?v:JSON.stringify(v);k.innerHTML=T.replace(/</g,"\\u003C")}else typeof v=="string"&&(k.innerHTML=v.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));k._d=Yy(k)}b.push(k)}}return b}};return((e==null?void 0:e.plugins)||[]).forEach(d=>$x(c,d)),c.hooks.callHook("init",c),(u=e.init)==null||u.forEach(d=>d&&c.push(d)),c}async function G2(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async i=>{var x;const a=new Map,c=new Promise(k=>{e.resolveTags().then(v=>{k(v.map(E=>{const S=a.get(E._d)||0,T={tag:E,id:(S?`${E._d}:${S}`:E._d)||Dx(E),shouldRender:!0};return E._d&&q2(E._d)&&a.set(E._d,S+1),T}))})});let u=e._dom;if(!u){u={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const k of["body","head"]){const v=(x=n[k])==null?void 0:x.children;for(const E of v){const S=E.tagName.toLowerCase();if(!zx.has(S))continue;const T=K2({tag:S,props:{}},{innerHTML:E.innerHTML,...E.getAttributeNames().reduce((R,z)=>(R[z]=E.getAttribute(z),R),{})||{}});if(T.key=E.getAttribute("data-hid")||void 0,T._d=Yy(T)||Dx(T),u.elMap.has(T._d)){let R=1,z=T._d;for(;u.elMap.has(z);)z=`${T._d}:${R++}`;u.elMap.set(z,E)}else u.elMap.set(T._d,E)}}}u.pendingSideEffects={...u.sideEffects},u.sideEffects={};function d(k,v,E){const S=`${k}:${v}`;u.sideEffects[S]=E,delete u.pendingSideEffects[S]}function p({id:k,$el:v,tag:E}){const S=E.tag.endsWith("Attrs");u.elMap.set(k,v),S||(E.textContent&&E.textContent!==v.textContent&&(v.textContent=E.textContent),E.innerHTML&&E.innerHTML!==v.innerHTML&&(v.innerHTML=E.innerHTML),d(k,"el",()=>{v==null||v.remove(),u.elMap.delete(k)}));for(const T in E.props){if(!Object.prototype.hasOwnProperty.call(E.props,T))continue;const R=E.props[T];if(T.startsWith("on")&&typeof R=="function"){const D=v==null?void 0:v.dataset;if(D&&D[`${T}fired`]){const Z=T.slice(0,-5);R.call(v,new Event(Z.substring(2)))}v.getAttribute(`data-${T}`)!==""&&((E.tag==="bodyAttrs"?n.defaultView:v).addEventListener(T.substring(2),R.bind(v)),v.setAttribute(`data-${T}`,""));continue}const z=`attr:${T}`;if(T==="class"){if(!R)continue;for(const D of R)S&&d(k,`${z}:${D}`,()=>v.classList.remove(D)),!v.classList.contains(D)&&v.classList.add(D)}else if(T==="style"){if(!R)continue;for(const[D,Z]of R)d(k,`${z}:${D}`,()=>{v.style.removeProperty(D)}),v.style.setProperty(D,Z)}else R!==!1&&R!==null&&(v.getAttribute(T)!==R&&v.setAttribute(T,R===!0?"":String(R)),S&&d(k,z,()=>v.removeAttribute(T)))}}const g=[],m={bodyClose:void 0,bodyOpen:void 0,head:void 0},b=await c;for(const k of b){const{tag:v,shouldRender:E,id:S}=k;if(E){if(v.tag==="title"){n.title=v.textContent,d("title","",()=>n.title=u.title);continue}k.$el=k.$el||u.elMap.get(S),k.$el?p(k):zx.has(v.tag)&&g.push(k)}}for(const k of g){const v=k.tag.tagPosition||"head";k.$el=n.createElement(k.tag.tag),p(k),m[v]=m[v]||n.createDocumentFragment(),m[v].appendChild(k.$el)}for(const k of b)await e.hooks.callHook("dom:renderTag",k,n,d);m.head&&n.head.appendChild(m.head),m.bodyOpen&&n.body.insertBefore(m.bodyOpen,n.body.firstChild),m.bodyClose&&n.body.appendChild(m.bodyClose);for(const k in u.pendingSideEffects)u.pendingSideEffects[k]();e._dom=u,await e.hooks.callHook("dom:rendered",{renders:b}),i()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function w3(e={}){var r,i,a;const t=((r=e.domOptions)==null?void 0:r.render)||G2;e.document=e.document||(typeof window<"u"?document:void 0);const n=((a=(i=e.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:a.innerHTML)||!1;return v3({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function _3(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}const Y2=A.createContext(null);function J2(e={}){const t=w3({domOptions:{render:_3(()=>G2(t),n=>setTimeout(n,0))},...e});return t}function x3({children:e,head:t}){return A.createElement(Y2.Provider,{value:t||J2()},e)}const nd={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},b3={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},Q2={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>`${ko(e)}=${t}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:e,value:t})=>e==="seconds"?`${t}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>typeof t=="boolean"?ko(e):`${ko(e)}:${t}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:e,value:t})=>`${ko(e)} ${t}`}},charset:{}};function ko(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t.indexOf("-");return n===-1?t:nd.META.has(t.slice(0,n))||nd.OG.has(t.slice(0,n))?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function X2(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>String(n)!=="false"&&t))}function Qy(e){return Array.isArray(e)?e.map(Qy):!e||typeof e!="object"?e:Object.fromEntries(Object.entries(e).map(([t,n])=>[ko(t),Qy(n)]))}function eE(e,t={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:i,resolve:a}=t;return Object.entries(e).map(([c,u])=>{if(a){const p=a({key:c,value:u});if(p!==void 0)return p}const d=typeof u=="object"?eE(u,t):typeof u=="number"?u.toString():typeof u=="string"&&i?`${i}${u.replace(new RegExp(i,"g"),`\\${i}`)}${i}`:u;return`${c}${r}${d}`}).join(n)}function Zx(e,t){const n=X2(t),r=ko(e),i=tE(r);if(!e0.has(r))return[{[i]:r,...n}];const a=Object.fromEntries(Object.entries(n).map(([c,u])=>[`${e}${c==="url"?"":`${c[0].toUpperCase()}${c.slice(1)}`}`,u]));return Mh(a||{}).sort((c,u)=>{var d,p;return(((d=c[i])==null?void 0:d.length)||0)-(((p=u[i])==null?void 0:p.length)||0)})}function tE(e){var r;if(((r=Q2[e])==null?void 0:r.metaKey)==="http-equiv"||nd.HTTP_EQUIV.has(e))return"http-equiv";const t=ko(e),n=t.indexOf(":");return n===-1?"name":nd.OG.has(t.slice(0,n))?"property":"name"}function E3(e){return b3[e]||ko(e)}function k3(e,t){var n;return t==="refresh"?`${e.seconds};url=${e.url}`:eE(Qy(e),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:i})=>r===null?"":typeof r=="boolean"?i:void 0,...(n=Q2[t])==null?void 0:n.unpack})}function Mh(e){const t=[],n={};for(const[i,a]of Object.entries(e)){if(Array.isArray(a)){if(i==="themeColor"){a.forEach(c=>{typeof c=="object"&&c!==null&&t.push({name:"theme-color",...c})});continue}for(const c of a)if(typeof c=="object"&&c!==null){const u=[],d=[];for(const[p,g]of Object.entries(c)){const m=`${i}${p==="url"?"":`:${p}`}`,b=Mh({[m]:g});(p==="url"?u:d).push(...b)}t.push(...u,...d)}else t.push(...typeof c=="string"?Mh({[i]:c}):Zx(i,c));continue}if(typeof a=="object"&&a)if(nd.MEDIA.has(i)){const c=i.startsWith("twitter")?"twitter":"og",u=i.replace(/^(og|twitter)/,"").toLowerCase(),d=c==="twitter"?"name":"property";a.url&&t.push({[d]:`${c}:${u}`,content:a.url}),a.secureUrl&&t.push({[d]:`${c}:${u}:secure_url`,content:a.secureUrl});for(const[p,g]of Object.entries(a))p!=="url"&&p!=="secureUrl"&&t.push({[d]:`${c}:${u}:${p}`,content:g})}else e0.has(ko(i))?t.push(...Zx(i,a)):n[i]=X2(a);else n[i]=a}const r=Object.entries(n).map(([i,a])=>{if(i==="charset")return{charset:a===null?"_null":a};const c=tE(i),u=E3(i),d=a===null?"_null":typeof a=="object"?k3(a,i):typeof a=="number"?a.toString():a;return c==="http-equiv"?{"http-equiv":u,content:d}:{[c]:u,content:d}});return[...t,...r].map(i=>"content"in i&&i.content==="_null"?{...i,content:null}:i)}const S3={key:"flatMeta",hooks:{"entries:normalize":e=>{const t=[];e.tags=e.tags.map(n=>n.tag!=="_flatMeta"?n:(t.push(Mh(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...t)}}};function C3(e={}){return t=>(t.push({meta:[{name:"twitter:card",content:e.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:n})=>{var u,d;let r=t._titleTemplate||t._title;const i=n.get("meta:og:title");typeof(i==null?void 0:i.props["data-infer"])<"u"&&(typeof r=="function"&&(r=r(t._title)),i.props.content=e.ogTitle?e.ogTitle(r):r||"",i.processTemplateParams=!0);const a=(d=(u=n.get("meta:description"))==null?void 0:u.props)==null?void 0:d.content,c=n.get("meta:og:description");typeof(c==null?void 0:c.props["data-infer"])<"u"&&(c.props.content=e.ogDescription?e.ogDescription(a):a||"",c.processTemplateParams=!0)}}})}class Ju{constructor(t){$e(this,"pubkey");$e(this,"relays");$e(this,"secret");const n=new URL(t),r=new URLSearchParams(n.search),i=n.hostname||n.pathname.slice(2),a=r.getAll("relay"),c=r.get("secret")??void 0;if(!i)throw new Error("Invalid bunker URI");this.pubkey=i,this.relays=a,this.secret=c}get href(){return this.toString()}toString(){return Ju.toString(this)}static fromJSON(t){const n=Ju.toString(t);return new Ju(n)}static toString(t){const n=new URLSearchParams;for(const r of t.relays)n.append("relay",r);return t.secret&&n.set("secret",t.secret),`bunker://${t.pubkey}?${n.toString()}`}}class P3{get nostr(){const t=globalThis.nostr;if(!t)throw new Error("Browser extension not available");return t}async getPublicKey(){const t=await this.nostr.getPublicKey();if(typeof t!="string")throw new Error(`Nostr public key retrieval failed: expected string, got ${JSON.stringify(t)}`);return t}async signEvent(t){const n=await this.nostr.signEvent(t);if(typeof n!="object"||!n.id||!n.pubkey||!n.sig)throw new Error(`Nostr event signing failed: expected object with id, pubkey, and sig, got ${JSON.stringify(n)}`);return n}async getRelays(){if(!this.nostr.getRelays)return{};const t=await this.nostr.getRelays();if(typeof t!="object"||t===null)throw new Error(`Nostr getRelays failed: expected object, got ${JSON.stringify(t)}`);return this.nostr.getRelays()}get nip04(){const t=this.nostr;if(t.nip04)return{encrypt:async(n,r)=>{const i=await t.nip04.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip04.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}get nip44(){const t=this.nostr;if(t.nip44)return{encrypt:async(n,r)=>{const i=await t.nip44.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip44.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}}function Hx(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function nE(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function T3(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Hx(e.outputLen),Hx(e.blockLen)}function jh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function N3(e,t){nE(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ng=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rE=e=>e instanceof Uint8Array,Ag=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ri=(e,t)=>e<<32-t|e>>>t,A3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!A3)throw new Error("Non little-endian hardware is not supported");function R3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function t0(e){if(typeof e=="string"&&(e=R3(e)),!rE(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function I3(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!rE(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let iE=class{clone(){return this._cloneInto()}};function L3(e){const t=r=>e().update(t0(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function oE(e=32){if(Ng&&typeof Ng.getRandomValues=="function")return Ng.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function O3(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),a=BigInt(4294967295),c=Number(n>>i&a),u=Number(n&a),d=r?4:0,p=r?0:4;e.setUint32(t+d,c,r),e.setUint32(t+p,u,r)}let M3=class extends iE{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ag(this.buffer)}update(t){jh(this);const{view:n,buffer:r,blockLen:i}=this;t=t0(t);const a=t.length;for(let c=0;c<a;){const u=Math.min(i-this.pos,a-c);if(u===i){const d=Ag(t);for(;i<=a-c;c+=i)this.process(d,c);continue}r.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){jh(this),N3(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let m=c;m<i;m++)n[m]=0;O3(r,i-8,BigInt(this.length*8),a),this.process(r,0);const u=Ag(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)u.setUint32(4*m,g[m],a)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:a,destroyed:c,pos:u}=this;return t.length=i,t.pos=u,t.finished=a,t.destroyed=c,i%n&&t.buffer.set(r),t}};const j3=(e,t,n)=>e&t^~e&n,z3=(e,t,n)=>e&t^e&n^t&n,D3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ws=new Uint32Array(64);let B3=class extends M3{constructor(){super(64,32,8,!1),this.A=vs[0]|0,this.B=vs[1]|0,this.C=vs[2]|0,this.D=vs[3]|0,this.E=vs[4]|0,this.F=vs[5]|0,this.G=vs[6]|0,this.H=vs[7]|0}get(){const{A:t,B:n,C:r,D:i,E:a,F:c,G:u,H:d}=this;return[t,n,r,i,a,c,u,d]}set(t,n,r,i,a,c,u,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=d|0}process(t,n){for(let m=0;m<16;m++,n+=4)ws[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const b=ws[m-15],x=ws[m-2],k=Ri(b,7)^Ri(b,18)^b>>>3,v=Ri(x,17)^Ri(x,19)^x>>>10;ws[m]=v+ws[m-7]+k+ws[m-16]|0}let{A:r,B:i,C:a,D:c,E:u,F:d,G:p,H:g}=this;for(let m=0;m<64;m++){const b=Ri(u,6)^Ri(u,11)^Ri(u,25),x=g+b+j3(u,d,p)+D3[m]+ws[m]|0,v=(Ri(r,2)^Ri(r,13)^Ri(r,22))+z3(r,i,a)|0;g=p,p=d,d=u,u=c+x|0,c=a,a=i,i=r,r=x+v|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,i,a,c,u,d,p,g)}roundClean(){ws.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Xy=L3(()=>new B3);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sE=BigInt(0),ap=BigInt(1),F3=BigInt(2),lp=e=>e instanceof Uint8Array,U3=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ec(e){if(!lp(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=U3[e[n]];return t}function aE(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function n0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function kc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,a=e.slice(i,i+2),c=Number.parseInt(a,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}function hr(e){return n0(Ec(e))}function r0(e){if(!lp(e))throw new Error("Uint8Array expected");return n0(Ec(Uint8Array.from(e).reverse()))}function qs(e,t){return kc(e.toString(16).padStart(t*2,"0"))}function i0(e,t){return qs(e,t).reverse()}function $3(e){return kc(aE(e))}function Dn(e,t,n){let r;if(typeof t=="string")try{r=kc(t)}catch(a){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${a}`)}else if(lp(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function Ka(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!lp(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function Z3(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function H3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function W3(e){let t;for(t=0;e>sE;e>>=ap,t+=1);return t}function V3(e,t){return e>>BigInt(t)&ap}const q3=(e,t,n)=>e|(n?ap:sE)<<BigInt(t),o0=e=>(F3<<BigInt(e-1))-ap,Rg=e=>new Uint8Array(e),Wx=e=>Uint8Array.from(e);function lE(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Rg(e),i=Rg(e),a=0;const c=()=>{r.fill(1),i.fill(0),a=0},u=(...m)=>n(i,r,...m),d=(m=Rg())=>{i=u(Wx([0]),m),r=u(),m.length!==0&&(i=u(Wx([1]),m),r=u())},p=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const b=[];for(;m<t;){r=u();const x=r.slice();b.push(x),m+=r.length}return Ka(...b)};return(m,b)=>{c(),d(m);let x;for(;!(x=b(p()));)d();return c(),x}}const K3={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Sd(e,t,n={}){const r=(i,a,c)=>{const u=K3[a];if(typeof u!="function")throw new Error(`Invalid validator "${a}", expected function`);const d=e[i];if(!(c&&d===void 0)&&!u(d,e))throw new Error(`Invalid param ${String(i)}=${d} (${typeof d}), expected ${a}`)};for(const[i,a]of Object.entries(t))r(i,a,!1);for(const[i,a]of Object.entries(n))r(i,a,!0);return e}const G3=Object.freeze(Object.defineProperty({__proto__:null,bitGet:V3,bitLen:W3,bitMask:o0,bitSet:q3,bytesToHex:Ec,bytesToNumberBE:hr,bytesToNumberLE:r0,concatBytes:Ka,createHmacDrbg:lE,ensureBytes:Dn,equalBytes:Z3,hexToBytes:kc,hexToNumber:n0,numberToBytesBE:qs,numberToBytesLE:i0,numberToHexUnpadded:aE,numberToVarBytesBE:$3,utf8ToBytes:H3,validateObject:Sd},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kn=BigInt(0),un=BigInt(1),Ia=BigInt(2),Y3=BigInt(3),ev=BigInt(4),Vx=BigInt(5),qx=BigInt(8);BigInt(9);BigInt(16);function Pn(e,t){const n=e%t;return n>=kn?n:t+n}function J3(e,t,n){if(n<=kn||t<kn)throw new Error("Expected power/modulo > 0");if(n===un)return kn;let r=un;for(;t>kn;)t&un&&(r=r*e%n),e=e*e%n,t>>=un;return r}function Wr(e,t,n){let r=e;for(;t-- >kn;)r*=r,r%=n;return r}function tv(e,t){if(e===kn||t<=kn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Pn(e,t),r=t,i=kn,a=un;for(;n!==kn;){const u=r/n,d=r%n,p=i-a*u;r=n,n=d,i=a,a=p}if(r!==un)throw new Error("invert: does not exist");return Pn(i,t)}function Q3(e){const t=(e-un)/Ia;let n,r,i;for(n=e-un,r=0;n%Ia===kn;n/=Ia,r++);for(i=Ia;i<e&&J3(i,t,e)!==e-un;i++);if(r===1){const c=(e+un)/ev;return function(d,p){const g=d.pow(p,c);if(!d.eql(d.sqr(g),p))throw new Error("Cannot find square root");return g}}const a=(n+un)/Ia;return function(u,d){if(u.pow(d,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let p=r,g=u.pow(u.mul(u.ONE,i),n),m=u.pow(d,a),b=u.pow(d,n);for(;!u.eql(b,u.ONE);){if(u.eql(b,u.ZERO))return u.ZERO;let x=1;for(let v=u.sqr(b);x<p&&!u.eql(v,u.ONE);x++)v=u.sqr(v);const k=u.pow(g,un<<BigInt(p-x-1));g=u.sqr(k),m=u.mul(m,k),b=u.mul(b,g),p=x}return m}}function X3(e){if(e%ev===Y3){const t=(e+un)/ev;return function(r,i){const a=r.pow(i,t);if(!r.eql(r.sqr(a),i))throw new Error("Cannot find square root");return a}}if(e%qx===Vx){const t=(e-Vx)/qx;return function(r,i){const a=r.mul(i,Ia),c=r.pow(a,t),u=r.mul(i,c),d=r.mul(r.mul(u,Ia),c),p=r.mul(u,r.sub(d,r.ONE));if(!r.eql(r.sqr(p),i))throw new Error("Cannot find square root");return p}}return Q3(e)}const eI=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tI(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=eI.reduce((r,i)=>(r[i]="function",r),t);return Sd(e,n)}function nI(e,t,n){if(n<kn)throw new Error("Expected power > 0");if(n===kn)return e.ONE;if(n===un)return t;let r=e.ONE,i=t;for(;n>kn;)n&un&&(r=e.mul(r,i)),i=e.sqr(i),n>>=un;return r}function rI(e,t){const n=new Array(t.length),r=t.reduce((a,c,u)=>e.is0(c)?a:(n[u]=a,e.mul(a,c)),e.ONE),i=e.inv(r);return t.reduceRight((a,c,u)=>e.is0(c)?a:(n[u]=e.mul(a,n[u]),e.mul(a,c)),i),n}function cE(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function iI(e,t,n=!1,r={}){if(e<=kn)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:a}=cE(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=X3(e),u=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:o0(i),ZERO:kn,ONE:un,create:d=>Pn(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return kn<=d&&d<e},is0:d=>d===kn,isOdd:d=>(d&un)===un,neg:d=>Pn(-d,e),eql:(d,p)=>d===p,sqr:d=>Pn(d*d,e),add:(d,p)=>Pn(d+p,e),sub:(d,p)=>Pn(d-p,e),mul:(d,p)=>Pn(d*p,e),pow:(d,p)=>nI(u,d,p),div:(d,p)=>Pn(d*tv(p,e),e),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>tv(d,e),sqrt:r.sqrt||(d=>c(u,d)),invertBatch:d=>rI(u,d),cmov:(d,p,g)=>g?p:d,toBytes:d=>n?i0(d,a):qs(d,a),fromBytes:d=>{if(d.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${d.length}`);return n?r0(d):hr(d)}});return Object.freeze(u)}function uE(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function dE(e){const t=uE(e);return t+Math.ceil(t/2)}function oI(e,t,n=!1){const r=e.length,i=uE(t),a=dE(t);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const c=n?hr(e):r0(e),u=Pn(c,t-un)+un;return n?i0(u,i):qs(u,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sI=BigInt(0),Ig=BigInt(1);function aI(e,t){const n=(i,a)=>{const c=a.negate();return i?c:a},r=i=>{const a=Math.ceil(t/i)+1,c=2**(i-1);return{windows:a,windowSize:c}};return{constTimeNegate:n,unsafeLadder(i,a){let c=e.ZERO,u=i;for(;a>sI;)a&Ig&&(c=c.add(u)),u=u.double(),a>>=Ig;return c},precomputeWindow(i,a){const{windows:c,windowSize:u}=r(a),d=[];let p=i,g=p;for(let m=0;m<c;m++){g=p,d.push(g);for(let b=1;b<u;b++)g=g.add(p),d.push(g);p=g.double()}return d},wNAF(i,a,c){const{windows:u,windowSize:d}=r(i);let p=e.ZERO,g=e.BASE;const m=BigInt(2**i-1),b=2**i,x=BigInt(i);for(let k=0;k<u;k++){const v=k*d;let E=Number(c&m);c>>=x,E>d&&(E-=b,c+=Ig);const S=v,T=v+Math.abs(E)-1,R=k%2!==0,z=E<0;E===0?g=g.add(n(R,a[S])):p=p.add(n(z,a[T]))}return{p,f:g}},wNAFCached(i,a,c,u){const d=i._WINDOW_SIZE||1;let p=a.get(i);return p||(p=this.precomputeWindow(i,d),d!==1&&a.set(i,u(p))),this.wNAF(d,p,c)}}}function fE(e){return tI(e.Fp),Sd(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cE(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lI(e){const t=fE(e);Sd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:cI,hexToBytes:uI}=G3,La={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=La;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:cI(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=La,n=typeof e=="string"?uI(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:a}=La._parseInt(n.subarray(2)),{d:c,l:u}=La._parseInt(a);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:c}},hexFromSig(e){const t=p=>Number.parseInt(p[0],16)&8?"00"+p:p,n=p=>{const g=p.toString(16);return g.length&1?`0${g}`:g},r=t(n(e.s)),i=t(n(e.r)),a=r.length/2,c=i.length/2,u=n(a),d=n(c);return`30${n(c+a+4)}02${d}${i}02${u}${r}`}},xo=BigInt(0),Yr=BigInt(1);BigInt(2);const Kx=BigInt(3);BigInt(4);function dI(e){const t=lI(e),{Fp:n}=t,r=t.toBytes||((k,v,E)=>{const S=v.toAffine();return Ka(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),i=t.fromBytes||(k=>{const v=k.subarray(1),E=n.fromBytes(v.subarray(0,n.BYTES)),S=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:E,y:S}});function a(k){const{a:v,b:E}=t,S=n.sqr(k),T=n.mul(S,k);return n.add(n.add(T,n.mul(k,v)),E)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function c(k){return typeof k=="bigint"&&xo<k&&k<t.n}function u(k){if(!c(k))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(k){const{allowedPrivateKeyLengths:v,nByteLength:E,wrapPrivateKey:S,n:T}=t;if(v&&typeof k!="bigint"){if(k instanceof Uint8Array&&(k=Ec(k)),typeof k!="string"||!v.includes(k.length))throw new Error("Invalid key");k=k.padStart(E*2,"0")}let R;try{R=typeof k=="bigint"?k:hr(Dn("private key",k,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof k}`)}return S&&(R=Pn(R,T)),u(R),R}const p=new Map;function g(k){if(!(k instanceof m))throw new Error("ProjectivePoint expected")}class m{constructor(v,E,S){if(this.px=v,this.py=E,this.pz=S,v==null||!n.isValid(v))throw new Error("x required");if(E==null||!n.isValid(E))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required")}static fromAffine(v){const{x:E,y:S}=v||{};if(!v||!n.isValid(E)||!n.isValid(S))throw new Error("invalid affine point");if(v instanceof m)throw new Error("projective point not allowed");const T=R=>n.eql(R,n.ZERO);return T(E)&&T(S)?m.ZERO:new m(E,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const E=n.invertBatch(v.map(S=>S.pz));return v.map((S,T)=>S.toAffine(E[T])).map(m.fromAffine)}static fromHex(v){const E=m.fromAffine(i(Dn("pointHex",v)));return E.assertValidity(),E}static fromPrivateKey(v){return m.BASE.multiply(d(v))}_setWindowSize(v){this._WINDOW_SIZE=v,p.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:E}=this.toAffine();if(!n.isValid(v)||!n.isValid(E))throw new Error("bad point: x or y not FE");const S=n.sqr(E),T=a(v);if(!n.eql(S,T))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){g(v);const{px:E,py:S,pz:T}=this,{px:R,py:z,pz:D}=v,Z=n.eql(n.mul(E,D),n.mul(R,T)),V=n.eql(n.mul(S,D),n.mul(z,T));return Z&&V}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:E}=t,S=n.mul(E,Kx),{px:T,py:R,pz:z}=this;let D=n.ZERO,Z=n.ZERO,V=n.ZERO,Y=n.mul(T,T),U=n.mul(R,R),q=n.mul(z,z),J=n.mul(T,R);return J=n.add(J,J),V=n.mul(T,z),V=n.add(V,V),D=n.mul(v,V),Z=n.mul(S,q),Z=n.add(D,Z),D=n.sub(U,Z),Z=n.add(U,Z),Z=n.mul(D,Z),D=n.mul(J,D),V=n.mul(S,V),q=n.mul(v,q),J=n.sub(Y,q),J=n.mul(v,J),J=n.add(J,V),V=n.add(Y,Y),Y=n.add(V,Y),Y=n.add(Y,q),Y=n.mul(Y,J),Z=n.add(Z,Y),q=n.mul(R,z),q=n.add(q,q),Y=n.mul(q,J),D=n.sub(D,Y),V=n.mul(q,U),V=n.add(V,V),V=n.add(V,V),new m(D,Z,V)}add(v){g(v);const{px:E,py:S,pz:T}=this,{px:R,py:z,pz:D}=v;let Z=n.ZERO,V=n.ZERO,Y=n.ZERO;const U=t.a,q=n.mul(t.b,Kx);let J=n.mul(E,R),F=n.mul(S,z),X=n.mul(T,D),O=n.add(E,S),K=n.add(R,z);O=n.mul(O,K),K=n.add(J,F),O=n.sub(O,K),K=n.add(E,T);let ae=n.add(R,D);return K=n.mul(K,ae),ae=n.add(J,X),K=n.sub(K,ae),ae=n.add(S,T),Z=n.add(z,D),ae=n.mul(ae,Z),Z=n.add(F,X),ae=n.sub(ae,Z),Y=n.mul(U,K),Z=n.mul(q,X),Y=n.add(Z,Y),Z=n.sub(F,Y),Y=n.add(F,Y),V=n.mul(Z,Y),F=n.add(J,J),F=n.add(F,J),X=n.mul(U,X),K=n.mul(q,K),F=n.add(F,X),X=n.sub(J,X),X=n.mul(U,X),K=n.add(K,X),J=n.mul(F,K),V=n.add(V,J),J=n.mul(ae,K),Z=n.mul(O,Z),Z=n.sub(Z,J),J=n.mul(O,F),Y=n.mul(ae,Y),Y=n.add(Y,J),new m(Z,V,Y)}subtract(v){return this.add(v.negate())}is0(){return this.equals(m.ZERO)}wNAF(v){return x.wNAFCached(this,p,v,E=>{const S=n.invertBatch(E.map(T=>T.pz));return E.map((T,R)=>T.toAffine(S[R])).map(m.fromAffine)})}multiplyUnsafe(v){const E=m.ZERO;if(v===xo)return E;if(u(v),v===Yr)return this;const{endo:S}=t;if(!S)return x.unsafeLadder(this,v);let{k1neg:T,k1:R,k2neg:z,k2:D}=S.splitScalar(v),Z=E,V=E,Y=this;for(;R>xo||D>xo;)R&Yr&&(Z=Z.add(Y)),D&Yr&&(V=V.add(Y)),Y=Y.double(),R>>=Yr,D>>=Yr;return T&&(Z=Z.negate()),z&&(V=V.negate()),V=new m(n.mul(V.px,S.beta),V.py,V.pz),Z.add(V)}multiply(v){u(v);let E=v,S,T;const{endo:R}=t;if(R){const{k1neg:z,k1:D,k2neg:Z,k2:V}=R.splitScalar(E);let{p:Y,f:U}=this.wNAF(D),{p:q,f:J}=this.wNAF(V);Y=x.constTimeNegate(z,Y),q=x.constTimeNegate(Z,q),q=new m(n.mul(q.px,R.beta),q.py,q.pz),S=Y.add(q),T=U.add(J)}else{const{p:z,f:D}=this.wNAF(E);S=z,T=D}return m.normalizeZ([S,T])[0]}multiplyAndAddUnsafe(v,E,S){const T=m.BASE,R=(D,Z)=>Z===xo||Z===Yr||!D.equals(T)?D.multiplyUnsafe(Z):D.multiply(Z),z=R(this,E).add(R(v,S));return z.is0()?void 0:z}toAffine(v){const{px:E,py:S,pz:T}=this,R=this.is0();v==null&&(v=R?n.ONE:n.inv(T));const z=n.mul(E,v),D=n.mul(S,v),Z=n.mul(T,v);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Z,n.ONE))throw new Error("invZ was invalid");return{x:z,y:D}}isTorsionFree(){const{h:v,isTorsionFree:E}=t;if(v===Yr)return!0;if(E)return E(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:E}=t;return v===Yr?this:E?E(m,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return this.assertValidity(),r(m,this,v)}toHex(v=!0){return Ec(this.toRawBytes(v))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,x=aI(m,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:a,isWithinCurveOrder:c}}function fI(e){const t=fE(e);return Sd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function hI(e){const t=fI(e),{Fp:n,n:r}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(K){return xo<K&&K<n.ORDER}function u(K){return Pn(K,r)}function d(K){return tv(K,r)}const{ProjectivePoint:p,normPrivateKeyToScalar:g,weierstrassEquation:m,isWithinCurveOrder:b}=dI({...t,toBytes(K,ae,oe){const re=ae.toAffine(),te=n.toBytes(re.x),le=Ka;return oe?le(Uint8Array.from([ae.hasEvenY()?2:3]),te):le(Uint8Array.from([4]),te,n.toBytes(re.y))},fromBytes(K){const ae=K.length,oe=K[0],re=K.subarray(1);if(ae===i&&(oe===2||oe===3)){const te=hr(re);if(!c(te))throw new Error("Point is not on curve");const le=m(te);let $=n.sqrt(le);const Q=($&Yr)===Yr;return(oe&1)===1!==Q&&($=n.neg($)),{x:te,y:$}}else if(ae===a&&oe===4){const te=n.fromBytes(re.subarray(0,n.BYTES)),le=n.fromBytes(re.subarray(n.BYTES,2*n.BYTES));return{x:te,y:le}}else throw new Error(`Point of length ${ae} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),x=K=>Ec(qs(K,t.nByteLength));function k(K){const ae=r>>Yr;return K>ae}function v(K){return k(K)?u(-K):K}const E=(K,ae,oe)=>hr(K.slice(ae,oe));class S{constructor(ae,oe,re){this.r=ae,this.s=oe,this.recovery=re,this.assertValidity()}static fromCompact(ae){const oe=t.nByteLength;return ae=Dn("compactSignature",ae,oe*2),new S(E(ae,0,oe),E(ae,oe,2*oe))}static fromDER(ae){const{r:oe,s:re}=La.toSig(Dn("DER",ae));return new S(oe,re)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(ae){return new S(this.r,this.s,ae)}recoverPublicKey(ae){const{r:oe,s:re,recovery:te}=this,le=V(Dn("msgHash",ae));if(te==null||![0,1,2,3].includes(te))throw new Error("recovery id invalid");const $=te===2||te===3?oe+t.n:oe;if($>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Q=(te&1)===0?"02":"03",Ce=p.fromHex(Q+x($)),xe=d($),ve=u(-le*xe),Re=u(re*xe),Ue=p.BASE.multiplyAndAddUnsafe(Ce,ve,Re);if(!Ue)throw new Error("point at infinify");return Ue.assertValidity(),Ue}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return kc(this.toDERHex())}toDERHex(){return La.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kc(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const T={isValidPrivateKey(K){try{return g(K),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const K=dE(t.n);return oI(t.randomBytes(K),t.n)},precompute(K=8,ae=p.BASE){return ae._setWindowSize(K),ae.multiply(BigInt(3)),ae}};function R(K,ae=!0){return p.fromPrivateKey(K).toRawBytes(ae)}function z(K){const ae=K instanceof Uint8Array,oe=typeof K=="string",re=(ae||oe)&&K.length;return ae?re===i||re===a:oe?re===2*i||re===2*a:K instanceof p}function D(K,ae,oe=!0){if(z(K))throw new Error("first arg must be private key");if(!z(ae))throw new Error("second arg must be public key");return p.fromHex(ae).multiply(g(K)).toRawBytes(oe)}const Z=t.bits2int||function(K){const ae=hr(K),oe=K.length*8-t.nBitLength;return oe>0?ae>>BigInt(oe):ae},V=t.bits2int_modN||function(K){return u(Z(K))},Y=o0(t.nBitLength);function U(K){if(typeof K!="bigint")throw new Error("bigint expected");if(!(xo<=K&&K<Y))throw new Error(`bigint expected < 2^${t.nBitLength}`);return qs(K,t.nByteLength)}function q(K,ae,oe=J){if(["recovered","canonical"].some(Be=>Be in oe))throw new Error("sign() legacy options not supported");const{hash:re,randomBytes:te}=t;let{lowS:le,prehash:$,extraEntropy:Q}=oe;le==null&&(le=!0),K=Dn("msgHash",K),$&&(K=Dn("prehashed msgHash",re(K)));const Ce=V(K),xe=g(ae),ve=[U(xe),U(Ce)];if(Q!=null){const Be=Q===!0?te(n.BYTES):Q;ve.push(Dn("extraEntropy",Be))}const Re=Ka(...ve),Ue=Ce;function Me(Be){const nt=Z(Be);if(!b(nt))return;const wt=d(nt),At=p.BASE.multiply(nt).toAffine(),ft=u(At.x);if(ft===xo)return;const B=u(wt*u(Ue+ft*xe));if(B===xo)return;let Pe=(At.x===ft?0:2)|Number(At.y&Yr),ke=B;return le&&k(B)&&(ke=v(B),Pe^=1),new S(ft,ke,Pe)}return{seed:Re,k2sig:Me}}const J={lowS:t.lowS,prehash:!1},F={lowS:t.lowS,prehash:!1};function X(K,ae,oe=J){const{seed:re,k2sig:te}=q(K,ae,oe),le=t;return lE(le.hash.outputLen,le.nByteLength,le.hmac)(re,te)}p.BASE._setWindowSize(8);function O(K,ae,oe,re=F){var At;const te=K;if(ae=Dn("msgHash",ae),oe=Dn("publicKey",oe),"strict"in re)throw new Error("options.strict was renamed to lowS");const{lowS:le,prehash:$}=re;let Q,Ce;try{if(typeof te=="string"||te instanceof Uint8Array)try{Q=S.fromDER(te)}catch(ft){if(!(ft instanceof La.Err))throw ft;Q=S.fromCompact(te)}else if(typeof te=="object"&&typeof te.r=="bigint"&&typeof te.s=="bigint"){const{r:ft,s:B}=te;Q=new S(ft,B)}else throw new Error("PARSE");Ce=p.fromHex(oe)}catch(ft){if(ft.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(le&&Q.hasHighS())return!1;$&&(ae=t.hash(ae));const{r:xe,s:ve}=Q,Re=V(ae),Ue=d(ve),Me=u(Re*Ue),Be=u(xe*Ue),nt=(At=p.BASE.multiplyAndAddUnsafe(Ce,Me,Be))==null?void 0:At.toAffine();return nt?u(nt.x)===xe:!1}return{CURVE:t,getPublicKey:R,getSharedSecret:D,sign:X,verify:O,ProjectivePoint:p,Signature:S,utils:T}}let hE=class extends iE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,T3(t);const r=t0(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?t.create().update(r).digest():r);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=t.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),a.fill(0)}update(t){return jh(this),this.iHash.update(t),this}digestInto(t){jh(this),nE(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:a,blockLen:c,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=a,t.blockLen=c,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const pE=(e,t,n)=>new hE(e,t).update(n).digest();pE.create=(e,t)=>new hE(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pI(e){return{hash:e,hmac:(t,...n)=>pE(e,t,I3(...n)),randomBytes:oE}}function mI(e,t){const n=r=>hI({...e,...pI(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cp=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),zh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mE=BigInt(1),Dh=BigInt(2),Gx=(e,t)=>(e+t/Dh)/t;function gE(e){const t=cp,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),c=BigInt(23),u=BigInt(44),d=BigInt(88),p=e*e*e%t,g=p*p*e%t,m=Wr(g,n,t)*g%t,b=Wr(m,n,t)*g%t,x=Wr(b,Dh,t)*p%t,k=Wr(x,i,t)*x%t,v=Wr(k,a,t)*k%t,E=Wr(v,u,t)*v%t,S=Wr(E,d,t)*E%t,T=Wr(S,u,t)*v%t,R=Wr(T,n,t)*g%t,z=Wr(R,c,t)*k%t,D=Wr(z,r,t)*p%t,Z=Wr(D,Dh,t);if(!nv.eql(nv.sqr(Z),e))throw new Error("Cannot find square root");return Z}const nv=iI(cp,void 0,void 0,{sqrt:gE}),Ic=mI({a:BigInt(0),b:BigInt(7),Fp:nv,n:zh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=zh,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-mE*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,c=BigInt("0x100000000000000000000000000000000"),u=Gx(a*e,t),d=Gx(-r*e,t);let p=Pn(e-u*n-d*i,t),g=Pn(-u*r-d*a,t);const m=p>c,b=g>c;if(m&&(p=t-p),b&&(g=t-g),p>c||g>c)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:p,k2neg:b,k2:g}}}},Xy),up=BigInt(0),yE=e=>typeof e=="bigint"&&up<e&&e<cp,gI=e=>typeof e=="bigint"&&up<e&&e<zh,Yx={};function Bh(e,...t){let n=Yx[e];if(n===void 0){const r=Xy(Uint8Array.from(e,i=>i.charCodeAt(0)));n=Ka(r,r),Yx[e]=n}return Xy(Ka(n,...t))}const s0=e=>e.toRawBytes(!0).slice(1),rv=e=>qs(e,32),Lg=e=>Pn(e,cp),rd=e=>Pn(e,zh),a0=Ic.ProjectivePoint,yI=(e,t,n)=>a0.BASE.multiplyAndAddUnsafe(e,t,n);function iv(e){let t=Ic.utils.normPrivateKeyToScalar(e),n=a0.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:rd(-t),bytes:s0(n)}}function vE(e){if(!yE(e))throw new Error("bad x: need 0 < x < p");const t=Lg(e*e),n=Lg(t*e+BigInt(7));let r=gE(n);r%Dh!==up&&(r=Lg(-r));const i=new a0(e,r,mE);return i.assertValidity(),i}function wE(...e){return rd(hr(Bh("BIP0340/challenge",...e)))}function vI(e){return iv(e).bytes}function wI(e,t,n=oE(32)){const r=Dn("message",e),{bytes:i,scalar:a}=iv(t),c=Dn("auxRand",n,32),u=rv(a^hr(Bh("BIP0340/aux",c))),d=Bh("BIP0340/nonce",u,i,r),p=rd(hr(d));if(p===up)throw new Error("sign failed: k is zero");const{bytes:g,scalar:m}=iv(p),b=wE(g,i,r),x=new Uint8Array(64);if(x.set(g,0),x.set(rv(rd(m+b*a)),32),!_E(x,r,i))throw new Error("sign: Invalid signature produced");return x}function _E(e,t,n){const r=Dn("signature",e,64),i=Dn("message",t),a=Dn("publicKey",n,32);try{const c=vE(hr(a)),u=hr(r.subarray(0,32));if(!yE(u))return!1;const d=hr(r.subarray(32,64));if(!gI(d))return!1;const p=wE(rv(u),s0(c),i),g=yI(c,d,rd(-p));return!(!g||!g.hasEvenY()||g.toAffine().x!==u)}catch{return!1}}const Bu={getPublicKey:vI,sign:wI,verify:_E,utils:{randomPrivateKey:Ic.utils.randomPrivateKey,lift_x:vE,pointToBytes:s0,numberToBytesBE:qs,bytesToNumberBE:hr,taggedHash:Bh,mod:Pn}},Og=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const l0=e=>e instanceof Uint8Array,Mg=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ii=(e,t)=>e<<32-t|e>>>t,_I=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_I)throw new Error("Non little-endian hardware is not supported");const xI=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Bn(e){if(!l0(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=xI[e[n]];return t}function Ga(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,a=e.slice(i,i+2),c=Number.parseInt(a,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}function bI(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function id(e){if(typeof e=="string"&&(e=bI(e)),!l0(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function dp(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!l0(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class xE{clone(){return this._cloneInto()}}function bE(e){const t=r=>e().update(id(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function EE(e=32){if(Og&&typeof Og.getRandomValues=="function")return Og.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function ov(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function EI(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function kE(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function kI(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ov(e.outputLen),ov(e.blockLen)}function SI(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function CI(e,t){kE(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const $i={number:ov,bool:EI,bytes:kE,hash:kI,exists:SI,output:CI};function PI(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),a=BigInt(4294967295),c=Number(n>>i&a),u=Number(n&a),d=r?4:0,p=r?0:4;e.setUint32(t+d,c,r),e.setUint32(t+p,u,r)}class TI extends xE{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Mg(this.buffer)}update(t){$i.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=id(t);const a=t.length;for(let c=0;c<a;){const u=Math.min(i-this.pos,a-c);if(u===i){const d=Mg(t);for(;i<=a-c;c+=i)this.process(d,c);continue}r.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){$i.exists(this),$i.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let m=c;m<i;m++)n[m]=0;PI(r,i-8,BigInt(this.length*8),a),this.process(r,0);const u=Mg(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)u.setUint32(4*m,g[m],a)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:a,destroyed:c,pos:u}=this;return t.length=i,t.pos=u,t.finished=a,t.destroyed=c,i%n&&t.buffer.set(r),t}}const NI=(e,t,n)=>e&t^~e&n,AI=(e,t,n)=>e&t^e&n^t&n,RI=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xs=new Uint32Array(64);class SE extends TI{constructor(){super(64,32,8,!1),this.A=_s[0]|0,this.B=_s[1]|0,this.C=_s[2]|0,this.D=_s[3]|0,this.E=_s[4]|0,this.F=_s[5]|0,this.G=_s[6]|0,this.H=_s[7]|0}get(){const{A:t,B:n,C:r,D:i,E:a,F:c,G:u,H:d}=this;return[t,n,r,i,a,c,u,d]}set(t,n,r,i,a,c,u,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=d|0}process(t,n){for(let m=0;m<16;m++,n+=4)xs[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const b=xs[m-15],x=xs[m-2],k=Ii(b,7)^Ii(b,18)^b>>>3,v=Ii(x,17)^Ii(x,19)^x>>>10;xs[m]=v+xs[m-7]+k+xs[m-16]|0}let{A:r,B:i,C:a,D:c,E:u,F:d,G:p,H:g}=this;for(let m=0;m<64;m++){const b=Ii(u,6)^Ii(u,11)^Ii(u,25),x=g+b+NI(u,d,p)+RI[m]+xs[m]|0,v=(Ii(r,2)^Ii(r,13)^Ii(r,22))+AI(r,i,a)|0;g=p,p=d,d=u,u=c+x|0,c=a,a=i,i=r,r=x+v|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,i,a,c,u,d,p,g)}roundClean(){xs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class II extends SE{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Lc=bE(()=>new SE);bE(()=>new II);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Oc(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Oo(...e){const t=(i,a)=>c=>i(a(c)),n=Array.from(e).reverse().reduce((i,a)=>i?t(i,a.encode):a.encode,void 0),r=e.reduce((i,a)=>i?t(i,a.decode):a.decode,void 0);return{encode:n,decode:r}}function Mo(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Oc(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function jo(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function fp(e,t="="){if(Oc(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of n)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function CE(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function Jx(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],a=Array.from(e);for(a.forEach(c=>{if(Oc(c),c<0||c>=t)throw new Error(`Wrong integer: ${c}`)});;){let c=0,u=!0;for(let d=r;d<a.length;d++){const p=a[d],g=t*c+p;if(!Number.isSafeInteger(g)||t*c/t!==c||g-p!==t*c)throw new Error("convertRadix: carry overflow");if(c=g%n,a[d]=Math.floor(g/n),!Number.isSafeInteger(a[d])||a[d]*n+c!==g)throw new Error("convertRadix: carry overflow");if(u)a[d]?u=!1:r=d;else continue}if(i.push(c),u)break}for(let c=0;c<e.length-1&&e[c]===0;c++)i.push(0);return i.reverse()}const PE=(e,t)=>t?PE(t,e%t):e,Fh=(e,t)=>e+(t-PE(e,t));function sv(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Fh(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Fh(t,n)}`);let i=0,a=0;const c=2**n-1,u=[];for(const d of e){if(Oc(d),d>=2**t)throw new Error(`convertRadix2: invalid data word=${d} from=${t}`);if(i=i<<t|d,a+t>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=n;a-=n)u.push((i>>a-n&c)>>>0);i&=2**a-1}if(i=i<<n-a&c,!r&&a>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&a>0&&u.push(i>>>0),u}function LI(e){return Oc(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Jx(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Jx(t,e,2**8))}}}function Qs(e,t=!1){if(Oc(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Fh(8,e)>32||Fh(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return sv(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(sv(n,e,8,t))}}}function Qx(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const OI=Oo(Qs(4),Mo("0123456789ABCDEF"),jo("")),MI=Oo(Qs(5),Mo("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),fp(5),jo(""));Oo(Qs(5),Mo("0123456789ABCDEFGHIJKLMNOPQRSTUV"),fp(5),jo(""));Oo(Qs(5),Mo("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),jo(""),CE(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Ao=Oo(Qs(6),Mo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),fp(6),jo("")),jI=Oo(Qs(6),Mo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),fp(6),jo("")),c0=e=>Oo(LI(58),Mo(e),jo("")),av=c0("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");c0("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");c0("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Xx=[0,2,3,5,6,7,9,10,11],zI={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=av.encode(r).padStart(Xx[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=Xx.indexOf(r.length),a=av.decode(r);for(let c=0;c<a.length-i;c++)if(a[c]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(a.slice(a.length-i)))}return Uint8Array.from(t)}},lv=Oo(Mo("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),jo("")),e1=[996825010,642813549,513874426,1027748829,705979059];function Fu(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<e1.length;r++)(t>>r&1)===1&&(n^=e1[r]);return n}function t1(e,t,n=1){const r=e.length;let i=1;for(let a=0;a<r;a++){const c=e.charCodeAt(a);if(c<33||c>126)throw new Error(`Invalid prefix (${e})`);i=Fu(i)^c>>5}i=Fu(i);for(let a=0;a<r;a++)i=Fu(i)^e.charCodeAt(a)&31;for(let a of t)i=Fu(i)^a;for(let a=0;a<6;a++)i=Fu(i);return i^=n,lv.encode(sv([i%2**30],30,5,!1))}function TE(e){const t=e==="bech32"?1:734539939,n=Qs(5),r=n.decode,i=n.encode,a=Qx(r);function c(g,m,b=90){if(typeof g!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof g}`);if(!Array.isArray(m)||m.length&&typeof m[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof m}`);const x=g.length+7+m.length;if(b!==!1&&x>b)throw new TypeError(`Length ${x} exceeds limit ${b}`);return g=g.toLowerCase(),`${g}1${lv.encode(m)}${t1(g,m,t)}`}function u(g,m=90){if(typeof g!="string")throw new Error(`bech32.decode input should be string, not ${typeof g}`);if(g.length<8||m!==!1&&g.length>m)throw new TypeError(`Wrong string length: ${g.length} (${g}). Expected (8..${m})`);const b=g.toLowerCase();if(g!==b&&g!==g.toUpperCase())throw new Error("String must be lowercase or uppercase");g=b;const x=g.lastIndexOf("1");if(x===0||x===-1)throw new Error('Letter "1" must be present between prefix and data only');const k=g.slice(0,x),v=g.slice(x+1);if(v.length<6)throw new Error("Data must be at least 6 characters long");const E=lv.decode(v).slice(0,-6),S=t1(k,E,t);if(!v.endsWith(S))throw new Error(`Invalid checksum in ${g}: expected "${S}"`);return{prefix:k,words:E}}const d=Qx(u);function p(g){const{prefix:m,words:b}=u(g,!1);return{prefix:m,words:b,bytes:r(b)}}return{encode:c,decode:u,decodeToBytes:p,decodeUnsafe:d,fromWords:r,fromWordsUnsafe:a,toWords:i}}const Sc=TE("bech32");TE("bech32m");const DI={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},BI=Oo(Qs(4),Mo("0123456789abcdef"),jo(""),CE(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),FI={utf8:DI,hex:BI,base16:OI,base32:MI,base64:Ao,base64url:jI,base58:av,base58xmr:zI};`${Object.keys(FI).join(", ")}`;function jg(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function n1(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function UI(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function So(e,...t){if(!UI(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Un=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),$I=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$I)throw new Error("Non little-endian hardware is not supported");function ZI(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function HI(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const WI=(e,t)=>(Object.assign(t,e),t),Zs=16,VI=283;function u0(e){return e<<1^VI&-(e>>7)}function Ql(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=u0(e);return n}const cv=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=u0(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),qI=cv.map((e,t)=>cv.indexOf(t)),KI=e=>e<<24|e>>>8,zg=e=>e<<8|e>>>24;function NE(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((p,g)=>t(e[g])),r=n.map(zg),i=r.map(zg),a=i.map(zg),c=new Uint32Array(256*256),u=new Uint32Array(256*256),d=new Uint16Array(256*256);for(let p=0;p<256;p++)for(let g=0;g<256;g++){const m=p*256+g;c[m]=n[p]^r[g],u[m]=i[p]^a[g],d[m]=e[p]<<8|e[g]}return{sbox:e,sbox2:d,T0:n,T1:r,T2:i,T3:a,T01:c,T23:u}}const d0=NE(cv,e=>Ql(e,3)<<24|e<<16|e<<8|Ql(e,2)),AE=NE(qI,e=>Ql(e,11)<<24|Ql(e,13)<<16|Ql(e,9)<<8|Ql(e,14)),GI=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=u0(n))e[t]=n;return e})();function RE(e){So(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=d0,r=Un(e),i=r.length,a=u=>Zi(n,u,u,u,u),c=new Uint32Array(t+28);c.set(r);for(let u=i;u<c.length;u++){let d=c[u-1];u%i===0?d=a(KI(d))^GI[u/i-1]:i>6&&u%i===4&&(d=a(d)),c[u]=c[u-i]^d}return c}function YI(e){const t=RE(e),n=t.slice(),r=t.length,{sbox2:i}=d0,{T0:a,T1:c,T2:u,T3:d}=AE;for(let p=0;p<r;p+=4)for(let g=0;g<4;g++)n[p+g]=t[r-p-4+g];t.fill(0);for(let p=4;p<r-4;p++){const g=n[p],m=Zi(i,g,g,g,g);n[p]=a[m&255]^c[m>>>8&255]^u[m>>>16&255]^d[m>>>24]}return n}function Fs(e,t,n,r,i,a){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|a>>>24&255]}function Zi(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function r1(e,t,n,r,i){const{sbox2:a,T01:c,T23:u}=d0;let d=0;t^=e[d++],n^=e[d++],r^=e[d++],i^=e[d++];const p=e.length/4-2;for(let k=0;k<p;k++){const v=e[d++]^Fs(c,u,t,n,r,i),E=e[d++]^Fs(c,u,n,r,i,t),S=e[d++]^Fs(c,u,r,i,t,n),T=e[d++]^Fs(c,u,i,t,n,r);t=v,n=E,r=S,i=T}const g=e[d++]^Zi(a,t,n,r,i),m=e[d++]^Zi(a,n,r,i,t),b=e[d++]^Zi(a,r,i,t,n),x=e[d++]^Zi(a,i,t,n,r);return{s0:g,s1:m,s2:b,s3:x}}function JI(e,t,n,r,i){const{sbox2:a,T01:c,T23:u}=AE;let d=0;t^=e[d++],n^=e[d++],r^=e[d++],i^=e[d++];const p=e.length/4-2;for(let k=0;k<p;k++){const v=e[d++]^Fs(c,u,t,i,r,n),E=e[d++]^Fs(c,u,n,t,i,r),S=e[d++]^Fs(c,u,r,n,t,i),T=e[d++]^Fs(c,u,i,r,n,t);t=v,n=E,r=S,i=T}const g=e[d++]^Zi(a,t,i,r,n),m=e[d++]^Zi(a,n,t,i,r),b=e[d++]^Zi(a,r,n,t,i),x=e[d++]^Zi(a,i,r,n,t);return{s0:g,s1:m,s2:b,s3:x}}function IE(e,t){if(!t)return new Uint8Array(e);if(So(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function QI(e){if(So(e),e.length%Zs!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Zs}`)}function XI(e,t,n){let r=e.length;const i=r%Zs;if(!t&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const a=Un(e);if(t){let d=Zs-i;d||(d=Zs),r=r+d}const c=IE(r,n),u=Un(c);return{b:a,o:u,out:c}}function e4(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const i=e.subarray(0,-r);for(let a=0;a<r;a++)if(e[n-a-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function t4(e){const t=new Uint8Array(16),n=Un(t);t.set(e);const r=Zs-e.length;for(let i=Zs-r;i<Zs;i++)t[i]=r;return n}const LE=WI({blockSize:16,nonceLength:16},function(t,n,r={}){So(t),So(n,16);const i=!r.disablePadding;return{encrypt:(a,c)=>{const u=RE(t),{b:d,o:p,out:g}=XI(a,i,c),m=Un(n);let b=m[0],x=m[1],k=m[2],v=m[3],E=0;for(;E+4<=d.length;)b^=d[E+0],x^=d[E+1],k^=d[E+2],v^=d[E+3],{s0:b,s1:x,s2:k,s3:v}=r1(u,b,x,k,v),p[E++]=b,p[E++]=x,p[E++]=k,p[E++]=v;if(i){const S=t4(a.subarray(E*4));b^=S[0],x^=S[1],k^=S[2],v^=S[3],{s0:b,s1:x,s2:k,s3:v}=r1(u,b,x,k,v),p[E++]=b,p[E++]=x,p[E++]=k,p[E++]=v}return u.fill(0),g},decrypt:(a,c)=>{QI(a);const u=YI(t),d=Un(n),p=IE(a.length,c),g=Un(a),m=Un(p);let b=d[0],x=d[1],k=d[2],v=d[3];for(let E=0;E+4<=g.length;){const S=b,T=x,R=k,z=v;b=g[E+0],x=g[E+1],k=g[E+2],v=g[E+3];const{s0:D,s1:Z,s2:V,s3:Y}=JI(u,b,x,k,v);m[E++]=D^S,m[E++]=Z^T,m[E++]=V^R,m[E++]=Y^z}return u.fill(0),e4(p,i)}}}),OE=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),n4=OE("expand 16-byte k"),r4=OE("expand 32-byte k"),i4=Un(n4),ME=Un(r4);ME.slice();function It(e,t){return e<<t|e>>>32-t}function uv(e){return e.byteOffset%4===0}const ch=64,o4=16,jE=2**32-1,i1=new Uint32Array;function s4(e,t,n,r,i,a,c,u){const d=i.length,p=new Uint8Array(ch),g=Un(p),m=uv(i)&&uv(a),b=m?Un(i):i1,x=m?Un(a):i1;for(let k=0;k<d;c++){if(e(t,n,r,g,c,u),c>=jE)throw new Error("arx: counter overflow");const v=Math.min(ch,d-k);if(m&&v===ch){const E=k/4;if(k%4!==0)throw new Error("arx: invalid block position");for(let S=0,T;S<o4;S++)T=E+S,x[T]=b[T]^g[S];k+=ch;continue}for(let E=0,S;E<v;E++)S=k+E,a[S]=i[S]^p[E];k+=v}}function a4(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:a,rounds:c}=ZI({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return jg(i),jg(c),n1(a),n1(n),(u,d,p,g,m=0)=>{So(u),So(d),So(p);const b=p.length;if(g||(g=new Uint8Array(b)),So(g),jg(m),m<0||m>=jE)throw new Error("arx: counter overflow");if(g.length<b)throw new Error(`arx: output (${g.length}) is shorter than data (${b})`);const x=[];let k=u.length,v,E;if(k===32)v=u.slice(),x.push(v),E=ME;else if(k===16&&n)v=new Uint8Array(32),v.set(u),v.set(u,16),E=i4,x.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${k}`);uv(d)||(d=d.slice(),x.push(d));const S=Un(v);if(r){if(d.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,S,Un(d.subarray(0,16)),S),d=d.subarray(16)}const T=16-i;if(T!==d.length)throw new Error(`arx: nonce must be ${T} or 16 bytes`);if(T!==12){const z=new Uint8Array(12);z.set(d,a?0:12-d.length),d=z,x.push(d)}const R=Un(d);for(s4(e,E,S,R,p,g,m,c);x.length>0;)x.pop().fill(0);return g}}function l4(e,t,n,r,i,a=20){let c=e[0],u=e[1],d=e[2],p=e[3],g=t[0],m=t[1],b=t[2],x=t[3],k=t[4],v=t[5],E=t[6],S=t[7],T=i,R=n[0],z=n[1],D=n[2],Z=c,V=u,Y=d,U=p,q=g,J=m,F=b,X=x,O=k,K=v,ae=E,oe=S,re=T,te=R,le=z,$=D;for(let Ce=0;Ce<a;Ce+=2)Z=Z+q|0,re=It(re^Z,16),O=O+re|0,q=It(q^O,12),Z=Z+q|0,re=It(re^Z,8),O=O+re|0,q=It(q^O,7),V=V+J|0,te=It(te^V,16),K=K+te|0,J=It(J^K,12),V=V+J|0,te=It(te^V,8),K=K+te|0,J=It(J^K,7),Y=Y+F|0,le=It(le^Y,16),ae=ae+le|0,F=It(F^ae,12),Y=Y+F|0,le=It(le^Y,8),ae=ae+le|0,F=It(F^ae,7),U=U+X|0,$=It($^U,16),oe=oe+$|0,X=It(X^oe,12),U=U+X|0,$=It($^U,8),oe=oe+$|0,X=It(X^oe,7),Z=Z+J|0,$=It($^Z,16),ae=ae+$|0,J=It(J^ae,12),Z=Z+J|0,$=It($^Z,8),ae=ae+$|0,J=It(J^ae,7),V=V+F|0,re=It(re^V,16),oe=oe+re|0,F=It(F^oe,12),V=V+F|0,re=It(re^V,8),oe=oe+re|0,F=It(F^oe,7),Y=Y+X|0,te=It(te^Y,16),O=O+te|0,X=It(X^O,12),Y=Y+X|0,te=It(te^Y,8),O=O+te|0,X=It(X^O,7),U=U+q|0,le=It(le^U,16),K=K+le|0,q=It(q^K,12),U=U+q|0,le=It(le^U,8),K=K+le|0,q=It(q^K,7);let Q=0;r[Q++]=c+Z|0,r[Q++]=u+V|0,r[Q++]=d+Y|0,r[Q++]=p+U|0,r[Q++]=g+q|0,r[Q++]=m+J|0,r[Q++]=b+F|0,r[Q++]=x+X|0,r[Q++]=k+O|0,r[Q++]=v+K|0,r[Q++]=E+ae|0,r[Q++]=S+oe|0,r[Q++]=T+re|0,r[Q++]=R+te|0,r[Q++]=z+le|0,r[Q++]=D+$|0}const zE=a4(l4,{counterRight:!1,counterLength:4,allowShortKeys:!1});class DE extends xE{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,$i.hash(t);const r=id(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?t.create().update(r).digest():r);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=t.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),a.fill(0)}update(t){return $i.exists(this),this.iHash.update(t),this}digestInto(t){$i.exists(this),$i.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:a,blockLen:c,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=a,t.blockLen=c,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hp=(e,t,n)=>new DE(e,t).update(n).digest();hp.create=(e,t)=>new DE(e,t);function c4(e,t,n){return $i.hash(e),hp(e,id(n),id(t))}const Dg=new Uint8Array([0]),o1=new Uint8Array;function u4(e,t,n,r=32){if($i.hash(e),$i.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);n===void 0&&(n=o1);const a=new Uint8Array(i*e.outputLen),c=hp.create(e,t),u=c._cloneInto(),d=new Uint8Array(c.outputLen);for(let p=0;p<i;p++)Dg[0]=p+1,u.update(p===0?o1:d).update(n).update(Dg).digestInto(d),a.set(d,e.outputLen*p),c._cloneInto(u);return c.destroy(),u.destroy(),d.fill(0),Dg.fill(0),a.slice(0,r)}var d4=Object.defineProperty,Kt=(e,t)=>{for(var n in t)d4(e,n,{get:t[n],enumerable:!0})},Vl=Symbol("verified"),f4=e=>e instanceof Object;function f0(e){if(!f4(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var h4={};Kt(h4,{Queue:()=>UE,QueueNode:()=>FE,binarySearch:()=>h0,bytesToHex:()=>Bn,hexToBytes:()=>Ga,insertEventIntoAscendingList:()=>m4,insertEventIntoDescendingList:()=>p4,normalizeURL:()=>BE,utf8Decoder:()=>Co,utf8Encoder:()=>mi});var Co=new TextDecoder("utf-8"),mi=new TextEncoder;function BE(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch{throw new Error(`Invalid URL: ${e}`)}}function p4(e,t){const[n,r]=h0(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:i.created_at-t.created_at);return r||e.splice(n,0,t),e}function m4(e,t){const[n,r]=h0(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:t.created_at-i.created_at);return r||e.splice(n,0,t),e}function h0(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),a=t(e[i]);if(a===0)return[i,!0];a<0?r=i-1:n=i+1}return[n,!1]}var FE=class{constructor(e){$e(this,"value");$e(this,"next",null);$e(this,"prev",null);this.value=e}},UE=class{constructor(){$e(this,"first");$e(this,"last");this.first=null,this.last=null}enqueue(e){const t=new FE(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},g4=class{generateSecretKey(){return Bu.utils.randomPrivateKey()}getPublicKey(e){return Bn(Bu.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Bn(Bu.getPublicKey(t)),n.id=Qu(n),n.sig=Bn(Bu.sign(Qu(n),t)),n[Vl]=!0,n}verifyEvent(e){if(typeof e[Vl]=="boolean")return e[Vl];const t=Qu(e);if(t!==e.id)return e[Vl]=!1,!1;try{const n=Bu.verify(e.sig,t,e.pubkey);return e[Vl]=n,n}catch{return e[Vl]=!1,!1}}};function y4(e){if(!f0(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Qu(e){let t=Lc(mi.encode(y4(e)));return Bn(t)}var pp=new g4,Cd=pp.generateSecretKey,Ro=pp.getPublicKey,Qr=pp.finalizeEvent,Pd=pp.verifyEvent,v4={};Kt(v4,{Application:()=>yL,BadgeAward:()=>C4,BadgeDefinition:()=>uL,BlockedRelaysList:()=>K4,BookmarkList:()=>W4,Bookmarksets:()=>aL,Calendar:()=>kL,CalendarEventRSVP:()=>SL,ChannelCreation:()=>qE,ChannelHideMessage:()=>YE,ChannelMessage:()=>GE,ChannelMetadata:()=>KE,ChannelMuteUser:()=>JE,ClassifiedListing:()=>_L,ClientAuth:()=>XE,CommunitiesList:()=>V4,CommunityDefinition:()=>TL,CommunityPostApproval:()=>O4,Contacts:()=>E4,CreateOrUpdateProduct:()=>hL,CreateOrUpdateStall:()=>fL,Curationsets:()=>lL,Date:()=>bL,DirectMessageRelaysList:()=>Q4,DraftClassifiedListing:()=>xL,DraftLong:()=>mL,Emojisets:()=>gL,EncryptedDirectMessage:()=>k4,EventDeletion:()=>S4,FileMetadata:()=>T4,FileServerPreference:()=>X4,Followsets:()=>iL,GenericRepost:()=>g0,Genericlists:()=>oL,GiftWrap:()=>QE,HTTPAuth:()=>y0,Handlerinformation:()=>PL,Handlerrecommendation:()=>CL,Highlights:()=>U4,InterestsList:()=>Y4,Interestsets:()=>dL,JobFeedback:()=>z4,JobRequest:()=>M4,JobResult:()=>j4,Label:()=>L4,LightningPubRPC:()=>tL,LiveChatMessage:()=>N4,LiveEvent:()=>vL,LongFormArticle:()=>pL,Metadata:()=>x4,Mutelist:()=>$4,NWCWalletInfo:()=>eL,NWCWalletRequest:()=>ek,NWCWalletResponse:()=>nL,NostrConnect:()=>rL,OpenTimestamps:()=>P4,Pinlist:()=>Z4,PrivateDirectMessage:()=>VE,ProblemTracker:()=>A4,ProfileBadges:()=>cL,PublicChatsList:()=>q4,Reaction:()=>m0,RecommendRelay:()=>b4,RelayList:()=>H4,Relaysets:()=>sL,Report:()=>R4,Reporting:()=>I4,Repost:()=>p0,Seal:()=>WE,SearchRelaysList:()=>G4,ShortTextNote:()=>HE,Time:()=>EL,UserEmojiList:()=>J4,UserStatuses:()=>wL,Zap:()=>F4,ZapGoal:()=>D4,ZapRequest:()=>B4,classifyKind:()=>w4,isAddressableKind:()=>gp,isEphemeralKind:()=>ZE,isKind:()=>_4,isRegularKind:()=>$E,isReplaceableKind:()=>mp});function $E(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function mp(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function ZE(e){return 2e4<=e&&e<3e4}function gp(e){return 3e4<=e&&e<4e4}function w4(e){return $E(e)?"regular":mp(e)?"replaceable":ZE(e)?"ephemeral":gp(e)?"parameterized":"unknown"}function _4(e,t){const n=t instanceof Array?t:[t];return f0(e)&&n.includes(e.kind)||!1}var x4=0,HE=1,b4=2,E4=3,k4=4,S4=5,p0=6,m0=7,C4=8,WE=13,VE=14,g0=16,qE=40,KE=41,GE=42,YE=43,JE=44,P4=1040,QE=1059,T4=1063,N4=1311,A4=1971,R4=1984,I4=1984,L4=1985,O4=4550,M4=5999,j4=6999,z4=7e3,D4=9041,B4=9734,F4=9735,U4=9802,$4=1e4,Z4=10001,H4=10002,W4=10003,V4=10004,q4=10005,K4=10006,G4=10007,Y4=10015,J4=10030,Q4=10050,X4=10096,eL=13194,tL=21e3,XE=22242,ek=23194,nL=23195,rL=24133,y0=27235,iL=3e4,oL=30001,sL=30002,aL=30003,lL=30004,cL=30008,uL=30009,dL=30015,fL=30017,hL=30018,pL=30023,mL=30024,gL=30030,yL=30078,vL=30311,wL=30315,_L=30402,xL=30403,bL=31922,EL=31923,kL=31924,SL=31925,CL=31989,PL=31990,TL=34550;function NL(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),i=e[`#${r}`];if(i&&!t.tags.find(([a,c])=>a===n.slice(1)&&i.indexOf(c)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function tk(e,t){for(let n=0;n<e.length;n++)if(NL(e[n],t))return!0;return!1}function nk(e){var t,n,r,i,a,c;if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[u,d]of Object.entries(e))if(u[0]==="#"&&Array.isArray(d)&&!d.length)return 0;return Math.min(Math.max(0,e.limit??1/0),((t=e.ids)==null?void 0:t.length)??1/0,(n=e.authors)!=null&&n.length&&((r=e.kinds)!=null&&r.every(u=>mp(u)))?e.authors.length*e.kinds.length:1/0,(i=e.authors)!=null&&i.length&&((a=e.kinds)!=null&&a.every(u=>gp(u)))&&((c=e["#d"])!=null&&c.length)?e.authors.length*e.kinds.length*e["#d"].length:1/0)}var AL={};Kt(AL,{getHex64:()=>yp,getInt:()=>rk,getSubscriptionId:()=>ik,matchEventId:()=>RL,matchEventKind:()=>LL,matchEventPubkey:()=>IL});function yp(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function rk(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),a=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,a),10)}function ik(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(i===-1)return null;let a=r+1+i;return e.slice(r+1,a)}function RL(e,t){return t===yp(e,"id")}function IL(e,t){return t===yp(e,"pubkey")}function LL(e,t){return t===rk(e,"kind")}var OL={};Kt(OL,{makeAuthEvent:()=>ok});function ok(e,t){return{kind:XE,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function ML(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var sk=class extends Error{constructor(e,t){super(`Tried to send message '${e} on a closed connection to ${t}.`),this.name="SendingOnClosedConnection"}},ak=class{constructor(e,t){$e(this,"url");$e(this,"_connected",!1);$e(this,"onclose",null);$e(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));$e(this,"baseEoseTimeout",4400);$e(this,"connectionTimeout",4400);$e(this,"publishTimeout",4400);$e(this,"openSubs",new Map);$e(this,"connectionTimeoutHandle");$e(this,"connectionPromise");$e(this,"openCountRequests",new Map);$e(this,"openEventPublishes",new Map);$e(this,"ws");$e(this,"incomingMessageQueue",new UE);$e(this,"queueRunning",!1);$e(this,"challenge");$e(this,"authPromise");$e(this,"serial",0);$e(this,"verifyEvent");$e(this,"_WebSocket");this.url=BE(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){const n=new ak(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket closed"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await ML();this.queueRunning=!1}handleNext(){var n,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=ik(e);if(t){const i=this.openSubs.get(t);if(!i)return;const a=yp(e,"id"),c=(n=i.alreadyHaveEvent)==null?void 0:n.call(i,a);if((r=i.receivedEvent)==null||r.call(i,this,a),c)return}try{let i=JSON.parse(e);switch(i[0]){case"EVENT":{const a=this.openSubs.get(i[1]),c=i[2];this.verifyEvent(c)&&tk(a.filters,c)&&a.onevent(c);return}case"COUNT":{const a=i[1],c=i[2],u=this.openCountRequests.get(a);u&&(u.resolve(c.count),this.openCountRequests.delete(a));return}case"EOSE":{const a=this.openSubs.get(i[1]);if(!a)return;a.receivedEose();return}case"OK":{const a=i[1],c=i[2],u=i[3],d=this.openEventPublishes.get(a);d&&(clearTimeout(d.timeout),c?d.resolve(u):d.reject(new Error(u)),this.openEventPublishes.delete(a));return}case"CLOSED":{const a=i[1],c=this.openSubs.get(a);if(!c)return;c.closed=!0,c.close(i[2]);return}case"NOTICE":this.onnotice(i[1]);return;case"AUTH":{this.challenge=i[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new sk(e,this.url);this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){const t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let i=await e(ok(this.url,t)),a=setTimeout(()=>{let c=this.openEventPublishes.get(i.id);c&&(c.reject(new Error("auth timed out")),this.openEventPublishes.delete(i.id))},this.publishTimeout);this.openEventPublishes.set(i.id,{resolve:n,reject:r,timeout:a}),this.send('["AUTH",'+JSON.stringify(i)+"]")}catch(i){console.warn("subscribe auth function failed:",i)}}),this.authPromise)}async publish(e){const t=new Promise((n,r)=>{const i=setTimeout(()=>{const a=this.openEventPublishes.get(e.id);a&&(a.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:n,reject:r,timeout:i})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((i,a)=>{this.openCountRequests.set(n,{resolve:i,reject:a})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||(t.label?t.label+":":"sub:")+this.serial,r=new jL(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},jL=class{constructor(e,t,n,r){$e(this,"relay");$e(this,"id");$e(this,"closed",!1);$e(this,"eosed",!1);$e(this,"filters");$e(this,"alreadyHaveEvent");$e(this,"receivedEvent");$e(this,"onevent");$e(this,"oneose");$e(this,"onclose");$e(this,"eoseTimeout");$e(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(i=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,i)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof sk))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},lk;try{lk=WebSocket}catch{}var ck=class extends ak{constructor(e){super(e,{verifyEvent:Pd,websocketImplementation:lk})}static async connect(e){const t=new ck(e);return await t.connect(),t}},zL;try{zL=WebSocket}catch{}var Xn={};Kt(Xn,{BECH32_REGEX:()=>uk,Bech32MaxSize:()=>v0,NostrTypeGuard:()=>DL,decode:()=>vp,decodeNostrURI:()=>FL,encodeBytes:()=>_p,naddrEncode:()=>VL,neventEncode:()=>WL,noteEncode:()=>ZL,nprofileEncode:()=>HL,npubEncode:()=>$L,nsecEncode:()=>UL});var DL={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},v0=5e3,uk=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function BL(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function FL(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),vp(e)}catch{return{type:"invalid",data:null}}}function vp(e){var i,a,c,u,d,p,g;let{prefix:t,words:n}=Sc.decode(e,v0),r=new Uint8Array(Sc.fromWords(n));switch(t){case"nprofile":{let m=Bg(r);if(!((i=m[0])!=null&&i[0]))throw new Error("missing TLV 0 for nprofile");if(m[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Bn(m[0][0]),relays:m[1]?m[1].map(b=>Co.decode(b)):[]}}}case"nevent":{let m=Bg(r);if(!((a=m[0])!=null&&a[0]))throw new Error("missing TLV 0 for nevent");if(m[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(m[2]&&m[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(m[3]&&m[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Bn(m[0][0]),relays:m[1]?m[1].map(b=>Co.decode(b)):[],author:(c=m[2])!=null&&c[0]?Bn(m[2][0]):void 0,kind:(u=m[3])!=null&&u[0]?parseInt(Bn(m[3][0]),16):void 0}}}case"naddr":{let m=Bg(r);if(!((d=m[0])!=null&&d[0]))throw new Error("missing TLV 0 for naddr");if(!((p=m[2])!=null&&p[0]))throw new Error("missing TLV 2 for naddr");if(m[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((g=m[3])!=null&&g[0]))throw new Error("missing TLV 3 for naddr");if(m[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Co.decode(m[0][0]),pubkey:Bn(m[2][0]),kind:parseInt(Bn(m[3][0]),16),relays:m[1]?m[1].map(b=>Co.decode(b)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Bn(r)};default:throw new Error(`unknown prefix ${t}`)}}function Bg(e){let t={},n=e;for(;n.length>0;){let r=n[0],i=n[1],a=n.slice(2,2+i);if(n=n.slice(2+i),a.length<i)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(a)}return t}function UL(e){return _p("nsec",e)}function $L(e){return _p("npub",Ga(e))}function ZL(e){return _p("note",Ga(e))}function wp(e,t){let n=Sc.toWords(t);return Sc.encode(e,n,v0)}function _p(e,t){return wp(e,t)}function HL(e){let t=w0({0:[Ga(e.pubkey)],1:(e.relays||[]).map(n=>mi.encode(n))});return wp("nprofile",t)}function WL(e){let t;e.kind!==void 0&&(t=BL(e.kind));let n=w0({0:[Ga(e.id)],1:(e.relays||[]).map(r=>mi.encode(r)),2:e.author?[Ga(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return wp("nevent",n)}function VL(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=w0({0:[mi.encode(e.identifier)],1:(e.relays||[]).map(r=>mi.encode(r)),2:[Ga(e.pubkey)],3:[new Uint8Array(t)]});return wp("naddr",n)}function w0(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(i=>{let a=new Uint8Array(i.length+2);a.set([parseInt(n)],0),a.set([i.length],1),a.set(i,2),t.push(a)})}),dp(...t)}var od={};Kt(od,{decrypt:()=>qL,encrypt:()=>dk});function dk(e,t,n){const r=e instanceof Uint8Array?Bn(e):e,i=Ic.getSharedSecret(r,"02"+t),a=fk(i);let c=Uint8Array.from(EE(16)),u=mi.encode(n),d=LE(a,c).encrypt(u),p=Ao.encode(new Uint8Array(d)),g=Ao.encode(new Uint8Array(c.buffer));return`${p}?iv=${g}`}function qL(e,t,n){const r=e instanceof Uint8Array?Bn(e):e;let[i,a]=n.split("?iv="),c=Ic.getSharedSecret(r,"02"+t),u=fk(c),d=Ao.decode(a),p=Ao.decode(i),g=LE(u,d).decrypt(p);return Co.decode(g)}function fk(e){return e.slice(1,33)}var KL={};Kt(KL,{NIP05_REGEX:()=>_0,isNip05:()=>GL,isValid:()=>QL,queryProfile:()=>hk,searchDomain:()=>JL,useFetchImplementation:()=>YL});var _0=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,GL=e=>_0.test(e||""),xp;try{xp=fetch}catch{}function YL(e){xp=e}async function JL(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await xp(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function hk(e){var i;const t=e.match(_0);if(!t)return null;const[,n="_",r]=t;try{const a=`https://${r}/.well-known/nostr.json?name=${n}`,c=await xp(a,{redirect:"manual"});if(c.status!==200)throw Error("Wrong response code");const u=await c.json(),d=u.names[n];return d?{pubkey:d,relays:(i=u.relays)==null?void 0:i[d]}:null}catch{return null}}async function QL(e,t){const n=await hk(t);return n?n.pubkey===e:!1}var XL={};Kt(XL,{parse:()=>eO});function eO(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let i=e.tags.length-1;i>=0;i--){const a=e.tags[i];if(a[0]==="e"&&a[1]){const[c,u,d,p,g]=a,m={id:u,relays:d?[d]:[],author:g};if(p==="root"){t.root=m;continue}if(p==="reply"){t.reply=m;continue}if(p==="mention"){t.mentions.push(m);continue}n?r=m:n=m,t.mentions.push(m);continue}if(a[0]==="q"&&a[1]){const[c,u,d]=a;t.quotes.push({id:u,relays:d?[d]:[]})}if(a[0]==="p"&&a[1]){t.profiles.push({pubkey:a[1],relays:a[2]?[a[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(i=>{if(!i)return;let a=t.mentions.indexOf(i);if(a!==-1&&t.mentions.splice(a,1),i.author){let c=t.profiles.find(u=>u.pubkey===i.author);c&&c.relays&&(i.relays||(i.relays=[]),c.relays.forEach(u=>{var d;((d=i.relays)==null?void 0:d.indexOf(u))===-1&&i.relays.push(u)}),c.relays=i.relays)}}),t.mentions.forEach(i=>{if(i.author){let a=t.profiles.find(c=>c.pubkey===i.author);a&&a.relays&&(i.relays||(i.relays=[]),a.relays.forEach(c=>{i.relays.indexOf(c)===-1&&i.relays.push(c)}),a.relays=i.relays)}}),t}var tO={};Kt(tO,{fetchRelayInformation:()=>rO,useFetchImplementation:()=>nO});var pk;try{pk=fetch}catch{}function nO(e){pk=e}async function rO(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var iO={};Kt(iO,{fastEventHash:()=>gk,getPow:()=>mk,minePow:()=>oO});function mk(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function oO(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const a=Math.floor(new Date().getTime()/1e3);if(a!==r.created_at&&(n=0,r.created_at=a),i[1]=(++n).toString(),r.id=gk(r),mk(r.id)>=t)break}return r}function gk(e){return Bn(Lc(mi.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var sO={};Kt(sO,{unwrapEvent:()=>yO,unwrapManyEvents:()=>vO,wrapEvent:()=>Nk,wrapManyEvents:()=>gO});var aO={};Kt(aO,{createRumor:()=>Sk,createSeal:()=>Ck,createWrap:()=>Pk,unwrapEvent:()=>S0,unwrapManyEvents:()=>Tk,wrapEvent:()=>Uh,wrapManyEvents:()=>pO});var Us={};Kt(Us,{decrypt:()=>k0,encrypt:()=>E0,getConversationKey:()=>x0,v2:()=>fO});var yk=1,vk=65535;function x0(e,t){const n=Ic.getSharedSecret(e,"02"+t).subarray(1,33);return c4(Lc,n,"nip44-v2")}function wk(e,t){const n=u4(Lc,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function b0(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function lO(e){if(!Number.isSafeInteger(e)||e<yk||e>vk)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function cO(e){const t=mi.encode(e),n=t.length,r=lO(n),i=new Uint8Array(b0(n)-n);return dp(r,t,i)}function uO(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<yk||t>vk||n.length!==t||e.length!==2+b0(t))throw new Error("invalid padding");return Co.decode(n)}function _k(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=dp(n,t);return hp(Lc,e,r)}function dO(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Ao.decode(e)}catch(a){throw new Error("invalid base64: "+a.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(i!==2)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function E0(e,t,n=EE(32)){const{chacha_key:r,chacha_nonce:i,hmac_key:a}=wk(t,n),c=cO(e),u=zE(r,i,c),d=_k(a,u,n);return Ao.encode(dp(new Uint8Array([2]),n,u,d))}function k0(e,t){const{nonce:n,ciphertext:r,mac:i}=dO(e),{chacha_key:a,chacha_nonce:c,hmac_key:u}=wk(t,n),d=_k(u,r,n);if(!HI(d,i))throw new Error("invalid MAC");const p=zE(a,c,r);return uO(p)}var fO={utils:{getConversationKey:x0,calcPaddedLen:b0},encrypt:E0,decrypt:k0},hO=2*24*60*60,xk=()=>Math.round(Date.now()/1e3),bk=()=>Math.round(xk()-Math.random()*hO),Ek=(e,t)=>x0(e,t),kk=(e,t,n)=>E0(JSON.stringify(e),Ek(t,n)),s1=(e,t)=>JSON.parse(k0(e.content,Ek(t,e.pubkey)));function Sk(e,t){const n={created_at:xk(),content:"",tags:[],...e,pubkey:Ro(t)};return n.id=Qu(n),n}function Ck(e,t,n){return Qr({kind:WE,content:kk(e,t,n),created_at:bk(),tags:[]},t)}function Pk(e,t){const n=Cd();return Qr({kind:QE,content:kk(e,n,t),created_at:bk(),tags:[["p",t]]},n)}function Uh(e,t,n){const r=Sk(e,t),i=Ck(r,t,n);return Pk(i,n)}function pO(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=Ro(t),i=[Uh(e,t,r)];return n.forEach(a=>{i.push(Uh(e,t,a))}),i}function S0(e,t){const n=s1(e,t);return s1(n,t)}function Tk(e,t){let n=[];return e.forEach(r=>{n.push(S0(r,t))}),n.sort((r,i)=>r.created_at-i.created_at),n}function mO(e,t,n,r){const i={created_at:Math.ceil(Date.now()/1e3),kind:VE,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:c,relayUrl:u})=>{i.tags.push(u?["p",c,u]:["p",c])}),r&&i.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&i.tags.push(["subject",n]),i}function Nk(e,t,n,r,i){const a=mO(t,n,r,i);return Uh(a,e,t.publicKey)}function gO(e,t,n,r,i){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Ro(e)},...t].map(c=>Nk(e,c,n,r,i))}var yO=S0,vO=Tk,wO={};Kt(wO,{finishRepostEvent:()=>_O,getRepostedEvent:()=>xO,getRepostedEventPointer:()=>Ak});function _O(e,t,n,r){var c;let i;const a=[...e.tags??[],["e",t.id,n],["p",t.pubkey]];return t.kind===HE?i=p0:(i=g0,a.push(["k",String(t.kind)])),Qr({kind:i,tags:a,content:e.content===""||(c=t.tags)!=null&&c.find(u=>u[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function Ak(e){if(![p0,g0].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function xO(e,{skipVerification:t}={}){const n=Ak(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!Pd(r)))return r}var bO={};Kt(bO,{NOSTR_URI_REGEX:()=>C0,parse:()=>kO,test:()=>EO});var C0=new RegExp(`nostr:(${uk.source})`);function EO(e){return typeof e=="string"&&new RegExp(`^${C0.source}$`).test(e)}function kO(e){const t=e.match(new RegExp(`^${C0.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:vp(t[1])}}var SO={};Kt(SO,{finishReactionEvent:()=>CO,getReactedEventPointer:()=>PO});function CO(e,t,n){const r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return Qr({...e,kind:m0,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function PO(e){if(e.kind!==m0)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var TO={};Kt(TO,{parse:()=>AO});var NO=/\W/m,a1=/\W |\W$|$|,| /m;function*AO(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.indexOf(":",r);if(i===-1)break;if(e.substring(i-5,i)==="nostr"){const a=e.substring(i+60).match(NO),c=a?i+60+a.index:t;try{let u,{data:d,type:p}=vp(e.substring(i+1,c));switch(p){case"npub":u={pubkey:d};break;case"nsec":case"note":r=c+1;continue;default:u=d}n!==i-5&&(yield{type:"text",text:e.substring(n,i-5)}),yield{type:"reference",pointer:u},r=c,n=r;continue}catch{r=i+1;continue}}else if(e.substring(i-5,i)==="https"||e.substring(i-4,i)==="http"){const a=e.substring(i+4).match(a1),c=a?i+4+a.index:t,u=e[i-1]==="s"?5:4;try{let d=new URL(e.substring(i-u,c));if(d.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),d.pathname.endsWith(".png")||d.pathname.endsWith(".jpg")||d.pathname.endsWith(".jpeg")||d.pathname.endsWith(".gif")||d.pathname.endsWith(".webp")){yield{type:"image",url:d.toString()},r=c,n=r;continue}if(d.pathname.endsWith(".mp4")||d.pathname.endsWith(".avi")||d.pathname.endsWith(".webm")||d.pathname.endsWith(".mkv")){yield{type:"video",url:d.toString()},r=c,n=r;continue}if(d.pathname.endsWith(".mp3")||d.pathname.endsWith(".aac")||d.pathname.endsWith(".ogg")||d.pathname.endsWith(".opus")){yield{type:"audio",url:d.toString()},r=c,n=r;continue}yield{type:"url",url:d.toString()},r=c,n=r;continue}catch{r=c+1;continue}}else if(e.substring(i-3,i)==="wss"||e.substring(i-2,i)==="ws"){const a=e.substring(i+4).match(a1),c=a?i+4+a.index:t,u=e[i-1]==="s"?3:2;try{let d=new URL(e.substring(i-u,c));if(d.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),yield{type:"relay",url:d.toString()},r=c,n=r;continue}catch{r=c+1;continue}}else{r=i+1;continue}}n!==t&&(yield{type:"text",text:e.substring(n)})}var RO={};Kt(RO,{channelCreateEvent:()=>IO,channelHideMessageEvent:()=>MO,channelMessageEvent:()=>OO,channelMetadataEvent:()=>LO,channelMuteUserEvent:()=>jO});var IO=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Qr({kind:qE,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},LO=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Qr({kind:KE,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},OO=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Qr({kind:GE,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},MO=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Qr({kind:YE,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},jO=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Qr({kind:JE,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},zO={};Kt(zO,{EMOJI_SHORTCODE_REGEX:()=>Rk,matchAll:()=>DO,regex:()=>P0,replaceAll:()=>BO});var Rk=/:(\w+):/,P0=()=>new RegExp(`\\B${Rk.source}\\B`,"g");function*DO(e){const t=e.matchAll(P0());for(const n of t)try{const[r,i]=n;yield{shortcode:r,name:i,start:n.index,end:n.index+r.length}}catch{}}function BO(e,t){return e.replaceAll(P0(),(n,r)=>t({shortcode:n,name:r}))}var FO={};Kt(FO,{useFetchImplementation:()=>UO,validateGithub:()=>$O});var T0;try{T0=fetch}catch{}function UO(e){T0=e}async function $O(e,t,n){try{return await(await T0(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var ZO={};Kt(ZO,{makeNwcRequestEvent:()=>WO,parseConnectionString:()=>HO});function HO(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),a=n.get("secret");if(!r||!i||!a)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:a}}async function WO(e,t,n){const i=dk(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),a={kind:ek,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return Qr(a,t)}var VO={};Kt(VO,{normalizeIdentifier:()=>qO});function qO(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var KO={};Kt(KO,{getSatoshisAmountFromBolt11:()=>eM,getZapEndpoint:()=>YO,makeZapReceipt:()=>XO,makeZapRequest:()=>JO,useFetchImplementation:()=>GO,validateZapRequest:()=>QO});var N0;try{N0=fetch}catch{}function GO(e){N0=e}async function YO(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:c}=Sc.decode(n,1e3),u=Sc.fromWords(c);t=Co.decode(u)}else if(r){let[c,u]=r.split("@");t=new URL(`/.well-known/lnurlp/${c}`,`https://${u}`).toString()}else return null;let a=await(await N0(t)).json();if(a.allowsNostr&&a.nostrPubkey)return a.callback}catch{}return null}function JO({profile:e,event:t,amount:n,relays:r,comment:i=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let a={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",n.toString()],["relays",...r]]};if(t&&typeof t=="string"&&a.tags.push(["e",t]),t&&typeof t=="object"){if(mp(t.kind)){const c=["a",`${t.kind}:${t.pubkey}:`];a.tags.push(c)}else if(gp(t.kind)){let c=t.tags.find(([d,p])=>d==="d"&&p);if(!c)throw new Error("d tag not found or is empty");const u=["a",`${t.kind}:${t.pubkey}:${c[1]}`];a.tags.push(u)}}return a}function QO(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!f0(t))return"Zap request is not a valid Nostr event.";if(!Pd(t))return"Invalid signature on zap request.";let n=t.tags.find(([a,c])=>a==="p"&&c);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([a,c])=>a==="e"&&c);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([a,c])=>a==="relays"&&c)?null:"Zap request doesn't have a 'relays' tag."}function XO({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e),a=i.tags.filter(([u])=>u==="e"||u==="p"||u==="a"),c={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...a,["P",i.pubkey],["bolt11",n],["description",e]]};return t&&c.tags.push(["preimage",t]),c}function eM(e){if(e.length<50)return 0;e=e.substring(0,50);const t=e.lastIndexOf("1");if(t===-1)return 0;const n=e.substring(0,t);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const i=r[r.length-1],a=i.charCodeAt(0)-48,c=a>=0&&a<=9;let u=r.length-1;if(c&&u++,u<1)return 0;const d=parseInt(r.substring(0,u));switch(i){case"m":return d*1e5;case"u":return d*100;case"n":return d/10;case"p":return d/1e4;default:return d*1e8}}var tM={};Kt(tM,{getToken:()=>nM,hashPayload:()=>A0,unpackEventFromToken:()=>Lk,validateEvent:()=>Bk,validateEventKind:()=>Mk,validateEventMethodTag:()=>zk,validateEventPayloadTag:()=>Dk,validateEventTimestamp:()=>Ok,validateEventUrlTag:()=>jk,validateToken:()=>rM});var Ik="Nostr ";async function nM(e,t,n,r=!1,i){const a={kind:y0,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};i&&a.tags.push(["payload",A0(i)]);const c=await n(a);return(r?Ik:"")+Ao.encode(mi.encode(JSON.stringify(c)))}async function rM(e,t,n){const r=await Lk(e).catch(a=>{throw a});return await Bk(r,t,n).catch(a=>{throw a})}async function Lk(e){if(!e)throw new Error("Missing token");e=e.replace(Ik,"");const t=Co.decode(Ao.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function Ok(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function Mk(e){return e.kind===y0}function jk(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function zk(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function A0(e){const t=Lc(mi.encode(JSON.stringify(e)));return Bn(t)}function Dk(e,t){const n=e.tags.find(i=>i[0]==="payload");if(!n)return!1;const r=A0(t);return n.length>0&&n[1]===r}async function Bk(e,t,n,r){if(!Pd(e))throw new Error("Invalid nostr event, signature invalid");if(!Mk(e))throw new Error("Invalid nostr event, kind invalid");if(!Ok(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!jk(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!zk(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!Dk(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var A2,R2,op,Fk;const ji=class ji{constructor(t){et(this,op);$e(this,"cache");$e(this,A2,"NSet");this.cache=t??new Map}get size(){return this.cache.size}add(t){pt(this,op,Fk).call(this,t);for(const n of this){if(ji.deletes(n,t)||ji.replaces(n,t))return this;ji.replaces(t,n)&&this.delete(n)}return this.cache.set(t.id,t),this}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,n){return this.cache.forEach((r,i)=>t(r,r,this),n)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of ji.sortEvents([...this.cache.values()]))yield t}[(R2=Symbol.iterator,A2=Symbol.toStringTag,R2)](){return this.values()}static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isAddressable(t){return 3e4<=t&&t<4e4}static replaces(t,n){var a,c;const{kind:r,pubkey:i}=t;if(ji.isReplaceable(r))return r===n.kind&&i===n.pubkey&&ji.sortEvents([t,n])[0]===t;if(ji.isAddressable(r)){const u=((a=t.tags.find(([p])=>p==="d"))==null?void 0:a[1])||"",d=((c=n.tags.find(([p])=>p==="d"))==null?void 0:c[1])||"";return r===n.kind&&i===n.pubkey&&ji.sortEvents([t,n])[0]===t&&u===d}return!1}static deletes(t,n){const{kind:r,pubkey:i,tags:a}=t;if(r===5&&i===n.pubkey){for(const[c,u]of a)if(c==="e"&&u===n.id)return!0}return!1}static sortEvents(t){return t.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}};op=new WeakSet,Fk=function(t){if(t.kind===5){for(const n of t.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===t.pubkey&&this.delete(r)}}};let $h=ji;const iM=Object.freeze({status:"aborted"});function Te(e,t,n){function r(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:c,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const p=c.prototype,g=Object.keys(p);for(let m=0;m<g.length;m++){const b=g[m];b in u||(u[b]=p[b].bind(u))}}const i=(n==null?void 0:n.Parent)??Object;class a extends i{}Object.defineProperty(a,"name",{value:e});function c(u){var d;const p=n!=null&&n.Parent?new a:this;r(p,u),(d=p._zod).deferred??(d.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:u=>{var d,p;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(p=(d=u==null?void 0:u._zod)==null?void 0:d.traits)==null?void 0:p.has(e)}}),Object.defineProperty(c,"name",{value:e}),c}class nc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Uk extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const $k={};function Ks(e){return $k}function Zk(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function dv(e,t){return typeof t=="bigint"?t.toString():t}function R0(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function I0(e){return e==null}function L0(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function oM(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d!=null&&d[1]&&(i=Number.parseInt(d[1]))}const a=n>i?n:i,c=Number.parseInt(e.toFixed(a).replace(".","")),u=Number.parseInt(t.toFixed(a).replace(".",""));return c%u/10**a}const l1=Symbol("evaluating");function zt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==l1)return r===void 0&&(r=l1,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Qa(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Xs(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function c1(e){return JSON.stringify(e)}function sM(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Hk="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Zh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const aM=R0(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Cc(e){if(Zh(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Zh(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Wk(e){return Cc(e)?{...e}:Array.isArray(e)?[...e]:e}const lM=new Set(["string","number","symbol"]);function Pc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ea(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function tt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function cM(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const uM={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function dM(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=Xs(e._zod.def,{get shape(){const c={};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&(c[u]=n.shape[u])}return Qa(this,"shape",c),c},checks:[]});return ea(e,a)}function fM(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=Xs(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&delete c[u]}return Qa(this,"shape",c),c},checks:[]});return ea(e,a)}function hM(e,t){if(!Cc(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const a=e._zod.def.shape;for(const c in t)if(Object.getOwnPropertyDescriptor(a,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=Xs(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Qa(this,"shape",a),a}});return ea(e,i)}function pM(e,t){if(!Cc(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Xs(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Qa(this,"shape",r),r}});return ea(e,n)}function mM(e,t){const n=Xs(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Qa(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return ea(e,n)}function gM(e,t,n){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=Xs(t._zod.def,{get shape(){const u=t._zod.def.shape,d={...u};if(n)for(const p in n){if(!(p in u))throw new Error(`Unrecognized key: "${p}"`);n[p]&&(d[p]=e?new e({type:"optional",innerType:u[p]}):u[p])}else for(const p in u)d[p]=e?new e({type:"optional",innerType:u[p]}):u[p];return Qa(this,"shape",d),d},checks:[]});return ea(t,c)}function yM(e,t,n){const r=Xs(t._zod.def,{get shape(){const i=t._zod.def.shape,a={...i};if(n)for(const c in n){if(!(c in a))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(a[c]=new e({type:"nonoptional",innerType:i[c]}))}else for(const c in i)a[c]=new e({type:"nonoptional",innerType:i[c]});return Qa(this,"shape",a),a}});return ea(t,r)}function Xl(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Oa(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function uh(e){return typeof e=="string"?e:e==null?void 0:e.message}function Gs(e,t,n){var i,a,c,u,d,p;const r={...e,path:e.path??[]};if(!e.message){const g=uh((c=(a=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:a.error)==null?void 0:c.call(a,e))??uh((u=t==null?void 0:t.error)==null?void 0:u.call(t,e))??uh((d=n.customError)==null?void 0:d.call(n,e))??uh((p=n.localeError)==null?void 0:p.call(n,e))??"Invalid input";r.message=g}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function O0(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function sd(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Vk=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,dv,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},qk=Te("$ZodError",Vk),Kk=Te("$ZodError",Vk,{Parent:Error});function vM(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function wM(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(c=>r({issues:c}));else if(a.code==="invalid_key")r({issues:a.issues});else if(a.code==="invalid_element")r({issues:a.issues});else if(a.path.length===0)n._errors.push(t(a));else{let c=n,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(t(a))):c[d]=c[d]||{_errors:[]},c=c[d],u++}}};return r(e),n}const M0=e=>(t,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},c=t._zod.run({value:n,issues:[]},a);if(c instanceof Promise)throw new nc;if(c.issues.length){const u=new((i==null?void 0:i.Err)??e)(c.issues.map(d=>Gs(d,a,Ks())));throw Hk(u,i==null?void 0:i.callee),u}return c.value},j0=e=>async(t,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let c=t._zod.run({value:n,issues:[]},a);if(c instanceof Promise&&(c=await c),c.issues.length){const u=new((i==null?void 0:i.Err)??e)(c.issues.map(d=>Gs(d,a,Ks())));throw Hk(u,i==null?void 0:i.callee),u}return c.value},bp=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new nc;return a.issues.length?{success:!1,error:new(e??qk)(a.issues.map(c=>Gs(c,i,Ks())))}:{success:!0,data:a.value}},_M=bp(Kk),Ep=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(c=>Gs(c,i,Ks())))}:{success:!0,data:a.value}},xM=Ep(Kk),bM=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return M0(e)(t,n,i)},EM=e=>(t,n,r)=>M0(e)(t,n,r),kM=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return j0(e)(t,n,i)},SM=e=>async(t,n,r)=>j0(e)(t,n,r),CM=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return bp(e)(t,n,i)},PM=e=>(t,n,r)=>bp(e)(t,n,r),TM=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ep(e)(t,n,i)},NM=e=>async(t,n,r)=>Ep(e)(t,n,r),AM=/^[cC][^\s-]{8,}$/,RM=/^[0-9a-z]+$/,IM=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,LM=/^[0-9a-vA-V]{20}$/,OM=/^[A-Za-z0-9]{27}$/,MM=/^[a-zA-Z0-9_-]{21}$/,jM=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,zM=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,u1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,DM=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,BM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function FM(){return new RegExp(BM,"u")}const UM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$M=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,ZM=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,HM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,WM=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Gk=/^[A-Za-z0-9_-]*$/,VM=/^\+[1-9]\d{6,14}$/,Yk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",qM=new RegExp(`^${Yk}$`);function Jk(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function KM(e){return new RegExp(`^${Jk(e)}$`)}function GM(e){const t=Jk({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Yk}T(?:${r})$`)}const YM=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},JM=/^-?\d+$/,Qk=/^-?\d+(?:\.\d+)?$/,QM=/^(?:true|false)$/i,XM=/^[^A-Z]*$/,ej=/^[^a-z]*$/,mr=Te("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Xk={number:"number",bigint:"bigint",object:"date"},eS=Te("$ZodCheckLessThan",(e,t)=>{mr.init(e,t);const n=Xk[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,a=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tS=Te("$ZodCheckGreaterThan",(e,t)=>{mr.init(e,t);const n=Xk[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,a=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tj=Te("$ZodCheckMultipleOf",(e,t)=>{mr.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):oM(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),nj=Te("$ZodCheckNumberFormat",(e,t)=>{var c;mr.init(e,t),t.format=t.format||"float64";const n=(c=t.format)==null?void 0:c.includes("int"),r=n?"int":"number",[i,a]=uM[t.format];e._zod.onattach.push(u=>{const d=u._zod.bag;d.format=t.format,d.minimum=i,d.maximum=a,n&&(d.pattern=JM)}),e._zod.check=u=>{const d=u.value;if(n){if(!Number.isInteger(d)){u.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:d,inst:e});return}if(!Number.isSafeInteger(d)){d>0?u.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):u.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}d<i&&u.issues.push({origin:"number",input:d,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),d>a&&u.issues.push({origin:"number",input:d,code:"too_big",maximum:a,inclusive:!0,inst:e,continue:!t.abort})}}),rj=Te("$ZodCheckMaxLength",(e,t)=>{var n;mr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!I0(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const c=O0(i);r.issues.push({origin:c,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),ij=Te("$ZodCheckMinLength",(e,t)=>{var n;mr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!I0(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const c=O0(i);r.issues.push({origin:c,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),oj=Te("$ZodCheckLengthEquals",(e,t)=>{var n;mr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!I0(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,a=i.length;if(a===t.length)return;const c=O0(i),u=a>t.length;r.issues.push({origin:c,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),kp=Te("$ZodCheckStringFormat",(e,t)=>{var n,r;mr.init(e,t),e._zod.onattach.push(i=>{const a=i._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),sj=Te("$ZodCheckRegex",(e,t)=>{kp.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),aj=Te("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=XM),kp.init(e,t)}),lj=Te("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=ej),kp.init(e,t)}),cj=Te("$ZodCheckIncludes",(e,t)=>{mr.init(e,t);const n=Pc(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),uj=Te("$ZodCheckStartsWith",(e,t)=>{mr.init(e,t);const n=new RegExp(`^${Pc(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),dj=Te("$ZodCheckEndsWith",(e,t)=>{mr.init(e,t);const n=new RegExp(`.*${Pc(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),fj=Te("$ZodCheckOverwrite",(e,t)=>{mr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class hj{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(c=>c),i=Math.min(...r.map(c=>c.length-c.trimStart().length)),a=r.map(c=>c.slice(i)).map(c=>" ".repeat(this.indent*2)+c);for(const c of a)this.content.push(c)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new t(...n,i.join(`
`))}}const pj={major:4,minor:3,patch:6},Vt=Te("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=pj;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const a of r)for(const c of a._zod.onattach)c(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const a=(u,d,p)=>{let g=Xl(u),m;for(const b of d){if(b._zod.def.when){if(!b._zod.def.when(u))continue}else if(g)continue;const x=u.issues.length,k=b._zod.check(u);if(k instanceof Promise&&(p==null?void 0:p.async)===!1)throw new nc;if(m||k instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await k,u.issues.length!==x&&(g||(g=Xl(u,x)))});else{if(u.issues.length===x)continue;g||(g=Xl(u,x))}}return m?m.then(()=>u):u},c=(u,d,p)=>{if(Xl(u))return u.aborted=!0,u;const g=a(d,r,p);if(g instanceof Promise){if(p.async===!1)throw new nc;return g.then(m=>e._zod.parse(m,p))}return e._zod.parse(g,p)};e._zod.run=(u,d)=>{if(d.skipChecks)return e._zod.parse(u,d);if(d.direction==="backward"){const g=e._zod.parse({value:u.value,issues:[]},{...d,skipChecks:!0});return g instanceof Promise?g.then(m=>c(m,u,d)):c(g,u,d)}const p=e._zod.parse(u,d);if(p instanceof Promise){if(d.async===!1)throw new nc;return p.then(g=>a(g,r,d))}return a(p,r,d)}}zt(e,"~standard",()=>({validate:a=>{var c;try{const u=_M(e,a);return u.success?{value:u.data}:{issues:(c=u.error)==null?void 0:c.issues}}catch{return xM(e,a).then(d=>{var p;return d.success?{value:d.data}:{issues:(p=d.error)==null?void 0:p.issues}})}},vendor:"zod",version:1}))}),z0=Te("$ZodString",(e,t)=>{var n;Vt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??YM(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Gt=Te("$ZodStringFormat",(e,t)=>{kp.init(e,t),z0.init(e,t)}),mj=Te("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=zM),Gt.init(e,t)}),gj=Te("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=u1(r))}else t.pattern??(t.pattern=u1());Gt.init(e,t)}),yj=Te("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=DM),Gt.init(e,t)}),vj=Te("$ZodURL",(e,t)=>{Gt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),wj=Te("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=FM()),Gt.init(e,t)}),_j=Te("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=MM),Gt.init(e,t)}),xj=Te("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=AM),Gt.init(e,t)}),bj=Te("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=RM),Gt.init(e,t)}),Ej=Te("$ZodULID",(e,t)=>{t.pattern??(t.pattern=IM),Gt.init(e,t)}),kj=Te("$ZodXID",(e,t)=>{t.pattern??(t.pattern=LM),Gt.init(e,t)}),Sj=Te("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=OM),Gt.init(e,t)}),Cj=Te("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=GM(t)),Gt.init(e,t)}),Pj=Te("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=qM),Gt.init(e,t)}),Tj=Te("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=KM(t)),Gt.init(e,t)}),Nj=Te("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=jM),Gt.init(e,t)}),Aj=Te("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=UM),Gt.init(e,t),e._zod.bag.format="ipv4"}),Rj=Te("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=$M),Gt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Ij=Te("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=ZM),Gt.init(e,t)}),Lj=Te("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=HM),Gt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,a]=r;if(!a)throw new Error;const c=Number(a);if(`${c}`!==a)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function nS(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Oj=Te("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=WM),Gt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{nS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Mj(e){if(!Gk.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return nS(n)}const jj=Te("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Gk),Gt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{Mj(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),zj=Te("$ZodE164",(e,t)=>{t.pattern??(t.pattern=VM),Gt.init(e,t)});function Dj(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const Bj=Te("$ZodJWT",(e,t)=>{Gt.init(e,t),e._zod.check=n=>{Dj(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),rS=Te("$ZodNumber",(e,t)=>{Vt.init(e,t),e._zod.pattern=e._zod.bag.pattern??Qk,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...a?{received:a}:{}}),n}}),Fj=Te("$ZodNumberFormat",(e,t)=>{nj.init(e,t),rS.init(e,t)}),Uj=Te("$ZodBoolean",(e,t)=>{Vt.init(e,t),e._zod.pattern=QM,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),$j=Te("$ZodUnknown",(e,t)=>{Vt.init(e,t),e._zod.parse=n=>n}),Zj=Te("$ZodNever",(e,t)=>{Vt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function d1(e,t,n){e.issues.length&&t.issues.push(...Oa(n,e.issues)),t.value[n]=e.value}const Hj=Te("$ZodArray",(e,t)=>{Vt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const a=[];for(let c=0;c<i.length;c++){const u=i[c],d=t.element._zod.run({value:u,issues:[]},r);d instanceof Promise?a.push(d.then(p=>d1(p,n,c))):d1(d,n,c)}return a.length?Promise.all(a).then(()=>n):n}});function Hh(e,t,n,r,i){if(e.issues.length){if(i&&!(n in r))return;t.issues.push(...Oa(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function iS(e){var r,i,a,c;const t=Object.keys(e.shape);for(const u of t)if(!((c=(a=(i=(r=e.shape)==null?void 0:r[u])==null?void 0:i._zod)==null?void 0:a.traits)!=null&&c.has("$ZodType")))throw new Error(`Invalid element at key "${u}": expected a Zod schema`);const n=cM(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function oS(e,t,n,r,i,a){const c=[],u=i.keySet,d=i.catchall._zod,p=d.def.type,g=d.optout==="optional";for(const m in t){if(u.has(m))continue;if(p==="never"){c.push(m);continue}const b=d.run({value:t[m],issues:[]},r);b instanceof Promise?e.push(b.then(x=>Hh(x,n,m,t,g))):Hh(b,n,m,t,g)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const Wj=Te("$ZodObject",(e,t)=>{Vt.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const r=R0(()=>iS(t));zt(e._zod,"propValues",()=>{const u=t.shape,d={};for(const p in u){const g=u[p]._zod;if(g.values){d[p]??(d[p]=new Set);for(const m of g.values)d[p].add(m)}}return d});const i=Zh,a=t.catchall;let c;e._zod.parse=(u,d)=>{c??(c=r.value);const p=u.value;if(!i(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),u;u.value={};const g=[],m=c.shape;for(const b of c.keys){const x=m[b],k=x._zod.optout==="optional",v=x._zod.run({value:p[b],issues:[]},d);v instanceof Promise?g.push(v.then(E=>Hh(E,u,b,p,k))):Hh(v,u,b,p,k)}return a?oS(g,p,u,d,r.value,e):g.length?Promise.all(g).then(()=>u):u}}),Vj=Te("$ZodObjectJIT",(e,t)=>{Wj.init(e,t);const n=e._zod.parse,r=R0(()=>iS(t)),i=b=>{var R;const x=new hj(["shape","payload","ctx"]),k=r.value,v=z=>{const D=c1(z);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};x.write("const input = payload.value;");const E=Object.create(null);let S=0;for(const z of k.keys)E[z]=`key_${S++}`;x.write("const newResult = {};");for(const z of k.keys){const D=E[z],Z=c1(z),V=b[z],Y=((R=V==null?void 0:V._zod)==null?void 0:R.optout)==="optional";x.write(`const ${D} = ${v(z)};`),Y?x.write(`
        if (${D}.issues.length) {
          if (${Z} in input) {
            payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Z}, ...iss.path] : [${Z}]
            })));
          }
        }
        
        if (${D}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${D}.value;
        }
        
      `):x.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Z}, ...iss.path] : [${Z}]
          })));
        }
        
        if (${D}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${D}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const T=x.compile();return(z,D)=>T(b,z,D)};let a;const c=Zh,u=!$k.jitless,p=u&&aM.value,g=t.catchall;let m;e._zod.parse=(b,x)=>{m??(m=r.value);const k=b.value;return c(k)?u&&p&&(x==null?void 0:x.async)===!1&&x.jitless!==!0?(a||(a=i(t.shape)),b=a(b,x),g?oS([],k,b,x,m,e):b):n(b,x):(b.issues.push({expected:"object",code:"invalid_type",input:k,inst:e}),b)}});function f1(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const i=e.filter(a=>!Xl(a));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(c=>Gs(c,r,Ks())))}),t)}const qj=Te("$ZodUnion",(e,t)=>{Vt.init(e,t),zt(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),zt(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),zt(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),zt(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${i.map(a=>L0(a.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(n)return r(i,a);let c=!1;const u=[];for(const d of t.options){const p=d._zod.run({value:i.value,issues:[]},a);if(p instanceof Promise)u.push(p),c=!0;else{if(p.issues.length===0)return p;u.push(p)}}return c?Promise.all(u).then(d=>f1(d,i,e,a)):f1(u,i,e,a)}}),Kj=Te("$ZodIntersection",(e,t)=>{Vt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,a=t.left._zod.run({value:i,issues:[]},r),c=t.right._zod.run({value:i,issues:[]},r);return a instanceof Promise||c instanceof Promise?Promise.all([a,c]).then(([d,p])=>h1(n,d,p)):h1(n,a,c)}});function fv(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Cc(e)&&Cc(t)){const n=Object.keys(t),r=Object.keys(e).filter(a=>n.indexOf(a)!==-1),i={...e,...t};for(const a of r){const c=fv(e[a],t[a]);if(!c.valid)return{valid:!1,mergeErrorPath:[a,...c.mergeErrorPath]};i[a]=c.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],a=t[r],c=fv(i,a);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function h1(e,t,n){const r=new Map;let i;for(const u of t.issues)if(u.code==="unrecognized_keys"){i??(i=u);for(const d of u.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else e.issues.push(u);for(const u of n.issues)if(u.code==="unrecognized_keys")for(const d of u.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else e.issues.push(u);const a=[...r].filter(([,u])=>u.l&&u.r).map(([u])=>u);if(a.length&&i&&e.issues.push({...i,keys:a}),Xl(e))return e;const c=fv(t.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return e.value=c.data,e}const Gj=Te("$ZodTuple",(e,t)=>{Vt.init(e,t);const n=t.items;e._zod.parse=(r,i)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({input:a,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const c=[],u=[...n].reverse().findIndex(g=>g._zod.optin!=="optional"),d=u===-1?0:n.length-u;if(!t.rest){const g=a.length>n.length,m=a.length<d-1;if(g||m)return r.issues.push({...g?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:a,inst:e,origin:"array"}),r}let p=-1;for(const g of n){if(p++,p>=a.length&&p>=d)continue;const m=g._zod.run({value:a[p],issues:[]},i);m instanceof Promise?c.push(m.then(b=>dh(b,r,p))):dh(m,r,p)}if(t.rest){const g=a.slice(n.length);for(const m of g){p++;const b=t.rest._zod.run({value:m,issues:[]},i);b instanceof Promise?c.push(b.then(x=>dh(x,r,p))):dh(b,r,p)}}return c.length?Promise.all(c).then(()=>r):r}});function dh(e,t,n){e.issues.length&&t.issues.push(...Oa(n,e.issues)),t.value[n]=e.value}const Yj=Te("$ZodRecord",(e,t)=>{Vt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Cc(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const a=[],c=t.keyType._zod.values;if(c){n.value={};const u=new Set;for(const p of c)if(typeof p=="string"||typeof p=="number"||typeof p=="symbol"){u.add(typeof p=="number"?p.toString():p);const g=t.valueType._zod.run({value:i[p],issues:[]},r);g instanceof Promise?a.push(g.then(m=>{m.issues.length&&n.issues.push(...Oa(p,m.issues)),n.value[p]=m.value})):(g.issues.length&&n.issues.push(...Oa(p,g.issues)),n.value[p]=g.value)}let d;for(const p in i)u.has(p)||(d=d??[],d.push(p));d&&d.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:d})}else{n.value={};for(const u of Reflect.ownKeys(i)){if(u==="__proto__")continue;let d=t.keyType._zod.run({value:u,issues:[]},r);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof u=="string"&&Qk.test(u)&&d.issues.length){const m=t.keyType._zod.run({value:Number(u),issues:[]},r);if(m instanceof Promise)throw new Error("Async schemas not supported in object keys currently");m.issues.length===0&&(d=m)}if(d.issues.length){t.mode==="loose"?n.value[u]=i[u]:n.issues.push({code:"invalid_key",origin:"record",issues:d.issues.map(m=>Gs(m,r,Ks())),input:u,path:[u],inst:e});continue}const g=t.valueType._zod.run({value:i[u],issues:[]},r);g instanceof Promise?a.push(g.then(m=>{m.issues.length&&n.issues.push(...Oa(u,m.issues)),n.value[d.value]=m.value})):(g.issues.length&&n.issues.push(...Oa(u,g.issues)),n.value[d.value]=g.value)}}return a.length?Promise.all(a).then(()=>n):n}}),Jj=Te("$ZodEnum",(e,t)=>{Vt.init(e,t);const n=Zk(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>lM.has(typeof i)).map(i=>typeof i=="string"?Pc(i):i.toString()).join("|")})$`),e._zod.parse=(i,a)=>{const c=i.value;return r.has(c)||i.issues.push({code:"invalid_value",values:n,input:c,inst:e}),i}}),Qj=Te("$ZodLiteral",(e,t)=>{if(Vt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Pc(r):r?Pc(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const a=r.value;return n.has(a)||r.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),r}}),Xj=Te("$ZodTransform",(e,t)=>{Vt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Uk(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(c=>(n.value=c,n));if(i instanceof Promise)throw new nc;return n.value=i,n}});function p1(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const sS=Te("$ZodOptional",(e,t)=>{Vt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",zt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),zt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${L0(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>p1(a,n.value)):p1(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),e8=Te("$ZodExactOptional",(e,t)=>{sS.init(e,t),zt(e._zod,"values",()=>t.innerType._zod.values),zt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),t8=Te("$ZodNullable",(e,t)=>{Vt.init(e,t),zt(e._zod,"optin",()=>t.innerType._zod.optin),zt(e._zod,"optout",()=>t.innerType._zod.optout),zt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${L0(n.source)}|null)$`):void 0}),zt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),n8=Te("$ZodDefault",(e,t)=>{Vt.init(e,t),e._zod.optin="optional",zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>m1(a,t)):m1(i,t)}});function m1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const r8=Te("$ZodPrefault",(e,t)=>{Vt.init(e,t),e._zod.optin="optional",zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),i8=Te("$ZodNonOptional",(e,t)=>{Vt.init(e,t),zt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>g1(a,e)):g1(i,e)}});function g1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const o8=Te("$ZodCatch",(e,t)=>{Vt.init(e,t),zt(e._zod,"optin",()=>t.innerType._zod.optin),zt(e._zod,"optout",()=>t.innerType._zod.optout),zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(c=>Gs(c,r,Ks()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(a=>Gs(a,r,Ks()))},input:n.value}),n.issues=[]),n)}}),s8=Te("$ZodPipe",(e,t)=>{Vt.init(e,t),zt(e._zod,"values",()=>t.in._zod.values),zt(e._zod,"optin",()=>t.in._zod.optin),zt(e._zod,"optout",()=>t.out._zod.optout),zt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const a=t.out._zod.run(n,r);return a instanceof Promise?a.then(c=>fh(c,t.in,r)):fh(a,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(a=>fh(a,t.out,r)):fh(i,t.out,r)}});function fh(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const a8=Te("$ZodReadonly",(e,t)=>{Vt.init(e,t),zt(e._zod,"propValues",()=>t.innerType._zod.propValues),zt(e._zod,"values",()=>t.innerType._zod.values),zt(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),zt(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(y1):y1(i)}});function y1(e){return e.value=Object.freeze(e.value),e}const l8=Te("$ZodCustom",(e,t)=>{mr.init(e,t),Vt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(a=>v1(a,n,r,e));v1(i,n,r,e)}});function v1(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(sd(i))}}var w1;class c8{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function u8(){return new c8}(w1=globalThis).__zod_globalRegistry??(w1.__zod_globalRegistry=u8());const qu=globalThis.__zod_globalRegistry;function d8(e,t){return new e({type:"string",...tt(t)})}function aS(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...tt(t)})}function _1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...tt(t)})}function f8(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...tt(t)})}function h8(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...tt(t)})}function p8(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...tt(t)})}function m8(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...tt(t)})}function lS(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...tt(t)})}function g8(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...tt(t)})}function y8(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...tt(t)})}function v8(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...tt(t)})}function w8(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...tt(t)})}function _8(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...tt(t)})}function x8(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...tt(t)})}function b8(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...tt(t)})}function E8(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...tt(t)})}function k8(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...tt(t)})}function S8(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...tt(t)})}function C8(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...tt(t)})}function P8(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...tt(t)})}function T8(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...tt(t)})}function N8(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...tt(t)})}function A8(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...tt(t)})}function R8(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...tt(t)})}function I8(e,t){return new e({type:"string",format:"date",check:"string_format",...tt(t)})}function L8(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...tt(t)})}function O8(e,t){return new e({type:"string",format:"duration",check:"string_format",...tt(t)})}function M8(e,t){return new e({type:"number",checks:[],...tt(t)})}function j8(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...tt(t)})}function z8(e,t){return new e({type:"boolean",...tt(t)})}function D8(e){return new e({type:"unknown"})}function B8(e,t){return new e({type:"never",...tt(t)})}function x1(e,t){return new eS({check:"less_than",...tt(t),value:e,inclusive:!1})}function Fg(e,t){return new eS({check:"less_than",...tt(t),value:e,inclusive:!0})}function b1(e,t){return new tS({check:"greater_than",...tt(t),value:e,inclusive:!1})}function Ug(e,t){return new tS({check:"greater_than",...tt(t),value:e,inclusive:!0})}function E1(e,t){return new tj({check:"multiple_of",...tt(t),value:e})}function cS(e,t){return new rj({check:"max_length",...tt(t),maximum:e})}function Wh(e,t){return new ij({check:"min_length",...tt(t),minimum:e})}function uS(e,t){return new oj({check:"length_equals",...tt(t),length:e})}function F8(e,t){return new sj({check:"string_format",format:"regex",...tt(t),pattern:e})}function U8(e){return new aj({check:"string_format",format:"lowercase",...tt(e)})}function $8(e){return new lj({check:"string_format",format:"uppercase",...tt(e)})}function Z8(e,t){return new cj({check:"string_format",format:"includes",...tt(t),includes:e})}function H8(e,t){return new uj({check:"string_format",format:"starts_with",...tt(t),prefix:e})}function W8(e,t){return new dj({check:"string_format",format:"ends_with",...tt(t),suffix:e})}function Mc(e){return new fj({check:"overwrite",tx:e})}function V8(e){return Mc(t=>t.normalize(e))}function q8(){return Mc(e=>e.trim())}function K8(){return Mc(e=>e.toLowerCase())}function G8(){return Mc(e=>e.toUpperCase())}function Y8(){return Mc(e=>sM(e))}function J8(e,t,n){return new e({type:"array",element:t,...tt(n)})}function Q8(e,t,n){return new e({type:"custom",check:"custom",fn:t,...tt(n)})}function X8(e){const t=ez(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(sd(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(sd(i))}},e(n.value,n)));return t}function ez(e,t){const n=new mr({check:"custom",...tt(t)});return n._zod.check=e,n}function dS(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??qu,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function ln(e,t,n={path:[],schemaPath:[]}){var g,m;var r;const i=e._zod.def,a=t.seen.get(e);if(a)return a.count++,n.schemaPath.includes(e)&&(a.cycle=n.path),a.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,c);const u=(m=(g=e._zod).toJSONSchema)==null?void 0:m.call(g);if(u)c.schema=u;else{const b={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,c.schema,b);else{const k=c.schema,v=t.processors[i.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);v(e,t,k,b)}const x=e._zod.parent;x&&(c.ref||(c.ref=x),ln(x,t,b),t.seen.get(x).isParent=!0)}const d=t.metadataRegistry.get(e);return d&&Object.assign(c.schema,d),t.io==="input"&&Gn(e)&&(delete c.schema.examples,delete c.schema.default),t.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,t.seen.get(e).schema}function fS(e,t){var c,u,d,p;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const g of e.seen.entries()){const m=(c=e.metadataRegistry.get(g[0]))==null?void 0:c.id;if(m){const b=r.get(m);if(b&&b!==g[0])throw new Error(`Duplicate schema id "${m}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(m,g[0])}}const i=g=>{var v;const m=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const E=(v=e.external.registry.get(g[0]))==null?void 0:v.id,S=e.external.uri??(R=>R);if(E)return{ref:S(E)};const T=g[1].defId??g[1].schema.id??`schema${e.counter++}`;return g[1].defId=T,{defId:T,ref:`${S("__shared")}#/${m}/${T}`}}if(g[1]===n)return{ref:"#"};const x=`#/${m}/`,k=g[1].schema.id??`__schema${e.counter++}`;return{defId:k,ref:x+k}},a=g=>{if(g[1].schema.$ref)return;const m=g[1],{ref:b,defId:x}=i(g);m.def={...m.schema},x&&(m.defId=x);const k=m.schema;for(const v in k)delete k[v];k.$ref=b};if(e.cycles==="throw")for(const g of e.seen.entries()){const m=g[1];if(m.cycle)throw new Error(`Cycle detected: #/${(u=m.cycle)==null?void 0:u.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const g of e.seen.entries()){const m=g[1];if(t===g[0]){a(g);continue}if(e.external){const x=(d=e.external.registry.get(g[0]))==null?void 0:d.id;if(t!==g[0]&&x){a(g);continue}}if((p=e.metadataRegistry.get(g[0]))==null?void 0:p.id){a(g);continue}if(m.cycle){a(g);continue}if(m.count>1&&e.reused==="ref"){a(g);continue}}}function hS(e,t){var c,u,d;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=p=>{const g=e.seen.get(p);if(g.ref===null)return;const m=g.def??g.schema,b={...m},x=g.ref;if(g.ref=null,x){r(x);const v=e.seen.get(x),E=v.schema;if(E.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(E)):Object.assign(m,E),Object.assign(m,b),p._zod.parent===x)for(const T in m)T==="$ref"||T==="allOf"||T in b||delete m[T];if(E.$ref&&v.def)for(const T in m)T==="$ref"||T==="allOf"||T in v.def&&JSON.stringify(m[T])===JSON.stringify(v.def[T])&&delete m[T]}const k=p._zod.parent;if(k&&k!==x){r(k);const v=e.seen.get(k);if(v!=null&&v.schema.$ref&&(m.$ref=v.schema.$ref,v.def))for(const E in m)E==="$ref"||E==="allOf"||E in v.def&&JSON.stringify(m[E])===JSON.stringify(v.def[E])&&delete m[E]}e.override({zodSchema:p,jsonSchema:m,path:g.path??[]})};for(const p of[...e.seen.entries()].reverse())r(p[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,(c=e.external)!=null&&c.uri){const p=(u=e.external.registry.get(t))==null?void 0:u.id;if(!p)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(p)}Object.assign(i,n.def??n.schema);const a=((d=e.external)==null?void 0:d.defs)??{};for(const p of e.seen.entries()){const g=p[1];g.def&&g.defId&&(a[g.defId]=g.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?i.$defs=a:i.definitions=a);try{const p=JSON.parse(JSON.stringify(i));return Object.defineProperty(p,"~standard",{value:{...t["~standard"],jsonSchema:{input:Vh(t,"input",e.processors),output:Vh(t,"output",e.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function Gn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Gn(r.element,n);if(r.type==="set")return Gn(r.valueType,n);if(r.type==="lazy")return Gn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Gn(r.innerType,n);if(r.type==="intersection")return Gn(r.left,n)||Gn(r.right,n);if(r.type==="record"||r.type==="map")return Gn(r.keyType,n)||Gn(r.valueType,n);if(r.type==="pipe")return Gn(r.in,n)||Gn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Gn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Gn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Gn(i,n))return!0;return!!(r.rest&&Gn(r.rest,n))}return!1}const tz=(e,t={})=>n=>{const r=dS({...n,processors:t});return ln(e,r),fS(r,e),hS(r,e)},Vh=(e,t,n={})=>r=>{const{libraryOptions:i,target:a}=r??{},c=dS({...i??{},target:a,io:t,processors:n});return ln(e,c),fS(c,e),hS(c,e)},nz={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},rz=(e,t,n,r)=>{const i=n;i.type="string";const{minimum:a,maximum:c,format:u,patterns:d,contentEncoding:p}=e._zod.bag;if(typeof a=="number"&&(i.minLength=a),typeof c=="number"&&(i.maxLength=c),u&&(i.format=nz[u]??u,i.format===""&&delete i.format,u==="time"&&delete i.format),p&&(i.contentEncoding=p),d&&d.size>0){const g=[...d];g.length===1?i.pattern=g[0].source:g.length>1&&(i.allOf=[...g.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},iz=(e,t,n,r)=>{const i=n,{minimum:a,maximum:c,format:u,multipleOf:d,exclusiveMaximum:p,exclusiveMinimum:g}=e._zod.bag;typeof u=="string"&&u.includes("int")?i.type="integer":i.type="number",typeof g=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=g,i.exclusiveMinimum=!0):i.exclusiveMinimum=g),typeof a=="number"&&(i.minimum=a,typeof g=="number"&&t.target!=="draft-04"&&(g>=a?delete i.minimum:delete i.exclusiveMinimum)),typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=p,i.exclusiveMaximum=!0):i.exclusiveMaximum=p),typeof c=="number"&&(i.maximum=c,typeof p=="number"&&t.target!=="draft-04"&&(p<=c?delete i.maximum:delete i.exclusiveMaximum)),typeof d=="number"&&(i.multipleOf=d)},oz=(e,t,n,r)=>{n.type="boolean"},sz=(e,t,n,r)=>{n.not={}},az=(e,t,n,r)=>{},lz=(e,t,n,r)=>{const i=e._zod.def,a=Zk(i.entries);a.every(c=>typeof c=="number")&&(n.type="number"),a.every(c=>typeof c=="string")&&(n.type="string"),n.enum=a},cz=(e,t,n,r)=>{const i=e._zod.def,a=[];for(const c of i.values)if(c===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof c=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(c))}else a.push(c);if(a.length!==0)if(a.length===1){const c=a[0];n.type=c===null?"null":typeof c,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[c]:n.const=c}else a.every(c=>typeof c=="number")&&(n.type="number"),a.every(c=>typeof c=="string")&&(n.type="string"),a.every(c=>typeof c=="boolean")&&(n.type="boolean"),a.every(c=>c===null)&&(n.type="null"),n.enum=a},uz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},dz=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},fz=(e,t,n,r)=>{const i=n,a=e._zod.def,{minimum:c,maximum:u}=e._zod.bag;typeof c=="number"&&(i.minItems=c),typeof u=="number"&&(i.maxItems=u),i.type="array",i.items=ln(a.element,t,{...r,path:[...r.path,"items"]})},hz=(e,t,n,r)=>{var p;const i=n,a=e._zod.def;i.type="object",i.properties={};const c=a.shape;for(const g in c)i.properties[g]=ln(c[g],t,{...r,path:[...r.path,"properties",g]});const u=new Set(Object.keys(c)),d=new Set([...u].filter(g=>{const m=a.shape[g]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));d.size>0&&(i.required=Array.from(d)),((p=a.catchall)==null?void 0:p._zod.def.type)==="never"?i.additionalProperties=!1:a.catchall?a.catchall&&(i.additionalProperties=ln(a.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},pz=(e,t,n,r)=>{const i=e._zod.def,a=i.inclusive===!1,c=i.options.map((u,d)=>ln(u,t,{...r,path:[...r.path,a?"oneOf":"anyOf",d]}));a?n.oneOf=c:n.anyOf=c},mz=(e,t,n,r)=>{const i=e._zod.def,a=ln(i.left,t,{...r,path:[...r.path,"allOf",0]}),c=ln(i.right,t,{...r,path:[...r.path,"allOf",1]}),u=p=>"allOf"in p&&Object.keys(p).length===1,d=[...u(a)?a.allOf:[a],...u(c)?c.allOf:[c]];n.allOf=d},gz=(e,t,n,r)=>{const i=n,a=e._zod.def;i.type="array";const c=t.target==="draft-2020-12"?"prefixItems":"items",u=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",d=a.items.map((b,x)=>ln(b,t,{...r,path:[...r.path,c,x]})),p=a.rest?ln(a.rest,t,{...r,path:[...r.path,u,...t.target==="openapi-3.0"?[a.items.length]:[]]}):null;t.target==="draft-2020-12"?(i.prefixItems=d,p&&(i.items=p)):t.target==="openapi-3.0"?(i.items={anyOf:d},p&&i.items.anyOf.push(p),i.minItems=d.length,p||(i.maxItems=d.length)):(i.items=d,p&&(i.additionalItems=p));const{minimum:g,maximum:m}=e._zod.bag;typeof g=="number"&&(i.minItems=g),typeof m=="number"&&(i.maxItems=m)},yz=(e,t,n,r)=>{const i=n,a=e._zod.def;i.type="object";const c=a.keyType,u=c._zod.bag,d=u==null?void 0:u.patterns;if(a.mode==="loose"&&d&&d.size>0){const g=ln(a.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});i.patternProperties={};for(const m of d)i.patternProperties[m.source]=g}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(i.propertyNames=ln(a.keyType,t,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=ln(a.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const p=c._zod.values;if(p){const g=[...p].filter(m=>typeof m=="string"||typeof m=="number");g.length>0&&(i.required=g)}},vz=(e,t,n,r)=>{const i=e._zod.def,a=ln(i.innerType,t,r),c=t.seen.get(e);t.target==="openapi-3.0"?(c.ref=i.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},wz=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const a=t.seen.get(e);a.ref=i.innerType},_z=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const a=t.seen.get(e);a.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},xz=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const a=t.seen.get(e);a.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},bz=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const a=t.seen.get(e);a.ref=i.innerType;let c;try{c=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},Ez=(e,t,n,r)=>{const i=e._zod.def,a=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;ln(a,t,r);const c=t.seen.get(e);c.ref=a},kz=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const a=t.seen.get(e);a.ref=i.innerType,n.readOnly=!0},pS=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const a=t.seen.get(e);a.ref=i.innerType},Sz=Te("ZodISODateTime",(e,t)=>{Cj.init(e,t),tn.init(e,t)});function Cz(e){return R8(Sz,e)}const Pz=Te("ZodISODate",(e,t)=>{Pj.init(e,t),tn.init(e,t)});function Tz(e){return I8(Pz,e)}const Nz=Te("ZodISOTime",(e,t)=>{Tj.init(e,t),tn.init(e,t)});function Az(e){return L8(Nz,e)}const Rz=Te("ZodISODuration",(e,t)=>{Nj.init(e,t),tn.init(e,t)});function Iz(e){return O8(Rz,e)}const Lz=(e,t)=>{qk.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>wM(e,n)},flatten:{value:n=>vM(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,dv,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,dv,2)}},isEmpty:{get(){return e.issues.length===0}}})},Xr=Te("ZodError",Lz,{Parent:Error}),Oz=M0(Xr),Mz=j0(Xr),jz=bp(Xr),zz=Ep(Xr),Dz=bM(Xr),Bz=EM(Xr),Fz=kM(Xr),Uz=SM(Xr),$z=CM(Xr),Zz=PM(Xr),Hz=TM(Xr),Wz=NM(Xr),Yt=Te("ZodType",(e,t)=>(Vt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Vh(e,"input"),output:Vh(e,"output")}}),e.toJSONSchema=tz(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Xs(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>ea(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>Oz(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>jz(e,n,r),e.parseAsync=async(n,r)=>Mz(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>zz(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>Dz(e,n,r),e.decode=(n,r)=>Bz(e,n,r),e.encodeAsync=async(n,r)=>Fz(e,n,r),e.decodeAsync=async(n,r)=>Uz(e,n,r),e.safeEncode=(n,r)=>$z(e,n,r),e.safeDecode=(n,r)=>Zz(e,n,r),e.safeEncodeAsync=async(n,r)=>Hz(e,n,r),e.safeDecodeAsync=async(n,r)=>Wz(e,n,r),e.refine=(n,r)=>e.check(z5(n,r)),e.superRefine=n=>e.check(D5(n)),e.overwrite=n=>e.check(Mc(n)),e.optional=()=>T1(e),e.exactOptional=()=>k5(e),e.nullable=()=>N1(e),e.nullish=()=>T1(N1(e)),e.nonoptional=n=>A5(e,n),e.array=()=>wS(e),e.or=n=>pv([e,n]),e.and=n=>g5(e,n),e.transform=n=>A1(e,b5(n)),e.default=n=>P5(e,n),e.prefault=n=>N5(e,n),e.catch=n=>I5(e,n),e.pipe=n=>A1(e,n),e.readonly=()=>M5(e),e.describe=n=>{const r=e.clone();return qu.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=qu.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return qu.get(e);const r=e.clone();return qu.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),mS=Te("_ZodString",(e,t)=>{z0.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(r,i,a)=>rz(e,r,i);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(F8(...r)),e.includes=(...r)=>e.check(Z8(...r)),e.startsWith=(...r)=>e.check(H8(...r)),e.endsWith=(...r)=>e.check(W8(...r)),e.min=(...r)=>e.check(Wh(...r)),e.max=(...r)=>e.check(cS(...r)),e.length=(...r)=>e.check(uS(...r)),e.nonempty=(...r)=>e.check(Wh(1,...r)),e.lowercase=r=>e.check(U8(r)),e.uppercase=r=>e.check($8(r)),e.trim=()=>e.check(q8()),e.normalize=(...r)=>e.check(V8(...r)),e.toLowerCase=()=>e.check(K8()),e.toUpperCase=()=>e.check(G8()),e.slugify=()=>e.check(Y8())}),Vz=Te("ZodString",(e,t)=>{z0.init(e,t),mS.init(e,t),e.email=n=>e.check(aS(gS,n)),e.url=n=>e.check(lS(yS,n)),e.jwt=n=>e.check(A8(a5,n)),e.emoji=n=>e.check(g8(qz,n)),e.guid=n=>e.check(_1(S1,n)),e.uuid=n=>e.check(f8(hh,n)),e.uuidv4=n=>e.check(h8(hh,n)),e.uuidv6=n=>e.check(p8(hh,n)),e.uuidv7=n=>e.check(m8(hh,n)),e.nanoid=n=>e.check(y8(Kz,n)),e.guid=n=>e.check(_1(S1,n)),e.cuid=n=>e.check(v8(Gz,n)),e.cuid2=n=>e.check(w8(Yz,n)),e.ulid=n=>e.check(_8(Jz,n)),e.base64=n=>e.check(P8(i5,n)),e.base64url=n=>e.check(T8(o5,n)),e.xid=n=>e.check(x8(Qz,n)),e.ksuid=n=>e.check(b8(Xz,n)),e.ipv4=n=>e.check(E8(e5,n)),e.ipv6=n=>e.check(k8(t5,n)),e.cidrv4=n=>e.check(S8(n5,n)),e.cidrv6=n=>e.check(C8(r5,n)),e.e164=n=>e.check(N8(s5,n)),e.datetime=n=>e.check(Cz(n)),e.date=n=>e.check(Tz(n)),e.time=n=>e.check(Az(n)),e.duration=n=>e.check(Iz(n))});function Ot(e){return d8(Vz,e)}const tn=Te("ZodStringFormat",(e,t)=>{Gt.init(e,t),mS.init(e,t)}),gS=Te("ZodEmail",(e,t)=>{yj.init(e,t),tn.init(e,t)});function k1(e){return aS(gS,e)}const S1=Te("ZodGUID",(e,t)=>{mj.init(e,t),tn.init(e,t)}),hh=Te("ZodUUID",(e,t)=>{gj.init(e,t),tn.init(e,t)}),yS=Te("ZodURL",(e,t)=>{vj.init(e,t),tn.init(e,t)});function Ku(e){return lS(yS,e)}const qz=Te("ZodEmoji",(e,t)=>{wj.init(e,t),tn.init(e,t)}),Kz=Te("ZodNanoID",(e,t)=>{_j.init(e,t),tn.init(e,t)}),Gz=Te("ZodCUID",(e,t)=>{xj.init(e,t),tn.init(e,t)}),Yz=Te("ZodCUID2",(e,t)=>{bj.init(e,t),tn.init(e,t)}),Jz=Te("ZodULID",(e,t)=>{Ej.init(e,t),tn.init(e,t)}),Qz=Te("ZodXID",(e,t)=>{kj.init(e,t),tn.init(e,t)}),Xz=Te("ZodKSUID",(e,t)=>{Sj.init(e,t),tn.init(e,t)}),e5=Te("ZodIPv4",(e,t)=>{Aj.init(e,t),tn.init(e,t)}),t5=Te("ZodIPv6",(e,t)=>{Rj.init(e,t),tn.init(e,t)}),n5=Te("ZodCIDRv4",(e,t)=>{Ij.init(e,t),tn.init(e,t)}),r5=Te("ZodCIDRv6",(e,t)=>{Lj.init(e,t),tn.init(e,t)}),i5=Te("ZodBase64",(e,t)=>{Oj.init(e,t),tn.init(e,t)}),o5=Te("ZodBase64URL",(e,t)=>{jj.init(e,t),tn.init(e,t)}),s5=Te("ZodE164",(e,t)=>{zj.init(e,t),tn.init(e,t)}),a5=Te("ZodJWT",(e,t)=>{Bj.init(e,t),tn.init(e,t)}),vS=Te("ZodNumber",(e,t)=>{rS.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(r,i,a)=>iz(e,r,i),e.gt=(r,i)=>e.check(b1(r,i)),e.gte=(r,i)=>e.check(Ug(r,i)),e.min=(r,i)=>e.check(Ug(r,i)),e.lt=(r,i)=>e.check(x1(r,i)),e.lte=(r,i)=>e.check(Fg(r,i)),e.max=(r,i)=>e.check(Fg(r,i)),e.int=r=>e.check(C1(r)),e.safe=r=>e.check(C1(r)),e.positive=r=>e.check(b1(0,r)),e.nonnegative=r=>e.check(Ug(0,r)),e.negative=r=>e.check(x1(0,r)),e.nonpositive=r=>e.check(Fg(0,r)),e.multipleOf=(r,i)=>e.check(E1(r,i)),e.step=(r,i)=>e.check(E1(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function yo(e){return M8(vS,e)}const l5=Te("ZodNumberFormat",(e,t)=>{Fj.init(e,t),vS.init(e,t)});function C1(e){return j8(l5,e)}const c5=Te("ZodBoolean",(e,t)=>{Uj.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>oz(e,n,r)});function Za(e){return z8(c5,e)}const u5=Te("ZodUnknown",(e,t)=>{$j.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>az()});function hv(){return D8(u5)}const d5=Te("ZodNever",(e,t)=>{Zj.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>sz(e,n,r)});function f5(e){return B8(d5,e)}const h5=Te("ZodArray",(e,t)=>{Hj.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>fz(e,n,r,i),e.element=t.element,e.min=(n,r)=>e.check(Wh(n,r)),e.nonempty=n=>e.check(Wh(1,n)),e.max=(n,r)=>e.check(cS(n,r)),e.length=(n,r)=>e.check(uS(n,r)),e.unwrap=()=>e.element});function wS(e,t){return J8(h5,e,t)}const _S=Te("ZodObject",(e,t)=>{Vj.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>hz(e,n,r,i),zt(e,"shape",()=>t.shape),e.keyof=()=>xS(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:hv()}),e.loose=()=>e.clone({...e._zod.def,catchall:hv()}),e.strict=()=>e.clone({...e._zod.def,catchall:f5()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>hM(e,n),e.safeExtend=n=>pM(e,n),e.merge=n=>mM(e,n),e.pick=n=>dM(e,n),e.omit=n=>fM(e,n),e.partial=(...n)=>gM(bS,e,n[0]),e.required=(...n)=>yM(ES,e,n[0])});function Po(e,t){const n={type:"object",shape:e??{},...tt(t)};return new _S(n)}function P1(e,t){return new _S({type:"object",shape:e,catchall:hv(),...tt(t)})}const p5=Te("ZodUnion",(e,t)=>{qj.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>pz(e,n,r,i),e.options=t.options});function pv(e,t){return new p5({type:"union",options:e,...tt(t)})}const m5=Te("ZodIntersection",(e,t)=>{Kj.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>mz(e,n,r,i)});function g5(e,t){return new m5({type:"intersection",left:e,right:t})}const y5=Te("ZodTuple",(e,t)=>{Gj.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>gz(e,n,r,i),e.rest=n=>e.clone({...e._zod.def,rest:n})});function Vr(e,t,n){const r=t instanceof Vt,i=r?n:t,a=r?t:null;return new y5({type:"tuple",items:e,rest:a,...tt(i)})}const v5=Te("ZodRecord",(e,t)=>{Yj.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>yz(e,n,r,i),e.keyType=t.keyType,e.valueType=t.valueType});function w5(e,t,n){return new v5({type:"record",keyType:e,valueType:t,...tt(n)})}const mv=Te("ZodEnum",(e,t)=>{Jj.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(r,i,a)=>lz(e,r,i),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const a={};for(const c of r)if(n.has(c))a[c]=t.entries[c];else throw new Error(`Key ${c} not found in enum`);return new mv({...t,checks:[],...tt(i),entries:a})},e.exclude=(r,i)=>{const a={...t.entries};for(const c of r)if(n.has(c))delete a[c];else throw new Error(`Key ${c} not found in enum`);return new mv({...t,checks:[],...tt(i),entries:a})}});function xS(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new mv({type:"enum",entries:n,...tt(t)})}const _5=Te("ZodLiteral",(e,t)=>{Qj.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>cz(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function qr(e,t){return new _5({type:"literal",values:Array.isArray(e)?e:[e],...tt(t)})}const x5=Te("ZodTransform",(e,t)=>{Xj.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>dz(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Uk(e.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(sd(a,n.value,t));else{const c=a;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=e),n.issues.push(sd(c))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(a=>(n.value=a,n)):(n.value=i,n)}});function b5(e){return new x5({type:"transform",transform:e})}const bS=Te("ZodOptional",(e,t)=>{sS.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>pS(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function T1(e){return new bS({type:"optional",innerType:e})}const E5=Te("ZodExactOptional",(e,t)=>{e8.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>pS(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function k5(e){return new E5({type:"optional",innerType:e})}const S5=Te("ZodNullable",(e,t)=>{t8.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>vz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function N1(e){return new S5({type:"nullable",innerType:e})}const C5=Te("ZodDefault",(e,t)=>{n8.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>_z(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function P5(e,t){return new C5({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Wk(t)}})}const T5=Te("ZodPrefault",(e,t)=>{r8.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>xz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function N5(e,t){return new T5({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Wk(t)}})}const ES=Te("ZodNonOptional",(e,t)=>{i8.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>wz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function A5(e,t){return new ES({type:"nonoptional",innerType:e,...tt(t)})}const R5=Te("ZodCatch",(e,t)=>{o8.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>bz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function I5(e,t){return new R5({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const L5=Te("ZodPipe",(e,t)=>{s8.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>Ez(e,n,r,i),e.in=t.in,e.out=t.out});function A1(e,t){return new L5({type:"pipe",in:e,out:t})}const O5=Te("ZodReadonly",(e,t)=>{a8.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>kz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function M5(e){return new O5({type:"readonly",innerType:e})}const j5=Te("ZodCustom",(e,t)=>{l8.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>uz(e,n)});function z5(e,t={}){return Q8(j5,e,t)}function D5(e){return X8(e)}const B5={custom:"custom"};class bt{static id(){return Ot().regex(/^[0-9a-f]{64}$/)}static event(){return Po({id:bt.id(),kind:yo().int().nonnegative(),pubkey:bt.id(),tags:Ot().array().array(),content:Ot(),created_at:yo().int().nonnegative(),sig:Ot()}).required({id:!0,kind:!0,pubkey:!0,tags:!0,content:!0,created_at:!0,sig:!0})}static filter(){return P1({kinds:yo().int().nonnegative().array().optional(),ids:bt.id().array().optional(),authors:bt.id().array().optional(),since:yo().int().nonnegative().optional(),until:yo().int().nonnegative().optional(),limit:yo().int().nonnegative().optional(),search:Ot().optional()}).transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[i,a])=>((n.includes(i)||i.startsWith("#"))&&(r[i]=a),r),{})})}static bech32(t){return Ot().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return Ku().regex(/^wss?:\/\//)}static clientEVENT(){return Vr([qr("EVENT"),bt.event()])}static clientREQ(){return Vr([qr("REQ"),Ot()]).rest(bt.filter())}static clientCOUNT(){return Vr([qr("COUNT"),Ot()]).rest(bt.filter())}static clientCLOSE(){return Vr([qr("CLOSE"),Ot()])}static clientAUTH(){return Vr([qr("AUTH"),bt.event()])}static clientMsg(){return pv([bt.clientEVENT(),bt.clientREQ(),bt.clientCOUNT(),bt.clientCLOSE(),bt.clientAUTH()])}static relayEVENT(){return Vr([qr("EVENT"),Ot(),bt.event()])}static relayOK(){return Vr([qr("OK"),bt.id(),Za(),Ot()])}static relayEOSE(){return Vr([qr("EOSE"),Ot()])}static relayNOTICE(){return Vr([qr("NOTICE"),Ot()])}static relayCLOSED(){return Vr([qr("CLOSED"),Ot(),Ot()])}static relayAUTH(){return Vr([qr("AUTH"),Ot()])}static relayCOUNT(){return Vr([qr("COUNT"),Ot(),Po({count:yo().int().nonnegative(),approximate:Za().optional()})])}static relayMsg(){return pv([bt.relayEVENT(),bt.relayOK(),bt.relayEOSE(),bt.relayNOTICE(),bt.relayCLOSED(),bt.relayAUTH(),bt.relayCOUNT()])}static metadata(){return P1({about:Ot().optional().catch(void 0),banner:Ku().optional().catch(void 0),bot:Za().optional().catch(void 0),display_name:Ot().optional().catch(void 0),lud06:bt.bech32("lnurl").optional().catch(void 0),lud16:k1().optional().catch(void 0),name:Ot().optional().catch(void 0),nip05:k1().optional().catch(void 0),picture:Ku().optional().catch(void 0),website:Ku().optional().catch(void 0)})}static connectRequest(){return Po({id:Ot(),method:Ot(),params:Ot().array()})}static connectResponse(){return Po({id:Ot(),result:Ot(),error:Ot().optional()})}static json(){return Ot().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:B5.custom,message:"Invalid JSON"}),iM}})}}class kS{constructor({relay:t,pubkey:n,signer:r,timeout:i,encryption:a="nip44"}){$e(this,"relay");$e(this,"pubkey");$e(this,"signer");$e(this,"timeout");$e(this,"encryption");$e(this,"nip04",{encrypt:async(t,n)=>this.cmd("nip04_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip04_decrypt",[t,n])});$e(this,"nip44",{encrypt:async(t,n)=>this.cmd("nip44_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip44_decrypt",[t,n])});this.relay=t,this.pubkey=n,this.signer=r,this.timeout=i,this.encryption=a}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(t){const n=await this.cmd("sign_event",[JSON.stringify(t)]);return bt.json().pipe(bt.event()).parse(n)}async getRelays(){const t=await this.cmd("get_relays",[]);return bt.json().pipe(w5(Ot(),Po({read:Za(),write:Za()}))).parse(t)}async connect(t){const n=[this.pubkey];return t&&n.push(t),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(t,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:i,error:a}=await this.send({id:crypto.randomUUID(),method:t,params:n},{signal:r});if(a)throw new Error(a);return i}async send(t,n={}){const{signal:r}=n,i=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(t)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),a=await this.signer.getPublicKey(),c=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[a]}],{signal:r}),u=new Promise((d,p)=>{(async()=>{try{for await(const g of c){if(g[0]==="CLOSED")throw new Error("Subscription closed");if(g[0]==="EVENT"){const m=g[2],b=await this.decrypt(this.pubkey,m.content),x=bt.json().pipe(bt.connectResponse()).parse(b);if(x.id===t.id){d(x);return}}}}catch(g){p(g)}})()});return await this.relay.event(i,{signal:r}),u}async encrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(t,n);case"nip44":return this.signer.nip44.encrypt(t,n)}}async decrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(t,n);case"nip44":return this.signer.nip44.decrypt(t,n)}}}const SS={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),SS[e]=t}function F5(e){let t="";for(let n=0;n<e.byteLength;n++)t+=SS[e[n]];return t}const CS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R1=Object.entries(CS).reduce((e,[t,n])=>(e[n]=Number(t),e),{}),U5=CS.split(""),rc=6,Xu=8,$5=63,Z5=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let i=0;i<e.length;i+=4){let a=0,c=0;for(let p=i,g=i+3;p<=g;p++)if(e[p]!=="="){if(!(e[p]in R1))throw new TypeError(`Invalid character ${e[p]} in base64 string.`);a|=R1[e[p]]<<(g-p)*rc,c+=rc}else a>>=rc;const u=i/4*3;a>>=c%Xu;const d=Math.floor(c/Xu);for(let p=0;p<d;p++){const g=(d-p-1)*Xu;r.setUint8(u+p,(a&255<<g)>>g)}}return new Uint8Array(n)},H5=e=>new TextEncoder().encode(e);function W5(e){let t;typeof e=="string"?t=H5(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",r=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let a=0;a<t.length;a+=3){let c=0,u=0;for(let p=a,g=Math.min(a+3,t.length);p<g;p++)c|=t[p]<<(g-p-1)*Xu,u+=Xu;const d=Math.ceil(u/rc);c<<=d*rc-u;for(let p=1;p<=d;p++){const g=(d-p)*rc;i+=U5[(c&$5<<g)>>g]}i+="==".slice(0,4-d)}return i}class V5{static encodeEvent(t){return W5(JSON.stringify(t))}static decodeEvent(t){const n=Z5(t),r=new TextDecoder().decode(n);return bt.json().pipe(bt.event()).parse(r)}}class q5{constructor(t){$e(this,"set");$e(this,"capacity");this.set=new Set,this.capacity=t}add(t){if(!this.set.has(t)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}[Symbol.iterator](){return this.set.values()}}var xc,bc,bd;class PS{constructor(t){et(this,xc,[]);et(this,bc);et(this,bd,!1);t!=null&&t.aborted?this.abort():t==null||t.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Symbol.asyncIterator](){for(;!ue(this,bd);){if(ue(this,xc).length){yield ue(this,xc).shift();continue}await new Promise(t=>{We(this,bc,t)})}throw new DOMException("The signal has been aborted","AbortError")}push(t){var n;ue(this,xc).push(t),(n=ue(this,bc))==null||n.call(this)}abort(){var t;We(this,bd,!0),(t=ue(this,bc))==null||t.call(this)}}xc=new WeakMap,bc=new WeakMap,bd=new WeakMap;class D0{constructor(t){$e(this,"_relays",new Map);$e(this,"opts");this.opts=t}relay(t){const n=this._relays.get(t);if(n)return n;{const r=this.opts.open(t);return this._relays.set(t,r),r}}group(t){return new D0({open:n=>this.relay(n),reqRouter:n=>new Map(t.map(r=>[r,n])),eventRouter:()=>t})}get relays(){return this._relays}async*req(t,n){const r=new AbortController,i=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,a=n!=null&&n.relays?new Map(n.relays.map(x=>[x,t])):await this.opts.reqRouter(t);if(a.size<1)return;const c=new PS(i),u=new Set,d=new Set,p=new q5(1e3),g=this.opts.eoseTimeout??1e3;let m;const b=[];for(const[x,k]of a.entries()){const v=this.relay(x),E=(async()=>{try{for await(const S of v.req(k,{signal:i}))if(S[0]==="EOSE"&&(u.add(x),u.size===1&&g>0&&m===void 0&&(m=setTimeout(()=>{r.abort()},g)),u.size===a.size&&c.push(S)),S[0]==="CLOSED"&&(d.add(x),d.size===a.size&&c.push(S)),S[0]==="EVENT"){const[,,T]=S;p.has(T.id)||(p.add(T.id),c.push(S))}}catch{}})();b.push(E)}try{for await(const x of c)yield x}finally{m!==void 0&&clearTimeout(m),r.abort(),await Promise.allSettled(b)}}async event(t,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(t);r.length&&await Promise.any(r.map(i=>this.relay(i).event(t,n)))}async query(t,n){const r=new Map,i=new $h(r);if(t.reduce((c,u)=>c+nk(u),0)===0)return[];try{for await(const c of this.req(t,n))if(c[0]==="EOSE"||(c[0]==="EVENT"&&i.add(c[2]),c[0]==="CLOSED"))break}catch{}return t.some(c=>typeof c.search=="string")?[...r.values()]:[...i]}async close(){await Promise.all([...this._relays.values()].map(t=>t.close()))}async[Symbol.asyncDispose](){await this.close()}}class K5{constructor(t,n){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class G5{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var Ft;(function(e){e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect"})(Ft||(Ft={}));class Y5{constructor(t,n,r){var i,a,c,u,d,p,g,m,b,x,k,v,E,S,T;this._closedByUser=!1,this.handleOpenEvent=R=>this.handleEvent(Ft.open,R),this.handleErrorEvent=R=>this.handleEvent(Ft.error,R),this.handleCloseEvent=R=>this.handleEvent(Ft.close,R),this.handleMessageEvent=R=>this.handleEvent(Ft.message,R),this._url=t,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.maxRetries,instantReconnect:(a=r==null?void 0:r.retry)===null||a===void 0?void 0:a.instantReconnect,backoff:(c=r==null?void 0:r.retry)===null||c===void 0?void 0:c.backoff},listeners:{open:[...(d=(u=r==null?void 0:r.listeners)===null||u===void 0?void 0:u.open)!==null&&d!==void 0?d:[]],close:[...(g=(p=r==null?void 0:r.listeners)===null||p===void 0?void 0:p.close)!==null&&g!==void 0?g:[]],error:[...(b=(m=r==null?void 0:r.listeners)===null||m===void 0?void 0:m.error)!==null&&b!==void 0?b:[]],message:[...(k=(x=r==null?void 0:r.listeners)===null||x===void 0?void 0:x.message)!==null&&k!==void 0?k:[]],retry:[...(E=(v=r==null?void 0:r.listeners)===null||v===void 0?void 0:v.retry)!==null&&E!==void 0?E:[]],reconnect:[...(T=(S=r==null?void 0:r.listeners)===null||S===void 0?void 0:S.reconnect)!==null&&T!==void 0?T:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):this.buffer!==void 0&&this.buffer.add(t))}close(t,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,n)}addEventListener(t,n,r){this._options.listeners[t].push({listener:n,options:r})}removeEventListener(t,n,r){const i=a=>a.listener!==n||a.options!==r;this._options.listeners[t]=this._options.listeners[t].filter(i)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(Ft.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(Ft.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(Ft.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(Ft.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(Ft.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(Ft.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(Ft.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(Ft.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,n){const r=this._options.listeners[t],i=[];r.forEach(({listener:a,options:c})=>{a(this,n),(c===void 0||c.once===void 0||!c.once)&&i.push({listener:a,options:c})}),this._options.listeners[t]=i}handleEvent(t,n){switch(t){case Ft.close:this.dispatchEvent(t,n),this.scheduleConnectionRetryIfNeeded();break;case Ft.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},i=new CustomEvent(Ft.reconnect,{detail:r});this.dispatchEvent(Ft.reconnect,i),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,n),this.sendBufferedData();break;case Ft.retry:this.dispatchEvent(t,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let t=this.buffer.read();t!==void 0;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const t=r=>{const i=new CustomEvent(Ft.retry,{detail:r});this.handleEvent(Ft.retry,i)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class J5{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:t})}),this}get maxRetries(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:t})}),this}get backoff(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return(t=this._options)===null||t===void 0?void 0:t.buffer}onOpen(t,n){return this.addListener(Ft.open,t,n),this}onClose(t,n){return this.addListener(Ft.close,t,n),this}onError(t,n){return this.addListener(Ft.error,t,n),this}onMessage(t,n){return this.addListener(Ft.message,t,n),this}onRetry(t,n){return this.addListener(Ft.retry,t,n),this}onReconnect(t,n){return this.addListener(Ft.reconnect,t,n),this}build(){return new Y5(this._url,this._protocols,this._options)}addListener(t,n,r){var i,a,c,u,d,p,g,m,b,x,k,v,E,S,T,R,z,D,Z,V,Y;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(c=(a=(i=this._options)===null||i===void 0?void 0:i.listeners)===null||a===void 0?void 0:a.open)!==null&&c!==void 0?c:[],close:(p=(d=(u=this._options)===null||u===void 0?void 0:u.listeners)===null||d===void 0?void 0:d.close)!==null&&p!==void 0?p:[],error:(b=(m=(g=this._options)===null||g===void 0?void 0:g.listeners)===null||m===void 0?void 0:m.error)!==null&&b!==void 0?b:[],message:(v=(k=(x=this._options)===null||x===void 0?void 0:x.listeners)===null||k===void 0?void 0:k.message)!==null&&v!==void 0?v:[],retry:(T=(S=(E=this._options)===null||E===void 0?void 0:E.listeners)===null||S===void 0?void 0:S.retry)!==null&&T!==void 0?T:[],reconnect:(D=(z=(R=this._options)===null||R===void 0?void 0:R.listeners)===null||z===void 0?void 0:z.reconnect)!==null&&D!==void 0?D:[],[t]:[...(Y=(V=(Z=this._options)===null||Z===void 0?void 0:Z.listeners)===null||V===void 0?void 0:V[t])!==null&&Y!==void 0?Y:[],{listener:n,options:r}]}}),this}}class Q5{constructor(t,n={}){$e(this,"socket");$e(this,"subs",new Map);$e(this,"closedByUser",!1);$e(this,"idleTimer");$e(this,"controller",new AbortController);$e(this,"url");$e(this,"opts");$e(this,"ee",new EventTarget);this.url=t,this.opts=n,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(t){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...t,url:this.url})}createSocket(){const{backoff:t=new K5(1e3)}=this.opts;return new J5(this.url).withBuffer(new G5).withBackoff(t===!1?void 0:t).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const i=bt.json().pipe(bt.relayMsg()).safeParse(r.data);i.success?(this.log({level:"trace",ns:"relay.ws.message",data:i.data}),this.receive(i.data)):this.log({level:"warn",ns:"relay.ws.message",error:i.error})}).build()}receive(t){const{auth:n,verifyEvent:r=Pd}=this.opts;switch(t[0]){case"EVENT":if(!r(t[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"CLOSED":this.subs.delete(t[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t})),this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${t[1]}`,{detail:t}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:t}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"AUTH":n==null||n(t[1]).then(i=>this.send(["AUTH",i])).catch(()=>{})}}send(t){switch(this.log({level:"trace",ns:"relay.ws.send",data:t}),this.wake(),t[0]){case"REQ":this.subs.set(t[1],t);break;case"CLOSE":this.subs.delete(t[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}async*req(t,n={}){const{signal:r}=n,i=crypto.randomUUID(),a=this.on(`sub:${i}`,r),c=["REQ",i,...t];this.send(c);try{for await(const u of a){if(u[0]==="EOSE"&&(yield u),u[0]==="CLOSED")break;if(u[0]==="EVENT")if(tk(t,u[2]))yield u;else continue}}finally{this.send(["CLOSE",i])}}async query(t,n){const r=new $h,i=t.reduce((a,c)=>a+nk(c),0);if(i===0)return[];for await(const a of this.req(t,n)){if(a[0]==="EOSE")break;if(a[0]==="EVENT"&&r.add(a[2]),a[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=i)break}return[...r]}async event(t,n){const r=this.once(`ok:${t.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",t])}catch(c){throw r.catch(()=>{}),c}const[,,i,a]=await r;if(!i)throw new Error(a)}async count(t,n){const r=crypto.randomUUID(),i=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...t])}catch(c){throw i.catch(()=>{}),c}const a=await i;switch(a[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,c]=a;return c}}throw new Error("Count ended -- this should never happen")}async*on(t,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const i=new PS(r),a=c=>i.push(c.detail);this.ee.addEventListener(t,a);try{for await(const c of i)yield c}finally{this.ee.removeEventListener(t,a)}}async once(t,n){for await(const r of this.on(t,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:t=3e4}=this.opts;t!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:t}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:t}),this.socket.close()},t)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(t=>{this.socket.addEventListener(Ft.close,t,{once:!0})})}async[Symbol.asyncDispose](){await this.close()}}var _o,Ed,gv;class ad{constructor(t){et(this,Ed);et(this,_o);$e(this,"pubkey");$e(this,"nip04",{encrypt:async(t,n)=>od.encrypt(ue(this,_o),t,n),decrypt:async(t,n)=>od.decrypt(ue(this,_o),t,n)});$e(this,"nip44",{encrypt:async(t,n)=>{const r=pt(this,Ed,gv).call(this,t);return Us.v2.encrypt(n,r)},decrypt:async(t,n)=>{const r=pt(this,Ed,gv).call(this,t);return Us.v2.decrypt(n,r)}});We(this,_o,t)}async getPublicKey(){return this.pubkey??(this.pubkey=Ro(ue(this,_o)))}async signEvent(t){return Qr(t,ue(this,_o))}}_o=new WeakMap,Ed=new WeakSet,gv=function(t){return Us.v2.utils.getConversationKey(ue(this,_o),t)};const TS=A.createContext(void 0);function Ar(){const e=A.useContext(TS);if(!e)throw new Error("useNostr must be used within a NostrProvider");return e}class Ha{constructor(t,n,r){$e(this,"id");$e(this,"type");$e(this,"pubkey");$e(this,"createdAt");$e(this,"data");this.id=`${t}:${n}`,this.type=t,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(t){const n=Xn.decode(t);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,i=Ro(r);return new Ha("nsec",i,{nsec:Xn.nsecEncode(r)})}static async fromBunker(t,n){const{pubkey:r,secret:i,relays:a}=new Ju(t);if(!a.length)throw new Error("No relay provided");const c=Cd(),u=Xn.nsecEncode(c),d=new ad(c),p=new kS({relay:n.group(a),pubkey:r,signer:d,timeout:6e4});await p.connect(i);const g=await p.getPublicKey();return new Ha("bunker",g,{bunkerPubkey:r,clientNsec:u,relays:a})}static async fromExtension(){const t=globalThis.nostr;if(!t)throw new Error("Nostr extension is not available");const n=await t.getPublicKey();return new Ha("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const NS=A.createContext(void 0);function X5(e,t){switch(t.type){case"login.add":{const n=e.filter(r=>r.id!==t.login.id);return t.set?[t.login,...n]:[...n,t.login]}case"login.remove":return e.filter(n=>n.id!==t.id);case"login.set":{const n=e.find(i=>i.id===t.id);if(!n)return e;const r=e.filter(i=>i.id!==t.id);return[n,...r]}case"login.clear":return[];default:return e}}function e6(e){const[t,n]=A.useReducer(X5,[],()=>{const r=localStorage.getItem(e);return r?JSON.parse(r):[]});return A.useEffect(()=>{localStorage.setItem(e,JSON.stringify(t))},[t]),[t,n]}const t6=({children:e,storageKey:t})=>{const[n,r]=e6(t),i={logins:n,addLogin:a=>r({type:"login.add",login:a}),removeLogin:a=>r({type:"login.remove",id:a}),setLogin:a=>r({type:"login.set",id:a}),clearLogins:()=>r({type:"login.clear"})};return w.jsx(NS.Provider,{value:i,children:e})};class Wa{constructor(t,n,r){this.method=t,this.pubkey=n,this.signer=r}static fromNsecLogin(t){const n=Xn.decode(t.data.nsec);return new Wa(t.type,t.pubkey,new ad(n.data))}static fromBunkerLogin(t,n){const r=Xn.decode(t.data.clientNsec),i=new ad(r.data);return new Wa(t.type,t.pubkey,new kS({relay:n.group(t.data.relays),pubkey:t.pubkey,signer:i,timeout:6e4}))}static fromExtensionLogin(t){return new Wa(t.type,t.pubkey,new P3)}}function B0(){const e=A.useContext(NS);if(!e)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return e}const AS=A.createContext(void 0);function RS(){const e=A.useContext(AS);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const n6=e=>{const{children:t}=e,{config:n}=RS(),r=Qv(),i=A.useRef(void 0),a=A.useRef(n.relayMetadata);return A.useEffect(()=>{a.current=n.relayMetadata,r.invalidateQueries({queryKey:["nostr"]})},[n.relayMetadata,r]),i.current||(i.current=new D0({open(c){return new Q5(c)},reqRouter(c){const u=new Map,d=a.current.relays.filter(p=>p.read).map(p=>p.url);for(const p of d)u.set(p,c);return u},eventRouter(c){const u=a.current.relays.filter(p=>p.write).map(p=>p.url);return[...new Set(u)]}})),w.jsx(TS.Provider,{value:{nostr:i.current},children:t})};function IS(e){const{nostr:t}=Ar();return Eo({queryKey:["author",e??""],queryFn:async({signal:n})=>{if(!e)return{};const[r]=await t.query([{kinds:[0],authors:[e],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!r)throw new Error("No event found");try{return{metadata:bt.json().pipe(bt.metadata()).parse(r.content),event:r}}catch{return{event:r}}},staleTime:5*60*1e3,retry:3})}function jc(){const{nostr:e}=Ar(),{logins:t}=B0(),n=A.useCallback(c=>{switch(c.type){case"nsec":return Wa.fromNsecLogin(c);case"bunker":return Wa.fromBunkerLogin(c,e);case"extension":return Wa.fromExtensionLogin(c);default:throw new Error(`Unsupported login type: ${c.type}`)}},[e]),r=A.useMemo(()=>{const c=[];for(const u of t)try{const d=n(u);c.push(d)}catch(d){console.warn("Skipped invalid login",u.id,d)}return c},[t,n]),i=r[0],a=IS(i==null?void 0:i.pubkey);return{user:i,users:r,...a.data}}function r6(){const{nostr:e}=Ar(),{user:t}=jc(),{config:n,updateConfig:r}=RS();return A.useEffect(()=>{if(!t)return;(async()=>{try{const a=await e.query([{kinds:[10002],authors:[t.pubkey],limit:1}],{signal:AbortSignal.timeout(5e3)});if(a.length>0){const c=a[0];if(c.created_at>n.relayMetadata.updatedAt){const u=c.tags.filter(([d])=>d==="r").map(([d,p,g])=>({url:p,read:!g||g==="read",write:!g||g==="write"}));u.length>0&&(console.log("Syncing relay list from Nostr:",u),r(d=>({...d,relayMetadata:{relays:u,updatedAt:c.created_at}})))}}}catch(a){console.error("Failed to sync relays from Nostr:",a)}})()},[t,n.relayMetadata.updatedAt,e,r]),null}const i6=1,o6=1e6;let $g=0;function s6(){return $g=($g+1)%Number.MAX_SAFE_INTEGER,$g.toString()}const Zg=new Map,I1=e=>{if(Zg.has(e))return;const t=setTimeout(()=>{Zg.delete(e),ed({type:"REMOVE_TOAST",toastId:e})},o6);Zg.set(e,t)},a6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,i6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?I1(n):e.toasts.forEach(r=>{I1(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ph=[];let Th={toasts:[]};function ed(e){Th=a6(Th,e),Ph.forEach(t=>{t(Th)})}function Jl({...e}){const t=s6(),n=i=>ed({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>ed({type:"DISMISS_TOAST",toastId:t});return ed({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Td(){const[e,t]=A.useState(Th);return A.useEffect(()=>(Ph.push(t),()=>{const n=Ph.indexOf(t);n>-1&&Ph.splice(n,1)}),[e]),{...e,toast:Jl,dismiss:n=>ed({type:"DISMISS_TOAST",toastId:n})}}var Sp=I2();const l6=kd(Sp);function qe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function L1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Cp(...e){return t=>{let n=!1;const r=e.map(i=>{const a=L1(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():L1(e[i],null)}}}}function Tt(...e){return A.useCallback(Cp(...e),e)}function c6(e,t){const n=A.createContext(t),r=a=>{const{children:c,...u}=a,d=A.useMemo(()=>u,Object.values(u));return w.jsx(n.Provider,{value:d,children:c})};r.displayName=e+"Provider";function i(a){const c=A.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function $n(e,t=[]){let n=[];function r(a,c){const u=A.createContext(c),d=n.length;n=[...n,c];const p=m=>{var S;const{scope:b,children:x,...k}=m,v=((S=b==null?void 0:b[e])==null?void 0:S[d])||u,E=A.useMemo(()=>k,Object.values(k));return w.jsx(v.Provider,{value:E,children:x})};p.displayName=a+"Provider";function g(m,b){var v;const x=((v=b==null?void 0:b[e])==null?void 0:v[d])||u,k=A.useContext(x);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[p,g]}const i=()=>{const a=n.map(c=>A.createContext(c));return function(u){const d=(u==null?void 0:u[e])||a;return A.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[r,u6(i,...t)]}function u6(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=r.reduce((u,{useScope:d,scopeName:p})=>{const m=d(a)[`__scope${p}`];return{...u,...m}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function Tc(e){const t=f6(e),n=A.forwardRef((r,i)=>{const{children:a,...c}=r,u=A.Children.toArray(a),d=u.find(p6);if(d){const p=d.props.children,g=u.map(m=>m===d?A.Children.count(p)>1?A.Children.only(null):A.isValidElement(p)?p.props.children:null:m);return w.jsx(t,{...c,ref:i,children:A.isValidElement(p)?A.cloneElement(p,void 0,g):null})}return w.jsx(t,{...c,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var d6=Tc("Slot");function f6(e){const t=A.forwardRef((n,r)=>{const{children:i,...a}=n;if(A.isValidElement(i)){const c=g6(i),u=m6(a,i.props);return i.type!==A.Fragment&&(u.ref=r?Cp(r,c):c),A.cloneElement(i,u)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LS=Symbol("radix.slottable");function h6(e){const t=({children:n})=>w.jsx(w.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=LS,t}function p6(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LS}function m6(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{a(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function g6(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Pp(e){const t=e+"CollectionProvider",[n,r]=$n(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=v=>{const{scope:E,children:S}=v,T=Ps.useRef(null),R=Ps.useRef(new Map).current;return w.jsx(i,{scope:E,itemMap:R,collectionRef:T,children:S})};c.displayName=t;const u=e+"CollectionSlot",d=Tc(u),p=Ps.forwardRef((v,E)=>{const{scope:S,children:T}=v,R=a(u,S),z=Tt(E,R.collectionRef);return w.jsx(d,{ref:z,children:T})});p.displayName=u;const g=e+"CollectionItemSlot",m="data-radix-collection-item",b=Tc(g),x=Ps.forwardRef((v,E)=>{const{scope:S,children:T,...R}=v,z=Ps.useRef(null),D=Tt(E,z),Z=a(g,S);return Ps.useEffect(()=>(Z.itemMap.set(z,{ref:z,...R}),()=>void Z.itemMap.delete(z))),w.jsx(b,{[m]:"",ref:D,children:T})});x.displayName=g;function k(v){const E=a(e+"CollectionConsumer",v);return Ps.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const R=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((Z,V)=>R.indexOf(Z.ref.current)-R.indexOf(V.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:c,Slot:p,ItemSlot:x},k,r]}var y6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=y6.reduce((e,t)=>{const n=Tc(`Primitive.${t}`),r=A.forwardRef((i,a)=>{const{asChild:c,...u}=i,d=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(d,{...u,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function F0(e,t){e&&Sp.flushSync(()=>e.dispatchEvent(t))}function pr(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function v6(e,t=globalThis==null?void 0:globalThis.document){const n=pr(e);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var w6="DismissableLayer",yv="dismissableLayer.update",_6="dismissableLayer.pointerDownOutside",x6="dismissableLayer.focusOutside",O1,OS=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nd=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:u,...d}=e,p=A.useContext(OS),[g,m]=A.useState(null),b=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=A.useState({}),k=Tt(t,V=>m(V)),v=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),S=v.indexOf(E),T=g?v.indexOf(g):-1,R=p.layersWithOutsidePointerEventsDisabled.size>0,z=T>=S,D=E6(V=>{const Y=V.target,U=[...p.branches].some(q=>q.contains(Y));!z||U||(i==null||i(V),c==null||c(V),V.defaultPrevented||u==null||u())},b),Z=k6(V=>{const Y=V.target;[...p.branches].some(q=>q.contains(Y))||(a==null||a(V),c==null||c(V),V.defaultPrevented||u==null||u())},b);return v6(V=>{T===p.layers.size-1&&(r==null||r(V),!V.defaultPrevented&&u&&(V.preventDefault(),u()))},b),A.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(O1=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),M1(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=O1)}},[g,b,n,p]),A.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),M1())},[g,p]),A.useEffect(()=>{const V=()=>x({});return document.addEventListener(yv,V),()=>document.removeEventListener(yv,V)},[]),w.jsx(st.div,{...d,ref:k,style:{pointerEvents:R?z?"auto":"none":void 0,...e.style},onFocusCapture:qe(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:qe(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:qe(e.onPointerDownCapture,D.onPointerDownCapture)})});Nd.displayName=w6;var b6="DismissableLayerBranch",MS=A.forwardRef((e,t)=>{const n=A.useContext(OS),r=A.useRef(null),i=Tt(t,r);return A.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),w.jsx(st.div,{...e,ref:i})});MS.displayName=b6;function E6(e,t=globalThis==null?void 0:globalThis.document){const n=pr(e),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let d=function(){jS(_6,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function k6(e,t=globalThis==null?void 0:globalThis.document){const n=pr(e),r=A.useRef(!1);return A.useEffect(()=>{const i=a=>{a.target&&!r.current&&jS(x6,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function M1(){const e=new CustomEvent(yv);document.dispatchEvent(e)}function jS(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?F0(i,a):i.dispatchEvent(a)}var S6=Nd,C6=MS,Nr=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},P6="Portal",Tp=A.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,a]=A.useState(!1);Nr(()=>a(!0),[]);const c=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?l6.createPortal(w.jsx(st.div,{...r,ref:t}),c):null});Tp.displayName=P6;function T6(e,t){return A.useReducer((n,r)=>t[n][r]??n,e)}var Rr=e=>{const{present:t,children:n}=e,r=N6(t),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),a=Tt(r.ref,A6(i));return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:a}):null};Rr.displayName="Presence";function N6(e){const[t,n]=A.useState(),r=A.useRef(null),i=A.useRef(e),a=A.useRef("none"),c=e?"mounted":"unmounted",[u,d]=T6(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const p=ph(r.current);a.current=u==="mounted"?p:"none"},[u]),Nr(()=>{const p=r.current,g=i.current;if(g!==e){const b=a.current,x=ph(p);e?d("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?d("UNMOUNT"):d(g&&b!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),Nr(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,m=x=>{const v=ph(r.current).includes(x.animationName);if(x.target===t&&v&&(d("ANIMATION_END"),!i.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},b=x=>{x.target===t&&(a.current=ph(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:A.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function ph(e){return(e==null?void 0:e.animationName)||"none"}function A6(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var R6=qv[" useInsertionEffect ".trim().toString()]||Nr;function zo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,c]=I6({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:i;{const g=A.useRef(e!==void 0);A.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const p=A.useCallback(g=>{var m;if(u){const b=L6(g)?g(e):g;b!==e&&((m=c.current)==null||m.call(c,b))}else a(g)},[u,e,a,c]);return[d,p]}function I6({defaultProp:e,onChange:t}){const[n,r]=A.useState(e),i=A.useRef(n),a=A.useRef(t);return R6(()=>{a.current=t},[t]),A.useEffect(()=>{var c;i.current!==n&&((c=a.current)==null||c.call(a,n),i.current=n)},[n,i]),[n,r,a]}function L6(e){return typeof e=="function"}var O6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),M6="VisuallyHidden",Np=A.forwardRef((e,t)=>w.jsx(st.span,{...e,ref:t,style:{...O6,...e.style}}));Np.displayName=M6;var j6=Np,U0="ToastProvider",[$0,z6,D6]=Pp("Toast"),[zS,RW]=$n("Toast",[D6]),[B6,Ap]=zS(U0),DS=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:c}=e,[u,d]=A.useState(null),[p,g]=A.useState(0),m=A.useRef(!1),b=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${U0}\`. Expected non-empty \`string\`.`),w.jsx($0.Provider,{scope:t,children:w.jsx(B6,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:u,onViewportChange:d,onToastAdd:A.useCallback(()=>g(x=>x+1),[]),onToastRemove:A.useCallback(()=>g(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:b,children:c})})};DS.displayName=U0;var BS="ToastViewport",F6=["F8"],vv="toast.viewportPause",wv="toast.viewportResume",FS=A.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=F6,label:i="Notifications ({hotkey})",...a}=e,c=Ap(BS,n),u=z6(n),d=A.useRef(null),p=A.useRef(null),g=A.useRef(null),m=A.useRef(null),b=Tt(t,m,c.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=c.toastCount>0;A.useEffect(()=>{const E=S=>{var R;r.length!==0&&r.every(z=>S[z]||S.code===z)&&((R=m.current)==null||R.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),A.useEffect(()=>{const E=d.current,S=m.current;if(k&&E&&S){const T=()=>{if(!c.isClosePausedRef.current){const Z=new CustomEvent(vv);S.dispatchEvent(Z),c.isClosePausedRef.current=!0}},R=()=>{if(c.isClosePausedRef.current){const Z=new CustomEvent(wv);S.dispatchEvent(Z),c.isClosePausedRef.current=!1}},z=Z=>{!E.contains(Z.relatedTarget)&&R()},D=()=>{E.contains(document.activeElement)||R()};return E.addEventListener("focusin",T),E.addEventListener("focusout",z),E.addEventListener("pointermove",T),E.addEventListener("pointerleave",D),window.addEventListener("blur",T),window.addEventListener("focus",R),()=>{E.removeEventListener("focusin",T),E.removeEventListener("focusout",z),E.removeEventListener("pointermove",T),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",T),window.removeEventListener("focus",R)}}},[k,c.isClosePausedRef]);const v=A.useCallback(({tabbingDirection:E})=>{const T=u().map(R=>{const z=R.ref.current,D=[z,...X6(z)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?T.reverse():T).flat()},[u]);return A.useEffect(()=>{const E=m.current;if(E){const S=T=>{var D,Z,V;const R=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!R){const Y=document.activeElement,U=T.shiftKey;if(T.target===E&&U){(D=p.current)==null||D.focus();return}const F=v({tabbingDirection:U?"backwards":"forwards"}),X=F.findIndex(O=>O===Y);Hg(F.slice(X+1))?T.preventDefault():U?(Z=p.current)==null||Z.focus():(V=g.current)==null||V.focus()}};return E.addEventListener("keydown",S),()=>E.removeEventListener("keydown",S)}},[u,v]),w.jsxs(C6,{ref:d,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&w.jsx(_v,{ref:p,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Hg(E)}}),w.jsx($0.Slot,{scope:n,children:w.jsx(st.ol,{tabIndex:-1,...a,ref:b})}),k&&w.jsx(_v,{ref:g,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Hg(E)}})]})});FS.displayName=BS;var US="ToastFocusProxy",_v=A.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=Ap(US,n);return w.jsx(Np,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:c=>{var p;const u=c.relatedTarget;!((p=a.viewport)!=null&&p.contains(u))&&r()}})});_v.displayName=US;var Ad="Toast",U6="toast.swipeStart",$6="toast.swipeMove",Z6="toast.swipeCancel",H6="toast.swipeEnd",$S=A.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...c}=e,[u,d]=zo({prop:r,defaultProp:i??!0,onChange:a,caller:Ad});return w.jsx(Rr,{present:n||u,children:w.jsx(q6,{open:u,...c,ref:t,onClose:()=>d(!1),onPause:pr(e.onPause),onResume:pr(e.onResume),onSwipeStart:qe(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(e.onSwipeMove,p=>{const{x:g,y:m}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:qe(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(e.onSwipeEnd,p=>{const{x:g,y:m}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});$S.displayName=Ad;var[W6,V6]=zS(Ad,{onClose(){}}),q6=A.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:c,onEscapeKeyDown:u,onPause:d,onResume:p,onSwipeStart:g,onSwipeMove:m,onSwipeCancel:b,onSwipeEnd:x,...k}=e,v=Ap(Ad,n),[E,S]=A.useState(null),T=Tt(t,O=>S(O)),R=A.useRef(null),z=A.useRef(null),D=i||v.duration,Z=A.useRef(0),V=A.useRef(D),Y=A.useRef(0),{onToastAdd:U,onToastRemove:q}=v,J=pr(()=>{var K;(E==null?void 0:E.contains(document.activeElement))&&((K=v.viewport)==null||K.focus()),c()}),F=A.useCallback(O=>{!O||O===1/0||(window.clearTimeout(Y.current),Z.current=new Date().getTime(),Y.current=window.setTimeout(J,O))},[J]);A.useEffect(()=>{const O=v.viewport;if(O){const K=()=>{F(V.current),p==null||p()},ae=()=>{const oe=new Date().getTime()-Z.current;V.current=V.current-oe,window.clearTimeout(Y.current),d==null||d()};return O.addEventListener(vv,ae),O.addEventListener(wv,K),()=>{O.removeEventListener(vv,ae),O.removeEventListener(wv,K)}}},[v.viewport,D,d,p,F]),A.useEffect(()=>{a&&!v.isClosePausedRef.current&&F(D)},[a,D,v.isClosePausedRef,F]),A.useEffect(()=>(U(),()=>q()),[U,q]);const X=A.useMemo(()=>E?GS(E):null,[E]);return v.viewport?w.jsxs(w.Fragment,{children:[X&&w.jsx(K6,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),w.jsx(W6,{scope:n,onClose:J,children:Sp.createPortal(w.jsx($0.ItemSlot,{scope:n,children:w.jsx(S6,{asChild:!0,onEscapeKeyDown:qe(u,()=>{v.isFocusedToastEscapeKeyDownRef.current||J(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(st.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...k,ref:T,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:qe(e.onKeyDown,O=>{O.key==="Escape"&&(u==null||u(O.nativeEvent),O.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,J()))}),onPointerDown:qe(e.onPointerDown,O=>{O.button===0&&(R.current={x:O.clientX,y:O.clientY})}),onPointerMove:qe(e.onPointerMove,O=>{if(!R.current)return;const K=O.clientX-R.current.x,ae=O.clientY-R.current.y,oe=!!z.current,re=["left","right"].includes(v.swipeDirection),te=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,le=re?te(0,K):0,$=re?0:te(0,ae),Q=O.pointerType==="touch"?10:2,Ce={x:le,y:$},xe={originalEvent:O,delta:Ce};oe?(z.current=Ce,mh($6,m,xe,{discrete:!1})):j1(Ce,v.swipeDirection,Q)?(z.current=Ce,mh(U6,g,xe,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(K)>Q||Math.abs(ae)>Q)&&(R.current=null)}),onPointerUp:qe(e.onPointerUp,O=>{const K=z.current,ae=O.target;if(ae.hasPointerCapture(O.pointerId)&&ae.releasePointerCapture(O.pointerId),z.current=null,R.current=null,K){const oe=O.currentTarget,re={originalEvent:O,delta:K};j1(K,v.swipeDirection,v.swipeThreshold)?mh(H6,x,re,{discrete:!0}):mh(Z6,b,re,{discrete:!0}),oe.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),K6=e=>{const{__scopeToast:t,children:n,...r}=e,i=Ap(Ad,t),[a,c]=A.useState(!1),[u,d]=A.useState(!1);return J6(()=>c(!0)),A.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),u?null:w.jsx(Tp,{asChild:!0,children:w.jsx(Np,{...r,children:a&&w.jsxs(w.Fragment,{children:[i.label," ",n]})})})},G6="ToastTitle",ZS=A.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return w.jsx(st.div,{...r,ref:t})});ZS.displayName=G6;var Y6="ToastDescription",HS=A.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return w.jsx(st.div,{...r,ref:t})});HS.displayName=Y6;var WS="ToastAction",VS=A.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?w.jsx(KS,{altText:n,asChild:!0,children:w.jsx(Z0,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${WS}\`. Expected non-empty \`string\`.`),null)});VS.displayName=WS;var qS="ToastClose",Z0=A.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=V6(qS,n);return w.jsx(KS,{asChild:!0,children:w.jsx(st.button,{type:"button",...r,ref:t,onClick:qe(e.onClick,i.onClose)})})});Z0.displayName=qS;var KS=A.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return w.jsx(st.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function GS(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Q6(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const c=r.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...GS(r))}}),t}function mh(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?F0(i,a):i.dispatchEvent(a)}var j1=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function J6(e=()=>{}){const t=pr(e);Nr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Q6(e){return e.nodeType===e.ELEMENT_NODE}function X6(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var eD=DS,YS=FS,JS=$S,QS=ZS,XS=HS,eC=VS,tC=Z0;function nC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=nC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rC(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=nC(e))&&(r&&(r+=" "),r+=t);return r}const z1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,D1=rC,Rd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return D1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,c=Object.keys(i).map(p=>{const g=n==null?void 0:n[p],m=a==null?void 0:a[p];if(g===null)return null;const b=z1(g)||z1(m);return i[p][b]}),u=n&&Object.entries(n).reduce((p,g)=>{let[m,b]=g;return b===void 0||(p[m]=b),p},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:m,className:b,...x}=g;return Object.entries(x).every(k=>{let[v,E]=k;return Array.isArray(E)?E.includes({...a,...u}[v]):{...a,...u}[v]===E})?[...p,m,b]:p},[]);return D1(e,c,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:c,...u},d)=>A.createElement("svg",{ref:d,...nD,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:iC("lucide",i),...u},[...c.map(([p,g])=>A.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(e,t)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(rD,{ref:a,iconNode:t,className:iC(`lucide-${tD(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=Nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=Nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Nt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Nt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=Nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=Nt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=Nt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=Nt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=Nt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=Nt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=Nt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=Nt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=Nt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=Nt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Nt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Nt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Nt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=Nt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Nt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Nt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=Nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Nt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=Nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Nt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),H0="-",ED=e=>{const t=SD(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{const u=c.split(H0);return u[0]===""&&u.length!==1&&u.shift(),uC(u,t)||kD(c)},getConflictingClassGroupIds:(c,u)=>{const d=n[c]||[];return u&&r[c]?[...d,...r[c]]:d}}},uC=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?uC(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(H0);return(c=t.validators.find(({validator:u})=>u(a)))==null?void 0:c.classGroupId},B1=/^\[(.+)\]$/,kD=e=>{if(B1.test(e)){const t=B1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},SD=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return PD(Object.entries(e.classGroups),n).forEach(([a,c])=>{Cv(c,r,a,t)}),r},Cv=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:F1(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(CD(i)){Cv(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,c])=>{Cv(c,F1(t,a),n,r)})})},F1=(e,t)=>{let n=e;return t.split(H0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},CD=e=>e.isThemeGetter,PD=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,u])=>[t+c,u])):a);return[n,i]}):e,TD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,c)=>{n.set(a,c),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=r.get(a))!==void 0)return i(a,c),c},set(a,c){n.has(a)?n.set(a,c):i(a,c)}}},dC="!",ND=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,c=u=>{const d=[];let p=0,g=0,m;for(let E=0;E<u.length;E++){let S=u[E];if(p===0){if(S===i&&(r||u.slice(E,E+a)===t)){d.push(u.slice(g,E)),g=E+a;continue}if(S==="/"){m=E;continue}}S==="["?p++:S==="]"&&p--}const b=d.length===0?u:u.substring(g),x=b.startsWith(dC),k=x?b.substring(1):b,v=m&&m>g?m-g:void 0;return{modifiers:d,hasImportantModifier:x,baseClassName:k,maybePostfixModifierPosition:v}};return n?u=>n({className:u,parseClassName:c}):c},AD=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},RD=e=>({cache:TD(e.cacheSize),parseClassName:ND(e),...ED(e)}),ID=/\s+/,LD=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],c=e.trim().split(ID);let u="";for(let d=c.length-1;d>=0;d-=1){const p=c[d],{modifiers:g,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:x}=n(p);let k=!!x,v=r(k?b.substring(0,x):b);if(!v){if(!k){u=p+(u.length>0?" "+u:u);continue}if(v=r(b),!v){u=p+(u.length>0?" "+u:u);continue}k=!1}const E=AD(g).join(":"),S=m?E+dC:E,T=S+v;if(a.includes(T))continue;a.push(T);const R=i(v,k);for(let z=0;z<R.length;++z){const D=R[z];a.push(S+D)}u=p+(u.length>0?" "+u:u)}return u};function OD(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=fC(t))&&(r&&(r+=" "),r+=n);return r}const fC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=fC(e[r]))&&(n&&(n+=" "),n+=t);return n};function MD(e,...t){let n,r,i,a=c;function c(d){const p=t.reduce((g,m)=>m(g),e());return n=RD(p),r=n.cache.get,i=n.cache.set,a=u,u(d)}function u(d){const p=r(d);if(p)return p;const g=LD(d,n);return i(d,g),g}return function(){return a(OD.apply(null,arguments))}}const Wt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},hC=/^\[(?:([a-z-]+):)?(.+)\]$/i,jD=/^\d+\/\d+$/,zD=new Set(["px","full","screen"]),DD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,UD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$D=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mo=e=>ic(e)||zD.has(e)||jD.test(e),bs=e=>zc(e,"length",YD),ic=e=>!!e&&!Number.isNaN(Number(e)),Wg=e=>zc(e,"number",ic),$u=e=>!!e&&Number.isInteger(Number(e)),ZD=e=>e.endsWith("%")&&ic(e.slice(0,-1)),yt=e=>hC.test(e),Es=e=>DD.test(e),HD=new Set(["length","size","percentage"]),WD=e=>zc(e,HD,pC),VD=e=>zc(e,"position",pC),qD=new Set(["image","url"]),KD=e=>zc(e,qD,QD),GD=e=>zc(e,"",JD),Zu=()=>!0,zc=(e,t,n)=>{const r=hC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},YD=e=>BD.test(e)&&!FD.test(e),pC=()=>!1,JD=e=>UD.test(e),QD=e=>$D.test(e),XD=()=>{const e=Wt("colors"),t=Wt("spacing"),n=Wt("blur"),r=Wt("brightness"),i=Wt("borderColor"),a=Wt("borderRadius"),c=Wt("borderSpacing"),u=Wt("borderWidth"),d=Wt("contrast"),p=Wt("grayscale"),g=Wt("hueRotate"),m=Wt("invert"),b=Wt("gap"),x=Wt("gradientColorStops"),k=Wt("gradientColorStopPositions"),v=Wt("inset"),E=Wt("margin"),S=Wt("opacity"),T=Wt("padding"),R=Wt("saturate"),z=Wt("scale"),D=Wt("sepia"),Z=Wt("skew"),V=Wt("space"),Y=Wt("translate"),U=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",yt,t],F=()=>[yt,t],X=()=>["",mo,bs],O=()=>["auto",ic,yt],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",yt],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[ic,yt];return{cacheSize:500,separator:":",theme:{colors:[Zu],spacing:[mo,bs],blur:["none","",Es,yt],brightness:$(),borderColor:[e],borderRadius:["none","","full",Es,yt],borderSpacing:F(),borderWidth:X(),contrast:$(),grayscale:te(),hueRotate:$(),invert:te(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[ZD,bs],inset:J(),margin:J(),opacity:$(),padding:F(),saturate:$(),scale:$(),sepia:te(),skew:$(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",yt]}],container:["container"],columns:[{columns:[Es]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),yt]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$u,yt]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yt]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",$u,yt]}],"grid-cols":[{"grid-cols":[Zu]}],"col-start-end":[{col:["auto",{span:["full",$u,yt]},yt]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Zu]}],"row-start-end":[{row:["auto",{span:[$u,yt]},yt]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yt]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yt,t]}],"min-w":[{"min-w":[yt,t,"min","max","fit"]}],"max-w":[{"max-w":[yt,t,"none","full","min","max","fit","prose",{screen:[Es]},Es]}],h:[{h:[yt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Es,bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wg]}],"font-family":[{font:[Zu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yt]}],"line-clamp":[{"line-clamp":["none",ic,Wg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mo,yt]}],"list-image":[{"list-image":["none",yt]}],"list-style-type":[{list:["none","disc","decimal",yt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mo,bs]}],"underline-offset":[{"underline-offset":["auto",mo,yt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),VD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",WD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KD]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:ae()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[mo,yt]}],"outline-w":[{outline:[mo,bs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[mo,bs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Es,GD]}],"shadow-color":[{shadow:[Zu]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Es,yt]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[m]}],saturate:[{saturate:[R]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yt]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",yt]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",yt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[$u,yt]}],"translate-x":[{"translate-x":[Y]}],"translate-y":[{"translate-y":[Y]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mo,bs,Wg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eB=MD(XD);function at(...e){return eB(rC(e))}const tB=eD,mC=A.forwardRef(({className:e,...t},n)=>w.jsx(YS,{ref:n,className:at("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));mC.displayName=YS.displayName;const nB=Rd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gC=A.forwardRef(({className:e,variant:t,...n},r)=>w.jsx(JS,{ref:r,className:at(nB({variant:t}),e),...n}));gC.displayName=JS.displayName;const rB=A.forwardRef(({className:e,...t},n)=>w.jsx(eC,{ref:n,className:at("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));rB.displayName=eC.displayName;const yC=A.forwardRef(({className:e,...t},n)=>w.jsx(tC,{ref:n,className:at("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:w.jsx(cC,{className:"h-4 w-4"})}));yC.displayName=tC.displayName;const vC=A.forwardRef(({className:e,...t},n)=>w.jsx(QS,{ref:n,className:at("text-sm font-semibold",e),...t}));vC.displayName=QS.displayName;const wC=A.forwardRef(({className:e,...t},n)=>w.jsx(XS,{ref:n,className:at("text-sm opacity-90",e),...t}));wC.displayName=XS.displayName;function iB(){const{toasts:e}=Td();return w.jsxs(tB,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return w.jsxs(gC,{...a,children:[w.jsxs("div",{className:"grid gap-1",children:[n&&w.jsx(vC,{children:n}),r&&w.jsx(wC,{children:r})]}),i,w.jsx(yC,{})]},t)}),w.jsx(mC,{})]})}var oB=qv[" useId ".trim().toString()]||(()=>{}),sB=0;function Hs(e){const[t,n]=A.useState(oB());return Nr(()=>{n(r=>r??String(sB++))},[e]),t?`radix-${t}`:""}const aB=["top","right","bottom","left"],Ys=Math.min,Pr=Math.max,qh=Math.round,yh=Math.floor,Hi=e=>({x:e,y:e}),lB={left:"right",right:"left",bottom:"top",top:"bottom"},cB={start:"end",end:"start"};function Pv(e,t,n){return Pr(e,Ys(t,n))}function Io(e,t){return typeof e=="function"?e(t):e}function Lo(e){return e.split("-")[0]}function Dc(e){return e.split("-")[1]}function W0(e){return e==="x"?"y":"x"}function V0(e){return e==="y"?"height":"width"}function To(e){return["top","bottom"].includes(Lo(e))?"y":"x"}function q0(e){return W0(To(e))}function uB(e,t,n){n===void 0&&(n=!1);const r=Dc(e),i=q0(e),a=V0(i);let c=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=Kh(c)),[c,Kh(c)]}function dB(e){const t=Kh(e);return[Tv(e),t,Tv(t)]}function Tv(e){return e.replace(/start|end/g,t=>cB[t])}function fB(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:c;default:return[]}}function hB(e,t,n,r){const i=Dc(e);let a=fB(Lo(e),n==="start",r);return i&&(a=a.map(c=>c+"-"+i),t&&(a=a.concat(a.map(Tv)))),a}function Kh(e){return e.replace(/left|right|bottom|top/g,t=>lB[t])}function pB(e){return{top:0,right:0,bottom:0,left:0,...e}}function _C(e){return typeof e!="number"?pB(e):{top:e,right:e,bottom:e,left:e}}function Gh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function U1(e,t,n){let{reference:r,floating:i}=e;const a=To(t),c=q0(t),u=V0(c),d=Lo(t),p=a==="y",g=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,b=r[u]/2-i[u]/2;let x;switch(d){case"top":x={x:g,y:r.y-i.height};break;case"bottom":x={x:g,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-i.width,y:m};break;default:x={x:r.x,y:r.y}}switch(Dc(t)){case"start":x[c]-=b*(n&&p?-1:1);break;case"end":x[c]+=b*(n&&p?-1:1);break}return x}const mB=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:c}=n,u=a.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:m}=U1(p,r,d),b=r,x={},k=0;for(let v=0;v<u.length;v++){const{name:E,fn:S}=u[v],{x:T,y:R,data:z,reset:D}=await S({x:g,y:m,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:p,platform:c,elements:{reference:e,floating:t}});g=T??g,m=R??m,x={...x,[E]:{...x[E],...z}},D&&k<=50&&(k++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(p=D.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:g,y:m}=U1(p,b,d)),v=-1)}return{x:g,y:m,placement:b,strategy:i,middlewareData:x}};async function cd(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:c,elements:u,strategy:d}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:b=!1,padding:x=0}=Io(t,e),k=_C(x),E=u[b?m==="floating"?"reference":"floating":m],S=Gh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(E)))==null||n?E:E.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:d})),T=m==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),z=await(a.isElement==null?void 0:a.isElement(R))?await(a.getScale==null?void 0:a.getScale(R))||{x:1,y:1}:{x:1,y:1},D=Gh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:R,strategy:d}):T);return{top:(S.top-D.top+k.top)/z.y,bottom:(D.bottom-S.bottom+k.bottom)/z.y,left:(S.left-D.left+k.left)/z.x,right:(D.right-S.right+k.right)/z.x}}const gB=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:c,elements:u,middlewareData:d}=t,{element:p,padding:g=0}=Io(e,t)||{};if(p==null)return{};const m=_C(g),b={x:n,y:r},x=q0(i),k=V0(x),v=await c.getDimensions(p),E=x==="y",S=E?"top":"left",T=E?"bottom":"right",R=E?"clientHeight":"clientWidth",z=a.reference[k]+a.reference[x]-b[x]-a.floating[k],D=b[x]-a.reference[x],Z=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let V=Z?Z[R]:0;(!V||!await(c.isElement==null?void 0:c.isElement(Z)))&&(V=u.floating[R]||a.floating[k]);const Y=z/2-D/2,U=V/2-v[k]/2-1,q=Ys(m[S],U),J=Ys(m[T],U),F=q,X=V-v[k]-J,O=V/2-v[k]/2+Y,K=Pv(F,O,X),ae=!d.arrow&&Dc(i)!=null&&O!==K&&a.reference[k]/2-(O<F?q:J)-v[k]/2<0,oe=ae?O<F?O-F:O-X:0;return{[x]:b[x]+oe,data:{[x]:K,centerOffset:O-K-oe,...ae&&{alignmentOffset:oe}},reset:ae}}}),yB=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:c,initialPlacement:u,platform:d,elements:p}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:v=!0,...E}=Io(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const S=Lo(i),T=To(u),R=Lo(u)===u,z=await(d.isRTL==null?void 0:d.isRTL(p.floating)),D=b||(R||!v?[Kh(u)]:dB(u)),Z=k!=="none";!b&&Z&&D.push(...hB(u,v,k,z));const V=[u,...D],Y=await cd(t,E),U=[];let q=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&U.push(Y[S]),m){const K=uB(i,c,z);U.push(Y[K[0]],Y[K[1]])}if(q=[...q,{placement:i,overflows:U}],!U.every(K=>K<=0)){var J,F;const K=(((J=a.flip)==null?void 0:J.index)||0)+1,ae=V[K];if(ae){var X;const re=m==="alignment"?T!==To(ae):!1,te=((X=q[0])==null?void 0:X.overflows[0])>0;if(!re||te)return{data:{index:K,overflows:q},reset:{placement:ae}}}let oe=(F=q.filter(re=>re.overflows[0]<=0).sort((re,te)=>re.overflows[1]-te.overflows[1])[0])==null?void 0:F.placement;if(!oe)switch(x){case"bestFit":{var O;const re=(O=q.filter(te=>{if(Z){const le=To(te.placement);return le===T||le==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(le=>le>0).reduce((le,$)=>le+$,0)]).sort((te,le)=>te[1]-le[1])[0])==null?void 0:O[0];re&&(oe=re);break}case"initialPlacement":oe=u;break}if(i!==oe)return{reset:{placement:oe}}}return{}}}};function $1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Z1(e){return aB.some(t=>e[t]>=0)}const vB=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Io(e,t);switch(r){case"referenceHidden":{const a=await cd(t,{...i,elementContext:"reference"}),c=$1(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Z1(c)}}}case"escaped":{const a=await cd(t,{...i,altBoundary:!0}),c=$1(a,n.floating);return{data:{escapedOffsets:c,escaped:Z1(c)}}}default:return{}}}}};async function wB(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=Lo(n),u=Dc(n),d=To(n)==="y",p=["left","top"].includes(c)?-1:1,g=a&&d?-1:1,m=Io(t,e);let{mainAxis:b,crossAxis:x,alignmentAxis:k}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof k=="number"&&(x=u==="end"?k*-1:k),d?{x:x*g,y:b*p}:{x:b*p,y:x*g}}const _B=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:c,middlewareData:u}=t,d=await wB(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:c}}}}},xB=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:E=>{let{x:S,y:T}=E;return{x:S,y:T}}},...d}=Io(e,t),p={x:n,y:r},g=await cd(t,d),m=To(Lo(i)),b=W0(m);let x=p[b],k=p[m];if(a){const E=b==="y"?"top":"left",S=b==="y"?"bottom":"right",T=x+g[E],R=x-g[S];x=Pv(T,x,R)}if(c){const E=m==="y"?"top":"left",S=m==="y"?"bottom":"right",T=k+g[E],R=k-g[S];k=Pv(T,k,R)}const v=u.fn({...t,[b]:x,[m]:k});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[b]:a,[m]:c}}}}}},bB=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:c}=t,{offset:u=0,mainAxis:d=!0,crossAxis:p=!0}=Io(e,t),g={x:n,y:r},m=To(i),b=W0(m);let x=g[b],k=g[m];const v=Io(u,t),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const R=b==="y"?"height":"width",z=a.reference[b]-a.floating[R]+E.mainAxis,D=a.reference[b]+a.reference[R]-E.mainAxis;x<z?x=z:x>D&&(x=D)}if(p){var S,T;const R=b==="y"?"width":"height",z=["top","left"].includes(Lo(i)),D=a.reference[m]-a.floating[R]+(z&&((S=c.offset)==null?void 0:S[m])||0)+(z?0:E.crossAxis),Z=a.reference[m]+a.reference[R]+(z?0:((T=c.offset)==null?void 0:T[m])||0)-(z?E.crossAxis:0);k<D?k=D:k>Z&&(k=Z)}return{[b]:x,[m]:k}}}},EB=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:c,elements:u}=t,{apply:d=()=>{},...p}=Io(e,t),g=await cd(t,p),m=Lo(i),b=Dc(i),x=To(i)==="y",{width:k,height:v}=a.floating;let E,S;m==="top"||m==="bottom"?(E=m,S=b===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(S=m,E=b==="end"?"top":"bottom");const T=v-g.top-g.bottom,R=k-g.left-g.right,z=Ys(v-g[E],T),D=Ys(k-g[S],R),Z=!t.middlewareData.shift;let V=z,Y=D;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(Y=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(V=T),Z&&!b){const q=Pr(g.left,0),J=Pr(g.right,0),F=Pr(g.top,0),X=Pr(g.bottom,0);x?Y=k-2*(q!==0||J!==0?q+J:Pr(g.left,g.right)):V=v-2*(F!==0||X!==0?F+X:Pr(g.top,g.bottom))}await d({...t,availableWidth:Y,availableHeight:V});const U=await c.getDimensions(u.floating);return k!==U.width||v!==U.height?{reset:{rects:!0}}:{}}}};function Ip(){return typeof window<"u"}function Bc(e){return xC(e)?(e.nodeName||"").toLowerCase():"#document"}function Tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vi(e){var t;return(t=(xC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xC(e){return Ip()?e instanceof Node||e instanceof Tr(e).Node:!1}function gi(e){return Ip()?e instanceof Element||e instanceof Tr(e).Element:!1}function Wi(e){return Ip()?e instanceof HTMLElement||e instanceof Tr(e).HTMLElement:!1}function H1(e){return!Ip()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tr(e).ShadowRoot}function Id(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=yi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function kB(e){return["table","td","th"].includes(Bc(e))}function Lp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function K0(e){const t=G0(),n=gi(e)?yi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function SB(e){let t=Js(e);for(;Wi(t)&&!Nc(t);){if(K0(t))return t;if(Lp(t))return null;t=Js(t)}return null}function G0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Nc(e){return["html","body","#document"].includes(Bc(e))}function yi(e){return Tr(e).getComputedStyle(e)}function Op(e){return gi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Js(e){if(Bc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||H1(e)&&e.host||Vi(e);return H1(t)?t.host:t}function bC(e){const t=Js(e);return Nc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wi(t)&&Id(t)?t:bC(t)}function ud(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=bC(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),c=Tr(i);if(a){const u=Nv(c);return t.concat(c,c.visualViewport||[],Id(i)?i:[],u&&n?ud(u):[])}return t.concat(i,ud(i,[],n))}function Nv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function EC(e){const t=yi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Wi(e),a=i?e.offsetWidth:n,c=i?e.offsetHeight:r,u=qh(n)!==a||qh(r)!==c;return u&&(n=a,r=c),{width:n,height:r,$:u}}function Y0(e){return gi(e)?e:e.contextElement}function oc(e){const t=Y0(e);if(!Wi(t))return Hi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=EC(t);let c=(a?qh(n.width):n.width)/r,u=(a?qh(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const CB=Hi(0);function kC(e){const t=Tr(e);return!G0()||!t.visualViewport?CB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PB(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tr(e)?!1:t}function Ya(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=Y0(e);let c=Hi(1);t&&(r?gi(r)&&(c=oc(r)):c=oc(e));const u=PB(a,n,r)?kC(a):Hi(0);let d=(i.left+u.x)/c.x,p=(i.top+u.y)/c.y,g=i.width/c.x,m=i.height/c.y;if(a){const b=Tr(a),x=r&&gi(r)?Tr(r):r;let k=b,v=Nv(k);for(;v&&r&&x!==k;){const E=oc(v),S=v.getBoundingClientRect(),T=yi(v),R=S.left+(v.clientLeft+parseFloat(T.paddingLeft))*E.x,z=S.top+(v.clientTop+parseFloat(T.paddingTop))*E.y;d*=E.x,p*=E.y,g*=E.x,m*=E.y,d+=R,p+=z,k=Tr(v),v=Nv(k)}}return Gh({width:g,height:m,x:d,y:p})}function J0(e,t){const n=Op(e).scrollLeft;return t?t.left+n:Ya(Vi(e)).left+n}function SC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:J0(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function TB(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",c=Vi(r),u=t?Lp(t.floating):!1;if(r===c||u&&a)return n;let d={scrollLeft:0,scrollTop:0},p=Hi(1);const g=Hi(0),m=Wi(r);if((m||!m&&!a)&&((Bc(r)!=="body"||Id(c))&&(d=Op(r)),Wi(r))){const x=Ya(r);p=oc(r),g.x=x.x+r.clientLeft,g.y=x.y+r.clientTop}const b=c&&!m&&!a?SC(c,d,!0):Hi(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-d.scrollLeft*p.x+g.x+b.x,y:n.y*p.y-d.scrollTop*p.y+g.y+b.y}}function NB(e){return Array.from(e.getClientRects())}function AB(e){const t=Vi(e),n=Op(e),r=e.ownerDocument.body,i=Pr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Pr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+J0(e);const u=-n.scrollTop;return yi(r).direction==="rtl"&&(c+=Pr(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:c,y:u}}function RB(e,t){const n=Tr(e),r=Vi(e),i=n.visualViewport;let a=r.clientWidth,c=r.clientHeight,u=0,d=0;if(i){a=i.width,c=i.height;const p=G0();(!p||p&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:a,height:c,x:u,y:d}}function IB(e,t){const n=Ya(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Wi(e)?oc(e):Hi(1),c=e.clientWidth*a.x,u=e.clientHeight*a.y,d=i*a.x,p=r*a.y;return{width:c,height:u,x:d,y:p}}function W1(e,t,n){let r;if(t==="viewport")r=RB(e,n);else if(t==="document")r=AB(Vi(e));else if(gi(t))r=IB(t,n);else{const i=kC(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Gh(r)}function CC(e,t){const n=Js(e);return n===t||!gi(n)||Nc(n)?!1:yi(n).position==="fixed"||CC(n,t)}function LB(e,t){const n=t.get(e);if(n)return n;let r=ud(e,[],!1).filter(u=>gi(u)&&Bc(u)!=="body"),i=null;const a=yi(e).position==="fixed";let c=a?Js(e):e;for(;gi(c)&&!Nc(c);){const u=yi(c),d=K0(c);!d&&u.position==="fixed"&&(i=null),(a?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Id(c)&&!d&&CC(e,c))?r=r.filter(g=>g!==c):i=u,c=Js(c)}return t.set(e,r),r}function OB(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const c=[...n==="clippingAncestors"?Lp(t)?[]:LB(t,this._c):[].concat(n),r],u=c[0],d=c.reduce((p,g)=>{const m=W1(t,g,i);return p.top=Pr(m.top,p.top),p.right=Ys(m.right,p.right),p.bottom=Ys(m.bottom,p.bottom),p.left=Pr(m.left,p.left),p},W1(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function MB(e){const{width:t,height:n}=EC(e);return{width:t,height:n}}function jB(e,t,n){const r=Wi(t),i=Vi(t),a=n==="fixed",c=Ya(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const d=Hi(0);function p(){d.x=J0(i)}if(r||!r&&!a)if((Bc(t)!=="body"||Id(i))&&(u=Op(t)),r){const x=Ya(t,!0,a,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else i&&p();a&&!r&&i&&p();const g=i&&!r&&!a?SC(i,u):Hi(0),m=c.left+u.scrollLeft-d.x-g.x,b=c.top+u.scrollTop-d.y-g.y;return{x:m,y:b,width:c.width,height:c.height}}function Vg(e){return yi(e).position==="static"}function V1(e,t){if(!Wi(e)||yi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vi(e)===n&&(n=n.ownerDocument.body),n}function PC(e,t){const n=Tr(e);if(Lp(e))return n;if(!Wi(e)){let i=Js(e);for(;i&&!Nc(i);){if(gi(i)&&!Vg(i))return i;i=Js(i)}return n}let r=V1(e,t);for(;r&&kB(r)&&Vg(r);)r=V1(r,t);return r&&Nc(r)&&Vg(r)&&!K0(r)?n:r||SB(e)||n}const zB=async function(e){const t=this.getOffsetParent||PC,n=this.getDimensions,r=await n(e.floating);return{reference:jB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function DB(e){return yi(e).direction==="rtl"}const BB={convertOffsetParentRelativeRectToViewportRelativeRect:TB,getDocumentElement:Vi,getClippingRect:OB,getOffsetParent:PC,getElementRects:zB,getClientRects:NB,getDimensions:MB,getScale:oc,isElement:gi,isRTL:DB};function TC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function FB(e,t){let n=null,r;const i=Vi(e);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const p=e.getBoundingClientRect(),{left:g,top:m,width:b,height:x}=p;if(u||t(),!b||!x)return;const k=yh(m),v=yh(i.clientWidth-(g+b)),E=yh(i.clientHeight-(m+x)),S=yh(g),R={rootMargin:-k+"px "+-v+"px "+-E+"px "+-S+"px",threshold:Pr(0,Ys(1,d))||1};let z=!0;function D(Z){const V=Z[0].intersectionRatio;if(V!==d){if(!z)return c();V?c(!1,V):r=setTimeout(()=>{c(!1,1e-7)},1e3)}V===1&&!TC(p,e.getBoundingClientRect())&&c(),z=!1}try{n=new IntersectionObserver(D,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,R)}n.observe(e)}return c(!0),a}function UB(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=Y0(e),g=i||a?[...p?ud(p):[],...ud(t)]:[];g.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),a&&S.addEventListener("resize",n)});const m=p&&u?FB(p,n):null;let b=-1,x=null;c&&(x=new ResizeObserver(S=>{let[T]=S;T&&T.target===p&&x&&(x.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=x)==null||R.observe(t)})),n()}),p&&!d&&x.observe(p),x.observe(t));let k,v=d?Ya(e):null;d&&E();function E(){const S=Ya(e);v&&!TC(v,S)&&n(),v=S,k=requestAnimationFrame(E)}return n(),()=>{var S;g.forEach(T=>{i&&T.removeEventListener("scroll",n),a&&T.removeEventListener("resize",n)}),m==null||m(),(S=x)==null||S.disconnect(),x=null,d&&cancelAnimationFrame(k)}}const $B=_B,ZB=xB,HB=yB,WB=EB,VB=vB,q1=gB,qB=bB,KB=(e,t,n)=>{const r=new Map,i={platform:BB,...n},a={...i.platform,_c:r};return mB(e,t,{...i,platform:a})};var Nh=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Yh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Yh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Yh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function NC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function K1(e,t){const n=NC(e);return Math.round(t*n)/n}function qg(e){const t=A.useRef(e);return Nh(()=>{t.current=e}),t}function GB(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:c}={},transform:u=!0,whileElementsMounted:d,open:p}=e,[g,m]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,x]=A.useState(r);Yh(b,r)||x(r);const[k,v]=A.useState(null),[E,S]=A.useState(null),T=A.useCallback(re=>{re!==Z.current&&(Z.current=re,v(re))},[]),R=A.useCallback(re=>{re!==V.current&&(V.current=re,S(re))},[]),z=a||k,D=c||E,Z=A.useRef(null),V=A.useRef(null),Y=A.useRef(g),U=d!=null,q=qg(d),J=qg(i),F=qg(p),X=A.useCallback(()=>{if(!Z.current||!V.current)return;const re={placement:t,strategy:n,middleware:b};J.current&&(re.platform=J.current),KB(Z.current,V.current,re).then(te=>{const le={...te,isPositioned:F.current!==!1};O.current&&!Yh(Y.current,le)&&(Y.current=le,Sp.flushSync(()=>{m(le)}))})},[b,t,n,J,F]);Nh(()=>{p===!1&&Y.current.isPositioned&&(Y.current.isPositioned=!1,m(re=>({...re,isPositioned:!1})))},[p]);const O=A.useRef(!1);Nh(()=>(O.current=!0,()=>{O.current=!1}),[]),Nh(()=>{if(z&&(Z.current=z),D&&(V.current=D),z&&D){if(q.current)return q.current(z,D,X);X()}},[z,D,X,q,U]);const K=A.useMemo(()=>({reference:Z,floating:V,setReference:T,setFloating:R}),[T,R]),ae=A.useMemo(()=>({reference:z,floating:D}),[z,D]),oe=A.useMemo(()=>{const re={position:n,left:0,top:0};if(!ae.floating)return re;const te=K1(ae.floating,g.x),le=K1(ae.floating,g.y);return u?{...re,transform:"translate("+te+"px, "+le+"px)",...NC(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:le}},[n,u,ae.floating,g.x,g.y]);return A.useMemo(()=>({...g,update:X,refs:K,elements:ae,floatingStyles:oe}),[g,X,K,ae,oe])}const YB=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?q1({element:r.current,padding:i}).fn(n):{}:r?q1({element:r,padding:i}).fn(n):{}}}},JB=(e,t)=>({...$B(e),options:[e,t]}),QB=(e,t)=>({...ZB(e),options:[e,t]}),XB=(e,t)=>({...qB(e),options:[e,t]}),eF=(e,t)=>({...HB(e),options:[e,t]}),tF=(e,t)=>({...WB(e),options:[e,t]}),nF=(e,t)=>({...VB(e),options:[e,t]}),rF=(e,t)=>({...YB(e),options:[e,t]});var iF="Arrow",AC=A.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return w.jsx(st.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});AC.displayName=iF;var oF=AC;function Mp(e){const[t,n]=A.useState(void 0);return Nr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let c,u;if("borderBoxSize"in a){const d=a.borderBoxSize,p=Array.isArray(d)?d[0]:d;c=p.inlineSize,u=p.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Q0="Popper",[RC,jp]=$n(Q0),[sF,IC]=RC(Q0),LC=e=>{const{__scopePopper:t,children:n}=e,[r,i]=A.useState(null);return w.jsx(sF,{scope:t,anchor:r,onAnchorChange:i,children:n})};LC.displayName=Q0;var OC="PopperAnchor",MC=A.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=IC(OC,n),c=A.useRef(null),u=Tt(t,c);return A.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:w.jsx(st.div,{...i,ref:u})});MC.displayName=OC;var X0="PopperContent",[aF,lF]=RC(X0),jC=A.forwardRef((e,t)=>{var Ue,Me,Be,nt,wt,At;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:k,...v}=e,E=IC(X0,n),[S,T]=A.useState(null),R=Tt(t,ft=>T(ft)),[z,D]=A.useState(null),Z=Mp(z),V=(Z==null?void 0:Z.width)??0,Y=(Z==null?void 0:Z.height)??0,U=r+(a!=="center"?"-"+a:""),q=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},J=Array.isArray(p)?p:[p],F=J.length>0,X={padding:q,boundary:J.filter(uF),altBoundary:F},{refs:O,floatingStyles:K,placement:ae,isPositioned:oe,middlewareData:re}=GB({strategy:"fixed",placement:U,whileElementsMounted:(...ft)=>UB(...ft,{animationFrame:x==="always"}),elements:{reference:E.anchor},middleware:[JB({mainAxis:i+Y,alignmentAxis:c}),d&&QB({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?XB():void 0,...X}),d&&eF({...X}),tF({...X,apply:({elements:ft,rects:B,availableWidth:Pe,availableHeight:ke})=>{const{width:ie,height:ne}=B.reference,pe=ft.floating.style;pe.setProperty("--radix-popper-available-width",`${Pe}px`),pe.setProperty("--radix-popper-available-height",`${ke}px`),pe.setProperty("--radix-popper-anchor-width",`${ie}px`),pe.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),z&&rF({element:z,padding:u}),dF({arrowWidth:V,arrowHeight:Y}),b&&nF({strategy:"referenceHidden",...X})]}),[te,le]=BC(ae),$=pr(k);Nr(()=>{oe&&($==null||$())},[oe,$]);const Q=(Ue=re.arrow)==null?void 0:Ue.x,Ce=(Me=re.arrow)==null?void 0:Me.y,xe=((Be=re.arrow)==null?void 0:Be.centerOffset)!==0,[ve,Re]=A.useState();return Nr(()=>{S&&Re(window.getComputedStyle(S).zIndex)},[S]),w.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:oe?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(nt=re.transformOrigin)==null?void 0:nt.x,(wt=re.transformOrigin)==null?void 0:wt.y].join(" "),...((At=re.hide)==null?void 0:At.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:w.jsx(aF,{scope:n,placedSide:te,onArrowChange:D,arrowX:Q,arrowY:Ce,shouldHideArrow:xe,children:w.jsx(st.div,{"data-side":te,"data-align":le,...v,ref:R,style:{...v.style,animation:oe?void 0:"none"}})})})});jC.displayName=X0;var zC="PopperArrow",cF={top:"bottom",right:"left",bottom:"top",left:"right"},DC=A.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=lF(zC,r),c=cF[a.placedSide];return w.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:w.jsx(oF,{...i,ref:n,style:{...i.style,display:"block"}})})});DC.displayName=zC;function uF(e){return e!==null}var dF=e=>({name:"transformOrigin",options:e,fn(t){var E,S,T;const{placement:n,rects:r,middlewareData:i}=t,c=((E=i.arrow)==null?void 0:E.centerOffset)!==0,u=c?0:e.arrowWidth,d=c?0:e.arrowHeight,[p,g]=BC(n),m={start:"0%",center:"50%",end:"100%"}[g],b=(((S=i.arrow)==null?void 0:S.x)??0)+u/2,x=(((T=i.arrow)==null?void 0:T.y)??0)+d/2;let k="",v="";return p==="bottom"?(k=c?m:`${b}px`,v=`${-d}px`):p==="top"?(k=c?m:`${b}px`,v=`${r.floating.height+d}px`):p==="right"?(k=`${-d}px`,v=c?m:`${x}px`):p==="left"&&(k=`${r.floating.width+d}px`,v=c?m:`${x}px`),{data:{x:k,y:v}}}});function BC(e){const[t,n="center"]=e.split("-");return[t,n]}var fF=LC,FC=MC,UC=jC,$C=DC,[zp,IW]=$n("Tooltip",[jp]),ew=jp(),ZC="TooltipProvider",hF=700,G1="tooltip.open",[pF,HC]=zp(ZC),WC=e=>{const{__scopeTooltip:t,delayDuration:n=hF,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,c=A.useRef(!0),u=A.useRef(!1),d=A.useRef(0);return A.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),w.jsx(pF,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(d.current),c.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:A.useCallback(p=>{u.current=p},[]),disableHoverableContent:i,children:a})};WC.displayName=ZC;var VC="Tooltip",[LW,Dp]=zp(VC),Av="TooltipTrigger",mF=A.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Dp(Av,n),a=HC(Av,n),c=ew(n),u=A.useRef(null),d=Tt(t,u,i.onTriggerChange),p=A.useRef(!1),g=A.useRef(!1),m=A.useCallback(()=>p.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),w.jsx(FC,{asChild:!0,...c,children:w.jsx(st.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:qe(e.onPointerMove,b=>{b.pointerType!=="touch"&&!g.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:qe(e.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:qe(e.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:qe(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:qe(e.onBlur,i.onClose),onClick:qe(e.onClick,i.onClose)})})});mF.displayName=Av;var gF="TooltipPortal",[OW,yF]=zp(gF,{forceMount:void 0}),Ac="TooltipContent",qC=A.forwardRef((e,t)=>{const n=yF(Ac,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,c=Dp(Ac,e.__scopeTooltip);return w.jsx(Rr,{present:r||c.open,children:c.disableHoverableContent?w.jsx(KC,{side:i,...a,ref:t}):w.jsx(vF,{side:i,...a,ref:t})})}),vF=A.forwardRef((e,t)=>{const n=Dp(Ac,e.__scopeTooltip),r=HC(Ac,e.__scopeTooltip),i=A.useRef(null),a=Tt(t,i),[c,u]=A.useState(null),{trigger:d,onClose:p}=n,g=i.current,{onPointerInTransitChange:m}=r,b=A.useCallback(()=>{u(null),m(!1)},[m]),x=A.useCallback((k,v)=>{const E=k.currentTarget,S={x:k.clientX,y:k.clientY},T=EF(S,E.getBoundingClientRect()),R=kF(S,T),z=SF(v.getBoundingClientRect()),D=PF([...R,...z]);u(D),m(!0)},[m]);return A.useEffect(()=>()=>b(),[b]),A.useEffect(()=>{if(d&&g){const k=E=>x(E,g),v=E=>x(E,d);return d.addEventListener("pointerleave",k),g.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",k),g.removeEventListener("pointerleave",v)}}},[d,g,x,b]),A.useEffect(()=>{if(c){const k=v=>{const E=v.target,S={x:v.clientX,y:v.clientY},T=(d==null?void 0:d.contains(E))||(g==null?void 0:g.contains(E)),R=!CF(S,c);T?b():R&&(b(),p())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[d,g,c,p,b]),w.jsx(KC,{...e,ref:a})}),[wF,_F]=zp(VC,{isInside:!1}),xF=h6("TooltipContent"),KC=A.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:c,...u}=e,d=Dp(Ac,n),p=ew(n),{onClose:g}=d;return A.useEffect(()=>(document.addEventListener(G1,g),()=>document.removeEventListener(G1,g)),[g]),A.useEffect(()=>{if(d.trigger){const m=b=>{const x=b.target;x!=null&&x.contains(d.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,g]),w.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:w.jsxs(UC,{"data-state":d.stateAttribute,...p,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(xF,{children:r}),w.jsx(wF,{scope:n,isInside:!0,children:w.jsx(j6,{id:d.contentId,role:"tooltip",children:i||r})})]})})});qC.displayName=Ac;var GC="TooltipArrow",bF=A.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=ew(n);return _F(GC,n).isInside?null:w.jsx($C,{...i,...r,ref:t})});bF.displayName=GC;function EF(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function kF(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function SF(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function CF(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,c=t.length-1;a<t.length;c=a++){const u=t[a],d=t[c],p=u.x,g=u.y,m=d.x,b=d.y;g>r!=b>r&&n<(m-p)*(r-g)/(b-g)+p&&(i=!i)}return i}function PF(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),TF(t)}function TF(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],c=t[t.length-2];if((a.x-c.x)*(i.y-c.y)>=(a.y-c.y)*(i.x-c.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],c=n[n.length-2];if((a.x-c.x)*(i.y-c.y)>=(a.y-c.y)*(i.x-c.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var NF=WC,YC=qC;const AF=NF,RF=A.forwardRef(({className:e,sideOffset:t=4,...n},r)=>w.jsx(YC,{ref:r,sideOffset:t,className:at("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));RF.displayName=YC.displayName;function Rv(e,t,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,i=(n==null?void 0:n.deserialize)||JSON.parse,[a,c]=A.useState(()=>{try{const d=localStorage.getItem(e);return d?i(d):t}catch(d){return console.warn(`Failed to load ${e} from localStorage:`,d),t}}),u=d=>{try{const p=d instanceof Function?d(a):d;c(p),localStorage.setItem(e,r(p))}catch(p){console.warn(`Failed to save ${e} to localStorage:`,p)}};return A.useEffect(()=>{const d=p=>{if(p.key===e&&p.newValue!==null)try{c(i(p.newValue))}catch(g){console.warn(`Failed to sync ${e} from localStorage:`,g)}};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[e,i]),[a,u]}const IF=Po({relays:wS(Po({url:Ku(),read:Za(),write:Za()})),updatedAt:yo()}),LF=Po({theme:xS(["dark","light","system"]),relayMetadata:IF});function OF(e){const{children:t,storageKey:n,defaultConfig:r}=e,[i,a]=Rv(n,{},{serialize:JSON.stringify,deserialize:p=>{const g=JSON.parse(p);return LF.partial().parse(g)}}),c=p=>{a(p)},u={...r,...i},d={config:u,updateConfig:c};return MF(u.theme),w.jsx(AS.Provider,{value:d,children:t})}function MF(e){A.useEffect(()=>{const t=window.document.documentElement;if(t.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(n);return}t.classList.add(e)},[e]),A.useEffect(()=>{if(e!=="system")return;const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{const r=window.document.documentElement;r.classList.remove("light","dark");const i=t.matches?"dark":"light";r.classList.add(i)};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[e])}var Y1,Kg,jF=(Y1=function(e,t){function n(U){if(!Number.isSafeInteger(U))throw new Error(`Wrong integer: ${U}`)}function r(...U){const q=(J,F)=>X=>J(F(X));return{encode:Array.from(U).reverse().reduce((J,F)=>J?q(J,F.encode):F.encode,void 0),decode:U.reduce((J,F)=>J?q(J,F.decode):F.decode,void 0)}}function i(U){return{encode:q=>{if(!Array.isArray(q)||q.length&&typeof q[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return q.map(J=>{if(n(J),J<0||J>=U.length)throw new Error(`Digit index outside alphabet: ${J} (alphabet: ${U.length})`);return U[J]})},decode:q=>{if(!Array.isArray(q)||q.length&&typeof q[0]!="string")throw new Error("alphabet.decode input should be array of strings");return q.map(J=>{if(typeof J!="string")throw new Error(`alphabet.decode: not string element=${J}`);const F=U.indexOf(J);if(F===-1)throw new Error(`Unknown letter: "${J}". Allowed: ${U}`);return F})}}}function a(U=""){if(typeof U!="string")throw new Error("join separator should be string");return{encode:q=>{if(!Array.isArray(q)||q.length&&typeof q[0]!="string")throw new Error("join.encode input should be array of strings");for(let J of q)if(typeof J!="string")throw new Error(`join.encode: non-string input=${J}`);return q.join(U)},decode:q=>{if(typeof q!="string")throw new Error("join.decode input should be string");return q.split(U)}}}function c(U,q="="){if(n(U),typeof q!="string")throw new Error("padding chr should be string");return{encode(J){if(!Array.isArray(J)||J.length&&typeof J[0]!="string")throw new Error("padding.encode input should be array of strings");for(let F of J)if(typeof F!="string")throw new Error(`padding.encode: non-string input=${F}`);for(;J.length*U%8;)J.push(q);return J},decode(J){if(!Array.isArray(J)||J.length&&typeof J[0]!="string")throw new Error("padding.encode input should be array of strings");for(let X of J)if(typeof X!="string")throw new Error(`padding.decode: non-string input=${X}`);let F=J.length;if(F*U%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;F>0&&J[F-1]===q;F--)if(!((F-1)*U%8))throw new Error("Invalid padding: string has too much padding");return J.slice(0,F)}}}function u(U){if(typeof U!="function")throw new Error("normalize fn should be function");return{encode:q=>q,decode:q=>U(q)}}function d(U,q,J){if(q<2)throw new Error(`convertRadix: wrong from=${q}, base cannot be less than 2`);if(J<2)throw new Error(`convertRadix: wrong to=${J}, base cannot be less than 2`);if(!Array.isArray(U))throw new Error("convertRadix: data should be array");if(!U.length)return[];let F=0;const X=[],O=Array.from(U);for(O.forEach(K=>{if(n(K),K<0||K>=q)throw new Error(`Wrong integer: ${K}`)});;){let K=0,ae=!0;for(let oe=F;oe<O.length;oe++){const re=O[oe],te=q*K+re;if(!Number.isSafeInteger(te)||q*K/q!==K||te-re!=q*K)throw new Error("convertRadix: carry overflow");if(K=te%J,O[oe]=Math.floor(te/J),!Number.isSafeInteger(O[oe])||O[oe]*J+K!==te)throw new Error("convertRadix: carry overflow");ae&&(O[oe]?ae=!1:F=oe)}if(X.push(K),ae)break}for(let K=0;K<U.length-1&&U[K]===0;K++)X.push(0);return X.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const p=(U,q)=>q?p(q,U%q):U,g=(U,q)=>U+(q-p(U,q));function m(U,q,J,F){if(!Array.isArray(U))throw new Error("convertRadix2: data should be array");if(q<=0||q>32)throw new Error(`convertRadix2: wrong from=${q}`);if(J<=0||J>32)throw new Error(`convertRadix2: wrong to=${J}`);if(g(q,J)>32)throw new Error(`convertRadix2: carry overflow from=${q} to=${J} carryBits=${g(q,J)}`);let X=0,O=0;const K=2**J-1,ae=[];for(const oe of U){if(n(oe),oe>=2**q)throw new Error(`convertRadix2: invalid data word=${oe} from=${q}`);if(X=X<<q|oe,O+q>32)throw new Error(`convertRadix2: carry overflow pos=${O} from=${q}`);for(O+=q;O>=J;O-=J)ae.push((X>>O-J&K)>>>0);X&=2**O-1}if(X=X<<J-O&K,!F&&O>=q)throw new Error("Excess padding");if(!F&&X)throw new Error(`Non-zero padding: ${X}`);return F&&O>0&&ae.push(X>>>0),ae}function b(U){return n(U),{encode:q=>{if(!(q instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return d(Array.from(q),256,U)},decode:q=>{if(!Array.isArray(q)||q.length&&typeof q[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(d(q,U,256))}}}function x(U,q=!1){if(n(U),U<=0||U>32)throw new Error("radix2: bits should be in (0..32]");if(g(8,U)>32||g(U,8)>32)throw new Error("radix2: carry overflow");return{encode:J=>{if(!(J instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return m(Array.from(J),8,U,!q)},decode:J=>{if(!Array.isArray(J)||J.length&&typeof J[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(m(J,U,8,q))}}}function k(U){if(typeof U!="function")throw new Error("unsafeWrapper fn should be function");return function(...q){try{return U.apply(null,q)}catch{}}}function v(U,q){if(n(U),typeof q!="function")throw new Error("checksum fn should be function");return{encode(J){if(!(J instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const F=q(J).slice(0,U),X=new Uint8Array(J.length+U);return X.set(J),X.set(F,J.length),X},decode(J){if(!(J instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const F=J.slice(0,-U),X=q(F).slice(0,U),O=J.slice(-U);for(let K=0;K<U;K++)if(X[K]!==O[K])throw new Error("Invalid checksum");return F}}}t.utils={alphabet:i,chain:r,checksum:v,radix:b,radix2:x,join:a,padding:c},t.base16=r(x(4),i("0123456789ABCDEF"),a("")),t.base32=r(x(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),c(5),a("")),t.base32hex=r(x(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),c(5),a("")),t.base32crockford=r(x(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),a(""),u(U=>U.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=r(x(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),c(6),a("")),t.base64url=r(x(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),c(6),a(""));const E=U=>r(b(58),i(U),a(""));t.base58=E("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=E("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=E("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const S=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(U){let q="";for(let J=0;J<U.length;J+=8){const F=U.subarray(J,J+8);q+=t.base58.encode(F).padStart(S[F.length],"1")}return q},decode(U){let q=[];for(let J=0;J<U.length;J+=11){const F=U.slice(J,J+11),X=S.indexOf(F.length),O=t.base58.decode(F);for(let K=0;K<O.length-X;K++)if(O[K]!==0)throw new Error("base58xmr: wrong padding");q=q.concat(Array.from(O.slice(O.length-X)))}return Uint8Array.from(q)}},t.base58check=U=>r(v(4,q=>U(U(q))),t.base58);const T=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),a("")),R=[996825010,642813549,513874426,1027748829,705979059];function z(U){const q=U>>25;let J=(33554431&U)<<5;for(let F=0;F<R.length;F++)(q>>F&1)==1&&(J^=R[F]);return J}function D(U,q,J=1){const F=U.length;let X=1;for(let O=0;O<F;O++){const K=U.charCodeAt(O);if(K<33||K>126)throw new Error(`Invalid prefix (${U})`);X=z(X)^K>>5}X=z(X);for(let O=0;O<F;O++)X=z(X)^31&U.charCodeAt(O);for(let O of q)X=z(X)^O;for(let O=0;O<6;O++)X=z(X);return X^=J,T.encode(m([X%2**30],30,5,!1))}function Z(U){const q=U==="bech32"?1:734539939,J=x(5),F=J.decode,X=J.encode,O=k(F);function K(ae,oe=90){if(typeof ae!="string")throw new Error("bech32.decode input should be string, not "+typeof ae);if(ae.length<8||oe!==!1&&ae.length>oe)throw new TypeError(`Wrong string length: ${ae.length} (${ae}). Expected (8..${oe})`);const re=ae.toLowerCase();if(ae!==re&&ae!==ae.toUpperCase())throw new Error("String must be lowercase or uppercase");const te=(ae=re).lastIndexOf("1");if(te===0||te===-1)throw new Error('Letter "1" must be present between prefix and data only');const le=ae.slice(0,te),$=ae.slice(te+1);if($.length<6)throw new Error("Data must be at least 6 characters long");const Q=T.decode($).slice(0,-6),Ce=D(le,Q,q);if(!$.endsWith(Ce))throw new Error(`Invalid checksum in ${ae}: expected "${Ce}"`);return{prefix:le,words:Q}}return{encode:function(ae,oe,re=90){if(typeof ae!="string")throw new Error("bech32.encode prefix should be string, not "+typeof ae);if(!Array.isArray(oe)||oe.length&&typeof oe[0]!="number")throw new Error("bech32.encode words should be array of numbers, not "+typeof oe);const te=ae.length+7+oe.length;if(re!==!1&&te>re)throw new TypeError(`Length ${te} exceeds limit ${re}`);return`${ae=ae.toLowerCase()}1${T.encode(oe)}${D(ae,oe,q)}`},decode:K,decodeToBytes:function(ae){const{prefix:oe,words:re}=K(ae,!1);return{prefix:oe,words:re,bytes:F(re)}},decodeUnsafe:k(K),fromWords:F,fromWordsUnsafe:O,toWords:X}}t.bech32=Z("bech32"),t.bech32m=Z("bech32m"),t.utf8={encode:U=>new TextDecoder().decode(U),decode:U=>new TextEncoder().encode(U)},t.hex=r(x(4),i("0123456789abcdef"),a(""),u(U=>{if(typeof U!="string"||U.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof U} with length ${U.length}`);return U.toLowerCase()}));const V={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},Y=`Invalid encoding type. Available types: ${Object.keys(V).join(", ")}`;t.bytesToString=(U,q)=>{if(typeof U!="string"||!V.hasOwnProperty(U))throw new TypeError(Y);if(!(q instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return V[U].encode(q)},t.str=t.bytesToString,t.stringToBytes=(U,q)=>{if(!V.hasOwnProperty(U))throw new TypeError(Y);if(typeof q!="string")throw new TypeError("stringToBytes() expects string");return V[U].decode(q)},t.bytes=t.stringToBytes},Y1(Kg={exports:{}},Kg.exports),Kg.exports);const{bech32:zi,hex:di,utf8:zF}=jF,J1={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},Q1={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},X1={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},eb={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},tb={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},vh=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],DF={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},BF=BigInt("2100000000000000000"),nb=BigInt(1e11),Iv={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},JC={};for(let e=0,t=Object.keys(Iv);e<t.length;e++){const n=t[e],r=Iv[t[e]].toString();JC[r]=n}const FF={1:e=>di.encode(zi.fromWordsUnsafe(e)),16:e=>di.encode(zi.fromWordsUnsafe(e)),13:e=>zF.encode(zi.fromWordsUnsafe(e)),19:e=>di.encode(zi.fromWordsUnsafe(e)),23:e=>di.encode(zi.fromWordsUnsafe(e)),27:e=>di.encode(zi.fromWordsUnsafe(e)),6:Jh,24:Jh,3:function(e){const t=[];let n,r,i,a,c,u=zi.fromWordsUnsafe(e);for(;u.length>0;)n=di.encode(u.slice(0,33)),r=di.encode(u.slice(33,41)),i=parseInt(di.encode(u.slice(41,45)),16),a=parseInt(di.encode(u.slice(45,49)),16),c=parseInt(di.encode(u.slice(49,51)),16),u=u.slice(51),t.push({pubkey:n,short_channel_id:r,fee_base_msat:i,fee_proportional_millionths:a,cltv_expiry_delta:c});return t},5:function(e){const t=e.slice().reverse().map(i=>[!!(1&i),!!(2&i),!!(4&i),!!(8&i),!!(16&i)]).reduce((i,a)=>i.concat(a),[]);for(;t.length<2*vh.length;)t.push(!1);const n={};vh.forEach((i,a)=>{let c;c=t[2*a]?"required":t[2*a+1]?"supported":"unsupported",n[i]=c});const r=t.slice(2*vh.length);return n.extra_bits={start_bit:2*vh.length,bits:r,has_required:r.reduce((i,a,c)=>c%2!=0?i||!1:i||a,!1)},n}};function UF(e){return t=>({tagCode:parseInt(e),words:zi.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function Jh(e){return e.reverse().reduce((t,n,r)=>t+n*Math.pow(32,r),0)}const $F=e=>Uint8Array.from(e.match(/.{1,2}/g).map(t=>parseInt(t,16))),ZF=e=>{if(!e)return null;try{const t=function(m,b){if(typeof m!="string")throw new Error("Lightning Payment Request must be string");if(m.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const x=[],k=zi.decode(m,Number.MAX_SAFE_INTEGER);m=m.toLowerCase();const v=k.prefix;let E=k.words,S=m.slice(v.length+1),T=E.slice(-104);E=E.slice(0,-104);let R=v.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(R&&!R[2]&&(R=v.match(/^ln(\S+)$/)),!R)throw new Error("Not a proper lightning payment request");x.push({name:"lightning_network",letters:"ln"});const z=R[1];let D;switch(z){case J1.bech32:D=J1;break;case Q1.bech32:D=Q1;break;case X1.bech32:D=X1;break;case eb.bech32:D=eb;break;case tb.bech32:D=tb}if(!D||D.bech32!==z)throw new Error("Unknown coin bech32 prefix");x.push({name:"coin_network",letters:z,value:D});const Z=R[2];let V;Z?(V=function(K,ae){let oe,re;if(K.slice(-1).match(/^[munp]$/))oe=K.slice(-1),re=K.slice(0,-1);else{if(K.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");re=K}if(!re.match(/^\d+$/))throw new Error("Not a valid human readable amount");const te=BigInt(re),le=oe?te*nb/DF[oe]:te*nb;if(oe==="p"&&te%BigInt(10)!==BigInt(0)||le>BF)throw new Error("Amount is outside of valid range");return le.toString()}(Z+R[3]),x.push({name:"amount",letters:R[2]+R[3],value:V})):V=null,x.push({name:"separator",letters:"1"});const Y=Jh(E.slice(0,7));let U,q,J,F;for(E=E.slice(7),x.push({name:"timestamp",letters:S.slice(0,7),value:Y}),S=S.slice(7);E.length>0;){const K=E[0].toString();U=JC[K]||"unknown_tag",q=FF[K]||UF(K),E=E.slice(1),J=Jh(E.slice(0,2)),E=E.slice(2),F=E.slice(0,J),E=E.slice(J),x.push({name:U,tag:S[0],letters:S.slice(0,3+J),value:q(F)}),S=S.slice(3+J)}x.push({name:"signature",letters:S.slice(0,104),value:di.encode(zi.fromWordsUnsafe(T))}),S=S.slice(104),x.push({name:"checksum",letters:S});let X={paymentRequest:m,sections:x,get expiry(){let K=x.find(ae=>ae.name==="expiry");if(K)return O("timestamp")+K.value},get route_hints(){return x.filter(K=>K.name==="route_hint").map(K=>K.value)}};for(let K in Iv)K!=="route_hint"&&Object.defineProperty(X,K,{get:()=>O(K)});return X;function O(K){let ae=x.find(oe=>oe.name===K);return ae?ae.value:void 0}}(e);if(!t||!t.sections)return null;const n=t.sections.find(m=>m.name==="payment_hash");if((n==null?void 0:n.name)!=="payment_hash"||!n.value)return null;const r=n.value;let i=0;const a=t.sections.find(m=>m.name==="amount");(a==null?void 0:a.name)==="amount"&&a.value&&(i=parseInt(a.value)/1e3);const c=t.sections.find(m=>m.name==="timestamp");if((c==null?void 0:c.name)!=="timestamp"||!c.value)return null;const u=c.value;let d;const p=t.sections.find(m=>m.name==="expiry");(p==null?void 0:p.name)==="expiry"&&(d=p.value);const g=t.sections.find(m=>m.name==="description");return{paymentHash:r,satoshi:i,timestamp:u,expiry:d,description:(g==null?void 0:g.name)==="description"?g==null?void 0:g.value:void 0}}catch{return null}};function rb(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const QC=e=>e instanceof Uint8Array,Gg=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Li=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const HF=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Qh(e){if(!QC(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=HF[e[n]];return t}function XC(e){if(typeof e=="string"&&(e=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(e)),!QC(e))throw new Error("expected Uint8Array, got "+typeof e);return e}let WF=class{clone(){return this._cloneInto()}};function VF(e){const t=r=>e().update(XC(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class qF extends WF{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Gg(this.buffer)}update(t){rb(this);const{view:n,buffer:r,blockLen:i}=this,a=(t=XC(t)).length;for(let c=0;c<a;){const u=Math.min(i-this.pos,a-c);if(u!==i)r.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0);else{const d=Gg(t);for(;i<=a-c;c+=i)this.process(d,c)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){rb(this),function(m,b){(function(k,...v){if(!(k instanceof Uint8Array))throw new Error("Expected Uint8Array");if(v.length>0&&!v.includes(k.length))throw new Error(`Expected Uint8Array of length ${v}, not of length=${k.length}`)})(m);const x=b.outputLen;if(m.length<x)throw new Error(`digestInto() expects output buffer of length at least ${x}`)}(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let m=c;m<i;m++)n[m]=0;(function(m,b,x,k){if(typeof m.setBigUint64=="function")return m.setBigUint64(b,x,k);const v=BigInt(32),E=BigInt(4294967295),S=Number(x>>v&E),T=Number(x&E),R=k?0:4;m.setUint32(b+(k?4:0),S,k),m.setUint32(b+R,T,k)})(r,i-8,BigInt(8*this.length),a),this.process(r,0);const u=Gg(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)u.setUint32(4*m,g[m],a)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:a,destroyed:c,pos:u}=this;return t.length=i,t.pos=u,t.finished=a,t.destroyed=c,i%n&&t.buffer.set(r),t}}const KF=(e,t,n)=>e&t^e&n^t&n,GF=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ks=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ss=new Uint32Array(64);let YF=class extends qF{constructor(){super(64,32,8,!1),this.A=0|ks[0],this.B=0|ks[1],this.C=0|ks[2],this.D=0|ks[3],this.E=0|ks[4],this.F=0|ks[5],this.G=0|ks[6],this.H=0|ks[7]}get(){const{A:t,B:n,C:r,D:i,E:a,F:c,G:u,H:d}=this;return[t,n,r,i,a,c,u,d]}set(t,n,r,i,a,c,u,d){this.A=0|t,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|a,this.F=0|c,this.G=0|u,this.H=0|d}process(t,n){for(let b=0;b<16;b++,n+=4)Ss[b]=t.getUint32(n,!1);for(let b=16;b<64;b++){const x=Ss[b-15],k=Ss[b-2],v=Li(x,7)^Li(x,18)^x>>>3,E=Li(k,17)^Li(k,19)^k>>>10;Ss[b]=E+Ss[b-7]+v+Ss[b-16]|0}let{A:r,B:i,C:a,D:c,E:u,F:d,G:p,H:g}=this;for(let b=0;b<64;b++){const x=g+(Li(u,6)^Li(u,11)^Li(u,25))+((m=u)&d^~m&p)+GF[b]+Ss[b]|0,k=(Li(r,2)^Li(r,13)^Li(r,22))+KF(r,i,a)|0;g=p,p=d,d=u,u=c+x|0,c=a,a=i,i=r,r=x+k|0}var m;r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,i,a,c,u,d,p,g)}roundClean(){Ss.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Xh=VF(()=>new YF);let tw=class{constructor(t){var n,r,i,a;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=t.pr,!this.paymentRequest)throw new Error("Invalid payment request");const c=ZF(this.paymentRequest);if(!c)throw new Error("Failed to decode payment request");this.paymentHash=c.paymentHash,this.satoshi=c.satoshi,this.timestamp=c.timestamp,this.expiry=c.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=(n=c.description)!=null?n:null,this.verify=(r=t.verify)!=null?r:null,this.preimage=(i=t.preimage)!=null?i:null,this.successAction=(a=t.successAction)!=null?a:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(t){if(!t||!this.paymentHash)return!1;try{const n=Qh(Xh($F(t)));return this.paymentHash===n}catch{return!1}}async verifyPayment(){try{if(!this.verify)throw new Error("LNURL verify not available");const t=await fetch(this.verify);if(!t.ok)throw new Error(`Verification request failed: ${t.status} ${t.statusText}`);const n=await t.json();return n.preimage&&(this.preimage=n.preimage),n.settled}catch(t){return console.error("Failed to check LNURL-verify",t),!1}}hasExpired(){const{expiryDate:t}=this;return!!t&&t.getTime()<Date.now()}};const JF=e=>{if(e.tag!=="keysend")throw new Error("Invalid keysend params");if(e.status!=="OK")throw new Error("Keysend status not OK");if(!e.pubkey)throw new Error("Pubkey does not exist");let t,n;return e.customData&&e.customData[0]&&(t=e.customData[0].customKey,n=e.customData[0].customValue),{destination:e.pubkey,customKey:t,customValue:n}};async function QF({satoshi:e,comment:t,p:n,e:r,relays:i},a={}){const c=a.nostr||globalThis.nostr;if(!c)throw new Error("nostr option or window.nostr is not available");const u=[["relays",...i],["amount",e.toString()]];n&&u.push(["p",n]),r&&u.push(["e",r]);const d={pubkey:await c.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:u,content:t??""};return d.id=tU(d),await c.signEvent(d)}function XF(e){if(typeof e.content!="string"||typeof e.created_at!="number"||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function eU(e){if(!XF(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function tU(e){return Qh(Xh(eU(e)))}function nU(e,t){let n,r;var i,a;return t&&e&&(n=(i=e.names)==null?void 0:i[t],r=n?(a=e.relays)==null?void 0:a[n]:void 0),[e,n,r]}const rU=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/,eP=e=>!!e&&rU.test(e),ib=({amount:e,min:t,max:n})=>e>0&&e>=t&&e<=n,iU=async e=>{if(e.tag!=="payRequest")throw new Error("Invalid pay service params");const t=(e.callback+"").trim();if(!eP(t))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(e.minSendable||0)),r=Math.floor(Number(e.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let i,a;try{i=JSON.parse(e.metadata+""),a=Qh(Xh(e.metadata+""))}catch{i=[],a=Qh(Xh("[]"))}let c="",u="",d="",p="";for(let b=0;b<i.length;b++){const[x,k]=i[b];switch(x){case"text/plain":d=k;break;case"text/identifier":p=k;break;case"text/email":c=k;break;case"image/png;base64":case"image/jpeg;base64":u="data:"+x+","+k}}const g=e.payerData;let m;try{m=new URL(t).hostname}catch{}return{callback:t,fixed:n===r,min:n,max:r,domain:m,metadata:i,metadataHash:a,identifier:p,email:c,description:d,image:u,payerData:g,commentAllowed:Number(e.commentAllowed)||0,rawData:e,allowsNostr:e.allowsNostr||!1}};function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lv.apply(this,arguments)}const oU=async(e,t)=>{const{boost:n}=e;t||(t={});const r=t.webln||globalThis.webln;if(!r)throw new Error("WebLN not available");if(!r.keysend)throw new Error("Keysend not available in current WebLN provider");const i=e.amount||Math.floor(n.value_msat/1e3),a={destination:e.destination,amount:i,customRecords:{7629169:JSON.stringify(n)}};return e.customKey&&e.customValue&&(a.customRecords[e.customKey]=e.customValue),await r.enable(),await r.keysend(a)},sU=/^((?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;class aU{constructor(t,n){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=t,this.options={proxy:"https://api.getalby.com/lnurl"},this.options=Object.assign(this.options,n),this.parse(),this.webln=this.options.webln}parse(){const t=sU.exec(this.address.toLowerCase());t&&(this.username=t[1],this.domain=t[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const t=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!t.ok)throw new Error(`Failed to fetch lnurl info: ${t.status} ${t.statusText}`);const n=await t.json();await this.parseLnUrlPayResponse(n.lnurlp),this.parseKeysendResponse(n.keysend),this.parseNostrResponse(n.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const t=await fetch(this.lnurlpUrl());if(t.ok){const n=await t.json();await this.parseLnUrlPayResponse(n)}}async fetchKeysendData(){const t=await fetch(this.keysendUrl());if(t.ok){const n=await t.json();this.parseKeysendResponse(n)}}async fetchNostrData(){const t=await fetch(this.nostrUrl());if(t.ok){const n=await t.json();this.parseNostrResponse(n)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(t){let n;if(this.options.proxy){const a=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(Lv({ln:this.address},t)).toString()}`);if(!a.ok)throw new Error(`Failed to generate invoice: ${a.status} ${a.statusText}`);n=(await a.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!eP(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const a=new URL(this.lnurlpData.callback);a.search=new URLSearchParams(t).toString();const c=await fetch(a.toString());if(!c.ok)throw new Error(`Failed to generate invoice: ${c.status} ${c.statusText}`);n=await c.json()}const r=n&&n.pr&&n.pr.toString();if(!r)throw new Error("Invalid pay service invoice");const i={pr:r};if(n&&n.verify&&(i.verify=n.verify.toString()),n&&n.successAction&&typeof n.successAction=="object"){const{tag:a,message:c,description:u,url:d}=n.successAction;a==="message"?i.successAction={tag:a,message:c}:a==="url"&&(i.successAction={tag:a,description:u,url:d})}return new tw(i)}async requestInvoice(t){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const n=1e3*t.satoshi,{commentAllowed:r,min:i,max:a}=this.lnurlpData;if(!ib({amount:n,min:i,max:a}))throw new Error("Invalid amount");if(t.comment&&r&&r>0&&t.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const c={amount:n.toString()};return t.comment&&(c.comment=t.comment),t.payerdata&&(c.payerdata=JSON.stringify(t.payerdata)),this.generateInvoice(c)}async boost(t,n=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:r,customKey:i,customValue:a}=this.keysendData,c=this.getWebLN();if(!c)throw new Error("WebLN not available");return oU({destination:r,customKey:i,customValue:a,amount:n,boost:t},{webln:c})}async zapInvoice({satoshi:t,comment:n,relays:r,e:i},a={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const c=this.nostrPubkey,u=1e3*t,{allowsNostr:d,min:p,max:g}=this.lnurlpData;if(!ib({amount:u,min:p,max:g}))throw new Error("Invalid amount");if(!d)throw new Error("Your provider does not support zaps");const m=await QF({satoshi:u,comment:n,p:c,e:i,relays:r},a),b={amount:u.toString(),nostr:JSON.stringify(m)};return await this.generateInvoice(b)}async zap(t,n={}){const r=this.zapInvoice(t,n),i=this.getWebLN();if(!i)throw new Error("WebLN not available");return await i.enable(),i.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(t){t&&(this.lnurlpData=await iU(t))}parseKeysendResponse(t){t&&(this.keysendData=JF(t))}parseNostrResponse(t){t&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=nU(t,this.username))}}function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ws.apply(this,arguments)}if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const lU=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function cU(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=lU[e[n]];return t}function Hu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=2*r,a=e.slice(i,i+2),c=Number.parseInt(a,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}class ta extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n}}class uU extends ta{}class dU extends ta{}class tP extends ta{}let ob=class extends tP{};class sb extends tP{}class ab extends ta{}class lb extends ta{}class Yg extends ta{}class fU extends ta{}class hU extends ta{}class sc{static parseWalletConnectUrl(t){t=t.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://").replace("nostrwalletconnect:","http://").replace("nostr+walletconnect:","http://");const n=new URL(t),r=n.searchParams.get("relay");if(!r)throw new Error("No relay URL found in connection string");const i={walletPubkey:n.host,relayUrl:r},a=n.searchParams.get("secret");a&&(i.secret=a);const c=n.searchParams.get("lud16");return c&&(i.lud16=c),i}constructor(t){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,t&&t.nostrWalletConnectUrl&&(t=Ws({},sc.parseWalletConnectUrl(t.nostrWalletConnectUrl),t)),this.options=Ws({},t||{}),this.relayUrl=this.options.relayUrl,this.relay=new ck(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?Xn.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?Xn.decode(this.options.walletPubkey).data:this.options.walletPubkey,globalThis.WebSocket===void 0&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(t=!0){let n=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return t&&(n=`${n}&secret=${this.secret}`),n}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return Ro(Hu(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error("Missing encryption or version");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(t){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(Qr(t,Hu(this.secret)))}getEventHash(t){return Qu(t)}close(){return this.relay.close()}async encrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await od.encrypt(this.secret,t,n);else{const i=Us.getConversationKey(Hu(this.secret),t);r=Us.encrypt(n,i)}return r}async decrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await od.decrypt(this.secret,t,n);else{const i=Us.getConversationKey(Hu(this.secret),t);r=Us.decrypt(n,i)}return r}static getAuthorizationUrl(t,n={},r){if(t.indexOf("/#/")>-1)throw new Error("hash router paths not supported");const i=new URL(t);return n.name&&i.searchParams.set("name",n.name),i.searchParams.set("pubkey",r),n.returnTo&&i.searchParams.set("return_to",n.returnTo),n.budgetRenewal&&i.searchParams.set("budget_renewal",n.budgetRenewal),n.expiresAt&&i.searchParams.set("expires_at",Math.floor(n.expiresAt.getTime()/1e3).toString()),n.maxAmount&&i.searchParams.set("max_amount",n.maxAmount.toString()),n.requestMethods&&i.searchParams.set("request_methods",n.requestMethods.join(" ")),n.notificationTypes&&i.searchParams.set("notification_types",n.notificationTypes.join(" ")),n.isolated&&i.searchParams.set("isolated","true"),n.metadata&&i.searchParams.set("metadata",JSON.stringify(n.metadata)),i}static fromAuthorizationUrl(t,n={},r){r=r||cU(Cd()),n.name||(n.name=document.location.host);const i=this.getAuthorizationUrl(t,n,Ro(Hu(r))),a=window.outerHeight/2+window.screenY-300,c=window.outerWidth/2+window.screenX-200;return new Promise((u,d)=>{const p=window.open(i.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${a},left=${c}`);if(!p)return void d(new Error("failed to execute window.open"));const g=b=>{const x=b.data;x&&x.type==="nwc:success"&&b.origin===`${i.protocol}//${i.host}`&&(x.relayUrl||d(new Error("no relayUrl in response")),x.walletPubkey||d(new Error("no walletPubkey in response")),u(new sc({relayUrl:x.relayUrl,walletPubkey:x.walletPubkey,secret:r,lud16:x.lud16})),clearInterval(m),window.removeEventListener("message",g),p&&p.close())},m=setInterval(()=>{p&&p.closed&&(clearInterval(m),window.removeEventListener("message",g),d(new Error("Popup closed")))},500);window.addEventListener("message",g)})}async getWalletServiceInfo(){var t;await this._checkConnected();const n=await new Promise((d,p)=>{const g=[],m=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});m.onevent=b=>{g.push(b)},m.oneose=()=>{m.close(),d(g)}});if(!n.length)throw new Error("no info event (kind 13194) returned from relay");const r=n[0].content,i=n[0].tags.find(d=>d[0]==="notifications"),a=n[0].tags.find(d=>d[0]==="v"),c=n[0].tags.find(d=>d[0]==="encryption");let u=["nip04"];return a&&a[1].includes("1.0")&&u.push("nip44_v2"),c&&(u=c[1].split(" ")),{encryptions:u,capabilities:r.split(/[ |,]/g),notifications:(i==null||(t=i[1])==null?void 0:t.split(" "))||[]}}async getInfo(){try{return await this.executeNip47Request("get_info",{},t=>!!t.methods,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_info",t),t}}async getBudget(){try{return await this.executeNip47Request("get_budget",{},t=>t!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_budget",t),t}}async getBalance(){try{return await this.executeNip47Request("get_balance",{},t=>t.balance!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_balance",t),t}}async payInvoice(t){try{return await this.executeNip47Request("pay_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request pay_invoice",n),n}}async payKeysend(t){try{return await this.executeNip47Request("pay_keysend",t,n=>!!n.preimage)}catch(n){throw console.error("Failed to request pay_keysend",n),n}}async signMessage(t){try{return await this.executeNip47Request("sign_message",t,n=>n.message===t.message&&!!n.signature)}catch(n){throw console.error("Failed to request sign_message",n),n}}async createConnection(t){try{return await this.executeNip47Request("create_connection",t,n=>!!n.wallet_pubkey)}catch(n){throw console.error("Failed to request create_connection",n),n}}async multiPayInvoice(t){try{return{invoices:await this.executeMultiNip47Request("multi_pay_invoice",t,t.invoices.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_invoice",n),n}}async multiPayKeysend(t){try{return{keysends:await this.executeMultiNip47Request("multi_pay_keysend",t,t.keysends.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_keysend",n),n}}async makeInvoice(t){try{if(!t.amount)throw new Error("No amount specified");return await this.executeNip47Request("make_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_invoice",n),n}}async makeHoldInvoice(t){try{if(!t.amount)throw new Error("No amount specified");if(!t.payment_hash)throw new Error("No payment hash specified");return await this.executeNip47Request("make_hold_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_hold_invoice",n),n}}async settleHoldInvoice(t){try{return await this.executeNip47Request("settle_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request settle_hold_invoice",n),n}}async cancelHoldInvoice(t){try{return await this.executeNip47Request("cancel_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request cancel_hold_invoice",n),n}}async lookupInvoice(t){try{return await this.executeNip47Request("lookup_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request lookup_invoice",n),n}}async listTransactions(t){try{return await this.executeNip47Request("list_transactions",t,n=>!!n.transactions,{replyTimeout:1e4})}catch(n){throw console.error("Failed to request list_transactions",n),n}}async subscribeNotifications(t,n){var r=this;let i,a,c,u=!0;return async function(){for(;u;){try{await r._checkConnected(),await r._selectEncryptionType(),c=r.relay.subscribe([{kinds:[...r.encryptionType==="nip04"?[23196]:[23197]],authors:[r.walletPubkey],"#p":[r.publicKey]}],{}),console.info("subscribed to relay"),c.onevent=async function(d){const p=await r.decrypt(r.walletPubkey,d.content);let g;try{g=JSON.parse(p)}catch(m){return void console.error("Failed to parse decrypted event content",m)}g.notification?(!n||n.indexOf(g.notification_type)>-1)&&t(g):console.error("No notification in response",g)},await new Promise(d=>{i=()=>{d()},a=()=>{console.info("relay disconnected"),i==null||i()},r.relay.onclose=a}),a!==void 0&&(r.relay.onclose=null)}catch(d){console.error("error subscribing to notifications",d||"unknown relay error")}u&&await new Promise(d=>setTimeout(d,1e3))}}(),()=>{var d;u=!1,i==null||i(),(d=c)==null||d.close()}}async executeNip47Request(t,n,r,i){var a=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((c,u)=>{(async function(){const d={method:t,params:n},p=await a.encrypt(a.walletPubkey,JSON.stringify(d)),g={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",a.walletPubkey],["v",a.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",a.encryptionType]],content:p},m=await a.signEvent(g),b=a.relay.subscribe([{kinds:[23195],authors:[a.walletPubkey],"#e":[m.id]}],{}),x=setTimeout(function(){b.close(),u(new sb(`reply timeout: event ${m.id}`,"INTERNAL"))},(i==null?void 0:i.replyTimeout)||6e4);b.onevent=async function(v){clearTimeout(x),b.close();const E=await a.decrypt(a.walletPubkey,v.content);let S;try{S=JSON.parse(E)}catch{return clearTimeout(x),b.close(),void u(new lb("failed to deserialize response","INTERNAL"))}var T,R;S.result?r(S.result)?c(S.result):(clearTimeout(x),b.close(),u(new Yg("response from NWC failed validation: "+JSON.stringify(S.result),"INTERNAL"))):(clearTimeout(x),b.close(),u(new dU(((T=S.error)==null?void 0:T.message)||"unknown Error",((R=S.error)==null?void 0:R.code)||"INTERNAL")))};const k=setTimeout(function(){b.close(),u(new ob(`publish timeout: ${m.id}`,"INTERNAL"))},(i==null?void 0:i.publishTimeout)||5e3);try{await a.relay.publish(m),clearTimeout(k)}catch(v){clearTimeout(k),u(new ab(`failed to publish: ${v}`,"INTERNAL"))}})()})}async executeMultiNip47Request(t,n,r,i,a){var c=this;await this._checkConnected(),await this._selectEncryptionType();const u=[];return new Promise((d,p)=>{(async function(){const g={method:t,params:n},m=await c.encrypt(c.walletPubkey,JSON.stringify(g)),b={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",c.walletPubkey],["v",c.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",c.encryptionType]],content:m},x=await c.signEvent(b),k=c.relay.subscribe([{kinds:[23195],authors:[c.walletPubkey],"#e":[x.id]}],{}),v=setTimeout(function(){k.close(),p(new sb(`reply timeout: event ${x.id}`,"INTERNAL"))},(a==null?void 0:a.replyTimeout)||6e4);k.onevent=async function(S){const T=await c.decrypt(c.walletPubkey,S.content);let R;try{R=JSON.parse(T)}catch{clearTimeout(v),k.close(),p(new lb("failed to deserialize response","INTERNAL"))}if(R.result){var z;if(!i(R.result))return clearTimeout(v),k.close(),void p(new Yg("Response from NWC failed validation: "+JSON.stringify(R.result),"INTERNAL"));const V=(z=S.tags.find(Y=>Y[0]==="d"))==null?void 0:z[1];if(V===void 0)return clearTimeout(v),k.close(),void p(new Yg("No d tag found in response event","INTERNAL"));u.push(Ws({},R.result,{dTag:V})),u.length===r&&(clearTimeout(v),k.close(),d(u))}else{var D,Z;clearTimeout(v),k.close(),p(new fU((D=R.error)==null?void 0:D.message,(Z=R.error)==null?void 0:Z.code))}};const E=setTimeout(function(){k.close(),p(new ob(`Publish timeout: ${x.id}`,"INTERNAL"))},(a==null?void 0:a.publishTimeout)||5e3);try{await c.relay.publish(x),clearTimeout(E)}catch(S){clearTimeout(E),p(new ab(`Failed to publish: ${S}`,"INTERNAL"))}})()})}async _checkConnected(){if(!this.secret)throw new Error("Missing secret key");if(!this.relayUrl)throw new Error("Missing relay url");try{this.relay.connected||await this.relay.connect()}catch{throw console.error("failed to connect to relay",this.relayUrl),new uU("Failed to connect to "+this.relayUrl,"OTHER")}}async _selectEncryptionType(){if(!this._encryptionType){const t=await this.getWalletServiceInfo(),n=this._findPreferredEncryptionType(t.encryptions);if(!n)throw new hU("no compatible encryption or version found between wallet and client","UNSUPPORTED_ENCRYPTION");n==="nip04"&&console.warn("NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead."),this._encryptionType=n}}_findPreferredEncryptionType(t){return t.includes("nip44_v2")?"nip44_v2":t.includes("nip04")?"nip04":null}}class pU{constructor(t,n){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=n,this.invoice=new tw({pr:n.invoice}),this._nwcClient=t}onPaid(t){var n=this;return async function(){let r;try{var i;r=(i=(await n._nwcClient.getInfo()).notifications)==null?void 0:i.includes("payment_received")}catch{console.error("failed to fetch info, falling back to polling")}const a=u=>{n._unsubscribeFunc==null||n._unsubscribeFunc(),t(u)},c=u=>()=>{n._timeoutFunc=void 0,clearTimeout(n._timeoutId),u()};if(r){const u=d=>{d.notification.payment_hash===n.transaction.payment_hash&&a(d.notification)};n._unsubscribeFunc=c(await n._nwcClient.subscribeNotifications(u,["payment_received"]))}else console.warn("current connection does not support notifications, falling back to polling"),n._unsubscribeFunc=c(n._onPaidPollingFallback(a))}(),this}onTimeout(t,n){return this._timeoutFunc=()=>{var r;(r=this._unsubscribeFunc)==null||r.call(this),n()},this._timeoutId=setTimeout(()=>{var r;(r=this._timeoutFunc)==null||r.call(this)},1e3*t),this}unsubscribe(){var t;(t=this._unsubscribeFunc)==null||t.call(this)}_onPaidPollingFallback(t){var n=this;let r=!0;return async function(){for(;r;){const i=await n._nwcClient.lookupInvoice({payment_hash:n.transaction.payment_hash});if(i.settled_at&&i.preimage){t(i),r=!1;break}await new Promise(a=>setTimeout(a,3e3))}}(),()=>{r=!1}}}async function cb(e){if(typeof e=="number")return{satoshi:e,millisat:1e3*e};const t=await Promise.resolve(e.satoshi);return{satoshi:t,millisat:1e3*t}}class dd{constructor(t){this.nwcClient=void 0,this.nwcClient=typeof t=="string"?new sc({nostrWalletConnectUrl:t}):t instanceof sc?t:new sc(t)}async pay(t,n,r){let i=t;const a=n?await cb(n):void 0;if(i.indexOf("@")>-1){var c,u;if(!a)throw new Error("Amount must be provided when paying to a lightning address");const p=new aU(t);await p.fetch(),i=(await p.requestInvoice({satoshi:a.satoshi,comment:r==null||(c=r.metadata)==null?void 0:c.comment,payerdata:r==null||(u=r.metadata)==null?void 0:u.payer_data})).paymentRequest}const d=await this.nwcClient.payInvoice(Ws({},r||{},{invoice:i,amount:a==null?void 0:a.millisat}));return Ws({},d,{invoice:new tw({pr:i})})}async requestPayment(t,n){const r=await cb(t),i=await this.nwcClient.makeInvoice(Ws({},n||{},{amount:r.millisat}));return new pU(this.nwcClient,i)}close(){this.nwcClient.close()}}function mU(){const{toast:e}=Td(),[t,n]=Rv("nwc-connections",[]),[r,i]=Rv("nwc-active-connection",null),[a,c]=A.useState({}),u=async(m,b)=>{const k=(E=>{try{return!E.startsWith("nostr+walletconnect://")&&!E.startsWith("nostrwalletconnect://")?(console.error("Invalid NWC URI protocol:",{protocol:E.split("://")[0]}),null):{connectionString:E}}catch(S){return console.error("Failed to parse NWC URI:",S),null}})(m);if(!k)return e({title:"Invalid NWC URI",description:"Please check the connection string and try again.",variant:"destructive"}),!1;if(t.find(E=>E.connectionString===k.connectionString))return e({title:"Connection already exists",description:"This wallet is already connected.",variant:"destructive"}),!1;try{let E;const S=new Promise((D,Z)=>{try{const V=new dd(k.connectionString);D(V)}catch(V){Z(V)}}),T=new Promise((D,Z)=>{E=setTimeout(()=>Z(new Error("Connection test timeout")),1e4)});try{await Promise.race([S,T]),E&&clearTimeout(E)}catch(D){throw E&&clearTimeout(E),D}const R={connectionString:k.connectionString,alias:b||"NWC Wallet",isConnected:!0};c(D=>({...D,[k.connectionString]:{alias:R.alias,methods:["pay_invoice"]}}));const z=[...t,R];return n(z),(t.length===0||!r)&&i(k.connectionString),e({title:"Wallet connected",description:`Successfully connected to ${R.alias}.`}),!0}catch(E){console.error("NWC connection failed:",E);const S=E instanceof Error?E.message:"Unknown error occurred";return e({title:"Connection failed",description:`Could not connect to the wallet: ${S}`,variant:"destructive"}),!1}},d=m=>{const b=t.filter(x=>x.connectionString!==m);if(n(b),r===m){const x=b.length>0?b[0].connectionString:null;i(x)}c(x=>{const k={...x};return delete k[m],k}),e({title:"Wallet disconnected",description:"The wallet connection has been removed."})},p=A.useCallback(()=>!r&&t.length>0?(i(t[0].connectionString),t[0]):r&&t.find(b=>b.connectionString===r)||null,[r,t,i]),g=A.useCallback(async(m,b)=>{if(!m.connectionString)throw new Error("Invalid connection: missing connection string");let x;try{x=new dd(m.connectionString)}catch(k){throw console.error("Failed to create NWC client:",k),new Error(`Failed to create NWC client: ${k instanceof Error?k.message:"Unknown error"}`)}try{let k;const v=new Promise((S,T)=>{k=setTimeout(()=>T(new Error("Payment timeout after 15 seconds")),15e3)}),E=x.pay(b);try{const S=await Promise.race([E,v]);return k&&clearTimeout(k),S}catch(S){throw k&&clearTimeout(k),S}}catch(k){throw console.error("NWC payment failed:",k),k instanceof Error?k.message.includes("timeout")?new Error("Payment timed out. Please try again."):k.message.includes("insufficient")?new Error("Insufficient balance in connected wallet."):k.message.includes("invalid")?new Error("Invalid invoice or connection. Please check your wallet."):new Error(`Payment failed: ${k.message}`):new Error("Payment failed with unknown error")}},[]);return{connections:t,activeConnection:r,connectionInfo:a,addConnection:u,removeConnection:d,setActiveConnection:i,getActiveConnection:p,sendPayment:g}}const nP=A.createContext(null);function rP(){const e=A.useContext(nP);if(!e)throw new Error("useNWC must be used within a NWCProvider");return e}function gU({children:e}){const t=mU();return w.jsx(nP.Provider,{value:t,children:e})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fd.apply(this,arguments)}var $s;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($s||($s={}));const ub="popstate";function yU(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:c,hash:u}=r.location;return Ov("",{pathname:a,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ep(i)}return wU(t,n,null,e)}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vU(){return Math.random().toString(36).substr(2,8)}function db(e,t){return{usr:e.state,key:e.key,idx:t}}function Ov(e,t,n,r){return n===void 0&&(n=null),fd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fc(t):t,{state:n,key:t&&t.key||r||vU()})}function ep(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function wU(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,u=$s.Pop,d=null,p=g();p==null&&(p=0,c.replaceState(fd({},c.state,{idx:p}),""));function g(){return(c.state||{idx:null}).idx}function m(){u=$s.Pop;let E=g(),S=E==null?null:E-p;p=E,d&&d({action:u,location:v.location,delta:S})}function b(E,S){u=$s.Push;let T=Ov(v.location,E,S);p=g()+1;let R=db(T,p),z=v.createHref(T);try{c.pushState(R,"",z)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(z)}a&&d&&d({action:u,location:v.location,delta:1})}function x(E,S){u=$s.Replace;let T=Ov(v.location,E,S);p=g();let R=db(T,p),z=v.createHref(T);c.replaceState(R,"",z),a&&d&&d({action:u,location:v.location,delta:0})}function k(E){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof E=="string"?E:ep(E);return T=T.replace(/ $/,"%20"),hn(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let v={get action(){return u},get location(){return e(i,c)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(ub,m),d=E,()=>{i.removeEventListener(ub,m),d=null}},createHref(E){return t(i,E)},createURL:k,encodeLocation(E){let S=k(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:x,go(E){return c.go(E)}};return v}var fb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fb||(fb={}));function _U(e,t,n){return n===void 0&&(n="/"),xU(e,t,n)}function xU(e,t,n,r){let i=typeof t=="string"?Fc(t):t,a=rw(i.pathname||"/",n);if(a==null)return null;let c=iP(e);bU(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let p=OU(a);u=RU(c[d],p)}return u}function iP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,c,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};d.relativePath.startsWith("/")&&(hn(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=Vs([r,d.relativePath]),g=n.concat(d);a.children&&a.children.length>0&&(hn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),iP(a.children,t,g,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:NU(p,a.index),routesMeta:g})};return e.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,c);else for(let d of oP(a.path))i(a,c,d)}),t}function oP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=oP(r.join("/")),u=[];return u.push(...c.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function bU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:AU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EU=/^:[\w-]+$/,kU=3,SU=2,CU=1,PU=10,TU=-2,hb=e=>e==="*";function NU(e,t){let n=e.split("/"),r=n.length;return n.some(hb)&&(r+=TU),t&&(r+=SU),n.filter(i=>!hb(i)).reduce((i,a)=>i+(EU.test(a)?kU:a===""?CU:PU),r)}function AU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function RU(e,t,n){let{routesMeta:r}=e,i={},a="/",c=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,g=a==="/"?t:t.slice(a.length)||"/",m=IU({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),b=d.route;if(!m)return null;Object.assign(i,m.params),c.push({params:i,pathname:Vs([a,m.pathname]),pathnameBase:BU(Vs([a,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(a=Vs([a,m.pathnameBase]))}return c}function IU(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=LU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,g,m)=>{let{paramName:b,isOptional:x}=g;if(b==="*"){let v=u[m]||"";c=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const k=u[m];return x&&!k?p[b]=void 0:p[b]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:c,pattern:e}}function LU(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),nw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function OU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const MU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jU=e=>MU.test(e);function zU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Fc(e):e,a;if(n)if(jU(n))a=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),nw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?a=pb(n.substring(1),"/"):a=pb(n,t)}else a=t;return{pathname:a,search:FU(r),hash:UU(i)}}function pb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sP(e,t){let n=DU(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function aP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Fc(e):(i=fd({},e),hn(!i.pathname||!i.pathname.includes("?"),Jg("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),Jg("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),Jg("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,u;if(c==null)u=n;else{let m=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}u=m>=0?t[m]:"/"}let d=zU(i,u),p=c&&c!=="/"&&c.endsWith("/"),g=(a||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}const Vs=e=>e.join("/").replace(/\/\/+/g,"/"),BU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $U(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lP=["post","put","patch","delete"];new Set(lP);const ZU=["get",...lP];new Set(ZU);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hd.apply(this,arguments)}const iw=A.createContext(null),HU=A.createContext(null),Xa=A.createContext(null),Bp=A.createContext(null),na=A.createContext({outlet:null,matches:[],isDataRoute:!1}),cP=A.createContext(null);function WU(e,t){let{relative:n}=t===void 0?{}:t;Ld()||hn(!1);let{basename:r,navigator:i}=A.useContext(Xa),{hash:a,pathname:c,search:u}=dP(e,{relative:n}),d=c;return r!=="/"&&(d=c==="/"?r:Vs([r,c])),i.createHref({pathname:d,search:u,hash:a})}function Ld(){return A.useContext(Bp)!=null}function el(){return Ld()||hn(!1),A.useContext(Bp).location}function uP(e){A.useContext(Xa).static||A.useLayoutEffect(e)}function VU(){let{isDataRoute:e}=A.useContext(na);return e?o$():qU()}function qU(){Ld()||hn(!1);let e=A.useContext(iw),{basename:t,future:n,navigator:r}=A.useContext(Xa),{matches:i}=A.useContext(na),{pathname:a}=el(),c=JSON.stringify(sP(i,n.v7_relativeSplatPath)),u=A.useRef(!1);return uP(()=>{u.current=!0}),A.useCallback(function(p,g){if(g===void 0&&(g={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let m=aP(p,JSON.parse(c),a,g.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Vs([t,m.pathname])),(g.replace?r.replace:r.push)(m,g.state,g)},[t,r,c,a,e])}function ow(){let{matches:e}=A.useContext(na),t=e[e.length-1];return t?t.params:{}}function dP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=A.useContext(Xa),{matches:i}=A.useContext(na),{pathname:a}=el(),c=JSON.stringify(sP(i,r.v7_relativeSplatPath));return A.useMemo(()=>aP(e,JSON.parse(c),a,n==="path"),[e,c,a,n])}function KU(e,t){return GU(e,t)}function GU(e,t,n,r){Ld()||hn(!1);let{navigator:i}=A.useContext(Xa),{matches:a}=A.useContext(na),c=a[a.length-1],u=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let p=el(),g;if(t){var m;let E=typeof t=="string"?Fc(t):t;d==="/"||(m=E.pathname)!=null&&m.startsWith(d)||hn(!1),g=E}else g=p;let b=g.pathname||"/",x=b;if(d!=="/"){let E=d.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=_U(e,{pathname:x}),v=e$(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Vs([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Vs([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,n,r);return t&&v?A.createElement(Bp.Provider,{value:{location:hd({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:$s.Pop}},v):v}function YU(){let e=i$(),t=$U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,null)}const JU=A.createElement(YU,null);class QU extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?A.createElement(na.Provider,{value:this.props.routeContext},A.createElement(cP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XU(e){let{routeContext:t,match:n,children:r}=e,i=A.useContext(iw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(na.Provider,{value:t},r)}function e$(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=c.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);g>=0||hn(!1),c=c.slice(0,Math.min(c.length,g+1))}let d=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<c.length;g++){let m=c[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=g),m.route.id){let{loaderData:b,errors:x}=n,k=m.route.loader&&b[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||k){d=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((g,m,b)=>{let x,k=!1,v=null,E=null;n&&(x=u&&m.route.id?u[m.route.id]:void 0,v=m.route.errorElement||JU,d&&(p<0&&b===0?(s$("route-fallback"),k=!0,E=null):p===b&&(k=!0,E=m.route.hydrateFallbackElement||null)));let S=t.concat(c.slice(0,b+1)),T=()=>{let R;return x?R=v:k?R=E:m.route.Component?R=A.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=g,A.createElement(XU,{match:m,routeContext:{outlet:g,matches:S,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?A.createElement(QU,{location:n.location,revalidation:n.revalidation,component:v,error:x,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var fP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fP||{}),hP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hP||{});function t$(e){let t=A.useContext(iw);return t||hn(!1),t}function n$(e){let t=A.useContext(HU);return t||hn(!1),t}function r$(e){let t=A.useContext(na);return t||hn(!1),t}function pP(e){let t=r$(),n=t.matches[t.matches.length-1];return n.route.id||hn(!1),n.route.id}function i$(){var e;let t=A.useContext(cP),n=n$(),r=pP();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function o$(){let{router:e}=t$(fP.UseNavigateStable),t=pP(hP.UseNavigateStable),n=A.useRef(!1);return uP(()=>{n.current=!0}),A.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,hd({fromRouteId:t},a)))},[e,t])}const mb={};function s$(e,t,n){mb[e]||(mb[e]=!0)}function a$(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Mi(e){hn(!1)}function l$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=$s.Pop,navigator:a,static:c=!1,future:u}=e;Ld()&&hn(!1);let d=t.replace(/^\/*/,"/"),p=A.useMemo(()=>({basename:d,navigator:a,static:c,future:hd({v7_relativeSplatPath:!1},u)}),[d,u,a,c]);typeof r=="string"&&(r=Fc(r));let{pathname:g="/",search:m="",hash:b="",state:x=null,key:k="default"}=r,v=A.useMemo(()=>{let E=rw(g,d);return E==null?null:{location:{pathname:E,search:m,hash:b,state:x,key:k},navigationType:i}},[d,g,m,b,x,k,i]);return v==null?null:A.createElement(Xa.Provider,{value:p},A.createElement(Bp.Provider,{children:n,value:v}))}function c$(e){let{children:t,location:n}=e;return KU(Mv(t),n)}new Promise(()=>{});function Mv(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let a=[...t,i];if(r.type===A.Fragment){n.push.apply(n,Mv(r.props.children,a));return}r.type!==Mi&&hn(!1),!r.props.index||!r.props.children||hn(!1);let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Mv(r.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(this,arguments)}function u$(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function d$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function f$(e,t){return e.button===0&&(!t||t==="_self")&&!d$(e)}const h$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p$="6";try{window.__reactRouterVersion=p$}catch{}const m$="startTransition",gb=qv[m$];function g$(e){let{basename:t,children:n,future:r,window:i}=e,a=A.useRef();a.current==null&&(a.current=yU({window:i,v5Compat:!0}));let c=a.current,[u,d]=A.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},g=A.useCallback(m=>{p&&gb?gb(()=>d(m)):d(m)},[d,p]);return A.useLayoutEffect(()=>c.listen(g),[c,g]),A.useEffect(()=>a$(r),[r]),A.createElement(l$,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const y$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=A.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:c,state:u,target:d,to:p,preventScrollReset:g,viewTransition:m}=t,b=u$(t,h$),{basename:x}=A.useContext(Xa),k,v=!1;if(typeof p=="string"&&v$.test(p)&&(k=p,y$))try{let R=new URL(window.location.href),z=p.startsWith("//")?new URL(R.protocol+p):new URL(p),D=rw(z.pathname,x);z.origin===R.origin&&D!=null?p=D+z.search+z.hash:v=!0}catch{}let E=WU(p,{relative:i}),S=w$(p,{replace:c,state:u,target:d,preventScrollReset:g,relative:i,viewTransition:m});function T(R){r&&r(R),R.defaultPrevented||S(R)}return A.createElement("a",jv({},b,{href:k||E,onClick:v||a?r:T,ref:n,target:d}))});var yb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yb||(yb={}));var vb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vb||(vb={}));function w$(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:c,viewTransition:u}=t===void 0?{}:t,d=VU(),p=el(),g=dP(e,{relative:c});return A.useCallback(m=>{if(f$(m,n)){m.preventDefault();let b=r!==void 0?r:ep(p)===ep(g);d(e,{replace:b,state:i,preventScrollReset:a,relative:c,viewTransition:u})}},[p,d,g,r,i,n,e,a,c,u])}function _$(){const{pathname:e}=el();return A.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const x$=Rd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),mt=A.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const c=r?d6:"button";return w.jsx(c,{className:at(x$({variant:t,size:n,className:e})),ref:a,...i})});mt.displayName="Button";const vn=A.forwardRef(({className:e,type:t,...n},r)=>w.jsx("input",{type:t,className:at("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));vn.displayName="Input";var Qg="focusScope.autoFocusOnMount",Xg="focusScope.autoFocusOnUnmount",wb={bubbles:!1,cancelable:!0},b$="FocusScope",sw=A.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...c}=e,[u,d]=A.useState(null),p=pr(i),g=pr(a),m=A.useRef(null),b=Tt(t,v=>d(v)),x=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let v=function(R){if(x.paused||!u)return;const z=R.target;u.contains(z)?m.current=z:Ns(m.current,{select:!0})},E=function(R){if(x.paused||!u)return;const z=R.relatedTarget;z!==null&&(u.contains(z)||Ns(m.current,{select:!0}))},S=function(R){if(document.activeElement===document.body)for(const D of R)D.removedNodes.length>0&&Ns(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const T=new MutationObserver(S);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),T.disconnect()}}},[r,u,x.paused]),A.useEffect(()=>{if(u){xb.add(x);const v=document.activeElement;if(!u.contains(v)){const S=new CustomEvent(Qg,wb);u.addEventListener(Qg,p),u.dispatchEvent(S),S.defaultPrevented||(E$(T$(mP(u)),{select:!0}),document.activeElement===v&&Ns(u))}return()=>{u.removeEventListener(Qg,p),setTimeout(()=>{const S=new CustomEvent(Xg,wb);u.addEventListener(Xg,g),u.dispatchEvent(S),S.defaultPrevented||Ns(v??document.body,{select:!0}),u.removeEventListener(Xg,g),xb.remove(x)},0)}}},[u,p,g,x]);const k=A.useCallback(v=>{if(!n&&!r||x.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,S=document.activeElement;if(E&&S){const T=v.currentTarget,[R,z]=k$(T);R&&z?!v.shiftKey&&S===z?(v.preventDefault(),n&&Ns(R,{select:!0})):v.shiftKey&&S===R&&(v.preventDefault(),n&&Ns(z,{select:!0})):S===T&&v.preventDefault()}},[n,r,x.paused]);return w.jsx(st.div,{tabIndex:-1,...c,ref:b,onKeyDown:k})});sw.displayName=b$;function E$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ns(r,{select:t}),document.activeElement!==n)return}function k$(e){const t=mP(e),n=_b(t,e),r=_b(t.reverse(),e);return[n,r]}function mP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _b(e,t){for(const n of e)if(!S$(n,{upTo:t}))return n}function S$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function C$(e){return e instanceof HTMLInputElement&&"select"in e}function Ns(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&C$(e)&&t&&e.select()}}var xb=P$();function P$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=bb(e,t),e.unshift(t)},remove(t){var n;e=bb(e,t),(n=e[0])==null||n.resume()}}}function bb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function T$(e){return e.filter(t=>t.tagName!=="A")}var ey=0;function gP(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Eb()),document.body.insertAdjacentElement("beforeend",e[1]??Eb()),ey++,()=>{ey===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ey--}},[])}function Eb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ui=function(){return Ui=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ui.apply(this,arguments)};function yP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function N$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Ah="right-scroll-bar-position",Rh="width-before-scroll-bar",A$="with-scroll-bars-hidden",R$="--removed-body-scroll-bar-size";function ty(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function I$(e,t){var n=A.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var L$=typeof window<"u"?A.useLayoutEffect:A.useEffect,kb=new WeakMap;function O$(e,t){var n=I$(null,function(r){return e.forEach(function(i){return ty(i,r)})});return L$(function(){var r=kb.get(n);if(r){var i=new Set(r),a=new Set(e),c=n.current;i.forEach(function(u){a.has(u)||ty(u,null)}),a.forEach(function(u){i.has(u)||ty(u,c)})}kb.set(n,e)},[e]),n}function M$(e){return e}function j$(e,t){t===void 0&&(t=M$);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var c=t(a,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(a){for(r=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(a),c=n}var d=function(){var g=c;c=[],g.forEach(a)},p=function(){return Promise.resolve().then(d)};p(),n={push:function(g){c.push(g),p()},filter:function(g){return c=c.filter(g),n}}}};return i}function z$(e){e===void 0&&(e={});var t=j$(null);return t.options=Ui({async:!0,ssr:!1},e),t}var vP=function(e){var t=e.sideCar,n=yP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,Ui({},n))};vP.isSideCarExport=!0;function D$(e,t){return e.useMedium(t),vP}var wP=z$(),ny=function(){},Fp=A.forwardRef(function(e,t){var n=A.useRef(null),r=A.useState({onScrollCapture:ny,onWheelCapture:ny,onTouchMoveCapture:ny}),i=r[0],a=r[1],c=e.forwardProps,u=e.children,d=e.className,p=e.removeScrollBar,g=e.enabled,m=e.shards,b=e.sideCar,x=e.noIsolation,k=e.inert,v=e.allowPinchZoom,E=e.as,S=E===void 0?"div":E,T=e.gapMode,R=yP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=b,D=O$([n,t]),Z=Ui(Ui({},R),i);return A.createElement(A.Fragment,null,g&&A.createElement(z,{sideCar:wP,removeScrollBar:p,shards:m,noIsolation:x,inert:k,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:T}),c?A.cloneElement(A.Children.only(u),Ui(Ui({},Z),{ref:D})):A.createElement(S,Ui({},Z,{className:d,ref:D}),u))});Fp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fp.classNames={fullWidth:Rh,zeroRight:Ah};var B$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=B$();return t&&e.setAttribute("nonce",t),e}function U$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Z$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=F$())&&(U$(t,n),$$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},H$=function(){var e=Z$();return function(t,n){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},_P=function(){var e=H$(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},W$={left:0,top:0,right:0,gap:0},ry=function(e){return parseInt(e||"",10)||0},V$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[ry(n),ry(r),ry(i)]},q$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return W$;var t=V$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},K$=_P(),ac="data-scroll-locked",G$=function(e,t,n,r){var i=e.left,a=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(A$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(ac,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ah,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Rh,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Ah," .").concat(Ah,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rh," .").concat(Rh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ac,`] {
    `).concat(R$,": ").concat(u,`px;
  }
`)},Sb=function(){var e=parseInt(document.body.getAttribute(ac)||"0",10);return isFinite(e)?e:0},Y$=function(){A.useEffect(function(){return document.body.setAttribute(ac,(Sb()+1).toString()),function(){var e=Sb()-1;e<=0?document.body.removeAttribute(ac):document.body.setAttribute(ac,e.toString())}},[])},J$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Y$();var a=A.useMemo(function(){return q$(i)},[i]);return A.createElement(K$,{styles:G$(a,!t,i,n?"":"!important")})},zv=!1;if(typeof window<"u")try{var wh=Object.defineProperty({},"passive",{get:function(){return zv=!0,!0}});window.addEventListener("test",wh,wh),window.removeEventListener("test",wh,wh)}catch{zv=!1}var ql=zv?{passive:!1}:!1,Q$=function(e){return e.tagName==="TEXTAREA"},xP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Q$(e)&&n[t]==="visible")},X$=function(e){return xP(e,"overflowY")},e7=function(e){return xP(e,"overflowX")},Cb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=bP(e,r);if(i){var a=EP(e,r),c=a[1],u=a[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},t7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},n7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},bP=function(e,t){return e==="v"?X$(t):e7(t)},EP=function(e,t){return e==="v"?t7(t):n7(t)},r7=function(e,t){return e==="h"&&t==="rtl"?-1:1},i7=function(e,t,n,r,i){var a=r7(e,window.getComputedStyle(t).direction),c=a*r,u=n.target,d=t.contains(u),p=!1,g=c>0,m=0,b=0;do{var x=EP(e,u),k=x[0],v=x[1],E=x[2],S=v-E-a*k;(k||S)&&bP(e,u)&&(m+=S,b+=k),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(g&&Math.abs(m)<1||!g&&Math.abs(b)<1)&&(p=!0),p},_h=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Pb=function(e){return[e.deltaX,e.deltaY]},Tb=function(e){return e&&"current"in e?e.current:e},o7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},s7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},a7=0,Kl=[];function l7(e){var t=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(a7++)[0],a=A.useState(_P)[0],c=A.useRef(e);A.useEffect(function(){c.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=N$([e.lockRef.current],(e.shards||[]).map(Tb),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=A.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!c.current.allowPinchZoom;var S=_h(v),T=n.current,R="deltaX"in v?v.deltaX:T[0]-S[0],z="deltaY"in v?v.deltaY:T[1]-S[1],D,Z=v.target,V=Math.abs(R)>Math.abs(z)?"h":"v";if("touches"in v&&V==="h"&&Z.type==="range")return!1;var Y=Cb(V,Z);if(!Y)return!0;if(Y?D=V:(D=V==="v"?"h":"v",Y=Cb(V,Z)),!Y)return!1;if(!r.current&&"changedTouches"in v&&(R||z)&&(r.current=D),!D)return!0;var U=r.current||D;return i7(U,E,v,U==="h"?R:z)},[]),d=A.useCallback(function(v){var E=v;if(!(!Kl.length||Kl[Kl.length-1]!==a)){var S="deltaY"in E?Pb(E):_h(E),T=t.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&o7(D.delta,S)})[0];if(T&&T.should){E.cancelable&&E.preventDefault();return}if(!T){var R=(c.current.shards||[]).map(Tb).filter(Boolean).filter(function(D){return D.contains(E.target)}),z=R.length>0?u(E,R[0]):!c.current.noIsolation;z&&E.cancelable&&E.preventDefault()}}},[]),p=A.useCallback(function(v,E,S,T){var R={name:v,delta:E,target:S,should:T,shadowParent:c7(S)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(z){return z!==R})},1)},[]),g=A.useCallback(function(v){n.current=_h(v),r.current=void 0},[]),m=A.useCallback(function(v){p(v.type,Pb(v),v.target,u(v,e.lockRef.current))},[]),b=A.useCallback(function(v){p(v.type,_h(v),v.target,u(v,e.lockRef.current))},[]);A.useEffect(function(){return Kl.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:b}),document.addEventListener("wheel",d,ql),document.addEventListener("touchmove",d,ql),document.addEventListener("touchstart",g,ql),function(){Kl=Kl.filter(function(v){return v!==a}),document.removeEventListener("wheel",d,ql),document.removeEventListener("touchmove",d,ql),document.removeEventListener("touchstart",g,ql)}},[]);var x=e.removeScrollBar,k=e.inert;return A.createElement(A.Fragment,null,k?A.createElement(a,{styles:s7(i)}):null,x?A.createElement(J$,{gapMode:e.gapMode}):null)}function c7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const u7=D$(wP,l7);var aw=A.forwardRef(function(e,t){return A.createElement(Fp,Ui({},e,{ref:t,sideCar:u7}))});aw.classNames=Fp.classNames;var d7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gl=new WeakMap,xh=new WeakMap,bh={},iy=0,kP=function(e){return e&&(e.host||kP(e.parentNode))},f7=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=kP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},h7=function(e,t,n,r){var i=f7(t,Array.isArray(e)?e:[e]);bh[n]||(bh[n]=new WeakMap);var a=bh[n],c=[],u=new Set,d=new Set(i),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};i.forEach(p);var g=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(b){if(u.has(b))g(b);else try{var x=b.getAttribute(r),k=x!==null&&x!=="false",v=(Gl.get(b)||0)+1,E=(a.get(b)||0)+1;Gl.set(b,v),a.set(b,E),c.push(b),v===1&&k&&xh.set(b,!0),E===1&&b.setAttribute(n,"true"),k||b.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",b,S)}})};return g(t),u.clear(),iy++,function(){c.forEach(function(m){var b=Gl.get(m)-1,x=a.get(m)-1;Gl.set(m,b),a.set(m,x),b||(xh.has(m)||m.removeAttribute(r),xh.delete(m)),x||m.removeAttribute(n)}),iy--,iy||(Gl=new WeakMap,Gl=new WeakMap,xh=new WeakMap,bh={})}},SP=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=d7(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),h7(r,i,n,"aria-hidden")):function(){return null}},Up="Dialog",[CP,BW]=$n(Up),[p7,vi]=CP(Up),PP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:c=!0}=e,u=A.useRef(null),d=A.useRef(null),[p,g]=zo({prop:r,defaultProp:i??!1,onChange:a,caller:Up});return w.jsx(p7,{scope:t,triggerRef:u,contentRef:d,contentId:Hs(),titleId:Hs(),descriptionId:Hs(),open:p,onOpenChange:g,onOpenToggle:A.useCallback(()=>g(m=>!m),[g]),modal:c,children:n})};PP.displayName=Up;var TP="DialogTrigger",m7=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=vi(TP,n),a=Tt(t,i.triggerRef);return w.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dw(i.open),...r,ref:a,onClick:qe(e.onClick,i.onOpenToggle)})});m7.displayName=TP;var lw="DialogPortal",[g7,NP]=CP(lw,{forceMount:void 0}),AP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=vi(lw,t);return w.jsx(g7,{scope:t,forceMount:n,children:A.Children.map(r,c=>w.jsx(Rr,{present:n||a.open,children:w.jsx(Tp,{asChild:!0,container:i,children:c})}))})};AP.displayName=lw;var tp="DialogOverlay",RP=A.forwardRef((e,t)=>{const n=NP(tp,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=vi(tp,e.__scopeDialog);return a.modal?w.jsx(Rr,{present:r||a.open,children:w.jsx(v7,{...i,ref:t})}):null});RP.displayName=tp;var y7=Tc("DialogOverlay.RemoveScroll"),v7=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=vi(tp,n);return w.jsx(aw,{as:y7,allowPinchZoom:!0,shards:[i.contentRef],children:w.jsx(st.div,{"data-state":dw(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ja="DialogContent",IP=A.forwardRef((e,t)=>{const n=NP(Ja,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=vi(Ja,e.__scopeDialog);return w.jsx(Rr,{present:r||a.open,children:a.modal?w.jsx(w7,{...i,ref:t}):w.jsx(_7,{...i,ref:t})})});IP.displayName=Ja;var w7=A.forwardRef((e,t)=>{const n=vi(Ja,e.__scopeDialog),r=A.useRef(null),i=Tt(t,n.contentRef,r);return A.useEffect(()=>{const a=r.current;if(a)return SP(a)},[]),w.jsx(LP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&a.preventDefault()}),onFocusOutside:qe(e.onFocusOutside,a=>a.preventDefault())})}),_7=A.forwardRef((e,t)=>{const n=vi(Ja,e.__scopeDialog),r=A.useRef(!1),i=A.useRef(!1);return w.jsx(LP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var d,p;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),LP=A.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...c}=e,u=vi(Ja,n),d=A.useRef(null),p=Tt(t,d);return gP(),w.jsxs(w.Fragment,{children:[w.jsx(sw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:w.jsx(Nd,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":dw(u.open),...c,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),w.jsxs(w.Fragment,{children:[w.jsx(x7,{titleId:u.titleId}),w.jsx(E7,{contentRef:d,descriptionId:u.descriptionId})]})]})}),cw="DialogTitle",uw=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=vi(cw,n);return w.jsx(st.h2,{id:i.titleId,...r,ref:t})});uw.displayName=cw;var OP="DialogDescription",MP=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=vi(OP,n);return w.jsx(st.p,{id:i.descriptionId,...r,ref:t})});MP.displayName=OP;var jP="DialogClose",zP=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=vi(jP,n);return w.jsx(st.button,{type:"button",...r,ref:t,onClick:qe(e.onClick,()=>i.onOpenChange(!1))})});zP.displayName=jP;function dw(e){return e?"open":"closed"}var DP="DialogTitleWarning",[FW,BP]=c6(DP,{contentName:Ja,titleName:cw,docsSlug:"dialog"}),x7=({titleId:e})=>{const t=BP(DP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},b7="DialogDescriptionWarning",E7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BP(b7).contentName}}.`;return A.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},k7=PP,S7=AP,FP=RP,UP=IP,$P=uw,ZP=MP,C7=zP;const Od=k7,P7=S7,HP=A.forwardRef(({className:e,...t},n)=>w.jsx(FP,{ref:n,className:at("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));HP.displayName=FP.displayName;const Uc=A.forwardRef(({className:e,children:t,...n},r)=>w.jsxs(P7,{children:[w.jsx(HP,{}),w.jsxs(UP,{ref:r,className:at("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,w.jsxs(C7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[w.jsx(cC,{className:"size-5"}),w.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Uc.displayName=UP.displayName;const Md=({className:e,...t})=>w.jsx("div",{className:at("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Md.displayName="DialogHeader";const $p=A.forwardRef(({className:e,...t},n)=>w.jsx($P,{ref:n,className:at("text-lg font-semibold leading-none tracking-tight",e),...t}));$p.displayName=$P.displayName;const fw=A.forwardRef(({className:e,...t},n)=>w.jsx(ZP,{ref:n,className:at("text-sm text-muted-foreground",e),...t}));fw.displayName=ZP.displayName;var T7=A.createContext(void 0);function jd(e){const t=A.useContext(T7);return e||t||"ltr"}var oy="rovingFocusGroup.onEntryFocus",N7={bubbles:!1,cancelable:!0},zd="RovingFocusGroup",[Dv,WP,A7]=Pp(zd),[R7,$c]=$n(zd,[A7]),[I7,L7]=R7(zd),VP=A.forwardRef((e,t)=>w.jsx(Dv.Provider,{scope:e.__scopeRovingFocusGroup,children:w.jsx(Dv.Slot,{scope:e.__scopeRovingFocusGroup,children:w.jsx(O7,{...e,ref:t})})}));VP.displayName=zd;var O7=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=e,b=A.useRef(null),x=Tt(t,b),k=jd(a),[v,E]=zo({prop:c,defaultProp:u??null,onChange:d,caller:zd}),[S,T]=A.useState(!1),R=pr(p),z=WP(n),D=A.useRef(!1),[Z,V]=A.useState(0);return A.useEffect(()=>{const Y=b.current;if(Y)return Y.addEventListener(oy,R),()=>Y.removeEventListener(oy,R)},[R]),w.jsx(I7,{scope:n,orientation:r,dir:k,loop:i,currentTabStopId:v,onItemFocus:A.useCallback(Y=>E(Y),[E]),onItemShiftTab:A.useCallback(()=>T(!0),[]),onFocusableItemAdd:A.useCallback(()=>V(Y=>Y+1),[]),onFocusableItemRemove:A.useCallback(()=>V(Y=>Y-1),[]),children:w.jsx(st.div,{tabIndex:S||Z===0?-1:0,"data-orientation":r,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:qe(e.onMouseDown,()=>{D.current=!0}),onFocus:qe(e.onFocus,Y=>{const U=!D.current;if(Y.target===Y.currentTarget&&U&&!S){const q=new CustomEvent(oy,N7);if(Y.currentTarget.dispatchEvent(q),!q.defaultPrevented){const J=z().filter(ae=>ae.focusable),F=J.find(ae=>ae.active),X=J.find(ae=>ae.id===v),K=[F,X,...J].filter(Boolean).map(ae=>ae.ref.current);GP(K,g)}}D.current=!1}),onBlur:qe(e.onBlur,()=>T(!1))})})}),qP="RovingFocusGroupItem",KP=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:c,...u}=e,d=Hs(),p=a||d,g=L7(qP,n),m=g.currentTabStopId===p,b=WP(n),{onFocusableItemAdd:x,onFocusableItemRemove:k,currentTabStopId:v}=g;return A.useEffect(()=>{if(r)return x(),()=>k()},[r,x,k]),w.jsx(Dv.ItemSlot,{scope:n,id:p,focusable:r,active:i,children:w.jsx(st.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:qe(e.onMouseDown,E=>{r?g.onItemFocus(p):E.preventDefault()}),onFocus:qe(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:qe(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const S=z7(E,g.orientation,g.dir);if(S!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let R=b().filter(z=>z.focusable).map(z=>z.ref.current);if(S==="last")R.reverse();else if(S==="prev"||S==="next"){S==="prev"&&R.reverse();const z=R.indexOf(E.currentTarget);R=g.loop?D7(R,z+1):R.slice(z+1)}setTimeout(()=>GP(R))}}),children:typeof c=="function"?c({isCurrentTabStop:m,hasTabStop:v!=null}):c})})});KP.displayName=qP;var M7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function j7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function z7(e,t,n){const r=j7(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return M7[r]}function GP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function D7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var hw=VP,pw=KP,Zp="Tabs",[B7,UW]=$n(Zp,[$c]),YP=$c(),[F7,mw]=B7(Zp),JP=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:c="horizontal",dir:u,activationMode:d="automatic",...p}=e,g=jd(u),[m,b]=zo({prop:r,onChange:i,defaultProp:a??"",caller:Zp});return w.jsx(F7,{scope:n,baseId:Hs(),value:m,onValueChange:b,orientation:c,dir:g,activationMode:d,children:w.jsx(st.div,{dir:g,"data-orientation":c,...p,ref:t})})});JP.displayName=Zp;var QP="TabsList",XP=A.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=mw(QP,n),c=YP(n);return w.jsx(hw,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:r,children:w.jsx(st.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});XP.displayName=QP;var eT="TabsTrigger",tT=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,c=mw(eT,n),u=YP(n),d=iT(c.baseId,r),p=oT(c.baseId,r),g=r===c.value;return w.jsx(pw,{asChild:!0,...u,focusable:!i,active:g,children:w.jsx(st.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...a,ref:t,onMouseDown:qe(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?c.onValueChange(r):m.preventDefault()}),onKeyDown:qe(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&c.onValueChange(r)}),onFocus:qe(e.onFocus,()=>{const m=c.activationMode!=="manual";!g&&!i&&m&&c.onValueChange(r)})})})});tT.displayName=eT;var nT="TabsContent",rT=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...c}=e,u=mw(nT,n),d=iT(u.baseId,r),p=oT(u.baseId,r),g=r===u.value,m=A.useRef(g);return A.useEffect(()=>{const b=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(b)},[]),w.jsx(Rr,{present:i||g,children:({present:b})=>w.jsx(st.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!b,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:b&&a})})});rT.displayName=nT;function iT(e,t){return`${e}-trigger-${t}`}function oT(e,t){return`${e}-content-${t}`}var U7=JP,sT=XP,aT=tT,lT=rT;const $7=U7,cT=A.forwardRef(({className:e,...t},n)=>w.jsx(sT,{ref:n,className:at("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));cT.displayName=sT.displayName;const Bv=A.forwardRef(({className:e,...t},n)=>w.jsx(aT,{ref:n,className:at("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Bv.displayName=aT.displayName;const Fv=A.forwardRef(({className:e,...t},n)=>w.jsx(lT,{ref:n,className:at("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fv.displayName=lT.displayName;const Z7=Rd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),uT=A.forwardRef(({className:e,variant:t,...n},r)=>w.jsx("div",{ref:r,role:"alert",className:at(Z7({variant:t}),e),...n}));uT.displayName="Alert";const H7=A.forwardRef(({className:e,...t},n)=>w.jsx("h5",{ref:n,className:at("mb-1 font-medium leading-none tracking-tight",e),...t}));H7.displayName="AlertTitle";const dT=A.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:at("text-sm [&_p]:leading-relaxed",e),...t}));dT.displayName="AlertDescription";var Hp="Collapsible",[W7,$W]=$n(Hp),[V7,gw]=W7(Hp),fT=A.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:c,...u}=e,[d,p]=zo({prop:r,defaultProp:i??!1,onChange:c,caller:Hp});return w.jsx(V7,{scope:n,disabled:a,contentId:Hs(),open:d,onOpenToggle:A.useCallback(()=>p(g=>!g),[p]),children:w.jsx(st.div,{"data-state":vw(d),"data-disabled":a?"":void 0,...u,ref:t})})});fT.displayName=Hp;var hT="CollapsibleTrigger",pT=A.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=gw(hT,n);return w.jsx(st.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":vw(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:qe(e.onClick,i.onOpenToggle)})});pT.displayName=hT;var yw="CollapsibleContent",mT=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=gw(yw,e.__scopeCollapsible);return w.jsx(Rr,{present:n||i.open,children:({present:a})=>w.jsx(q7,{...r,ref:t,present:a})})});mT.displayName=yw;var q7=A.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=e,c=gw(yw,n),[u,d]=A.useState(r),p=A.useRef(null),g=Tt(t,p),m=A.useRef(0),b=m.current,x=A.useRef(0),k=x.current,v=c.open||u,E=A.useRef(v),S=A.useRef(void 0);return A.useEffect(()=>{const T=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(T)},[]),Nr(()=>{const T=p.current;if(T){S.current=S.current||{transitionDuration:T.style.transitionDuration,animationName:T.style.animationName},T.style.transitionDuration="0s",T.style.animationName="none";const R=T.getBoundingClientRect();m.current=R.height,x.current=R.width,E.current||(T.style.transitionDuration=S.current.transitionDuration,T.style.animationName=S.current.animationName),d(r)}},[c.open,r]),w.jsx(st.div,{"data-state":vw(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!v,...a,ref:g,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...e.style},children:v&&i})});function vw(e){return e?"open":"closed"}var K7=fT;const G7=K7,Y7=pT,J7=mT;function gT(){const{nostr:e}=Ar(),{logins:t,addLogin:n,removeLogin:r}=B0();return{nsec(i){const a=Ha.fromNsec(i);n(a)},async bunker(i){const a=await Ha.fromBunker(i,e);n(a)},async extension(){const i=await Ha.fromExtension();n(i)},async logout(){const i=t[0];i&&r(i.id)}}}const Nb=e=>/^nsec1[a-zA-Z0-9]{58}$/.test(e),Q7=e=>e.startsWith("bunker://"),X7=({isOpen:e,onClose:t,onLogin:n})=>{const[r,i]=A.useState(!1),[a,c]=A.useState(!1),[u,d]=A.useState(""),[p,g]=A.useState(""),[m,b]=A.useState({}),x=A.useRef(null),k=gT();A.useEffect(()=>{e&&(i(!1),c(!1),d(""),g(""),b({}),x.current&&(x.current.value=""))},[e]);const v=async()=>{i(!0),b(Y=>({...Y,extension:void 0}));try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");await k.extension(),n(),t()}catch(Y){const U=Y;console.error("Bunker login failed:",U),console.error("Nsec login failed:",U),console.error("Extension login failed:",U),b(q=>({...q,extension:U instanceof Error?U.message:"Extension login failed"}))}finally{i(!1)}},E=Y=>{i(!0),b({}),setTimeout(()=>{try{k.nsec(Y),n(),t()}catch{b({nsec:"Failed to login with this key. Please check that it's correct."}),i(!1)}},50)},S=()=>{if(!u.trim()){b(Y=>({...Y,nsec:"Please enter your secret key"}));return}if(!Nb(u)){b(Y=>({...Y,nsec:"Invalid secret key format. Must be a valid nsec starting with nsec1."}));return}E(u)},T=async()=>{if(!p.trim()){b(Y=>({...Y,bunker:"Please enter a bunker URI"}));return}if(!Q7(p)){b(Y=>({...Y,bunker:"Invalid bunker URI format. Must start with bunker://"}));return}i(!0),b(Y=>({...Y,bunker:void 0}));try{await k.bunker(p),n(),t(),g("")}catch{b(Y=>({...Y,bunker:"Failed to connect to bunker. Please check the URI."}))}finally{i(!1)}},R=Y=>{var J;const U=(J=Y.target.files)==null?void 0:J[0];if(!U)return;c(!0),b({});const q=new FileReader;q.onload=F=>{var O;c(!1);const X=(O=F.target)==null?void 0:O.result;if(X){const K=X.trim();Nb(K)?E(K):b({file:"File does not contain a valid secret key."})}else b({file:"Could not read file content."})},q.onerror=()=>{c(!1),b({file:"Failed to read file."})},q.readAsText(U)},z="nostr"in window,[D,Z]=A.useState(!1),V=()=>w.jsxs($7,{defaultValue:"key",className:"w-full",children:[w.jsxs(cT,{className:"grid w-full grid-cols-2 bg-muted/80 rounded-lg mb-4",children:[w.jsx(Bv,{value:"key",className:"flex items-center gap-2",children:w.jsx("span",{children:"Secret Key"})}),w.jsx(Bv,{value:"bunker",className:"flex items-center gap-2",children:w.jsx("span",{children:"Remote Signer"})})]}),w.jsx(Fv,{value:"key",className:"space-y-4",children:w.jsxs("form",{onSubmit:Y=>{Y.preventDefault(),S()},className:"space-y-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(vn,{id:"nsec",type:"password",value:u,onChange:Y=>{d(Y.target.value),m.nsec&&b(U=>({...U,nsec:void 0}))},className:`rounded-lg ${m.nsec?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:"nsec1...",autoComplete:"off"}),m.nsec&&w.jsx("p",{className:"text-sm text-red-500",children:m.nsec})]}),w.jsxs("div",{className:"flex space-x-2",children:[w.jsx(mt,{type:"submit",size:"lg",disabled:r||!u.trim(),className:"flex-1",children:r?"Verifying...":"Log in"}),w.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:x,onChange:R}),w.jsx(mt,{type:"button",variant:"outline",size:"lg",onClick:()=>{var Y;return(Y=x.current)==null?void 0:Y.click()},disabled:r||a,className:"px-3",children:w.jsx(lC,{className:"w-4 h-4"})})]}),m.file&&w.jsx("p",{className:"text-sm text-red-500 text-center",children:m.file})]})}),w.jsx(Fv,{value:"bunker",className:"space-y-4",children:w.jsxs("form",{onSubmit:Y=>{Y.preventDefault(),T()},className:"space-y-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(vn,{id:"bunkerUri",value:p,onChange:Y=>{g(Y.target.value),m.bunker&&b(U=>({...U,bunker:void 0}))},className:`rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary ${m.bunker?"border-red-500":""}`,placeholder:"bunker://",autoComplete:"off"}),m.bunker&&w.jsx("p",{className:"text-sm text-red-500",children:m.bunker})]}),w.jsx(mt,{type:"submit",size:"lg",className:"w-full",disabled:r||!p.trim(),children:r?"Connecting...":"Log in"})]})})]});return w.jsx(Od,{open:e,onOpenChange:t,children:w.jsxs(Uc,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[w.jsx(Md,{className:"px-6 pt-6",children:w.jsx(uw,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:"Log in"})}),w.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),w.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto",children:[z&&w.jsxs("div",{className:"space-y-4",children:[m.extension&&w.jsxs(uT,{variant:"destructive",children:[w.jsx(_D,{className:"h-4 w-4"}),w.jsx(dT,{children:m.extension})]}),w.jsx(mt,{className:"w-full h-12 px-9",onClick:v,disabled:r,children:r?"Logging in...":"Log in with Extension"})]}),z?w.jsxs(G7,{className:"space-y-4",open:D,onOpenChange:Z,children:[w.jsx(Y7,{asChild:!0,children:w.jsxs("button",{className:"w-full flex items-center justify-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[w.jsx("span",{children:"More Options"}),w.jsx(oC,{className:`w-4 h-4 transition-transform ${D?"rotate-180":""}`})]})}),w.jsx(J7,{children:V()})]}):V()]})]})})},ww=A.forwardRef(({className:e,...t},n)=>w.jsx("textarea",{className:at("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));ww.displayName="Textarea";function _w(){const{nostr:e}=Ar(),{user:t}=jc();return Xv({mutationFn:async n=>{if(t){const r=n.tags??[];location.protocol==="https:"&&!r.some(([a])=>a==="client")&&r.push(["client",location.hostname]);const i=await t.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await e.event(i,{signal:AbortSignal.timeout(5e3)}),i}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}class xw{constructor(t){$e(this,"servers");$e(this,"signer");$e(this,"fetch");$e(this,"expiresIn");this.servers=t.servers,this.signer=t.signer,this.fetch=t.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=t.expiresIn??6e4}async upload(t,n){const r=await crypto.subtle.digest("SHA-256",await t.arrayBuffer()),i=F5(new Uint8Array(r)),a=Date.now(),c=a+this.expiresIn,u=await this.signer.signEvent({kind:24242,content:`Upload ${t.name}`,created_at:Math.floor(a/1e3),tags:[["t","upload"],["x",i],["size",t.size.toString()],["expiration",Math.floor(c/1e3).toString()]]}),d=`Nostr ${V5.encodeEvent(u)}`;return Promise.any(this.servers.map(async p=>{const g=new URL("/upload",p),b=await(await this.fetch(g,{method:"PUT",body:t,headers:{authorization:d,"content-type":t.type},signal:n==null?void 0:n.signal})).json(),x=xw.schema().parse(b),k=[["url",x.url],["x",x.sha256],["ox",x.sha256],["size",x.size.toString()]];return x.type&&k.push(["m",x.type]),k}))}static schema(){return Po({url:Ot(),sha256:Ot(),size:yo(),type:Ot().optional()})}}function yT(){const{user:e}=jc();return Xv({mutationFn:async t=>{if(!e)throw new Error("Must be logged in to upload files");return await new xw({servers:["https://blossom.primal.net/"],signer:e.signer}).upload(t)}})}const e9=({isOpen:e,onClose:t})=>{const[n,r]=A.useState("generate"),[i,a]=A.useState(""),[c,u]=A.useState(!1),[d,p]=A.useState({name:"",about:"",picture:""}),g=gT(),{mutateAsync:m,isPending:b}=_w(),{mutateAsync:x,isPending:k}=yT(),v=A.useRef(null),E=()=>{const D=Cd();a(Xn.nsecEncode(D)),r("download")},S=()=>{try{const D=new Blob([i],{type:"text/plain; charset=utf-8"}),Z=globalThis.URL.createObjectURL(D),V=Xn.decode(i);if(V.type!=="nsec")throw new Error("Invalid nsec key");const Y=Ro(V.data),U=Xn.npubEncode(Y),q=`nostr-${location.hostname.replaceAll(/\./g,"-")}-${U.slice(5,9)}.nsec.txt`,J=document.createElement("a");J.href=Z,J.download=q,J.style.display="none",document.body.appendChild(J),J.click(),globalThis.URL.revokeObjectURL(Z),document.body.removeChild(J),g.nsec(i),r("profile")}catch{Jl({title:"Download failed",description:"Could not download the key file. Please copy it manually.",variant:"destructive"})}},T=async D=>{var V,Y;const Z=(V=D.target.files)==null?void 0:V[0];if(Z){if(D.target.value="",!Z.type.startsWith("image/")){Jl({title:"Invalid file type",description:"Please select an image file for your avatar.",variant:"destructive"});return}if(Z.size>5*1024*1024){Jl({title:"File too large",description:"Avatar image must be smaller than 5MB.",variant:"destructive"});return}try{const q=(Y=(await x(Z))[0])==null?void 0:Y[1];q&&p(J=>({...J,picture:q}))}catch{Jl({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}}},R=async(D=!1)=>{try{if(!D&&(d.name||d.about||d.picture)){const Z={};d.name&&(Z.name=d.name),d.about&&(Z.about=d.about),d.picture&&(Z.picture=d.picture),await m({kind:0,content:JSON.stringify(Z)})}}catch{Jl({title:"Profile Setup Failed",description:"Your account was created but profile setup failed. You can update it later.",variant:"destructive"})}finally{t()}},z=()=>{if(n==="generate")return"Sign up";if(n==="download")return"Secret Key";if(n==="profile")return"Create Your Profile"};return A.useEffect(()=>{e&&(r("generate"),a(""),u(!1),p({name:"",about:"",picture:""}))},[e]),w.jsx(Od,{open:e,onOpenChange:t,children:w.jsxs(Uc,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[w.jsx(Md,{className:"px-6 pt-6",children:w.jsx($p,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:z()})}),w.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto flex-1",children:[n==="generate"&&w.jsxs("div",{className:"text-center space-y-6",children:[w.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),w.jsx(mt,{className:"w-full h-12 px-9",onClick:E,children:"Generate key"})]}),n==="download"&&w.jsxs("div",{className:"space-y-4",children:[w.jsx("div",{className:"flex size-16 text-4xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),w.jsxs("div",{className:"relative",children:[w.jsx(vn,{type:c?"text":"password",value:i,readOnly:!0,className:"pr-10 font-mono text-sm"}),w.jsx(mt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>u(!c),children:c?w.jsx(dD,{className:"h-4 w-4 text-muted-foreground"}):w.jsx(fD,{className:"h-4 w-4 text-muted-foreground"})})]}),w.jsxs(mt,{className:"w-full h-12 px-9",onClick:S,children:[w.jsx(uD,{className:"size-4"}),"Download key"]}),w.jsx("div",{className:"mx-auto max-w-sm",children:w.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[w.jsx("div",{className:"flex items-center gap-2 mb-1",children:w.jsx("span",{className:"text-xs font-semibold text-amber-800 dark:text-amber-200",children:"Important Warning"})}),w.jsx("p",{className:"text-xs text-amber-900 dark:text-amber-300",children:"This key is your primary and only means of accessing your account. Store it safely and securely. Please download your key to continue."})]})})]}),n==="profile"&&w.jsxs("div",{className:"text-center space-y-4",children:[b&&w.jsx("div",{className:"p-4 rounded-lg bg-muted border",children:w.jsxs("div",{className:"flex items-center justify-center gap-3",children:[w.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),w.jsx("span",{className:"text-sm font-medium",children:"Publishing your profile..."})]})}),w.jsxs("div",{className:`space-y-4 text-left ${b?"opacity-50 pointer-events-none":""}`,children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"profile-name",className:"text-sm font-medium",children:"Display Name"}),w.jsx(vn,{id:"profile-name",value:d.name,onChange:D=>p(Z=>({...Z,name:D.target.value})),placeholder:"Your name",disabled:b})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"profile-about",className:"text-sm font-medium",children:"Bio"}),w.jsx(ww,{id:"profile-about",value:d.about,onChange:D=>p(Z=>({...Z,about:D.target.value})),placeholder:"Tell others about yourself...",className:"resize-none",rows:3,disabled:b})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"profile-picture",className:"text-sm font-medium",children:"Avatar"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(vn,{id:"profile-picture",value:d.picture,onChange:D=>p(Z=>({...Z,picture:D.target.value})),placeholder:"https://example.com/your-avatar.jpg",className:"flex-1",disabled:b}),w.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:v,onChange:T}),w.jsx(mt,{type:"button",variant:"outline",size:"icon",onClick:()=>{var D;return(D=v.current)==null?void 0:D.click()},disabled:k||b,title:"Upload avatar image",children:k?w.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):w.jsx(lC,{className:"w-4 h-4"})})]})]})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx(mt,{className:"w-full",onClick:()=>R(!1),disabled:b||k,children:b?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):"Create profile"}),w.jsx(mt,{variant:"outline",className:"w-full",onClick:()=>R(!0),disabled:b||k,children:b?"Setting up account...":"Skip for now"})]})]})]})]})})};function vT(){const{nostr:e}=Ar(),{logins:t,setLogin:n,removeLogin:r}=B0(),{data:i=[]}=Eo({queryKey:["nostr","logins",t.map(u=>u.id).join(";")],queryFn:async({signal:u})=>{const d=await e.query([{kinds:[0],authors:t.map(p=>p.pubkey)}],{signal:AbortSignal.any([u,AbortSignal.timeout(1500)])});return t.map(({id:p,pubkey:g})=>{const m=d.find(b=>b.pubkey===g);try{const b=bt.json().pipe(bt.metadata()).parse(m==null?void 0:m.content);return{id:p,pubkey:g,metadata:b,event:m}}catch{return{id:p,pubkey:g,metadata:{},event:m}}})},retry:3}),a=(()=>{const u=t[0];if(!u)return;const d=i.find(p=>p.id===u.id);return{metadata:{},...d,id:u.id,pubkey:u.pubkey}})(),c=(i||[]).slice(1);return{authors:i,currentUser:a,otherUsers:c,setLogin:n,removeLogin:r}}var Uv=["Enter"," "],t9=["ArrowDown","PageUp","Home"],wT=["ArrowUp","PageDown","End"],n9=[...t9,...wT],r9={ltr:[...Uv,"ArrowRight"],rtl:[...Uv,"ArrowLeft"]},i9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dd="Menu",[pd,o9,s9]=Pp(Dd),[tl,_T]=$n(Dd,[s9,jp,$c]),Wp=jp(),xT=$c(),[a9,nl]=tl(Dd),[l9,Bd]=tl(Dd),bT=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:c=!0}=e,u=Wp(t),[d,p]=A.useState(null),g=A.useRef(!1),m=pr(a),b=jd(i);return A.useEffect(()=>{const x=()=>{g.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>g.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),w.jsx(fF,{...u,children:w.jsx(a9,{scope:t,open:n,onOpenChange:m,content:d,onContentChange:p,children:w.jsx(l9,{scope:t,onClose:A.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:b,modal:c,children:r})})})};bT.displayName=Dd;var c9="MenuAnchor",bw=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Wp(n);return w.jsx(FC,{...i,...r,ref:t})});bw.displayName=c9;var Ew="MenuPortal",[u9,ET]=tl(Ew,{forceMount:void 0}),kT=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=nl(Ew,t);return w.jsx(u9,{scope:t,forceMount:n,children:w.jsx(Rr,{present:n||a.open,children:w.jsx(Tp,{asChild:!0,container:i,children:r})})})};kT.displayName=Ew;var Jr="MenuContent",[d9,kw]=tl(Jr),ST=A.forwardRef((e,t)=>{const n=ET(Jr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=nl(Jr,e.__scopeMenu),c=Bd(Jr,e.__scopeMenu);return w.jsx(pd.Provider,{scope:e.__scopeMenu,children:w.jsx(Rr,{present:r||a.open,children:w.jsx(pd.Slot,{scope:e.__scopeMenu,children:c.modal?w.jsx(f9,{...i,ref:t}):w.jsx(h9,{...i,ref:t})})})})}),f9=A.forwardRef((e,t)=>{const n=nl(Jr,e.__scopeMenu),r=A.useRef(null),i=Tt(t,r);return A.useEffect(()=>{const a=r.current;if(a)return SP(a)},[]),w.jsx(Sw,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:qe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),h9=A.forwardRef((e,t)=>{const n=nl(Jr,e.__scopeMenu);return w.jsx(Sw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),p9=Tc("MenuContent.ScrollLock"),Sw=A.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:b,onDismiss:x,disableOutsideScroll:k,...v}=e,E=nl(Jr,n),S=Bd(Jr,n),T=Wp(n),R=xT(n),z=o9(n),[D,Z]=A.useState(null),V=A.useRef(null),Y=Tt(t,V,E.onContentChange),U=A.useRef(0),q=A.useRef(""),J=A.useRef(0),F=A.useRef(null),X=A.useRef("right"),O=A.useRef(0),K=k?aw:A.Fragment,ae=k?{as:p9,allowPinchZoom:!0}:void 0,oe=te=>{var Ue,Me;const le=q.current+te,$=z().filter(Be=>!Be.disabled),Q=document.activeElement,Ce=(Ue=$.find(Be=>Be.ref.current===Q))==null?void 0:Ue.textValue,xe=$.map(Be=>Be.textValue),ve=C9(xe,le,Ce),Re=(Me=$.find(Be=>Be.textValue===ve))==null?void 0:Me.ref.current;(function Be(nt){q.current=nt,window.clearTimeout(U.current),nt!==""&&(U.current=window.setTimeout(()=>Be(""),1e3))})(le),Re&&setTimeout(()=>Re.focus())};A.useEffect(()=>()=>window.clearTimeout(U.current),[]),gP();const re=A.useCallback(te=>{var $,Q;return X.current===(($=F.current)==null?void 0:$.side)&&T9(te,(Q=F.current)==null?void 0:Q.area)},[]);return w.jsx(d9,{scope:n,searchRef:q,onItemEnter:A.useCallback(te=>{re(te)&&te.preventDefault()},[re]),onItemLeave:A.useCallback(te=>{var le;re(te)||((le=V.current)==null||le.focus(),Z(null))},[re]),onTriggerLeave:A.useCallback(te=>{re(te)&&te.preventDefault()},[re]),pointerGraceTimerRef:J,onPointerGraceIntentChange:A.useCallback(te=>{F.current=te},[]),children:w.jsx(K,{...ae,children:w.jsx(sw,{asChild:!0,trapped:i,onMountAutoFocus:qe(a,te=>{var le;te.preventDefault(),(le=V.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:w.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:b,onDismiss:x,children:w.jsx(hw,{asChild:!0,...R,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:Z,onEntryFocus:qe(d,te=>{S.isUsingKeyboardRef.current||te.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(UC,{role:"menu","aria-orientation":"vertical","data-state":UT(E.open),"data-radix-menu-content":"",dir:S.dir,...T,...v,ref:Y,style:{outline:"none",...v.style},onKeyDown:qe(v.onKeyDown,te=>{const $=te.target.closest("[data-radix-menu-content]")===te.currentTarget,Q=te.ctrlKey||te.altKey||te.metaKey,Ce=te.key.length===1;$&&(te.key==="Tab"&&te.preventDefault(),!Q&&Ce&&oe(te.key));const xe=V.current;if(te.target!==xe||!n9.includes(te.key))return;te.preventDefault();const Re=z().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);wT.includes(te.key)&&Re.reverse(),k9(Re)}),onBlur:qe(e.onBlur,te=>{te.currentTarget.contains(te.target)||(window.clearTimeout(U.current),q.current="")}),onPointerMove:qe(e.onPointerMove,md(te=>{const le=te.target,$=O.current!==te.clientX;if(te.currentTarget.contains(le)&&$){const Q=te.clientX>O.current?"right":"left";X.current=Q,O.current=te.clientX}}))})})})})})})});ST.displayName=Jr;var m9="MenuGroup",Cw=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return w.jsx(st.div,{role:"group",...r,ref:t})});Cw.displayName=m9;var g9="MenuLabel",CT=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return w.jsx(st.div,{...r,ref:t})});CT.displayName=g9;var np="MenuItem",Ab="menu.itemSelect",Vp=A.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=A.useRef(null),c=Bd(np,e.__scopeMenu),u=kw(np,e.__scopeMenu),d=Tt(t,a),p=A.useRef(!1),g=()=>{const m=a.current;if(!n&&m){const b=new CustomEvent(Ab,{bubbles:!0,cancelable:!0});m.addEventListener(Ab,x=>r==null?void 0:r(x),{once:!0}),F0(m,b),b.defaultPrevented?p.current=!1:c.onClose()}};return w.jsx(PT,{...i,ref:d,disabled:n,onClick:qe(e.onClick,g),onPointerDown:m=>{var b;(b=e.onPointerDown)==null||b.call(e,m),p.current=!0},onPointerUp:qe(e.onPointerUp,m=>{var b;p.current||(b=m.currentTarget)==null||b.click()}),onKeyDown:qe(e.onKeyDown,m=>{const b=u.searchRef.current!=="";n||b&&m.key===" "||Uv.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Vp.displayName=np;var PT=A.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,c=kw(np,n),u=xT(n),d=A.useRef(null),p=Tt(t,d),[g,m]=A.useState(!1),[b,x]=A.useState("");return A.useEffect(()=>{const k=d.current;k&&x((k.textContent??"").trim())},[a.children]),w.jsx(pd.ItemSlot,{scope:n,disabled:r,textValue:i??b,children:w.jsx(pw,{asChild:!0,...u,focusable:!r,children:w.jsx(st.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:p,onPointerMove:qe(e.onPointerMove,md(k=>{r?c.onItemLeave(k):(c.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:qe(e.onPointerLeave,md(k=>c.onItemLeave(k))),onFocus:qe(e.onFocus,()=>m(!0)),onBlur:qe(e.onBlur,()=>m(!1))})})})}),y9="MenuCheckboxItem",TT=A.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return w.jsx(LT,{scope:e.__scopeMenu,checked:n,children:w.jsx(Vp,{role:"menuitemcheckbox","aria-checked":rp(n)?"mixed":n,...i,ref:t,"data-state":Tw(n),onSelect:qe(i.onSelect,()=>r==null?void 0:r(rp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});TT.displayName=y9;var NT="MenuRadioGroup",[v9,w9]=tl(NT,{value:void 0,onValueChange:()=>{}}),AT=A.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=pr(r);return w.jsx(v9,{scope:e.__scopeMenu,value:n,onValueChange:a,children:w.jsx(Cw,{...i,ref:t})})});AT.displayName=NT;var RT="MenuRadioItem",IT=A.forwardRef((e,t)=>{const{value:n,...r}=e,i=w9(RT,e.__scopeMenu),a=n===i.value;return w.jsx(LT,{scope:e.__scopeMenu,checked:a,children:w.jsx(Vp,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Tw(a),onSelect:qe(r.onSelect,()=>{var c;return(c=i.onValueChange)==null?void 0:c.call(i,n)},{checkForDefaultPrevented:!1})})})});IT.displayName=RT;var Pw="MenuItemIndicator",[LT,_9]=tl(Pw,{checked:!1}),OT=A.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=_9(Pw,n);return w.jsx(Rr,{present:r||rp(a.checked)||a.checked===!0,children:w.jsx(st.span,{...i,ref:t,"data-state":Tw(a.checked)})})});OT.displayName=Pw;var x9="MenuSeparator",MT=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return w.jsx(st.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});MT.displayName=x9;var b9="MenuArrow",jT=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Wp(n);return w.jsx($C,{...i,...r,ref:t})});jT.displayName=b9;var E9="MenuSub",[ZW,zT]=tl(E9),Gu="MenuSubTrigger",DT=A.forwardRef((e,t)=>{const n=nl(Gu,e.__scopeMenu),r=Bd(Gu,e.__scopeMenu),i=zT(Gu,e.__scopeMenu),a=kw(Gu,e.__scopeMenu),c=A.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=a,p={__scopeMenu:e.__scopeMenu},g=A.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return A.useEffect(()=>g,[g]),A.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),d(null)}},[u,d]),w.jsx(bw,{asChild:!0,...p,children:w.jsx(PT,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":UT(n.open),...e,ref:Cp(t,i.onTriggerChange),onClick:m=>{var b;(b=e.onClick)==null||b.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:qe(e.onPointerMove,md(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(a.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:qe(e.onPointerLeave,md(m=>{var x,k;g();const b=(x=n.content)==null?void 0:x.getBoundingClientRect();if(b){const v=(k=n.content)==null?void 0:k.dataset.side,E=v==="right",S=E?-5:5,T=b[E?"left":"right"],R=b[E?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+S,y:m.clientY},{x:T,y:b.top},{x:R,y:b.top},{x:R,y:b.bottom},{x:T,y:b.bottom}],side:v}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:qe(e.onKeyDown,m=>{var x;const b=a.searchRef.current!=="";e.disabled||b&&m.key===" "||r9[r.dir].includes(m.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),m.preventDefault())})})})});DT.displayName=Gu;var BT="MenuSubContent",FT=A.forwardRef((e,t)=>{const n=ET(Jr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=nl(Jr,e.__scopeMenu),c=Bd(Jr,e.__scopeMenu),u=zT(BT,e.__scopeMenu),d=A.useRef(null),p=Tt(t,d);return w.jsx(pd.Provider,{scope:e.__scopeMenu,children:w.jsx(Rr,{present:r||a.open,children:w.jsx(pd.Slot,{scope:e.__scopeMenu,children:w.jsx(Sw,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:p,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var m;c.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:qe(e.onFocusOutside,g=>{g.target!==u.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:qe(e.onEscapeKeyDown,g=>{c.onClose(),g.preventDefault()}),onKeyDown:qe(e.onKeyDown,g=>{var x;const m=g.currentTarget.contains(g.target),b=i9[c.dir].includes(g.key);m&&b&&(a.onOpenChange(!1),(x=u.trigger)==null||x.focus(),g.preventDefault())})})})})})});FT.displayName=BT;function UT(e){return e?"open":"closed"}function rp(e){return e==="indeterminate"}function Tw(e){return rp(e)?"indeterminate":e?"checked":"unchecked"}function k9(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function S9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function C9(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let c=S9(e,Math.max(a,0));i.length===1&&(c=c.filter(p=>p!==n));const d=c.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function P9(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,c=t.length-1;a<t.length;c=a++){const u=t[a],d=t[c],p=u.x,g=u.y,m=d.x,b=d.y;g>r!=b>r&&n<(m-p)*(r-g)/(b-g)+p&&(i=!i)}return i}function T9(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return P9(n,t)}function md(e){return t=>t.pointerType==="mouse"?e(t):void 0}var N9=bT,A9=bw,R9=kT,I9=ST,L9=Cw,O9=CT,M9=Vp,j9=TT,z9=AT,D9=IT,B9=OT,F9=MT,U9=jT,$9=DT,Z9=FT,qp="DropdownMenu",[H9,HW]=$n(qp,[_T]),er=_T(),[W9,$T]=H9(qp),ZT=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:c,modal:u=!0}=e,d=er(t),p=A.useRef(null),[g,m]=zo({prop:i,defaultProp:a??!1,onChange:c,caller:qp});return w.jsx(W9,{scope:t,triggerId:Hs(),triggerRef:p,contentId:Hs(),open:g,onOpenChange:m,onOpenToggle:A.useCallback(()=>m(b=>!b),[m]),modal:u,children:w.jsx(N9,{...d,open:g,onOpenChange:m,dir:r,modal:u,children:n})})};ZT.displayName=qp;var HT="DropdownMenuTrigger",WT=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=$T(HT,n),c=er(n);return w.jsx(A9,{asChild:!0,...c,children:w.jsx(st.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Cp(t,a.triggerRef),onPointerDown:qe(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:qe(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});WT.displayName=HT;var V9="DropdownMenuPortal",VT=e=>{const{__scopeDropdownMenu:t,...n}=e,r=er(t);return w.jsx(R9,{...r,...n})};VT.displayName=V9;var qT="DropdownMenuContent",KT=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$T(qT,n),a=er(n),c=A.useRef(!1);return w.jsx(I9,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:qe(e.onCloseAutoFocus,u=>{var d;c.current||(d=i.triggerRef.current)==null||d.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:qe(e.onInteractOutside,u=>{const d=u.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,g=d.button===2||p;(!i.modal||g)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KT.displayName=qT;var q9="DropdownMenuGroup",K9=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return w.jsx(L9,{...i,...r,ref:t})});K9.displayName=q9;var G9="DropdownMenuLabel",GT=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return w.jsx(O9,{...i,...r,ref:t})});GT.displayName=G9;var Y9="DropdownMenuItem",YT=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return w.jsx(M9,{...i,...r,ref:t})});YT.displayName=Y9;var J9="DropdownMenuCheckboxItem",JT=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return w.jsx(j9,{...i,...r,ref:t})});JT.displayName=J9;var Q9="DropdownMenuRadioGroup",X9=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return w.jsx(z9,{...i,...r,ref:t})});X9.displayName=Q9;var eZ="DropdownMenuRadioItem",QT=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return w.jsx(D9,{...i,...r,ref:t})});QT.displayName=eZ;var tZ="DropdownMenuItemIndicator",XT=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return w.jsx(B9,{...i,...r,ref:t})});XT.displayName=tZ;var nZ="DropdownMenuSeparator",eN=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return w.jsx(F9,{...i,...r,ref:t})});eN.displayName=nZ;var rZ="DropdownMenuArrow",iZ=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return w.jsx(U9,{...i,...r,ref:t})});iZ.displayName=rZ;var oZ="DropdownMenuSubTrigger",tN=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return w.jsx($9,{...i,...r,ref:t})});tN.displayName=oZ;var sZ="DropdownMenuSubContent",nN=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return w.jsx(Z9,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nN.displayName=sZ;var aZ=ZT,lZ=WT,cZ=VT,rN=KT,iN=GT,oN=YT,sN=JT,aN=QT,lN=XT,cN=eN,uN=tN,dN=nN;const uZ=aZ,dZ=lZ,fZ=A.forwardRef(({className:e,inset:t,children:n,...r},i)=>w.jsxs(uN,{ref:i,className:at("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,w.jsx(sD,{className:"ml-auto h-4 w-4"})]}));fZ.displayName=uN.displayName;const hZ=A.forwardRef(({className:e,...t},n)=>w.jsx(dN,{ref:n,className:at("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));hZ.displayName=dN.displayName;const fN=A.forwardRef(({className:e,sideOffset:t=4,...n},r)=>w.jsx(cZ,{children:w.jsx(rN,{ref:r,sideOffset:t,className:at("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));fN.displayName=rN.displayName;const Ih=A.forwardRef(({className:e,inset:t,...n},r)=>w.jsx(oN,{ref:r,className:at("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Ih.displayName=oN.displayName;const pZ=A.forwardRef(({className:e,children:t,checked:n,...r},i)=>w.jsxs(sN,{ref:i,className:at("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(lN,{children:w.jsx(oD,{className:"h-4 w-4"})})}),t]}));pZ.displayName=sN.displayName;const mZ=A.forwardRef(({className:e,children:t,...n},r)=>w.jsxs(aN,{ref:r,className:at("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(lN,{children:w.jsx(sC,{className:"h-2 w-2 fill-current"})})}),t]}));mZ.displayName=aN.displayName;const gZ=A.forwardRef(({className:e,inset:t,...n},r)=>w.jsx(iN,{ref:r,className:at("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));gZ.displayName=iN.displayName;const hN=A.forwardRef(({className:e,...t},n)=>w.jsx(cN,{ref:n,className:at("-mx-1 my-1 h-px bg-muted",e),...t}));hN.displayName=cN.displayName;var sy={exports:{}},ay={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function yZ(){if(Rb)return ay;Rb=1;var e=sp();function t(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,c=e.useDebugValue;function u(m,b){var x=b(),k=r({inst:{value:x,getSnapshot:b}}),v=k[0].inst,E=k[1];return a(function(){v.value=x,v.getSnapshot=b,d(v)&&E({inst:v})},[m,x,b]),i(function(){return d(v)&&E({inst:v}),m(function(){d(v)&&E({inst:v})})},[m]),c(x),x}function d(m){var b=m.getSnapshot;m=m.value;try{var x=b();return!n(m,x)}catch{return!0}}function p(m,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return ay.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,ay}var Ib;function vZ(){return Ib||(Ib=1,sy.exports=yZ()),sy.exports}var wZ=vZ();function _Z(){return wZ.useSyncExternalStore(xZ,()=>!0,()=>!1)}function xZ(){return()=>{}}var Nw="Avatar",[bZ,WW]=$n(Nw),[EZ,pN]=bZ(Nw),mN=A.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=A.useState("idle");return w.jsx(EZ,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:w.jsx(st.span,{...r,ref:t})})});mN.displayName=Nw;var gN="AvatarImage",yN=A.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,c=pN(gN,n),u=kZ(r,a),d=pr(p=>{i(p),c.onImageLoadingStatusChange(p)});return Nr(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?w.jsx(st.img,{...a,ref:t,src:r}):null});yN.displayName=gN;var vN="AvatarFallback",wN=A.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=pN(vN,n),[c,u]=A.useState(r===void 0);return A.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(d)}},[r]),c&&a.imageLoadingStatus!=="loaded"?w.jsx(st.span,{...i,ref:t}):null});wN.displayName=vN;function Lb(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function kZ(e,{referrerPolicy:t,crossOrigin:n}){const r=_Z(),i=A.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[c,u]=A.useState(()=>Lb(a,e));return Nr(()=>{u(Lb(a,e))},[a,e]),Nr(()=>{const d=m=>()=>{u(m)};if(!a)return;const p=d("loaded"),g=d("error");return a.addEventListener("load",p),a.addEventListener("error",g),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",p),a.removeEventListener("error",g)}},[a,n,t]),c}var _N=mN,xN=yN,bN=wN;const gd=A.forwardRef(({className:e,...t},n)=>w.jsx(_N,{ref:n,className:at("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));gd.displayName=_N.displayName;const $v=A.forwardRef(({className:e,...t},n)=>w.jsx(xN,{ref:n,className:at("aspect-square h-full w-full object-cover",e),...t}));$v.displayName=xN.displayName;const yd=A.forwardRef(({className:e,...t},n)=>w.jsx(bN,{ref:n,className:at("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));yd.displayName=bN.displayName;function EN(e){const t=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let c=0;c<e.length;c++){const u=e.charCodeAt(c);r=(r<<5)-r+u,r=r&r}const i=Math.abs(r)%t.length,a=Math.abs(r>>8)%n.length;return[t[i],n[a]].join(" ")}function SZ({onAddAccountClick:e}){const{currentUser:t,otherUsers:n,setLogin:r,removeLogin:i}=vT();if(!t)return null;const a=c=>c.metadata.name??EN(c.pubkey);return w.jsxs(uZ,{modal:!1,children:[w.jsx(dZ,{asChild:!0,children:w.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[w.jsxs(gd,{className:"w-10 h-10",children:[w.jsx($v,{src:t.metadata.picture,alt:a(t)}),w.jsx(yd,{children:a(t).charAt(0)})]}),w.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:w.jsx("p",{className:"font-medium text-sm truncate",children:a(t)})}),w.jsx(oC,{className:"w-4 h-4 text-muted-foreground"})]})}),w.jsxs(fN,{className:"w-56 p-2 animate-scale-in",children:[w.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(c=>{var u;return w.jsxs(Ih,{onClick:()=>r(c.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[w.jsxs(gd,{className:"w-8 h-8",children:[w.jsx($v,{src:c.metadata.picture,alt:a(c)}),w.jsx(yd,{children:((u=a(c))==null?void 0:u.charAt(0))||w.jsx(kv,{})})]}),w.jsx("div",{className:"flex-1 truncate",children:w.jsx("p",{className:"text-sm font-medium",children:a(c)})}),c.id===t.id&&w.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},c.id)}),w.jsx(hN,{}),w.jsxs(Ih,{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[w.jsx(bD,{className:"w-4 h-4"}),w.jsx("span",{children:"Add another account"})]}),w.jsxs(Ih,{onClick:()=>i(t.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[w.jsx(gD,{className:"w-4 h-4"}),w.jsx("span",{children:"Log out"})]})]})]})}function Zv({className:e}){const{currentUser:t}=vT(),[n,r]=A.useState(!1),[i,a]=A.useState(!1),c=()=>{r(!1),a(!1)};return w.jsxs("div",{className:at("inline-flex items-center justify-center",e),children:[t?w.jsx(SZ,{onAddAccountClick:()=>r(!0)}):w.jsxs("div",{className:"flex gap-3 justify-center",children:[w.jsx(mt,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:w.jsx("span",{className:"truncate",children:"Log in"})}),w.jsx(mt,{onClick:()=>a(!0),variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all",children:w.jsx("span",{children:"Sign up"})})]}),w.jsx(X7,{isOpen:n,onClose:()=>r(!1),onLogin:c}),w.jsx(e9,{isOpen:i,onClose:()=>a(!1)})]})}function CZ(){const e=el(),t=n=>e.pathname===n;return w.jsx("nav",{className:"border-b bg-background/80 backdrop-blur sticky top-0 z-50",children:w.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsx(Tn,{to:"/",className:"text-xl font-bold tracking-tight",children:"DeadDropstr"}),w.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[w.jsx(mt,{asChild:!0,variant:t("/")?"secondary":"ghost",size:"sm",children:w.jsxs(Tn,{to:"/",children:[w.jsx(pD,{className:"h-4 w-4 mr-1"}),"Home"]})}),w.jsx(mt,{asChild:!0,variant:t("/marketplace")?"secondary":"ghost",size:"sm",children:w.jsxs(Tn,{to:"/marketplace",children:[w.jsx(ld,{className:"h-4 w-4 mr-1"}),"Marketplace"]})}),w.jsx(mt,{asChild:!0,variant:t("/dashboard")?"secondary":"ghost",size:"sm",children:w.jsxs(Tn,{to:"/dashboard",children:[w.jsx(bv,{className:"h-4 w-4 mr-1"}),"Dashboard"]})}),w.jsx(mt,{asChild:!0,variant:t("/messages")?"secondary":"ghost",size:"sm",children:w.jsxs(Tn,{to:"/messages",children:[w.jsx(aC,{className:"h-4 w-4 mr-1"}),"Messages"]})})]})]}),w.jsx(Zv,{className:"max-w-60"})]})})}function PZ(e,t={},n){e.use(S3);function r(c){if(c._flatMeta)return c;const{title:u,titleTemplate:d,...p}=c||{};return{title:u,titleTemplate:d,_flatMeta:p}}const i=e.push(r(t),n),a=i.patch;return i.__patched||(i.patch=c=>a(r(c)),i.__patched=!0),i}function TZ(){const e=A.useContext(Y2);if(!e)throw new Error("useHead() was called without provide context.");return e}function NZ(e,t,n){const r=t.head||TZ(),[i]=A.useState(()=>n(r,e,t));return A.useEffect(()=>{i.patch(e)},[e]),A.useEffect(()=>()=>{i.dispose()},[]),i}function Zc(e={},t={}){return NZ(e,t,PZ)}function Aw(e){if(e.kind!==30402)return null;const t=R=>{var z;return(z=e.tags.find(([D])=>D===R))==null?void 0:z[1]};if(!(R=>e.tags.filter(([z])=>z===R).map(([,z])=>z))("t").includes("locker"))return null;const i=t("d");if(!i)return null;const a=t("title")||"Unnamed Locker",c=t("status")||"available",u=t("g")||"",d=t("location"),p=e.tags.find(([R])=>R==="price"),g=p&&parseInt(p[1])||0,m=(p==null?void 0:p[2])||"SATS",b=t("dimensions"),x=parseInt(t("overdue-fee")||"0"),k=parseInt(t("overdue-days")||"7"),v=t("proxy-mode")==="true",E=parseInt(t("proxy-fee")||"0"),S=parseInt(t("abandon-days")||"30"),T=e.tags.filter(([R])=>R==="image").map(([,R])=>R);return{id:e.id,pubkey:e.pubkey,dTag:i,title:a,description:e.content,status:c,geohash:u,location:d,price:g,currency:m,dimensions:b,overdueFee:x,overdueDays:k,proxyMode:v,proxyFee:E,abandonDays:S,images:T,createdAt:e.created_at,event:e}}function AZ(e){const t=[["d",crypto.randomUUID()],["title",e.title],["t","locker"],["t","dead-drop"],["g",e.geohash],["price",e.baseFee.toString(),"SATS"],["status","available"],["dimensions",e.dimensions],["overdue-fee",e.overdueFee.toString()],["overdue-days",e.overdueDays.toString()],["proxy-mode",e.proxyMode.toString()],["abandon-days",e.abandonDays.toString()]];return e.location&&t.push(["location",e.location]),e.proxyMode&&e.proxyFee>0&&t.push(["proxy-fee",e.proxyFee.toString()]),t}function RZ(e){const{nostr:t}=Ar();return Eo({queryKey:["trust-score",e],queryFn:async()=>{if(!e)return null;const n=await t.query([{kinds:[7],"#p":[e],limit:500},{kinds:[9735],"#p":[e],limit:200}]);let r=0,i=0,a=0;for(const p of n)p.kind===7?p.content.trim()==="-"?i++:r++:p.kind===9735&&(a+=1e3);const c=Math.floor(a/1e3),u=r+i,d=u>0?Math.round((r+c)/(u+c)*100):50;return{pubkey:e,positiveReactions:r,negativeReactions:i,zapsSats:a,totalReactions:u,score:d}},enabled:!!e,staleTime:6e4})}const sn=A.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:at("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));sn.displayName="Card";const Qn=A.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:at("flex flex-col space-y-1.5 p-6",e),...t}));Qn.displayName="CardHeader";const fr=A.forwardRef(({className:e,...t},n)=>w.jsx("h3",{ref:n,className:at("text-2xl font-semibold leading-none tracking-tight",e),...t}));fr.displayName="CardTitle";const bo=A.forwardRef(({className:e,...t},n)=>w.jsx("p",{ref:n,className:at("text-sm text-muted-foreground",e),...t}));bo.displayName="CardDescription";const an=A.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:at("p-6 pt-0",e),...t}));an.displayName="CardContent";const kN=A.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:at("flex items-center p-6 pt-0",e),...t}));kN.displayName="CardFooter";function IZ(){const{nostr:e}=Ar(),{user:t}=jc(),{toast:n}=Td();return Xv({mutationFn:async({recipientPubkey:r,lockerId:i,paymentPreimage:a,rentalInvoice:c})=>{if(!t)throw new Error("User is not logged in");if(!t.signer.nip44)throw new Error("NIP-44 encryption not available. Please use a signer that supports NIP-44.");const u=Math.floor(Date.now()/1e3),d=E=>{const T=-Math.floor(Math.random()*172800);return E+T},p={action:"unlock",locker_id:i,payment_preimage:a,rental_invoice:c},g={kind:14,pubkey:t.pubkey,created_at:u,tags:[["p",r]],content:JSON.stringify(p)},m={kind:13,pubkey:t.pubkey,created_at:u,tags:[],content:await t.signer.nip44.encrypt(r,JSON.stringify(g))},b=Cd(),x=new ad(b),k=await x.nip44.encrypt(r,JSON.stringify(m)),v=await x.signEvent({kind:1059,created_at:d(u),tags:[["p",r]],content:k});return await e.event(v),v},onSuccess:()=>{n({title:"Unlock command sent",description:"The encrypted unlock command has been published to the network."})},onError:r=>{console.error("[UnlockCommand] Failed to send:",r),n({title:"Failed to send unlock command",description:r.message,variant:"destructive"})}})}const LZ=Rd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Fn({className:e,variant:t,...n}){return w.jsx("div",{className:at(LZ({variant:t}),e),...n})}var Rw="Progress",Iw=100,[OZ,VW]=$n(Rw),[MZ,jZ]=OZ(Rw),SN=A.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=zZ,...c}=e;(i||i===0)&&!Ob(i)&&console.error(DZ(`${i}`,"Progress"));const u=Ob(i)?i:Iw;r!==null&&!Mb(r,u)&&console.error(BZ(`${r}`,"Progress"));const d=Mb(r,u)?r:null,p=ip(d)?a(d,u):void 0;return w.jsx(MZ,{scope:n,value:d,max:u,children:w.jsx(st.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":ip(d)?d:void 0,"aria-valuetext":p,role:"progressbar","data-state":TN(d,u),"data-value":d??void 0,"data-max":u,...c,ref:t})})});SN.displayName=Rw;var CN="ProgressIndicator",PN=A.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=jZ(CN,n);return w.jsx(st.div,{"data-state":TN(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});PN.displayName=CN;function zZ(e,t){return`${Math.round(e/t*100)}%`}function TN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ip(e){return typeof e=="number"}function Ob(e){return ip(e)&&!isNaN(e)&&e>0}function Mb(e,t){return ip(e)&&!isNaN(e)&&e<=t&&e>=0}function DZ(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Iw}\`.`}function BZ(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Iw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var NN=SN,FZ=PN;const AN=A.forwardRef(({className:e,value:t,...n},r)=>w.jsx(NN,{ref:r,className:at("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:w.jsx(FZ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));AN.displayName=NN.displayName;var Yl={},ly,jb;function UZ(){return jb||(jb=1,ly=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),ly}var cy={},Cs={},zb;function rl(){if(zb)return Cs;zb=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Cs.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Cs.getSymbolTotalCodewords=function(r){return t[r]},Cs.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Cs.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Cs.isKanjiModeEnabled=function(){return typeof e<"u"},Cs.toSJIS=function(r){return e(r)},Cs}var uy={},Db;function Lw(){return Db||(Db=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}}(uy)),uy}var dy,Bb;function $Z(){if(Bb)return dy;Bb=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},dy=e,dy}var fy,Fb;function ZZ(){if(Fb)return fy;Fb=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,i){const a=t*this.size+n;this.data[a]=r,i&&(this.reservedBit[a]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},fy=e,fy}var hy={},Ub;function HZ(){return Ub||(Ub=1,function(e){const t=rl().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=t(r),c=a===145?26:Math.ceil((a-13)/(2*i-2))*2,u=[a-7];for(let d=1;d<i-1;d++)u[d]=u[d-1]-c;return u.push(6),u.reverse()},e.getPositions=function(r){const i=[],a=e.getRowColCoords(r),c=a.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u===0&&d===0||u===0&&d===c-1||u===c-1&&d===0||i.push([a[u],a[d]]);return i}}(hy)),hy}var py={},$b;function WZ(){if($b)return py;$b=1;const e=rl().getSymbolSize,t=7;return py.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},py}var my={},Zb;function VZ(){return Zb||(Zb=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let c=0,u=0,d=0,p=null,g=null;for(let m=0;m<a;m++){u=d=0,p=g=null;for(let b=0;b<a;b++){let x=i.get(m,b);x===p?u++:(u>=5&&(c+=t.N1+(u-5)),p=x,u=1),x=i.get(b,m),x===g?d++:(d>=5&&(c+=t.N1+(d-5)),g=x,d=1)}u>=5&&(c+=t.N1+(u-5)),d>=5&&(c+=t.N1+(d-5))}return c},e.getPenaltyN2=function(i){const a=i.size;let c=0;for(let u=0;u<a-1;u++)for(let d=0;d<a-1;d++){const p=i.get(u,d)+i.get(u,d+1)+i.get(u+1,d)+i.get(u+1,d+1);(p===4||p===0)&&c++}return c*t.N2},e.getPenaltyN3=function(i){const a=i.size;let c=0,u=0,d=0;for(let p=0;p<a;p++){u=d=0;for(let g=0;g<a;g++)u=u<<1&2047|i.get(p,g),g>=10&&(u===1488||u===93)&&c++,d=d<<1&2047|i.get(g,p),g>=10&&(d===1488||d===93)&&c++}return c*t.N3},e.getPenaltyN4=function(i){let a=0;const c=i.data.length;for(let d=0;d<c;d++)a+=i.data[d];return Math.abs(Math.ceil(a*100/c/5)-10)*t.N4};function n(r,i,a){switch(r){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,a){const c=a.size;for(let u=0;u<c;u++)for(let d=0;d<c;d++)a.isReserved(d,u)||a.xor(d,u,n(i,d,u))},e.getBestMask=function(i,a){const c=Object.keys(e.Patterns).length;let u=0,d=1/0;for(let p=0;p<c;p++){a(p),e.applyMask(p,i);const g=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(p,i),g<d&&(d=g,u=p)}return u}}(my)),my}var Eh={},Hb;function RN(){if(Hb)return Eh;Hb=1;const e=Lw(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Eh.getBlocksCount=function(i,a){switch(a){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},Eh.getTotalCodewordsCount=function(i,a){switch(a){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},Eh}var gy={},Wu={},Wb;function qZ(){if(Wb)return Wu;Wb=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]}(),Wu.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},Wu.exp=function(r){return e[r]},Wu.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},Wu}var Vb;function KZ(){return Vb||(Vb=1,function(e){const t=qZ();e.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let c=0;c<r.length;c++)for(let u=0;u<i.length;u++)a[c+u]^=t.mul(r[c],i[u]);return a},e.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const c=a[0];for(let d=0;d<i.length;d++)a[d]^=t.mul(i[d],c);let u=0;for(;u<a.length&&a[u]===0;)u++;a=a.slice(u)}return a},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}}(gy)),gy}var yy,qb;function GZ(){if(qb)return yy;qb=1;const e=KZ();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const a=e.mod(i,this.genPoly),c=this.degree-a.length;if(c>0){const u=new Uint8Array(this.degree);return u.set(a,c),u}return a},yy=t,yy}var vy={},wy={},_y={},Kb;function IN(){return Kb||(Kb=1,_y.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),_y}var Oi={},Gb;function LN(){if(Gb)return Oi;Gb=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Oi.KANJI=new RegExp(n,"g"),Oi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Oi.BYTE=new RegExp(r,"g"),Oi.NUMERIC=new RegExp(e,"g"),Oi.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+n+"$"),a=new RegExp("^"+e+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Oi.testKanji=function(d){return i.test(d)},Oi.testNumeric=function(d){return a.test(d)},Oi.testAlphanumeric=function(d){return c.test(d)},Oi}var Yb;function il(){return Yb||(Yb=1,function(e){const t=IN(),n=LN();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,c){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?a.ccBits[0]:c<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return n.testNumeric(a)?e.NUMERIC:n.testAlphanumeric(a)?e.ALPHANUMERIC:n.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,c){if(e.isValid(a))return a;try{return r(a)}catch{return c}}}(wy)),wy}var Jb;function YZ(){return Jb||(Jb=1,function(e){const t=rl(),n=RN(),r=Lw(),i=il(),a=IN(),c=7973,u=t.getBCHDigit(c);function d(b,x,k){for(let v=1;v<=40;v++)if(x<=e.getCapacity(v,k,b))return v}function p(b,x){return i.getCharCountIndicator(b,x)+4}function g(b,x){let k=0;return b.forEach(function(v){const E=p(v.mode,x);k+=E+v.getBitsLength()}),k}function m(b,x){for(let k=1;k<=40;k++)if(g(b,k)<=e.getCapacity(k,x,i.MIXED))return k}e.from=function(x,k){return a.isValid(x)?parseInt(x,10):k},e.getCapacity=function(x,k,v){if(!a.isValid(x))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=i.BYTE);const E=t.getSymbolTotalCodewords(x),S=n.getTotalCodewordsCount(x,k),T=(E-S)*8;if(v===i.MIXED)return T;const R=T-p(v,x);switch(v){case i.NUMERIC:return Math.floor(R/10*3);case i.ALPHANUMERIC:return Math.floor(R/11*2);case i.KANJI:return Math.floor(R/13);case i.BYTE:default:return Math.floor(R/8)}},e.getBestVersionForData=function(x,k){let v;const E=r.from(k,r.M);if(Array.isArray(x)){if(x.length>1)return m(x,E);if(x.length===0)return 1;v=x[0]}else v=x;return d(v.mode,v.getLength(),E)},e.getEncodedBits=function(x){if(!a.isValid(x)||x<7)throw new Error("Invalid QR Code version");let k=x<<12;for(;t.getBCHDigit(k)-u>=0;)k^=c<<t.getBCHDigit(k)-u;return x<<12|k}}(vy)),vy}var xy={},Qb;function JZ(){if(Qb)return xy;Qb=1;const e=rl(),t=1335,n=21522,r=e.getBCHDigit(t);return xy.getEncodedBits=function(a,c){const u=a.bit<<3|c;let d=u<<10;for(;e.getBCHDigit(d)-r>=0;)d^=t<<e.getBCHDigit(d)-r;return(u<<10|d)^n},xy}var by={},Ey,Xb;function QZ(){if(Xb)return Ey;Xb=1;const e=il();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,a,c;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),c=parseInt(a,10),r.put(c,10);const u=this.data.length-i;u>0&&(a=this.data.substr(i),c=parseInt(a,10),r.put(c,u*3+1))},Ey=t,Ey}var ky,e2;function XZ(){if(e2)return ky;e2=1;const e=il(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let c=t.indexOf(this.data[a])*45;c+=t.indexOf(this.data[a+1]),i.put(c,11)}this.data.length%2&&i.put(t.indexOf(this.data[a]),6)},ky=n,ky}var Sy,t2;function eH(){if(t2)return Sy;t2=1;const e=il();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},Sy=t,Sy}var Cy,n2;function tH(){if(n2)return Cy;n2=1;const e=il(),t=rl();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let a=t.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},Cy=n,Cy}var Py={exports:{}},r2;function nH(){return r2||(r2=1,function(e){var t={single_source_shortest_paths:function(n,r,i){var a={},c={};c[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var d,p,g,m,b,x,k,v,E;!u.empty();){d=u.pop(),p=d.value,m=d.cost,b=n[p]||{};for(g in b)b.hasOwnProperty(g)&&(x=b[g],k=m+x,v=c[g],E=typeof c[g]>"u",(E||v>k)&&(c[g]=k,u.push(g,k),a[g]=p))}if(typeof i<"u"&&typeof c[i]>"u"){var S=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(S)}return a},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],a=r;a;)i.push(a),n[a],a=n[a];return i.reverse(),i},find_path:function(n,r,i){var a=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},a;n=n||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t}(Py)),Py.exports}var i2;function rH(){return i2||(i2=1,function(e){const t=il(),n=QZ(),r=XZ(),i=eH(),a=tH(),c=LN(),u=rl(),d=nH();function p(S){return unescape(encodeURIComponent(S)).length}function g(S,T,R){const z=[];let D;for(;(D=S.exec(R))!==null;)z.push({data:D[0],index:D.index,mode:T,length:D[0].length});return z}function m(S){const T=g(c.NUMERIC,t.NUMERIC,S),R=g(c.ALPHANUMERIC,t.ALPHANUMERIC,S);let z,D;return u.isKanjiModeEnabled()?(z=g(c.BYTE,t.BYTE,S),D=g(c.KANJI,t.KANJI,S)):(z=g(c.BYTE_KANJI,t.BYTE,S),D=[]),T.concat(R,z,D).sort(function(V,Y){return V.index-Y.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function b(S,T){switch(T){case t.NUMERIC:return n.getBitsLength(S);case t.ALPHANUMERIC:return r.getBitsLength(S);case t.KANJI:return a.getBitsLength(S);case t.BYTE:return i.getBitsLength(S)}}function x(S){return S.reduce(function(T,R){const z=T.length-1>=0?T[T.length-1]:null;return z&&z.mode===R.mode?(T[T.length-1].data+=R.data,T):(T.push(R),T)},[])}function k(S){const T=[];for(let R=0;R<S.length;R++){const z=S[R];switch(z.mode){case t.NUMERIC:T.push([z,{data:z.data,mode:t.ALPHANUMERIC,length:z.length},{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.ALPHANUMERIC:T.push([z,{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.KANJI:T.push([z,{data:z.data,mode:t.BYTE,length:p(z.data)}]);break;case t.BYTE:T.push([{data:z.data,mode:t.BYTE,length:p(z.data)}])}}return T}function v(S,T){const R={},z={start:{}};let D=["start"];for(let Z=0;Z<S.length;Z++){const V=S[Z],Y=[];for(let U=0;U<V.length;U++){const q=V[U],J=""+Z+U;Y.push(J),R[J]={node:q,lastCount:0},z[J]={};for(let F=0;F<D.length;F++){const X=D[F];R[X]&&R[X].node.mode===q.mode?(z[X][J]=b(R[X].lastCount+q.length,q.mode)-b(R[X].lastCount,q.mode),R[X].lastCount+=q.length):(R[X]&&(R[X].lastCount=q.length),z[X][J]=b(q.length,q.mode)+4+t.getCharCountIndicator(q.mode,T))}}D=Y}for(let Z=0;Z<D.length;Z++)z[D[Z]].end=0;return{map:z,table:R}}function E(S,T){let R;const z=t.getBestModeForData(S);if(R=t.from(T,z),R!==t.BYTE&&R.bit<z.bit)throw new Error('"'+S+'" cannot be encoded with mode '+t.toString(R)+`.
 Suggested mode is: `+t.toString(z));switch(R===t.KANJI&&!u.isKanjiModeEnabled()&&(R=t.BYTE),R){case t.NUMERIC:return new n(S);case t.ALPHANUMERIC:return new r(S);case t.KANJI:return new a(S);case t.BYTE:return new i(S)}}e.fromArray=function(T){return T.reduce(function(R,z){return typeof z=="string"?R.push(E(z,null)):z.data&&R.push(E(z.data,z.mode)),R},[])},e.fromString=function(T,R){const z=m(T,u.isKanjiModeEnabled()),D=k(z),Z=v(D,R),V=d.find_path(Z.map,"start","end"),Y=[];for(let U=1;U<V.length-1;U++)Y.push(Z.table[V[U]].node);return e.fromArray(x(Y))},e.rawSplit=function(T){return e.fromArray(m(T,u.isKanjiModeEnabled()))}}(by)),by}var o2;function iH(){if(o2)return cy;o2=1;const e=rl(),t=Lw(),n=$Z(),r=ZZ(),i=HZ(),a=WZ(),c=VZ(),u=RN(),d=GZ(),p=YZ(),g=JZ(),m=il(),b=rH();function x(Z,V){const Y=Z.size,U=a.getPositions(V);for(let q=0;q<U.length;q++){const J=U[q][0],F=U[q][1];for(let X=-1;X<=7;X++)if(!(J+X<=-1||Y<=J+X))for(let O=-1;O<=7;O++)F+O<=-1||Y<=F+O||(X>=0&&X<=6&&(O===0||O===6)||O>=0&&O<=6&&(X===0||X===6)||X>=2&&X<=4&&O>=2&&O<=4?Z.set(J+X,F+O,!0,!0):Z.set(J+X,F+O,!1,!0))}}function k(Z){const V=Z.size;for(let Y=8;Y<V-8;Y++){const U=Y%2===0;Z.set(Y,6,U,!0),Z.set(6,Y,U,!0)}}function v(Z,V){const Y=i.getPositions(V);for(let U=0;U<Y.length;U++){const q=Y[U][0],J=Y[U][1];for(let F=-2;F<=2;F++)for(let X=-2;X<=2;X++)F===-2||F===2||X===-2||X===2||F===0&&X===0?Z.set(q+F,J+X,!0,!0):Z.set(q+F,J+X,!1,!0)}}function E(Z,V){const Y=Z.size,U=p.getEncodedBits(V);let q,J,F;for(let X=0;X<18;X++)q=Math.floor(X/3),J=X%3+Y-8-3,F=(U>>X&1)===1,Z.set(q,J,F,!0),Z.set(J,q,F,!0)}function S(Z,V,Y){const U=Z.size,q=g.getEncodedBits(V,Y);let J,F;for(J=0;J<15;J++)F=(q>>J&1)===1,J<6?Z.set(J,8,F,!0):J<8?Z.set(J+1,8,F,!0):Z.set(U-15+J,8,F,!0),J<8?Z.set(8,U-J-1,F,!0):J<9?Z.set(8,15-J-1+1,F,!0):Z.set(8,15-J-1,F,!0);Z.set(U-8,8,1,!0)}function T(Z,V){const Y=Z.size;let U=-1,q=Y-1,J=7,F=0;for(let X=Y-1;X>0;X-=2)for(X===6&&X--;;){for(let O=0;O<2;O++)if(!Z.isReserved(q,X-O)){let K=!1;F<V.length&&(K=(V[F]>>>J&1)===1),Z.set(q,X-O,K),J--,J===-1&&(F++,J=7)}if(q+=U,q<0||Y<=q){q-=U,U=-U;break}}}function R(Z,V,Y){const U=new n;Y.forEach(function(O){U.put(O.mode.bit,4),U.put(O.getLength(),m.getCharCountIndicator(O.mode,Z)),O.write(U)});const q=e.getSymbolTotalCodewords(Z),J=u.getTotalCodewordsCount(Z,V),F=(q-J)*8;for(U.getLengthInBits()+4<=F&&U.put(0,4);U.getLengthInBits()%8!==0;)U.putBit(0);const X=(F-U.getLengthInBits())/8;for(let O=0;O<X;O++)U.put(O%2?17:236,8);return z(U,Z,V)}function z(Z,V,Y){const U=e.getSymbolTotalCodewords(V),q=u.getTotalCodewordsCount(V,Y),J=U-q,F=u.getBlocksCount(V,Y),X=U%F,O=F-X,K=Math.floor(U/F),ae=Math.floor(J/F),oe=ae+1,re=K-ae,te=new d(re);let le=0;const $=new Array(F),Q=new Array(F);let Ce=0;const xe=new Uint8Array(Z.buffer);for(let Be=0;Be<F;Be++){const nt=Be<O?ae:oe;$[Be]=xe.slice(le,le+nt),Q[Be]=te.encode($[Be]),le+=nt,Ce=Math.max(Ce,nt)}const ve=new Uint8Array(U);let Re=0,Ue,Me;for(Ue=0;Ue<Ce;Ue++)for(Me=0;Me<F;Me++)Ue<$[Me].length&&(ve[Re++]=$[Me][Ue]);for(Ue=0;Ue<re;Ue++)for(Me=0;Me<F;Me++)ve[Re++]=Q[Me][Ue];return ve}function D(Z,V,Y,U){let q;if(Array.isArray(Z))q=b.fromArray(Z);else if(typeof Z=="string"){let K=V;if(!K){const ae=b.rawSplit(Z);K=p.getBestVersionForData(ae,Y)}q=b.fromString(Z,K||40)}else throw new Error("Invalid data");const J=p.getBestVersionForData(q,Y);if(!J)throw new Error("The amount of data is too big to be stored in a QR Code");if(!V)V=J;else if(V<J)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+J+`.
`);const F=R(V,Y,q),X=e.getSymbolSize(V),O=new r(X);return x(O,V),k(O),v(O,V),S(O,Y,0),V>=7&&E(O,V),T(O,F),isNaN(U)&&(U=c.getBestMask(O,S.bind(null,O,Y))),c.applyMask(U,O),S(O,Y,U),{modules:O,version:V,errorCorrectionLevel:Y,maskPattern:U,segments:q}}return cy.create=function(V,Y){if(typeof V>"u"||V==="")throw new Error("No input text");let U=t.M,q,J;return typeof Y<"u"&&(U=t.from(Y.errorCorrectionLevel,t.M),q=p.from(Y.version),J=c.from(Y.maskPattern),Y.toSJISFunc&&e.setToSJISFunction(Y.toSJISFunc)),D(V,q,U,J)},cy}var Ty={},Ny={},s2;function ON(){return s2||(s2=1,function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,c=r.scale||4;return{width:a,scale:a?4:c,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const a=e.getScale(r,i);return Math.floor((r+i.margin*2)*a)},e.qrToImageData=function(r,i,a){const c=i.modules.size,u=i.modules.data,d=e.getScale(c,a),p=Math.floor((c+a.margin*2)*d),g=a.margin*d,m=[a.color.light,a.color.dark];for(let b=0;b<p;b++)for(let x=0;x<p;x++){let k=(b*p+x)*4,v=a.color.light;if(b>=g&&x>=g&&b<p-g&&x<p-g){const E=Math.floor((b-g)/d),S=Math.floor((x-g)/d);v=m[u[E*c+S]?1:0]}r[k++]=v.r,r[k++]=v.g,r[k++]=v.b,r[k]=v.a}}}(Ny)),Ny}var a2;function oH(){return a2||(a2=1,function(e){const t=ON();function n(i,a,c){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=c,a.width=c,a.style.height=c+"px",a.style.width=c+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,c,u){let d=u,p=c;typeof d>"u"&&(!c||!c.getContext)&&(d=c,c=void 0),c||(p=r()),d=t.getOptions(d);const g=t.getImageWidth(a.modules.size,d),m=p.getContext("2d"),b=m.createImageData(g,g);return t.qrToImageData(b.data,a,d),n(m,p,g),m.putImageData(b,0,0),p},e.renderToDataURL=function(a,c,u){let d=u;typeof d>"u"&&(!c||!c.getContext)&&(d=c,c=void 0),d||(d={});const p=e.render(a,c,d),g=d.type||"image/png",m=d.rendererOpts||{};return p.toDataURL(g,m.quality)}}(Ty)),Ty}var Ay={},l2;function sH(){if(l2)return Ay;l2=1;const e=ON();function t(i,a){const c=i.a/255,u=a+'="'+i.hex+'"';return c<1?u+" "+a+'-opacity="'+c.toFixed(2).slice(1)+'"':u}function n(i,a,c){let u=i+a;return typeof c<"u"&&(u+=" "+c),u}function r(i,a,c){let u="",d=0,p=!1,g=0;for(let m=0;m<i.length;m++){const b=Math.floor(m%a),x=Math.floor(m/a);!b&&!p&&(p=!0),i[m]?(g++,m>0&&b>0&&i[m-1]||(u+=p?n("M",b+c,.5+x+c):n("m",d,0),d=0,p=!1),b+1<a&&i[m+1]||(u+=n("h",g),g=0)):d++}return u}return Ay.render=function(a,c,u){const d=e.getOptions(c),p=a.modules.size,g=a.modules.data,m=p+d.margin*2,b=d.color.light.a?"<path "+t(d.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",x="<path "+t(d.color.dark,"stroke")+' d="'+r(g,p,d.margin)+'"/>',k='viewBox="0 0 '+m+" "+m+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+k+' shape-rendering="crispEdges">'+b+x+`</svg>
`;return typeof u=="function"&&u(null,E),E},Ay}var c2;function aH(){if(c2)return Yl;c2=1;const e=UZ(),t=iH(),n=oH(),r=sH();function i(a,c,u,d,p){const g=[].slice.call(arguments,1),m=g.length,b=typeof g[m-1]=="function";if(!b&&!e())throw new Error("Callback required as last argument");if(b){if(m<2)throw new Error("Too few arguments provided");m===2?(p=u,u=c,c=d=void 0):m===3&&(c.getContext&&typeof p>"u"?(p=d,d=void 0):(p=d,d=u,u=c,c=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(u=c,c=d=void 0):m===2&&!c.getContext&&(d=u,u=c,c=void 0),new Promise(function(x,k){try{const v=t.create(u,d);x(a(v,c,d))}catch(v){k(v)}})}try{const x=t.create(u,d);p(null,a(x,c,d))}catch(x){p(x)}}return Yl.create=t.create,Yl.toCanvas=i.bind(null,n.render),Yl.toDataURL=i.bind(null,n.renderToDataURL),Yl.toString=i.bind(null,function(a,c,u){return r.render(a,u)}),Yl}var lH=aH();const cH=kd(lH);function uH(e){try{const t=new URL(e.replace("nostr+walletconnect://","https://")),n=t.hostname||t.pathname.replace("//",""),r=t.searchParams.get("secret"),i=[];return t.searchParams.forEach((a,c)=>{c==="relay"&&i.push(a)}),!n||!r||i.length===0?null:{walletPubkey:n,secret:r,relays:i}}catch{return null}}function dH(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.slice(n*2,n*2+2),16);return t}function fH({connectionString:e,onPaymentReceived:t,enabled:n=!0}){const{nostr:r}=Ar(),[i,a]=A.useState(!1),[c,u]=A.useState(null),d=A.useRef(null),p=A.useRef(null),g=A.useRef(null),m=e?uH(e):null;A.useEffect(()=>{if(!(m!=null&&m.secret)){p.current=null,g.current=null;return}try{const x=dH(m.secret);p.current=new ad(x),g.current=Ro(x),console.log("[NWC Notifications] Client pubkey derived:",g.current.slice(0,16)+"...")}catch(x){console.error("[NWC Notifications] Failed to create signer from secret:",x),p.current=null,g.current=null}},[m==null?void 0:m.secret]);const b=A.useCallback(async x=>{var v;if(!((v=p.current)!=null&&v.nip44)||!(m!=null&&m.walletPubkey)||!g.current||x.pubkey!==m.walletPubkey)return;const k=x.tags.find(([E])=>E==="p");if(!(k&&k[1]!==g.current))try{let E;if(x.kind===23197&&p.current.nip44)E=await p.current.nip44.decrypt(m.walletPubkey,x.content);else if(x.kind===23196&&p.current.nip04)E=await p.current.nip04.decrypt(m.walletPubkey,x.content);else return;const S=JSON.parse(E);if(S.notification_type==="payment_received"&&S.notification){const T={type:"incoming",state:S.notification.state,invoice:S.notification.invoice,preimage:S.notification.preimage,payment_hash:S.notification.payment_hash,amount:S.notification.amount,settled_at:S.notification.settled_at};console.log("[NWC Notifications] Payment received:",T),u(T),t==null||t(T)}}catch(E){console.error("[NWC Notifications] Failed to process notification:",E)}},[m==null?void 0:m.walletPubkey,t]);return A.useEffect(()=>{if(!n||!m||!p.current||!g.current){a(!1);return}const{walletPubkey:x,relays:k}=m,v=g.current,E=r.group(k);let S=!1;return(async()=>{try{console.log("[NWC Notifications] Subscribing to relays:",k),console.log("[NWC Notifications] Filter: authors=%s, #p=%s",x.slice(0,16)+"...",v.slice(0,16)+"...");const R=E.req([{kinds:[23196,23197],authors:[x],"#p":[v],limit:50}]);S||a(!0);for await(const z of R){if(S)break;if(z[0]==="EVENT"){const D=z[2];await b(D)}else z[0]==="EOSE"&&console.log("[NWC Notifications] End of stored events, now listening for new notifications")}}catch(R){console.error("[NWC Notifications] Subscription error:",R),S||a(!1)}})(),()=>{var R;S=!0,(R=d.current)==null||R.close(),a(!1)}},[n,m,r,b]),{isConnected:i,lastNotification:c,clientPubkey:g.current}}function hH({open:e,invoice:t,amountSats:n,onClose:r,onPay:i,onSettled:a}){var Y;const[c,u]=A.useState(null),[d,p]=A.useState("pending"),[g,m]=A.useState(null),[b,x]=A.useState(!1),[k,v]=A.useState(0),E=rP(),[S,T]=A.useState(!1),R=60;A.useEffect(()=>{e&&(p("pending"),m(null),x(!1),v(0))},[e]),A.useEffect(()=>{if(!t)return;let U=!0;return cH.toDataURL(t,{width:256,margin:2}).then(q=>{U&&u(q)}).catch(()=>{U&&u(null)}),()=>{U=!1}},[t]);const{isConnected:z}=fH({connectionString:((Y=E.getActiveConnection())==null?void 0:Y.connectionString)??null,enabled:e&&!!t,onPaymentReceived:async U=>{U.preimage&&(p("success"),m("Payment confirmed!"),a&&await a({preimage:U.preimage}),setTimeout(()=>r(),2e3))}});A.useEffect(()=>{if(!e||!t||z)return;const U=E.getActiveConnection();if(!U)return;let q=!1;const J=3e3,F=async()=>{if(!q){v(O=>O+1);try{const K=await new dd(U.connectionString).lookupInvoice(t);if(K&&K.state==="settled"&&K.preimage){p("success"),m("Payment confirmed!"),a&&await a({preimage:K.preimage}),setTimeout(()=>{q||r()},2e3);return}}catch{}!q&&k<R?setTimeout(F,J):k>=R&&m("Waiting for payment timed out. You can still pay manually.")}},X=setTimeout(F,J);return()=>{q=!0,clearTimeout(X)}},[e,t,E,r,a,k,z]);const D=async()=>{try{await navigator.clipboard.writeText(t),x(!0),setTimeout(()=>x(!1),2e3)}catch{m("Failed to copy")}},Z=async()=>{p("paying"),m(null);try{await i(),p("success"),m("Payment successful!"),setTimeout(()=>r(),1500)}catch(U){p("error"),m((U==null?void 0:U.message)||"Payment failed")}},V=()=>{switch(d){case"pending":return w.jsxs(Fn,{variant:"secondary",className:"gap-1",children:[w.jsx(lD,{className:"h-3 w-3"})," Awaiting Payment"]});case"polling":return w.jsxs(Fn,{variant:"secondary",className:"gap-1",children:[w.jsx(Uu,{className:"h-3 w-3 animate-spin"})," Checking..."]});case"paying":return w.jsxs(Fn,{variant:"default",className:"gap-1",children:[w.jsx(Uu,{className:"h-3 w-3 animate-spin"})," Processing"]});case"success":return w.jsxs(Fn,{variant:"default",className:"gap-1 bg-green-600",children:[w.jsx(gh,{className:"h-3 w-3"})," Paid"]});case"error":return w.jsxs(Fn,{variant:"destructive",className:"gap-1",children:[w.jsx(aD,{className:"h-3 w-3"})," Failed"]})}};return w.jsx(Od,{open:e,onOpenChange:U=>{!U&&d!=="paying"&&r()},children:w.jsxs(Uc,{className:"max-w-md",children:[w.jsxs(Md,{children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs($p,{className:"flex items-center gap-2",children:[w.jsx(Sv,{className:"h-5 w-5 text-yellow-500"}),"Pay Invoice"]}),V()]}),w.jsx(fw,{children:"Scan the QR code with any Lightning wallet or pay directly."})]}),w.jsxs("div",{className:"space-y-4",children:[n&&w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"text-3xl font-bold",children:n.toLocaleString()}),w.jsx("span",{className:"text-lg text-muted-foreground ml-2",children:"sats"})]}),w.jsx("div",{className:"flex justify-center p-4 bg-white rounded-lg",children:c?w.jsx("img",{src:c,alt:"Lightning Invoice QR",className:"w-56 h-56"}):w.jsx("div",{className:"w-56 h-56 flex items-center justify-center bg-muted rounded",children:w.jsx(Uu,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}),w.jsxs("div",{className:"relative",children:[w.jsx("textarea",{readOnly:!0,value:t,className:"w-full p-3 pr-12 rounded-lg border bg-muted/50 text-xs font-mono resize-none",rows:3}),w.jsx(mt,{size:"icon",variant:"ghost",className:"absolute right-2 top-2",onClick:D,children:b?w.jsx(gh,{className:"h-4 w-4 text-green-500"}):w.jsx(cD,{className:"h-4 w-4"})})]}),d==="pending"&&w.jsxs("div",{className:"space-y-1",children:[w.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(Uu,{className:"h-3 w-3 animate-spin"}),z?"Listening for payment...":"Waiting for payment..."]}),!z&&k>0&&w.jsxs("span",{children:[Math.floor(k/R*100),"%"]})]}),!z&&k>0&&w.jsx(AN,{value:k/R*100,className:"h-1"}),z&&w.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[w.jsx(gh,{className:"h-3 w-3"}),"Real-time notifications active"]})]}),g&&w.jsx("div",{className:`text-sm text-center p-2 rounded ${d==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":d==="error"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-muted text-muted-foreground"}`,children:g}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(mt,{variant:"outline",onClick:r,disabled:d==="paying",className:"flex-1",children:"Cancel"}),w.jsx(mt,{onClick:Z,disabled:d==="paying"||d==="success",className:"flex-1",children:d==="paying"?w.jsxs(w.Fragment,{children:[w.jsx(Uu,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):d==="success"?w.jsxs(w.Fragment,{children:[w.jsx(gh,{className:"h-4 w-4 mr-2"}),"Paid!"]}):w.jsxs(w.Fragment,{children:[w.jsx(Sv,{className:"h-4 w-4 mr-2"}),"Pay Now"]})})]}),w.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Invoice will auto-detect when paid. You can also copy and pay externally."})]})]})})}function pH(){var z;const{nip19:e}=ow();Zc({title:"Locker Details"});const{nostr:t}=Ar(),n=rP();jc();const{mutateAsync:r}=IZ(),{data:i}=Eo({queryKey:["locker-detail",e],queryFn:async()=>{if(!e)return null;const D=await t.query([{kinds:[30402],"#d":[e],limit:1}]);return!D||D.length===0?null:Aw(D[0])},staleTime:6e4}),a=RZ(i==null?void 0:i.pubkey),[c,u]=A.useState(!1),[d,p]=A.useState(""),[g,m]=A.useState(!1),[b,x]=A.useState(""),{connections:k,activeConnection:v,setActiveConnection:E,getActiveConnection:S}=n,T=async()=>{if(!i)return;const D=S();if(!D){p("No wallet connected. Please connect a Nostr Wallet Connect wallet first.");return}u(!0),p("");try{const Z=new dd(D.connectionString),V=i.price*1e3,Y=await Z.makeInvoice({amount:V,description:`Locker rental ${i.dTag}`});x(Y.invoice),m(!0)}catch(Z){p((Z==null?void 0:Z.message)??"Failed to create invoice"),u(!1)}},R=async()=>{if(!i)throw new Error("No locker");const D=S();if(!D)throw new Error("No wallet connected");const Y=(await new dd(D.connectionString).pay(b)).preimage;return await r({recipientPubkey:i.pubkey,lockerId:i.dTag,paymentPreimage:Y,rentalInvoice:b}),p("Unlock command sent via NIP-17. Locker should open shortly."),u(!1),Y};return i?w.jsxs("div",{className:"container mx-auto p-6 space-y-4",children:[k.length>1&&w.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[w.jsx("span",{className:"text-muted-foreground",children:"Wallet"}),w.jsx("select",{className:"px-2 py-1 border rounded bg-background",value:v??"",onChange:D=>E(D.target.value),children:k.map(D=>w.jsx("option",{value:D.connectionString,children:D.alias??"NWC Wallet"},D.connectionString))})]}),w.jsxs("div",{className:"card",children:[w.jsx(Qn,{children:w.jsx(fr,{children:i.title})}),w.jsxs(an,{children:[w.jsx("p",{className:"text-sm text-muted-foreground",children:i.location||i.geohash}),w.jsxs("p",{className:"mt-2",children:["Dimensions: ",i.dimensions]}),w.jsxs("p",{children:["Fee: ",i.price," sats"]}),w.jsxs("p",{children:["Owner: ",i.pubkey]}),w.jsxs("p",{children:["Trust Score: ",((z=a==null?void 0:a.data)==null?void 0:z.score)??""]}),w.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:i.description})]})]}),w.jsx("div",{children:w.jsxs(sn,{children:[w.jsx(Qn,{children:w.jsx(fr,{children:"Rent this Locker"})}),w.jsxs(an,{children:[w.jsx("p",{className:"text-sm text-muted-foreground",children:"This will create a rental invoice via your connected wallet and unlock the locker once paid."}),w.jsx(mt,{onClick:T,disabled:c,className:"mt-4",children:c?"Creating invoice...":`Rent for ${i.price} sats`}),d&&w.jsx("p",{className:"mt-2 text-sm",children:d})]})]})}),w.jsx(hH,{open:g,invoice:b,onClose:()=>{m(!1),c&&u(!1)},onPay:R,onSettled:async D=>{if(!i)return;const Z=D.preimage;if(Z){try{await r({recipientPubkey:i.pubkey,lockerId:i.dTag,paymentPreimage:Z,rentalInvoice:b}),p("Unlock command sent via NIP-17. Locker should open shortly.")}catch(V){p((V==null?void 0:V.message)??"Failed to send unlock command")}u(!1)}}})]}):w.jsx("div",{className:"container mx-auto p-6",children:"Locker not found."})}var mH="Label",MN=A.forwardRef((e,t)=>w.jsx(st.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));MN.displayName=mH;var jN=MN;const gH=Rd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),cr=A.forwardRef(({className:e,...t},n)=>w.jsx(jN,{ref:n,className:at(gH(),e),...t}));cr.displayName=jN.displayName;function zN(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ow(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var DN=["PageUp","PageDown"],BN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],FN={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Hc="Slider",[Hv,yH,vH]=Pp(Hc),[UN,qW]=$n(Hc,[vH]),[wH,Kp]=UN(Hc),$N=A.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:a=1,orientation:c="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:p=[r],value:g,onValueChange:m=()=>{},onValueCommit:b=()=>{},inverted:x=!1,form:k,...v}=e,E=A.useRef(new Set),S=A.useRef(0),R=c==="horizontal"?_H:xH,[z=[],D]=zo({prop:g,defaultProp:p,onChange:J=>{var X;(X=[...E.current][S.current])==null||X.focus(),m(J)}}),Z=A.useRef(z);function V(J){const F=CH(z,J);q(J,F)}function Y(J){q(J,S.current)}function U(){const J=Z.current[S.current];z[S.current]!==J&&b(z)}function q(J,F,{commit:X}={commit:!1}){const O=AH(a),K=RH(Math.round((J-r)/a)*a+r,O),ae=zN(K,[r,i]);D((oe=[])=>{const re=kH(oe,ae,F);if(NH(re,d*a)){S.current=re.indexOf(ae);const te=String(re)!==String(oe);return te&&X&&b(re),te?re:oe}else return oe})}return w.jsx(wH,{scope:e.__scopeSlider,name:n,disabled:u,min:r,max:i,valueIndexToChangeRef:S,thumbs:E.current,values:z,orientation:c,form:k,children:w.jsx(Hv.Provider,{scope:e.__scopeSlider,children:w.jsx(Hv.Slot,{scope:e.__scopeSlider,children:w.jsx(R,{"aria-disabled":u,"data-disabled":u?"":void 0,...v,ref:t,onPointerDown:qe(v.onPointerDown,()=>{u||(Z.current=z)}),min:r,max:i,inverted:x,onSlideStart:u?void 0:V,onSlideMove:u?void 0:Y,onSlideEnd:u?void 0:U,onHomeKeyDown:()=>!u&&q(r,0,{commit:!0}),onEndKeyDown:()=>!u&&q(i,z.length-1,{commit:!0}),onStepKeyDown:({event:J,direction:F})=>{if(!u){const K=DN.includes(J.key)||J.shiftKey&&BN.includes(J.key)?10:1,ae=S.current,oe=z[ae],re=a*K*F;q(oe+re,ae,{commit:!0})}}})})})})});$N.displayName=Hc;var[ZN,HN]=UN(Hc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_H=A.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:a,onSlideStart:c,onSlideMove:u,onSlideEnd:d,onStepKeyDown:p,...g}=e,[m,b]=A.useState(null),x=Tt(t,R=>b(R)),k=A.useRef(void 0),v=jd(i),E=v==="ltr",S=E&&!a||!E&&a;function T(R){const z=k.current||m.getBoundingClientRect(),D=[0,z.width],V=Mw(D,S?[n,r]:[r,n]);return k.current=z,V(R-z.left)}return w.jsx(ZN,{scope:e.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:w.jsx(WN,{dir:v,"data-orientation":"horizontal",...g,ref:x,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:R=>{const z=T(R.clientX);c==null||c(z)},onSlideMove:R=>{const z=T(R.clientX);u==null||u(z)},onSlideEnd:()=>{k.current=void 0,d==null||d()},onStepKeyDown:R=>{const D=FN[S?"from-left":"from-right"].includes(R.key);p==null||p({event:R,direction:D?-1:1})}})})}),xH=A.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:a,onSlideMove:c,onSlideEnd:u,onStepKeyDown:d,...p}=e,g=A.useRef(null),m=Tt(t,g),b=A.useRef(void 0),x=!i;function k(v){const E=b.current||g.current.getBoundingClientRect(),S=[0,E.height],R=Mw(S,x?[r,n]:[n,r]);return b.current=E,R(v-E.top)}return w.jsx(ZN,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:w.jsx(WN,{"data-orientation":"vertical",...p,ref:m,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const E=k(v.clientY);a==null||a(E)},onSlideMove:v=>{const E=k(v.clientY);c==null||c(E)},onSlideEnd:()=>{b.current=void 0,u==null||u()},onStepKeyDown:v=>{const S=FN[x?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:S?-1:1})}})})}),WN=A.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:c,onEndKeyDown:u,onStepKeyDown:d,...p}=e,g=Kp(Hc,n);return w.jsx(st.span,{...p,ref:t,onKeyDown:qe(e.onKeyDown,m=>{m.key==="Home"?(c(m),m.preventDefault()):m.key==="End"?(u(m),m.preventDefault()):DN.concat(BN).includes(m.key)&&(d(m),m.preventDefault())}),onPointerDown:qe(e.onPointerDown,m=>{const b=m.target;b.setPointerCapture(m.pointerId),m.preventDefault(),g.thumbs.has(b)?b.focus():r(m)}),onPointerMove:qe(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:qe(e.onPointerUp,m=>{const b=m.target;b.hasPointerCapture(m.pointerId)&&(b.releasePointerCapture(m.pointerId),a(m))})})}),VN="SliderTrack",qN=A.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Kp(VN,n);return w.jsx(st.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});qN.displayName=VN;var Wv="SliderRange",KN=A.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Kp(Wv,n),a=HN(Wv,n),c=A.useRef(null),u=Tt(t,c),d=i.values.length,p=i.values.map(b=>JN(b,i.min,i.max)),g=d>1?Math.min(...p):0,m=100-Math.max(...p);return w.jsx(st.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:u,style:{...e.style,[a.startEdge]:g+"%",[a.endEdge]:m+"%"}})});KN.displayName=Wv;var Vv="SliderThumb",GN=A.forwardRef((e,t)=>{const n=yH(e.__scopeSlider),[r,i]=A.useState(null),a=Tt(t,u=>i(u)),c=A.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return w.jsx(bH,{...e,ref:a,index:c})}),bH=A.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...a}=e,c=Kp(Vv,n),u=HN(Vv,n),[d,p]=A.useState(null),g=Tt(t,T=>p(T)),m=d?c.form||!!d.closest("form"):!0,b=Mp(d),x=c.values[r],k=x===void 0?0:JN(x,c.min,c.max),v=SH(r,c.values.length),E=b==null?void 0:b[u.size],S=E?PH(E,k,u.direction):0;return A.useEffect(()=>{if(d)return c.thumbs.add(d),()=>{c.thumbs.delete(d)}},[d,c.thumbs]),w.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${k}% + ${S}px)`},children:[w.jsx(Hv.ItemSlot,{scope:e.__scopeSlider,children:w.jsx(st.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":c.min,"aria-valuenow":x,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...a,ref:g,style:x===void 0?{display:"none"}:e.style,onFocus:qe(e.onFocus,()=>{c.valueIndexToChangeRef.current=r})})}),m&&w.jsx(YN,{name:i??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:x},r)]})});GN.displayName=Vv;var EH="RadioBubbleInput",YN=A.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=A.useRef(null),a=Tt(i,r),c=Ow(t);return A.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==t&&g){const m=new Event("input",{bubbles:!0});g.call(u,t),u.dispatchEvent(m)}},[c,t]),w.jsx(st.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});YN.displayName=EH;function kH(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,a)=>i-a)}function JN(e,t,n){const a=100/(n-t)*(e-t);return zN(a,[0,100])}function SH(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function CH(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function PH(e,t,n){const r=e/2,a=Mw([0,50],[0,r]);return(r-a(t)*n)*n}function TH(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function NH(e,t){if(t>0){const n=TH(e);return Math.min(...n)>=t}return!0}function Mw(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function AH(e){return(String(e).split(".")[1]||"").length}function RH(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var QN=$N,IH=qN,LH=KN,OH=GN;const XN=A.forwardRef(({className:e,...t},n)=>w.jsxs(QN,{ref:n,className:at("relative flex w-full touch-none select-none items-center",e),...t,children:[w.jsx(IH,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:w.jsx(LH,{className:"absolute h-full bg-primary"})}),w.jsx(OH,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));XN.displayName=QN.displayName;var Yu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var MH=Yu.exports,u2;function jH(){return u2||(u2=1,function(e,t){(function(n,r){r(t)})(MH,function(n){var r="1.9.4";function i(s){var f,y,C,j;for(y=1,C=arguments.length;y<C;y++){j=arguments[y];for(f in j)s[f]=j[f]}return s}var a=Object.create||function(){function s(){}return function(f){return s.prototype=f,new s}}();function c(s,f){var y=Array.prototype.slice;if(s.bind)return s.bind.apply(s,y.call(arguments,1));var C=y.call(arguments,2);return function(){return s.apply(f,C.length?C.concat(y.call(arguments)):arguments)}}var u=0;function d(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function p(s,f,y){var C,j,G,ce;return ce=function(){C=!1,j&&(G.apply(y,j),j=!1)},G=function(){C?j=arguments:(s.apply(y,arguments),setTimeout(ce,f),C=!0)},G}function g(s,f,y){var C=f[1],j=f[0],G=C-j;return s===C&&y?s:((s-j)%G+G)%G+j}function m(){return!1}function b(s,f){if(f===!1)return s;var y=Math.pow(10,f===void 0?6:f);return Math.round(s*y)/y}function x(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function k(s){return x(s).split(/\s+/)}function v(s,f){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?a(s.options):{});for(var y in f)s.options[y]=f[y];return s.options}function E(s,f,y){var C=[];for(var j in s)C.push(encodeURIComponent(y?j.toUpperCase():j)+"="+encodeURIComponent(s[j]));return(!f||f.indexOf("?")===-1?"?":"&")+C.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function T(s,f){return s.replace(S,function(y,C){var j=f[C];if(j===void 0)throw new Error("No value provided for variable "+y);return typeof j=="function"&&(j=j(f)),j})}var R=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function z(s,f){for(var y=0;y<s.length;y++)if(s[y]===f)return y;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var V=0;function Y(s){var f=+new Date,y=Math.max(0,16-(f-V));return V=f+y,window.setTimeout(s,y)}var U=window.requestAnimationFrame||Z("RequestAnimationFrame")||Y,q=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function J(s,f,y){if(y&&U===Y)s.call(f);else return U.call(window,c(s,f))}function F(s){s&&q.call(window,s)}var X={__proto__:null,extend:i,create:a,bind:c,get lastId(){return u},stamp:d,throttle:p,wrapNum:g,falseFn:m,formatNum:b,trim:x,splitWords:k,setOptions:v,getParamString:E,template:T,isArray:R,indexOf:z,emptyImageUrl:D,requestFn:U,cancelFn:q,requestAnimFrame:J,cancelAnimFrame:F};function O(){}O.extend=function(s){var f=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=f.__super__=this.prototype,C=a(y);C.constructor=f,f.prototype=C;for(var j in this)Object.prototype.hasOwnProperty.call(this,j)&&j!=="prototype"&&j!=="__super__"&&(f[j]=this[j]);return s.statics&&i(f,s.statics),s.includes&&(K(s.includes),i.apply(null,[C].concat(s.includes))),i(C,s),delete C.statics,delete C.includes,C.options&&(C.options=y.options?a(y.options):{},i(C.options,s.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var G=0,ce=C._initHooks.length;G<ce;G++)C._initHooks[G].call(this)}},f},O.include=function(s){var f=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=f,this.mergeOptions(s.options)),this},O.mergeOptions=function(s){return i(this.prototype.options,s),this},O.addInitHook=function(s){var f=Array.prototype.slice.call(arguments,1),y=typeof s=="function"?s:function(){this[s].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function K(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=R(s)?s:[s];for(var f=0;f<s.length;f++)s[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(s,f,y){if(typeof s=="object")for(var C in s)this._on(C,s[C],f);else{s=k(s);for(var j=0,G=s.length;j<G;j++)this._on(s[j],f,y)}return this},off:function(s,f,y){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var C in s)this._off(C,s[C],f);else{s=k(s);for(var j=arguments.length===1,G=0,ce=s.length;G<ce;G++)j?this._off(s[G]):this._off(s[G],f,y)}return this},_on:function(s,f,y,C){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(s,f,y)===!1){y===this&&(y=void 0);var j={fn:f,ctx:y};C&&(j.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(j)}},_off:function(s,f,y){var C,j,G;if(this._events&&(C=this._events[s],!!C)){if(arguments.length===1){if(this._firingCount)for(j=0,G=C.length;j<G;j++)C[j].fn=m;delete this._events[s];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var ce=this._listens(s,f,y);if(ce!==!1){var ge=C[ce];this._firingCount&&(ge.fn=m,this._events[s]=C=C.slice()),C.splice(ce,1)}}},fire:function(s,f,y){if(!this.listens(s,y))return this;var C=i({},f,{type:s,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var j=this._events[s];if(j){this._firingCount=this._firingCount+1||1;for(var G=0,ce=j.length;G<ce;G++){var ge=j[G],be=ge.fn;ge.once&&this.off(s,be,ge.ctx),be.call(ge.ctx||this,C)}this._firingCount--}}return y&&this._propagateEvent(C),this},listens:function(s,f,y,C){typeof s!="string"&&console.warn('"string" type argument expected');var j=f;typeof f!="function"&&(C=!!f,j=void 0,y=void 0);var G=this._events&&this._events[s];if(G&&G.length&&this._listens(s,j,y)!==!1)return!0;if(C){for(var ce in this._eventParents)if(this._eventParents[ce].listens(s,f,y,C))return!0}return!1},_listens:function(s,f,y){if(!this._events)return!1;var C=this._events[s]||[];if(!f)return!!C.length;y===this&&(y=void 0);for(var j=0,G=C.length;j<G;j++)if(C[j].fn===f&&C[j].ctx===y)return j;return!1},once:function(s,f,y){if(typeof s=="object")for(var C in s)this._on(C,s[C],f,!0);else{s=k(s);for(var j=0,G=s.length;j<G;j++)this._on(s[j],f,y,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[d(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[d(s)],this},_propagateEvent:function(s){for(var f in this._eventParents)this._eventParents[f].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var oe=O.extend(ae);function re(s,f,y){this.x=y?Math.round(s):s,this.y=y?Math.round(f):f}var te=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(s){return this.clone()._add(le(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(le(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new re(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new re(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(s){s=le(s);var f=s.x-this.x,y=s.y-this.y;return Math.sqrt(f*f+y*y)},equals:function(s){return s=le(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=le(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function le(s,f,y){return s instanceof re?s:R(s)?new re(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new re(s.x,s.y):new re(s,f,y)}function $(s,f){if(s)for(var y=f?[s,f]:s,C=0,j=y.length;C<j;C++)this.extend(y[C])}$.prototype={extend:function(s){var f,y;if(!s)return this;if(s instanceof re||typeof s[0]=="number"||"x"in s)f=y=le(s);else if(s=Q(s),f=s.min,y=s.max,!f||!y)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=y.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(s){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var f,y;return typeof s[0]=="number"||s instanceof re?s=le(s):s=Q(s),s instanceof $?(f=s.min,y=s.max):f=y=s,f.x>=this.min.x&&y.x<=this.max.x&&f.y>=this.min.y&&y.y<=this.max.y},intersects:function(s){s=Q(s);var f=this.min,y=this.max,C=s.min,j=s.max,G=j.x>=f.x&&C.x<=y.x,ce=j.y>=f.y&&C.y<=y.y;return G&&ce},overlaps:function(s){s=Q(s);var f=this.min,y=this.max,C=s.min,j=s.max,G=j.x>f.x&&C.x<y.x,ce=j.y>f.y&&C.y<y.y;return G&&ce},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var f=this.min,y=this.max,C=Math.abs(f.x-y.x)*s,j=Math.abs(f.y-y.y)*s;return Q(le(f.x-C,f.y-j),le(y.x+C,y.y+j))},equals:function(s){return s?(s=Q(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Q(s,f){return!s||s instanceof $?s:new $(s,f)}function Ce(s,f){if(s)for(var y=f?[s,f]:s,C=0,j=y.length;C<j;C++)this.extend(y[C])}Ce.prototype={extend:function(s){var f=this._southWest,y=this._northEast,C,j;if(s instanceof ve)C=s,j=s;else if(s instanceof Ce){if(C=s._southWest,j=s._northEast,!C||!j)return this}else return s?this.extend(Re(s)||xe(s)):this;return!f&&!y?(this._southWest=new ve(C.lat,C.lng),this._northEast=new ve(j.lat,j.lng)):(f.lat=Math.min(C.lat,f.lat),f.lng=Math.min(C.lng,f.lng),y.lat=Math.max(j.lat,y.lat),y.lng=Math.max(j.lng,y.lng)),this},pad:function(s){var f=this._southWest,y=this._northEast,C=Math.abs(f.lat-y.lat)*s,j=Math.abs(f.lng-y.lng)*s;return new Ce(new ve(f.lat-C,f.lng-j),new ve(y.lat+C,y.lng+j))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ve||"lat"in s?s=Re(s):s=xe(s);var f=this._southWest,y=this._northEast,C,j;return s instanceof Ce?(C=s.getSouthWest(),j=s.getNorthEast()):C=j=s,C.lat>=f.lat&&j.lat<=y.lat&&C.lng>=f.lng&&j.lng<=y.lng},intersects:function(s){s=xe(s);var f=this._southWest,y=this._northEast,C=s.getSouthWest(),j=s.getNorthEast(),G=j.lat>=f.lat&&C.lat<=y.lat,ce=j.lng>=f.lng&&C.lng<=y.lng;return G&&ce},overlaps:function(s){s=xe(s);var f=this._southWest,y=this._northEast,C=s.getSouthWest(),j=s.getNorthEast(),G=j.lat>f.lat&&C.lat<y.lat,ce=j.lng>f.lng&&C.lng<y.lng;return G&&ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,f){return s?(s=xe(s),this._southWest.equals(s.getSouthWest(),f)&&this._northEast.equals(s.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(s,f){return s instanceof Ce?s:new Ce(s,f)}function ve(s,f,y){if(isNaN(s)||isNaN(f))throw new Error("Invalid LatLng object: ("+s+", "+f+")");this.lat=+s,this.lng=+f,y!==void 0&&(this.alt=+y)}ve.prototype={equals:function(s,f){if(!s)return!1;s=Re(s);var y=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return y<=(f===void 0?1e-9:f)},toString:function(s){return"LatLng("+b(this.lat,s)+", "+b(this.lng,s)+")"},distanceTo:function(s){return Me.distance(this,Re(s))},wrap:function(){return Me.wrapLatLng(this)},toBounds:function(s){var f=180*s/40075017,y=f/Math.cos(Math.PI/180*this.lat);return xe([this.lat-f,this.lng-y],[this.lat+f,this.lng+y])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function Re(s,f,y){return s instanceof ve?s:R(s)&&typeof s[0]!="object"?s.length===3?new ve(s[0],s[1],s[2]):s.length===2?new ve(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ve(s.lat,"lng"in s?s.lng:s.lon,s.alt):f===void 0?null:new ve(s,f,y)}var Ue={latLngToPoint:function(s,f){var y=this.projection.project(s),C=this.scale(f);return this.transformation._transform(y,C)},pointToLatLng:function(s,f){var y=this.scale(f),C=this.transformation.untransform(s,y);return this.projection.unproject(C)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var f=this.projection.bounds,y=this.scale(s),C=this.transformation.transform(f.min,y),j=this.transformation.transform(f.max,y);return new $(C,j)},infinite:!1,wrapLatLng:function(s){var f=this.wrapLng?g(s.lng,this.wrapLng,!0):s.lng,y=this.wrapLat?g(s.lat,this.wrapLat,!0):s.lat,C=s.alt;return new ve(y,f,C)},wrapLatLngBounds:function(s){var f=s.getCenter(),y=this.wrapLatLng(f),C=f.lat-y.lat,j=f.lng-y.lng;if(C===0&&j===0)return s;var G=s.getSouthWest(),ce=s.getNorthEast(),ge=new ve(G.lat-C,G.lng-j),be=new ve(ce.lat-C,ce.lng-j);return new Ce(ge,be)}},Me=i({},Ue,{wrapLng:[-180,180],R:6371e3,distance:function(s,f){var y=Math.PI/180,C=s.lat*y,j=f.lat*y,G=Math.sin((f.lat-s.lat)*y/2),ce=Math.sin((f.lng-s.lng)*y/2),ge=G*G+Math.cos(C)*Math.cos(j)*ce*ce,be=2*Math.atan2(Math.sqrt(ge),Math.sqrt(1-ge));return this.R*be}}),Be=6378137,nt={R:Be,MAX_LATITUDE:85.0511287798,project:function(s){var f=Math.PI/180,y=this.MAX_LATITUDE,C=Math.max(Math.min(y,s.lat),-y),j=Math.sin(C*f);return new re(this.R*s.lng*f,this.R*Math.log((1+j)/(1-j))/2)},unproject:function(s){var f=180/Math.PI;return new ve((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*f,s.x*f/this.R)},bounds:function(){var s=Be*Math.PI;return new $([-s,-s],[s,s])}()};function wt(s,f,y,C){if(R(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=f,this._c=y,this._d=C}wt.prototype={transform:function(s,f){return this._transform(s.clone(),f)},_transform:function(s,f){return f=f||1,s.x=f*(this._a*s.x+this._b),s.y=f*(this._c*s.y+this._d),s},untransform:function(s,f){return f=f||1,new re((s.x/f-this._b)/this._a,(s.y/f-this._d)/this._c)}};function At(s,f,y,C){return new wt(s,f,y,C)}var ft=i({},Me,{code:"EPSG:3857",projection:nt,transformation:function(){var s=.5/(Math.PI*nt.R);return At(s,.5,-s,.5)}()}),B=i({},ft,{code:"EPSG:900913"});function Pe(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function ke(s,f){var y="",C,j,G,ce,ge,be;for(C=0,G=s.length;C<G;C++){for(ge=s[C],j=0,ce=ge.length;j<ce;j++)be=ge[j],y+=(j?"L":"M")+be.x+" "+be.y;y+=f?Qe.svg?"z":"x":""}return y||"M0 0"}var ie=document.documentElement.style,ne="ActiveXObject"in window,pe=ne&&!document.addEventListener,Ne="msLaunchUri"in navigator&&!("documentMode"in document),Ae=Nn("webkit"),me=Nn("android"),ze=Nn("android 2")||Nn("android 3"),He=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),je=me&&Nn("Google")&&He<537&&!("AudioNode"in window),Je=!!window.opera,W=!Ne&&Nn("chrome"),N=Nn("gecko")&&!Ae&&!Je&&!ne,M=!W&&Nn("safari"),ee=Nn("phantom"),fe="OTransition"in ie,_e=navigator.platform.indexOf("Win")===0,Se=ne&&"transition"in ie,lt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ze,Lt="MozPerspective"in ie,vt=!window.L_DISABLE_3D&&(Se||lt||Lt)&&!fe&&!ee,Et=typeof orientation<"u"||Nn("mobile"),kt=Et&&Ae,ra=Et&&lt,Do=!window.PointerEvent&&window.MSPointerEvent,Ir=!!(window.PointerEvent||Do),Zn="ontouchstart"in window||!!window.TouchEvent,qi=!window.L_NO_TOUCH&&(Zn||Ir),Fd=Et&&Je,Ud=Et&&N,$d=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zd=function(){var s=!1;try{var f=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",m,f),window.removeEventListener("testPassiveEventSupport",m,f)}catch{}return s}(),Wc=function(){return!!document.createElement("canvas").getContext}(),ol=!!(document.createElementNS&&Pe("svg").createSVGRect),ia=!!ol&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Vc=!ol&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var f=s.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),oa=navigator.platform.indexOf("Mac")===0,Jp=navigator.platform.indexOf("Linux")===0;function Nn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Qe={ie:ne,ielt9:pe,edge:Ne,webkit:Ae,android:me,android23:ze,androidStock:je,opera:Je,chrome:W,gecko:N,safari:M,phantom:ee,opera12:fe,win:_e,ie3d:Se,webkit3d:lt,gecko3d:Lt,any3d:vt,mobile:Et,mobileWebkit:kt,mobileWebkit3d:ra,msPointer:Do,pointer:Ir,touch:qi,touchNative:Zn,mobileOpera:Fd,mobileGecko:Ud,retina:$d,passiveEvents:Zd,canvas:Wc,svg:ol,vml:Vc,inlineSvg:ia,mac:oa,linux:Jp},sa=Qe.msPointer?"MSPointerDown":"pointerdown",sl=Qe.msPointer?"MSPointerMove":"pointermove",Hd=Qe.msPointer?"MSPointerUp":"pointerup",Wd=Qe.msPointer?"MSPointerCancel":"pointercancel",qc={touchstart:sa,touchmove:sl,touchend:Hd,touchcancel:Wd},wi={touchstart:Jt,touchmove:al,touchend:al,touchcancel:al},Ki={},Kc=!1;function Qp(s,f,y){return f==="touchstart"&&Xp(),wi[f]?(y=wi[f].bind(this,y),s.addEventListener(qc[f],y,!1),y):(console.warn("wrong event specified:",f),m)}function Vd(s,f,y){if(!qc[f]){console.warn("wrong event specified:",f);return}s.removeEventListener(qc[f],y,!1)}function qd(s){Ki[s.pointerId]=s}function Kd(s){Ki[s.pointerId]&&(Ki[s.pointerId]=s)}function Gc(s){delete Ki[s.pointerId]}function Xp(){Kc||(document.addEventListener(sa,qd,!0),document.addEventListener(sl,Kd,!0),document.addEventListener(Hd,Gc,!0),document.addEventListener(Wd,Gc,!0),Kc=!0)}function al(s,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var y in Ki)f.touches.push(Ki[y]);f.changedTouches=[f],s(f)}}function Jt(s,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&Qt(f),al(s,f)}function em(s){var f={},y,C;for(C in s)y=s[C],f[C]=y&&y.bind?y.bind(s):y;return s=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var Yc=200;function Gd(s,f){s.addEventListener("dblclick",f);var y=0,C;function j(G){if(G.detail!==1){C=G.detail;return}if(!(G.pointerType==="mouse"||G.sourceCapabilities&&!G.sourceCapabilities.firesTouchEvents)){var ce=Ji(G);if(!(ce.some(function(be){return be instanceof HTMLLabelElement&&be.attributes.for})&&!ce.some(function(be){return be instanceof HTMLInputElement||be instanceof HTMLSelectElement}))){var ge=Date.now();ge-y<=Yc?(C++,C===2&&f(em(G))):C=1,y=ge}}}return s.addEventListener("click",j),{dblclick:f,simDblclick:j}}function ll(s,f){s.removeEventListener("dblclick",f.dblclick),s.removeEventListener("click",f.simDblclick)}var Jc=$o(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Bo=$o(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),aa=Bo==="webkitTransition"||Bo==="OTransition"?Bo+"End":"transitionend";function gr(s){return typeof s=="string"?document.getElementById(s):s}function la(s,f){var y=s.style[f]||s.currentStyle&&s.currentStyle[f];if((!y||y==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(s,null);y=C?C[f]:null}return y==="auto"?null:y}function ht(s,f,y){var C=document.createElement(s);return C.className=f||"",y&&y.appendChild(C),C}function Zt(s){var f=s.parentNode;f&&f.removeChild(s)}function cl(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Fo(s){var f=s.parentNode;f&&f.lastChild!==s&&f.appendChild(s)}function ei(s){var f=s.parentNode;f&&f.firstChild!==s&&f.insertBefore(s,f.firstChild)}function Uo(s,f){if(s.classList!==void 0)return s.classList.contains(f);var y=ul(s);return y.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(y)}function dt(s,f){if(s.classList!==void 0)for(var y=k(f),C=0,j=y.length;C<j;C++)s.classList.add(y[C]);else if(!Uo(s,f)){var G=ul(s);Qc(s,(G?G+" ":"")+f)}}function Ut(s,f){s.classList!==void 0?s.classList.remove(f):Qc(s,x((" "+ul(s)+" ").replace(" "+f+" "," ")))}function Qc(s,f){s.className.baseVal===void 0?s.className=f:s.className.baseVal=f}function ul(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function An(s,f){"opacity"in s.style?s.style.opacity=f:"filter"in s.style&&Yd(s,f)}function Yd(s,f){var y=!1,C="DXImageTransform.Microsoft.Alpha";try{y=s.filters.item(C)}catch{if(f===1)return}f=Math.round(f*100),y?(y.Enabled=f!==100,y.Opacity=f):s.style.filter+=" progid:"+C+"(opacity="+f+")"}function $o(s){for(var f=document.documentElement.style,y=0;y<s.length;y++)if(s[y]in f)return s[y];return!1}function yr(s,f,y){var C=f||new re(0,0);s.style[Jc]=(Qe.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(y?" scale("+y+")":"")}function nn(s,f){s._leaflet_pos=f,Qe.any3d?yr(s,f):(s.style.left=f.x+"px",s.style.top=f.y+"px")}function ti(s){return s._leaflet_pos||new re(0,0)}var St,Zo,dl;if("onselectstart"in document)St=function(){ct(window,"selectstart",Qt)},Zo=function(){Dt(window,"selectstart",Qt)};else{var Gi=$o(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);St=function(){if(Gi){var s=document.documentElement.style;dl=s[Gi],s[Gi]="none"}},Zo=function(){Gi&&(document.documentElement.style[Gi]=dl,dl=void 0)}}function fl(){ct(window,"dragstart",Qt)}function hl(){Dt(window,"dragstart",Qt)}var ca,ua;function Ho(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(vr(),ca=s,ua=s.style.outlineStyle,s.style.outlineStyle="none",ct(window,"keydown",vr))}function vr(){ca&&(ca.style.outlineStyle=ua,ca=void 0,ua=void 0,Dt(window,"keydown",vr))}function ni(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Lr(s){var f=s.getBoundingClientRect();return{x:f.width/s.offsetWidth||1,y:f.height/s.offsetHeight||1,boundingClientRect:f}}var da={__proto__:null,TRANSFORM:Jc,TRANSITION:Bo,TRANSITION_END:aa,get:gr,getStyle:la,create:ht,remove:Zt,empty:cl,toFront:Fo,toBack:ei,hasClass:Uo,addClass:dt,removeClass:Ut,setClass:Qc,getClass:ul,setOpacity:An,testProp:$o,setTransform:yr,setPosition:nn,getPosition:ti,get disableTextSelection(){return St},get enableTextSelection(){return Zo},disableImageDrag:fl,enableImageDrag:hl,preventOutline:Ho,restoreOutline:vr,getSizedParentNode:ni,getScale:Lr};function ct(s,f,y,C){if(f&&typeof f=="object")for(var j in f)eu(s,j,f[j],y);else{f=k(f);for(var G=0,ce=f.length;G<ce;G++)eu(s,f[G],y,C)}return this}var pn="_leaflet_events";function Dt(s,f,y,C){if(arguments.length===1)Xc(s),delete s[pn];else if(f&&typeof f=="object")for(var j in f)pl(s,j,f[j],y);else if(f=k(f),arguments.length===2)Xc(s,function(ge){return z(f,ge)!==-1});else for(var G=0,ce=f.length;G<ce;G++)pl(s,f[G],y,C);return this}function Xc(s,f){for(var y in s[pn]){var C=y.split(/\d/)[0];(!f||f(C))&&pl(s,C,null,null,y)}}var Yi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function eu(s,f,y,C){var j=f+d(y)+(C?"_"+d(C):"");if(s[pn]&&s[pn][j])return this;var G=function(ge){return y.call(C||s,ge||window.event)},ce=G;!Qe.touchNative&&Qe.pointer&&f.indexOf("touch")===0?G=Qp(s,f,G):Qe.touch&&f==="dblclick"?G=Gd(s,G):"addEventListener"in s?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?s.addEventListener(Yi[f]||f,G,Qe.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(G=function(ge){ge=ge||window.event,pa(s,ge)&&ce(ge)},s.addEventListener(Yi[f],G,!1)):s.addEventListener(f,ce,!1):s.attachEvent("on"+f,G),s[pn]=s[pn]||{},s[pn][j]=G}function pl(s,f,y,C,j){j=j||f+d(y)+(C?"_"+d(C):"");var G=s[pn]&&s[pn][j];if(!G)return this;!Qe.touchNative&&Qe.pointer&&f.indexOf("touch")===0?Vd(s,f,G):Qe.touch&&f==="dblclick"?ll(s,G):"removeEventListener"in s?s.removeEventListener(Yi[f]||f,G,!1):s.detachEvent("on"+f,G),s[pn][j]=null}function Or(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ml(s){return eu(s,"wheel",Or),this}function fa(s){return ct(s,"mousedown touchstart dblclick contextmenu",Or),s._leaflet_disable_click=!0,this}function Qt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function wr(s){return Qt(s),Or(s),this}function Ji(s){if(s.composedPath)return s.composedPath();for(var f=[],y=s.target;y;)f.push(y),y=y.parentNode;return f}function ha(s,f){if(!f)return new re(s.clientX,s.clientY);var y=Lr(f),C=y.boundingClientRect;return new re((s.clientX-C.left)/y.x-f.clientLeft,(s.clientY-C.top)/y.y-f.clientTop)}var tm=Qe.linux&&Qe.chrome?window.devicePixelRatio:Qe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jd(s){return Qe.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/tm:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function pa(s,f){var y=f.relatedTarget;if(!y)return!0;try{for(;y&&y!==s;)y=y.parentNode}catch{return!1}return y!==s}var gl={__proto__:null,on:ct,off:Dt,stopPropagation:Or,disableScrollPropagation:ml,disableClickPropagation:fa,preventDefault:Qt,stop:wr,getPropagationPath:Ji,getMousePosition:ha,getWheelDelta:Jd,isExternalTarget:pa,addListener:ct,removeListener:Dt},yl=oe.extend({run:function(s,f,y,C){this.stop(),this._el=s,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=ti(s),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(s){var f=+new Date-this._startTime,y=this._duration*1e3;f<y?this._runFrame(this._easeOut(f/y),s):(this._runFrame(1),this._complete())},_runFrame:function(s,f){var y=this._startPos.add(this._offset.multiplyBy(s));f&&y._round(),nn(this._el,y),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),xt=oe.extend({options:{crs:ft,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,f){f=v(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(Re(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Bo&&Qe.any3d&&!Qe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ct(this._proxy,aa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,f,y){if(f=f===void 0?this._zoom:this._limitZoom(f),s=this._limitCenter(Re(s),f,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=i({animate:y.animate},y.zoom),y.pan=i({animate:y.animate,duration:y.duration},y.pan));var C=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,f,y.zoom):this._tryAnimatedPan(s,y.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(s,f,y.pan&&y.pan.noMoveStart),this},setZoom:function(s,f){return this._loaded?this.setView(this.getCenter(),s,{zoom:f}):(this._zoom=s,this)},zoomIn:function(s,f){return s=s||(Qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,f)},zoomOut:function(s,f){return s=s||(Qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,f)},setZoomAround:function(s,f,y){var C=this.getZoomScale(f),j=this.getSize().divideBy(2),G=s instanceof re?s:this.latLngToContainerPoint(s),ce=G.subtract(j).multiplyBy(1-1/C),ge=this.containerPointToLatLng(j.add(ce));return this.setView(ge,f,{zoom:y})},_getBoundsCenterZoom:function(s,f){f=f||{},s=s.getBounds?s.getBounds():xe(s);var y=le(f.paddingTopLeft||f.padding||[0,0]),C=le(f.paddingBottomRight||f.padding||[0,0]),j=this.getBoundsZoom(s,!1,y.add(C));if(j=typeof f.maxZoom=="number"?Math.min(f.maxZoom,j):j,j===1/0)return{center:s.getCenter(),zoom:j};var G=C.subtract(y).divideBy(2),ce=this.project(s.getSouthWest(),j),ge=this.project(s.getNorthEast(),j),be=this.unproject(ce.add(ge).divideBy(2).add(G),j);return{center:be,zoom:j}},fitBounds:function(s,f){if(s=xe(s),!s.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(s,f);return this.setView(y.center,y.zoom,f)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,f){return this.setView(s,this._zoom,{pan:f})},panBy:function(s,f){if(s=le(s).round(),f=f||{},!s.x&&!s.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new yl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){dt(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,y,f.duration||.25,f.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,f,y){if(y=y||{},y.animate===!1||!Qe.any3d)return this.setView(s,f,y);this._stop();var C=this.project(this.getCenter()),j=this.project(s),G=this.getSize(),ce=this._zoom;s=Re(s),f=f===void 0?ce:f;var ge=Math.max(G.x,G.y),be=ge*this.getZoomScale(ce,f),Ie=j.distanceTo(C)||1,Ze=1.42,rt=Ze*Ze;function gt(Mt){var os=Mt?-1:1,mm=Mt?be:ge,gm=be*be-ge*ge+os*rt*rt*Ie*Ie,io=2*mm*rt*Ie,oo=gm/io,so=Math.sqrt(oo*oo+1)-oo,Rl=so<1e-9?-18:Math.log(so);return Rl}function mn(Mt){return(Math.exp(Mt)-Math.exp(-Mt))/2}function dn(Mt){return(Math.exp(Mt)+Math.exp(-Mt))/2}function Vn(Mt){return mn(Mt)/dn(Mt)}var In=gt(0);function rs(Mt){return ge*(dn(In)/dn(In+Ze*Mt))}function xu(Mt){return ge*(dn(In)*Vn(In+Ze*Mt)-mn(In))/rt}function Pi(Mt){return 1-Math.pow(1-Mt,1.5)}var wf=Date.now(),ro=(gt(1)-In)/Ze,Dr=y.duration?1e3*y.duration:1e3*ro*.8;function is(){var Mt=(Date.now()-wf)/Dr,os=Pi(Mt)*ro;Mt<=1?(this._flyToFrame=J(is,this),this._move(this.unproject(C.add(j.subtract(C).multiplyBy(xu(os)/Ie)),ce),this.getScaleZoom(ge/rs(os),ce),{flyTo:!0})):this._move(s,f)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),is.call(this),this},flyToBounds:function(s,f){var y=this._getBoundsCenterZoom(s,f);return this.flyTo(y.center,y.zoom,f)},setMaxBounds:function(s){return s=xe(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var f=this.options.minZoom;return this.options.minZoom=s,this._loaded&&f!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var f=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&f!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,f){this._enforcingBounds=!0;var y=this.getCenter(),C=this._limitCenter(y,this._zoom,xe(s));return y.equals(C)||this.panTo(C,f),this._enforcingBounds=!1,this},panInside:function(s,f){f=f||{};var y=le(f.paddingTopLeft||f.padding||[0,0]),C=le(f.paddingBottomRight||f.padding||[0,0]),j=this.project(this.getCenter()),G=this.project(s),ce=this.getPixelBounds(),ge=Q([ce.min.add(y),ce.max.subtract(C)]),be=ge.getSize();if(!ge.contains(G)){this._enforcingBounds=!0;var Ie=G.subtract(ge.getCenter()),Ze=ge.extend(G).getSize().subtract(be);j.x+=Ie.x<0?-Ze.x:Ze.x,j.y+=Ie.y<0?-Ze.y:Ze.y,this.panTo(this.unproject(j),f),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),C=f.divideBy(2).round(),j=y.divideBy(2).round(),G=C.subtract(j);return!G.x&&!G.y?this:(s.animate&&s.pan?this.panBy(G):(s.pan&&this._rawPanBy(G),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=c(this._handleGeolocationResponse,this),y=c(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,y,s):navigator.geolocation.getCurrentPosition(f,y,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var f=s.code,y=s.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var f=s.coords.latitude,y=s.coords.longitude,C=new ve(f,y),j=C.toBounds(s.coords.accuracy*2),G=this._locateOptions;if(G.setView){var ce=this.getBoundsZoom(j);this.setView(C,G.maxZoom?Math.min(ce,G.maxZoom):ce)}var ge={latlng:C,bounds:j,timestamp:s.timestamp};for(var be in s.coords)typeof s.coords[be]=="number"&&(ge[be]=s.coords[be]);this.fire("locationfound",ge)}},addHandler:function(s,f){if(!f)return this;var y=this[s]=new f(this);return this._handlers.push(y),this.options[s]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Zt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Zt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,f){var y="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),C=ht("div",y,f||this._mapPane);return s&&(this._panes[s]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),f=this.unproject(s.getBottomLeft()),y=this.unproject(s.getTopRight());return new Ce(f,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,f,y){s=xe(s),y=le(y||[0,0]);var C=this.getZoom()||0,j=this.getMinZoom(),G=this.getMaxZoom(),ce=s.getNorthWest(),ge=s.getSouthEast(),be=this.getSize().subtract(y),Ie=Q(this.project(ge,C),this.project(ce,C)).getSize(),Ze=Qe.any3d?this.options.zoomSnap:1,rt=be.x/Ie.x,gt=be.y/Ie.y,mn=f?Math.max(rt,gt):Math.min(rt,gt);return C=this.getScaleZoom(mn,C),Ze&&(C=Math.round(C/(Ze/100))*(Ze/100),C=f?Math.ceil(C/Ze)*Ze:Math.floor(C/Ze)*Ze),Math.max(j,Math.min(G,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,f){var y=this._getTopLeftPoint(s,f);return new $(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,f){var y=this.options.crs;return f=f===void 0?this._zoom:f,y.scale(s)/y.scale(f)},getScaleZoom:function(s,f){var y=this.options.crs;f=f===void 0?this._zoom:f;var C=y.zoom(s*y.scale(f));return isNaN(C)?1/0:C},project:function(s,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(Re(s),f)},unproject:function(s,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(le(s),f)},layerPointToLatLng:function(s){var f=le(s).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(s){var f=this.project(Re(s))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Re(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(xe(s))},distance:function(s,f){return this.options.crs.distance(Re(s),Re(f))},containerPointToLayerPoint:function(s){return le(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return le(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var f=this.containerPointToLayerPoint(le(s));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Re(s)))},mouseEventToContainerPoint:function(s){return ha(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var f=this._container=gr(s);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ct(f,"scroll",this._onScroll,this),this._containerId=d(f)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Qe.any3d,dt(s,"leaflet-container"+(Qe.touch?" leaflet-touch":"")+(Qe.retina?" leaflet-retina":"")+(Qe.ielt9?" leaflet-oldie":"")+(Qe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=la(s,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),nn(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dt(s.markerPane,"leaflet-zoom-hide"),dt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,f,y){nn(this._mapPane,new re(0,0));var C=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var j=this._zoom!==f;this._moveStart(j,y)._move(s,f)._moveEnd(j),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(s,f){return s&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(s,f,y,C){f===void 0&&(f=this._zoom);var j=this._zoom!==f;return this._zoom=f,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),C?y&&y.pinch&&this.fire("zoom",y):((j||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){nn(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[d(this._container)]=this;var f=s?Dt:ct;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Qe.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,f){for(var y=[],C,j=f==="mouseout"||f==="mouseover",G=s.target||s.srcElement,ce=!1;G;){if(C=this._targets[d(G)],C&&(f==="click"||f==="preclick")&&this._draggableMoved(C)){ce=!0;break}if(C&&C.listens(f,!0)&&(j&&!pa(G,s)||(y.push(C),j))||G===this._container)break;G=G.parentNode}return!y.length&&!ce&&!j&&this.listens(f,!0)&&(y=[this]),y},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var f=s.target||s.srcElement;if(!(!this._loaded||f._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(f))){var y=s.type;y==="mousedown"&&Ho(f),this._fireDOMEvent(s,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,f,y){if(s.type==="click"){var C=i({},s);C.type="preclick",this._fireDOMEvent(C,C.type,y)}var j=this._findEventTargets(s,f);if(y){for(var G=[],ce=0;ce<y.length;ce++)y[ce].listens(f,!0)&&G.push(y[ce]);j=G.concat(j)}if(j.length){f==="contextmenu"&&Qt(s);var ge=j[0],be={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Ie=ge.getLatLng&&(!ge._radius||ge._radius<=10);be.containerPoint=Ie?this.latLngToContainerPoint(ge.getLatLng()):this.mouseEventToContainerPoint(s),be.layerPoint=this.containerPointToLayerPoint(be.containerPoint),be.latlng=Ie?ge.getLatLng():this.layerPointToLatLng(be.layerPoint)}for(ce=0;ce<j.length;ce++)if(j[ce].fire(f,be,!0),be.originalEvent._stopped||j[ce].options.bubblingMouseEvents===!1&&z(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,f=this._handlers.length;s<f;s++)this._handlers[s].disable()},whenReady:function(s,f){return this._loaded?s.call(f||this,{target:this}):this.on("load",s,f),this},_getMapPanePos:function(){return ti(this._mapPane)||new re(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,f){var y=s&&f!==void 0?this._getNewPixelOrigin(s,f):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,f){var y=this.getSize()._divideBy(2);return this.project(s,f)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,f,y){var C=this._getNewPixelOrigin(y,f);return this.project(s,f)._subtract(C)},_latLngBoundsToNewLayerBounds:function(s,f,y){var C=this._getNewPixelOrigin(y,f);return Q([this.project(s.getSouthWest(),f)._subtract(C),this.project(s.getNorthWest(),f)._subtract(C),this.project(s.getSouthEast(),f)._subtract(C),this.project(s.getNorthEast(),f)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,f,y){if(!y)return s;var C=this.project(s,f),j=this.getSize().divideBy(2),G=new $(C.subtract(j),C.add(j)),ce=this._getBoundsOffset(G,y,f);return Math.abs(ce.x)<=1&&Math.abs(ce.y)<=1?s:this.unproject(C.add(ce),f)},_limitOffset:function(s,f){if(!f)return s;var y=this.getPixelBounds(),C=new $(y.min.add(s),y.max.add(s));return s.add(this._getBoundsOffset(C,f))},_getBoundsOffset:function(s,f,y){var C=Q(this.project(f.getNorthEast(),y),this.project(f.getSouthWest(),y)),j=C.min.subtract(s.min),G=C.max.subtract(s.max),ce=this._rebound(j.x,-G.x),ge=this._rebound(j.y,-G.y);return new re(ce,ge)},_rebound:function(s,f){return s+f>0?Math.round(s-f)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(f))},_limitZoom:function(s){var f=this.getMinZoom(),y=this.getMaxZoom(),C=Qe.any3d?this.options.zoomSnap:1;return C&&(s=Math.round(s/C)*C),Math.max(f,Math.min(y,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ut(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,f){var y=this._getCenterOffset(s)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,f),!0)},_createAnimProxy:function(){var s=this._proxy=ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(f){var y=Jc,C=this._proxy.style[y];yr(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),C===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Zt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),f=this.getZoom();yr(this._proxy,this.project(s,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,f,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(f),j=this._getCenterOffset(s)._divideBy(1-1/C);return y.animate!==!0&&!this.getSize().contains(j)?!1:(J(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(s,f,!0)},this),!0)},_animateZoom:function(s,f,y,C){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=f,dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:f,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ut(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _i(s,f){return new xt(s,f)}var Hn=O.extend({options:{position:"topright"},initialize:function(s){v(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var f=this._map;return f&&f.removeControl(this),this.options.position=s,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var f=this._container=this.onAdd(s),y=this.getPosition(),C=s._controlCorners[y];return dt(f,"leaflet-control"),y.indexOf("bottom")!==-1?C.insertBefore(f,C.firstChild):C.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Zt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),xi=function(s){return new Hn(s)};xt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},f="leaflet-",y=this._controlContainer=ht("div",f+"control-container",this._container);function C(j,G){var ce=f+j+" "+f+G;s[j+G]=ht("div",ce,y)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Zt(this._controlCorners[s]);Zt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var tu=Hn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,f,y,C){return y<C?-1:C<y?1:0}},initialize:function(s,f,y){v(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in s)this._addLayer(s[C],C);for(C in f)this._addLayer(f[C],C,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Hn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,f){return this._addLayer(s,f),this._map?this._update():this},addOverlay:function(s,f){return this._addLayer(s,f,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var f=this._getLayer(d(s));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Ut(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ut(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",f=this._container=ht("div",s),y=this.options.collapsed;f.setAttribute("aria-haspopup",!0),fa(f),ml(f);var C=this._section=ht("section",s+"-list");y&&(this._map.on("click",this.collapse,this),ct(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var j=this._layersLink=ht("a",s+"-toggle",f);j.href="#",j.title="Layers",j.setAttribute("role","button"),ct(j,{keydown:function(G){G.keyCode===13&&this._expandSafely()},click:function(G){Qt(G),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=ht("div",s+"-base",C),this._separator=ht("div",s+"-separator",C),this._overlaysList=ht("div",s+"-overlays",C),f.appendChild(C)},_getLayer:function(s){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&d(this._layers[f].layer)===s)return this._layers[f]},_addLayer:function(s,f,y){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:f,overlay:y}),this.options.sortLayers&&this._layers.sort(c(function(C,j){return this.options.sortFunction(C.layer,j.layer,C.name,j.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cl(this._baseLayersList),cl(this._overlaysList),this._layerControlInputs=[];var s,f,y,C,j=0;for(y=0;y<this._layers.length;y++)C=this._layers[y],this._addItem(C),f=f||C.overlay,s=s||!C.overlay,j+=C.overlay?0:1;return this.options.hideSingleBase&&(s=s&&j>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=f&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var f=this._getLayer(d(s.target)),y=f.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;y&&this._map.fire(y,f)},_createRadioElement:function(s,f){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(f?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=y,C.firstChild},_addItem:function(s){var f=document.createElement("label"),y=this._map.hasLayer(s.layer),C;s.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=y):C=this._createRadioElement("leaflet-base-layers_"+d(this),y),this._layerControlInputs.push(C),C.layerId=d(s.layer),ct(C,"click",this._onInputClick,this);var j=document.createElement("span");j.innerHTML=" "+s.name;var G=document.createElement("span");f.appendChild(G),G.appendChild(C),G.appendChild(j);var ce=s.overlay?this._overlaysList:this._baseLayersList;return ce.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,f,y,C=[],j=[];this._handlingClick=!0;for(var G=s.length-1;G>=0;G--)f=s[G],y=this._getLayer(f.layerId).layer,f.checked?C.push(y):f.checked||j.push(y);for(G=0;G<j.length;G++)this._map.hasLayer(j[G])&&this._map.removeLayer(j[G]);for(G=0;G<C.length;G++)this._map.hasLayer(C[G])||this._map.addLayer(C[G]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,f,y,C=this._map.getZoom(),j=s.length-1;j>=0;j--)f=s[j],y=this._getLayer(f.layerId).layer,f.disabled=y.options.minZoom!==void 0&&C<y.options.minZoom||y.options.maxZoom!==void 0&&C>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ct(s,"click",Qt),this.expand();var f=this;setTimeout(function(){Dt(s,"click",Qt),f._preventClick=!1})}}),vl=function(s,f,y){return new tu(s,f,y)},Wo=Hn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var f="leaflet-control-zoom",y=ht("div",f+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,f+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,f+"-out",y,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,f,y,C,j){var G=ht("a",y,C);return G.innerHTML=s,G.href="#",G.title=f,G.setAttribute("role","button"),G.setAttribute("aria-label",f),fa(G),ct(G,"click",wr),ct(G,"click",j,this),ct(G,"click",this._refocusOnMap,this),G},_updateDisabled:function(){var s=this._map,f="leaflet-disabled";Ut(this._zoomInButton,f),Ut(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(dt(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(dt(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Wo,this.addControl(this.zoomControl))});var Qd=function(s){return new Wo(s)},Rn=Hn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var f="leaflet-control-scale",y=ht("div",f),C=this.options;return this._addScales(C,f+"-line",y),s.on(C.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),y},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,f,y){s.metric&&(this._mScale=ht("div",f,y)),s.imperial&&(this._iScale=ht("div",f,y))},_update:function(){var s=this._map,f=s.getSize().y/2,y=s.distance(s.containerPointToLatLng([0,f]),s.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(y)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var f=this._getRoundNum(s),y=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,y,f/s)},_updateImperial:function(s){var f=s*3.2808399,y,C,j;f>5280?(y=f/5280,C=this._getRoundNum(y),this._updateScale(this._iScale,C+" mi",C/y)):(j=this._getRoundNum(f),this._updateScale(this._iScale,j+" ft",j/f))},_updateScale:function(s,f,y){s.style.width=Math.round(this.options.maxWidth*y)+"px",s.innerHTML=f},_getRoundNum:function(s){var f=Math.pow(10,(Math.floor(s)+"").length-1),y=s/f;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,f*y}}),Vo=function(s){return new Rn(s)},nu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qi=Hn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Qe.inlineSvg?nu+" ":"")+"Leaflet</a>"},initialize:function(s){v(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=ht("div","leaflet-control-attribution"),fa(this._container);for(var f in s._layers)s._layers[f].getAttribution&&this.addAttribution(s._layers[f].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var f in this._attributions)this._attributions[f]&&s.push(f);var y=[];this.options.prefix&&y.push(this.options.prefix),s.length&&y.push(s.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new Qi().addTo(this)});var nm=function(s){return new Qi(s)};Hn.Layers=tu,Hn.Zoom=Wo,Hn.Scale=Rn,Hn.Attribution=Qi,xi.layers=vl,xi.zoom=Qd,xi.scale=Vo,xi.attribution=nm;var tr=O.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});tr.addTo=function(s,f){return s.addHandler(f,this),this};var ru={Events:ae},qo=Qe.touch?"touchstart mousedown":"mousedown",_r=oe.extend({options:{clickTolerance:3},initialize:function(s,f,y,C){v(this,C),this._element=s,this._dragStartTarget=f||s,this._preventOutline=y},enable:function(){this._enabled||(ct(this._dragStartTarget,qo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_r._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,qo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Uo(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){_r._dragging===this&&this.finishDrag();return}if(!(_r._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(_r._dragging=this,this._preventOutline&&Ho(this._element),fl(),St(),!this._moving)){this.fire("down");var f=s.touches?s.touches[0]:s,y=ni(this._element);this._startPoint=new re(f.clientX,f.clientY),this._startPos=ti(this._element),this._parentScale=Lr(y);var C=s.type==="mousedown";ct(document,C?"mousemove":"touchmove",this._onMove,this),ct(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var f=s.touches&&s.touches.length===1?s.touches[0]:s,y=new re(f.clientX,f.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Qt(s),this._moved||(this.fire("dragstart"),this._moved=!0,dt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),nn(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Ut(document.body,"leaflet-dragging"),this._lastTarget&&(Ut(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),hl(),Zo();var f=this._moved&&this._moving;this._moving=!1,_r._dragging=!1,f&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function iu(s,f,y){var C,j=[1,4,2,8],G,ce,ge,be,Ie,Ze,rt,gt;for(G=0,Ze=s.length;G<Ze;G++)s[G]._code=Xi(s[G],f);for(ge=0;ge<4;ge++){for(rt=j[ge],C=[],G=0,Ze=s.length,ce=Ze-1;G<Ze;ce=G++)be=s[G],Ie=s[ce],be._code&rt?Ie._code&rt||(gt=_l(Ie,be,rt,f,y),gt._code=Xi(gt,f),C.push(gt)):(Ie._code&rt&&(gt=_l(Ie,be,rt,f,y),gt._code=Xi(gt,f),C.push(gt)),C.push(be));s=C}return s}function Xd(s,f){var y,C,j,G,ce,ge,be,Ie,Ze;if(!s||s.length===0)throw new Error("latlngs not passed");nr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var rt=Re([0,0]),gt=xe(s),mn=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());mn<1700&&(rt=ou(s));var dn=s.length,Vn=[];for(y=0;y<dn;y++){var In=Re(s[y]);Vn.push(f.project(Re([In.lat-rt.lat,In.lng-rt.lng])))}for(ge=be=Ie=0,y=0,C=dn-1;y<dn;C=y++)j=Vn[y],G=Vn[C],ce=j.y*G.x-G.y*j.x,be+=(j.x+G.x)*ce,Ie+=(j.y+G.y)*ce,ge+=ce*3;ge===0?Ze=Vn[0]:Ze=[be/ge,Ie/ge];var rs=f.unproject(le(Ze));return Re([rs.lat+rt.lat,rs.lng+rt.lng])}function ou(s){for(var f=0,y=0,C=0,j=0;j<s.length;j++){var G=Re(s[j]);f+=G.lat,y+=G.lng,C++}return Re([f/C,y/C])}var rm={__proto__:null,clipPolygon:iu,polygonCenter:Xd,centroid:ou};function wl(s,f){if(!f||!s.length)return s.slice();var y=f*f;return s=sm(s,y),s=om(s,y),s}function ef(s,f,y){return Math.sqrt(eo(s,f,y,!0))}function im(s,f,y){return eo(s,f,y)}function om(s,f){var y=s.length,C=typeof Uint8Array<"u"?Uint8Array:Array,j=new C(y);j[0]=j[y-1]=1,su(s,j,f,0,y-1);var G,ce=[];for(G=0;G<y;G++)j[G]&&ce.push(s[G]);return ce}function su(s,f,y,C,j){var G=0,ce,ge,be;for(ge=C+1;ge<=j-1;ge++)be=eo(s[ge],s[C],s[j],!0),be>G&&(ce=ge,G=be);G>y&&(f[ce]=1,su(s,f,y,C,ce),su(s,f,y,ce,j))}function sm(s,f){for(var y=[s[0]],C=1,j=0,G=s.length;C<G;C++)am(s[C],s[j])>f&&(y.push(s[C]),j=C);return j<G-1&&y.push(s[G-1]),y}var au;function tf(s,f,y,C,j){var G=C?au:Xi(s,y),ce=Xi(f,y),ge,be,Ie;for(au=ce;;){if(!(G|ce))return[s,f];if(G&ce)return!1;ge=G||ce,be=_l(s,f,ge,y,j),Ie=Xi(be,y),ge===G?(s=be,G=Ie):(f=be,ce=Ie)}}function _l(s,f,y,C,j){var G=f.x-s.x,ce=f.y-s.y,ge=C.min,be=C.max,Ie,Ze;return y&8?(Ie=s.x+G*(be.y-s.y)/ce,Ze=be.y):y&4?(Ie=s.x+G*(ge.y-s.y)/ce,Ze=ge.y):y&2?(Ie=be.x,Ze=s.y+ce*(be.x-s.x)/G):y&1&&(Ie=ge.x,Ze=s.y+ce*(ge.x-s.x)/G),new re(Ie,Ze,j)}function Xi(s,f){var y=0;return s.x<f.min.x?y|=1:s.x>f.max.x&&(y|=2),s.y<f.min.y?y|=4:s.y>f.max.y&&(y|=8),y}function am(s,f){var y=f.x-s.x,C=f.y-s.y;return y*y+C*C}function eo(s,f,y,C){var j=f.x,G=f.y,ce=y.x-j,ge=y.y-G,be=ce*ce+ge*ge,Ie;return be>0&&(Ie=((s.x-j)*ce+(s.y-G)*ge)/be,Ie>1?(j=y.x,G=y.y):Ie>0&&(j+=ce*Ie,G+=ge*Ie)),ce=s.x-j,ge=s.y-G,C?ce*ce+ge*ge:new re(j,G)}function nr(s){return!R(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function nf(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nr(s)}function rf(s,f){var y,C,j,G,ce,ge,be,Ie;if(!s||s.length===0)throw new Error("latlngs not passed");nr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ze=Re([0,0]),rt=xe(s),gt=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());gt<1700&&(Ze=ou(s));var mn=s.length,dn=[];for(y=0;y<mn;y++){var Vn=Re(s[y]);dn.push(f.project(Re([Vn.lat-Ze.lat,Vn.lng-Ze.lng])))}for(y=0,C=0;y<mn-1;y++)C+=dn[y].distanceTo(dn[y+1])/2;if(C===0)Ie=dn[0];else for(y=0,G=0;y<mn-1;y++)if(ce=dn[y],ge=dn[y+1],j=ce.distanceTo(ge),G+=j,G>C){be=(G-C)/j,Ie=[ge.x-be*(ge.x-ce.x),ge.y-be*(ge.y-ce.y)];break}var In=f.unproject(le(Ie));return Re([In.lat+Ze.lat,In.lng+Ze.lng])}var of={__proto__:null,simplify:wl,pointToSegmentDistance:ef,closestPointOnSegment:im,clipSegment:tf,_getEdgeIntersection:_l,_getBitCode:Xi,_sqClosestPointOnSegment:eo,isFlat:nr,_flat:nf,polylineCenter:rf},lu={project:function(s){return new re(s.lng,s.lat)},unproject:function(s){return new ve(s.y,s.x)},bounds:new $([-180,-90],[180,90])},cu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var f=Math.PI/180,y=this.R,C=s.lat*f,j=this.R_MINOR/y,G=Math.sqrt(1-j*j),ce=G*Math.sin(C),ge=Math.tan(Math.PI/4-C/2)/Math.pow((1-ce)/(1+ce),G/2);return C=-y*Math.log(Math.max(ge,1e-10)),new re(s.lng*f*y,C)},unproject:function(s){for(var f=180/Math.PI,y=this.R,C=this.R_MINOR/y,j=Math.sqrt(1-C*C),G=Math.exp(-s.y/y),ce=Math.PI/2-2*Math.atan(G),ge=0,be=.1,Ie;ge<15&&Math.abs(be)>1e-7;ge++)Ie=j*Math.sin(ce),Ie=Math.pow((1-Ie)/(1+Ie),j/2),be=Math.PI/2-2*Math.atan(G*Ie)-ce,ce+=be;return new ve(ce*f,s.x*f/y)}},lm={__proto__:null,LonLat:lu,Mercator:cu,SphericalMercator:nt},cm=i({},Me,{code:"EPSG:3395",projection:cu,transformation:function(){var s=.5/(Math.PI*cu.R);return At(s,.5,-s,.5)}()}),sf=i({},Me,{code:"EPSG:4326",projection:lu,transformation:At(1/180,1,-1/180,.5)}),um=i({},Ue,{projection:lu,transformation:At(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,f){var y=f.lng-s.lng,C=f.lat-s.lat;return Math.sqrt(y*y+C*C)},infinite:!0});Ue.Earth=Me,Ue.EPSG3395=cm,Ue.EPSG3857=ft,Ue.EPSG900913=B,Ue.EPSG4326=sf,Ue.Simple=um;var xr=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[d(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[d(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var f=s.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var y=this.getEvents();f.on(y,this),this.once("remove",function(){f.off(y,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var f=d(s);return this._layers[f]?this:(this._layers[f]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var f=d(s);return this._layers[f]?(this._loaded&&s.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return d(s)in this._layers},eachLayer:function(s,f){for(var y in this._layers)s.call(f,this._layers[y]);return this},_addLayers:function(s){s=s?R(s)?s:[s]:[];for(var f=0,y=s.length;f<y;f++)this.addLayer(s[f])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[d(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var f=d(s);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,f=-1/0,y=this._getZoomSpan();for(var C in this._zoomBoundLayers){var j=this._zoomBoundLayers[C].options;s=j.minZoom===void 0?s:Math.min(s,j.minZoom),f=j.maxZoom===void 0?f:Math.max(f,j.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=s===1/0?void 0:s,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bi=xr.extend({initialize:function(s,f){v(this,f),this._layers={};var y,C;if(s)for(y=0,C=s.length;y<C;y++)this.addLayer(s[y])},addLayer:function(s){var f=this.getLayerId(s);return this._layers[f]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var f=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(s){var f=typeof s=="number"?s:this.getLayerId(s);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var f=Array.prototype.slice.call(arguments,1),y,C;for(y in this._layers)C=this._layers[y],C[s]&&C[s].apply(C,f);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,f){for(var y in this._layers)s.call(f,this._layers[y]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return d(s)}}),ma=function(s,f){return new bi(s,f)},ri=bi.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),bi.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),bi.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ce;for(var f in this._layers){var y=this._layers[f];s.extend(y.getBounds?y.getBounds():y.getLatLng())}return s}}),af=function(s,f){return new ri(s,f)},to=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){v(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,f){var y=this._getIconUrl(s);if(!y){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(y,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(C,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(s,f){var y=this.options,C=y[f+"Size"];typeof C=="number"&&(C=[C,C]);var j=le(C),G=le(f==="shadow"&&y.shadowAnchor||y.iconAnchor||j&&j.divideBy(2,!0));s.className="leaflet-marker-"+f+" "+(y.className||""),G&&(s.style.marginLeft=-G.x+"px",s.style.marginTop=-G.y+"px"),j&&(s.style.width=j.x+"px",s.style.height=j.y+"px")},_createImg:function(s,f){return f=f||document.createElement("img"),f.src=s,f},_getIconUrl:function(s){return Qe.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function lf(s){return new to(s)}var Ko=to.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Ko.imagePath!="string"&&(Ko.imagePath=this._detectIconPath()),(this.options.imagePath||Ko.imagePath)+to.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var f=function(y,C,j){var G=C.exec(y);return G&&G[j]};return s=f(s,/^url\((['"])?(.+)\1\)$/,2),s&&f(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ht("div","leaflet-default-icon-path",document.body),f=la(s,"background-image")||la(s,"backgroundImage");if(document.body.removeChild(s),f=this._stripUrl(f),f)return f;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),uu=tr.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new _r(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ut(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var f=this._marker,y=f._map,C=this._marker.options.autoPanSpeed,j=this._marker.options.autoPanPadding,G=ti(f._icon),ce=y.getPixelBounds(),ge=y.getPixelOrigin(),be=Q(ce.min._subtract(ge).add(j),ce.max._subtract(ge).subtract(j));if(!be.contains(G)){var Ie=le((Math.max(be.max.x,G.x)-be.max.x)/(ce.max.x-be.max.x)-(Math.min(be.min.x,G.x)-be.min.x)/(ce.min.x-be.min.x),(Math.max(be.max.y,G.y)-be.max.y)/(ce.max.y-be.max.y)-(Math.min(be.min.y,G.y)-be.min.y)/(ce.min.y-be.min.y)).multiplyBy(C);y.panBy(Ie,{animate:!1}),this._draggable._newPos._add(Ie),this._draggable._startPos._add(Ie),nn(f._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=J(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,s)))},_onDrag:function(s){var f=this._marker,y=f._shadow,C=ti(f._icon),j=f._map.layerPointToLatLng(C);y&&nn(y,C),f._latlng=j,s.latlng=j,s.oldLatLng=this._oldLatLng,f.fire("move",s).fire("drag",s)},_onDragEnd:function(s){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ii=xr.extend({options:{icon:new Ko,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,f){v(this,f),this._latlng=Re(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var f=this._latlng;return this._latlng=Re(s),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=s.icon.createIcon(this._icon),C=!1;y!==this._icon&&(this._icon&&this._removeIcon(),C=!0,s.title&&(y.title=s.title),y.tagName==="IMG"&&(y.alt=s.alt||"")),dt(y,f),s.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ct(y,"focus",this._panOnFocus,this);var j=s.icon.createShadow(this._shadow),G=!1;j!==this._shadow&&(this._removeShadow(),G=!0),j&&(dt(j,f),j.alt=""),this._shadow=j,s.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),j&&G&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),Zt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Zt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&nn(this._icon,s),this._shadow&&nn(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),uu)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new uu(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&An(this._icon,s),this._shadow&&An(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var f=this.options.icon.options,y=f.iconSize?le(f.iconSize):le(0,0),C=f.iconAnchor?le(f.iconAnchor):le(0,0);s.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:y.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dm(s,f){return new ii(s,f)}var Ei=xr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return v(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xl=Ei.extend({options:{fill:!0,radius:10},initialize:function(s,f){v(this,f),this._latlng=Re(s),this._radius=this.options.radius},setLatLng:function(s){var f=this._latlng;return this._latlng=Re(s),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var f=s&&s.radius||this._radius;return Ei.prototype.setStyle.call(this,s),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,f=this._radiusY||s,y=this._clickTolerance(),C=[s+y,f+y];this._pxBounds=new $(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function cf(s,f){return new xl(s,f)}var bl=xl.extend({initialize:function(s,f,y){if(typeof f=="number"&&(f=i({},y,{radius:f})),v(this,f),this._latlng=Re(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ei.prototype.setStyle,_project:function(){var s=this._latlng.lng,f=this._latlng.lat,y=this._map,C=y.options.crs;if(C.distance===Me.distance){var j=Math.PI/180,G=this._mRadius/Me.R/j,ce=y.project([f+G,s]),ge=y.project([f-G,s]),be=ce.add(ge).divideBy(2),Ie=y.unproject(be).lat,Ze=Math.acos((Math.cos(G*j)-Math.sin(f*j)*Math.sin(Ie*j))/(Math.cos(f*j)*Math.cos(Ie*j)))/j;(isNaN(Ze)||Ze===0)&&(Ze=G/Math.cos(Math.PI/180*f)),this._point=be.subtract(y.getPixelOrigin()),this._radius=isNaN(Ze)?0:be.x-y.project([Ie,s-Ze]).x,this._radiusY=be.y-ce.y}else{var rt=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(rt).x}this._updateBounds()}});function ga(s,f,y){return new bl(s,f,y)}var Wn=Ei.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,f){v(this,f),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var f=1/0,y=null,C=eo,j,G,ce=0,ge=this._parts.length;ce<ge;ce++)for(var be=this._parts[ce],Ie=1,Ze=be.length;Ie<Ze;Ie++){j=be[Ie-1],G=be[Ie];var rt=C(s,j,G,!0);rt<f&&(f=rt,y=C(s,j,G))}return y&&(y.distance=Math.sqrt(f)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,f){return f=f||this._defaultShape(),s=Re(s),f.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ce,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return nr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var f=[],y=nr(s),C=0,j=s.length;C<j;C++)y?(f[C]=Re(s[C]),this._bounds.extend(f[C])):f[C]=this._convertLatLngs(s[C]);return f},_project:function(){var s=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),f=new re(s,s);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(s,f,y){var C=s[0]instanceof ve,j=s.length,G,ce;if(C){for(ce=[],G=0;G<j;G++)ce[G]=this._map.latLngToLayerPoint(s[G]),y.extend(ce[G]);f.push(ce)}else for(G=0;G<j;G++)this._projectLatlngs(s[G],f,y)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,y,C,j,G,ce,ge,be;for(y=0,j=0,G=this._rings.length;y<G;y++)for(be=this._rings[y],C=0,ce=be.length;C<ce-1;C++)ge=tf(be[C],be[C+1],s,C,!0),ge&&(f[j]=f[j]||[],f[j].push(ge[0]),(ge[1]!==be[C+1]||C===ce-2)&&(f[j].push(ge[1]),j++))}},_simplifyPoints:function(){for(var s=this._parts,f=this.options.smoothFactor,y=0,C=s.length;y<C;y++)s[y]=wl(s[y],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,f){var y,C,j,G,ce,ge,be=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(y=0,G=this._parts.length;y<G;y++)for(ge=this._parts[y],C=0,ce=ge.length,j=ce-1;C<ce;j=C++)if(!(!f&&C===0)&&ef(s,ge[j],ge[C])<=be)return!0;return!1}});function fm(s,f){return new Wn(s,f)}Wn._flat=nf;var oi=Wn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var f=Wn.prototype._convertLatLngs.call(this,s),y=f.length;return y>=2&&f[0]instanceof ve&&f[0].equals(f[y-1])&&f.pop(),f},_setLatLngs:function(s){Wn.prototype._setLatLngs.call(this,s),nr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,f=this.options.weight,y=new re(f,f);if(s=new $(s.min.subtract(y),s.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,j=this._rings.length,G;C<j;C++)G=iu(this._rings[C],s,!0),G.length&&this._parts.push(G)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var f=!1,y,C,j,G,ce,ge,be,Ie;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(G=0,be=this._parts.length;G<be;G++)for(y=this._parts[G],ce=0,Ie=y.length,ge=Ie-1;ce<Ie;ge=ce++)C=y[ce],j=y[ge],C.y>s.y!=j.y>s.y&&s.x<(j.x-C.x)*(s.y-C.y)/(j.y-C.y)+C.x&&(f=!f);return f||Wn.prototype._containsPoint.call(this,s,!0)}});function hm(s,f){return new oi(s,f)}var Mr=ri.extend({initialize:function(s,f){v(this,f),this._layers={},s&&this.addData(s)},addData:function(s){var f=R(s)?s:s.features,y,C,j;if(f){for(y=0,C=f.length;y<C;y++)j=f[y],(j.geometries||j.geometry||j.features||j.coordinates)&&this.addData(j);return this}var G=this.options;if(G.filter&&!G.filter(s))return this;var ce=Go(s,G);return ce?(ce.feature=Pl(s),ce.defaultOptions=ce.options,this.resetStyle(ce),G.onEachFeature&&G.onEachFeature(s,ce),this.addLayer(ce)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(f){this._setLayerStyle(f,s)},this)},_setLayerStyle:function(s,f){s.setStyle&&(typeof f=="function"&&(f=f(s.feature)),s.setStyle(f))}});function Go(s,f){var y=s.type==="Feature"?s.geometry:s,C=y?y.coordinates:null,j=[],G=f&&f.pointToLayer,ce=f&&f.coordsToLatLng||kl,ge,be,Ie,Ze;if(!C&&!y)return null;switch(y.type){case"Point":return ge=ce(C),El(G,s,ge,f);case"MultiPoint":for(Ie=0,Ze=C.length;Ie<Ze;Ie++)ge=ce(C[Ie]),j.push(El(G,s,ge,f));return new ri(j);case"LineString":case"MultiLineString":return be=ya(C,y.type==="LineString"?0:1,ce),new Wn(be,f);case"Polygon":case"MultiPolygon":return be=ya(C,y.type==="Polygon"?1:2,ce),new oi(be,f);case"GeometryCollection":for(Ie=0,Ze=y.geometries.length;Ie<Ze;Ie++){var rt=Go({geometry:y.geometries[Ie],type:"Feature",properties:s.properties},f);rt&&j.push(rt)}return new ri(j);case"FeatureCollection":for(Ie=0,Ze=y.features.length;Ie<Ze;Ie++){var gt=Go(y.features[Ie],f);gt&&j.push(gt)}return new ri(j);default:throw new Error("Invalid GeoJSON object.")}}function El(s,f,y,C){return s?s(f,y):new ii(y,C&&C.markersInheritOptions&&C)}function kl(s){return new ve(s[1],s[0],s[2])}function ya(s,f,y){for(var C=[],j=0,G=s.length,ce;j<G;j++)ce=f?ya(s[j],f-1,y):(y||kl)(s[j]),C.push(ce);return C}function Sl(s,f){return s=Re(s),s.alt!==void 0?[b(s.lng,f),b(s.lat,f),b(s.alt,f)]:[b(s.lng,f),b(s.lat,f)]}function Cl(s,f,y,C){for(var j=[],G=0,ce=s.length;G<ce;G++)j.push(f?Cl(s[G],nr(s[G])?0:f-1,y,C):Sl(s[G],C));return!f&&y&&j.length>0&&j.push(j[0].slice()),j}function Yo(s,f){return s.feature?i({},s.feature,{geometry:f}):Pl(f)}function Pl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var du={toGeoJSON:function(s){return Yo(this,{type:"Point",coordinates:Sl(this.getLatLng(),s)})}};ii.include(du),bl.include(du),xl.include(du),Wn.include({toGeoJSON:function(s){var f=!nr(this._latlngs),y=Cl(this._latlngs,f?1:0,!1,s);return Yo(this,{type:(f?"Multi":"")+"LineString",coordinates:y})}}),oi.include({toGeoJSON:function(s){var f=!nr(this._latlngs),y=f&&!nr(this._latlngs[0]),C=Cl(this._latlngs,y?2:f?1:0,!0,s);return f||(C=[C]),Yo(this,{type:(y?"Multi":"")+"Polygon",coordinates:C})}}),bi.include({toMultiPoint:function(s){var f=[];return this.eachLayer(function(y){f.push(y.toGeoJSON(s).geometry.coordinates)}),Yo(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(s){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(s);var y=f==="GeometryCollection",C=[];return this.eachLayer(function(j){if(j.toGeoJSON){var G=j.toGeoJSON(s);if(y)C.push(G.geometry);else{var ce=Pl(G);ce.type==="FeatureCollection"?C.push.apply(C,ce.features):C.push(ce)}}}),y?Yo(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function uf(s,f){return new Mr(s,f)}var br=uf,ki=xr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,f,y){this._url=s,this._bounds=xe(f),v(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Zt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Fo(this._image),this},bringToBack:function(){return this._map&&ei(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=xe(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",f=this._image=s?this._url:ht("img");if(dt(f,"leaflet-image-layer"),this._zoomAnimated&&dt(f,"leaflet-zoom-animated"),this.options.className&&dt(f,this.options.className),f.onselectstart=m,f.onmousemove=m,f.onload=c(this.fire,this,"load"),f.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(s){var f=this._map.getZoomScale(s.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;yr(this._image,y,f)},_reset:function(){var s=this._image,f=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=f.getSize();nn(s,f.min),s.style.width=y.x+"px",s.style.height=y.y+"px"},_updateOpacity:function(){An(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),df=function(s,f,y){return new ki(s,f,y)},fu=ki.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",f=this._image=s?this._url:ht("video");if(dt(f,"leaflet-image-layer"),this._zoomAnimated&&dt(f,"leaflet-zoom-animated"),this.options.className&&dt(f,this.options.className),f.onselectstart=m,f.onmousemove=m,f.onloadeddata=c(this.fire,this,"load"),s){for(var y=f.getElementsByTagName("source"),C=[],j=0;j<y.length;j++)C.push(y[j].src);this._url=y.length>0?C:[f.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var G=0;G<this._url.length;G++){var ce=ht("source");ce.src=this._url[G],f.appendChild(ce)}}});function ff(s,f,y){return new fu(s,f,y)}var hu=ki.extend({_initImage:function(){var s=this._image=this._url;dt(s,"leaflet-image-layer"),this._zoomAnimated&&dt(s,"leaflet-zoom-animated"),this.options.className&&dt(s,this.options.className),s.onselectstart=m,s.onmousemove=m}});function pu(s,f,y){return new hu(s,f,y)}var jr=xr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,f){s&&(s instanceof ve||R(s))?(this._latlng=Re(s),v(this,f)):(v(this,s),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&An(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&An(this._container,1),this.bringToFront(),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(An(this._container,0),this._removeTimeout=setTimeout(c(Zt,void 0,this._container),200)):Zt(this._container),this.options.interactive&&(Ut(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Re(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Fo(this._container),this},bringToBack:function(){return this._map&&ei(this._container),this},_prepareOpen:function(s){var f=this._source;if(!f._map)return!1;if(f instanceof ri){f=null;var y=this._source._layers;for(var C in y)if(y[C]._map){f=y[C];break}if(!f)return!1;this._source=f}if(!s)if(f.getCenter)s=f.getCenter();else if(f.getLatLng)s=f.getLatLng();else if(f.getBounds)s=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")s.innerHTML=f;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),f=le(this.options.offset),y=this._getAnchor();this._zoomAnimated?nn(this._container,s.add(y)):f=f.add(s).add(y);var C=this._containerBottom=-f.y,j=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=C+"px",this._container.style.left=j+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(s,f,y,C){var j=f;return j instanceof s||(j=new s(C).setContent(f)),y&&j.setLatLng(y),j}}),xr.include({_initOverlay:function(s,f,y,C){var j=y;return j instanceof s?(v(j,C),j._source=this):(j=f&&!C?f:new s(C,this),j.setContent(y)),j}});var Tl=jr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,jr.prototype.openOn.call(this,s)},onAdd:function(s){jr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ei||this._source.on("preclick",Or))},onRemove:function(s){jr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ei||this._source.off("preclick",Or))},getEvents:function(){var s=jr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",f=this._container=ht("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=ht("div",s+"-content-wrapper",f);if(this._contentNode=ht("div",s+"-content",y),fa(f),ml(this._contentNode),ct(f,"contextmenu",Or),this._tipContainer=ht("div",s+"-tip-container",f),this._tip=ht("div",s+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=ht("a",s+"-close-button",f);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',ct(C,"click",function(j){Qt(j),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,f=s.style;f.width="",f.whiteSpace="nowrap";var y=s.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),f.width=y+1+"px",f.whiteSpace="",f.height="";var C=s.offsetHeight,j=this.options.maxHeight,G="leaflet-popup-scrolled";j&&C>j?(f.height=j+"px",dt(s,G)):Ut(s,G),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),y=this._getAnchor();nn(this._container,f.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,f=parseInt(la(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+f,C=this._containerWidth,j=new re(this._containerLeft,-y-this._containerBottom);j._add(ti(this._container));var G=s.layerPointToContainerPoint(j),ce=le(this.options.autoPanPadding),ge=le(this.options.autoPanPaddingTopLeft||ce),be=le(this.options.autoPanPaddingBottomRight||ce),Ie=s.getSize(),Ze=0,rt=0;G.x+C+be.x>Ie.x&&(Ze=G.x+C-Ie.x+be.x),G.x-Ze-ge.x<0&&(Ze=G.x-ge.x),G.y+y+be.y>Ie.y&&(rt=G.y+y-Ie.y+be.y),G.y-rt-ge.y<0&&(rt=G.y-ge.y),(Ze||rt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Ze,rt]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jo=function(s,f){return new Tl(s,f)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(s,f,y){return this._initOverlay(Tl,s,f,y).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),xr.include({bindPopup:function(s,f){return this._popup=this._initOverlay(Tl,this._popup,s,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ri||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){wr(s);var f=s.layer||s.target;if(this._popup._source===f&&!(f instanceof Ei)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=f,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Qo=jr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){jr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){jr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=jr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",f=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ht("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var f,y,C=this._map,j=this._container,G=C.latLngToContainerPoint(C.getCenter()),ce=C.layerPointToContainerPoint(s),ge=this.options.direction,be=j.offsetWidth,Ie=j.offsetHeight,Ze=le(this.options.offset),rt=this._getAnchor();ge==="top"?(f=be/2,y=Ie):ge==="bottom"?(f=be/2,y=0):ge==="center"?(f=be/2,y=Ie/2):ge==="right"?(f=0,y=Ie/2):ge==="left"?(f=be,y=Ie/2):ce.x<G.x?(ge="right",f=0,y=Ie/2):(ge="left",f=be+(Ze.x+rt.x)*2,y=Ie/2),s=s.subtract(le(f,y,!0)).add(Ze).add(rt),Ut(j,"leaflet-tooltip-right"),Ut(j,"leaflet-tooltip-left"),Ut(j,"leaflet-tooltip-top"),Ut(j,"leaflet-tooltip-bottom"),dt(j,"leaflet-tooltip-"+ge),nn(j,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&An(this._container,s)},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(f)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),va=function(s,f){return new Qo(s,f)};xt.include({openTooltip:function(s,f,y){return this._initOverlay(Qo,s,f,y).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),xr.include({bindTooltip:function(s,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Qo,this._tooltip,s,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var f=s?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[f](y),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ri||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var f=typeof s.getElement=="function"&&s.getElement();f&&(ct(f,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ct(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var f=typeof s.getElement=="function"&&s.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var f=s.latlng,y,C;this._tooltip.options.sticky&&s.originalEvent&&(y=this._map.mouseEventToContainerPoint(s.originalEvent),C=this._map.containerPointToLayerPoint(y),f=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(f)}});var Nl=to.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var f=s&&s.tagName==="DIV"?s:document.createElement("div"),y=this.options;if(y.html instanceof Element?(cl(f),f.appendChild(y.html)):f.innerHTML=y.html!==!1?y.html:"",y.bgPos){var C=le(y.bgPos);f.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function hf(s){return new Nl(s)}to.Default=Ko;var Si=xr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Qe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){v(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Zt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Fo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ei(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof re?s:new re(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var f=this.getPane().children,y=-s(-1/0,1/0),C=0,j=f.length,G;C<j;C++)G=f[C].style.zIndex,f[C]!==this._container&&G&&(y=s(y,+G));isFinite(y)&&(this.options.zIndex=y+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Qe.ielt9){An(this._container,this.options.opacity);var s=+new Date,f=!1,y=!1;for(var C in this._tiles){var j=this._tiles[C];if(!(!j.current||!j.loaded)){var G=Math.min(1,(s-j.loaded)/200);An(j.el,G),G<1?f=!0:(j.active?y=!0:this._onOpaqueTile(j),j.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),f&&(F(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,f=this.options.maxZoom;if(s!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===s?(this._levels[y].el.style.zIndex=f-Math.abs(s-y),this._onUpdateLevel(y)):(Zt(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var C=this._levels[s],j=this._map;return C||(C=this._levels[s]={},C.el=ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=f,C.origin=j.project(j.unproject(j.getPixelOrigin()),s).round(),C.zoom=s,this._setZoomTransform(C,j.getCenter(),j.getZoom()),m(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var s,f,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)f=this._tiles[s],f.retain=f.current;for(s in this._tiles)if(f=this._tiles[s],f.current&&!f.active){var C=f.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var f in this._tiles)this._tiles[f].coords.z===s&&this._removeTile(f)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Zt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,f,y,C){var j=Math.floor(s/2),G=Math.floor(f/2),ce=y-1,ge=new re(+j,+G);ge.z=+ce;var be=this._tileCoordsToKey(ge),Ie=this._tiles[be];return Ie&&Ie.active?(Ie.retain=!0,!0):(Ie&&Ie.loaded&&(Ie.retain=!0),ce>C?this._retainParent(j,G,ce,C):!1)},_retainChildren:function(s,f,y,C){for(var j=2*s;j<2*s+2;j++)for(var G=2*f;G<2*f+2;G++){var ce=new re(j,G);ce.z=y+1;var ge=this._tileCoordsToKey(ce),be=this._tiles[ge];if(be&&be.active){be.retain=!0;continue}else be&&be.loaded&&(be.retain=!0);y+1<C&&this._retainChildren(j,G,y+1,C)}},_resetView:function(s){var f=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var f=this.options;return f.minNativeZoom!==void 0&&s<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<s?f.maxNativeZoom:s},_setView:function(s,f,y,C){var j=Math.round(f);this.options.maxZoom!==void 0&&j>this.options.maxZoom||this.options.minZoom!==void 0&&j<this.options.minZoom?j=void 0:j=this._clampZoom(j);var G=this.options.updateWhenZooming&&j!==this._tileZoom;(!C||G)&&(this._tileZoom=j,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),j!==void 0&&this._update(s),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(s,f)},_setZoomTransforms:function(s,f){for(var y in this._levels)this._setZoomTransform(this._levels[y],s,f)},_setZoomTransform:function(s,f,y){var C=this._map.getZoomScale(y,s.zoom),j=s.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(f,y)).round();Qe.any3d?yr(s.el,j,C):nn(s.el,j)},_resetGrid:function(){var s=this._map,f=s.options.crs,y=this._tileSize=this.getTileSize(),C=this._tileZoom,j=this._map.getPixelWorldBounds(this._tileZoom);j&&(this._globalTileRange=this._pxBoundsToTileRange(j)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,f.wrapLng[0]],C).x/y.x),Math.ceil(s.project([0,f.wrapLng[1]],C).x/y.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([f.wrapLat[0],0],C).y/y.x),Math.ceil(s.project([f.wrapLat[1],0],C).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var f=this._map,y=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),C=f.getZoomScale(y,this._tileZoom),j=f.project(s,this._tileZoom).floor(),G=f.getSize().divideBy(C*2);return new $(j.subtract(G),j.add(G))},_update:function(s){var f=this._map;if(f){var y=this._clampZoom(f.getZoom());if(s===void 0&&(s=f.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(s),j=this._pxBoundsToTileRange(C),G=j.getCenter(),ce=[],ge=this.options.keepBuffer,be=new $(j.getBottomLeft().subtract([ge,-ge]),j.getTopRight().add([ge,-ge]));if(!(isFinite(j.min.x)&&isFinite(j.min.y)&&isFinite(j.max.x)&&isFinite(j.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ie in this._tiles){var Ze=this._tiles[Ie].coords;(Ze.z!==this._tileZoom||!be.contains(new re(Ze.x,Ze.y)))&&(this._tiles[Ie].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(s,y);return}for(var rt=j.min.y;rt<=j.max.y;rt++)for(var gt=j.min.x;gt<=j.max.x;gt++){var mn=new re(gt,rt);if(mn.z=this._tileZoom,!!this._isValidTile(mn)){var dn=this._tiles[this._tileCoordsToKey(mn)];dn?dn.current=!0:ce.push(mn)}}if(ce.sort(function(In,rs){return In.distanceTo(G)-rs.distanceTo(G)}),ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Vn=document.createDocumentFragment();for(gt=0;gt<ce.length;gt++)this._addTile(ce[gt],Vn);this._level.el.appendChild(Vn)}}}},_isValidTile:function(s){var f=this._map.options.crs;if(!f.infinite){var y=this._globalTileRange;if(!f.wrapLng&&(s.x<y.min.x||s.x>y.max.x)||!f.wrapLat&&(s.y<y.min.y||s.y>y.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(s);return xe(this.options.bounds).overlaps(C)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var f=this._map,y=this.getTileSize(),C=s.scaleBy(y),j=C.add(y),G=f.unproject(C,s.z),ce=f.unproject(j,s.z);return[G,ce]},_tileCoordsToBounds:function(s){var f=this._tileCoordsToNwSe(s),y=new Ce(f[0],f[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var f=s.split(":"),y=new re(+f[0],+f[1]);return y.z=+f[2],y},_removeTile:function(s){var f=this._tiles[s];f&&(Zt(f.el),delete this._tiles[s],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){dt(s,"leaflet-tile");var f=this.getTileSize();s.style.width=f.x+"px",s.style.height=f.y+"px",s.onselectstart=m,s.onmousemove=m,Qe.ielt9&&this.options.opacity<1&&An(s,this.options.opacity)},_addTile:function(s,f){var y=this._getTilePos(s),C=this._tileCoordsToKey(s),j=this.createTile(this._wrapCoords(s),c(this._tileReady,this,s));this._initTile(j),this.createTile.length<2&&J(c(this._tileReady,this,s,null,j)),nn(j,y),this._tiles[C]={el:j,coords:s,current:!0},f.appendChild(j),this.fire("tileloadstart",{tile:j,coords:s})},_tileReady:function(s,f,y){f&&this.fire("tileerror",{error:f,tile:y,coords:s});var C=this._tileCoordsToKey(s);y=this._tiles[C],y&&(y.loaded=+new Date,this._map._fadeAnimated?(An(y.el,0),F(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),f||(dt(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Qe.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var f=new re(this._wrapX?g(s.x,this._wrapX):s.x,this._wrapY?g(s.y,this._wrapY):s.y);return f.z=s.z,f},_pxBoundsToTileRange:function(s){var f=this.getTileSize();return new $(s.min.unscaleBy(f).floor(),s.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Xo(s){return new Si(s)}var Ci=Si.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,f){this._url=s,f=v(this,f),f.detectRetina&&Qe.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,f){return this._url===s&&f===void 0&&(f=!0),this._url=s,f||this.redraw(),this},createTile:function(s,f){var y=document.createElement("img");return ct(y,"load",c(this._tileOnLoad,this,f,y)),ct(y,"error",c(this._tileOnError,this,f,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(s),y},getTileUrl:function(s){var f={r:Qe.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-s.y;this.options.tms&&(f.y=y),f["-y"]=y}return T(this._url,i(f,this.options))},_tileOnLoad:function(s,f){Qe.ielt9?setTimeout(c(s,this,null,f),0):s(null,f)},_tileOnError:function(s,f,y){var C=this.options.errorTileUrl;C&&f.getAttribute("src")!==C&&(f.src=C),s(y,f)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,f=this.options.maxZoom,y=this.options.zoomReverse,C=this.options.zoomOffset;return y&&(s=f-s),s+C},_getSubdomain:function(s){var f=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var s,f;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(f=this._tiles[s].el,f.onload=m,f.onerror=m,!f.complete)){f.src=D;var y=this._tiles[s].coords;Zt(f),delete this._tiles[s],this.fire("tileabort",{tile:f,coords:y})}},_removeTile:function(s){var f=this._tiles[s];if(f)return f.el.setAttribute("src",D),Si.prototype._removeTile.call(this,s)},_tileReady:function(s,f,y){if(!(!this._map||y&&y.getAttribute("src")===D))return Si.prototype._tileReady.call(this,s,f,y)}});function mu(s,f){return new Ci(s,f)}var wa=Ci.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,f){this._url=s;var y=i({},this.defaultWmsParams);for(var C in f)C in this.options||(y[C]=f[C]);f=v(this,f);var j=f.detectRetina&&Qe.retina?2:1,G=this.getTileSize();y.width=G.x*j,y.height=G.y*j,this.wmsParams=y},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Ci.prototype.onAdd.call(this,s)},getTileUrl:function(s){var f=this._tileCoordsToNwSe(s),y=this._crs,C=Q(y.project(f[0]),y.project(f[1])),j=C.min,G=C.max,ce=(this._wmsVersion>=1.3&&this._crs===sf?[j.y,j.x,G.y,G.x]:[j.x,j.y,G.x,G.y]).join(","),ge=Ci.prototype.getTileUrl.call(this,s);return ge+E(this.wmsParams,ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ce},setParams:function(s,f){return i(this.wmsParams,s),f||this.redraw(),this}});function pf(s,f){return new wa(s,f)}Ci.WMS=wa,mu.wms=pf;var zr=xr.extend({options:{padding:.1},initialize:function(s){v(this,s),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,f){var y=this._map.getZoomScale(f,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),j=this._map.project(this._center,f),G=C.multiplyBy(-y).add(j).subtract(this._map._getNewPixelOrigin(s,f));Qe.any3d?yr(this._container,G,y):nn(this._container,G)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,f=this._map.getSize(),y=this._map.containerPointToLayerPoint(f.multiplyBy(-s)).round();this._bounds=new $(y,y.add(f.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),gu=zr.extend({options:{tolerance:0},getEvents:function(){var s=zr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ct(s,"mousemove",this._onMouseMove,this),ct(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ct(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,Zt(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var f in this._layers)s=this._layers[f],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zr.prototype._update.call(this);var s=this._bounds,f=this._container,y=s.getSize(),C=Qe.retina?2:1;nn(f,s.min),f.width=C*y.x,f.height=C*y.y,f.style.width=y.x+"px",f.style.height=y.y+"px",Qe.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){zr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[d(s)]=s;var f=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var f=s._order,y=f.next,C=f.prev;y?y.prev=C:this._drawLast=C,C?C.next=y:this._drawFirst=y,delete s._order,delete this._layers[d(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var f=s.options.dashArray.split(/[, ]+/),y=[],C,j;for(j=0;j<f.length;j++){if(C=Number(f[j]),isNaN(C))return;y.push(C)}s.options._dashArray=y}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var f=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(s._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(s._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var f=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,f=this._redrawBounds;if(this._ctx.save(),f){var y=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)s=C.layer,(!f||s._pxBounds&&s._pxBounds.intersects(f))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,f){if(this._drawing){var y,C,j,G,ce=s._parts,ge=ce.length,be=this._ctx;if(ge){for(be.beginPath(),y=0;y<ge;y++){for(C=0,j=ce[y].length;C<j;C++)G=ce[y][C],be[C?"lineTo":"moveTo"](G.x,G.y);f&&be.closePath()}this._fillStroke(be,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var f=s._point,y=this._ctx,C=Math.max(Math.round(s._radius),1),j=(Math.max(Math.round(s._radiusY),1)||C)/C;j!==1&&(y.save(),y.scale(1,j)),y.beginPath(),y.arc(f.x,f.y/j,C,0,Math.PI*2,!1),j!==1&&y.restore(),this._fillStroke(y,s)}},_fillStroke:function(s,f){var y=f.options;y.fill&&(s.globalAlpha=y.fillOpacity,s.fillStyle=y.fillColor||y.color,s.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(s.setLineDash&&s.setLineDash(f.options&&f.options._dashArray||[]),s.globalAlpha=y.opacity,s.lineWidth=y.weight,s.strokeStyle=y.color,s.lineCap=y.lineCap,s.lineJoin=y.lineJoin,s.stroke())},_onClick:function(s){for(var f=this._map.mouseEventToLayerPoint(s),y,C,j=this._drawFirst;j;j=j.next)y=j.layer,y.options.interactive&&y._containsPoint(f)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(y))&&(C=y);this._fireEvent(C?[C]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,f)}},_handleMouseOut:function(s){var f=this._hoveredLayer;f&&(Ut(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,f){if(!this._mouseHoverThrottled){for(var y,C,j=this._drawFirst;j;j=j.next)y=j.layer,y.options.interactive&&y._containsPoint(f)&&(C=y);C!==this._hoveredLayer&&(this._handleMouseOut(s),C&&(dt(this._container,"leaflet-interactive"),this._fireEvent([C],s,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,f,y){this._map._fireDOMEvent(f,y||f.type,s)},_bringToFront:function(s){var f=s._order;if(f){var y=f.next,C=f.prev;if(y)y.prev=C;else return;C?C.next=y:y&&(this._drawFirst=y),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(s)}},_bringToBack:function(s){var f=s._order;if(f){var y=f.next,C=f.prev;if(C)C.next=y;else return;y?y.prev=C:C&&(this._drawLast=C),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(s)}}});function yu(s){return Qe.canvas?new gu(s):null}var es=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),mf={_initContainer:function(){this._container=ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var f=s._container=es("shape");dt(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",s._path=es("path"),f.appendChild(s._path),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){var f=s._container;this._container.appendChild(f),s.options.interactive&&s.addInteractiveTarget(f)},_removePath:function(s){var f=s._container;Zt(f),s.removeInteractiveTarget(f),delete this._layers[d(s)]},_updateStyle:function(s){var f=s._stroke,y=s._fill,C=s.options,j=s._container;j.stroked=!!C.stroke,j.filled=!!C.fill,C.stroke?(f||(f=s._stroke=es("stroke")),j.appendChild(f),f.weight=C.weight+"px",f.color=C.color,f.opacity=C.opacity,C.dashArray?f.dashStyle=R(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=C.lineCap.replace("butt","flat"),f.joinstyle=C.lineJoin):f&&(j.removeChild(f),s._stroke=null),C.fill?(y||(y=s._fill=es("fill")),j.appendChild(y),y.color=C.fillColor||C.color,y.opacity=C.fillOpacity):y&&(j.removeChild(y),s._fill=null)},_updateCircle:function(s){var f=s._point.round(),y=Math.round(s._radius),C=Math.round(s._radiusY||y);this._setPath(s,s._empty()?"M0 0":"AL "+f.x+","+f.y+" "+y+","+C+" 0,"+65535*360)},_setPath:function(s,f){s._path.v=f},_bringToFront:function(s){Fo(s._container)},_bringToBack:function(s){ei(s._container)}},Er=Qe.vml?es:Pe,no=zr.extend({_initContainer:function(){this._container=Er("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Er("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Zt(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zr.prototype._update.call(this);var s=this._bounds,f=s.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,y.setAttribute("width",f.x),y.setAttribute("height",f.y)),nn(y,s.min),y.setAttribute("viewBox",[s.min.x,s.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(s){var f=s._path=Er("path");s.options.className&&dt(f,s.options.className),s.options.interactive&&dt(f,"leaflet-interactive"),this._updateStyle(s),this._layers[d(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Zt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[d(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var f=s._path,y=s.options;f&&(y.stroke?(f.setAttribute("stroke",y.color),f.setAttribute("stroke-opacity",y.opacity),f.setAttribute("stroke-width",y.weight),f.setAttribute("stroke-linecap",y.lineCap),f.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?f.setAttribute("stroke-dasharray",y.dashArray):f.removeAttribute("stroke-dasharray"),y.dashOffset?f.setAttribute("stroke-dashoffset",y.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),y.fill?(f.setAttribute("fill",y.fillColor||y.color),f.setAttribute("fill-opacity",y.fillOpacity),f.setAttribute("fill-rule",y.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(s,f){this._setPath(s,ke(s._parts,f))},_updateCircle:function(s){var f=s._point,y=Math.max(Math.round(s._radius),1),C=Math.max(Math.round(s._radiusY),1)||y,j="a"+y+","+C+" 0 1,0 ",G=s._empty()?"M0 0":"M"+(f.x-y)+","+f.y+j+y*2+",0 "+j+-y*2+",0 ";this._setPath(s,G)},_setPath:function(s,f){s._path.setAttribute("d",f)},_bringToFront:function(s){Fo(s._path)},_bringToBack:function(s){ei(s._path)}});Qe.vml&&no.include(mf);function Al(s){return Qe.svg||Qe.vml?new no(s):null}xt.include({getRenderer:function(s){var f=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var f=this._paneRenderers[s];return f===void 0&&(f=this._createRenderer({pane:s}),this._paneRenderers[s]=f),f},_createRenderer:function(s){return this.options.preferCanvas&&yu(s)||Al(s)}});var gf=oi.extend({initialize:function(s,f){oi.prototype.initialize.call(this,this._boundsToLatLngs(s),f)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=xe(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function pm(s,f){return new gf(s,f)}no.create=Er,no.pointsToPath=ke,Mr.geometryToLayer=Go,Mr.coordsToLatLng=kl,Mr.coordsToLatLngs=ya,Mr.latLngToCoords=Sl,Mr.latLngsToCoords=Cl,Mr.getFeature=Yo,Mr.asFeature=Pl,xt.mergeOptions({boxZoom:!0});var ts=tr.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Zt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),St(),fl(),this._startPoint=this._map.mouseEventToContainerPoint(s),ct(document,{contextmenu:wr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ht("div","leaflet-zoom-box",this._container),dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var f=new $(this._point,this._startPoint),y=f.getSize();nn(this._box,f.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(Zt(this._box),Ut(this._container,"leaflet-crosshair")),Zo(),hl(),Dt(document,{contextmenu:wr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var f=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",ts),xt.mergeOptions({doubleClickZoom:!0});var yf=tr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var f=this._map,y=f.getZoom(),C=f.options.zoomDelta,j=s.originalEvent.shiftKey?y-C:y+C;f.options.doubleClickZoom==="center"?f.setZoom(j):f.setZoomAround(s.containerPoint,j)}});xt.addInitHook("addHandler","doubleClickZoom",yf),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vu=tr.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new _r(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ut(this._map._container,"leaflet-grab"),Ut(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=xe(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var f=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(f),this._prunePositions(f)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,f){return s-(s-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;s.x<f.min.x&&(s.x=this._viscousLimit(s.x,f.min.x)),s.y<f.min.y&&(s.y=this._viscousLimit(s.y,f.min.y)),s.x>f.max.x&&(s.x=this._viscousLimit(s.x,f.max.x)),s.y>f.max.y&&(s.y=this._viscousLimit(s.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,f=Math.round(s/2),y=this._initialWorldOffset,C=this._draggable._newPos.x,j=(C-f+y)%s+f-y,G=(C+f+y)%s-f-y,ce=Math.abs(j+y)<Math.abs(G+y)?j:G;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ce},_onDragEnd:function(s){var f=this._map,y=f.options,C=!y.inertia||s.noInertia||this._times.length<2;if(f.fire("dragend",s),C)f.fire("moveend");else{this._prunePositions(+new Date);var j=this._lastPos.subtract(this._positions[0]),G=(this._lastTime-this._times[0])/1e3,ce=y.easeLinearity,ge=j.multiplyBy(ce/G),be=ge.distanceTo([0,0]),Ie=Math.min(y.inertiaMaxSpeed,be),Ze=ge.multiplyBy(Ie/be),rt=Ie/(y.inertiaDeceleration*ce),gt=Ze.multiplyBy(-rt/2).round();!gt.x&&!gt.y?f.fire("moveend"):(gt=f._limitOffset(gt,f.options.maxBounds),J(function(){f.panBy(gt,{duration:rt,easeLinearity:ce,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",vu),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wu=tr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ct(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,f=document.documentElement,y=s.scrollTop||f.scrollTop,C=s.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(C,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var f=this._panKeys={},y=this.keyCodes,C,j;for(C=0,j=y.left.length;C<j;C++)f[y.left[C]]=[-1*s,0];for(C=0,j=y.right.length;C<j;C++)f[y.right[C]]=[s,0];for(C=0,j=y.down.length;C<j;C++)f[y.down[C]]=[0,s];for(C=0,j=y.up.length;C<j;C++)f[y.up[C]]=[0,-1*s]},_setZoomDelta:function(s){var f=this._zoomKeys={},y=this.keyCodes,C,j;for(C=0,j=y.zoomIn.length;C<j;C++)f[y.zoomIn[C]]=s;for(C=0,j=y.zoomOut.length;C<j;C++)f[y.zoomOut[C]]=-s},_addHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var f=s.keyCode,y=this._map,C;if(f in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(C=this._panKeys[f],s.shiftKey&&(C=le(C).multiplyBy(3)),y.options.maxBounds&&(C=y._limitOffset(le(C),y.options.maxBounds)),y.options.worldCopyJump){var j=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(C)));y.panTo(j)}else y.panBy(C)}else if(f in this._zoomKeys)y.setZoom(y.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;wr(s)}}});xt.addInitHook("addHandler","keyboard",wu),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bt=tr.extend({addHooks:function(){ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var f=Jd(s),y=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var C=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),C),wr(s)},_performZoom:function(){var s=this._map,f=s.getZoom(),y=this._map.options.zoomSnap||0;s._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),j=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,G=y?Math.ceil(j/y)*y:j,ce=s._limitZoom(f+(this._delta>0?G:-G))-f;this._delta=0,this._startTime=null,ce&&(s.options.scrollWheelZoom==="center"?s.setZoom(f+ce):s.setZoomAround(this._lastMousePos,f+ce))}});xt.addInitHook("addHandler","scrollWheelZoom",Bt);var _u=600;xt.mergeOptions({tapHold:Qe.touchNative&&Qe.safari&&Qe.mobile,tapTolerance:15});var _a=tr.extend({addHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var f=s.touches[0];this._startPos=this._newPos=new re(f.clientX,f.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ct(document,"touchend",Qt),ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),_u),ct(document,"touchend touchcancel contextmenu",this._cancel,this),ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Dt(document,"touchend",Qt),Dt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(s){var f=s.touches[0];this._newPos=new re(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,f){var y=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});y._simulated=!0,f.target.dispatchEvent(y)}});xt.addInitHook("addHandler","tapHold",_a),xt.mergeOptions({touchZoom:Qe.touch,bounceAtZoomLimits:!0});var ns=tr.extend({addHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ut(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var f=this._map;if(!(!s.touches||s.touches.length!==2||f._animatingZoom||this._zooming)){var y=f.mouseEventToContainerPoint(s.touches[0]),C=f.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(y.add(C)._divideBy(2))),this._startDist=y.distanceTo(C),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend touchcancel",this._onTouchEnd,this),Qt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var f=this._map,y=f.mouseEventToContainerPoint(s.touches[0]),C=f.mouseEventToContainerPoint(s.touches[1]),j=y.distanceTo(C)/this._startDist;if(this._zoom=f.getScaleZoom(j,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&j<1||this._zoom>f.getMaxZoom()&&j>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,j===1)return}else{var G=y._add(C)._divideBy(2)._subtract(this._centerPoint);if(j===1&&G.x===0&&G.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(G),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var ce=c(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(ce,this,!0),Qt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",ns),xt.BoxZoom=ts,xt.DoubleClickZoom=yf,xt.Drag=vu,xt.Keyboard=wu,xt.ScrollWheelZoom=Bt,xt.TapHold=_a,xt.TouchZoom=ns,n.Bounds=$,n.Browser=Qe,n.CRS=Ue,n.Canvas=gu,n.Circle=bl,n.CircleMarker=xl,n.Class=O,n.Control=Hn,n.DivIcon=Nl,n.DivOverlay=jr,n.DomEvent=gl,n.DomUtil=da,n.Draggable=_r,n.Evented=oe,n.FeatureGroup=ri,n.GeoJSON=Mr,n.GridLayer=Si,n.Handler=tr,n.Icon=to,n.ImageOverlay=ki,n.LatLng=ve,n.LatLngBounds=Ce,n.Layer=xr,n.LayerGroup=bi,n.LineUtil=of,n.Map=xt,n.Marker=ii,n.Mixin=ru,n.Path=Ei,n.Point=re,n.PolyUtil=rm,n.Polygon=oi,n.Polyline=Wn,n.Popup=Tl,n.PosAnimation=yl,n.Projection=lm,n.Rectangle=gf,n.Renderer=zr,n.SVG=no,n.SVGOverlay=hu,n.TileLayer=Ci,n.Tooltip=Qo,n.Transformation=wt,n.Util=X,n.VideoOverlay=fu,n.bind=c,n.bounds=Q,n.canvas=yu,n.circle=ga,n.circleMarker=cf,n.control=xi,n.divIcon=hf,n.extend=i,n.featureGroup=af,n.geoJSON=uf,n.geoJson=br,n.gridLayer=Xo,n.icon=lf,n.imageOverlay=df,n.latLng=Re,n.latLngBounds=xe,n.layerGroup=ma,n.map=_i,n.marker=dm,n.point=le,n.polygon=hm,n.polyline=fm,n.popup=Jo,n.rectangle=pm,n.setOptions=v,n.stamp=d,n.svg=Al,n.svgOverlay=pu,n.tileLayer=mu,n.tooltip=va,n.transformation=At,n.version=r,n.videoOverlay=ff;var vf=window.L;n.noConflict=function(){return window.L=vf,this},window.L=n})}(Yu,Yu.exports)),Yu.exports}var zH=jH();const ec=kd(zH),DH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",BH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let FH=ec.icon({iconUrl:DH,shadowUrl:BH,iconSize:[25,41],iconAnchor:[12,41]});ec.Marker.prototype.options.icon=FH;const Ry={"9q8yyz":[37.7749,-122.4194],"9q8yym":[34.0522,-118.2437],"9q8yyk":[40.7128,-74.006],"9q8yyf":[41.8781,-87.6298],dpwh:[47.6062,-122.3321],dqcjq:[39.7392,-104.9903]};function UH(e){if(Ry[e])return Ry[e];for(const[t,n]of Object.entries(Ry))if(e.startsWith(t))return n;return[25+Math.random()*35,-125+Math.random()*55]}function d2({lockers:e=[],onLockerClick:t,center:n=[45,-100],zoom:r=3}){const i=A.useRef(null),a=A.useRef(null),c=A.useRef([]);return A.useEffect(()=>{if(!a.current)return;const u=ec.map(a.current).setView(n,r);return ec.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(u),i.current=u,()=>{u.remove(),i.current=null}},[n,r]),A.useEffect(()=>{if(i.current&&(c.current.forEach(u=>u.remove()),c.current=[],e.forEach(u=>{if(!u.geohash)return;const d=UH(u.geohash);if(!d)return;const p=u.price>0&&u.price<1e3?`<div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${u.title}</h3>
            <p style="margin: 0; color: #666;">${u.description||""}</p>
            <p style="margin: 5px 0 0 0; font-size: 14px; font-weight: bold;">
              ${u.price} products
            </p>
          </div>`:`<div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${u.title}</h3>
            <p style="margin: 0; color: #666;">${u.description||""}</p>
          </div>`,g=ec.marker(d).addTo(i.current).bindPopup(p);t&&g.on("click",()=>t(u)),c.current.push(g)}),c.current.length>0&&c.current.length<10)){const u=new ec.FeatureGroup(c.current);i.current.fitBounds(u.getBounds().pad(.1))}},[e,t]),w.jsx("div",{ref:a,style:{height:"100%",width:"100%",minHeight:"400px"}})}const Iy=[{id:"1",dTag:"locker-sf-001",name:"Mission District Secure Box",description:"24/7 accessible smart locker in secure building. Camera monitored.",price:500,geohash:"9q8yyz",city:"San Francisco",state:"CA",owner:"npub1owner1...",dimensions:"40x50x60 cm",features:["24/7 Access","Camera","Climate Controlled"]},{id:"2",dTag:"locker-nyc-001",name:"Brooklyn Heights Drop",description:"Street-level locker. Well-lit area, residential neighborhood.",price:750,geohash:"9q8yyk",city:"New York",state:"NY",owner:"npub1owner2...",dimensions:"35x45x55 cm",features:["Ground Floor","Discreet"]},{id:"3",dTag:"locker-sea-001",name:"Capitol Hill Tech Hub",description:"Indoor location near coffee shops. NFC + QR unlock.",price:400,geohash:"dpwh",city:"Seattle",state:"WA",owner:"npub1owner3...",dimensions:"50x60x70 cm",features:["NFC Unlock","Indoor","WiFi"]},{id:"4",dTag:"locker-la-001",name:"Silverlake Community Box",description:"Community-run locker. Local volunteers maintain.",price:300,geohash:"9q8yym",city:"Los Angeles",state:"CA",owner:"npub1owner4...",dimensions:"30x40x50 cm",features:["Community Run","Cheap"]}],$H=[{id:"seller-1",name:"CryptoVault",npub:"npub1vault...",tagline:"Premium hardware wallets & security devices",items:["ColdCard","SeedSigner","Faraday bags"],trustScore:4.9,sales:156,servicesAreas:["9q8yyz","9q8yyk","dpwh"],isPremium:!0},{id:"seller-2",name:"PrivacyFirst",npub:"npub1priv...",tagline:"De-googled phones & privacy tools",items:["Pixel w/ GrapheneOS","VPN subs"," anon SIMs"],trustScore:4.7,sales:89,servicesAreas:["9q8yyz","9q8yym","dpwh"],isPremium:!0},{id:"seller-3",name:"SatStacker",npub:"npub1sat...",tagline:"Bitcoin merchandise & educational kits",items:["Metal seeds","Books","Stickers"],trustScore:5,sales:234,servicesAreas:["9q8yyk","dqcjq"],isPremium:!1}],ZH={"san francisco":["9q8yyz"],sf:["9q8yyz"],94102:["9q8yyz"],94103:["9q8yyz"],"new york":["9q8yyk"],nyc:["9q8yyk"],10001:["9q8yyk"],seattle:["dpwh"],98101:["dpwh"],"los angeles":["9q8yym"],la:["9q8yym"],90001:["9q8yym"],denver:["dqcjq"],80201:["dqcjq"],chicago:["9q8yyf"],60601:["9q8yyf"]};function HH(){const{nostr:e}=Ar(),[t,n]=A.useState("grid"),[r,i]=A.useState(2e3),[a,c]=A.useState(!1),[u,d]=A.useState(""),[p,g]=A.useState(""),[m,b]=A.useState(!1),x=A.useMemo(()=>{if(!p.trim())return null;const T=p.toLowerCase().trim();return ZH[T]||null},[p]),k=A.useMemo(()=>Iy.filter(T=>{const R=!u||T.name.toLowerCase().includes(u.toLowerCase())||T.description.toLowerCase().includes(u.toLowerCase())||T.city.toLowerCase().includes(u.toLowerCase()),z=T.price<=r,D=!x||x.some(Z=>T.geohash.startsWith(Z));return R&&z&&D}),[u,r,x]),v=A.useMemo(()=>x?$H.filter(T=>T.servicesAreas.some(R=>x.some(z=>R.startsWith(z)))):[],[x]),E=T=>T>=1e3?`${(T/1e3).toFixed(1)}k`:`${T}`,S=p&&!x;return v.length>0,w.jsxs("div",{className:"min-h-screen bg-background",children:[w.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[w.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[w.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold",children:"Locker Marketplace"}),w.jsx("p",{className:"text-muted-foreground",children:"Find secure drop boxes for anonymous exchanges"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs(mt,{variant:"outline",onClick:()=>b(!0),children:[w.jsx(ld,{className:"h-4 w-4 mr-2"}),"Browse Map"]}),w.jsx(mt,{asChild:!0,children:w.jsxs(Tn,{to:"/dashboard",children:[w.jsx(xv,{className:"h-4 w-4 mr-2"}),"List Your Locker"]})})]})]}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"relative",children:[w.jsx(yD,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),w.jsx(vn,{placeholder:"Search lockers...",value:u,onChange:T=>d(T.target.value),className:"pl-10"})]}),w.jsxs("div",{className:"relative",children:[w.jsx(Rp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),w.jsx(vn,{placeholder:"Enter city or zip code...",value:p,onChange:T=>g(T.target.value),className:"pl-10"})]})]}),w.jsx("div",{className:"flex flex-wrap items-center gap-3",children:w.jsxs("div",{className:"flex gap-2 flex-1",children:[w.jsxs(mt,{variant:t==="grid"?"default":"outline",size:"sm",onClick:()=>n("grid"),children:[w.jsx(mD,{className:"h-4 w-4 mr-2"}),"Grid"]}),w.jsxs(mt,{variant:t==="map"?"default":"outline",size:"sm",onClick:()=>n("map"),children:[w.jsx(ld,{className:"h-4 w-4 mr-2"}),"Map"]}),w.jsxs(mt,{variant:"outline",size:"sm",onClick:()=>c(!a),children:[w.jsx(hD,{className:"h-4 w-4 mr-2"}),"Filters"]})]})}),a&&w.jsx(sn,{children:w.jsx(an,{className:"pt-6",children:w.jsxs("div",{className:"space-y-2",children:[w.jsxs(cr,{children:["Max Hourly Rate: ",E(r)," sats"]}),w.jsx(XN,{min:0,max:5e3,step:100,value:[r],onValueChange:([T])=>i(T)})]})})})]}),S?w.jsx(WH,{location:p,onClear:()=>g("")}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[w.jsx(xv,{className:"h-4 w-4"}),k.length," locker",k.length!==1?"s":""," found",p&&w.jsxs("span",{children:["near ",p]})]}),t==="map"?w.jsxs("div",{className:"grid lg:grid-cols-3 gap-4",children:[w.jsx(sn,{className:"lg:col-span-2 min-h-[500px]",children:w.jsx(d2,{lockers:k.map(T=>({id:T.id,dTag:T.dTag,title:T.name,price:T.price,geohash:T.geohash,status:"available",description:`${T.city}, ${T.state}`}))})}),w.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:k.map(T=>w.jsx(f2,{locker:T,compact:!0},T.id))})]}):w.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:k.map(T=>w.jsx(f2,{locker:T},T.id))}),k.length>0&&w.jsxs("div",{className:"border-t border-dashed pt-6 mt-8",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[w.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Featured from the circular economy"}),w.jsx(Fn,{variant:"outline",className:"text-xs",children:"P2P Network"})]}),w.jsx(sn,{className:"bg-muted/30",children:w.jsx(an,{className:"p-4",children:w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[w.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center shrink-0",children:w.jsx(Ev,{className:"h-6 w-6 text-primary"})}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[w.jsx("h4",{className:"font-semibold",children:"CryptoVault"}),w.jsx(Fn,{variant:"secondary",className:"text-xs",children:" 4.9 Trust"}),w.jsx(Fn,{variant:"outline",className:"text-xs",children:"156 sales"})]}),w.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Premium hardware wallets & security devices. Ships to any locker or local drop-off."}),w.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[w.jsx(Fn,{variant:"outline",className:"text-xs",children:"ColdCard"}),w.jsx(Fn,{variant:"outline",className:"text-xs",children:"SeedSigner"}),w.jsx(Fn,{variant:"outline",className:"text-xs",children:"Faraday Bags"})]})]}),w.jsxs("div",{className:"flex gap-2 shrink-0",children:[w.jsx(mt,{size:"sm",variant:"outline",children:"Message"}),w.jsx(mt,{size:"sm",children:"View Store"})]})]})})}),w.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[v.map(T=>w.jsxs(mt,{variant:"outline",size:"sm",className:"h-auto py-1.5",children:[w.jsx(Ev,{className:"h-3 w-3 mr-1.5"}),T.name]},T.id)),w.jsx(mt,{variant:"ghost",size:"sm",className:"h-auto py-1.5 text-muted-foreground",children:"Join network "})]})]})]})]}),w.jsx(Od,{open:m,onOpenChange:b,children:w.jsx(Uc,{className:"max-w-6xl h-[80vh] p-0",children:w.jsxs("div",{className:"grid md:grid-cols-3 h-full",children:[w.jsx("div",{className:"md:col-span-2 h-full min-h-[400px]",children:w.jsx(d2,{lockers:Iy.map(T=>({id:T.id,dTag:T.dTag,title:T.name,price:T.price,geohash:T.geohash,status:"available",description:`${T.city}, ${T.state}`}))})}),w.jsxs("div",{className:"p-4 overflow-y-auto border-l",children:[w.jsx("h3",{className:"font-semibold text-lg mb-4",children:"All Locations"}),w.jsx("div",{className:"space-y-2",children:Iy.map(T=>w.jsx(sn,{className:"cursor-pointer hover:border-primary",children:w.jsxs(an,{className:"p-3",children:[w.jsx("p",{className:"font-medium text-sm",children:T.name}),w.jsxs("p",{className:"text-xs text-muted-foreground",children:[T.city,", ",T.state]}),w.jsxs("p",{className:"text-sm font-medium mt-1",children:[E(T.price)," sats/hr"]})]})},T.id))})]})]})})})]})}function f2({locker:e,compact:t=!1}){return t?w.jsx(sn,{className:"hover:border-primary transition-colors",children:w.jsxs(an,{className:"p-3",children:[w.jsx("p",{className:"font-medium text-sm",children:e.name}),w.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.city,", ",e.state]}),w.jsxs("p",{className:"text-sm font-medium mt-1",children:[e.price," sats/hr"]})]})}):w.jsxs(sn,{className:"hover:border-primary transition-colors group",children:[w.jsxs(Qn,{className:"pb-3",children:[w.jsx("div",{className:"flex items-start justify-between",children:w.jsx(fr,{className:"text-base group-hover:text-primary transition-colors",children:e.name})}),w.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[w.jsx(Rp,{className:"h-3 w-3"}),w.jsxs("span",{children:[e.city,", ",e.state]})]})]}),w.jsxs(an,{className:"space-y-3",children:[w.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),w.jsx("div",{className:"flex flex-wrap gap-1",children:e.features.map(n=>w.jsx(Fn,{variant:"secondary",className:"text-xs",children:n},n))}),e.dimensions&&w.jsx("p",{className:"text-xs text-muted-foreground",children:e.dimensions})]}),w.jsxs(kN,{className:"pt-0 flex items-center justify-between",children:[w.jsxs("span",{className:"text-lg font-bold",children:[e.price," ",w.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"sats/hr"})]}),w.jsx(mt,{asChild:!0,size:"sm",children:w.jsx(Tn,{to:`/locker/${e.dTag}`,children:"Rent"})})]})]})}function WH({location:e,onClear:t}){return w.jsx(sn,{className:"text-center py-12",children:w.jsxs(an,{className:"space-y-4",children:[w.jsx(Rp,{className:"h-12 w-12 mx-auto text-muted-foreground"}),w.jsxs("div",{children:[w.jsxs("h3",{className:"text-xl font-bold mb-2",children:["No lockers in ",e]}),w.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Be the first to host a locker and enable local P2P trades."})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4",children:[w.jsx(mt,{asChild:!0,children:w.jsxs(Tn,{to:"/dashboard",children:[w.jsx(xv,{className:"h-4 w-4 mr-2"}),"Host a Locker"]})}),w.jsx(mt,{variant:"outline",onClick:t,children:"Clear Search"})]})]})})}var jw="Radio",[VH,eA]=$n(jw),[qH,KH]=VH(jw),tA=A.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:a,disabled:c,value:u="on",onCheck:d,form:p,...g}=e,[m,b]=A.useState(null),x=Tt(t,E=>b(E)),k=A.useRef(!1),v=m?p||!!m.closest("form"):!0;return w.jsxs(qH,{scope:n,checked:i,disabled:c,children:[w.jsx(st.button,{type:"button",role:"radio","aria-checked":i,"data-state":oA(i),"data-disabled":c?"":void 0,disabled:c,value:u,...g,ref:x,onClick:qe(e.onClick,E=>{i||d==null||d(),v&&(k.current=E.isPropagationStopped(),k.current||E.stopPropagation())})}),v&&w.jsx(iA,{control:m,bubbles:!k.current,name:r,value:u,checked:i,required:a,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});tA.displayName=jw;var nA="RadioIndicator",rA=A.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,a=KH(nA,n);return w.jsx(Rr,{present:r||a.checked,children:w.jsx(st.span,{"data-state":oA(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});rA.displayName=nA;var GH="RadioBubbleInput",iA=A.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const c=A.useRef(null),u=Tt(c,a),d=Ow(n),p=Mp(t);return A.useEffect(()=>{const g=c.current;if(!g)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&x){const k=new Event("click",{bubbles:r});x.call(g,n),g.dispatchEvent(k)}},[d,n,r]),w.jsx(st.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});iA.displayName=GH;function oA(e){return e?"checked":"unchecked"}var YH=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Gp="RadioGroup",[JH,KW]=$n(Gp,[$c,eA]),sA=$c(),aA=eA(),[QH,XH]=JH(Gp),lA=A.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:a,required:c=!1,disabled:u=!1,orientation:d,dir:p,loop:g=!0,onValueChange:m,...b}=e,x=sA(n),k=jd(p),[v,E]=zo({prop:a,defaultProp:i??"",onChange:m,caller:Gp});return w.jsx(QH,{scope:n,name:r,required:c,disabled:u,value:v,onValueChange:E,children:w.jsx(hw,{asChild:!0,...x,orientation:d,dir:k,loop:g,children:w.jsx(st.div,{role:"radiogroup","aria-required":c,"aria-orientation":d,"data-disabled":u?"":void 0,dir:k,...b,ref:t})})})});lA.displayName=Gp;var cA="RadioGroupItem",uA=A.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,a=XH(cA,n),c=a.disabled||r,u=sA(n),d=aA(n),p=A.useRef(null),g=Tt(t,p),m=a.value===i.value,b=A.useRef(!1);return A.useEffect(()=>{const x=v=>{YH.includes(v.key)&&(b.current=!0)},k=()=>b.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",k)}},[]),w.jsx(pw,{asChild:!0,...u,focusable:!c,active:m,children:w.jsx(tA,{disabled:c,required:a.required,checked:m,...d,...i,name:a.name,ref:g,onCheck:()=>a.onValueChange(i.value),onKeyDown:qe(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:qe(i.onFocus,()=>{var x;b.current&&((x=p.current)==null||x.click())})})})});uA.displayName=cA;var eW="RadioGroupIndicator",dA=A.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=aA(n);return w.jsx(rA,{...i,...r,ref:t})});dA.displayName=eW;var fA=lA,hA=uA,tW=dA;const pA=A.forwardRef(({className:e,...t},n)=>w.jsx(fA,{className:at("grid gap-2",e),...t,ref:n}));pA.displayName=fA.displayName;const mA=A.forwardRef(({className:e,...t},n)=>w.jsx(hA,{ref:n,className:at("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:w.jsx(tW,{className:"flex items-center justify-center",children:w.jsx(sC,{className:"h-2.5 w-2.5 fill-current text-current"})})}));mA.displayName=hA.displayName;const h2=[{id:"1",dTag:"prod-001",title:"Privacy-First Smartphone",description:"De-googled Android phone with GrapheneOS pre-installed. Full privacy setup including hardened browser, encrypted messaging, and no Google services. Perfect for those who value their digital privacy.",price:899e3,category:"Electronics",vendor:"PrivacyTech Co",vendorNpub:"npub1abc...",inStock:!0},{id:"2",dTag:"prod-002",title:"Faraday Phone Pouch",description:"Military-grade signal blocking pouch. Protects against tracking, surveillance, and unauthorized access to your device.",price:45e3,category:"Accessories",vendor:"SignalSafe",vendorNpub:"npub1def...",inStock:!0}],p2=[{id:"1",name:"Downtown SF",location:"San Francisco, CA",geohash:"9q8yyz"},{id:"2",name:"Union Square",location:"New York, NY",geohash:"9q8yyk"},{id:"3",name:"Tech Hub",location:"Seattle, WA",geohash:"dpwh"},{id:"4",name:"LAX Area",location:"Los Angeles, CA",geohash:"9q8yym"}];function nW(){var m;const{dTag:e}=ow(),{toast:t}=Td(),[n,r]=A.useState(!1),[i,a]=A.useState(""),[c,u]=A.useState("locker"),d=h2.find(b=>b.dTag===e)||h2[0],p=b=>b>=1e8?` ${(b/1e8).toFixed(3)}`:b>=1e6?`${(b/1e6).toFixed(2)}M sats`:b>=1e3?`${(b/1e3).toFixed(1)}k sats`:`${b} sats`,g=()=>{t({title:"Order placed!",description:"The vendor has been notified. You'll receive a pickup code once they ship to your selected locker."}),r(!1),u("locker"),a("")};return w.jsxs("div",{className:"min-h-screen bg-background",children:[w.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[w.jsx(mt,{variant:"ghost",asChild:!0,className:"mb-4",children:w.jsxs(Tn,{to:"/marketplace",children:[w.jsx(iD,{className:"h-4 w-4 mr-2"}),"Back to Marketplace"]})}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:w.jsx(wD,{className:"h-32 w-32 text-muted-foreground"})}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx(Fn,{className:"mb-2",children:d.category}),w.jsx("h1",{className:"text-3xl font-bold mb-2",children:d.title}),w.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[w.jsx(Ev,{className:"h-4 w-4"}),w.jsx("span",{children:d.vendor})]})]}),w.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:d.description}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-y",children:[w.jsx("span",{className:"text-3xl font-bold",children:p(d.price)}),w.jsx(Fn,{variant:d.inStock?"default":"secondary",children:d.inStock?"In Stock":"Out of Stock"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[w.jsx(xD,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium",children:"Ships to DeadDropstr Lockers"}),w.jsx("p",{className:"text-muted-foreground",children:"Pick up anonymously at a location near you"})]})]}),w.jsx(mt,{size:"lg",className:"w-full",disabled:!d.inStock,onClick:()=>r(!0),children:d.inStock?"Buy Now":"Out of Stock"})]})]})]}),w.jsxs(sn,{className:"mt-12",children:[w.jsx(Qn,{children:w.jsx(fr,{children:"How DeadDropstr Delivery Works"})}),w.jsx(an,{children:w.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-center",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:w.jsx("span",{className:"font-bold",children:"1"})}),w.jsx("p",{className:"font-medium",children:"Choose Locker"}),w.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a convenient pickup location"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:w.jsx("span",{className:"font-bold",children:"2"})}),w.jsx("p",{className:"font-medium",children:"Pay with Bitcoin"}),w.jsx("p",{className:"text-sm text-muted-foreground",children:"Lightning or on-chain"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:w.jsx("span",{className:"font-bold",children:"3"})}),w.jsx("p",{className:"font-medium",children:"Vendor Ships"}),w.jsx("p",{className:"text-sm text-muted-foreground",children:"Product delivered to your locker"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:w.jsx("span",{className:"font-bold",children:"4"})}),w.jsx("p",{className:"font-medium",children:"Pick Up"}),w.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive code & collect anonymously"})]})]})})]})]}),w.jsx(Od,{open:n,onOpenChange:r,children:w.jsxs(Uc,{className:"max-w-lg",children:[w.jsxs(Md,{children:[w.jsx($p,{children:"Complete Your Order"}),w.jsx(fw,{children:"Choose a locker location for pickup"})]}),c==="locker"&&w.jsxs("div",{className:"space-y-4",children:[w.jsx(pA,{value:i,onValueChange:a,children:w.jsx("div",{className:"space-y-2",children:p2.map(b=>w.jsxs("div",{children:[w.jsx(mA,{value:b.id,id:b.id,className:"peer sr-only"}),w.jsx(cr,{htmlFor:b.id,className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-muted peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Rp,{className:"h-5 w-5 text-muted-foreground"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium",children:b.name}),w.jsx("p",{className:"text-sm text-muted-foreground",children:b.location})]})]})})]},b.id))})}),w.jsx(mt,{className:"w-full",disabled:!i,onClick:()=>u("confirm"),children:"Continue"})]}),c==="confirm"&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[w.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Summary"}),w.jsx("p",{className:"font-medium",children:d.title}),w.jsx("p",{className:"text-lg font-bold",children:p(d.price)}),w.jsxs("div",{className:"pt-2 border-t",children:[w.jsx("p",{className:"text-sm text-muted-foreground",children:"Deliver to:"}),w.jsx("p",{className:"font-medium",children:(m=p2.find(b=>b.id===i))==null?void 0:m.name})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(mt,{variant:"outline",onClick:()=>u("locker"),children:"Back"}),w.jsx(mt,{className:"flex-1",onClick:g,children:"Pay & Place Order"})]})]})]})})]})}function kh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ly={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var m2;function rW(){return m2||(m2=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,a){function c(p,g){if(!i[p]){if(!r[p]){var m=typeof kh=="function"&&kh;if(!g&&m)return m(p,!0);if(u)return u(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var x=i[p]={exports:{}};r[p][0].call(x.exports,function(k){var v=r[p][1][k];return c(v||k)},x,x.exports,n,r,i,a)}return i[p].exports}for(var u=typeof kh=="function"&&kh,d=0;d<a.length;d++)c(a[d]);return c}({1:[function(n,r,i){var a=n("./utils"),c=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var p,g,m,b,x,k,v,E=[],S=0,T=d.length,R=T,z=a.getTypeOf(d)!=="string";S<d.length;)R=T-S,m=z?(p=d[S++],g=S<T?d[S++]:0,S<T?d[S++]:0):(p=d.charCodeAt(S++),g=S<T?d.charCodeAt(S++):0,S<T?d.charCodeAt(S++):0),b=p>>2,x=(3&p)<<4|g>>4,k=1<R?(15&g)<<2|m>>6:64,v=2<R?63&m:64,E.push(u.charAt(b)+u.charAt(x)+u.charAt(k)+u.charAt(v));return E.join("")},i.decode=function(d){var p,g,m,b,x,k,v=0,E=0,S="data:";if(d.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var T,R=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&R--,d.charAt(d.length-2)===u.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=c.uint8array?new Uint8Array(0|R):new Array(0|R);v<d.length;)p=u.indexOf(d.charAt(v++))<<2|(b=u.indexOf(d.charAt(v++)))>>4,g=(15&b)<<4|(x=u.indexOf(d.charAt(v++)))>>2,m=(3&x)<<6|(k=u.indexOf(d.charAt(v++))),T[E++]=p,x!==64&&(T[E++]=g),k!==64&&(T[E++]=m);return T}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),c=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function p(g,m,b,x,k){this.compressedSize=g,this.uncompressedSize=m,this.crc32=b,this.compression=x,this.compressedContent=k}p.prototype={getContentWorker:function(){var g=new c(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return g.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new c(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(g,m,b){return g.pipe(new u).pipe(new d("uncompressedSize")).pipe(m.compressWorker(b)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),c=function(){for(var u,d=[],p=0;p<256;p++){u=p;for(var g=0;g<8;g++)u=1&u?3988292384^u>>>1:u>>>1;d[p]=u}return d}();r.exports=function(u,d){return u!==void 0&&u.length?a.getTypeOf(u)!=="string"?function(p,g,m,b){var x=c,k=b+m;p^=-1;for(var v=b;v<k;v++)p=p>>>8^x[255&(p^g[v])];return-1^p}(0|d,u,u.length,0):function(p,g,m,b){var x=c,k=b+m;p^=-1;for(var v=b;v<k;v++)p=p>>>8^x[255&(p^g.charCodeAt(v))];return-1^p}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=n("pako"),u=n("./utils"),d=n("./stream/GenericWorker"),p=a?"uint8array":"array";function g(m,b){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=b,this.meta={}}i.magic="\b\0",u.inherits(g,d),g.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,m.data),!1)},g.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(b){m.push({data:b,meta:m.meta})}},i.compressWorker=function(m){return new g("Deflate",m)},i.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(x,k){var v,E="";for(v=0;v<k;v++)E+=String.fromCharCode(255&x),x>>>=8;return E}function c(x,k,v,E,S,T){var R,z,D=x.file,Z=x.compression,V=T!==p.utf8encode,Y=u.transformTo("string",T(D.name)),U=u.transformTo("string",p.utf8encode(D.name)),q=D.comment,J=u.transformTo("string",T(q)),F=u.transformTo("string",p.utf8encode(q)),X=U.length!==D.name.length,O=F.length!==q.length,K="",ae="",oe="",re=D.dir,te=D.date,le={crc32:0,compressedSize:0,uncompressedSize:0};k&&!v||(le.crc32=x.crc32,le.compressedSize=x.compressedSize,le.uncompressedSize=x.uncompressedSize);var $=0;k&&($|=8),V||!X&&!O||($|=2048);var Q=0,Ce=0;re&&(Q|=16),S==="UNIX"?(Ce=798,Q|=function(ve,Re){var Ue=ve;return ve||(Ue=Re?16893:33204),(65535&Ue)<<16}(D.unixPermissions,re)):(Ce=20,Q|=function(ve){return 63&(ve||0)}(D.dosPermissions)),R=te.getUTCHours(),R<<=6,R|=te.getUTCMinutes(),R<<=5,R|=te.getUTCSeconds()/2,z=te.getUTCFullYear()-1980,z<<=4,z|=te.getUTCMonth()+1,z<<=5,z|=te.getUTCDate(),X&&(ae=a(1,1)+a(g(Y),4)+U,K+="up"+a(ae.length,2)+ae),O&&(oe=a(1,1)+a(g(J),4)+F,K+="uc"+a(oe.length,2)+oe);var xe="";return xe+=`
\0`,xe+=a($,2),xe+=Z.magic,xe+=a(R,2),xe+=a(z,2),xe+=a(le.crc32,4),xe+=a(le.compressedSize,4),xe+=a(le.uncompressedSize,4),xe+=a(Y.length,2),xe+=a(K.length,2),{fileRecord:m.LOCAL_FILE_HEADER+xe+Y+K,dirRecord:m.CENTRAL_FILE_HEADER+a(Ce,2)+xe+a(J.length,2)+"\0\0\0\0"+a(Q,4)+a(E,4)+Y+K+J}}var u=n("../utils"),d=n("../stream/GenericWorker"),p=n("../utf8"),g=n("../crc32"),m=n("../signature");function b(x,k,v,E){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=v,this.encodeFileName=E,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,d),b.prototype.push=function(x){var k=x.meta.percent||0,v=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,d.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:v?(k+100*(v-E-1))/v:100}}))},b.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var k=this.streamFiles&&!x.file.dir;if(k){var v=c(x,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(x){this.accumulate=!1;var k=this.streamFiles&&!x.file.dir,v=c(x,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),k)this.push({data:function(E){return m.DATA_DESCRIPTOR+a(E.crc32,4)+a(E.compressedSize,4)+a(E.uncompressedSize,4)}(x),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var x=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var v=this.bytesWritten-x,E=function(S,T,R,z,D){var Z=u.transformTo("string",D(z));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(S,2)+a(S,2)+a(T,4)+a(R,4)+a(Z.length,2)+Z}(this.dirRecords.length,v,x,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(x){this._sources.push(x);var k=this;return x.on("data",function(v){k.processChunk(v)}),x.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),x.on("error",function(v){k.error(v)}),this},b.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(x){var k=this._sources;if(!d.prototype.error.call(this,x))return!1;for(var v=0;v<k.length;v++)try{k[v].error(x)}catch{}return!0},b.prototype.lock=function(){d.prototype.lock.call(this);for(var x=this._sources,k=0;k<x.length;k++)x[k].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),c=n("./ZipFileWorker");i.generateWorker=function(u,d,p){var g=new c(d.streamFiles,p,d.platform,d.encodeFileName),m=0;try{u.forEach(function(b,x){m++;var k=function(T,R){var z=T||R,D=a[z];if(!D)throw new Error(z+" is not a valid compression method !");return D}(x.options.compression,d.compression),v=x.options.compressionOptions||d.compressionOptions||{},E=x.dir,S=x.date;x._compressWorker(k,v).withStreamInfo("file",{name:b,dir:E,date:S,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(g)}),g.entriesCount=m}catch(b){g.error(b)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new a;for(var u in this)typeof this[u]!="function"&&(c[u]=this[u]);return c}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(c,u){return new a().loadAsync(c,u)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),c=n("./external"),u=n("./utf8"),d=n("./zipEntries"),p=n("./stream/Crc32Probe"),g=n("./nodejsUtils");function m(b){return new c.Promise(function(x,k){var v=b.decompressed.getContentWorker().pipe(new p);v.on("error",function(E){k(E)}).on("end",function(){v.streamInfo.crc32!==b.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}r.exports=function(b,x){var k=this;return x=a.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),g.isNode&&g.isStream(b)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",b,!0,x.optimizedBinaryString,x.base64).then(function(v){var E=new d(x);return E.load(v),E}).then(function(v){var E=[c.Promise.resolve(v)],S=v.files;if(x.checkCRC32)for(var T=0;T<S.length;T++)E.push(m(S[T]));return c.Promise.all(E)}).then(function(v){for(var E=v.shift(),S=E.files,T=0;T<S.length;T++){var R=S[T],z=R.fileNameStr,D=a.resolve(R.fileNameStr);k.file(D,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:x.createFolders}),R.dir||(k.file(D).unsafeOriginalName=z)}return E.zipComment.length&&(k.comment=E.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),c=n("../stream/GenericWorker");function u(d,p){c.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}a.inherits(u,c),u.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(g){p.push({data:g,meta:{percent:0}})}).on("error",function(g){p.isPaused?this.generatedError=g:p.error(g)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function c(u,d,p){a.call(this,d),this._helper=u;var g=this;u.on("data",function(m,b){g.push(m)||g._helper.pause(),p&&p(b)}).on("error",function(m){g.emit("error",m)}).on("end",function(){g.push(null)})}n("../utils").inherits(c,a),c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,c);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,c)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var c=new Buffer(a);return c.fill(0),c},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(D,Z,V){var Y,U=u.getTypeOf(Z),q=u.extend(V||{},g);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(D=S(D)),q.createFolders&&(Y=E(D))&&T.call(this,Y,!0);var J=U==="string"&&q.binary===!1&&q.base64===!1;V&&V.binary!==void 0||(q.binary=!J),(Z instanceof m&&Z.uncompressedSize===0||q.dir||!Z||Z.length===0)&&(q.base64=!1,q.binary=!0,Z="",q.compression="STORE",U="string");var F=null;F=Z instanceof m||Z instanceof d?Z:k.isNode&&k.isStream(Z)?new v(D,Z):u.prepareContent(D,Z,q.binary,q.optimizedBinaryString,q.base64);var X=new b(D,F,q);this.files[D]=X}var c=n("./utf8"),u=n("./utils"),d=n("./stream/GenericWorker"),p=n("./stream/StreamHelper"),g=n("./defaults"),m=n("./compressedObject"),b=n("./zipObject"),x=n("./generate"),k=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),E=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var Z=D.lastIndexOf("/");return 0<Z?D.substring(0,Z):""},S=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},T=function(D,Z){return Z=Z!==void 0?Z:g.createFolders,D=S(D),this.files[D]||a.call(this,D,null,{dir:!0,createFolders:Z}),this.files[D]};function R(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var Z,V,Y;for(Z in this.files)Y=this.files[Z],(V=Z.slice(this.root.length,Z.length))&&Z.slice(0,this.root.length)===this.root&&D(V,Y)},filter:function(D){var Z=[];return this.forEach(function(V,Y){D(V,Y)&&Z.push(Y)}),Z},file:function(D,Z,V){if(arguments.length!==1)return D=this.root+D,a.call(this,D,Z,V),this;if(R(D)){var Y=D;return this.filter(function(q,J){return!J.dir&&Y.test(q)})}var U=this.files[this.root+D];return U&&!U.dir?U:null},folder:function(D){if(!D)return this;if(R(D))return this.filter(function(U,q){return q.dir&&D.test(U)});var Z=this.root+D,V=T.call(this,Z),Y=this.clone();return Y.root=V.name,Y},remove:function(D){D=this.root+D;var Z=this.files[D];if(Z||(D.slice(-1)!=="/"&&(D+="/"),Z=this.files[D]),Z&&!Z.dir)delete this.files[D];else for(var V=this.filter(function(U,q){return q.name.slice(0,D.length)===D}),Y=0;Y<V.length;Y++)delete this.files[V[Y].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var Z,V={};try{if((V=u.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");u.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var Y=V.comment||this.comment||"";Z=x.generateWorker(this,V,Y)}catch(U){(Z=new d("error")).error(U)}return new p(Z,V.type||"string",V.mimeType)},generateAsync:function(D,Z){return this.generateInternalStream(D).accumulate(Z)},generateNodeStream:function(D,Z){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(Z)}};r.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function c(u){a.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}n("../utils").inherits(c,a),c.prototype.byteAt=function(u){return this.data[this.zero+u]},c.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),p=u.charCodeAt(1),g=u.charCodeAt(2),m=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===d&&this.data[b+1]===p&&this.data[b+2]===g&&this.data[b+3]===m)return b-this.zero;return-1},c.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),p=u.charCodeAt(1),g=u.charCodeAt(2),m=u.charCodeAt(3),b=this.readData(4);return d===b[0]&&p===b[1]&&g===b[2]&&m===b[3]},c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function c(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,p=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=u,p},readString:function(u){return a.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=c},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function c(u){a.call(this,u)}n("../utils").inherits(c,a),c.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function c(u){a.call(this,u)}n("../utils").inherits(c,a),c.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},c.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},c.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},c.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function c(u){a.call(this,u)}n("../utils").inherits(c,a),c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),c=n("../support"),u=n("./ArrayReader"),d=n("./StringReader"),p=n("./NodeBufferReader"),g=n("./Uint8ArrayReader");r.exports=function(m){var b=a.getTypeOf(m);return a.checkSupport(b),b!=="string"||c.uint8array?b==="nodebuffer"?new p(m):c.uint8array?new g(a.transformTo("uint8array",m)):new u(a.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),c=n("../utils");function u(d){a.call(this,"ConvertWorker to "+d),this.destType=d}c.inherits(u,a),u.prototype.processChunk=function(d){this.push({data:c.transformTo(this.destType,d.data),meta:d.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),c=n("../crc32");function u(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,a),u.prototype.processChunk=function(d){this.streamInfo.crc32=c(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),c=n("./GenericWorker");function u(d){c.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}a.inherits(u,c),u.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}c.prototype.processChunk.call(this,d)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),c=n("./GenericWorker");function u(d){c.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(g){p.dataIsReady=!0,p.data=g,p.max=g&&g.length||0,p.type=a.getTypeOf(g),p.isPaused||p._tickAndRepeat()},function(g){p.error(g)})}a.inherits(u,c),u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,u){return this._listeners[c].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,u){if(this._listeners[c])for(var d=0;d<this._listeners[c].length;d++)this._listeners[c][d].call(this,u)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var u=this;return c.on("data",function(d){u.processChunk(d)}),c.on("end",function(){u.end()}),c.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,u){return this.extraStreamInfo[c]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),c=n("./ConvertWorker"),u=n("./GenericWorker"),d=n("../base64"),p=n("../support"),g=n("../external"),m=null;if(p.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(k,v){return new g.Promise(function(E,S){var T=[],R=k._internalType,z=k._outputType,D=k._mimeType;k.on("data",function(Z,V){T.push(Z),v&&v(V)}).on("error",function(Z){T=[],S(Z)}).on("end",function(){try{var Z=function(V,Y,U){switch(V){case"blob":return a.newBlob(a.transformTo("arraybuffer",Y),U);case"base64":return d.encode(Y);default:return a.transformTo(V,Y)}}(z,function(V,Y){var U,q=0,J=null,F=0;for(U=0;U<Y.length;U++)F+=Y[U].length;switch(V){case"string":return Y.join("");case"array":return Array.prototype.concat.apply([],Y);case"uint8array":for(J=new Uint8Array(F),U=0;U<Y.length;U++)J.set(Y[U],q),q+=Y[U].length;return J;case"nodebuffer":return Buffer.concat(Y);default:throw new Error("concat : unsupported type '"+V+"'")}}(R,T),D);E(Z)}catch(V){S(V)}T=[]}).resume()})}function x(k,v,E){var S=v;switch(v){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=v,this._mimeType=E,a.checkSupport(S),this._worker=k.pipe(new c(S)),k.lock()}catch(T){this._worker=new u("error"),this._worker.error(T)}}x.prototype={accumulate:function(k){return b(this,k)},on:function(k,v){var E=this;return k==="data"?this._worker.on(k,function(S){v.call(E,S.data,S.meta)}):this._worker.on(k,function(){a.delay(v,arguments,E)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},k)}},r.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(a),i.blob=c.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),c=n("./support"),u=n("./nodejsUtils"),d=n("./stream/GenericWorker"),p=new Array(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;p[254]=p[254]=1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function b(){d.call(this,"utf-8 encode")}i.utf8encode=function(x){return c.nodebuffer?u.newBufferFrom(x,"utf-8"):function(k){var v,E,S,T,R,z=k.length,D=0;for(T=0;T<z;T++)(64512&(E=k.charCodeAt(T)))==55296&&T+1<z&&(64512&(S=k.charCodeAt(T+1)))==56320&&(E=65536+(E-55296<<10)+(S-56320),T++),D+=E<128?1:E<2048?2:E<65536?3:4;for(v=c.uint8array?new Uint8Array(D):new Array(D),T=R=0;R<D;T++)(64512&(E=k.charCodeAt(T)))==55296&&T+1<z&&(64512&(S=k.charCodeAt(T+1)))==56320&&(E=65536+(E-55296<<10)+(S-56320),T++),E<128?v[R++]=E:(E<2048?v[R++]=192|E>>>6:(E<65536?v[R++]=224|E>>>12:(v[R++]=240|E>>>18,v[R++]=128|E>>>12&63),v[R++]=128|E>>>6&63),v[R++]=128|63&E);return v}(x)},i.utf8decode=function(x){return c.nodebuffer?a.transformTo("nodebuffer",x).toString("utf-8"):function(k){var v,E,S,T,R=k.length,z=new Array(2*R);for(v=E=0;v<R;)if((S=k[v++])<128)z[E++]=S;else if(4<(T=p[S]))z[E++]=65533,v+=T-1;else{for(S&=T===2?31:T===3?15:7;1<T&&v<R;)S=S<<6|63&k[v++],T--;1<T?z[E++]=65533:S<65536?z[E++]=S:(S-=65536,z[E++]=55296|S>>10&1023,z[E++]=56320|1023&S)}return z.length!==E&&(z.subarray?z=z.subarray(0,E):z.length=E),a.applyFromCharCode(z)}(x=a.transformTo(c.uint8array?"uint8array":"array",x))},a.inherits(m,d),m.prototype.processChunk=function(x){var k=a.transformTo(c.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var v=k;(k=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),k.set(v,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var E=function(T,R){var z;for((R=R||T.length)>T.length&&(R=T.length),z=R-1;0<=z&&(192&T[z])==128;)z--;return z<0||z===0?R:z+p[T[z]]>R?z:R}(k),S=k;E!==k.length&&(c.uint8array?(S=k.subarray(0,E),this.leftOver=k.subarray(E,k.length)):(S=k.slice(0,E),this.leftOver=k.slice(E,k.length))),this.push({data:i.utf8decode(S),meta:x.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,a.inherits(b,d),b.prototype.processChunk=function(x){this.push({data:i.utf8encode(x.data),meta:x.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),c=n("./base64"),u=n("./nodejsUtils"),d=n("./external");function p(v){return v}function g(v,E){for(var S=0;S<v.length;++S)E[S]=255&v.charCodeAt(S);return E}n("setimmediate"),i.newBlob=function(v,E){i.checkSupport("blob");try{return new Blob([v],{type:E})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(v),S.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(v,E,S){var T=[],R=0,z=v.length;if(z<=S)return String.fromCharCode.apply(null,v);for(;R<z;)E==="array"||E==="nodebuffer"?T.push(String.fromCharCode.apply(null,v.slice(R,Math.min(R+S,z)))):T.push(String.fromCharCode.apply(null,v.subarray(R,Math.min(R+S,z)))),R+=S;return T.join("")},stringifyByChar:function(v){for(var E="",S=0;S<v.length;S++)E+=String.fromCharCode(v[S]);return E},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function b(v){var E=65536,S=i.getTypeOf(v),T=!0;if(S==="uint8array"?T=m.applyCanBeUsed.uint8array:S==="nodebuffer"&&(T=m.applyCanBeUsed.nodebuffer),T)for(;1<E;)try{return m.stringifyByChunk(v,S,E)}catch{E=Math.floor(E/2)}return m.stringifyByChar(v)}function x(v,E){for(var S=0;S<v.length;S++)E[S]=v[S];return E}i.applyFromCharCode=b;var k={};k.string={string:p,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return k.string.uint8array(v).buffer},uint8array:function(v){return g(v,new Uint8Array(v.length))},nodebuffer:function(v){return g(v,u.allocBuffer(v.length))}},k.array={string:b,array:p,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(v)}},k.arraybuffer={string:function(v){return b(new Uint8Array(v))},array:function(v){return x(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:p,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(new Uint8Array(v))}},k.uint8array={string:b,array:function(v){return x(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:p,nodebuffer:function(v){return u.newBufferFrom(v)}},k.nodebuffer={string:b,array:function(v){return x(v,new Array(v.length))},arraybuffer:function(v){return k.nodebuffer.uint8array(v).buffer},uint8array:function(v){return x(v,new Uint8Array(v.length))},nodebuffer:p},i.transformTo=function(v,E){if(E=E||"",!v)return E;i.checkSupport(v);var S=i.getTypeOf(E);return k[S][v](E)},i.resolve=function(v){for(var E=v.split("/"),S=[],T=0;T<E.length;T++){var R=E[T];R==="."||R===""&&T!==0&&T!==E.length-1||(R===".."?S.pop():S.push(R))}return S.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":a.nodebuffer&&u.isBuffer(v)?"nodebuffer":a.uint8array&&v instanceof Uint8Array?"uint8array":a.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!a[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var E,S,T="";for(S=0;S<(v||"").length;S++)T+="\\x"+((E=v.charCodeAt(S))<16?"0":"")+E.toString(16).toUpperCase();return T},i.delay=function(v,E,S){setImmediate(function(){v.apply(S||null,E||[])})},i.inherits=function(v,E){function S(){}S.prototype=E.prototype,v.prototype=new S},i.extend=function(){var v,E,S={};for(v=0;v<arguments.length;v++)for(E in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],E)&&S[E]===void 0&&(S[E]=arguments[v][E]);return S},i.prepareContent=function(v,E,S,T,R){return d.Promise.resolve(E).then(function(z){return a.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new d.Promise(function(D,Z){var V=new FileReader;V.onload=function(Y){D(Y.target.result)},V.onerror=function(Y){Z(Y.target.error)},V.readAsArrayBuffer(z)}):z}).then(function(z){var D=i.getTypeOf(z);return D?(D==="arraybuffer"?z=i.transformTo("uint8array",z):D==="string"&&(R?z=c.decode(z):S&&T!==!0&&(z=function(Z){return g(Z,a.uint8array?new Uint8Array(Z.length):new Array(Z.length))}(z))),z):d.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),c=n("./utils"),u=n("./signature"),d=n("./zipEntry"),p=n("./support");function g(m){this.files=[],this.loadOptions=m}g.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(b)+", expected "+c.pretty(m)+")")}},isSignature:function(m,b){var x=this.reader.index;this.reader.setIndex(m);var k=this.reader.readString(4)===b;return this.reader.setIndex(x),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),b=p.uint8array?"uint8array":"array",x=c.transformTo(b,m);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,b,x,k=this.zip64EndOfCentralSize-44;0<k;)m=this.reader.readInt(2),b=this.reader.readInt(4),x=this.reader.readData(b),this.zip64ExtensibleData[m]={id:m,length:b,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,b;for(m=0;m<this.files.length;m++)b=this.files[m],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var b=m;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var k=b-x;if(0<k)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(m){this.reader=a(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),c=n("./utils"),u=n("./compressedObject"),d=n("./crc32"),p=n("./utf8"),g=n("./compressions"),m=n("./support");function b(x,k){this.options=x,this.loadOptions=k}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(x){var k,v;if(x.skip(22),this.fileNameLength=x.readInt(2),v=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=function(E){for(var S in g)if(Object.prototype.hasOwnProperty.call(g,S)&&g[S].magic===E)return g[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,k,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var k=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(k),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),x==0&&(this.dosPermissions=63&this.externalFileAttributes),x==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var x=a(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=x.readInt(4))}},readExtraFields:function(x){var k,v,E,S=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<S;)k=x.readInt(2),v=x.readInt(2),E=x.readData(v),this.extraFields[k]={id:k,length:v,value:E};x.setIndex(S)},handleUTF8:function(){var x=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var v=c.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var S=c.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var k=a(x.value);return k.readInt(1)!==1||d(this.fileName)!==k.readInt(4)?null:p.utf8decode(k.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var k=a(x.value);return k.readInt(1)!==1||d(this.fileComment)!==k.readInt(4)?null:p.utf8decode(k.readData(x.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(k,v,E){this.name=k,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=v,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var c=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),d=n("./utf8"),p=n("./compressedObject"),g=n("./stream/GenericWorker");a.prototype={internalStream:function(k){var v=null,E="string";try{if(!k)throw new Error("No output type specified.");var S=(E=k.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),v=this._decompressWorker();var T=!this._dataBinary;T&&!S&&(v=v.pipe(new d.Utf8EncodeWorker)),!T&&S&&(v=v.pipe(new d.Utf8DecodeWorker))}catch(R){(v=new g("error")).error(R)}return new c(v,E,"")},async:function(k,v){return this.internalStream(k).accumulate(v)},nodeStream:function(k,v){return this.internalStream(k||"nodebuffer").toNodejsStream(v)},_compressWorker:function(k,v){if(this._data instanceof p&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(E,k,v)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof g?this._data:new u(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<m.length;x++)a.prototype[m[x]]=b;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var c,u,d=a.MutationObserver||a.WebKitMutationObserver;if(d){var p=0,g=new d(k),m=a.document.createTextNode("");g.observe(m,{characterData:!0}),c=function(){m.data=p=++p%2}}else if(a.setImmediate||a.MessageChannel===void 0)c="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var v=a.document.createElement("script");v.onreadystatechange=function(){k(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},a.document.documentElement.appendChild(v)}:function(){setTimeout(k,0)};else{var b=new a.MessageChannel;b.port1.onmessage=k,c=function(){b.port2.postMessage(0)}}var x=[];function k(){var v,E;u=!0;for(var S=x.length;S;){for(E=x,x=[],v=-1;++v<S;)E[v]();S=x.length}u=!1}r.exports=function(v){x.push(v)!==1||u||c()}}).call(this,typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function c(){}var u={},d=["REJECTED"],p=["FULFILLED"],g=["PENDING"];function m(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,S!==c&&v(this,S)}function b(S,T,R){this.promise=S,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function x(S,T,R){a(function(){var z;try{z=T(R)}catch(D){return u.reject(S,D)}z===S?u.reject(S,new TypeError("Cannot resolve promise with itself")):u.resolve(S,z)})}function k(S){var T=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof T=="function")return function(){T.apply(S,arguments)}}function v(S,T){var R=!1;function z(V){R||(R=!0,u.reject(S,V))}function D(V){R||(R=!0,u.resolve(S,V))}var Z=E(function(){T(D,z)});Z.status==="error"&&z(Z.value)}function E(S,T){var R={};try{R.value=S(T),R.status="success"}catch(z){R.status="error",R.value=z}return R}(r.exports=m).prototype.finally=function(S){if(typeof S!="function")return this;var T=this.constructor;return this.then(function(R){return T.resolve(S()).then(function(){return R})},function(R){return T.resolve(S()).then(function(){throw R})})},m.prototype.catch=function(S){return this.then(null,S)},m.prototype.then=function(S,T){if(typeof S!="function"&&this.state===p||typeof T!="function"&&this.state===d)return this;var R=new this.constructor(c);return this.state!==g?x(R,this.state===p?S:T,this.outcome):this.queue.push(new b(R,S,T)),R},b.prototype.callFulfilled=function(S){u.resolve(this.promise,S)},b.prototype.otherCallFulfilled=function(S){x(this.promise,this.onFulfilled,S)},b.prototype.callRejected=function(S){u.reject(this.promise,S)},b.prototype.otherCallRejected=function(S){x(this.promise,this.onRejected,S)},u.resolve=function(S,T){var R=E(k,T);if(R.status==="error")return u.reject(S,R.value);var z=R.value;if(z)v(S,z);else{S.state=p,S.outcome=T;for(var D=-1,Z=S.queue.length;++D<Z;)S.queue[D].callFulfilled(T)}return S},u.reject=function(S,T){S.state=d,S.outcome=T;for(var R=-1,z=S.queue.length;++R<z;)S.queue[R].callRejected(T);return S},m.resolve=function(S){return S instanceof this?S:u.resolve(new this(c),S)},m.reject=function(S){var T=new this(c);return u.reject(T,S)},m.all=function(S){var T=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=S.length,z=!1;if(!R)return this.resolve([]);for(var D=new Array(R),Z=0,V=-1,Y=new this(c);++V<R;)U(S[V],V);return Y;function U(q,J){T.resolve(q).then(function(F){D[J]=F,++Z!==R||z||(z=!0,u.resolve(Y,D))},function(F){z||(z=!0,u.reject(Y,F))})}},m.race=function(S){var T=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=S.length,z=!1;if(!R)return this.resolve([]);for(var D=-1,Z=new this(c);++D<R;)V=S[D],T.resolve(V).then(function(Y){z||(z=!0,u.resolve(Z,Y))},function(Y){z||(z=!0,u.reject(Z,Y))});var V;return Z}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),c=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/messages"),p=n("./zlib/zstream"),g=Object.prototype.toString,m=0,b=-1,x=0,k=8;function v(S){if(!(this instanceof v))return new v(S);this.options=c.assign({level:b,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},S||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var R=a.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(R!==m)throw new Error(d[R]);if(T.header&&a.deflateSetHeader(this.strm,T.header),T.dictionary){var z;if(z=typeof T.dictionary=="string"?u.string2buf(T.dictionary):g.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(R=a.deflateSetDictionary(this.strm,z))!==m)throw new Error(d[R]);this._dict_set=!0}}function E(S,T){var R=new v(T);if(R.push(S,!0),R.err)throw R.msg||d[R.err];return R.result}v.prototype.push=function(S,T){var R,z,D=this.strm,Z=this.options.chunkSize;if(this.ended)return!1;z=T===~~T?T:T===!0?4:0,typeof S=="string"?D.input=u.string2buf(S):g.call(S)==="[object ArrayBuffer]"?D.input=new Uint8Array(S):D.input=S,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new c.Buf8(Z),D.next_out=0,D.avail_out=Z),(R=a.deflate(D,z))!==1&&R!==m)return this.onEnd(R),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(c.shrinkBuf(D.output,D.next_out))):this.onData(c.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&R!==1);return z===4?(R=a.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===m):z!==2||(this.onEnd(m),!(D.avail_out=0))},v.prototype.onData=function(S){this.chunks.push(S)},v.prototype.onEnd=function(S){S===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},i.Deflate=v,i.deflate=E,i.deflateRaw=function(S,T){return(T=T||{}).raw=!0,E(S,T)},i.gzip=function(S,T){return(T=T||{}).gzip=!0,E(S,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),c=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/constants"),p=n("./zlib/messages"),g=n("./zlib/zstream"),m=n("./zlib/gzheader"),b=Object.prototype.toString;function x(v){if(!(this instanceof x))return new x(v);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},v||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||v&&v.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var S=a.inflateInit2(this.strm,E.windowBits);if(S!==d.Z_OK)throw new Error(p[S]);this.header=new m,a.inflateGetHeader(this.strm,this.header)}function k(v,E){var S=new x(E);if(S.push(v,!0),S.err)throw S.msg||p[S.err];return S.result}x.prototype.push=function(v,E){var S,T,R,z,D,Z,V=this.strm,Y=this.options.chunkSize,U=this.options.dictionary,q=!1;if(this.ended)return!1;T=E===~~E?E:E===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof v=="string"?V.input=u.binstring2buf(v):b.call(v)==="[object ArrayBuffer]"?V.input=new Uint8Array(v):V.input=v,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new c.Buf8(Y),V.next_out=0,V.avail_out=Y),(S=a.inflate(V,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&U&&(Z=typeof U=="string"?u.string2buf(U):b.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,S=a.inflateSetDictionary(this.strm,Z)),S===d.Z_BUF_ERROR&&q===!0&&(S=d.Z_OK,q=!1),S!==d.Z_STREAM_END&&S!==d.Z_OK)return this.onEnd(S),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&S!==d.Z_STREAM_END&&(V.avail_in!==0||T!==d.Z_FINISH&&T!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=u.utf8border(V.output,V.next_out),z=V.next_out-R,D=u.buf2string(V.output,R),V.next_out=z,V.avail_out=Y-z,z&&c.arraySet(V.output,V.output,R,z,0),this.onData(D)):this.onData(c.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(q=!0)}while((0<V.avail_in||V.avail_out===0)&&S!==d.Z_STREAM_END);return S===d.Z_STREAM_END&&(T=d.Z_FINISH),T===d.Z_FINISH?(S=a.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===d.Z_OK):T!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(V.avail_out=0))},x.prototype.onData=function(v){this.chunks.push(v)},x.prototype.onEnd=function(v){v===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=x,i.inflate=k,i.inflateRaw=function(v,E){return(E=E||{}).raw=!0,k(v,E)},i.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var g=p.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var m in g)g.hasOwnProperty(m)&&(d[m]=g[m])}}return d},i.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var c={arraySet:function(d,p,g,m,b){if(p.subarray&&d.subarray)d.set(p.subarray(g,g+m),b);else for(var x=0;x<m;x++)d[b+x]=p[g+x]},flattenChunks:function(d){var p,g,m,b,x,k;for(p=m=0,g=d.length;p<g;p++)m+=d[p].length;for(k=new Uint8Array(m),p=b=0,g=d.length;p<g;p++)x=d[p],k.set(x,b),b+=x.length;return k}},u={arraySet:function(d,p,g,m,b){for(var x=0;x<m;x++)d[b+x]=p[g+x]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,c)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),c=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new a.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function g(m,b){if(b<65537&&(m.subarray&&u||!m.subarray&&c))return String.fromCharCode.apply(null,a.shrinkBuf(m,b));for(var x="",k=0;k<b;k++)x+=String.fromCharCode(m[k]);return x}d[254]=d[254]=1,i.string2buf=function(m){var b,x,k,v,E,S=m.length,T=0;for(v=0;v<S;v++)(64512&(x=m.charCodeAt(v)))==55296&&v+1<S&&(64512&(k=m.charCodeAt(v+1)))==56320&&(x=65536+(x-55296<<10)+(k-56320),v++),T+=x<128?1:x<2048?2:x<65536?3:4;for(b=new a.Buf8(T),v=E=0;E<T;v++)(64512&(x=m.charCodeAt(v)))==55296&&v+1<S&&(64512&(k=m.charCodeAt(v+1)))==56320&&(x=65536+(x-55296<<10)+(k-56320),v++),x<128?b[E++]=x:(x<2048?b[E++]=192|x>>>6:(x<65536?b[E++]=224|x>>>12:(b[E++]=240|x>>>18,b[E++]=128|x>>>12&63),b[E++]=128|x>>>6&63),b[E++]=128|63&x);return b},i.buf2binstring=function(m){return g(m,m.length)},i.binstring2buf=function(m){for(var b=new a.Buf8(m.length),x=0,k=b.length;x<k;x++)b[x]=m.charCodeAt(x);return b},i.buf2string=function(m,b){var x,k,v,E,S=b||m.length,T=new Array(2*S);for(x=k=0;x<S;)if((v=m[x++])<128)T[k++]=v;else if(4<(E=d[v]))T[k++]=65533,x+=E-1;else{for(v&=E===2?31:E===3?15:7;1<E&&x<S;)v=v<<6|63&m[x++],E--;1<E?T[k++]=65533:v<65536?T[k++]=v:(v-=65536,T[k++]=55296|v>>10&1023,T[k++]=56320|1023&v)}return g(T,k)},i.utf8border=function(m,b){var x;for((b=b||m.length)>m.length&&(b=m.length),x=b-1;0<=x&&(192&m[x])==128;)x--;return x<0||x===0?b:x+d[m[x]]>b?x:b}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,c,u,d){for(var p=65535&a|0,g=a>>>16&65535|0,m=0;u!==0;){for(u-=m=2e3<u?2e3:u;g=g+(p=p+c[d++]|0)|0,--m;);p%=65521,g%=65521}return p|g<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var c,u=[],d=0;d<256;d++){c=d;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;u[d]=c}return u}();r.exports=function(c,u,d,p){var g=a,m=p+d;c^=-1;for(var b=p;b<m;b++)c=c>>>8^g[255&(c^u[b])];return-1^c}},{}],46:[function(n,r,i){var a,c=n("../utils/common"),u=n("./trees"),d=n("./adler32"),p=n("./crc32"),g=n("./messages"),m=0,b=4,x=0,k=-2,v=-1,E=4,S=2,T=8,R=9,z=286,D=30,Z=19,V=2*z+1,Y=15,U=3,q=258,J=q+U+1,F=42,X=113,O=1,K=2,ae=3,oe=4;function re(B,Pe){return B.msg=g[Pe],Pe}function te(B){return(B<<1)-(4<B?9:0)}function le(B){for(var Pe=B.length;0<=--Pe;)B[Pe]=0}function $(B){var Pe=B.state,ke=Pe.pending;ke>B.avail_out&&(ke=B.avail_out),ke!==0&&(c.arraySet(B.output,Pe.pending_buf,Pe.pending_out,ke,B.next_out),B.next_out+=ke,Pe.pending_out+=ke,B.total_out+=ke,B.avail_out-=ke,Pe.pending-=ke,Pe.pending===0&&(Pe.pending_out=0))}function Q(B,Pe){u._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,Pe),B.block_start=B.strstart,$(B.strm)}function Ce(B,Pe){B.pending_buf[B.pending++]=Pe}function xe(B,Pe){B.pending_buf[B.pending++]=Pe>>>8&255,B.pending_buf[B.pending++]=255&Pe}function ve(B,Pe){var ke,ie,ne=B.max_chain_length,pe=B.strstart,Ne=B.prev_length,Ae=B.nice_match,me=B.strstart>B.w_size-J?B.strstart-(B.w_size-J):0,ze=B.window,He=B.w_mask,je=B.prev,Je=B.strstart+q,W=ze[pe+Ne-1],N=ze[pe+Ne];B.prev_length>=B.good_match&&(ne>>=2),Ae>B.lookahead&&(Ae=B.lookahead);do if(ze[(ke=Pe)+Ne]===N&&ze[ke+Ne-1]===W&&ze[ke]===ze[pe]&&ze[++ke]===ze[pe+1]){pe+=2,ke++;do;while(ze[++pe]===ze[++ke]&&ze[++pe]===ze[++ke]&&ze[++pe]===ze[++ke]&&ze[++pe]===ze[++ke]&&ze[++pe]===ze[++ke]&&ze[++pe]===ze[++ke]&&ze[++pe]===ze[++ke]&&ze[++pe]===ze[++ke]&&pe<Je);if(ie=q-(Je-pe),pe=Je-q,Ne<ie){if(B.match_start=Pe,Ae<=(Ne=ie))break;W=ze[pe+Ne-1],N=ze[pe+Ne]}}while((Pe=je[Pe&He])>me&&--ne!=0);return Ne<=B.lookahead?Ne:B.lookahead}function Re(B){var Pe,ke,ie,ne,pe,Ne,Ae,me,ze,He,je=B.w_size;do{if(ne=B.window_size-B.lookahead-B.strstart,B.strstart>=je+(je-J)){for(c.arraySet(B.window,B.window,je,je,0),B.match_start-=je,B.strstart-=je,B.block_start-=je,Pe=ke=B.hash_size;ie=B.head[--Pe],B.head[Pe]=je<=ie?ie-je:0,--ke;);for(Pe=ke=je;ie=B.prev[--Pe],B.prev[Pe]=je<=ie?ie-je:0,--ke;);ne+=je}if(B.strm.avail_in===0)break;if(Ne=B.strm,Ae=B.window,me=B.strstart+B.lookahead,ze=ne,He=void 0,He=Ne.avail_in,ze<He&&(He=ze),ke=He===0?0:(Ne.avail_in-=He,c.arraySet(Ae,Ne.input,Ne.next_in,He,me),Ne.state.wrap===1?Ne.adler=d(Ne.adler,Ae,He,me):Ne.state.wrap===2&&(Ne.adler=p(Ne.adler,Ae,He,me)),Ne.next_in+=He,Ne.total_in+=He,He),B.lookahead+=ke,B.lookahead+B.insert>=U)for(pe=B.strstart-B.insert,B.ins_h=B.window[pe],B.ins_h=(B.ins_h<<B.hash_shift^B.window[pe+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[pe+U-1])&B.hash_mask,B.prev[pe&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=pe,pe++,B.insert--,!(B.lookahead+B.insert<U)););}while(B.lookahead<J&&B.strm.avail_in!==0)}function Ue(B,Pe){for(var ke,ie;;){if(B.lookahead<J){if(Re(B),B.lookahead<J&&Pe===m)return O;if(B.lookahead===0)break}if(ke=0,B.lookahead>=U&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+U-1])&B.hash_mask,ke=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),ke!==0&&B.strstart-ke<=B.w_size-J&&(B.match_length=ve(B,ke)),B.match_length>=U)if(ie=u._tr_tally(B,B.strstart-B.match_start,B.match_length-U),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=U){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+U-1])&B.hash_mask,ke=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else ie=u._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(ie&&(Q(B,!1),B.strm.avail_out===0))return O}return B.insert=B.strstart<U-1?B.strstart:U-1,Pe===b?(Q(B,!0),B.strm.avail_out===0?ae:oe):B.last_lit&&(Q(B,!1),B.strm.avail_out===0)?O:K}function Me(B,Pe){for(var ke,ie,ne;;){if(B.lookahead<J){if(Re(B),B.lookahead<J&&Pe===m)return O;if(B.lookahead===0)break}if(ke=0,B.lookahead>=U&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+U-1])&B.hash_mask,ke=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=U-1,ke!==0&&B.prev_length<B.max_lazy_match&&B.strstart-ke<=B.w_size-J&&(B.match_length=ve(B,ke),B.match_length<=5&&(B.strategy===1||B.match_length===U&&4096<B.strstart-B.match_start)&&(B.match_length=U-1)),B.prev_length>=U&&B.match_length<=B.prev_length){for(ne=B.strstart+B.lookahead-U,ie=u._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-U),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=ne&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+U-1])&B.hash_mask,ke=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=U-1,B.strstart++,ie&&(Q(B,!1),B.strm.avail_out===0))return O}else if(B.match_available){if((ie=u._tr_tally(B,0,B.window[B.strstart-1]))&&Q(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return O}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(ie=u._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<U-1?B.strstart:U-1,Pe===b?(Q(B,!0),B.strm.avail_out===0?ae:oe):B.last_lit&&(Q(B,!1),B.strm.avail_out===0)?O:K}function Be(B,Pe,ke,ie,ne){this.good_length=B,this.max_lazy=Pe,this.nice_length=ke,this.max_chain=ie,this.func=ne}function nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*V),this.dyn_dtree=new c.Buf16(2*(2*D+1)),this.bl_tree=new c.Buf16(2*(2*Z+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(Y+1),this.heap=new c.Buf16(2*z+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*z+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function wt(B){var Pe;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=S,(Pe=B.state).pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap?F:X,B.adler=Pe.wrap===2?0:1,Pe.last_flush=m,u._tr_init(Pe),x):re(B,k)}function At(B){var Pe=wt(B);return Pe===x&&function(ke){ke.window_size=2*ke.w_size,le(ke.head),ke.max_lazy_match=a[ke.level].max_lazy,ke.good_match=a[ke.level].good_length,ke.nice_match=a[ke.level].nice_length,ke.max_chain_length=a[ke.level].max_chain,ke.strstart=0,ke.block_start=0,ke.lookahead=0,ke.insert=0,ke.match_length=ke.prev_length=U-1,ke.match_available=0,ke.ins_h=0}(B.state),Pe}function ft(B,Pe,ke,ie,ne,pe){if(!B)return k;var Ne=1;if(Pe===v&&(Pe=6),ie<0?(Ne=0,ie=-ie):15<ie&&(Ne=2,ie-=16),ne<1||R<ne||ke!==T||ie<8||15<ie||Pe<0||9<Pe||pe<0||E<pe)return re(B,k);ie===8&&(ie=9);var Ae=new nt;return(B.state=Ae).strm=B,Ae.wrap=Ne,Ae.gzhead=null,Ae.w_bits=ie,Ae.w_size=1<<Ae.w_bits,Ae.w_mask=Ae.w_size-1,Ae.hash_bits=ne+7,Ae.hash_size=1<<Ae.hash_bits,Ae.hash_mask=Ae.hash_size-1,Ae.hash_shift=~~((Ae.hash_bits+U-1)/U),Ae.window=new c.Buf8(2*Ae.w_size),Ae.head=new c.Buf16(Ae.hash_size),Ae.prev=new c.Buf16(Ae.w_size),Ae.lit_bufsize=1<<ne+6,Ae.pending_buf_size=4*Ae.lit_bufsize,Ae.pending_buf=new c.Buf8(Ae.pending_buf_size),Ae.d_buf=1*Ae.lit_bufsize,Ae.l_buf=3*Ae.lit_bufsize,Ae.level=Pe,Ae.strategy=pe,Ae.method=ke,At(B)}a=[new Be(0,0,0,0,function(B,Pe){var ke=65535;for(ke>B.pending_buf_size-5&&(ke=B.pending_buf_size-5);;){if(B.lookahead<=1){if(Re(B),B.lookahead===0&&Pe===m)return O;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var ie=B.block_start+ke;if((B.strstart===0||B.strstart>=ie)&&(B.lookahead=B.strstart-ie,B.strstart=ie,Q(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-J&&(Q(B,!1),B.strm.avail_out===0))return O}return B.insert=0,Pe===b?(Q(B,!0),B.strm.avail_out===0?ae:oe):(B.strstart>B.block_start&&(Q(B,!1),B.strm.avail_out),O)}),new Be(4,4,8,4,Ue),new Be(4,5,16,8,Ue),new Be(4,6,32,32,Ue),new Be(4,4,16,16,Me),new Be(8,16,32,32,Me),new Be(8,16,128,128,Me),new Be(8,32,128,256,Me),new Be(32,128,258,1024,Me),new Be(32,258,258,4096,Me)],i.deflateInit=function(B,Pe){return ft(B,Pe,T,15,8,0)},i.deflateInit2=ft,i.deflateReset=At,i.deflateResetKeep=wt,i.deflateSetHeader=function(B,Pe){return B&&B.state?B.state.wrap!==2?k:(B.state.gzhead=Pe,x):k},i.deflate=function(B,Pe){var ke,ie,ne,pe;if(!B||!B.state||5<Pe||Pe<0)return B?re(B,k):k;if(ie=B.state,!B.output||!B.input&&B.avail_in!==0||ie.status===666&&Pe!==b)return re(B,B.avail_out===0?-5:k);if(ie.strm=B,ke=ie.last_flush,ie.last_flush=Pe,ie.status===F)if(ie.wrap===2)B.adler=0,Ce(ie,31),Ce(ie,139),Ce(ie,8),ie.gzhead?(Ce(ie,(ie.gzhead.text?1:0)+(ie.gzhead.hcrc?2:0)+(ie.gzhead.extra?4:0)+(ie.gzhead.name?8:0)+(ie.gzhead.comment?16:0)),Ce(ie,255&ie.gzhead.time),Ce(ie,ie.gzhead.time>>8&255),Ce(ie,ie.gzhead.time>>16&255),Ce(ie,ie.gzhead.time>>24&255),Ce(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),Ce(ie,255&ie.gzhead.os),ie.gzhead.extra&&ie.gzhead.extra.length&&(Ce(ie,255&ie.gzhead.extra.length),Ce(ie,ie.gzhead.extra.length>>8&255)),ie.gzhead.hcrc&&(B.adler=p(B.adler,ie.pending_buf,ie.pending,0)),ie.gzindex=0,ie.status=69):(Ce(ie,0),Ce(ie,0),Ce(ie,0),Ce(ie,0),Ce(ie,0),Ce(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),Ce(ie,3),ie.status=X);else{var Ne=T+(ie.w_bits-8<<4)<<8;Ne|=(2<=ie.strategy||ie.level<2?0:ie.level<6?1:ie.level===6?2:3)<<6,ie.strstart!==0&&(Ne|=32),Ne+=31-Ne%31,ie.status=X,xe(ie,Ne),ie.strstart!==0&&(xe(ie,B.adler>>>16),xe(ie,65535&B.adler)),B.adler=1}if(ie.status===69)if(ie.gzhead.extra){for(ne=ie.pending;ie.gzindex<(65535&ie.gzhead.extra.length)&&(ie.pending!==ie.pending_buf_size||(ie.gzhead.hcrc&&ie.pending>ne&&(B.adler=p(B.adler,ie.pending_buf,ie.pending-ne,ne)),$(B),ne=ie.pending,ie.pending!==ie.pending_buf_size));)Ce(ie,255&ie.gzhead.extra[ie.gzindex]),ie.gzindex++;ie.gzhead.hcrc&&ie.pending>ne&&(B.adler=p(B.adler,ie.pending_buf,ie.pending-ne,ne)),ie.gzindex===ie.gzhead.extra.length&&(ie.gzindex=0,ie.status=73)}else ie.status=73;if(ie.status===73)if(ie.gzhead.name){ne=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>ne&&(B.adler=p(B.adler,ie.pending_buf,ie.pending-ne,ne)),$(B),ne=ie.pending,ie.pending===ie.pending_buf_size)){pe=1;break}pe=ie.gzindex<ie.gzhead.name.length?255&ie.gzhead.name.charCodeAt(ie.gzindex++):0,Ce(ie,pe)}while(pe!==0);ie.gzhead.hcrc&&ie.pending>ne&&(B.adler=p(B.adler,ie.pending_buf,ie.pending-ne,ne)),pe===0&&(ie.gzindex=0,ie.status=91)}else ie.status=91;if(ie.status===91)if(ie.gzhead.comment){ne=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>ne&&(B.adler=p(B.adler,ie.pending_buf,ie.pending-ne,ne)),$(B),ne=ie.pending,ie.pending===ie.pending_buf_size)){pe=1;break}pe=ie.gzindex<ie.gzhead.comment.length?255&ie.gzhead.comment.charCodeAt(ie.gzindex++):0,Ce(ie,pe)}while(pe!==0);ie.gzhead.hcrc&&ie.pending>ne&&(B.adler=p(B.adler,ie.pending_buf,ie.pending-ne,ne)),pe===0&&(ie.status=103)}else ie.status=103;if(ie.status===103&&(ie.gzhead.hcrc?(ie.pending+2>ie.pending_buf_size&&$(B),ie.pending+2<=ie.pending_buf_size&&(Ce(ie,255&B.adler),Ce(ie,B.adler>>8&255),B.adler=0,ie.status=X)):ie.status=X),ie.pending!==0){if($(B),B.avail_out===0)return ie.last_flush=-1,x}else if(B.avail_in===0&&te(Pe)<=te(ke)&&Pe!==b)return re(B,-5);if(ie.status===666&&B.avail_in!==0)return re(B,-5);if(B.avail_in!==0||ie.lookahead!==0||Pe!==m&&ie.status!==666){var Ae=ie.strategy===2?function(me,ze){for(var He;;){if(me.lookahead===0&&(Re(me),me.lookahead===0)){if(ze===m)return O;break}if(me.match_length=0,He=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,He&&(Q(me,!1),me.strm.avail_out===0))return O}return me.insert=0,ze===b?(Q(me,!0),me.strm.avail_out===0?ae:oe):me.last_lit&&(Q(me,!1),me.strm.avail_out===0)?O:K}(ie,Pe):ie.strategy===3?function(me,ze){for(var He,je,Je,W,N=me.window;;){if(me.lookahead<=q){if(Re(me),me.lookahead<=q&&ze===m)return O;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=U&&0<me.strstart&&(je=N[Je=me.strstart-1])===N[++Je]&&je===N[++Je]&&je===N[++Je]){W=me.strstart+q;do;while(je===N[++Je]&&je===N[++Je]&&je===N[++Je]&&je===N[++Je]&&je===N[++Je]&&je===N[++Je]&&je===N[++Je]&&je===N[++Je]&&Je<W);me.match_length=q-(W-Je),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=U?(He=u._tr_tally(me,1,me.match_length-U),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(He=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),He&&(Q(me,!1),me.strm.avail_out===0))return O}return me.insert=0,ze===b?(Q(me,!0),me.strm.avail_out===0?ae:oe):me.last_lit&&(Q(me,!1),me.strm.avail_out===0)?O:K}(ie,Pe):a[ie.level].func(ie,Pe);if(Ae!==ae&&Ae!==oe||(ie.status=666),Ae===O||Ae===ae)return B.avail_out===0&&(ie.last_flush=-1),x;if(Ae===K&&(Pe===1?u._tr_align(ie):Pe!==5&&(u._tr_stored_block(ie,0,0,!1),Pe===3&&(le(ie.head),ie.lookahead===0&&(ie.strstart=0,ie.block_start=0,ie.insert=0))),$(B),B.avail_out===0))return ie.last_flush=-1,x}return Pe!==b?x:ie.wrap<=0?1:(ie.wrap===2?(Ce(ie,255&B.adler),Ce(ie,B.adler>>8&255),Ce(ie,B.adler>>16&255),Ce(ie,B.adler>>24&255),Ce(ie,255&B.total_in),Ce(ie,B.total_in>>8&255),Ce(ie,B.total_in>>16&255),Ce(ie,B.total_in>>24&255)):(xe(ie,B.adler>>>16),xe(ie,65535&B.adler)),$(B),0<ie.wrap&&(ie.wrap=-ie.wrap),ie.pending!==0?x:1)},i.deflateEnd=function(B){var Pe;return B&&B.state?(Pe=B.state.status)!==F&&Pe!==69&&Pe!==73&&Pe!==91&&Pe!==103&&Pe!==X&&Pe!==666?re(B,k):(B.state=null,Pe===X?re(B,-3):x):k},i.deflateSetDictionary=function(B,Pe){var ke,ie,ne,pe,Ne,Ae,me,ze,He=Pe.length;if(!B||!B.state||(pe=(ke=B.state).wrap)===2||pe===1&&ke.status!==F||ke.lookahead)return k;for(pe===1&&(B.adler=d(B.adler,Pe,He,0)),ke.wrap=0,He>=ke.w_size&&(pe===0&&(le(ke.head),ke.strstart=0,ke.block_start=0,ke.insert=0),ze=new c.Buf8(ke.w_size),c.arraySet(ze,Pe,He-ke.w_size,ke.w_size,0),Pe=ze,He=ke.w_size),Ne=B.avail_in,Ae=B.next_in,me=B.input,B.avail_in=He,B.next_in=0,B.input=Pe,Re(ke);ke.lookahead>=U;){for(ie=ke.strstart,ne=ke.lookahead-(U-1);ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[ie+U-1])&ke.hash_mask,ke.prev[ie&ke.w_mask]=ke.head[ke.ins_h],ke.head[ke.ins_h]=ie,ie++,--ne;);ke.strstart=ie,ke.lookahead=U-1,Re(ke)}return ke.strstart+=ke.lookahead,ke.block_start=ke.strstart,ke.insert=ke.lookahead,ke.lookahead=0,ke.match_length=ke.prev_length=U-1,ke.match_available=0,B.next_in=Ae,B.input=me,B.avail_in=Ne,ke.wrap=pe,x},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,c){var u,d,p,g,m,b,x,k,v,E,S,T,R,z,D,Z,V,Y,U,q,J,F,X,O,K;u=a.state,d=a.next_in,O=a.input,p=d+(a.avail_in-5),g=a.next_out,K=a.output,m=g-(c-a.avail_out),b=g+(a.avail_out-257),x=u.dmax,k=u.wsize,v=u.whave,E=u.wnext,S=u.window,T=u.hold,R=u.bits,z=u.lencode,D=u.distcode,Z=(1<<u.lenbits)-1,V=(1<<u.distbits)-1;e:do{R<15&&(T+=O[d++]<<R,R+=8,T+=O[d++]<<R,R+=8),Y=z[T&Z];t:for(;;){if(T>>>=U=Y>>>24,R-=U,(U=Y>>>16&255)===0)K[g++]=65535&Y;else{if(!(16&U)){if((64&U)==0){Y=z[(65535&Y)+(T&(1<<U)-1)];continue t}if(32&U){u.mode=12;break e}a.msg="invalid literal/length code",u.mode=30;break e}q=65535&Y,(U&=15)&&(R<U&&(T+=O[d++]<<R,R+=8),q+=T&(1<<U)-1,T>>>=U,R-=U),R<15&&(T+=O[d++]<<R,R+=8,T+=O[d++]<<R,R+=8),Y=D[T&V];n:for(;;){if(T>>>=U=Y>>>24,R-=U,!(16&(U=Y>>>16&255))){if((64&U)==0){Y=D[(65535&Y)+(T&(1<<U)-1)];continue n}a.msg="invalid distance code",u.mode=30;break e}if(J=65535&Y,R<(U&=15)&&(T+=O[d++]<<R,(R+=8)<U&&(T+=O[d++]<<R,R+=8)),x<(J+=T&(1<<U)-1)){a.msg="invalid distance too far back",u.mode=30;break e}if(T>>>=U,R-=U,(U=g-m)<J){if(v<(U=J-U)&&u.sane){a.msg="invalid distance too far back",u.mode=30;break e}if(X=S,(F=0)===E){if(F+=k-U,U<q){for(q-=U;K[g++]=S[F++],--U;);F=g-J,X=K}}else if(E<U){if(F+=k+E-U,(U-=E)<q){for(q-=U;K[g++]=S[F++],--U;);if(F=0,E<q){for(q-=U=E;K[g++]=S[F++],--U;);F=g-J,X=K}}}else if(F+=E-U,U<q){for(q-=U;K[g++]=S[F++],--U;);F=g-J,X=K}for(;2<q;)K[g++]=X[F++],K[g++]=X[F++],K[g++]=X[F++],q-=3;q&&(K[g++]=X[F++],1<q&&(K[g++]=X[F++]))}else{for(F=g-J;K[g++]=K[F++],K[g++]=K[F++],K[g++]=K[F++],2<(q-=3););q&&(K[g++]=K[F++],1<q&&(K[g++]=K[F++]))}break}}break}}while(d<p&&g<b);d-=q=R>>3,T&=(1<<(R-=q<<3))-1,a.next_in=d,a.next_out=g,a.avail_in=d<p?p-d+5:5-(d-p),a.avail_out=g<b?b-g+257:257-(g-b),u.hold=T,u.bits=R}},{}],49:[function(n,r,i){var a=n("../utils/common"),c=n("./adler32"),u=n("./crc32"),d=n("./inffast"),p=n("./inftrees"),g=1,m=2,b=0,x=-2,k=1,v=852,E=592;function S(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(F){var X;return F&&F.state?(X=F.state,F.total_in=F.total_out=X.total=0,F.msg="",X.wrap&&(F.adler=1&X.wrap),X.mode=k,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new a.Buf32(v),X.distcode=X.distdyn=new a.Buf32(E),X.sane=1,X.back=-1,b):x}function z(F){var X;return F&&F.state?((X=F.state).wsize=0,X.whave=0,X.wnext=0,R(F)):x}function D(F,X){var O,K;return F&&F.state?(K=F.state,X<0?(O=0,X=-X):(O=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?x:(K.window!==null&&K.wbits!==X&&(K.window=null),K.wrap=O,K.wbits=X,z(F))):x}function Z(F,X){var O,K;return F?(K=new T,(F.state=K).window=null,(O=D(F,X))!==b&&(F.state=null),O):x}var V,Y,U=!0;function q(F){if(U){var X;for(V=new a.Buf32(512),Y=new a.Buf32(32),X=0;X<144;)F.lens[X++]=8;for(;X<256;)F.lens[X++]=9;for(;X<280;)F.lens[X++]=7;for(;X<288;)F.lens[X++]=8;for(p(g,F.lens,0,288,V,0,F.work,{bits:9}),X=0;X<32;)F.lens[X++]=5;p(m,F.lens,0,32,Y,0,F.work,{bits:5}),U=!1}F.lencode=V,F.lenbits=9,F.distcode=Y,F.distbits=5}function J(F,X,O,K){var ae,oe=F.state;return oe.window===null&&(oe.wsize=1<<oe.wbits,oe.wnext=0,oe.whave=0,oe.window=new a.Buf8(oe.wsize)),K>=oe.wsize?(a.arraySet(oe.window,X,O-oe.wsize,oe.wsize,0),oe.wnext=0,oe.whave=oe.wsize):(K<(ae=oe.wsize-oe.wnext)&&(ae=K),a.arraySet(oe.window,X,O-K,ae,oe.wnext),(K-=ae)?(a.arraySet(oe.window,X,O-K,K,0),oe.wnext=K,oe.whave=oe.wsize):(oe.wnext+=ae,oe.wnext===oe.wsize&&(oe.wnext=0),oe.whave<oe.wsize&&(oe.whave+=ae))),0}i.inflateReset=z,i.inflateReset2=D,i.inflateResetKeep=R,i.inflateInit=function(F){return Z(F,15)},i.inflateInit2=Z,i.inflate=function(F,X){var O,K,ae,oe,re,te,le,$,Q,Ce,xe,ve,Re,Ue,Me,Be,nt,wt,At,ft,B,Pe,ke,ie,ne=0,pe=new a.Buf8(4),Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return x;(O=F.state).mode===12&&(O.mode=13),re=F.next_out,ae=F.output,le=F.avail_out,oe=F.next_in,K=F.input,te=F.avail_in,$=O.hold,Q=O.bits,Ce=te,xe=le,Pe=b;e:for(;;)switch(O.mode){case k:if(O.wrap===0){O.mode=13;break}for(;Q<16;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}if(2&O.wrap&&$===35615){pe[O.check=0]=255&$,pe[1]=$>>>8&255,O.check=u(O.check,pe,2,0),Q=$=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&$)<<8)+($>>8))%31){F.msg="incorrect header check",O.mode=30;break}if((15&$)!=8){F.msg="unknown compression method",O.mode=30;break}if(Q-=4,B=8+(15&($>>>=4)),O.wbits===0)O.wbits=B;else if(B>O.wbits){F.msg="invalid window size",O.mode=30;break}O.dmax=1<<B,F.adler=O.check=1,O.mode=512&$?10:12,Q=$=0;break;case 2:for(;Q<16;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}if(O.flags=$,(255&O.flags)!=8){F.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){F.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=$>>8&1),512&O.flags&&(pe[0]=255&$,pe[1]=$>>>8&255,O.check=u(O.check,pe,2,0)),Q=$=0,O.mode=3;case 3:for(;Q<32;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}O.head&&(O.head.time=$),512&O.flags&&(pe[0]=255&$,pe[1]=$>>>8&255,pe[2]=$>>>16&255,pe[3]=$>>>24&255,O.check=u(O.check,pe,4,0)),Q=$=0,O.mode=4;case 4:for(;Q<16;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}O.head&&(O.head.xflags=255&$,O.head.os=$>>8),512&O.flags&&(pe[0]=255&$,pe[1]=$>>>8&255,O.check=u(O.check,pe,2,0)),Q=$=0,O.mode=5;case 5:if(1024&O.flags){for(;Q<16;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}O.length=$,O.head&&(O.head.extra_len=$),512&O.flags&&(pe[0]=255&$,pe[1]=$>>>8&255,O.check=u(O.check,pe,2,0)),Q=$=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(te<(ve=O.length)&&(ve=te),ve&&(O.head&&(B=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),a.arraySet(O.head.extra,K,oe,ve,B)),512&O.flags&&(O.check=u(O.check,K,ve,oe)),te-=ve,oe+=ve,O.length-=ve),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(te===0)break e;for(ve=0;B=K[oe+ve++],O.head&&B&&O.length<65536&&(O.head.name+=String.fromCharCode(B)),B&&ve<te;);if(512&O.flags&&(O.check=u(O.check,K,ve,oe)),te-=ve,oe+=ve,B)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(te===0)break e;for(ve=0;B=K[oe+ve++],O.head&&B&&O.length<65536&&(O.head.comment+=String.fromCharCode(B)),B&&ve<te;);if(512&O.flags&&(O.check=u(O.check,K,ve,oe)),te-=ve,oe+=ve,B)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;Q<16;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}if($!==(65535&O.check)){F.msg="header crc mismatch",O.mode=30;break}Q=$=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),F.adler=O.check=0,O.mode=12;break;case 10:for(;Q<32;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}F.adler=O.check=S($),Q=$=0,O.mode=11;case 11:if(O.havedict===0)return F.next_out=re,F.avail_out=le,F.next_in=oe,F.avail_in=te,O.hold=$,O.bits=Q,2;F.adler=O.check=1,O.mode=12;case 12:if(X===5||X===6)break e;case 13:if(O.last){$>>>=7&Q,Q-=7&Q,O.mode=27;break}for(;Q<3;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}switch(O.last=1&$,Q-=1,3&($>>>=1)){case 0:O.mode=14;break;case 1:if(q(O),O.mode=20,X!==6)break;$>>>=2,Q-=2;break e;case 2:O.mode=17;break;case 3:F.msg="invalid block type",O.mode=30}$>>>=2,Q-=2;break;case 14:for($>>>=7&Q,Q-=7&Q;Q<32;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}if((65535&$)!=($>>>16^65535)){F.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&$,Q=$=0,O.mode=15,X===6)break e;case 15:O.mode=16;case 16:if(ve=O.length){if(te<ve&&(ve=te),le<ve&&(ve=le),ve===0)break e;a.arraySet(ae,K,oe,ve,re),te-=ve,oe+=ve,le-=ve,re+=ve,O.length-=ve;break}O.mode=12;break;case 17:for(;Q<14;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}if(O.nlen=257+(31&$),$>>>=5,Q-=5,O.ndist=1+(31&$),$>>>=5,Q-=5,O.ncode=4+(15&$),$>>>=4,Q-=4,286<O.nlen||30<O.ndist){F.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;Q<3;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}O.lens[Ne[O.have++]]=7&$,$>>>=3,Q-=3}for(;O.have<19;)O.lens[Ne[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,ke={bits:O.lenbits},Pe=p(0,O.lens,0,19,O.lencode,0,O.work,ke),O.lenbits=ke.bits,Pe){F.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;Be=(ne=O.lencode[$&(1<<O.lenbits)-1])>>>16&255,nt=65535&ne,!((Me=ne>>>24)<=Q);){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}if(nt<16)$>>>=Me,Q-=Me,O.lens[O.have++]=nt;else{if(nt===16){for(ie=Me+2;Q<ie;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}if($>>>=Me,Q-=Me,O.have===0){F.msg="invalid bit length repeat",O.mode=30;break}B=O.lens[O.have-1],ve=3+(3&$),$>>>=2,Q-=2}else if(nt===17){for(ie=Me+3;Q<ie;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}Q-=Me,B=0,ve=3+(7&($>>>=Me)),$>>>=3,Q-=3}else{for(ie=Me+7;Q<ie;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}Q-=Me,B=0,ve=11+(127&($>>>=Me)),$>>>=7,Q-=7}if(O.have+ve>O.nlen+O.ndist){F.msg="invalid bit length repeat",O.mode=30;break}for(;ve--;)O.lens[O.have++]=B}}if(O.mode===30)break;if(O.lens[256]===0){F.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,ke={bits:O.lenbits},Pe=p(g,O.lens,0,O.nlen,O.lencode,0,O.work,ke),O.lenbits=ke.bits,Pe){F.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,ke={bits:O.distbits},Pe=p(m,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,ke),O.distbits=ke.bits,Pe){F.msg="invalid distances set",O.mode=30;break}if(O.mode=20,X===6)break e;case 20:O.mode=21;case 21:if(6<=te&&258<=le){F.next_out=re,F.avail_out=le,F.next_in=oe,F.avail_in=te,O.hold=$,O.bits=Q,d(F,xe),re=F.next_out,ae=F.output,le=F.avail_out,oe=F.next_in,K=F.input,te=F.avail_in,$=O.hold,Q=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;Be=(ne=O.lencode[$&(1<<O.lenbits)-1])>>>16&255,nt=65535&ne,!((Me=ne>>>24)<=Q);){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}if(Be&&(240&Be)==0){for(wt=Me,At=Be,ft=nt;Be=(ne=O.lencode[ft+(($&(1<<wt+At)-1)>>wt)])>>>16&255,nt=65535&ne,!(wt+(Me=ne>>>24)<=Q);){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}$>>>=wt,Q-=wt,O.back+=wt}if($>>>=Me,Q-=Me,O.back+=Me,O.length=nt,Be===0){O.mode=26;break}if(32&Be){O.back=-1,O.mode=12;break}if(64&Be){F.msg="invalid literal/length code",O.mode=30;break}O.extra=15&Be,O.mode=22;case 22:if(O.extra){for(ie=O.extra;Q<ie;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}O.length+=$&(1<<O.extra)-1,$>>>=O.extra,Q-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;Be=(ne=O.distcode[$&(1<<O.distbits)-1])>>>16&255,nt=65535&ne,!((Me=ne>>>24)<=Q);){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}if((240&Be)==0){for(wt=Me,At=Be,ft=nt;Be=(ne=O.distcode[ft+(($&(1<<wt+At)-1)>>wt)])>>>16&255,nt=65535&ne,!(wt+(Me=ne>>>24)<=Q);){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}$>>>=wt,Q-=wt,O.back+=wt}if($>>>=Me,Q-=Me,O.back+=Me,64&Be){F.msg="invalid distance code",O.mode=30;break}O.offset=nt,O.extra=15&Be,O.mode=24;case 24:if(O.extra){for(ie=O.extra;Q<ie;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}O.offset+=$&(1<<O.extra)-1,$>>>=O.extra,Q-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){F.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(le===0)break e;if(ve=xe-le,O.offset>ve){if((ve=O.offset-ve)>O.whave&&O.sane){F.msg="invalid distance too far back",O.mode=30;break}Re=ve>O.wnext?(ve-=O.wnext,O.wsize-ve):O.wnext-ve,ve>O.length&&(ve=O.length),Ue=O.window}else Ue=ae,Re=re-O.offset,ve=O.length;for(le<ve&&(ve=le),le-=ve,O.length-=ve;ae[re++]=Ue[Re++],--ve;);O.length===0&&(O.mode=21);break;case 26:if(le===0)break e;ae[re++]=O.length,le--,O.mode=21;break;case 27:if(O.wrap){for(;Q<32;){if(te===0)break e;te--,$|=K[oe++]<<Q,Q+=8}if(xe-=le,F.total_out+=xe,O.total+=xe,xe&&(F.adler=O.check=O.flags?u(O.check,ae,xe,re-xe):c(O.check,ae,xe,re-xe)),xe=le,(O.flags?$:S($))!==O.check){F.msg="incorrect data check",O.mode=30;break}Q=$=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;Q<32;){if(te===0)break e;te--,$+=K[oe++]<<Q,Q+=8}if($!==(4294967295&O.total)){F.msg="incorrect length check",O.mode=30;break}Q=$=0}O.mode=29;case 29:Pe=1;break e;case 30:Pe=-3;break e;case 31:return-4;case 32:default:return x}return F.next_out=re,F.avail_out=le,F.next_in=oe,F.avail_in=te,O.hold=$,O.bits=Q,(O.wsize||xe!==F.avail_out&&O.mode<30&&(O.mode<27||X!==4))&&J(F,F.output,F.next_out,xe-F.avail_out)?(O.mode=31,-4):(Ce-=F.avail_in,xe-=F.avail_out,F.total_in+=Ce,F.total_out+=xe,O.total+=xe,O.wrap&&xe&&(F.adler=O.check=O.flags?u(O.check,ae,xe,F.next_out-xe):c(O.check,ae,xe,F.next_out-xe)),F.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(Ce==0&&xe===0||X===4)&&Pe===b&&(Pe=-5),Pe)},i.inflateEnd=function(F){if(!F||!F.state)return x;var X=F.state;return X.window&&(X.window=null),F.state=null,b},i.inflateGetHeader=function(F,X){var O;return F&&F.state?(2&(O=F.state).wrap)==0?x:((O.head=X).done=!1,b):x},i.inflateSetDictionary=function(F,X){var O,K=X.length;return F&&F.state?(O=F.state).wrap!==0&&O.mode!==11?x:O.mode===11&&c(1,X,K,0)!==O.check?-3:J(F,X,K,K)?(O.mode=31,-4):(O.havedict=1,b):x},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(g,m,b,x,k,v,E,S){var T,R,z,D,Z,V,Y,U,q,J=S.bits,F=0,X=0,O=0,K=0,ae=0,oe=0,re=0,te=0,le=0,$=0,Q=null,Ce=0,xe=new a.Buf16(16),ve=new a.Buf16(16),Re=null,Ue=0;for(F=0;F<=15;F++)xe[F]=0;for(X=0;X<x;X++)xe[m[b+X]]++;for(ae=J,K=15;1<=K&&xe[K]===0;K--);if(K<ae&&(ae=K),K===0)return k[v++]=20971520,k[v++]=20971520,S.bits=1,0;for(O=1;O<K&&xe[O]===0;O++);for(ae<O&&(ae=O),F=te=1;F<=15;F++)if(te<<=1,(te-=xe[F])<0)return-1;if(0<te&&(g===0||K!==1))return-1;for(ve[1]=0,F=1;F<15;F++)ve[F+1]=ve[F]+xe[F];for(X=0;X<x;X++)m[b+X]!==0&&(E[ve[m[b+X]]++]=X);if(V=g===0?(Q=Re=E,19):g===1?(Q=c,Ce-=257,Re=u,Ue-=257,256):(Q=d,Re=p,-1),F=O,Z=v,re=X=$=0,z=-1,D=(le=1<<(oe=ae))-1,g===1&&852<le||g===2&&592<le)return 1;for(;;){for(Y=F-re,q=E[X]<V?(U=0,E[X]):E[X]>V?(U=Re[Ue+E[X]],Q[Ce+E[X]]):(U=96,0),T=1<<F-re,O=R=1<<oe;k[Z+($>>re)+(R-=T)]=Y<<24|U<<16|q|0,R!==0;);for(T=1<<F-1;$&T;)T>>=1;if(T!==0?($&=T-1,$+=T):$=0,X++,--xe[F]==0){if(F===K)break;F=m[b+E[X]]}if(ae<F&&($&D)!==z){for(re===0&&(re=ae),Z+=O,te=1<<(oe=F-re);oe+re<K&&!((te-=xe[oe+re])<=0);)oe++,te<<=1;if(le+=1<<oe,g===1&&852<le||g===2&&592<le)return 1;k[z=$&D]=ae<<24|oe<<16|Z-v|0}}return $!==0&&(k[Z+$]=F-re<<24|64<<16|0),S.bits=ae,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),c=0,u=1;function d(ne){for(var pe=ne.length;0<=--pe;)ne[pe]=0}var p=0,g=29,m=256,b=m+1+g,x=30,k=19,v=2*b+1,E=15,S=16,T=7,R=256,z=16,D=17,Z=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(b+2));d(J);var F=new Array(2*x);d(F);var X=new Array(512);d(X);var O=new Array(256);d(O);var K=new Array(g);d(K);var ae,oe,re,te=new Array(x);function le(ne,pe,Ne,Ae,me){this.static_tree=ne,this.extra_bits=pe,this.extra_base=Ne,this.elems=Ae,this.max_length=me,this.has_stree=ne&&ne.length}function $(ne,pe){this.dyn_tree=ne,this.max_code=0,this.stat_desc=pe}function Q(ne){return ne<256?X[ne]:X[256+(ne>>>7)]}function Ce(ne,pe){ne.pending_buf[ne.pending++]=255&pe,ne.pending_buf[ne.pending++]=pe>>>8&255}function xe(ne,pe,Ne){ne.bi_valid>S-Ne?(ne.bi_buf|=pe<<ne.bi_valid&65535,Ce(ne,ne.bi_buf),ne.bi_buf=pe>>S-ne.bi_valid,ne.bi_valid+=Ne-S):(ne.bi_buf|=pe<<ne.bi_valid&65535,ne.bi_valid+=Ne)}function ve(ne,pe,Ne){xe(ne,Ne[2*pe],Ne[2*pe+1])}function Re(ne,pe){for(var Ne=0;Ne|=1&ne,ne>>>=1,Ne<<=1,0<--pe;);return Ne>>>1}function Ue(ne,pe,Ne){var Ae,me,ze=new Array(E+1),He=0;for(Ae=1;Ae<=E;Ae++)ze[Ae]=He=He+Ne[Ae-1]<<1;for(me=0;me<=pe;me++){var je=ne[2*me+1];je!==0&&(ne[2*me]=Re(ze[je]++,je))}}function Me(ne){var pe;for(pe=0;pe<b;pe++)ne.dyn_ltree[2*pe]=0;for(pe=0;pe<x;pe++)ne.dyn_dtree[2*pe]=0;for(pe=0;pe<k;pe++)ne.bl_tree[2*pe]=0;ne.dyn_ltree[2*R]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function Be(ne){8<ne.bi_valid?Ce(ne,ne.bi_buf):0<ne.bi_valid&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function nt(ne,pe,Ne,Ae){var me=2*pe,ze=2*Ne;return ne[me]<ne[ze]||ne[me]===ne[ze]&&Ae[pe]<=Ae[Ne]}function wt(ne,pe,Ne){for(var Ae=ne.heap[Ne],me=Ne<<1;me<=ne.heap_len&&(me<ne.heap_len&&nt(pe,ne.heap[me+1],ne.heap[me],ne.depth)&&me++,!nt(pe,Ae,ne.heap[me],ne.depth));)ne.heap[Ne]=ne.heap[me],Ne=me,me<<=1;ne.heap[Ne]=Ae}function At(ne,pe,Ne){var Ae,me,ze,He,je=0;if(ne.last_lit!==0)for(;Ae=ne.pending_buf[ne.d_buf+2*je]<<8|ne.pending_buf[ne.d_buf+2*je+1],me=ne.pending_buf[ne.l_buf+je],je++,Ae===0?ve(ne,me,pe):(ve(ne,(ze=O[me])+m+1,pe),(He=V[ze])!==0&&xe(ne,me-=K[ze],He),ve(ne,ze=Q(--Ae),Ne),(He=Y[ze])!==0&&xe(ne,Ae-=te[ze],He)),je<ne.last_lit;);ve(ne,R,pe)}function ft(ne,pe){var Ne,Ae,me,ze=pe.dyn_tree,He=pe.stat_desc.static_tree,je=pe.stat_desc.has_stree,Je=pe.stat_desc.elems,W=-1;for(ne.heap_len=0,ne.heap_max=v,Ne=0;Ne<Je;Ne++)ze[2*Ne]!==0?(ne.heap[++ne.heap_len]=W=Ne,ne.depth[Ne]=0):ze[2*Ne+1]=0;for(;ne.heap_len<2;)ze[2*(me=ne.heap[++ne.heap_len]=W<2?++W:0)]=1,ne.depth[me]=0,ne.opt_len--,je&&(ne.static_len-=He[2*me+1]);for(pe.max_code=W,Ne=ne.heap_len>>1;1<=Ne;Ne--)wt(ne,ze,Ne);for(me=Je;Ne=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],wt(ne,ze,1),Ae=ne.heap[1],ne.heap[--ne.heap_max]=Ne,ne.heap[--ne.heap_max]=Ae,ze[2*me]=ze[2*Ne]+ze[2*Ae],ne.depth[me]=(ne.depth[Ne]>=ne.depth[Ae]?ne.depth[Ne]:ne.depth[Ae])+1,ze[2*Ne+1]=ze[2*Ae+1]=me,ne.heap[1]=me++,wt(ne,ze,1),2<=ne.heap_len;);ne.heap[--ne.heap_max]=ne.heap[1],function(N,M){var ee,fe,_e,Se,lt,Lt,vt=M.dyn_tree,Et=M.max_code,kt=M.stat_desc.static_tree,ra=M.stat_desc.has_stree,Do=M.stat_desc.extra_bits,Ir=M.stat_desc.extra_base,Zn=M.stat_desc.max_length,qi=0;for(Se=0;Se<=E;Se++)N.bl_count[Se]=0;for(vt[2*N.heap[N.heap_max]+1]=0,ee=N.heap_max+1;ee<v;ee++)Zn<(Se=vt[2*vt[2*(fe=N.heap[ee])+1]+1]+1)&&(Se=Zn,qi++),vt[2*fe+1]=Se,Et<fe||(N.bl_count[Se]++,lt=0,Ir<=fe&&(lt=Do[fe-Ir]),Lt=vt[2*fe],N.opt_len+=Lt*(Se+lt),ra&&(N.static_len+=Lt*(kt[2*fe+1]+lt)));if(qi!==0){do{for(Se=Zn-1;N.bl_count[Se]===0;)Se--;N.bl_count[Se]--,N.bl_count[Se+1]+=2,N.bl_count[Zn]--,qi-=2}while(0<qi);for(Se=Zn;Se!==0;Se--)for(fe=N.bl_count[Se];fe!==0;)Et<(_e=N.heap[--ee])||(vt[2*_e+1]!==Se&&(N.opt_len+=(Se-vt[2*_e+1])*vt[2*_e],vt[2*_e+1]=Se),fe--)}}(ne,pe),Ue(ze,W,ne.bl_count)}function B(ne,pe,Ne){var Ae,me,ze=-1,He=pe[1],je=0,Je=7,W=4;for(He===0&&(Je=138,W=3),pe[2*(Ne+1)+1]=65535,Ae=0;Ae<=Ne;Ae++)me=He,He=pe[2*(Ae+1)+1],++je<Je&&me===He||(je<W?ne.bl_tree[2*me]+=je:me!==0?(me!==ze&&ne.bl_tree[2*me]++,ne.bl_tree[2*z]++):je<=10?ne.bl_tree[2*D]++:ne.bl_tree[2*Z]++,ze=me,W=(je=0)===He?(Je=138,3):me===He?(Je=6,3):(Je=7,4))}function Pe(ne,pe,Ne){var Ae,me,ze=-1,He=pe[1],je=0,Je=7,W=4;for(He===0&&(Je=138,W=3),Ae=0;Ae<=Ne;Ae++)if(me=He,He=pe[2*(Ae+1)+1],!(++je<Je&&me===He)){if(je<W)for(;ve(ne,me,ne.bl_tree),--je!=0;);else me!==0?(me!==ze&&(ve(ne,me,ne.bl_tree),je--),ve(ne,z,ne.bl_tree),xe(ne,je-3,2)):je<=10?(ve(ne,D,ne.bl_tree),xe(ne,je-3,3)):(ve(ne,Z,ne.bl_tree),xe(ne,je-11,7));ze=me,W=(je=0)===He?(Je=138,3):me===He?(Je=6,3):(Je=7,4)}}d(te);var ke=!1;function ie(ne,pe,Ne,Ae){xe(ne,(p<<1)+(Ae?1:0),3),function(me,ze,He,je){Be(me),Ce(me,He),Ce(me,~He),a.arraySet(me.pending_buf,me.window,ze,He,me.pending),me.pending+=He}(ne,pe,Ne)}i._tr_init=function(ne){ke||(function(){var pe,Ne,Ae,me,ze,He=new Array(E+1);for(me=Ae=0;me<g-1;me++)for(K[me]=Ae,pe=0;pe<1<<V[me];pe++)O[Ae++]=me;for(O[Ae-1]=me,me=ze=0;me<16;me++)for(te[me]=ze,pe=0;pe<1<<Y[me];pe++)X[ze++]=me;for(ze>>=7;me<x;me++)for(te[me]=ze<<7,pe=0;pe<1<<Y[me]-7;pe++)X[256+ze++]=me;for(Ne=0;Ne<=E;Ne++)He[Ne]=0;for(pe=0;pe<=143;)J[2*pe+1]=8,pe++,He[8]++;for(;pe<=255;)J[2*pe+1]=9,pe++,He[9]++;for(;pe<=279;)J[2*pe+1]=7,pe++,He[7]++;for(;pe<=287;)J[2*pe+1]=8,pe++,He[8]++;for(Ue(J,b+1,He),pe=0;pe<x;pe++)F[2*pe+1]=5,F[2*pe]=Re(pe,5);ae=new le(J,V,m+1,b,E),oe=new le(F,Y,0,x,E),re=new le(new Array(0),U,0,k,T)}(),ke=!0),ne.l_desc=new $(ne.dyn_ltree,ae),ne.d_desc=new $(ne.dyn_dtree,oe),ne.bl_desc=new $(ne.bl_tree,re),ne.bi_buf=0,ne.bi_valid=0,Me(ne)},i._tr_stored_block=ie,i._tr_flush_block=function(ne,pe,Ne,Ae){var me,ze,He=0;0<ne.level?(ne.strm.data_type===2&&(ne.strm.data_type=function(je){var Je,W=4093624447;for(Je=0;Je<=31;Je++,W>>>=1)if(1&W&&je.dyn_ltree[2*Je]!==0)return c;if(je.dyn_ltree[18]!==0||je.dyn_ltree[20]!==0||je.dyn_ltree[26]!==0)return u;for(Je=32;Je<m;Je++)if(je.dyn_ltree[2*Je]!==0)return u;return c}(ne)),ft(ne,ne.l_desc),ft(ne,ne.d_desc),He=function(je){var Je;for(B(je,je.dyn_ltree,je.l_desc.max_code),B(je,je.dyn_dtree,je.d_desc.max_code),ft(je,je.bl_desc),Je=k-1;3<=Je&&je.bl_tree[2*q[Je]+1]===0;Je--);return je.opt_len+=3*(Je+1)+5+5+4,Je}(ne),me=ne.opt_len+3+7>>>3,(ze=ne.static_len+3+7>>>3)<=me&&(me=ze)):me=ze=Ne+5,Ne+4<=me&&pe!==-1?ie(ne,pe,Ne,Ae):ne.strategy===4||ze===me?(xe(ne,2+(Ae?1:0),3),At(ne,J,F)):(xe(ne,4+(Ae?1:0),3),function(je,Je,W,N){var M;for(xe(je,Je-257,5),xe(je,W-1,5),xe(je,N-4,4),M=0;M<N;M++)xe(je,je.bl_tree[2*q[M]+1],3);Pe(je,je.dyn_ltree,Je-1),Pe(je,je.dyn_dtree,W-1)}(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,He+1),At(ne,ne.dyn_ltree,ne.dyn_dtree)),Me(ne),Ae&&Be(ne)},i._tr_tally=function(ne,pe,Ne){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=pe>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&pe,ne.pending_buf[ne.l_buf+ne.last_lit]=255&Ne,ne.last_lit++,pe===0?ne.dyn_ltree[2*Ne]++:(ne.matches++,pe--,ne.dyn_ltree[2*(O[Ne]+m+1)]++,ne.dyn_dtree[2*Q(pe)]++),ne.last_lit===ne.lit_bufsize-1},i._tr_align=function(ne){xe(ne,2,3),ve(ne,R,J),function(pe){pe.bi_valid===16?(Ce(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(ne)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(c,u){if(!c.setImmediate){var d,p,g,m,b=1,x={},k=!1,v=c.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(c);E=E&&E.setTimeout?E:c,d={}.toString.call(c.process)==="[object process]"?function(z){process.nextTick(function(){T(z)})}:function(){if(c.postMessage&&!c.importScripts){var z=!0,D=c.onmessage;return c.onmessage=function(){z=!1},c.postMessage("","*"),c.onmessage=D,z}}()?(m="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",R,!1):c.attachEvent("onmessage",R),function(z){c.postMessage(m+z,"*")}):c.MessageChannel?((g=new MessageChannel).port1.onmessage=function(z){T(z.data)},function(z){g.port2.postMessage(z)}):v&&"onreadystatechange"in v.createElement("script")?(p=v.documentElement,function(z){var D=v.createElement("script");D.onreadystatechange=function(){T(z),D.onreadystatechange=null,p.removeChild(D),D=null},p.appendChild(D)}):function(z){setTimeout(T,0,z)},E.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var D=new Array(arguments.length-1),Z=0;Z<D.length;Z++)D[Z]=arguments[Z+1];var V={callback:z,args:D};return x[b]=V,d(b),b++},E.clearImmediate=S}function S(z){delete x[z]}function T(z){if(k)setTimeout(T,0,z);else{var D=x[z];if(D){k=!0;try{(function(Z){var V=Z.callback,Y=Z.args;switch(Y.length){case 0:V();break;case 1:V(Y[0]);break;case 2:V(Y[0],Y[1]);break;case 3:V(Y[0],Y[1],Y[2]);break;default:V.apply(u,Y)}})(D)}finally{S(z),k=!1}}}}function R(z){z.source===c&&typeof z.data=="string"&&z.data.indexOf(m)===0&&T(+z.data.slice(m.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Ly)),Ly.exports}rW();const iW=30023,oW="dead-drop-lockers@v1",g2="Dead Drop Lockers Source Snapshot";function sW(){const e=A.useRef(null),[t,n]=A.useState(null),r=yT(),i=_w(),a=u=>{var p;const d=((p=u.target.files)==null?void 0:p[0])??null;n(d)},c=async()=>{if(t)try{const u=await r.mutateAsync(t);await i.mutateAsync({kind:iW,content:`${g2}: snapshot uploaded`,tags:[["d",oW],["title",g2],["t","code-snapshot"],...u]}),alert("Snapshot published to Nostr")}catch(u){alert("Upload or publish failed: "+u.message)}};return w.jsxs("div",{className:"p-4",children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Publish Snapshot to Nostr"}),w.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a zip of your project locally and upload it here to publish a Nostr snapshot event."}),w.jsx("input",{type:"file",ref:e,onChange:a,accept:".zip"}),w.jsx("div",{className:"mt-4",children:w.jsx("button",{className:"btn",onClick:c,disabled:!t,children:"Upload & Publish"})})]})}function aW(){return Zc({title:"DeadDropstr - Nostr-Native Smart Lockers",description:"A decentralized marketplace for autonomous physical lockers powered by Nostr and Lightning."}),w.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[w.jsxs("header",{className:"relative isolate overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(45%_40%_at_50%_60%,hsl(var(--primary)/0.12),transparent)]"}),w.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[w.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:["The ",w.jsx("span",{className:"text-primary",children:"Nostr-Native"})," Dead Drop Network"]}),w.jsx("p",{className:"max-w-2xl mx-auto text-lg text-muted-foreground mb-10",children:"Rent autonomous smart lockers for anonymous P2P exchanges. Pay with Lightning. No middlemen."}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[w.jsx(mt,{asChild:!0,size:"lg",className:"text-base",children:w.jsxs(Tn,{to:"/marketplace",children:[w.jsx(ld,{className:"mr-2 h-5 w-5"}),"Explore Lockers"]})}),w.jsx(mt,{asChild:!0,size:"lg",variant:"outline",className:"text-base",children:w.jsxs(Tn,{to:"/dashboard",children:[w.jsx(bv,{className:"mr-2 h-5 w-5"}),"Owner Dashboard"]})})]})]})]}),w.jsxs("section",{className:"container mx-auto px-4 py-16",children:[w.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),w.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[w.jsxs(sn,{className:"bg-card/60 backdrop-blur",children:[w.jsxs(Qn,{children:[w.jsx(ld,{className:"h-10 w-10 text-primary mb-2"}),w.jsx(fr,{children:"Find a Locker"})]}),w.jsx(an,{children:w.jsx(bo,{children:"Browse the map to find available smart lockers near you. Filter by size, price, and trust score."})})]}),w.jsxs(sn,{className:"bg-card/60 backdrop-blur",children:[w.jsxs(Qn,{children:[w.jsx(Sv,{className:"h-10 w-10 text-primary mb-2"}),w.jsx(fr,{children:"Pay with Lightning"})]}),w.jsx(an,{children:w.jsx(bo,{children:"Rent instantly using Nostr Wallet Connect (NIP-47) or WebLN. The locker unlocks once payment confirms."})})]}),w.jsxs(sn,{className:"bg-card/60 backdrop-blur",children:[w.jsxs(Qn,{children:[w.jsx(aC,{className:"h-10 w-10 text-primary mb-2"}),w.jsx(fr,{children:"Negotiate Privately"})]}),w.jsx(an,{children:w.jsx(bo,{children:"Chat with buyers or sellers via encrypted NIP-17 messages. Goods payment is direct P2P via zaps."})})]}),w.jsxs(sn,{className:"bg-card/60 backdrop-blur",children:[w.jsxs(Qn,{children:[w.jsx(bv,{className:"h-10 w-10 text-primary mb-2"}),w.jsx(fr,{children:"Manage Your Box"})]}),w.jsx(an,{children:w.jsx(bo,{children:"Owners configure fees, overdue penalties, proxy mode, and abandoned property rules from their dashboard."})})]})]})]}),w.jsx("section",{className:"container mx-auto px-4 py-16 text-center",children:w.jsxs(sn,{className:"max-w-2xl mx-auto bg-primary/5 border-primary/20",children:[w.jsxs(Qn,{children:[w.jsx(fr,{className:"text-2xl",children:"Ready to Deploy a Locker?"}),w.jsx(bo,{children:"Flash our ESP32 template onto your hardware, configure via the dashboard, and start earning sats."})]}),w.jsx(an,{children:w.jsx(mt,{asChild:!0,size:"lg",children:w.jsx(Tn,{to:"/dashboard",children:"Get Started"})})})]})}),w.jsx("footer",{className:"border-t py-8 text-center text-sm text-muted-foreground",children:w.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Vibed with Shakespeare"})})]})}var Yp="Switch",[lW,GW]=$n(Yp),[cW,uW]=lW(Yp),gA=A.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:c,disabled:u,value:d="on",onCheckedChange:p,form:g,...m}=e,[b,x]=A.useState(null),k=Tt(t,R=>x(R)),v=A.useRef(!1),E=b?g||!!b.closest("form"):!0,[S,T]=zo({prop:i,defaultProp:a??!1,onChange:p,caller:Yp});return w.jsxs(cW,{scope:n,checked:S,disabled:u,children:[w.jsx(st.button,{type:"button",role:"switch","aria-checked":S,"aria-required":c,"data-state":_A(S),"data-disabled":u?"":void 0,disabled:u,value:d,...m,ref:k,onClick:qe(e.onClick,R=>{T(z=>!z),E&&(v.current=R.isPropagationStopped(),v.current||R.stopPropagation())})}),E&&w.jsx(wA,{control:b,bubbles:!v.current,name:r,value:d,checked:S,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});gA.displayName=Yp;var yA="SwitchThumb",vA=A.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=uW(yA,n);return w.jsx(st.span,{"data-state":_A(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});vA.displayName=yA;var dW="SwitchBubbleInput",wA=A.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const c=A.useRef(null),u=Tt(c,a),d=Ow(n),p=Mp(t);return A.useEffect(()=>{const g=c.current;if(!g)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&x){const k=new Event("click",{bubbles:r});x.call(g,n),g.dispatchEvent(k)}},[d,n,r]),w.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wA.displayName=dW;function _A(e){return e?"checked":"unchecked"}var xA=gA,fW=vA;const bA=A.forwardRef(({className:e,...t},n)=>w.jsx(xA,{className:at("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:w.jsx(fW,{className:at("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));bA.displayName=xA.displayName;const Oy="0123456789bcdefghjkmnpqrstuvwxyz";class En{static encode(t,n,r){if(typeof r>"u"){for(let b=1;b<=12;b++){const x=En.encode(t,n,b),k=En.decode(x);if(k.lat==t&&k.lon==n)return x}r=12}if(t=Number(t),n=Number(n),r=Number(r),isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Invalid geohash");let i=0,a=0,c=!0,u="",d=-90,p=90,g=-180,m=180;for(;u.length<r;){if(c){const b=(g+m)/2;n>=b?(i=i*2+1,g=b):(i=i*2,m=b)}else{const b=(d+p)/2;t>=b?(i=i*2+1,d=b):(i=i*2,p=b)}c=!c,++a==5&&(u+=Oy.charAt(i),a=0,i=0)}return u}static decode(t){const n=En.bounds(t),r=n.sw.lat,i=n.sw.lon,a=n.ne.lat,c=n.ne.lon;let u=(r+a)/2,d=(i+c)/2;return u=u.toFixed(Math.floor(2-Math.log(a-r)/Math.LN10)),d=d.toFixed(Math.floor(2-Math.log(c-i)/Math.LN10)),{lat:Number(u),lon:Number(d)}}static bounds(t){if(t.length==0)throw new Error("Invalid geohash");t=t.toLowerCase();let n=!0,r=-90,i=90,a=-180,c=180;for(let d=0;d<t.length;d++){const p=t.charAt(d),g=Oy.indexOf(p);if(g==-1)throw new Error("Invalid geohash");for(let m=4;m>=0;m--){const b=g>>m&1;if(n){const x=(a+c)/2;b==1?a=x:c=x}else{const x=(r+i)/2;b==1?r=x:i=x}n=!n}}return{sw:{lat:r,lon:a},ne:{lat:i,lon:c}}}static adjacent(t,n){if(t=t.toLowerCase(),n=n.toLowerCase(),t.length==0)throw new Error("Invalid geohash");if("nsew".indexOf(n)==-1)throw new Error("Invalid direction");const r={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]},i={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]},a=t.slice(-1);let c=t.slice(0,-1);const u=t.length%2;return i[n][u].indexOf(a)!=-1&&c!=""&&(c=En.adjacent(c,n)),c+Oy.charAt(r[n][u].indexOf(a))}static neighbours(t){return{n:En.adjacent(t,"n"),ne:En.adjacent(En.adjacent(t,"n"),"e"),e:En.adjacent(t,"e"),se:En.adjacent(En.adjacent(t,"s"),"e"),s:En.adjacent(t,"s"),sw:En.adjacent(En.adjacent(t,"s"),"w"),w:En.adjacent(t,"w"),nw:En.adjacent(En.adjacent(t,"n"),"w")}}}function hW(){const{nostr:e}=Ar();return Eo({queryKey:["my-lockers"],queryFn:async()=>(await e.query([{kinds:[30402],limit:100}])).map(n=>Aw(n)).filter(Boolean),staleTime:3e4})}function Sh({className:e,...t}){return w.jsx("div",{className:at("animate-pulse rounded-md bg-muted",e),...t})}function pW(){Zc({title:"Owner Dashboard - Dead Drop Network"});const{user:e}=jc(),{mutateAsync:t,isPending:n}=_w(),{toast:r}=Td(),{data:i,isLoading:a}=hW(),[c,u]=A.useState(""),[d,p]=A.useState(""),[g,m]=A.useState(""),[b,x]=A.useState(""),[k,v]=A.useState(""),[E,S]=A.useState("1000"),[T,R]=A.useState("10"),[z,D]=A.useState("7"),[Z,V]=A.useState(!1),[Y,U]=A.useState("500"),[q,J]=A.useState("30"),[F,X]=A.useState("30x30x45"),O=async K=>{if(K.preventDefault(),!!e)try{const ae=En.encode(parseFloat(b),parseFloat(k),7),oe=AZ({title:c,description:d,location:g,geohash:ae,baseFee:parseInt(E),overdueFee:parseInt(T),overdueDays:parseInt(z),proxyMode:Z,proxyFee:parseInt(Y),abandonDays:parseInt(q),dimensions:F});await t({kind:30402,content:d,tags:oe}),r({title:"Locker Published",description:"Your locker listing is now live."}),u(""),p("")}catch(ae){r({title:"Error",description:ae.message,variant:"destructive"})}};return e?w.jsx("div",{className:"min-h-screen bg-background",children:w.jsxs("div",{className:"container mx-auto p-4 space-y-8",children:[w.jsxs("header",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-2xl font-semibold",children:"Owner Dashboard"}),w.jsx(Zv,{className:"max-w-60"})]}),w.jsxs("section",{children:[w.jsx("h2",{className:"text-xl font-medium mb-4",children:"My Lockers"}),a?w.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(K=>w.jsxs(sn,{children:[w.jsxs(Qn,{children:[w.jsx(Sh,{className:"h-5 w-3/4"}),w.jsx(Sh,{className:"h-4 w-1/2"})]}),w.jsxs(an,{children:[w.jsx(Sh,{className:"h-4 w-full mb-2"}),w.jsx(Sh,{className:"h-4 w-2/3"})]})]},K))}):i&&i.length>0?w.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(K=>w.jsxs(sn,{children:[w.jsxs(Qn,{children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx(fr,{className:"text-lg",children:K.title}),w.jsx(Fn,{variant:K.status==="available"?"default":"secondary",children:K.status})]}),w.jsx(bo,{children:K.location||K.geohash})]}),w.jsxs(an,{children:[w.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:K.description}),w.jsxs("div",{className:"flex justify-between text-sm",children:[w.jsxs("span",{children:["Fee: ",K.price," sats"]}),K.proxyMode&&w.jsx(Fn,{variant:"outline",children:"Proxy"})]})]})]},K.id))}):w.jsx(sn,{className:"border-dashed",children:w.jsx(an,{className:"py-8 text-center text-muted-foreground",children:"You haven't created any lockers yet."})})]}),w.jsxs(sn,{children:[w.jsxs(Qn,{children:[w.jsx(fr,{children:"Create New Locker"}),w.jsx(bo,{children:"Configure your smart locker and publish it to the network."})]}),w.jsx(an,{children:w.jsxs("form",{onSubmit:O,className:"space-y-6",children:[w.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(cr,{htmlFor:"title",children:"Title"}),w.jsx(vn,{id:"title",value:c,onChange:K=>u(K.target.value),placeholder:"Downtown Dead Drop Box #1",required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(cr,{htmlFor:"dimensions",children:"Dimensions (cm)"}),w.jsx(vn,{id:"dimensions",value:F,onChange:K=>X(K.target.value),placeholder:"WxHxD e.g. 30x30x45"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(cr,{htmlFor:"description",children:"Description"}),w.jsx(ww,{id:"description",value:d,onChange:K=>p(K.target.value),placeholder:"Describe your locker, its features, and any special instructions...",rows:3})]}),w.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(cr,{htmlFor:"location",children:"Location Address"}),w.jsx(vn,{id:"location",value:g,onChange:K=>m(K.target.value),placeholder:"123 Main St, City"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(cr,{htmlFor:"lat",children:"Latitude"}),w.jsx(vn,{id:"lat",type:"number",step:"any",value:b,onChange:K=>x(K.target.value),placeholder:"51.505",required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(cr,{htmlFor:"lng",children:"Longitude"}),w.jsx(vn,{id:"lng",type:"number",step:"any",value:k,onChange:K=>v(K.target.value),placeholder:"-0.09",required:!0})]})]}),w.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[w.jsx("h3",{className:"font-medium",children:"Fee Structure"}),w.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(cr,{htmlFor:"baseFee",children:"Base Fee (sats)"}),w.jsx(vn,{id:"baseFee",type:"number",value:E,onChange:K=>S(K.target.value)})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(cr,{htmlFor:"overdueFee",children:"Overdue Fee (%)"}),w.jsx(vn,{id:"overdueFee",type:"number",value:T,onChange:K=>R(K.target.value)})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(cr,{htmlFor:"overdueDays",children:"Overdue After (days)"}),w.jsx(vn,{id:"overdueDays",type:"number",value:z,onChange:K=>D(K.target.value)})]})]})]}),w.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium",children:"Proxy Mode"}),w.jsx("p",{className:"text-sm text-muted-foreground",children:"You manually receive and stock items for an extra fee."})]}),w.jsx(bA,{checked:Z,onCheckedChange:V})]}),Z&&w.jsxs("div",{className:"space-y-2",children:[w.jsx(cr,{htmlFor:"proxyFee",children:"Proxy Fee (sats)"}),w.jsx(vn,{id:"proxyFee",type:"number",value:Y,onChange:K=>U(K.target.value)})]})]}),w.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[w.jsx("h3",{className:"font-medium",children:"Abandoned Property"}),w.jsx("p",{className:"text-sm text-muted-foreground",children:"After this period, unclaimed items become owner property or are auctioned."}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(cr,{htmlFor:"abandonDays",children:"Days Until Abandoned"}),w.jsx(vn,{id:"abandonDays",type:"number",value:q,onChange:K=>J(K.target.value)})]})]}),w.jsx(mt,{type:"submit",disabled:n,className:"w-full",children:n?"Publishing...":"Publish Locker"})]})})]}),w.jsx("footer",{className:"text-center text-sm text-muted-foreground pt-8",children:w.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",children:"Vibed with Shakespeare"})})]})}):w.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:w.jsxs(sn,{className:"w-full max-w-md",children:[w.jsxs(Qn,{children:[w.jsx(fr,{children:"Owner Dashboard"}),w.jsx(bo,{children:"Please log in to manage your lockers."})]}),w.jsx(an,{children:w.jsx(Zv,{className:"w-full"})})]})})}const y2=[{id:"1",pubkey:"npub1abc123...",name:"CryptoMike",lastMessage:"Can you drop the package at the SF locker?",timestamp:"2 min ago",unread:!0},{id:"2",pubkey:"npub1def456...",name:"PrivacyPam",lastMessage:"Thanks for the quick delivery!",timestamp:"1 hour ago",unread:!1},{id:"3",pubkey:"npub1ghi789...",name:"BitcoinBill",lastMessage:"Locker code is 8472",timestamp:"Yesterday",unread:!1}],mW=()=>{Zc({title:"Messages",description:"Private encrypted messaging on Nostr"});const[e,t]=A.useState(y2[0]),[n,r]=A.useState("");return w.jsx("div",{className:"min-h-screen bg-background",children:w.jsxs("div",{className:"container mx-auto p-4 h-[calc(100vh-80px)]",children:[w.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Messages"}),w.jsxs("div",{className:"grid md:grid-cols-3 gap-4 h-full",children:[w.jsx("div",{className:"space-y-2",children:y2.map(i=>w.jsx(sn,{className:`cursor-pointer transition-colors ${(e==null?void 0:e.id)===i.id?"border-primary":"hover:border-primary/50"}`,onClick:()=>t(i),children:w.jsxs(an,{className:"p-3 flex items-center gap-3",children:[w.jsx(gd,{className:"h-10 w-10",children:w.jsx(yd,{children:w.jsx(kv,{className:"h-5 w-5"})})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("p",{className:"font-medium truncate",children:i.name}),i.unread&&w.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"})]}),w.jsx("p",{className:"text-sm text-muted-foreground truncate",children:i.lastMessage}),w.jsx("p",{className:"text-xs text-muted-foreground",children:i.timestamp})]})]})},i.id))}),w.jsxs(sn,{className:"md:col-span-2 flex flex-col",children:[w.jsx(Qn,{className:"border-b",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(gd,{className:"h-8 w-8",children:w.jsx(yd,{children:w.jsx(kv,{className:"h-4 w-4"})})}),w.jsx(fr,{className:"text-base",children:e==null?void 0:e.name})]})}),w.jsxs(an,{className:"flex-1 flex flex-col p-4",children:[w.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto",children:[w.jsx("div",{className:"flex justify-start",children:w.jsx("div",{className:"bg-muted rounded-lg px-4 py-2 max-w-[80%]",children:w.jsx("p",{className:"text-sm",children:"Hey, I saw your locker listing."})})}),w.jsx("div",{className:"flex justify-end",children:w.jsx("div",{className:"bg-primary text-primary-foreground rounded-lg px-4 py-2 max-w-[80%]",children:w.jsx("p",{className:"text-sm",children:"Hi! Yes, it's available. What do you need to store?"})})}),w.jsx("div",{className:"flex justify-start",children:w.jsx("div",{className:"bg-muted rounded-lg px-4 py-2 max-w-[80%]",children:w.jsx("p",{className:"text-sm",children:e==null?void 0:e.lastMessage})})})]}),w.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[w.jsx(vn,{placeholder:"Type a message...",value:n,onChange:i=>r(i.target.value),onKeyDown:i=>{i.key==="Enter"&&r("")}}),w.jsx(mt,{size:"icon",onClick:()=>r(""),children:w.jsx(vD,{className:"h-4 w-4"})})]})]})]})]})]})})};function v2({event:e,className:t}){const n=A.useMemo(()=>{const r=e.content,i=/(https?:\/\/[^\s]+)|nostr:(npub1|note1|nprofile1|nevent1)([023456789acdefghjklmnpqrstuvwxyz]+)|(#\w+)/g,a=[];let c=0,u,d=0;for(;(u=i.exec(r))!==null;){const[p,g,m,b,x]=u,k=u.index;if(k>c&&a.push(r.substring(c,k)),g)a.push(w.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:g},`url-${d++}`));else if(m&&b)try{const v=`${m}${b}`,E=Xn.decode(v);if(E.type==="npub"){const S=E.data;a.push(w.jsx(w2,{pubkey:S},`mention-${d++}`))}else if(E.type==="nprofile"){const S=E.data.pubkey;a.push(w.jsx(w2,{pubkey:S},`mention-${d++}`))}else a.push(w.jsx(Tn,{to:`/${v}`,className:"text-blue-500 hover:underline break-all",children:p},`nostr-${d++}`))}catch{a.push(p)}else if(x){const v=x.slice(1);a.push(w.jsx(Tn,{to:`/t/${v}`,className:"text-blue-500 hover:underline",children:x},`hashtag-${d++}`))}c=k+p.length}return c<r.length&&a.push(r.substring(c)),a.length===0&&a.push(r),a},[e]);return w.jsx("div",{className:at("whitespace-pre-wrap break-words",t),children:n.length>0?n:e.content})}function w2({pubkey:e}){var a,c,u,d;const t=IS(e),n=Xn.npubEncode(e),r=!!((c=(a=t.data)==null?void 0:a.metadata)!=null&&c.name),i=((d=(u=t.data)==null?void 0:u.metadata)==null?void 0:d.name)??EN(e);return w.jsxs(Tn,{to:`/${n}`,className:at("font-medium hover:underline",r?"text-blue-500":"text-gray-500 hover:text-gray-700"),children:["@",i]})}function gW(){const{nip19:e}=ow();Zc({title:"NIP-19"});const{nostr:t}=Ar();if(!e)return w.jsx("div",{className:"container mx-auto p-6",children:"Invalid identifier"});let n;try{n=Xn.decode(e)}catch{return w.jsx("div",{className:"container mx-auto p-6",children:"Invalid NIP-19 identifier"})}const{type:r,data:i}=n,a=Eo({queryKey:["nip19",e,"profile"],enabled:r==="npub"||r==="nprofile",queryFn:async()=>{const p=(i==null?void 0:i.pubkey)??i;if(!p)return null;const g=await t.query([{kinds:[0],authors:[p],limit:1}]),m=g==null?void 0:g[0];if(!m)return{pubkey:p};try{const b=JSON.parse(m.content||"{}");return{pubkey:p,metadata:b}}catch{return{pubkey:p}}}}),c=Eo({queryKey:["nip19",e,"note"],enabled:r==="note",queryFn:async()=>{const p=i;if(!p)return null;const g=await t.query([{ids:[p],kinds:[1],limit:1}]);return(g==null?void 0:g[0])??null}}),u=Eo({queryKey:["nip19",e,"event"],enabled:r==="nevent",queryFn:async()=>{const p=(i==null?void 0:i.id)??i;if(!p)return null;const g=await t.query([{ids:[p],limit:1}]);return(g==null?void 0:g[0])??null}}),d=Eo({queryKey:["nip19",e,"naddr"],enabled:r==="naddr",queryFn:async()=>{const p=i;if(!p)return null;const g=p.kind,m=p.pubkey,b=p.identifier,x=await t.query([{kinds:[g],authors:[m],"#d":[b],limit:1}]);return(x==null?void 0:x[0])??null}});if(r==="npub"||r==="nprofile"){const p=a.data;return a.isFetched?w.jsx("div",{className:"container mx-auto p-6",children:w.jsxs("div",{className:"max-w-2xl mx-auto",children:[w.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),w.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["pubkey: ",w.jsx("code",{children:p==null?void 0:p.pubkey})]}),p!=null&&p.metadata?w.jsxs("div",{className:"space-y-2",children:[w.jsx("img",{src:p.metadata.picture,alt:"avatar",className:"w-28 h-28 rounded-full"}),w.jsx("h2",{className:"text-xl font-semibold",children:p.metadata.display_name??p.metadata.name}),w.jsx("p",{className:"text-sm text-muted-foreground",children:p.metadata.about}),p.metadata.website&&w.jsx("p",{children:w.jsx("a",{href:p.metadata.website,target:"_blank",rel:"noreferrer",className:"text-primary",children:"Website"})})]}):w.jsx("p",{children:"No metadata available."})]})}):w.jsx("div",{className:"container mx-auto p-6",children:"Loading profile"})}if(r==="note"){const p=c.data;return c.isLoading?w.jsx("div",{className:"container mx-auto p-6",children:"Loading note"}):p?w.jsxs("div",{className:"container mx-auto p-6",children:[w.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Text Note"}),w.jsx("div",{className:"prose max-w-none whitespace-pre-wrap",children:w.jsx(v2,{event:p})}),w.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",w.jsx(Tn,{to:`/${Xn.encode({type:"npub",data:p.pubkey})}`,children:p.pubkey})]})]}):w.jsx("div",{className:"container mx-auto p-6",children:"Note not found"})}if(r==="nevent"){const p=u.data;return u.isLoading?w.jsx("div",{className:"container mx-auto p-6",children:"Loading event"}):p?w.jsxs("div",{className:"container mx-auto p-6",children:[w.jsxs("h1",{className:"text-xl font-semibold",children:["Event (kind: ",p.kind,")"]}),w.jsx("div",{className:"mt-4 prose max-w-none whitespace-pre-wrap",children:p.kind===1?w.jsx(v2,{event:p}):w.jsx("pre",{children:p.content})}),w.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",w.jsx("code",{children:p.pubkey})]})]}):w.jsx("div",{className:"container mx-auto p-6",children:"Event not found"})}if(r==="naddr"){const p=d.data;if(d.isLoading)return w.jsx("div",{className:"container mx-auto p-6",children:"Loading addressable event"});if(!p)return w.jsx("div",{className:"container mx-auto p-6",children:"Addressable event not found"});if(p.kind===30402){const g=Aw(p);return g?w.jsxs("div",{className:"container mx-auto p-6",children:[w.jsx("h1",{className:"text-2xl font-semibold",children:g.title}),w.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",w.jsx("code",{children:g.pubkey})]}),w.jsx("p",{className:"mt-2",children:g.description}),w.jsxs("div",{className:"mt-4",children:[w.jsxs("p",{children:["Dimensions: ",g.dimensions]}),w.jsxs("p",{children:["Fee: ",g.price," ",g.currency]}),w.jsxs("p",{children:["Status: ",g.status]}),w.jsx(Tn,{to:`/locker/${e}`,className:"text-primary",children:"Open Locker Page"})]})]}):w.jsx("div",{className:"container mx-auto p-6",children:"Invalid locker event"})}return w.jsxs("div",{className:"container mx-auto p-6",children:[w.jsx("h1",{className:"text-xl font-semibold",children:"Addressable Event"}),w.jsx("pre",{className:"mt-4 whitespace-pre-wrap",children:p.content}),w.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Author: ",w.jsx("code",{children:p.pubkey})]})]})}return w.jsx("div",{className:"container mx-auto p-6",children:"Unsupported identifier type"})}const yW=()=>{const e=el();return Zc({title:"404 - Page Not Found",description:"The page you are looking for could not be found. Return to the home page to continue browsing."}),A.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"404"}),w.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),w.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})};function vW(){return w.jsxs(g$,{basename:"/nostr-dead-drop-lockers",children:[w.jsx(_$,{}),w.jsx(CZ,{}),w.jsxs(c$,{children:[w.jsx(Mi,{path:"/",element:w.jsx(aW,{})}),w.jsx(Mi,{path:"/marketplace",element:w.jsx(HH,{})}),w.jsx(Mi,{path:"/product/:dTag",element:w.jsx(nW,{})}),w.jsx(Mi,{path:"/snapshot",element:w.jsx(sW,{})}),w.jsx(Mi,{path:"/dashboard",element:w.jsx(pW,{})}),w.jsx(Mi,{path:"/messages",element:w.jsx(mW,{})}),w.jsx(Mi,{path:"/locker/:nip19",element:w.jsx(pH,{})}),w.jsx(Mi,{path:"/:nip19",element:w.jsx(gW,{})}),w.jsx(Mi,{path:"*",element:w.jsx(yW,{})})]})]})}const wW=J2({plugins:[C3()]}),_W=new jR({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4,gcTime:1/0}}}),xW={theme:"light",relayMetadata:{relays:[{url:"wss://relay.ditto.pub",read:!0,write:!0},{url:"wss://relay.nostr.band",read:!0,write:!0},{url:"wss://relay.damus.io",read:!0,write:!0}],updatedAt:0}};function bW(){return w.jsx(x3,{head:wW,children:w.jsx(OF,{storageKey:"nostr:app-config",defaultConfig:xW,children:w.jsx(UR,{client:_W,children:w.jsx(t6,{storageKey:"nostr:login",children:w.jsxs(n6,{children:[w.jsx(r6,{}),w.jsx(gU,{children:w.jsxs(AF,{children:[w.jsx(iB,{}),w.jsx(A.Suspense,{children:w.jsx(vW,{})})]})})]})})})})})}pR.createRoot(document.getElementById("root")).render(w.jsx(_R,{children:w.jsx(bW,{})}));
