var NI=Object.defineProperty;var ob=e=>{throw TypeError(e)};var AI=(e,t,n)=>t in e?NI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var He=(e,t,n)=>AI(e,typeof t!="symbol"?t+"":t,n),ey=(e,t,n)=>t.has(e)||ob("Cannot "+n);var ue=(e,t,n)=>(ey(e,t,"read from private field"),n?n.call(e):t.get(e)),it=(e,t,n)=>t.has(e)?ob("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ke=(e,t,n,r)=>(ey(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),yt=(e,t,n)=>(ey(e,t,"access private method"),n);var Ph=(e,t,n,r)=>({set _(i){Ke(e,t,i,n)},get _(){return ue(e,t,r)}});function RI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ty={exports:{}},ed={},ny={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function II(){if(sb)return xt;sb=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function b($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,v={};function E($,Q,ke){this.props=$,this.context=Q,this.refs=v,this.updater=ke||_}E.prototype.isReactComponent={},E.prototype.setState=function($,Q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Q,"setState")},E.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function k(){}k.prototype=E.prototype;function N($,Q,ke){this.props=$,this.context=Q,this.refs=v,this.updater=ke||_}var A=N.prototype=new k;A.constructor=N,S(A,E.prototype),A.isPureReactComponent=!0;var z=Array.isArray,D=Object.prototype.hasOwnProperty,Z={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function q($,Q,ke){var _e,ve={},Ie=null,Te=null;if(Q!=null)for(_e in Q.ref!==void 0&&(Te=Q.ref),Q.key!==void 0&&(Ie=""+Q.key),Q)D.call(Q,_e)&&!H.hasOwnProperty(_e)&&(ve[_e]=Q[_e]);var Ne=arguments.length-2;if(Ne===1)ve.children=ke;else if(1<Ne){for(var je=Array(Ne),Ze=0;Ze<Ne;Ze++)je[Ze]=arguments[Ze+2];ve.children=je}if($&&$.defaultProps)for(_e in Ne=$.defaultProps,Ne)ve[_e]===void 0&&(ve[_e]=Ne[_e]);return{$$typeof:e,type:$,key:Ie,ref:Te,props:ve,_owner:Z.current}}function F($,Q){return{$$typeof:e,type:$.type,key:Q,ref:$.ref,props:$.props,_owner:$._owner}}function W($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function J($){var Q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ke){return Q[ke]})}var U=/\/+/g;function X($,Q){return typeof $=="object"&&$!==null&&$.key!=null?J(""+$.key):Q.toString(36)}function O($,Q,ke,_e,ve){var Ie=typeof $;(Ie==="undefined"||Ie==="boolean")&&($=null);var Te=!1;if($===null)Te=!0;else switch(Ie){case"string":case"number":Te=!0;break;case"object":switch($.$$typeof){case e:case t:Te=!0}}if(Te)return Te=$,ve=ve(Te),$=_e===""?"."+X(Te,0):_e,z(ve)?(ke="",$!=null&&(ke=$.replace(U,"$&/")+"/"),O(ve,Q,ke,"",function(Ze){return Ze})):ve!=null&&(W(ve)&&(ve=F(ve,ke+(!ve.key||Te&&Te.key===ve.key?"":(""+ve.key).replace(U,"$&/")+"/")+$)),Q.push(ve)),1;if(Te=0,_e=_e===""?".":_e+":",z($))for(var Ne=0;Ne<$.length;Ne++){Ie=$[Ne];var je=_e+X(Ie,Ne);Te+=O(Ie,Q,ke,je,ve)}else if(je=b($),typeof je=="function")for($=je.call($),Ne=0;!(Ie=$.next()).done;)Ie=Ie.value,je=_e+X(Ie,Ne++),Te+=O(Ie,Q,ke,je,ve);else if(Ie==="object")throw Q=String($),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Te}function K($,Q,ke){if($==null)return $;var _e=[],ve=0;return O($,_e,"","",function(Ie){return Q.call(ke,Ie,ve++)}),_e}function se($){if($._status===-1){var Q=$._result;Q=Q(),Q.then(function(ke){($._status===0||$._status===-1)&&($._status=1,$._result=ke)},function(ke){($._status===0||$._status===-1)&&($._status=2,$._result=ke)}),$._status===-1&&($._status=0,$._result=Q)}if($._status===1)return $._result.default;throw $._result}var ie={current:null},te={transition:null},ee={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:te,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return xt.Children={map:K,forEach:function($,Q,ke){K($,function(){Q.apply(this,arguments)},ke)},count:function($){var Q=0;return K($,function(){Q++}),Q},toArray:function($){return K($,function(Q){return Q})||[]},only:function($){if(!W($))throw Error("React.Children.only expected to receive a single React element child.");return $}},xt.Component=E,xt.Fragment=n,xt.Profiler=i,xt.PureComponent=N,xt.StrictMode=r,xt.Suspense=d,xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,xt.act=le,xt.cloneElement=function($,Q,ke){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var _e=S({},$.props),ve=$.key,Ie=$.ref,Te=$._owner;if(Q!=null){if(Q.ref!==void 0&&(Ie=Q.ref,Te=Z.current),Q.key!==void 0&&(ve=""+Q.key),$.type&&$.type.defaultProps)var Ne=$.type.defaultProps;for(je in Q)D.call(Q,je)&&!H.hasOwnProperty(je)&&(_e[je]=Q[je]===void 0&&Ne!==void 0?Ne[je]:Q[je])}var je=arguments.length-2;if(je===1)_e.children=ke;else if(1<je){Ne=Array(je);for(var Ze=0;Ze<je;Ze++)Ne[Ze]=arguments[Ze+2];_e.children=Ne}return{$$typeof:e,type:$.type,key:ve,ref:Ie,props:_e,_owner:Te}},xt.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:s,_context:$},$.Consumer=$},xt.createElement=q,xt.createFactory=function($){var Q=q.bind(null,$);return Q.type=$,Q},xt.createRef=function(){return{current:null}},xt.forwardRef=function($){return{$$typeof:u,render:$}},xt.isValidElement=W,xt.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:se}},xt.memo=function($,Q){return{$$typeof:p,type:$,compare:Q===void 0?null:Q}},xt.startTransition=function($){var Q=te.transition;te.transition={};try{$()}finally{te.transition=Q}},xt.unstable_act=le,xt.useCallback=function($,Q){return ie.current.useCallback($,Q)},xt.useContext=function($){return ie.current.useContext($)},xt.useDebugValue=function(){},xt.useDeferredValue=function($){return ie.current.useDeferredValue($)},xt.useEffect=function($,Q){return ie.current.useEffect($,Q)},xt.useId=function(){return ie.current.useId()},xt.useImperativeHandle=function($,Q,ke){return ie.current.useImperativeHandle($,Q,ke)},xt.useInsertionEffect=function($,Q){return ie.current.useInsertionEffect($,Q)},xt.useLayoutEffect=function($,Q){return ie.current.useLayoutEffect($,Q)},xt.useMemo=function($,Q){return ie.current.useMemo($,Q)},xt.useReducer=function($,Q,ke){return ie.current.useReducer($,Q,ke)},xt.useRef=function($){return ie.current.useRef($)},xt.useState=function($){return ie.current.useState($)},xt.useSyncExternalStore=function($,Q,ke){return ie.current.useSyncExternalStore($,Q,ke)},xt.useTransition=function(){return ie.current.useTransition()},xt.version="18.3.1",xt}var ab;function Lp(){return ab||(ab=1,ny.exports=II()),ny.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function LI(){if(lb)return ed;lb=1;var e=Lp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var g,m={},b=null,_=null;p!==void 0&&(b=""+p),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(_=d.ref);for(g in d)r.call(d,g)&&!s.hasOwnProperty(g)&&(m[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)m[g]===void 0&&(m[g]=d[g]);return{$$typeof:t,type:u,key:b,ref:_,props:m,_owner:i.current}}return ed.Fragment=n,ed.jsx=l,ed.jsxs=l,ed}var cb;function OI(){return cb||(cb=1,ty.exports=LI()),ty.exports}var y=OI(),Nh={},ry={exports:{}},cr={},iy={exports:{}},oy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function jI(){return ub||(ub=1,function(e){function t(te,ee){var le=te.length;te.push(ee);e:for(;0<le;){var $=le-1>>>1,Q=te[$];if(0<i(Q,ee))te[$]=ee,te[le]=Q,le=$;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ee=te[0],le=te.pop();if(le!==ee){te[0]=le;e:for(var $=0,Q=te.length,ke=Q>>>1;$<ke;){var _e=2*($+1)-1,ve=te[_e],Ie=_e+1,Te=te[Ie];if(0>i(ve,le))Ie<Q&&0>i(Te,ve)?(te[$]=Te,te[Ie]=le,$=Ie):(te[$]=ve,te[_e]=le,$=_e);else if(Ie<Q&&0>i(Te,le))te[$]=Te,te[Ie]=le,$=Ie;else break e}}return ee}function i(te,ee){var le=te.sortIndex-ee.sortIndex;return le!==0?le:te.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],p=[],g=1,m=null,b=3,_=!1,S=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(te){for(var ee=n(p);ee!==null;){if(ee.callback===null)r(p);else if(ee.startTime<=te)r(p),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=n(p)}}function z(te){if(v=!1,A(te),!S)if(n(d)!==null)S=!0,se(D);else{var ee=n(p);ee!==null&&ie(z,ee.startTime-te)}}function D(te,ee){S=!1,v&&(v=!1,k(q),q=-1),_=!0;var le=b;try{for(A(ee),m=n(d);m!==null&&(!(m.expirationTime>ee)||te&&!J());){var $=m.callback;if(typeof $=="function"){m.callback=null,b=m.priorityLevel;var Q=$(m.expirationTime<=ee);ee=e.unstable_now(),typeof Q=="function"?m.callback=Q:m===n(d)&&r(d),A(ee)}else r(d);m=n(d)}if(m!==null)var ke=!0;else{var _e=n(p);_e!==null&&ie(z,_e.startTime-ee),ke=!1}return ke}finally{m=null,b=le,_=!1}}var Z=!1,H=null,q=-1,F=5,W=-1;function J(){return!(e.unstable_now()-W<F)}function U(){if(H!==null){var te=e.unstable_now();W=te;var ee=!0;try{ee=H(!0,te)}finally{ee?X():(Z=!1,H=null)}}else Z=!1}var X;if(typeof N=="function")X=function(){N(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,K=O.port2;O.port1.onmessage=U,X=function(){K.postMessage(null)}}else X=function(){E(U,0)};function se(te){H=te,Z||(Z=!0,X())}function ie(te,ee){q=E(function(){te(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){S||_||(S=!0,se(D))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(te){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var le=b;b=ee;try{return te()}finally{b=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ee){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var le=b;b=te;try{return ee()}finally{b=le}},e.unstable_scheduleCallback=function(te,ee,le){var $=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?$+le:$):le=$,te){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=le+Q,te={id:g++,callback:ee,priorityLevel:te,startTime:le,expirationTime:Q,sortIndex:-1},le>$?(te.sortIndex=le,t(p,te),n(d)===null&&te===n(p)&&(v?(k(q),q=-1):v=!0,ie(z,le-$))):(te.sortIndex=Q,t(d,te),S||_||(S=!0,se(D))),te},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(te){var ee=b;return function(){var le=b;b=ee;try{return te.apply(this,arguments)}finally{b=le}}}}(oy)),oy}var db;function MI(){return db||(db=1,iy.exports=jI()),iy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function zI(){if(fb)return cr;fb=1;var e=Lp(),t=MI();function n(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(i[o]=c,o=0;o<c.length;o++)r.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function b(o){return d.call(m,o)?!0:d.call(g,o)?!1:p.test(o)?m[o]=!0:(g[o]=!0,!1)}function _(o,c,h,x){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,c,h,x){if(c===null||typeof c>"u"||_(o,c,h,x))return!0;if(x)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function v(o,c,h,x,T,I,V){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=T,this.mustUseProperty=h,this.propertyName=o,this.type=c,this.sanitizeURL=I,this.removeEmptyString=V}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new v(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];E[c]=new v(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new v(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new v(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new v(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new v(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function N(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(k,N);E[c]=new v(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(k,N);E[c]=new v(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(k,N);E[c]=new v(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function A(o,c,h,x){var T=E.hasOwnProperty(c)?E[c]:null;(T!==null?T.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(S(c,h,T,x)&&(h=null),x||T===null?b(c)&&(h===null?o.removeAttribute(c):o.setAttribute(c,""+h)):T.mustUseProperty?o[T.propertyName]=h===null?T.type===3?!1:"":h:(c=T.attributeName,x=T.attributeNamespace,h===null?o.removeAttribute(c):(T=T.type,h=T===3||T===4&&h===!0?"":""+h,x?o.setAttributeNS(x,c,h):o.setAttribute(c,h))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),Z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),J=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),te=Symbol.iterator;function ee(o){return o===null||typeof o!="object"?null:(o=te&&o[te]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,$;function Q(o){if($===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);$=c&&c[1]||""}return`
`+$+o}var ke=!1;function _e(o,c){if(!o||ke)return"";ke=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Se){var x=Se}Reflect.construct(o,[],c)}else{try{c.call()}catch(Se){x=Se}o.call(c.prototype)}else{try{throw Error()}catch(Se){x=Se}o()}}catch(Se){if(Se&&x&&typeof Se.stack=="string"){for(var T=Se.stack.split(`
`),I=x.stack.split(`
`),V=T.length-1,ae=I.length-1;1<=V&&0<=ae&&T[V]!==I[ae];)ae--;for(;1<=V&&0<=ae;V--,ae--)if(T[V]!==I[ae]){if(V!==1||ae!==1)do if(V--,ae--,0>ae||T[V]!==I[ae]){var de=`
`+T[V].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=V&&0<=ae);break}}}finally{ke=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?Q(o):""}function ve(o){switch(o.tag){case 5:return Q(o.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return o=_e(o.type,!1),o;case 11:return o=_e(o.type.render,!1),o;case 1:return o=_e(o.type,!0),o;default:return""}}function Ie(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case H:return"Fragment";case Z:return"Portal";case F:return"Profiler";case q:return"StrictMode";case X:return"Suspense";case O:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case J:return(o.displayName||"Context")+".Consumer";case W:return(o._context.displayName||"Context")+".Provider";case U:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case K:return c=o.displayName||null,c!==null?c:Ie(o.type)||"Memo";case se:c=o._payload,o=o._init;try{return Ie(o(c))}catch{}}return null}function Te(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(c);case 8:return c===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ne(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function je(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ze(o){var c=je(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var T=h.get,I=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return T.call(this)},set:function(V){x=""+V,I.call(this,V)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(V){x=""+V},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Qe(o){o._valueTracker||(o._valueTracker=Ze(o))}function ot(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),x="";return o&&(x=je(o)?o.checked?"true":"false":o.value),o=x,o!==h?(c.setValue(o),!0):!1}function at(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function B(o,c){var h=c.checked;return le({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Pe(o,c){var h=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;h=Ne(c.value!=null?c.value:h),o._wrapperState={initialChecked:x,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function be(o,c){c=c.checked,c!=null&&A(o,"checked",c,!1)}function oe(o,c){be(o,c);var h=Ne(c.value),x=c.type;if(h!=null)x==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?pe(o,c.type,h):c.hasOwnProperty("defaultValue")&&pe(o,c.type,Ne(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function re(o,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,h||c===o.value||(o.value=c),o.defaultValue=c}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function pe(o,c,h){(c!=="number"||at(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Re=Array.isArray;function Le(o,c,h,x){if(o=o.options,c){c={};for(var T=0;T<h.length;T++)c["$"+h[T]]=!0;for(h=0;h<o.length;h++)T=c.hasOwnProperty("$"+o[h].value),o[h].selected!==T&&(o[h].selected=T),T&&x&&(o[h].defaultSelected=!0)}else{for(h=""+Ne(h),c=null,T=0;T<o.length;T++){if(o[T].value===h){o[T].selected=!0,x&&(o[T].defaultSelected=!0);return}c!==null||o[T].disabled||(c=o[T])}c!==null&&(c.selected=!0)}}function me(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Be(o,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(Re(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}o._wrapperState={initialValue:Ne(h)}}function Ve(o,c){var h=Ne(c.value),x=Ne(c.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),c.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),x!=null&&(o.defaultValue=""+x)}function De(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function tt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?tt(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var R,j=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,x,T){MSApp.execUnsafeLocalFunction(function(){return o(c,h,x,T)})}:o}(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(R=R||document.createElement("div"),R.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=R.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function ne(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];Object.keys(fe).forEach(function(o){xe.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),fe[c]=fe[o]})});function Ce(o,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||fe.hasOwnProperty(o)&&fe[o]?(""+c).trim():c+"px"}function dt(o,c){o=o.style;for(var h in c)if(c.hasOwnProperty(h)){var x=h.indexOf("--")===0,T=Ce(h,c[h],x);h==="float"&&(h="cssFloat"),x?o.setProperty(h,T):o[h]=T}}var Lt=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(o,c){if(c){if(Lt[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function kt(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=null;function fa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Wo=null,Lr=null,Hn=null;function to(o){if(o=po(o)){if(typeof Wo!="function")throw Error(n(280));var c=o.stateNode;c&&(c=ql(c),Wo(o.stateNode,o.type,c))}}function uf(o){Lr?Hn?Hn.push(o):Hn=[o]:Lr=o}function df(){if(Lr){var o=Lr,c=Hn;if(Hn=Lr=null,to(o),c)for(o=0;o<c.length;o++)to(c[o])}}function ff(o,c){return o(c)}function hf(){}var cu=!1;function xl(o,c,h){if(cu)return o(c,h);cu=!0;try{return ff(o,c,h)}finally{cu=!1,(Lr!==null||Hn!==null)&&(hf(),df())}}function ha(o,c){var h=o.stateNode;if(h===null)return null;var x=ql(h);if(x===null)return null;h=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var uu=!1;if(u)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){uu=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{uu=!1}function Rm(o,c,h,x,T,I,V,ae,de){var Se=Array.prototype.slice.call(arguments,3);try{c.apply(h,Se)}catch(ze){this.onError(ze)}}var An=!1,nt=null,ma=!1,bl=null,pf={onError:function(o){An=!0,nt=o}};function mf(o,c,h,x,T,I,V,ae,de){An=!1,nt=null,Rm.apply(pf,arguments)}function du(o,c,h,x,T,I,V,ae,de){if(mf.apply(this,arguments),An){if(An){var Se=nt;An=!1,nt=null}else throw Error(n(198));ma||(ma=!0,bl=Se)}}function Ci(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function no(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function fu(o){if(Ci(o)!==o)throw Error(n(188))}function Im(o){var c=o.alternate;if(!c){if(c=Ci(o),c===null)throw Error(n(188));return c!==o?null:o}for(var h=o,x=c;;){var T=h.return;if(T===null)break;var I=T.alternate;if(I===null){if(x=T.return,x!==null){h=x;continue}break}if(T.child===I.child){for(I=T.child;I;){if(I===h)return fu(T),o;if(I===x)return fu(T),c;I=I.sibling}throw Error(n(188))}if(h.return!==x.return)h=T,x=I;else{for(var V=!1,ae=T.child;ae;){if(ae===h){V=!0,h=T,x=I;break}if(ae===x){V=!0,x=T,h=I;break}ae=ae.sibling}if(!V){for(ae=I.child;ae;){if(ae===h){V=!0,h=I,x=T;break}if(ae===x){V=!0,x=I,h=T;break}ae=ae.sibling}if(!V)throw Error(n(189))}}if(h.alternate!==x)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:c}function gf(o){return o=Im(o),o!==null?yf(o):null}function yf(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=yf(o);if(c!==null)return c;o=o.sibling}return null}var vf=t.unstable_scheduleCallback,hu=t.unstable_cancelCallback,Lm=t.unstable_shouldYield,El=t.unstable_requestPaint,Qt=t.unstable_now,Om=t.unstable_getCurrentPriorityLevel,pu=t.unstable_ImmediatePriority,wf=t.unstable_UserBlockingPriority,Sl=t.unstable_NormalPriority,mu=t.unstable_LowPriority,Vo=t.unstable_IdlePriority,ga=null,yr=null;function ya(o){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(ga,o,void 0,(o.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:qo,Zt=Math.log,kl=Math.LN2;function qo(o){return o>>>=0,o===0?32:31-(Zt(o)/kl|0)|0}var oi=64,Ko=4194304;function pt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ut(o,c){var h=o.pendingLanes;if(h===0)return 0;var x=0,T=o.suspendedLanes,I=o.pingedLanes,V=h&268435455;if(V!==0){var ae=V&~T;ae!==0?x=pt(ae):(I&=V,I!==0&&(x=pt(I)))}else V=h&~T,V!==0?x=pt(V):I!==0&&(x=pt(I));if(x===0)return 0;if(c!==0&&c!==x&&(c&T)===0&&(T=x&-x,I=c&-c,T>=I||T===16&&(I&4194240)!==0))return c;if((x&4)!==0&&(x|=h&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)h=31-gt(c),T=1<<h,x|=o[h],c&=~T;return x}function gu(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(o,c){for(var h=o.suspendedLanes,x=o.pingedLanes,T=o.expirationTimes,I=o.pendingLanes;0<I;){var V=31-gt(I),ae=1<<V,de=T[V];de===-1?((ae&h)===0||(ae&x)!==0)&&(T[V]=gu(ae,c)):de<=c&&(o.expiredLanes|=ae),I&=~ae}}function Rn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function _f(){var o=oi;return oi<<=1,(oi&4194240)===0&&(oi=64),o}function Go(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function vr(o,c,h){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-gt(c),o[c]=h}function rn(o,c){var h=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<h;){var T=31-gt(h),I=1<<T;c[T]=0,x[T]=-1,o[T]=-1,h&=~I}}function si(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var x=31-gt(h),T=1<<x;T&c|o[x]&c&&(o[x]|=c),h&=~T}}var Pt=0;function Yo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Pl,ro,Tl,Nl,va,wa=!1,Jo=[],wr=null,ai=null,Or=null,_a=new Map,ft=new Map,gn=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(o,c){switch(o){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":_a.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(c.pointerId)}}function io(o,c,h,x,T,I){return o===null||o.nativeEvent!==I?(o={blockedOn:c,domEventName:h,eventSystemFlags:x,nativeEvent:I,targetContainers:[T]},c!==null&&(c=po(c),c!==null&&ro(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,T!==null&&c.indexOf(T)===-1&&c.push(T),o)}function vu(o,c,h,x,T){switch(c){case"focusin":return wr=io(wr,o,c,h,x,T),!0;case"dragenter":return ai=io(ai,o,c,h,x,T),!0;case"mouseover":return Or=io(Or,o,c,h,x,T),!0;case"pointerover":var I=T.pointerId;return _a.set(I,io(_a.get(I)||null,o,c,h,x,T)),!0;case"gotpointercapture":return I=T.pointerId,ft.set(I,io(ft.get(I)||null,o,c,h,x,T)),!0}return!1}function Al(o){var c=ho(o.target);if(c!==null){var h=Ci(c);if(h!==null){if(c=h.tag,c===13){if(c=no(h),c!==null){o.blockedOn=c,va(o.priority,function(){Tl(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function jr(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=Ll(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);Ct=x,h.target.dispatchEvent(x),Ct=null}else return c=po(h),c!==null&&ro(c),o.blockedOn=h,!1;c.shift()}return!0}function Rl(o,c,h){jr(o)&&h.delete(c)}function xa(){wa=!1,wr!==null&&jr(wr)&&(wr=null),ai!==null&&jr(ai)&&(ai=null),Or!==null&&jr(Or)&&(Or=null),_a.forEach(Rl),ft.forEach(Rl)}function Xt(o,c){o.blockedOn===c&&(o.blockedOn=null,wa||(wa=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xa)))}function _r(o){function c(T){return Xt(T,o)}if(0<Jo.length){Xt(Jo[0],o);for(var h=1;h<Jo.length;h++){var x=Jo[h];x.blockedOn===o&&(x.blockedOn=null)}}for(wr!==null&&Xt(wr,o),ai!==null&&Xt(ai,o),Or!==null&&Xt(Or,o),_a.forEach(c),ft.forEach(c),h=0;h<gn.length;h++)x=gn[h],x.blockedOn===o&&(x.blockedOn=null);for(;0<gn.length&&(h=gn[0],h.blockedOn===null);)Al(h),h.blockedOn===null&&gn.shift()}var oo=z.ReactCurrentBatchConfig,ba=!0;function jm(o,c,h,x){var T=Pt,I=oo.transition;oo.transition=null;try{Pt=1,Ea(o,c,h,x)}finally{Pt=T,oo.transition=I}}function xf(o,c,h,x){var T=Pt,I=oo.transition;oo.transition=null;try{Pt=4,Ea(o,c,h,x)}finally{Pt=T,oo.transition=I}}function Ea(o,c,h,x){if(ba){var T=Ll(o,c,h,x);if(T===null)a(o,c,x,Il,h),yu(o,x);else if(vu(T,o,c,h,x))x.stopPropagation();else if(yu(o,x),c&4&&-1<Dt.indexOf(o)){for(;T!==null;){var I=po(T);if(I!==null&&Pl(I),I=Ll(o,c,h,x),I===null&&a(o,c,x,Il,h),I===T)break;T=I}T!==null&&x.stopPropagation()}else a(o,c,x,null,h)}}var Il=null;function Ll(o,c,h,x){if(Il=null,o=fa(x),o=ho(o),o!==null)if(c=Ci(o),c===null)o=null;else if(h=c.tag,h===13){if(o=no(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return Il=o,null}function bt(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Om()){case pu:return 1;case wf:return 4;case Sl:case mu:return 16;case Vo:return 536870912;default:return 16}default:return 16}}var Pi=null,Wn=null,Ti=null;function wu(){if(Ti)return Ti;var o,c=Wn,h=c.length,x,T="value"in Pi?Pi.value:Pi.textContent,I=T.length;for(o=0;o<h&&c[o]===T[o];o++);var V=h-o;for(x=1;x<=V&&c[h-x]===T[I-x];x++);return Ti=T.slice(o,1<x?1-x:void 0)}function Ol(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Qo(){return!0}function bf(){return!1}function In(o){function c(h,x,T,I,V){this._reactName=h,this._targetInst=T,this.type=x,this.nativeEvent=I,this.target=V,this.currentTarget=null;for(var ae in o)o.hasOwnProperty(ae)&&(h=o[ae],this[ae]=h?h(I):I[ae]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Qo:bf,this.isPropagationStopped=bf,this}return le(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),c}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=In(Xo),so=le({},Xo,{view:0,detail:0}),Mm=In(so),nr,xu,es,xr=le({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==es&&(es&&o.type==="mousemove"?(nr=o.screenX-es.screenX,xu=o.screenY-es.screenY):xu=nr=0,es=o),nr)},movementY:function(o){return"movementY"in o?o.movementY:xu}}),bu=In(xr),Ef=le({},xr,{dataTransfer:0}),Eu=In(Ef),zm=le({},so,{relatedTarget:0}),jl=In(zm),Sf=le({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),Dm=In(Sf),Bm=le({},Xo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Su=In(Bm),Fm=le({},Xo,{data:0}),ku=In(Fm),kf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ml={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Um(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=ao[o])?!!c[o]:!1}function lo(){return Um}var rr=le({},so,{key:function(o){if(o.key){var c=kf[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Ol(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ml[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(o){return o.type==="keypress"?Ol(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ol(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Cf=In(rr),Pf=le({},xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tf=In(Pf),Cu=le({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),Pu=In(Cu),$m=le({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zm=In($m),Nf=le({},xr,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Hm=In(Nf),br=[9,13,27,32],Ni=u&&"CompositionEvent"in window,Sa=null;u&&"documentMode"in document&&(Sa=document.documentMode);var li=u&&"TextEvent"in window&&!Sa,Af=u&&(!Ni||Sa&&8<Sa&&11>=Sa),co=" ",Rf=!1;function ts(o,c){switch(o){case"keyup":return br.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ci=!1;function Wm(o,c){switch(o){case"compositionend":return Tu(c);case"keypress":return c.which!==32?null:(Rf=!0,co);case"textInput":return o=c.data,o===co&&Rf?null:o;default:return null}}function Ai(o,c){if(ci)return o==="compositionend"||!Ni&&ts(o,c)?(o=wu(),Ti=Wn=Pi=null,ci=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Af&&c.locale!=="ko"?null:c.data;default:return null}}var zl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!zl[o.type]:c==="textarea"}function Dl(o,c,h,x){uf(x),c=w(c,"onChange"),0<c.length&&(h=new _u("onChange","change",null,h,x),o.push({event:h,listeners:c}))}var ka=null,Vn=null;function Vm(o){zu(o,0)}function ui(o){var c=mo(o);if(ot(c))return o}function qm(o,c){if(o==="change")return c}var Mr=!1;if(u){var ns;if(u){var Bl="oninput"in document;if(!Bl){var Fl=document.createElement("div");Fl.setAttribute("oninput","return;"),Bl=typeof Fl.oninput=="function"}ns=Bl}else ns=!1;Mr=ns&&(!document.documentMode||9<document.documentMode)}function Ca(){ka&&(ka.detachEvent("onpropertychange",Ul),Vn=ka=null)}function Ul(o){if(o.propertyName==="value"&&ui(Vn)){var c=[];Dl(c,Vn,o,fa(o)),xl(Vm,c)}}function $l(o,c,h){o==="focusin"?(Ca(),ka=c,Vn=h,ka.attachEvent("onpropertychange",Ul)):o==="focusout"&&Ca()}function rs(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ui(Vn)}function Zl(o,c){if(o==="click")return ui(c)}function Nu(o,c){if(o==="input"||o==="change")return ui(c)}function Lf(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Er=typeof Object.is=="function"?Object.is:Lf;function Ri(o,c){if(Er(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),x=Object.keys(c);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var T=h[x];if(!d.call(c,T)||!Er(o[T],c[T]))return!1}return!0}function Of(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Au(o,c){var h=Of(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=c&&x>=c)return{node:h,offset:c-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Of(h)}}function jf(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?jf(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Ru(){for(var o=window,c=at();c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=at(o.document)}return c}function Iu(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function zr(o){var c=Ru(),h=o.focusedElem,x=o.selectionRange;if(c!==h&&h&&h.ownerDocument&&jf(h.ownerDocument.documentElement,h)){if(x!==null&&Iu(h)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(o,h.value.length);else if(o=(c=h.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var T=h.textContent.length,I=Math.min(x.start,T);x=x.end===void 0?I:Math.min(x.end,T),!o.extend&&I>x&&(T=x,x=I,I=T),T=Au(h,I);var V=Au(h,x);T&&V&&(o.rangeCount!==1||o.anchorNode!==T.node||o.anchorOffset!==T.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(c=c.createRange(),c.setStart(T.node,T.offset),o.removeAllRanges(),I>x?(o.addRange(c),o.extend(V.node,V.offset)):(c.setEnd(V.node,V.offset),o.addRange(c)))}}for(c=[],o=h;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)o=c[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Hl=u&&"documentMode"in document&&11>=document.documentMode,is=null,os=null,Pa=null,Wl=!1;function Mf(o,c,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Wl||is==null||is!==at(x)||(x=is,"selectionStart"in x&&Iu(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Pa&&Ri(Pa,x)||(Pa=x,x=w(os,"onSelect"),0<x.length&&(c=new _u("onSelect","select",null,c,h),o.push({event:c,listeners:x}),c.target=is)))}function Ii(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var ss={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionend:Ii("Transition","TransitionEnd")},Li={},Lu={};u&&(Lu=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Ta(o){if(Li[o])return Li[o];if(!ss[o])return o;var c=ss[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in Lu)return Li[o]=c[h];return o}var zf=Ta("animationend"),Dr=Ta("animationiteration"),Ou=Ta("animationstart"),ju=Ta("transitionend"),as=new Map,Df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(o,c){as.set(o,c),s(c,[o])}for(var uo=0;uo<Df.length;uo++){var Vl=Df[uo],Bf=Vl.toLowerCase(),Km=Vl[0].toUpperCase()+Vl.slice(1);Sr(Bf,"on"+Km)}Sr(zf,"onAnimationEnd"),Sr(Dr,"onAnimationIteration"),Sr(Ou,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(ju,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ff=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function Mu(o,c,h){var x=o.type||"unknown-event";o.currentTarget=h,du(x,c,void 0,o),o.currentTarget=null}function zu(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],T=x.event;x=x.listeners;e:{var I=void 0;if(c)for(var V=x.length-1;0<=V;V--){var ae=x[V],de=ae.instance,Se=ae.currentTarget;if(ae=ae.listener,de!==I&&T.isPropagationStopped())break e;Mu(T,ae,Se),I=de}else for(V=0;V<x.length;V++){if(ae=x[V],de=ae.instance,Se=ae.currentTarget,ae=ae.listener,de!==I&&T.isPropagationStopped())break e;Mu(T,ae,Se),I=de}}}if(ma)throw o=bl,ma=!1,bl=null,o}function Bt(o,c){var h=c[fs];h===void 0&&(h=c[fs]=new Set);var x=o+"__bubble";h.has(x)||(Uf(c,o,2,!1),h.add(x))}function Du(o,c,h){var x=0;c&&(x|=4),Uf(h,o,x,c)}var Na="_reactListening"+Math.random().toString(36).slice(2);function cs(o){if(!o[Na]){o[Na]=!0,r.forEach(function(h){h!=="selectionchange"&&(Ff.has(h)||Du(h,!1,o),Du(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Na]||(c[Na]=!0,Du("selectionchange",!1,c))}}function Uf(o,c,h,x){switch(bt(c)){case 1:var T=jm;break;case 4:T=xf;break;default:T=Ea}h=T.bind(null,c,h,o),T=void 0,!uu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(T=!0),x?T!==void 0?o.addEventListener(c,h,{capture:!0,passive:T}):o.addEventListener(c,h,!0):T!==void 0?o.addEventListener(c,h,{passive:T}):o.addEventListener(c,h,!1)}function a(o,c,h,x,T){var I=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var V=x.tag;if(V===3||V===4){var ae=x.stateNode.containerInfo;if(ae===T||ae.nodeType===8&&ae.parentNode===T)break;if(V===4)for(V=x.return;V!==null;){var de=V.tag;if((de===3||de===4)&&(de=V.stateNode.containerInfo,de===T||de.nodeType===8&&de.parentNode===T))return;V=V.return}for(;ae!==null;){if(V=ho(ae),V===null)return;if(de=V.tag,de===5||de===6){x=I=V;continue e}ae=ae.parentNode}}x=x.return}xl(function(){var Se=I,ze=fa(h),Fe=[];e:{var Me=as.get(o);if(Me!==void 0){var Ge=_u,Xe=o;switch(o){case"keypress":if(Ol(h)===0)break e;case"keydown":case"keyup":Ge=Cf;break;case"focusin":Xe="focus",Ge=jl;break;case"focusout":Xe="blur",Ge=jl;break;case"beforeblur":case"afterblur":Ge=jl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=Pu;break;case zf:case Dr:case Ou:Ge=Dm;break;case ju:Ge=Zm;break;case"scroll":Ge=Mm;break;case"wheel":Ge=Hm;break;case"copy":case"cut":case"paste":Ge=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=Tf}var et=(c&4)!==0,un=!et&&o==="scroll",ye=et?Me!==null?Me+"Capture":null:Me;et=[];for(var he=Se,we;he!==null;){we=he;var $e=we.stateNode;if(we.tag===5&&$e!==null&&(we=$e,ye!==null&&($e=ha(he,ye),$e!=null&&et.push(f(he,$e,we)))),un)break;he=he.return}0<et.length&&(Me=new Ge(Me,Xe,null,h,ze),Fe.push({event:Me,listeners:et}))}}if((c&7)===0){e:{if(Me=o==="mouseover"||o==="pointerover",Ge=o==="mouseout"||o==="pointerout",Me&&h!==Ct&&(Xe=h.relatedTarget||h.fromElement)&&(ho(Xe)||Xe[jt]))break e;if((Ge||Me)&&(Me=ze.window===ze?ze:(Me=ze.ownerDocument)?Me.defaultView||Me.parentWindow:window,Ge?(Xe=h.relatedTarget||h.toElement,Ge=Se,Xe=Xe?ho(Xe):null,Xe!==null&&(un=Ci(Xe),Xe!==un||Xe.tag!==5&&Xe.tag!==6)&&(Xe=null)):(Ge=null,Xe=Se),Ge!==Xe)){if(et=bu,$e="onMouseLeave",ye="onMouseEnter",he="mouse",(o==="pointerout"||o==="pointerover")&&(et=Tf,$e="onPointerLeave",ye="onPointerEnter",he="pointer"),un=Ge==null?Me:mo(Ge),we=Xe==null?Me:mo(Xe),Me=new et($e,he+"leave",Ge,h,ze),Me.target=un,Me.relatedTarget=we,$e=null,ho(ze)===Se&&(et=new et(ye,he+"enter",Xe,h,ze),et.target=we,et.relatedTarget=un,$e=et),un=$e,Ge&&Xe)t:{for(et=Ge,ye=Xe,he=0,we=et;we;we=P(we))he++;for(we=0,$e=ye;$e;$e=P($e))we++;for(;0<he-we;)et=P(et),he--;for(;0<we-he;)ye=P(ye),we--;for(;he--;){if(et===ye||ye!==null&&et===ye.alternate)break t;et=P(et),ye=P(ye)}et=null}else et=null;Ge!==null&&M(Fe,Me,Ge,et,!1),Xe!==null&&un!==null&&M(Fe,un,Xe,et,!0)}}e:{if(Me=Se?mo(Se):window,Ge=Me.nodeName&&Me.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Me.type==="file")var rt=qm;else if(If(Me))if(Mr)rt=Nu;else{rt=rs;var ct=$l}else(Ge=Me.nodeName)&&Ge.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(rt=Zl);if(rt&&(rt=rt(o,Se))){Dl(Fe,rt,h,ze);break e}ct&&ct(o,Me,Se),o==="focusout"&&(ct=Me._wrapperState)&&ct.controlled&&Me.type==="number"&&pe(Me,"number",Me.value)}switch(ct=Se?mo(Se):window,o){case"focusin":(If(ct)||ct.contentEditable==="true")&&(is=ct,os=Se,Pa=null);break;case"focusout":Pa=os=is=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,Mf(Fe,h,ze);break;case"selectionchange":if(Hl)break;case"keydown":case"keyup":Mf(Fe,h,ze)}var ut;if(Ni)e:{switch(o){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else ci?ts(o,h)&&(ht="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(ht="onCompositionStart");ht&&(Af&&h.locale!=="ko"&&(ci||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&ci&&(ut=wu()):(Pi=ze,Wn="value"in Pi?Pi.value:Pi.textContent,ci=!0)),ct=w(Se,ht),0<ct.length&&(ht=new ku(ht,o,null,h,ze),Fe.push({event:ht,listeners:ct}),ut?ht.data=ut:(ut=Tu(h),ut!==null&&(ht.data=ut)))),(ut=li?Wm(o,h):Ai(o,h))&&(Se=w(Se,"onBeforeInput"),0<Se.length&&(ze=new ku("onBeforeInput","beforeinput",null,h,ze),Fe.push({event:ze,listeners:Se}),ze.data=ut))}zu(Fe,c)})}function f(o,c,h){return{instance:o,listener:c,currentTarget:h}}function w(o,c){for(var h=c+"Capture",x=[];o!==null;){var T=o,I=T.stateNode;T.tag===5&&I!==null&&(T=I,I=ha(o,h),I!=null&&x.unshift(f(o,I,T)),I=ha(o,c),I!=null&&x.push(f(o,I,T))),o=o.return}return x}function P(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function M(o,c,h,x,T){for(var I=c._reactName,V=[];h!==null&&h!==x;){var ae=h,de=ae.alternate,Se=ae.stateNode;if(de!==null&&de===x)break;ae.tag===5&&Se!==null&&(ae=Se,T?(de=ha(h,I),de!=null&&V.unshift(f(h,de,ae))):T||(de=ha(h,I),de!=null&&V.push(f(h,de,ae)))),h=h.return}V.length!==0&&o.push({event:c,listeners:V})}var Y=/\r\n?/g,ce=/\u0000|\uFFFD/g;function ge(o){return(typeof o=="string"?o:""+o).replace(Y,`
`).replace(ce,"")}function Ee(o,c,h){if(c=ge(c),ge(o)!==c&&h)throw Error(n(425))}function Oe(){}var We=null,lt=null;function vt(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var yn=typeof setTimeout=="function"?setTimeout:void 0,hn=typeof clearTimeout=="function"?clearTimeout:void 0,qn=typeof Promise=="function"?Promise:void 0,Ln=typeof queueMicrotask=="function"?queueMicrotask:typeof qn<"u"?function(o){return qn.resolve(null).then(o).catch(us)}:yn;function us(o){setTimeout(function(){throw o})}function Bu(o,c){var h=c,x=0;do{var T=h.nextSibling;if(o.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"){if(x===0){o.removeChild(T),_r(c);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=T}while(h);_r(c)}function Oi(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function $f(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}var fo=Math.random().toString(36).slice(2),Br="__reactFiber$"+fo,ds="__reactProps$"+fo,jt="__reactContainer$"+fo,fs="__reactEvents$"+fo,Gm="__reactListeners$"+fo,Ym="__reactHandles$"+fo;function ho(o){var c=o[Br];if(c)return c;for(var h=o.parentNode;h;){if(c=h[jt]||h[Br]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=$f(o);o!==null;){if(h=o[Br])return h;o=$f(o)}return c}o=h,h=o.parentNode}return null}function po(o){return o=o[Br]||o[jt],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function mo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function ql(o){return o[ds]||null}var Jm=[],Kl=-1;function hs(o){return{current:o}}function Ht(o){0>Kl||(o.current=Jm[Kl],Jm[Kl]=null,Kl--)}function $t(o,c){Kl++,Jm[Kl]=o.current,o.current=c}var ps={},On=hs(ps),ir=hs(!1),Aa=ps;function Gl(o,c){var h=o.type.contextTypes;if(!h)return ps;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var T={},I;for(I in h)T[I]=c[I];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=T),T}function or(o){return o=o.childContextTypes,o!=null}function Zf(){Ht(ir),Ht(On)}function P_(o,c,h){if(On.current!==ps)throw Error(n(168));$t(On,c),$t(ir,h)}function T_(o,c,h){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return h;x=x.getChildContext();for(var T in x)if(!(T in c))throw Error(n(108,Te(o)||"Unknown",T));return le({},h,x)}function Hf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ps,Aa=On.current,$t(On,o),$t(ir,ir.current),!0}function N_(o,c,h){var x=o.stateNode;if(!x)throw Error(n(169));h?(o=T_(o,c,Aa),x.__reactInternalMemoizedMergedChildContext=o,Ht(ir),Ht(On),$t(On,o)):Ht(ir),$t(ir,h)}var go=null,Wf=!1,Qm=!1;function A_(o){go===null?go=[o]:go.push(o)}function KR(o){Wf=!0,A_(o)}function ms(){if(!Qm&&go!==null){Qm=!0;var o=0,c=Pt;try{var h=go;for(Pt=1;o<h.length;o++){var x=h[o];do x=x(!0);while(x!==null)}go=null,Wf=!1}catch(T){throw go!==null&&(go=go.slice(o+1)),vf(pu,ms),T}finally{Pt=c,Qm=!1}}return null}var Yl=[],Jl=0,Vf=null,qf=0,Fr=[],Ur=0,Ra=null,yo=1,vo="";function Ia(o,c){Yl[Jl++]=qf,Yl[Jl++]=Vf,Vf=o,qf=c}function R_(o,c,h){Fr[Ur++]=yo,Fr[Ur++]=vo,Fr[Ur++]=Ra,Ra=o;var x=yo;o=vo;var T=32-gt(x)-1;x&=~(1<<T),h+=1;var I=32-gt(c)+T;if(30<I){var V=T-T%5;I=(x&(1<<V)-1).toString(32),x>>=V,T-=V,yo=1<<32-gt(c)+T|h<<T|x,vo=I+o}else yo=1<<I|h<<T|x,vo=o}function Xm(o){o.return!==null&&(Ia(o,1),R_(o,1,0))}function eg(o){for(;o===Vf;)Vf=Yl[--Jl],Yl[Jl]=null,qf=Yl[--Jl],Yl[Jl]=null;for(;o===Ra;)Ra=Fr[--Ur],Fr[Ur]=null,vo=Fr[--Ur],Fr[Ur]=null,yo=Fr[--Ur],Fr[Ur]=null}var kr=null,Cr=null,Kt=!1,di=null;function I_(o,c){var h=Wr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=o,c=o.deletions,c===null?(o.deletions=[h],o.flags|=16):c.push(h)}function L_(o,c){switch(o.tag){case 5:var h=o.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,kr=o,Cr=Oi(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,kr=o,Cr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ra!==null?{id:yo,overflow:vo}:null,o.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Wr(18,null,null,0),h.stateNode=c,h.return=o,o.child=h,kr=o,Cr=null,!0):!1;default:return!1}}function tg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ng(o){if(Kt){var c=Cr;if(c){var h=c;if(!L_(o,c)){if(tg(o))throw Error(n(418));c=Oi(h.nextSibling);var x=kr;c&&L_(o,c)?I_(x,h):(o.flags=o.flags&-4097|2,Kt=!1,kr=o)}}else{if(tg(o))throw Error(n(418));o.flags=o.flags&-4097|2,Kt=!1,kr=o}}}function O_(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;kr=o}function Kf(o){if(o!==kr)return!1;if(!Kt)return O_(o),Kt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!vt(o.type,o.memoizedProps)),c&&(c=Cr)){if(tg(o))throw j_(),Error(n(418));for(;c;)I_(o,c),c=Oi(c.nextSibling)}if(O_(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(c===0){Cr=Oi(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}o=o.nextSibling}Cr=null}}else Cr=kr?Oi(o.stateNode.nextSibling):null;return!0}function j_(){for(var o=Cr;o;)o=Oi(o.nextSibling)}function Ql(){Cr=kr=null,Kt=!1}function rg(o){di===null?di=[o]:di.push(o)}var GR=z.ReactCurrentBatchConfig;function Fu(o,c,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var x=h.stateNode}if(!x)throw Error(n(147,o));var T=x,I=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===I?c.ref:(c=function(V){var ae=T.refs;V===null?delete ae[I]:ae[I]=V},c._stringRef=I,c)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function Gf(o,c){throw o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function M_(o){var c=o._init;return c(o._payload)}function z_(o){function c(ye,he){if(o){var we=ye.deletions;we===null?(ye.deletions=[he],ye.flags|=16):we.push(he)}}function h(ye,he){if(!o)return null;for(;he!==null;)c(ye,he),he=he.sibling;return null}function x(ye,he){for(ye=new Map;he!==null;)he.key!==null?ye.set(he.key,he):ye.set(he.index,he),he=he.sibling;return ye}function T(ye,he){return ye=Es(ye,he),ye.index=0,ye.sibling=null,ye}function I(ye,he,we){return ye.index=we,o?(we=ye.alternate,we!==null?(we=we.index,we<he?(ye.flags|=2,he):we):(ye.flags|=2,he)):(ye.flags|=1048576,he)}function V(ye){return o&&ye.alternate===null&&(ye.flags|=2),ye}function ae(ye,he,we,$e){return he===null||he.tag!==6?(he=Kg(we,ye.mode,$e),he.return=ye,he):(he=T(he,we),he.return=ye,he)}function de(ye,he,we,$e){var rt=we.type;return rt===H?ze(ye,he,we.props.children,$e,we.key):he!==null&&(he.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===se&&M_(rt)===he.type)?($e=T(he,we.props),$e.ref=Fu(ye,he,we),$e.return=ye,$e):($e=wh(we.type,we.key,we.props,null,ye.mode,$e),$e.ref=Fu(ye,he,we),$e.return=ye,$e)}function Se(ye,he,we,$e){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=Gg(we,ye.mode,$e),he.return=ye,he):(he=T(he,we.children||[]),he.return=ye,he)}function ze(ye,he,we,$e,rt){return he===null||he.tag!==7?(he=Fa(we,ye.mode,$e,rt),he.return=ye,he):(he=T(he,we),he.return=ye,he)}function Fe(ye,he,we){if(typeof he=="string"&&he!==""||typeof he=="number")return he=Kg(""+he,ye.mode,we),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case D:return we=wh(he.type,he.key,he.props,null,ye.mode,we),we.ref=Fu(ye,null,he),we.return=ye,we;case Z:return he=Gg(he,ye.mode,we),he.return=ye,he;case se:var $e=he._init;return Fe(ye,$e(he._payload),we)}if(Re(he)||ee(he))return he=Fa(he,ye.mode,we,null),he.return=ye,he;Gf(ye,he)}return null}function Me(ye,he,we,$e){var rt=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return rt!==null?null:ae(ye,he,""+we,$e);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case D:return we.key===rt?de(ye,he,we,$e):null;case Z:return we.key===rt?Se(ye,he,we,$e):null;case se:return rt=we._init,Me(ye,he,rt(we._payload),$e)}if(Re(we)||ee(we))return rt!==null?null:ze(ye,he,we,$e,null);Gf(ye,we)}return null}function Ge(ye,he,we,$e,rt){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ye=ye.get(we)||null,ae(he,ye,""+$e,rt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:return ye=ye.get($e.key===null?we:$e.key)||null,de(he,ye,$e,rt);case Z:return ye=ye.get($e.key===null?we:$e.key)||null,Se(he,ye,$e,rt);case se:var ct=$e._init;return Ge(ye,he,we,ct($e._payload),rt)}if(Re($e)||ee($e))return ye=ye.get(we)||null,ze(he,ye,$e,rt,null);Gf(he,$e)}return null}function Xe(ye,he,we,$e){for(var rt=null,ct=null,ut=he,ht=he=0,En=null;ut!==null&&ht<we.length;ht++){ut.index>ht?(En=ut,ut=null):En=ut.sibling;var Rt=Me(ye,ut,we[ht],$e);if(Rt===null){ut===null&&(ut=En);break}o&&ut&&Rt.alternate===null&&c(ye,ut),he=I(Rt,he,ht),ct===null?rt=Rt:ct.sibling=Rt,ct=Rt,ut=En}if(ht===we.length)return h(ye,ut),Kt&&Ia(ye,ht),rt;if(ut===null){for(;ht<we.length;ht++)ut=Fe(ye,we[ht],$e),ut!==null&&(he=I(ut,he,ht),ct===null?rt=ut:ct.sibling=ut,ct=ut);return Kt&&Ia(ye,ht),rt}for(ut=x(ye,ut);ht<we.length;ht++)En=Ge(ut,ye,ht,we[ht],$e),En!==null&&(o&&En.alternate!==null&&ut.delete(En.key===null?ht:En.key),he=I(En,he,ht),ct===null?rt=En:ct.sibling=En,ct=En);return o&&ut.forEach(function(Ss){return c(ye,Ss)}),Kt&&Ia(ye,ht),rt}function et(ye,he,we,$e){var rt=ee(we);if(typeof rt!="function")throw Error(n(150));if(we=rt.call(we),we==null)throw Error(n(151));for(var ct=rt=null,ut=he,ht=he=0,En=null,Rt=we.next();ut!==null&&!Rt.done;ht++,Rt=we.next()){ut.index>ht?(En=ut,ut=null):En=ut.sibling;var Ss=Me(ye,ut,Rt.value,$e);if(Ss===null){ut===null&&(ut=En);break}o&&ut&&Ss.alternate===null&&c(ye,ut),he=I(Ss,he,ht),ct===null?rt=Ss:ct.sibling=Ss,ct=Ss,ut=En}if(Rt.done)return h(ye,ut),Kt&&Ia(ye,ht),rt;if(ut===null){for(;!Rt.done;ht++,Rt=we.next())Rt=Fe(ye,Rt.value,$e),Rt!==null&&(he=I(Rt,he,ht),ct===null?rt=Rt:ct.sibling=Rt,ct=Rt);return Kt&&Ia(ye,ht),rt}for(ut=x(ye,ut);!Rt.done;ht++,Rt=we.next())Rt=Ge(ut,ye,ht,Rt.value,$e),Rt!==null&&(o&&Rt.alternate!==null&&ut.delete(Rt.key===null?ht:Rt.key),he=I(Rt,he,ht),ct===null?rt=Rt:ct.sibling=Rt,ct=Rt);return o&&ut.forEach(function(TI){return c(ye,TI)}),Kt&&Ia(ye,ht),rt}function un(ye,he,we,$e){if(typeof we=="object"&&we!==null&&we.type===H&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case D:e:{for(var rt=we.key,ct=he;ct!==null;){if(ct.key===rt){if(rt=we.type,rt===H){if(ct.tag===7){h(ye,ct.sibling),he=T(ct,we.props.children),he.return=ye,ye=he;break e}}else if(ct.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===se&&M_(rt)===ct.type){h(ye,ct.sibling),he=T(ct,we.props),he.ref=Fu(ye,ct,we),he.return=ye,ye=he;break e}h(ye,ct);break}else c(ye,ct);ct=ct.sibling}we.type===H?(he=Fa(we.props.children,ye.mode,$e,we.key),he.return=ye,ye=he):($e=wh(we.type,we.key,we.props,null,ye.mode,$e),$e.ref=Fu(ye,he,we),$e.return=ye,ye=$e)}return V(ye);case Z:e:{for(ct=we.key;he!==null;){if(he.key===ct)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){h(ye,he.sibling),he=T(he,we.children||[]),he.return=ye,ye=he;break e}else{h(ye,he);break}else c(ye,he);he=he.sibling}he=Gg(we,ye.mode,$e),he.return=ye,ye=he}return V(ye);case se:return ct=we._init,un(ye,he,ct(we._payload),$e)}if(Re(we))return Xe(ye,he,we,$e);if(ee(we))return et(ye,he,we,$e);Gf(ye,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,he!==null&&he.tag===6?(h(ye,he.sibling),he=T(he,we),he.return=ye,ye=he):(h(ye,he),he=Kg(we,ye.mode,$e),he.return=ye,ye=he),V(ye)):h(ye,he)}return un}var Xl=z_(!0),D_=z_(!1),Yf=hs(null),Jf=null,ec=null,ig=null;function og(){ig=ec=Jf=null}function sg(o){var c=Yf.current;Ht(Yf),o._currentValue=c}function ag(o,c,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===h)break;o=o.return}}function tc(o,c){Jf=o,ig=ec=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(sr=!0),o.firstContext=null)}function $r(o){var c=o._currentValue;if(ig!==o)if(o={context:o,memoizedValue:c,next:null},ec===null){if(Jf===null)throw Error(n(308));ec=o,Jf.dependencies={lanes:0,firstContext:o}}else ec=ec.next=o;return c}var La=null;function lg(o){La===null?La=[o]:La.push(o)}function B_(o,c,h,x){var T=c.interleaved;return T===null?(h.next=h,lg(c)):(h.next=T.next,T.next=h),c.interleaved=h,wo(o,x)}function wo(o,c){o.lanes|=c;var h=o.alternate;for(h!==null&&(h.lanes|=c),h=o,o=o.return;o!==null;)o.childLanes|=c,h=o.alternate,h!==null&&(h.childLanes|=c),h=o,o=o.return;return h.tag===3?h.stateNode:null}var gs=!1;function cg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F_(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function _o(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function ys(o,c,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(At&2)!==0){var T=x.pending;return T===null?c.next=c:(c.next=T.next,T.next=c),x.pending=c,wo(o,h)}return T=x.interleaved,T===null?(c.next=c,lg(x)):(c.next=T.next,T.next=c),x.interleaved=c,wo(o,h)}function Qf(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,si(o,h)}}function U_(o,c){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var T=null,I=null;if(h=h.firstBaseUpdate,h!==null){do{var V={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};I===null?T=I=V:I=I.next=V,h=h.next}while(h!==null);I===null?T=I=c:I=I.next=c}else T=I=c;h={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:I,shared:x.shared,effects:x.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}function Xf(o,c,h,x){var T=o.updateQueue;gs=!1;var I=T.firstBaseUpdate,V=T.lastBaseUpdate,ae=T.shared.pending;if(ae!==null){T.shared.pending=null;var de=ae,Se=de.next;de.next=null,V===null?I=Se:V.next=Se,V=de;var ze=o.alternate;ze!==null&&(ze=ze.updateQueue,ae=ze.lastBaseUpdate,ae!==V&&(ae===null?ze.firstBaseUpdate=Se:ae.next=Se,ze.lastBaseUpdate=de))}if(I!==null){var Fe=T.baseState;V=0,ze=Se=de=null,ae=I;do{var Me=ae.lane,Ge=ae.eventTime;if((x&Me)===Me){ze!==null&&(ze=ze.next={eventTime:Ge,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Xe=o,et=ae;switch(Me=c,Ge=h,et.tag){case 1:if(Xe=et.payload,typeof Xe=="function"){Fe=Xe.call(Ge,Fe,Me);break e}Fe=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=et.payload,Me=typeof Xe=="function"?Xe.call(Ge,Fe,Me):Xe,Me==null)break e;Fe=le({},Fe,Me);break e;case 2:gs=!0}}ae.callback!==null&&ae.lane!==0&&(o.flags|=64,Me=T.effects,Me===null?T.effects=[ae]:Me.push(ae))}else Ge={eventTime:Ge,lane:Me,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},ze===null?(Se=ze=Ge,de=Fe):ze=ze.next=Ge,V|=Me;if(ae=ae.next,ae===null){if(ae=T.shared.pending,ae===null)break;Me=ae,ae=Me.next,Me.next=null,T.lastBaseUpdate=Me,T.shared.pending=null}}while(!0);if(ze===null&&(de=Fe),T.baseState=de,T.firstBaseUpdate=Se,T.lastBaseUpdate=ze,c=T.shared.interleaved,c!==null){T=c;do V|=T.lane,T=T.next;while(T!==c)}else I===null&&(T.shared.lanes=0);Ma|=V,o.lanes=V,o.memoizedState=Fe}}function $_(o,c,h){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],T=x.callback;if(T!==null){if(x.callback=null,x=h,typeof T!="function")throw Error(n(191,T));T.call(x)}}}var Uu={},ji=hs(Uu),$u=hs(Uu),Zu=hs(Uu);function Oa(o){if(o===Uu)throw Error(n(174));return o}function ug(o,c){switch($t(Zu,c),$t($u,o),$t(ji,Uu),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:G(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=G(c,o)}Ht(ji),$t(ji,c)}function nc(){Ht(ji),Ht($u),Ht(Zu)}function Z_(o){Oa(Zu.current);var c=Oa(ji.current),h=G(c,o.type);c!==h&&($t($u,o),$t(ji,h))}function dg(o){$u.current===o&&(Ht(ji),Ht($u))}var en=hs(0);function eh(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var fg=[];function hg(){for(var o=0;o<fg.length;o++)fg[o]._workInProgressVersionPrimary=null;fg.length=0}var th=z.ReactCurrentDispatcher,pg=z.ReactCurrentBatchConfig,ja=0,tn=null,vn=null,xn=null,nh=!1,Hu=!1,Wu=0,YR=0;function jn(){throw Error(n(321))}function mg(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Er(o[h],c[h]))return!1;return!0}function gg(o,c,h,x,T,I){if(ja=I,tn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,th.current=o===null||o.memoizedState===null?eI:tI,o=h(x,T),Hu){I=0;do{if(Hu=!1,Wu=0,25<=I)throw Error(n(301));I+=1,xn=vn=null,c.updateQueue=null,th.current=nI,o=h(x,T)}while(Hu)}if(th.current=oh,c=vn!==null&&vn.next!==null,ja=0,xn=vn=tn=null,nh=!1,c)throw Error(n(300));return o}function yg(){var o=Wu!==0;return Wu=0,o}function Mi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?tn.memoizedState=xn=o:xn=xn.next=o,xn}function Zr(){if(vn===null){var o=tn.alternate;o=o!==null?o.memoizedState:null}else o=vn.next;var c=xn===null?tn.memoizedState:xn.next;if(c!==null)xn=c,vn=o;else{if(o===null)throw Error(n(310));vn=o,o={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},xn===null?tn.memoizedState=xn=o:xn=xn.next=o}return xn}function Vu(o,c){return typeof c=="function"?c(o):c}function vg(o){var c=Zr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=vn,T=x.baseQueue,I=h.pending;if(I!==null){if(T!==null){var V=T.next;T.next=I.next,I.next=V}x.baseQueue=T=I,h.pending=null}if(T!==null){I=T.next,x=x.baseState;var ae=V=null,de=null,Se=I;do{var ze=Se.lane;if((ja&ze)===ze)de!==null&&(de=de.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),x=Se.hasEagerState?Se.eagerState:o(x,Se.action);else{var Fe={lane:ze,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};de===null?(ae=de=Fe,V=x):de=de.next=Fe,tn.lanes|=ze,Ma|=ze}Se=Se.next}while(Se!==null&&Se!==I);de===null?V=x:de.next=ae,Er(x,c.memoizedState)||(sr=!0),c.memoizedState=x,c.baseState=V,c.baseQueue=de,h.lastRenderedState=x}if(o=h.interleaved,o!==null){T=o;do I=T.lane,tn.lanes|=I,Ma|=I,T=T.next;while(T!==o)}else T===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function wg(o){var c=Zr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=h.dispatch,T=h.pending,I=c.memoizedState;if(T!==null){h.pending=null;var V=T=T.next;do I=o(I,V.action),V=V.next;while(V!==T);Er(I,c.memoizedState)||(sr=!0),c.memoizedState=I,c.baseQueue===null&&(c.baseState=I),h.lastRenderedState=I}return[I,x]}function H_(){}function W_(o,c){var h=tn,x=Zr(),T=c(),I=!Er(x.memoizedState,T);if(I&&(x.memoizedState=T,sr=!0),x=x.queue,_g(K_.bind(null,h,x,o),[o]),x.getSnapshot!==c||I||xn!==null&&xn.memoizedState.tag&1){if(h.flags|=2048,qu(9,q_.bind(null,h,x,T,c),void 0,null),bn===null)throw Error(n(349));(ja&30)!==0||V_(h,c,T)}return T}function V_(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=tn.updateQueue,c===null?(c={lastEffect:null,stores:null},tn.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function q_(o,c,h,x){c.value=h,c.getSnapshot=x,G_(c)&&Y_(o)}function K_(o,c,h){return h(function(){G_(c)&&Y_(o)})}function G_(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Er(o,h)}catch{return!0}}function Y_(o){var c=wo(o,1);c!==null&&mi(c,o,1,-1)}function J_(o){var c=Mi();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:o},c.queue=o,o=o.dispatch=XR.bind(null,tn,o),[c.memoizedState,o]}function qu(o,c,h,x){return o={tag:o,create:c,destroy:h,deps:x,next:null},c=tn.updateQueue,c===null?(c={lastEffect:null,stores:null},tn.updateQueue=c,c.lastEffect=o.next=o):(h=c.lastEffect,h===null?c.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,c.lastEffect=o)),o}function Q_(){return Zr().memoizedState}function rh(o,c,h,x){var T=Mi();tn.flags|=o,T.memoizedState=qu(1|c,h,void 0,x===void 0?null:x)}function ih(o,c,h,x){var T=Zr();x=x===void 0?null:x;var I=void 0;if(vn!==null){var V=vn.memoizedState;if(I=V.destroy,x!==null&&mg(x,V.deps)){T.memoizedState=qu(c,h,I,x);return}}tn.flags|=o,T.memoizedState=qu(1|c,h,I,x)}function X_(o,c){return rh(8390656,8,o,c)}function _g(o,c){return ih(2048,8,o,c)}function ex(o,c){return ih(4,2,o,c)}function tx(o,c){return ih(4,4,o,c)}function nx(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function rx(o,c,h){return h=h!=null?h.concat([o]):null,ih(4,4,nx.bind(null,c,o),h)}function xg(){}function ix(o,c){var h=Zr();c=c===void 0?null:c;var x=h.memoizedState;return x!==null&&c!==null&&mg(c,x[1])?x[0]:(h.memoizedState=[o,c],o)}function ox(o,c){var h=Zr();c=c===void 0?null:c;var x=h.memoizedState;return x!==null&&c!==null&&mg(c,x[1])?x[0]:(o=o(),h.memoizedState=[o,c],o)}function sx(o,c,h){return(ja&21)===0?(o.baseState&&(o.baseState=!1,sr=!0),o.memoizedState=h):(Er(h,c)||(h=_f(),tn.lanes|=h,Ma|=h,o.baseState=!0),c)}function JR(o,c){var h=Pt;Pt=h!==0&&4>h?h:4,o(!0);var x=pg.transition;pg.transition={};try{o(!1),c()}finally{Pt=h,pg.transition=x}}function ax(){return Zr().memoizedState}function QR(o,c,h){var x=xs(o);if(h={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null},lx(o))cx(c,h);else if(h=B_(o,c,h,x),h!==null){var T=Gn();mi(h,o,x,T),ux(h,c,x)}}function XR(o,c,h){var x=xs(o),T={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null};if(lx(o))cx(c,T);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=c.lastRenderedReducer,I!==null))try{var V=c.lastRenderedState,ae=I(V,h);if(T.hasEagerState=!0,T.eagerState=ae,Er(ae,V)){var de=c.interleaved;de===null?(T.next=T,lg(c)):(T.next=de.next,de.next=T),c.interleaved=T;return}}catch{}finally{}h=B_(o,c,T,x),h!==null&&(T=Gn(),mi(h,o,x,T),ux(h,c,x))}}function lx(o){var c=o.alternate;return o===tn||c!==null&&c===tn}function cx(o,c){Hu=nh=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function ux(o,c,h){if((h&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,si(o,h)}}var oh={readContext:$r,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},eI={readContext:$r,useCallback:function(o,c){return Mi().memoizedState=[o,c===void 0?null:c],o},useContext:$r,useEffect:X_,useImperativeHandle:function(o,c,h){return h=h!=null?h.concat([o]):null,rh(4194308,4,nx.bind(null,c,o),h)},useLayoutEffect:function(o,c){return rh(4194308,4,o,c)},useInsertionEffect:function(o,c){return rh(4,2,o,c)},useMemo:function(o,c){var h=Mi();return c=c===void 0?null:c,o=o(),h.memoizedState=[o,c],o},useReducer:function(o,c,h){var x=Mi();return c=h!==void 0?h(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=QR.bind(null,tn,o),[x.memoizedState,o]},useRef:function(o){var c=Mi();return o={current:o},c.memoizedState=o},useState:J_,useDebugValue:xg,useDeferredValue:function(o){return Mi().memoizedState=o},useTransition:function(){var o=J_(!1),c=o[0];return o=JR.bind(null,o[1]),Mi().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,h){var x=tn,T=Mi();if(Kt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),bn===null)throw Error(n(349));(ja&30)!==0||V_(x,c,h)}T.memoizedState=h;var I={value:h,getSnapshot:c};return T.queue=I,X_(K_.bind(null,x,I,o),[o]),x.flags|=2048,qu(9,q_.bind(null,x,I,h,c),void 0,null),h},useId:function(){var o=Mi(),c=bn.identifierPrefix;if(Kt){var h=vo,x=yo;h=(x&~(1<<32-gt(x)-1)).toString(32)+h,c=":"+c+"R"+h,h=Wu++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=YR++,c=":"+c+"r"+h.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},tI={readContext:$r,useCallback:ix,useContext:$r,useEffect:_g,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:ox,useReducer:vg,useRef:Q_,useState:function(){return vg(Vu)},useDebugValue:xg,useDeferredValue:function(o){var c=Zr();return sx(c,vn.memoizedState,o)},useTransition:function(){var o=vg(Vu)[0],c=Zr().memoizedState;return[o,c]},useMutableSource:H_,useSyncExternalStore:W_,useId:ax,unstable_isNewReconciler:!1},nI={readContext:$r,useCallback:ix,useContext:$r,useEffect:_g,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:ox,useReducer:wg,useRef:Q_,useState:function(){return wg(Vu)},useDebugValue:xg,useDeferredValue:function(o){var c=Zr();return vn===null?c.memoizedState=o:sx(c,vn.memoizedState,o)},useTransition:function(){var o=wg(Vu)[0],c=Zr().memoizedState;return[o,c]},useMutableSource:H_,useSyncExternalStore:W_,useId:ax,unstable_isNewReconciler:!1};function fi(o,c){if(o&&o.defaultProps){c=le({},c),o=o.defaultProps;for(var h in o)c[h]===void 0&&(c[h]=o[h]);return c}return c}function bg(o,c,h,x){c=o.memoizedState,h=h(x,c),h=h==null?c:le({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var sh={isMounted:function(o){return(o=o._reactInternals)?Ci(o)===o:!1},enqueueSetState:function(o,c,h){o=o._reactInternals;var x=Gn(),T=xs(o),I=_o(x,T);I.payload=c,h!=null&&(I.callback=h),c=ys(o,I,T),c!==null&&(mi(c,o,T,x),Qf(c,o,T))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var x=Gn(),T=xs(o),I=_o(x,T);I.tag=1,I.payload=c,h!=null&&(I.callback=h),c=ys(o,I,T),c!==null&&(mi(c,o,T,x),Qf(c,o,T))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Gn(),x=xs(o),T=_o(h,x);T.tag=2,c!=null&&(T.callback=c),c=ys(o,T,x),c!==null&&(mi(c,o,x,h),Qf(c,o,x))}};function dx(o,c,h,x,T,I,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,I,V):c.prototype&&c.prototype.isPureReactComponent?!Ri(h,x)||!Ri(T,I):!0}function fx(o,c,h){var x=!1,T=ps,I=c.contextType;return typeof I=="object"&&I!==null?I=$r(I):(T=or(c)?Aa:On.current,x=c.contextTypes,I=(x=x!=null)?Gl(o,T):ps),c=new c(h,I),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=sh,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=T,o.__reactInternalMemoizedMaskedChildContext=I),c}function hx(o,c,h,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,x),c.state!==o&&sh.enqueueReplaceState(c,c.state,null)}function Eg(o,c,h,x){var T=o.stateNode;T.props=h,T.state=o.memoizedState,T.refs={},cg(o);var I=c.contextType;typeof I=="object"&&I!==null?T.context=$r(I):(I=or(c)?Aa:On.current,T.context=Gl(o,I)),T.state=o.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(bg(o,c,I,h),T.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(c=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),c!==T.state&&sh.enqueueReplaceState(T,T.state,null),Xf(o,h,T,x),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308)}function rc(o,c){try{var h="",x=c;do h+=ve(x),x=x.return;while(x);var T=h}catch(I){T=`
Error generating stack: `+I.message+`
`+I.stack}return{value:o,source:c,stack:T,digest:null}}function Sg(o,c,h){return{value:o,source:null,stack:h??null,digest:c??null}}function kg(o,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var rI=typeof WeakMap=="function"?WeakMap:Map;function px(o,c,h){h=_o(-1,h),h.tag=3,h.payload={element:null};var x=c.value;return h.callback=function(){hh||(hh=!0,Fg=x),kg(o,c)},h}function mx(o,c,h){h=_o(-1,h),h.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var T=c.value;h.payload=function(){return x(T)},h.callback=function(){kg(o,c)}}var I=o.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(h.callback=function(){kg(o,c),typeof x!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var V=c.stack;this.componentDidCatch(c.value,{componentStack:V!==null?V:""})}),h}function gx(o,c,h){var x=o.pingCache;if(x===null){x=o.pingCache=new rI;var T=new Set;x.set(c,T)}else T=x.get(c),T===void 0&&(T=new Set,x.set(c,T));T.has(h)||(T.add(h),o=yI.bind(null,o,c,h),c.then(o,o))}function yx(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function vx(o,c,h,x,T){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=_o(-1,1),c.tag=2,ys(h,c,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=T,o)}var iI=z.ReactCurrentOwner,sr=!1;function Kn(o,c,h,x){c.child=o===null?D_(c,null,h,x):Xl(c,o.child,h,x)}function wx(o,c,h,x,T){h=h.render;var I=c.ref;return tc(c,T),x=gg(o,c,h,x,I,T),h=yg(),o!==null&&!sr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~T,xo(o,c,T)):(Kt&&h&&Xm(c),c.flags|=1,Kn(o,c,x,T),c.child)}function _x(o,c,h,x,T){if(o===null){var I=h.type;return typeof I=="function"&&!qg(I)&&I.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=I,xx(o,c,I,x,T)):(o=wh(h.type,null,x,c,c.mode,T),o.ref=c.ref,o.return=c,c.child=o)}if(I=o.child,(o.lanes&T)===0){var V=I.memoizedProps;if(h=h.compare,h=h!==null?h:Ri,h(V,x)&&o.ref===c.ref)return xo(o,c,T)}return c.flags|=1,o=Es(I,x),o.ref=c.ref,o.return=c,c.child=o}function xx(o,c,h,x,T){if(o!==null){var I=o.memoizedProps;if(Ri(I,x)&&o.ref===c.ref)if(sr=!1,c.pendingProps=x=I,(o.lanes&T)!==0)(o.flags&131072)!==0&&(sr=!0);else return c.lanes=o.lanes,xo(o,c,T)}return Cg(o,c,h,x,T)}function bx(o,c,h){var x=c.pendingProps,T=x.children,I=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(oc,Pr),Pr|=h;else{if((h&1073741824)===0)return o=I!==null?I.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,$t(oc,Pr),Pr|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=I!==null?I.baseLanes:h,$t(oc,Pr),Pr|=x}else I!==null?(x=I.baseLanes|h,c.memoizedState=null):x=h,$t(oc,Pr),Pr|=x;return Kn(o,c,T,h),c.child}function Ex(o,c){var h=c.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Cg(o,c,h,x,T){var I=or(h)?Aa:On.current;return I=Gl(c,I),tc(c,T),h=gg(o,c,h,x,I,T),x=yg(),o!==null&&!sr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~T,xo(o,c,T)):(Kt&&x&&Xm(c),c.flags|=1,Kn(o,c,h,T),c.child)}function Sx(o,c,h,x,T){if(or(h)){var I=!0;Hf(c)}else I=!1;if(tc(c,T),c.stateNode===null)lh(o,c),fx(c,h,x),Eg(c,h,x,T),x=!0;else if(o===null){var V=c.stateNode,ae=c.memoizedProps;V.props=ae;var de=V.context,Se=h.contextType;typeof Se=="object"&&Se!==null?Se=$r(Se):(Se=or(h)?Aa:On.current,Se=Gl(c,Se));var ze=h.getDerivedStateFromProps,Fe=typeof ze=="function"||typeof V.getSnapshotBeforeUpdate=="function";Fe||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ae!==x||de!==Se)&&hx(c,V,x,Se),gs=!1;var Me=c.memoizedState;V.state=Me,Xf(c,x,V,T),de=c.memoizedState,ae!==x||Me!==de||ir.current||gs?(typeof ze=="function"&&(bg(c,h,ze,x),de=c.memoizedState),(ae=gs||dx(c,h,ae,x,Me,de,Se))?(Fe||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(c.flags|=4194308)):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=de),V.props=x,V.state=de,V.context=Se,x=ae):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{V=c.stateNode,F_(o,c),ae=c.memoizedProps,Se=c.type===c.elementType?ae:fi(c.type,ae),V.props=Se,Fe=c.pendingProps,Me=V.context,de=h.contextType,typeof de=="object"&&de!==null?de=$r(de):(de=or(h)?Aa:On.current,de=Gl(c,de));var Ge=h.getDerivedStateFromProps;(ze=typeof Ge=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ae!==Fe||Me!==de)&&hx(c,V,x,de),gs=!1,Me=c.memoizedState,V.state=Me,Xf(c,x,V,T);var Xe=c.memoizedState;ae!==Fe||Me!==Xe||ir.current||gs?(typeof Ge=="function"&&(bg(c,h,Ge,x),Xe=c.memoizedState),(Se=gs||dx(c,h,Se,x,Me,Xe,de)||!1)?(ze||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(x,Xe,de),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(x,Xe,de)),typeof V.componentDidUpdate=="function"&&(c.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof V.componentDidUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Xe),V.props=x,V.state=Xe,V.context=de,x=Se):(typeof V.componentDidUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),x=!1)}return Pg(o,c,h,x,I,T)}function Pg(o,c,h,x,T,I){Ex(o,c);var V=(c.flags&128)!==0;if(!x&&!V)return T&&N_(c,h,!1),xo(o,c,I);x=c.stateNode,iI.current=c;var ae=V&&typeof h.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&V?(c.child=Xl(c,o.child,null,I),c.child=Xl(c,null,ae,I)):Kn(o,c,ae,I),c.memoizedState=x.state,T&&N_(c,h,!0),c.child}function kx(o){var c=o.stateNode;c.pendingContext?P_(o,c.pendingContext,c.pendingContext!==c.context):c.context&&P_(o,c.context,!1),ug(o,c.containerInfo)}function Cx(o,c,h,x,T){return Ql(),rg(T),c.flags|=256,Kn(o,c,h,x),c.child}var Tg={dehydrated:null,treeContext:null,retryLane:0};function Ng(o){return{baseLanes:o,cachePool:null,transitions:null}}function Px(o,c,h){var x=c.pendingProps,T=en.current,I=!1,V=(c.flags&128)!==0,ae;if((ae=V)||(ae=o!==null&&o.memoizedState===null?!1:(T&2)!==0),ae?(I=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(T|=1),$t(en,T&1),o===null)return ng(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(V=x.children,o=x.fallback,I?(x=c.mode,I=c.child,V={mode:"hidden",children:V},(x&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=V):I=_h(V,x,0,null),o=Fa(o,x,h,null),I.return=c,o.return=c,I.sibling=o,c.child=I,c.child.memoizedState=Ng(h),c.memoizedState=Tg,o):Ag(c,V));if(T=o.memoizedState,T!==null&&(ae=T.dehydrated,ae!==null))return oI(o,c,V,x,ae,T,h);if(I){I=x.fallback,V=c.mode,T=o.child,ae=T.sibling;var de={mode:"hidden",children:x.children};return(V&1)===0&&c.child!==T?(x=c.child,x.childLanes=0,x.pendingProps=de,c.deletions=null):(x=Es(T,de),x.subtreeFlags=T.subtreeFlags&14680064),ae!==null?I=Es(ae,I):(I=Fa(I,V,h,null),I.flags|=2),I.return=c,x.return=c,x.sibling=I,c.child=x,x=I,I=c.child,V=o.child.memoizedState,V=V===null?Ng(h):{baseLanes:V.baseLanes|h,cachePool:null,transitions:V.transitions},I.memoizedState=V,I.childLanes=o.childLanes&~h,c.memoizedState=Tg,x}return I=o.child,o=I.sibling,x=Es(I,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=h),x.return=c,x.sibling=null,o!==null&&(h=c.deletions,h===null?(c.deletions=[o],c.flags|=16):h.push(o)),c.child=x,c.memoizedState=null,x}function Ag(o,c){return c=_h({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function ah(o,c,h,x){return x!==null&&rg(x),Xl(c,o.child,null,h),o=Ag(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function oI(o,c,h,x,T,I,V){if(h)return c.flags&256?(c.flags&=-257,x=Sg(Error(n(422))),ah(o,c,V,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(I=x.fallback,T=c.mode,x=_h({mode:"visible",children:x.children},T,0,null),I=Fa(I,T,V,null),I.flags|=2,x.return=c,I.return=c,x.sibling=I,c.child=x,(c.mode&1)!==0&&Xl(c,o.child,null,V),c.child.memoizedState=Ng(V),c.memoizedState=Tg,I);if((c.mode&1)===0)return ah(o,c,V,null);if(T.data==="$!"){if(x=T.nextSibling&&T.nextSibling.dataset,x)var ae=x.dgst;return x=ae,I=Error(n(419)),x=Sg(I,x,void 0),ah(o,c,V,x)}if(ae=(V&o.childLanes)!==0,sr||ae){if(x=bn,x!==null){switch(V&-V){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(x.suspendedLanes|V))!==0?0:T,T!==0&&T!==I.retryLane&&(I.retryLane=T,wo(o,T),mi(x,o,T,-1))}return Vg(),x=Sg(Error(n(421))),ah(o,c,V,x)}return T.data==="$?"?(c.flags|=128,c.child=o.child,c=vI.bind(null,o),T._reactRetry=c,null):(o=I.treeContext,Cr=Oi(T.nextSibling),kr=c,Kt=!0,di=null,o!==null&&(Fr[Ur++]=yo,Fr[Ur++]=vo,Fr[Ur++]=Ra,yo=o.id,vo=o.overflow,Ra=c),c=Ag(c,x.children),c.flags|=4096,c)}function Tx(o,c,h){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),ag(o.return,c,h)}function Rg(o,c,h,x,T){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:T}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=x,I.tail=h,I.tailMode=T)}function Nx(o,c,h){var x=c.pendingProps,T=x.revealOrder,I=x.tail;if(Kn(o,c,x.children,h),x=en.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Tx(o,h,c);else if(o.tag===19)Tx(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if($t(en,x),(c.mode&1)===0)c.memoizedState=null;else switch(T){case"forwards":for(h=c.child,T=null;h!==null;)o=h.alternate,o!==null&&eh(o)===null&&(T=h),h=h.sibling;h=T,h===null?(T=c.child,c.child=null):(T=h.sibling,h.sibling=null),Rg(c,!1,T,h,I);break;case"backwards":for(h=null,T=c.child,c.child=null;T!==null;){if(o=T.alternate,o!==null&&eh(o)===null){c.child=T;break}o=T.sibling,T.sibling=h,h=T,T=o}Rg(c,!0,h,null,I);break;case"together":Rg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function lh(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function xo(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),Ma|=c.lanes,(h&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,h=Es(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Es(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function sI(o,c,h){switch(c.tag){case 3:kx(c),Ql();break;case 5:Z_(c);break;case 1:or(c.type)&&Hf(c);break;case 4:ug(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,T=c.memoizedProps.value;$t(Yf,x._currentValue),x._currentValue=T;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?($t(en,en.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?Px(o,c,h):($t(en,en.current&1),o=xo(o,c,h),o!==null?o.sibling:null);$t(en,en.current&1);break;case 19:if(x=(h&c.childLanes)!==0,(o.flags&128)!==0){if(x)return Nx(o,c,h);c.flags|=128}if(T=c.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),$t(en,en.current),x)break;return null;case 22:case 23:return c.lanes=0,bx(o,c,h)}return xo(o,c,h)}var Ax,Ig,Rx,Ix;Ax=function(o,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Ig=function(){},Rx=function(o,c,h,x){var T=o.memoizedProps;if(T!==x){o=c.stateNode,Oa(ji.current);var I=null;switch(h){case"input":T=B(o,T),x=B(o,x),I=[];break;case"select":T=le({},T,{value:void 0}),x=le({},x,{value:void 0}),I=[];break;case"textarea":T=me(o,T),x=me(o,x),I=[];break;default:typeof T.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Oe)}_t(h,x);var V;h=null;for(Se in T)if(!x.hasOwnProperty(Se)&&T.hasOwnProperty(Se)&&T[Se]!=null)if(Se==="style"){var ae=T[Se];for(V in ae)ae.hasOwnProperty(V)&&(h||(h={}),h[V]="")}else Se!=="dangerouslySetInnerHTML"&&Se!=="children"&&Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(i.hasOwnProperty(Se)?I||(I=[]):(I=I||[]).push(Se,null));for(Se in x){var de=x[Se];if(ae=T!=null?T[Se]:void 0,x.hasOwnProperty(Se)&&de!==ae&&(de!=null||ae!=null))if(Se==="style")if(ae){for(V in ae)!ae.hasOwnProperty(V)||de&&de.hasOwnProperty(V)||(h||(h={}),h[V]="");for(V in de)de.hasOwnProperty(V)&&ae[V]!==de[V]&&(h||(h={}),h[V]=de[V])}else h||(I||(I=[]),I.push(Se,h)),h=de;else Se==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,ae=ae?ae.__html:void 0,de!=null&&ae!==de&&(I=I||[]).push(Se,de)):Se==="children"?typeof de!="string"&&typeof de!="number"||(I=I||[]).push(Se,""+de):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&(i.hasOwnProperty(Se)?(de!=null&&Se==="onScroll"&&Bt("scroll",o),I||ae===de||(I=[])):(I=I||[]).push(Se,de))}h&&(I=I||[]).push("style",h);var Se=I;(c.updateQueue=Se)&&(c.flags|=4)}},Ix=function(o,c,h,x){h!==x&&(c.flags|=4)};function Ku(o,c){if(!Kt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Mn(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(c)for(var T=o.child;T!==null;)h|=T.lanes|T.childLanes,x|=T.subtreeFlags&14680064,x|=T.flags&14680064,T.return=o,T=T.sibling;else for(T=o.child;T!==null;)h|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=o,T=T.sibling;return o.subtreeFlags|=x,o.childLanes=h,c}function aI(o,c,h){var x=c.pendingProps;switch(eg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(c),null;case 1:return or(c.type)&&Zf(),Mn(c),null;case 3:return x=c.stateNode,nc(),Ht(ir),Ht(On),hg(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Kf(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,di!==null&&(Zg(di),di=null))),Ig(o,c),Mn(c),null;case 5:dg(c);var T=Oa(Zu.current);if(h=c.type,o!==null&&c.stateNode!=null)Rx(o,c,h,x,T),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(n(166));return Mn(c),null}if(o=Oa(ji.current),Kf(c)){x=c.stateNode,h=c.type;var I=c.memoizedProps;switch(x[Br]=c,x[ds]=I,o=(c.mode&1)!==0,h){case"dialog":Bt("cancel",x),Bt("close",x);break;case"iframe":case"object":case"embed":Bt("load",x);break;case"video":case"audio":for(T=0;T<ls.length;T++)Bt(ls[T],x);break;case"source":Bt("error",x);break;case"img":case"image":case"link":Bt("error",x),Bt("load",x);break;case"details":Bt("toggle",x);break;case"input":Pe(x,I),Bt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!I.multiple},Bt("invalid",x);break;case"textarea":Be(x,I),Bt("invalid",x)}_t(h,I),T=null;for(var V in I)if(I.hasOwnProperty(V)){var ae=I[V];V==="children"?typeof ae=="string"?x.textContent!==ae&&(I.suppressHydrationWarning!==!0&&Ee(x.textContent,ae,o),T=["children",ae]):typeof ae=="number"&&x.textContent!==""+ae&&(I.suppressHydrationWarning!==!0&&Ee(x.textContent,ae,o),T=["children",""+ae]):i.hasOwnProperty(V)&&ae!=null&&V==="onScroll"&&Bt("scroll",x)}switch(h){case"input":Qe(x),re(x,I,!0);break;case"textarea":Qe(x),De(x);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(x.onclick=Oe)}x=T,c.updateQueue=x,x!==null&&(c.flags|=4)}else{V=T.nodeType===9?T:T.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=tt(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=V.createElement(h,{is:x.is}):(o=V.createElement(h),h==="select"&&(V=o,x.multiple?V.multiple=!0:x.size&&(V.size=x.size))):o=V.createElementNS(o,h),o[Br]=c,o[ds]=x,Ax(o,c,!1,!1),c.stateNode=o;e:{switch(V=kt(h,x),h){case"dialog":Bt("cancel",o),Bt("close",o),T=x;break;case"iframe":case"object":case"embed":Bt("load",o),T=x;break;case"video":case"audio":for(T=0;T<ls.length;T++)Bt(ls[T],o);T=x;break;case"source":Bt("error",o),T=x;break;case"img":case"image":case"link":Bt("error",o),Bt("load",o),T=x;break;case"details":Bt("toggle",o),T=x;break;case"input":Pe(o,x),T=B(o,x),Bt("invalid",o);break;case"option":T=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},T=le({},x,{value:void 0}),Bt("invalid",o);break;case"textarea":Be(o,x),T=me(o,x),Bt("invalid",o);break;default:T=x}_t(h,T),ae=T;for(I in ae)if(ae.hasOwnProperty(I)){var de=ae[I];I==="style"?dt(o,de):I==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&j(o,de)):I==="children"?typeof de=="string"?(h!=="textarea"||de!=="")&&ne(o,de):typeof de=="number"&&ne(o,""+de):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?de!=null&&I==="onScroll"&&Bt("scroll",o):de!=null&&A(o,I,de,V))}switch(h){case"input":Qe(o),re(o,x,!1);break;case"textarea":Qe(o),De(o);break;case"option":x.value!=null&&o.setAttribute("value",""+Ne(x.value));break;case"select":o.multiple=!!x.multiple,I=x.value,I!=null?Le(o,!!x.multiple,I,!1):x.defaultValue!=null&&Le(o,!!x.multiple,x.defaultValue,!0);break;default:typeof T.onClick=="function"&&(o.onclick=Oe)}switch(h){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Mn(c),null;case 6:if(o&&c.stateNode!=null)Ix(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(n(166));if(h=Oa(Zu.current),Oa(ji.current),Kf(c)){if(x=c.stateNode,h=c.memoizedProps,x[Br]=c,(I=x.nodeValue!==h)&&(o=kr,o!==null))switch(o.tag){case 3:Ee(x.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ee(x.nodeValue,h,(o.mode&1)!==0)}I&&(c.flags|=4)}else x=(h.nodeType===9?h:h.ownerDocument).createTextNode(x),x[Br]=c,c.stateNode=x}return Mn(c),null;case 13:if(Ht(en),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Kt&&Cr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)j_(),Ql(),c.flags|=98560,I=!1;else if(I=Kf(c),x!==null&&x.dehydrated!==null){if(o===null){if(!I)throw Error(n(318));if(I=c.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[Br]=c}else Ql(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Mn(c),I=!1}else di!==null&&(Zg(di),di=null),I=!0;if(!I)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(en.current&1)!==0?wn===0&&(wn=3):Vg())),c.updateQueue!==null&&(c.flags|=4),Mn(c),null);case 4:return nc(),Ig(o,c),o===null&&cs(c.stateNode.containerInfo),Mn(c),null;case 10:return sg(c.type._context),Mn(c),null;case 17:return or(c.type)&&Zf(),Mn(c),null;case 19:if(Ht(en),I=c.memoizedState,I===null)return Mn(c),null;if(x=(c.flags&128)!==0,V=I.rendering,V===null)if(x)Ku(I,!1);else{if(wn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(V=eh(o),V!==null){for(c.flags|=128,Ku(I,!1),x=V.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=h,h=c.child;h!==null;)I=h,o=x,I.flags&=14680066,V=I.alternate,V===null?(I.childLanes=0,I.lanes=o,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=V.childLanes,I.lanes=V.lanes,I.child=V.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=V.memoizedProps,I.memoizedState=V.memoizedState,I.updateQueue=V.updateQueue,I.type=V.type,o=V.dependencies,I.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return $t(en,en.current&1|2),c.child}o=o.sibling}I.tail!==null&&Qt()>sc&&(c.flags|=128,x=!0,Ku(I,!1),c.lanes=4194304)}else{if(!x)if(o=eh(V),o!==null){if(c.flags|=128,x=!0,h=o.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Ku(I,!0),I.tail===null&&I.tailMode==="hidden"&&!V.alternate&&!Kt)return Mn(c),null}else 2*Qt()-I.renderingStartTime>sc&&h!==1073741824&&(c.flags|=128,x=!0,Ku(I,!1),c.lanes=4194304);I.isBackwards?(V.sibling=c.child,c.child=V):(h=I.last,h!==null?h.sibling=V:c.child=V,I.last=V)}return I.tail!==null?(c=I.tail,I.rendering=c,I.tail=c.sibling,I.renderingStartTime=Qt(),c.sibling=null,h=en.current,$t(en,x?h&1|2:h&1),c):(Mn(c),null);case 22:case 23:return Wg(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Pr&1073741824)!==0&&(Mn(c),c.subtreeFlags&6&&(c.flags|=8192)):Mn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function lI(o,c){switch(eg(c),c.tag){case 1:return or(c.type)&&Zf(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return nc(),Ht(ir),Ht(On),hg(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return dg(c),null;case 13:if(Ht(en),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Ql()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Ht(en),null;case 4:return nc(),null;case 10:return sg(c.type._context),null;case 22:case 23:return Wg(),null;case 24:return null;default:return null}}var ch=!1,zn=!1,cI=typeof WeakSet=="function"?WeakSet:Set,Je=null;function ic(o,c){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(x){on(o,c,x)}else h.current=null}function Lg(o,c,h){try{h()}catch(x){on(o,c,x)}}var Lx=!1;function uI(o,c){if(We=ba,o=Ru(),Iu(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var T=x.anchorOffset,I=x.focusNode;x=x.focusOffset;try{h.nodeType,I.nodeType}catch{h=null;break e}var V=0,ae=-1,de=-1,Se=0,ze=0,Fe=o,Me=null;t:for(;;){for(var Ge;Fe!==h||T!==0&&Fe.nodeType!==3||(ae=V+T),Fe!==I||x!==0&&Fe.nodeType!==3||(de=V+x),Fe.nodeType===3&&(V+=Fe.nodeValue.length),(Ge=Fe.firstChild)!==null;)Me=Fe,Fe=Ge;for(;;){if(Fe===o)break t;if(Me===h&&++Se===T&&(ae=V),Me===I&&++ze===x&&(de=V),(Ge=Fe.nextSibling)!==null)break;Fe=Me,Me=Fe.parentNode}Fe=Ge}h=ae===-1||de===-1?null:{start:ae,end:de}}else h=null}h=h||{start:0,end:0}}else h=null;for(lt={focusedElem:o,selectionRange:h},ba=!1,Je=c;Je!==null;)if(c=Je,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Je=o;else for(;Je!==null;){c=Je;try{var Xe=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Xe!==null){var et=Xe.memoizedProps,un=Xe.memoizedState,ye=c.stateNode,he=ye.getSnapshotBeforeUpdate(c.elementType===c.type?et:fi(c.type,et),un);ye.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var we=c.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($e){on(c,c.return,$e)}if(o=c.sibling,o!==null){o.return=c.return,Je=o;break}Je=c.return}return Xe=Lx,Lx=!1,Xe}function Gu(o,c,h){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var T=x=x.next;do{if((T.tag&o)===o){var I=T.destroy;T.destroy=void 0,I!==void 0&&Lg(c,h,I)}T=T.next}while(T!==x)}}function uh(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&o)===o){var x=h.create;h.destroy=x()}h=h.next}while(h!==c)}}function Og(o){var c=o.ref;if(c!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof c=="function"?c(o):c.current=o}}function Ox(o){var c=o.alternate;c!==null&&(o.alternate=null,Ox(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[Br],delete c[ds],delete c[fs],delete c[Gm],delete c[Ym])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function jx(o){return o.tag===5||o.tag===3||o.tag===4}function Mx(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||jx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function jg(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(o,c):h.insertBefore(o,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(o,h)):(c=h,c.appendChild(o)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Oe));else if(x!==4&&(o=o.child,o!==null))for(jg(o,c,h),o=o.sibling;o!==null;)jg(o,c,h),o=o.sibling}function Mg(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Mg(o,c,h),o=o.sibling;o!==null;)Mg(o,c,h),o=o.sibling}var Cn=null,hi=!1;function vs(o,c,h){for(h=h.child;h!==null;)zx(o,c,h),h=h.sibling}function zx(o,c,h){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(ga,h)}catch{}switch(h.tag){case 5:zn||ic(h,c);case 6:var x=Cn,T=hi;Cn=null,vs(o,c,h),Cn=x,hi=T,Cn!==null&&(hi?(o=Cn,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Cn.removeChild(h.stateNode));break;case 18:Cn!==null&&(hi?(o=Cn,h=h.stateNode,o.nodeType===8?Bu(o.parentNode,h):o.nodeType===1&&Bu(o,h),_r(o)):Bu(Cn,h.stateNode));break;case 4:x=Cn,T=hi,Cn=h.stateNode.containerInfo,hi=!0,vs(o,c,h),Cn=x,hi=T;break;case 0:case 11:case 14:case 15:if(!zn&&(x=h.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){T=x=x.next;do{var I=T,V=I.destroy;I=I.tag,V!==void 0&&((I&2)!==0||(I&4)!==0)&&Lg(h,c,V),T=T.next}while(T!==x)}vs(o,c,h);break;case 1:if(!zn&&(ic(h,c),x=h.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=h.memoizedProps,x.state=h.memoizedState,x.componentWillUnmount()}catch(ae){on(h,c,ae)}vs(o,c,h);break;case 21:vs(o,c,h);break;case 22:h.mode&1?(zn=(x=zn)||h.memoizedState!==null,vs(o,c,h),zn=x):vs(o,c,h);break;default:vs(o,c,h)}}function Dx(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new cI),c.forEach(function(x){var T=wI.bind(null,o,x);h.has(x)||(h.add(x),x.then(T,T))})}}function pi(o,c){var h=c.deletions;if(h!==null)for(var x=0;x<h.length;x++){var T=h[x];try{var I=o,V=c,ae=V;e:for(;ae!==null;){switch(ae.tag){case 5:Cn=ae.stateNode,hi=!1;break e;case 3:Cn=ae.stateNode.containerInfo,hi=!0;break e;case 4:Cn=ae.stateNode.containerInfo,hi=!0;break e}ae=ae.return}if(Cn===null)throw Error(n(160));zx(I,V,T),Cn=null,hi=!1;var de=T.alternate;de!==null&&(de.return=null),T.return=null}catch(Se){on(T,c,Se)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Bx(c,o),c=c.sibling}function Bx(o,c){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(pi(c,o),zi(o),x&4){try{Gu(3,o,o.return),uh(3,o)}catch(et){on(o,o.return,et)}try{Gu(5,o,o.return)}catch(et){on(o,o.return,et)}}break;case 1:pi(c,o),zi(o),x&512&&h!==null&&ic(h,h.return);break;case 5:if(pi(c,o),zi(o),x&512&&h!==null&&ic(h,h.return),o.flags&32){var T=o.stateNode;try{ne(T,"")}catch(et){on(o,o.return,et)}}if(x&4&&(T=o.stateNode,T!=null)){var I=o.memoizedProps,V=h!==null?h.memoizedProps:I,ae=o.type,de=o.updateQueue;if(o.updateQueue=null,de!==null)try{ae==="input"&&I.type==="radio"&&I.name!=null&&be(T,I),kt(ae,V);var Se=kt(ae,I);for(V=0;V<de.length;V+=2){var ze=de[V],Fe=de[V+1];ze==="style"?dt(T,Fe):ze==="dangerouslySetInnerHTML"?j(T,Fe):ze==="children"?ne(T,Fe):A(T,ze,Fe,Se)}switch(ae){case"input":oe(T,I);break;case"textarea":Ve(T,I);break;case"select":var Me=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!I.multiple;var Ge=I.value;Ge!=null?Le(T,!!I.multiple,Ge,!1):Me!==!!I.multiple&&(I.defaultValue!=null?Le(T,!!I.multiple,I.defaultValue,!0):Le(T,!!I.multiple,I.multiple?[]:"",!1))}T[ds]=I}catch(et){on(o,o.return,et)}}break;case 6:if(pi(c,o),zi(o),x&4){if(o.stateNode===null)throw Error(n(162));T=o.stateNode,I=o.memoizedProps;try{T.nodeValue=I}catch(et){on(o,o.return,et)}}break;case 3:if(pi(c,o),zi(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{_r(c.containerInfo)}catch(et){on(o,o.return,et)}break;case 4:pi(c,o),zi(o);break;case 13:pi(c,o),zi(o),T=o.child,T.flags&8192&&(I=T.memoizedState!==null,T.stateNode.isHidden=I,!I||T.alternate!==null&&T.alternate.memoizedState!==null||(Bg=Qt())),x&4&&Dx(o);break;case 22:if(ze=h!==null&&h.memoizedState!==null,o.mode&1?(zn=(Se=zn)||ze,pi(c,o),zn=Se):pi(c,o),zi(o),x&8192){if(Se=o.memoizedState!==null,(o.stateNode.isHidden=Se)&&!ze&&(o.mode&1)!==0)for(Je=o,ze=o.child;ze!==null;){for(Fe=Je=ze;Je!==null;){switch(Me=Je,Ge=Me.child,Me.tag){case 0:case 11:case 14:case 15:Gu(4,Me,Me.return);break;case 1:ic(Me,Me.return);var Xe=Me.stateNode;if(typeof Xe.componentWillUnmount=="function"){x=Me,h=Me.return;try{c=x,Xe.props=c.memoizedProps,Xe.state=c.memoizedState,Xe.componentWillUnmount()}catch(et){on(x,h,et)}}break;case 5:ic(Me,Me.return);break;case 22:if(Me.memoizedState!==null){$x(Fe);continue}}Ge!==null?(Ge.return=Me,Je=Ge):$x(Fe)}ze=ze.sibling}e:for(ze=null,Fe=o;;){if(Fe.tag===5){if(ze===null){ze=Fe;try{T=Fe.stateNode,Se?(I=T.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(ae=Fe.stateNode,de=Fe.memoizedProps.style,V=de!=null&&de.hasOwnProperty("display")?de.display:null,ae.style.display=Ce("display",V))}catch(et){on(o,o.return,et)}}}else if(Fe.tag===6){if(ze===null)try{Fe.stateNode.nodeValue=Se?"":Fe.memoizedProps}catch(et){on(o,o.return,et)}}else if((Fe.tag!==22&&Fe.tag!==23||Fe.memoizedState===null||Fe===o)&&Fe.child!==null){Fe.child.return=Fe,Fe=Fe.child;continue}if(Fe===o)break e;for(;Fe.sibling===null;){if(Fe.return===null||Fe.return===o)break e;ze===Fe&&(ze=null),Fe=Fe.return}ze===Fe&&(ze=null),Fe.sibling.return=Fe.return,Fe=Fe.sibling}}break;case 19:pi(c,o),zi(o),x&4&&Dx(o);break;case 21:break;default:pi(c,o),zi(o)}}function zi(o){var c=o.flags;if(c&2){try{e:{for(var h=o.return;h!==null;){if(jx(h)){var x=h;break e}h=h.return}throw Error(n(160))}switch(x.tag){case 5:var T=x.stateNode;x.flags&32&&(ne(T,""),x.flags&=-33);var I=Mx(o);Mg(o,I,T);break;case 3:case 4:var V=x.stateNode.containerInfo,ae=Mx(o);jg(o,ae,V);break;default:throw Error(n(161))}}catch(de){on(o,o.return,de)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function dI(o,c,h){Je=o,Fx(o)}function Fx(o,c,h){for(var x=(o.mode&1)!==0;Je!==null;){var T=Je,I=T.child;if(T.tag===22&&x){var V=T.memoizedState!==null||ch;if(!V){var ae=T.alternate,de=ae!==null&&ae.memoizedState!==null||zn;ae=ch;var Se=zn;if(ch=V,(zn=de)&&!Se)for(Je=T;Je!==null;)V=Je,de=V.child,V.tag===22&&V.memoizedState!==null?Zx(T):de!==null?(de.return=V,Je=de):Zx(T);for(;I!==null;)Je=I,Fx(I),I=I.sibling;Je=T,ch=ae,zn=Se}Ux(o)}else(T.subtreeFlags&8772)!==0&&I!==null?(I.return=T,Je=I):Ux(o)}}function Ux(o){for(;Je!==null;){var c=Je;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:zn||uh(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!zn)if(h===null)x.componentDidMount();else{var T=c.elementType===c.type?h.memoizedProps:fi(c.type,h.memoizedProps);x.componentDidUpdate(T,h.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var I=c.updateQueue;I!==null&&$_(c,I,x);break;case 3:var V=c.updateQueue;if(V!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}$_(c,V,h)}break;case 5:var ae=c.stateNode;if(h===null&&c.flags&4){h=ae;var de=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&h.focus();break;case"img":de.src&&(h.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Se=c.alternate;if(Se!==null){var ze=Se.memoizedState;if(ze!==null){var Fe=ze.dehydrated;Fe!==null&&_r(Fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}zn||c.flags&512&&Og(c)}catch(Me){on(c,c.return,Me)}}if(c===o){Je=null;break}if(h=c.sibling,h!==null){h.return=c.return,Je=h;break}Je=c.return}}function $x(o){for(;Je!==null;){var c=Je;if(c===o){Je=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Je=h;break}Je=c.return}}function Zx(o){for(;Je!==null;){var c=Je;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{uh(4,c)}catch(de){on(c,h,de)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var T=c.return;try{x.componentDidMount()}catch(de){on(c,T,de)}}var I=c.return;try{Og(c)}catch(de){on(c,I,de)}break;case 5:var V=c.return;try{Og(c)}catch(de){on(c,V,de)}}}catch(de){on(c,c.return,de)}if(c===o){Je=null;break}var ae=c.sibling;if(ae!==null){ae.return=c.return,Je=ae;break}Je=c.return}}var fI=Math.ceil,dh=z.ReactCurrentDispatcher,zg=z.ReactCurrentOwner,Hr=z.ReactCurrentBatchConfig,At=0,bn=null,pn=null,Pn=0,Pr=0,oc=hs(0),wn=0,Yu=null,Ma=0,fh=0,Dg=0,Ju=null,ar=null,Bg=0,sc=1/0,bo=null,hh=!1,Fg=null,ws=null,ph=!1,_s=null,mh=0,Qu=0,Ug=null,gh=-1,yh=0;function Gn(){return(At&6)!==0?Qt():gh!==-1?gh:gh=Qt()}function xs(o){return(o.mode&1)===0?1:(At&2)!==0&&Pn!==0?Pn&-Pn:GR.transition!==null?(yh===0&&(yh=_f()),yh):(o=Pt,o!==0||(o=window.event,o=o===void 0?16:bt(o.type)),o)}function mi(o,c,h,x){if(50<Qu)throw Qu=0,Ug=null,Error(n(185));vr(o,h,x),((At&2)===0||o!==bn)&&(o===bn&&((At&2)===0&&(fh|=h),wn===4&&bs(o,Pn)),lr(o,x),h===1&&At===0&&(c.mode&1)===0&&(sc=Qt()+500,Wf&&ms()))}function lr(o,c){var h=o.callbackNode;Cl(o,c);var x=Ut(o,o===bn?Pn:0);if(x===0)h!==null&&hu(h),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(h!=null&&hu(h),c===1)o.tag===0?KR(Wx.bind(null,o)):A_(Wx.bind(null,o)),Ln(function(){(At&6)===0&&ms()}),h=null;else{switch(Yo(x)){case 1:h=pu;break;case 4:h=wf;break;case 16:h=Sl;break;case 536870912:h=Vo;break;default:h=Sl}h=Xx(h,Hx.bind(null,o))}o.callbackPriority=c,o.callbackNode=h}}function Hx(o,c){if(gh=-1,yh=0,(At&6)!==0)throw Error(n(327));var h=o.callbackNode;if(ac()&&o.callbackNode!==h)return null;var x=Ut(o,o===bn?Pn:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=vh(o,x);else{c=x;var T=At;At|=2;var I=qx();(bn!==o||Pn!==c)&&(bo=null,sc=Qt()+500,Da(o,c));do try{mI();break}catch(ae){Vx(o,ae)}while(!0);og(),dh.current=I,At=T,pn!==null?c=0:(bn=null,Pn=0,c=wn)}if(c!==0){if(c===2&&(T=Rn(o),T!==0&&(x=T,c=$g(o,T))),c===1)throw h=Yu,Da(o,0),bs(o,x),lr(o,Qt()),h;if(c===6)bs(o,x);else{if(T=o.current.alternate,(x&30)===0&&!hI(T)&&(c=vh(o,x),c===2&&(I=Rn(o),I!==0&&(x=I,c=$g(o,I))),c===1))throw h=Yu,Da(o,0),bs(o,x),lr(o,Qt()),h;switch(o.finishedWork=T,o.finishedLanes=x,c){case 0:case 1:throw Error(n(345));case 2:Ba(o,ar,bo);break;case 3:if(bs(o,x),(x&130023424)===x&&(c=Bg+500-Qt(),10<c)){if(Ut(o,0)!==0)break;if(T=o.suspendedLanes,(T&x)!==x){Gn(),o.pingedLanes|=o.suspendedLanes&T;break}o.timeoutHandle=yn(Ba.bind(null,o,ar,bo),c);break}Ba(o,ar,bo);break;case 4:if(bs(o,x),(x&4194240)===x)break;for(c=o.eventTimes,T=-1;0<x;){var V=31-gt(x);I=1<<V,V=c[V],V>T&&(T=V),x&=~I}if(x=T,x=Qt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*fI(x/1960))-x,10<x){o.timeoutHandle=yn(Ba.bind(null,o,ar,bo),x);break}Ba(o,ar,bo);break;case 5:Ba(o,ar,bo);break;default:throw Error(n(329))}}}return lr(o,Qt()),o.callbackNode===h?Hx.bind(null,o):null}function $g(o,c){var h=Ju;return o.current.memoizedState.isDehydrated&&(Da(o,c).flags|=256),o=vh(o,c),o!==2&&(c=ar,ar=h,c!==null&&Zg(c)),o}function Zg(o){ar===null?ar=o:ar.push.apply(ar,o)}function hI(o){for(var c=o;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var x=0;x<h.length;x++){var T=h[x],I=T.getSnapshot;T=T.value;try{if(!Er(I(),T))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function bs(o,c){for(c&=~Dg,c&=~fh,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var h=31-gt(c),x=1<<h;o[h]=-1,c&=~x}}function Wx(o){if((At&6)!==0)throw Error(n(327));ac();var c=Ut(o,0);if((c&1)===0)return lr(o,Qt()),null;var h=vh(o,c);if(o.tag!==0&&h===2){var x=Rn(o);x!==0&&(c=x,h=$g(o,x))}if(h===1)throw h=Yu,Da(o,0),bs(o,c),lr(o,Qt()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,Ba(o,ar,bo),lr(o,Qt()),null}function Hg(o,c){var h=At;At|=1;try{return o(c)}finally{At=h,At===0&&(sc=Qt()+500,Wf&&ms())}}function za(o){_s!==null&&_s.tag===0&&(At&6)===0&&ac();var c=At;At|=1;var h=Hr.transition,x=Pt;try{if(Hr.transition=null,Pt=1,o)return o()}finally{Pt=x,Hr.transition=h,At=c,(At&6)===0&&ms()}}function Wg(){Pr=oc.current,Ht(oc)}function Da(o,c){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,hn(h)),pn!==null)for(h=pn.return;h!==null;){var x=h;switch(eg(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Zf();break;case 3:nc(),Ht(ir),Ht(On),hg();break;case 5:dg(x);break;case 4:nc();break;case 13:Ht(en);break;case 19:Ht(en);break;case 10:sg(x.type._context);break;case 22:case 23:Wg()}h=h.return}if(bn=o,pn=o=Es(o.current,null),Pn=Pr=c,wn=0,Yu=null,Dg=fh=Ma=0,ar=Ju=null,La!==null){for(c=0;c<La.length;c++)if(h=La[c],x=h.interleaved,x!==null){h.interleaved=null;var T=x.next,I=h.pending;if(I!==null){var V=I.next;I.next=T,x.next=V}h.pending=x}La=null}return o}function Vx(o,c){do{var h=pn;try{if(og(),th.current=oh,nh){for(var x=tn.memoizedState;x!==null;){var T=x.queue;T!==null&&(T.pending=null),x=x.next}nh=!1}if(ja=0,xn=vn=tn=null,Hu=!1,Wu=0,zg.current=null,h===null||h.return===null){wn=1,Yu=c,pn=null;break}e:{var I=o,V=h.return,ae=h,de=c;if(c=Pn,ae.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Se=de,ze=ae,Fe=ze.tag;if((ze.mode&1)===0&&(Fe===0||Fe===11||Fe===15)){var Me=ze.alternate;Me?(ze.updateQueue=Me.updateQueue,ze.memoizedState=Me.memoizedState,ze.lanes=Me.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var Ge=yx(V);if(Ge!==null){Ge.flags&=-257,vx(Ge,V,ae,I,c),Ge.mode&1&&gx(I,Se,c),c=Ge,de=Se;var Xe=c.updateQueue;if(Xe===null){var et=new Set;et.add(de),c.updateQueue=et}else Xe.add(de);break e}else{if((c&1)===0){gx(I,Se,c),Vg();break e}de=Error(n(426))}}else if(Kt&&ae.mode&1){var un=yx(V);if(un!==null){(un.flags&65536)===0&&(un.flags|=256),vx(un,V,ae,I,c),rg(rc(de,ae));break e}}I=de=rc(de,ae),wn!==4&&(wn=2),Ju===null?Ju=[I]:Ju.push(I),I=V;do{switch(I.tag){case 3:I.flags|=65536,c&=-c,I.lanes|=c;var ye=px(I,de,c);U_(I,ye);break e;case 1:ae=de;var he=I.type,we=I.stateNode;if((I.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(ws===null||!ws.has(we)))){I.flags|=65536,c&=-c,I.lanes|=c;var $e=mx(I,ae,c);U_(I,$e);break e}}I=I.return}while(I!==null)}Gx(h)}catch(rt){c=rt,pn===h&&h!==null&&(pn=h=h.return);continue}break}while(!0)}function qx(){var o=dh.current;return dh.current=oh,o===null?oh:o}function Vg(){(wn===0||wn===3||wn===2)&&(wn=4),bn===null||(Ma&268435455)===0&&(fh&268435455)===0||bs(bn,Pn)}function vh(o,c){var h=At;At|=2;var x=qx();(bn!==o||Pn!==c)&&(bo=null,Da(o,c));do try{pI();break}catch(T){Vx(o,T)}while(!0);if(og(),At=h,dh.current=x,pn!==null)throw Error(n(261));return bn=null,Pn=0,wn}function pI(){for(;pn!==null;)Kx(pn)}function mI(){for(;pn!==null&&!Lm();)Kx(pn)}function Kx(o){var c=Qx(o.alternate,o,Pr);o.memoizedProps=o.pendingProps,c===null?Gx(o):pn=c,zg.current=null}function Gx(o){var c=o;do{var h=c.alternate;if(o=c.return,(c.flags&32768)===0){if(h=aI(h,c,Pr),h!==null){pn=h;return}}else{if(h=lI(h,c),h!==null){h.flags&=32767,pn=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{wn=6,pn=null;return}}if(c=c.sibling,c!==null){pn=c;return}pn=c=o}while(c!==null);wn===0&&(wn=5)}function Ba(o,c,h){var x=Pt,T=Hr.transition;try{Hr.transition=null,Pt=1,gI(o,c,h,x)}finally{Hr.transition=T,Pt=x}return null}function gI(o,c,h,x){do ac();while(_s!==null);if((At&6)!==0)throw Error(n(327));h=o.finishedWork;var T=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var I=h.lanes|h.childLanes;if(rn(o,I),o===bn&&(pn=bn=null,Pn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||ph||(ph=!0,Xx(Sl,function(){return ac(),null})),I=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||I){I=Hr.transition,Hr.transition=null;var V=Pt;Pt=1;var ae=At;At|=4,zg.current=null,uI(o,h),Bx(h,o),zr(lt),ba=!!We,lt=We=null,o.current=h,dI(h),El(),At=ae,Pt=V,Hr.transition=I}else o.current=h;if(ph&&(ph=!1,_s=o,mh=T),I=o.pendingLanes,I===0&&(ws=null),ya(h.stateNode),lr(o,Qt()),c!==null)for(x=o.onRecoverableError,h=0;h<c.length;h++)T=c[h],x(T.value,{componentStack:T.stack,digest:T.digest});if(hh)throw hh=!1,o=Fg,Fg=null,o;return(mh&1)!==0&&o.tag!==0&&ac(),I=o.pendingLanes,(I&1)!==0?o===Ug?Qu++:(Qu=0,Ug=o):Qu=0,ms(),null}function ac(){if(_s!==null){var o=Yo(mh),c=Hr.transition,h=Pt;try{if(Hr.transition=null,Pt=16>o?16:o,_s===null)var x=!1;else{if(o=_s,_s=null,mh=0,(At&6)!==0)throw Error(n(331));var T=At;for(At|=4,Je=o.current;Je!==null;){var I=Je,V=I.child;if((Je.flags&16)!==0){var ae=I.deletions;if(ae!==null){for(var de=0;de<ae.length;de++){var Se=ae[de];for(Je=Se;Je!==null;){var ze=Je;switch(ze.tag){case 0:case 11:case 15:Gu(8,ze,I)}var Fe=ze.child;if(Fe!==null)Fe.return=ze,Je=Fe;else for(;Je!==null;){ze=Je;var Me=ze.sibling,Ge=ze.return;if(Ox(ze),ze===Se){Je=null;break}if(Me!==null){Me.return=Ge,Je=Me;break}Je=Ge}}}var Xe=I.alternate;if(Xe!==null){var et=Xe.child;if(et!==null){Xe.child=null;do{var un=et.sibling;et.sibling=null,et=un}while(et!==null)}}Je=I}}if((I.subtreeFlags&2064)!==0&&V!==null)V.return=I,Je=V;else e:for(;Je!==null;){if(I=Je,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:Gu(9,I,I.return)}var ye=I.sibling;if(ye!==null){ye.return=I.return,Je=ye;break e}Je=I.return}}var he=o.current;for(Je=he;Je!==null;){V=Je;var we=V.child;if((V.subtreeFlags&2064)!==0&&we!==null)we.return=V,Je=we;else e:for(V=he;Je!==null;){if(ae=Je,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:uh(9,ae)}}catch(rt){on(ae,ae.return,rt)}if(ae===V){Je=null;break e}var $e=ae.sibling;if($e!==null){$e.return=ae.return,Je=$e;break e}Je=ae.return}}if(At=T,ms(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(ga,o)}catch{}x=!0}return x}finally{Pt=h,Hr.transition=c}}return!1}function Yx(o,c,h){c=rc(h,c),c=px(o,c,1),o=ys(o,c,1),c=Gn(),o!==null&&(vr(o,1,c),lr(o,c))}function on(o,c,h){if(o.tag===3)Yx(o,o,h);else for(;c!==null;){if(c.tag===3){Yx(c,o,h);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(ws===null||!ws.has(x))){o=rc(h,o),o=mx(c,o,1),c=ys(c,o,1),o=Gn(),c!==null&&(vr(c,1,o),lr(c,o));break}}c=c.return}}function yI(o,c,h){var x=o.pingCache;x!==null&&x.delete(c),c=Gn(),o.pingedLanes|=o.suspendedLanes&h,bn===o&&(Pn&h)===h&&(wn===4||wn===3&&(Pn&130023424)===Pn&&500>Qt()-Bg?Da(o,0):Dg|=h),lr(o,c)}function Jx(o,c){c===0&&((o.mode&1)===0?c=1:(c=Ko,Ko<<=1,(Ko&130023424)===0&&(Ko=4194304)));var h=Gn();o=wo(o,c),o!==null&&(vr(o,c,h),lr(o,h))}function vI(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),Jx(o,h)}function wI(o,c){var h=0;switch(o.tag){case 13:var x=o.stateNode,T=o.memoizedState;T!==null&&(h=T.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(c),Jx(o,h)}var Qx;Qx=function(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps||ir.current)sr=!0;else{if((o.lanes&h)===0&&(c.flags&128)===0)return sr=!1,sI(o,c,h);sr=(o.flags&131072)!==0}else sr=!1,Kt&&(c.flags&1048576)!==0&&R_(c,qf,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;lh(o,c),o=c.pendingProps;var T=Gl(c,On.current);tc(c,h),T=gg(null,c,x,o,T,h);var I=yg();return c.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,or(x)?(I=!0,Hf(c)):I=!1,c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,cg(c),T.updater=sh,c.stateNode=T,T._reactInternals=c,Eg(c,x,o,h),c=Pg(null,c,x,!0,I,h)):(c.tag=0,Kt&&I&&Xm(c),Kn(null,c,T,h),c=c.child),c;case 16:x=c.elementType;e:{switch(lh(o,c),o=c.pendingProps,T=x._init,x=T(x._payload),c.type=x,T=c.tag=xI(x),o=fi(x,o),T){case 0:c=Cg(null,c,x,o,h);break e;case 1:c=Sx(null,c,x,o,h);break e;case 11:c=wx(null,c,x,o,h);break e;case 14:c=_x(null,c,x,fi(x.type,o),h);break e}throw Error(n(306,x,""))}return c;case 0:return x=c.type,T=c.pendingProps,T=c.elementType===x?T:fi(x,T),Cg(o,c,x,T,h);case 1:return x=c.type,T=c.pendingProps,T=c.elementType===x?T:fi(x,T),Sx(o,c,x,T,h);case 3:e:{if(kx(c),o===null)throw Error(n(387));x=c.pendingProps,I=c.memoizedState,T=I.element,F_(o,c),Xf(c,x,null,h);var V=c.memoizedState;if(x=V.element,I.isDehydrated)if(I={element:x,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},c.updateQueue.baseState=I,c.memoizedState=I,c.flags&256){T=rc(Error(n(423)),c),c=Cx(o,c,x,h,T);break e}else if(x!==T){T=rc(Error(n(424)),c),c=Cx(o,c,x,h,T);break e}else for(Cr=Oi(c.stateNode.containerInfo.firstChild),kr=c,Kt=!0,di=null,h=D_(c,null,x,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ql(),x===T){c=xo(o,c,h);break e}Kn(o,c,x,h)}c=c.child}return c;case 5:return Z_(c),o===null&&ng(c),x=c.type,T=c.pendingProps,I=o!==null?o.memoizedProps:null,V=T.children,vt(x,T)?V=null:I!==null&&vt(x,I)&&(c.flags|=32),Ex(o,c),Kn(o,c,V,h),c.child;case 6:return o===null&&ng(c),null;case 13:return Px(o,c,h);case 4:return ug(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=Xl(c,null,x,h):Kn(o,c,x,h),c.child;case 11:return x=c.type,T=c.pendingProps,T=c.elementType===x?T:fi(x,T),wx(o,c,x,T,h);case 7:return Kn(o,c,c.pendingProps,h),c.child;case 8:return Kn(o,c,c.pendingProps.children,h),c.child;case 12:return Kn(o,c,c.pendingProps.children,h),c.child;case 10:e:{if(x=c.type._context,T=c.pendingProps,I=c.memoizedProps,V=T.value,$t(Yf,x._currentValue),x._currentValue=V,I!==null)if(Er(I.value,V)){if(I.children===T.children&&!ir.current){c=xo(o,c,h);break e}}else for(I=c.child,I!==null&&(I.return=c);I!==null;){var ae=I.dependencies;if(ae!==null){V=I.child;for(var de=ae.firstContext;de!==null;){if(de.context===x){if(I.tag===1){de=_o(-1,h&-h),de.tag=2;var Se=I.updateQueue;if(Se!==null){Se=Se.shared;var ze=Se.pending;ze===null?de.next=de:(de.next=ze.next,ze.next=de),Se.pending=de}}I.lanes|=h,de=I.alternate,de!==null&&(de.lanes|=h),ag(I.return,h,c),ae.lanes|=h;break}de=de.next}}else if(I.tag===10)V=I.type===c.type?null:I.child;else if(I.tag===18){if(V=I.return,V===null)throw Error(n(341));V.lanes|=h,ae=V.alternate,ae!==null&&(ae.lanes|=h),ag(V,h,c),V=I.sibling}else V=I.child;if(V!==null)V.return=I;else for(V=I;V!==null;){if(V===c){V=null;break}if(I=V.sibling,I!==null){I.return=V.return,V=I;break}V=V.return}I=V}Kn(o,c,T.children,h),c=c.child}return c;case 9:return T=c.type,x=c.pendingProps.children,tc(c,h),T=$r(T),x=x(T),c.flags|=1,Kn(o,c,x,h),c.child;case 14:return x=c.type,T=fi(x,c.pendingProps),T=fi(x.type,T),_x(o,c,x,T,h);case 15:return xx(o,c,c.type,c.pendingProps,h);case 17:return x=c.type,T=c.pendingProps,T=c.elementType===x?T:fi(x,T),lh(o,c),c.tag=1,or(x)?(o=!0,Hf(c)):o=!1,tc(c,h),fx(c,x,T),Eg(c,x,T,h),Pg(null,c,x,!0,o,h);case 19:return Nx(o,c,h);case 22:return bx(o,c,h)}throw Error(n(156,c.tag))};function Xx(o,c){return vf(o,c)}function _I(o,c,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(o,c,h,x){return new _I(o,c,h,x)}function qg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function xI(o){if(typeof o=="function")return qg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===U)return 11;if(o===K)return 14}return 2}function Es(o,c){var h=o.alternate;return h===null?(h=Wr(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function wh(o,c,h,x,T,I){var V=2;if(x=o,typeof o=="function")qg(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case H:return Fa(h.children,T,I,c);case q:V=8,T|=8;break;case F:return o=Wr(12,h,c,T|2),o.elementType=F,o.lanes=I,o;case X:return o=Wr(13,h,c,T),o.elementType=X,o.lanes=I,o;case O:return o=Wr(19,h,c,T),o.elementType=O,o.lanes=I,o;case ie:return _h(h,T,I,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case W:V=10;break e;case J:V=9;break e;case U:V=11;break e;case K:V=14;break e;case se:V=16,x=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return c=Wr(V,h,c,T),c.elementType=o,c.type=x,c.lanes=I,c}function Fa(o,c,h,x){return o=Wr(7,o,x,c),o.lanes=h,o}function _h(o,c,h,x){return o=Wr(22,o,x,c),o.elementType=ie,o.lanes=h,o.stateNode={isHidden:!1},o}function Kg(o,c,h){return o=Wr(6,o,null,c),o.lanes=h,o}function Gg(o,c,h){return c=Wr(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function bI(o,c,h,x,T){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Go(0),this.expirationTimes=Go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Go(0),this.identifierPrefix=x,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Yg(o,c,h,x,T,I,V,ae,de){return o=new bI(o,c,h,ae,de),c===1?(c=1,I===!0&&(c|=8)):c=0,I=Wr(3,null,null,c),o.current=I,I.stateNode=o,I.memoizedState={element:x,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},cg(I),o}function EI(o,c,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:x==null?null:""+x,children:o,containerInfo:c,implementation:h}}function eb(o){if(!o)return ps;o=o._reactInternals;e:{if(Ci(o)!==o||o.tag!==1)throw Error(n(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(or(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(or(h))return T_(o,h,c)}return c}function tb(o,c,h,x,T,I,V,ae,de){return o=Yg(h,x,!0,o,T,I,V,ae,de),o.context=eb(null),h=o.current,x=Gn(),T=xs(h),I=_o(x,T),I.callback=c??null,ys(h,I,T),o.current.lanes=T,vr(o,T,x),lr(o,x),o}function xh(o,c,h,x){var T=c.current,I=Gn(),V=xs(T);return h=eb(h),c.context===null?c.context=h:c.pendingContext=h,c=_o(I,V),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=ys(T,c,V),o!==null&&(mi(o,T,V,I),Qf(o,T,V)),V}function bh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function nb(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Jg(o,c){nb(o,c),(o=o.alternate)&&nb(o,c)}function SI(){return null}var rb=typeof reportError=="function"?reportError:function(o){console.error(o)};function Qg(o){this._internalRoot=o}Eh.prototype.render=Qg.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));xh(o,c,null,null)},Eh.prototype.unmount=Qg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;za(function(){xh(null,o,null,null)}),c[jt]=null}};function Eh(o){this._internalRoot=o}Eh.prototype.unstable_scheduleHydration=function(o){if(o){var c=Nl();o={blockedOn:null,target:o,priority:c};for(var h=0;h<gn.length&&c!==0&&c<gn[h].priority;h++);gn.splice(h,0,o),h===0&&Al(o)}};function Xg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Sh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ib(){}function kI(o,c,h,x,T){if(T){if(typeof x=="function"){var I=x;x=function(){var Se=bh(V);I.call(Se)}}var V=tb(c,x,o,0,null,!1,!1,"",ib);return o._reactRootContainer=V,o[jt]=V.current,cs(o.nodeType===8?o.parentNode:o),za(),V}for(;T=o.lastChild;)o.removeChild(T);if(typeof x=="function"){var ae=x;x=function(){var Se=bh(de);ae.call(Se)}}var de=Yg(o,0,!1,null,null,!1,!1,"",ib);return o._reactRootContainer=de,o[jt]=de.current,cs(o.nodeType===8?o.parentNode:o),za(function(){xh(c,de,h,x)}),de}function kh(o,c,h,x,T){var I=h._reactRootContainer;if(I){var V=I;if(typeof T=="function"){var ae=T;T=function(){var de=bh(V);ae.call(de)}}xh(c,V,o,T)}else V=kI(h,c,o,T,x);return bh(V)}Pl=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var h=pt(c.pendingLanes);h!==0&&(si(c,h|1),lr(c,Qt()),(At&6)===0&&(sc=Qt()+500,ms()))}break;case 13:za(function(){var x=wo(o,1);if(x!==null){var T=Gn();mi(x,o,1,T)}}),Jg(o,1)}},ro=function(o){if(o.tag===13){var c=wo(o,134217728);if(c!==null){var h=Gn();mi(c,o,134217728,h)}Jg(o,134217728)}},Tl=function(o){if(o.tag===13){var c=xs(o),h=wo(o,c);if(h!==null){var x=Gn();mi(h,o,c,x)}Jg(o,c)}},Nl=function(){return Pt},va=function(o,c){var h=Pt;try{return Pt=o,c()}finally{Pt=h}},Wo=function(o,c,h){switch(c){case"input":if(oe(o,h),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var x=h[c];if(x!==o&&x.form===o.form){var T=ql(x);if(!T)throw Error(n(90));ot(x),oe(x,T)}}}break;case"textarea":Ve(o,h);break;case"select":c=h.value,c!=null&&Le(o,!!h.multiple,c,!1)}},ff=Hg,hf=za;var CI={usingClientEntryPoint:!1,Events:[po,mo,ql,uf,df,Hg]},Xu={findFiberByHostInstance:ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PI={bundleType:Xu.bundleType,version:Xu.version,rendererPackageName:Xu.rendererPackageName,rendererConfig:Xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=gf(o),o===null?null:o.stateNode},findFiberByHostInstance:Xu.findFiberByHostInstance||SI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{ga=Ch.inject(PI),yr=Ch}catch{}}return cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CI,cr.createPortal=function(o,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xg(c))throw Error(n(200));return EI(o,c,null,h)},cr.createRoot=function(o,c){if(!Xg(o))throw Error(n(299));var h=!1,x="",T=rb;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),c=Yg(o,1,!1,null,null,h,!1,x,T),o[jt]=c.current,cs(o.nodeType===8?o.parentNode:o),new Qg(c)},cr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=gf(c),o=o===null?null:o.stateNode,o},cr.flushSync=function(o){return za(o)},cr.hydrate=function(o,c,h){if(!Sh(c))throw Error(n(200));return kh(null,o,c,!0,h)},cr.hydrateRoot=function(o,c,h){if(!Xg(o))throw Error(n(405));var x=h!=null&&h.hydratedSources||null,T=!1,I="",V=rb;if(h!=null&&(h.unstable_strictMode===!0&&(T=!0),h.identifierPrefix!==void 0&&(I=h.identifierPrefix),h.onRecoverableError!==void 0&&(V=h.onRecoverableError)),c=tb(c,null,o,1,h??null,T,!1,I,V),o[jt]=c.current,cs(o),x)for(o=0;o<x.length;o++)h=x[o],T=h._getVersion,T=T(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,T]:c.mutableSourceEagerHydrationData.push(h,T);return new Eh(c)},cr.render=function(o,c,h){if(!Sh(c))throw Error(n(200));return kh(null,o,c,!1,h)},cr.unmountComponentAtNode=function(o){if(!Sh(o))throw Error(n(40));return o._reactRootContainer?(za(function(){kh(null,null,o,!1,function(){o._reactRootContainer=null,o[jt]=null})}),!0):!1},cr.unstable_batchedUpdates=Hg,cr.unstable_renderSubtreeIntoContainer=function(o,c,h,x){if(!Sh(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return kh(o,c,h,!1,x)},cr.version="18.3.1-next-f1338f8080-20240426",cr}var hb;function w2(){if(hb)return ry.exports;hb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ry.exports=zI(),ry.exports}var pb;function DI(){if(pb)return Nh;pb=1;var e=w2();return Nh.createRoot=e.createRoot,Nh.hydrateRoot=e.hydrateRoot,Nh}var BI=DI(),sy={},td={},mb;function FI(){if(mb)return td;mb=1,td.byteLength=u,td.toByteArray=p,td.fromByteArray=b;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function l(_){var S=_.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=_.indexOf("=");v===-1&&(v=S);var E=v===S?0:4-v%4;return[v,E]}function u(_){var S=l(_),v=S[0],E=S[1];return(v+E)*3/4-E}function d(_,S,v){return(S+v)*3/4-v}function p(_){var S,v=l(_),E=v[0],k=v[1],N=new n(d(_,E,k)),A=0,z=k>0?E-4:E,D;for(D=0;D<z;D+=4)S=t[_.charCodeAt(D)]<<18|t[_.charCodeAt(D+1)]<<12|t[_.charCodeAt(D+2)]<<6|t[_.charCodeAt(D+3)],N[A++]=S>>16&255,N[A++]=S>>8&255,N[A++]=S&255;return k===2&&(S=t[_.charCodeAt(D)]<<2|t[_.charCodeAt(D+1)]>>4,N[A++]=S&255),k===1&&(S=t[_.charCodeAt(D)]<<10|t[_.charCodeAt(D+1)]<<4|t[_.charCodeAt(D+2)]>>2,N[A++]=S>>8&255,N[A++]=S&255),N}function g(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function m(_,S,v){for(var E,k=[],N=S;N<v;N+=3)E=(_[N]<<16&16711680)+(_[N+1]<<8&65280)+(_[N+2]&255),k.push(g(E));return k.join("")}function b(_){for(var S,v=_.length,E=v%3,k=[],N=16383,A=0,z=v-E;A<z;A+=N)k.push(m(_,A,A+N>z?z:A+N));return E===1?(S=_[v-1],k.push(e[S>>2]+e[S<<4&63]+"==")):E===2&&(S=(_[v-2]<<8)+_[v-1],k.push(e[S>>10]+e[S>>4&63]+e[S<<2&63]+"=")),k.join("")}return td}var Ah={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var gb;function UI(){return gb||(gb=1,Ah.read=function(e,t,n,r,i){var s,l,u=i*8-r-1,d=(1<<u)-1,p=d>>1,g=-7,m=n?i-1:0,b=n?-1:1,_=e[t+m];for(m+=b,s=_&(1<<-g)-1,_>>=-g,g+=u;g>0;s=s*256+e[t+m],m+=b,g-=8);for(l=s&(1<<-g)-1,s>>=-g,g+=r;g>0;l=l*256+e[t+m],m+=b,g-=8);if(s===0)s=1-p;else{if(s===d)return l?NaN:(_?-1:1)*(1/0);l=l+Math.pow(2,r),s=s-p}return(_?-1:1)*l*Math.pow(2,s-r)},Ah.write=function(e,t,n,r,i,s){var l,u,d,p=s*8-i-1,g=(1<<p)-1,m=g>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=r?0:s-1,S=r?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,l=g):(l=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+m>=1?t+=b/d:t+=b*Math.pow(2,1-m),t*d>=2&&(l++,d/=2),l+m>=g?(u=0,l=g):l+m>=1?(u=(t*d-1)*Math.pow(2,i),l=l+m):(u=t*Math.pow(2,m-1)*Math.pow(2,i),l=0));i>=8;e[n+_]=u&255,_+=S,u/=256,i-=8);for(l=l<<i|u,p+=i;p>0;e[n+_]=l&255,_+=S,l/=256,p-=8);e[n+_-S]|=v*128}),Ah}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var yb;function $I(){return yb||(yb=1,function(e){const t=FI(),n=UI(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=s(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const G=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(G,R),G.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(G){if(G>i)throw new RangeError('The value "'+G+'" is invalid for option "size"');const R=new Uint8Array(G);return Object.setPrototypeOf(R,u.prototype),R}function u(G,R,j){if(typeof G=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(G)}return d(G,R,j)}u.poolSize=8192;function d(G,R,j){if(typeof G=="string")return b(G,R);if(ArrayBuffer.isView(G))return S(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(me(G,ArrayBuffer)||G&&me(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(G,SharedArrayBuffer)||G&&me(G.buffer,SharedArrayBuffer)))return v(G,R,j);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=G.valueOf&&G.valueOf();if(ne!=null&&ne!==G)return u.from(ne,R,j);const fe=E(G);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return u.from(G[Symbol.toPrimitive]("string"),R,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}u.from=function(G,R,j){return d(G,R,j)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function g(G,R,j){return p(G),G<=0?l(G):R!==void 0?typeof j=="string"?l(G).fill(R,j):l(G).fill(R):l(G)}u.alloc=function(G,R,j){return g(G,R,j)};function m(G){return p(G),l(G<0?0:k(G)|0)}u.allocUnsafe=function(G){return m(G)},u.allocUnsafeSlow=function(G){return m(G)};function b(G,R){if((typeof R!="string"||R==="")&&(R="utf8"),!u.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const j=A(G,R)|0;let ne=l(j);const fe=ne.write(G,R);return fe!==j&&(ne=ne.slice(0,fe)),ne}function _(G){const R=G.length<0?0:k(G.length)|0,j=l(R);for(let ne=0;ne<R;ne+=1)j[ne]=G[ne]&255;return j}function S(G){if(me(G,Uint8Array)){const R=new Uint8Array(G);return v(R.buffer,R.byteOffset,R.byteLength)}return _(G)}function v(G,R,j){if(R<0||G.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<R+(j||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return R===void 0&&j===void 0?ne=new Uint8Array(G):j===void 0?ne=new Uint8Array(G,R):ne=new Uint8Array(G,R,j),Object.setPrototypeOf(ne,u.prototype),ne}function E(G){if(u.isBuffer(G)){const R=k(G.length)|0,j=l(R);return j.length===0||G.copy(j,0,0,R),j}if(G.length!==void 0)return typeof G.length!="number"||Be(G.length)?l(0):_(G);if(G.type==="Buffer"&&Array.isArray(G.data))return _(G.data)}function k(G){if(G>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return G|0}function N(G){return+G!=G&&(G=0),u.alloc(+G)}u.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==u.prototype},u.compare=function(R,j){if(me(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),me(j,Uint8Array)&&(j=u.from(j,j.offset,j.byteLength)),!u.isBuffer(R)||!u.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===j)return 0;let ne=R.length,fe=j.length;for(let xe=0,Ce=Math.min(ne,fe);xe<Ce;++xe)if(R[xe]!==j[xe]){ne=R[xe],fe=j[xe];break}return ne<fe?-1:fe<ne?1:0},u.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(R,j){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return u.alloc(0);let ne;if(j===void 0)for(j=0,ne=0;ne<R.length;++ne)j+=R[ne].length;const fe=u.allocUnsafe(j);let xe=0;for(ne=0;ne<R.length;++ne){let Ce=R[ne];if(me(Ce,Uint8Array))xe+Ce.length>fe.length?(u.isBuffer(Ce)||(Ce=u.from(Ce)),Ce.copy(fe,xe)):Uint8Array.prototype.set.call(fe,Ce,xe);else if(u.isBuffer(Ce))Ce.copy(fe,xe);else throw new TypeError('"list" argument must be an Array of Buffers');xe+=Ce.length}return fe};function A(G,R){if(u.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||me(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const j=G.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&j===0)return 0;let fe=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return oe(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j*2;case"hex":return j>>>1;case"base64":return Re(G).length;default:if(fe)return ne?-1:oe(G).length;R=(""+R).toLowerCase(),fe=!0}}u.byteLength=A;function z(G,R,j){let ne=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0,R>>>=0,j<=R))return"";for(G||(G="utf8");;)switch(G){case"hex":return ee(this,R,j);case"utf8":case"utf-8":return O(this,R,j);case"ascii":return ie(this,R,j);case"latin1":case"binary":return te(this,R,j);case"base64":return X(this,R,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,R,j);default:if(ne)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),ne=!0}}u.prototype._isBuffer=!0;function D(G,R,j){const ne=G[R];G[R]=G[j],G[j]=ne}u.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let j=0;j<R;j+=2)D(this,j,j+1);return this},u.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let j=0;j<R;j+=4)D(this,j,j+3),D(this,j+1,j+2);return this},u.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let j=0;j<R;j+=8)D(this,j,j+7),D(this,j+1,j+6),D(this,j+2,j+5),D(this,j+3,j+4);return this},u.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?O(this,0,R):z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(R){if(!u.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:u.compare(this,R)===0},u.prototype.inspect=function(){let R="";const j=e.INSPECT_MAX_BYTES;return R=this.toString("hex",0,j).replace(/(.{2})/g,"$1 ").trim(),this.length>j&&(R+=" ... "),"<Buffer "+R+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(R,j,ne,fe,xe){if(me(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),!u.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(j===void 0&&(j=0),ne===void 0&&(ne=R?R.length:0),fe===void 0&&(fe=0),xe===void 0&&(xe=this.length),j<0||ne>R.length||fe<0||xe>this.length)throw new RangeError("out of range index");if(fe>=xe&&j>=ne)return 0;if(fe>=xe)return-1;if(j>=ne)return 1;if(j>>>=0,ne>>>=0,fe>>>=0,xe>>>=0,this===R)return 0;let Ce=xe-fe,dt=ne-j;const Lt=Math.min(Ce,dt),_t=this.slice(fe,xe),kt=R.slice(j,ne);for(let Ct=0;Ct<Lt;++Ct)if(_t[Ct]!==kt[Ct]){Ce=_t[Ct],dt=kt[Ct];break}return Ce<dt?-1:dt<Ce?1:0};function Z(G,R,j,ne,fe){if(G.length===0)return-1;if(typeof j=="string"?(ne=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,Be(j)&&(j=fe?0:G.length-1),j<0&&(j=G.length+j),j>=G.length){if(fe)return-1;j=G.length-1}else if(j<0)if(fe)j=0;else return-1;if(typeof R=="string"&&(R=u.from(R,ne)),u.isBuffer(R))return R.length===0?-1:H(G,R,j,ne,fe);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(G,R,j):Uint8Array.prototype.lastIndexOf.call(G,R,j):H(G,[R],j,ne,fe);throw new TypeError("val must be string, number or Buffer")}function H(G,R,j,ne,fe){let xe=1,Ce=G.length,dt=R.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(G.length<2||R.length<2)return-1;xe=2,Ce/=2,dt/=2,j/=2}function Lt(kt,Ct){return xe===1?kt[Ct]:kt.readUInt16BE(Ct*xe)}let _t;if(fe){let kt=-1;for(_t=j;_t<Ce;_t++)if(Lt(G,_t)===Lt(R,kt===-1?0:_t-kt)){if(kt===-1&&(kt=_t),_t-kt+1===dt)return kt*xe}else kt!==-1&&(_t-=_t-kt),kt=-1}else for(j+dt>Ce&&(j=Ce-dt),_t=j;_t>=0;_t--){let kt=!0;for(let Ct=0;Ct<dt;Ct++)if(Lt(G,_t+Ct)!==Lt(R,Ct)){kt=!1;break}if(kt)return _t}return-1}u.prototype.includes=function(R,j,ne){return this.indexOf(R,j,ne)!==-1},u.prototype.indexOf=function(R,j,ne){return Z(this,R,j,ne,!0)},u.prototype.lastIndexOf=function(R,j,ne){return Z(this,R,j,ne,!1)};function q(G,R,j,ne){j=Number(j)||0;const fe=G.length-j;ne?(ne=Number(ne),ne>fe&&(ne=fe)):ne=fe;const xe=R.length;ne>xe/2&&(ne=xe/2);let Ce;for(Ce=0;Ce<ne;++Ce){const dt=parseInt(R.substr(Ce*2,2),16);if(Be(dt))return Ce;G[j+Ce]=dt}return Ce}function F(G,R,j,ne){return Le(oe(R,G.length-j),G,j,ne)}function W(G,R,j,ne){return Le(re(R),G,j,ne)}function J(G,R,j,ne){return Le(Re(R),G,j,ne)}function U(G,R,j,ne){return Le(pe(R,G.length-j),G,j,ne)}u.prototype.write=function(R,j,ne,fe){if(j===void 0)fe="utf8",ne=this.length,j=0;else if(ne===void 0&&typeof j=="string")fe=j,ne=this.length,j=0;else if(isFinite(j))j=j>>>0,isFinite(ne)?(ne=ne>>>0,fe===void 0&&(fe="utf8")):(fe=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const xe=this.length-j;if((ne===void 0||ne>xe)&&(ne=xe),R.length>0&&(ne<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ce=!1;for(;;)switch(fe){case"hex":return q(this,R,j,ne);case"utf8":case"utf-8":return F(this,R,j,ne);case"ascii":case"latin1":case"binary":return W(this,R,j,ne);case"base64":return J(this,R,j,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,R,j,ne);default:if(Ce)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ce=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(G,R,j){return R===0&&j===G.length?t.fromByteArray(G):t.fromByteArray(G.slice(R,j))}function O(G,R,j){j=Math.min(G.length,j);const ne=[];let fe=R;for(;fe<j;){const xe=G[fe];let Ce=null,dt=xe>239?4:xe>223?3:xe>191?2:1;if(fe+dt<=j){let Lt,_t,kt,Ct;switch(dt){case 1:xe<128&&(Ce=xe);break;case 2:Lt=G[fe+1],(Lt&192)===128&&(Ct=(xe&31)<<6|Lt&63,Ct>127&&(Ce=Ct));break;case 3:Lt=G[fe+1],_t=G[fe+2],(Lt&192)===128&&(_t&192)===128&&(Ct=(xe&15)<<12|(Lt&63)<<6|_t&63,Ct>2047&&(Ct<55296||Ct>57343)&&(Ce=Ct));break;case 4:Lt=G[fe+1],_t=G[fe+2],kt=G[fe+3],(Lt&192)===128&&(_t&192)===128&&(kt&192)===128&&(Ct=(xe&15)<<18|(Lt&63)<<12|(_t&63)<<6|kt&63,Ct>65535&&Ct<1114112&&(Ce=Ct))}}Ce===null?(Ce=65533,dt=1):Ce>65535&&(Ce-=65536,ne.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),ne.push(Ce),fe+=dt}return se(ne)}const K=4096;function se(G){const R=G.length;if(R<=K)return String.fromCharCode.apply(String,G);let j="",ne=0;for(;ne<R;)j+=String.fromCharCode.apply(String,G.slice(ne,ne+=K));return j}function ie(G,R,j){let ne="";j=Math.min(G.length,j);for(let fe=R;fe<j;++fe)ne+=String.fromCharCode(G[fe]&127);return ne}function te(G,R,j){let ne="";j=Math.min(G.length,j);for(let fe=R;fe<j;++fe)ne+=String.fromCharCode(G[fe]);return ne}function ee(G,R,j){const ne=G.length;(!R||R<0)&&(R=0),(!j||j<0||j>ne)&&(j=ne);let fe="";for(let xe=R;xe<j;++xe)fe+=Ve[G[xe]];return fe}function le(G,R,j){const ne=G.slice(R,j);let fe="";for(let xe=0;xe<ne.length-1;xe+=2)fe+=String.fromCharCode(ne[xe]+ne[xe+1]*256);return fe}u.prototype.slice=function(R,j){const ne=this.length;R=~~R,j=j===void 0?ne:~~j,R<0?(R+=ne,R<0&&(R=0)):R>ne&&(R=ne),j<0?(j+=ne,j<0&&(j=0)):j>ne&&(j=ne),j<R&&(j=R);const fe=this.subarray(R,j);return Object.setPrototypeOf(fe,u.prototype),fe};function $(G,R,j){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+R>j)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(R,j,ne){R=R>>>0,j=j>>>0,ne||$(R,j,this.length);let fe=this[R],xe=1,Ce=0;for(;++Ce<j&&(xe*=256);)fe+=this[R+Ce]*xe;return fe},u.prototype.readUintBE=u.prototype.readUIntBE=function(R,j,ne){R=R>>>0,j=j>>>0,ne||$(R,j,this.length);let fe=this[R+--j],xe=1;for(;j>0&&(xe*=256);)fe+=this[R+--j]*xe;return fe},u.prototype.readUint8=u.prototype.readUInt8=function(R,j){return R=R>>>0,j||$(R,1,this.length),this[R]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(R,j){return R=R>>>0,j||$(R,2,this.length),this[R]|this[R+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(R,j){return R=R>>>0,j||$(R,2,this.length),this[R]<<8|this[R+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(R,j){return R=R>>>0,j||$(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(R,j){return R=R>>>0,j||$(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},u.prototype.readBigUInt64LE=De(function(R){R=R>>>0,at(R,"offset");const j=this[R],ne=this[R+7];(j===void 0||ne===void 0)&&B(R,this.length-8);const fe=j+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,xe=this[++R]+this[++R]*2**8+this[++R]*2**16+ne*2**24;return BigInt(fe)+(BigInt(xe)<<BigInt(32))}),u.prototype.readBigUInt64BE=De(function(R){R=R>>>0,at(R,"offset");const j=this[R],ne=this[R+7];(j===void 0||ne===void 0)&&B(R,this.length-8);const fe=j*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],xe=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+ne;return(BigInt(fe)<<BigInt(32))+BigInt(xe)}),u.prototype.readIntLE=function(R,j,ne){R=R>>>0,j=j>>>0,ne||$(R,j,this.length);let fe=this[R],xe=1,Ce=0;for(;++Ce<j&&(xe*=256);)fe+=this[R+Ce]*xe;return xe*=128,fe>=xe&&(fe-=Math.pow(2,8*j)),fe},u.prototype.readIntBE=function(R,j,ne){R=R>>>0,j=j>>>0,ne||$(R,j,this.length);let fe=j,xe=1,Ce=this[R+--fe];for(;fe>0&&(xe*=256);)Ce+=this[R+--fe]*xe;return xe*=128,Ce>=xe&&(Ce-=Math.pow(2,8*j)),Ce},u.prototype.readInt8=function(R,j){return R=R>>>0,j||$(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},u.prototype.readInt16LE=function(R,j){R=R>>>0,j||$(R,2,this.length);const ne=this[R]|this[R+1]<<8;return ne&32768?ne|4294901760:ne},u.prototype.readInt16BE=function(R,j){R=R>>>0,j||$(R,2,this.length);const ne=this[R+1]|this[R]<<8;return ne&32768?ne|4294901760:ne},u.prototype.readInt32LE=function(R,j){return R=R>>>0,j||$(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},u.prototype.readInt32BE=function(R,j){return R=R>>>0,j||$(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},u.prototype.readBigInt64LE=De(function(R){R=R>>>0,at(R,"offset");const j=this[R],ne=this[R+7];(j===void 0||ne===void 0)&&B(R,this.length-8);const fe=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(ne<<24);return(BigInt(fe)<<BigInt(32))+BigInt(j+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),u.prototype.readBigInt64BE=De(function(R){R=R>>>0,at(R,"offset");const j=this[R],ne=this[R+7];(j===void 0||ne===void 0)&&B(R,this.length-8);const fe=(j<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(fe)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+ne)}),u.prototype.readFloatLE=function(R,j){return R=R>>>0,j||$(R,4,this.length),n.read(this,R,!0,23,4)},u.prototype.readFloatBE=function(R,j){return R=R>>>0,j||$(R,4,this.length),n.read(this,R,!1,23,4)},u.prototype.readDoubleLE=function(R,j){return R=R>>>0,j||$(R,8,this.length),n.read(this,R,!0,52,8)},u.prototype.readDoubleBE=function(R,j){return R=R>>>0,j||$(R,8,this.length),n.read(this,R,!1,52,8)};function Q(G,R,j,ne,fe,xe){if(!u.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>fe||R<xe)throw new RangeError('"value" argument is out of bounds');if(j+ne>G.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(R,j,ne,fe){if(R=+R,j=j>>>0,ne=ne>>>0,!fe){const dt=Math.pow(2,8*ne)-1;Q(this,R,j,ne,dt,0)}let xe=1,Ce=0;for(this[j]=R&255;++Ce<ne&&(xe*=256);)this[j+Ce]=R/xe&255;return j+ne},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(R,j,ne,fe){if(R=+R,j=j>>>0,ne=ne>>>0,!fe){const dt=Math.pow(2,8*ne)-1;Q(this,R,j,ne,dt,0)}let xe=ne-1,Ce=1;for(this[j+xe]=R&255;--xe>=0&&(Ce*=256);)this[j+xe]=R/Ce&255;return j+ne},u.prototype.writeUint8=u.prototype.writeUInt8=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,1,255,0),this[j]=R&255,j+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,2,65535,0),this[j]=R&255,this[j+1]=R>>>8,j+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,2,65535,0),this[j]=R>>>8,this[j+1]=R&255,j+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,4,4294967295,0),this[j+3]=R>>>24,this[j+2]=R>>>16,this[j+1]=R>>>8,this[j]=R&255,j+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,4,4294967295,0),this[j]=R>>>24,this[j+1]=R>>>16,this[j+2]=R>>>8,this[j+3]=R&255,j+4};function ke(G,R,j,ne,fe){ot(R,ne,fe,G,j,7);let xe=Number(R&BigInt(4294967295));G[j++]=xe,xe=xe>>8,G[j++]=xe,xe=xe>>8,G[j++]=xe,xe=xe>>8,G[j++]=xe;let Ce=Number(R>>BigInt(32)&BigInt(4294967295));return G[j++]=Ce,Ce=Ce>>8,G[j++]=Ce,Ce=Ce>>8,G[j++]=Ce,Ce=Ce>>8,G[j++]=Ce,j}function _e(G,R,j,ne,fe){ot(R,ne,fe,G,j,7);let xe=Number(R&BigInt(4294967295));G[j+7]=xe,xe=xe>>8,G[j+6]=xe,xe=xe>>8,G[j+5]=xe,xe=xe>>8,G[j+4]=xe;let Ce=Number(R>>BigInt(32)&BigInt(4294967295));return G[j+3]=Ce,Ce=Ce>>8,G[j+2]=Ce,Ce=Ce>>8,G[j+1]=Ce,Ce=Ce>>8,G[j]=Ce,j+8}u.prototype.writeBigUInt64LE=De(function(R,j=0){return ke(this,R,j,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=De(function(R,j=0){return _e(this,R,j,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(R,j,ne,fe){if(R=+R,j=j>>>0,!fe){const Lt=Math.pow(2,8*ne-1);Q(this,R,j,ne,Lt-1,-Lt)}let xe=0,Ce=1,dt=0;for(this[j]=R&255;++xe<ne&&(Ce*=256);)R<0&&dt===0&&this[j+xe-1]!==0&&(dt=1),this[j+xe]=(R/Ce>>0)-dt&255;return j+ne},u.prototype.writeIntBE=function(R,j,ne,fe){if(R=+R,j=j>>>0,!fe){const Lt=Math.pow(2,8*ne-1);Q(this,R,j,ne,Lt-1,-Lt)}let xe=ne-1,Ce=1,dt=0;for(this[j+xe]=R&255;--xe>=0&&(Ce*=256);)R<0&&dt===0&&this[j+xe+1]!==0&&(dt=1),this[j+xe]=(R/Ce>>0)-dt&255;return j+ne},u.prototype.writeInt8=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,1,127,-128),R<0&&(R=255+R+1),this[j]=R&255,j+1},u.prototype.writeInt16LE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,2,32767,-32768),this[j]=R&255,this[j+1]=R>>>8,j+2},u.prototype.writeInt16BE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,2,32767,-32768),this[j]=R>>>8,this[j+1]=R&255,j+2},u.prototype.writeInt32LE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,4,2147483647,-2147483648),this[j]=R&255,this[j+1]=R>>>8,this[j+2]=R>>>16,this[j+3]=R>>>24,j+4},u.prototype.writeInt32BE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[j]=R>>>24,this[j+1]=R>>>16,this[j+2]=R>>>8,this[j+3]=R&255,j+4},u.prototype.writeBigInt64LE=De(function(R,j=0){return ke(this,R,j,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=De(function(R,j=0){return _e(this,R,j,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ve(G,R,j,ne,fe,xe){if(j+ne>G.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function Ie(G,R,j,ne,fe){return R=+R,j=j>>>0,fe||ve(G,R,j,4),n.write(G,R,j,ne,23,4),j+4}u.prototype.writeFloatLE=function(R,j,ne){return Ie(this,R,j,!0,ne)},u.prototype.writeFloatBE=function(R,j,ne){return Ie(this,R,j,!1,ne)};function Te(G,R,j,ne,fe){return R=+R,j=j>>>0,fe||ve(G,R,j,8),n.write(G,R,j,ne,52,8),j+8}u.prototype.writeDoubleLE=function(R,j,ne){return Te(this,R,j,!0,ne)},u.prototype.writeDoubleBE=function(R,j,ne){return Te(this,R,j,!1,ne)},u.prototype.copy=function(R,j,ne,fe){if(!u.isBuffer(R))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!fe&&fe!==0&&(fe=this.length),j>=R.length&&(j=R.length),j||(j=0),fe>0&&fe<ne&&(fe=ne),fe===ne||R.length===0||this.length===0)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),R.length-j<fe-ne&&(fe=R.length-j+ne);const xe=fe-ne;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(j,ne,fe):Uint8Array.prototype.set.call(R,this.subarray(ne,fe),j),xe},u.prototype.fill=function(R,j,ne,fe){if(typeof R=="string"){if(typeof j=="string"?(fe=j,j=0,ne=this.length):typeof ne=="string"&&(fe=ne,ne=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!u.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(R.length===1){const Ce=R.charCodeAt(0);(fe==="utf8"&&Ce<128||fe==="latin1")&&(R=Ce)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(j<0||this.length<j||this.length<ne)throw new RangeError("Out of range index");if(ne<=j)return this;j=j>>>0,ne=ne===void 0?this.length:ne>>>0,R||(R=0);let xe;if(typeof R=="number")for(xe=j;xe<ne;++xe)this[xe]=R;else{const Ce=u.isBuffer(R)?R:u.from(R,fe),dt=Ce.length;if(dt===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(xe=0;xe<ne-j;++xe)this[xe+j]=Ce[xe%dt]}return this};const Ne={};function je(G,R,j){Ne[G]=class extends j{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}je("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),je("ERR_INVALID_ARG_TYPE",function(G,R){return`The "${G}" argument must be of type number. Received type ${typeof R}`},TypeError),je("ERR_OUT_OF_RANGE",function(G,R,j){let ne=`The value of "${G}" is out of range.`,fe=j;return Number.isInteger(j)&&Math.abs(j)>2**32?fe=Ze(String(j)):typeof j=="bigint"&&(fe=String(j),(j>BigInt(2)**BigInt(32)||j<-(BigInt(2)**BigInt(32)))&&(fe=Ze(fe)),fe+="n"),ne+=` It must be ${R}. Received ${fe}`,ne},RangeError);function Ze(G){let R="",j=G.length;const ne=G[0]==="-"?1:0;for(;j>=ne+4;j-=3)R=`_${G.slice(j-3,j)}${R}`;return`${G.slice(0,j)}${R}`}function Qe(G,R,j){at(R,"offset"),(G[R]===void 0||G[R+j]===void 0)&&B(R,G.length-(j+1))}function ot(G,R,j,ne,fe,xe){if(G>j||G<R){const Ce=typeof R=="bigint"?"n":"";let dt;throw R===0||R===BigInt(0)?dt=`>= 0${Ce} and < 2${Ce} ** ${(xe+1)*8}${Ce}`:dt=`>= -(2${Ce} ** ${(xe+1)*8-1}${Ce}) and < 2 ** ${(xe+1)*8-1}${Ce}`,new Ne.ERR_OUT_OF_RANGE("value",dt,G)}Qe(ne,fe,xe)}function at(G,R){if(typeof G!="number")throw new Ne.ERR_INVALID_ARG_TYPE(R,"number",G)}function B(G,R,j){throw Math.floor(G)!==G?(at(G,j),new Ne.ERR_OUT_OF_RANGE("offset","an integer",G)):R<0?new Ne.ERR_BUFFER_OUT_OF_BOUNDS:new Ne.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,G)}const Pe=/[^+/0-9A-Za-z-_]/g;function be(G){if(G=G.split("=")[0],G=G.trim().replace(Pe,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function oe(G,R){R=R||1/0;let j;const ne=G.length;let fe=null;const xe=[];for(let Ce=0;Ce<ne;++Ce){if(j=G.charCodeAt(Ce),j>55295&&j<57344){if(!fe){if(j>56319){(R-=3)>-1&&xe.push(239,191,189);continue}else if(Ce+1===ne){(R-=3)>-1&&xe.push(239,191,189);continue}fe=j;continue}if(j<56320){(R-=3)>-1&&xe.push(239,191,189),fe=j;continue}j=(fe-55296<<10|j-56320)+65536}else fe&&(R-=3)>-1&&xe.push(239,191,189);if(fe=null,j<128){if((R-=1)<0)break;xe.push(j)}else if(j<2048){if((R-=2)<0)break;xe.push(j>>6|192,j&63|128)}else if(j<65536){if((R-=3)<0)break;xe.push(j>>12|224,j>>6&63|128,j&63|128)}else if(j<1114112){if((R-=4)<0)break;xe.push(j>>18|240,j>>12&63|128,j>>6&63|128,j&63|128)}else throw new Error("Invalid code point")}return xe}function re(G){const R=[];for(let j=0;j<G.length;++j)R.push(G.charCodeAt(j)&255);return R}function pe(G,R){let j,ne,fe;const xe=[];for(let Ce=0;Ce<G.length&&!((R-=2)<0);++Ce)j=G.charCodeAt(Ce),ne=j>>8,fe=j%256,xe.push(fe),xe.push(ne);return xe}function Re(G){return t.toByteArray(be(G))}function Le(G,R,j,ne){let fe;for(fe=0;fe<ne&&!(fe+j>=R.length||fe>=G.length);++fe)R[fe+j]=G[fe];return fe}function me(G,R){return G instanceof R||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===R.name}function Be(G){return G!==G}const Ve=function(){const G="0123456789abcdef",R=new Array(256);for(let j=0;j<16;++j){const ne=j*16;for(let fe=0;fe<16;++fe)R[ne+fe]=G[j]+G[fe]}return R}();function De(G){return typeof BigInt>"u"?tt:G}function tt(){throw new Error("BigInt not supported")}}(sy)),sy}var ZI=$I();const HI=Vd(ZI);globalThis.Buffer||(globalThis.Buffer=HI.Buffer);AbortSignal.any||(AbortSignal.any=function(e){if(e.length===0)return new AbortController().signal;if(e.length===1)return e[0];for(const r of e)if(r.aborted){const i=new AbortController;return i.abort(r.reason),i.signal}const t=new AbortController,n=r=>{const i=r.target;t.abort(i.reason)};for(const r of e)r.addEventListener("abort",n,{once:!0});return t.signal.addEventListener("abort",()=>{for(const r of e)r.removeEventListener("abort",n)},{once:!0}),t.signal});AbortSignal.timeout||(AbortSignal.timeout=function(e){const t=new AbortController;return setTimeout(()=>{t.abort(new DOMException("The operation was aborted due to timeout","TimeoutError"))},e),t.signal});var C=Lp();const Os=Vd(C),A0=RI({__proto__:null,default:Os},[C]);class WI extends C.Component{constructor(n){super(n);He(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n,r;return this.state.hasError?this.props.fallback?this.props.fallback:y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-md w-full space-y-4",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),y.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. The error has been reported."})]}),y.jsx("div",{className:"bg-muted p-4 rounded-lg",children:y.jsxs("details",{className:"text-sm",children:[y.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Error details"}),y.jsxs("div",{className:"mt-2 space-y-2",children:[y.jsxs("div",{children:[y.jsx("strong",{className:"text-foreground",children:"Message:"}),y.jsx("p",{className:"text-muted-foreground mt-1",children:(n=this.state.error)==null?void 0:n.message})]}),((r=this.state.error)==null?void 0:r.stack)&&y.jsxs("div",{children:[y.jsx("strong",{className:"text-foreground",children:"Stack trace:"}),y.jsx("pre",{className:"text-xs text-muted-foreground mt-1 overflow-auto max-h-32",children:this.state.error.stack})]})]})]})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try again"}),y.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload page"})]})]})}):this.props.children}}var qc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},il=typeof window>"u"||"Deno"in globalThis;function Yr(){}function VI(e,t){return typeof e=="function"?e(t):e}function pv(e){return typeof e=="number"&&e>=0&&e!==1/0}function _2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yc(e,t){return typeof e=="function"?e(t):e}function _i(e,t){return typeof e=="function"?e(t):e}function vb(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==R0(l,t.options))return!1}else if(!xd(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||s&&!s(t))}function wb(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(ol(t.options.mutationKey)!==ol(s))return!1}else if(!xd(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function R0(e,t){return((t==null?void 0:t.queryKeyHashFn)||ol)(e)}function ol(e){return JSON.stringify(e,(t,n)=>mv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function xd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>xd(e[n],t[n])):!1}function x2(e,t){if(e===t)return e;const n=_b(e)&&_b(t);if(n||mv(e)&&mv(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),l=s.length,u=n?[]:{};let d=0;for(let p=0;p<l;p++){const g=n?p:s[p];(!n&&r.includes(g)||n)&&e[g]===void 0&&t[g]===void 0?(u[g]=void 0,d++):(u[g]=x2(e[g],t[g]),u[g]===e[g]&&e[g]!==void 0&&d++)}return i===l&&d===i?e:u}return t}function np(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function _b(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mv(e){if(!xb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!xb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xb(e){return Object.prototype.toString.call(e)==="[object Object]"}function qI(e){return new Promise(t=>{setTimeout(t,e)})}function gv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?x2(e,t):t}function KI(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function GI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var I0=Symbol();function b2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===I0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Va,zs,Sc,a2,YI=(a2=class extends qc{constructor(){super();it(this,Va);it(this,zs);it(this,Sc);Ke(this,Sc,t=>{if(!il&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,zs)||this.setEventListener(ue(this,Sc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,zs))==null||t.call(this),Ke(this,zs,void 0))}setEventListener(t){var n;Ke(this,Sc,t),(n=ue(this,zs))==null||n.call(this),Ke(this,zs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ue(this,Va)!==t&&(Ke(this,Va,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ue(this,Va)=="boolean"?ue(this,Va):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Va=new WeakMap,zs=new WeakMap,Sc=new WeakMap,a2),L0=new YI,kc,Ds,Cc,l2,JI=(l2=class extends qc{constructor(){super();it(this,kc,!0);it(this,Ds);it(this,Cc);Ke(this,Cc,t=>{if(!il&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ue(this,Ds)||this.setEventListener(ue(this,Cc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Ds))==null||t.call(this),Ke(this,Ds,void 0))}setEventListener(t){var n;Ke(this,Cc,t),(n=ue(this,Ds))==null||n.call(this),Ke(this,Ds,t(this.setOnline.bind(this)))}setOnline(t){ue(this,kc)!==t&&(Ke(this,kc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ue(this,kc)}},kc=new WeakMap,Ds=new WeakMap,Cc=new WeakMap,l2),rp=new JI;function yv(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function QI(e){return Math.min(1e3*2**e,3e4)}function E2(e){return(e??"online")==="online"?rp.isOnline():!0}var S2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ay(e){return e instanceof S2}function k2(e){let t=!1,n=0,r=!1,i;const s=yv(),l=v=>{var E;r||(b(new S2(v)),(E=e.abort)==null||E.call(e))},u=()=>{t=!0},d=()=>{t=!1},p=()=>L0.isFocused()&&(e.networkMode==="always"||rp.isOnline())&&e.canRun(),g=()=>E2(e.networkMode)&&e.canRun(),m=v=>{var E;r||(r=!0,(E=e.onSuccess)==null||E.call(e,v),i==null||i(),s.resolve(v))},b=v=>{var E;r||(r=!0,(E=e.onError)==null||E.call(e,v),i==null||i(),s.reject(v))},_=()=>new Promise(v=>{var E;i=k=>{(r||p())&&v(k)},(E=e.onPause)==null||E.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),S=()=>{if(r)return;let v;const E=n===0?e.initialPromise:void 0;try{v=E??e.fn()}catch(k){v=Promise.reject(k)}Promise.resolve(v).then(m).catch(k=>{var Z;if(r)return;const N=e.retry??(il?0:3),A=e.retryDelay??QI,z=typeof A=="function"?A(n,k):A,D=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,k);if(t||!D){b(k);return}n++,(Z=e.onFail)==null||Z.call(e,n,k),qI(z).then(()=>p()?void 0:_()).then(()=>{t?b(k):S()})})};return{promise:s,cancel:l,continue:()=>(i==null||i(),s),cancelRetry:u,continueRetry:d,canStart:g,start:()=>(g()?S():_().then(S),s)}}var XI=e=>setTimeout(e,0);function e3(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=XI;const s=u=>{t?e.push(u):i(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{s(()=>{u(...d)})},schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var _n=e3(),qa,c2,C2=(c2=class{constructor(){it(this,qa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pv(this.gcTime)&&Ke(this,qa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(il?1/0:5*60*1e3))}clearGcTimeout(){ue(this,qa)&&(clearTimeout(ue(this,qa)),Ke(this,qa,void 0))}},qa=new WeakMap,c2),Pc,Tc,Gr,Ka,Dn,Fd,Ga,vi,So,u2,t3=(u2=class extends C2{constructor(t){super();it(this,vi);it(this,Pc);it(this,Tc);it(this,Gr);it(this,Ka);it(this,Dn);it(this,Fd);it(this,Ga);Ke(this,Ga,!1),Ke(this,Fd,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ke(this,Ka,t.client),Ke(this,Gr,ue(this,Ka).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ke(this,Pc,n3(this.options)),this.state=t.state??ue(this,Pc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,Dn))==null?void 0:t.promise}setOptions(t){this.options={...ue(this,Fd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,Gr).remove(this)}setData(t,n){const r=gv(this.state.data,t,this.options);return yt(this,vi,So).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){yt(this,vi,So).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ue(this,Dn))==null?void 0:r.promise;return(i=ue(this,Dn))==null||i.cancel(t),n?n.then(Yr).catch(Yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,Pc))}isActive(){return this.observers.some(t=>_i(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===I0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!_2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Dn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Dn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,Gr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ue(this,Dn)&&(ue(this,Ga)?ue(this,Dn).cancel({revert:!0}):ue(this,Dn).cancelRetry()),this.scheduleGc()),ue(this,Gr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,vi,So).call(this,{type:"invalidate"})}fetch(t,n){var d,p,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Dn))return ue(this,Dn).continueRetry(),ue(this,Dn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(b=>b.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ke(this,Ga,!0),r.signal)})},s=()=>{const m=b2(this.options,n),b={client:ue(this,Ka),queryKey:this.queryKey,meta:this.meta};return i(b),Ke(this,Ga,!1),this.options.persister?this.options.persister(m,b,this):m(b)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,Ka),state:this.state,fetchFn:s};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),Ke(this,Tc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=l.fetchOptions)==null?void 0:p.meta))&&yt(this,vi,So).call(this,{type:"fetch",meta:(g=l.fetchOptions)==null?void 0:g.meta});const u=m=>{var b,_,S,v;ay(m)&&m.silent||yt(this,vi,So).call(this,{type:"error",error:m}),ay(m)||((_=(b=ue(this,Gr).config).onError)==null||_.call(b,m,this),(v=(S=ue(this,Gr).config).onSettled)==null||v.call(S,this.state.data,m,this)),this.scheduleGc()};return Ke(this,Dn,k2({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var b,_,S,v;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(E){u(E);return}(_=(b=ue(this,Gr).config).onSuccess)==null||_.call(b,m,this),(v=(S=ue(this,Gr).config).onSettled)==null||v.call(S,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,b)=>{yt(this,vi,So).call(this,{type:"failed",failureCount:m,error:b})},onPause:()=>{yt(this,vi,So).call(this,{type:"pause"})},onContinue:()=>{yt(this,vi,So).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ue(this,Dn).start()}},Pc=new WeakMap,Tc=new WeakMap,Gr=new WeakMap,Ka=new WeakMap,Dn=new WeakMap,Fd=new WeakMap,Ga=new WeakMap,vi=new WeakSet,So=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...P2(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return ay(i)&&i.revert&&ue(this,Tc)?{...ue(this,Tc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),_n.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ue(this,Gr).notify({query:this,type:"updated",action:t})})},u2);function P2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:E2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function n3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hi,d2,r3=(d2=class extends qc{constructor(t={}){super();it(this,Hi);this.config=t,Ke(this,Hi,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??R0(i,n);let l=this.get(s);return l||(l=new t3({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){ue(this,Hi).has(t.queryHash)||(ue(this,Hi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ue(this,Hi).get(t.queryHash);n&&(t.destroy(),n===t&&ue(this,Hi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,Hi).get(t)}getAll(){return[...ue(this,Hi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>vb(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>vb(t,r)):n}notify(t){_n.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hi=new WeakMap,d2),Wi,Jn,Ya,Vi,js,f2,i3=(f2=class extends C2{constructor(t){super();it(this,Vi);it(this,Wi);it(this,Jn);it(this,Ya);this.mutationId=t.mutationId,Ke(this,Jn,t.mutationCache),Ke(this,Wi,[]),this.state=t.state||T2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,Wi).includes(t)||(ue(this,Wi).push(t),this.clearGcTimeout(),ue(this,Jn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ke(this,Wi,ue(this,Wi).filter(n=>n!==t)),this.scheduleGc(),ue(this,Jn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,Wi).length||(this.state.status==="pending"?this.scheduleGc():ue(this,Jn).remove(this))}continue(){var t;return((t=ue(this,Ya))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,u,d,p,g,m,b,_,S,v,E,k,N,A,z,D,Z,H,q;const n=()=>{yt(this,Vi,js).call(this,{type:"continue"})};Ke(this,Ya,k2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(F,W)=>{yt(this,Vi,js).call(this,{type:"failed",failureCount:F,error:W})},onPause:()=>{yt(this,Vi,js).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,Jn).canRun(this)}));const r=this.state.status==="pending",i=!ue(this,Ya).canStart();try{if(r)n();else{yt(this,Vi,js).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(s=ue(this,Jn).config).onMutate)==null?void 0:l.call(s,t,this));const W=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t));W!==this.state.context&&yt(this,Vi,js).call(this,{type:"pending",context:W,variables:t,isPaused:i})}const F=await ue(this,Ya).start();return await((g=(p=ue(this,Jn).config).onSuccess)==null?void 0:g.call(p,F,t,this.state.context,this)),await((b=(m=this.options).onSuccess)==null?void 0:b.call(m,F,t,this.state.context)),await((S=(_=ue(this,Jn).config).onSettled)==null?void 0:S.call(_,F,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,F,null,t,this.state.context)),yt(this,Vi,js).call(this,{type:"success",data:F}),F}catch(F){try{throw await((N=(k=ue(this,Jn).config).onError)==null?void 0:N.call(k,F,t,this.state.context,this)),await((z=(A=this.options).onError)==null?void 0:z.call(A,F,t,this.state.context)),await((Z=(D=ue(this,Jn).config).onSettled)==null?void 0:Z.call(D,void 0,F,this.state.variables,this.state.context,this)),await((q=(H=this.options).onSettled)==null?void 0:q.call(H,void 0,F,t,this.state.context)),F}finally{yt(this,Vi,js).call(this,{type:"error",error:F})}}finally{ue(this,Jn).runNext(this)}}},Wi=new WeakMap,Jn=new WeakMap,Ya=new WeakMap,Vi=new WeakSet,js=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),_n.batch(()=>{ue(this,Wi).forEach(r=>{r.onMutationUpdate(t)}),ue(this,Jn).notify({mutation:this,type:"updated",action:t})})},f2);function T2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Po,wi,Ud,h2,o3=(h2=class extends qc{constructor(t={}){super();it(this,Po);it(this,wi);it(this,Ud);this.config=t,Ke(this,Po,new Set),Ke(this,wi,new Map),Ke(this,Ud,0)}build(t,n,r){const i=new i3({mutationCache:this,mutationId:++Ph(this,Ud)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ue(this,Po).add(t);const n=Rh(t);if(typeof n=="string"){const r=ue(this,wi).get(n);r?r.push(t):ue(this,wi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,Po).delete(t)){const n=Rh(t);if(typeof n=="string"){const r=ue(this,wi).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ue(this,wi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Rh(t);if(typeof n=="string"){const r=ue(this,wi).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Rh(t);if(typeof n=="string"){const i=(r=ue(this,wi).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_n.batch(()=>{ue(this,Po).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,Po).clear(),ue(this,wi).clear()})}getAll(){return Array.from(ue(this,Po))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>wb(n,r))}findAll(t={}){return this.getAll().filter(n=>wb(t,n))}notify(t){_n.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return _n.batch(()=>Promise.all(t.map(n=>n.continue().catch(Yr))))}},Po=new WeakMap,wi=new WeakMap,Ud=new WeakMap,h2);function Rh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function bb(e){return{onFetch:(t,n)=>{var g,m,b,_,S;const r=t.options,i=(b=(m=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:b.direction,s=((_=t.state.data)==null?void 0:_.pages)||[],l=((S=t.state.data)==null?void 0:S.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const p=async()=>{let v=!1;const E=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},k=b2(t.options,t.fetchOptions),N=async(A,z,D)=>{if(v)return Promise.reject();if(z==null&&A.pages.length)return Promise.resolve(A);const Z={client:t.client,queryKey:t.queryKey,pageParam:z,direction:D?"backward":"forward",meta:t.options.meta};E(Z);const H=await k(Z),{maxPages:q}=t.options,F=D?GI:KI;return{pages:F(A.pages,H,q),pageParams:F(A.pageParams,z,q)}};if(i&&s.length){const A=i==="backward",z=A?s3:Eb,D={pages:s,pageParams:l},Z=z(r,D);u=await N(D,Z,A)}else{const A=e??s.length;do{const z=d===0?l[0]??r.initialPageParam:Eb(r,u);if(d>0&&z==null)break;u=await N(u,z),d++}while(d<A)}return u};t.options.persister?t.fetchFn=()=>{var v,E;return(E=(v=t.options).persister)==null?void 0:E.call(v,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function Eb(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function s3(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var sn,Bs,Fs,Nc,Ac,Us,Rc,Ic,p2,a3=(p2=class{constructor(e={}){it(this,sn);it(this,Bs);it(this,Fs);it(this,Nc);it(this,Ac);it(this,Us);it(this,Rc);it(this,Ic);Ke(this,sn,e.queryCache||new r3),Ke(this,Bs,e.mutationCache||new o3),Ke(this,Fs,e.defaultOptions||{}),Ke(this,Nc,new Map),Ke(this,Ac,new Map),Ke(this,Us,0)}mount(){Ph(this,Us)._++,ue(this,Us)===1&&(Ke(this,Rc,L0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,sn).onFocus())})),Ke(this,Ic,rp.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,sn).onOnline())})))}unmount(){var e,t;Ph(this,Us)._--,ue(this,Us)===0&&((e=ue(this,Rc))==null||e.call(this),Ke(this,Rc,void 0),(t=ue(this,Ic))==null||t.call(this),Ke(this,Ic,void 0))}isFetching(e){return ue(this,sn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,Bs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,sn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ue(this,sn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(yc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ue(this,sn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ue(this,sn).get(r.queryHash),s=i==null?void 0:i.state.data,l=VI(t,s);if(l!==void 0)return ue(this,sn).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return _n.batch(()=>ue(this,sn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,sn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ue(this,sn);_n.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ue(this,sn);return _n.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=_n.batch(()=>ue(this,sn).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Yr).catch(Yr)}invalidateQueries(e,t={}){return _n.batch(()=>(ue(this,sn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=_n.batch(()=>ue(this,sn).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Yr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Yr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ue(this,sn).build(this,t);return n.isStaleByTime(yc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Yr).catch(Yr)}fetchInfiniteQuery(e){return e.behavior=bb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Yr).catch(Yr)}ensureInfiniteQueryData(e){return e.behavior=bb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rp.isOnline()?ue(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,sn)}getMutationCache(){return ue(this,Bs)}getDefaultOptions(){return ue(this,Fs)}setDefaultOptions(e){Ke(this,Fs,e)}setQueryDefaults(e,t){ue(this,Nc).set(ol(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,Nc).values()],n={};return t.forEach(r=>{xd(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ue(this,Ac).set(ol(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,Ac).values()],n={};return t.forEach(r=>{xd(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,Fs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=R0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===I0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,Fs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,sn).clear(),ue(this,Bs).clear()}},sn=new WeakMap,Bs=new WeakMap,Fs=new WeakMap,Nc=new WeakMap,Ac=new WeakMap,Us=new WeakMap,Rc=new WeakMap,Ic=new WeakMap,p2),dr,Tt,$d,Qn,Ja,Lc,$s,Zs,Zd,Oc,jc,Qa,Xa,Hs,Mc,Mt,cd,vv,wv,_v,xv,bv,Ev,Sv,N2,m2,l3=(m2=class extends qc{constructor(t,n){super();it(this,Mt);it(this,dr);it(this,Tt);it(this,$d);it(this,Qn);it(this,Ja);it(this,Lc);it(this,$s);it(this,Zs);it(this,Zd);it(this,Oc);it(this,jc);it(this,Qa);it(this,Xa);it(this,Hs);it(this,Mc,new Set);this.options=n,Ke(this,dr,t),Ke(this,Zs,null),Ke(this,$s,yv()),this.options.experimental_prefetchInRender||ue(this,$s).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,Tt).addObserver(this),Sb(ue(this,Tt),this.options)?yt(this,Mt,cd).call(this):this.updateResult(),yt(this,Mt,xv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kv(ue(this,Tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kv(ue(this,Tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,yt(this,Mt,bv).call(this),yt(this,Mt,Ev).call(this),ue(this,Tt).removeObserver(this)}setOptions(t){const n=this.options,r=ue(this,Tt);if(this.options=ue(this,dr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _i(this.options.enabled,ue(this,Tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");yt(this,Mt,Sv).call(this),ue(this,Tt).setOptions(this.options),n._defaulted&&!np(this.options,n)&&ue(this,dr).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,Tt),observer:this});const i=this.hasListeners();i&&kb(ue(this,Tt),r,this.options,n)&&yt(this,Mt,cd).call(this),this.updateResult(),i&&(ue(this,Tt)!==r||_i(this.options.enabled,ue(this,Tt))!==_i(n.enabled,ue(this,Tt))||yc(this.options.staleTime,ue(this,Tt))!==yc(n.staleTime,ue(this,Tt)))&&yt(this,Mt,vv).call(this);const s=yt(this,Mt,wv).call(this);i&&(ue(this,Tt)!==r||_i(this.options.enabled,ue(this,Tt))!==_i(n.enabled,ue(this,Tt))||s!==ue(this,Hs))&&yt(this,Mt,_v).call(this,s)}getOptimisticResult(t){const n=ue(this,dr).getQueryCache().build(ue(this,dr),t),r=this.createResult(n,t);return u3(this,r)&&(Ke(this,Qn,r),Ke(this,Lc,this.options),Ke(this,Ja,ue(this,Tt).state)),r}getCurrentResult(){return ue(this,Qn)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(t){ue(this,Mc).add(t)}getCurrentQuery(){return ue(this,Tt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ue(this,dr).defaultQueryOptions(t),r=ue(this,dr).getQueryCache().build(ue(this,dr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return yt(this,Mt,cd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,Qn)))}createResult(t,n){var F;const r=ue(this,Tt),i=this.options,s=ue(this,Qn),l=ue(this,Ja),u=ue(this,Lc),p=t!==r?t.state:ue(this,$d),{state:g}=t;let m={...g},b=!1,_;if(n._optimisticResults){const W=this.hasListeners(),J=!W&&Sb(t,n),U=W&&kb(t,r,n,i);(J||U)&&(m={...m,...P2(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:S,errorUpdatedAt:v,status:E}=m;_=m.data;let k=!1;if(n.placeholderData!==void 0&&_===void 0&&E==="pending"){let W;s!=null&&s.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(W=s.data,k=!0):W=typeof n.placeholderData=="function"?n.placeholderData((F=ue(this,jc))==null?void 0:F.state.data,ue(this,jc)):n.placeholderData,W!==void 0&&(E="success",_=gv(s==null?void 0:s.data,W,n),b=!0)}if(n.select&&_!==void 0&&!k)if(s&&_===(l==null?void 0:l.data)&&n.select===ue(this,Zd))_=ue(this,Oc);else try{Ke(this,Zd,n.select),_=n.select(_),_=gv(s==null?void 0:s.data,_,n),Ke(this,Oc,_),Ke(this,Zs,null)}catch(W){Ke(this,Zs,W)}ue(this,Zs)&&(S=ue(this,Zs),_=ue(this,Oc),v=Date.now(),E="error");const N=m.fetchStatus==="fetching",A=E==="pending",z=E==="error",D=A&&N,Z=_!==void 0,q={status:E,fetchStatus:m.fetchStatus,isPending:A,isSuccess:E==="success",isError:z,isInitialLoading:D,isLoading:D,data:_,dataUpdatedAt:m.dataUpdatedAt,error:S,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>p.dataUpdateCount||m.errorUpdateCount>p.errorUpdateCount,isFetching:N,isRefetching:N&&!A,isLoadingError:z&&!Z,isPaused:m.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:z&&Z,isStale:O0(t,n),refetch:this.refetch,promise:ue(this,$s)};if(this.options.experimental_prefetchInRender){const W=X=>{q.status==="error"?X.reject(q.error):q.data!==void 0&&X.resolve(q.data)},J=()=>{const X=Ke(this,$s,q.promise=yv());W(X)},U=ue(this,$s);switch(U.status){case"pending":t.queryHash===r.queryHash&&W(U);break;case"fulfilled":(q.status==="error"||q.data!==U.value)&&J();break;case"rejected":(q.status!=="error"||q.error!==U.reason)&&J();break}}return q}updateResult(){const t=ue(this,Qn),n=this.createResult(ue(this,Tt),this.options);if(Ke(this,Ja,ue(this,Tt).state),Ke(this,Lc,this.options),ue(this,Ja).data!==void 0&&Ke(this,jc,ue(this,Tt)),np(n,t))return;Ke(this,Qn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ue(this,Mc).size)return!0;const l=new Set(s??ue(this,Mc));return this.options.throwOnError&&l.add("error"),Object.keys(ue(this,Qn)).some(u=>{const d=u;return ue(this,Qn)[d]!==t[d]&&l.has(d)})};yt(this,Mt,N2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&yt(this,Mt,xv).call(this)}},dr=new WeakMap,Tt=new WeakMap,$d=new WeakMap,Qn=new WeakMap,Ja=new WeakMap,Lc=new WeakMap,$s=new WeakMap,Zs=new WeakMap,Zd=new WeakMap,Oc=new WeakMap,jc=new WeakMap,Qa=new WeakMap,Xa=new WeakMap,Hs=new WeakMap,Mc=new WeakMap,Mt=new WeakSet,cd=function(t){yt(this,Mt,Sv).call(this);let n=ue(this,Tt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Yr)),n},vv=function(){yt(this,Mt,bv).call(this);const t=yc(this.options.staleTime,ue(this,Tt));if(il||ue(this,Qn).isStale||!pv(t))return;const r=_2(ue(this,Qn).dataUpdatedAt,t)+1;Ke(this,Qa,setTimeout(()=>{ue(this,Qn).isStale||this.updateResult()},r))},wv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,Tt)):this.options.refetchInterval)??!1},_v=function(t){yt(this,Mt,Ev).call(this),Ke(this,Hs,t),!(il||_i(this.options.enabled,ue(this,Tt))===!1||!pv(ue(this,Hs))||ue(this,Hs)===0)&&Ke(this,Xa,setInterval(()=>{(this.options.refetchIntervalInBackground||L0.isFocused())&&yt(this,Mt,cd).call(this)},ue(this,Hs)))},xv=function(){yt(this,Mt,vv).call(this),yt(this,Mt,_v).call(this,yt(this,Mt,wv).call(this))},bv=function(){ue(this,Qa)&&(clearTimeout(ue(this,Qa)),Ke(this,Qa,void 0))},Ev=function(){ue(this,Xa)&&(clearInterval(ue(this,Xa)),Ke(this,Xa,void 0))},Sv=function(){const t=ue(this,dr).getQueryCache().build(ue(this,dr),this.options);if(t===ue(this,Tt))return;const n=ue(this,Tt);Ke(this,Tt,t),Ke(this,$d,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},N2=function(t){_n.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ue(this,Qn))}),ue(this,dr).getQueryCache().notify({query:ue(this,Tt),type:"observerResultsUpdated"})})},m2);function c3(e,t){return _i(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Sb(e,t){return c3(e,t)||e.state.data!==void 0&&kv(e,t,t.refetchOnMount)}function kv(e,t,n){if(_i(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&O0(e,t)}return!1}function kb(e,t,n,r){return(e!==t||_i(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&O0(e,n)}function O0(e,t){return _i(t.enabled,e)!==!1&&e.isStaleByTime(yc(t.staleTime,e))}function u3(e,t){return!np(e.getCurrentResult(),t)}var Ws,Vs,fr,To,zo,Gh,Cv,g2,d3=(g2=class extends qc{constructor(n,r){super();it(this,zo);it(this,Ws);it(this,Vs);it(this,fr);it(this,To);Ke(this,Ws,n),this.setOptions(r),this.bindMethods(),yt(this,zo,Gh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ue(this,Ws).defaultMutationOptions(n),np(this.options,r)||ue(this,Ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,fr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ol(r.mutationKey)!==ol(this.options.mutationKey)?this.reset():((i=ue(this,fr))==null?void 0:i.state.status)==="pending"&&ue(this,fr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,fr))==null||n.removeObserver(this)}onMutationUpdate(n){yt(this,zo,Gh).call(this),yt(this,zo,Cv).call(this,n)}getCurrentResult(){return ue(this,Vs)}reset(){var n;(n=ue(this,fr))==null||n.removeObserver(this),Ke(this,fr,void 0),yt(this,zo,Gh).call(this),yt(this,zo,Cv).call(this)}mutate(n,r){var i;return Ke(this,To,r),(i=ue(this,fr))==null||i.removeObserver(this),Ke(this,fr,ue(this,Ws).getMutationCache().build(ue(this,Ws),this.options)),ue(this,fr).addObserver(this),ue(this,fr).execute(n)}},Ws=new WeakMap,Vs=new WeakMap,fr=new WeakMap,To=new WeakMap,zo=new WeakSet,Gh=function(){var r;const n=((r=ue(this,fr))==null?void 0:r.state)??T2();Ke(this,Vs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Cv=function(n){_n.batch(()=>{var r,i,s,l,u,d,p,g;if(ue(this,To)&&this.hasListeners()){const m=ue(this,Vs).variables,b=ue(this,Vs).context;(n==null?void 0:n.type)==="success"?((i=(r=ue(this,To)).onSuccess)==null||i.call(r,n.data,m,b),(l=(s=ue(this,To)).onSettled)==null||l.call(s,n.data,null,m,b)):(n==null?void 0:n.type)==="error"&&((d=(u=ue(this,To)).onError)==null||d.call(u,n.error,m,b),(g=(p=ue(this,To)).onSettled)==null||g.call(p,void 0,n.error,m,b))}this.listeners.forEach(m=>{m(ue(this,Vs))})})},g2),A2=C.createContext(void 0),j0=e=>{const t=C.useContext(A2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},f3=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),y.jsx(A2.Provider,{value:e,children:t})),R2=C.createContext(!1),h3=()=>C.useContext(R2);R2.Provider;function p3(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var m3=C.createContext(p3()),g3=()=>C.useContext(m3);function I2(e,t){return typeof e=="function"?e(...t):!!e}function Pv(){}var y3=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},v3=e=>{C.useEffect(()=>{e.clearReset()},[e])},w3=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||I2(n,[e.error,r])),_3=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},x3=(e,t)=>e.isLoading&&e.isFetching&&!t,b3=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Cb=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function E3(e,t,n){var m,b,_,S,v;const r=j0(),i=h3(),s=g3(),l=r.defaultQueryOptions(e);(b=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||b.call(m,l),l._optimisticResults=i?"isRestoring":"optimistic",_3(l),y3(l,s),v3(s);const u=!r.getQueryCache().get(l.queryHash),[d]=C.useState(()=>new t(r,l)),p=d.getOptimisticResult(l),g=!i&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(E=>{const k=g?d.subscribe(_n.batchCalls(E)):Pv;return d.updateResult(),k},[d,g]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),C.useEffect(()=>{d.setOptions(l)},[l,d]),b3(l,p))throw Cb(l,d,s);if(w3({result:p,errorResetBoundary:s,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw p.error;if((S=(_=r.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||S.call(_,l,p),l.experimental_prefetchInRender&&!il&&x3(p,i)){const E=u?Cb(l,d,s):(v=r.getQueryCache().get(l.queryHash))==null?void 0:v.promise;E==null||E.catch(Pv).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?p:d.trackResult(p)}function Ki(e,t){return E3(e,l3)}function M0(e,t){const n=j0(),[r]=C.useState(()=>new d3(n,e));C.useEffect(()=>{r.setOptions(e)},[r,e]);const i=C.useSyncExternalStore(C.useCallback(l=>r.subscribe(_n.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=C.useCallback((l,u)=>{r.mutate(l,u).catch(Pv)},[r]);if(i.error&&I2(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function Tv(e,t={},n){for(const r in e){const i=e[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Tv(i,t,s):typeof i=="function"&&(t[s]=i)}return t}const S3={run:e=>e()},k3=()=>S3,L2=typeof console.createTask<"u"?console.createTask:k3;function C3(e,t){const n=t.shift(),r=L2(n);return e.reduce((i,s)=>i.then(()=>r.run(()=>s(...t))),Promise.resolve())}function P3(e,t){const n=t.shift(),r=L2(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function ly(e,t){for(const n of[...e])n(t)}class T3{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!r.allowDeprecated){let l=s.message;l||(l=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(l)||(console.warn(l),this._deprecatedMessages.add(l))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Tv(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=Tv(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(C3,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(P3,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&ly(this._before,i);const s=t(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&ly(this._after,i)}):(this._after&&i&&ly(this._after,i),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function N3(){return new T3}const A3=new Set(["link","style","script","noscript"]),R3=new Set(["title","titleTemplate","script","style","noscript"]),Pb=new Set(["base","meta","link","style","script","noscript"]),I3=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),L3=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),O3=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),j3=new Set(["templateParams","htmlAttrs","bodyAttrs"]),z0=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),M3=["name","property","http-equiv"];function O2(e){const t=e.split(":");return t.length?z0.has(t[1]):!1}function Nv(e){const{props:t,tag:n}=e;if(L3.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of M3)if(t[r]!==void 0)return`${n}:${t[r]}`}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(R3.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function Tb(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,i])=>`${r}:${String(i)}`).join(",")}`}function Av(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let i;if(t&&(i=t(n,e)),Array.isArray(i))return i.map(s=>Av(s,t));if((i==null?void 0:i.constructor)===Object){const s={};for(const l of Object.keys(i))s[l]=Av(i[l],t,l);return s}return i}function z3(e,t){const n=e==="style"?new Map:new Set;function r(i){const s=i.trim();if(s)if(e==="style"){const[l,...u]=s.split(":").map(d=>d.trim());l&&u.length&&n.set(l,u.join(":"))}else s.split(" ").filter(Boolean).forEach(l=>n.add(l))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(i=>r(i)):t&&typeof t=="object"&&Object.entries(t).forEach(([i,s])=>{s&&s!=="false"&&(e==="style"?n.set(i.trim(),s):r(i))}),n}function j2(e,t){return e.props=e.props||{},t&&Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=z3(n,r);return}if(O3.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let l=t.type;if(t.type||(l="application/json"),!(l!=null&&l.endsWith("json"))&&l!=="speculationrules")return;t.type=l,e.props.type=l,e[n]=JSON.stringify(r)}else e[n]=r;return}const i=String(r),s=n.startsWith("data-");i==="true"||i===""?e.props[n]=s?i:!0:!r&&s&&i==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e}function D3(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=j2({tag:e,props:{}},n);return r.key&&A3.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(i=>({...r,props:{...r.props,content:i}})):r}function B3(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(i,s)=>{for(let l=0;l<t.length;l++)s=t[l](i,s);return s};e=n(void 0,e);const r=[];return e=Av(e,n),Object.entries(e||{}).forEach(([i,s])=>{if(s!==void 0)for(const l of Array.isArray(s)?s:[s])r.push(D3(i,l))}),r.flat()}const Nb=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,Ab={base:-10,title:10},F3={critical:-8,high:-1,low:2},Rb={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},U3=/@import/,nd=e=>e===""||e===!0;function $3(e,t){var s;if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=F3[t.tagPriority]||0,i=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Rb;if(t.tag in Ab)n=Ab[t.tag];else if(t.tag==="meta"){const l=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;l&&(n=Rb.meta[l])}else t.tag==="link"&&t.props.rel?n=i.link[t.props.rel]:t.tag==="script"?nd(t.props.async)?n=i.script.async:t.props.src&&!nd(t.props.defer)&&!nd(t.props.async)&&t.props.type!=="module"&&!((s=t.props.type)!=null&&s.endsWith("json"))?n=i.script.sync:nd(t.props.defer)&&t.props.src&&!nd(t.props.async)&&(n=i.script.defer):t.tag==="style"&&(n=t.innerHTML&&U3.test(t.innerHTML)?i.style.imported:i.style.sync);return(n||100)+r}function Ib(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function Z3(e={}){var u;const t=N3();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,i=new Map,s=[],l={_entryCount:1,plugins:i,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:d=>Ib(l,d),push(d,p){const g={...p||{}};delete g.head;const m=g._index??l._entryCount++,b={_i:m,input:d,options:g},_={_poll(S=!1){l.dirty=!0,!S&&s.push(m),t.callHook("entries:updated",l)},dispose(){r.delete(m)&&_._poll(!0)},patch(S){(!g.mode||g.mode==="server"&&n||g.mode==="client"&&!n)&&(b.input=S,r.set(m,b),_._poll())}};return _.patch(d),_},async resolveTags(){var _;const d={tagMap:new Map,tags:[],entries:[...l.entries.values()]};for(await t.callHook("entries:resolve",d);s.length;){const S=s.shift(),v=r.get(S);if(v){const E={tags:B3(v.input,e.propResolvers||[]).map(k=>Object.assign(k,v.options)),entry:v};await t.callHook("entries:normalize",E),v._tags=E.tags.map((k,N)=>(k._w=$3(l,k),k._p=(v._i<<10)+N,k._d=Nv(k),k))}}let p=!1;d.entries.flatMap(S=>(S._tags||[]).map(v=>({...v,props:{...v.props}}))).sort(Nb).reduce((S,v)=>{const E=String(v._d||v._p);if(!S.has(E))return S.set(E,v);const k=S.get(E);if(((v==null?void 0:v.tagDuplicateStrategy)||(j3.has(v.tag)?"merge":null)||(v.key&&v.key===k.key?"merge":null))==="merge"){const A={...k.props};Object.entries(v.props).forEach(([z,D])=>A[z]=z==="style"?new Map([...k.props.style||new Map,...D]):z==="class"?new Set([...k.props.class||new Set,...D]):D),S.set(E,{...v,props:A})}else v._p>>10===k._p>>10&&v.tag==="meta"&&O2(E)?(S.set(E,Object.assign([...Array.isArray(k)?k:[k],v],v)),p=!0):(v._w===k._w?v._p>k._p:(v==null?void 0:v._w)<(k==null?void 0:k._w))&&S.set(E,v);return S},d.tagMap);const g=d.tagMap.get("title"),m=d.tagMap.get("titleTemplate");if(l._title=g==null?void 0:g.textContent,m){const S=m==null?void 0:m.textContent;if(l._titleTemplate=S,S){let v=typeof S=="function"?S(g==null?void 0:g.textContent):S;typeof v=="string"&&!l.plugins.has("template-params")&&(v=v.replace("%s",(g==null?void 0:g.textContent)||"")),g?v===null?d.tagMap.delete("title"):d.tagMap.set("title",{...g,textContent:v}):(m.tag="title",m.textContent=v)}}d.tags=Array.from(d.tagMap.values()),p&&(d.tags=d.tags.flat().sort(Nb)),await t.callHook("tags:beforeResolve",d),await t.callHook("tags:resolve",d),await t.callHook("tags:afterResolve",d);const b=[];for(const S of d.tags){const{innerHTML:v,tag:E,props:k}=S;if(I3.has(E)&&!(Object.keys(k).length===0&&!S.innerHTML&&!S.textContent)&&!(E==="meta"&&!k.content&&!k["http-equiv"]&&!k.charset)){if(E==="script"&&v){if((_=k.type)!=null&&_.endsWith("json")){const N=typeof v=="string"?v:JSON.stringify(v);S.innerHTML=N.replace(/</g,"\\u003C")}else typeof v=="string"&&(S.innerHTML=v.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));S._d=Nv(S)}b.push(S)}}return b}};return((e==null?void 0:e.plugins)||[]).forEach(d=>Ib(l,d)),l.hooks.callHook("init",l),(u=e.init)==null||u.forEach(d=>d&&l.push(d)),l}async function M2(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async i=>{var _;const s=new Map,l=new Promise(S=>{e.resolveTags().then(v=>{S(v.map(E=>{const k=s.get(E._d)||0,N={tag:E,id:(k?`${E._d}:${k}`:E._d)||Tb(E),shouldRender:!0};return E._d&&O2(E._d)&&s.set(E._d,k+1),N}))})});let u=e._dom;if(!u){u={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const S of["body","head"]){const v=(_=n[S])==null?void 0:_.children;for(const E of v){const k=E.tagName.toLowerCase();if(!Pb.has(k))continue;const N=j2({tag:k,props:{}},{innerHTML:E.innerHTML,...E.getAttributeNames().reduce((A,z)=>(A[z]=E.getAttribute(z),A),{})||{}});if(N.key=E.getAttribute("data-hid")||void 0,N._d=Nv(N)||Tb(N),u.elMap.has(N._d)){let A=1,z=N._d;for(;u.elMap.has(z);)z=`${N._d}:${A++}`;u.elMap.set(z,E)}else u.elMap.set(N._d,E)}}}u.pendingSideEffects={...u.sideEffects},u.sideEffects={};function d(S,v,E){const k=`${S}:${v}`;u.sideEffects[k]=E,delete u.pendingSideEffects[k]}function p({id:S,$el:v,tag:E}){const k=E.tag.endsWith("Attrs");u.elMap.set(S,v),k||(E.textContent&&E.textContent!==v.textContent&&(v.textContent=E.textContent),E.innerHTML&&E.innerHTML!==v.innerHTML&&(v.innerHTML=E.innerHTML),d(S,"el",()=>{v==null||v.remove(),u.elMap.delete(S)}));for(const N in E.props){if(!Object.prototype.hasOwnProperty.call(E.props,N))continue;const A=E.props[N];if(N.startsWith("on")&&typeof A=="function"){const D=v==null?void 0:v.dataset;if(D&&D[`${N}fired`]){const Z=N.slice(0,-5);A.call(v,new Event(Z.substring(2)))}v.getAttribute(`data-${N}`)!==""&&((E.tag==="bodyAttrs"?n.defaultView:v).addEventListener(N.substring(2),A.bind(v)),v.setAttribute(`data-${N}`,""));continue}const z=`attr:${N}`;if(N==="class"){if(!A)continue;for(const D of A)k&&d(S,`${z}:${D}`,()=>v.classList.remove(D)),!v.classList.contains(D)&&v.classList.add(D)}else if(N==="style"){if(!A)continue;for(const[D,Z]of A)d(S,`${z}:${D}`,()=>{v.style.removeProperty(D)}),v.style.setProperty(D,Z)}else A!==!1&&A!==null&&(v.getAttribute(N)!==A&&v.setAttribute(N,A===!0?"":String(A)),k&&d(S,z,()=>v.removeAttribute(N)))}}const g=[],m={bodyClose:void 0,bodyOpen:void 0,head:void 0},b=await l;for(const S of b){const{tag:v,shouldRender:E,id:k}=S;if(E){if(v.tag==="title"){n.title=v.textContent,d("title","",()=>n.title=u.title);continue}S.$el=S.$el||u.elMap.get(k),S.$el?p(S):Pb.has(v.tag)&&g.push(S)}}for(const S of g){const v=S.tag.tagPosition||"head";S.$el=n.createElement(S.tag.tag),p(S),m[v]=m[v]||n.createDocumentFragment(),m[v].appendChild(S.$el)}for(const S of b)await e.hooks.callHook("dom:renderTag",S,n,d);m.head&&n.head.appendChild(m.head),m.bodyOpen&&n.body.insertBefore(m.bodyOpen,n.body.firstChild),m.bodyClose&&n.body.appendChild(m.bodyClose);for(const S in u.pendingSideEffects)u.pendingSideEffects[S]();e._dom=u,await e.hooks.callHook("dom:rendered",{renders:b}),i()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function H3(e={}){var r,i,s;const t=((r=e.domOptions)==null?void 0:r.render)||M2;e.document=e.document||(typeof window<"u"?document:void 0);const n=((s=(i=e.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:s.innerHTML)||!1;return Z3({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function W3(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}const z2=C.createContext(null);function D2(e={}){const t=H3({domOptions:{render:W3(()=>M2(t),n=>setTimeout(n,0))},...e});return t}function V3({children:e,head:t}){return C.createElement(z2.Provider,{value:t||D2()},e)}const bd={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},q3={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},B2={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>`${Io(e)}=${t}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:e,value:t})=>e==="seconds"?`${t}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>typeof t=="boolean"?Io(e):`${Io(e)}:${t}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:e,value:t})=>`${Io(e)} ${t}`}},charset:{}};function Io(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t.indexOf("-");return n===-1?t:bd.META.has(t.slice(0,n))||bd.OG.has(t.slice(0,n))?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function F2(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>String(n)!=="false"&&t))}function Rv(e){return Array.isArray(e)?e.map(Rv):!e||typeof e!="object"?e:Object.fromEntries(Object.entries(e).map(([t,n])=>[Io(t),Rv(n)]))}function U2(e,t={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:i,resolve:s}=t;return Object.entries(e).map(([l,u])=>{if(s){const p=s({key:l,value:u});if(p!==void 0)return p}const d=typeof u=="object"?U2(u,t):typeof u=="number"?u.toString():typeof u=="string"&&i?`${i}${u.replace(new RegExp(i,"g"),`\\${i}`)}${i}`:u;return`${l}${r}${d}`}).join(n)}function Lb(e,t){const n=F2(t),r=Io(e),i=$2(r);if(!z0.has(r))return[{[i]:r,...n}];const s=Object.fromEntries(Object.entries(n).map(([l,u])=>[`${e}${l==="url"?"":`${l[0].toUpperCase()}${l.slice(1)}`}`,u]));return ip(s||{}).sort((l,u)=>{var d,p;return(((d=l[i])==null?void 0:d.length)||0)-(((p=u[i])==null?void 0:p.length)||0)})}function $2(e){var r;if(((r=B2[e])==null?void 0:r.metaKey)==="http-equiv"||bd.HTTP_EQUIV.has(e))return"http-equiv";const t=Io(e),n=t.indexOf(":");return n===-1?"name":bd.OG.has(t.slice(0,n))?"property":"name"}function K3(e){return q3[e]||Io(e)}function G3(e,t){var n;return t==="refresh"?`${e.seconds};url=${e.url}`:U2(Rv(e),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:i})=>r===null?"":typeof r=="boolean"?i:void 0,...(n=B2[t])==null?void 0:n.unpack})}function ip(e){const t=[],n={};for(const[i,s]of Object.entries(e)){if(Array.isArray(s)){if(i==="themeColor"){s.forEach(l=>{typeof l=="object"&&l!==null&&t.push({name:"theme-color",...l})});continue}for(const l of s)if(typeof l=="object"&&l!==null){const u=[],d=[];for(const[p,g]of Object.entries(l)){const m=`${i}${p==="url"?"":`:${p}`}`,b=ip({[m]:g});(p==="url"?u:d).push(...b)}t.push(...u,...d)}else t.push(...typeof l=="string"?ip({[i]:l}):Lb(i,l));continue}if(typeof s=="object"&&s)if(bd.MEDIA.has(i)){const l=i.startsWith("twitter")?"twitter":"og",u=i.replace(/^(og|twitter)/,"").toLowerCase(),d=l==="twitter"?"name":"property";s.url&&t.push({[d]:`${l}:${u}`,content:s.url}),s.secureUrl&&t.push({[d]:`${l}:${u}:secure_url`,content:s.secureUrl});for(const[p,g]of Object.entries(s))p!=="url"&&p!=="secureUrl"&&t.push({[d]:`${l}:${u}:${p}`,content:g})}else z0.has(Io(i))?t.push(...Lb(i,s)):n[i]=F2(s);else n[i]=s}const r=Object.entries(n).map(([i,s])=>{if(i==="charset")return{charset:s===null?"_null":s};const l=$2(i),u=K3(i),d=s===null?"_null":typeof s=="object"?G3(s,i):typeof s=="number"?s.toString():s;return l==="http-equiv"?{"http-equiv":u,content:d}:{[l]:u,content:d}});return[...t,...r].map(i=>"content"in i&&i.content==="_null"?{...i,content:null}:i)}const Y3={key:"flatMeta",hooks:{"entries:normalize":e=>{const t=[];e.tags=e.tags.map(n=>n.tag!=="_flatMeta"?n:(t.push(ip(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...t)}}};function J3(e={}){return t=>(t.push({meta:[{name:"twitter:card",content:e.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:n})=>{var u,d;let r=t._titleTemplate||t._title;const i=n.get("meta:og:title");typeof(i==null?void 0:i.props["data-infer"])<"u"&&(typeof r=="function"&&(r=r(t._title)),i.props.content=e.ogTitle?e.ogTitle(r):r||"",i.processTemplateParams=!0);const s=(d=(u=n.get("meta:description"))==null?void 0:u.props)==null?void 0:d.content,l=n.get("meta:og:description");typeof(l==null?void 0:l.props["data-infer"])<"u"&&(l.props.content=e.ogDescription?e.ogDescription(s):s||"",l.processTemplateParams=!0)}}})}class gd{constructor(t){He(this,"pubkey");He(this,"relays");He(this,"secret");const n=new URL(t),r=new URLSearchParams(n.search),i=n.hostname||n.pathname.slice(2),s=r.getAll("relay"),l=r.get("secret")??void 0;if(!i)throw new Error("Invalid bunker URI");this.pubkey=i,this.relays=s,this.secret=l}get href(){return this.toString()}toString(){return gd.toString(this)}static fromJSON(t){const n=gd.toString(t);return new gd(n)}static toString(t){const n=new URLSearchParams;for(const r of t.relays)n.append("relay",r);return t.secret&&n.set("secret",t.secret),`bunker://${t.pubkey}?${n.toString()}`}}class Q3{get nostr(){const t=globalThis.nostr;if(!t)throw new Error("Browser extension not available");return t}async getPublicKey(){const t=await this.nostr.getPublicKey();if(typeof t!="string")throw new Error(`Nostr public key retrieval failed: expected string, got ${JSON.stringify(t)}`);return t}async signEvent(t){const n=await this.nostr.signEvent(t);if(typeof n!="object"||!n.id||!n.pubkey||!n.sig)throw new Error(`Nostr event signing failed: expected object with id, pubkey, and sig, got ${JSON.stringify(n)}`);return n}async getRelays(){if(!this.nostr.getRelays)return{};const t=await this.nostr.getRelays();if(typeof t!="object"||t===null)throw new Error(`Nostr getRelays failed: expected object, got ${JSON.stringify(t)}`);return this.nostr.getRelays()}get nip04(){const t=this.nostr;if(t.nip04)return{encrypt:async(n,r)=>{const i=await t.nip04.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip04.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}get nip44(){const t=this.nostr;if(t.nip44)return{encrypt:async(n,r)=>{const i=await t.nip44.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip44.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}}function Ob(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Z2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function X3(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ob(e.outputLen),Ob(e.blockLen)}function op(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function eL(e,t){Z2(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const cy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const H2=e=>e instanceof Uint8Array,uy=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Di=(e,t)=>e<<32-t|e>>>t,tL=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!tL)throw new Error("Non little-endian hardware is not supported");function nL(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function D0(e){if(typeof e=="string"&&(e=nL(e)),!H2(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function rL(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!H2(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let W2=class{clone(){return this._cloneInto()}};function iL(e){const t=r=>e().update(D0(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function V2(e=32){if(cy&&typeof cy.getRandomValues=="function")return cy.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function oL(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(n>>i&s),u=Number(n&s),d=r?4:0,p=r?0:4;e.setUint32(t+d,l,r),e.setUint32(t+p,u,r)}let sL=class extends W2{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=uy(this.buffer)}update(t){op(this);const{view:n,buffer:r,blockLen:i}=this;t=D0(t);const s=t.length;for(let l=0;l<s;){const u=Math.min(i-this.pos,s-l);if(u===i){const d=uy(t);for(;i<=s-l;l+=i)this.process(d,l);continue}r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){op(this),eL(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let m=l;m<i;m++)n[m]=0;oL(r,i-8,BigInt(this.length*8),s),this.process(r,0);const u=uy(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)u.setUint32(4*m,g[m],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:u}=this;return t.length=i,t.pos=u,t.finished=s,t.destroyed=l,i%n&&t.buffer.set(r),t}};const aL=(e,t,n)=>e&t^~e&n,lL=(e,t,n)=>e&t^e&n^t&n,cL=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ks=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cs=new Uint32Array(64);let uL=class extends sL{constructor(){super(64,32,8,!1),this.A=ks[0]|0,this.B=ks[1]|0,this.C=ks[2]|0,this.D=ks[3]|0,this.E=ks[4]|0,this.F=ks[5]|0,this.G=ks[6]|0,this.H=ks[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:l,G:u,H:d}=this;return[t,n,r,i,s,l,u,d]}set(t,n,r,i,s,l,u,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=l|0,this.G=u|0,this.H=d|0}process(t,n){for(let m=0;m<16;m++,n+=4)Cs[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const b=Cs[m-15],_=Cs[m-2],S=Di(b,7)^Di(b,18)^b>>>3,v=Di(_,17)^Di(_,19)^_>>>10;Cs[m]=v+Cs[m-7]+S+Cs[m-16]|0}let{A:r,B:i,C:s,D:l,E:u,F:d,G:p,H:g}=this;for(let m=0;m<64;m++){const b=Di(u,6)^Di(u,11)^Di(u,25),_=g+b+aL(u,d,p)+cL[m]+Cs[m]|0,v=(Di(r,2)^Di(r,13)^Di(r,22))+lL(r,i,s)|0;g=p,p=d,d=u,u=l+_|0,l=s,s=i,i=r,r=_+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,i,s,l,u,d,p,g)}roundClean(){Cs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Iv=iL(()=>new uL);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const q2=BigInt(0),Op=BigInt(1),dL=BigInt(2),jp=e=>e instanceof Uint8Array,fL=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Bc(e){if(!jp(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=fL[e[n]];return t}function K2(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function B0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Fc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,s=e.slice(i,i+2),l=Number.parseInt(s,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function mr(e){return B0(Bc(e))}function F0(e){if(!jp(e))throw new Error("Uint8Array expected");return B0(Bc(Uint8Array.from(e).reverse()))}function ea(e,t){return Fc(e.toString(16).padStart(t*2,"0"))}function U0(e,t){return ea(e,t).reverse()}function hL(e){return Fc(K2(e))}function Bn(e,t,n){let r;if(typeof t=="string")try{r=Fc(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(jp(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function sl(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!jp(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function pL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function mL(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function gL(e){let t;for(t=0;e>q2;e>>=Op,t+=1);return t}function yL(e,t){return e>>BigInt(t)&Op}const vL=(e,t,n)=>e|(n?Op:q2)<<BigInt(t),$0=e=>(dL<<BigInt(e-1))-Op,dy=e=>new Uint8Array(e),jb=e=>Uint8Array.from(e);function G2(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=dy(e),i=dy(e),s=0;const l=()=>{r.fill(1),i.fill(0),s=0},u=(...m)=>n(i,r,...m),d=(m=dy())=>{i=u(jb([0]),m),r=u(),m.length!==0&&(i=u(jb([1]),m),r=u())},p=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const b=[];for(;m<t;){r=u();const _=r.slice();b.push(_),m+=r.length}return sl(...b)};return(m,b)=>{l(),d(m);let _;for(;!(_=b(p()));)d();return l(),_}}const wL={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function qd(e,t,n={}){const r=(i,s,l)=>{const u=wL[s];if(typeof u!="function")throw new Error(`Invalid validator "${s}", expected function`);const d=e[i];if(!(l&&d===void 0)&&!u(d,e))throw new Error(`Invalid param ${String(i)}=${d} (${typeof d}), expected ${s}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const _L=Object.freeze(Object.defineProperty({__proto__:null,bitGet:yL,bitLen:gL,bitMask:$0,bitSet:vL,bytesToHex:Bc,bytesToNumberBE:mr,bytesToNumberLE:F0,concatBytes:sl,createHmacDrbg:G2,ensureBytes:Bn,equalBytes:pL,hexToBytes:Fc,hexToNumber:B0,numberToBytesBE:ea,numberToBytesLE:U0,numberToHexUnpadded:K2,numberToVarBytesBE:hL,utf8ToBytes:mL,validateObject:qd},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kn=BigInt(0),dn=BigInt(1),Ua=BigInt(2),xL=BigInt(3),Lv=BigInt(4),Mb=BigInt(5),zb=BigInt(8);BigInt(9);BigInt(16);function Nn(e,t){const n=e%t;return n>=kn?n:t+n}function bL(e,t,n){if(n<=kn||t<kn)throw new Error("Expected power/modulo > 0");if(n===dn)return kn;let r=dn;for(;t>kn;)t&dn&&(r=r*e%n),e=e*e%n,t>>=dn;return r}function Vr(e,t,n){let r=e;for(;t-- >kn;)r*=r,r%=n;return r}function Ov(e,t){if(e===kn||t<=kn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Nn(e,t),r=t,i=kn,s=dn;for(;n!==kn;){const u=r/n,d=r%n,p=i-s*u;r=n,n=d,i=s,s=p}if(r!==dn)throw new Error("invert: does not exist");return Nn(i,t)}function EL(e){const t=(e-dn)/Ua;let n,r,i;for(n=e-dn,r=0;n%Ua===kn;n/=Ua,r++);for(i=Ua;i<e&&bL(i,t,e)!==e-dn;i++);if(r===1){const l=(e+dn)/Lv;return function(d,p){const g=d.pow(p,l);if(!d.eql(d.sqr(g),p))throw new Error("Cannot find square root");return g}}const s=(n+dn)/Ua;return function(u,d){if(u.pow(d,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let p=r,g=u.pow(u.mul(u.ONE,i),n),m=u.pow(d,s),b=u.pow(d,n);for(;!u.eql(b,u.ONE);){if(u.eql(b,u.ZERO))return u.ZERO;let _=1;for(let v=u.sqr(b);_<p&&!u.eql(v,u.ONE);_++)v=u.sqr(v);const S=u.pow(g,dn<<BigInt(p-_-1));g=u.sqr(S),m=u.mul(m,S),b=u.mul(b,g),p=_}return m}}function SL(e){if(e%Lv===xL){const t=(e+dn)/Lv;return function(r,i){const s=r.pow(i,t);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%zb===Mb){const t=(e-Mb)/zb;return function(r,i){const s=r.mul(i,Ua),l=r.pow(s,t),u=r.mul(i,l),d=r.mul(r.mul(u,Ua),l),p=r.mul(u,r.sub(d,r.ONE));if(!r.eql(r.sqr(p),i))throw new Error("Cannot find square root");return p}}return EL(e)}const kL=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CL(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=kL.reduce((r,i)=>(r[i]="function",r),t);return qd(e,n)}function PL(e,t,n){if(n<kn)throw new Error("Expected power > 0");if(n===kn)return e.ONE;if(n===dn)return t;let r=e.ONE,i=t;for(;n>kn;)n&dn&&(r=e.mul(r,i)),i=e.sqr(i),n>>=dn;return r}function TL(e,t){const n=new Array(t.length),r=t.reduce((s,l,u)=>e.is0(l)?s:(n[u]=s,e.mul(s,l)),e.ONE),i=e.inv(r);return t.reduceRight((s,l,u)=>e.is0(l)?s:(n[u]=e.mul(s,n[u]),e.mul(s,l)),i),n}function Y2(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function NL(e,t,n=!1,r={}){if(e<=kn)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=Y2(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=SL(e),u=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:$0(i),ZERO:kn,ONE:dn,create:d=>Nn(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return kn<=d&&d<e},is0:d=>d===kn,isOdd:d=>(d&dn)===dn,neg:d=>Nn(-d,e),eql:(d,p)=>d===p,sqr:d=>Nn(d*d,e),add:(d,p)=>Nn(d+p,e),sub:(d,p)=>Nn(d-p,e),mul:(d,p)=>Nn(d*p,e),pow:(d,p)=>PL(u,d,p),div:(d,p)=>Nn(d*Ov(p,e),e),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>Ov(d,e),sqrt:r.sqrt||(d=>l(u,d)),invertBatch:d=>TL(u,d),cmov:(d,p,g)=>g?p:d,toBytes:d=>n?U0(d,s):ea(d,s),fromBytes:d=>{if(d.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${d.length}`);return n?F0(d):mr(d)}});return Object.freeze(u)}function J2(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Q2(e){const t=J2(e);return t+Math.ceil(t/2)}function AL(e,t,n=!1){const r=e.length,i=J2(t),s=Q2(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const l=n?mr(e):F0(e),u=Nn(l,t-dn)+dn;return n?U0(u,i):ea(u,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RL=BigInt(0),fy=BigInt(1);function IL(e,t){const n=(i,s)=>{const l=s.negate();return i?l:s},r=i=>{const s=Math.ceil(t/i)+1,l=2**(i-1);return{windows:s,windowSize:l}};return{constTimeNegate:n,unsafeLadder(i,s){let l=e.ZERO,u=i;for(;s>RL;)s&fy&&(l=l.add(u)),u=u.double(),s>>=fy;return l},precomputeWindow(i,s){const{windows:l,windowSize:u}=r(s),d=[];let p=i,g=p;for(let m=0;m<l;m++){g=p,d.push(g);for(let b=1;b<u;b++)g=g.add(p),d.push(g);p=g.double()}return d},wNAF(i,s,l){const{windows:u,windowSize:d}=r(i);let p=e.ZERO,g=e.BASE;const m=BigInt(2**i-1),b=2**i,_=BigInt(i);for(let S=0;S<u;S++){const v=S*d;let E=Number(l&m);l>>=_,E>d&&(E-=b,l+=fy);const k=v,N=v+Math.abs(E)-1,A=S%2!==0,z=E<0;E===0?g=g.add(n(A,s[k])):p=p.add(n(z,s[N]))}return{p,f:g}},wNAFCached(i,s,l,u){const d=i._WINDOW_SIZE||1;let p=s.get(i);return p||(p=this.precomputeWindow(i,d),d!==1&&s.set(i,u(p))),this.wNAF(d,p,l)}}}function X2(e){return CL(e.Fp),qd(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Y2(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function LL(e){const t=X2(e);qd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:OL,hexToBytes:jL}=_L,$a={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=$a;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:OL(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=$a,n=typeof e=="string"?jL(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=$a._parseInt(n.subarray(2)),{d:l,l:u}=$a._parseInt(s);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:l}},hexFromSig(e){const t=p=>Number.parseInt(p[0],16)&8?"00"+p:p,n=p=>{const g=p.toString(16);return g.length&1?`0${g}`:g},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,l=i.length/2,u=n(s),d=n(l);return`30${n(l+s+4)}02${d}${i}02${u}${r}`}},Ao=BigInt(0),Jr=BigInt(1);BigInt(2);const Db=BigInt(3);BigInt(4);function ML(e){const t=LL(e),{Fp:n}=t,r=t.toBytes||((S,v,E)=>{const k=v.toAffine();return sl(Uint8Array.from([4]),n.toBytes(k.x),n.toBytes(k.y))}),i=t.fromBytes||(S=>{const v=S.subarray(1),E=n.fromBytes(v.subarray(0,n.BYTES)),k=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:E,y:k}});function s(S){const{a:v,b:E}=t,k=n.sqr(S),N=n.mul(k,S);return n.add(n.add(N,n.mul(S,v)),E)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function l(S){return typeof S=="bigint"&&Ao<S&&S<t.n}function u(S){if(!l(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(S){const{allowedPrivateKeyLengths:v,nByteLength:E,wrapPrivateKey:k,n:N}=t;if(v&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=Bc(S)),typeof S!="string"||!v.includes(S.length))throw new Error("Invalid key");S=S.padStart(E*2,"0")}let A;try{A=typeof S=="bigint"?S:mr(Bn("private key",S,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof S}`)}return k&&(A=Nn(A,N)),u(A),A}const p=new Map;function g(S){if(!(S instanceof m))throw new Error("ProjectivePoint expected")}class m{constructor(v,E,k){if(this.px=v,this.py=E,this.pz=k,v==null||!n.isValid(v))throw new Error("x required");if(E==null||!n.isValid(E))throw new Error("y required");if(k==null||!n.isValid(k))throw new Error("z required")}static fromAffine(v){const{x:E,y:k}=v||{};if(!v||!n.isValid(E)||!n.isValid(k))throw new Error("invalid affine point");if(v instanceof m)throw new Error("projective point not allowed");const N=A=>n.eql(A,n.ZERO);return N(E)&&N(k)?m.ZERO:new m(E,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const E=n.invertBatch(v.map(k=>k.pz));return v.map((k,N)=>k.toAffine(E[N])).map(m.fromAffine)}static fromHex(v){const E=m.fromAffine(i(Bn("pointHex",v)));return E.assertValidity(),E}static fromPrivateKey(v){return m.BASE.multiply(d(v))}_setWindowSize(v){this._WINDOW_SIZE=v,p.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:E}=this.toAffine();if(!n.isValid(v)||!n.isValid(E))throw new Error("bad point: x or y not FE");const k=n.sqr(E),N=s(v);if(!n.eql(k,N))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){g(v);const{px:E,py:k,pz:N}=this,{px:A,py:z,pz:D}=v,Z=n.eql(n.mul(E,D),n.mul(A,N)),H=n.eql(n.mul(k,D),n.mul(z,N));return Z&&H}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:E}=t,k=n.mul(E,Db),{px:N,py:A,pz:z}=this;let D=n.ZERO,Z=n.ZERO,H=n.ZERO,q=n.mul(N,N),F=n.mul(A,A),W=n.mul(z,z),J=n.mul(N,A);return J=n.add(J,J),H=n.mul(N,z),H=n.add(H,H),D=n.mul(v,H),Z=n.mul(k,W),Z=n.add(D,Z),D=n.sub(F,Z),Z=n.add(F,Z),Z=n.mul(D,Z),D=n.mul(J,D),H=n.mul(k,H),W=n.mul(v,W),J=n.sub(q,W),J=n.mul(v,J),J=n.add(J,H),H=n.add(q,q),q=n.add(H,q),q=n.add(q,W),q=n.mul(q,J),Z=n.add(Z,q),W=n.mul(A,z),W=n.add(W,W),q=n.mul(W,J),D=n.sub(D,q),H=n.mul(W,F),H=n.add(H,H),H=n.add(H,H),new m(D,Z,H)}add(v){g(v);const{px:E,py:k,pz:N}=this,{px:A,py:z,pz:D}=v;let Z=n.ZERO,H=n.ZERO,q=n.ZERO;const F=t.a,W=n.mul(t.b,Db);let J=n.mul(E,A),U=n.mul(k,z),X=n.mul(N,D),O=n.add(E,k),K=n.add(A,z);O=n.mul(O,K),K=n.add(J,U),O=n.sub(O,K),K=n.add(E,N);let se=n.add(A,D);return K=n.mul(K,se),se=n.add(J,X),K=n.sub(K,se),se=n.add(k,N),Z=n.add(z,D),se=n.mul(se,Z),Z=n.add(U,X),se=n.sub(se,Z),q=n.mul(F,K),Z=n.mul(W,X),q=n.add(Z,q),Z=n.sub(U,q),q=n.add(U,q),H=n.mul(Z,q),U=n.add(J,J),U=n.add(U,J),X=n.mul(F,X),K=n.mul(W,K),U=n.add(U,X),X=n.sub(J,X),X=n.mul(F,X),K=n.add(K,X),J=n.mul(U,K),H=n.add(H,J),J=n.mul(se,K),Z=n.mul(O,Z),Z=n.sub(Z,J),J=n.mul(O,U),q=n.mul(se,q),q=n.add(q,J),new m(Z,H,q)}subtract(v){return this.add(v.negate())}is0(){return this.equals(m.ZERO)}wNAF(v){return _.wNAFCached(this,p,v,E=>{const k=n.invertBatch(E.map(N=>N.pz));return E.map((N,A)=>N.toAffine(k[A])).map(m.fromAffine)})}multiplyUnsafe(v){const E=m.ZERO;if(v===Ao)return E;if(u(v),v===Jr)return this;const{endo:k}=t;if(!k)return _.unsafeLadder(this,v);let{k1neg:N,k1:A,k2neg:z,k2:D}=k.splitScalar(v),Z=E,H=E,q=this;for(;A>Ao||D>Ao;)A&Jr&&(Z=Z.add(q)),D&Jr&&(H=H.add(q)),q=q.double(),A>>=Jr,D>>=Jr;return N&&(Z=Z.negate()),z&&(H=H.negate()),H=new m(n.mul(H.px,k.beta),H.py,H.pz),Z.add(H)}multiply(v){u(v);let E=v,k,N;const{endo:A}=t;if(A){const{k1neg:z,k1:D,k2neg:Z,k2:H}=A.splitScalar(E);let{p:q,f:F}=this.wNAF(D),{p:W,f:J}=this.wNAF(H);q=_.constTimeNegate(z,q),W=_.constTimeNegate(Z,W),W=new m(n.mul(W.px,A.beta),W.py,W.pz),k=q.add(W),N=F.add(J)}else{const{p:z,f:D}=this.wNAF(E);k=z,N=D}return m.normalizeZ([k,N])[0]}multiplyAndAddUnsafe(v,E,k){const N=m.BASE,A=(D,Z)=>Z===Ao||Z===Jr||!D.equals(N)?D.multiplyUnsafe(Z):D.multiply(Z),z=A(this,E).add(A(v,k));return z.is0()?void 0:z}toAffine(v){const{px:E,py:k,pz:N}=this,A=this.is0();v==null&&(v=A?n.ONE:n.inv(N));const z=n.mul(E,v),D=n.mul(k,v),Z=n.mul(N,v);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Z,n.ONE))throw new Error("invZ was invalid");return{x:z,y:D}}isTorsionFree(){const{h:v,isTorsionFree:E}=t;if(v===Jr)return!0;if(E)return E(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:E}=t;return v===Jr?this:E?E(m,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return this.assertValidity(),r(m,this,v)}toHex(v=!0){return Bc(this.toRawBytes(v))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,_=IL(m,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:s,isWithinCurveOrder:l}}function zL(e){const t=X2(e);return qd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function DL(e){const t=zL(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function l(K){return Ao<K&&K<n.ORDER}function u(K){return Nn(K,r)}function d(K){return Ov(K,r)}const{ProjectivePoint:p,normPrivateKeyToScalar:g,weierstrassEquation:m,isWithinCurveOrder:b}=ML({...t,toBytes(K,se,ie){const te=se.toAffine(),ee=n.toBytes(te.x),le=sl;return ie?le(Uint8Array.from([se.hasEvenY()?2:3]),ee):le(Uint8Array.from([4]),ee,n.toBytes(te.y))},fromBytes(K){const se=K.length,ie=K[0],te=K.subarray(1);if(se===i&&(ie===2||ie===3)){const ee=mr(te);if(!l(ee))throw new Error("Point is not on curve");const le=m(ee);let $=n.sqrt(le);const Q=($&Jr)===Jr;return(ie&1)===1!==Q&&($=n.neg($)),{x:ee,y:$}}else if(se===s&&ie===4){const ee=n.fromBytes(te.subarray(0,n.BYTES)),le=n.fromBytes(te.subarray(n.BYTES,2*n.BYTES));return{x:ee,y:le}}else throw new Error(`Point of length ${se} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),_=K=>Bc(ea(K,t.nByteLength));function S(K){const se=r>>Jr;return K>se}function v(K){return S(K)?u(-K):K}const E=(K,se,ie)=>mr(K.slice(se,ie));class k{constructor(se,ie,te){this.r=se,this.s=ie,this.recovery=te,this.assertValidity()}static fromCompact(se){const ie=t.nByteLength;return se=Bn("compactSignature",se,ie*2),new k(E(se,0,ie),E(se,ie,2*ie))}static fromDER(se){const{r:ie,s:te}=$a.toSig(Bn("DER",se));return new k(ie,te)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(se){return new k(this.r,this.s,se)}recoverPublicKey(se){const{r:ie,s:te,recovery:ee}=this,le=H(Bn("msgHash",se));if(ee==null||![0,1,2,3].includes(ee))throw new Error("recovery id invalid");const $=ee===2||ee===3?ie+t.n:ie;if($>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Q=(ee&1)===0?"02":"03",ke=p.fromHex(Q+_($)),_e=d($),ve=u(-le*_e),Ie=u(te*_e),Te=p.BASE.multiplyAndAddUnsafe(ke,ve,Ie);if(!Te)throw new Error("point at infinify");return Te.assertValidity(),Te}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Fc(this.toDERHex())}toDERHex(){return $a.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Fc(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}const N={isValidPrivateKey(K){try{return g(K),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const K=Q2(t.n);return AL(t.randomBytes(K),t.n)},precompute(K=8,se=p.BASE){return se._setWindowSize(K),se.multiply(BigInt(3)),se}};function A(K,se=!0){return p.fromPrivateKey(K).toRawBytes(se)}function z(K){const se=K instanceof Uint8Array,ie=typeof K=="string",te=(se||ie)&&K.length;return se?te===i||te===s:ie?te===2*i||te===2*s:K instanceof p}function D(K,se,ie=!0){if(z(K))throw new Error("first arg must be private key");if(!z(se))throw new Error("second arg must be public key");return p.fromHex(se).multiply(g(K)).toRawBytes(ie)}const Z=t.bits2int||function(K){const se=mr(K),ie=K.length*8-t.nBitLength;return ie>0?se>>BigInt(ie):se},H=t.bits2int_modN||function(K){return u(Z(K))},q=$0(t.nBitLength);function F(K){if(typeof K!="bigint")throw new Error("bigint expected");if(!(Ao<=K&&K<q))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ea(K,t.nByteLength)}function W(K,se,ie=J){if(["recovered","canonical"].some(je=>je in ie))throw new Error("sign() legacy options not supported");const{hash:te,randomBytes:ee}=t;let{lowS:le,prehash:$,extraEntropy:Q}=ie;le==null&&(le=!0),K=Bn("msgHash",K),$&&(K=Bn("prehashed msgHash",te(K)));const ke=H(K),_e=g(se),ve=[F(_e),F(ke)];if(Q!=null){const je=Q===!0?ee(n.BYTES):Q;ve.push(Bn("extraEntropy",je))}const Ie=sl(...ve),Te=ke;function Ne(je){const Ze=Z(je);if(!b(Ze))return;const Qe=d(Ze),ot=p.BASE.multiply(Ze).toAffine(),at=u(ot.x);if(at===Ao)return;const B=u(Qe*u(Te+at*_e));if(B===Ao)return;let Pe=(ot.x===at?0:2)|Number(ot.y&Jr),be=B;return le&&S(B)&&(be=v(B),Pe^=1),new k(at,be,Pe)}return{seed:Ie,k2sig:Ne}}const J={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};function X(K,se,ie=J){const{seed:te,k2sig:ee}=W(K,se,ie),le=t;return G2(le.hash.outputLen,le.nByteLength,le.hmac)(te,ee)}p.BASE._setWindowSize(8);function O(K,se,ie,te=U){var ot;const ee=K;if(se=Bn("msgHash",se),ie=Bn("publicKey",ie),"strict"in te)throw new Error("options.strict was renamed to lowS");const{lowS:le,prehash:$}=te;let Q,ke;try{if(typeof ee=="string"||ee instanceof Uint8Array)try{Q=k.fromDER(ee)}catch(at){if(!(at instanceof $a.Err))throw at;Q=k.fromCompact(ee)}else if(typeof ee=="object"&&typeof ee.r=="bigint"&&typeof ee.s=="bigint"){const{r:at,s:B}=ee;Q=new k(at,B)}else throw new Error("PARSE");ke=p.fromHex(ie)}catch(at){if(at.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(le&&Q.hasHighS())return!1;$&&(se=t.hash(se));const{r:_e,s:ve}=Q,Ie=H(se),Te=d(ve),Ne=u(Ie*Te),je=u(_e*Te),Ze=(ot=p.BASE.multiplyAndAddUnsafe(ke,Ne,je))==null?void 0:ot.toAffine();return Ze?u(Ze.x)===_e:!1}return{CURVE:t,getPublicKey:A,getSharedSecret:D,sign:X,verify:O,ProjectivePoint:p,Signature:k,utils:N}}let eS=class extends W2{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,X3(t);const r=D0(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=t.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),s.fill(0)}update(t){return op(this),this.iHash.update(t),this}digestInto(t){op(this),Z2(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:l,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=l,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const tS=(e,t,n)=>new eS(e,t).update(n).digest();tS.create=(e,t)=>new eS(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function BL(e){return{hash:e,hmac:(t,...n)=>tS(e,t,rL(...n)),randomBytes:V2}}function FL(e,t){const n=r=>DL({...e,...BL(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mp=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),sp=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),nS=BigInt(1),ap=BigInt(2),Bb=(e,t)=>(e+t/ap)/t;function rS(e){const t=Mp,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),l=BigInt(23),u=BigInt(44),d=BigInt(88),p=e*e*e%t,g=p*p*e%t,m=Vr(g,n,t)*g%t,b=Vr(m,n,t)*g%t,_=Vr(b,ap,t)*p%t,S=Vr(_,i,t)*_%t,v=Vr(S,s,t)*S%t,E=Vr(v,u,t)*v%t,k=Vr(E,d,t)*E%t,N=Vr(k,u,t)*v%t,A=Vr(N,n,t)*g%t,z=Vr(A,l,t)*S%t,D=Vr(z,r,t)*p%t,Z=Vr(D,ap,t);if(!jv.eql(jv.sqr(Z),e))throw new Error("Cannot find square root");return Z}const jv=NL(Mp,void 0,void 0,{sqrt:rS}),Kc=FL({a:BigInt(0),b:BigInt(7),Fp:jv,n:sp,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=sp,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-nS*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,l=BigInt("0x100000000000000000000000000000000"),u=Bb(s*e,t),d=Bb(-r*e,t);let p=Nn(e-u*n-d*i,t),g=Nn(-u*r-d*s,t);const m=p>l,b=g>l;if(m&&(p=t-p),b&&(g=t-g),p>l||g>l)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:p,k2neg:b,k2:g}}}},Iv),zp=BigInt(0),iS=e=>typeof e=="bigint"&&zp<e&&e<Mp,UL=e=>typeof e=="bigint"&&zp<e&&e<sp,Fb={};function lp(e,...t){let n=Fb[e];if(n===void 0){const r=Iv(Uint8Array.from(e,i=>i.charCodeAt(0)));n=sl(r,r),Fb[e]=n}return Iv(sl(n,...t))}const Z0=e=>e.toRawBytes(!0).slice(1),Mv=e=>ea(e,32),hy=e=>Nn(e,Mp),Ed=e=>Nn(e,sp),H0=Kc.ProjectivePoint,$L=(e,t,n)=>H0.BASE.multiplyAndAddUnsafe(e,t,n);function zv(e){let t=Kc.utils.normPrivateKeyToScalar(e),n=H0.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Ed(-t),bytes:Z0(n)}}function oS(e){if(!iS(e))throw new Error("bad x: need 0 < x < p");const t=hy(e*e),n=hy(t*e+BigInt(7));let r=rS(n);r%ap!==zp&&(r=hy(-r));const i=new H0(e,r,nS);return i.assertValidity(),i}function sS(...e){return Ed(mr(lp("BIP0340/challenge",...e)))}function ZL(e){return zv(e).bytes}function HL(e,t,n=V2(32)){const r=Bn("message",e),{bytes:i,scalar:s}=zv(t),l=Bn("auxRand",n,32),u=Mv(s^mr(lp("BIP0340/aux",l))),d=lp("BIP0340/nonce",u,i,r),p=Ed(mr(d));if(p===zp)throw new Error("sign failed: k is zero");const{bytes:g,scalar:m}=zv(p),b=sS(g,i,r),_=new Uint8Array(64);if(_.set(g,0),_.set(Mv(Ed(m+b*s)),32),!aS(_,r,i))throw new Error("sign: Invalid signature produced");return _}function aS(e,t,n){const r=Bn("signature",e,64),i=Bn("message",t),s=Bn("publicKey",n,32);try{const l=oS(mr(s)),u=mr(r.subarray(0,32));if(!iS(u))return!1;const d=mr(r.subarray(32,64));if(!UL(d))return!1;const p=sS(Mv(u),Z0(l),i),g=$L(l,d,Ed(-p));return!(!g||!g.hasEvenY()||g.toAffine().x!==u)}catch{return!1}}const rd={getPublicKey:ZL,sign:HL,verify:aS,utils:{randomPrivateKey:Kc.utils.randomPrivateKey,lift_x:oS,pointToBytes:Z0,numberToBytesBE:ea,bytesToNumberBE:mr,taggedHash:lp,mod:Nn}},py=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const W0=e=>e instanceof Uint8Array,my=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Bi=(e,t)=>e<<32-t|e>>>t,WL=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!WL)throw new Error("Non little-endian hardware is not supported");const VL=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fn(e){if(!W0(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=VL[e[n]];return t}function al(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,s=e.slice(i,i+2),l=Number.parseInt(s,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function qL(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Sd(e){if(typeof e=="string"&&(e=qL(e)),!W0(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Dp(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!W0(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class lS{clone(){return this._cloneInto()}}function cS(e){const t=r=>e().update(Sd(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function uS(e=32){if(py&&typeof py.getRandomValues=="function")return py.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Dv(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function KL(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function dS(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function GL(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Dv(e.outputLen),Dv(e.blockLen)}function YL(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function JL(e,t){dS(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Gi={number:Dv,bool:KL,bytes:dS,hash:GL,exists:YL,output:JL};function QL(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(n>>i&s),u=Number(n&s),d=r?4:0,p=r?0:4;e.setUint32(t+d,l,r),e.setUint32(t+p,u,r)}class XL extends lS{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=my(this.buffer)}update(t){Gi.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=Sd(t);const s=t.length;for(let l=0;l<s;){const u=Math.min(i-this.pos,s-l);if(u===i){const d=my(t);for(;i<=s-l;l+=i)this.process(d,l);continue}r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Gi.exists(this),Gi.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let m=l;m<i;m++)n[m]=0;QL(r,i-8,BigInt(this.length*8),s),this.process(r,0);const u=my(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)u.setUint32(4*m,g[m],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:u}=this;return t.length=i,t.pos=u,t.finished=s,t.destroyed=l,i%n&&t.buffer.set(r),t}}const e4=(e,t,n)=>e&t^~e&n,t4=(e,t,n)=>e&t^e&n^t&n,n4=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ps=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ts=new Uint32Array(64);class fS extends XL{constructor(){super(64,32,8,!1),this.A=Ps[0]|0,this.B=Ps[1]|0,this.C=Ps[2]|0,this.D=Ps[3]|0,this.E=Ps[4]|0,this.F=Ps[5]|0,this.G=Ps[6]|0,this.H=Ps[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:l,G:u,H:d}=this;return[t,n,r,i,s,l,u,d]}set(t,n,r,i,s,l,u,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=l|0,this.G=u|0,this.H=d|0}process(t,n){for(let m=0;m<16;m++,n+=4)Ts[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const b=Ts[m-15],_=Ts[m-2],S=Bi(b,7)^Bi(b,18)^b>>>3,v=Bi(_,17)^Bi(_,19)^_>>>10;Ts[m]=v+Ts[m-7]+S+Ts[m-16]|0}let{A:r,B:i,C:s,D:l,E:u,F:d,G:p,H:g}=this;for(let m=0;m<64;m++){const b=Bi(u,6)^Bi(u,11)^Bi(u,25),_=g+b+e4(u,d,p)+n4[m]+Ts[m]|0,v=(Bi(r,2)^Bi(r,13)^Bi(r,22))+t4(r,i,s)|0;g=p,p=d,d=u,u=l+_|0,l=s,s=i,i=r,r=_+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,i,s,l,u,d,p,g)}roundClean(){Ts.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class r4 extends fS{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Gc=cS(()=>new fS);cS(()=>new r4);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Yc(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function $o(...e){const t=(i,s)=>l=>i(s(l)),n=Array.from(e).reverse().reduce((i,s)=>i?t(i,s.encode):s.encode,void 0),r=e.reduce((i,s)=>i?t(i,s.decode):s.decode,void 0);return{encode:n,decode:r}}function Zo(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Yc(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function Ho(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Bp(e,t="="){if(Yc(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of n)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function hS(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function Ub(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],s=Array.from(e);for(s.forEach(l=>{if(Yc(l),l<0||l>=t)throw new Error(`Wrong integer: ${l}`)});;){let l=0,u=!0;for(let d=r;d<s.length;d++){const p=s[d],g=t*l+p;if(!Number.isSafeInteger(g)||t*l/t!==l||g-p!==t*l)throw new Error("convertRadix: carry overflow");if(l=g%n,s[d]=Math.floor(g/n),!Number.isSafeInteger(s[d])||s[d]*n+l!==g)throw new Error("convertRadix: carry overflow");if(u)s[d]?u=!1:r=d;else continue}if(i.push(l),u)break}for(let l=0;l<e.length-1&&e[l]===0;l++)i.push(0);return i.reverse()}const pS=(e,t)=>t?pS(t,e%t):e,cp=(e,t)=>e+(t-pS(e,t));function Bv(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(cp(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${cp(t,n)}`);let i=0,s=0;const l=2**n-1,u=[];for(const d of e){if(Yc(d),d>=2**t)throw new Error(`convertRadix2: invalid data word=${d} from=${t}`);if(i=i<<t|d,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)u.push((i>>s-n&l)>>>0);i&=2**s-1}if(i=i<<n-s&l,!r&&s>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&u.push(i>>>0),u}function i4(e){return Yc(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Ub(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Ub(t,e,2**8))}}}function oa(e,t=!1){if(Yc(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(cp(8,e)>32||cp(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Bv(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Bv(n,e,8,t))}}}function $b(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const o4=$o(oa(4),Zo("0123456789ABCDEF"),Ho("")),s4=$o(oa(5),Zo("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Bp(5),Ho(""));$o(oa(5),Zo("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Bp(5),Ho(""));$o(oa(5),Zo("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Ho(""),hS(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Do=$o(oa(6),Zo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Bp(6),Ho("")),a4=$o(oa(6),Zo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Bp(6),Ho("")),V0=e=>$o(i4(58),Zo(e),Ho("")),Fv=V0("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");V0("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");V0("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Zb=[0,2,3,5,6,7,9,10,11],l4={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Fv.encode(r).padStart(Zb[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=Zb.indexOf(r.length),s=Fv.decode(r);for(let l=0;l<s.length-i;l++)if(s[l]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(t)}},Uv=$o(Zo("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Ho("")),Hb=[996825010,642813549,513874426,1027748829,705979059];function id(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<Hb.length;r++)(t>>r&1)===1&&(n^=Hb[r]);return n}function Wb(e,t,n=1){const r=e.length;let i=1;for(let s=0;s<r;s++){const l=e.charCodeAt(s);if(l<33||l>126)throw new Error(`Invalid prefix (${e})`);i=id(i)^l>>5}i=id(i);for(let s=0;s<r;s++)i=id(i)^e.charCodeAt(s)&31;for(let s of t)i=id(i)^s;for(let s=0;s<6;s++)i=id(i);return i^=n,Uv.encode(Bv([i%2**30],30,5,!1))}function mS(e){const t=e==="bech32"?1:734539939,n=oa(5),r=n.decode,i=n.encode,s=$b(r);function l(g,m,b=90){if(typeof g!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof g}`);if(!Array.isArray(m)||m.length&&typeof m[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof m}`);const _=g.length+7+m.length;if(b!==!1&&_>b)throw new TypeError(`Length ${_} exceeds limit ${b}`);return g=g.toLowerCase(),`${g}1${Uv.encode(m)}${Wb(g,m,t)}`}function u(g,m=90){if(typeof g!="string")throw new Error(`bech32.decode input should be string, not ${typeof g}`);if(g.length<8||m!==!1&&g.length>m)throw new TypeError(`Wrong string length: ${g.length} (${g}). Expected (8..${m})`);const b=g.toLowerCase();if(g!==b&&g!==g.toUpperCase())throw new Error("String must be lowercase or uppercase");g=b;const _=g.lastIndexOf("1");if(_===0||_===-1)throw new Error('Letter "1" must be present between prefix and data only');const S=g.slice(0,_),v=g.slice(_+1);if(v.length<6)throw new Error("Data must be at least 6 characters long");const E=Uv.decode(v).slice(0,-6),k=Wb(S,E,t);if(!v.endsWith(k))throw new Error(`Invalid checksum in ${g}: expected "${k}"`);return{prefix:S,words:E}}const d=$b(u);function p(g){const{prefix:m,words:b}=u(g,!1);return{prefix:m,words:b,bytes:r(b)}}return{encode:l,decode:u,decodeToBytes:p,decodeUnsafe:d,fromWords:r,fromWordsUnsafe:s,toWords:i}}const Uc=mS("bech32");mS("bech32m");const c4={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},u4=$o(oa(4),Zo("0123456789abcdef"),Ho(""),hS(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),d4={utf8:c4,hex:u4,base16:o4,base32:s4,base64:Do,base64url:a4,base58:Fv,base58xmr:l4};`${Object.keys(d4).join(", ")}`;function gy(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Vb(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function f4(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Lo(e,...t){if(!f4(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Un=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),h4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!h4)throw new Error("Non little-endian hardware is not supported");function p4(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function m4(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const g4=(e,t)=>(Object.assign(t,e),t),Js=16,y4=283;function q0(e){return e<<1^y4&-(e>>7)}function mc(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=q0(e);return n}const $v=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=q0(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),v4=$v.map((e,t)=>$v.indexOf(t)),w4=e=>e<<24|e>>>8,yy=e=>e<<8|e>>>24;function gS(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((p,g)=>t(e[g])),r=n.map(yy),i=r.map(yy),s=i.map(yy),l=new Uint32Array(256*256),u=new Uint32Array(256*256),d=new Uint16Array(256*256);for(let p=0;p<256;p++)for(let g=0;g<256;g++){const m=p*256+g;l[m]=n[p]^r[g],u[m]=i[p]^s[g],d[m]=e[p]<<8|e[g]}return{sbox:e,sbox2:d,T0:n,T1:r,T2:i,T3:s,T01:l,T23:u}}const K0=gS($v,e=>mc(e,3)<<24|e<<16|e<<8|mc(e,2)),yS=gS(v4,e=>mc(e,11)<<24|mc(e,13)<<16|mc(e,9)<<8|mc(e,14)),_4=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=q0(n))e[t]=n;return e})();function vS(e){Lo(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=K0,r=Un(e),i=r.length,s=u=>Yi(n,u,u,u,u),l=new Uint32Array(t+28);l.set(r);for(let u=i;u<l.length;u++){let d=l[u-1];u%i===0?d=s(w4(d))^_4[u/i-1]:i>6&&u%i===4&&(d=s(d)),l[u]=l[u-i]^d}return l}function x4(e){const t=vS(e),n=t.slice(),r=t.length,{sbox2:i}=K0,{T0:s,T1:l,T2:u,T3:d}=yS;for(let p=0;p<r;p+=4)for(let g=0;g<4;g++)n[p+g]=t[r-p-4+g];t.fill(0);for(let p=4;p<r-4;p++){const g=n[p],m=Yi(i,g,g,g,g);n[p]=s[m&255]^l[m>>>8&255]^u[m>>>16&255]^d[m>>>24]}return n}function qs(e,t,n,r,i,s){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|s>>>24&255]}function Yi(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function qb(e,t,n,r,i){const{sbox2:s,T01:l,T23:u}=K0;let d=0;t^=e[d++],n^=e[d++],r^=e[d++],i^=e[d++];const p=e.length/4-2;for(let S=0;S<p;S++){const v=e[d++]^qs(l,u,t,n,r,i),E=e[d++]^qs(l,u,n,r,i,t),k=e[d++]^qs(l,u,r,i,t,n),N=e[d++]^qs(l,u,i,t,n,r);t=v,n=E,r=k,i=N}const g=e[d++]^Yi(s,t,n,r,i),m=e[d++]^Yi(s,n,r,i,t),b=e[d++]^Yi(s,r,i,t,n),_=e[d++]^Yi(s,i,t,n,r);return{s0:g,s1:m,s2:b,s3:_}}function b4(e,t,n,r,i){const{sbox2:s,T01:l,T23:u}=yS;let d=0;t^=e[d++],n^=e[d++],r^=e[d++],i^=e[d++];const p=e.length/4-2;for(let S=0;S<p;S++){const v=e[d++]^qs(l,u,t,i,r,n),E=e[d++]^qs(l,u,n,t,i,r),k=e[d++]^qs(l,u,r,n,t,i),N=e[d++]^qs(l,u,i,r,n,t);t=v,n=E,r=k,i=N}const g=e[d++]^Yi(s,t,i,r,n),m=e[d++]^Yi(s,n,t,i,r),b=e[d++]^Yi(s,r,n,t,i),_=e[d++]^Yi(s,i,r,n,t);return{s0:g,s1:m,s2:b,s3:_}}function wS(e,t){if(!t)return new Uint8Array(e);if(Lo(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function E4(e){if(Lo(e),e.length%Js!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Js}`)}function S4(e,t,n){let r=e.length;const i=r%Js;if(!t&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const s=Un(e);if(t){let d=Js-i;d||(d=Js),r=r+d}const l=wS(r,n),u=Un(l);return{b:s,o:u,out:l}}function k4(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const i=e.subarray(0,-r);for(let s=0;s<r;s++)if(e[n-s-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function C4(e){const t=new Uint8Array(16),n=Un(t);t.set(e);const r=Js-e.length;for(let i=Js-r;i<Js;i++)t[i]=r;return n}const _S=g4({blockSize:16,nonceLength:16},function(t,n,r={}){Lo(t),Lo(n,16);const i=!r.disablePadding;return{encrypt:(s,l)=>{const u=vS(t),{b:d,o:p,out:g}=S4(s,i,l),m=Un(n);let b=m[0],_=m[1],S=m[2],v=m[3],E=0;for(;E+4<=d.length;)b^=d[E+0],_^=d[E+1],S^=d[E+2],v^=d[E+3],{s0:b,s1:_,s2:S,s3:v}=qb(u,b,_,S,v),p[E++]=b,p[E++]=_,p[E++]=S,p[E++]=v;if(i){const k=C4(s.subarray(E*4));b^=k[0],_^=k[1],S^=k[2],v^=k[3],{s0:b,s1:_,s2:S,s3:v}=qb(u,b,_,S,v),p[E++]=b,p[E++]=_,p[E++]=S,p[E++]=v}return u.fill(0),g},decrypt:(s,l)=>{E4(s);const u=x4(t),d=Un(n),p=wS(s.length,l),g=Un(s),m=Un(p);let b=d[0],_=d[1],S=d[2],v=d[3];for(let E=0;E+4<=g.length;){const k=b,N=_,A=S,z=v;b=g[E+0],_=g[E+1],S=g[E+2],v=g[E+3];const{s0:D,s1:Z,s2:H,s3:q}=b4(u,b,_,S,v);m[E++]=D^k,m[E++]=Z^N,m[E++]=H^A,m[E++]=q^z}return u.fill(0),k4(p,i)}}}),xS=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),P4=xS("expand 16-byte k"),T4=xS("expand 32-byte k"),N4=Un(P4),bS=Un(T4);bS.slice();function It(e,t){return e<<t|e>>>32-t}function Zv(e){return e.byteOffset%4===0}const Ih=64,A4=16,ES=2**32-1,Kb=new Uint32Array;function R4(e,t,n,r,i,s,l,u){const d=i.length,p=new Uint8Array(Ih),g=Un(p),m=Zv(i)&&Zv(s),b=m?Un(i):Kb,_=m?Un(s):Kb;for(let S=0;S<d;l++){if(e(t,n,r,g,l,u),l>=ES)throw new Error("arx: counter overflow");const v=Math.min(Ih,d-S);if(m&&v===Ih){const E=S/4;if(S%4!==0)throw new Error("arx: invalid block position");for(let k=0,N;k<A4;k++)N=E+k,_[N]=b[N]^g[k];S+=Ih;continue}for(let E=0,k;E<v;E++)k=S+E,s[k]=i[k]^p[E];S+=v}}function I4(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:l}=p4({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return gy(i),gy(l),Vb(s),Vb(n),(u,d,p,g,m=0)=>{Lo(u),Lo(d),Lo(p);const b=p.length;if(g||(g=new Uint8Array(b)),Lo(g),gy(m),m<0||m>=ES)throw new Error("arx: counter overflow");if(g.length<b)throw new Error(`arx: output (${g.length}) is shorter than data (${b})`);const _=[];let S=u.length,v,E;if(S===32)v=u.slice(),_.push(v),E=bS;else if(S===16&&n)v=new Uint8Array(32),v.set(u),v.set(u,16),E=N4,_.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${S}`);Zv(d)||(d=d.slice(),_.push(d));const k=Un(v);if(r){if(d.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,k,Un(d.subarray(0,16)),k),d=d.subarray(16)}const N=16-i;if(N!==d.length)throw new Error(`arx: nonce must be ${N} or 16 bytes`);if(N!==12){const z=new Uint8Array(12);z.set(d,s?0:12-d.length),d=z,_.push(d)}const A=Un(d);for(R4(e,E,k,A,p,g,m,l);_.length>0;)_.pop().fill(0);return g}}function L4(e,t,n,r,i,s=20){let l=e[0],u=e[1],d=e[2],p=e[3],g=t[0],m=t[1],b=t[2],_=t[3],S=t[4],v=t[5],E=t[6],k=t[7],N=i,A=n[0],z=n[1],D=n[2],Z=l,H=u,q=d,F=p,W=g,J=m,U=b,X=_,O=S,K=v,se=E,ie=k,te=N,ee=A,le=z,$=D;for(let ke=0;ke<s;ke+=2)Z=Z+W|0,te=It(te^Z,16),O=O+te|0,W=It(W^O,12),Z=Z+W|0,te=It(te^Z,8),O=O+te|0,W=It(W^O,7),H=H+J|0,ee=It(ee^H,16),K=K+ee|0,J=It(J^K,12),H=H+J|0,ee=It(ee^H,8),K=K+ee|0,J=It(J^K,7),q=q+U|0,le=It(le^q,16),se=se+le|0,U=It(U^se,12),q=q+U|0,le=It(le^q,8),se=se+le|0,U=It(U^se,7),F=F+X|0,$=It($^F,16),ie=ie+$|0,X=It(X^ie,12),F=F+X|0,$=It($^F,8),ie=ie+$|0,X=It(X^ie,7),Z=Z+J|0,$=It($^Z,16),se=se+$|0,J=It(J^se,12),Z=Z+J|0,$=It($^Z,8),se=se+$|0,J=It(J^se,7),H=H+U|0,te=It(te^H,16),ie=ie+te|0,U=It(U^ie,12),H=H+U|0,te=It(te^H,8),ie=ie+te|0,U=It(U^ie,7),q=q+X|0,ee=It(ee^q,16),O=O+ee|0,X=It(X^O,12),q=q+X|0,ee=It(ee^q,8),O=O+ee|0,X=It(X^O,7),F=F+W|0,le=It(le^F,16),K=K+le|0,W=It(W^K,12),F=F+W|0,le=It(le^F,8),K=K+le|0,W=It(W^K,7);let Q=0;r[Q++]=l+Z|0,r[Q++]=u+H|0,r[Q++]=d+q|0,r[Q++]=p+F|0,r[Q++]=g+W|0,r[Q++]=m+J|0,r[Q++]=b+U|0,r[Q++]=_+X|0,r[Q++]=S+O|0,r[Q++]=v+K|0,r[Q++]=E+se|0,r[Q++]=k+ie|0,r[Q++]=N+te|0,r[Q++]=A+ee|0,r[Q++]=z+le|0,r[Q++]=D+$|0}const SS=I4(L4,{counterRight:!1,counterLength:4,allowShortKeys:!1});class kS extends lS{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Gi.hash(t);const r=Sd(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=t.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),s.fill(0)}update(t){return Gi.exists(this),this.iHash.update(t),this}digestInto(t){Gi.exists(this),Gi.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:l,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=l,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Fp=(e,t,n)=>new kS(e,t).update(n).digest();Fp.create=(e,t)=>new kS(e,t);function O4(e,t,n){return Gi.hash(e),Fp(e,Sd(n),Sd(t))}const vy=new Uint8Array([0]),Gb=new Uint8Array;function j4(e,t,n,r=32){if(Gi.hash(e),Gi.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);n===void 0&&(n=Gb);const s=new Uint8Array(i*e.outputLen),l=Fp.create(e,t),u=l._cloneInto(),d=new Uint8Array(l.outputLen);for(let p=0;p<i;p++)vy[0]=p+1,u.update(p===0?Gb:d).update(n).update(vy).digestInto(d),s.set(d,e.outputLen*p),l._cloneInto(u);return l.destroy(),u.destroy(),d.fill(0),vy.fill(0),s.slice(0,r)}var M4=Object.defineProperty,Gt=(e,t)=>{for(var n in t)M4(e,n,{get:t[n],enumerable:!0})},lc=Symbol("verified"),z4=e=>e instanceof Object;function G0(e){if(!z4(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var D4={};Gt(D4,{Queue:()=>TS,QueueNode:()=>PS,binarySearch:()=>Y0,bytesToHex:()=>Fn,hexToBytes:()=>al,insertEventIntoAscendingList:()=>F4,insertEventIntoDescendingList:()=>B4,normalizeURL:()=>CS,utf8Decoder:()=>Oo,utf8Encoder:()=>xi});var Oo=new TextDecoder("utf-8"),xi=new TextEncoder;function CS(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch{throw new Error(`Invalid URL: ${e}`)}}function B4(e,t){const[n,r]=Y0(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:i.created_at-t.created_at);return r||e.splice(n,0,t),e}function F4(e,t){const[n,r]=Y0(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:t.created_at-i.created_at);return r||e.splice(n,0,t),e}function Y0(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),s=t(e[i]);if(s===0)return[i,!0];s<0?r=i-1:n=i+1}return[n,!1]}var PS=class{constructor(e){He(this,"value");He(this,"next",null);He(this,"prev",null);this.value=e}},TS=class{constructor(){He(this,"first");He(this,"last");this.first=null,this.last=null}enqueue(e){const t=new PS(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},U4=class{generateSecretKey(){return rd.utils.randomPrivateKey()}getPublicKey(e){return Fn(rd.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Fn(rd.getPublicKey(t)),n.id=yd(n),n.sig=Fn(rd.sign(yd(n),t)),n[lc]=!0,n}verifyEvent(e){if(typeof e[lc]=="boolean")return e[lc];const t=yd(e);if(t!==e.id)return e[lc]=!1,!1;try{const n=rd.verify(e.sig,t,e.pubkey);return e[lc]=n,n}catch{return e[lc]=!1,!1}}};function $4(e){if(!G0(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function yd(e){let t=Gc(xi.encode($4(e)));return Fn(t)}var Up=new U4,Kd=Up.generateSecretKey,Bo=Up.getPublicKey,ni=Up.finalizeEvent,Gd=Up.verifyEvent,Z4={};Gt(Z4,{Application:()=>$O,BadgeAward:()=>J4,BadgeDefinition:()=>jO,BlockedRelaysList:()=>wO,BookmarkList:()=>gO,Bookmarksets:()=>IO,Calendar:()=>GO,CalendarEventRSVP:()=>YO,ChannelCreation:()=>OS,ChannelHideMessage:()=>zS,ChannelMessage:()=>MS,ChannelMetadata:()=>jS,ChannelMuteUser:()=>DS,ClassifiedListing:()=>WO,ClientAuth:()=>FS,CommunitiesList:()=>yO,CommunityDefinition:()=>XO,CommunityPostApproval:()=>oO,Contacts:()=>K4,CreateOrUpdateProduct:()=>DO,CreateOrUpdateStall:()=>zO,Curationsets:()=>LO,Date:()=>qO,DirectMessageRelaysList:()=>EO,DraftClassifiedListing:()=>VO,DraftLong:()=>FO,Emojisets:()=>UO,EncryptedDirectMessage:()=>G4,EventDeletion:()=>Y4,FileMetadata:()=>X4,FileServerPreference:()=>SO,Followsets:()=>NO,GenericRepost:()=>X0,Genericlists:()=>AO,GiftWrap:()=>BS,HTTPAuth:()=>ew,Handlerinformation:()=>QO,Handlerrecommendation:()=>JO,Highlights:()=>fO,InterestsList:()=>xO,Interestsets:()=>MO,JobFeedback:()=>lO,JobRequest:()=>sO,JobResult:()=>aO,Label:()=>iO,LightningPubRPC:()=>CO,LiveChatMessage:()=>eO,LiveEvent:()=>ZO,LongFormArticle:()=>BO,Metadata:()=>V4,Mutelist:()=>hO,NWCWalletInfo:()=>kO,NWCWalletRequest:()=>US,NWCWalletResponse:()=>PO,NostrConnect:()=>TO,OpenTimestamps:()=>Q4,Pinlist:()=>pO,PrivateDirectMessage:()=>LS,ProblemTracker:()=>tO,ProfileBadges:()=>OO,PublicChatsList:()=>vO,Reaction:()=>Q0,RecommendRelay:()=>q4,RelayList:()=>mO,Relaysets:()=>RO,Report:()=>nO,Reporting:()=>rO,Repost:()=>J0,Seal:()=>IS,SearchRelaysList:()=>_O,ShortTextNote:()=>RS,Time:()=>KO,UserEmojiList:()=>bO,UserStatuses:()=>HO,Zap:()=>dO,ZapGoal:()=>cO,ZapRequest:()=>uO,classifyKind:()=>H4,isAddressableKind:()=>Zp,isEphemeralKind:()=>AS,isKind:()=>W4,isRegularKind:()=>NS,isReplaceableKind:()=>$p});function NS(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function $p(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function AS(e){return 2e4<=e&&e<3e4}function Zp(e){return 3e4<=e&&e<4e4}function H4(e){return NS(e)?"regular":$p(e)?"replaceable":AS(e)?"ephemeral":Zp(e)?"parameterized":"unknown"}function W4(e,t){const n=t instanceof Array?t:[t];return G0(e)&&n.includes(e.kind)||!1}var V4=0,RS=1,q4=2,K4=3,G4=4,Y4=5,J0=6,Q0=7,J4=8,IS=13,LS=14,X0=16,OS=40,jS=41,MS=42,zS=43,DS=44,Q4=1040,BS=1059,X4=1063,eO=1311,tO=1971,nO=1984,rO=1984,iO=1985,oO=4550,sO=5999,aO=6999,lO=7e3,cO=9041,uO=9734,dO=9735,fO=9802,hO=1e4,pO=10001,mO=10002,gO=10003,yO=10004,vO=10005,wO=10006,_O=10007,xO=10015,bO=10030,EO=10050,SO=10096,kO=13194,CO=21e3,FS=22242,US=23194,PO=23195,TO=24133,ew=27235,NO=3e4,AO=30001,RO=30002,IO=30003,LO=30004,OO=30008,jO=30009,MO=30015,zO=30017,DO=30018,BO=30023,FO=30024,UO=30030,$O=30078,ZO=30311,HO=30315,WO=30402,VO=30403,qO=31922,KO=31923,GO=31924,YO=31925,JO=31989,QO=31990,XO=34550;function ej(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),i=e[`#${r}`];if(i&&!t.tags.find(([s,l])=>s===n.slice(1)&&i.indexOf(l)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function $S(e,t){for(let n=0;n<e.length;n++)if(ej(e[n],t))return!0;return!1}function ZS(e){var t,n,r,i,s,l;if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[u,d]of Object.entries(e))if(u[0]==="#"&&Array.isArray(d)&&!d.length)return 0;return Math.min(Math.max(0,e.limit??1/0),((t=e.ids)==null?void 0:t.length)??1/0,(n=e.authors)!=null&&n.length&&((r=e.kinds)!=null&&r.every(u=>$p(u)))?e.authors.length*e.kinds.length:1/0,(i=e.authors)!=null&&i.length&&((s=e.kinds)!=null&&s.every(u=>Zp(u)))&&((l=e["#d"])!=null&&l.length)?e.authors.length*e.kinds.length*e["#d"].length:1/0)}var tj={};Gt(tj,{getHex64:()=>Hp,getInt:()=>HS,getSubscriptionId:()=>WS,matchEventId:()=>nj,matchEventKind:()=>ij,matchEventPubkey:()=>rj});function Hp(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function HS(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),s=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,s),10)}function WS(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(i===-1)return null;let s=r+1+i;return e.slice(r+1,s)}function nj(e,t){return t===Hp(e,"id")}function rj(e,t){return t===Hp(e,"pubkey")}function ij(e,t){return t===HS(e,"kind")}var oj={};Gt(oj,{makeAuthEvent:()=>VS});function VS(e,t){return{kind:FS,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function sj(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var qS=class extends Error{constructor(e,t){super(`Tried to send message '${e} on a closed connection to ${t}.`),this.name="SendingOnClosedConnection"}},KS=class{constructor(e,t){He(this,"url");He(this,"_connected",!1);He(this,"onclose",null);He(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));He(this,"baseEoseTimeout",4400);He(this,"connectionTimeout",4400);He(this,"publishTimeout",4400);He(this,"openSubs",new Map);He(this,"connectionTimeoutHandle");He(this,"connectionPromise");He(this,"openCountRequests",new Map);He(this,"openEventPublishes",new Map);He(this,"ws");He(this,"incomingMessageQueue",new TS);He(this,"queueRunning",!1);He(this,"challenge");He(this,"authPromise");He(this,"serial",0);He(this,"verifyEvent");He(this,"_WebSocket");this.url=CS(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){const n=new KS(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket closed"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await sj();this.queueRunning=!1}handleNext(){var n,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=WS(e);if(t){const i=this.openSubs.get(t);if(!i)return;const s=Hp(e,"id"),l=(n=i.alreadyHaveEvent)==null?void 0:n.call(i,s);if((r=i.receivedEvent)==null||r.call(i,this,s),l)return}try{let i=JSON.parse(e);switch(i[0]){case"EVENT":{const s=this.openSubs.get(i[1]),l=i[2];this.verifyEvent(l)&&$S(s.filters,l)&&s.onevent(l);return}case"COUNT":{const s=i[1],l=i[2],u=this.openCountRequests.get(s);u&&(u.resolve(l.count),this.openCountRequests.delete(s));return}case"EOSE":{const s=this.openSubs.get(i[1]);if(!s)return;s.receivedEose();return}case"OK":{const s=i[1],l=i[2],u=i[3],d=this.openEventPublishes.get(s);d&&(clearTimeout(d.timeout),l?d.resolve(u):d.reject(new Error(u)),this.openEventPublishes.delete(s));return}case"CLOSED":{const s=i[1],l=this.openSubs.get(s);if(!l)return;l.closed=!0,l.close(i[2]);return}case"NOTICE":this.onnotice(i[1]);return;case"AUTH":{this.challenge=i[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new qS(e,this.url);this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){const t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let i=await e(VS(this.url,t)),s=setTimeout(()=>{let l=this.openEventPublishes.get(i.id);l&&(l.reject(new Error("auth timed out")),this.openEventPublishes.delete(i.id))},this.publishTimeout);this.openEventPublishes.set(i.id,{resolve:n,reject:r,timeout:s}),this.send('["AUTH",'+JSON.stringify(i)+"]")}catch(i){console.warn("subscribe auth function failed:",i)}}),this.authPromise)}async publish(e){const t=new Promise((n,r)=>{const i=setTimeout(()=>{const s=this.openEventPublishes.get(e.id);s&&(s.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:n,reject:r,timeout:i})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((i,s)=>{this.openCountRequests.set(n,{resolve:i,reject:s})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||(t.label?t.label+":":"sub:")+this.serial,r=new aj(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},aj=class{constructor(e,t,n,r){He(this,"relay");He(this,"id");He(this,"closed",!1);He(this,"eosed",!1);He(this,"filters");He(this,"alreadyHaveEvent");He(this,"receivedEvent");He(this,"onevent");He(this,"oneose");He(this,"onclose");He(this,"eoseTimeout");He(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(i=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,i)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof qS))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},GS;try{GS=WebSocket}catch{}var YS=class extends KS{constructor(e){super(e,{verifyEvent:Gd,websocketImplementation:GS})}static async connect(e){const t=new YS(e);return await t.connect(),t}},lj;try{lj=WebSocket}catch{}var er={};Gt(er,{BECH32_REGEX:()=>JS,Bech32MaxSize:()=>tw,NostrTypeGuard:()=>cj,decode:()=>Wp,decodeNostrURI:()=>dj,encodeBytes:()=>qp,naddrEncode:()=>yj,neventEncode:()=>gj,noteEncode:()=>pj,nprofileEncode:()=>mj,npubEncode:()=>hj,nsecEncode:()=>fj});var cj={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},tw=5e3,JS=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function uj(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function dj(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),Wp(e)}catch{return{type:"invalid",data:null}}}function Wp(e){var i,s,l,u,d,p,g;let{prefix:t,words:n}=Uc.decode(e,tw),r=new Uint8Array(Uc.fromWords(n));switch(t){case"nprofile":{let m=wy(r);if(!((i=m[0])!=null&&i[0]))throw new Error("missing TLV 0 for nprofile");if(m[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Fn(m[0][0]),relays:m[1]?m[1].map(b=>Oo.decode(b)):[]}}}case"nevent":{let m=wy(r);if(!((s=m[0])!=null&&s[0]))throw new Error("missing TLV 0 for nevent");if(m[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(m[2]&&m[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(m[3]&&m[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Fn(m[0][0]),relays:m[1]?m[1].map(b=>Oo.decode(b)):[],author:(l=m[2])!=null&&l[0]?Fn(m[2][0]):void 0,kind:(u=m[3])!=null&&u[0]?parseInt(Fn(m[3][0]),16):void 0}}}case"naddr":{let m=wy(r);if(!((d=m[0])!=null&&d[0]))throw new Error("missing TLV 0 for naddr");if(!((p=m[2])!=null&&p[0]))throw new Error("missing TLV 2 for naddr");if(m[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((g=m[3])!=null&&g[0]))throw new Error("missing TLV 3 for naddr");if(m[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Oo.decode(m[0][0]),pubkey:Fn(m[2][0]),kind:parseInt(Fn(m[3][0]),16),relays:m[1]?m[1].map(b=>Oo.decode(b)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Fn(r)};default:throw new Error(`unknown prefix ${t}`)}}function wy(e){let t={},n=e;for(;n.length>0;){let r=n[0],i=n[1],s=n.slice(2,2+i);if(n=n.slice(2+i),s.length<i)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(s)}return t}function fj(e){return qp("nsec",e)}function hj(e){return qp("npub",al(e))}function pj(e){return qp("note",al(e))}function Vp(e,t){let n=Uc.toWords(t);return Uc.encode(e,n,tw)}function qp(e,t){return Vp(e,t)}function mj(e){let t=nw({0:[al(e.pubkey)],1:(e.relays||[]).map(n=>xi.encode(n))});return Vp("nprofile",t)}function gj(e){let t;e.kind!==void 0&&(t=uj(e.kind));let n=nw({0:[al(e.id)],1:(e.relays||[]).map(r=>xi.encode(r)),2:e.author?[al(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Vp("nevent",n)}function yj(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=nw({0:[xi.encode(e.identifier)],1:(e.relays||[]).map(r=>xi.encode(r)),2:[al(e.pubkey)],3:[new Uint8Array(t)]});return Vp("naddr",n)}function nw(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(i=>{let s=new Uint8Array(i.length+2);s.set([parseInt(n)],0),s.set([i.length],1),s.set(i,2),t.push(s)})}),Dp(...t)}var kd={};Gt(kd,{decrypt:()=>vj,encrypt:()=>QS});function QS(e,t,n){const r=e instanceof Uint8Array?Fn(e):e,i=Kc.getSharedSecret(r,"02"+t),s=XS(i);let l=Uint8Array.from(uS(16)),u=xi.encode(n),d=_S(s,l).encrypt(u),p=Do.encode(new Uint8Array(d)),g=Do.encode(new Uint8Array(l.buffer));return`${p}?iv=${g}`}function vj(e,t,n){const r=e instanceof Uint8Array?Fn(e):e;let[i,s]=n.split("?iv="),l=Kc.getSharedSecret(r,"02"+t),u=XS(l),d=Do.decode(s),p=Do.decode(i),g=_S(u,d).decrypt(p);return Oo.decode(g)}function XS(e){return e.slice(1,33)}var wj={};Gt(wj,{NIP05_REGEX:()=>rw,isNip05:()=>_j,isValid:()=>Ej,queryProfile:()=>ek,searchDomain:()=>bj,useFetchImplementation:()=>xj});var rw=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,_j=e=>rw.test(e||""),Kp;try{Kp=fetch}catch{}function xj(e){Kp=e}async function bj(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await Kp(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function ek(e){var i;const t=e.match(rw);if(!t)return null;const[,n="_",r]=t;try{const s=`https://${r}/.well-known/nostr.json?name=${n}`,l=await Kp(s,{redirect:"manual"});if(l.status!==200)throw Error("Wrong response code");const u=await l.json(),d=u.names[n];return d?{pubkey:d,relays:(i=u.relays)==null?void 0:i[d]}:null}catch{return null}}async function Ej(e,t){const n=await ek(t);return n?n.pubkey===e:!1}var Sj={};Gt(Sj,{parse:()=>kj});function kj(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let i=e.tags.length-1;i>=0;i--){const s=e.tags[i];if(s[0]==="e"&&s[1]){const[l,u,d,p,g]=s,m={id:u,relays:d?[d]:[],author:g};if(p==="root"){t.root=m;continue}if(p==="reply"){t.reply=m;continue}if(p==="mention"){t.mentions.push(m);continue}n?r=m:n=m,t.mentions.push(m);continue}if(s[0]==="q"&&s[1]){const[l,u,d]=s;t.quotes.push({id:u,relays:d?[d]:[]})}if(s[0]==="p"&&s[1]){t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(i=>{if(!i)return;let s=t.mentions.indexOf(i);if(s!==-1&&t.mentions.splice(s,1),i.author){let l=t.profiles.find(u=>u.pubkey===i.author);l&&l.relays&&(i.relays||(i.relays=[]),l.relays.forEach(u=>{var d;((d=i.relays)==null?void 0:d.indexOf(u))===-1&&i.relays.push(u)}),l.relays=i.relays)}}),t.mentions.forEach(i=>{if(i.author){let s=t.profiles.find(l=>l.pubkey===i.author);s&&s.relays&&(i.relays||(i.relays=[]),s.relays.forEach(l=>{i.relays.indexOf(l)===-1&&i.relays.push(l)}),s.relays=i.relays)}}),t}var Cj={};Gt(Cj,{fetchRelayInformation:()=>Tj,useFetchImplementation:()=>Pj});var tk;try{tk=fetch}catch{}function Pj(e){tk=e}async function Tj(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var Nj={};Gt(Nj,{fastEventHash:()=>rk,getPow:()=>nk,minePow:()=>Aj});function nk(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function Aj(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const s=Math.floor(new Date().getTime()/1e3);if(s!==r.created_at&&(n=0,r.created_at=s),i[1]=(++n).toString(),r.id=rk(r),nk(r.id)>=t)break}return r}function rk(e){return Fn(Gc(xi.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var Rj={};Gt(Rj,{unwrapEvent:()=>$j,unwrapManyEvents:()=>Zj,wrapEvent:()=>gk,wrapManyEvents:()=>Uj});var Ij={};Gt(Ij,{createRumor:()=>fk,createSeal:()=>hk,createWrap:()=>pk,unwrapEvent:()=>lw,unwrapManyEvents:()=>mk,wrapEvent:()=>up,wrapManyEvents:()=>Bj});var Ks={};Gt(Ks,{decrypt:()=>aw,encrypt:()=>sw,getConversationKey:()=>iw,v2:()=>zj});var ik=1,ok=65535;function iw(e,t){const n=Kc.getSharedSecret(e,"02"+t).subarray(1,33);return O4(Gc,n,"nip44-v2")}function sk(e,t){const n=j4(Gc,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function ow(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function Lj(e){if(!Number.isSafeInteger(e)||e<ik||e>ok)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function Oj(e){const t=xi.encode(e),n=t.length,r=Lj(n),i=new Uint8Array(ow(n)-n);return Dp(r,t,i)}function jj(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<ik||t>ok||n.length!==t||e.length!==2+ow(t))throw new Error("invalid padding");return Oo.decode(n)}function ak(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=Dp(n,t);return Fp(Gc,e,r)}function Mj(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Do.decode(e)}catch(s){throw new Error("invalid base64: "+s.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(i!==2)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function sw(e,t,n=uS(32)){const{chacha_key:r,chacha_nonce:i,hmac_key:s}=sk(t,n),l=Oj(e),u=SS(r,i,l),d=ak(s,u,n);return Do.encode(Dp(new Uint8Array([2]),n,u,d))}function aw(e,t){const{nonce:n,ciphertext:r,mac:i}=Mj(e),{chacha_key:s,chacha_nonce:l,hmac_key:u}=sk(t,n),d=ak(u,r,n);if(!m4(d,i))throw new Error("invalid MAC");const p=SS(s,l,r);return jj(p)}var zj={utils:{getConversationKey:iw,calcPaddedLen:ow},encrypt:sw,decrypt:aw},Dj=2*24*60*60,lk=()=>Math.round(Date.now()/1e3),ck=()=>Math.round(lk()-Math.random()*Dj),uk=(e,t)=>iw(e,t),dk=(e,t,n)=>sw(JSON.stringify(e),uk(t,n)),Yb=(e,t)=>JSON.parse(aw(e.content,uk(t,e.pubkey)));function fk(e,t){const n={created_at:lk(),content:"",tags:[],...e,pubkey:Bo(t)};return n.id=yd(n),n}function hk(e,t,n){return ni({kind:IS,content:dk(e,t,n),created_at:ck(),tags:[]},t)}function pk(e,t){const n=Kd();return ni({kind:BS,content:dk(e,n,t),created_at:ck(),tags:[["p",t]]},n)}function up(e,t,n){const r=fk(e,t),i=hk(r,t,n);return pk(i,n)}function Bj(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=Bo(t),i=[up(e,t,r)];return n.forEach(s=>{i.push(up(e,t,s))}),i}function lw(e,t){const n=Yb(e,t);return Yb(n,t)}function mk(e,t){let n=[];return e.forEach(r=>{n.push(lw(r,t))}),n.sort((r,i)=>r.created_at-i.created_at),n}function Fj(e,t,n,r){const i={created_at:Math.ceil(Date.now()/1e3),kind:LS,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:l,relayUrl:u})=>{i.tags.push(u?["p",l,u]:["p",l])}),r&&i.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&i.tags.push(["subject",n]),i}function gk(e,t,n,r,i){const s=Fj(t,n,r,i);return up(s,e,t.publicKey)}function Uj(e,t,n,r,i){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Bo(e)},...t].map(l=>gk(e,l,n,r,i))}var $j=lw,Zj=mk,Hj={};Gt(Hj,{finishRepostEvent:()=>Wj,getRepostedEvent:()=>Vj,getRepostedEventPointer:()=>yk});function Wj(e,t,n,r){var l;let i;const s=[...e.tags??[],["e",t.id,n],["p",t.pubkey]];return t.kind===RS?i=J0:(i=X0,s.push(["k",String(t.kind)])),ni({kind:i,tags:s,content:e.content===""||(l=t.tags)!=null&&l.find(u=>u[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function yk(e){if(![J0,X0].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function Vj(e,{skipVerification:t}={}){const n=yk(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!Gd(r)))return r}var qj={};Gt(qj,{NOSTR_URI_REGEX:()=>cw,parse:()=>Gj,test:()=>Kj});var cw=new RegExp(`nostr:(${JS.source})`);function Kj(e){return typeof e=="string"&&new RegExp(`^${cw.source}$`).test(e)}function Gj(e){const t=e.match(new RegExp(`^${cw.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Wp(t[1])}}var Yj={};Gt(Yj,{finishReactionEvent:()=>Jj,getReactedEventPointer:()=>Qj});function Jj(e,t,n){const r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return ni({...e,kind:Q0,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function Qj(e){if(e.kind!==Q0)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var Xj={};Gt(Xj,{parse:()=>tM});var eM=/\W/m,Jb=/\W |\W$|$|,| /m;function*tM(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.indexOf(":",r);if(i===-1)break;if(e.substring(i-5,i)==="nostr"){const s=e.substring(i+60).match(eM),l=s?i+60+s.index:t;try{let u,{data:d,type:p}=Wp(e.substring(i+1,l));switch(p){case"npub":u={pubkey:d};break;case"nsec":case"note":r=l+1;continue;default:u=d}n!==i-5&&(yield{type:"text",text:e.substring(n,i-5)}),yield{type:"reference",pointer:u},r=l,n=r;continue}catch{r=i+1;continue}}else if(e.substring(i-5,i)==="https"||e.substring(i-4,i)==="http"){const s=e.substring(i+4).match(Jb),l=s?i+4+s.index:t,u=e[i-1]==="s"?5:4;try{let d=new URL(e.substring(i-u,l));if(d.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),d.pathname.endsWith(".png")||d.pathname.endsWith(".jpg")||d.pathname.endsWith(".jpeg")||d.pathname.endsWith(".gif")||d.pathname.endsWith(".webp")){yield{type:"image",url:d.toString()},r=l,n=r;continue}if(d.pathname.endsWith(".mp4")||d.pathname.endsWith(".avi")||d.pathname.endsWith(".webm")||d.pathname.endsWith(".mkv")){yield{type:"video",url:d.toString()},r=l,n=r;continue}if(d.pathname.endsWith(".mp3")||d.pathname.endsWith(".aac")||d.pathname.endsWith(".ogg")||d.pathname.endsWith(".opus")){yield{type:"audio",url:d.toString()},r=l,n=r;continue}yield{type:"url",url:d.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else if(e.substring(i-3,i)==="wss"||e.substring(i-2,i)==="ws"){const s=e.substring(i+4).match(Jb),l=s?i+4+s.index:t,u=e[i-1]==="s"?3:2;try{let d=new URL(e.substring(i-u,l));if(d.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),yield{type:"relay",url:d.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else{r=i+1;continue}}n!==t&&(yield{type:"text",text:e.substring(n)})}var nM={};Gt(nM,{channelCreateEvent:()=>rM,channelHideMessageEvent:()=>sM,channelMessageEvent:()=>oM,channelMetadataEvent:()=>iM,channelMuteUserEvent:()=>aM});var rM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ni({kind:OS,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},iM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ni({kind:jS,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},oM=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),ni({kind:MS,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},sM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ni({kind:zS,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},aM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ni({kind:DS,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},lM={};Gt(lM,{EMOJI_SHORTCODE_REGEX:()=>vk,matchAll:()=>cM,regex:()=>uw,replaceAll:()=>uM});var vk=/:(\w+):/,uw=()=>new RegExp(`\\B${vk.source}\\B`,"g");function*cM(e){const t=e.matchAll(uw());for(const n of t)try{const[r,i]=n;yield{shortcode:r,name:i,start:n.index,end:n.index+r.length}}catch{}}function uM(e,t){return e.replaceAll(uw(),(n,r)=>t({shortcode:n,name:r}))}var dM={};Gt(dM,{useFetchImplementation:()=>fM,validateGithub:()=>hM});var dw;try{dw=fetch}catch{}function fM(e){dw=e}async function hM(e,t,n){try{return await(await dw(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var pM={};Gt(pM,{makeNwcRequestEvent:()=>gM,parseConnectionString:()=>mM});function mM(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),s=n.get("secret");if(!r||!i||!s)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:s}}async function gM(e,t,n){const i=QS(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),s={kind:US,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return ni(s,t)}var yM={};Gt(yM,{normalizeIdentifier:()=>vM});function vM(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var wM={};Gt(wM,{getSatoshisAmountFromBolt11:()=>kM,getZapEndpoint:()=>xM,makeZapReceipt:()=>SM,makeZapRequest:()=>bM,useFetchImplementation:()=>_M,validateZapRequest:()=>EM});var fw;try{fw=fetch}catch{}function _M(e){fw=e}async function xM(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:l}=Uc.decode(n,1e3),u=Uc.fromWords(l);t=Oo.decode(u)}else if(r){let[l,u]=r.split("@");t=new URL(`/.well-known/lnurlp/${l}`,`https://${u}`).toString()}else return null;let s=await(await fw(t)).json();if(s.allowsNostr&&s.nostrPubkey)return s.callback}catch{}return null}function bM({profile:e,event:t,amount:n,relays:r,comment:i=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",n.toString()],["relays",...r]]};if(t&&typeof t=="string"&&s.tags.push(["e",t]),t&&typeof t=="object"){if($p(t.kind)){const l=["a",`${t.kind}:${t.pubkey}:`];s.tags.push(l)}else if(Zp(t.kind)){let l=t.tags.find(([d,p])=>d==="d"&&p);if(!l)throw new Error("d tag not found or is empty");const u=["a",`${t.kind}:${t.pubkey}:${l[1]}`];s.tags.push(u)}}return s}function EM(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!G0(t))return"Zap request is not a valid Nostr event.";if(!Gd(t))return"Invalid signature on zap request.";let n=t.tags.find(([s,l])=>s==="p"&&l);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([s,l])=>s==="e"&&l);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([s,l])=>s==="relays"&&l)?null:"Zap request doesn't have a 'relays' tag."}function SM({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e),s=i.tags.filter(([u])=>u==="e"||u==="p"||u==="a"),l={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...s,["P",i.pubkey],["bolt11",n],["description",e]]};return t&&l.tags.push(["preimage",t]),l}function kM(e){if(e.length<50)return 0;e=e.substring(0,50);const t=e.lastIndexOf("1");if(t===-1)return 0;const n=e.substring(0,t);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const i=r[r.length-1],s=i.charCodeAt(0)-48,l=s>=0&&s<=9;let u=r.length-1;if(l&&u++,u<1)return 0;const d=parseInt(r.substring(0,u));switch(i){case"m":return d*1e5;case"u":return d*100;case"n":return d/10;case"p":return d/1e4;default:return d*1e8}}var CM={};Gt(CM,{getToken:()=>PM,hashPayload:()=>hw,unpackEventFromToken:()=>_k,validateEvent:()=>Ck,validateEventKind:()=>bk,validateEventMethodTag:()=>Sk,validateEventPayloadTag:()=>kk,validateEventTimestamp:()=>xk,validateEventUrlTag:()=>Ek,validateToken:()=>TM});var wk="Nostr ";async function PM(e,t,n,r=!1,i){const s={kind:ew,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};i&&s.tags.push(["payload",hw(i)]);const l=await n(s);return(r?wk:"")+Do.encode(xi.encode(JSON.stringify(l)))}async function TM(e,t,n){const r=await _k(e).catch(s=>{throw s});return await Ck(r,t,n).catch(s=>{throw s})}async function _k(e){if(!e)throw new Error("Missing token");e=e.replace(wk,"");const t=Oo.decode(Do.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function xk(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function bk(e){return e.kind===ew}function Ek(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function Sk(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function hw(e){const t=Gc(xi.encode(JSON.stringify(e)));return Fn(t)}function kk(e,t){const n=e.tags.find(i=>i[0]==="payload");if(!n)return!1;const r=hw(t);return n.length>0&&n[1]===r}async function Ck(e,t,n,r){if(!Gd(e))throw new Error("Invalid nostr event, signature invalid");if(!bk(e))throw new Error("Invalid nostr event, kind invalid");if(!xk(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Ek(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!Sk(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!kk(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var y2,v2,Ip,Pk;const $i=class $i{constructor(t){it(this,Ip);He(this,"cache");He(this,y2,"NSet");this.cache=t??new Map}get size(){return this.cache.size}add(t){yt(this,Ip,Pk).call(this,t);for(const n of this){if($i.deletes(n,t)||$i.replaces(n,t))return this;$i.replaces(t,n)&&this.delete(n)}return this.cache.set(t.id,t),this}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,n){return this.cache.forEach((r,i)=>t(r,r,this),n)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of $i.sortEvents([...this.cache.values()]))yield t}[(v2=Symbol.iterator,y2=Symbol.toStringTag,v2)](){return this.values()}static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isAddressable(t){return 3e4<=t&&t<4e4}static replaces(t,n){var s,l;const{kind:r,pubkey:i}=t;if($i.isReplaceable(r))return r===n.kind&&i===n.pubkey&&$i.sortEvents([t,n])[0]===t;if($i.isAddressable(r)){const u=((s=t.tags.find(([p])=>p==="d"))==null?void 0:s[1])||"",d=((l=n.tags.find(([p])=>p==="d"))==null?void 0:l[1])||"";return r===n.kind&&i===n.pubkey&&$i.sortEvents([t,n])[0]===t&&u===d}return!1}static deletes(t,n){const{kind:r,pubkey:i,tags:s}=t;if(r===5&&i===n.pubkey){for(const[l,u]of s)if(l==="e"&&u===n.id)return!0}return!1}static sortEvents(t){return t.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}};Ip=new WeakSet,Pk=function(t){if(t.kind===5){for(const n of t.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===t.pubkey&&this.delete(r)}}};let dp=$i;const NM=Object.freeze({status:"aborted"});function Ae(e,t,n){function r(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const p=l.prototype,g=Object.keys(p);for(let m=0;m<g.length;m++){const b=g[m];b in u||(u[b]=p[b].bind(u))}}const i=(n==null?void 0:n.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:e});function l(u){var d;const p=n!=null&&n.Parent?new s:this;r(p,u),(d=p._zod).deferred??(d.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>{var d,p;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(p=(d=u==null?void 0:u._zod)==null?void 0:d.traits)==null?void 0:p.has(e)}}),Object.defineProperty(l,"name",{value:e}),l}class vc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Tk extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Nk={};function ta(e){return Nk}function Ak(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Hv(e,t){return typeof t=="bigint"?t.toString():t}function pw(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function mw(e){return e==null}function gw(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function AM(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d!=null&&d[1]&&(i=Number.parseInt(d[1]))}const s=n>i?n:i,l=Number.parseInt(e.toFixed(s).replace(".","")),u=Number.parseInt(t.toFixed(s).replace(".",""));return l%u/10**s}const Qb=Symbol("evaluating");function zt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Qb)return r===void 0&&(r=Qb,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function hl(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function sa(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Xb(e){return JSON.stringify(e)}function RM(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Rk="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function fp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const IM=pw(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function $c(e){if(fp(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(fp(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Ik(e){return $c(e)?{...e}:Array.isArray(e)?[...e]:e}const LM=new Set(["string","number","symbol"]);function Zc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function aa(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function st(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function OM(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const jM={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function MM(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=sa(e._zod.def,{get shape(){const l={};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&(l[u]=n.shape[u])}return hl(this,"shape",l),l},checks:[]});return aa(e,s)}function zM(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=sa(e._zod.def,{get shape(){const l={...e._zod.def.shape};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&delete l[u]}return hl(this,"shape",l),l},checks:[]});return aa(e,s)}function DM(e,t){if(!$c(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const l in t)if(Object.getOwnPropertyDescriptor(s,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=sa(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return hl(this,"shape",s),s}});return aa(e,i)}function BM(e,t){if(!$c(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=sa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return hl(this,"shape",r),r}});return aa(e,n)}function FM(e,t){const n=sa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return hl(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return aa(e,n)}function UM(e,t,n){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=sa(t._zod.def,{get shape(){const u=t._zod.def.shape,d={...u};if(n)for(const p in n){if(!(p in u))throw new Error(`Unrecognized key: "${p}"`);n[p]&&(d[p]=e?new e({type:"optional",innerType:u[p]}):u[p])}else for(const p in u)d[p]=e?new e({type:"optional",innerType:u[p]}):u[p];return hl(this,"shape",d),d},checks:[]});return aa(t,l)}function $M(e,t,n){const r=sa(t._zod.def,{get shape(){const i=t._zod.def.shape,s={...i};if(n)for(const l in n){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(s[l]=new e({type:"nonoptional",innerType:i[l]}))}else for(const l in i)s[l]=new e({type:"nonoptional",innerType:i[l]});return hl(this,"shape",s),s}});return aa(t,r)}function gc(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Za(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Lh(e){return typeof e=="string"?e:e==null?void 0:e.message}function na(e,t,n){var i,s,l,u,d,p;const r={...e,path:e.path??[]};if(!e.message){const g=Lh((l=(s=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:l.call(s,e))??Lh((u=t==null?void 0:t.error)==null?void 0:u.call(t,e))??Lh((d=n.customError)==null?void 0:d.call(n,e))??Lh((p=n.localeError)==null?void 0:p.call(n,e))??"Invalid input";r.message=g}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function yw(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Cd(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Lk=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Hv,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Ok=Ae("$ZodError",Lk),jk=Ae("$ZodError",Lk,{Parent:Error});function ZM(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function HM(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>r({issues:l}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let l=n,u=0;for(;u<s.path.length;){const d=s.path[u];u===s.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(s))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return r(e),n}const vw=e=>(t,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},s);if(l instanceof Promise)throw new vc;if(l.issues.length){const u=new((i==null?void 0:i.Err)??e)(l.issues.map(d=>na(d,s,ta())));throw Rk(u,i==null?void 0:i.callee),u}return l.value},ww=e=>async(t,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},s);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new((i==null?void 0:i.Err)??e)(l.issues.map(d=>na(d,s,ta())));throw Rk(u,i==null?void 0:i.callee),u}return l.value},Gp=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new vc;return s.issues.length?{success:!1,error:new(e??Ok)(s.issues.map(l=>na(l,i,ta())))}:{success:!0,data:s.value}},WM=Gp(jk),Yp=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(l=>na(l,i,ta())))}:{success:!0,data:s.value}},VM=Yp(jk),qM=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return vw(e)(t,n,i)},KM=e=>(t,n,r)=>vw(e)(t,n,r),GM=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ww(e)(t,n,i)},YM=e=>async(t,n,r)=>ww(e)(t,n,r),JM=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Gp(e)(t,n,i)},QM=e=>(t,n,r)=>Gp(e)(t,n,r),XM=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Yp(e)(t,n,i)},e5=e=>async(t,n,r)=>Yp(e)(t,n,r),t5=/^[cC][^\s-]{8,}$/,n5=/^[0-9a-z]+$/,r5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,i5=/^[0-9a-vA-V]{20}$/,o5=/^[A-Za-z0-9]{27}$/,s5=/^[a-zA-Z0-9_-]{21}$/,a5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,l5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,e1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,c5=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,u5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function d5(){return new RegExp(u5,"u")}const f5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,h5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,p5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,m5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,g5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Mk=/^[A-Za-z0-9_-]*$/,y5=/^\+[1-9]\d{6,14}$/,zk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",v5=new RegExp(`^${zk}$`);function Dk(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function w5(e){return new RegExp(`^${Dk(e)}$`)}function _5(e){const t=Dk({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${zk}T(?:${r})$`)}const x5=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},b5=/^-?\d+$/,Bk=/^-?\d+(?:\.\d+)?$/,E5=/^(?:true|false)$/i,S5=/^[^A-Z]*$/,k5=/^[^a-z]*$/,gr=Ae("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Fk={number:"number",bigint:"bigint",object:"date"},Uk=Ae("$ZodCheckLessThan",(e,t)=>{gr.init(e,t);const n=Fk[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),$k=Ae("$ZodCheckGreaterThan",(e,t)=>{gr.init(e,t);const n=Fk[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),C5=Ae("$ZodCheckMultipleOf",(e,t)=>{gr.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):AM(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),P5=Ae("$ZodCheckNumberFormat",(e,t)=>{var l;gr.init(e,t),t.format=t.format||"float64";const n=(l=t.format)==null?void 0:l.includes("int"),r=n?"int":"number",[i,s]=jM[t.format];e._zod.onattach.push(u=>{const d=u._zod.bag;d.format=t.format,d.minimum=i,d.maximum=s,n&&(d.pattern=b5)}),e._zod.check=u=>{const d=u.value;if(n){if(!Number.isInteger(d)){u.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:d,inst:e});return}if(!Number.isSafeInteger(d)){d>0?u.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):u.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}d<i&&u.issues.push({origin:"number",input:d,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),d>s&&u.issues.push({origin:"number",input:d,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!t.abort})}}),T5=Ae("$ZodCheckMaxLength",(e,t)=>{var n;gr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!mw(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const l=yw(i);r.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),N5=Ae("$ZodCheckMinLength",(e,t)=>{var n;gr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!mw(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const l=yw(i);r.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),A5=Ae("$ZodCheckLengthEquals",(e,t)=>{var n;gr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!mw(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,s=i.length;if(s===t.length)return;const l=yw(i),u=s>t.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Jp=Ae("$ZodCheckStringFormat",(e,t)=>{var n,r;gr.init(e,t),e._zod.onattach.push(i=>{const s=i._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),R5=Ae("$ZodCheckRegex",(e,t)=>{Jp.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),I5=Ae("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=S5),Jp.init(e,t)}),L5=Ae("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=k5),Jp.init(e,t)}),O5=Ae("$ZodCheckIncludes",(e,t)=>{gr.init(e,t);const n=Zc(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),j5=Ae("$ZodCheckStartsWith",(e,t)=>{gr.init(e,t);const n=new RegExp(`^${Zc(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),M5=Ae("$ZodCheckEndsWith",(e,t)=>{gr.init(e,t);const n=new RegExp(`.*${Zc(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),z5=Ae("$ZodCheckOverwrite",(e,t)=>{gr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class D5{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(l=>l),i=Math.min(...r.map(l=>l.length-l.trimStart().length)),s=r.map(l=>l.slice(i)).map(l=>" ".repeat(this.indent*2)+l);for(const l of s)this.content.push(l)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,i.join(`
`))}}const B5={major:4,minor:3,patch:6},qt=Ae("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=B5;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const l of s._zod.onattach)l(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const s=(u,d,p)=>{let g=gc(u),m;for(const b of d){if(b._zod.def.when){if(!b._zod.def.when(u))continue}else if(g)continue;const _=u.issues.length,S=b._zod.check(u);if(S instanceof Promise&&(p==null?void 0:p.async)===!1)throw new vc;if(m||S instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await S,u.issues.length!==_&&(g||(g=gc(u,_)))});else{if(u.issues.length===_)continue;g||(g=gc(u,_))}}return m?m.then(()=>u):u},l=(u,d,p)=>{if(gc(u))return u.aborted=!0,u;const g=s(d,r,p);if(g instanceof Promise){if(p.async===!1)throw new vc;return g.then(m=>e._zod.parse(m,p))}return e._zod.parse(g,p)};e._zod.run=(u,d)=>{if(d.skipChecks)return e._zod.parse(u,d);if(d.direction==="backward"){const g=e._zod.parse({value:u.value,issues:[]},{...d,skipChecks:!0});return g instanceof Promise?g.then(m=>l(m,u,d)):l(g,u,d)}const p=e._zod.parse(u,d);if(p instanceof Promise){if(d.async===!1)throw new vc;return p.then(g=>s(g,r,d))}return s(p,r,d)}}zt(e,"~standard",()=>({validate:s=>{var l;try{const u=WM(e,s);return u.success?{value:u.data}:{issues:(l=u.error)==null?void 0:l.issues}}catch{return VM(e,s).then(d=>{var p;return d.success?{value:d.data}:{issues:(p=d.error)==null?void 0:p.issues}})}},vendor:"zod",version:1}))}),_w=Ae("$ZodString",(e,t)=>{var n;qt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??x5(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Yt=Ae("$ZodStringFormat",(e,t)=>{Jp.init(e,t),_w.init(e,t)}),F5=Ae("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=l5),Yt.init(e,t)}),U5=Ae("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=e1(r))}else t.pattern??(t.pattern=e1());Yt.init(e,t)}),$5=Ae("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=c5),Yt.init(e,t)}),Z5=Ae("$ZodURL",(e,t)=>{Yt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),H5=Ae("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=d5()),Yt.init(e,t)}),W5=Ae("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=s5),Yt.init(e,t)}),V5=Ae("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=t5),Yt.init(e,t)}),q5=Ae("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=n5),Yt.init(e,t)}),K5=Ae("$ZodULID",(e,t)=>{t.pattern??(t.pattern=r5),Yt.init(e,t)}),G5=Ae("$ZodXID",(e,t)=>{t.pattern??(t.pattern=i5),Yt.init(e,t)}),Y5=Ae("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=o5),Yt.init(e,t)}),J5=Ae("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=_5(t)),Yt.init(e,t)}),Q5=Ae("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=v5),Yt.init(e,t)}),X5=Ae("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=w5(t)),Yt.init(e,t)}),ez=Ae("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=a5),Yt.init(e,t)}),tz=Ae("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=f5),Yt.init(e,t),e._zod.bag.format="ipv4"}),nz=Ae("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=h5),Yt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),rz=Ae("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=p5),Yt.init(e,t)}),iz=Ae("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=m5),Yt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const l=Number(s);if(`${l}`!==s)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Zk(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const oz=Ae("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=g5),Yt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Zk(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function sz(e){if(!Mk.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Zk(n)}const az=Ae("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Mk),Yt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{sz(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),lz=Ae("$ZodE164",(e,t)=>{t.pattern??(t.pattern=y5),Yt.init(e,t)});function cz(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const uz=Ae("$ZodJWT",(e,t)=>{Yt.init(e,t),e._zod.check=n=>{cz(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Hk=Ae("$ZodNumber",(e,t)=>{qt.init(e,t),e._zod.pattern=e._zod.bag.pattern??Bk,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),n}}),dz=Ae("$ZodNumberFormat",(e,t)=>{P5.init(e,t),Hk.init(e,t)}),fz=Ae("$ZodBoolean",(e,t)=>{qt.init(e,t),e._zod.pattern=E5,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),hz=Ae("$ZodUnknown",(e,t)=>{qt.init(e,t),e._zod.parse=n=>n}),pz=Ae("$ZodNever",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function t1(e,t,n){e.issues.length&&t.issues.push(...Za(n,e.issues)),t.value[n]=e.value}const mz=Ae("$ZodArray",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const s=[];for(let l=0;l<i.length;l++){const u=i[l],d=t.element._zod.run({value:u,issues:[]},r);d instanceof Promise?s.push(d.then(p=>t1(p,n,l))):t1(d,n,l)}return s.length?Promise.all(s).then(()=>n):n}});function hp(e,t,n,r,i){if(e.issues.length){if(i&&!(n in r))return;t.issues.push(...Za(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Wk(e){var r,i,s,l;const t=Object.keys(e.shape);for(const u of t)if(!((l=(s=(i=(r=e.shape)==null?void 0:r[u])==null?void 0:i._zod)==null?void 0:s.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${u}": expected a Zod schema`);const n=OM(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Vk(e,t,n,r,i,s){const l=[],u=i.keySet,d=i.catchall._zod,p=d.def.type,g=d.optout==="optional";for(const m in t){if(u.has(m))continue;if(p==="never"){l.push(m);continue}const b=d.run({value:t[m],issues:[]},r);b instanceof Promise?e.push(b.then(_=>hp(_,n,m,t,g))):hp(b,n,m,t,g)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const gz=Ae("$ZodObject",(e,t)=>{qt.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const r=pw(()=>Wk(t));zt(e._zod,"propValues",()=>{const u=t.shape,d={};for(const p in u){const g=u[p]._zod;if(g.values){d[p]??(d[p]=new Set);for(const m of g.values)d[p].add(m)}}return d});const i=fp,s=t.catchall;let l;e._zod.parse=(u,d)=>{l??(l=r.value);const p=u.value;if(!i(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),u;u.value={};const g=[],m=l.shape;for(const b of l.keys){const _=m[b],S=_._zod.optout==="optional",v=_._zod.run({value:p[b],issues:[]},d);v instanceof Promise?g.push(v.then(E=>hp(E,u,b,p,S))):hp(v,u,b,p,S)}return s?Vk(g,p,u,d,r.value,e):g.length?Promise.all(g).then(()=>u):u}}),yz=Ae("$ZodObjectJIT",(e,t)=>{gz.init(e,t);const n=e._zod.parse,r=pw(()=>Wk(t)),i=b=>{var A;const _=new D5(["shape","payload","ctx"]),S=r.value,v=z=>{const D=Xb(z);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};_.write("const input = payload.value;");const E=Object.create(null);let k=0;for(const z of S.keys)E[z]=`key_${k++}`;_.write("const newResult = {};");for(const z of S.keys){const D=E[z],Z=Xb(z),H=b[z],q=((A=H==null?void 0:H._zod)==null?void 0:A.optout)==="optional";_.write(`const ${D} = ${v(z)};`),q?_.write(`
        if (${D}.issues.length) {
          if (${Z} in input) {
            payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Z}, ...iss.path] : [${Z}]
            })));
          }
        }
        
        if (${D}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${D}.value;
        }
        
      `):_.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Z}, ...iss.path] : [${Z}]
          })));
        }
        
        if (${D}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${D}.value;
        }
        
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const N=_.compile();return(z,D)=>N(b,z,D)};let s;const l=fp,u=!Nk.jitless,p=u&&IM.value,g=t.catchall;let m;e._zod.parse=(b,_)=>{m??(m=r.value);const S=b.value;return l(S)?u&&p&&(_==null?void 0:_.async)===!1&&_.jitless!==!0?(s||(s=i(t.shape)),b=s(b,_),g?Vk([],S,b,_,m,e):b):n(b,_):(b.issues.push({expected:"object",code:"invalid_type",input:S,inst:e}),b)}});function n1(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const i=e.filter(s=>!gc(s));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(l=>na(l,r,ta())))}),t)}const vz=Ae("$ZodUnion",(e,t)=>{qt.init(e,t),zt(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),zt(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),zt(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),zt(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>gw(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(n)return r(i,s);let l=!1;const u=[];for(const d of t.options){const p=d._zod.run({value:i.value,issues:[]},s);if(p instanceof Promise)u.push(p),l=!0;else{if(p.issues.length===0)return p;u.push(p)}}return l?Promise.all(u).then(d=>n1(d,i,e,s)):n1(u,i,e,s)}}),wz=Ae("$ZodIntersection",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,s=t.left._zod.run({value:i,issues:[]},r),l=t.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||l instanceof Promise?Promise.all([s,l]).then(([d,p])=>r1(n,d,p)):r1(n,s,l)}});function Wv(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if($c(e)&&$c(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),i={...e,...t};for(const s of r){const l=Wv(e[s],t[s]);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};i[s]=l.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r],l=Wv(i,s);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function r1(e,t,n){const r=new Map;let i;for(const u of t.issues)if(u.code==="unrecognized_keys"){i??(i=u);for(const d of u.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else e.issues.push(u);for(const u of n.issues)if(u.code==="unrecognized_keys")for(const d of u.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else e.issues.push(u);const s=[...r].filter(([,u])=>u.l&&u.r).map(([u])=>u);if(s.length&&i&&e.issues.push({...i,keys:s}),gc(e))return e;const l=Wv(t.value,n.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const _z=Ae("$ZodTuple",(e,t)=>{qt.init(e,t);const n=t.items;e._zod.parse=(r,i)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({input:s,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const l=[],u=[...n].reverse().findIndex(g=>g._zod.optin!=="optional"),d=u===-1?0:n.length-u;if(!t.rest){const g=s.length>n.length,m=s.length<d-1;if(g||m)return r.issues.push({...g?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:s,inst:e,origin:"array"}),r}let p=-1;for(const g of n){if(p++,p>=s.length&&p>=d)continue;const m=g._zod.run({value:s[p],issues:[]},i);m instanceof Promise?l.push(m.then(b=>Oh(b,r,p))):Oh(m,r,p)}if(t.rest){const g=s.slice(n.length);for(const m of g){p++;const b=t.rest._zod.run({value:m,issues:[]},i);b instanceof Promise?l.push(b.then(_=>Oh(_,r,p))):Oh(b,r,p)}}return l.length?Promise.all(l).then(()=>r):r}});function Oh(e,t,n){e.issues.length&&t.issues.push(...Za(n,e.issues)),t.value[n]=e.value}const xz=Ae("$ZodRecord",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!$c(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const s=[],l=t.keyType._zod.values;if(l){n.value={};const u=new Set;for(const p of l)if(typeof p=="string"||typeof p=="number"||typeof p=="symbol"){u.add(typeof p=="number"?p.toString():p);const g=t.valueType._zod.run({value:i[p],issues:[]},r);g instanceof Promise?s.push(g.then(m=>{m.issues.length&&n.issues.push(...Za(p,m.issues)),n.value[p]=m.value})):(g.issues.length&&n.issues.push(...Za(p,g.issues)),n.value[p]=g.value)}let d;for(const p in i)u.has(p)||(d=d??[],d.push(p));d&&d.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:d})}else{n.value={};for(const u of Reflect.ownKeys(i)){if(u==="__proto__")continue;let d=t.keyType._zod.run({value:u,issues:[]},r);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof u=="string"&&Bk.test(u)&&d.issues.length){const m=t.keyType._zod.run({value:Number(u),issues:[]},r);if(m instanceof Promise)throw new Error("Async schemas not supported in object keys currently");m.issues.length===0&&(d=m)}if(d.issues.length){t.mode==="loose"?n.value[u]=i[u]:n.issues.push({code:"invalid_key",origin:"record",issues:d.issues.map(m=>na(m,r,ta())),input:u,path:[u],inst:e});continue}const g=t.valueType._zod.run({value:i[u],issues:[]},r);g instanceof Promise?s.push(g.then(m=>{m.issues.length&&n.issues.push(...Za(u,m.issues)),n.value[d.value]=m.value})):(g.issues.length&&n.issues.push(...Za(u,g.issues)),n.value[d.value]=g.value)}}return s.length?Promise.all(s).then(()=>n):n}}),bz=Ae("$ZodEnum",(e,t)=>{qt.init(e,t);const n=Ak(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>LM.has(typeof i)).map(i=>typeof i=="string"?Zc(i):i.toString()).join("|")})$`),e._zod.parse=(i,s)=>{const l=i.value;return r.has(l)||i.issues.push({code:"invalid_value",values:n,input:l,inst:e}),i}}),Ez=Ae("$ZodLiteral",(e,t)=>{if(qt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Zc(r):r?Zc(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),Sz=Ae("$ZodTransform",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Tk(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(l=>(n.value=l,n));if(i instanceof Promise)throw new vc;return n.value=i,n}});function i1(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const qk=Ae("$ZodOptional",(e,t)=>{qt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",zt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),zt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${gw(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>i1(s,n.value)):i1(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),kz=Ae("$ZodExactOptional",(e,t)=>{qk.init(e,t),zt(e._zod,"values",()=>t.innerType._zod.values),zt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),Cz=Ae("$ZodNullable",(e,t)=>{qt.init(e,t),zt(e._zod,"optin",()=>t.innerType._zod.optin),zt(e._zod,"optout",()=>t.innerType._zod.optout),zt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${gw(n.source)}|null)$`):void 0}),zt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Pz=Ae("$ZodDefault",(e,t)=>{qt.init(e,t),e._zod.optin="optional",zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>o1(s,t)):o1(i,t)}});function o1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Tz=Ae("$ZodPrefault",(e,t)=>{qt.init(e,t),e._zod.optin="optional",zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Nz=Ae("$ZodNonOptional",(e,t)=>{qt.init(e,t),zt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>s1(s,e)):s1(i,e)}});function s1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Az=Ae("$ZodCatch",(e,t)=>{qt.init(e,t),zt(e._zod,"optin",()=>t.innerType._zod.optin),zt(e._zod,"optout",()=>t.innerType._zod.optout),zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(l=>na(l,r,ta()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>na(s,r,ta()))},input:n.value}),n.issues=[]),n)}}),Rz=Ae("$ZodPipe",(e,t)=>{qt.init(e,t),zt(e._zod,"values",()=>t.in._zod.values),zt(e._zod,"optin",()=>t.in._zod.optin),zt(e._zod,"optout",()=>t.out._zod.optout),zt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(l=>jh(l,t.in,r)):jh(s,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(s=>jh(s,t.out,r)):jh(i,t.out,r)}});function jh(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Iz=Ae("$ZodReadonly",(e,t)=>{qt.init(e,t),zt(e._zod,"propValues",()=>t.innerType._zod.propValues),zt(e._zod,"values",()=>t.innerType._zod.values),zt(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),zt(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(a1):a1(i)}});function a1(e){return e.value=Object.freeze(e.value),e}const Lz=Ae("$ZodCustom",(e,t)=>{gr.init(e,t),qt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(s=>l1(s,n,r,e));l1(i,n,r,e)}});function l1(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(Cd(i))}}var c1;class Oz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function jz(){return new Oz}(c1=globalThis).__zod_globalRegistry??(c1.__zod_globalRegistry=jz());const ud=globalThis.__zod_globalRegistry;function Mz(e,t){return new e({type:"string",...st(t)})}function Kk(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...st(t)})}function u1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...st(t)})}function zz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...st(t)})}function Dz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...st(t)})}function Bz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...st(t)})}function Fz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...st(t)})}function Gk(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...st(t)})}function Uz(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...st(t)})}function $z(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...st(t)})}function Zz(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...st(t)})}function Hz(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...st(t)})}function Wz(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...st(t)})}function Vz(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...st(t)})}function qz(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...st(t)})}function Kz(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...st(t)})}function Gz(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...st(t)})}function Yz(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...st(t)})}function Jz(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...st(t)})}function Qz(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...st(t)})}function Xz(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...st(t)})}function e8(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...st(t)})}function t8(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...st(t)})}function n8(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...st(t)})}function r8(e,t){return new e({type:"string",format:"date",check:"string_format",...st(t)})}function i8(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...st(t)})}function o8(e,t){return new e({type:"string",format:"duration",check:"string_format",...st(t)})}function s8(e,t){return new e({type:"number",checks:[],...st(t)})}function a8(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...st(t)})}function l8(e,t){return new e({type:"boolean",...st(t)})}function c8(e){return new e({type:"unknown"})}function u8(e,t){return new e({type:"never",...st(t)})}function d1(e,t){return new Uk({check:"less_than",...st(t),value:e,inclusive:!1})}function _y(e,t){return new Uk({check:"less_than",...st(t),value:e,inclusive:!0})}function f1(e,t){return new $k({check:"greater_than",...st(t),value:e,inclusive:!1})}function xy(e,t){return new $k({check:"greater_than",...st(t),value:e,inclusive:!0})}function h1(e,t){return new C5({check:"multiple_of",...st(t),value:e})}function Yk(e,t){return new T5({check:"max_length",...st(t),maximum:e})}function pp(e,t){return new N5({check:"min_length",...st(t),minimum:e})}function Jk(e,t){return new A5({check:"length_equals",...st(t),length:e})}function d8(e,t){return new R5({check:"string_format",format:"regex",...st(t),pattern:e})}function f8(e){return new I5({check:"string_format",format:"lowercase",...st(e)})}function h8(e){return new L5({check:"string_format",format:"uppercase",...st(e)})}function p8(e,t){return new O5({check:"string_format",format:"includes",...st(t),includes:e})}function m8(e,t){return new j5({check:"string_format",format:"starts_with",...st(t),prefix:e})}function g8(e,t){return new M5({check:"string_format",format:"ends_with",...st(t),suffix:e})}function Jc(e){return new z5({check:"overwrite",tx:e})}function y8(e){return Jc(t=>t.normalize(e))}function v8(){return Jc(e=>e.trim())}function w8(){return Jc(e=>e.toLowerCase())}function _8(){return Jc(e=>e.toUpperCase())}function x8(){return Jc(e=>RM(e))}function b8(e,t,n){return new e({type:"array",element:t,...st(n)})}function E8(e,t,n){return new e({type:"custom",check:"custom",fn:t,...st(n)})}function S8(e){const t=k8(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Cd(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Cd(i))}},e(n.value,n)));return t}function k8(e,t){const n=new gr({check:"custom",...st(t)});return n._zod.check=e,n}function Qk(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??ud,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function ln(e,t,n={path:[],schemaPath:[]}){var g,m;var r;const i=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,l);const u=(m=(g=e._zod).toJSONSchema)==null?void 0:m.call(g);if(u)l.schema=u;else{const b={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,b);else{const S=l.schema,v=t.processors[i.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);v(e,t,S,b)}const _=e._zod.parent;_&&(l.ref||(l.ref=_),ln(_,t,b),t.seen.get(_).isParent=!0)}const d=t.metadataRegistry.get(e);return d&&Object.assign(l.schema,d),t.io==="input"&&Yn(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function Xk(e,t){var l,u,d,p;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const g of e.seen.entries()){const m=(l=e.metadataRegistry.get(g[0]))==null?void 0:l.id;if(m){const b=r.get(m);if(b&&b!==g[0])throw new Error(`Duplicate schema id "${m}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(m,g[0])}}const i=g=>{var v;const m=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const E=(v=e.external.registry.get(g[0]))==null?void 0:v.id,k=e.external.uri??(A=>A);if(E)return{ref:k(E)};const N=g[1].defId??g[1].schema.id??`schema${e.counter++}`;return g[1].defId=N,{defId:N,ref:`${k("__shared")}#/${m}/${N}`}}if(g[1]===n)return{ref:"#"};const _=`#/${m}/`,S=g[1].schema.id??`__schema${e.counter++}`;return{defId:S,ref:_+S}},s=g=>{if(g[1].schema.$ref)return;const m=g[1],{ref:b,defId:_}=i(g);m.def={...m.schema},_&&(m.defId=_);const S=m.schema;for(const v in S)delete S[v];S.$ref=b};if(e.cycles==="throw")for(const g of e.seen.entries()){const m=g[1];if(m.cycle)throw new Error(`Cycle detected: #/${(u=m.cycle)==null?void 0:u.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const g of e.seen.entries()){const m=g[1];if(t===g[0]){s(g);continue}if(e.external){const _=(d=e.external.registry.get(g[0]))==null?void 0:d.id;if(t!==g[0]&&_){s(g);continue}}if((p=e.metadataRegistry.get(g[0]))==null?void 0:p.id){s(g);continue}if(m.cycle){s(g);continue}if(m.count>1&&e.reused==="ref"){s(g);continue}}}function eC(e,t){var l,u,d;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=p=>{const g=e.seen.get(p);if(g.ref===null)return;const m=g.def??g.schema,b={...m},_=g.ref;if(g.ref=null,_){r(_);const v=e.seen.get(_),E=v.schema;if(E.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(E)):Object.assign(m,E),Object.assign(m,b),p._zod.parent===_)for(const N in m)N==="$ref"||N==="allOf"||N in b||delete m[N];if(E.$ref&&v.def)for(const N in m)N==="$ref"||N==="allOf"||N in v.def&&JSON.stringify(m[N])===JSON.stringify(v.def[N])&&delete m[N]}const S=p._zod.parent;if(S&&S!==_){r(S);const v=e.seen.get(S);if(v!=null&&v.schema.$ref&&(m.$ref=v.schema.$ref,v.def))for(const E in m)E==="$ref"||E==="allOf"||E in v.def&&JSON.stringify(m[E])===JSON.stringify(v.def[E])&&delete m[E]}e.override({zodSchema:p,jsonSchema:m,path:g.path??[]})};for(const p of[...e.seen.entries()].reverse())r(p[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,(l=e.external)!=null&&l.uri){const p=(u=e.external.registry.get(t))==null?void 0:u.id;if(!p)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(p)}Object.assign(i,n.def??n.schema);const s=((d=e.external)==null?void 0:d.defs)??{};for(const p of e.seen.entries()){const g=p[1];g.def&&g.defId&&(s[g.defId]=g.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?i.$defs=s:i.definitions=s);try{const p=JSON.parse(JSON.stringify(i));return Object.defineProperty(p,"~standard",{value:{...t["~standard"],jsonSchema:{input:mp(t,"input",e.processors),output:mp(t,"output",e.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function Yn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Yn(r.element,n);if(r.type==="set")return Yn(r.valueType,n);if(r.type==="lazy")return Yn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Yn(r.innerType,n);if(r.type==="intersection")return Yn(r.left,n)||Yn(r.right,n);if(r.type==="record"||r.type==="map")return Yn(r.keyType,n)||Yn(r.valueType,n);if(r.type==="pipe")return Yn(r.in,n)||Yn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Yn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Yn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Yn(i,n))return!0;return!!(r.rest&&Yn(r.rest,n))}return!1}const C8=(e,t={})=>n=>{const r=Qk({...n,processors:t});return ln(e,r),Xk(r,e),eC(r,e)},mp=(e,t,n={})=>r=>{const{libraryOptions:i,target:s}=r??{},l=Qk({...i??{},target:s,io:t,processors:n});return ln(e,l),Xk(l,e),eC(l,e)},P8={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},T8=(e,t,n,r)=>{const i=n;i.type="string";const{minimum:s,maximum:l,format:u,patterns:d,contentEncoding:p}=e._zod.bag;if(typeof s=="number"&&(i.minLength=s),typeof l=="number"&&(i.maxLength=l),u&&(i.format=P8[u]??u,i.format===""&&delete i.format,u==="time"&&delete i.format),p&&(i.contentEncoding=p),d&&d.size>0){const g=[...d];g.length===1?i.pattern=g[0].source:g.length>1&&(i.allOf=[...g.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},N8=(e,t,n,r)=>{const i=n,{minimum:s,maximum:l,format:u,multipleOf:d,exclusiveMaximum:p,exclusiveMinimum:g}=e._zod.bag;typeof u=="string"&&u.includes("int")?i.type="integer":i.type="number",typeof g=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=g,i.exclusiveMinimum=!0):i.exclusiveMinimum=g),typeof s=="number"&&(i.minimum=s,typeof g=="number"&&t.target!=="draft-04"&&(g>=s?delete i.minimum:delete i.exclusiveMinimum)),typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=p,i.exclusiveMaximum=!0):i.exclusiveMaximum=p),typeof l=="number"&&(i.maximum=l,typeof p=="number"&&t.target!=="draft-04"&&(p<=l?delete i.maximum:delete i.exclusiveMaximum)),typeof d=="number"&&(i.multipleOf=d)},A8=(e,t,n,r)=>{n.type="boolean"},R8=(e,t,n,r)=>{n.not={}},I8=(e,t,n,r)=>{},L8=(e,t,n,r)=>{const i=e._zod.def,s=Ak(i.entries);s.every(l=>typeof l=="number")&&(n.type="number"),s.every(l=>typeof l=="string")&&(n.type="string"),n.enum=s},O8=(e,t,n,r)=>{const i=e._zod.def,s=[];for(const l of i.values)if(l===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof l=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(l))}else s.push(l);if(s.length!==0)if(s.length===1){const l=s[0];n.type=l===null?"null":typeof l,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[l]:n.const=l}else s.every(l=>typeof l=="number")&&(n.type="number"),s.every(l=>typeof l=="string")&&(n.type="string"),s.every(l=>typeof l=="boolean")&&(n.type="boolean"),s.every(l=>l===null)&&(n.type="null"),n.enum=s},j8=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},M8=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},z8=(e,t,n,r)=>{const i=n,s=e._zod.def,{minimum:l,maximum:u}=e._zod.bag;typeof l=="number"&&(i.minItems=l),typeof u=="number"&&(i.maxItems=u),i.type="array",i.items=ln(s.element,t,{...r,path:[...r.path,"items"]})},D8=(e,t,n,r)=>{var p;const i=n,s=e._zod.def;i.type="object",i.properties={};const l=s.shape;for(const g in l)i.properties[g]=ln(l[g],t,{...r,path:[...r.path,"properties",g]});const u=new Set(Object.keys(l)),d=new Set([...u].filter(g=>{const m=s.shape[g]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));d.size>0&&(i.required=Array.from(d)),((p=s.catchall)==null?void 0:p._zod.def.type)==="never"?i.additionalProperties=!1:s.catchall?s.catchall&&(i.additionalProperties=ln(s.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},B8=(e,t,n,r)=>{const i=e._zod.def,s=i.inclusive===!1,l=i.options.map((u,d)=>ln(u,t,{...r,path:[...r.path,s?"oneOf":"anyOf",d]}));s?n.oneOf=l:n.anyOf=l},F8=(e,t,n,r)=>{const i=e._zod.def,s=ln(i.left,t,{...r,path:[...r.path,"allOf",0]}),l=ln(i.right,t,{...r,path:[...r.path,"allOf",1]}),u=p=>"allOf"in p&&Object.keys(p).length===1,d=[...u(s)?s.allOf:[s],...u(l)?l.allOf:[l]];n.allOf=d},U8=(e,t,n,r)=>{const i=n,s=e._zod.def;i.type="array";const l=t.target==="draft-2020-12"?"prefixItems":"items",u=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",d=s.items.map((b,_)=>ln(b,t,{...r,path:[...r.path,l,_]})),p=s.rest?ln(s.rest,t,{...r,path:[...r.path,u,...t.target==="openapi-3.0"?[s.items.length]:[]]}):null;t.target==="draft-2020-12"?(i.prefixItems=d,p&&(i.items=p)):t.target==="openapi-3.0"?(i.items={anyOf:d},p&&i.items.anyOf.push(p),i.minItems=d.length,p||(i.maxItems=d.length)):(i.items=d,p&&(i.additionalItems=p));const{minimum:g,maximum:m}=e._zod.bag;typeof g=="number"&&(i.minItems=g),typeof m=="number"&&(i.maxItems=m)},$8=(e,t,n,r)=>{const i=n,s=e._zod.def;i.type="object";const l=s.keyType,u=l._zod.bag,d=u==null?void 0:u.patterns;if(s.mode==="loose"&&d&&d.size>0){const g=ln(s.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});i.patternProperties={};for(const m of d)i.patternProperties[m.source]=g}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(i.propertyNames=ln(s.keyType,t,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=ln(s.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const p=l._zod.values;if(p){const g=[...p].filter(m=>typeof m=="string"||typeof m=="number");g.length>0&&(i.required=g)}},Z8=(e,t,n,r)=>{const i=e._zod.def,s=ln(i.innerType,t,r),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},H8=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType},W8=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},V8=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},q8=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType;let l;try{l=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},K8=(e,t,n,r)=>{const i=e._zod.def,s=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;ln(s,t,r);const l=t.seen.get(e);l.ref=s},G8=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,n.readOnly=!0},tC=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType},Y8=Ae("ZodISODateTime",(e,t)=>{J5.init(e,t),nn.init(e,t)});function J8(e){return n8(Y8,e)}const Q8=Ae("ZodISODate",(e,t)=>{Q5.init(e,t),nn.init(e,t)});function X8(e){return r8(Q8,e)}const eD=Ae("ZodISOTime",(e,t)=>{X5.init(e,t),nn.init(e,t)});function tD(e){return i8(eD,e)}const nD=Ae("ZodISODuration",(e,t)=>{ez.init(e,t),nn.init(e,t)});function rD(e){return o8(nD,e)}const iD=(e,t)=>{Ok.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>HM(e,n)},flatten:{value:n=>ZM(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Hv,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Hv,2)}},isEmpty:{get(){return e.issues.length===0}}})},ri=Ae("ZodError",iD,{Parent:Error}),oD=vw(ri),sD=ww(ri),aD=Gp(ri),lD=Yp(ri),cD=qM(ri),uD=KM(ri),dD=GM(ri),fD=YM(ri),hD=JM(ri),pD=QM(ri),mD=XM(ri),gD=e5(ri),Jt=Ae("ZodType",(e,t)=>(qt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:mp(e,"input"),output:mp(e,"output")}}),e.toJSONSchema=C8(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(sa(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>aa(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>oD(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>aD(e,n,r),e.parseAsync=async(n,r)=>sD(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>lD(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>cD(e,n,r),e.decode=(n,r)=>uD(e,n,r),e.encodeAsync=async(n,r)=>dD(e,n,r),e.decodeAsync=async(n,r)=>fD(e,n,r),e.safeEncode=(n,r)=>hD(e,n,r),e.safeDecode=(n,r)=>pD(e,n,r),e.safeEncodeAsync=async(n,r)=>mD(e,n,r),e.safeDecodeAsync=async(n,r)=>gD(e,n,r),e.refine=(n,r)=>e.check(l6(n,r)),e.superRefine=n=>e.check(c6(n)),e.overwrite=n=>e.check(Jc(n)),e.optional=()=>v1(e),e.exactOptional=()=>GD(e),e.nullable=()=>w1(e),e.nullish=()=>v1(w1(e)),e.nonoptional=n=>t6(e,n),e.array=()=>sC(e),e.or=n=>qv([e,n]),e.and=n=>UD(e,n),e.transform=n=>_1(e,qD(n)),e.default=n=>QD(e,n),e.prefault=n=>e6(e,n),e.catch=n=>r6(e,n),e.pipe=n=>_1(e,n),e.readonly=()=>s6(e),e.describe=n=>{const r=e.clone();return ud.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=ud.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return ud.get(e);const r=e.clone();return ud.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),nC=Ae("_ZodString",(e,t)=>{_w.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>T8(e,r,i);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(d8(...r)),e.includes=(...r)=>e.check(p8(...r)),e.startsWith=(...r)=>e.check(m8(...r)),e.endsWith=(...r)=>e.check(g8(...r)),e.min=(...r)=>e.check(pp(...r)),e.max=(...r)=>e.check(Yk(...r)),e.length=(...r)=>e.check(Jk(...r)),e.nonempty=(...r)=>e.check(pp(1,...r)),e.lowercase=r=>e.check(f8(r)),e.uppercase=r=>e.check(h8(r)),e.trim=()=>e.check(v8()),e.normalize=(...r)=>e.check(y8(...r)),e.toLowerCase=()=>e.check(w8()),e.toUpperCase=()=>e.check(_8()),e.slugify=()=>e.check(x8())}),yD=Ae("ZodString",(e,t)=>{_w.init(e,t),nC.init(e,t),e.email=n=>e.check(Kk(rC,n)),e.url=n=>e.check(Gk(iC,n)),e.jwt=n=>e.check(t8(ID,n)),e.emoji=n=>e.check(Uz(vD,n)),e.guid=n=>e.check(u1(m1,n)),e.uuid=n=>e.check(zz(Mh,n)),e.uuidv4=n=>e.check(Dz(Mh,n)),e.uuidv6=n=>e.check(Bz(Mh,n)),e.uuidv7=n=>e.check(Fz(Mh,n)),e.nanoid=n=>e.check($z(wD,n)),e.guid=n=>e.check(u1(m1,n)),e.cuid=n=>e.check(Zz(_D,n)),e.cuid2=n=>e.check(Hz(xD,n)),e.ulid=n=>e.check(Wz(bD,n)),e.base64=n=>e.check(Qz(ND,n)),e.base64url=n=>e.check(Xz(AD,n)),e.xid=n=>e.check(Vz(ED,n)),e.ksuid=n=>e.check(qz(SD,n)),e.ipv4=n=>e.check(Kz(kD,n)),e.ipv6=n=>e.check(Gz(CD,n)),e.cidrv4=n=>e.check(Yz(PD,n)),e.cidrv6=n=>e.check(Jz(TD,n)),e.e164=n=>e.check(e8(RD,n)),e.datetime=n=>e.check(J8(n)),e.date=n=>e.check(X8(n)),e.time=n=>e.check(tD(n)),e.duration=n=>e.check(rD(n))});function Ot(e){return Mz(yD,e)}const nn=Ae("ZodStringFormat",(e,t)=>{Yt.init(e,t),nC.init(e,t)}),rC=Ae("ZodEmail",(e,t)=>{$5.init(e,t),nn.init(e,t)});function p1(e){return Kk(rC,e)}const m1=Ae("ZodGUID",(e,t)=>{F5.init(e,t),nn.init(e,t)}),Mh=Ae("ZodUUID",(e,t)=>{U5.init(e,t),nn.init(e,t)}),iC=Ae("ZodURL",(e,t)=>{Z5.init(e,t),nn.init(e,t)});function dd(e){return Gk(iC,e)}const vD=Ae("ZodEmoji",(e,t)=>{H5.init(e,t),nn.init(e,t)}),wD=Ae("ZodNanoID",(e,t)=>{W5.init(e,t),nn.init(e,t)}),_D=Ae("ZodCUID",(e,t)=>{V5.init(e,t),nn.init(e,t)}),xD=Ae("ZodCUID2",(e,t)=>{q5.init(e,t),nn.init(e,t)}),bD=Ae("ZodULID",(e,t)=>{K5.init(e,t),nn.init(e,t)}),ED=Ae("ZodXID",(e,t)=>{G5.init(e,t),nn.init(e,t)}),SD=Ae("ZodKSUID",(e,t)=>{Y5.init(e,t),nn.init(e,t)}),kD=Ae("ZodIPv4",(e,t)=>{tz.init(e,t),nn.init(e,t)}),CD=Ae("ZodIPv6",(e,t)=>{nz.init(e,t),nn.init(e,t)}),PD=Ae("ZodCIDRv4",(e,t)=>{rz.init(e,t),nn.init(e,t)}),TD=Ae("ZodCIDRv6",(e,t)=>{iz.init(e,t),nn.init(e,t)}),ND=Ae("ZodBase64",(e,t)=>{oz.init(e,t),nn.init(e,t)}),AD=Ae("ZodBase64URL",(e,t)=>{az.init(e,t),nn.init(e,t)}),RD=Ae("ZodE164",(e,t)=>{lz.init(e,t),nn.init(e,t)}),ID=Ae("ZodJWT",(e,t)=>{uz.init(e,t),nn.init(e,t)}),oC=Ae("ZodNumber",(e,t)=>{Hk.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>N8(e,r,i),e.gt=(r,i)=>e.check(f1(r,i)),e.gte=(r,i)=>e.check(xy(r,i)),e.min=(r,i)=>e.check(xy(r,i)),e.lt=(r,i)=>e.check(d1(r,i)),e.lte=(r,i)=>e.check(_y(r,i)),e.max=(r,i)=>e.check(_y(r,i)),e.int=r=>e.check(g1(r)),e.safe=r=>e.check(g1(r)),e.positive=r=>e.check(f1(0,r)),e.nonnegative=r=>e.check(xy(0,r)),e.negative=r=>e.check(d1(0,r)),e.nonpositive=r=>e.check(_y(0,r)),e.multipleOf=(r,i)=>e.check(h1(r,i)),e.step=(r,i)=>e.check(h1(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Co(e){return s8(oC,e)}const LD=Ae("ZodNumberFormat",(e,t)=>{dz.init(e,t),oC.init(e,t)});function g1(e){return a8(LD,e)}const OD=Ae("ZodBoolean",(e,t)=>{fz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>A8(e,n,r)});function el(e){return l8(OD,e)}const jD=Ae("ZodUnknown",(e,t)=>{hz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>I8()});function Vv(){return c8(jD)}const MD=Ae("ZodNever",(e,t)=>{pz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>R8(e,n,r)});function zD(e){return u8(MD,e)}const DD=Ae("ZodArray",(e,t)=>{mz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>z8(e,n,r,i),e.element=t.element,e.min=(n,r)=>e.check(pp(n,r)),e.nonempty=n=>e.check(pp(1,n)),e.max=(n,r)=>e.check(Yk(n,r)),e.length=(n,r)=>e.check(Jk(n,r)),e.unwrap=()=>e.element});function sC(e,t){return b8(DD,e,t)}const aC=Ae("ZodObject",(e,t)=>{yz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>D8(e,n,r,i),zt(e,"shape",()=>t.shape),e.keyof=()=>lC(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Vv()}),e.loose=()=>e.clone({...e._zod.def,catchall:Vv()}),e.strict=()=>e.clone({...e._zod.def,catchall:zD()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>DM(e,n),e.safeExtend=n=>BM(e,n),e.merge=n=>FM(e,n),e.pick=n=>MM(e,n),e.omit=n=>zM(e,n),e.partial=(...n)=>UM(cC,e,n[0]),e.required=(...n)=>$M(uC,e,n[0])});function jo(e,t){const n={type:"object",shape:e??{},...st(t)};return new aC(n)}function y1(e,t){return new aC({type:"object",shape:e,catchall:Vv(),...st(t)})}const BD=Ae("ZodUnion",(e,t)=>{vz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>B8(e,n,r,i),e.options=t.options});function qv(e,t){return new BD({type:"union",options:e,...st(t)})}const FD=Ae("ZodIntersection",(e,t)=>{wz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>F8(e,n,r,i)});function UD(e,t){return new FD({type:"intersection",left:e,right:t})}const $D=Ae("ZodTuple",(e,t)=>{_z.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>U8(e,n,r,i),e.rest=n=>e.clone({...e._zod.def,rest:n})});function qr(e,t,n){const r=t instanceof qt,i=r?n:t,s=r?t:null;return new $D({type:"tuple",items:e,rest:s,...st(i)})}const ZD=Ae("ZodRecord",(e,t)=>{xz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>$8(e,n,r,i),e.keyType=t.keyType,e.valueType=t.valueType});function HD(e,t,n){return new ZD({type:"record",keyType:e,valueType:t,...st(n)})}const Kv=Ae("ZodEnum",(e,t)=>{bz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>L8(e,r,i),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const s={};for(const l of r)if(n.has(l))s[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Kv({...t,checks:[],...st(i),entries:s})},e.exclude=(r,i)=>{const s={...t.entries};for(const l of r)if(n.has(l))delete s[l];else throw new Error(`Key ${l} not found in enum`);return new Kv({...t,checks:[],...st(i),entries:s})}});function lC(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Kv({type:"enum",entries:n,...st(t)})}const WD=Ae("ZodLiteral",(e,t)=>{Ez.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>O8(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Kr(e,t){return new WD({type:"literal",values:Array.isArray(e)?e:[e],...st(t)})}const VD=Ae("ZodTransform",(e,t)=>{Sz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>M8(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Tk(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(Cd(s,n.value,t));else{const l=s;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(Cd(l))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function qD(e){return new VD({type:"transform",transform:e})}const cC=Ae("ZodOptional",(e,t)=>{qk.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>tC(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function v1(e){return new cC({type:"optional",innerType:e})}const KD=Ae("ZodExactOptional",(e,t)=>{kz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>tC(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function GD(e){return new KD({type:"optional",innerType:e})}const YD=Ae("ZodNullable",(e,t)=>{Cz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>Z8(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function w1(e){return new YD({type:"nullable",innerType:e})}const JD=Ae("ZodDefault",(e,t)=>{Pz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>W8(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function QD(e,t){return new JD({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Ik(t)}})}const XD=Ae("ZodPrefault",(e,t)=>{Tz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>V8(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function e6(e,t){return new XD({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Ik(t)}})}const uC=Ae("ZodNonOptional",(e,t)=>{Nz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>H8(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function t6(e,t){return new uC({type:"nonoptional",innerType:e,...st(t)})}const n6=Ae("ZodCatch",(e,t)=>{Az.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>q8(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function r6(e,t){return new n6({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const i6=Ae("ZodPipe",(e,t)=>{Rz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>K8(e,n,r,i),e.in=t.in,e.out=t.out});function _1(e,t){return new i6({type:"pipe",in:e,out:t})}const o6=Ae("ZodReadonly",(e,t)=>{Iz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>G8(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function s6(e){return new o6({type:"readonly",innerType:e})}const a6=Ae("ZodCustom",(e,t)=>{Lz.init(e,t),Jt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>j8(e,n)});function l6(e,t={}){return E8(a6,e,t)}function c6(e){return S8(e)}const u6={custom:"custom"};class Et{static id(){return Ot().regex(/^[0-9a-f]{64}$/)}static event(){return jo({id:Et.id(),kind:Co().int().nonnegative(),pubkey:Et.id(),tags:Ot().array().array(),content:Ot(),created_at:Co().int().nonnegative(),sig:Ot()}).required({id:!0,kind:!0,pubkey:!0,tags:!0,content:!0,created_at:!0,sig:!0})}static filter(){return y1({kinds:Co().int().nonnegative().array().optional(),ids:Et.id().array().optional(),authors:Et.id().array().optional(),since:Co().int().nonnegative().optional(),until:Co().int().nonnegative().optional(),limit:Co().int().nonnegative().optional(),search:Ot().optional()}).transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[i,s])=>((n.includes(i)||i.startsWith("#"))&&(r[i]=s),r),{})})}static bech32(t){return Ot().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return dd().regex(/^wss?:\/\//)}static clientEVENT(){return qr([Kr("EVENT"),Et.event()])}static clientREQ(){return qr([Kr("REQ"),Ot()]).rest(Et.filter())}static clientCOUNT(){return qr([Kr("COUNT"),Ot()]).rest(Et.filter())}static clientCLOSE(){return qr([Kr("CLOSE"),Ot()])}static clientAUTH(){return qr([Kr("AUTH"),Et.event()])}static clientMsg(){return qv([Et.clientEVENT(),Et.clientREQ(),Et.clientCOUNT(),Et.clientCLOSE(),Et.clientAUTH()])}static relayEVENT(){return qr([Kr("EVENT"),Ot(),Et.event()])}static relayOK(){return qr([Kr("OK"),Et.id(),el(),Ot()])}static relayEOSE(){return qr([Kr("EOSE"),Ot()])}static relayNOTICE(){return qr([Kr("NOTICE"),Ot()])}static relayCLOSED(){return qr([Kr("CLOSED"),Ot(),Ot()])}static relayAUTH(){return qr([Kr("AUTH"),Ot()])}static relayCOUNT(){return qr([Kr("COUNT"),Ot(),jo({count:Co().int().nonnegative(),approximate:el().optional()})])}static relayMsg(){return qv([Et.relayEVENT(),Et.relayOK(),Et.relayEOSE(),Et.relayNOTICE(),Et.relayCLOSED(),Et.relayAUTH(),Et.relayCOUNT()])}static metadata(){return y1({about:Ot().optional().catch(void 0),banner:dd().optional().catch(void 0),bot:el().optional().catch(void 0),display_name:Ot().optional().catch(void 0),lud06:Et.bech32("lnurl").optional().catch(void 0),lud16:p1().optional().catch(void 0),name:Ot().optional().catch(void 0),nip05:p1().optional().catch(void 0),picture:dd().optional().catch(void 0),website:dd().optional().catch(void 0)})}static connectRequest(){return jo({id:Ot(),method:Ot(),params:Ot().array()})}static connectResponse(){return jo({id:Ot(),result:Ot(),error:Ot().optional()})}static json(){return Ot().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:u6.custom,message:"Invalid JSON"}),NM}})}}class dC{constructor({relay:t,pubkey:n,signer:r,timeout:i,encryption:s="nip44"}){He(this,"relay");He(this,"pubkey");He(this,"signer");He(this,"timeout");He(this,"encryption");He(this,"nip04",{encrypt:async(t,n)=>this.cmd("nip04_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip04_decrypt",[t,n])});He(this,"nip44",{encrypt:async(t,n)=>this.cmd("nip44_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip44_decrypt",[t,n])});this.relay=t,this.pubkey=n,this.signer=r,this.timeout=i,this.encryption=s}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(t){const n=await this.cmd("sign_event",[JSON.stringify(t)]);return Et.json().pipe(Et.event()).parse(n)}async getRelays(){const t=await this.cmd("get_relays",[]);return Et.json().pipe(HD(Ot(),jo({read:el(),write:el()}))).parse(t)}async connect(t){const n=[this.pubkey];return t&&n.push(t),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(t,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:i,error:s}=await this.send({id:crypto.randomUUID(),method:t,params:n},{signal:r});if(s)throw new Error(s);return i}async send(t,n={}){const{signal:r}=n,i=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(t)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),s=await this.signer.getPublicKey(),l=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[s]}],{signal:r}),u=new Promise((d,p)=>{(async()=>{try{for await(const g of l){if(g[0]==="CLOSED")throw new Error("Subscription closed");if(g[0]==="EVENT"){const m=g[2],b=await this.decrypt(this.pubkey,m.content),_=Et.json().pipe(Et.connectResponse()).parse(b);if(_.id===t.id){d(_);return}}}}catch(g){p(g)}})()});return await this.relay.event(i,{signal:r}),u}async encrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(t,n);case"nip44":return this.signer.nip44.encrypt(t,n)}}async decrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(t,n);case"nip44":return this.signer.nip44.decrypt(t,n)}}}const fC={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),fC[e]=t}function d6(e){let t="";for(let n=0;n<e.byteLength;n++)t+=fC[e[n]];return t}const hC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x1=Object.entries(hC).reduce((e,[t,n])=>(e[n]=Number(t),e),{}),f6=hC.split(""),wc=6,vd=8,h6=63,p6=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let i=0;i<e.length;i+=4){let s=0,l=0;for(let p=i,g=i+3;p<=g;p++)if(e[p]!=="="){if(!(e[p]in x1))throw new TypeError(`Invalid character ${e[p]} in base64 string.`);s|=x1[e[p]]<<(g-p)*wc,l+=wc}else s>>=wc;const u=i/4*3;s>>=l%vd;const d=Math.floor(l/vd);for(let p=0;p<d;p++){const g=(d-p-1)*vd;r.setUint8(u+p,(s&255<<g)>>g)}}return new Uint8Array(n)},m6=e=>new TextEncoder().encode(e);function g6(e){let t;typeof e=="string"?t=m6(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",r=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<t.length;s+=3){let l=0,u=0;for(let p=s,g=Math.min(s+3,t.length);p<g;p++)l|=t[p]<<(g-p-1)*vd,u+=vd;const d=Math.ceil(u/wc);l<<=d*wc-u;for(let p=1;p<=d;p++){const g=(d-p)*wc;i+=f6[(l&h6<<g)>>g]}i+="==".slice(0,4-d)}return i}class y6{static encodeEvent(t){return g6(JSON.stringify(t))}static decodeEvent(t){const n=p6(t),r=new TextDecoder().decode(n);return Et.json().pipe(Et.event()).parse(r)}}class v6{constructor(t){He(this,"set");He(this,"capacity");this.set=new Set,this.capacity=t}add(t){if(!this.set.has(t)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}[Symbol.iterator](){return this.set.values()}}var zc,Dc,Hd;class pC{constructor(t){it(this,zc,[]);it(this,Dc);it(this,Hd,!1);t!=null&&t.aborted?this.abort():t==null||t.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Symbol.asyncIterator](){for(;!ue(this,Hd);){if(ue(this,zc).length){yield ue(this,zc).shift();continue}await new Promise(t=>{Ke(this,Dc,t)})}throw new DOMException("The signal has been aborted","AbortError")}push(t){var n;ue(this,zc).push(t),(n=ue(this,Dc))==null||n.call(this)}abort(){var t;Ke(this,Hd,!0),(t=ue(this,Dc))==null||t.call(this)}}zc=new WeakMap,Dc=new WeakMap,Hd=new WeakMap;class xw{constructor(t){He(this,"_relays",new Map);He(this,"opts");this.opts=t}relay(t){const n=this._relays.get(t);if(n)return n;{const r=this.opts.open(t);return this._relays.set(t,r),r}}group(t){return new xw({open:n=>this.relay(n),reqRouter:n=>new Map(t.map(r=>[r,n])),eventRouter:()=>t})}get relays(){return this._relays}async*req(t,n){const r=new AbortController,i=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,s=n!=null&&n.relays?new Map(n.relays.map(_=>[_,t])):await this.opts.reqRouter(t);if(s.size<1)return;const l=new pC(i),u=new Set,d=new Set,p=new v6(1e3),g=this.opts.eoseTimeout??1e3;let m;const b=[];for(const[_,S]of s.entries()){const v=this.relay(_),E=(async()=>{try{for await(const k of v.req(S,{signal:i}))if(k[0]==="EOSE"&&(u.add(_),u.size===1&&g>0&&m===void 0&&(m=setTimeout(()=>{r.abort()},g)),u.size===s.size&&l.push(k)),k[0]==="CLOSED"&&(d.add(_),d.size===s.size&&l.push(k)),k[0]==="EVENT"){const[,,N]=k;p.has(N.id)||(p.add(N.id),l.push(k))}}catch{}})();b.push(E)}try{for await(const _ of l)yield _}finally{m!==void 0&&clearTimeout(m),r.abort(),await Promise.allSettled(b)}}async event(t,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(t);r.length&&await Promise.any(r.map(i=>this.relay(i).event(t,n)))}async query(t,n){const r=new Map,i=new dp(r);if(t.reduce((l,u)=>l+ZS(u),0)===0)return[];try{for await(const l of this.req(t,n))if(l[0]==="EOSE"||(l[0]==="EVENT"&&i.add(l[2]),l[0]==="CLOSED"))break}catch{}return t.some(l=>typeof l.search=="string")?[...r.values()]:[...i]}async close(){await Promise.all([...this._relays.values()].map(t=>t.close()))}async[Symbol.asyncDispose](){await this.close()}}class w6{constructor(t,n){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class _6{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var Ft;(function(e){e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect"})(Ft||(Ft={}));class x6{constructor(t,n,r){var i,s,l,u,d,p,g,m,b,_,S,v,E,k,N;this._closedByUser=!1,this.handleOpenEvent=A=>this.handleEvent(Ft.open,A),this.handleErrorEvent=A=>this.handleEvent(Ft.error,A),this.handleCloseEvent=A=>this.handleEvent(Ft.close,A),this.handleMessageEvent=A=>this.handleEvent(Ft.message,A),this._url=t,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.maxRetries,instantReconnect:(s=r==null?void 0:r.retry)===null||s===void 0?void 0:s.instantReconnect,backoff:(l=r==null?void 0:r.retry)===null||l===void 0?void 0:l.backoff},listeners:{open:[...(d=(u=r==null?void 0:r.listeners)===null||u===void 0?void 0:u.open)!==null&&d!==void 0?d:[]],close:[...(g=(p=r==null?void 0:r.listeners)===null||p===void 0?void 0:p.close)!==null&&g!==void 0?g:[]],error:[...(b=(m=r==null?void 0:r.listeners)===null||m===void 0?void 0:m.error)!==null&&b!==void 0?b:[]],message:[...(S=(_=r==null?void 0:r.listeners)===null||_===void 0?void 0:_.message)!==null&&S!==void 0?S:[]],retry:[...(E=(v=r==null?void 0:r.listeners)===null||v===void 0?void 0:v.retry)!==null&&E!==void 0?E:[]],reconnect:[...(N=(k=r==null?void 0:r.listeners)===null||k===void 0?void 0:k.reconnect)!==null&&N!==void 0?N:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):this.buffer!==void 0&&this.buffer.add(t))}close(t,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,n)}addEventListener(t,n,r){this._options.listeners[t].push({listener:n,options:r})}removeEventListener(t,n,r){const i=s=>s.listener!==n||s.options!==r;this._options.listeners[t]=this._options.listeners[t].filter(i)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(Ft.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(Ft.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(Ft.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(Ft.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(Ft.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(Ft.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(Ft.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(Ft.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,n){const r=this._options.listeners[t],i=[];r.forEach(({listener:s,options:l})=>{s(this,n),(l===void 0||l.once===void 0||!l.once)&&i.push({listener:s,options:l})}),this._options.listeners[t]=i}handleEvent(t,n){switch(t){case Ft.close:this.dispatchEvent(t,n),this.scheduleConnectionRetryIfNeeded();break;case Ft.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},i=new CustomEvent(Ft.reconnect,{detail:r});this.dispatchEvent(Ft.reconnect,i),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,n),this.sendBufferedData();break;case Ft.retry:this.dispatchEvent(t,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let t=this.buffer.read();t!==void 0;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const t=r=>{const i=new CustomEvent(Ft.retry,{detail:r});this.handleEvent(Ft.retry,i)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class b6{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:t})}),this}get maxRetries(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:t})}),this}get backoff(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return(t=this._options)===null||t===void 0?void 0:t.buffer}onOpen(t,n){return this.addListener(Ft.open,t,n),this}onClose(t,n){return this.addListener(Ft.close,t,n),this}onError(t,n){return this.addListener(Ft.error,t,n),this}onMessage(t,n){return this.addListener(Ft.message,t,n),this}onRetry(t,n){return this.addListener(Ft.retry,t,n),this}onReconnect(t,n){return this.addListener(Ft.reconnect,t,n),this}build(){return new x6(this._url,this._protocols,this._options)}addListener(t,n,r){var i,s,l,u,d,p,g,m,b,_,S,v,E,k,N,A,z,D,Z,H,q;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(l=(s=(i=this._options)===null||i===void 0?void 0:i.listeners)===null||s===void 0?void 0:s.open)!==null&&l!==void 0?l:[],close:(p=(d=(u=this._options)===null||u===void 0?void 0:u.listeners)===null||d===void 0?void 0:d.close)!==null&&p!==void 0?p:[],error:(b=(m=(g=this._options)===null||g===void 0?void 0:g.listeners)===null||m===void 0?void 0:m.error)!==null&&b!==void 0?b:[],message:(v=(S=(_=this._options)===null||_===void 0?void 0:_.listeners)===null||S===void 0?void 0:S.message)!==null&&v!==void 0?v:[],retry:(N=(k=(E=this._options)===null||E===void 0?void 0:E.listeners)===null||k===void 0?void 0:k.retry)!==null&&N!==void 0?N:[],reconnect:(D=(z=(A=this._options)===null||A===void 0?void 0:A.listeners)===null||z===void 0?void 0:z.reconnect)!==null&&D!==void 0?D:[],[t]:[...(q=(H=(Z=this._options)===null||Z===void 0?void 0:Z.listeners)===null||H===void 0?void 0:H[t])!==null&&q!==void 0?q:[],{listener:n,options:r}]}}),this}}class E6{constructor(t,n={}){He(this,"socket");He(this,"subs",new Map);He(this,"closedByUser",!1);He(this,"idleTimer");He(this,"controller",new AbortController);He(this,"url");He(this,"opts");He(this,"ee",new EventTarget);this.url=t,this.opts=n,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(t){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...t,url:this.url})}createSocket(){const{backoff:t=new w6(1e3)}=this.opts;return new b6(this.url).withBuffer(new _6).withBackoff(t===!1?void 0:t).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const i=Et.json().pipe(Et.relayMsg()).safeParse(r.data);i.success?(this.log({level:"trace",ns:"relay.ws.message",data:i.data}),this.receive(i.data)):this.log({level:"warn",ns:"relay.ws.message",error:i.error})}).build()}receive(t){const{auth:n,verifyEvent:r=Gd}=this.opts;switch(t[0]){case"EVENT":if(!r(t[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"CLOSED":this.subs.delete(t[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t})),this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${t[1]}`,{detail:t}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:t}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"AUTH":n==null||n(t[1]).then(i=>this.send(["AUTH",i])).catch(()=>{})}}send(t){switch(this.log({level:"trace",ns:"relay.ws.send",data:t}),this.wake(),t[0]){case"REQ":this.subs.set(t[1],t);break;case"CLOSE":this.subs.delete(t[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}async*req(t,n={}){const{signal:r}=n,i=crypto.randomUUID(),s=this.on(`sub:${i}`,r),l=["REQ",i,...t];this.send(l);try{for await(const u of s){if(u[0]==="EOSE"&&(yield u),u[0]==="CLOSED")break;if(u[0]==="EVENT")if($S(t,u[2]))yield u;else continue}}finally{this.send(["CLOSE",i])}}async query(t,n){const r=new dp,i=t.reduce((s,l)=>s+ZS(l),0);if(i===0)return[];for await(const s of this.req(t,n)){if(s[0]==="EOSE")break;if(s[0]==="EVENT"&&r.add(s[2]),s[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=i)break}return[...r]}async event(t,n){const r=this.once(`ok:${t.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",t])}catch(l){throw r.catch(()=>{}),l}const[,,i,s]=await r;if(!i)throw new Error(s)}async count(t,n){const r=crypto.randomUUID(),i=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...t])}catch(l){throw i.catch(()=>{}),l}const s=await i;switch(s[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,l]=s;return l}}throw new Error("Count ended -- this should never happen")}async*on(t,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const i=new pC(r),s=l=>i.push(l.detail);this.ee.addEventListener(t,s);try{for await(const l of i)yield l}finally{this.ee.removeEventListener(t,s)}}async once(t,n){for await(const r of this.on(t,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:t=3e4}=this.opts;t!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:t}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:t}),this.socket.close()},t)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(t=>{this.socket.addEventListener(Ft.close,t,{once:!0})})}async[Symbol.asyncDispose](){await this.close()}}var No,Wd,Gv;class Pd{constructor(t){it(this,Wd);it(this,No);He(this,"pubkey");He(this,"nip04",{encrypt:async(t,n)=>kd.encrypt(ue(this,No),t,n),decrypt:async(t,n)=>kd.decrypt(ue(this,No),t,n)});He(this,"nip44",{encrypt:async(t,n)=>{const r=yt(this,Wd,Gv).call(this,t);return Ks.v2.encrypt(n,r)},decrypt:async(t,n)=>{const r=yt(this,Wd,Gv).call(this,t);return Ks.v2.decrypt(n,r)}});Ke(this,No,t)}async getPublicKey(){return this.pubkey??(this.pubkey=Bo(ue(this,No)))}async signEvent(t){return ni(t,ue(this,No))}}No=new WeakMap,Wd=new WeakSet,Gv=function(t){return Ks.v2.utils.getConversationKey(ue(this,No),t)};const mC=C.createContext(void 0);function Ir(){const e=C.useContext(mC);if(!e)throw new Error("useNostr must be used within a NostrProvider");return e}class tl{constructor(t,n,r){He(this,"id");He(this,"type");He(this,"pubkey");He(this,"createdAt");He(this,"data");this.id=`${t}:${n}`,this.type=t,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(t){const n=er.decode(t);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,i=Bo(r);return new tl("nsec",i,{nsec:er.nsecEncode(r)})}static async fromBunker(t,n){const{pubkey:r,secret:i,relays:s}=new gd(t);if(!s.length)throw new Error("No relay provided");const l=Kd(),u=er.nsecEncode(l),d=new Pd(l),p=new dC({relay:n.group(s),pubkey:r,signer:d,timeout:6e4});await p.connect(i);const g=await p.getPublicKey();return new tl("bunker",g,{bunkerPubkey:r,clientNsec:u,relays:s})}static async fromExtension(){const t=globalThis.nostr;if(!t)throw new Error("Nostr extension is not available");const n=await t.getPublicKey();return new tl("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const gC=C.createContext(void 0);function S6(e,t){switch(t.type){case"login.add":{const n=e.filter(r=>r.id!==t.login.id);return t.set?[t.login,...n]:[...n,t.login]}case"login.remove":return e.filter(n=>n.id!==t.id);case"login.set":{const n=e.find(i=>i.id===t.id);if(!n)return e;const r=e.filter(i=>i.id!==t.id);return[n,...r]}case"login.clear":return[];default:return e}}function k6(e){const[t,n]=C.useReducer(S6,[],()=>{const r=localStorage.getItem(e);return r?JSON.parse(r):[]});return C.useEffect(()=>{localStorage.setItem(e,JSON.stringify(t))},[t]),[t,n]}const C6=({children:e,storageKey:t})=>{const[n,r]=k6(t),i={logins:n,addLogin:s=>r({type:"login.add",login:s}),removeLogin:s=>r({type:"login.remove",id:s}),setLogin:s=>r({type:"login.set",id:s}),clearLogins:()=>r({type:"login.clear"})};return y.jsx(gC.Provider,{value:i,children:e})};class nl{constructor(t,n,r){this.method=t,this.pubkey=n,this.signer=r}static fromNsecLogin(t){const n=er.decode(t.data.nsec);return new nl(t.type,t.pubkey,new Pd(n.data))}static fromBunkerLogin(t,n){const r=er.decode(t.data.clientNsec),i=new Pd(r.data);return new nl(t.type,t.pubkey,new dC({relay:n.group(t.data.relays),pubkey:t.pubkey,signer:i,timeout:6e4}))}static fromExtensionLogin(t){return new nl(t.type,t.pubkey,new Q3)}}function bw(){const e=C.useContext(gC);if(!e)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return e}const yC=C.createContext(void 0);function vC(){const e=C.useContext(yC);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const P6=e=>{const{children:t}=e,{config:n}=vC(),r=j0(),i=C.useRef(void 0),s=C.useRef(n.relayMetadata);return C.useEffect(()=>{s.current=n.relayMetadata,r.invalidateQueries({queryKey:["nostr"]})},[n.relayMetadata,r]),i.current||(i.current=new xw({open(l){return new E6(l)},reqRouter(l){const u=new Map,d=s.current.relays.filter(p=>p.read).map(p=>p.url);for(const p of d)u.set(p,l);return u},eventRouter(l){const u=s.current.relays.filter(p=>p.write).map(p=>p.url);return[...new Set(u)]}})),y.jsx(mC.Provider,{value:{nostr:i.current},children:t})};function Qp(e){const{nostr:t}=Ir();return Ki({queryKey:["author",e??""],queryFn:async({signal:n})=>{if(!e)return{};const[r]=await t.query([{kinds:[0],authors:[e],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!r)throw new Error("No event found");try{return{metadata:Et.json().pipe(Et.metadata()).parse(r.content),event:r}}catch{return{event:r}}},staleTime:5*60*1e3,retry:3})}function pl(){const{nostr:e}=Ir(),{logins:t}=bw(),n=C.useCallback(l=>{switch(l.type){case"nsec":return nl.fromNsecLogin(l);case"bunker":return nl.fromBunkerLogin(l,e);case"extension":return nl.fromExtensionLogin(l);default:throw new Error(`Unsupported login type: ${l.type}`)}},[e]),r=C.useMemo(()=>{const l=[];for(const u of t)try{const d=n(u);l.push(d)}catch(d){console.warn("Skipped invalid login",u.id,d)}return l},[t,n]),i=r[0],s=Qp(i==null?void 0:i.pubkey);return{user:i,users:r,...s.data}}function T6(){const{nostr:e}=Ir(),{user:t}=pl(),{config:n,updateConfig:r}=vC();return C.useEffect(()=>{if(!t)return;(async()=>{try{const s=await e.query([{kinds:[10002],authors:[t.pubkey],limit:1}],{signal:AbortSignal.timeout(5e3)});if(s.length>0){const l=s[0];if(l.created_at>n.relayMetadata.updatedAt){const u=l.tags.filter(([d])=>d==="r").map(([d,p,g])=>({url:p,read:!g||g==="read",write:!g||g==="write"}));u.length>0&&(console.log("Syncing relay list from Nostr:",u),r(d=>({...d,relayMetadata:{relays:u,updatedAt:l.created_at}})))}}}catch(s){console.error("Failed to sync relays from Nostr:",s)}})()},[t,n.relayMetadata.updatedAt,e,r]),null}const N6=1,A6=1e6;let by=0;function R6(){return by=(by+1)%Number.MAX_SAFE_INTEGER,by.toString()}const Ey=new Map,b1=e=>{if(Ey.has(e))return;const t=setTimeout(()=>{Ey.delete(e),wd({type:"REMOVE_TOAST",toastId:e})},A6);Ey.set(e,t)},I6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,N6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?b1(n):e.toasts.forEach(r=>{b1(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Yh=[];let Jh={toasts:[]};function wd(e){Jh=I6(Jh,e),Yh.forEach(t=>{t(Jh)})}function pc({...e}){const t=R6(),n=i=>wd({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>wd({type:"DISMISS_TOAST",toastId:t});return wd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Yd(){const[e,t]=C.useState(Jh);return C.useEffect(()=>(Yh.push(t),()=>{const n=Yh.indexOf(t);n>-1&&Yh.splice(n,1)}),[e]),{...e,toast:pc,dismiss:n=>wd({type:"DISMISS_TOAST",toastId:n})}}var Qc=w2();const L6=Vd(Qc);function Ue(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function E1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xp(...e){return t=>{let n=!1;const r=e.map(i=>{const s=E1(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():E1(e[i],null)}}}}function mt(...e){return C.useCallback(Xp(...e),e)}function O6(e,t){const n=C.createContext(t),r=s=>{const{children:l,...u}=s,d=C.useMemo(()=>u,Object.values(u));return y.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function i(s){const l=C.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function $n(e,t=[]){let n=[];function r(s,l){const u=C.createContext(l),d=n.length;n=[...n,l];const p=m=>{var k;const{scope:b,children:_,...S}=m,v=((k=b==null?void 0:b[e])==null?void 0:k[d])||u,E=C.useMemo(()=>S,Object.values(S));return y.jsx(v.Provider,{value:E,children:_})};p.displayName=s+"Provider";function g(m,b){var v;const _=((v=b==null?void 0:b[e])==null?void 0:v[d])||u,S=C.useContext(_);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[p,g]}const i=()=>{const s=n.map(l=>C.createContext(l));return function(u){const d=(u==null?void 0:u[e])||s;return C.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[r,j6(i,...t)]}function j6(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=r.reduce((u,{useScope:d,scopeName:p})=>{const m=d(s)[`__scope${p}`];return{...u,...m}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function ll(e){const t=z6(e),n=C.forwardRef((r,i)=>{const{children:s,...l}=r,u=C.Children.toArray(s),d=u.find(B6);if(d){const p=d.props.children,g=u.map(m=>m===d?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:m);return y.jsx(t,{...l,ref:i,children:C.isValidElement(p)?C.cloneElement(p,void 0,g):null})}return y.jsx(t,{...l,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var M6=ll("Slot");function z6(e){const t=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const l=U6(i),u=F6(s,i.props);return i.type!==C.Fragment&&(u.ref=r?Xp(r,l):l),C.cloneElement(i,u)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wC=Symbol("radix.slottable");function D6(e){const t=({children:n})=>y.jsx(y.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=wC,t}function B6(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wC}function F6(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...u)=>{s(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function U6(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Jd(e){const t=e+"CollectionProvider",[n,r]=$n(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:E,children:k}=v,N=Os.useRef(null),A=Os.useRef(new Map).current;return y.jsx(i,{scope:E,itemMap:A,collectionRef:N,children:k})};l.displayName=t;const u=e+"CollectionSlot",d=ll(u),p=Os.forwardRef((v,E)=>{const{scope:k,children:N}=v,A=s(u,k),z=mt(E,A.collectionRef);return y.jsx(d,{ref:z,children:N})});p.displayName=u;const g=e+"CollectionItemSlot",m="data-radix-collection-item",b=ll(g),_=Os.forwardRef((v,E)=>{const{scope:k,children:N,...A}=v,z=Os.useRef(null),D=mt(E,z),Z=s(g,k);return Os.useEffect(()=>(Z.itemMap.set(z,{ref:z,...A}),()=>void Z.itemMap.delete(z))),y.jsx(b,{[m]:"",ref:D,children:N})});_.displayName=g;function S(v){const E=s(e+"CollectionConsumer",v);return Os.useCallback(()=>{const N=E.collectionRef.current;if(!N)return[];const A=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((Z,H)=>A.indexOf(Z.ref.current)-A.indexOf(H.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:p,ItemSlot:_},S,r]}var $6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=$6.reduce((e,t)=>{const n=ll(`Primitive.${t}`),r=C.forwardRef((i,s)=>{const{asChild:l,...u}=i,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...u,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ew(e,t){e&&Qc.flushSync(()=>e.dispatchEvent(t))}function an(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Z6(e,t=globalThis==null?void 0:globalThis.document){const n=an(e);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var H6="DismissableLayer",Yv="dismissableLayer.update",W6="dismissableLayer.pointerDownOutside",V6="dismissableLayer.focusOutside",S1,_C=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xc=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:u,...d}=e,p=C.useContext(_C),[g,m]=C.useState(null),b=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=C.useState({}),S=mt(t,H=>m(H)),v=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(E),N=g?v.indexOf(g):-1,A=p.layersWithOutsidePointerEventsDisabled.size>0,z=N>=k,D=K6(H=>{const q=H.target,F=[...p.branches].some(W=>W.contains(q));!z||F||(i==null||i(H),l==null||l(H),H.defaultPrevented||u==null||u())},b),Z=G6(H=>{const q=H.target;[...p.branches].some(W=>W.contains(q))||(s==null||s(H),l==null||l(H),H.defaultPrevented||u==null||u())},b);return Z6(H=>{N===p.layers.size-1&&(r==null||r(H),!H.defaultPrevented&&u&&(H.preventDefault(),u()))},b),C.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(S1=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),k1(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=S1)}},[g,b,n,p]),C.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),k1())},[g,p]),C.useEffect(()=>{const H=()=>_({});return document.addEventListener(Yv,H),()=>document.removeEventListener(Yv,H)},[]),y.jsx(Ye.div,{...d,ref:S,style:{pointerEvents:A?z?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,D.onPointerDownCapture)})});Xc.displayName=H6;var q6="DismissableLayerBranch",xC=C.forwardRef((e,t)=>{const n=C.useContext(_C),r=C.useRef(null),i=mt(t,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),y.jsx(Ye.div,{...e,ref:i})});xC.displayName=q6;function K6(e,t=globalThis==null?void 0:globalThis.document){const n=an(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let d=function(){bC(W6,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function G6(e,t=globalThis==null?void 0:globalThis.document){const n=an(e),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&bC(V6,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function k1(){const e=new CustomEvent(Yv);document.dispatchEvent(e)}function bC(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Ew(i,s):i.dispatchEvent(s)}var Y6=Xc,J6=xC,cn=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},Q6="Portal",Qd=C.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,s]=C.useState(!1);cn(()=>s(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?L6.createPortal(y.jsx(Ye.div,{...r,ref:t}),l):null});Qd.displayName=Q6;function X6(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var Zn=e=>{const{present:t,children:n}=e,r=eB(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=mt(r.ref,tB(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};Zn.displayName="Presence";function eB(e){const[t,n]=C.useState(),r=C.useRef(null),i=C.useRef(e),s=C.useRef("none"),l=e?"mounted":"unmounted",[u,d]=X6(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=zh(r.current);s.current=u==="mounted"?p:"none"},[u]),cn(()=>{const p=r.current,g=i.current;if(g!==e){const b=s.current,_=zh(p);e?d("MOUNT"):_==="none"||(p==null?void 0:p.display)==="none"?d("UNMOUNT"):d(g&&b!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),cn(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,m=_=>{const v=zh(r.current).includes(_.animationName);if(_.target===t&&v&&(d("ANIMATION_END"),!i.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},b=_=>{_.target===t&&(s.current=zh(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:C.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function zh(e){return(e==null?void 0:e.animationName)||"none"}function tB(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var nB=A0[" useInsertionEffect ".trim().toString()]||cn;function bi({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,l]=rB({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:i;{const g=C.useRef(e!==void 0);C.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const p=C.useCallback(g=>{var m;if(u){const b=iB(g)?g(e):g;b!==e&&((m=l.current)==null||m.call(l,b))}else s(g)},[u,e,s,l]);return[d,p]}function rB({defaultProp:e,onChange:t}){const[n,r]=C.useState(e),i=C.useRef(n),s=C.useRef(t);return nB(()=>{s.current=t},[t]),C.useEffect(()=>{var l;i.current!==n&&((l=s.current)==null||l.call(s,n),i.current=n)},[n,i]),[n,r,s]}function iB(e){return typeof e=="function"}var EC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oB="VisuallyHidden",em=C.forwardRef((e,t)=>y.jsx(Ye.span,{...e,ref:t,style:{...EC,...e.style}}));em.displayName=oB;var sB=em,Sw="ToastProvider",[kw,aB,lB]=Jd("Toast"),[SC,eK]=$n("Toast",[lB]),[cB,tm]=SC(Sw),kC=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:l}=e,[u,d]=C.useState(null),[p,g]=C.useState(0),m=C.useRef(!1),b=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Sw}\`. Expected non-empty \`string\`.`),y.jsx(kw.Provider,{scope:t,children:y.jsx(cB,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:p,viewport:u,onViewportChange:d,onToastAdd:C.useCallback(()=>g(_=>_+1),[]),onToastRemove:C.useCallback(()=>g(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:b,children:l})})};kC.displayName=Sw;var CC="ToastViewport",uB=["F8"],Jv="toast.viewportPause",Qv="toast.viewportResume",PC=C.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=uB,label:i="Notifications ({hotkey})",...s}=e,l=tm(CC,n),u=aB(n),d=C.useRef(null),p=C.useRef(null),g=C.useRef(null),m=C.useRef(null),b=mt(t,m,l.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=l.toastCount>0;C.useEffect(()=>{const E=k=>{var A;r.length!==0&&r.every(z=>k[z]||k.code===z)&&((A=m.current)==null||A.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),C.useEffect(()=>{const E=d.current,k=m.current;if(S&&E&&k){const N=()=>{if(!l.isClosePausedRef.current){const Z=new CustomEvent(Jv);k.dispatchEvent(Z),l.isClosePausedRef.current=!0}},A=()=>{if(l.isClosePausedRef.current){const Z=new CustomEvent(Qv);k.dispatchEvent(Z),l.isClosePausedRef.current=!1}},z=Z=>{!E.contains(Z.relatedTarget)&&A()},D=()=>{E.contains(document.activeElement)||A()};return E.addEventListener("focusin",N),E.addEventListener("focusout",z),E.addEventListener("pointermove",N),E.addEventListener("pointerleave",D),window.addEventListener("blur",N),window.addEventListener("focus",A),()=>{E.removeEventListener("focusin",N),E.removeEventListener("focusout",z),E.removeEventListener("pointermove",N),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",N),window.removeEventListener("focus",A)}}},[S,l.isClosePausedRef]);const v=C.useCallback(({tabbingDirection:E})=>{const N=u().map(A=>{const z=A.ref.current,D=[z,...EB(z)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?N.reverse():N).flat()},[u]);return C.useEffect(()=>{const E=m.current;if(E){const k=N=>{var D,Z,H;const A=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!A){const q=document.activeElement,F=N.shiftKey;if(N.target===E&&F){(D=p.current)==null||D.focus();return}const U=v({tabbingDirection:F?"backwards":"forwards"}),X=U.findIndex(O=>O===q);Sy(U.slice(X+1))?N.preventDefault():F?(Z=p.current)==null||Z.focus():(H=g.current)==null||H.focus()}};return E.addEventListener("keydown",k),()=>E.removeEventListener("keydown",k)}},[u,v]),y.jsxs(J6,{ref:d,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&y.jsx(Xv,{ref:p,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Sy(E)}}),y.jsx(kw.Slot,{scope:n,children:y.jsx(Ye.ol,{tabIndex:-1,...s,ref:b})}),S&&y.jsx(Xv,{ref:g,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Sy(E)}})]})});PC.displayName=CC;var TC="ToastFocusProxy",Xv=C.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=tm(TC,n);return y.jsx(em,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var p;const u=l.relatedTarget;!((p=s.viewport)!=null&&p.contains(u))&&r()}})});Xv.displayName=TC;var Xd="Toast",dB="toast.swipeStart",fB="toast.swipeMove",hB="toast.swipeCancel",pB="toast.swipeEnd",NC=C.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...l}=e,[u,d]=bi({prop:r,defaultProp:i??!0,onChange:s,caller:Xd});return y.jsx(Zn,{present:n||u,children:y.jsx(yB,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:an(e.onPause),onResume:an(e.onResume),onSwipeStart:Ue(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,p=>{const{x:g,y:m}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,p=>{const{x:g,y:m}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});NC.displayName=Xd;var[mB,gB]=SC(Xd,{onClose(){}}),yB=C.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:p,onSwipeStart:g,onSwipeMove:m,onSwipeCancel:b,onSwipeEnd:_,...S}=e,v=tm(Xd,n),[E,k]=C.useState(null),N=mt(t,O=>k(O)),A=C.useRef(null),z=C.useRef(null),D=i||v.duration,Z=C.useRef(0),H=C.useRef(D),q=C.useRef(0),{onToastAdd:F,onToastRemove:W}=v,J=an(()=>{var K;(E==null?void 0:E.contains(document.activeElement))&&((K=v.viewport)==null||K.focus()),l()}),U=C.useCallback(O=>{!O||O===1/0||(window.clearTimeout(q.current),Z.current=new Date().getTime(),q.current=window.setTimeout(J,O))},[J]);C.useEffect(()=>{const O=v.viewport;if(O){const K=()=>{U(H.current),p==null||p()},se=()=>{const ie=new Date().getTime()-Z.current;H.current=H.current-ie,window.clearTimeout(q.current),d==null||d()};return O.addEventListener(Jv,se),O.addEventListener(Qv,K),()=>{O.removeEventListener(Jv,se),O.removeEventListener(Qv,K)}}},[v.viewport,D,d,p,U]),C.useEffect(()=>{s&&!v.isClosePausedRef.current&&U(D)},[s,D,v.isClosePausedRef,U]),C.useEffect(()=>(F(),()=>W()),[F,W]);const X=C.useMemo(()=>E?MC(E):null,[E]);return v.viewport?y.jsxs(y.Fragment,{children:[X&&y.jsx(vB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),y.jsx(mB,{scope:n,onClose:J,children:Qc.createPortal(y.jsx(kw.ItemSlot,{scope:n,children:y.jsx(Y6,{asChild:!0,onEscapeKeyDown:Ue(u,()=>{v.isFocusedToastEscapeKeyDownRef.current||J(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(Ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,O=>{O.key==="Escape"&&(u==null||u(O.nativeEvent),O.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,J()))}),onPointerDown:Ue(e.onPointerDown,O=>{O.button===0&&(A.current={x:O.clientX,y:O.clientY})}),onPointerMove:Ue(e.onPointerMove,O=>{if(!A.current)return;const K=O.clientX-A.current.x,se=O.clientY-A.current.y,ie=!!z.current,te=["left","right"].includes(v.swipeDirection),ee=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,le=te?ee(0,K):0,$=te?0:ee(0,se),Q=O.pointerType==="touch"?10:2,ke={x:le,y:$},_e={originalEvent:O,delta:ke};ie?(z.current=ke,Dh(fB,m,_e,{discrete:!1})):C1(ke,v.swipeDirection,Q)?(z.current=ke,Dh(dB,g,_e,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(K)>Q||Math.abs(se)>Q)&&(A.current=null)}),onPointerUp:Ue(e.onPointerUp,O=>{const K=z.current,se=O.target;if(se.hasPointerCapture(O.pointerId)&&se.releasePointerCapture(O.pointerId),z.current=null,A.current=null,K){const ie=O.currentTarget,te={originalEvent:O,delta:K};C1(K,v.swipeDirection,v.swipeThreshold)?Dh(pB,_,te,{discrete:!0}):Dh(hB,b,te,{discrete:!0}),ie.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),vB=e=>{const{__scopeToast:t,children:n,...r}=e,i=tm(Xd,t),[s,l]=C.useState(!1),[u,d]=C.useState(!1);return xB(()=>l(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),u?null:y.jsx(Qd,{asChild:!0,children:y.jsx(em,{...r,children:s&&y.jsxs(y.Fragment,{children:[i.label," ",n]})})})},wB="ToastTitle",AC=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return y.jsx(Ye.div,{...r,ref:t})});AC.displayName=wB;var _B="ToastDescription",RC=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return y.jsx(Ye.div,{...r,ref:t})});RC.displayName=_B;var IC="ToastAction",LC=C.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?y.jsx(jC,{altText:n,asChild:!0,children:y.jsx(Cw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${IC}\`. Expected non-empty \`string\`.`),null)});LC.displayName=IC;var OC="ToastClose",Cw=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=gB(OC,n);return y.jsx(jC,{asChild:!0,children:y.jsx(Ye.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,i.onClose)})})});Cw.displayName=OC;var jC=C.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return y.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function MC(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),bB(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...MC(r))}}),t}function Dh(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Ew(i,s):i.dispatchEvent(s)}var C1=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function xB(e=()=>{}){const t=an(e);cn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function bB(e){return e.nodeType===e.ELEMENT_NODE}function EB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Sy(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var SB=kC,zC=PC,DC=NC,BC=AC,FC=RC,UC=LC,$C=Cw;function ZC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ZC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function HC(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ZC(e))&&(r&&(r+=" "),r+=t);return r}const P1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,T1=HC,ef=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return T1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,l=Object.keys(i).map(p=>{const g=n==null?void 0:n[p],m=s==null?void 0:s[p];if(g===null)return null;const b=P1(g)||P1(m);return i[p][b]}),u=n&&Object.entries(n).reduce((p,g)=>{let[m,b]=g;return b===void 0||(p[m]=b),p},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:m,className:b,..._}=g;return Object.entries(_).every(S=>{let[v,E]=S;return Array.isArray(E)?E.includes({...s,...u}[v]):{...s,...u}[v]===E})?[...p,m,b]:p},[]);return T1(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},d)=>C.createElement("svg",{ref:d,...CB,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:WC("lucide",i),...u},[...l.map(([p,g])=>C.createElement(p,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=(e,t)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(PB,{ref:s,iconNode:t,className:WC(`lucide-${kB(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=St("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=St("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=St("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=St("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=St("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=St("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=St("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=St("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=St("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=St("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=St("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=St("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=St("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=St("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=St("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=St("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=St("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=St("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=St("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=St("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=St("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=St("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=St("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=St("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=St("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=St("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=St("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=St("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=St("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=St("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=St("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=St("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=St("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=St("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=St("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=St("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Tw="-",QB=e=>{const t=eF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(Tw);return u[0]===""&&u.length!==1&&u.shift(),YC(u,t)||XB(l)},getConflictingClassGroupIds:(l,u)=>{const d=n[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},YC=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?YC(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Tw);return(l=t.validators.find(({validator:u})=>u(s)))==null?void 0:l.classGroupId},R1=/^\[(.+)\]$/,XB=e=>{if(R1.test(e)){const t=R1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},eF=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return nF(Object.entries(e.classGroups),n).forEach(([s,l])=>{n0(l,r,s,t)}),r},n0=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:I1(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(tF(i)){n0(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,l])=>{n0(l,I1(t,s),n,r)})})},I1=(e,t)=>{let n=e;return t.split(Tw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},tF=e=>e.isThemeGetter,nF=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([l,u])=>[t+l,u])):s);return[n,i]}):e,rF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,l)=>{n.set(s,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let l=n.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set(s,l){n.has(s)?n.set(s,l):i(s,l)}}},JC="!",iF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,l=u=>{const d=[];let p=0,g=0,m;for(let E=0;E<u.length;E++){let k=u[E];if(p===0){if(k===i&&(r||u.slice(E,E+s)===t)){d.push(u.slice(g,E)),g=E+s;continue}if(k==="/"){m=E;continue}}k==="["?p++:k==="]"&&p--}const b=d.length===0?u:u.substring(g),_=b.startsWith(JC),S=_?b.substring(1):b,v=m&&m>g?m-g:void 0;return{modifiers:d,hasImportantModifier:_,baseClassName:S,maybePostfixModifierPosition:v}};return n?u=>n({className:u,parseClassName:l}):l},oF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},sF=e=>({cache:rF(e.cacheSize),parseClassName:iF(e),...QB(e)}),aF=/\s+/,lF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],l=e.trim().split(aF);let u="";for(let d=l.length-1;d>=0;d-=1){const p=l[d],{modifiers:g,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:_}=n(p);let S=!!_,v=r(S?b.substring(0,_):b);if(!v){if(!S){u=p+(u.length>0?" "+u:u);continue}if(v=r(b),!v){u=p+(u.length>0?" "+u:u);continue}S=!1}const E=oF(g).join(":"),k=m?E+JC:E,N=k+v;if(s.includes(N))continue;s.push(N);const A=i(v,S);for(let z=0;z<A.length;++z){const D=A[z];s.push(k+D)}u=p+(u.length>0?" "+u:u)}return u};function cF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=QC(t))&&(r&&(r+=" "),r+=n);return r}const QC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=QC(e[r]))&&(n&&(n+=" "),n+=t);return n};function uF(e,...t){let n,r,i,s=l;function l(d){const p=t.reduce((g,m)=>m(g),e());return n=sF(p),r=n.cache.get,i=n.cache.set,s=u,u(d)}function u(d){const p=r(d);if(p)return p;const g=lF(d,n);return i(d,g),g}return function(){return s(cF.apply(null,arguments))}}const Wt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},XC=/^\[(?:([a-z-]+):)?(.+)\]$/i,dF=/^\d+\/\d+$/,fF=new Set(["px","full","screen"]),hF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Eo=e=>_c(e)||fF.has(e)||dF.test(e),Ns=e=>eu(e,"length",kF),_c=e=>!!e&&!Number.isNaN(Number(e)),ky=e=>eu(e,"number",_c),od=e=>!!e&&Number.isInteger(Number(e)),vF=e=>e.endsWith("%")&&_c(e.slice(0,-1)),wt=e=>XC.test(e),As=e=>hF.test(e),wF=new Set(["length","size","percentage"]),_F=e=>eu(e,wF,eP),xF=e=>eu(e,"position",eP),bF=new Set(["image","url"]),EF=e=>eu(e,bF,PF),SF=e=>eu(e,"",CF),sd=()=>!0,eu=(e,t,n)=>{const r=XC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},kF=e=>pF.test(e)&&!mF.test(e),eP=()=>!1,CF=e=>gF.test(e),PF=e=>yF.test(e),TF=()=>{const e=Wt("colors"),t=Wt("spacing"),n=Wt("blur"),r=Wt("brightness"),i=Wt("borderColor"),s=Wt("borderRadius"),l=Wt("borderSpacing"),u=Wt("borderWidth"),d=Wt("contrast"),p=Wt("grayscale"),g=Wt("hueRotate"),m=Wt("invert"),b=Wt("gap"),_=Wt("gradientColorStops"),S=Wt("gradientColorStopPositions"),v=Wt("inset"),E=Wt("margin"),k=Wt("opacity"),N=Wt("padding"),A=Wt("saturate"),z=Wt("scale"),D=Wt("sepia"),Z=Wt("skew"),H=Wt("space"),q=Wt("translate"),F=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",wt,t],U=()=>[wt,t],X=()=>["",Eo,Ns],O=()=>["auto",_c,wt],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",wt],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[_c,wt];return{cacheSize:500,separator:":",theme:{colors:[sd],spacing:[Eo,Ns],blur:["none","",As,wt],brightness:$(),borderColor:[e],borderRadius:["none","","full",As,wt],borderSpacing:U(),borderWidth:X(),contrast:$(),grayscale:ee(),hueRotate:$(),invert:ee(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[vF,Ns],inset:J(),margin:J(),opacity:$(),padding:U(),saturate:$(),scale:$(),sepia:ee(),skew:$(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",wt]}],container:["container"],columns:[{columns:[As]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),wt]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",od,wt]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wt]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",od,wt]}],"grid-cols":[{"grid-cols":[sd]}],"col-start-end":[{col:["auto",{span:["full",od,wt]},wt]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[sd]}],"row-start-end":[{row:["auto",{span:[od,wt]},wt]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wt]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wt,t]}],"min-w":[{"min-w":[wt,t,"min","max","fit"]}],"max-w":[{"max-w":[wt,t,"none","full","min","max","fit","prose",{screen:[As]},As]}],h:[{h:[wt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",As,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ky]}],"font-family":[{font:[sd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wt]}],"line-clamp":[{"line-clamp":["none",_c,ky]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Eo,wt]}],"list-image":[{"list-image":["none",wt]}],"list-style-type":[{list:["none","disc","decimal",wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Eo,Ns]}],"underline-offset":[{"underline-offset":["auto",Eo,wt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),xF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_F]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[Eo,wt]}],"outline-w":[{outline:[Eo,Ns]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[Eo,Ns]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",As,SF]}],"shadow-color":[{shadow:[sd]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",As,wt]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[m]}],saturate:[{saturate:[A]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wt]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",wt]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[od,wt]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Eo,Ns,ky]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NF=uF(TF);function qe(...e){return NF(HC(e))}const AF=SB,tP=C.forwardRef(({className:e,...t},n)=>y.jsx(zC,{ref:n,className:qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));tP.displayName=zC.displayName;const RF=ef("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),nP=C.forwardRef(({className:e,variant:t,...n},r)=>y.jsx(DC,{ref:r,className:qe(RF({variant:t}),e),...n}));nP.displayName=DC.displayName;const IF=C.forwardRef(({className:e,...t},n)=>y.jsx(UC,{ref:n,className:qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));IF.displayName=UC.displayName;const rP=C.forwardRef(({className:e,...t},n)=>y.jsx($C,{ref:n,className:qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:y.jsx(GC,{className:"h-4 w-4"})}));rP.displayName=$C.displayName;const iP=C.forwardRef(({className:e,...t},n)=>y.jsx(BC,{ref:n,className:qe("text-sm font-semibold",e),...t}));iP.displayName=BC.displayName;const oP=C.forwardRef(({className:e,...t},n)=>y.jsx(FC,{ref:n,className:qe("text-sm opacity-90",e),...t}));oP.displayName=FC.displayName;function LF(){const{toasts:e}=Yd();return y.jsxs(AF,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return y.jsxs(nP,{...s,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(iP,{children:n}),r&&y.jsx(oP,{children:r})]}),i,y.jsx(rP,{})]},t)}),y.jsx(tP,{})]})}var OF=A0[" useId ".trim().toString()]||(()=>{}),jF=0;function ei(e){const[t,n]=C.useState(OF());return cn(()=>{n(r=>r??String(jF++))},[e]),t?`radix-${t}`:""}const MF=["top","right","bottom","left"],ra=Math.min,Tr=Math.max,yp=Math.round,Bh=Math.floor,Ji=e=>({x:e,y:e}),zF={left:"right",right:"left",bottom:"top",top:"bottom"},DF={start:"end",end:"start"};function r0(e,t,n){return Tr(e,ra(t,n))}function Fo(e,t){return typeof e=="function"?e(t):e}function Uo(e){return e.split("-")[0]}function tu(e){return e.split("-")[1]}function Nw(e){return e==="x"?"y":"x"}function Aw(e){return e==="y"?"height":"width"}function Mo(e){return["top","bottom"].includes(Uo(e))?"y":"x"}function Rw(e){return Nw(Mo(e))}function BF(e,t,n){n===void 0&&(n=!1);const r=tu(e),i=Rw(e),s=Aw(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=vp(l)),[l,vp(l)]}function FF(e){const t=vp(e);return[i0(e),t,i0(t)]}function i0(e){return e.replace(/start|end/g,t=>DF[t])}function UF(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:l;default:return[]}}function $F(e,t,n,r){const i=tu(e);let s=UF(Uo(e),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(i0)))),s}function vp(e){return e.replace(/left|right|bottom|top/g,t=>zF[t])}function ZF(e){return{top:0,right:0,bottom:0,left:0,...e}}function sP(e){return typeof e!="number"?ZF(e):{top:e,right:e,bottom:e,left:e}}function wp(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function L1(e,t,n){let{reference:r,floating:i}=e;const s=Mo(t),l=Rw(t),u=Aw(l),d=Uo(t),p=s==="y",g=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,b=r[u]/2-i[u]/2;let _;switch(d){case"top":_={x:g,y:r.y-i.height};break;case"bottom":_={x:g,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:m};break;case"left":_={x:r.x-i.width,y:m};break;default:_={x:r.x,y:r.y}}switch(tu(t)){case"start":_[l]-=b*(n&&p?-1:1);break;case"end":_[l]+=b*(n&&p?-1:1);break}return _}const HF=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,u=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let p=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:m}=L1(p,r,d),b=r,_={},S=0;for(let v=0;v<u.length;v++){const{name:E,fn:k}=u[v],{x:N,y:A,data:z,reset:D}=await k({x:g,y:m,initialPlacement:r,placement:b,strategy:i,middlewareData:_,rects:p,platform:l,elements:{reference:e,floating:t}});g=N??g,m=A??m,_={..._,[E]:{..._[E],...z}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(p=D.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:g,y:m}=L1(p,b,d)),v=-1)}return{x:g,y:m,placement:b,strategy:i,middlewareData:_}};async function Td(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:l,elements:u,strategy:d}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:b=!1,padding:_=0}=Fo(t,e),S=sP(_),E=u[b?m==="floating"?"reference":"floating":m],k=wp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:d})),N=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),z=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},D=wp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:A,strategy:d}):N);return{top:(k.top-D.top+S.top)/z.y,bottom:(D.bottom-k.bottom+S.bottom)/z.y,left:(k.left-D.left+S.left)/z.x,right:(D.right-k.right+S.right)/z.x}}const WF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:l,elements:u,middlewareData:d}=t,{element:p,padding:g=0}=Fo(e,t)||{};if(p==null)return{};const m=sP(g),b={x:n,y:r},_=Rw(i),S=Aw(_),v=await l.getDimensions(p),E=_==="y",k=E?"top":"left",N=E?"bottom":"right",A=E?"clientHeight":"clientWidth",z=s.reference[S]+s.reference[_]-b[_]-s.floating[S],D=b[_]-s.reference[_],Z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let H=Z?Z[A]:0;(!H||!await(l.isElement==null?void 0:l.isElement(Z)))&&(H=u.floating[A]||s.floating[S]);const q=z/2-D/2,F=H/2-v[S]/2-1,W=ra(m[k],F),J=ra(m[N],F),U=W,X=H-v[S]-J,O=H/2-v[S]/2+q,K=r0(U,O,X),se=!d.arrow&&tu(i)!=null&&O!==K&&s.reference[S]/2-(O<U?W:J)-v[S]/2<0,ie=se?O<U?O-U:O-X:0;return{[_]:b[_]+ie,data:{[_]:K,centerOffset:O-K-ie,...se&&{alignmentOffset:ie}},reset:se}}}),VF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:u,platform:d,elements:p}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...E}=Fo(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const k=Uo(i),N=Mo(u),A=Uo(u)===u,z=await(d.isRTL==null?void 0:d.isRTL(p.floating)),D=b||(A||!v?[vp(u)]:FF(u)),Z=S!=="none";!b&&Z&&D.push(...$F(u,v,S,z));const H=[u,...D],q=await Td(t,E),F=[];let W=((r=s.flip)==null?void 0:r.overflows)||[];if(g&&F.push(q[k]),m){const K=BF(i,l,z);F.push(q[K[0]],q[K[1]])}if(W=[...W,{placement:i,overflows:F}],!F.every(K=>K<=0)){var J,U;const K=(((J=s.flip)==null?void 0:J.index)||0)+1,se=H[K];if(se){var X;const te=m==="alignment"?N!==Mo(se):!1,ee=((X=W[0])==null?void 0:X.overflows[0])>0;if(!te||ee)return{data:{index:K,overflows:W},reset:{placement:se}}}let ie=(U=W.filter(te=>te.overflows[0]<=0).sort((te,ee)=>te.overflows[1]-ee.overflows[1])[0])==null?void 0:U.placement;if(!ie)switch(_){case"bestFit":{var O;const te=(O=W.filter(ee=>{if(Z){const le=Mo(ee.placement);return le===N||le==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(le=>le>0).reduce((le,$)=>le+$,0)]).sort((ee,le)=>ee[1]-le[1])[0])==null?void 0:O[0];te&&(ie=te);break}case"initialPlacement":ie=u;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function O1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function j1(e){return MF.some(t=>e[t]>=0)}const qF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Fo(e,t);switch(r){case"referenceHidden":{const s=await Td(t,{...i,elementContext:"reference"}),l=O1(s,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:j1(l)}}}case"escaped":{const s=await Td(t,{...i,altBoundary:!0}),l=O1(s,n.floating);return{data:{escapedOffsets:l,escaped:j1(l)}}}default:return{}}}}};async function KF(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Uo(n),u=tu(n),d=Mo(n)==="y",p=["left","top"].includes(l)?-1:1,g=s&&d?-1:1,m=Fo(t,e);let{mainAxis:b,crossAxis:_,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof S=="number"&&(_=u==="end"?S*-1:S),d?{x:_*g,y:b*p}:{x:b*p,y:_*g}}const GF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:l,middlewareData:u}=t,d=await KF(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}},YF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:u={fn:E=>{let{x:k,y:N}=E;return{x:k,y:N}}},...d}=Fo(e,t),p={x:n,y:r},g=await Td(t,d),m=Mo(Uo(i)),b=Nw(m);let _=p[b],S=p[m];if(s){const E=b==="y"?"top":"left",k=b==="y"?"bottom":"right",N=_+g[E],A=_-g[k];_=r0(N,_,A)}if(l){const E=m==="y"?"top":"left",k=m==="y"?"bottom":"right",N=S+g[E],A=S-g[k];S=r0(N,S,A)}const v=u.fn({...t,[b]:_,[m]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[b]:s,[m]:l}}}}}},JF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:p=!0}=Fo(e,t),g={x:n,y:r},m=Mo(i),b=Nw(m);let _=g[b],S=g[m];const v=Fo(u,t),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const A=b==="y"?"height":"width",z=s.reference[b]-s.floating[A]+E.mainAxis,D=s.reference[b]+s.reference[A]-E.mainAxis;_<z?_=z:_>D&&(_=D)}if(p){var k,N;const A=b==="y"?"width":"height",z=["top","left"].includes(Uo(i)),D=s.reference[m]-s.floating[A]+(z&&((k=l.offset)==null?void 0:k[m])||0)+(z?0:E.crossAxis),Z=s.reference[m]+s.reference[A]+(z?0:((N=l.offset)==null?void 0:N[m])||0)-(z?E.crossAxis:0);S<D?S=D:S>Z&&(S=Z)}return{[b]:_,[m]:S}}}},QF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:l,elements:u}=t,{apply:d=()=>{},...p}=Fo(e,t),g=await Td(t,p),m=Uo(i),b=tu(i),_=Mo(i)==="y",{width:S,height:v}=s.floating;let E,k;m==="top"||m==="bottom"?(E=m,k=b===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(k=m,E=b==="end"?"top":"bottom");const N=v-g.top-g.bottom,A=S-g.left-g.right,z=ra(v-g[E],N),D=ra(S-g[k],A),Z=!t.middlewareData.shift;let H=z,q=D;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(q=A),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(H=N),Z&&!b){const W=Tr(g.left,0),J=Tr(g.right,0),U=Tr(g.top,0),X=Tr(g.bottom,0);_?q=S-2*(W!==0||J!==0?W+J:Tr(g.left,g.right)):H=v-2*(U!==0||X!==0?U+X:Tr(g.top,g.bottom))}await d({...t,availableWidth:q,availableHeight:H});const F=await l.getDimensions(u.floating);return S!==F.width||v!==F.height?{reset:{rects:!0}}:{}}}};function rm(){return typeof window<"u"}function nu(e){return aP(e)?(e.nodeName||"").toLowerCase():"#document"}function Rr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xi(e){var t;return(t=(aP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function aP(e){return rm()?e instanceof Node||e instanceof Rr(e).Node:!1}function Ei(e){return rm()?e instanceof Element||e instanceof Rr(e).Element:!1}function Qi(e){return rm()?e instanceof HTMLElement||e instanceof Rr(e).HTMLElement:!1}function M1(e){return!rm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rr(e).ShadowRoot}function tf(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Si(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function XF(e){return["table","td","th"].includes(nu(e))}function im(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Iw(e){const t=Lw(),n=Ei(e)?Si(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function eU(e){let t=ia(e);for(;Qi(t)&&!Hc(t);){if(Iw(t))return t;if(im(t))return null;t=ia(t)}return null}function Lw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hc(e){return["html","body","#document"].includes(nu(e))}function Si(e){return Rr(e).getComputedStyle(e)}function om(e){return Ei(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ia(e){if(nu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||M1(e)&&e.host||Xi(e);return M1(t)?t.host:t}function lP(e){const t=ia(e);return Hc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qi(t)&&tf(t)?t:lP(t)}function Nd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=lP(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),l=Rr(i);if(s){const u=o0(l);return t.concat(l,l.visualViewport||[],tf(i)?i:[],u&&n?Nd(u):[])}return t.concat(i,Nd(i,[],n))}function o0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cP(e){const t=Si(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Qi(e),s=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=yp(n)!==s||yp(r)!==l;return u&&(n=s,r=l),{width:n,height:r,$:u}}function Ow(e){return Ei(e)?e:e.contextElement}function xc(e){const t=Ow(e);if(!Qi(t))return Ji(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=cP(t);let l=(s?yp(n.width):n.width)/r,u=(s?yp(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const tU=Ji(0);function uP(e){const t=Rr(e);return!Lw()||!t.visualViewport?tU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nU(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Rr(e)?!1:t}function cl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Ow(e);let l=Ji(1);t&&(r?Ei(r)&&(l=xc(r)):l=xc(e));const u=nU(s,n,r)?uP(s):Ji(0);let d=(i.left+u.x)/l.x,p=(i.top+u.y)/l.y,g=i.width/l.x,m=i.height/l.y;if(s){const b=Rr(s),_=r&&Ei(r)?Rr(r):r;let S=b,v=o0(S);for(;v&&r&&_!==S;){const E=xc(v),k=v.getBoundingClientRect(),N=Si(v),A=k.left+(v.clientLeft+parseFloat(N.paddingLeft))*E.x,z=k.top+(v.clientTop+parseFloat(N.paddingTop))*E.y;d*=E.x,p*=E.y,g*=E.x,m*=E.y,d+=A,p+=z,S=Rr(v),v=o0(S)}}return wp({width:g,height:m,x:d,y:p})}function jw(e,t){const n=om(e).scrollLeft;return t?t.left+n:cl(Xi(e)).left+n}function dP(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:jw(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function rU(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",l=Xi(r),u=t?im(t.floating):!1;if(r===l||u&&s)return n;let d={scrollLeft:0,scrollTop:0},p=Ji(1);const g=Ji(0),m=Qi(r);if((m||!m&&!s)&&((nu(r)!=="body"||tf(l))&&(d=om(r)),Qi(r))){const _=cl(r);p=xc(r),g.x=_.x+r.clientLeft,g.y=_.y+r.clientTop}const b=l&&!m&&!s?dP(l,d,!0):Ji(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-d.scrollLeft*p.x+g.x+b.x,y:n.y*p.y-d.scrollTop*p.y+g.y+b.y}}function iU(e){return Array.from(e.getClientRects())}function oU(e){const t=Xi(e),n=om(e),r=e.ownerDocument.body,i=Tr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Tr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+jw(e);const u=-n.scrollTop;return Si(r).direction==="rtl"&&(l+=Tr(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:u}}function sU(e,t){const n=Rr(e),r=Xi(e),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,u=0,d=0;if(i){s=i.width,l=i.height;const p=Lw();(!p||p&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:s,height:l,x:u,y:d}}function aU(e,t){const n=cl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Qi(e)?xc(e):Ji(1),l=e.clientWidth*s.x,u=e.clientHeight*s.y,d=i*s.x,p=r*s.y;return{width:l,height:u,x:d,y:p}}function z1(e,t,n){let r;if(t==="viewport")r=sU(e,n);else if(t==="document")r=oU(Xi(e));else if(Ei(t))r=aU(t,n);else{const i=uP(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return wp(r)}function fP(e,t){const n=ia(e);return n===t||!Ei(n)||Hc(n)?!1:Si(n).position==="fixed"||fP(n,t)}function lU(e,t){const n=t.get(e);if(n)return n;let r=Nd(e,[],!1).filter(u=>Ei(u)&&nu(u)!=="body"),i=null;const s=Si(e).position==="fixed";let l=s?ia(e):e;for(;Ei(l)&&!Hc(l);){const u=Si(l),d=Iw(l);!d&&u.position==="fixed"&&(i=null),(s?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||tf(l)&&!d&&fP(e,l))?r=r.filter(g=>g!==l):i=u,l=ia(l)}return t.set(e,r),r}function cU(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?im(t)?[]:lU(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((p,g)=>{const m=z1(t,g,i);return p.top=Tr(m.top,p.top),p.right=ra(m.right,p.right),p.bottom=ra(m.bottom,p.bottom),p.left=Tr(m.left,p.left),p},z1(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function uU(e){const{width:t,height:n}=cP(e);return{width:t,height:n}}function dU(e,t,n){const r=Qi(t),i=Xi(t),s=n==="fixed",l=cl(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const d=Ji(0);function p(){d.x=jw(i)}if(r||!r&&!s)if((nu(t)!=="body"||tf(i))&&(u=om(t)),r){const _=cl(t,!0,s,t);d.x=_.x+t.clientLeft,d.y=_.y+t.clientTop}else i&&p();s&&!r&&i&&p();const g=i&&!r&&!s?dP(i,u):Ji(0),m=l.left+u.scrollLeft-d.x-g.x,b=l.top+u.scrollTop-d.y-g.y;return{x:m,y:b,width:l.width,height:l.height}}function Cy(e){return Si(e).position==="static"}function D1(e,t){if(!Qi(e)||Si(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xi(e)===n&&(n=n.ownerDocument.body),n}function hP(e,t){const n=Rr(e);if(im(e))return n;if(!Qi(e)){let i=ia(e);for(;i&&!Hc(i);){if(Ei(i)&&!Cy(i))return i;i=ia(i)}return n}let r=D1(e,t);for(;r&&XF(r)&&Cy(r);)r=D1(r,t);return r&&Hc(r)&&Cy(r)&&!Iw(r)?n:r||eU(e)||n}const fU=async function(e){const t=this.getOffsetParent||hP,n=this.getDimensions,r=await n(e.floating);return{reference:dU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hU(e){return Si(e).direction==="rtl"}const pU={convertOffsetParentRelativeRectToViewportRelativeRect:rU,getDocumentElement:Xi,getClippingRect:cU,getOffsetParent:hP,getElementRects:fU,getClientRects:iU,getDimensions:uU,getScale:xc,isElement:Ei,isRTL:hU};function pP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mU(e,t){let n=null,r;const i=Xi(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const p=e.getBoundingClientRect(),{left:g,top:m,width:b,height:_}=p;if(u||t(),!b||!_)return;const S=Bh(m),v=Bh(i.clientWidth-(g+b)),E=Bh(i.clientHeight-(m+_)),k=Bh(g),A={rootMargin:-S+"px "+-v+"px "+-E+"px "+-k+"px",threshold:Tr(0,ra(1,d))||1};let z=!0;function D(Z){const H=Z[0].intersectionRatio;if(H!==d){if(!z)return l();H?l(!1,H):r=setTimeout(()=>{l(!1,1e-7)},1e3)}H===1&&!pP(p,e.getBoundingClientRect())&&l(),z=!1}try{n=new IntersectionObserver(D,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,A)}n.observe(e)}return l(!0),s}function gU(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=Ow(e),g=i||s?[...p?Nd(p):[],...Nd(t)]:[];g.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),s&&k.addEventListener("resize",n)});const m=p&&u?mU(p,n):null;let b=-1,_=null;l&&(_=new ResizeObserver(k=>{let[N]=k;N&&N.target===p&&_&&(_.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var A;(A=_)==null||A.observe(t)})),n()}),p&&!d&&_.observe(p),_.observe(t));let S,v=d?cl(e):null;d&&E();function E(){const k=cl(e);v&&!pP(v,k)&&n(),v=k,S=requestAnimationFrame(E)}return n(),()=>{var k;g.forEach(N=>{i&&N.removeEventListener("scroll",n),s&&N.removeEventListener("resize",n)}),m==null||m(),(k=_)==null||k.disconnect(),_=null,d&&cancelAnimationFrame(S)}}const yU=GF,vU=YF,wU=VF,_U=QF,xU=qF,B1=WF,bU=JF,EU=(e,t,n)=>{const r=new Map,i={platform:pU,...n},s={...i.platform,_c:r};return HF(e,t,{...i,platform:s})};var Qh=typeof document<"u"?C.useLayoutEffect:C.useEffect;function _p(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!_p(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!_p(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function mP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function F1(e,t){const n=mP(e);return Math.round(t*n)/n}function Py(e){const t=C.useRef(e);return Qh(()=>{t.current=e}),t}function SU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:d,open:p}=e,[g,m]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,_]=C.useState(r);_p(b,r)||_(r);const[S,v]=C.useState(null),[E,k]=C.useState(null),N=C.useCallback(te=>{te!==Z.current&&(Z.current=te,v(te))},[]),A=C.useCallback(te=>{te!==H.current&&(H.current=te,k(te))},[]),z=s||S,D=l||E,Z=C.useRef(null),H=C.useRef(null),q=C.useRef(g),F=d!=null,W=Py(d),J=Py(i),U=Py(p),X=C.useCallback(()=>{if(!Z.current||!H.current)return;const te={placement:t,strategy:n,middleware:b};J.current&&(te.platform=J.current),EU(Z.current,H.current,te).then(ee=>{const le={...ee,isPositioned:U.current!==!1};O.current&&!_p(q.current,le)&&(q.current=le,Qc.flushSync(()=>{m(le)}))})},[b,t,n,J,U]);Qh(()=>{p===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,m(te=>({...te,isPositioned:!1})))},[p]);const O=C.useRef(!1);Qh(()=>(O.current=!0,()=>{O.current=!1}),[]),Qh(()=>{if(z&&(Z.current=z),D&&(H.current=D),z&&D){if(W.current)return W.current(z,D,X);X()}},[z,D,X,W,F]);const K=C.useMemo(()=>({reference:Z,floating:H,setReference:N,setFloating:A}),[N,A]),se=C.useMemo(()=>({reference:z,floating:D}),[z,D]),ie=C.useMemo(()=>{const te={position:n,left:0,top:0};if(!se.floating)return te;const ee=F1(se.floating,g.x),le=F1(se.floating,g.y);return u?{...te,transform:"translate("+ee+"px, "+le+"px)",...mP(se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:le}},[n,u,se.floating,g.x,g.y]);return C.useMemo(()=>({...g,update:X,refs:K,elements:se,floatingStyles:ie}),[g,X,K,se,ie])}const kU=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?B1({element:r.current,padding:i}).fn(n):{}:r?B1({element:r,padding:i}).fn(n):{}}}},CU=(e,t)=>({...yU(e),options:[e,t]}),PU=(e,t)=>({...vU(e),options:[e,t]}),TU=(e,t)=>({...bU(e),options:[e,t]}),NU=(e,t)=>({...wU(e),options:[e,t]}),AU=(e,t)=>({..._U(e),options:[e,t]}),RU=(e,t)=>({...xU(e),options:[e,t]}),IU=(e,t)=>({...kU(e),options:[e,t]});var LU="Arrow",gP=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return y.jsx(Ye.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});gP.displayName=LU;var OU=gP;function Mw(e){const[t,n]=C.useState(void 0);return cn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,u;if("borderBoxSize"in s){const d=s.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,u=p.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var zw="Popper",[yP,ru]=$n(zw),[jU,vP]=yP(zw),wP=e=>{const{__scopePopper:t,children:n}=e,[r,i]=C.useState(null);return y.jsx(jU,{scope:t,anchor:r,onAnchorChange:i,children:n})};wP.displayName=zw;var _P="PopperAnchor",xP=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=vP(_P,n),l=C.useRef(null),u=mt(t,l);return C.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:y.jsx(Ye.div,{...i,ref:u})});xP.displayName=_P;var Dw="PopperContent",[MU,zU]=yP(Dw),bP=C.forwardRef((e,t)=>{var Te,Ne,je,Ze,Qe,ot;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:S,...v}=e,E=vP(Dw,n),[k,N]=C.useState(null),A=mt(t,at=>N(at)),[z,D]=C.useState(null),Z=Mw(z),H=(Z==null?void 0:Z.width)??0,q=(Z==null?void 0:Z.height)??0,F=r+(s!=="center"?"-"+s:""),W=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},J=Array.isArray(p)?p:[p],U=J.length>0,X={padding:W,boundary:J.filter(BU),altBoundary:U},{refs:O,floatingStyles:K,placement:se,isPositioned:ie,middlewareData:te}=SU({strategy:"fixed",placement:F,whileElementsMounted:(...at)=>gU(...at,{animationFrame:_==="always"}),elements:{reference:E.anchor},middleware:[CU({mainAxis:i+q,alignmentAxis:l}),d&&PU({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?TU():void 0,...X}),d&&NU({...X}),AU({...X,apply:({elements:at,rects:B,availableWidth:Pe,availableHeight:be})=>{const{width:oe,height:re}=B.reference,pe=at.floating.style;pe.setProperty("--radix-popper-available-width",`${Pe}px`),pe.setProperty("--radix-popper-available-height",`${be}px`),pe.setProperty("--radix-popper-anchor-width",`${oe}px`),pe.setProperty("--radix-popper-anchor-height",`${re}px`)}}),z&&IU({element:z,padding:u}),FU({arrowWidth:H,arrowHeight:q}),b&&RU({strategy:"referenceHidden",...X})]}),[ee,le]=kP(se),$=an(S);cn(()=>{ie&&($==null||$())},[ie,$]);const Q=(Te=te.arrow)==null?void 0:Te.x,ke=(Ne=te.arrow)==null?void 0:Ne.y,_e=((je=te.arrow)==null?void 0:je.centerOffset)!==0,[ve,Ie]=C.useState();return cn(()=>{k&&Ie(window.getComputedStyle(k).zIndex)},[k]),y.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:ie?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(Ze=te.transformOrigin)==null?void 0:Ze.x,(Qe=te.transformOrigin)==null?void 0:Qe.y].join(" "),...((ot=te.hide)==null?void 0:ot.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:y.jsx(MU,{scope:n,placedSide:ee,onArrowChange:D,arrowX:Q,arrowY:ke,shouldHideArrow:_e,children:y.jsx(Ye.div,{"data-side":ee,"data-align":le,...v,ref:A,style:{...v.style,animation:ie?void 0:"none"}})})})});bP.displayName=Dw;var EP="PopperArrow",DU={top:"bottom",right:"left",bottom:"top",left:"right"},SP=C.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=zU(EP,r),l=DU[s.placedSide];return y.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:y.jsx(OU,{...i,ref:n,style:{...i.style,display:"block"}})})});SP.displayName=EP;function BU(e){return e!==null}var FU=e=>({name:"transformOrigin",options:e,fn(t){var E,k,N;const{placement:n,rects:r,middlewareData:i}=t,l=((E=i.arrow)==null?void 0:E.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[p,g]=kP(n),m={start:"0%",center:"50%",end:"100%"}[g],b=(((k=i.arrow)==null?void 0:k.x)??0)+u/2,_=(((N=i.arrow)==null?void 0:N.y)??0)+d/2;let S="",v="";return p==="bottom"?(S=l?m:`${b}px`,v=`${-d}px`):p==="top"?(S=l?m:`${b}px`,v=`${r.floating.height+d}px`):p==="right"?(S=`${-d}px`,v=l?m:`${_}px`):p==="left"&&(S=`${r.floating.width+d}px`,v=l?m:`${_}px`),{data:{x:S,y:v}}}});function kP(e){const[t,n="center"]=e.split("-");return[t,n]}var Bw=wP,Fw=xP,Uw=bP,$w=SP,[sm,tK]=$n("Tooltip",[ru]),am=ru(),CP="TooltipProvider",UU=700,s0="tooltip.open",[$U,Zw]=sm(CP),PP=e=>{const{__scopeTooltip:t,delayDuration:n=UU,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,l=C.useRef(!0),u=C.useRef(!1),d=C.useRef(0);return C.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),y.jsx($U,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:C.useCallback(p=>{u.current=p},[]),disableHoverableContent:i,children:s})};PP.displayName=CP;var Ad="Tooltip",[ZU,lm]=sm(Ad),TP=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:l,delayDuration:u}=e,d=Zw(Ad,e.__scopeTooltip),p=am(t),[g,m]=C.useState(null),b=ei(),_=C.useRef(0),S=l??d.disableHoverableContent,v=u??d.delayDuration,E=C.useRef(!1),[k,N]=bi({prop:r,defaultProp:i??!1,onChange:H=>{H?(d.onOpen(),document.dispatchEvent(new CustomEvent(s0))):d.onClose(),s==null||s(H)},caller:Ad}),A=C.useMemo(()=>k?E.current?"delayed-open":"instant-open":"closed",[k]),z=C.useCallback(()=>{window.clearTimeout(_.current),_.current=0,E.current=!1,N(!0)},[N]),D=C.useCallback(()=>{window.clearTimeout(_.current),_.current=0,N(!1)},[N]),Z=C.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{E.current=!0,N(!0),_.current=0},v)},[v,N]);return C.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),y.jsx(Bw,{...p,children:y.jsx(ZU,{scope:t,contentId:b,open:k,stateAttribute:A,trigger:g,onTriggerChange:m,onTriggerEnter:C.useCallback(()=>{d.isOpenDelayedRef.current?Z():z()},[d.isOpenDelayedRef,Z,z]),onTriggerLeave:C.useCallback(()=>{S?D():(window.clearTimeout(_.current),_.current=0)},[D,S]),onOpen:z,onClose:D,disableHoverableContent:S,children:n})})};TP.displayName=Ad;var a0="TooltipTrigger",NP=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=lm(a0,n),s=Zw(a0,n),l=am(n),u=C.useRef(null),d=mt(t,u,i.onTriggerChange),p=C.useRef(!1),g=C.useRef(!1),m=C.useCallback(()=>p.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),y.jsx(Fw,{asChild:!0,...l,children:y.jsx(Ye.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:Ue(e.onPointerMove,b=>{b.pointerType!=="touch"&&!g.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ue(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:Ue(e.onBlur,i.onClose),onClick:Ue(e.onClick,i.onClose)})})});NP.displayName=a0;var HU="TooltipPortal",[nK,WU]=sm(HU,{forceMount:void 0}),Wc="TooltipContent",AP=C.forwardRef((e,t)=>{const n=WU(Wc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,l=lm(Wc,e.__scopeTooltip);return y.jsx(Zn,{present:r||l.open,children:l.disableHoverableContent?y.jsx(RP,{side:i,...s,ref:t}):y.jsx(VU,{side:i,...s,ref:t})})}),VU=C.forwardRef((e,t)=>{const n=lm(Wc,e.__scopeTooltip),r=Zw(Wc,e.__scopeTooltip),i=C.useRef(null),s=mt(t,i),[l,u]=C.useState(null),{trigger:d,onClose:p}=n,g=i.current,{onPointerInTransitChange:m}=r,b=C.useCallback(()=>{u(null),m(!1)},[m]),_=C.useCallback((S,v)=>{const E=S.currentTarget,k={x:S.clientX,y:S.clientY},N=JU(k,E.getBoundingClientRect()),A=QU(k,N),z=XU(v.getBoundingClientRect()),D=t$([...A,...z]);u(D),m(!0)},[m]);return C.useEffect(()=>()=>b(),[b]),C.useEffect(()=>{if(d&&g){const S=E=>_(E,g),v=E=>_(E,d);return d.addEventListener("pointerleave",S),g.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",S),g.removeEventListener("pointerleave",v)}}},[d,g,_,b]),C.useEffect(()=>{if(l){const S=v=>{const E=v.target,k={x:v.clientX,y:v.clientY},N=(d==null?void 0:d.contains(E))||(g==null?void 0:g.contains(E)),A=!e$(k,l);N?b():A&&(b(),p())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[d,g,l,p,b]),y.jsx(RP,{...e,ref:s})}),[qU,KU]=sm(Ad,{isInside:!1}),GU=D6("TooltipContent"),RP=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:l,...u}=e,d=lm(Wc,n),p=am(n),{onClose:g}=d;return C.useEffect(()=>(document.addEventListener(s0,g),()=>document.removeEventListener(s0,g)),[g]),C.useEffect(()=>{if(d.trigger){const m=b=>{const _=b.target;_!=null&&_.contains(d.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,g]),y.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:y.jsxs(Uw,{"data-state":d.stateAttribute,...p,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(GU,{children:r}),y.jsx(qU,{scope:n,isInside:!0,children:y.jsx(sB,{id:d.contentId,role:"tooltip",children:i||r})})]})})});AP.displayName=Wc;var IP="TooltipArrow",YU=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=am(n);return KU(IP,n).isInside?null:y.jsx($w,{...i,...r,ref:t})});YU.displayName=IP;function JU(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function QU(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function XU(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function e$(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s],d=t[l],p=u.x,g=u.y,m=d.x,b=d.y;g>r!=b>r&&n<(m-p)*(r-g)/(b-g)+p&&(i=!i)}return i}function t$(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),n$(t)}function n$(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],l=n[n.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var r$=PP,i$=TP,o$=NP,LP=AP;const rl=r$,Ha=i$,Wa=o$,Gs=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>y.jsx(LP,{ref:r,sideOffset:t,className:qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Gs.displayName=LP.displayName;function l0(e,t,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,i=(n==null?void 0:n.deserialize)||JSON.parse,[s,l]=C.useState(()=>{try{const d=localStorage.getItem(e);return d?i(d):t}catch(d){return console.warn(`Failed to load ${e} from localStorage:`,d),t}}),u=d=>{try{const p=d instanceof Function?d(s):d;l(p),localStorage.setItem(e,r(p))}catch(p){console.warn(`Failed to save ${e} to localStorage:`,p)}};return C.useEffect(()=>{const d=p=>{if(p.key===e&&p.newValue!==null)try{l(i(p.newValue))}catch(g){console.warn(`Failed to sync ${e} from localStorage:`,g)}};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[e,i]),[s,u]}const s$=jo({relays:sC(jo({url:dd(),read:el(),write:el()})),updatedAt:Co()}),a$=jo({theme:lC(["dark","light","system"]),relayMetadata:s$});function l$(e){const{children:t,storageKey:n,defaultConfig:r}=e,[i,s]=l0(n,{},{serialize:JSON.stringify,deserialize:p=>{const g=JSON.parse(p);return a$.partial().parse(g)}}),l=p=>{s(p)},u={...r,...i},d={config:u,updateConfig:l};return c$(u.theme),y.jsx(yC.Provider,{value:d,children:t})}function c$(e){C.useEffect(()=>{const t=window.document.documentElement;if(t.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(n);return}t.classList.add(e)},[e]),C.useEffect(()=>{if(e!=="system")return;const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{const r=window.document.documentElement;r.classList.remove("light","dark");const i=t.matches?"dark":"light";r.classList.add(i)};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[e])}var U1,Ty,u$=(U1=function(e,t){function n(F){if(!Number.isSafeInteger(F))throw new Error(`Wrong integer: ${F}`)}function r(...F){const W=(J,U)=>X=>J(U(X));return{encode:Array.from(F).reverse().reduce((J,U)=>J?W(J,U.encode):U.encode,void 0),decode:F.reduce((J,U)=>J?W(J,U.decode):U.decode,void 0)}}function i(F){return{encode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return W.map(J=>{if(n(J),J<0||J>=F.length)throw new Error(`Digit index outside alphabet: ${J} (alphabet: ${F.length})`);return F[J]})},decode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="string")throw new Error("alphabet.decode input should be array of strings");return W.map(J=>{if(typeof J!="string")throw new Error(`alphabet.decode: not string element=${J}`);const U=F.indexOf(J);if(U===-1)throw new Error(`Unknown letter: "${J}". Allowed: ${F}`);return U})}}}function s(F=""){if(typeof F!="string")throw new Error("join separator should be string");return{encode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="string")throw new Error("join.encode input should be array of strings");for(let J of W)if(typeof J!="string")throw new Error(`join.encode: non-string input=${J}`);return W.join(F)},decode:W=>{if(typeof W!="string")throw new Error("join.decode input should be string");return W.split(F)}}}function l(F,W="="){if(n(F),typeof W!="string")throw new Error("padding chr should be string");return{encode(J){if(!Array.isArray(J)||J.length&&typeof J[0]!="string")throw new Error("padding.encode input should be array of strings");for(let U of J)if(typeof U!="string")throw new Error(`padding.encode: non-string input=${U}`);for(;J.length*F%8;)J.push(W);return J},decode(J){if(!Array.isArray(J)||J.length&&typeof J[0]!="string")throw new Error("padding.encode input should be array of strings");for(let X of J)if(typeof X!="string")throw new Error(`padding.decode: non-string input=${X}`);let U=J.length;if(U*F%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;U>0&&J[U-1]===W;U--)if(!((U-1)*F%8))throw new Error("Invalid padding: string has too much padding");return J.slice(0,U)}}}function u(F){if(typeof F!="function")throw new Error("normalize fn should be function");return{encode:W=>W,decode:W=>F(W)}}function d(F,W,J){if(W<2)throw new Error(`convertRadix: wrong from=${W}, base cannot be less than 2`);if(J<2)throw new Error(`convertRadix: wrong to=${J}, base cannot be less than 2`);if(!Array.isArray(F))throw new Error("convertRadix: data should be array");if(!F.length)return[];let U=0;const X=[],O=Array.from(F);for(O.forEach(K=>{if(n(K),K<0||K>=W)throw new Error(`Wrong integer: ${K}`)});;){let K=0,se=!0;for(let ie=U;ie<O.length;ie++){const te=O[ie],ee=W*K+te;if(!Number.isSafeInteger(ee)||W*K/W!==K||ee-te!=W*K)throw new Error("convertRadix: carry overflow");if(K=ee%J,O[ie]=Math.floor(ee/J),!Number.isSafeInteger(O[ie])||O[ie]*J+K!==ee)throw new Error("convertRadix: carry overflow");se&&(O[ie]?se=!1:U=ie)}if(X.push(K),se)break}for(let K=0;K<F.length-1&&F[K]===0;K++)X.push(0);return X.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const p=(F,W)=>W?p(W,F%W):F,g=(F,W)=>F+(W-p(F,W));function m(F,W,J,U){if(!Array.isArray(F))throw new Error("convertRadix2: data should be array");if(W<=0||W>32)throw new Error(`convertRadix2: wrong from=${W}`);if(J<=0||J>32)throw new Error(`convertRadix2: wrong to=${J}`);if(g(W,J)>32)throw new Error(`convertRadix2: carry overflow from=${W} to=${J} carryBits=${g(W,J)}`);let X=0,O=0;const K=2**J-1,se=[];for(const ie of F){if(n(ie),ie>=2**W)throw new Error(`convertRadix2: invalid data word=${ie} from=${W}`);if(X=X<<W|ie,O+W>32)throw new Error(`convertRadix2: carry overflow pos=${O} from=${W}`);for(O+=W;O>=J;O-=J)se.push((X>>O-J&K)>>>0);X&=2**O-1}if(X=X<<J-O&K,!U&&O>=W)throw new Error("Excess padding");if(!U&&X)throw new Error(`Non-zero padding: ${X}`);return U&&O>0&&se.push(X>>>0),se}function b(F){return n(F),{encode:W=>{if(!(W instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return d(Array.from(W),256,F)},decode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(d(W,F,256))}}}function _(F,W=!1){if(n(F),F<=0||F>32)throw new Error("radix2: bits should be in (0..32]");if(g(8,F)>32||g(F,8)>32)throw new Error("radix2: carry overflow");return{encode:J=>{if(!(J instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return m(Array.from(J),8,F,!W)},decode:J=>{if(!Array.isArray(J)||J.length&&typeof J[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(m(J,F,8,W))}}}function S(F){if(typeof F!="function")throw new Error("unsafeWrapper fn should be function");return function(...W){try{return F.apply(null,W)}catch{}}}function v(F,W){if(n(F),typeof W!="function")throw new Error("checksum fn should be function");return{encode(J){if(!(J instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const U=W(J).slice(0,F),X=new Uint8Array(J.length+F);return X.set(J),X.set(U,J.length),X},decode(J){if(!(J instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const U=J.slice(0,-F),X=W(U).slice(0,F),O=J.slice(-F);for(let K=0;K<F;K++)if(X[K]!==O[K])throw new Error("Invalid checksum");return U}}}t.utils={alphabet:i,chain:r,checksum:v,radix:b,radix2:_,join:s,padding:l},t.base16=r(_(4),i("0123456789ABCDEF"),s("")),t.base32=r(_(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),l(5),s("")),t.base32hex=r(_(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),l(5),s("")),t.base32crockford=r(_(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s(""),u(F=>F.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=r(_(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),l(6),s("")),t.base64url=r(_(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),l(6),s(""));const E=F=>r(b(58),i(F),s(""));t.base58=E("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=E("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=E("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const k=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(F){let W="";for(let J=0;J<F.length;J+=8){const U=F.subarray(J,J+8);W+=t.base58.encode(U).padStart(k[U.length],"1")}return W},decode(F){let W=[];for(let J=0;J<F.length;J+=11){const U=F.slice(J,J+11),X=k.indexOf(U.length),O=t.base58.decode(U);for(let K=0;K<O.length-X;K++)if(O[K]!==0)throw new Error("base58xmr: wrong padding");W=W.concat(Array.from(O.slice(O.length-X)))}return Uint8Array.from(W)}},t.base58check=F=>r(v(4,W=>F(F(W))),t.base58);const N=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s("")),A=[996825010,642813549,513874426,1027748829,705979059];function z(F){const W=F>>25;let J=(33554431&F)<<5;for(let U=0;U<A.length;U++)(W>>U&1)==1&&(J^=A[U]);return J}function D(F,W,J=1){const U=F.length;let X=1;for(let O=0;O<U;O++){const K=F.charCodeAt(O);if(K<33||K>126)throw new Error(`Invalid prefix (${F})`);X=z(X)^K>>5}X=z(X);for(let O=0;O<U;O++)X=z(X)^31&F.charCodeAt(O);for(let O of W)X=z(X)^O;for(let O=0;O<6;O++)X=z(X);return X^=J,N.encode(m([X%2**30],30,5,!1))}function Z(F){const W=F==="bech32"?1:734539939,J=_(5),U=J.decode,X=J.encode,O=S(U);function K(se,ie=90){if(typeof se!="string")throw new Error("bech32.decode input should be string, not "+typeof se);if(se.length<8||ie!==!1&&se.length>ie)throw new TypeError(`Wrong string length: ${se.length} (${se}). Expected (8..${ie})`);const te=se.toLowerCase();if(se!==te&&se!==se.toUpperCase())throw new Error("String must be lowercase or uppercase");const ee=(se=te).lastIndexOf("1");if(ee===0||ee===-1)throw new Error('Letter "1" must be present between prefix and data only');const le=se.slice(0,ee),$=se.slice(ee+1);if($.length<6)throw new Error("Data must be at least 6 characters long");const Q=N.decode($).slice(0,-6),ke=D(le,Q,W);if(!$.endsWith(ke))throw new Error(`Invalid checksum in ${se}: expected "${ke}"`);return{prefix:le,words:Q}}return{encode:function(se,ie,te=90){if(typeof se!="string")throw new Error("bech32.encode prefix should be string, not "+typeof se);if(!Array.isArray(ie)||ie.length&&typeof ie[0]!="number")throw new Error("bech32.encode words should be array of numbers, not "+typeof ie);const ee=se.length+7+ie.length;if(te!==!1&&ee>te)throw new TypeError(`Length ${ee} exceeds limit ${te}`);return`${se=se.toLowerCase()}1${N.encode(ie)}${D(se,ie,W)}`},decode:K,decodeToBytes:function(se){const{prefix:ie,words:te}=K(se,!1);return{prefix:ie,words:te,bytes:U(te)}},decodeUnsafe:S(K),fromWords:U,fromWordsUnsafe:O,toWords:X}}t.bech32=Z("bech32"),t.bech32m=Z("bech32m"),t.utf8={encode:F=>new TextDecoder().decode(F),decode:F=>new TextEncoder().encode(F)},t.hex=r(_(4),i("0123456789abcdef"),s(""),u(F=>{if(typeof F!="string"||F.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof F} with length ${F.length}`);return F.toLowerCase()}));const H={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},q=`Invalid encoding type. Available types: ${Object.keys(H).join(", ")}`;t.bytesToString=(F,W)=>{if(typeof F!="string"||!H.hasOwnProperty(F))throw new TypeError(q);if(!(W instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return H[F].encode(W)},t.str=t.bytesToString,t.stringToBytes=(F,W)=>{if(!H.hasOwnProperty(F))throw new TypeError(q);if(typeof W!="string")throw new TypeError("stringToBytes() expects string");return H[F].decode(W)},t.bytes=t.stringToBytes},U1(Ty={exports:{}},Ty.exports),Ty.exports);const{bech32:Zi,hex:gi,utf8:d$}=u$,$1={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},Z1={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},H1={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},W1={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},V1={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},Fh=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],f$={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},h$=BigInt("2100000000000000000"),q1=BigInt(1e11),c0={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},OP={};for(let e=0,t=Object.keys(c0);e<t.length;e++){const n=t[e],r=c0[t[e]].toString();OP[r]=n}const p$={1:e=>gi.encode(Zi.fromWordsUnsafe(e)),16:e=>gi.encode(Zi.fromWordsUnsafe(e)),13:e=>d$.encode(Zi.fromWordsUnsafe(e)),19:e=>gi.encode(Zi.fromWordsUnsafe(e)),23:e=>gi.encode(Zi.fromWordsUnsafe(e)),27:e=>gi.encode(Zi.fromWordsUnsafe(e)),6:xp,24:xp,3:function(e){const t=[];let n,r,i,s,l,u=Zi.fromWordsUnsafe(e);for(;u.length>0;)n=gi.encode(u.slice(0,33)),r=gi.encode(u.slice(33,41)),i=parseInt(gi.encode(u.slice(41,45)),16),s=parseInt(gi.encode(u.slice(45,49)),16),l=parseInt(gi.encode(u.slice(49,51)),16),u=u.slice(51),t.push({pubkey:n,short_channel_id:r,fee_base_msat:i,fee_proportional_millionths:s,cltv_expiry_delta:l});return t},5:function(e){const t=e.slice().reverse().map(i=>[!!(1&i),!!(2&i),!!(4&i),!!(8&i),!!(16&i)]).reduce((i,s)=>i.concat(s),[]);for(;t.length<2*Fh.length;)t.push(!1);const n={};Fh.forEach((i,s)=>{let l;l=t[2*s]?"required":t[2*s+1]?"supported":"unsupported",n[i]=l});const r=t.slice(2*Fh.length);return n.extra_bits={start_bit:2*Fh.length,bits:r,has_required:r.reduce((i,s,l)=>l%2!=0?i||!1:i||s,!1)},n}};function m$(e){return t=>({tagCode:parseInt(e),words:Zi.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function xp(e){return e.reverse().reduce((t,n,r)=>t+n*Math.pow(32,r),0)}const g$=e=>Uint8Array.from(e.match(/.{1,2}/g).map(t=>parseInt(t,16))),y$=e=>{if(!e)return null;try{const t=function(m,b){if(typeof m!="string")throw new Error("Lightning Payment Request must be string");if(m.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const _=[],S=Zi.decode(m,Number.MAX_SAFE_INTEGER);m=m.toLowerCase();const v=S.prefix;let E=S.words,k=m.slice(v.length+1),N=E.slice(-104);E=E.slice(0,-104);let A=v.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(A&&!A[2]&&(A=v.match(/^ln(\S+)$/)),!A)throw new Error("Not a proper lightning payment request");_.push({name:"lightning_network",letters:"ln"});const z=A[1];let D;switch(z){case $1.bech32:D=$1;break;case Z1.bech32:D=Z1;break;case H1.bech32:D=H1;break;case W1.bech32:D=W1;break;case V1.bech32:D=V1}if(!D||D.bech32!==z)throw new Error("Unknown coin bech32 prefix");_.push({name:"coin_network",letters:z,value:D});const Z=A[2];let H;Z?(H=function(K,se){let ie,te;if(K.slice(-1).match(/^[munp]$/))ie=K.slice(-1),te=K.slice(0,-1);else{if(K.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");te=K}if(!te.match(/^\d+$/))throw new Error("Not a valid human readable amount");const ee=BigInt(te),le=ie?ee*q1/f$[ie]:ee*q1;if(ie==="p"&&ee%BigInt(10)!==BigInt(0)||le>h$)throw new Error("Amount is outside of valid range");return le.toString()}(Z+A[3]),_.push({name:"amount",letters:A[2]+A[3],value:H})):H=null,_.push({name:"separator",letters:"1"});const q=xp(E.slice(0,7));let F,W,J,U;for(E=E.slice(7),_.push({name:"timestamp",letters:k.slice(0,7),value:q}),k=k.slice(7);E.length>0;){const K=E[0].toString();F=OP[K]||"unknown_tag",W=p$[K]||m$(K),E=E.slice(1),J=xp(E.slice(0,2)),E=E.slice(2),U=E.slice(0,J),E=E.slice(J),_.push({name:F,tag:k[0],letters:k.slice(0,3+J),value:W(U)}),k=k.slice(3+J)}_.push({name:"signature",letters:k.slice(0,104),value:gi.encode(Zi.fromWordsUnsafe(N))}),k=k.slice(104),_.push({name:"checksum",letters:k});let X={paymentRequest:m,sections:_,get expiry(){let K=_.find(se=>se.name==="expiry");if(K)return O("timestamp")+K.value},get route_hints(){return _.filter(K=>K.name==="route_hint").map(K=>K.value)}};for(let K in c0)K!=="route_hint"&&Object.defineProperty(X,K,{get:()=>O(K)});return X;function O(K){let se=_.find(ie=>ie.name===K);return se?se.value:void 0}}(e);if(!t||!t.sections)return null;const n=t.sections.find(m=>m.name==="payment_hash");if((n==null?void 0:n.name)!=="payment_hash"||!n.value)return null;const r=n.value;let i=0;const s=t.sections.find(m=>m.name==="amount");(s==null?void 0:s.name)==="amount"&&s.value&&(i=parseInt(s.value)/1e3);const l=t.sections.find(m=>m.name==="timestamp");if((l==null?void 0:l.name)!=="timestamp"||!l.value)return null;const u=l.value;let d;const p=t.sections.find(m=>m.name==="expiry");(p==null?void 0:p.name)==="expiry"&&(d=p.value);const g=t.sections.find(m=>m.name==="description");return{paymentHash:r,satoshi:i,timestamp:u,expiry:d,description:(g==null?void 0:g.name)==="description"?g==null?void 0:g.value:void 0}}catch{return null}};function K1(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const jP=e=>e instanceof Uint8Array,Ny=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Fi=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const v$=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bp(e){if(!jP(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=v$[e[n]];return t}function MP(e){if(typeof e=="string"&&(e=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(e)),!jP(e))throw new Error("expected Uint8Array, got "+typeof e);return e}let w$=class{clone(){return this._cloneInto()}};function _$(e){const t=r=>e().update(MP(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class x$ extends w${constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ny(this.buffer)}update(t){K1(this);const{view:n,buffer:r,blockLen:i}=this,s=(t=MP(t)).length;for(let l=0;l<s;){const u=Math.min(i-this.pos,s-l);if(u!==i)r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(n,0),this.pos=0);else{const d=Ny(t);for(;i<=s-l;l+=i)this.process(d,l)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){K1(this),function(m,b){(function(S,...v){if(!(S instanceof Uint8Array))throw new Error("Expected Uint8Array");if(v.length>0&&!v.includes(S.length))throw new Error(`Expected Uint8Array of length ${v}, not of length=${S.length}`)})(m);const _=b.outputLen;if(m.length<_)throw new Error(`digestInto() expects output buffer of length at least ${_}`)}(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let m=l;m<i;m++)n[m]=0;(function(m,b,_,S){if(typeof m.setBigUint64=="function")return m.setBigUint64(b,_,S);const v=BigInt(32),E=BigInt(4294967295),k=Number(_>>v&E),N=Number(_&E),A=S?0:4;m.setUint32(b+(S?4:0),k,S),m.setUint32(b+A,N,S)})(r,i-8,BigInt(8*this.length),s),this.process(r,0);const u=Ny(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)u.setUint32(4*m,g[m],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:u}=this;return t.length=i,t.pos=u,t.finished=s,t.destroyed=l,i%n&&t.buffer.set(r),t}}const b$=(e,t,n)=>e&t^e&n^t&n,E$=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Is=new Uint32Array(64);let S$=class extends x${constructor(){super(64,32,8,!1),this.A=0|Rs[0],this.B=0|Rs[1],this.C=0|Rs[2],this.D=0|Rs[3],this.E=0|Rs[4],this.F=0|Rs[5],this.G=0|Rs[6],this.H=0|Rs[7]}get(){const{A:t,B:n,C:r,D:i,E:s,F:l,G:u,H:d}=this;return[t,n,r,i,s,l,u,d]}set(t,n,r,i,s,l,u,d){this.A=0|t,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|s,this.F=0|l,this.G=0|u,this.H=0|d}process(t,n){for(let b=0;b<16;b++,n+=4)Is[b]=t.getUint32(n,!1);for(let b=16;b<64;b++){const _=Is[b-15],S=Is[b-2],v=Fi(_,7)^Fi(_,18)^_>>>3,E=Fi(S,17)^Fi(S,19)^S>>>10;Is[b]=E+Is[b-7]+v+Is[b-16]|0}let{A:r,B:i,C:s,D:l,E:u,F:d,G:p,H:g}=this;for(let b=0;b<64;b++){const _=g+(Fi(u,6)^Fi(u,11)^Fi(u,25))+((m=u)&d^~m&p)+E$[b]+Is[b]|0,S=(Fi(r,2)^Fi(r,13)^Fi(r,22))+b$(r,i,s)|0;g=p,p=d,d=u,u=l+_|0,l=s,s=i,i=r,r=_+S|0}var m;r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,i,s,l,u,d,p,g)}roundClean(){Is.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Ep=_$(()=>new S$);let Hw=class{constructor(t){var n,r,i,s;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=t.pr,!this.paymentRequest)throw new Error("Invalid payment request");const l=y$(this.paymentRequest);if(!l)throw new Error("Failed to decode payment request");this.paymentHash=l.paymentHash,this.satoshi=l.satoshi,this.timestamp=l.timestamp,this.expiry=l.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=(n=l.description)!=null?n:null,this.verify=(r=t.verify)!=null?r:null,this.preimage=(i=t.preimage)!=null?i:null,this.successAction=(s=t.successAction)!=null?s:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(t){if(!t||!this.paymentHash)return!1;try{const n=bp(Ep(g$(t)));return this.paymentHash===n}catch{return!1}}async verifyPayment(){try{if(!this.verify)throw new Error("LNURL verify not available");const t=await fetch(this.verify);if(!t.ok)throw new Error(`Verification request failed: ${t.status} ${t.statusText}`);const n=await t.json();return n.preimage&&(this.preimage=n.preimage),n.settled}catch(t){return console.error("Failed to check LNURL-verify",t),!1}}hasExpired(){const{expiryDate:t}=this;return!!t&&t.getTime()<Date.now()}};const k$=e=>{if(e.tag!=="keysend")throw new Error("Invalid keysend params");if(e.status!=="OK")throw new Error("Keysend status not OK");if(!e.pubkey)throw new Error("Pubkey does not exist");let t,n;return e.customData&&e.customData[0]&&(t=e.customData[0].customKey,n=e.customData[0].customValue),{destination:e.pubkey,customKey:t,customValue:n}};async function C$({satoshi:e,comment:t,p:n,e:r,relays:i},s={}){const l=s.nostr||globalThis.nostr;if(!l)throw new Error("nostr option or window.nostr is not available");const u=[["relays",...i],["amount",e.toString()]];n&&u.push(["p",n]),r&&u.push(["e",r]);const d={pubkey:await l.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:u,content:t??""};return d.id=N$(d),await l.signEvent(d)}function P$(e){if(typeof e.content!="string"||typeof e.created_at!="number"||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function T$(e){if(!P$(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function N$(e){return bp(Ep(T$(e)))}function A$(e,t){let n,r;var i,s;return t&&e&&(n=(i=e.names)==null?void 0:i[t],r=n?(s=e.relays)==null?void 0:s[n]:void 0),[e,n,r]}const R$=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/,zP=e=>!!e&&R$.test(e),G1=({amount:e,min:t,max:n})=>e>0&&e>=t&&e<=n,I$=async e=>{if(e.tag!=="payRequest")throw new Error("Invalid pay service params");const t=(e.callback+"").trim();if(!zP(t))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(e.minSendable||0)),r=Math.floor(Number(e.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let i,s;try{i=JSON.parse(e.metadata+""),s=bp(Ep(e.metadata+""))}catch{i=[],s=bp(Ep("[]"))}let l="",u="",d="",p="";for(let b=0;b<i.length;b++){const[_,S]=i[b];switch(_){case"text/plain":d=S;break;case"text/identifier":p=S;break;case"text/email":l=S;break;case"image/png;base64":case"image/jpeg;base64":u="data:"+_+","+S}}const g=e.payerData;let m;try{m=new URL(t).hostname}catch{}return{callback:t,fixed:n===r,min:n,max:r,domain:m,metadata:i,metadataHash:s,identifier:p,email:l,description:d,image:u,payerData:g,commentAllowed:Number(e.commentAllowed)||0,rawData:e,allowsNostr:e.allowsNostr||!1}};function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u0.apply(this,arguments)}const L$=async(e,t)=>{const{boost:n}=e;t||(t={});const r=t.webln||globalThis.webln;if(!r)throw new Error("WebLN not available");if(!r.keysend)throw new Error("Keysend not available in current WebLN provider");const i=e.amount||Math.floor(n.value_msat/1e3),s={destination:e.destination,amount:i,customRecords:{7629169:JSON.stringify(n)}};return e.customKey&&e.customValue&&(s.customRecords[e.customKey]=e.customValue),await r.enable(),await r.keysend(s)},O$=/^((?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;class j${constructor(t,n){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=t,this.options={proxy:"https://api.getalby.com/lnurl"},this.options=Object.assign(this.options,n),this.parse(),this.webln=this.options.webln}parse(){const t=O$.exec(this.address.toLowerCase());t&&(this.username=t[1],this.domain=t[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const t=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!t.ok)throw new Error(`Failed to fetch lnurl info: ${t.status} ${t.statusText}`);const n=await t.json();await this.parseLnUrlPayResponse(n.lnurlp),this.parseKeysendResponse(n.keysend),this.parseNostrResponse(n.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const t=await fetch(this.lnurlpUrl());if(t.ok){const n=await t.json();await this.parseLnUrlPayResponse(n)}}async fetchKeysendData(){const t=await fetch(this.keysendUrl());if(t.ok){const n=await t.json();this.parseKeysendResponse(n)}}async fetchNostrData(){const t=await fetch(this.nostrUrl());if(t.ok){const n=await t.json();this.parseNostrResponse(n)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(t){let n;if(this.options.proxy){const s=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(u0({ln:this.address},t)).toString()}`);if(!s.ok)throw new Error(`Failed to generate invoice: ${s.status} ${s.statusText}`);n=(await s.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!zP(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const s=new URL(this.lnurlpData.callback);s.search=new URLSearchParams(t).toString();const l=await fetch(s.toString());if(!l.ok)throw new Error(`Failed to generate invoice: ${l.status} ${l.statusText}`);n=await l.json()}const r=n&&n.pr&&n.pr.toString();if(!r)throw new Error("Invalid pay service invoice");const i={pr:r};if(n&&n.verify&&(i.verify=n.verify.toString()),n&&n.successAction&&typeof n.successAction=="object"){const{tag:s,message:l,description:u,url:d}=n.successAction;s==="message"?i.successAction={tag:s,message:l}:s==="url"&&(i.successAction={tag:s,description:u,url:d})}return new Hw(i)}async requestInvoice(t){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const n=1e3*t.satoshi,{commentAllowed:r,min:i,max:s}=this.lnurlpData;if(!G1({amount:n,min:i,max:s}))throw new Error("Invalid amount");if(t.comment&&r&&r>0&&t.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const l={amount:n.toString()};return t.comment&&(l.comment=t.comment),t.payerdata&&(l.payerdata=JSON.stringify(t.payerdata)),this.generateInvoice(l)}async boost(t,n=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:r,customKey:i,customValue:s}=this.keysendData,l=this.getWebLN();if(!l)throw new Error("WebLN not available");return L$({destination:r,customKey:i,customValue:s,amount:n,boost:t},{webln:l})}async zapInvoice({satoshi:t,comment:n,relays:r,e:i},s={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const l=this.nostrPubkey,u=1e3*t,{allowsNostr:d,min:p,max:g}=this.lnurlpData;if(!G1({amount:u,min:p,max:g}))throw new Error("Invalid amount");if(!d)throw new Error("Your provider does not support zaps");const m=await C$({satoshi:u,comment:n,p:l,e:i,relays:r},s),b={amount:u.toString(),nostr:JSON.stringify(m)};return await this.generateInvoice(b)}async zap(t,n={}){const r=this.zapInvoice(t,n),i=this.getWebLN();if(!i)throw new Error("WebLN not available");return await i.enable(),i.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(t){t&&(this.lnurlpData=await I$(t))}parseKeysendResponse(t){t&&(this.keysendData=k$(t))}parseNostrResponse(t){t&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=A$(t,this.username))}}function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qs.apply(this,arguments)}if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const M$=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function z$(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=M$[e[n]];return t}function ad(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=2*r,s=e.slice(i,i+2),l=Number.parseInt(s,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}class la extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n}}class D$ extends la{}class B$ extends la{}class DP extends la{}let Y1=class extends DP{};class J1 extends DP{}class Q1 extends la{}class X1 extends la{}class Ay extends la{}class F$ extends la{}class U$ extends la{}class bc{static parseWalletConnectUrl(t){t=t.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://").replace("nostrwalletconnect:","http://").replace("nostr+walletconnect:","http://");const n=new URL(t),r=n.searchParams.get("relay");if(!r)throw new Error("No relay URL found in connection string");const i={walletPubkey:n.host,relayUrl:r},s=n.searchParams.get("secret");s&&(i.secret=s);const l=n.searchParams.get("lud16");return l&&(i.lud16=l),i}constructor(t){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,t&&t.nostrWalletConnectUrl&&(t=Qs({},bc.parseWalletConnectUrl(t.nostrWalletConnectUrl),t)),this.options=Qs({},t||{}),this.relayUrl=this.options.relayUrl,this.relay=new YS(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?er.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?er.decode(this.options.walletPubkey).data:this.options.walletPubkey,globalThis.WebSocket===void 0&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(t=!0){let n=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return t&&(n=`${n}&secret=${this.secret}`),n}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return Bo(ad(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error("Missing encryption or version");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(t){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(ni(t,ad(this.secret)))}getEventHash(t){return yd(t)}close(){return this.relay.close()}async encrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await kd.encrypt(this.secret,t,n);else{const i=Ks.getConversationKey(ad(this.secret),t);r=Ks.encrypt(n,i)}return r}async decrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await kd.decrypt(this.secret,t,n);else{const i=Ks.getConversationKey(ad(this.secret),t);r=Ks.decrypt(n,i)}return r}static getAuthorizationUrl(t,n={},r){if(t.indexOf("/#/")>-1)throw new Error("hash router paths not supported");const i=new URL(t);return n.name&&i.searchParams.set("name",n.name),i.searchParams.set("pubkey",r),n.returnTo&&i.searchParams.set("return_to",n.returnTo),n.budgetRenewal&&i.searchParams.set("budget_renewal",n.budgetRenewal),n.expiresAt&&i.searchParams.set("expires_at",Math.floor(n.expiresAt.getTime()/1e3).toString()),n.maxAmount&&i.searchParams.set("max_amount",n.maxAmount.toString()),n.requestMethods&&i.searchParams.set("request_methods",n.requestMethods.join(" ")),n.notificationTypes&&i.searchParams.set("notification_types",n.notificationTypes.join(" ")),n.isolated&&i.searchParams.set("isolated","true"),n.metadata&&i.searchParams.set("metadata",JSON.stringify(n.metadata)),i}static fromAuthorizationUrl(t,n={},r){r=r||z$(Kd()),n.name||(n.name=document.location.host);const i=this.getAuthorizationUrl(t,n,Bo(ad(r))),s=window.outerHeight/2+window.screenY-300,l=window.outerWidth/2+window.screenX-200;return new Promise((u,d)=>{const p=window.open(i.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${s},left=${l}`);if(!p)return void d(new Error("failed to execute window.open"));const g=b=>{const _=b.data;_&&_.type==="nwc:success"&&b.origin===`${i.protocol}//${i.host}`&&(_.relayUrl||d(new Error("no relayUrl in response")),_.walletPubkey||d(new Error("no walletPubkey in response")),u(new bc({relayUrl:_.relayUrl,walletPubkey:_.walletPubkey,secret:r,lud16:_.lud16})),clearInterval(m),window.removeEventListener("message",g),p&&p.close())},m=setInterval(()=>{p&&p.closed&&(clearInterval(m),window.removeEventListener("message",g),d(new Error("Popup closed")))},500);window.addEventListener("message",g)})}async getWalletServiceInfo(){var t;await this._checkConnected();const n=await new Promise((d,p)=>{const g=[],m=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});m.onevent=b=>{g.push(b)},m.oneose=()=>{m.close(),d(g)}});if(!n.length)throw new Error("no info event (kind 13194) returned from relay");const r=n[0].content,i=n[0].tags.find(d=>d[0]==="notifications"),s=n[0].tags.find(d=>d[0]==="v"),l=n[0].tags.find(d=>d[0]==="encryption");let u=["nip04"];return s&&s[1].includes("1.0")&&u.push("nip44_v2"),l&&(u=l[1].split(" ")),{encryptions:u,capabilities:r.split(/[ |,]/g),notifications:(i==null||(t=i[1])==null?void 0:t.split(" "))||[]}}async getInfo(){try{return await this.executeNip47Request("get_info",{},t=>!!t.methods,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_info",t),t}}async getBudget(){try{return await this.executeNip47Request("get_budget",{},t=>t!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_budget",t),t}}async getBalance(){try{return await this.executeNip47Request("get_balance",{},t=>t.balance!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_balance",t),t}}async payInvoice(t){try{return await this.executeNip47Request("pay_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request pay_invoice",n),n}}async payKeysend(t){try{return await this.executeNip47Request("pay_keysend",t,n=>!!n.preimage)}catch(n){throw console.error("Failed to request pay_keysend",n),n}}async signMessage(t){try{return await this.executeNip47Request("sign_message",t,n=>n.message===t.message&&!!n.signature)}catch(n){throw console.error("Failed to request sign_message",n),n}}async createConnection(t){try{return await this.executeNip47Request("create_connection",t,n=>!!n.wallet_pubkey)}catch(n){throw console.error("Failed to request create_connection",n),n}}async multiPayInvoice(t){try{return{invoices:await this.executeMultiNip47Request("multi_pay_invoice",t,t.invoices.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_invoice",n),n}}async multiPayKeysend(t){try{return{keysends:await this.executeMultiNip47Request("multi_pay_keysend",t,t.keysends.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_keysend",n),n}}async makeInvoice(t){try{if(!t.amount)throw new Error("No amount specified");return await this.executeNip47Request("make_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_invoice",n),n}}async makeHoldInvoice(t){try{if(!t.amount)throw new Error("No amount specified");if(!t.payment_hash)throw new Error("No payment hash specified");return await this.executeNip47Request("make_hold_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_hold_invoice",n),n}}async settleHoldInvoice(t){try{return await this.executeNip47Request("settle_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request settle_hold_invoice",n),n}}async cancelHoldInvoice(t){try{return await this.executeNip47Request("cancel_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request cancel_hold_invoice",n),n}}async lookupInvoice(t){try{return await this.executeNip47Request("lookup_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request lookup_invoice",n),n}}async listTransactions(t){try{return await this.executeNip47Request("list_transactions",t,n=>!!n.transactions,{replyTimeout:1e4})}catch(n){throw console.error("Failed to request list_transactions",n),n}}async subscribeNotifications(t,n){var r=this;let i,s,l,u=!0;return async function(){for(;u;){try{await r._checkConnected(),await r._selectEncryptionType(),l=r.relay.subscribe([{kinds:[...r.encryptionType==="nip04"?[23196]:[23197]],authors:[r.walletPubkey],"#p":[r.publicKey]}],{}),console.info("subscribed to relay"),l.onevent=async function(d){const p=await r.decrypt(r.walletPubkey,d.content);let g;try{g=JSON.parse(p)}catch(m){return void console.error("Failed to parse decrypted event content",m)}g.notification?(!n||n.indexOf(g.notification_type)>-1)&&t(g):console.error("No notification in response",g)},await new Promise(d=>{i=()=>{d()},s=()=>{console.info("relay disconnected"),i==null||i()},r.relay.onclose=s}),s!==void 0&&(r.relay.onclose=null)}catch(d){console.error("error subscribing to notifications",d||"unknown relay error")}u&&await new Promise(d=>setTimeout(d,1e3))}}(),()=>{var d;u=!1,i==null||i(),(d=l)==null||d.close()}}async executeNip47Request(t,n,r,i){var s=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((l,u)=>{(async function(){const d={method:t,params:n},p=await s.encrypt(s.walletPubkey,JSON.stringify(d)),g={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",s.walletPubkey],["v",s.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",s.encryptionType]],content:p},m=await s.signEvent(g),b=s.relay.subscribe([{kinds:[23195],authors:[s.walletPubkey],"#e":[m.id]}],{}),_=setTimeout(function(){b.close(),u(new J1(`reply timeout: event ${m.id}`,"INTERNAL"))},(i==null?void 0:i.replyTimeout)||6e4);b.onevent=async function(v){clearTimeout(_),b.close();const E=await s.decrypt(s.walletPubkey,v.content);let k;try{k=JSON.parse(E)}catch{return clearTimeout(_),b.close(),void u(new X1("failed to deserialize response","INTERNAL"))}var N,A;k.result?r(k.result)?l(k.result):(clearTimeout(_),b.close(),u(new Ay("response from NWC failed validation: "+JSON.stringify(k.result),"INTERNAL"))):(clearTimeout(_),b.close(),u(new B$(((N=k.error)==null?void 0:N.message)||"unknown Error",((A=k.error)==null?void 0:A.code)||"INTERNAL")))};const S=setTimeout(function(){b.close(),u(new Y1(`publish timeout: ${m.id}`,"INTERNAL"))},(i==null?void 0:i.publishTimeout)||5e3);try{await s.relay.publish(m),clearTimeout(S)}catch(v){clearTimeout(S),u(new Q1(`failed to publish: ${v}`,"INTERNAL"))}})()})}async executeMultiNip47Request(t,n,r,i,s){var l=this;await this._checkConnected(),await this._selectEncryptionType();const u=[];return new Promise((d,p)=>{(async function(){const g={method:t,params:n},m=await l.encrypt(l.walletPubkey,JSON.stringify(g)),b={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",l.walletPubkey],["v",l.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",l.encryptionType]],content:m},_=await l.signEvent(b),S=l.relay.subscribe([{kinds:[23195],authors:[l.walletPubkey],"#e":[_.id]}],{}),v=setTimeout(function(){S.close(),p(new J1(`reply timeout: event ${_.id}`,"INTERNAL"))},(s==null?void 0:s.replyTimeout)||6e4);S.onevent=async function(k){const N=await l.decrypt(l.walletPubkey,k.content);let A;try{A=JSON.parse(N)}catch{clearTimeout(v),S.close(),p(new X1("failed to deserialize response","INTERNAL"))}if(A.result){var z;if(!i(A.result))return clearTimeout(v),S.close(),void p(new Ay("Response from NWC failed validation: "+JSON.stringify(A.result),"INTERNAL"));const H=(z=k.tags.find(q=>q[0]==="d"))==null?void 0:z[1];if(H===void 0)return clearTimeout(v),S.close(),void p(new Ay("No d tag found in response event","INTERNAL"));u.push(Qs({},A.result,{dTag:H})),u.length===r&&(clearTimeout(v),S.close(),d(u))}else{var D,Z;clearTimeout(v),S.close(),p(new F$((D=A.error)==null?void 0:D.message,(Z=A.error)==null?void 0:Z.code))}};const E=setTimeout(function(){S.close(),p(new Y1(`Publish timeout: ${_.id}`,"INTERNAL"))},(s==null?void 0:s.publishTimeout)||5e3);try{await l.relay.publish(_),clearTimeout(E)}catch(k){clearTimeout(E),p(new Q1(`Failed to publish: ${k}`,"INTERNAL"))}})()})}async _checkConnected(){if(!this.secret)throw new Error("Missing secret key");if(!this.relayUrl)throw new Error("Missing relay url");try{this.relay.connected||await this.relay.connect()}catch{throw console.error("failed to connect to relay",this.relayUrl),new D$("Failed to connect to "+this.relayUrl,"OTHER")}}async _selectEncryptionType(){if(!this._encryptionType){const t=await this.getWalletServiceInfo(),n=this._findPreferredEncryptionType(t.encryptions);if(!n)throw new U$("no compatible encryption or version found between wallet and client","UNSUPPORTED_ENCRYPTION");n==="nip04"&&console.warn("NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead."),this._encryptionType=n}}_findPreferredEncryptionType(t){return t.includes("nip44_v2")?"nip44_v2":t.includes("nip04")?"nip04":null}}class $${constructor(t,n){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=n,this.invoice=new Hw({pr:n.invoice}),this._nwcClient=t}onPaid(t){var n=this;return async function(){let r;try{var i;r=(i=(await n._nwcClient.getInfo()).notifications)==null?void 0:i.includes("payment_received")}catch{console.error("failed to fetch info, falling back to polling")}const s=u=>{n._unsubscribeFunc==null||n._unsubscribeFunc(),t(u)},l=u=>()=>{n._timeoutFunc=void 0,clearTimeout(n._timeoutId),u()};if(r){const u=d=>{d.notification.payment_hash===n.transaction.payment_hash&&s(d.notification)};n._unsubscribeFunc=l(await n._nwcClient.subscribeNotifications(u,["payment_received"]))}else console.warn("current connection does not support notifications, falling back to polling"),n._unsubscribeFunc=l(n._onPaidPollingFallback(s))}(),this}onTimeout(t,n){return this._timeoutFunc=()=>{var r;(r=this._unsubscribeFunc)==null||r.call(this),n()},this._timeoutId=setTimeout(()=>{var r;(r=this._timeoutFunc)==null||r.call(this)},1e3*t),this}unsubscribe(){var t;(t=this._unsubscribeFunc)==null||t.call(this)}_onPaidPollingFallback(t){var n=this;let r=!0;return async function(){for(;r;){const i=await n._nwcClient.lookupInvoice({payment_hash:n.transaction.payment_hash});if(i.settled_at&&i.preimage){t(i),r=!1;break}await new Promise(s=>setTimeout(s,3e3))}}(),()=>{r=!1}}}async function eE(e){if(typeof e=="number")return{satoshi:e,millisat:1e3*e};const t=await Promise.resolve(e.satoshi);return{satoshi:t,millisat:1e3*t}}class Rd{constructor(t){this.nwcClient=void 0,this.nwcClient=typeof t=="string"?new bc({nostrWalletConnectUrl:t}):t instanceof bc?t:new bc(t)}async pay(t,n,r){let i=t;const s=n?await eE(n):void 0;if(i.indexOf("@")>-1){var l,u;if(!s)throw new Error("Amount must be provided when paying to a lightning address");const p=new j$(t);await p.fetch(),i=(await p.requestInvoice({satoshi:s.satoshi,comment:r==null||(l=r.metadata)==null?void 0:l.comment,payerdata:r==null||(u=r.metadata)==null?void 0:u.payer_data})).paymentRequest}const d=await this.nwcClient.payInvoice(Qs({},r||{},{invoice:i,amount:s==null?void 0:s.millisat}));return Qs({},d,{invoice:new Hw({pr:i})})}async requestPayment(t,n){const r=await eE(t),i=await this.nwcClient.makeInvoice(Qs({},n||{},{amount:r.millisat}));return new $$(this.nwcClient,i)}close(){this.nwcClient.close()}}function Z$(){const{toast:e}=Yd(),[t,n]=l0("nwc-connections",[]),[r,i]=l0("nwc-active-connection",null),[s,l]=C.useState({}),u=async(m,b)=>{const S=(E=>{try{return!E.startsWith("nostr+walletconnect://")&&!E.startsWith("nostrwalletconnect://")?(console.error("Invalid NWC URI protocol:",{protocol:E.split("://")[0]}),null):{connectionString:E}}catch(k){return console.error("Failed to parse NWC URI:",k),null}})(m);if(!S)return e({title:"Invalid NWC URI",description:"Please check the connection string and try again.",variant:"destructive"}),!1;if(t.find(E=>E.connectionString===S.connectionString))return e({title:"Connection already exists",description:"This wallet is already connected.",variant:"destructive"}),!1;try{let E;const k=new Promise((D,Z)=>{try{const H=new Rd(S.connectionString);D(H)}catch(H){Z(H)}}),N=new Promise((D,Z)=>{E=setTimeout(()=>Z(new Error("Connection test timeout")),1e4)});try{await Promise.race([k,N]),E&&clearTimeout(E)}catch(D){throw E&&clearTimeout(E),D}const A={connectionString:S.connectionString,alias:b||"NWC Wallet",isConnected:!0};l(D=>({...D,[S.connectionString]:{alias:A.alias,methods:["pay_invoice"]}}));const z=[...t,A];return n(z),(t.length===0||!r)&&i(S.connectionString),e({title:"Wallet connected",description:`Successfully connected to ${A.alias}.`}),!0}catch(E){console.error("NWC connection failed:",E);const k=E instanceof Error?E.message:"Unknown error occurred";return e({title:"Connection failed",description:`Could not connect to the wallet: ${k}`,variant:"destructive"}),!1}},d=m=>{const b=t.filter(_=>_.connectionString!==m);if(n(b),r===m){const _=b.length>0?b[0].connectionString:null;i(_)}l(_=>{const S={..._};return delete S[m],S}),e({title:"Wallet disconnected",description:"The wallet connection has been removed."})},p=C.useCallback(()=>!r&&t.length>0?(i(t[0].connectionString),t[0]):r&&t.find(b=>b.connectionString===r)||null,[r,t,i]),g=C.useCallback(async(m,b)=>{if(!m.connectionString)throw new Error("Invalid connection: missing connection string");let _;try{_=new Rd(m.connectionString)}catch(S){throw console.error("Failed to create NWC client:",S),new Error(`Failed to create NWC client: ${S instanceof Error?S.message:"Unknown error"}`)}try{let S;const v=new Promise((k,N)=>{S=setTimeout(()=>N(new Error("Payment timeout after 15 seconds")),15e3)}),E=_.pay(b);try{const k=await Promise.race([E,v]);return S&&clearTimeout(S),k}catch(k){throw S&&clearTimeout(S),k}}catch(S){throw console.error("NWC payment failed:",S),S instanceof Error?S.message.includes("timeout")?new Error("Payment timed out. Please try again."):S.message.includes("insufficient")?new Error("Insufficient balance in connected wallet."):S.message.includes("invalid")?new Error("Invalid invoice or connection. Please check your wallet."):new Error(`Payment failed: ${S.message}`):new Error("Payment failed with unknown error")}},[]);return{connections:t,activeConnection:r,connectionInfo:s,addConnection:u,removeConnection:d,setActiveConnection:i,getActiveConnection:p,sendPayment:g}}const BP=C.createContext(null);function FP(){const e=C.useContext(BP);if(!e)throw new Error("useNWC must be used within a NWCProvider");return e}function H$({children:e}){const t=Z$();return y.jsx(BP.Provider,{value:t,children:e})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Id.apply(this,arguments)}var Ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ys||(Ys={}));const tE="popstate";function W$(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:l,hash:u}=r.location;return d0("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Sp(i)}return q$(t,n,null,e)}function mn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ww(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function V$(){return Math.random().toString(36).substr(2,8)}function nE(e,t){return{usr:e.state,key:e.key,idx:t}}function d0(e,t,n,r){return n===void 0&&(n=null),Id({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?iu(t):t,{state:n,key:t&&t.key||r||V$()})}function Sp(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function iu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function q$(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u=Ys.Pop,d=null,p=g();p==null&&(p=0,l.replaceState(Id({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function m(){u=Ys.Pop;let E=g(),k=E==null?null:E-p;p=E,d&&d({action:u,location:v.location,delta:k})}function b(E,k){u=Ys.Push;let N=d0(v.location,E,k);p=g()+1;let A=nE(N,p),z=v.createHref(N);try{l.pushState(A,"",z)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(z)}s&&d&&d({action:u,location:v.location,delta:1})}function _(E,k){u=Ys.Replace;let N=d0(v.location,E,k);p=g();let A=nE(N,p),z=v.createHref(N);l.replaceState(A,"",z),s&&d&&d({action:u,location:v.location,delta:0})}function S(E){let k=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof E=="string"?E:Sp(E);return N=N.replace(/ $/,"%20"),mn(k,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,k)}let v={get action(){return u},get location(){return e(i,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(tE,m),d=E,()=>{i.removeEventListener(tE,m),d=null}},createHref(E){return t(i,E)},createURL:S,encodeLocation(E){let k=S(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:_,go(E){return l.go(E)}};return v}var rE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rE||(rE={}));function K$(e,t,n){return n===void 0&&(n="/"),G$(e,t,n)}function G$(e,t,n,r){let i=typeof t=="string"?iu(t):t,s=Vw(i.pathname||"/",n);if(s==null)return null;let l=UP(e);Y$(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=l7(s);u=o7(l[d],p)}return u}function UP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(mn(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=Xs([r,d.relativePath]),g=n.concat(d);s.children&&s.children.length>0&&(mn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),UP(s.children,t,g,p)),!(s.path==null&&!s.index)&&t.push({path:p,score:r7(p,s.index),routesMeta:g})};return e.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of $P(s.path))i(s,l,d)}),t}function $P(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=$P(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function Y$(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:i7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const J$=/^:[\w-]+$/,Q$=3,X$=2,e7=1,t7=10,n7=-2,iE=e=>e==="*";function r7(e,t){let n=e.split("/"),r=n.length;return n.some(iE)&&(r+=n7),t&&(r+=X$),n.filter(i=>!iE(i)).reduce((i,s)=>i+(J$.test(s)?Q$:s===""?e7:t7),r)}function i7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function o7(e,t,n){let{routesMeta:r}=e,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,g=s==="/"?t:t.slice(s.length)||"/",m=s7({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),b=d.route;if(!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Xs([s,m.pathname]),pathnameBase:h7(Xs([s,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(s=Xs([s,m.pathnameBase]))}return l}function s7(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=a7(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,g,m)=>{let{paramName:b,isOptional:_}=g;if(b==="*"){let v=u[m]||"";l=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const S=u[m];return _&&!S?p[b]=void 0:p[b]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:l,pattern:e}}function a7(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ww(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function l7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ww(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const c7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u7=e=>c7.test(e);function d7(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?iu(e):e,s;if(n)if(u7(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Ww(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?s=oE(n.substring(1),"/"):s=oE(n,t)}else s=t;return{pathname:s,search:p7(r),hash:m7(i)}}function oE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ry(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ZP(e,t){let n=f7(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function HP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=iu(e):(i=Id({},e),mn(!i.pathname||!i.pathname.includes("?"),Ry("?","pathname","search",i)),mn(!i.pathname||!i.pathname.includes("#"),Ry("#","pathname","hash",i)),mn(!i.search||!i.search.includes("#"),Ry("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}u=m>=0?t[m]:"/"}let d=d7(i,u),p=l&&l!=="/"&&l.endsWith("/"),g=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}const Xs=e=>e.join("/").replace(/\/\/+/g,"/"),h7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,m7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function g7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const WP=["post","put","patch","delete"];new Set(WP);const y7=["get",...WP];new Set(y7);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ld.apply(this,arguments)}const qw=C.createContext(null),v7=C.createContext(null),ml=C.createContext(null),cm=C.createContext(null),ca=C.createContext({outlet:null,matches:[],isDataRoute:!1}),VP=C.createContext(null);function w7(e,t){let{relative:n}=t===void 0?{}:t;nf()||mn(!1);let{basename:r,navigator:i}=C.useContext(ml),{hash:s,pathname:l,search:u}=GP(e,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:Xs([r,l])),i.createHref({pathname:d,search:u,hash:s})}function nf(){return C.useContext(cm)!=null}function gl(){return nf()||mn(!1),C.useContext(cm).location}function qP(e){C.useContext(ml).static||C.useLayoutEffect(e)}function _7(){let{isDataRoute:e}=C.useContext(ca);return e?L7():x7()}function x7(){nf()||mn(!1);let e=C.useContext(qw),{basename:t,future:n,navigator:r}=C.useContext(ml),{matches:i}=C.useContext(ca),{pathname:s}=gl(),l=JSON.stringify(ZP(i,n.v7_relativeSplatPath)),u=C.useRef(!1);return qP(()=>{u.current=!0}),C.useCallback(function(p,g){if(g===void 0&&(g={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let m=HP(p,JSON.parse(l),s,g.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Xs([t,m.pathname])),(g.replace?r.replace:r.push)(m,g.state,g)},[t,r,l,s,e])}function KP(){let{matches:e}=C.useContext(ca),t=e[e.length-1];return t?t.params:{}}function GP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(ml),{matches:i}=C.useContext(ca),{pathname:s}=gl(),l=JSON.stringify(ZP(i,r.v7_relativeSplatPath));return C.useMemo(()=>HP(e,JSON.parse(l),s,n==="path"),[e,l,s,n])}function b7(e,t){return E7(e,t)}function E7(e,t,n,r){nf()||mn(!1);let{navigator:i}=C.useContext(ml),{matches:s}=C.useContext(ca),l=s[s.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=gl(),g;if(t){var m;let E=typeof t=="string"?iu(t):t;d==="/"||(m=E.pathname)!=null&&m.startsWith(d)||mn(!1),g=E}else g=p;let b=g.pathname||"/",_=b;if(d!=="/"){let E=d.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=K$(e,{pathname:_}),v=T7(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Xs([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Xs([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return t&&v?C.createElement(cm.Provider,{value:{location:Ld({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ys.Pop}},v):v}function S7(){let e=I7(),t=g7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,null)}const k7=C.createElement(S7,null);class C7 extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(ca.Provider,{value:this.props.routeContext},C.createElement(VP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P7(e){let{routeContext:t,match:n,children:r}=e,i=C.useContext(qw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(ca.Provider,{value:t},r)}function T7(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);g>=0||mn(!1),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let m=l[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=g),m.route.id){let{loaderData:b,errors:_}=n,S=m.route.loader&&b[m.route.id]===void 0&&(!_||_[m.route.id]===void 0);if(m.route.lazy||S){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,m,b)=>{let _,S=!1,v=null,E=null;n&&(_=u&&m.route.id?u[m.route.id]:void 0,v=m.route.errorElement||k7,d&&(p<0&&b===0?(O7("route-fallback"),S=!0,E=null):p===b&&(S=!0,E=m.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,b+1)),N=()=>{let A;return _?A=v:S?A=E:m.route.Component?A=C.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=g,C.createElement(P7,{match:m,routeContext:{outlet:g,matches:k,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?C.createElement(C7,{location:n.location,revalidation:n.revalidation,component:v,error:_,children:N(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):N()},null)}var YP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(YP||{}),JP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(JP||{});function N7(e){let t=C.useContext(qw);return t||mn(!1),t}function A7(e){let t=C.useContext(v7);return t||mn(!1),t}function R7(e){let t=C.useContext(ca);return t||mn(!1),t}function QP(e){let t=R7(),n=t.matches[t.matches.length-1];return n.route.id||mn(!1),n.route.id}function I7(){var e;let t=C.useContext(VP),n=A7(),r=QP();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function L7(){let{router:e}=N7(YP.UseNavigateStable),t=QP(JP.UseNavigateStable),n=C.useRef(!1);return qP(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ld({fromRouteId:t},s)))},[e,t])}const sE={};function O7(e,t,n){sE[e]||(sE[e]=!0)}function j7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ko(e){mn(!1)}function M7(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ys.Pop,navigator:s,static:l=!1,future:u}=e;nf()&&mn(!1);let d=t.replace(/^\/*/,"/"),p=C.useMemo(()=>({basename:d,navigator:s,static:l,future:Ld({v7_relativeSplatPath:!1},u)}),[d,u,s,l]);typeof r=="string"&&(r=iu(r));let{pathname:g="/",search:m="",hash:b="",state:_=null,key:S="default"}=r,v=C.useMemo(()=>{let E=Vw(g,d);return E==null?null:{location:{pathname:E,search:m,hash:b,state:_,key:S},navigationType:i}},[d,g,m,b,_,S,i]);return v==null?null:C.createElement(ml.Provider,{value:p},C.createElement(cm.Provider,{children:n,value:v}))}function z7(e){let{children:t,location:n}=e;return b7(f0(t),n)}new Promise(()=>{});function f0(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,i)=>{if(!C.isValidElement(r))return;let s=[...t,i];if(r.type===C.Fragment){n.push.apply(n,f0(r.props.children,s));return}r.type!==ko&&mn(!1),!r.props.index||!r.props.children||mn(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=f0(r.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h0.apply(this,arguments)}function D7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function B7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function F7(e,t){return e.button===0&&(!t||t==="_self")&&!B7(e)}const U7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$7="6";try{window.__reactRouterVersion=$7}catch{}const Z7="startTransition",aE=A0[Z7];function H7(e){let{basename:t,children:n,future:r,window:i}=e,s=C.useRef();s.current==null&&(s.current=W$({window:i,v5Compat:!0}));let l=s.current,[u,d]=C.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},g=C.useCallback(m=>{p&&aE?aE(()=>d(m)):d(m)},[d,p]);return C.useLayoutEffect(()=>l.listen(g),[l,g]),C.useEffect(()=>j7(r),[r]),C.createElement(M7,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const W7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xn=C.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:l,state:u,target:d,to:p,preventScrollReset:g,viewTransition:m}=t,b=D7(t,U7),{basename:_}=C.useContext(ml),S,v=!1;if(typeof p=="string"&&V7.test(p)&&(S=p,W7))try{let A=new URL(window.location.href),z=p.startsWith("//")?new URL(A.protocol+p):new URL(p),D=Vw(z.pathname,_);z.origin===A.origin&&D!=null?p=D+z.search+z.hash:v=!0}catch{}let E=w7(p,{relative:i}),k=q7(p,{replace:l,state:u,target:d,preventScrollReset:g,relative:i,viewTransition:m});function N(A){r&&r(A),A.defaultPrevented||k(A)}return C.createElement("a",h0({},b,{href:S||E,onClick:v||s?r:N,ref:n,target:d}))});var lE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lE||(lE={}));var cE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cE||(cE={}));function q7(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:l,viewTransition:u}=t===void 0?{}:t,d=_7(),p=gl(),g=GP(e,{relative:l});return C.useCallback(m=>{if(F7(m,n)){m.preventDefault();let b=r!==void 0?r:Sp(p)===Sp(g);d(e,{replace:b,state:i,preventScrollReset:s,relative:l,viewTransition:u})}},[p,d,g,r,i,n,e,s,l,u])}function K7(){const{pathname:e}=gl();return C.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const G7=ef("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Nt=C.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const l=r?M6:"button";return y.jsx(l,{className:qe(G7({variant:t,size:n,className:e})),ref:s,...i})});Nt.displayName="Button";const Tn=C.forwardRef(({className:e,type:t,...n},r)=>y.jsx("input",{type:t,className:qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Tn.displayName="Input";var Iy="focusScope.autoFocusOnMount",Ly="focusScope.autoFocusOnUnmount",uE={bubbles:!1,cancelable:!0},Y7="FocusScope",um=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=e,[u,d]=C.useState(null),p=an(i),g=an(s),m=C.useRef(null),b=mt(t,v=>d(v)),_=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let v=function(A){if(_.paused||!u)return;const z=A.target;u.contains(z)?m.current=z:Ms(m.current,{select:!0})},E=function(A){if(_.paused||!u)return;const z=A.relatedTarget;z!==null&&(u.contains(z)||Ms(m.current,{select:!0}))},k=function(A){if(document.activeElement===document.body)for(const D of A)D.removedNodes.length>0&&Ms(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const N=new MutationObserver(k);return u&&N.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),N.disconnect()}}},[r,u,_.paused]),C.useEffect(()=>{if(u){fE.add(_);const v=document.activeElement;if(!u.contains(v)){const k=new CustomEvent(Iy,uE);u.addEventListener(Iy,p),u.dispatchEvent(k),k.defaultPrevented||(J7(n9(XP(u)),{select:!0}),document.activeElement===v&&Ms(u))}return()=>{u.removeEventListener(Iy,p),setTimeout(()=>{const k=new CustomEvent(Ly,uE);u.addEventListener(Ly,g),u.dispatchEvent(k),k.defaultPrevented||Ms(v??document.body,{select:!0}),u.removeEventListener(Ly,g),fE.remove(_)},0)}}},[u,p,g,_]);const S=C.useCallback(v=>{if(!n&&!r||_.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(E&&k){const N=v.currentTarget,[A,z]=Q7(N);A&&z?!v.shiftKey&&k===z?(v.preventDefault(),n&&Ms(A,{select:!0})):v.shiftKey&&k===A&&(v.preventDefault(),n&&Ms(z,{select:!0})):k===N&&v.preventDefault()}},[n,r,_.paused]);return y.jsx(Ye.div,{tabIndex:-1,...l,ref:b,onKeyDown:S})});um.displayName=Y7;function J7(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ms(r,{select:t}),document.activeElement!==n)return}function Q7(e){const t=XP(e),n=dE(t,e),r=dE(t.reverse(),e);return[n,r]}function XP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dE(e,t){for(const n of e)if(!X7(n,{upTo:t}))return n}function X7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function e9(e){return e instanceof HTMLInputElement&&"select"in e}function Ms(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&e9(e)&&t&&e.select()}}var fE=t9();function t9(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=hE(e,t),e.unshift(t)},remove(t){var n;e=hE(e,t),(n=e[0])==null||n.resume()}}}function hE(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function n9(e){return e.filter(t=>t.tagName!=="A")}var Oy=0;function Kw(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??pE()),document.body.insertAdjacentElement("beforeend",e[1]??pE()),Oy++,()=>{Oy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Oy--}},[])}function pE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qi=function(){return qi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qi.apply(this,arguments)};function eT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function r9(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Xh="right-scroll-bar-position",ep="width-before-scroll-bar",i9="with-scroll-bars-hidden",o9="--removed-body-scroll-bar-size";function jy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function s9(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var a9=typeof window<"u"?C.useLayoutEffect:C.useEffect,mE=new WeakMap;function l9(e,t){var n=s9(null,function(r){return e.forEach(function(i){return jy(i,r)})});return a9(function(){var r=mE.get(n);if(r){var i=new Set(r),s=new Set(e),l=n.current;i.forEach(function(u){s.has(u)||jy(u,null)}),s.forEach(function(u){i.has(u)||jy(u,l)})}mE.set(n,e)},[e]),n}function c9(e){return e}function u9(e,t){t===void 0&&(t=c9);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var l=t(s,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(s){for(r=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(u){return s(u)},filter:function(){return n}}},assignMedium:function(s){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(s),l=n}var d=function(){var g=l;l=[],g.forEach(s)},p=function(){return Promise.resolve().then(d)};p(),n={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),n}}}};return i}function d9(e){e===void 0&&(e={});var t=u9(null);return t.options=qi({async:!0,ssr:!1},e),t}var tT=function(e){var t=e.sideCar,n=eT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,qi({},n))};tT.isSideCarExport=!0;function f9(e,t){return e.useMedium(t),tT}var nT=d9(),My=function(){},dm=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:My,onWheelCapture:My,onTouchMoveCapture:My}),i=r[0],s=r[1],l=e.forwardProps,u=e.children,d=e.className,p=e.removeScrollBar,g=e.enabled,m=e.shards,b=e.sideCar,_=e.noIsolation,S=e.inert,v=e.allowPinchZoom,E=e.as,k=E===void 0?"div":E,N=e.gapMode,A=eT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=b,D=l9([n,t]),Z=qi(qi({},A),i);return C.createElement(C.Fragment,null,g&&C.createElement(z,{sideCar:nT,removeScrollBar:p,shards:m,noIsolation:_,inert:S,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:N}),l?C.cloneElement(C.Children.only(u),qi(qi({},Z),{ref:D})):C.createElement(k,qi({},Z,{className:d,ref:D}),u))});dm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dm.classNames={fullWidth:ep,zeroRight:Xh};var h9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function p9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=h9();return t&&e.setAttribute("nonce",t),e}function m9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function g9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var y9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=p9())&&(m9(t,n),g9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},v9=function(){var e=y9();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},rT=function(){var e=v9(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},w9={left:0,top:0,right:0,gap:0},zy=function(e){return parseInt(e||"",10)||0},_9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[zy(n),zy(r),zy(i)]},x9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return w9;var t=_9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},b9=rT(),Ec="data-scroll-locked",E9=function(e,t,n,r){var i=e.left,s=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(i9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ec,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ep,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Xh," .").concat(Xh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ep," .").concat(ep,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ec,`] {
    `).concat(o9,": ").concat(u,`px;
  }
`)},gE=function(){var e=parseInt(document.body.getAttribute(Ec)||"0",10);return isFinite(e)?e:0},S9=function(){C.useEffect(function(){return document.body.setAttribute(Ec,(gE()+1).toString()),function(){var e=gE()-1;e<=0?document.body.removeAttribute(Ec):document.body.setAttribute(Ec,e.toString())}},[])},k9=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;S9();var s=C.useMemo(function(){return x9(i)},[i]);return C.createElement(b9,{styles:E9(s,!t,i,n?"":"!important")})},p0=!1;if(typeof window<"u")try{var Uh=Object.defineProperty({},"passive",{get:function(){return p0=!0,!0}});window.addEventListener("test",Uh,Uh),window.removeEventListener("test",Uh,Uh)}catch{p0=!1}var cc=p0?{passive:!1}:!1,C9=function(e){return e.tagName==="TEXTAREA"},iT=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!C9(e)&&n[t]==="visible")},P9=function(e){return iT(e,"overflowY")},T9=function(e){return iT(e,"overflowX")},yE=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=oT(e,r);if(i){var s=sT(e,r),l=s[1],u=s[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},N9=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},A9=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},oT=function(e,t){return e==="v"?P9(t):T9(t)},sT=function(e,t){return e==="v"?N9(t):A9(t)},R9=function(e,t){return e==="h"&&t==="rtl"?-1:1},I9=function(e,t,n,r,i){var s=R9(e,window.getComputedStyle(t).direction),l=s*r,u=n.target,d=t.contains(u),p=!1,g=l>0,m=0,b=0;do{var _=sT(e,u),S=_[0],v=_[1],E=_[2],k=v-E-s*S;(S||k)&&oT(e,u)&&(m+=k,b+=S),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(g&&Math.abs(m)<1||!g&&Math.abs(b)<1)&&(p=!0),p},$h=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vE=function(e){return[e.deltaX,e.deltaY]},wE=function(e){return e&&"current"in e?e.current:e},L9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},O9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},j9=0,uc=[];function M9(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(j9++)[0],s=C.useState(rT)[0],l=C.useRef(e);C.useEffect(function(){l.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=r9([e.lockRef.current],(e.shards||[]).map(wE),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=C.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var k=$h(v),N=n.current,A="deltaX"in v?v.deltaX:N[0]-k[0],z="deltaY"in v?v.deltaY:N[1]-k[1],D,Z=v.target,H=Math.abs(A)>Math.abs(z)?"h":"v";if("touches"in v&&H==="h"&&Z.type==="range")return!1;var q=yE(H,Z);if(!q)return!0;if(q?D=H:(D=H==="v"?"h":"v",q=yE(H,Z)),!q)return!1;if(!r.current&&"changedTouches"in v&&(A||z)&&(r.current=D),!D)return!0;var F=r.current||D;return I9(F,E,v,F==="h"?A:z)},[]),d=C.useCallback(function(v){var E=v;if(!(!uc.length||uc[uc.length-1]!==s)){var k="deltaY"in E?vE(E):$h(E),N=t.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&L9(D.delta,k)})[0];if(N&&N.should){E.cancelable&&E.preventDefault();return}if(!N){var A=(l.current.shards||[]).map(wE).filter(Boolean).filter(function(D){return D.contains(E.target)}),z=A.length>0?u(E,A[0]):!l.current.noIsolation;z&&E.cancelable&&E.preventDefault()}}},[]),p=C.useCallback(function(v,E,k,N){var A={name:v,delta:E,target:k,should:N,shadowParent:z9(k)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(z){return z!==A})},1)},[]),g=C.useCallback(function(v){n.current=$h(v),r.current=void 0},[]),m=C.useCallback(function(v){p(v.type,vE(v),v.target,u(v,e.lockRef.current))},[]),b=C.useCallback(function(v){p(v.type,$h(v),v.target,u(v,e.lockRef.current))},[]);C.useEffect(function(){return uc.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:b}),document.addEventListener("wheel",d,cc),document.addEventListener("touchmove",d,cc),document.addEventListener("touchstart",g,cc),function(){uc=uc.filter(function(v){return v!==s}),document.removeEventListener("wheel",d,cc),document.removeEventListener("touchmove",d,cc),document.removeEventListener("touchstart",g,cc)}},[]);var _=e.removeScrollBar,S=e.inert;return C.createElement(C.Fragment,null,S?C.createElement(s,{styles:O9(i)}):null,_?C.createElement(k9,{gapMode:e.gapMode}):null)}function z9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const D9=f9(nT,M9);var fm=C.forwardRef(function(e,t){return C.createElement(dm,qi({},e,{ref:t,sideCar:D9}))});fm.classNames=dm.classNames;var B9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},dc=new WeakMap,Zh=new WeakMap,Hh={},Dy=0,aT=function(e){return e&&(e.host||aT(e.parentNode))},F9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=aT(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},U9=function(e,t,n,r){var i=F9(t,Array.isArray(e)?e:[e]);Hh[n]||(Hh[n]=new WeakMap);var s=Hh[n],l=[],u=new Set,d=new Set(i),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};i.forEach(p);var g=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(b){if(u.has(b))g(b);else try{var _=b.getAttribute(r),S=_!==null&&_!=="false",v=(dc.get(b)||0)+1,E=(s.get(b)||0)+1;dc.set(b,v),s.set(b,E),l.push(b),v===1&&S&&Zh.set(b,!0),E===1&&b.setAttribute(n,"true"),S||b.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",b,k)}})};return g(t),u.clear(),Dy++,function(){l.forEach(function(m){var b=dc.get(m)-1,_=s.get(m)-1;dc.set(m,b),s.set(m,_),b||(Zh.has(m)||m.removeAttribute(r),Zh.delete(m)),_||m.removeAttribute(n)}),Dy--,Dy||(dc=new WeakMap,dc=new WeakMap,Zh=new WeakMap,Hh={})}},Gw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=B9(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),U9(r,i,n,"aria-hidden")):function(){return null}},hm="Dialog",[lT,aK]=$n(hm),[$9,ki]=lT(hm),cT=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,u=C.useRef(null),d=C.useRef(null),[p,g]=bi({prop:r,defaultProp:i??!1,onChange:s,caller:hm});return y.jsx($9,{scope:t,triggerRef:u,contentRef:d,contentId:ei(),titleId:ei(),descriptionId:ei(),open:p,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(m=>!m),[g]),modal:l,children:n})};cT.displayName=hm;var uT="DialogTrigger",Z9=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(uT,n),s=mt(t,i.triggerRef);return y.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Xw(i.open),...r,ref:s,onClick:Ue(e.onClick,i.onOpenToggle)})});Z9.displayName=uT;var Yw="DialogPortal",[H9,dT]=lT(Yw,{forceMount:void 0}),fT=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=ki(Yw,t);return y.jsx(H9,{scope:t,forceMount:n,children:C.Children.map(r,l=>y.jsx(Zn,{present:n||s.open,children:y.jsx(Qd,{asChild:!0,container:i,children:l})}))})};fT.displayName=Yw;var kp="DialogOverlay",hT=C.forwardRef((e,t)=>{const n=dT(kp,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=ki(kp,e.__scopeDialog);return s.modal?y.jsx(Zn,{present:r||s.open,children:y.jsx(V9,{...i,ref:t})}):null});hT.displayName=kp;var W9=ll("DialogOverlay.RemoveScroll"),V9=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(kp,n);return y.jsx(fm,{as:W9,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(Ye.div,{"data-state":Xw(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ul="DialogContent",pT=C.forwardRef((e,t)=>{const n=dT(ul,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=ki(ul,e.__scopeDialog);return y.jsx(Zn,{present:r||s.open,children:s.modal?y.jsx(q9,{...i,ref:t}):y.jsx(K9,{...i,ref:t})})});pT.displayName=ul;var q9=C.forwardRef((e,t)=>{const n=ki(ul,e.__scopeDialog),r=C.useRef(null),i=mt(t,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return Gw(s)},[]),y.jsx(mT,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&s.preventDefault()}),onFocusOutside:Ue(e.onFocusOutside,s=>s.preventDefault())})}),K9=C.forwardRef((e,t)=>{const n=ki(ul,e.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return y.jsx(mT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var d,p;(d=e.onInteractOutside)==null||d.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((p=n.triggerRef.current)==null?void 0:p.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),mT=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=e,u=ki(ul,n),d=C.useRef(null),p=mt(t,d);return Kw(),y.jsxs(y.Fragment,{children:[y.jsx(um,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:y.jsx(Xc,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Xw(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(G9,{titleId:u.titleId}),y.jsx(J9,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Jw="DialogTitle",Qw=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(Jw,n);return y.jsx(Ye.h2,{id:i.titleId,...r,ref:t})});Qw.displayName=Jw;var gT="DialogDescription",yT=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(gT,n);return y.jsx(Ye.p,{id:i.descriptionId,...r,ref:t})});yT.displayName=gT;var vT="DialogClose",wT=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(vT,n);return y.jsx(Ye.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,()=>i.onOpenChange(!1))})});wT.displayName=vT;function Xw(e){return e?"open":"closed"}var _T="DialogTitleWarning",[lK,xT]=O6(_T,{contentName:ul,titleName:Jw,docsSlug:"dialog"}),G9=({titleId:e})=>{const t=xT(_T),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Y9="DialogDescriptionWarning",J9=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xT(Y9).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Q9=cT,X9=fT,bT=hT,ET=pT,ST=Qw,kT=yT,eZ=wT;const pm=Q9,tZ=X9,CT=C.forwardRef(({className:e,...t},n)=>y.jsx(bT,{ref:n,className:qe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));CT.displayName=bT.displayName;const rf=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(tZ,{children:[y.jsx(CT,{}),y.jsxs(ET,{ref:r,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,y.jsxs(eZ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[y.jsx(GC,{className:"size-5"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rf.displayName=ET.displayName;const of=({className:e,...t})=>y.jsx("div",{className:qe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});of.displayName="DialogHeader";const mm=C.forwardRef(({className:e,...t},n)=>y.jsx(ST,{ref:n,className:qe("text-lg font-semibold leading-none tracking-tight",e),...t}));mm.displayName=ST.displayName;const e_=C.forwardRef(({className:e,...t},n)=>y.jsx(kT,{ref:n,className:qe("text-sm text-muted-foreground",e),...t}));e_.displayName=kT.displayName;var nZ=C.createContext(void 0);function ou(e){const t=C.useContext(nZ);return e||t||"ltr"}var By="rovingFocusGroup.onEntryFocus",rZ={bubbles:!1,cancelable:!0},sf="RovingFocusGroup",[m0,PT,iZ]=Jd(sf),[oZ,gm]=$n(sf,[iZ]),[sZ,aZ]=oZ(sf),TT=C.forwardRef((e,t)=>y.jsx(m0.Provider,{scope:e.__scopeRovingFocusGroup,children:y.jsx(m0.Slot,{scope:e.__scopeRovingFocusGroup,children:y.jsx(lZ,{...e,ref:t})})}));TT.displayName=sf;var lZ=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=e,b=C.useRef(null),_=mt(t,b),S=ou(s),[v,E]=bi({prop:l,defaultProp:u??null,onChange:d,caller:sf}),[k,N]=C.useState(!1),A=an(p),z=PT(n),D=C.useRef(!1),[Z,H]=C.useState(0);return C.useEffect(()=>{const q=b.current;if(q)return q.addEventListener(By,A),()=>q.removeEventListener(By,A)},[A]),y.jsx(sZ,{scope:n,orientation:r,dir:S,loop:i,currentTabStopId:v,onItemFocus:C.useCallback(q=>E(q),[E]),onItemShiftTab:C.useCallback(()=>N(!0),[]),onFocusableItemAdd:C.useCallback(()=>H(q=>q+1),[]),onFocusableItemRemove:C.useCallback(()=>H(q=>q-1),[]),children:y.jsx(Ye.div,{tabIndex:k||Z===0?-1:0,"data-orientation":r,...m,ref:_,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{D.current=!0}),onFocus:Ue(e.onFocus,q=>{const F=!D.current;if(q.target===q.currentTarget&&F&&!k){const W=new CustomEvent(By,rZ);if(q.currentTarget.dispatchEvent(W),!W.defaultPrevented){const J=z().filter(se=>se.focusable),U=J.find(se=>se.active),X=J.find(se=>se.id===v),K=[U,X,...J].filter(Boolean).map(se=>se.ref.current);RT(K,g)}}D.current=!1}),onBlur:Ue(e.onBlur,()=>N(!1))})})}),NT="RovingFocusGroupItem",AT=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:l,...u}=e,d=ei(),p=s||d,g=aZ(NT,n),m=g.currentTabStopId===p,b=PT(n),{onFocusableItemAdd:_,onFocusableItemRemove:S,currentTabStopId:v}=g;return C.useEffect(()=>{if(r)return _(),()=>S()},[r,_,S]),y.jsx(m0.ItemSlot,{scope:n,id:p,focusable:r,active:i,children:y.jsx(Ye.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:Ue(e.onMouseDown,E=>{r?g.onItemFocus(p):E.preventDefault()}),onFocus:Ue(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:Ue(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const k=dZ(E,g.orientation,g.dir);if(k!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let A=b().filter(z=>z.focusable).map(z=>z.ref.current);if(k==="last")A.reverse();else if(k==="prev"||k==="next"){k==="prev"&&A.reverse();const z=A.indexOf(E.currentTarget);A=g.loop?fZ(A,z+1):A.slice(z+1)}setTimeout(()=>RT(A))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:v!=null}):l})})});AT.displayName=NT;var cZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uZ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dZ(e,t,n){const r=uZ(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cZ[r]}function RT(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function fZ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var IT=TT,LT=AT,ym="Tabs",[hZ,cK]=$n(ym,[gm]),OT=gm(),[pZ,t_]=hZ(ym),jT=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:l="horizontal",dir:u,activationMode:d="automatic",...p}=e,g=ou(u),[m,b]=bi({prop:r,onChange:i,defaultProp:s??"",caller:ym});return y.jsx(pZ,{scope:n,baseId:ei(),value:m,onValueChange:b,orientation:l,dir:g,activationMode:d,children:y.jsx(Ye.div,{dir:g,"data-orientation":l,...p,ref:t})})});jT.displayName=ym;var MT="TabsList",zT=C.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=t_(MT,n),l=OT(n);return y.jsx(IT,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:r,children:y.jsx(Ye.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});zT.displayName=MT;var DT="TabsTrigger",BT=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,l=t_(DT,n),u=OT(n),d=$T(l.baseId,r),p=ZT(l.baseId,r),g=r===l.value;return y.jsx(LT,{asChild:!0,...u,focusable:!i,active:g,children:y.jsx(Ye.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...s,ref:t,onMouseDown:Ue(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?l.onValueChange(r):m.preventDefault()}),onKeyDown:Ue(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(r)}),onFocus:Ue(e.onFocus,()=>{const m=l.activationMode!=="manual";!g&&!i&&m&&l.onValueChange(r)})})})});BT.displayName=DT;var FT="TabsContent",UT=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...l}=e,u=t_(FT,n),d=$T(u.baseId,r),p=ZT(u.baseId,r),g=r===u.value,m=C.useRef(g);return C.useEffect(()=>{const b=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(b)},[]),y.jsx(Zn,{present:i||g,children:({present:b})=>y.jsx(Ye.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!b,id:p,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:b&&s})})});UT.displayName=FT;function $T(e,t){return`${e}-trigger-${t}`}function ZT(e,t){return`${e}-content-${t}`}var mZ=jT,HT=zT,WT=BT,VT=UT;const gZ=mZ,qT=C.forwardRef(({className:e,...t},n)=>y.jsx(HT,{ref:n,className:qe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qT.displayName=HT.displayName;const g0=C.forwardRef(({className:e,...t},n)=>y.jsx(WT,{ref:n,className:qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));g0.displayName=WT.displayName;const y0=C.forwardRef(({className:e,...t},n)=>y.jsx(VT,{ref:n,className:qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));y0.displayName=VT.displayName;const yZ=ef("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),KT=C.forwardRef(({className:e,variant:t,...n},r)=>y.jsx("div",{ref:r,role:"alert",className:qe(yZ({variant:t}),e),...n}));KT.displayName="Alert";const vZ=C.forwardRef(({className:e,...t},n)=>y.jsx("h5",{ref:n,className:qe("mb-1 font-medium leading-none tracking-tight",e),...t}));vZ.displayName="AlertTitle";const GT=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:qe("text-sm [&_p]:leading-relaxed",e),...t}));GT.displayName="AlertDescription";var vm="Collapsible",[wZ,uK]=$n(vm),[_Z,n_]=wZ(vm),YT=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:l,...u}=e,[d,p]=bi({prop:r,defaultProp:i??!1,onChange:l,caller:vm});return y.jsx(_Z,{scope:n,disabled:s,contentId:ei(),open:d,onOpenToggle:C.useCallback(()=>p(g=>!g),[p]),children:y.jsx(Ye.div,{"data-state":i_(d),"data-disabled":s?"":void 0,...u,ref:t})})});YT.displayName=vm;var JT="CollapsibleTrigger",QT=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=n_(JT,n);return y.jsx(Ye.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":i_(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:Ue(e.onClick,i.onOpenToggle)})});QT.displayName=JT;var r_="CollapsibleContent",XT=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=n_(r_,e.__scopeCollapsible);return y.jsx(Zn,{present:n||i.open,children:({present:s})=>y.jsx(xZ,{...r,ref:t,present:s})})});XT.displayName=r_;var xZ=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,l=n_(r_,n),[u,d]=C.useState(r),p=C.useRef(null),g=mt(t,p),m=C.useRef(0),b=m.current,_=C.useRef(0),S=_.current,v=l.open||u,E=C.useRef(v),k=C.useRef(void 0);return C.useEffect(()=>{const N=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(N)},[]),cn(()=>{const N=p.current;if(N){k.current=k.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const A=N.getBoundingClientRect();m.current=A.height,_.current=A.width,E.current||(N.style.transitionDuration=k.current.transitionDuration,N.style.animationName=k.current.animationName),d(r)}},[l.open,r]),y.jsx(Ye.div,{"data-state":i_(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...s,ref:g,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style},children:v&&i})});function i_(e){return e?"open":"closed"}var bZ=YT;const EZ=bZ,SZ=QT,kZ=XT;function eN(){const{nostr:e}=Ir(),{logins:t,addLogin:n,removeLogin:r}=bw();return{nsec(i){const s=tl.fromNsec(i);n(s)},async bunker(i){const s=await tl.fromBunker(i,e);n(s)},async extension(){const i=await tl.fromExtension();n(i)},async logout(){const i=t[0];i&&r(i.id)}}}const _E=e=>/^nsec1[a-zA-Z0-9]{58}$/.test(e),CZ=e=>e.startsWith("bunker://"),PZ=({isOpen:e,onClose:t,onLogin:n})=>{const[r,i]=C.useState(!1),[s,l]=C.useState(!1),[u,d]=C.useState(""),[p,g]=C.useState(""),[m,b]=C.useState({}),_=C.useRef(null),S=eN();C.useEffect(()=>{e&&(i(!1),l(!1),d(""),g(""),b({}),_.current&&(_.current.value=""))},[e]);const v=async()=>{i(!0),b(q=>({...q,extension:void 0}));try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");await S.extension(),n(),t()}catch(q){const F=q;console.error("Bunker login failed:",F),console.error("Nsec login failed:",F),console.error("Extension login failed:",F),b(W=>({...W,extension:F instanceof Error?F.message:"Extension login failed"}))}finally{i(!1)}},E=q=>{i(!0),b({}),setTimeout(()=>{try{S.nsec(q),n(),t()}catch{b({nsec:"Failed to login with this key. Please check that it's correct."}),i(!1)}},50)},k=()=>{if(!u.trim()){b(q=>({...q,nsec:"Please enter your secret key"}));return}if(!_E(u)){b(q=>({...q,nsec:"Invalid secret key format. Must be a valid nsec starting with nsec1."}));return}E(u)},N=async()=>{if(!p.trim()){b(q=>({...q,bunker:"Please enter a bunker URI"}));return}if(!CZ(p)){b(q=>({...q,bunker:"Invalid bunker URI format. Must start with bunker://"}));return}i(!0),b(q=>({...q,bunker:void 0}));try{await S.bunker(p),n(),t(),g("")}catch{b(q=>({...q,bunker:"Failed to connect to bunker. Please check the URI."}))}finally{i(!1)}},A=q=>{var J;const F=(J=q.target.files)==null?void 0:J[0];if(!F)return;l(!0),b({});const W=new FileReader;W.onload=U=>{var O;l(!1);const X=(O=U.target)==null?void 0:O.result;if(X){const K=X.trim();_E(K)?E(K):b({file:"File does not contain a valid secret key."})}else b({file:"Could not read file content."})},W.onerror=()=>{l(!1),b({file:"Failed to read file."})},W.readAsText(F)},z="nostr"in window,[D,Z]=C.useState(!1),H=()=>y.jsxs(gZ,{defaultValue:"key",className:"w-full",children:[y.jsxs(qT,{className:"grid w-full grid-cols-2 bg-muted/80 rounded-lg mb-4",children:[y.jsx(g0,{value:"key",className:"flex items-center gap-2",children:y.jsx("span",{children:"Secret Key"})}),y.jsx(g0,{value:"bunker",className:"flex items-center gap-2",children:y.jsx("span",{children:"Remote Signer"})})]}),y.jsx(y0,{value:"key",className:"space-y-4",children:y.jsxs("form",{onSubmit:q=>{q.preventDefault(),k()},className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Tn,{id:"nsec",type:"password",value:u,onChange:q=>{d(q.target.value),m.nsec&&b(F=>({...F,nsec:void 0}))},className:`rounded-lg ${m.nsec?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:"nsec1...",autoComplete:"off"}),m.nsec&&y.jsx("p",{className:"text-sm text-red-500",children:m.nsec})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(Nt,{type:"submit",size:"lg",disabled:r||!u.trim(),className:"flex-1",children:r?"Verifying...":"Log in"}),y.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:_,onChange:A}),y.jsx(Nt,{type:"button",variant:"outline",size:"lg",onClick:()=>{var q;return(q=_.current)==null?void 0:q.click()},disabled:r||s,className:"px-3",children:y.jsx(KC,{className:"w-4 h-4"})})]}),m.file&&y.jsx("p",{className:"text-sm text-red-500 text-center",children:m.file})]})}),y.jsx(y0,{value:"bunker",className:"space-y-4",children:y.jsxs("form",{onSubmit:q=>{q.preventDefault(),N()},className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Tn,{id:"bunkerUri",value:p,onChange:q=>{g(q.target.value),m.bunker&&b(F=>({...F,bunker:void 0}))},className:`rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary ${m.bunker?"border-red-500":""}`,placeholder:"bunker://",autoComplete:"off"}),m.bunker&&y.jsx("p",{className:"text-sm text-red-500",children:m.bunker})]}),y.jsx(Nt,{type:"submit",size:"lg",className:"w-full",disabled:r||!p.trim(),children:r?"Connecting...":"Log in"})]})})]});return y.jsx(pm,{open:e,onOpenChange:t,children:y.jsxs(rf,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[y.jsx(of,{className:"px-6 pt-6",children:y.jsx(Qw,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:"Log in"})}),y.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),y.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto",children:[z&&y.jsxs("div",{className:"space-y-4",children:[m.extension&&y.jsxs(KT,{variant:"destructive",children:[y.jsx(Pw,{className:"h-4 w-4"}),y.jsx(GT,{children:m.extension})]}),y.jsx(Nt,{className:"w-full h-12 px-9",onClick:v,disabled:r,children:r?"Logging in...":"Log in with Extension"})]}),z?y.jsxs(EZ,{className:"space-y-4",open:D,onOpenChange:Z,children:[y.jsx(SZ,{asChild:!0,children:y.jsxs("button",{className:"w-full flex items-center justify-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[y.jsx("span",{children:"More Options"}),y.jsx(nm,{className:`w-4 h-4 transition-transform ${D?"rotate-180":""}`})]})}),y.jsx(kZ,{children:H()})]}):H()]})]})})},wm=C.forwardRef(({className:e,...t},n)=>y.jsx("textarea",{className:qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));wm.displayName="Textarea";function o_(){const{nostr:e}=Ir(),{user:t}=pl();return M0({mutationFn:async n=>{if(t){const r=n.tags??[];location.protocol==="https:"&&!r.some(([s])=>s==="client")&&r.push(["client",location.hostname]);const i=await t.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await e.event(i,{signal:AbortSignal.timeout(5e3)}),i}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}class s_{constructor(t){He(this,"servers");He(this,"signer");He(this,"fetch");He(this,"expiresIn");this.servers=t.servers,this.signer=t.signer,this.fetch=t.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=t.expiresIn??6e4}async upload(t,n){const r=await crypto.subtle.digest("SHA-256",await t.arrayBuffer()),i=d6(new Uint8Array(r)),s=Date.now(),l=s+this.expiresIn,u=await this.signer.signEvent({kind:24242,content:`Upload ${t.name}`,created_at:Math.floor(s/1e3),tags:[["t","upload"],["x",i],["size",t.size.toString()],["expiration",Math.floor(l/1e3).toString()]]}),d=`Nostr ${y6.encodeEvent(u)}`;return Promise.any(this.servers.map(async p=>{const g=new URL("/upload",p),b=await(await this.fetch(g,{method:"PUT",body:t,headers:{authorization:d,"content-type":t.type},signal:n==null?void 0:n.signal})).json(),_=s_.schema().parse(b),S=[["url",_.url],["x",_.sha256],["ox",_.sha256],["size",_.size.toString()]];return _.type&&S.push(["m",_.type]),S}))}static schema(){return jo({url:Ot(),sha256:Ot(),size:Co(),type:Ot().optional()})}}function tN(){const{user:e}=pl();return M0({mutationFn:async t=>{if(!e)throw new Error("Must be logged in to upload files");return await new s_({servers:["https://blossom.primal.net/"],signer:e.signer}).upload(t)}})}const TZ=({isOpen:e,onClose:t})=>{const[n,r]=C.useState("generate"),[i,s]=C.useState(""),[l,u]=C.useState(!1),[d,p]=C.useState({name:"",about:"",picture:""}),g=eN(),{mutateAsync:m,isPending:b}=o_(),{mutateAsync:_,isPending:S}=tN(),v=C.useRef(null),E=()=>{const D=Kd();s(er.nsecEncode(D)),r("download")},k=()=>{try{const D=new Blob([i],{type:"text/plain; charset=utf-8"}),Z=globalThis.URL.createObjectURL(D),H=er.decode(i);if(H.type!=="nsec")throw new Error("Invalid nsec key");const q=Bo(H.data),F=er.npubEncode(q),W=`nostr-${location.hostname.replaceAll(/\./g,"-")}-${F.slice(5,9)}.nsec.txt`,J=document.createElement("a");J.href=Z,J.download=W,J.style.display="none",document.body.appendChild(J),J.click(),globalThis.URL.revokeObjectURL(Z),document.body.removeChild(J),g.nsec(i),r("profile")}catch{pc({title:"Download failed",description:"Could not download the key file. Please copy it manually.",variant:"destructive"})}},N=async D=>{var H,q;const Z=(H=D.target.files)==null?void 0:H[0];if(Z){if(D.target.value="",!Z.type.startsWith("image/")){pc({title:"Invalid file type",description:"Please select an image file for your avatar.",variant:"destructive"});return}if(Z.size>5*1024*1024){pc({title:"File too large",description:"Avatar image must be smaller than 5MB.",variant:"destructive"});return}try{const W=(q=(await _(Z))[0])==null?void 0:q[1];W&&p(J=>({...J,picture:W}))}catch{pc({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}}},A=async(D=!1)=>{try{if(!D&&(d.name||d.about||d.picture)){const Z={};d.name&&(Z.name=d.name),d.about&&(Z.about=d.about),d.picture&&(Z.picture=d.picture),await m({kind:0,content:JSON.stringify(Z)})}}catch{pc({title:"Profile Setup Failed",description:"Your account was created but profile setup failed. You can update it later.",variant:"destructive"})}finally{t()}},z=()=>{if(n==="generate")return"Sign up";if(n==="download")return"Secret Key";if(n==="profile")return"Create Your Profile"};return C.useEffect(()=>{e&&(r("generate"),s(""),u(!1),p({name:"",about:"",picture:""}))},[e]),y.jsx(pm,{open:e,onOpenChange:t,children:y.jsxs(rf,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[y.jsx(of,{className:"px-6 pt-6",children:y.jsx(mm,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:z()})}),y.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto flex-1",children:[n==="generate"&&y.jsxs("div",{className:"text-center space-y-6",children:[y.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),y.jsx(Nt,{className:"w-full h-12 px-9",onClick:E,children:"Generate key"})]}),n==="download"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex size-16 text-4xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),y.jsxs("div",{className:"relative",children:[y.jsx(Tn,{type:l?"text":"password",value:i,readOnly:!0,className:"pr-10 font-mono text-sm"}),y.jsx(Nt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>u(!l),children:l?y.jsx(BB,{className:"h-4 w-4 text-muted-foreground"}):y.jsx(FB,{className:"h-4 w-4 text-muted-foreground"})})]}),y.jsxs(Nt,{className:"w-full h-12 px-9",onClick:k,children:[y.jsx(DB,{className:"size-4"}),"Download key"]}),y.jsx("div",{className:"mx-auto max-w-sm",children:y.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[y.jsx("div",{className:"flex items-center gap-2 mb-1",children:y.jsx("span",{className:"text-xs font-semibold text-amber-800 dark:text-amber-200",children:"Important Warning"})}),y.jsx("p",{className:"text-xs text-amber-900 dark:text-amber-300",children:"This key is your primary and only means of accessing your account. Store it safely and securely. Please download your key to continue."})]})})]}),n==="profile"&&y.jsxs("div",{className:"text-center space-y-4",children:[b&&y.jsx("div",{className:"p-4 rounded-lg bg-muted border",children:y.jsxs("div",{className:"flex items-center justify-center gap-3",children:[y.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),y.jsx("span",{className:"text-sm font-medium",children:"Publishing your profile..."})]})}),y.jsxs("div",{className:`space-y-4 text-left ${b?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{htmlFor:"profile-name",className:"text-sm font-medium",children:"Display Name"}),y.jsx(Tn,{id:"profile-name",value:d.name,onChange:D=>p(Z=>({...Z,name:D.target.value})),placeholder:"Your name",disabled:b})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{htmlFor:"profile-about",className:"text-sm font-medium",children:"Bio"}),y.jsx(wm,{id:"profile-about",value:d.about,onChange:D=>p(Z=>({...Z,about:D.target.value})),placeholder:"Tell others about yourself...",className:"resize-none",rows:3,disabled:b})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{htmlFor:"profile-picture",className:"text-sm font-medium",children:"Avatar"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(Tn,{id:"profile-picture",value:d.picture,onChange:D=>p(Z=>({...Z,picture:D.target.value})),placeholder:"https://example.com/your-avatar.jpg",className:"flex-1",disabled:b}),y.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:v,onChange:N}),y.jsx(Nt,{type:"button",variant:"outline",size:"icon",onClick:()=>{var D;return(D=v.current)==null?void 0:D.click()},disabled:S||b,title:"Upload avatar image",children:S?y.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):y.jsx(KC,{className:"w-4 h-4"})})]})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(Nt,{className:"w-full",onClick:()=>A(!1),disabled:b||S,children:b?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):"Create profile"}),y.jsx(Nt,{variant:"outline",className:"w-full",onClick:()=>A(!0),disabled:b||S,children:b?"Setting up account...":"Skip for now"})]})]})]})]})})};function nN(){const{nostr:e}=Ir(),{logins:t,setLogin:n,removeLogin:r}=bw(),{data:i=[]}=Ki({queryKey:["nostr","logins",t.map(u=>u.id).join(";")],queryFn:async({signal:u})=>{const d=await e.query([{kinds:[0],authors:t.map(p=>p.pubkey)}],{signal:AbortSignal.any([u,AbortSignal.timeout(1500)])});return t.map(({id:p,pubkey:g})=>{const m=d.find(b=>b.pubkey===g);try{const b=Et.json().pipe(Et.metadata()).parse(m==null?void 0:m.content);return{id:p,pubkey:g,metadata:b,event:m}}catch{return{id:p,pubkey:g,metadata:{},event:m}}})},retry:3}),s=(()=>{const u=t[0];if(!u)return;const d=i.find(p=>p.id===u.id);return{metadata:{},...d,id:u.id,pubkey:u.pubkey}})(),l=(i||[]).slice(1);return{authors:i,currentUser:s,otherUsers:l,setLogin:n,removeLogin:r}}var v0=["Enter"," "],NZ=["ArrowDown","PageUp","Home"],rN=["ArrowUp","PageDown","End"],AZ=[...NZ,...rN],RZ={ltr:[...v0,"ArrowRight"],rtl:[...v0,"ArrowLeft"]},IZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},af="Menu",[Od,LZ,OZ]=Jd(af),[yl,iN]=$n(af,[OZ,ru,gm]),_m=ru(),oN=gm(),[jZ,vl]=yl(af),[MZ,lf]=yl(af),sN=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:l=!0}=e,u=_m(t),[d,p]=C.useState(null),g=C.useRef(!1),m=an(s),b=ou(i);return C.useEffect(()=>{const _=()=>{g.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>g.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),y.jsx(Bw,{...u,children:y.jsx(jZ,{scope:t,open:n,onOpenChange:m,content:d,onContentChange:p,children:y.jsx(MZ,{scope:t,onClose:C.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:b,modal:l,children:r})})})};sN.displayName=af;var zZ="MenuAnchor",a_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=_m(n);return y.jsx(Fw,{...i,...r,ref:t})});a_.displayName=zZ;var l_="MenuPortal",[DZ,aN]=yl(l_,{forceMount:void 0}),lN=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=vl(l_,t);return y.jsx(DZ,{scope:t,forceMount:n,children:y.jsx(Zn,{present:n||s.open,children:y.jsx(Qd,{asChild:!0,container:i,children:r})})})};lN.displayName=l_;var ti="MenuContent",[BZ,c_]=yl(ti),cN=C.forwardRef((e,t)=>{const n=aN(ti,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=vl(ti,e.__scopeMenu),l=lf(ti,e.__scopeMenu);return y.jsx(Od.Provider,{scope:e.__scopeMenu,children:y.jsx(Zn,{present:r||s.open,children:y.jsx(Od.Slot,{scope:e.__scopeMenu,children:l.modal?y.jsx(FZ,{...i,ref:t}):y.jsx(UZ,{...i,ref:t})})})})}),FZ=C.forwardRef((e,t)=>{const n=vl(ti,e.__scopeMenu),r=C.useRef(null),i=mt(t,r);return C.useEffect(()=>{const s=r.current;if(s)return Gw(s)},[]),y.jsx(u_,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ue(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),UZ=C.forwardRef((e,t)=>{const n=vl(ti,e.__scopeMenu);return y.jsx(u_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$Z=ll("MenuContent.ScrollLock"),u_=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:b,onDismiss:_,disableOutsideScroll:S,...v}=e,E=vl(ti,n),k=lf(ti,n),N=_m(n),A=oN(n),z=LZ(n),[D,Z]=C.useState(null),H=C.useRef(null),q=mt(t,H,E.onContentChange),F=C.useRef(0),W=C.useRef(""),J=C.useRef(0),U=C.useRef(null),X=C.useRef("right"),O=C.useRef(0),K=S?fm:C.Fragment,se=S?{as:$Z,allowPinchZoom:!0}:void 0,ie=ee=>{var Te,Ne;const le=W.current+ee,$=z().filter(je=>!je.disabled),Q=document.activeElement,ke=(Te=$.find(je=>je.ref.current===Q))==null?void 0:Te.textValue,_e=$.map(je=>je.textValue),ve=eH(_e,le,ke),Ie=(Ne=$.find(je=>je.textValue===ve))==null?void 0:Ne.ref.current;(function je(Ze){W.current=Ze,window.clearTimeout(F.current),Ze!==""&&(F.current=window.setTimeout(()=>je(""),1e3))})(le),Ie&&setTimeout(()=>Ie.focus())};C.useEffect(()=>()=>window.clearTimeout(F.current),[]),Kw();const te=C.useCallback(ee=>{var $,Q;return X.current===(($=U.current)==null?void 0:$.side)&&nH(ee,(Q=U.current)==null?void 0:Q.area)},[]);return y.jsx(BZ,{scope:n,searchRef:W,onItemEnter:C.useCallback(ee=>{te(ee)&&ee.preventDefault()},[te]),onItemLeave:C.useCallback(ee=>{var le;te(ee)||((le=H.current)==null||le.focus(),Z(null))},[te]),onTriggerLeave:C.useCallback(ee=>{te(ee)&&ee.preventDefault()},[te]),pointerGraceTimerRef:J,onPointerGraceIntentChange:C.useCallback(ee=>{U.current=ee},[]),children:y.jsx(K,{...se,children:y.jsx(um,{asChild:!0,trapped:i,onMountAutoFocus:Ue(s,ee=>{var le;ee.preventDefault(),(le=H.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:y.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:b,onDismiss:_,children:y.jsx(IT,{asChild:!0,...A,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:Z,onEntryFocus:Ue(d,ee=>{k.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(Uw,{role:"menu","aria-orientation":"vertical","data-state":kN(E.open),"data-radix-menu-content":"",dir:k.dir,...N,...v,ref:q,style:{outline:"none",...v.style},onKeyDown:Ue(v.onKeyDown,ee=>{const $=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,Q=ee.ctrlKey||ee.altKey||ee.metaKey,ke=ee.key.length===1;$&&(ee.key==="Tab"&&ee.preventDefault(),!Q&&ke&&ie(ee.key));const _e=H.current;if(ee.target!==_e||!AZ.includes(ee.key))return;ee.preventDefault();const Ie=z().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);rN.includes(ee.key)&&Ie.reverse(),QZ(Ie)}),onBlur:Ue(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(F.current),W.current="")}),onPointerMove:Ue(e.onPointerMove,jd(ee=>{const le=ee.target,$=O.current!==ee.clientX;if(ee.currentTarget.contains(le)&&$){const Q=ee.clientX>O.current?"right":"left";X.current=Q,O.current=ee.clientX}}))})})})})})})});cN.displayName=ti;var ZZ="MenuGroup",d_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return y.jsx(Ye.div,{role:"group",...r,ref:t})});d_.displayName=ZZ;var HZ="MenuLabel",uN=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return y.jsx(Ye.div,{...r,ref:t})});uN.displayName=HZ;var Cp="MenuItem",xE="menu.itemSelect",xm=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=C.useRef(null),l=lf(Cp,e.__scopeMenu),u=c_(Cp,e.__scopeMenu),d=mt(t,s),p=C.useRef(!1),g=()=>{const m=s.current;if(!n&&m){const b=new CustomEvent(xE,{bubbles:!0,cancelable:!0});m.addEventListener(xE,_=>r==null?void 0:r(_),{once:!0}),Ew(m,b),b.defaultPrevented?p.current=!1:l.onClose()}};return y.jsx(dN,{...i,ref:d,disabled:n,onClick:Ue(e.onClick,g),onPointerDown:m=>{var b;(b=e.onPointerDown)==null||b.call(e,m),p.current=!0},onPointerUp:Ue(e.onPointerUp,m=>{var b;p.current||(b=m.currentTarget)==null||b.click()}),onKeyDown:Ue(e.onKeyDown,m=>{const b=u.searchRef.current!=="";n||b&&m.key===" "||v0.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});xm.displayName=Cp;var dN=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,l=c_(Cp,n),u=oN(n),d=C.useRef(null),p=mt(t,d),[g,m]=C.useState(!1),[b,_]=C.useState("");return C.useEffect(()=>{const S=d.current;S&&_((S.textContent??"").trim())},[s.children]),y.jsx(Od.ItemSlot,{scope:n,disabled:r,textValue:i??b,children:y.jsx(LT,{asChild:!0,...u,focusable:!r,children:y.jsx(Ye.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:p,onPointerMove:Ue(e.onPointerMove,jd(S=>{r?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ue(e.onPointerLeave,jd(S=>l.onItemLeave(S))),onFocus:Ue(e.onFocus,()=>m(!0)),onBlur:Ue(e.onBlur,()=>m(!1))})})})}),WZ="MenuCheckboxItem",fN=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return y.jsx(yN,{scope:e.__scopeMenu,checked:n,children:y.jsx(xm,{role:"menuitemcheckbox","aria-checked":Pp(n)?"mixed":n,...i,ref:t,"data-state":h_(n),onSelect:Ue(i.onSelect,()=>r==null?void 0:r(Pp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});fN.displayName=WZ;var hN="MenuRadioGroup",[VZ,qZ]=yl(hN,{value:void 0,onValueChange:()=>{}}),pN=C.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=an(r);return y.jsx(VZ,{scope:e.__scopeMenu,value:n,onValueChange:s,children:y.jsx(d_,{...i,ref:t})})});pN.displayName=hN;var mN="MenuRadioItem",gN=C.forwardRef((e,t)=>{const{value:n,...r}=e,i=qZ(mN,e.__scopeMenu),s=n===i.value;return y.jsx(yN,{scope:e.__scopeMenu,checked:s,children:y.jsx(xm,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":h_(s),onSelect:Ue(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,n)},{checkForDefaultPrevented:!1})})})});gN.displayName=mN;var f_="MenuItemIndicator",[yN,KZ]=yl(f_,{checked:!1}),vN=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=KZ(f_,n);return y.jsx(Zn,{present:r||Pp(s.checked)||s.checked===!0,children:y.jsx(Ye.span,{...i,ref:t,"data-state":h_(s.checked)})})});vN.displayName=f_;var GZ="MenuSeparator",wN=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return y.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});wN.displayName=GZ;var YZ="MenuArrow",_N=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=_m(n);return y.jsx($w,{...i,...r,ref:t})});_N.displayName=YZ;var JZ="MenuSub",[dK,xN]=yl(JZ),hd="MenuSubTrigger",bN=C.forwardRef((e,t)=>{const n=vl(hd,e.__scopeMenu),r=lf(hd,e.__scopeMenu),i=xN(hd,e.__scopeMenu),s=c_(hd,e.__scopeMenu),l=C.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=s,p={__scopeMenu:e.__scopeMenu},g=C.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return C.useEffect(()=>g,[g]),C.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),d(null)}},[u,d]),y.jsx(a_,{asChild:!0,...p,children:y.jsx(dN,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":kN(n.open),...e,ref:Xp(t,i.onTriggerChange),onClick:m=>{var b;(b=e.onClick)==null||b.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ue(e.onPointerMove,jd(m=>{s.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Ue(e.onPointerLeave,jd(m=>{var _,S;g();const b=(_=n.content)==null?void 0:_.getBoundingClientRect();if(b){const v=(S=n.content)==null?void 0:S.dataset.side,E=v==="right",k=E?-5:5,N=b[E?"left":"right"],A=b[E?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+k,y:m.clientY},{x:N,y:b.top},{x:A,y:b.top},{x:A,y:b.bottom},{x:N,y:b.bottom}],side:v}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ue(e.onKeyDown,m=>{var _;const b=s.searchRef.current!=="";e.disabled||b&&m.key===" "||RZ[r.dir].includes(m.key)&&(n.onOpenChange(!0),(_=n.content)==null||_.focus(),m.preventDefault())})})})});bN.displayName=hd;var EN="MenuSubContent",SN=C.forwardRef((e,t)=>{const n=aN(ti,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=vl(ti,e.__scopeMenu),l=lf(ti,e.__scopeMenu),u=xN(EN,e.__scopeMenu),d=C.useRef(null),p=mt(t,d);return y.jsx(Od.Provider,{scope:e.__scopeMenu,children:y.jsx(Zn,{present:r||s.open,children:y.jsx(Od.Slot,{scope:e.__scopeMenu,children:y.jsx(u_,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var m;l.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Ue(e.onFocusOutside,g=>{g.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ue(e.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:Ue(e.onKeyDown,g=>{var _;const m=g.currentTarget.contains(g.target),b=IZ[l.dir].includes(g.key);m&&b&&(s.onOpenChange(!1),(_=u.trigger)==null||_.focus(),g.preventDefault())})})})})})});SN.displayName=EN;function kN(e){return e?"open":"closed"}function Pp(e){return e==="indeterminate"}function h_(e){return Pp(e)?"indeterminate":e?"checked":"unchecked"}function QZ(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function XZ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function eH(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=XZ(e,Math.max(s,0));i.length===1&&(l=l.filter(p=>p!==n));const d=l.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function tH(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s],d=t[l],p=u.x,g=u.y,m=d.x,b=d.y;g>r!=b>r&&n<(m-p)*(r-g)/(b-g)+p&&(i=!i)}return i}function nH(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return tH(n,t)}function jd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var rH=sN,iH=a_,oH=lN,sH=cN,aH=d_,lH=uN,cH=xm,uH=fN,dH=pN,fH=gN,hH=vN,pH=wN,mH=_N,gH=bN,yH=SN,bm="DropdownMenu",[vH,fK]=$n(bm,[iN]),tr=iN(),[wH,CN]=vH(bm),PN=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:l,modal:u=!0}=e,d=tr(t),p=C.useRef(null),[g,m]=bi({prop:i,defaultProp:s??!1,onChange:l,caller:bm});return y.jsx(wH,{scope:t,triggerId:ei(),triggerRef:p,contentId:ei(),open:g,onOpenChange:m,onOpenToggle:C.useCallback(()=>m(b=>!b),[m]),modal:u,children:y.jsx(rH,{...d,open:g,onOpenChange:m,dir:r,modal:u,children:n})})};PN.displayName=bm;var TN="DropdownMenuTrigger",NN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=CN(TN,n),l=tr(n);return y.jsx(iH,{asChild:!0,...l,children:y.jsx(Ye.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Xp(t,s.triggerRef),onPointerDown:Ue(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:Ue(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});NN.displayName=TN;var _H="DropdownMenuPortal",AN=e=>{const{__scopeDropdownMenu:t,...n}=e,r=tr(t);return y.jsx(oH,{...r,...n})};AN.displayName=_H;var RN="DropdownMenuContent",IN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=CN(RN,n),s=tr(n),l=C.useRef(!1);return y.jsx(sH,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:Ue(e.onCloseAutoFocus,u=>{var d;l.current||(d=i.triggerRef.current)==null||d.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Ue(e.onInteractOutside,u=>{const d=u.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,g=d.button===2||p;(!i.modal||g)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IN.displayName=RN;var xH="DropdownMenuGroup",bH=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(aH,{...i,...r,ref:t})});bH.displayName=xH;var EH="DropdownMenuLabel",LN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(lH,{...i,...r,ref:t})});LN.displayName=EH;var SH="DropdownMenuItem",ON=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(cH,{...i,...r,ref:t})});ON.displayName=SH;var kH="DropdownMenuCheckboxItem",jN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(uH,{...i,...r,ref:t})});jN.displayName=kH;var CH="DropdownMenuRadioGroup",PH=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(dH,{...i,...r,ref:t})});PH.displayName=CH;var TH="DropdownMenuRadioItem",MN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(fH,{...i,...r,ref:t})});MN.displayName=TH;var NH="DropdownMenuItemIndicator",zN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(hH,{...i,...r,ref:t})});zN.displayName=NH;var AH="DropdownMenuSeparator",DN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(pH,{...i,...r,ref:t})});DN.displayName=AH;var RH="DropdownMenuArrow",IH=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(mH,{...i,...r,ref:t})});IH.displayName=RH;var LH="DropdownMenuSubTrigger",BN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(gH,{...i,...r,ref:t})});BN.displayName=LH;var OH="DropdownMenuSubContent",FN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(yH,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FN.displayName=OH;var jH=PN,MH=NN,zH=AN,UN=IN,$N=LN,ZN=ON,HN=jN,WN=MN,VN=zN,qN=DN,KN=BN,GN=FN;const DH=jH,BH=MH,FH=C.forwardRef(({className:e,inset:t,children:n,...r},i)=>y.jsxs(KN,{ref:i,className:qe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,y.jsx(AB,{className:"ml-auto h-4 w-4"})]}));FH.displayName=KN.displayName;const UH=C.forwardRef(({className:e,...t},n)=>y.jsx(GN,{ref:n,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));UH.displayName=GN.displayName;const YN=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>y.jsx(zH,{children:y.jsx(UN,{ref:r,sideOffset:t,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));YN.displayName=UN.displayName;const tp=C.forwardRef(({className:e,inset:t,...n},r)=>y.jsx(ZN,{ref:r,className:qe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));tp.displayName=ZN.displayName;const $H=C.forwardRef(({className:e,children:t,checked:n,...r},i)=>y.jsxs(HN,{ref:i,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(VN,{children:y.jsx(VC,{className:"h-4 w-4"})})}),t]}));$H.displayName=HN.displayName;const ZH=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(WN,{ref:r,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(VN,{children:y.jsx(LB,{className:"h-2 w-2 fill-current"})})}),t]}));ZH.displayName=WN.displayName;const HH=C.forwardRef(({className:e,inset:t,...n},r)=>y.jsx($N,{ref:r,className:qe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));HH.displayName=$N.displayName;const JN=C.forwardRef(({className:e,...t},n)=>y.jsx(qN,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));JN.displayName=qN.displayName;var Fy={exports:{}},Uy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function WH(){if(bE)return Uy;bE=1;var e=Lp();function t(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(m,b){var _=b(),S=r({inst:{value:_,getSnapshot:b}}),v=S[0].inst,E=S[1];return s(function(){v.value=_,v.getSnapshot=b,d(v)&&E({inst:v})},[m,_,b]),i(function(){return d(v)&&E({inst:v}),m(function(){d(v)&&E({inst:v})})},[m]),l(_),_}function d(m){var b=m.getSnapshot;m=m.value;try{var _=b();return!n(m,_)}catch{return!0}}function p(m,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return Uy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Uy}var EE;function VH(){return EE||(EE=1,Fy.exports=WH()),Fy.exports}var qH=VH();function KH(){return qH.useSyncExternalStore(GH,()=>!0,()=>!1)}function GH(){return()=>{}}var p_="Avatar",[YH,hK]=$n(p_),[JH,QN]=YH(p_),XN=C.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=C.useState("idle");return y.jsx(JH,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:y.jsx(Ye.span,{...r,ref:t})})});XN.displayName=p_;var eA="AvatarImage",tA=C.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,l=QN(eA,n),u=QH(r,s),d=an(p=>{i(p),l.onImageLoadingStatusChange(p)});return cn(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?y.jsx(Ye.img,{...s,ref:t,src:r}):null});tA.displayName=eA;var nA="AvatarFallback",rA=C.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=QN(nA,n),[l,u]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&s.imageLoadingStatus!=="loaded"?y.jsx(Ye.span,{...i,ref:t}):null});rA.displayName=nA;function SE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function QH(e,{referrerPolicy:t,crossOrigin:n}){const r=KH(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[l,u]=C.useState(()=>SE(s,e));return cn(()=>{u(SE(s,e))},[s,e]),cn(()=>{const d=m=>()=>{u(m)};if(!s)return;const p=d("loaded"),g=d("error");return s.addEventListener("load",p),s.addEventListener("error",g),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",p),s.removeEventListener("error",g)}},[s,n,t]),l}var iA=XN,oA=tA,sA=rA;const Md=C.forwardRef(({className:e,...t},n)=>y.jsx(iA,{ref:n,className:qe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Md.displayName=iA.displayName;const zd=C.forwardRef(({className:e,...t},n)=>y.jsx(oA,{ref:n,className:qe("aspect-square h-full w-full object-cover",e),...t}));zd.displayName=oA.displayName;const Dd=C.forwardRef(({className:e,...t},n)=>y.jsx(sA,{ref:n,className:qe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Dd.displayName=sA.displayName;function Em(e){const t=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let l=0;l<e.length;l++){const u=e.charCodeAt(l);r=(r<<5)-r+u,r=r&r}const i=Math.abs(r)%t.length,s=Math.abs(r>>8)%n.length;return[t[i],n[s]].join(" ")}function XH({onAddAccountClick:e}){const{currentUser:t,otherUsers:n,setLogin:r,removeLogin:i}=nN();if(!t)return null;const s=l=>l.metadata.name??Em(l.pubkey);return y.jsxs(DH,{modal:!1,children:[y.jsx(BH,{asChild:!0,children:y.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[y.jsxs(Md,{className:"w-10 h-10",children:[y.jsx(zd,{src:t.metadata.picture,alt:s(t)}),y.jsx(Dd,{children:s(t).charAt(0)})]}),y.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:y.jsx("p",{className:"font-medium text-sm truncate",children:s(t)})}),y.jsx(nm,{className:"w-4 h-4 text-muted-foreground"})]})}),y.jsxs(YN,{className:"w-56 p-2 animate-scale-in",children:[y.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(l=>{var u;return y.jsxs(tp,{onClick:()=>r(l.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[y.jsxs(Md,{className:"w-8 h-8",children:[y.jsx(zd,{src:l.metadata.picture,alt:s(l)}),y.jsx(Dd,{children:((u=s(l))==null?void 0:u.charAt(0))||y.jsx(YB,{})})]}),y.jsx("div",{className:"flex-1 truncate",children:y.jsx("p",{className:"text-sm font-medium",children:s(l)})}),l.id===t.id&&y.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},l.id)}),y.jsx(JN,{}),y.jsxs(tp,{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[y.jsx(GB,{className:"w-4 h-4"}),y.jsx("span",{children:"Add another account"})]}),y.jsxs(tp,{onClick:()=>i(t.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[y.jsx(WB,{className:"w-4 h-4"}),y.jsx("span",{children:"Log out"})]})]})]})}function w0({className:e}){const{currentUser:t}=nN(),[n,r]=C.useState(!1),[i,s]=C.useState(!1),l=()=>{r(!1),s(!1)};return y.jsxs("div",{className:qe("inline-flex items-center justify-center",e),children:[t?y.jsx(XH,{onAddAccountClick:()=>r(!0)}):y.jsxs("div",{className:"flex gap-3 justify-center",children:[y.jsx(Nt,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:y.jsx("span",{className:"truncate",children:"Log in"})}),y.jsx(Nt,{onClick:()=>s(!0),variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all",children:y.jsx("span",{children:"Sign up"})})]}),y.jsx(PZ,{isOpen:n,onClose:()=>r(!1),onLogin:l}),y.jsx(TZ,{isOpen:i,onClose:()=>s(!1)})]})}function eW(){const e=gl(),t=n=>e.pathname===n;return y.jsx("nav",{className:"border-b bg-background/80 backdrop-blur sticky top-0 z-50",children:y.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx(Xn,{to:"/",className:"text-xl font-bold tracking-tight",children:"DeadDropstr"}),y.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[y.jsx(Nt,{asChild:!0,variant:t("/")?"secondary":"ghost",size:"sm",children:y.jsxs(Xn,{to:"/",children:[y.jsx($B,{className:"h-4 w-4 mr-1"}),"Home"]})}),y.jsx(Nt,{asChild:!0,variant:t("/marketplace")?"secondary":"ghost",size:"sm",children:y.jsxs(Xn,{to:"/marketplace",children:[y.jsx(gp,{className:"h-4 w-4 mr-1"}),"Marketplace"]})}),y.jsx(Nt,{asChild:!0,variant:t("/dashboard")?"secondary":"ghost",size:"sm",children:y.jsxs(Xn,{to:"/dashboard",children:[y.jsx(e0,{className:"h-4 w-4 mr-1"}),"Dashboard"]})}),y.jsx(Nt,{asChild:!0,variant:t("/messages")?"secondary":"ghost",size:"sm",children:y.jsxs(Xn,{to:"/messages",children:[y.jsx(qC,{className:"h-4 w-4 mr-1"}),"Messages"]})})]})]}),y.jsx(w0,{className:"max-w-60"})]})})}function tW(e,t={},n){e.use(Y3);function r(l){if(l._flatMeta)return l;const{title:u,titleTemplate:d,...p}=l||{};return{title:u,titleTemplate:d,_flatMeta:p}}const i=e.push(r(t),n),s=i.patch;return i.__patched||(i.patch=l=>s(r(l)),i.__patched=!0),i}function nW(){const e=C.useContext(z2);if(!e)throw new Error("useHead() was called without provide context.");return e}function rW(e,t,n){const r=t.head||nW(),[i]=C.useState(()=>n(r,e,t));return C.useEffect(()=>{i.patch(e)},[e]),C.useEffect(()=>()=>{i.dispose()},[]),i}function su(e={},t={}){return rW(e,t,tW)}function m_(e){if(e.kind!==30402)return null;const t=A=>{var z;return(z=e.tags.find(([D])=>D===A))==null?void 0:z[1]};if(!(A=>e.tags.filter(([z])=>z===A).map(([,z])=>z))("t").includes("locker"))return null;const i=t("d");if(!i)return null;const s=t("title")||"Unnamed Locker",l=t("status")||"available",u=t("g")||"",d=t("location"),p=e.tags.find(([A])=>A==="price"),g=p&&parseInt(p[1])||0,m=(p==null?void 0:p[2])||"SATS",b=t("dimensions"),_=parseInt(t("overdue-fee")||"0"),S=parseInt(t("overdue-days")||"7"),v=t("proxy-mode")==="true",E=parseInt(t("proxy-fee")||"0"),k=parseInt(t("abandon-days")||"30"),N=e.tags.filter(([A])=>A==="image").map(([,A])=>A);return{id:e.id,pubkey:e.pubkey,dTag:i,title:s,description:e.content,status:l,geohash:u,location:d,price:g,currency:m,dimensions:b,overdueFee:_,overdueDays:S,proxyMode:v,proxyFee:E,abandonDays:k,images:N,createdAt:e.created_at,event:e}}function iW(e){const t=[["d",crypto.randomUUID()],["title",e.title],["t","locker"],["t","dead-drop"],["g",e.geohash],["price",e.baseFee.toString(),"SATS"],["status","available"],["dimensions",e.dimensions],["overdue-fee",e.overdueFee.toString()],["overdue-days",e.overdueDays.toString()],["proxy-mode",e.proxyMode.toString()],["abandon-days",e.abandonDays.toString()]];return e.location&&t.push(["location",e.location]),e.proxyMode&&e.proxyFee>0&&t.push(["proxy-fee",e.proxyFee.toString()]),t}function oW(e){const{nostr:t}=Ir();return Ki({queryKey:["trust-score",e],queryFn:async()=>{if(!e)return null;const n=await t.query([{kinds:[7],"#p":[e],limit:500},{kinds:[9735],"#p":[e],limit:200}]);let r=0,i=0,s=0;for(const p of n)p.kind===7?p.content.trim()==="-"?i++:r++:p.kind===9735&&(s+=1e3);const l=Math.floor(s/1e3),u=r+i,d=u>0?Math.round((r+l)/(u+l)*100):50;return{pubkey:e,positiveReactions:r,negativeReactions:i,zapsSats:s,totalReactions:u,score:d}},enabled:!!e,staleTime:6e4})}const Vt=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:qe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Vt.displayName="Card";const pr=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:qe("flex flex-col space-y-1.5 p-6",e),...t}));pr.displayName="CardHeader";const Qr=C.forwardRef(({className:e,...t},n)=>y.jsx("h3",{ref:n,className:qe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Qr.displayName="CardTitle";const Ro=C.forwardRef(({className:e,...t},n)=>y.jsx("p",{ref:n,className:qe("text-sm text-muted-foreground",e),...t}));Ro.displayName="CardDescription";const fn=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:qe("p-6 pt-0",e),...t}));fn.displayName="CardContent";const sW=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:qe("flex items-center p-6 pt-0",e),...t}));sW.displayName="CardFooter";function aW(){const{nostr:e}=Ir(),{user:t}=pl(),{toast:n}=Yd();return M0({mutationFn:async({recipientPubkey:r,lockerId:i,paymentPreimage:s,rentalInvoice:l})=>{if(!t)throw new Error("User is not logged in");if(!t.signer.nip44)throw new Error("NIP-44 encryption not available. Please use a signer that supports NIP-44.");const u=Math.floor(Date.now()/1e3),d=E=>{const N=-Math.floor(Math.random()*172800);return E+N},p={action:"unlock",locker_id:i,payment_preimage:s,rental_invoice:l},g={kind:14,pubkey:t.pubkey,created_at:u,tags:[["p",r]],content:JSON.stringify(p)},m={kind:13,pubkey:t.pubkey,created_at:u,tags:[],content:await t.signer.nip44.encrypt(r,JSON.stringify(g))},b=Kd(),_=new Pd(b),S=await _.nip44.encrypt(r,JSON.stringify(m)),v=await _.signEvent({kind:1059,created_at:d(u),tags:[["p",r]],content:S});return await e.event(v),v},onSuccess:()=>{n({title:"Unlock command sent",description:"The encrypted unlock command has been published to the network."})},onError:r=>{console.error("[UnlockCommand] Failed to send:",r),n({title:"Failed to send unlock command",description:r.message,variant:"destructive"})}})}const lW=ef("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xr({className:e,variant:t,...n}){return y.jsx("div",{className:qe(lW({variant:t}),e),...n})}var g_="Progress",y_=100,[cW,pK]=$n(g_),[uW,dW]=cW(g_),aA=C.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=fW,...l}=e;(i||i===0)&&!kE(i)&&console.error(hW(`${i}`,"Progress"));const u=kE(i)?i:y_;r!==null&&!CE(r,u)&&console.error(pW(`${r}`,"Progress"));const d=CE(r,u)?r:null,p=Tp(d)?s(d,u):void 0;return y.jsx(uW,{scope:n,value:d,max:u,children:y.jsx(Ye.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Tp(d)?d:void 0,"aria-valuetext":p,role:"progressbar","data-state":uA(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});aA.displayName=g_;var lA="ProgressIndicator",cA=C.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=dW(lA,n);return y.jsx(Ye.div,{"data-state":uA(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});cA.displayName=lA;function fW(e,t){return`${Math.round(e/t*100)}%`}function uA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Tp(e){return typeof e=="number"}function kE(e){return Tp(e)&&!isNaN(e)&&e>0}function CE(e,t){return Tp(e)&&!isNaN(e)&&e<=t&&e>=0}function hW(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${y_}\`.`}function pW(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${y_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var dA=aA,mW=cA;const fA=C.forwardRef(({className:e,value:t,...n},r)=>y.jsx(dA,{ref:r,className:qe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:y.jsx(mW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));fA.displayName=dA.displayName;var fc={},$y,PE;function gW(){return PE||(PE=1,$y=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),$y}var Zy={},Ls={},TE;function wl(){if(TE)return Ls;TE=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Ls.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Ls.getSymbolTotalCodewords=function(r){return t[r]},Ls.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Ls.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Ls.isKanjiModeEnabled=function(){return typeof e<"u"},Ls.toSJIS=function(r){return e(r)},Ls}var Hy={},NE;function v_(){return NE||(NE=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}}(Hy)),Hy}var Wy,AE;function yW(){if(AE)return Wy;AE=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Wy=e,Wy}var Vy,RE;function vW(){if(RE)return Vy;RE=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,i){const s=t*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},Vy=e,Vy}var qy={},IE;function wW(){return IE||(IE=1,function(e){const t=wl().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),l=s===145?26:Math.ceil((s-13)/(2*i-2))*2,u=[s-7];for(let d=1;d<i-1;d++)u[d]=u[d-1]-l;return u.push(6),u.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),l=s.length;for(let u=0;u<l;u++)for(let d=0;d<l;d++)u===0&&d===0||u===0&&d===l-1||u===l-1&&d===0||i.push([s[u],s[d]]);return i}}(qy)),qy}var Ky={},LE;function _W(){if(LE)return Ky;LE=1;const e=wl().getSymbolSize,t=7;return Ky.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},Ky}var Gy={},OE;function xW(){return OE||(OE=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let l=0,u=0,d=0,p=null,g=null;for(let m=0;m<s;m++){u=d=0,p=g=null;for(let b=0;b<s;b++){let _=i.get(m,b);_===p?u++:(u>=5&&(l+=t.N1+(u-5)),p=_,u=1),_=i.get(b,m),_===g?d++:(d>=5&&(l+=t.N1+(d-5)),g=_,d=1)}u>=5&&(l+=t.N1+(u-5)),d>=5&&(l+=t.N1+(d-5))}return l},e.getPenaltyN2=function(i){const s=i.size;let l=0;for(let u=0;u<s-1;u++)for(let d=0;d<s-1;d++){const p=i.get(u,d)+i.get(u,d+1)+i.get(u+1,d)+i.get(u+1,d+1);(p===4||p===0)&&l++}return l*t.N2},e.getPenaltyN3=function(i){const s=i.size;let l=0,u=0,d=0;for(let p=0;p<s;p++){u=d=0;for(let g=0;g<s;g++)u=u<<1&2047|i.get(p,g),g>=10&&(u===1488||u===93)&&l++,d=d<<1&2047|i.get(g,p),g>=10&&(d===1488||d===93)&&l++}return l*t.N3},e.getPenaltyN4=function(i){let s=0;const l=i.data.length;for(let d=0;d<l;d++)s+=i.data[d];return Math.abs(Math.ceil(s*100/l/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const l=s.size;for(let u=0;u<l;u++)for(let d=0;d<l;d++)s.isReserved(d,u)||s.xor(d,u,n(i,d,u))},e.getBestMask=function(i,s){const l=Object.keys(e.Patterns).length;let u=0,d=1/0;for(let p=0;p<l;p++){s(p),e.applyMask(p,i);const g=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(p,i),g<d&&(d=g,u=p)}return u}}(Gy)),Gy}var Wh={},jE;function hA(){if(jE)return Wh;jE=1;const e=v_(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Wh.getBlocksCount=function(i,s){switch(s){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},Wh.getTotalCodewordsCount=function(i,s){switch(s){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},Wh}var Yy={},ld={},ME;function bW(){if(ME)return ld;ME=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]}(),ld.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},ld.exp=function(r){return e[r]},ld.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},ld}var zE;function EW(){return zE||(zE=1,function(e){const t=bW();e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let l=0;l<r.length;l++)for(let u=0;u<i.length;u++)s[l+u]^=t.mul(r[l],i[u]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const l=s[0];for(let d=0;d<i.length;d++)s[d]^=t.mul(i[d],l);let u=0;for(;u<s.length&&s[u]===0;)u++;s=s.slice(u)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}}(Yy)),Yy}var Jy,DE;function SW(){if(DE)return Jy;DE=1;const e=EW();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=e.mod(i,this.genPoly),l=this.degree-s.length;if(l>0){const u=new Uint8Array(this.degree);return u.set(s,l),u}return s},Jy=t,Jy}var Qy={},Xy={},ev={},BE;function pA(){return BE||(BE=1,ev.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),ev}var Ui={},FE;function mA(){if(FE)return Ui;FE=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Ui.KANJI=new RegExp(n,"g"),Ui.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ui.BYTE=new RegExp(r,"g"),Ui.NUMERIC=new RegExp(e,"g"),Ui.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+e+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ui.testKanji=function(d){return i.test(d)},Ui.testNumeric=function(d){return s.test(d)},Ui.testAlphanumeric=function(d){return l.test(d)},Ui}var UE;function _l(){return UE||(UE=1,function(e){const t=pA(),n=mA();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,l){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?s.ccBits[0]:l<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,l){if(e.isValid(s))return s;try{return r(s)}catch{return l}}}(Xy)),Xy}var $E;function kW(){return $E||($E=1,function(e){const t=wl(),n=hA(),r=v_(),i=_l(),s=pA(),l=7973,u=t.getBCHDigit(l);function d(b,_,S){for(let v=1;v<=40;v++)if(_<=e.getCapacity(v,S,b))return v}function p(b,_){return i.getCharCountIndicator(b,_)+4}function g(b,_){let S=0;return b.forEach(function(v){const E=p(v.mode,_);S+=E+v.getBitsLength()}),S}function m(b,_){for(let S=1;S<=40;S++)if(g(b,S)<=e.getCapacity(S,_,i.MIXED))return S}e.from=function(_,S){return s.isValid(_)?parseInt(_,10):S},e.getCapacity=function(_,S,v){if(!s.isValid(_))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=i.BYTE);const E=t.getSymbolTotalCodewords(_),k=n.getTotalCodewordsCount(_,S),N=(E-k)*8;if(v===i.MIXED)return N;const A=N-p(v,_);switch(v){case i.NUMERIC:return Math.floor(A/10*3);case i.ALPHANUMERIC:return Math.floor(A/11*2);case i.KANJI:return Math.floor(A/13);case i.BYTE:default:return Math.floor(A/8)}},e.getBestVersionForData=function(_,S){let v;const E=r.from(S,r.M);if(Array.isArray(_)){if(_.length>1)return m(_,E);if(_.length===0)return 1;v=_[0]}else v=_;return d(v.mode,v.getLength(),E)},e.getEncodedBits=function(_){if(!s.isValid(_)||_<7)throw new Error("Invalid QR Code version");let S=_<<12;for(;t.getBCHDigit(S)-u>=0;)S^=l<<t.getBCHDigit(S)-u;return _<<12|S}}(Qy)),Qy}var tv={},ZE;function CW(){if(ZE)return tv;ZE=1;const e=wl(),t=1335,n=21522,r=e.getBCHDigit(t);return tv.getEncodedBits=function(s,l){const u=s.bit<<3|l;let d=u<<10;for(;e.getBCHDigit(d)-r>=0;)d^=t<<e.getBCHDigit(d)-r;return(u<<10|d)^n},tv}var nv={},rv,HE;function PW(){if(HE)return rv;HE=1;const e=_l();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,s,l;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),l=parseInt(s,10),r.put(l,10);const u=this.data.length-i;u>0&&(s=this.data.substr(i),l=parseInt(s,10),r.put(l,u*3+1))},rv=t,rv}var iv,WE;function TW(){if(WE)return iv;WE=1;const e=_l(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let l=t.indexOf(this.data[s])*45;l+=t.indexOf(this.data[s+1]),i.put(l,11)}this.data.length%2&&i.put(t.indexOf(this.data[s]),6)},iv=n,iv}var ov,VE;function NW(){if(VE)return ov;VE=1;const e=_l();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},ov=t,ov}var sv,qE;function AW(){if(qE)return sv;qE=1;const e=_l(),t=wl();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=t.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},sv=n,sv}var av={exports:{}},KE;function RW(){return KE||(KE=1,function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},l={};l[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var d,p,g,m,b,_,S,v,E;!u.empty();){d=u.pop(),p=d.value,m=d.cost,b=n[p]||{};for(g in b)b.hasOwnProperty(g)&&(_=b[g],S=m+_,v=l[g],E=typeof l[g]>"u",(E||v>S)&&(l[g]=S,u.push(g,S),s[g]=p))}if(typeof i<"u"&&typeof l[i]>"u"){var k=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(k)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t}(av)),av.exports}var GE;function IW(){return GE||(GE=1,function(e){const t=_l(),n=PW(),r=TW(),i=NW(),s=AW(),l=mA(),u=wl(),d=RW();function p(k){return unescape(encodeURIComponent(k)).length}function g(k,N,A){const z=[];let D;for(;(D=k.exec(A))!==null;)z.push({data:D[0],index:D.index,mode:N,length:D[0].length});return z}function m(k){const N=g(l.NUMERIC,t.NUMERIC,k),A=g(l.ALPHANUMERIC,t.ALPHANUMERIC,k);let z,D;return u.isKanjiModeEnabled()?(z=g(l.BYTE,t.BYTE,k),D=g(l.KANJI,t.KANJI,k)):(z=g(l.BYTE_KANJI,t.BYTE,k),D=[]),N.concat(A,z,D).sort(function(H,q){return H.index-q.index}).map(function(H){return{data:H.data,mode:H.mode,length:H.length}})}function b(k,N){switch(N){case t.NUMERIC:return n.getBitsLength(k);case t.ALPHANUMERIC:return r.getBitsLength(k);case t.KANJI:return s.getBitsLength(k);case t.BYTE:return i.getBitsLength(k)}}function _(k){return k.reduce(function(N,A){const z=N.length-1>=0?N[N.length-1]:null;return z&&z.mode===A.mode?(N[N.length-1].data+=A.data,N):(N.push(A),N)},[])}function S(k){const N=[];for(let A=0;A<k.length;A++){const z=k[A];switch(z.mode){case t.NUMERIC:N.push([z,{data:z.data,mode:t.ALPHANUMERIC,length:z.length},{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.ALPHANUMERIC:N.push([z,{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.KANJI:N.push([z,{data:z.data,mode:t.BYTE,length:p(z.data)}]);break;case t.BYTE:N.push([{data:z.data,mode:t.BYTE,length:p(z.data)}])}}return N}function v(k,N){const A={},z={start:{}};let D=["start"];for(let Z=0;Z<k.length;Z++){const H=k[Z],q=[];for(let F=0;F<H.length;F++){const W=H[F],J=""+Z+F;q.push(J),A[J]={node:W,lastCount:0},z[J]={};for(let U=0;U<D.length;U++){const X=D[U];A[X]&&A[X].node.mode===W.mode?(z[X][J]=b(A[X].lastCount+W.length,W.mode)-b(A[X].lastCount,W.mode),A[X].lastCount+=W.length):(A[X]&&(A[X].lastCount=W.length),z[X][J]=b(W.length,W.mode)+4+t.getCharCountIndicator(W.mode,N))}}D=q}for(let Z=0;Z<D.length;Z++)z[D[Z]].end=0;return{map:z,table:A}}function E(k,N){let A;const z=t.getBestModeForData(k);if(A=t.from(N,z),A!==t.BYTE&&A.bit<z.bit)throw new Error('"'+k+'" cannot be encoded with mode '+t.toString(A)+`.
 Suggested mode is: `+t.toString(z));switch(A===t.KANJI&&!u.isKanjiModeEnabled()&&(A=t.BYTE),A){case t.NUMERIC:return new n(k);case t.ALPHANUMERIC:return new r(k);case t.KANJI:return new s(k);case t.BYTE:return new i(k)}}e.fromArray=function(N){return N.reduce(function(A,z){return typeof z=="string"?A.push(E(z,null)):z.data&&A.push(E(z.data,z.mode)),A},[])},e.fromString=function(N,A){const z=m(N,u.isKanjiModeEnabled()),D=S(z),Z=v(D,A),H=d.find_path(Z.map,"start","end"),q=[];for(let F=1;F<H.length-1;F++)q.push(Z.table[H[F]].node);return e.fromArray(_(q))},e.rawSplit=function(N){return e.fromArray(m(N,u.isKanjiModeEnabled()))}}(nv)),nv}var YE;function LW(){if(YE)return Zy;YE=1;const e=wl(),t=v_(),n=yW(),r=vW(),i=wW(),s=_W(),l=xW(),u=hA(),d=SW(),p=kW(),g=CW(),m=_l(),b=IW();function _(Z,H){const q=Z.size,F=s.getPositions(H);for(let W=0;W<F.length;W++){const J=F[W][0],U=F[W][1];for(let X=-1;X<=7;X++)if(!(J+X<=-1||q<=J+X))for(let O=-1;O<=7;O++)U+O<=-1||q<=U+O||(X>=0&&X<=6&&(O===0||O===6)||O>=0&&O<=6&&(X===0||X===6)||X>=2&&X<=4&&O>=2&&O<=4?Z.set(J+X,U+O,!0,!0):Z.set(J+X,U+O,!1,!0))}}function S(Z){const H=Z.size;for(let q=8;q<H-8;q++){const F=q%2===0;Z.set(q,6,F,!0),Z.set(6,q,F,!0)}}function v(Z,H){const q=i.getPositions(H);for(let F=0;F<q.length;F++){const W=q[F][0],J=q[F][1];for(let U=-2;U<=2;U++)for(let X=-2;X<=2;X++)U===-2||U===2||X===-2||X===2||U===0&&X===0?Z.set(W+U,J+X,!0,!0):Z.set(W+U,J+X,!1,!0)}}function E(Z,H){const q=Z.size,F=p.getEncodedBits(H);let W,J,U;for(let X=0;X<18;X++)W=Math.floor(X/3),J=X%3+q-8-3,U=(F>>X&1)===1,Z.set(W,J,U,!0),Z.set(J,W,U,!0)}function k(Z,H,q){const F=Z.size,W=g.getEncodedBits(H,q);let J,U;for(J=0;J<15;J++)U=(W>>J&1)===1,J<6?Z.set(J,8,U,!0):J<8?Z.set(J+1,8,U,!0):Z.set(F-15+J,8,U,!0),J<8?Z.set(8,F-J-1,U,!0):J<9?Z.set(8,15-J-1+1,U,!0):Z.set(8,15-J-1,U,!0);Z.set(F-8,8,1,!0)}function N(Z,H){const q=Z.size;let F=-1,W=q-1,J=7,U=0;for(let X=q-1;X>0;X-=2)for(X===6&&X--;;){for(let O=0;O<2;O++)if(!Z.isReserved(W,X-O)){let K=!1;U<H.length&&(K=(H[U]>>>J&1)===1),Z.set(W,X-O,K),J--,J===-1&&(U++,J=7)}if(W+=F,W<0||q<=W){W-=F,F=-F;break}}}function A(Z,H,q){const F=new n;q.forEach(function(O){F.put(O.mode.bit,4),F.put(O.getLength(),m.getCharCountIndicator(O.mode,Z)),O.write(F)});const W=e.getSymbolTotalCodewords(Z),J=u.getTotalCodewordsCount(Z,H),U=(W-J)*8;for(F.getLengthInBits()+4<=U&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const X=(U-F.getLengthInBits())/8;for(let O=0;O<X;O++)F.put(O%2?17:236,8);return z(F,Z,H)}function z(Z,H,q){const F=e.getSymbolTotalCodewords(H),W=u.getTotalCodewordsCount(H,q),J=F-W,U=u.getBlocksCount(H,q),X=F%U,O=U-X,K=Math.floor(F/U),se=Math.floor(J/U),ie=se+1,te=K-se,ee=new d(te);let le=0;const $=new Array(U),Q=new Array(U);let ke=0;const _e=new Uint8Array(Z.buffer);for(let je=0;je<U;je++){const Ze=je<O?se:ie;$[je]=_e.slice(le,le+Ze),Q[je]=ee.encode($[je]),le+=Ze,ke=Math.max(ke,Ze)}const ve=new Uint8Array(F);let Ie=0,Te,Ne;for(Te=0;Te<ke;Te++)for(Ne=0;Ne<U;Ne++)Te<$[Ne].length&&(ve[Ie++]=$[Ne][Te]);for(Te=0;Te<te;Te++)for(Ne=0;Ne<U;Ne++)ve[Ie++]=Q[Ne][Te];return ve}function D(Z,H,q,F){let W;if(Array.isArray(Z))W=b.fromArray(Z);else if(typeof Z=="string"){let K=H;if(!K){const se=b.rawSplit(Z);K=p.getBestVersionForData(se,q)}W=b.fromString(Z,K||40)}else throw new Error("Invalid data");const J=p.getBestVersionForData(W,q);if(!J)throw new Error("The amount of data is too big to be stored in a QR Code");if(!H)H=J;else if(H<J)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+J+`.
`);const U=A(H,q,W),X=e.getSymbolSize(H),O=new r(X);return _(O,H),S(O),v(O,H),k(O,q,0),H>=7&&E(O,H),N(O,U),isNaN(F)&&(F=l.getBestMask(O,k.bind(null,O,q))),l.applyMask(F,O),k(O,q,F),{modules:O,version:H,errorCorrectionLevel:q,maskPattern:F,segments:W}}return Zy.create=function(H,q){if(typeof H>"u"||H==="")throw new Error("No input text");let F=t.M,W,J;return typeof q<"u"&&(F=t.from(q.errorCorrectionLevel,t.M),W=p.from(q.version),J=l.from(q.maskPattern),q.toSJISFunc&&e.setToSJISFunction(q.toSJISFunc)),D(H,W,F,J)},Zy}var lv={},cv={},JE;function gA(){return JE||(JE=1,function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:s,scale:s?4:l,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const l=i.modules.size,u=i.modules.data,d=e.getScale(l,s),p=Math.floor((l+s.margin*2)*d),g=s.margin*d,m=[s.color.light,s.color.dark];for(let b=0;b<p;b++)for(let _=0;_<p;_++){let S=(b*p+_)*4,v=s.color.light;if(b>=g&&_>=g&&b<p-g&&_<p-g){const E=Math.floor((b-g)/d),k=Math.floor((_-g)/d);v=m[u[E*l+k]?1:0]}r[S++]=v.r,r[S++]=v.g,r[S++]=v.b,r[S]=v.a}}}(cv)),cv}var QE;function OW(){return QE||(QE=1,function(e){const t=gA();function n(i,s,l){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=l,s.width=l,s.style.height=l+"px",s.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,l,u){let d=u,p=l;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),l||(p=r()),d=t.getOptions(d);const g=t.getImageWidth(s.modules.size,d),m=p.getContext("2d"),b=m.createImageData(g,g);return t.qrToImageData(b.data,s,d),n(m,p,g),m.putImageData(b,0,0),p},e.renderToDataURL=function(s,l,u){let d=u;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),d||(d={});const p=e.render(s,l,d),g=d.type||"image/png",m=d.rendererOpts||{};return p.toDataURL(g,m.quality)}}(lv)),lv}var uv={},XE;function jW(){if(XE)return uv;XE=1;const e=gA();function t(i,s){const l=i.a/255,u=s+'="'+i.hex+'"';return l<1?u+" "+s+'-opacity="'+l.toFixed(2).slice(1)+'"':u}function n(i,s,l){let u=i+s;return typeof l<"u"&&(u+=" "+l),u}function r(i,s,l){let u="",d=0,p=!1,g=0;for(let m=0;m<i.length;m++){const b=Math.floor(m%s),_=Math.floor(m/s);!b&&!p&&(p=!0),i[m]?(g++,m>0&&b>0&&i[m-1]||(u+=p?n("M",b+l,.5+_+l):n("m",d,0),d=0,p=!1),b+1<s&&i[m+1]||(u+=n("h",g),g=0)):d++}return u}return uv.render=function(s,l,u){const d=e.getOptions(l),p=s.modules.size,g=s.modules.data,m=p+d.margin*2,b=d.color.light.a?"<path "+t(d.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",_="<path "+t(d.color.dark,"stroke")+' d="'+r(g,p,d.margin)+'"/>',S='viewBox="0 0 '+m+" "+m+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+S+' shape-rendering="crispEdges">'+b+_+`</svg>
`;return typeof u=="function"&&u(null,E),E},uv}var e2;function MW(){if(e2)return fc;e2=1;const e=gW(),t=LW(),n=OW(),r=jW();function i(s,l,u,d,p){const g=[].slice.call(arguments,1),m=g.length,b=typeof g[m-1]=="function";if(!b&&!e())throw new Error("Callback required as last argument");if(b){if(m<2)throw new Error("Too few arguments provided");m===2?(p=u,u=l,l=d=void 0):m===3&&(l.getContext&&typeof p>"u"?(p=d,d=void 0):(p=d,d=u,u=l,l=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(u=l,l=d=void 0):m===2&&!l.getContext&&(d=u,u=l,l=void 0),new Promise(function(_,S){try{const v=t.create(u,d);_(s(v,l,d))}catch(v){S(v)}})}try{const _=t.create(u,d);p(null,s(_,l,d))}catch(_){p(_)}}return fc.create=t.create,fc.toCanvas=i.bind(null,n.render),fc.toDataURL=i.bind(null,n.renderToDataURL),fc.toString=i.bind(null,function(s,l,u){return r.render(s,u)}),fc}var zW=MW();const DW=Vd(zW);function BW(e){try{const t=new URL(e.replace("nostr+walletconnect://","https://")),n=t.hostname||t.pathname.replace("//",""),r=t.searchParams.get("secret"),i=[];return t.searchParams.forEach((s,l)=>{l==="relay"&&i.push(s)}),!n||!r||i.length===0?null:{walletPubkey:n,secret:r,relays:i}}catch{return null}}function FW(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.slice(n*2,n*2+2),16);return t}function UW({connectionString:e,onPaymentReceived:t,enabled:n=!0}){const{nostr:r}=Ir(),[i,s]=C.useState(!1),[l,u]=C.useState(null),d=C.useRef(null),p=C.useRef(null),g=C.useRef(null),m=e?BW(e):null;C.useEffect(()=>{if(!(m!=null&&m.secret)){p.current=null,g.current=null;return}try{const _=FW(m.secret);p.current=new Pd(_),g.current=Bo(_),console.log("[NWC Notifications] Client pubkey derived:",g.current.slice(0,16)+"...")}catch(_){console.error("[NWC Notifications] Failed to create signer from secret:",_),p.current=null,g.current=null}},[m==null?void 0:m.secret]);const b=C.useCallback(async _=>{var v;if(!((v=p.current)!=null&&v.nip44)||!(m!=null&&m.walletPubkey)||!g.current||_.pubkey!==m.walletPubkey)return;const S=_.tags.find(([E])=>E==="p");if(!(S&&S[1]!==g.current))try{let E;if(_.kind===23197&&p.current.nip44)E=await p.current.nip44.decrypt(m.walletPubkey,_.content);else if(_.kind===23196&&p.current.nip04)E=await p.current.nip04.decrypt(m.walletPubkey,_.content);else return;const k=JSON.parse(E);if(k.notification_type==="payment_received"&&k.notification){const N={type:"incoming",state:k.notification.state,invoice:k.notification.invoice,preimage:k.notification.preimage,payment_hash:k.notification.payment_hash,amount:k.notification.amount,settled_at:k.notification.settled_at};console.log("[NWC Notifications] Payment received:",N),u(N),t==null||t(N)}}catch(E){console.error("[NWC Notifications] Failed to process notification:",E)}},[m==null?void 0:m.walletPubkey,t]);return C.useEffect(()=>{if(!n||!m||!p.current||!g.current){s(!1);return}const{walletPubkey:_,relays:S}=m,v=g.current,E=r.group(S);let k=!1;return(async()=>{try{console.log("[NWC Notifications] Subscribing to relays:",S),console.log("[NWC Notifications] Filter: authors=%s, #p=%s",_.slice(0,16)+"...",v.slice(0,16)+"...");const A=E.req([{kinds:[23196,23197],authors:[_],"#p":[v],limit:50}]);k||s(!0);for await(const z of A){if(k)break;if(z[0]==="EVENT"){const D=z[2];await b(D)}else z[0]==="EOSE"&&console.log("[NWC Notifications] End of stored events, now listening for new notifications")}}catch(A){console.error("[NWC Notifications] Subscription error:",A),k||s(!1)}})(),()=>{var A;k=!0,(A=d.current)==null||A.close(),s(!1)}},[n,m,r,b]),{isConnected:i,lastNotification:l,clientPubkey:g.current}}function $W({open:e,invoice:t,amountSats:n,onClose:r,onPay:i,onSettled:s}){var q;const[l,u]=C.useState(null),[d,p]=C.useState("pending"),[g,m]=C.useState(null),[b,_]=C.useState(!1),[S,v]=C.useState(0),E=FP(),[k,N]=C.useState(!1),A=60;C.useEffect(()=>{e&&(p("pending"),m(null),_(!1),v(0))},[e]),C.useEffect(()=>{if(!t)return;let F=!0;return DW.toDataURL(t,{width:256,margin:2}).then(W=>{F&&u(W)}).catch(()=>{F&&u(null)}),()=>{F=!1}},[t]);const{isConnected:z}=UW({connectionString:((q=E.getActiveConnection())==null?void 0:q.connectionString)??null,enabled:e&&!!t,onPaymentReceived:async F=>{F.preimage&&(p("success"),m("Payment confirmed!"),s&&await s({preimage:F.preimage}),setTimeout(()=>r(),2e3))}});C.useEffect(()=>{if(!e||!t||z)return;const F=E.getActiveConnection();if(!F)return;let W=!1;const J=3e3,U=async()=>{if(!W){v(O=>O+1);try{const K=await new Rd(F.connectionString).lookupInvoice(t);if(K&&K.state==="settled"&&K.preimage){p("success"),m("Payment confirmed!"),s&&await s({preimage:K.preimage}),setTimeout(()=>{W||r()},2e3);return}}catch{}!W&&S<A?setTimeout(U,J):S>=A&&m("Waiting for payment timed out. You can still pay manually.")}},X=setTimeout(U,J);return()=>{W=!0,clearTimeout(X)}},[e,t,E,r,s,S,z]);const D=async()=>{try{await navigator.clipboard.writeText(t),_(!0),setTimeout(()=>_(!1),2e3)}catch{m("Failed to copy")}},Z=async()=>{p("paying"),m(null);try{await i(),p("success"),m("Payment successful!"),setTimeout(()=>r(),1500)}catch(F){p("error"),m((F==null?void 0:F.message)||"Payment failed")}},H=()=>{switch(d){case"pending":return y.jsxs(Xr,{variant:"secondary",className:"gap-1",children:[y.jsx(OB,{className:"h-3 w-3"})," Awaiting Payment"]});case"polling":return y.jsxs(Xr,{variant:"secondary",className:"gap-1",children:[y.jsx(Nr,{className:"h-3 w-3 animate-spin"})," Checking..."]});case"paying":return y.jsxs(Xr,{variant:"default",className:"gap-1",children:[y.jsx(Nr,{className:"h-3 w-3 animate-spin"})," Processing"]});case"success":return y.jsxs(Xr,{variant:"default",className:"gap-1 bg-green-600",children:[y.jsx(fd,{className:"h-3 w-3"})," Paid"]});case"error":return y.jsxs(Xr,{variant:"destructive",className:"gap-1",children:[y.jsx(IB,{className:"h-3 w-3"})," Failed"]})}};return y.jsx(pm,{open:e,onOpenChange:F=>{!F&&d!=="paying"&&r()},children:y.jsxs(rf,{className:"max-w-md",children:[y.jsxs(of,{children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs(mm,{className:"flex items-center gap-2",children:[y.jsx(t0,{className:"h-5 w-5 text-yellow-500"}),"Pay Invoice"]}),H()]}),y.jsx(e_,{children:"Scan the QR code with any Lightning wallet or pay directly."})]}),y.jsxs("div",{className:"space-y-4",children:[n&&y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"text-3xl font-bold",children:n.toLocaleString()}),y.jsx("span",{className:"text-lg text-muted-foreground ml-2",children:"sats"})]}),y.jsx("div",{className:"flex justify-center p-4 bg-white rounded-lg",children:l?y.jsx("img",{src:l,alt:"Lightning Invoice QR",className:"w-56 h-56"}):y.jsx("div",{className:"w-56 h-56 flex items-center justify-center bg-muted rounded",children:y.jsx(Nr,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}),y.jsxs("div",{className:"relative",children:[y.jsx("textarea",{readOnly:!0,value:t,className:"w-full p-3 pr-12 rounded-lg border bg-muted/50 text-xs font-mono resize-none",rows:3}),y.jsx(Nt,{size:"icon",variant:"ghost",className:"absolute right-2 top-2",onClick:D,children:b?y.jsx(fd,{className:"h-4 w-4 text-green-500"}):y.jsx(jB,{className:"h-4 w-4"})})]}),d==="pending"&&y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(Nr,{className:"h-3 w-3 animate-spin"}),z?"Listening for payment...":"Waiting for payment..."]}),!z&&S>0&&y.jsxs("span",{children:[Math.floor(S/A*100),"%"]})]}),!z&&S>0&&y.jsx(fA,{value:S/A*100,className:"h-1"}),z&&y.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[y.jsx(fd,{className:"h-3 w-3"}),"Real-time notifications active"]})]}),g&&y.jsx("div",{className:`text-sm text-center p-2 rounded ${d==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":d==="error"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-muted text-muted-foreground"}`,children:g}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(Nt,{variant:"outline",onClick:r,disabled:d==="paying",className:"flex-1",children:"Cancel"}),y.jsx(Nt,{onClick:Z,disabled:d==="paying"||d==="success",className:"flex-1",children:d==="paying"?y.jsxs(y.Fragment,{children:[y.jsx(Nr,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):d==="success"?y.jsxs(y.Fragment,{children:[y.jsx(fd,{className:"h-4 w-4 mr-2"}),"Paid!"]}):y.jsxs(y.Fragment,{children:[y.jsx(t0,{className:"h-4 w-4 mr-2"}),"Pay Now"]})})]}),y.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Invoice will auto-detect when paid. You can also copy and pay externally."})]})]})})}function ZW(){var z;const{nip19:e}=KP();su({title:"Locker Details"});const{nostr:t}=Ir(),n=FP();pl();const{mutateAsync:r}=aW(),{data:i}=Ki({queryKey:["locker-detail",e],queryFn:async()=>{if(!e)return null;const D=await t.query([{kinds:[30402],"#d":[e],limit:1}]);return!D||D.length===0?null:m_(D[0])},staleTime:6e4}),s=oW(i==null?void 0:i.pubkey),[l,u]=C.useState(!1),[d,p]=C.useState(""),[g,m]=C.useState(!1),[b,_]=C.useState(""),{connections:S,activeConnection:v,setActiveConnection:E,getActiveConnection:k}=n,N=async()=>{if(!i)return;const D=k();if(!D){p("No wallet connected. Please connect a Nostr Wallet Connect wallet first.");return}u(!0),p("");try{const Z=new Rd(D.connectionString),H=i.price*1e3,q=await Z.makeInvoice({amount:H,description:`Locker rental ${i.dTag}`});_(q.invoice),m(!0)}catch(Z){p((Z==null?void 0:Z.message)??"Failed to create invoice"),u(!1)}},A=async()=>{if(!i)throw new Error("No locker");const D=k();if(!D)throw new Error("No wallet connected");const q=(await new Rd(D.connectionString).pay(b)).preimage;return await r({recipientPubkey:i.pubkey,lockerId:i.dTag,paymentPreimage:q,rentalInvoice:b}),p("Unlock command sent via NIP-17. Locker should open shortly."),u(!1),q};return i?y.jsxs("div",{className:"container mx-auto p-6 space-y-4",children:[S.length>1&&y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsx("span",{className:"text-muted-foreground",children:"Wallet"}),y.jsx("select",{className:"px-2 py-1 border rounded bg-background",value:v??"",onChange:D=>E(D.target.value),children:S.map(D=>y.jsx("option",{value:D.connectionString,children:D.alias??"NWC Wallet"},D.connectionString))})]}),y.jsxs("div",{className:"card",children:[y.jsx(pr,{children:y.jsx(Qr,{children:i.title})}),y.jsxs(fn,{children:[y.jsx("p",{className:"text-sm text-muted-foreground",children:i.location||i.geohash}),y.jsxs("p",{className:"mt-2",children:["Dimensions: ",i.dimensions]}),y.jsxs("p",{children:["Fee: ",i.price," sats"]}),y.jsxs("p",{children:["Owner: ",i.pubkey]}),y.jsxs("p",{children:["Trust Score: ",((z=s==null?void 0:s.data)==null?void 0:z.score)??""]}),y.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:i.description})]})]}),y.jsx("div",{children:y.jsxs(Vt,{children:[y.jsx(pr,{children:y.jsx(Qr,{children:"Rent this Locker"})}),y.jsxs(fn,{children:[y.jsx("p",{className:"text-sm text-muted-foreground",children:"This will create a rental invoice via your connected wallet and unlock the locker once paid."}),y.jsx(Nt,{onClick:N,disabled:l,className:"mt-4",children:l?"Creating invoice...":`Rent for ${i.price} sats`}),d&&y.jsx("p",{className:"mt-2 text-sm",children:d})]})]})}),y.jsx($W,{open:g,invoice:b,onClose:()=>{m(!1),l&&u(!1)},onPay:A,onSettled:async D=>{if(!i)return;const Z=D.preimage;if(Z){try{await r({recipientPubkey:i.pubkey,lockerId:i.dTag,paymentPreimage:Z,rentalInvoice:b}),p("Unlock command sent via NIP-17. Locker should open shortly.")}catch(H){p((H==null?void 0:H.message)??"Failed to send unlock command")}u(!1)}}})]}):y.jsx("div",{className:"container mx-auto p-6",children:"Locker not found."})}var HW="Label",yA=C.forwardRef((e,t)=>y.jsx(Ye.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));yA.displayName=HW;var vA=yA;const WW=ef("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ur=C.forwardRef(({className:e,...t},n)=>y.jsx(vA,{ref:n,className:qe(WW(),e),...t}));ur.displayName=vA.displayName;function Bd(e,[t,n]){return Math.min(n,Math.max(t,e))}function w_(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wA=["PageUp","PageDown"],_A=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xA={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},au="Slider",[_0,VW,qW]=Jd(au),[bA,mK]=$n(au,[qW]),[KW,Sm]=bA(au),EA=C.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:p=[r],value:g,onValueChange:m=()=>{},onValueCommit:b=()=>{},inverted:_=!1,form:S,...v}=e,E=C.useRef(new Set),k=C.useRef(0),A=l==="horizontal"?GW:YW,[z=[],D]=bi({prop:g,defaultProp:p,onChange:J=>{var X;(X=[...E.current][k.current])==null||X.focus(),m(J)}}),Z=C.useRef(z);function H(J){const U=tV(z,J);W(J,U)}function q(J){W(J,k.current)}function F(){const J=Z.current[k.current];z[k.current]!==J&&b(z)}function W(J,U,{commit:X}={commit:!1}){const O=oV(s),K=sV(Math.round((J-r)/s)*s+r,O),se=Bd(K,[r,i]);D((ie=[])=>{const te=XW(ie,se,U);if(iV(te,d*s)){k.current=te.indexOf(se);const ee=String(te)!==String(ie);return ee&&X&&b(te),ee?te:ie}else return ie})}return y.jsx(KW,{scope:e.__scopeSlider,name:n,disabled:u,min:r,max:i,valueIndexToChangeRef:k,thumbs:E.current,values:z,orientation:l,form:S,children:y.jsx(_0.Provider,{scope:e.__scopeSlider,children:y.jsx(_0.Slot,{scope:e.__scopeSlider,children:y.jsx(A,{"aria-disabled":u,"data-disabled":u?"":void 0,...v,ref:t,onPointerDown:Ue(v.onPointerDown,()=>{u||(Z.current=z)}),min:r,max:i,inverted:_,onSlideStart:u?void 0:H,onSlideMove:u?void 0:q,onSlideEnd:u?void 0:F,onHomeKeyDown:()=>!u&&W(r,0,{commit:!0}),onEndKeyDown:()=>!u&&W(i,z.length-1,{commit:!0}),onStepKeyDown:({event:J,direction:U})=>{if(!u){const K=wA.includes(J.key)||J.shiftKey&&_A.includes(J.key)?10:1,se=k.current,ie=z[se],te=s*K*U;W(ie+te,se,{commit:!0})}}})})})})});EA.displayName=au;var[SA,kA]=bA(au,{startEdge:"left",endEdge:"right",size:"width",direction:1}),GW=C.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:l,onSlideMove:u,onSlideEnd:d,onStepKeyDown:p,...g}=e,[m,b]=C.useState(null),_=mt(t,A=>b(A)),S=C.useRef(void 0),v=ou(i),E=v==="ltr",k=E&&!s||!E&&s;function N(A){const z=S.current||m.getBoundingClientRect(),D=[0,z.width],H=__(D,k?[n,r]:[r,n]);return S.current=z,H(A-z.left)}return y.jsx(SA,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:y.jsx(CA,{dir:v,"data-orientation":"horizontal",...g,ref:_,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const z=N(A.clientX);l==null||l(z)},onSlideMove:A=>{const z=N(A.clientX);u==null||u(z)},onSlideEnd:()=>{S.current=void 0,d==null||d()},onStepKeyDown:A=>{const D=xA[k?"from-left":"from-right"].includes(A.key);p==null||p({event:A,direction:D?-1:1})}})})}),YW=C.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:l,onSlideEnd:u,onStepKeyDown:d,...p}=e,g=C.useRef(null),m=mt(t,g),b=C.useRef(void 0),_=!i;function S(v){const E=b.current||g.current.getBoundingClientRect(),k=[0,E.height],A=__(k,_?[r,n]:[n,r]);return b.current=E,A(v-E.top)}return y.jsx(SA,{scope:e.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:y.jsx(CA,{"data-orientation":"vertical",...p,ref:m,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const E=S(v.clientY);s==null||s(E)},onSlideMove:v=>{const E=S(v.clientY);l==null||l(E)},onSlideEnd:()=>{b.current=void 0,u==null||u()},onStepKeyDown:v=>{const k=xA[_?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:k?-1:1})}})})}),CA=C.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:d,...p}=e,g=Sm(au,n);return y.jsx(Ye.span,{...p,ref:t,onKeyDown:Ue(e.onKeyDown,m=>{m.key==="Home"?(l(m),m.preventDefault()):m.key==="End"?(u(m),m.preventDefault()):wA.concat(_A).includes(m.key)&&(d(m),m.preventDefault())}),onPointerDown:Ue(e.onPointerDown,m=>{const b=m.target;b.setPointerCapture(m.pointerId),m.preventDefault(),g.thumbs.has(b)?b.focus():r(m)}),onPointerMove:Ue(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:Ue(e.onPointerUp,m=>{const b=m.target;b.hasPointerCapture(m.pointerId)&&(b.releasePointerCapture(m.pointerId),s(m))})})}),PA="SliderTrack",TA=C.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Sm(PA,n);return y.jsx(Ye.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});TA.displayName=PA;var x0="SliderRange",NA=C.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Sm(x0,n),s=kA(x0,n),l=C.useRef(null),u=mt(t,l),d=i.values.length,p=i.values.map(b=>IA(b,i.min,i.max)),g=d>1?Math.min(...p):0,m=100-Math.max(...p);return y.jsx(Ye.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:u,style:{...e.style,[s.startEdge]:g+"%",[s.endEdge]:m+"%"}})});NA.displayName=x0;var b0="SliderThumb",AA=C.forwardRef((e,t)=>{const n=VW(e.__scopeSlider),[r,i]=C.useState(null),s=mt(t,u=>i(u)),l=C.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return y.jsx(JW,{...e,ref:s,index:l})}),JW=C.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...s}=e,l=Sm(b0,n),u=kA(b0,n),[d,p]=C.useState(null),g=mt(t,N=>p(N)),m=d?l.form||!!d.closest("form"):!0,b=Mw(d),_=l.values[r],S=_===void 0?0:IA(_,l.min,l.max),v=eV(r,l.values.length),E=b==null?void 0:b[u.size],k=E?nV(E,S,u.direction):0;return C.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),y.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${S}% + ${k}px)`},children:[y.jsx(_0.ItemSlot,{scope:e.__scopeSlider,children:y.jsx(Ye.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":l.min,"aria-valuenow":_,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...s,ref:g,style:_===void 0?{display:"none"}:e.style,onFocus:Ue(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),m&&y.jsx(RA,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:_},r)]})});AA.displayName=b0;var QW="RadioBubbleInput",RA=C.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=C.useRef(null),s=mt(i,r),l=w_(t);return C.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&g){const m=new Event("input",{bubbles:!0});g.call(u,t),u.dispatchEvent(m)}},[l,t]),y.jsx(Ye.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});RA.displayName=QW;function XW(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,s)=>i-s)}function IA(e,t,n){const s=100/(n-t)*(e-t);return Bd(s,[0,100])}function eV(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function tV(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function nV(e,t,n){const r=e/2,s=__([0,50],[0,r]);return(r-s(t)*n)*n}function rV(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function iV(e,t){if(t>0){const n=rV(e);return Math.min(...n)>=t}return!0}function __(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function oV(e){return(String(e).split(".")[1]||"").length}function sV(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var LA=EA,aV=TA,lV=NA,cV=AA;const OA=C.forwardRef(({className:e,...t},n)=>y.jsxs(LA,{ref:n,className:qe("relative flex w-full touch-none select-none items-center",e),...t,children:[y.jsx(aV,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:y.jsx(lV,{className:"absolute h-full bg-primary"})}),y.jsx(cV,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));OA.displayName=LA.displayName;function Ar({className:e,...t}){return y.jsx("div",{className:qe("animate-pulse rounded-md bg-muted",e),...t})}var pd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var uV=pd.exports,t2;function dV(){return t2||(t2=1,function(e,t){(function(n,r){r(t)})(uV,function(n){var r="1.9.4";function i(a){var f,w,P,M;for(w=1,P=arguments.length;w<P;w++){M=arguments[w];for(f in M)a[f]=M[f]}return a}var s=Object.create||function(){function a(){}return function(f){return a.prototype=f,new a}}();function l(a,f){var w=Array.prototype.slice;if(a.bind)return a.bind.apply(a,w.call(arguments,1));var P=w.call(arguments,2);return function(){return a.apply(f,P.length?P.concat(w.call(arguments)):arguments)}}var u=0;function d(a){return"_leaflet_id"in a||(a._leaflet_id=++u),a._leaflet_id}function p(a,f,w){var P,M,Y,ce;return ce=function(){P=!1,M&&(Y.apply(w,M),M=!1)},Y=function(){P?M=arguments:(a.apply(w,arguments),setTimeout(ce,f),P=!0)},Y}function g(a,f,w){var P=f[1],M=f[0],Y=P-M;return a===P&&w?a:((a-M)%Y+Y)%Y+M}function m(){return!1}function b(a,f){if(f===!1)return a;var w=Math.pow(10,f===void 0?6:f);return Math.round(a*w)/w}function _(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function S(a){return _(a).split(/\s+/)}function v(a,f){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?s(a.options):{});for(var w in f)a.options[w]=f[w];return a.options}function E(a,f,w){var P=[];for(var M in a)P.push(encodeURIComponent(w?M.toUpperCase():M)+"="+encodeURIComponent(a[M]));return(!f||f.indexOf("?")===-1?"?":"&")+P.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function N(a,f){return a.replace(k,function(w,P){var M=f[P];if(M===void 0)throw new Error("No value provided for variable "+w);return typeof M=="function"&&(M=M(f)),M})}var A=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function z(a,f){for(var w=0;w<a.length;w++)if(a[w]===f)return w;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var H=0;function q(a){var f=+new Date,w=Math.max(0,16-(f-H));return H=f+w,window.setTimeout(a,w)}var F=window.requestAnimationFrame||Z("RequestAnimationFrame")||q,W=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function J(a,f,w){if(w&&F===q)a.call(f);else return F.call(window,l(a,f))}function U(a){a&&W.call(window,a)}var X={__proto__:null,extend:i,create:s,bind:l,get lastId(){return u},stamp:d,throttle:p,wrapNum:g,falseFn:m,formatNum:b,trim:_,splitWords:S,setOptions:v,getParamString:E,template:N,isArray:A,indexOf:z,emptyImageUrl:D,requestFn:F,cancelFn:W,requestAnimFrame:J,cancelAnimFrame:U};function O(){}O.extend=function(a){var f=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=f.__super__=this.prototype,P=s(w);P.constructor=f,f.prototype=P;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(f[M]=this[M]);return a.statics&&i(f,a.statics),a.includes&&(K(a.includes),i.apply(null,[P].concat(a.includes))),i(P,a),delete P.statics,delete P.includes,P.options&&(P.options=w.options?s(w.options):{},i(P.options,a.options)),P._initHooks=[],P.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var Y=0,ce=P._initHooks.length;Y<ce;Y++)P._initHooks[Y].call(this)}},f},O.include=function(a){var f=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=f,this.mergeOptions(a.options)),this},O.mergeOptions=function(a){return i(this.prototype.options,a),this},O.addInitHook=function(a){var f=Array.prototype.slice.call(arguments,1),w=typeof a=="function"?a:function(){this[a].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function K(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=A(a)?a:[a];for(var f=0;f<a.length;f++)a[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(a,f,w){if(typeof a=="object")for(var P in a)this._on(P,a[P],f);else{a=S(a);for(var M=0,Y=a.length;M<Y;M++)this._on(a[M],f,w)}return this},off:function(a,f,w){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var P in a)this._off(P,a[P],f);else{a=S(a);for(var M=arguments.length===1,Y=0,ce=a.length;Y<ce;Y++)M?this._off(a[Y]):this._off(a[Y],f,w)}return this},_on:function(a,f,w,P){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(a,f,w)===!1){w===this&&(w=void 0);var M={fn:f,ctx:w};P&&(M.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(M)}},_off:function(a,f,w){var P,M,Y;if(this._events&&(P=this._events[a],!!P)){if(arguments.length===1){if(this._firingCount)for(M=0,Y=P.length;M<Y;M++)P[M].fn=m;delete this._events[a];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var ce=this._listens(a,f,w);if(ce!==!1){var ge=P[ce];this._firingCount&&(ge.fn=m,this._events[a]=P=P.slice()),P.splice(ce,1)}}},fire:function(a,f,w){if(!this.listens(a,w))return this;var P=i({},f,{type:a,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var M=this._events[a];if(M){this._firingCount=this._firingCount+1||1;for(var Y=0,ce=M.length;Y<ce;Y++){var ge=M[Y],Ee=ge.fn;ge.once&&this.off(a,Ee,ge.ctx),Ee.call(ge.ctx||this,P)}this._firingCount--}}return w&&this._propagateEvent(P),this},listens:function(a,f,w,P){typeof a!="string"&&console.warn('"string" type argument expected');var M=f;typeof f!="function"&&(P=!!f,M=void 0,w=void 0);var Y=this._events&&this._events[a];if(Y&&Y.length&&this._listens(a,M,w)!==!1)return!0;if(P){for(var ce in this._eventParents)if(this._eventParents[ce].listens(a,f,w,P))return!0}return!1},_listens:function(a,f,w){if(!this._events)return!1;var P=this._events[a]||[];if(!f)return!!P.length;w===this&&(w=void 0);for(var M=0,Y=P.length;M<Y;M++)if(P[M].fn===f&&P[M].ctx===w)return M;return!1},once:function(a,f,w){if(typeof a=="object")for(var P in a)this._on(P,a[P],f,!0);else{a=S(a);for(var M=0,Y=a.length;M<Y;M++)this._on(a[M],f,w,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[d(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[d(a)],this},_propagateEvent:function(a){for(var f in this._eventParents)this._eventParents[f].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var ie=O.extend(se);function te(a,f,w){this.x=w?Math.round(a):a,this.y=w?Math.round(f):f}var ee=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(a){return this.clone()._add(le(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(le(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new te(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new te(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(a){a=le(a);var f=a.x-this.x,w=a.y-this.y;return Math.sqrt(f*f+w*w)},equals:function(a){return a=le(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=le(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function le(a,f,w){return a instanceof te?a:A(a)?new te(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new te(a.x,a.y):new te(a,f,w)}function $(a,f){if(a)for(var w=f?[a,f]:a,P=0,M=w.length;P<M;P++)this.extend(w[P])}$.prototype={extend:function(a){var f,w;if(!a)return this;if(a instanceof te||typeof a[0]=="number"||"x"in a)f=w=le(a);else if(a=Q(a),f=a.min,w=a.max,!f||!w)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=w.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(a){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var f,w;return typeof a[0]=="number"||a instanceof te?a=le(a):a=Q(a),a instanceof $?(f=a.min,w=a.max):f=w=a,f.x>=this.min.x&&w.x<=this.max.x&&f.y>=this.min.y&&w.y<=this.max.y},intersects:function(a){a=Q(a);var f=this.min,w=this.max,P=a.min,M=a.max,Y=M.x>=f.x&&P.x<=w.x,ce=M.y>=f.y&&P.y<=w.y;return Y&&ce},overlaps:function(a){a=Q(a);var f=this.min,w=this.max,P=a.min,M=a.max,Y=M.x>f.x&&P.x<w.x,ce=M.y>f.y&&P.y<w.y;return Y&&ce},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var f=this.min,w=this.max,P=Math.abs(f.x-w.x)*a,M=Math.abs(f.y-w.y)*a;return Q(le(f.x-P,f.y-M),le(w.x+P,w.y+M))},equals:function(a){return a?(a=Q(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Q(a,f){return!a||a instanceof $?a:new $(a,f)}function ke(a,f){if(a)for(var w=f?[a,f]:a,P=0,M=w.length;P<M;P++)this.extend(w[P])}ke.prototype={extend:function(a){var f=this._southWest,w=this._northEast,P,M;if(a instanceof ve)P=a,M=a;else if(a instanceof ke){if(P=a._southWest,M=a._northEast,!P||!M)return this}else return a?this.extend(Ie(a)||_e(a)):this;return!f&&!w?(this._southWest=new ve(P.lat,P.lng),this._northEast=new ve(M.lat,M.lng)):(f.lat=Math.min(P.lat,f.lat),f.lng=Math.min(P.lng,f.lng),w.lat=Math.max(M.lat,w.lat),w.lng=Math.max(M.lng,w.lng)),this},pad:function(a){var f=this._southWest,w=this._northEast,P=Math.abs(f.lat-w.lat)*a,M=Math.abs(f.lng-w.lng)*a;return new ke(new ve(f.lat-P,f.lng-M),new ve(w.lat+P,w.lng+M))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ve||"lat"in a?a=Ie(a):a=_e(a);var f=this._southWest,w=this._northEast,P,M;return a instanceof ke?(P=a.getSouthWest(),M=a.getNorthEast()):P=M=a,P.lat>=f.lat&&M.lat<=w.lat&&P.lng>=f.lng&&M.lng<=w.lng},intersects:function(a){a=_e(a);var f=this._southWest,w=this._northEast,P=a.getSouthWest(),M=a.getNorthEast(),Y=M.lat>=f.lat&&P.lat<=w.lat,ce=M.lng>=f.lng&&P.lng<=w.lng;return Y&&ce},overlaps:function(a){a=_e(a);var f=this._southWest,w=this._northEast,P=a.getSouthWest(),M=a.getNorthEast(),Y=M.lat>f.lat&&P.lat<w.lat,ce=M.lng>f.lng&&P.lng<w.lng;return Y&&ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,f){return a?(a=_e(a),this._southWest.equals(a.getSouthWest(),f)&&this._northEast.equals(a.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(a,f){return a instanceof ke?a:new ke(a,f)}function ve(a,f,w){if(isNaN(a)||isNaN(f))throw new Error("Invalid LatLng object: ("+a+", "+f+")");this.lat=+a,this.lng=+f,w!==void 0&&(this.alt=+w)}ve.prototype={equals:function(a,f){if(!a)return!1;a=Ie(a);var w=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return w<=(f===void 0?1e-9:f)},toString:function(a){return"LatLng("+b(this.lat,a)+", "+b(this.lng,a)+")"},distanceTo:function(a){return Ne.distance(this,Ie(a))},wrap:function(){return Ne.wrapLatLng(this)},toBounds:function(a){var f=180*a/40075017,w=f/Math.cos(Math.PI/180*this.lat);return _e([this.lat-f,this.lng-w],[this.lat+f,this.lng+w])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function Ie(a,f,w){return a instanceof ve?a:A(a)&&typeof a[0]!="object"?a.length===3?new ve(a[0],a[1],a[2]):a.length===2?new ve(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ve(a.lat,"lng"in a?a.lng:a.lon,a.alt):f===void 0?null:new ve(a,f,w)}var Te={latLngToPoint:function(a,f){var w=this.projection.project(a),P=this.scale(f);return this.transformation._transform(w,P)},pointToLatLng:function(a,f){var w=this.scale(f),P=this.transformation.untransform(a,w);return this.projection.unproject(P)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var f=this.projection.bounds,w=this.scale(a),P=this.transformation.transform(f.min,w),M=this.transformation.transform(f.max,w);return new $(P,M)},infinite:!1,wrapLatLng:function(a){var f=this.wrapLng?g(a.lng,this.wrapLng,!0):a.lng,w=this.wrapLat?g(a.lat,this.wrapLat,!0):a.lat,P=a.alt;return new ve(w,f,P)},wrapLatLngBounds:function(a){var f=a.getCenter(),w=this.wrapLatLng(f),P=f.lat-w.lat,M=f.lng-w.lng;if(P===0&&M===0)return a;var Y=a.getSouthWest(),ce=a.getNorthEast(),ge=new ve(Y.lat-P,Y.lng-M),Ee=new ve(ce.lat-P,ce.lng-M);return new ke(ge,Ee)}},Ne=i({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(a,f){var w=Math.PI/180,P=a.lat*w,M=f.lat*w,Y=Math.sin((f.lat-a.lat)*w/2),ce=Math.sin((f.lng-a.lng)*w/2),ge=Y*Y+Math.cos(P)*Math.cos(M)*ce*ce,Ee=2*Math.atan2(Math.sqrt(ge),Math.sqrt(1-ge));return this.R*Ee}}),je=6378137,Ze={R:je,MAX_LATITUDE:85.0511287798,project:function(a){var f=Math.PI/180,w=this.MAX_LATITUDE,P=Math.max(Math.min(w,a.lat),-w),M=Math.sin(P*f);return new te(this.R*a.lng*f,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(a){var f=180/Math.PI;return new ve((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*f,a.x*f/this.R)},bounds:function(){var a=je*Math.PI;return new $([-a,-a],[a,a])}()};function Qe(a,f,w,P){if(A(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=f,this._c=w,this._d=P}Qe.prototype={transform:function(a,f){return this._transform(a.clone(),f)},_transform:function(a,f){return f=f||1,a.x=f*(this._a*a.x+this._b),a.y=f*(this._c*a.y+this._d),a},untransform:function(a,f){return f=f||1,new te((a.x/f-this._b)/this._a,(a.y/f-this._d)/this._c)}};function ot(a,f,w,P){return new Qe(a,f,w,P)}var at=i({},Ne,{code:"EPSG:3857",projection:Ze,transformation:function(){var a=.5/(Math.PI*Ze.R);return ot(a,.5,-a,.5)}()}),B=i({},at,{code:"EPSG:900913"});function Pe(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function be(a,f){var w="",P,M,Y,ce,ge,Ee;for(P=0,Y=a.length;P<Y;P++){for(ge=a[P],M=0,ce=ge.length;M<ce;M++)Ee=ge[M],w+=(M?"L":"M")+Ee.x+" "+Ee.y;w+=f?nt.svg?"z":"x":""}return w||"M0 0"}var oe=document.documentElement.style,re="ActiveXObject"in window,pe=re&&!document.addEventListener,Re="msLaunchUri"in navigator&&!("documentMode"in document),Le=An("webkit"),me=An("android"),Be=An("android 2")||An("android 3"),Ve=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),De=me&&An("Google")&&Ve<537&&!("AudioNode"in window),tt=!!window.opera,G=!Re&&An("chrome"),R=An("gecko")&&!Le&&!tt&&!re,j=!G&&An("safari"),ne=An("phantom"),fe="OTransition"in oe,xe=navigator.platform.indexOf("Win")===0,Ce=re&&"transition"in oe,dt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Be,Lt="MozPerspective"in oe,_t=!window.L_DISABLE_3D&&(Ce||dt||Lt)&&!fe&&!ne,kt=typeof orientation<"u"||An("mobile"),Ct=kt&&Le,fa=kt&&dt,Wo=!window.PointerEvent&&window.MSPointerEvent,Lr=!!(window.PointerEvent||Wo),Hn="ontouchstart"in window||!!window.TouchEvent,to=!window.L_NO_TOUCH&&(Hn||Lr),uf=kt&&tt,df=kt&&R,ff=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,hf=function(){var a=!1;try{var f=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",m,f),window.removeEventListener("testPassiveEventSupport",m,f)}catch{}return a}(),cu=function(){return!!document.createElement("canvas").getContext}(),xl=!!(document.createElementNS&&Pe("svg").createSVGRect),ha=!!xl&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),uu=!xl&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var f=a.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),pa=navigator.platform.indexOf("Mac")===0,Rm=navigator.platform.indexOf("Linux")===0;function An(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var nt={ie:re,ielt9:pe,edge:Re,webkit:Le,android:me,android23:Be,androidStock:De,opera:tt,chrome:G,gecko:R,safari:j,phantom:ne,opera12:fe,win:xe,ie3d:Ce,webkit3d:dt,gecko3d:Lt,any3d:_t,mobile:kt,mobileWebkit:Ct,mobileWebkit3d:fa,msPointer:Wo,pointer:Lr,touch:to,touchNative:Hn,mobileOpera:uf,mobileGecko:df,retina:ff,passiveEvents:hf,canvas:cu,svg:xl,vml:uu,inlineSvg:ha,mac:pa,linux:Rm},ma=nt.msPointer?"MSPointerDown":"pointerdown",bl=nt.msPointer?"MSPointerMove":"pointermove",pf=nt.msPointer?"MSPointerUp":"pointerup",mf=nt.msPointer?"MSPointerCancel":"pointercancel",du={touchstart:ma,touchmove:bl,touchend:pf,touchcancel:mf},Ci={touchstart:Qt,touchmove:El,touchend:El,touchcancel:El},no={},fu=!1;function Im(a,f,w){return f==="touchstart"&&Lm(),Ci[f]?(w=Ci[f].bind(this,w),a.addEventListener(du[f],w,!1),w):(console.warn("wrong event specified:",f),m)}function gf(a,f,w){if(!du[f]){console.warn("wrong event specified:",f);return}a.removeEventListener(du[f],w,!1)}function yf(a){no[a.pointerId]=a}function vf(a){no[a.pointerId]&&(no[a.pointerId]=a)}function hu(a){delete no[a.pointerId]}function Lm(){fu||(document.addEventListener(ma,yf,!0),document.addEventListener(bl,vf,!0),document.addEventListener(pf,hu,!0),document.addEventListener(mf,hu,!0),fu=!0)}function El(a,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var w in no)f.touches.push(no[w]);f.changedTouches=[f],a(f)}}function Qt(a,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&Xt(f),El(a,f)}function Om(a){var f={},w,P;for(P in a)w=a[P],f[P]=w&&w.bind?w.bind(a):w;return a=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var pu=200;function wf(a,f){a.addEventListener("dblclick",f);var w=0,P;function M(Y){if(Y.detail!==1){P=Y.detail;return}if(!(Y.pointerType==="mouse"||Y.sourceCapabilities&&!Y.sourceCapabilities.firesTouchEvents)){var ce=oo(Y);if(!(ce.some(function(Ee){return Ee instanceof HTMLLabelElement&&Ee.attributes.for})&&!ce.some(function(Ee){return Ee instanceof HTMLInputElement||Ee instanceof HTMLSelectElement}))){var ge=Date.now();ge-w<=pu?(P++,P===2&&f(Om(Y))):P=1,w=ge}}}return a.addEventListener("click",M),{dblclick:f,simDblclick:M}}function Sl(a,f){a.removeEventListener("dblclick",f.dblclick),a.removeEventListener("click",f.simDblclick)}var mu=Go(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vo=Go(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ga=Vo==="webkitTransition"||Vo==="OTransition"?Vo+"End":"transitionend";function yr(a){return typeof a=="string"?document.getElementById(a):a}function ya(a,f){var w=a.style[f]||a.currentStyle&&a.currentStyle[f];if((!w||w==="auto")&&document.defaultView){var P=document.defaultView.getComputedStyle(a,null);w=P?P[f]:null}return w==="auto"?null:w}function gt(a,f,w){var P=document.createElement(a);return P.className=f||"",w&&w.appendChild(P),P}function Zt(a){var f=a.parentNode;f&&f.removeChild(a)}function kl(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function qo(a){var f=a.parentNode;f&&f.lastChild!==a&&f.appendChild(a)}function oi(a){var f=a.parentNode;f&&f.firstChild!==a&&f.insertBefore(a,f.firstChild)}function Ko(a,f){if(a.classList!==void 0)return a.classList.contains(f);var w=Cl(a);return w.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(w)}function pt(a,f){if(a.classList!==void 0)for(var w=S(f),P=0,M=w.length;P<M;P++)a.classList.add(w[P]);else if(!Ko(a,f)){var Y=Cl(a);gu(a,(Y?Y+" ":"")+f)}}function Ut(a,f){a.classList!==void 0?a.classList.remove(f):gu(a,_((" "+Cl(a)+" ").replace(" "+f+" "," ")))}function gu(a,f){a.className.baseVal===void 0?a.className=f:a.className.baseVal=f}function Cl(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Rn(a,f){"opacity"in a.style?a.style.opacity=f:"filter"in a.style&&_f(a,f)}function _f(a,f){var w=!1,P="DXImageTransform.Microsoft.Alpha";try{w=a.filters.item(P)}catch{if(f===1)return}f=Math.round(f*100),w?(w.Enabled=f!==100,w.Opacity=f):a.style.filter+=" progid:"+P+"(opacity="+f+")"}function Go(a){for(var f=document.documentElement.style,w=0;w<a.length;w++)if(a[w]in f)return a[w];return!1}function vr(a,f,w){var P=f||new te(0,0);a.style[mu]=(nt.ie3d?"translate("+P.x+"px,"+P.y+"px)":"translate3d("+P.x+"px,"+P.y+"px,0)")+(w?" scale("+w+")":"")}function rn(a,f){a._leaflet_pos=f,nt.any3d?vr(a,f):(a.style.left=f.x+"px",a.style.top=f.y+"px")}function si(a){return a._leaflet_pos||new te(0,0)}var Pt,Yo,Pl;if("onselectstart"in document)Pt=function(){ft(window,"selectstart",Xt)},Yo=function(){Dt(window,"selectstart",Xt)};else{var ro=Go(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pt=function(){if(ro){var a=document.documentElement.style;Pl=a[ro],a[ro]="none"}},Yo=function(){ro&&(document.documentElement.style[ro]=Pl,Pl=void 0)}}function Tl(){ft(window,"dragstart",Xt)}function Nl(){Dt(window,"dragstart",Xt)}var va,wa;function Jo(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(wr(),va=a,wa=a.style.outlineStyle,a.style.outlineStyle="none",ft(window,"keydown",wr))}function wr(){va&&(va.style.outlineStyle=wa,va=void 0,wa=void 0,Dt(window,"keydown",wr))}function ai(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Or(a){var f=a.getBoundingClientRect();return{x:f.width/a.offsetWidth||1,y:f.height/a.offsetHeight||1,boundingClientRect:f}}var _a={__proto__:null,TRANSFORM:mu,TRANSITION:Vo,TRANSITION_END:ga,get:yr,getStyle:ya,create:gt,remove:Zt,empty:kl,toFront:qo,toBack:oi,hasClass:Ko,addClass:pt,removeClass:Ut,setClass:gu,getClass:Cl,setOpacity:Rn,testProp:Go,setTransform:vr,setPosition:rn,getPosition:si,get disableTextSelection(){return Pt},get enableTextSelection(){return Yo},disableImageDrag:Tl,enableImageDrag:Nl,preventOutline:Jo,restoreOutline:wr,getSizedParentNode:ai,getScale:Or};function ft(a,f,w,P){if(f&&typeof f=="object")for(var M in f)vu(a,M,f[M],w);else{f=S(f);for(var Y=0,ce=f.length;Y<ce;Y++)vu(a,f[Y],w,P)}return this}var gn="_leaflet_events";function Dt(a,f,w,P){if(arguments.length===1)yu(a),delete a[gn];else if(f&&typeof f=="object")for(var M in f)Al(a,M,f[M],w);else if(f=S(f),arguments.length===2)yu(a,function(ge){return z(f,ge)!==-1});else for(var Y=0,ce=f.length;Y<ce;Y++)Al(a,f[Y],w,P);return this}function yu(a,f){for(var w in a[gn]){var P=w.split(/\d/)[0];(!f||f(P))&&Al(a,P,null,null,w)}}var io={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function vu(a,f,w,P){var M=f+d(w)+(P?"_"+d(P):"");if(a[gn]&&a[gn][M])return this;var Y=function(ge){return w.call(P||a,ge||window.event)},ce=Y;!nt.touchNative&&nt.pointer&&f.indexOf("touch")===0?Y=Im(a,f,Y):nt.touch&&f==="dblclick"?Y=wf(a,Y):"addEventListener"in a?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?a.addEventListener(io[f]||f,Y,nt.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(Y=function(ge){ge=ge||window.event,Ea(a,ge)&&ce(ge)},a.addEventListener(io[f],Y,!1)):a.addEventListener(f,ce,!1):a.attachEvent("on"+f,Y),a[gn]=a[gn]||{},a[gn][M]=Y}function Al(a,f,w,P,M){M=M||f+d(w)+(P?"_"+d(P):"");var Y=a[gn]&&a[gn][M];if(!Y)return this;!nt.touchNative&&nt.pointer&&f.indexOf("touch")===0?gf(a,f,Y):nt.touch&&f==="dblclick"?Sl(a,Y):"removeEventListener"in a?a.removeEventListener(io[f]||f,Y,!1):a.detachEvent("on"+f,Y),a[gn][M]=null}function jr(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Rl(a){return vu(a,"wheel",jr),this}function xa(a){return ft(a,"mousedown touchstart dblclick contextmenu",jr),a._leaflet_disable_click=!0,this}function Xt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function _r(a){return Xt(a),jr(a),this}function oo(a){if(a.composedPath)return a.composedPath();for(var f=[],w=a.target;w;)f.push(w),w=w.parentNode;return f}function ba(a,f){if(!f)return new te(a.clientX,a.clientY);var w=Or(f),P=w.boundingClientRect;return new te((a.clientX-P.left)/w.x-f.clientLeft,(a.clientY-P.top)/w.y-f.clientTop)}var jm=nt.linux&&nt.chrome?window.devicePixelRatio:nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xf(a){return nt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/jm:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ea(a,f){var w=f.relatedTarget;if(!w)return!0;try{for(;w&&w!==a;)w=w.parentNode}catch{return!1}return w!==a}var Il={__proto__:null,on:ft,off:Dt,stopPropagation:jr,disableScrollPropagation:Rl,disableClickPropagation:xa,preventDefault:Xt,stop:_r,getPropagationPath:oo,getMousePosition:ba,getWheelDelta:xf,isExternalTarget:Ea,addListener:ft,removeListener:Dt},Ll=ie.extend({run:function(a,f,w,P){this.stop(),this._el=a,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(P||.5,.2),this._startPos=si(a),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(a){var f=+new Date-this._startTime,w=this._duration*1e3;f<w?this._runFrame(this._easeOut(f/w),a):(this._runFrame(1),this._complete())},_runFrame:function(a,f){var w=this._startPos.add(this._offset.multiplyBy(a));f&&w._round(),rn(this._el,w),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),bt=ie.extend({options:{crs:at,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,f){f=v(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(Ie(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vo&&nt.any3d&&!nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ft(this._proxy,ga,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,f,w){if(f=f===void 0?this._zoom:this._limitZoom(f),a=this._limitCenter(Ie(a),f,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=i({animate:w.animate},w.zoom),w.pan=i({animate:w.animate,duration:w.duration},w.pan));var P=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,f,w.zoom):this._tryAnimatedPan(a,w.pan);if(P)return clearTimeout(this._sizeTimer),this}return this._resetView(a,f,w.pan&&w.pan.noMoveStart),this},setZoom:function(a,f){return this._loaded?this.setView(this.getCenter(),a,{zoom:f}):(this._zoom=a,this)},zoomIn:function(a,f){return a=a||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,f)},zoomOut:function(a,f){return a=a||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,f)},setZoomAround:function(a,f,w){var P=this.getZoomScale(f),M=this.getSize().divideBy(2),Y=a instanceof te?a:this.latLngToContainerPoint(a),ce=Y.subtract(M).multiplyBy(1-1/P),ge=this.containerPointToLatLng(M.add(ce));return this.setView(ge,f,{zoom:w})},_getBoundsCenterZoom:function(a,f){f=f||{},a=a.getBounds?a.getBounds():_e(a);var w=le(f.paddingTopLeft||f.padding||[0,0]),P=le(f.paddingBottomRight||f.padding||[0,0]),M=this.getBoundsZoom(a,!1,w.add(P));if(M=typeof f.maxZoom=="number"?Math.min(f.maxZoom,M):M,M===1/0)return{center:a.getCenter(),zoom:M};var Y=P.subtract(w).divideBy(2),ce=this.project(a.getSouthWest(),M),ge=this.project(a.getNorthEast(),M),Ee=this.unproject(ce.add(ge).divideBy(2).add(Y),M);return{center:Ee,zoom:M}},fitBounds:function(a,f){if(a=_e(a),!a.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(a,f);return this.setView(w.center,w.zoom,f)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,f){return this.setView(a,this._zoom,{pan:f})},panBy:function(a,f){if(a=le(a).round(),f=f||{},!a.x&&!a.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ll,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){pt(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,w,f.duration||.25,f.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,f,w){if(w=w||{},w.animate===!1||!nt.any3d)return this.setView(a,f,w);this._stop();var P=this.project(this.getCenter()),M=this.project(a),Y=this.getSize(),ce=this._zoom;a=Ie(a),f=f===void 0?ce:f;var ge=Math.max(Y.x,Y.y),Ee=ge*this.getZoomScale(ce,f),Oe=M.distanceTo(P)||1,We=1.42,lt=We*We;function vt(jt){var fs=jt?-1:1,Gm=jt?Ee:ge,Ym=Ee*Ee-ge*ge+fs*lt*lt*Oe*Oe,ho=2*Gm*lt*Oe,po=Ym/ho,mo=Math.sqrt(po*po+1)-po,ql=mo<1e-9?-18:Math.log(mo);return ql}function yn(jt){return(Math.exp(jt)-Math.exp(-jt))/2}function hn(jt){return(Math.exp(jt)+Math.exp(-jt))/2}function qn(jt){return yn(jt)/hn(jt)}var Ln=vt(0);function us(jt){return ge*(hn(Ln)/hn(Ln+We*jt))}function Bu(jt){return ge*(hn(Ln)*qn(Ln+We*jt)-yn(Ln))/lt}function Oi(jt){return 1-Math.pow(1-jt,1.5)}var $f=Date.now(),fo=(vt(1)-Ln)/We,Br=w.duration?1e3*w.duration:1e3*fo*.8;function ds(){var jt=(Date.now()-$f)/Br,fs=Oi(jt)*fo;jt<=1?(this._flyToFrame=J(ds,this),this._move(this.unproject(P.add(M.subtract(P).multiplyBy(Bu(fs)/Oe)),ce),this.getScaleZoom(ge/us(fs),ce),{flyTo:!0})):this._move(a,f)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),ds.call(this),this},flyToBounds:function(a,f){var w=this._getBoundsCenterZoom(a,f);return this.flyTo(w.center,w.zoom,f)},setMaxBounds:function(a){return a=_e(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var f=this.options.minZoom;return this.options.minZoom=a,this._loaded&&f!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var f=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&f!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,f){this._enforcingBounds=!0;var w=this.getCenter(),P=this._limitCenter(w,this._zoom,_e(a));return w.equals(P)||this.panTo(P,f),this._enforcingBounds=!1,this},panInside:function(a,f){f=f||{};var w=le(f.paddingTopLeft||f.padding||[0,0]),P=le(f.paddingBottomRight||f.padding||[0,0]),M=this.project(this.getCenter()),Y=this.project(a),ce=this.getPixelBounds(),ge=Q([ce.min.add(w),ce.max.subtract(P)]),Ee=ge.getSize();if(!ge.contains(Y)){this._enforcingBounds=!0;var Oe=Y.subtract(ge.getCenter()),We=ge.extend(Y).getSize().subtract(Ee);M.x+=Oe.x<0?-We.x:We.x,M.y+=Oe.y<0?-We.y:We.y,this.panTo(this.unproject(M),f),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),P=f.divideBy(2).round(),M=w.divideBy(2).round(),Y=P.subtract(M);return!Y.x&&!Y.y?this:(a.animate&&a.pan?this.panBy(Y):(a.pan&&this._rawPanBy(Y),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=l(this._handleGeolocationResponse,this),w=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,w,a):navigator.geolocation.getCurrentPosition(f,w,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var f=a.code,w=a.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var f=a.coords.latitude,w=a.coords.longitude,P=new ve(f,w),M=P.toBounds(a.coords.accuracy*2),Y=this._locateOptions;if(Y.setView){var ce=this.getBoundsZoom(M);this.setView(P,Y.maxZoom?Math.min(ce,Y.maxZoom):ce)}var ge={latlng:P,bounds:M,timestamp:a.timestamp};for(var Ee in a.coords)typeof a.coords[Ee]=="number"&&(ge[Ee]=a.coords[Ee]);this.fire("locationfound",ge)}},addHandler:function(a,f){if(!f)return this;var w=this[a]=new f(this);return this._handlers.push(w),this.options[a]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Zt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Zt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,f){var w="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),P=gt("div",w,f||this._mapPane);return a&&(this._panes[a]=P),P},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),f=this.unproject(a.getBottomLeft()),w=this.unproject(a.getTopRight());return new ke(f,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,f,w){a=_e(a),w=le(w||[0,0]);var P=this.getZoom()||0,M=this.getMinZoom(),Y=this.getMaxZoom(),ce=a.getNorthWest(),ge=a.getSouthEast(),Ee=this.getSize().subtract(w),Oe=Q(this.project(ge,P),this.project(ce,P)).getSize(),We=nt.any3d?this.options.zoomSnap:1,lt=Ee.x/Oe.x,vt=Ee.y/Oe.y,yn=f?Math.max(lt,vt):Math.min(lt,vt);return P=this.getScaleZoom(yn,P),We&&(P=Math.round(P/(We/100))*(We/100),P=f?Math.ceil(P/We)*We:Math.floor(P/We)*We),Math.max(M,Math.min(Y,P))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,f){var w=this._getTopLeftPoint(a,f);return new $(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,f){var w=this.options.crs;return f=f===void 0?this._zoom:f,w.scale(a)/w.scale(f)},getScaleZoom:function(a,f){var w=this.options.crs;f=f===void 0?this._zoom:f;var P=w.zoom(a*w.scale(f));return isNaN(P)?1/0:P},project:function(a,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(Ie(a),f)},unproject:function(a,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(le(a),f)},layerPointToLatLng:function(a){var f=le(a).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(a){var f=this.project(Ie(a))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ie(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(_e(a))},distance:function(a,f){return this.options.crs.distance(Ie(a),Ie(f))},containerPointToLayerPoint:function(a){return le(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return le(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var f=this.containerPointToLayerPoint(le(a));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(a)))},mouseEventToContainerPoint:function(a){return ba(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var f=this._container=yr(a);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ft(f,"scroll",this._onScroll,this),this._containerId=d(f)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&nt.any3d,pt(a,"leaflet-container"+(nt.touch?" leaflet-touch":"")+(nt.retina?" leaflet-retina":"")+(nt.ielt9?" leaflet-oldie":"")+(nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=ya(a,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rn(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(a.markerPane,"leaflet-zoom-hide"),pt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,f,w){rn(this._mapPane,new te(0,0));var P=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var M=this._zoom!==f;this._moveStart(M,w)._move(a,f)._moveEnd(M),this.fire("viewreset"),P&&this.fire("load")},_moveStart:function(a,f){return a&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(a,f,w,P){f===void 0&&(f=this._zoom);var M=this._zoom!==f;return this._zoom=f,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),P?w&&w.pinch&&this.fire("zoom",w):((M||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){rn(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[d(this._container)]=this;var f=a?Dt:ft;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),nt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,f){for(var w=[],P,M=f==="mouseout"||f==="mouseover",Y=a.target||a.srcElement,ce=!1;Y;){if(P=this._targets[d(Y)],P&&(f==="click"||f==="preclick")&&this._draggableMoved(P)){ce=!0;break}if(P&&P.listens(f,!0)&&(M&&!Ea(Y,a)||(w.push(P),M))||Y===this._container)break;Y=Y.parentNode}return!w.length&&!ce&&!M&&this.listens(f,!0)&&(w=[this]),w},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var f=a.target||a.srcElement;if(!(!this._loaded||f._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(f))){var w=a.type;w==="mousedown"&&Jo(f),this._fireDOMEvent(a,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,f,w){if(a.type==="click"){var P=i({},a);P.type="preclick",this._fireDOMEvent(P,P.type,w)}var M=this._findEventTargets(a,f);if(w){for(var Y=[],ce=0;ce<w.length;ce++)w[ce].listens(f,!0)&&Y.push(w[ce]);M=Y.concat(M)}if(M.length){f==="contextmenu"&&Xt(a);var ge=M[0],Ee={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Oe=ge.getLatLng&&(!ge._radius||ge._radius<=10);Ee.containerPoint=Oe?this.latLngToContainerPoint(ge.getLatLng()):this.mouseEventToContainerPoint(a),Ee.layerPoint=this.containerPointToLayerPoint(Ee.containerPoint),Ee.latlng=Oe?ge.getLatLng():this.layerPointToLatLng(Ee.layerPoint)}for(ce=0;ce<M.length;ce++)if(M[ce].fire(f,Ee,!0),Ee.originalEvent._stopped||M[ce].options.bubblingMouseEvents===!1&&z(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,f=this._handlers.length;a<f;a++)this._handlers[a].disable()},whenReady:function(a,f){return this._loaded?a.call(f||this,{target:this}):this.on("load",a,f),this},_getMapPanePos:function(){return si(this._mapPane)||new te(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,f){var w=a&&f!==void 0?this._getNewPixelOrigin(a,f):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,f){var w=this.getSize()._divideBy(2);return this.project(a,f)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,f,w){var P=this._getNewPixelOrigin(w,f);return this.project(a,f)._subtract(P)},_latLngBoundsToNewLayerBounds:function(a,f,w){var P=this._getNewPixelOrigin(w,f);return Q([this.project(a.getSouthWest(),f)._subtract(P),this.project(a.getNorthWest(),f)._subtract(P),this.project(a.getSouthEast(),f)._subtract(P),this.project(a.getNorthEast(),f)._subtract(P)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,f,w){if(!w)return a;var P=this.project(a,f),M=this.getSize().divideBy(2),Y=new $(P.subtract(M),P.add(M)),ce=this._getBoundsOffset(Y,w,f);return Math.abs(ce.x)<=1&&Math.abs(ce.y)<=1?a:this.unproject(P.add(ce),f)},_limitOffset:function(a,f){if(!f)return a;var w=this.getPixelBounds(),P=new $(w.min.add(a),w.max.add(a));return a.add(this._getBoundsOffset(P,f))},_getBoundsOffset:function(a,f,w){var P=Q(this.project(f.getNorthEast(),w),this.project(f.getSouthWest(),w)),M=P.min.subtract(a.min),Y=P.max.subtract(a.max),ce=this._rebound(M.x,-Y.x),ge=this._rebound(M.y,-Y.y);return new te(ce,ge)},_rebound:function(a,f){return a+f>0?Math.round(a-f)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(f))},_limitZoom:function(a){var f=this.getMinZoom(),w=this.getMaxZoom(),P=nt.any3d?this.options.zoomSnap:1;return P&&(a=Math.round(a/P)*P),Math.max(f,Math.min(w,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ut(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,f){var w=this._getCenterOffset(a)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,f),!0)},_createAnimProxy:function(){var a=this._proxy=gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(f){var w=mu,P=this._proxy.style[w];vr(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),P===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Zt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),f=this.getZoom();vr(this._proxy,this.project(a,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,f,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var P=this.getZoomScale(f),M=this._getCenterOffset(a)._divideBy(1-1/P);return w.animate!==!0&&!this.getSize().contains(M)?!1:(J(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(a,f,!0)},this),!0)},_animateZoom:function(a,f,w,P){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=f,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:f,noUpdate:P}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ut(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Pi(a,f){return new bt(a,f)}var Wn=O.extend({options:{position:"topright"},initialize:function(a){v(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var f=this._map;return f&&f.removeControl(this),this.options.position=a,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var f=this._container=this.onAdd(a),w=this.getPosition(),P=a._controlCorners[w];return pt(f,"leaflet-control"),w.indexOf("bottom")!==-1?P.insertBefore(f,P.firstChild):P.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Zt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ti=function(a){return new Wn(a)};bt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},f="leaflet-",w=this._controlContainer=gt("div",f+"control-container",this._container);function P(M,Y){var ce=f+M+" "+f+Y;a[M+Y]=gt("div",ce,w)}P("top","left"),P("top","right"),P("bottom","left"),P("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Zt(this._controlCorners[a]);Zt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var wu=Wn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,f,w,P){return w<P?-1:P<w?1:0}},initialize:function(a,f,w){v(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var P in a)this._addLayer(a[P],P);for(P in f)this._addLayer(f[P],P,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Wn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,f){return this._addLayer(a,f),this._map?this._update():this},addOverlay:function(a,f){return this._addLayer(a,f,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var f=this._getLayer(d(a));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Ut(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ut(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",f=this._container=gt("div",a),w=this.options.collapsed;f.setAttribute("aria-haspopup",!0),xa(f),Rl(f);var P=this._section=gt("section",a+"-list");w&&(this._map.on("click",this.collapse,this),ft(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=gt("a",a+"-toggle",f);M.href="#",M.title="Layers",M.setAttribute("role","button"),ft(M,{keydown:function(Y){Y.keyCode===13&&this._expandSafely()},click:function(Y){Xt(Y),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=gt("div",a+"-base",P),this._separator=gt("div",a+"-separator",P),this._overlaysList=gt("div",a+"-overlays",P),f.appendChild(P)},_getLayer:function(a){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&d(this._layers[f].layer)===a)return this._layers[f]},_addLayer:function(a,f,w){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:f,overlay:w}),this.options.sortLayers&&this._layers.sort(l(function(P,M){return this.options.sortFunction(P.layer,M.layer,P.name,M.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;kl(this._baseLayersList),kl(this._overlaysList),this._layerControlInputs=[];var a,f,w,P,M=0;for(w=0;w<this._layers.length;w++)P=this._layers[w],this._addItem(P),f=f||P.overlay,a=a||!P.overlay,M+=P.overlay?0:1;return this.options.hideSingleBase&&(a=a&&M>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=f&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var f=this._getLayer(d(a.target)),w=f.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;w&&this._map.fire(w,f)},_createRadioElement:function(a,f){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(f?' checked="checked"':"")+"/>",P=document.createElement("div");return P.innerHTML=w,P.firstChild},_addItem:function(a){var f=document.createElement("label"),w=this._map.hasLayer(a.layer),P;a.overlay?(P=document.createElement("input"),P.type="checkbox",P.className="leaflet-control-layers-selector",P.defaultChecked=w):P=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(P),P.layerId=d(a.layer),ft(P,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+a.name;var Y=document.createElement("span");f.appendChild(Y),Y.appendChild(P),Y.appendChild(M);var ce=a.overlay?this._overlaysList:this._baseLayersList;return ce.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,f,w,P=[],M=[];this._handlingClick=!0;for(var Y=a.length-1;Y>=0;Y--)f=a[Y],w=this._getLayer(f.layerId).layer,f.checked?P.push(w):f.checked||M.push(w);for(Y=0;Y<M.length;Y++)this._map.hasLayer(M[Y])&&this._map.removeLayer(M[Y]);for(Y=0;Y<P.length;Y++)this._map.hasLayer(P[Y])||this._map.addLayer(P[Y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,f,w,P=this._map.getZoom(),M=a.length-1;M>=0;M--)f=a[M],w=this._getLayer(f.layerId).layer,f.disabled=w.options.minZoom!==void 0&&P<w.options.minZoom||w.options.maxZoom!==void 0&&P>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,ft(a,"click",Xt),this.expand();var f=this;setTimeout(function(){Dt(a,"click",Xt),f._preventClick=!1})}}),Ol=function(a,f,w){return new wu(a,f,w)},Qo=Wn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var f="leaflet-control-zoom",w=gt("div",f+" leaflet-bar"),P=this.options;return this._zoomInButton=this._createButton(P.zoomInText,P.zoomInTitle,f+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(P.zoomOutText,P.zoomOutTitle,f+"-out",w,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,f,w,P,M){var Y=gt("a",w,P);return Y.innerHTML=a,Y.href="#",Y.title=f,Y.setAttribute("role","button"),Y.setAttribute("aria-label",f),xa(Y),ft(Y,"click",_r),ft(Y,"click",M,this),ft(Y,"click",this._refocusOnMap,this),Y},_updateDisabled:function(){var a=this._map,f="leaflet-disabled";Ut(this._zoomInButton,f),Ut(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(pt(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(pt(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});bt.mergeOptions({zoomControl:!0}),bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qo,this.addControl(this.zoomControl))});var bf=function(a){return new Qo(a)},In=Wn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var f="leaflet-control-scale",w=gt("div",f),P=this.options;return this._addScales(P,f+"-line",w),a.on(P.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),w},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,f,w){a.metric&&(this._mScale=gt("div",f,w)),a.imperial&&(this._iScale=gt("div",f,w))},_update:function(){var a=this._map,f=a.getSize().y/2,w=a.distance(a.containerPointToLatLng([0,f]),a.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(w)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var f=this._getRoundNum(a),w=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,w,f/a)},_updateImperial:function(a){var f=a*3.2808399,w,P,M;f>5280?(w=f/5280,P=this._getRoundNum(w),this._updateScale(this._iScale,P+" mi",P/w)):(M=this._getRoundNum(f),this._updateScale(this._iScale,M+" ft",M/f))},_updateScale:function(a,f,w){a.style.width=Math.round(this.options.maxWidth*w)+"px",a.innerHTML=f},_getRoundNum:function(a){var f=Math.pow(10,(Math.floor(a)+"").length-1),w=a/f;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,f*w}}),Xo=function(a){return new In(a)},_u='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',so=Wn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(nt.inlineSvg?_u+" ":"")+"Leaflet</a>"},initialize:function(a){v(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=gt("div","leaflet-control-attribution"),xa(this._container);for(var f in a._layers)a._layers[f].getAttribution&&this.addAttribution(a._layers[f].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var f in this._attributions)this._attributions[f]&&a.push(f);var w=[];this.options.prefix&&w.push(this.options.prefix),a.length&&w.push(a.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});bt.mergeOptions({attributionControl:!0}),bt.addInitHook(function(){this.options.attributionControl&&new so().addTo(this)});var Mm=function(a){return new so(a)};Wn.Layers=wu,Wn.Zoom=Qo,Wn.Scale=In,Wn.Attribution=so,Ti.layers=Ol,Ti.zoom=bf,Ti.scale=Xo,Ti.attribution=Mm;var nr=O.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nr.addTo=function(a,f){return a.addHandler(f,this),this};var xu={Events:se},es=nt.touch?"touchstart mousedown":"mousedown",xr=ie.extend({options:{clickTolerance:3},initialize:function(a,f,w,P){v(this,P),this._element=a,this._dragStartTarget=f||a,this._preventOutline=w},enable:function(){this._enabled||(ft(this._dragStartTarget,es,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xr._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,es,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Ko(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){xr._dragging===this&&this.finishDrag();return}if(!(xr._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(xr._dragging=this,this._preventOutline&&Jo(this._element),Tl(),Pt(),!this._moving)){this.fire("down");var f=a.touches?a.touches[0]:a,w=ai(this._element);this._startPoint=new te(f.clientX,f.clientY),this._startPos=si(this._element),this._parentScale=Or(w);var P=a.type==="mousedown";ft(document,P?"mousemove":"touchmove",this._onMove,this),ft(document,P?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var f=a.touches&&a.touches.length===1?a.touches[0]:a,w=new te(f.clientX,f.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,Xt(a),this._moved||(this.fire("dragstart"),this._moved=!0,pt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),rn(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Ut(document.body,"leaflet-dragging"),this._lastTarget&&(Ut(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),Nl(),Yo();var f=this._moved&&this._moving;this._moving=!1,xr._dragging=!1,f&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function bu(a,f,w){var P,M=[1,4,2,8],Y,ce,ge,Ee,Oe,We,lt,vt;for(Y=0,We=a.length;Y<We;Y++)a[Y]._code=ao(a[Y],f);for(ge=0;ge<4;ge++){for(lt=M[ge],P=[],Y=0,We=a.length,ce=We-1;Y<We;ce=Y++)Ee=a[Y],Oe=a[ce],Ee._code&lt?Oe._code&lt||(vt=Ml(Oe,Ee,lt,f,w),vt._code=ao(vt,f),P.push(vt)):(Oe._code&lt&&(vt=Ml(Oe,Ee,lt,f,w),vt._code=ao(vt,f),P.push(vt)),P.push(Ee));a=P}return a}function Ef(a,f){var w,P,M,Y,ce,ge,Ee,Oe,We;if(!a||a.length===0)throw new Error("latlngs not passed");rr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var lt=Ie([0,0]),vt=_e(a),yn=vt.getNorthWest().distanceTo(vt.getSouthWest())*vt.getNorthEast().distanceTo(vt.getNorthWest());yn<1700&&(lt=Eu(a));var hn=a.length,qn=[];for(w=0;w<hn;w++){var Ln=Ie(a[w]);qn.push(f.project(Ie([Ln.lat-lt.lat,Ln.lng-lt.lng])))}for(ge=Ee=Oe=0,w=0,P=hn-1;w<hn;P=w++)M=qn[w],Y=qn[P],ce=M.y*Y.x-Y.y*M.x,Ee+=(M.x+Y.x)*ce,Oe+=(M.y+Y.y)*ce,ge+=ce*3;ge===0?We=qn[0]:We=[Ee/ge,Oe/ge];var us=f.unproject(le(We));return Ie([us.lat+lt.lat,us.lng+lt.lng])}function Eu(a){for(var f=0,w=0,P=0,M=0;M<a.length;M++){var Y=Ie(a[M]);f+=Y.lat,w+=Y.lng,P++}return Ie([f/P,w/P])}var zm={__proto__:null,clipPolygon:bu,polygonCenter:Ef,centroid:Eu};function jl(a,f){if(!f||!a.length)return a.slice();var w=f*f;return a=Fm(a,w),a=Bm(a,w),a}function Sf(a,f,w){return Math.sqrt(lo(a,f,w,!0))}function Dm(a,f,w){return lo(a,f,w)}function Bm(a,f){var w=a.length,P=typeof Uint8Array<"u"?Uint8Array:Array,M=new P(w);M[0]=M[w-1]=1,Su(a,M,f,0,w-1);var Y,ce=[];for(Y=0;Y<w;Y++)M[Y]&&ce.push(a[Y]);return ce}function Su(a,f,w,P,M){var Y=0,ce,ge,Ee;for(ge=P+1;ge<=M-1;ge++)Ee=lo(a[ge],a[P],a[M],!0),Ee>Y&&(ce=ge,Y=Ee);Y>w&&(f[ce]=1,Su(a,f,w,P,ce),Su(a,f,w,ce,M))}function Fm(a,f){for(var w=[a[0]],P=1,M=0,Y=a.length;P<Y;P++)Um(a[P],a[M])>f&&(w.push(a[P]),M=P);return M<Y-1&&w.push(a[Y-1]),w}var ku;function kf(a,f,w,P,M){var Y=P?ku:ao(a,w),ce=ao(f,w),ge,Ee,Oe;for(ku=ce;;){if(!(Y|ce))return[a,f];if(Y&ce)return!1;ge=Y||ce,Ee=Ml(a,f,ge,w,M),Oe=ao(Ee,w),ge===Y?(a=Ee,Y=Oe):(f=Ee,ce=Oe)}}function Ml(a,f,w,P,M){var Y=f.x-a.x,ce=f.y-a.y,ge=P.min,Ee=P.max,Oe,We;return w&8?(Oe=a.x+Y*(Ee.y-a.y)/ce,We=Ee.y):w&4?(Oe=a.x+Y*(ge.y-a.y)/ce,We=ge.y):w&2?(Oe=Ee.x,We=a.y+ce*(Ee.x-a.x)/Y):w&1&&(Oe=ge.x,We=a.y+ce*(ge.x-a.x)/Y),new te(Oe,We,M)}function ao(a,f){var w=0;return a.x<f.min.x?w|=1:a.x>f.max.x&&(w|=2),a.y<f.min.y?w|=4:a.y>f.max.y&&(w|=8),w}function Um(a,f){var w=f.x-a.x,P=f.y-a.y;return w*w+P*P}function lo(a,f,w,P){var M=f.x,Y=f.y,ce=w.x-M,ge=w.y-Y,Ee=ce*ce+ge*ge,Oe;return Ee>0&&(Oe=((a.x-M)*ce+(a.y-Y)*ge)/Ee,Oe>1?(M=w.x,Y=w.y):Oe>0&&(M+=ce*Oe,Y+=ge*Oe)),ce=a.x-M,ge=a.y-Y,P?ce*ce+ge*ge:new te(M,Y)}function rr(a){return!A(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Cf(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rr(a)}function Pf(a,f){var w,P,M,Y,ce,ge,Ee,Oe;if(!a||a.length===0)throw new Error("latlngs not passed");rr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var We=Ie([0,0]),lt=_e(a),vt=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());vt<1700&&(We=Eu(a));var yn=a.length,hn=[];for(w=0;w<yn;w++){var qn=Ie(a[w]);hn.push(f.project(Ie([qn.lat-We.lat,qn.lng-We.lng])))}for(w=0,P=0;w<yn-1;w++)P+=hn[w].distanceTo(hn[w+1])/2;if(P===0)Oe=hn[0];else for(w=0,Y=0;w<yn-1;w++)if(ce=hn[w],ge=hn[w+1],M=ce.distanceTo(ge),Y+=M,Y>P){Ee=(Y-P)/M,Oe=[ge.x-Ee*(ge.x-ce.x),ge.y-Ee*(ge.y-ce.y)];break}var Ln=f.unproject(le(Oe));return Ie([Ln.lat+We.lat,Ln.lng+We.lng])}var Tf={__proto__:null,simplify:jl,pointToSegmentDistance:Sf,closestPointOnSegment:Dm,clipSegment:kf,_getEdgeIntersection:Ml,_getBitCode:ao,_sqClosestPointOnSegment:lo,isFlat:rr,_flat:Cf,polylineCenter:Pf},Cu={project:function(a){return new te(a.lng,a.lat)},unproject:function(a){return new ve(a.y,a.x)},bounds:new $([-180,-90],[180,90])},Pu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var f=Math.PI/180,w=this.R,P=a.lat*f,M=this.R_MINOR/w,Y=Math.sqrt(1-M*M),ce=Y*Math.sin(P),ge=Math.tan(Math.PI/4-P/2)/Math.pow((1-ce)/(1+ce),Y/2);return P=-w*Math.log(Math.max(ge,1e-10)),new te(a.lng*f*w,P)},unproject:function(a){for(var f=180/Math.PI,w=this.R,P=this.R_MINOR/w,M=Math.sqrt(1-P*P),Y=Math.exp(-a.y/w),ce=Math.PI/2-2*Math.atan(Y),ge=0,Ee=.1,Oe;ge<15&&Math.abs(Ee)>1e-7;ge++)Oe=M*Math.sin(ce),Oe=Math.pow((1-Oe)/(1+Oe),M/2),Ee=Math.PI/2-2*Math.atan(Y*Oe)-ce,ce+=Ee;return new ve(ce*f,a.x*f/w)}},$m={__proto__:null,LonLat:Cu,Mercator:Pu,SphericalMercator:Ze},Zm=i({},Ne,{code:"EPSG:3395",projection:Pu,transformation:function(){var a=.5/(Math.PI*Pu.R);return ot(a,.5,-a,.5)}()}),Nf=i({},Ne,{code:"EPSG:4326",projection:Cu,transformation:ot(1/180,1,-1/180,.5)}),Hm=i({},Te,{projection:Cu,transformation:ot(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,f){var w=f.lng-a.lng,P=f.lat-a.lat;return Math.sqrt(w*w+P*P)},infinite:!0});Te.Earth=Ne,Te.EPSG3395=Zm,Te.EPSG3857=at,Te.EPSG900913=B,Te.EPSG4326=Nf,Te.Simple=Hm;var br=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[d(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[d(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var f=a.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var w=this.getEvents();f.on(w,this),this.once("remove",function(){f.off(w,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});bt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var f=d(a);return this._layers[f]?this:(this._layers[f]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var f=d(a);return this._layers[f]?(this._loaded&&a.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return d(a)in this._layers},eachLayer:function(a,f){for(var w in this._layers)a.call(f,this._layers[w]);return this},_addLayers:function(a){a=a?A(a)?a:[a]:[];for(var f=0,w=a.length;f<w;f++)this.addLayer(a[f])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[d(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var f=d(a);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,f=-1/0,w=this._getZoomSpan();for(var P in this._zoomBoundLayers){var M=this._zoomBoundLayers[P].options;a=M.minZoom===void 0?a:Math.min(a,M.minZoom),f=M.maxZoom===void 0?f:Math.max(f,M.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=a===1/0?void 0:a,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ni=br.extend({initialize:function(a,f){v(this,f),this._layers={};var w,P;if(a)for(w=0,P=a.length;w<P;w++)this.addLayer(a[w])},addLayer:function(a){var f=this.getLayerId(a);return this._layers[f]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var f=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(a){var f=typeof a=="number"?a:this.getLayerId(a);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var f=Array.prototype.slice.call(arguments,1),w,P;for(w in this._layers)P=this._layers[w],P[a]&&P[a].apply(P,f);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,f){for(var w in this._layers)a.call(f,this._layers[w]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return d(a)}}),Sa=function(a,f){return new Ni(a,f)},li=Ni.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ni.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Ni.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ke;for(var f in this._layers){var w=this._layers[f];a.extend(w.getBounds?w.getBounds():w.getLatLng())}return a}}),Af=function(a,f){return new li(a,f)},co=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){v(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,f){var w=this._getIconUrl(a);if(!w){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var P=this._createImg(w,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(P,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),P},_setIconStyles:function(a,f){var w=this.options,P=w[f+"Size"];typeof P=="number"&&(P=[P,P]);var M=le(P),Y=le(f==="shadow"&&w.shadowAnchor||w.iconAnchor||M&&M.divideBy(2,!0));a.className="leaflet-marker-"+f+" "+(w.className||""),Y&&(a.style.marginLeft=-Y.x+"px",a.style.marginTop=-Y.y+"px"),M&&(a.style.width=M.x+"px",a.style.height=M.y+"px")},_createImg:function(a,f){return f=f||document.createElement("img"),f.src=a,f},_getIconUrl:function(a){return nt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Rf(a){return new co(a)}var ts=co.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ts.imagePath!="string"&&(ts.imagePath=this._detectIconPath()),(this.options.imagePath||ts.imagePath)+co.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var f=function(w,P,M){var Y=P.exec(w);return Y&&Y[M]};return a=f(a,/^url\((['"])?(.+)\1\)$/,2),a&&f(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=gt("div","leaflet-default-icon-path",document.body),f=ya(a,"background-image")||ya(a,"backgroundImage");if(document.body.removeChild(a),f=this._stripUrl(f),f)return f;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),Tu=nr.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new xr(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ut(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var f=this._marker,w=f._map,P=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,Y=si(f._icon),ce=w.getPixelBounds(),ge=w.getPixelOrigin(),Ee=Q(ce.min._subtract(ge).add(M),ce.max._subtract(ge).subtract(M));if(!Ee.contains(Y)){var Oe=le((Math.max(Ee.max.x,Y.x)-Ee.max.x)/(ce.max.x-Ee.max.x)-(Math.min(Ee.min.x,Y.x)-Ee.min.x)/(ce.min.x-Ee.min.x),(Math.max(Ee.max.y,Y.y)-Ee.max.y)/(ce.max.y-Ee.max.y)-(Math.min(Ee.min.y,Y.y)-Ee.min.y)/(ce.min.y-Ee.min.y)).multiplyBy(P);w.panBy(Oe,{animate:!1}),this._draggable._newPos._add(Oe),this._draggable._startPos._add(Oe),rn(f._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=J(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,a)))},_onDrag:function(a){var f=this._marker,w=f._shadow,P=si(f._icon),M=f._map.layerPointToLatLng(P);w&&rn(w,P),f._latlng=M,a.latlng=M,a.oldLatLng=this._oldLatLng,f.fire("move",a).fire("drag",a)},_onDragEnd:function(a){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),ci=br.extend({options:{icon:new ts,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,f){v(this,f),this._latlng=Ie(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var f=this._latlng;return this._latlng=Ie(a),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=a.icon.createIcon(this._icon),P=!1;w!==this._icon&&(this._icon&&this._removeIcon(),P=!0,a.title&&(w.title=a.title),w.tagName==="IMG"&&(w.alt=a.alt||"")),pt(w,f),a.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(w,"focus",this._panOnFocus,this);var M=a.icon.createShadow(this._shadow),Y=!1;M!==this._shadow&&(this._removeShadow(),Y=!0),M&&(pt(M,f),M.alt=""),this._shadow=M,a.opacity<1&&this._updateOpacity(),P&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&Y&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),Zt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Zt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&rn(this._icon,a),this._shadow&&rn(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Tu)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Tu(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Rn(this._icon,a),this._shadow&&Rn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var f=this.options.icon.options,w=f.iconSize?le(f.iconSize):le(0,0),P=f.iconAnchor?le(f.iconAnchor):le(0,0);a.panInside(this._latlng,{paddingTopLeft:P,paddingBottomRight:w.subtract(P)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Wm(a,f){return new ci(a,f)}var Ai=br.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return v(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zl=Ai.extend({options:{fill:!0,radius:10},initialize:function(a,f){v(this,f),this._latlng=Ie(a),this._radius=this.options.radius},setLatLng:function(a){var f=this._latlng;return this._latlng=Ie(a),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var f=a&&a.radius||this._radius;return Ai.prototype.setStyle.call(this,a),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,f=this._radiusY||a,w=this._clickTolerance(),P=[a+w,f+w];this._pxBounds=new $(this._point.subtract(P),this._point.add(P))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function If(a,f){return new zl(a,f)}var Dl=zl.extend({initialize:function(a,f,w){if(typeof f=="number"&&(f=i({},w,{radius:f})),v(this,f),this._latlng=Ie(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ke(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ai.prototype.setStyle,_project:function(){var a=this._latlng.lng,f=this._latlng.lat,w=this._map,P=w.options.crs;if(P.distance===Ne.distance){var M=Math.PI/180,Y=this._mRadius/Ne.R/M,ce=w.project([f+Y,a]),ge=w.project([f-Y,a]),Ee=ce.add(ge).divideBy(2),Oe=w.unproject(Ee).lat,We=Math.acos((Math.cos(Y*M)-Math.sin(f*M)*Math.sin(Oe*M))/(Math.cos(f*M)*Math.cos(Oe*M)))/M;(isNaN(We)||We===0)&&(We=Y/Math.cos(Math.PI/180*f)),this._point=Ee.subtract(w.getPixelOrigin()),this._radius=isNaN(We)?0:Ee.x-w.project([Oe,a-We]).x,this._radiusY=Ee.y-ce.y}else{var lt=P.unproject(P.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(lt).x}this._updateBounds()}});function ka(a,f,w){return new Dl(a,f,w)}var Vn=Ai.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,f){v(this,f),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var f=1/0,w=null,P=lo,M,Y,ce=0,ge=this._parts.length;ce<ge;ce++)for(var Ee=this._parts[ce],Oe=1,We=Ee.length;Oe<We;Oe++){M=Ee[Oe-1],Y=Ee[Oe];var lt=P(a,M,Y,!0);lt<f&&(f=lt,w=P(a,M,Y))}return w&&(w.distance=Math.sqrt(f)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,f){return f=f||this._defaultShape(),a=Ie(a),f.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ke,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return rr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var f=[],w=rr(a),P=0,M=a.length;P<M;P++)w?(f[P]=Ie(a[P]),this._bounds.extend(f[P])):f[P]=this._convertLatLngs(a[P]);return f},_project:function(){var a=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),f=new te(a,a);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(a,f,w){var P=a[0]instanceof ve,M=a.length,Y,ce;if(P){for(ce=[],Y=0;Y<M;Y++)ce[Y]=this._map.latLngToLayerPoint(a[Y]),w.extend(ce[Y]);f.push(ce)}else for(Y=0;Y<M;Y++)this._projectLatlngs(a[Y],f,w)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,w,P,M,Y,ce,ge,Ee;for(w=0,M=0,Y=this._rings.length;w<Y;w++)for(Ee=this._rings[w],P=0,ce=Ee.length;P<ce-1;P++)ge=kf(Ee[P],Ee[P+1],a,P,!0),ge&&(f[M]=f[M]||[],f[M].push(ge[0]),(ge[1]!==Ee[P+1]||P===ce-2)&&(f[M].push(ge[1]),M++))}},_simplifyPoints:function(){for(var a=this._parts,f=this.options.smoothFactor,w=0,P=a.length;w<P;w++)a[w]=jl(a[w],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,f){var w,P,M,Y,ce,ge,Ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(w=0,Y=this._parts.length;w<Y;w++)for(ge=this._parts[w],P=0,ce=ge.length,M=ce-1;P<ce;M=P++)if(!(!f&&P===0)&&Sf(a,ge[M],ge[P])<=Ee)return!0;return!1}});function Vm(a,f){return new Vn(a,f)}Vn._flat=Cf;var ui=Vn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ef(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var f=Vn.prototype._convertLatLngs.call(this,a),w=f.length;return w>=2&&f[0]instanceof ve&&f[0].equals(f[w-1])&&f.pop(),f},_setLatLngs:function(a){Vn.prototype._setLatLngs.call(this,a),rr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return rr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,f=this.options.weight,w=new te(f,f);if(a=new $(a.min.subtract(w),a.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var P=0,M=this._rings.length,Y;P<M;P++)Y=bu(this._rings[P],a,!0),Y.length&&this._parts.push(Y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var f=!1,w,P,M,Y,ce,ge,Ee,Oe;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(Y=0,Ee=this._parts.length;Y<Ee;Y++)for(w=this._parts[Y],ce=0,Oe=w.length,ge=Oe-1;ce<Oe;ge=ce++)P=w[ce],M=w[ge],P.y>a.y!=M.y>a.y&&a.x<(M.x-P.x)*(a.y-P.y)/(M.y-P.y)+P.x&&(f=!f);return f||Vn.prototype._containsPoint.call(this,a,!0)}});function qm(a,f){return new ui(a,f)}var Mr=li.extend({initialize:function(a,f){v(this,f),this._layers={},a&&this.addData(a)},addData:function(a){var f=A(a)?a:a.features,w,P,M;if(f){for(w=0,P=f.length;w<P;w++)M=f[w],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var Y=this.options;if(Y.filter&&!Y.filter(a))return this;var ce=ns(a,Y);return ce?(ce.feature=Zl(a),ce.defaultOptions=ce.options,this.resetStyle(ce),Y.onEachFeature&&Y.onEachFeature(a,ce),this.addLayer(ce)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(f){this._setLayerStyle(f,a)},this)},_setLayerStyle:function(a,f){a.setStyle&&(typeof f=="function"&&(f=f(a.feature)),a.setStyle(f))}});function ns(a,f){var w=a.type==="Feature"?a.geometry:a,P=w?w.coordinates:null,M=[],Y=f&&f.pointToLayer,ce=f&&f.coordsToLatLng||Fl,ge,Ee,Oe,We;if(!P&&!w)return null;switch(w.type){case"Point":return ge=ce(P),Bl(Y,a,ge,f);case"MultiPoint":for(Oe=0,We=P.length;Oe<We;Oe++)ge=ce(P[Oe]),M.push(Bl(Y,a,ge,f));return new li(M);case"LineString":case"MultiLineString":return Ee=Ca(P,w.type==="LineString"?0:1,ce),new Vn(Ee,f);case"Polygon":case"MultiPolygon":return Ee=Ca(P,w.type==="Polygon"?1:2,ce),new ui(Ee,f);case"GeometryCollection":for(Oe=0,We=w.geometries.length;Oe<We;Oe++){var lt=ns({geometry:w.geometries[Oe],type:"Feature",properties:a.properties},f);lt&&M.push(lt)}return new li(M);case"FeatureCollection":for(Oe=0,We=w.features.length;Oe<We;Oe++){var vt=ns(w.features[Oe],f);vt&&M.push(vt)}return new li(M);default:throw new Error("Invalid GeoJSON object.")}}function Bl(a,f,w,P){return a?a(f,w):new ci(w,P&&P.markersInheritOptions&&P)}function Fl(a){return new ve(a[1],a[0],a[2])}function Ca(a,f,w){for(var P=[],M=0,Y=a.length,ce;M<Y;M++)ce=f?Ca(a[M],f-1,w):(w||Fl)(a[M]),P.push(ce);return P}function Ul(a,f){return a=Ie(a),a.alt!==void 0?[b(a.lng,f),b(a.lat,f),b(a.alt,f)]:[b(a.lng,f),b(a.lat,f)]}function $l(a,f,w,P){for(var M=[],Y=0,ce=a.length;Y<ce;Y++)M.push(f?$l(a[Y],rr(a[Y])?0:f-1,w,P):Ul(a[Y],P));return!f&&w&&M.length>0&&M.push(M[0].slice()),M}function rs(a,f){return a.feature?i({},a.feature,{geometry:f}):Zl(f)}function Zl(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Nu={toGeoJSON:function(a){return rs(this,{type:"Point",coordinates:Ul(this.getLatLng(),a)})}};ci.include(Nu),Dl.include(Nu),zl.include(Nu),Vn.include({toGeoJSON:function(a){var f=!rr(this._latlngs),w=$l(this._latlngs,f?1:0,!1,a);return rs(this,{type:(f?"Multi":"")+"LineString",coordinates:w})}}),ui.include({toGeoJSON:function(a){var f=!rr(this._latlngs),w=f&&!rr(this._latlngs[0]),P=$l(this._latlngs,w?2:f?1:0,!0,a);return f||(P=[P]),rs(this,{type:(w?"Multi":"")+"Polygon",coordinates:P})}}),Ni.include({toMultiPoint:function(a){var f=[];return this.eachLayer(function(w){f.push(w.toGeoJSON(a).geometry.coordinates)}),rs(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(a){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(a);var w=f==="GeometryCollection",P=[];return this.eachLayer(function(M){if(M.toGeoJSON){var Y=M.toGeoJSON(a);if(w)P.push(Y.geometry);else{var ce=Zl(Y);ce.type==="FeatureCollection"?P.push.apply(P,ce.features):P.push(ce)}}}),w?rs(this,{geometries:P,type:"GeometryCollection"}):{type:"FeatureCollection",features:P}}});function Lf(a,f){return new Mr(a,f)}var Er=Lf,Ri=br.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,f,w){this._url=a,this._bounds=_e(f),v(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Zt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&qo(this._image),this},bringToBack:function(){return this._map&&oi(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=_e(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",f=this._image=a?this._url:gt("img");if(pt(f,"leaflet-image-layer"),this._zoomAnimated&&pt(f,"leaflet-zoom-animated"),this.options.className&&pt(f,this.options.className),f.onselectstart=m,f.onmousemove=m,f.onload=l(this.fire,this,"load"),f.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(a){var f=this._map.getZoomScale(a.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;vr(this._image,w,f)},_reset:function(){var a=this._image,f=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=f.getSize();rn(a,f.min),a.style.width=w.x+"px",a.style.height=w.y+"px"},_updateOpacity:function(){Rn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Of=function(a,f,w){return new Ri(a,f,w)},Au=Ri.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",f=this._image=a?this._url:gt("video");if(pt(f,"leaflet-image-layer"),this._zoomAnimated&&pt(f,"leaflet-zoom-animated"),this.options.className&&pt(f,this.options.className),f.onselectstart=m,f.onmousemove=m,f.onloadeddata=l(this.fire,this,"load"),a){for(var w=f.getElementsByTagName("source"),P=[],M=0;M<w.length;M++)P.push(w[M].src);this._url=w.length>0?P:[f.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var Y=0;Y<this._url.length;Y++){var ce=gt("source");ce.src=this._url[Y],f.appendChild(ce)}}});function jf(a,f,w){return new Au(a,f,w)}var Ru=Ri.extend({_initImage:function(){var a=this._image=this._url;pt(a,"leaflet-image-layer"),this._zoomAnimated&&pt(a,"leaflet-zoom-animated"),this.options.className&&pt(a,this.options.className),a.onselectstart=m,a.onmousemove=m}});function Iu(a,f,w){return new Ru(a,f,w)}var zr=br.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,f){a&&(a instanceof ve||A(a))?(this._latlng=Ie(a),v(this,f)):(v(this,a),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Rn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Rn(this._container,1),this.bringToFront(),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Rn(this._container,0),this._removeTimeout=setTimeout(l(Zt,void 0,this._container),200)):Zt(this._container),this.options.interactive&&(Ut(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ie(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qo(this._container),this},bringToBack:function(){return this._map&&oi(this._container),this},_prepareOpen:function(a){var f=this._source;if(!f._map)return!1;if(f instanceof li){f=null;var w=this._source._layers;for(var P in w)if(w[P]._map){f=w[P];break}if(!f)return!1;this._source=f}if(!a)if(f.getCenter)a=f.getCenter();else if(f.getLatLng)a=f.getLatLng();else if(f.getBounds)a=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")a.innerHTML=f;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),f=le(this.options.offset),w=this._getAnchor();this._zoomAnimated?rn(this._container,a.add(w)):f=f.add(a).add(w);var P=this._containerBottom=-f.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=P+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});bt.include({_initOverlay:function(a,f,w,P){var M=f;return M instanceof a||(M=new a(P).setContent(f)),w&&M.setLatLng(w),M}}),br.include({_initOverlay:function(a,f,w,P){var M=w;return M instanceof a?(v(M,P),M._source=this):(M=f&&!P?f:new a(P,this),M.setContent(w)),M}});var Hl=zr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,zr.prototype.openOn.call(this,a)},onAdd:function(a){zr.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ai||this._source.on("preclick",jr))},onRemove:function(a){zr.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ai||this._source.off("preclick",jr))},getEvents:function(){var a=zr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",f=this._container=gt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=gt("div",a+"-content-wrapper",f);if(this._contentNode=gt("div",a+"-content",w),xa(f),Rl(this._contentNode),ft(f,"contextmenu",jr),this._tipContainer=gt("div",a+"-tip-container",f),this._tip=gt("div",a+"-tip",this._tipContainer),this.options.closeButton){var P=this._closeButton=gt("a",a+"-close-button",f);P.setAttribute("role","button"),P.setAttribute("aria-label","Close popup"),P.href="#close",P.innerHTML='<span aria-hidden="true">&#215;</span>',ft(P,"click",function(M){Xt(M),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,f=a.style;f.width="",f.whiteSpace="nowrap";var w=a.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),f.width=w+1+"px",f.whiteSpace="",f.height="";var P=a.offsetHeight,M=this.options.maxHeight,Y="leaflet-popup-scrolled";M&&P>M?(f.height=M+"px",pt(a,Y)):Ut(a,Y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),w=this._getAnchor();rn(this._container,f.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,f=parseInt(ya(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+f,P=this._containerWidth,M=new te(this._containerLeft,-w-this._containerBottom);M._add(si(this._container));var Y=a.layerPointToContainerPoint(M),ce=le(this.options.autoPanPadding),ge=le(this.options.autoPanPaddingTopLeft||ce),Ee=le(this.options.autoPanPaddingBottomRight||ce),Oe=a.getSize(),We=0,lt=0;Y.x+P+Ee.x>Oe.x&&(We=Y.x+P-Oe.x+Ee.x),Y.x-We-ge.x<0&&(We=Y.x-ge.x),Y.y+w+Ee.y>Oe.y&&(lt=Y.y+w-Oe.y+Ee.y),Y.y-lt-ge.y<0&&(lt=Y.y-ge.y),(We||lt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([We,lt]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),is=function(a,f){return new Hl(a,f)};bt.mergeOptions({closePopupOnClick:!0}),bt.include({openPopup:function(a,f,w){return this._initOverlay(Hl,a,f,w).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),br.include({bindPopup:function(a,f){return this._popup=this._initOverlay(Hl,this._popup,a,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof li||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){_r(a);var f=a.layer||a.target;if(this._popup._source===f&&!(f instanceof Ai)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=f,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var os=zr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){zr.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){zr.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=zr.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",f=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=gt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var f,w,P=this._map,M=this._container,Y=P.latLngToContainerPoint(P.getCenter()),ce=P.layerPointToContainerPoint(a),ge=this.options.direction,Ee=M.offsetWidth,Oe=M.offsetHeight,We=le(this.options.offset),lt=this._getAnchor();ge==="top"?(f=Ee/2,w=Oe):ge==="bottom"?(f=Ee/2,w=0):ge==="center"?(f=Ee/2,w=Oe/2):ge==="right"?(f=0,w=Oe/2):ge==="left"?(f=Ee,w=Oe/2):ce.x<Y.x?(ge="right",f=0,w=Oe/2):(ge="left",f=Ee+(We.x+lt.x)*2,w=Oe/2),a=a.subtract(le(f,w,!0)).add(We).add(lt),Ut(M,"leaflet-tooltip-right"),Ut(M,"leaflet-tooltip-left"),Ut(M,"leaflet-tooltip-top"),Ut(M,"leaflet-tooltip-bottom"),pt(M,"leaflet-tooltip-"+ge),rn(M,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Rn(this._container,a)},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(f)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Pa=function(a,f){return new os(a,f)};bt.include({openTooltip:function(a,f,w){return this._initOverlay(os,a,f,w).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),br.include({bindTooltip:function(a,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(os,this._tooltip,a,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var f=a?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[f](w),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof li||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var f=typeof a.getElement=="function"&&a.getElement();f&&(ft(f,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),ft(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var f=typeof a.getElement=="function"&&a.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var f=a.latlng,w,P;this._tooltip.options.sticky&&a.originalEvent&&(w=this._map.mouseEventToContainerPoint(a.originalEvent),P=this._map.containerPointToLayerPoint(w),f=this._map.layerPointToLatLng(P)),this._tooltip.setLatLng(f)}});var Wl=co.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var f=a&&a.tagName==="DIV"?a:document.createElement("div"),w=this.options;if(w.html instanceof Element?(kl(f),f.appendChild(w.html)):f.innerHTML=w.html!==!1?w.html:"",w.bgPos){var P=le(w.bgPos);f.style.backgroundPosition=-P.x+"px "+-P.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Mf(a){return new Wl(a)}co.Default=ts;var Ii=br.extend({options:{tileSize:256,opacity:1,updateWhenIdle:nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){v(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Zt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(oi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof te?a:new te(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var f=this.getPane().children,w=-a(-1/0,1/0),P=0,M=f.length,Y;P<M;P++)Y=f[P].style.zIndex,f[P]!==this._container&&Y&&(w=a(w,+Y));isFinite(w)&&(this.options.zIndex=w+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nt.ielt9){Rn(this._container,this.options.opacity);var a=+new Date,f=!1,w=!1;for(var P in this._tiles){var M=this._tiles[P];if(!(!M.current||!M.loaded)){var Y=Math.min(1,(a-M.loaded)/200);Rn(M.el,Y),Y<1?f=!0:(M.active?w=!0:this._onOpaqueTile(M),M.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),f&&(U(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,f=this.options.maxZoom;if(a!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===a?(this._levels[w].el.style.zIndex=f-Math.abs(a-w),this._onUpdateLevel(w)):(Zt(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var P=this._levels[a],M=this._map;return P||(P=this._levels[a]={},P.el=gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),P.el.style.zIndex=f,P.origin=M.project(M.unproject(M.getPixelOrigin()),a).round(),P.zoom=a,this._setZoomTransform(P,M.getCenter(),M.getZoom()),m(P.el.offsetWidth),this._onCreateLevel(P)),this._level=P,P}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var a,f,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)f=this._tiles[a],f.retain=f.current;for(a in this._tiles)if(f=this._tiles[a],f.current&&!f.active){var P=f.coords;this._retainParent(P.x,P.y,P.z,P.z-5)||this._retainChildren(P.x,P.y,P.z,P.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var f in this._tiles)this._tiles[f].coords.z===a&&this._removeTile(f)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Zt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,f,w,P){var M=Math.floor(a/2),Y=Math.floor(f/2),ce=w-1,ge=new te(+M,+Y);ge.z=+ce;var Ee=this._tileCoordsToKey(ge),Oe=this._tiles[Ee];return Oe&&Oe.active?(Oe.retain=!0,!0):(Oe&&Oe.loaded&&(Oe.retain=!0),ce>P?this._retainParent(M,Y,ce,P):!1)},_retainChildren:function(a,f,w,P){for(var M=2*a;M<2*a+2;M++)for(var Y=2*f;Y<2*f+2;Y++){var ce=new te(M,Y);ce.z=w+1;var ge=this._tileCoordsToKey(ce),Ee=this._tiles[ge];if(Ee&&Ee.active){Ee.retain=!0;continue}else Ee&&Ee.loaded&&(Ee.retain=!0);w+1<P&&this._retainChildren(M,Y,w+1,P)}},_resetView:function(a){var f=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var f=this.options;return f.minNativeZoom!==void 0&&a<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<a?f.maxNativeZoom:a},_setView:function(a,f,w,P){var M=Math.round(f);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var Y=this.options.updateWhenZooming&&M!==this._tileZoom;(!P||Y)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(a),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(a,f)},_setZoomTransforms:function(a,f){for(var w in this._levels)this._setZoomTransform(this._levels[w],a,f)},_setZoomTransform:function(a,f,w){var P=this._map.getZoomScale(w,a.zoom),M=a.origin.multiplyBy(P).subtract(this._map._getNewPixelOrigin(f,w)).round();nt.any3d?vr(a.el,M,P):rn(a.el,M)},_resetGrid:function(){var a=this._map,f=a.options.crs,w=this._tileSize=this.getTileSize(),P=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,f.wrapLng[0]],P).x/w.x),Math.ceil(a.project([0,f.wrapLng[1]],P).x/w.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([f.wrapLat[0],0],P).y/w.x),Math.ceil(a.project([f.wrapLat[1],0],P).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var f=this._map,w=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),P=f.getZoomScale(w,this._tileZoom),M=f.project(a,this._tileZoom).floor(),Y=f.getSize().divideBy(P*2);return new $(M.subtract(Y),M.add(Y))},_update:function(a){var f=this._map;if(f){var w=this._clampZoom(f.getZoom());if(a===void 0&&(a=f.getCenter()),this._tileZoom!==void 0){var P=this._getTiledPixelBounds(a),M=this._pxBoundsToTileRange(P),Y=M.getCenter(),ce=[],ge=this.options.keepBuffer,Ee=new $(M.getBottomLeft().subtract([ge,-ge]),M.getTopRight().add([ge,-ge]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Oe in this._tiles){var We=this._tiles[Oe].coords;(We.z!==this._tileZoom||!Ee.contains(new te(We.x,We.y)))&&(this._tiles[Oe].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(a,w);return}for(var lt=M.min.y;lt<=M.max.y;lt++)for(var vt=M.min.x;vt<=M.max.x;vt++){var yn=new te(vt,lt);if(yn.z=this._tileZoom,!!this._isValidTile(yn)){var hn=this._tiles[this._tileCoordsToKey(yn)];hn?hn.current=!0:ce.push(yn)}}if(ce.sort(function(Ln,us){return Ln.distanceTo(Y)-us.distanceTo(Y)}),ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qn=document.createDocumentFragment();for(vt=0;vt<ce.length;vt++)this._addTile(ce[vt],qn);this._level.el.appendChild(qn)}}}},_isValidTile:function(a){var f=this._map.options.crs;if(!f.infinite){var w=this._globalTileRange;if(!f.wrapLng&&(a.x<w.min.x||a.x>w.max.x)||!f.wrapLat&&(a.y<w.min.y||a.y>w.max.y))return!1}if(!this.options.bounds)return!0;var P=this._tileCoordsToBounds(a);return _e(this.options.bounds).overlaps(P)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var f=this._map,w=this.getTileSize(),P=a.scaleBy(w),M=P.add(w),Y=f.unproject(P,a.z),ce=f.unproject(M,a.z);return[Y,ce]},_tileCoordsToBounds:function(a){var f=this._tileCoordsToNwSe(a),w=new ke(f[0],f[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var f=a.split(":"),w=new te(+f[0],+f[1]);return w.z=+f[2],w},_removeTile:function(a){var f=this._tiles[a];f&&(Zt(f.el),delete this._tiles[a],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){pt(a,"leaflet-tile");var f=this.getTileSize();a.style.width=f.x+"px",a.style.height=f.y+"px",a.onselectstart=m,a.onmousemove=m,nt.ielt9&&this.options.opacity<1&&Rn(a,this.options.opacity)},_addTile:function(a,f){var w=this._getTilePos(a),P=this._tileCoordsToKey(a),M=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(M),this.createTile.length<2&&J(l(this._tileReady,this,a,null,M)),rn(M,w),this._tiles[P]={el:M,coords:a,current:!0},f.appendChild(M),this.fire("tileloadstart",{tile:M,coords:a})},_tileReady:function(a,f,w){f&&this.fire("tileerror",{error:f,tile:w,coords:a});var P=this._tileCoordsToKey(a);w=this._tiles[P],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Rn(w.el,0),U(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),f||(pt(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nt.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var f=new te(this._wrapX?g(a.x,this._wrapX):a.x,this._wrapY?g(a.y,this._wrapY):a.y);return f.z=a.z,f},_pxBoundsToTileRange:function(a){var f=this.getTileSize();return new $(a.min.unscaleBy(f).floor(),a.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function ss(a){return new Ii(a)}var Li=Ii.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,f){this._url=a,f=v(this,f),f.detectRetina&&nt.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,f){return this._url===a&&f===void 0&&(f=!0),this._url=a,f||this.redraw(),this},createTile:function(a,f){var w=document.createElement("img");return ft(w,"load",l(this._tileOnLoad,this,f,w)),ft(w,"error",l(this._tileOnError,this,f,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(a),w},getTileUrl:function(a){var f={r:nt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-a.y;this.options.tms&&(f.y=w),f["-y"]=w}return N(this._url,i(f,this.options))},_tileOnLoad:function(a,f){nt.ielt9?setTimeout(l(a,this,null,f),0):a(null,f)},_tileOnError:function(a,f,w){var P=this.options.errorTileUrl;P&&f.getAttribute("src")!==P&&(f.src=P),a(w,f)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,f=this.options.maxZoom,w=this.options.zoomReverse,P=this.options.zoomOffset;return w&&(a=f-a),a+P},_getSubdomain:function(a){var f=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var a,f;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(f=this._tiles[a].el,f.onload=m,f.onerror=m,!f.complete)){f.src=D;var w=this._tiles[a].coords;Zt(f),delete this._tiles[a],this.fire("tileabort",{tile:f,coords:w})}},_removeTile:function(a){var f=this._tiles[a];if(f)return f.el.setAttribute("src",D),Ii.prototype._removeTile.call(this,a)},_tileReady:function(a,f,w){if(!(!this._map||w&&w.getAttribute("src")===D))return Ii.prototype._tileReady.call(this,a,f,w)}});function Lu(a,f){return new Li(a,f)}var Ta=Li.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,f){this._url=a;var w=i({},this.defaultWmsParams);for(var P in f)P in this.options||(w[P]=f[P]);f=v(this,f);var M=f.detectRetina&&nt.retina?2:1,Y=this.getTileSize();w.width=Y.x*M,w.height=Y.y*M,this.wmsParams=w},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Li.prototype.onAdd.call(this,a)},getTileUrl:function(a){var f=this._tileCoordsToNwSe(a),w=this._crs,P=Q(w.project(f[0]),w.project(f[1])),M=P.min,Y=P.max,ce=(this._wmsVersion>=1.3&&this._crs===Nf?[M.y,M.x,Y.y,Y.x]:[M.x,M.y,Y.x,Y.y]).join(","),ge=Li.prototype.getTileUrl.call(this,a);return ge+E(this.wmsParams,ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ce},setParams:function(a,f){return i(this.wmsParams,a),f||this.redraw(),this}});function zf(a,f){return new Ta(a,f)}Li.WMS=Ta,Lu.wms=zf;var Dr=br.extend({options:{padding:.1},initialize:function(a){v(this,a),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,f){var w=this._map.getZoomScale(f,this._zoom),P=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,f),Y=P.multiplyBy(-w).add(M).subtract(this._map._getNewPixelOrigin(a,f));nt.any3d?vr(this._container,Y,w):rn(this._container,Y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,f=this._map.getSize(),w=this._map.containerPointToLayerPoint(f.multiplyBy(-a)).round();this._bounds=new $(w,w.add(f.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ou=Dr.extend({options:{tolerance:0},getEvents:function(){var a=Dr.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Dr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");ft(a,"mousemove",this._onMouseMove,this),ft(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ft(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Zt(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var f in this._layers)a=this._layers[f],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Dr.prototype._update.call(this);var a=this._bounds,f=this._container,w=a.getSize(),P=nt.retina?2:1;rn(f,a.min),f.width=P*w.x,f.height=P*w.y,f.style.width=w.x+"px",f.style.height=w.y+"px",nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Dr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[d(a)]=a;var f=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var f=a._order,w=f.next,P=f.prev;w?w.prev=P:this._drawLast=P,P?P.next=w:this._drawFirst=w,delete a._order,delete this._layers[d(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var f=a.options.dashArray.split(/[, ]+/),w=[],P,M;for(M=0;M<f.length;M++){if(P=Number(f[M]),isNaN(P))return;w.push(P)}a.options._dashArray=w}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var f=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(a._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(a._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var f=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,f=this._redrawBounds;if(this._ctx.save(),f){var w=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var P=this._drawFirst;P;P=P.next)a=P.layer,(!f||a._pxBounds&&a._pxBounds.intersects(f))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,f){if(this._drawing){var w,P,M,Y,ce=a._parts,ge=ce.length,Ee=this._ctx;if(ge){for(Ee.beginPath(),w=0;w<ge;w++){for(P=0,M=ce[w].length;P<M;P++)Y=ce[w][P],Ee[P?"lineTo":"moveTo"](Y.x,Y.y);f&&Ee.closePath()}this._fillStroke(Ee,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var f=a._point,w=this._ctx,P=Math.max(Math.round(a._radius),1),M=(Math.max(Math.round(a._radiusY),1)||P)/P;M!==1&&(w.save(),w.scale(1,M)),w.beginPath(),w.arc(f.x,f.y/M,P,0,Math.PI*2,!1),M!==1&&w.restore(),this._fillStroke(w,a)}},_fillStroke:function(a,f){var w=f.options;w.fill&&(a.globalAlpha=w.fillOpacity,a.fillStyle=w.fillColor||w.color,a.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(a.setLineDash&&a.setLineDash(f.options&&f.options._dashArray||[]),a.globalAlpha=w.opacity,a.lineWidth=w.weight,a.strokeStyle=w.color,a.lineCap=w.lineCap,a.lineJoin=w.lineJoin,a.stroke())},_onClick:function(a){for(var f=this._map.mouseEventToLayerPoint(a),w,P,M=this._drawFirst;M;M=M.next)w=M.layer,w.options.interactive&&w._containsPoint(f)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(w))&&(P=w);this._fireEvent(P?[P]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,f)}},_handleMouseOut:function(a){var f=this._hoveredLayer;f&&(Ut(this._container,"leaflet-interactive"),this._fireEvent([f],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,f){if(!this._mouseHoverThrottled){for(var w,P,M=this._drawFirst;M;M=M.next)w=M.layer,w.options.interactive&&w._containsPoint(f)&&(P=w);P!==this._hoveredLayer&&(this._handleMouseOut(a),P&&(pt(this._container,"leaflet-interactive"),this._fireEvent([P],a,"mouseover"),this._hoveredLayer=P)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,f,w){this._map._fireDOMEvent(f,w||f.type,a)},_bringToFront:function(a){var f=a._order;if(f){var w=f.next,P=f.prev;if(w)w.prev=P;else return;P?P.next=w:w&&(this._drawFirst=w),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(a)}},_bringToBack:function(a){var f=a._order;if(f){var w=f.next,P=f.prev;if(P)P.next=w;else return;w?w.prev=P:P&&(this._drawLast=P),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(a)}}});function ju(a){return nt.canvas?new Ou(a):null}var as=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Df={_initContainer:function(){this._container=gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Dr.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var f=a._container=as("shape");pt(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",a._path=as("path"),f.appendChild(a._path),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){var f=a._container;this._container.appendChild(f),a.options.interactive&&a.addInteractiveTarget(f)},_removePath:function(a){var f=a._container;Zt(f),a.removeInteractiveTarget(f),delete this._layers[d(a)]},_updateStyle:function(a){var f=a._stroke,w=a._fill,P=a.options,M=a._container;M.stroked=!!P.stroke,M.filled=!!P.fill,P.stroke?(f||(f=a._stroke=as("stroke")),M.appendChild(f),f.weight=P.weight+"px",f.color=P.color,f.opacity=P.opacity,P.dashArray?f.dashStyle=A(P.dashArray)?P.dashArray.join(" "):P.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=P.lineCap.replace("butt","flat"),f.joinstyle=P.lineJoin):f&&(M.removeChild(f),a._stroke=null),P.fill?(w||(w=a._fill=as("fill")),M.appendChild(w),w.color=P.fillColor||P.color,w.opacity=P.fillOpacity):w&&(M.removeChild(w),a._fill=null)},_updateCircle:function(a){var f=a._point.round(),w=Math.round(a._radius),P=Math.round(a._radiusY||w);this._setPath(a,a._empty()?"M0 0":"AL "+f.x+","+f.y+" "+w+","+P+" 0,"+65535*360)},_setPath:function(a,f){a._path.v=f},_bringToFront:function(a){qo(a._container)},_bringToBack:function(a){oi(a._container)}},Sr=nt.vml?as:Pe,uo=Dr.extend({_initContainer:function(){this._container=Sr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Sr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Zt(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Dr.prototype._update.call(this);var a=this._bounds,f=a.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,w.setAttribute("width",f.x),w.setAttribute("height",f.y)),rn(w,a.min),w.setAttribute("viewBox",[a.min.x,a.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(a){var f=a._path=Sr("path");a.options.className&&pt(f,a.options.className),a.options.interactive&&pt(f,"leaflet-interactive"),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Zt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[d(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var f=a._path,w=a.options;f&&(w.stroke?(f.setAttribute("stroke",w.color),f.setAttribute("stroke-opacity",w.opacity),f.setAttribute("stroke-width",w.weight),f.setAttribute("stroke-linecap",w.lineCap),f.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?f.setAttribute("stroke-dasharray",w.dashArray):f.removeAttribute("stroke-dasharray"),w.dashOffset?f.setAttribute("stroke-dashoffset",w.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),w.fill?(f.setAttribute("fill",w.fillColor||w.color),f.setAttribute("fill-opacity",w.fillOpacity),f.setAttribute("fill-rule",w.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(a,f){this._setPath(a,be(a._parts,f))},_updateCircle:function(a){var f=a._point,w=Math.max(Math.round(a._radius),1),P=Math.max(Math.round(a._radiusY),1)||w,M="a"+w+","+P+" 0 1,0 ",Y=a._empty()?"M0 0":"M"+(f.x-w)+","+f.y+M+w*2+",0 "+M+-w*2+",0 ";this._setPath(a,Y)},_setPath:function(a,f){a._path.setAttribute("d",f)},_bringToFront:function(a){qo(a._path)},_bringToBack:function(a){oi(a._path)}});nt.vml&&uo.include(Df);function Vl(a){return nt.svg||nt.vml?new uo(a):null}bt.include({getRenderer:function(a){var f=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var f=this._paneRenderers[a];return f===void 0&&(f=this._createRenderer({pane:a}),this._paneRenderers[a]=f),f},_createRenderer:function(a){return this.options.preferCanvas&&ju(a)||Vl(a)}});var Bf=ui.extend({initialize:function(a,f){ui.prototype.initialize.call(this,this._boundsToLatLngs(a),f)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=_e(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Km(a,f){return new Bf(a,f)}uo.create=Sr,uo.pointsToPath=be,Mr.geometryToLayer=ns,Mr.coordsToLatLng=Fl,Mr.coordsToLatLngs=Ca,Mr.latLngToCoords=Ul,Mr.latLngsToCoords=$l,Mr.getFeature=rs,Mr.asFeature=Zl,bt.mergeOptions({boxZoom:!0});var ls=nr.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Zt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Pt(),Tl(),this._startPoint=this._map.mouseEventToContainerPoint(a),ft(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=gt("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var f=new $(this._point,this._startPoint),w=f.getSize();rn(this._box,f.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(Zt(this._box),Ut(this._container,"leaflet-crosshair")),Yo(),Nl(),Dt(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var f=new ke(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});bt.addInitHook("addHandler","boxZoom",ls),bt.mergeOptions({doubleClickZoom:!0});var Ff=nr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var f=this._map,w=f.getZoom(),P=f.options.zoomDelta,M=a.originalEvent.shiftKey?w-P:w+P;f.options.doubleClickZoom==="center"?f.setZoom(M):f.setZoomAround(a.containerPoint,M)}});bt.addInitHook("addHandler","doubleClickZoom",Ff),bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Mu=nr.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new xr(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ut(this._map._container,"leaflet-grab"),Ut(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=_e(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var f=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(f),this._prunePositions(f)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,f){return a-(a-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;a.x<f.min.x&&(a.x=this._viscousLimit(a.x,f.min.x)),a.y<f.min.y&&(a.y=this._viscousLimit(a.y,f.min.y)),a.x>f.max.x&&(a.x=this._viscousLimit(a.x,f.max.x)),a.y>f.max.y&&(a.y=this._viscousLimit(a.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,f=Math.round(a/2),w=this._initialWorldOffset,P=this._draggable._newPos.x,M=(P-f+w)%a+f-w,Y=(P+f+w)%a-f-w,ce=Math.abs(M+w)<Math.abs(Y+w)?M:Y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ce},_onDragEnd:function(a){var f=this._map,w=f.options,P=!w.inertia||a.noInertia||this._times.length<2;if(f.fire("dragend",a),P)f.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),Y=(this._lastTime-this._times[0])/1e3,ce=w.easeLinearity,ge=M.multiplyBy(ce/Y),Ee=ge.distanceTo([0,0]),Oe=Math.min(w.inertiaMaxSpeed,Ee),We=ge.multiplyBy(Oe/Ee),lt=Oe/(w.inertiaDeceleration*ce),vt=We.multiplyBy(-lt/2).round();!vt.x&&!vt.y?f.fire("moveend"):(vt=f._limitOffset(vt,f.options.maxBounds),J(function(){f.panBy(vt,{duration:lt,easeLinearity:ce,noMoveStart:!0,animate:!0})}))}}});bt.addInitHook("addHandler","dragging",Mu),bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zu=nr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),ft(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,f=document.documentElement,w=a.scrollTop||f.scrollTop,P=a.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(P,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var f=this._panKeys={},w=this.keyCodes,P,M;for(P=0,M=w.left.length;P<M;P++)f[w.left[P]]=[-1*a,0];for(P=0,M=w.right.length;P<M;P++)f[w.right[P]]=[a,0];for(P=0,M=w.down.length;P<M;P++)f[w.down[P]]=[0,a];for(P=0,M=w.up.length;P<M;P++)f[w.up[P]]=[0,-1*a]},_setZoomDelta:function(a){var f=this._zoomKeys={},w=this.keyCodes,P,M;for(P=0,M=w.zoomIn.length;P<M;P++)f[w.zoomIn[P]]=a;for(P=0,M=w.zoomOut.length;P<M;P++)f[w.zoomOut[P]]=-a},_addHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var f=a.keyCode,w=this._map,P;if(f in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(P=this._panKeys[f],a.shiftKey&&(P=le(P).multiplyBy(3)),w.options.maxBounds&&(P=w._limitOffset(le(P),w.options.maxBounds)),w.options.worldCopyJump){var M=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(P)));w.panTo(M)}else w.panBy(P)}else if(f in this._zoomKeys)w.setZoom(w.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;_r(a)}}});bt.addInitHook("addHandler","keyboard",zu),bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bt=nr.extend({addHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var f=xf(a),w=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var P=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),P),_r(a)},_performZoom:function(){var a=this._map,f=a.getZoom(),w=this._map.options.zoomSnap||0;a._stop();var P=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(P))))/Math.LN2,Y=w?Math.ceil(M/w)*w:M,ce=a._limitZoom(f+(this._delta>0?Y:-Y))-f;this._delta=0,this._startTime=null,ce&&(a.options.scrollWheelZoom==="center"?a.setZoom(f+ce):a.setZoomAround(this._lastMousePos,f+ce))}});bt.addInitHook("addHandler","scrollWheelZoom",Bt);var Du=600;bt.mergeOptions({tapHold:nt.touchNative&&nt.safari&&nt.mobile,tapTolerance:15});var Na=nr.extend({addHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var f=a.touches[0];this._startPos=this._newPos=new te(f.clientX,f.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ft(document,"touchend",Xt),ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),Du),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Dt(document,"touchend",Xt),Dt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(a){var f=a.touches[0];this._newPos=new te(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,f){var w=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});w._simulated=!0,f.target.dispatchEvent(w)}});bt.addInitHook("addHandler","tapHold",Na),bt.mergeOptions({touchZoom:nt.touch,bounceAtZoomLimits:!0});var cs=nr.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ut(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var f=this._map;if(!(!a.touches||a.touches.length!==2||f._animatingZoom||this._zooming)){var w=f.mouseEventToContainerPoint(a.touches[0]),P=f.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(w.add(P)._divideBy(2))),this._startDist=w.distanceTo(P),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),Xt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var f=this._map,w=f.mouseEventToContainerPoint(a.touches[0]),P=f.mouseEventToContainerPoint(a.touches[1]),M=w.distanceTo(P)/this._startDist;if(this._zoom=f.getScaleZoom(M,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&M<1||this._zoom>f.getMaxZoom()&&M>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var Y=w._add(P)._divideBy(2)._subtract(this._centerPoint);if(M===1&&Y.x===0&&Y.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(Y),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var ce=l(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(ce,this,!0),Xt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});bt.addInitHook("addHandler","touchZoom",cs),bt.BoxZoom=ls,bt.DoubleClickZoom=Ff,bt.Drag=Mu,bt.Keyboard=zu,bt.ScrollWheelZoom=Bt,bt.TapHold=Na,bt.TouchZoom=cs,n.Bounds=$,n.Browser=nt,n.CRS=Te,n.Canvas=Ou,n.Circle=Dl,n.CircleMarker=zl,n.Class=O,n.Control=Wn,n.DivIcon=Wl,n.DivOverlay=zr,n.DomEvent=Il,n.DomUtil=_a,n.Draggable=xr,n.Evented=ie,n.FeatureGroup=li,n.GeoJSON=Mr,n.GridLayer=Ii,n.Handler=nr,n.Icon=co,n.ImageOverlay=Ri,n.LatLng=ve,n.LatLngBounds=ke,n.Layer=br,n.LayerGroup=Ni,n.LineUtil=Tf,n.Map=bt,n.Marker=ci,n.Mixin=xu,n.Path=Ai,n.Point=te,n.PolyUtil=zm,n.Polygon=ui,n.Polyline=Vn,n.Popup=Hl,n.PosAnimation=Ll,n.Projection=$m,n.Rectangle=Bf,n.Renderer=Dr,n.SVG=uo,n.SVGOverlay=Ru,n.TileLayer=Li,n.Tooltip=os,n.Transformation=Qe,n.Util=X,n.VideoOverlay=Au,n.bind=l,n.bounds=Q,n.canvas=ju,n.circle=ka,n.circleMarker=If,n.control=Ti,n.divIcon=Mf,n.extend=i,n.featureGroup=Af,n.geoJSON=Lf,n.geoJson=Er,n.gridLayer=ss,n.icon=Rf,n.imageOverlay=Of,n.latLng=Ie,n.latLngBounds=_e,n.layerGroup=Sa,n.map=Pi,n.marker=Wm,n.point=le,n.polygon=qm,n.polyline=Vm,n.popup=is,n.rectangle=Km,n.setOptions=v,n.stamp=d,n.svg=Vl,n.svgOverlay=Iu,n.tileLayer=Lu,n.tooltip=Pa,n.transformation=ot,n.version=r,n.videoOverlay=jf;var Uf=window.L;n.noConflict=function(){return window.L=Uf,this},window.L=n})}(pd,pd.exports)),pd.exports}var fV=dV();const _d=Vd(fV),hV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",pV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let mV=_d.icon({iconUrl:hV,shadowUrl:pV,iconSize:[25,41],iconAnchor:[12,41]});_d.Marker.prototype.options.icon=mV;function gV(e){const t={"9q8yyz":[37.7749,-122.4194],"9q8yym":[34.0522,-118.2437],"9q8yyk":[40.7128,-74.006],"9q8yyf":[41.8781,-87.6298],dpwh:[47.6062,-122.3321],dqcjq:[39.7392,-104.9903],d5f:[29.7604,-95.3698],dp7c:[45.5017,-73.5673],c2b:[43.6532,-79.3832],"9q9p":[49.2827,-123.1207]};for(const[n,r]of Object.entries(t))if(e.startsWith(n))return r;return[25+Math.random()*35,-125+Math.random()*55]}function yV({lockers:e=[],onLockerClick:t}){const n=C.useRef(null),r=C.useRef(null),i=C.useRef([]);return C.useEffect(()=>{if(!r.current)return;const s=_d.map(r.current).setView([45,-100],3);return _d.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(s),n.current=s,()=>{s.remove(),n.current=null}},[]),C.useEffect(()=>{n.current&&(i.current.forEach(s=>s.remove()),i.current=[],e.forEach(s=>{if(!s.geohash)return;const l=gV(s.geohash);if(!l)return;const u=_d.marker(l).addTo(n.current).bindPopup(`
          <div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${s.title}</h3>
            <p style="margin: 0; color: #666;">${s.price} sats/hr</p>
            <p style="margin: 2px 0 0 0; font-size: 12px; color: ${s.status==="available"?"green":"orange"};">
              ${s.status}
            </p>
          </div>
        `);t&&u.on("click",()=>t(s)),i.current.push(u)}))},[e,t]),y.jsx("div",{ref:r,style:{height:"100%",width:"100%",minHeight:"400px"}})}function vV(e){try{const t=new Map(e.tags);return{id:e.id,dTag:t.get("d")||"",title:t.get("title")||"Unnamed Locker",description:e.content||"",price:parseInt(t.get("price")||"0"),geohash:t.get("g")||"",dimensions:t.get("dimensions"),status:t.get("status")||"available",owner:e.pubkey}}catch{return null}}const wV=[{id:"1",dTag:"locker-001",title:"Downtown Secure Box",description:"24/7 accessible locker in well-lit area. Perfect for small packages.",price:500,geohash:"9q8yyz",dimensions:"30x40x50 cm",status:"available",owner:"npub1abc..."},{id:"2",dTag:"locker-002",title:"University Campus Drop",description:"Near student center. High traffic, very secure.",price:300,geohash:"9q8yym",dimensions:"25x35x45 cm",status:"available",owner:"npub1def..."},{id:"3",dTag:"locker-003",title:"Shopping Mall Locker",description:"Inside mall, security cameras. Good for retail exchanges.",price:750,geohash:"9q8yyk",dimensions:"40x50x60 cm",status:"occupied",owner:"npub1ghi..."},{id:"4",dTag:"locker-004",title:"Suburban Community Box",description:"Residential area, quiet neighborhood. Great for privacy.",price:250,geohash:"9q8yyf",dimensions:"30x40x40 cm",status:"available",owner:"npub1jkl..."},{id:"5",dTag:"locker-005",title:"Seattle Tech Hub",description:"Near major tech campuses. Secure building access.",price:600,geohash:"dpwh",dimensions:"35x45x55 cm",status:"available",owner:"npub1mno..."},{id:"6",dTag:"locker-006",title:"Denver Outdoor Spot",description:"Weatherproof locker near hiking trails. Great for gear exchange.",price:400,geohash:"dqcjq",dimensions:"50x60x80 cm",status:"maintenance",owner:"npub1pqr..."}];function _V(){const{nostr:e}=Ir(),[t,n]=C.useState("map"),[r,i]=C.useState(1e4),[s,l]=C.useState(!1),[u,d]=C.useState(""),{data:p,isLoading:g}=Ki({queryKey:["locker-listings"],queryFn:async()=>{try{return(await e.query([{kinds:[30402],"#t":["locker"],limit:200}])).map(vV).filter(Boolean)}catch{return[]}},staleTime:6e4}),m=p!=null&&p.length?p:wV,b=C.useMemo(()=>m.filter(S=>{const v=!u||S.title.toLowerCase().includes(u.toLowerCase())||S.description.toLowerCase().includes(u.toLowerCase()),E=S.price<=r;return v&&E}),[m,u,r]),_=S=>S>=1e6?`${(S/1e6).toFixed(2)}M sats`:S>=1e3?`${(S/1e3).toFixed(1)}k sats`:`${S} sats`;return y.jsx("div",{className:"min-h-screen bg-background",children:y.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[y.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[y.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold",children:"Marketplace"}),y.jsx("p",{className:"text-muted-foreground",children:"Find dead drop lockers across North America"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs(Nt,{variant:t==="map"?"default":"outline",size:"sm",onClick:()=>n("map"),children:[y.jsx(gp,{className:"h-4 w-4 mr-2"}),"Map"]}),y.jsxs(Nt,{variant:t==="list"?"default":"outline",size:"sm",onClick:()=>n("list"),children:[y.jsx(N1,{className:"h-4 w-4 mr-2"}),"List"]}),y.jsxs(Nt,{variant:"outline",size:"sm",onClick:()=>l(!s),children:[y.jsx(UB,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),s&&y.jsx(Vt,{children:y.jsxs(fn,{className:"pt-6 grid gap-6 md:grid-cols-2",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(ur,{children:"Search"}),y.jsx(Tn,{placeholder:"Search by name or description...",value:u,onChange:S=>d(S.target.value)})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(ur,{children:["Max Price: ",_(r)]}),y.jsx(OA,{min:0,max:5e4,step:500,value:[r],onValueChange:([S])=>i(S)})]})]})})]}),y.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-muted-foreground",children:[y.jsx(N1,{className:"h-4 w-4"}),b.length," locker",b.length!==1?"s":""," found"]}),g?y.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(S=>y.jsxs(Vt,{children:[y.jsx(pr,{children:y.jsx(Ar,{className:"h-6 w-3/4"})}),y.jsxs(fn,{className:"space-y-2",children:[y.jsx(Ar,{className:"h-4 w-full"}),y.jsx(Ar,{className:"h-4 w-2/3"})]})]},S))}):t==="map"?y.jsxs("div",{className:"grid lg:grid-cols-3 gap-4",children:[y.jsx(Vt,{className:"lg:col-span-2 min-h-[500px]",children:y.jsx(yV,{lockers:b})}),y.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:b.map(S=>y.jsx(Vt,{className:"hover:border-primary transition-colors cursor-pointer",children:y.jsxs(fn,{className:"p-3",children:[y.jsxs("div",{className:"flex items-start justify-between mb-1",children:[y.jsx("h3",{className:"font-medium text-sm",children:S.title}),y.jsx(Xr,{variant:S.status==="available"?"default":"secondary",className:"text-xs",children:S.status})]}),y.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:S.description}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("span",{className:"text-sm font-medium",children:[_(S.price),"/hr"]}),y.jsx(Nt,{asChild:!0,size:"sm",variant:"ghost",children:y.jsx(Xn,{to:`/locker/${S.dTag}`,children:"View"})})]})]})},S.id))})]}):y.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.map(S=>y.jsxs(Vt,{className:"hover:border-primary transition-colors group",children:[y.jsx(pr,{className:"pb-3",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsx(Qr,{className:"text-lg group-hover:text-primary transition-colors",children:S.title}),y.jsx(Xr,{variant:S.status==="available"?"default":"secondary",children:S.status})]})}),y.jsxs(fn,{className:"space-y-3",children:[y.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:S.description}),y.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[y.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[y.jsx(zB,{className:"h-4 w-4"}),y.jsx("span",{className:"font-medium text-foreground",children:_(S.price)}),y.jsx("span",{className:"text-xs",children:"/hr"})]}),S.dimensions&&y.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[y.jsx(NB,{className:"h-4 w-4"}),y.jsx("span",{children:S.dimensions})]})]}),S.geohash&&y.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[y.jsx(VB,{className:"h-3 w-3"}),y.jsx("span",{className:"font-mono",children:S.geohash})]}),y.jsx(Nt,{asChild:!0,className:"w-full mt-2",children:y.jsx(Xn,{to:`/locker/${S.dTag}`,children:"View Details"})})]})]},S.id))})]})})}function Vh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dv={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var n2;function xV(){return n2||(n2=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function l(p,g){if(!i[p]){if(!r[p]){var m=typeof Vh=="function"&&Vh;if(!g&&m)return m(p,!0);if(u)return u(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var _=i[p]={exports:{}};r[p][0].call(_.exports,function(S){var v=r[p][1][S];return l(v||S)},_,_.exports,n,r,i,s)}return i[p].exports}for(var u=typeof Vh=="function"&&Vh,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(n,r,i){var s=n("./utils"),l=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var p,g,m,b,_,S,v,E=[],k=0,N=d.length,A=N,z=s.getTypeOf(d)!=="string";k<d.length;)A=N-k,m=z?(p=d[k++],g=k<N?d[k++]:0,k<N?d[k++]:0):(p=d.charCodeAt(k++),g=k<N?d.charCodeAt(k++):0,k<N?d.charCodeAt(k++):0),b=p>>2,_=(3&p)<<4|g>>4,S=1<A?(15&g)<<2|m>>6:64,v=2<A?63&m:64,E.push(u.charAt(b)+u.charAt(_)+u.charAt(S)+u.charAt(v));return E.join("")},i.decode=function(d){var p,g,m,b,_,S,v=0,E=0,k="data:";if(d.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var N,A=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&A--,d.charAt(d.length-2)===u.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=l.uint8array?new Uint8Array(0|A):new Array(0|A);v<d.length;)p=u.indexOf(d.charAt(v++))<<2|(b=u.indexOf(d.charAt(v++)))>>4,g=(15&b)<<4|(_=u.indexOf(d.charAt(v++)))>>2,m=(3&_)<<6|(S=u.indexOf(d.charAt(v++))),N[E++]=p,_!==64&&(N[E++]=g),S!==64&&(N[E++]=m);return N}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),l=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function p(g,m,b,_,S){this.compressedSize=g,this.uncompressedSize=m,this.crc32=b,this.compression=_,this.compressedContent=S}p.prototype={getContentWorker:function(){var g=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return g.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(g,m,b){return g.pipe(new u).pipe(new d("uncompressedSize")).pipe(m.compressWorker(b)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),l=function(){for(var u,d=[],p=0;p<256;p++){u=p;for(var g=0;g<8;g++)u=1&u?3988292384^u>>>1:u>>>1;d[p]=u}return d}();r.exports=function(u,d){return u!==void 0&&u.length?s.getTypeOf(u)!=="string"?function(p,g,m,b){var _=l,S=b+m;p^=-1;for(var v=b;v<S;v++)p=p>>>8^_[255&(p^g[v])];return-1^p}(0|d,u,u.length,0):function(p,g,m,b){var _=l,S=b+m;p^=-1;for(var v=b;v<S;v++)p=p>>>8^_[255&(p^g.charCodeAt(v))];return-1^p}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),u=n("./utils"),d=n("./stream/GenericWorker"),p=s?"uint8array":"array";function g(m,b){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=b,this.meta={}}i.magic="\b\0",u.inherits(g,d),g.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,m.data),!1)},g.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(b){m.push({data:b,meta:m.meta})}},i.compressWorker=function(m){return new g("Deflate",m)},i.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(_,S){var v,E="";for(v=0;v<S;v++)E+=String.fromCharCode(255&_),_>>>=8;return E}function l(_,S,v,E,k,N){var A,z,D=_.file,Z=_.compression,H=N!==p.utf8encode,q=u.transformTo("string",N(D.name)),F=u.transformTo("string",p.utf8encode(D.name)),W=D.comment,J=u.transformTo("string",N(W)),U=u.transformTo("string",p.utf8encode(W)),X=F.length!==D.name.length,O=U.length!==W.length,K="",se="",ie="",te=D.dir,ee=D.date,le={crc32:0,compressedSize:0,uncompressedSize:0};S&&!v||(le.crc32=_.crc32,le.compressedSize=_.compressedSize,le.uncompressedSize=_.uncompressedSize);var $=0;S&&($|=8),H||!X&&!O||($|=2048);var Q=0,ke=0;te&&(Q|=16),k==="UNIX"?(ke=798,Q|=function(ve,Ie){var Te=ve;return ve||(Te=Ie?16893:33204),(65535&Te)<<16}(D.unixPermissions,te)):(ke=20,Q|=function(ve){return 63&(ve||0)}(D.dosPermissions)),A=ee.getUTCHours(),A<<=6,A|=ee.getUTCMinutes(),A<<=5,A|=ee.getUTCSeconds()/2,z=ee.getUTCFullYear()-1980,z<<=4,z|=ee.getUTCMonth()+1,z<<=5,z|=ee.getUTCDate(),X&&(se=s(1,1)+s(g(q),4)+F,K+="up"+s(se.length,2)+se),O&&(ie=s(1,1)+s(g(J),4)+U,K+="uc"+s(ie.length,2)+ie);var _e="";return _e+=`
\0`,_e+=s($,2),_e+=Z.magic,_e+=s(A,2),_e+=s(z,2),_e+=s(le.crc32,4),_e+=s(le.compressedSize,4),_e+=s(le.uncompressedSize,4),_e+=s(q.length,2),_e+=s(K.length,2),{fileRecord:m.LOCAL_FILE_HEADER+_e+q+K,dirRecord:m.CENTRAL_FILE_HEADER+s(ke,2)+_e+s(J.length,2)+"\0\0\0\0"+s(Q,4)+s(E,4)+q+K+J}}var u=n("../utils"),d=n("../stream/GenericWorker"),p=n("../utf8"),g=n("../crc32"),m=n("../signature");function b(_,S,v,E){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=v,this.encodeFileName=E,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,d),b.prototype.push=function(_){var S=_.meta.percent||0,v=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,d.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:v?(S+100*(v-E-1))/v:100}}))},b.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var S=this.streamFiles&&!_.file.dir;if(S){var v=l(_,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(_){this.accumulate=!1;var S=this.streamFiles&&!_.file.dir,v=l(_,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),S)this.push({data:function(E){return m.DATA_DESCRIPTOR+s(E.crc32,4)+s(E.compressedSize,4)+s(E.uncompressedSize,4)}(_),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var _=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var v=this.bytesWritten-_,E=function(k,N,A,z,D){var Z=u.transformTo("string",D(z));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(k,2)+s(k,2)+s(N,4)+s(A,4)+s(Z.length,2)+Z}(this.dirRecords.length,v,_,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(_){this._sources.push(_);var S=this;return _.on("data",function(v){S.processChunk(v)}),_.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),_.on("error",function(v){S.error(v)}),this},b.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(_){var S=this._sources;if(!d.prototype.error.call(this,_))return!1;for(var v=0;v<S.length;v++)try{S[v].error(_)}catch{}return!0},b.prototype.lock=function(){d.prototype.lock.call(this);for(var _=this._sources,S=0;S<_.length;S++)_[S].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),l=n("./ZipFileWorker");i.generateWorker=function(u,d,p){var g=new l(d.streamFiles,p,d.platform,d.encodeFileName),m=0;try{u.forEach(function(b,_){m++;var S=function(N,A){var z=N||A,D=s[z];if(!D)throw new Error(z+" is not a valid compression method !");return D}(_.options.compression,d.compression),v=_.options.compressionOptions||d.compressionOptions||{},E=_.dir,k=_.date;_._compressWorker(S,v).withStreamInfo("file",{name:b,dir:E,date:k,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(g)}),g.entriesCount=m}catch(b){g.error(b)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var u in this)typeof this[u]!="function"&&(l[u]=this[u]);return l}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(l,u){return new s().loadAsync(l,u)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),l=n("./external"),u=n("./utf8"),d=n("./zipEntries"),p=n("./stream/Crc32Probe"),g=n("./nodejsUtils");function m(b){return new l.Promise(function(_,S){var v=b.decompressed.getContentWorker().pipe(new p);v.on("error",function(E){S(E)}).on("end",function(){v.streamInfo.crc32!==b.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}r.exports=function(b,_){var S=this;return _=s.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),g.isNode&&g.isStream(b)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",b,!0,_.optimizedBinaryString,_.base64).then(function(v){var E=new d(_);return E.load(v),E}).then(function(v){var E=[l.Promise.resolve(v)],k=v.files;if(_.checkCRC32)for(var N=0;N<k.length;N++)E.push(m(k[N]));return l.Promise.all(E)}).then(function(v){for(var E=v.shift(),k=E.files,N=0;N<k.length;N++){var A=k[N],z=A.fileNameStr,D=s.resolve(A.fileNameStr);S.file(D,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:_.createFolders}),A.dir||(S.file(D).unsafeOriginalName=z)}return E.zipComment.length&&(S.comment=E.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),l=n("../stream/GenericWorker");function u(d,p){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}s.inherits(u,l),u.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(g){p.push({data:g,meta:{percent:0}})}).on("error",function(g){p.isPaused?this.generatedError=g:p.error(g)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function l(u,d,p){s.call(this,d),this._helper=u;var g=this;u.on("data",function(m,b){g.push(m)||g._helper.pause(),p&&p(b)}).on("error",function(m){g.emit("error",m)}).on("end",function(){g.push(null)})}n("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(D,Z,H){var q,F=u.getTypeOf(Z),W=u.extend(H||{},g);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(D=k(D)),W.createFolders&&(q=E(D))&&N.call(this,q,!0);var J=F==="string"&&W.binary===!1&&W.base64===!1;H&&H.binary!==void 0||(W.binary=!J),(Z instanceof m&&Z.uncompressedSize===0||W.dir||!Z||Z.length===0)&&(W.base64=!1,W.binary=!0,Z="",W.compression="STORE",F="string");var U=null;U=Z instanceof m||Z instanceof d?Z:S.isNode&&S.isStream(Z)?new v(D,Z):u.prepareContent(D,Z,W.binary,W.optimizedBinaryString,W.base64);var X=new b(D,U,W);this.files[D]=X}var l=n("./utf8"),u=n("./utils"),d=n("./stream/GenericWorker"),p=n("./stream/StreamHelper"),g=n("./defaults"),m=n("./compressedObject"),b=n("./zipObject"),_=n("./generate"),S=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),E=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var Z=D.lastIndexOf("/");return 0<Z?D.substring(0,Z):""},k=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},N=function(D,Z){return Z=Z!==void 0?Z:g.createFolders,D=k(D),this.files[D]||s.call(this,D,null,{dir:!0,createFolders:Z}),this.files[D]};function A(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var Z,H,q;for(Z in this.files)q=this.files[Z],(H=Z.slice(this.root.length,Z.length))&&Z.slice(0,this.root.length)===this.root&&D(H,q)},filter:function(D){var Z=[];return this.forEach(function(H,q){D(H,q)&&Z.push(q)}),Z},file:function(D,Z,H){if(arguments.length!==1)return D=this.root+D,s.call(this,D,Z,H),this;if(A(D)){var q=D;return this.filter(function(W,J){return!J.dir&&q.test(W)})}var F=this.files[this.root+D];return F&&!F.dir?F:null},folder:function(D){if(!D)return this;if(A(D))return this.filter(function(F,W){return W.dir&&D.test(F)});var Z=this.root+D,H=N.call(this,Z),q=this.clone();return q.root=H.name,q},remove:function(D){D=this.root+D;var Z=this.files[D];if(Z||(D.slice(-1)!=="/"&&(D+="/"),Z=this.files[D]),Z&&!Z.dir)delete this.files[D];else for(var H=this.filter(function(F,W){return W.name.slice(0,D.length)===D}),q=0;q<H.length;q++)delete this.files[H[q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var Z,H={};try{if((H=u.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=H.type.toLowerCase(),H.compression=H.compression.toUpperCase(),H.type==="binarystring"&&(H.type="string"),!H.type)throw new Error("No output type specified.");u.checkSupport(H.type),H.platform!=="darwin"&&H.platform!=="freebsd"&&H.platform!=="linux"&&H.platform!=="sunos"||(H.platform="UNIX"),H.platform==="win32"&&(H.platform="DOS");var q=H.comment||this.comment||"";Z=_.generateWorker(this,H,q)}catch(F){(Z=new d("error")).error(F)}return new p(Z,H.type||"string",H.mimeType)},generateAsync:function(D,Z){return this.generateInternalStream(D).accumulate(Z)},generateNodeStream:function(D,Z){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(Z)}};r.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function l(u){s.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}n("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data[this.zero+u]},l.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),p=u.charCodeAt(1),g=u.charCodeAt(2),m=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===d&&this.data[b+1]===p&&this.data[b+2]===g&&this.data[b+3]===m)return b-this.zero;return-1},l.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),p=u.charCodeAt(1),g=u.charCodeAt(2),m=u.charCodeAt(3),b=this.readData(4);return d===b[0]&&p===b[1]&&g===b[2]&&m===b[3]},l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function l(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,p=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=u,p},readString:function(u){return s.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=l},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},l.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},l.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),l=n("../support"),u=n("./ArrayReader"),d=n("./StringReader"),p=n("./NodeBufferReader"),g=n("./Uint8ArrayReader");r.exports=function(m){var b=s.getTypeOf(m);return s.checkSupport(b),b!=="string"||l.uint8array?b==="nodebuffer"?new p(m):l.uint8array?new g(s.transformTo("uint8array",m)):new u(s.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),l=n("../utils");function u(d){s.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(u,s),u.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),l=n("../crc32");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,s),u.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),l=n("./GenericWorker");function u(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}s.inherits(u,l),u.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}l.prototype.processChunk.call(this,d)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),l=n("./GenericWorker");function u(d){l.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(g){p.dataIsReady=!0,p.data=g,p.max=g&&g.length||0,p.type=s.getTypeOf(g),p.isPaused||p._tickAndRepeat()},function(g){p.error(g)})}s.inherits(u,l),u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,u){return this._listeners[l].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,u){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,u)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var u=this;return l.on("data",function(d){u.processChunk(d)}),l.on("end",function(){u.end()}),l.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,u){return this.extraStreamInfo[l]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),l=n("./ConvertWorker"),u=n("./GenericWorker"),d=n("../base64"),p=n("../support"),g=n("../external"),m=null;if(p.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(S,v){return new g.Promise(function(E,k){var N=[],A=S._internalType,z=S._outputType,D=S._mimeType;S.on("data",function(Z,H){N.push(Z),v&&v(H)}).on("error",function(Z){N=[],k(Z)}).on("end",function(){try{var Z=function(H,q,F){switch(H){case"blob":return s.newBlob(s.transformTo("arraybuffer",q),F);case"base64":return d.encode(q);default:return s.transformTo(H,q)}}(z,function(H,q){var F,W=0,J=null,U=0;for(F=0;F<q.length;F++)U+=q[F].length;switch(H){case"string":return q.join("");case"array":return Array.prototype.concat.apply([],q);case"uint8array":for(J=new Uint8Array(U),F=0;F<q.length;F++)J.set(q[F],W),W+=q[F].length;return J;case"nodebuffer":return Buffer.concat(q);default:throw new Error("concat : unsupported type '"+H+"'")}}(A,N),D);E(Z)}catch(H){k(H)}N=[]}).resume()})}function _(S,v,E){var k=v;switch(v){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=v,this._mimeType=E,s.checkSupport(k),this._worker=S.pipe(new l(k)),S.lock()}catch(N){this._worker=new u("error"),this._worker.error(N)}}_.prototype={accumulate:function(S){return b(this,S)},on:function(S,v){var E=this;return S==="data"?this._worker.on(S,function(k){v.call(E,k.data,k.meta)}):this._worker.on(S,function(){s.delay(v,arguments,E)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},S)}},r.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),l=n("./support"),u=n("./nodejsUtils"),d=n("./stream/GenericWorker"),p=new Array(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;p[254]=p[254]=1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function b(){d.call(this,"utf-8 encode")}i.utf8encode=function(_){return l.nodebuffer?u.newBufferFrom(_,"utf-8"):function(S){var v,E,k,N,A,z=S.length,D=0;for(N=0;N<z;N++)(64512&(E=S.charCodeAt(N)))==55296&&N+1<z&&(64512&(k=S.charCodeAt(N+1)))==56320&&(E=65536+(E-55296<<10)+(k-56320),N++),D+=E<128?1:E<2048?2:E<65536?3:4;for(v=l.uint8array?new Uint8Array(D):new Array(D),N=A=0;A<D;N++)(64512&(E=S.charCodeAt(N)))==55296&&N+1<z&&(64512&(k=S.charCodeAt(N+1)))==56320&&(E=65536+(E-55296<<10)+(k-56320),N++),E<128?v[A++]=E:(E<2048?v[A++]=192|E>>>6:(E<65536?v[A++]=224|E>>>12:(v[A++]=240|E>>>18,v[A++]=128|E>>>12&63),v[A++]=128|E>>>6&63),v[A++]=128|63&E);return v}(_)},i.utf8decode=function(_){return l.nodebuffer?s.transformTo("nodebuffer",_).toString("utf-8"):function(S){var v,E,k,N,A=S.length,z=new Array(2*A);for(v=E=0;v<A;)if((k=S[v++])<128)z[E++]=k;else if(4<(N=p[k]))z[E++]=65533,v+=N-1;else{for(k&=N===2?31:N===3?15:7;1<N&&v<A;)k=k<<6|63&S[v++],N--;1<N?z[E++]=65533:k<65536?z[E++]=k:(k-=65536,z[E++]=55296|k>>10&1023,z[E++]=56320|1023&k)}return z.length!==E&&(z.subarray?z=z.subarray(0,E):z.length=E),s.applyFromCharCode(z)}(_=s.transformTo(l.uint8array?"uint8array":"array",_))},s.inherits(m,d),m.prototype.processChunk=function(_){var S=s.transformTo(l.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var v=S;(S=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),S.set(v,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var E=function(N,A){var z;for((A=A||N.length)>N.length&&(A=N.length),z=A-1;0<=z&&(192&N[z])==128;)z--;return z<0||z===0?A:z+p[N[z]]>A?z:A}(S),k=S;E!==S.length&&(l.uint8array?(k=S.subarray(0,E),this.leftOver=S.subarray(E,S.length)):(k=S.slice(0,E),this.leftOver=S.slice(E,S.length))),this.push({data:i.utf8decode(k),meta:_.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,s.inherits(b,d),b.prototype.processChunk=function(_){this.push({data:i.utf8encode(_.data),meta:_.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),l=n("./base64"),u=n("./nodejsUtils"),d=n("./external");function p(v){return v}function g(v,E){for(var k=0;k<v.length;++k)E[k]=255&v.charCodeAt(k);return E}n("setimmediate"),i.newBlob=function(v,E){i.checkSupport("blob");try{return new Blob([v],{type:E})}catch{try{var k=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return k.append(v),k.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(v,E,k){var N=[],A=0,z=v.length;if(z<=k)return String.fromCharCode.apply(null,v);for(;A<z;)E==="array"||E==="nodebuffer"?N.push(String.fromCharCode.apply(null,v.slice(A,Math.min(A+k,z)))):N.push(String.fromCharCode.apply(null,v.subarray(A,Math.min(A+k,z)))),A+=k;return N.join("")},stringifyByChar:function(v){for(var E="",k=0;k<v.length;k++)E+=String.fromCharCode(v[k]);return E},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function b(v){var E=65536,k=i.getTypeOf(v),N=!0;if(k==="uint8array"?N=m.applyCanBeUsed.uint8array:k==="nodebuffer"&&(N=m.applyCanBeUsed.nodebuffer),N)for(;1<E;)try{return m.stringifyByChunk(v,k,E)}catch{E=Math.floor(E/2)}return m.stringifyByChar(v)}function _(v,E){for(var k=0;k<v.length;k++)E[k]=v[k];return E}i.applyFromCharCode=b;var S={};S.string={string:p,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return S.string.uint8array(v).buffer},uint8array:function(v){return g(v,new Uint8Array(v.length))},nodebuffer:function(v){return g(v,u.allocBuffer(v.length))}},S.array={string:b,array:p,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(v)}},S.arraybuffer={string:function(v){return b(new Uint8Array(v))},array:function(v){return _(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:p,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(new Uint8Array(v))}},S.uint8array={string:b,array:function(v){return _(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:p,nodebuffer:function(v){return u.newBufferFrom(v)}},S.nodebuffer={string:b,array:function(v){return _(v,new Array(v.length))},arraybuffer:function(v){return S.nodebuffer.uint8array(v).buffer},uint8array:function(v){return _(v,new Uint8Array(v.length))},nodebuffer:p},i.transformTo=function(v,E){if(E=E||"",!v)return E;i.checkSupport(v);var k=i.getTypeOf(E);return S[k][v](E)},i.resolve=function(v){for(var E=v.split("/"),k=[],N=0;N<E.length;N++){var A=E[N];A==="."||A===""&&N!==0&&N!==E.length-1||(A===".."?k.pop():k.push(A))}return k.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&u.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var E,k,N="";for(k=0;k<(v||"").length;k++)N+="\\x"+((E=v.charCodeAt(k))<16?"0":"")+E.toString(16).toUpperCase();return N},i.delay=function(v,E,k){setImmediate(function(){v.apply(k||null,E||[])})},i.inherits=function(v,E){function k(){}k.prototype=E.prototype,v.prototype=new k},i.extend=function(){var v,E,k={};for(v=0;v<arguments.length;v++)for(E in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],E)&&k[E]===void 0&&(k[E]=arguments[v][E]);return k},i.prepareContent=function(v,E,k,N,A){return d.Promise.resolve(E).then(function(z){return s.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new d.Promise(function(D,Z){var H=new FileReader;H.onload=function(q){D(q.target.result)},H.onerror=function(q){Z(q.target.error)},H.readAsArrayBuffer(z)}):z}).then(function(z){var D=i.getTypeOf(z);return D?(D==="arraybuffer"?z=i.transformTo("uint8array",z):D==="string"&&(A?z=l.decode(z):k&&N!==!0&&(z=function(Z){return g(Z,s.uint8array?new Uint8Array(Z.length):new Array(Z.length))}(z))),z):d.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),l=n("./utils"),u=n("./signature"),d=n("./zipEntry"),p=n("./support");function g(m){this.files=[],this.loadOptions=m}g.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(b)+", expected "+l.pretty(m)+")")}},isSignature:function(m,b){var _=this.reader.index;this.reader.setIndex(m);var S=this.reader.readString(4)===b;return this.reader.setIndex(_),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),b=p.uint8array?"uint8array":"array",_=l.transformTo(b,m);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,b,_,S=this.zip64EndOfCentralSize-44;0<S;)m=this.reader.readInt(2),b=this.reader.readInt(4),_=this.reader.readData(b),this.zip64ExtensibleData[m]={id:m,length:b,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,b;for(m=0;m<this.files.length;m++)b=this.files[m],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var b=m;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var S=b-_;if(0<S)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(m){this.reader=s(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),l=n("./utils"),u=n("./compressedObject"),d=n("./crc32"),p=n("./utf8"),g=n("./compressions"),m=n("./support");function b(_,S){this.options=_,this.loadOptions=S}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var S,v;if(_.skip(22),this.fileNameLength=_.readInt(2),v=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(E){for(var k in g)if(Object.prototype.hasOwnProperty.call(g,k)&&g[k].magic===E)return g[k];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,S,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var S=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(S),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var S,v,E,k=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<k;)S=_.readInt(2),v=_.readInt(2),E=_.readData(v),this.extraFields[S]={id:S,length:v,value:E};_.setIndex(k)},handleUTF8:function(){var _=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var v=l.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var k=l.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var S=s(_.value);return S.readInt(1)!==1||d(this.fileName)!==S.readInt(4)?null:p.utf8decode(S.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var S=s(_.value);return S.readInt(1)!==1||d(this.fileComment)!==S.readInt(4)?null:p.utf8decode(S.readData(_.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(S,v,E){this.name=S,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=v,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var l=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),d=n("./utf8"),p=n("./compressedObject"),g=n("./stream/GenericWorker");s.prototype={internalStream:function(S){var v=null,E="string";try{if(!S)throw new Error("No output type specified.");var k=(E=S.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),v=this._decompressWorker();var N=!this._dataBinary;N&&!k&&(v=v.pipe(new d.Utf8EncodeWorker)),!N&&k&&(v=v.pipe(new d.Utf8DecodeWorker))}catch(A){(v=new g("error")).error(A)}return new l(v,E,"")},async:function(S,v){return this.internalStream(S).accumulate(v)},nodeStream:function(S,v){return this.internalStream(S||"nodebuffer").toNodejsStream(v)},_compressWorker:function(S,v){if(this._data instanceof p&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(E,S,v)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof g?this._data:new u(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<m.length;_++)s.prototype[m[_]]=b;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var l,u,d=s.MutationObserver||s.WebKitMutationObserver;if(d){var p=0,g=new d(S),m=s.document.createTextNode("");g.observe(m,{characterData:!0}),l=function(){m.data=p=++p%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){S(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(S,0)};else{var b=new s.MessageChannel;b.port1.onmessage=S,l=function(){b.port2.postMessage(0)}}var _=[];function S(){var v,E;u=!0;for(var k=_.length;k;){for(E=_,_=[],v=-1;++v<k;)E[v]();k=_.length}u=!1}r.exports=function(v){_.push(v)!==1||u||l()}}).call(this,typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function l(){}var u={},d=["REJECTED"],p=["FULFILLED"],g=["PENDING"];function m(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,k!==l&&v(this,k)}function b(k,N,A){this.promise=k,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function _(k,N,A){s(function(){var z;try{z=N(A)}catch(D){return u.reject(k,D)}z===k?u.reject(k,new TypeError("Cannot resolve promise with itself")):u.resolve(k,z)})}function S(k){var N=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof N=="function")return function(){N.apply(k,arguments)}}function v(k,N){var A=!1;function z(H){A||(A=!0,u.reject(k,H))}function D(H){A||(A=!0,u.resolve(k,H))}var Z=E(function(){N(D,z)});Z.status==="error"&&z(Z.value)}function E(k,N){var A={};try{A.value=k(N),A.status="success"}catch(z){A.status="error",A.value=z}return A}(r.exports=m).prototype.finally=function(k){if(typeof k!="function")return this;var N=this.constructor;return this.then(function(A){return N.resolve(k()).then(function(){return A})},function(A){return N.resolve(k()).then(function(){throw A})})},m.prototype.catch=function(k){return this.then(null,k)},m.prototype.then=function(k,N){if(typeof k!="function"&&this.state===p||typeof N!="function"&&this.state===d)return this;var A=new this.constructor(l);return this.state!==g?_(A,this.state===p?k:N,this.outcome):this.queue.push(new b(A,k,N)),A},b.prototype.callFulfilled=function(k){u.resolve(this.promise,k)},b.prototype.otherCallFulfilled=function(k){_(this.promise,this.onFulfilled,k)},b.prototype.callRejected=function(k){u.reject(this.promise,k)},b.prototype.otherCallRejected=function(k){_(this.promise,this.onRejected,k)},u.resolve=function(k,N){var A=E(S,N);if(A.status==="error")return u.reject(k,A.value);var z=A.value;if(z)v(k,z);else{k.state=p,k.outcome=N;for(var D=-1,Z=k.queue.length;++D<Z;)k.queue[D].callFulfilled(N)}return k},u.reject=function(k,N){k.state=d,k.outcome=N;for(var A=-1,z=k.queue.length;++A<z;)k.queue[A].callRejected(N);return k},m.resolve=function(k){return k instanceof this?k:u.resolve(new this(l),k)},m.reject=function(k){var N=new this(l);return u.reject(N,k)},m.all=function(k){var N=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=k.length,z=!1;if(!A)return this.resolve([]);for(var D=new Array(A),Z=0,H=-1,q=new this(l);++H<A;)F(k[H],H);return q;function F(W,J){N.resolve(W).then(function(U){D[J]=U,++Z!==A||z||(z=!0,u.resolve(q,D))},function(U){z||(z=!0,u.reject(q,U))})}},m.race=function(k){var N=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=k.length,z=!1;if(!A)return this.resolve([]);for(var D=-1,Z=new this(l);++D<A;)H=k[D],N.resolve(H).then(function(q){z||(z=!0,u.resolve(Z,q))},function(q){z||(z=!0,u.reject(Z,q))});var H;return Z}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),l=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/messages"),p=n("./zlib/zstream"),g=Object.prototype.toString,m=0,b=-1,_=0,S=8;function v(k){if(!(this instanceof v))return new v(k);this.options=l.assign({level:b,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},k||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var A=s.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(A!==m)throw new Error(d[A]);if(N.header&&s.deflateSetHeader(this.strm,N.header),N.dictionary){var z;if(z=typeof N.dictionary=="string"?u.string2buf(N.dictionary):g.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(A=s.deflateSetDictionary(this.strm,z))!==m)throw new Error(d[A]);this._dict_set=!0}}function E(k,N){var A=new v(N);if(A.push(k,!0),A.err)throw A.msg||d[A.err];return A.result}v.prototype.push=function(k,N){var A,z,D=this.strm,Z=this.options.chunkSize;if(this.ended)return!1;z=N===~~N?N:N===!0?4:0,typeof k=="string"?D.input=u.string2buf(k):g.call(k)==="[object ArrayBuffer]"?D.input=new Uint8Array(k):D.input=k,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new l.Buf8(Z),D.next_out=0,D.avail_out=Z),(A=s.deflate(D,z))!==1&&A!==m)return this.onEnd(A),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(l.shrinkBuf(D.output,D.next_out))):this.onData(l.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&A!==1);return z===4?(A=s.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===m):z!==2||(this.onEnd(m),!(D.avail_out=0))},v.prototype.onData=function(k){this.chunks.push(k)},v.prototype.onEnd=function(k){k===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},i.Deflate=v,i.deflate=E,i.deflateRaw=function(k,N){return(N=N||{}).raw=!0,E(k,N)},i.gzip=function(k,N){return(N=N||{}).gzip=!0,E(k,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),l=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/constants"),p=n("./zlib/messages"),g=n("./zlib/zstream"),m=n("./zlib/gzheader"),b=Object.prototype.toString;function _(v){if(!(this instanceof _))return new _(v);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},v||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||v&&v.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var k=s.inflateInit2(this.strm,E.windowBits);if(k!==d.Z_OK)throw new Error(p[k]);this.header=new m,s.inflateGetHeader(this.strm,this.header)}function S(v,E){var k=new _(E);if(k.push(v,!0),k.err)throw k.msg||p[k.err];return k.result}_.prototype.push=function(v,E){var k,N,A,z,D,Z,H=this.strm,q=this.options.chunkSize,F=this.options.dictionary,W=!1;if(this.ended)return!1;N=E===~~E?E:E===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof v=="string"?H.input=u.binstring2buf(v):b.call(v)==="[object ArrayBuffer]"?H.input=new Uint8Array(v):H.input=v,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new l.Buf8(q),H.next_out=0,H.avail_out=q),(k=s.inflate(H,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&F&&(Z=typeof F=="string"?u.string2buf(F):b.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,k=s.inflateSetDictionary(this.strm,Z)),k===d.Z_BUF_ERROR&&W===!0&&(k=d.Z_OK,W=!1),k!==d.Z_STREAM_END&&k!==d.Z_OK)return this.onEnd(k),!(this.ended=!0);H.next_out&&(H.avail_out!==0&&k!==d.Z_STREAM_END&&(H.avail_in!==0||N!==d.Z_FINISH&&N!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=u.utf8border(H.output,H.next_out),z=H.next_out-A,D=u.buf2string(H.output,A),H.next_out=z,H.avail_out=q-z,z&&l.arraySet(H.output,H.output,A,z,0),this.onData(D)):this.onData(l.shrinkBuf(H.output,H.next_out)))),H.avail_in===0&&H.avail_out===0&&(W=!0)}while((0<H.avail_in||H.avail_out===0)&&k!==d.Z_STREAM_END);return k===d.Z_STREAM_END&&(N=d.Z_FINISH),N===d.Z_FINISH?(k=s.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===d.Z_OK):N!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(H.avail_out=0))},_.prototype.onData=function(v){this.chunks.push(v)},_.prototype.onEnd=function(v){v===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=_,i.inflate=S,i.inflateRaw=function(v,E){return(E=E||{}).raw=!0,S(v,E)},i.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var g=p.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var m in g)g.hasOwnProperty(m)&&(d[m]=g[m])}}return d},i.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var l={arraySet:function(d,p,g,m,b){if(p.subarray&&d.subarray)d.set(p.subarray(g,g+m),b);else for(var _=0;_<m;_++)d[b+_]=p[g+_]},flattenChunks:function(d){var p,g,m,b,_,S;for(p=m=0,g=d.length;p<g;p++)m+=d[p].length;for(S=new Uint8Array(m),p=b=0,g=d.length;p<g;p++)_=d[p],S.set(_,b),b+=_.length;return S}},u={arraySet:function(d,p,g,m,b){for(var _=0;_<m;_++)d[b+_]=p[g+_]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),l=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new s.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function g(m,b){if(b<65537&&(m.subarray&&u||!m.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(m,b));for(var _="",S=0;S<b;S++)_+=String.fromCharCode(m[S]);return _}d[254]=d[254]=1,i.string2buf=function(m){var b,_,S,v,E,k=m.length,N=0;for(v=0;v<k;v++)(64512&(_=m.charCodeAt(v)))==55296&&v+1<k&&(64512&(S=m.charCodeAt(v+1)))==56320&&(_=65536+(_-55296<<10)+(S-56320),v++),N+=_<128?1:_<2048?2:_<65536?3:4;for(b=new s.Buf8(N),v=E=0;E<N;v++)(64512&(_=m.charCodeAt(v)))==55296&&v+1<k&&(64512&(S=m.charCodeAt(v+1)))==56320&&(_=65536+(_-55296<<10)+(S-56320),v++),_<128?b[E++]=_:(_<2048?b[E++]=192|_>>>6:(_<65536?b[E++]=224|_>>>12:(b[E++]=240|_>>>18,b[E++]=128|_>>>12&63),b[E++]=128|_>>>6&63),b[E++]=128|63&_);return b},i.buf2binstring=function(m){return g(m,m.length)},i.binstring2buf=function(m){for(var b=new s.Buf8(m.length),_=0,S=b.length;_<S;_++)b[_]=m.charCodeAt(_);return b},i.buf2string=function(m,b){var _,S,v,E,k=b||m.length,N=new Array(2*k);for(_=S=0;_<k;)if((v=m[_++])<128)N[S++]=v;else if(4<(E=d[v]))N[S++]=65533,_+=E-1;else{for(v&=E===2?31:E===3?15:7;1<E&&_<k;)v=v<<6|63&m[_++],E--;1<E?N[S++]=65533:v<65536?N[S++]=v:(v-=65536,N[S++]=55296|v>>10&1023,N[S++]=56320|1023&v)}return g(N,S)},i.utf8border=function(m,b){var _;for((b=b||m.length)>m.length&&(b=m.length),_=b-1;0<=_&&(192&m[_])==128;)_--;return _<0||_===0?b:_+d[m[_]]>b?_:b}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,l,u,d){for(var p=65535&s|0,g=s>>>16&65535|0,m=0;u!==0;){for(u-=m=2e3<u?2e3:u;g=g+(p=p+l[d++]|0)|0,--m;);p%=65521,g%=65521}return p|g<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var l,u=[],d=0;d<256;d++){l=d;for(var p=0;p<8;p++)l=1&l?3988292384^l>>>1:l>>>1;u[d]=l}return u}();r.exports=function(l,u,d,p){var g=s,m=p+d;l^=-1;for(var b=p;b<m;b++)l=l>>>8^g[255&(l^u[b])];return-1^l}},{}],46:[function(n,r,i){var s,l=n("../utils/common"),u=n("./trees"),d=n("./adler32"),p=n("./crc32"),g=n("./messages"),m=0,b=4,_=0,S=-2,v=-1,E=4,k=2,N=8,A=9,z=286,D=30,Z=19,H=2*z+1,q=15,F=3,W=258,J=W+F+1,U=42,X=113,O=1,K=2,se=3,ie=4;function te(B,Pe){return B.msg=g[Pe],Pe}function ee(B){return(B<<1)-(4<B?9:0)}function le(B){for(var Pe=B.length;0<=--Pe;)B[Pe]=0}function $(B){var Pe=B.state,be=Pe.pending;be>B.avail_out&&(be=B.avail_out),be!==0&&(l.arraySet(B.output,Pe.pending_buf,Pe.pending_out,be,B.next_out),B.next_out+=be,Pe.pending_out+=be,B.total_out+=be,B.avail_out-=be,Pe.pending-=be,Pe.pending===0&&(Pe.pending_out=0))}function Q(B,Pe){u._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,Pe),B.block_start=B.strstart,$(B.strm)}function ke(B,Pe){B.pending_buf[B.pending++]=Pe}function _e(B,Pe){B.pending_buf[B.pending++]=Pe>>>8&255,B.pending_buf[B.pending++]=255&Pe}function ve(B,Pe){var be,oe,re=B.max_chain_length,pe=B.strstart,Re=B.prev_length,Le=B.nice_match,me=B.strstart>B.w_size-J?B.strstart-(B.w_size-J):0,Be=B.window,Ve=B.w_mask,De=B.prev,tt=B.strstart+W,G=Be[pe+Re-1],R=Be[pe+Re];B.prev_length>=B.good_match&&(re>>=2),Le>B.lookahead&&(Le=B.lookahead);do if(Be[(be=Pe)+Re]===R&&Be[be+Re-1]===G&&Be[be]===Be[pe]&&Be[++be]===Be[pe+1]){pe+=2,be++;do;while(Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&pe<tt);if(oe=W-(tt-pe),pe=tt-W,Re<oe){if(B.match_start=Pe,Le<=(Re=oe))break;G=Be[pe+Re-1],R=Be[pe+Re]}}while((Pe=De[Pe&Ve])>me&&--re!=0);return Re<=B.lookahead?Re:B.lookahead}function Ie(B){var Pe,be,oe,re,pe,Re,Le,me,Be,Ve,De=B.w_size;do{if(re=B.window_size-B.lookahead-B.strstart,B.strstart>=De+(De-J)){for(l.arraySet(B.window,B.window,De,De,0),B.match_start-=De,B.strstart-=De,B.block_start-=De,Pe=be=B.hash_size;oe=B.head[--Pe],B.head[Pe]=De<=oe?oe-De:0,--be;);for(Pe=be=De;oe=B.prev[--Pe],B.prev[Pe]=De<=oe?oe-De:0,--be;);re+=De}if(B.strm.avail_in===0)break;if(Re=B.strm,Le=B.window,me=B.strstart+B.lookahead,Be=re,Ve=void 0,Ve=Re.avail_in,Be<Ve&&(Ve=Be),be=Ve===0?0:(Re.avail_in-=Ve,l.arraySet(Le,Re.input,Re.next_in,Ve,me),Re.state.wrap===1?Re.adler=d(Re.adler,Le,Ve,me):Re.state.wrap===2&&(Re.adler=p(Re.adler,Le,Ve,me)),Re.next_in+=Ve,Re.total_in+=Ve,Ve),B.lookahead+=be,B.lookahead+B.insert>=F)for(pe=B.strstart-B.insert,B.ins_h=B.window[pe],B.ins_h=(B.ins_h<<B.hash_shift^B.window[pe+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[pe+F-1])&B.hash_mask,B.prev[pe&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=pe,pe++,B.insert--,!(B.lookahead+B.insert<F)););}while(B.lookahead<J&&B.strm.avail_in!==0)}function Te(B,Pe){for(var be,oe;;){if(B.lookahead<J){if(Ie(B),B.lookahead<J&&Pe===m)return O;if(B.lookahead===0)break}if(be=0,B.lookahead>=F&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+F-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),be!==0&&B.strstart-be<=B.w_size-J&&(B.match_length=ve(B,be)),B.match_length>=F)if(oe=u._tr_tally(B,B.strstart-B.match_start,B.match_length-F),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=F){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+F-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else oe=u._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(oe&&(Q(B,!1),B.strm.avail_out===0))return O}return B.insert=B.strstart<F-1?B.strstart:F-1,Pe===b?(Q(B,!0),B.strm.avail_out===0?se:ie):B.last_lit&&(Q(B,!1),B.strm.avail_out===0)?O:K}function Ne(B,Pe){for(var be,oe,re;;){if(B.lookahead<J){if(Ie(B),B.lookahead<J&&Pe===m)return O;if(B.lookahead===0)break}if(be=0,B.lookahead>=F&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+F-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=F-1,be!==0&&B.prev_length<B.max_lazy_match&&B.strstart-be<=B.w_size-J&&(B.match_length=ve(B,be),B.match_length<=5&&(B.strategy===1||B.match_length===F&&4096<B.strstart-B.match_start)&&(B.match_length=F-1)),B.prev_length>=F&&B.match_length<=B.prev_length){for(re=B.strstart+B.lookahead-F,oe=u._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-F),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=re&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+F-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=F-1,B.strstart++,oe&&(Q(B,!1),B.strm.avail_out===0))return O}else if(B.match_available){if((oe=u._tr_tally(B,0,B.window[B.strstart-1]))&&Q(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return O}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(oe=u._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<F-1?B.strstart:F-1,Pe===b?(Q(B,!0),B.strm.avail_out===0?se:ie):B.last_lit&&(Q(B,!1),B.strm.avail_out===0)?O:K}function je(B,Pe,be,oe,re){this.good_length=B,this.max_lazy=Pe,this.nice_length=be,this.max_chain=oe,this.func=re}function Ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*H),this.dyn_dtree=new l.Buf16(2*(2*D+1)),this.bl_tree=new l.Buf16(2*(2*Z+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(q+1),this.heap=new l.Buf16(2*z+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*z+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Qe(B){var Pe;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=k,(Pe=B.state).pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap?U:X,B.adler=Pe.wrap===2?0:1,Pe.last_flush=m,u._tr_init(Pe),_):te(B,S)}function ot(B){var Pe=Qe(B);return Pe===_&&function(be){be.window_size=2*be.w_size,le(be.head),be.max_lazy_match=s[be.level].max_lazy,be.good_match=s[be.level].good_length,be.nice_match=s[be.level].nice_length,be.max_chain_length=s[be.level].max_chain,be.strstart=0,be.block_start=0,be.lookahead=0,be.insert=0,be.match_length=be.prev_length=F-1,be.match_available=0,be.ins_h=0}(B.state),Pe}function at(B,Pe,be,oe,re,pe){if(!B)return S;var Re=1;if(Pe===v&&(Pe=6),oe<0?(Re=0,oe=-oe):15<oe&&(Re=2,oe-=16),re<1||A<re||be!==N||oe<8||15<oe||Pe<0||9<Pe||pe<0||E<pe)return te(B,S);oe===8&&(oe=9);var Le=new Ze;return(B.state=Le).strm=B,Le.wrap=Re,Le.gzhead=null,Le.w_bits=oe,Le.w_size=1<<Le.w_bits,Le.w_mask=Le.w_size-1,Le.hash_bits=re+7,Le.hash_size=1<<Le.hash_bits,Le.hash_mask=Le.hash_size-1,Le.hash_shift=~~((Le.hash_bits+F-1)/F),Le.window=new l.Buf8(2*Le.w_size),Le.head=new l.Buf16(Le.hash_size),Le.prev=new l.Buf16(Le.w_size),Le.lit_bufsize=1<<re+6,Le.pending_buf_size=4*Le.lit_bufsize,Le.pending_buf=new l.Buf8(Le.pending_buf_size),Le.d_buf=1*Le.lit_bufsize,Le.l_buf=3*Le.lit_bufsize,Le.level=Pe,Le.strategy=pe,Le.method=be,ot(B)}s=[new je(0,0,0,0,function(B,Pe){var be=65535;for(be>B.pending_buf_size-5&&(be=B.pending_buf_size-5);;){if(B.lookahead<=1){if(Ie(B),B.lookahead===0&&Pe===m)return O;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var oe=B.block_start+be;if((B.strstart===0||B.strstart>=oe)&&(B.lookahead=B.strstart-oe,B.strstart=oe,Q(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-J&&(Q(B,!1),B.strm.avail_out===0))return O}return B.insert=0,Pe===b?(Q(B,!0),B.strm.avail_out===0?se:ie):(B.strstart>B.block_start&&(Q(B,!1),B.strm.avail_out),O)}),new je(4,4,8,4,Te),new je(4,5,16,8,Te),new je(4,6,32,32,Te),new je(4,4,16,16,Ne),new je(8,16,32,32,Ne),new je(8,16,128,128,Ne),new je(8,32,128,256,Ne),new je(32,128,258,1024,Ne),new je(32,258,258,4096,Ne)],i.deflateInit=function(B,Pe){return at(B,Pe,N,15,8,0)},i.deflateInit2=at,i.deflateReset=ot,i.deflateResetKeep=Qe,i.deflateSetHeader=function(B,Pe){return B&&B.state?B.state.wrap!==2?S:(B.state.gzhead=Pe,_):S},i.deflate=function(B,Pe){var be,oe,re,pe;if(!B||!B.state||5<Pe||Pe<0)return B?te(B,S):S;if(oe=B.state,!B.output||!B.input&&B.avail_in!==0||oe.status===666&&Pe!==b)return te(B,B.avail_out===0?-5:S);if(oe.strm=B,be=oe.last_flush,oe.last_flush=Pe,oe.status===U)if(oe.wrap===2)B.adler=0,ke(oe,31),ke(oe,139),ke(oe,8),oe.gzhead?(ke(oe,(oe.gzhead.text?1:0)+(oe.gzhead.hcrc?2:0)+(oe.gzhead.extra?4:0)+(oe.gzhead.name?8:0)+(oe.gzhead.comment?16:0)),ke(oe,255&oe.gzhead.time),ke(oe,oe.gzhead.time>>8&255),ke(oe,oe.gzhead.time>>16&255),ke(oe,oe.gzhead.time>>24&255),ke(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),ke(oe,255&oe.gzhead.os),oe.gzhead.extra&&oe.gzhead.extra.length&&(ke(oe,255&oe.gzhead.extra.length),ke(oe,oe.gzhead.extra.length>>8&255)),oe.gzhead.hcrc&&(B.adler=p(B.adler,oe.pending_buf,oe.pending,0)),oe.gzindex=0,oe.status=69):(ke(oe,0),ke(oe,0),ke(oe,0),ke(oe,0),ke(oe,0),ke(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),ke(oe,3),oe.status=X);else{var Re=N+(oe.w_bits-8<<4)<<8;Re|=(2<=oe.strategy||oe.level<2?0:oe.level<6?1:oe.level===6?2:3)<<6,oe.strstart!==0&&(Re|=32),Re+=31-Re%31,oe.status=X,_e(oe,Re),oe.strstart!==0&&(_e(oe,B.adler>>>16),_e(oe,65535&B.adler)),B.adler=1}if(oe.status===69)if(oe.gzhead.extra){for(re=oe.pending;oe.gzindex<(65535&oe.gzhead.extra.length)&&(oe.pending!==oe.pending_buf_size||(oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),$(B),re=oe.pending,oe.pending!==oe.pending_buf_size));)ke(oe,255&oe.gzhead.extra[oe.gzindex]),oe.gzindex++;oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),oe.gzindex===oe.gzhead.extra.length&&(oe.gzindex=0,oe.status=73)}else oe.status=73;if(oe.status===73)if(oe.gzhead.name){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),$(B),re=oe.pending,oe.pending===oe.pending_buf_size)){pe=1;break}pe=oe.gzindex<oe.gzhead.name.length?255&oe.gzhead.name.charCodeAt(oe.gzindex++):0,ke(oe,pe)}while(pe!==0);oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),pe===0&&(oe.gzindex=0,oe.status=91)}else oe.status=91;if(oe.status===91)if(oe.gzhead.comment){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),$(B),re=oe.pending,oe.pending===oe.pending_buf_size)){pe=1;break}pe=oe.gzindex<oe.gzhead.comment.length?255&oe.gzhead.comment.charCodeAt(oe.gzindex++):0,ke(oe,pe)}while(pe!==0);oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),pe===0&&(oe.status=103)}else oe.status=103;if(oe.status===103&&(oe.gzhead.hcrc?(oe.pending+2>oe.pending_buf_size&&$(B),oe.pending+2<=oe.pending_buf_size&&(ke(oe,255&B.adler),ke(oe,B.adler>>8&255),B.adler=0,oe.status=X)):oe.status=X),oe.pending!==0){if($(B),B.avail_out===0)return oe.last_flush=-1,_}else if(B.avail_in===0&&ee(Pe)<=ee(be)&&Pe!==b)return te(B,-5);if(oe.status===666&&B.avail_in!==0)return te(B,-5);if(B.avail_in!==0||oe.lookahead!==0||Pe!==m&&oe.status!==666){var Le=oe.strategy===2?function(me,Be){for(var Ve;;){if(me.lookahead===0&&(Ie(me),me.lookahead===0)){if(Be===m)return O;break}if(me.match_length=0,Ve=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,Ve&&(Q(me,!1),me.strm.avail_out===0))return O}return me.insert=0,Be===b?(Q(me,!0),me.strm.avail_out===0?se:ie):me.last_lit&&(Q(me,!1),me.strm.avail_out===0)?O:K}(oe,Pe):oe.strategy===3?function(me,Be){for(var Ve,De,tt,G,R=me.window;;){if(me.lookahead<=W){if(Ie(me),me.lookahead<=W&&Be===m)return O;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=F&&0<me.strstart&&(De=R[tt=me.strstart-1])===R[++tt]&&De===R[++tt]&&De===R[++tt]){G=me.strstart+W;do;while(De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&tt<G);me.match_length=W-(G-tt),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=F?(Ve=u._tr_tally(me,1,me.match_length-F),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(Ve=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),Ve&&(Q(me,!1),me.strm.avail_out===0))return O}return me.insert=0,Be===b?(Q(me,!0),me.strm.avail_out===0?se:ie):me.last_lit&&(Q(me,!1),me.strm.avail_out===0)?O:K}(oe,Pe):s[oe.level].func(oe,Pe);if(Le!==se&&Le!==ie||(oe.status=666),Le===O||Le===se)return B.avail_out===0&&(oe.last_flush=-1),_;if(Le===K&&(Pe===1?u._tr_align(oe):Pe!==5&&(u._tr_stored_block(oe,0,0,!1),Pe===3&&(le(oe.head),oe.lookahead===0&&(oe.strstart=0,oe.block_start=0,oe.insert=0))),$(B),B.avail_out===0))return oe.last_flush=-1,_}return Pe!==b?_:oe.wrap<=0?1:(oe.wrap===2?(ke(oe,255&B.adler),ke(oe,B.adler>>8&255),ke(oe,B.adler>>16&255),ke(oe,B.adler>>24&255),ke(oe,255&B.total_in),ke(oe,B.total_in>>8&255),ke(oe,B.total_in>>16&255),ke(oe,B.total_in>>24&255)):(_e(oe,B.adler>>>16),_e(oe,65535&B.adler)),$(B),0<oe.wrap&&(oe.wrap=-oe.wrap),oe.pending!==0?_:1)},i.deflateEnd=function(B){var Pe;return B&&B.state?(Pe=B.state.status)!==U&&Pe!==69&&Pe!==73&&Pe!==91&&Pe!==103&&Pe!==X&&Pe!==666?te(B,S):(B.state=null,Pe===X?te(B,-3):_):S},i.deflateSetDictionary=function(B,Pe){var be,oe,re,pe,Re,Le,me,Be,Ve=Pe.length;if(!B||!B.state||(pe=(be=B.state).wrap)===2||pe===1&&be.status!==U||be.lookahead)return S;for(pe===1&&(B.adler=d(B.adler,Pe,Ve,0)),be.wrap=0,Ve>=be.w_size&&(pe===0&&(le(be.head),be.strstart=0,be.block_start=0,be.insert=0),Be=new l.Buf8(be.w_size),l.arraySet(Be,Pe,Ve-be.w_size,be.w_size,0),Pe=Be,Ve=be.w_size),Re=B.avail_in,Le=B.next_in,me=B.input,B.avail_in=Ve,B.next_in=0,B.input=Pe,Ie(be);be.lookahead>=F;){for(oe=be.strstart,re=be.lookahead-(F-1);be.ins_h=(be.ins_h<<be.hash_shift^be.window[oe+F-1])&be.hash_mask,be.prev[oe&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=oe,oe++,--re;);be.strstart=oe,be.lookahead=F-1,Ie(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=F-1,be.match_available=0,B.next_in=Le,B.input=me,B.avail_in=Re,be.wrap=pe,_},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,l){var u,d,p,g,m,b,_,S,v,E,k,N,A,z,D,Z,H,q,F,W,J,U,X,O,K;u=s.state,d=s.next_in,O=s.input,p=d+(s.avail_in-5),g=s.next_out,K=s.output,m=g-(l-s.avail_out),b=g+(s.avail_out-257),_=u.dmax,S=u.wsize,v=u.whave,E=u.wnext,k=u.window,N=u.hold,A=u.bits,z=u.lencode,D=u.distcode,Z=(1<<u.lenbits)-1,H=(1<<u.distbits)-1;e:do{A<15&&(N+=O[d++]<<A,A+=8,N+=O[d++]<<A,A+=8),q=z[N&Z];t:for(;;){if(N>>>=F=q>>>24,A-=F,(F=q>>>16&255)===0)K[g++]=65535&q;else{if(!(16&F)){if((64&F)==0){q=z[(65535&q)+(N&(1<<F)-1)];continue t}if(32&F){u.mode=12;break e}s.msg="invalid literal/length code",u.mode=30;break e}W=65535&q,(F&=15)&&(A<F&&(N+=O[d++]<<A,A+=8),W+=N&(1<<F)-1,N>>>=F,A-=F),A<15&&(N+=O[d++]<<A,A+=8,N+=O[d++]<<A,A+=8),q=D[N&H];n:for(;;){if(N>>>=F=q>>>24,A-=F,!(16&(F=q>>>16&255))){if((64&F)==0){q=D[(65535&q)+(N&(1<<F)-1)];continue n}s.msg="invalid distance code",u.mode=30;break e}if(J=65535&q,A<(F&=15)&&(N+=O[d++]<<A,(A+=8)<F&&(N+=O[d++]<<A,A+=8)),_<(J+=N&(1<<F)-1)){s.msg="invalid distance too far back",u.mode=30;break e}if(N>>>=F,A-=F,(F=g-m)<J){if(v<(F=J-F)&&u.sane){s.msg="invalid distance too far back",u.mode=30;break e}if(X=k,(U=0)===E){if(U+=S-F,F<W){for(W-=F;K[g++]=k[U++],--F;);U=g-J,X=K}}else if(E<F){if(U+=S+E-F,(F-=E)<W){for(W-=F;K[g++]=k[U++],--F;);if(U=0,E<W){for(W-=F=E;K[g++]=k[U++],--F;);U=g-J,X=K}}}else if(U+=E-F,F<W){for(W-=F;K[g++]=k[U++],--F;);U=g-J,X=K}for(;2<W;)K[g++]=X[U++],K[g++]=X[U++],K[g++]=X[U++],W-=3;W&&(K[g++]=X[U++],1<W&&(K[g++]=X[U++]))}else{for(U=g-J;K[g++]=K[U++],K[g++]=K[U++],K[g++]=K[U++],2<(W-=3););W&&(K[g++]=K[U++],1<W&&(K[g++]=K[U++]))}break}}break}}while(d<p&&g<b);d-=W=A>>3,N&=(1<<(A-=W<<3))-1,s.next_in=d,s.next_out=g,s.avail_in=d<p?p-d+5:5-(d-p),s.avail_out=g<b?b-g+257:257-(g-b),u.hold=N,u.bits=A}},{}],49:[function(n,r,i){var s=n("../utils/common"),l=n("./adler32"),u=n("./crc32"),d=n("./inffast"),p=n("./inftrees"),g=1,m=2,b=0,_=-2,S=1,v=852,E=592;function k(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(U){var X;return U&&U.state?(X=U.state,U.total_in=U.total_out=X.total=0,U.msg="",X.wrap&&(U.adler=1&X.wrap),X.mode=S,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new s.Buf32(v),X.distcode=X.distdyn=new s.Buf32(E),X.sane=1,X.back=-1,b):_}function z(U){var X;return U&&U.state?((X=U.state).wsize=0,X.whave=0,X.wnext=0,A(U)):_}function D(U,X){var O,K;return U&&U.state?(K=U.state,X<0?(O=0,X=-X):(O=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?_:(K.window!==null&&K.wbits!==X&&(K.window=null),K.wrap=O,K.wbits=X,z(U))):_}function Z(U,X){var O,K;return U?(K=new N,(U.state=K).window=null,(O=D(U,X))!==b&&(U.state=null),O):_}var H,q,F=!0;function W(U){if(F){var X;for(H=new s.Buf32(512),q=new s.Buf32(32),X=0;X<144;)U.lens[X++]=8;for(;X<256;)U.lens[X++]=9;for(;X<280;)U.lens[X++]=7;for(;X<288;)U.lens[X++]=8;for(p(g,U.lens,0,288,H,0,U.work,{bits:9}),X=0;X<32;)U.lens[X++]=5;p(m,U.lens,0,32,q,0,U.work,{bits:5}),F=!1}U.lencode=H,U.lenbits=9,U.distcode=q,U.distbits=5}function J(U,X,O,K){var se,ie=U.state;return ie.window===null&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new s.Buf8(ie.wsize)),K>=ie.wsize?(s.arraySet(ie.window,X,O-ie.wsize,ie.wsize,0),ie.wnext=0,ie.whave=ie.wsize):(K<(se=ie.wsize-ie.wnext)&&(se=K),s.arraySet(ie.window,X,O-K,se,ie.wnext),(K-=se)?(s.arraySet(ie.window,X,O-K,K,0),ie.wnext=K,ie.whave=ie.wsize):(ie.wnext+=se,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=se))),0}i.inflateReset=z,i.inflateReset2=D,i.inflateResetKeep=A,i.inflateInit=function(U){return Z(U,15)},i.inflateInit2=Z,i.inflate=function(U,X){var O,K,se,ie,te,ee,le,$,Q,ke,_e,ve,Ie,Te,Ne,je,Ze,Qe,ot,at,B,Pe,be,oe,re=0,pe=new s.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return _;(O=U.state).mode===12&&(O.mode=13),te=U.next_out,se=U.output,le=U.avail_out,ie=U.next_in,K=U.input,ee=U.avail_in,$=O.hold,Q=O.bits,ke=ee,_e=le,Pe=b;e:for(;;)switch(O.mode){case S:if(O.wrap===0){O.mode=13;break}for(;Q<16;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}if(2&O.wrap&&$===35615){pe[O.check=0]=255&$,pe[1]=$>>>8&255,O.check=u(O.check,pe,2,0),Q=$=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&$)<<8)+($>>8))%31){U.msg="incorrect header check",O.mode=30;break}if((15&$)!=8){U.msg="unknown compression method",O.mode=30;break}if(Q-=4,B=8+(15&($>>>=4)),O.wbits===0)O.wbits=B;else if(B>O.wbits){U.msg="invalid window size",O.mode=30;break}O.dmax=1<<B,U.adler=O.check=1,O.mode=512&$?10:12,Q=$=0;break;case 2:for(;Q<16;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}if(O.flags=$,(255&O.flags)!=8){U.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){U.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=$>>8&1),512&O.flags&&(pe[0]=255&$,pe[1]=$>>>8&255,O.check=u(O.check,pe,2,0)),Q=$=0,O.mode=3;case 3:for(;Q<32;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}O.head&&(O.head.time=$),512&O.flags&&(pe[0]=255&$,pe[1]=$>>>8&255,pe[2]=$>>>16&255,pe[3]=$>>>24&255,O.check=u(O.check,pe,4,0)),Q=$=0,O.mode=4;case 4:for(;Q<16;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}O.head&&(O.head.xflags=255&$,O.head.os=$>>8),512&O.flags&&(pe[0]=255&$,pe[1]=$>>>8&255,O.check=u(O.check,pe,2,0)),Q=$=0,O.mode=5;case 5:if(1024&O.flags){for(;Q<16;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}O.length=$,O.head&&(O.head.extra_len=$),512&O.flags&&(pe[0]=255&$,pe[1]=$>>>8&255,O.check=u(O.check,pe,2,0)),Q=$=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(ee<(ve=O.length)&&(ve=ee),ve&&(O.head&&(B=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),s.arraySet(O.head.extra,K,ie,ve,B)),512&O.flags&&(O.check=u(O.check,K,ve,ie)),ee-=ve,ie+=ve,O.length-=ve),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(ee===0)break e;for(ve=0;B=K[ie+ve++],O.head&&B&&O.length<65536&&(O.head.name+=String.fromCharCode(B)),B&&ve<ee;);if(512&O.flags&&(O.check=u(O.check,K,ve,ie)),ee-=ve,ie+=ve,B)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(ee===0)break e;for(ve=0;B=K[ie+ve++],O.head&&B&&O.length<65536&&(O.head.comment+=String.fromCharCode(B)),B&&ve<ee;);if(512&O.flags&&(O.check=u(O.check,K,ve,ie)),ee-=ve,ie+=ve,B)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;Q<16;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}if($!==(65535&O.check)){U.msg="header crc mismatch",O.mode=30;break}Q=$=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),U.adler=O.check=0,O.mode=12;break;case 10:for(;Q<32;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}U.adler=O.check=k($),Q=$=0,O.mode=11;case 11:if(O.havedict===0)return U.next_out=te,U.avail_out=le,U.next_in=ie,U.avail_in=ee,O.hold=$,O.bits=Q,2;U.adler=O.check=1,O.mode=12;case 12:if(X===5||X===6)break e;case 13:if(O.last){$>>>=7&Q,Q-=7&Q,O.mode=27;break}for(;Q<3;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}switch(O.last=1&$,Q-=1,3&($>>>=1)){case 0:O.mode=14;break;case 1:if(W(O),O.mode=20,X!==6)break;$>>>=2,Q-=2;break e;case 2:O.mode=17;break;case 3:U.msg="invalid block type",O.mode=30}$>>>=2,Q-=2;break;case 14:for($>>>=7&Q,Q-=7&Q;Q<32;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}if((65535&$)!=($>>>16^65535)){U.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&$,Q=$=0,O.mode=15,X===6)break e;case 15:O.mode=16;case 16:if(ve=O.length){if(ee<ve&&(ve=ee),le<ve&&(ve=le),ve===0)break e;s.arraySet(se,K,ie,ve,te),ee-=ve,ie+=ve,le-=ve,te+=ve,O.length-=ve;break}O.mode=12;break;case 17:for(;Q<14;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}if(O.nlen=257+(31&$),$>>>=5,Q-=5,O.ndist=1+(31&$),$>>>=5,Q-=5,O.ncode=4+(15&$),$>>>=4,Q-=4,286<O.nlen||30<O.ndist){U.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;Q<3;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}O.lens[Re[O.have++]]=7&$,$>>>=3,Q-=3}for(;O.have<19;)O.lens[Re[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,be={bits:O.lenbits},Pe=p(0,O.lens,0,19,O.lencode,0,O.work,be),O.lenbits=be.bits,Pe){U.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;je=(re=O.lencode[$&(1<<O.lenbits)-1])>>>16&255,Ze=65535&re,!((Ne=re>>>24)<=Q);){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}if(Ze<16)$>>>=Ne,Q-=Ne,O.lens[O.have++]=Ze;else{if(Ze===16){for(oe=Ne+2;Q<oe;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}if($>>>=Ne,Q-=Ne,O.have===0){U.msg="invalid bit length repeat",O.mode=30;break}B=O.lens[O.have-1],ve=3+(3&$),$>>>=2,Q-=2}else if(Ze===17){for(oe=Ne+3;Q<oe;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}Q-=Ne,B=0,ve=3+(7&($>>>=Ne)),$>>>=3,Q-=3}else{for(oe=Ne+7;Q<oe;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}Q-=Ne,B=0,ve=11+(127&($>>>=Ne)),$>>>=7,Q-=7}if(O.have+ve>O.nlen+O.ndist){U.msg="invalid bit length repeat",O.mode=30;break}for(;ve--;)O.lens[O.have++]=B}}if(O.mode===30)break;if(O.lens[256]===0){U.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,be={bits:O.lenbits},Pe=p(g,O.lens,0,O.nlen,O.lencode,0,O.work,be),O.lenbits=be.bits,Pe){U.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,be={bits:O.distbits},Pe=p(m,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,be),O.distbits=be.bits,Pe){U.msg="invalid distances set",O.mode=30;break}if(O.mode=20,X===6)break e;case 20:O.mode=21;case 21:if(6<=ee&&258<=le){U.next_out=te,U.avail_out=le,U.next_in=ie,U.avail_in=ee,O.hold=$,O.bits=Q,d(U,_e),te=U.next_out,se=U.output,le=U.avail_out,ie=U.next_in,K=U.input,ee=U.avail_in,$=O.hold,Q=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;je=(re=O.lencode[$&(1<<O.lenbits)-1])>>>16&255,Ze=65535&re,!((Ne=re>>>24)<=Q);){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}if(je&&(240&je)==0){for(Qe=Ne,ot=je,at=Ze;je=(re=O.lencode[at+(($&(1<<Qe+ot)-1)>>Qe)])>>>16&255,Ze=65535&re,!(Qe+(Ne=re>>>24)<=Q);){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}$>>>=Qe,Q-=Qe,O.back+=Qe}if($>>>=Ne,Q-=Ne,O.back+=Ne,O.length=Ze,je===0){O.mode=26;break}if(32&je){O.back=-1,O.mode=12;break}if(64&je){U.msg="invalid literal/length code",O.mode=30;break}O.extra=15&je,O.mode=22;case 22:if(O.extra){for(oe=O.extra;Q<oe;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}O.length+=$&(1<<O.extra)-1,$>>>=O.extra,Q-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;je=(re=O.distcode[$&(1<<O.distbits)-1])>>>16&255,Ze=65535&re,!((Ne=re>>>24)<=Q);){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}if((240&je)==0){for(Qe=Ne,ot=je,at=Ze;je=(re=O.distcode[at+(($&(1<<Qe+ot)-1)>>Qe)])>>>16&255,Ze=65535&re,!(Qe+(Ne=re>>>24)<=Q);){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}$>>>=Qe,Q-=Qe,O.back+=Qe}if($>>>=Ne,Q-=Ne,O.back+=Ne,64&je){U.msg="invalid distance code",O.mode=30;break}O.offset=Ze,O.extra=15&je,O.mode=24;case 24:if(O.extra){for(oe=O.extra;Q<oe;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}O.offset+=$&(1<<O.extra)-1,$>>>=O.extra,Q-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){U.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(le===0)break e;if(ve=_e-le,O.offset>ve){if((ve=O.offset-ve)>O.whave&&O.sane){U.msg="invalid distance too far back",O.mode=30;break}Ie=ve>O.wnext?(ve-=O.wnext,O.wsize-ve):O.wnext-ve,ve>O.length&&(ve=O.length),Te=O.window}else Te=se,Ie=te-O.offset,ve=O.length;for(le<ve&&(ve=le),le-=ve,O.length-=ve;se[te++]=Te[Ie++],--ve;);O.length===0&&(O.mode=21);break;case 26:if(le===0)break e;se[te++]=O.length,le--,O.mode=21;break;case 27:if(O.wrap){for(;Q<32;){if(ee===0)break e;ee--,$|=K[ie++]<<Q,Q+=8}if(_e-=le,U.total_out+=_e,O.total+=_e,_e&&(U.adler=O.check=O.flags?u(O.check,se,_e,te-_e):l(O.check,se,_e,te-_e)),_e=le,(O.flags?$:k($))!==O.check){U.msg="incorrect data check",O.mode=30;break}Q=$=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;Q<32;){if(ee===0)break e;ee--,$+=K[ie++]<<Q,Q+=8}if($!==(4294967295&O.total)){U.msg="incorrect length check",O.mode=30;break}Q=$=0}O.mode=29;case 29:Pe=1;break e;case 30:Pe=-3;break e;case 31:return-4;case 32:default:return _}return U.next_out=te,U.avail_out=le,U.next_in=ie,U.avail_in=ee,O.hold=$,O.bits=Q,(O.wsize||_e!==U.avail_out&&O.mode<30&&(O.mode<27||X!==4))&&J(U,U.output,U.next_out,_e-U.avail_out)?(O.mode=31,-4):(ke-=U.avail_in,_e-=U.avail_out,U.total_in+=ke,U.total_out+=_e,O.total+=_e,O.wrap&&_e&&(U.adler=O.check=O.flags?u(O.check,se,_e,U.next_out-_e):l(O.check,se,_e,U.next_out-_e)),U.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(ke==0&&_e===0||X===4)&&Pe===b&&(Pe=-5),Pe)},i.inflateEnd=function(U){if(!U||!U.state)return _;var X=U.state;return X.window&&(X.window=null),U.state=null,b},i.inflateGetHeader=function(U,X){var O;return U&&U.state?(2&(O=U.state).wrap)==0?_:((O.head=X).done=!1,b):_},i.inflateSetDictionary=function(U,X){var O,K=X.length;return U&&U.state?(O=U.state).wrap!==0&&O.mode!==11?_:O.mode===11&&l(1,X,K,0)!==O.check?-3:J(U,X,K,K)?(O.mode=31,-4):(O.havedict=1,b):_},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(g,m,b,_,S,v,E,k){var N,A,z,D,Z,H,q,F,W,J=k.bits,U=0,X=0,O=0,K=0,se=0,ie=0,te=0,ee=0,le=0,$=0,Q=null,ke=0,_e=new s.Buf16(16),ve=new s.Buf16(16),Ie=null,Te=0;for(U=0;U<=15;U++)_e[U]=0;for(X=0;X<_;X++)_e[m[b+X]]++;for(se=J,K=15;1<=K&&_e[K]===0;K--);if(K<se&&(se=K),K===0)return S[v++]=20971520,S[v++]=20971520,k.bits=1,0;for(O=1;O<K&&_e[O]===0;O++);for(se<O&&(se=O),U=ee=1;U<=15;U++)if(ee<<=1,(ee-=_e[U])<0)return-1;if(0<ee&&(g===0||K!==1))return-1;for(ve[1]=0,U=1;U<15;U++)ve[U+1]=ve[U]+_e[U];for(X=0;X<_;X++)m[b+X]!==0&&(E[ve[m[b+X]]++]=X);if(H=g===0?(Q=Ie=E,19):g===1?(Q=l,ke-=257,Ie=u,Te-=257,256):(Q=d,Ie=p,-1),U=O,Z=v,te=X=$=0,z=-1,D=(le=1<<(ie=se))-1,g===1&&852<le||g===2&&592<le)return 1;for(;;){for(q=U-te,W=E[X]<H?(F=0,E[X]):E[X]>H?(F=Ie[Te+E[X]],Q[ke+E[X]]):(F=96,0),N=1<<U-te,O=A=1<<ie;S[Z+($>>te)+(A-=N)]=q<<24|F<<16|W|0,A!==0;);for(N=1<<U-1;$&N;)N>>=1;if(N!==0?($&=N-1,$+=N):$=0,X++,--_e[U]==0){if(U===K)break;U=m[b+E[X]]}if(se<U&&($&D)!==z){for(te===0&&(te=se),Z+=O,ee=1<<(ie=U-te);ie+te<K&&!((ee-=_e[ie+te])<=0);)ie++,ee<<=1;if(le+=1<<ie,g===1&&852<le||g===2&&592<le)return 1;S[z=$&D]=se<<24|ie<<16|Z-v|0}}return $!==0&&(S[Z+$]=U-te<<24|64<<16|0),k.bits=se,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),l=0,u=1;function d(re){for(var pe=re.length;0<=--pe;)re[pe]=0}var p=0,g=29,m=256,b=m+1+g,_=30,S=19,v=2*b+1,E=15,k=16,N=7,A=256,z=16,D=17,Z=18,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(b+2));d(J);var U=new Array(2*_);d(U);var X=new Array(512);d(X);var O=new Array(256);d(O);var K=new Array(g);d(K);var se,ie,te,ee=new Array(_);function le(re,pe,Re,Le,me){this.static_tree=re,this.extra_bits=pe,this.extra_base=Re,this.elems=Le,this.max_length=me,this.has_stree=re&&re.length}function $(re,pe){this.dyn_tree=re,this.max_code=0,this.stat_desc=pe}function Q(re){return re<256?X[re]:X[256+(re>>>7)]}function ke(re,pe){re.pending_buf[re.pending++]=255&pe,re.pending_buf[re.pending++]=pe>>>8&255}function _e(re,pe,Re){re.bi_valid>k-Re?(re.bi_buf|=pe<<re.bi_valid&65535,ke(re,re.bi_buf),re.bi_buf=pe>>k-re.bi_valid,re.bi_valid+=Re-k):(re.bi_buf|=pe<<re.bi_valid&65535,re.bi_valid+=Re)}function ve(re,pe,Re){_e(re,Re[2*pe],Re[2*pe+1])}function Ie(re,pe){for(var Re=0;Re|=1&re,re>>>=1,Re<<=1,0<--pe;);return Re>>>1}function Te(re,pe,Re){var Le,me,Be=new Array(E+1),Ve=0;for(Le=1;Le<=E;Le++)Be[Le]=Ve=Ve+Re[Le-1]<<1;for(me=0;me<=pe;me++){var De=re[2*me+1];De!==0&&(re[2*me]=Ie(Be[De]++,De))}}function Ne(re){var pe;for(pe=0;pe<b;pe++)re.dyn_ltree[2*pe]=0;for(pe=0;pe<_;pe++)re.dyn_dtree[2*pe]=0;for(pe=0;pe<S;pe++)re.bl_tree[2*pe]=0;re.dyn_ltree[2*A]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function je(re){8<re.bi_valid?ke(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function Ze(re,pe,Re,Le){var me=2*pe,Be=2*Re;return re[me]<re[Be]||re[me]===re[Be]&&Le[pe]<=Le[Re]}function Qe(re,pe,Re){for(var Le=re.heap[Re],me=Re<<1;me<=re.heap_len&&(me<re.heap_len&&Ze(pe,re.heap[me+1],re.heap[me],re.depth)&&me++,!Ze(pe,Le,re.heap[me],re.depth));)re.heap[Re]=re.heap[me],Re=me,me<<=1;re.heap[Re]=Le}function ot(re,pe,Re){var Le,me,Be,Ve,De=0;if(re.last_lit!==0)for(;Le=re.pending_buf[re.d_buf+2*De]<<8|re.pending_buf[re.d_buf+2*De+1],me=re.pending_buf[re.l_buf+De],De++,Le===0?ve(re,me,pe):(ve(re,(Be=O[me])+m+1,pe),(Ve=H[Be])!==0&&_e(re,me-=K[Be],Ve),ve(re,Be=Q(--Le),Re),(Ve=q[Be])!==0&&_e(re,Le-=ee[Be],Ve)),De<re.last_lit;);ve(re,A,pe)}function at(re,pe){var Re,Le,me,Be=pe.dyn_tree,Ve=pe.stat_desc.static_tree,De=pe.stat_desc.has_stree,tt=pe.stat_desc.elems,G=-1;for(re.heap_len=0,re.heap_max=v,Re=0;Re<tt;Re++)Be[2*Re]!==0?(re.heap[++re.heap_len]=G=Re,re.depth[Re]=0):Be[2*Re+1]=0;for(;re.heap_len<2;)Be[2*(me=re.heap[++re.heap_len]=G<2?++G:0)]=1,re.depth[me]=0,re.opt_len--,De&&(re.static_len-=Ve[2*me+1]);for(pe.max_code=G,Re=re.heap_len>>1;1<=Re;Re--)Qe(re,Be,Re);for(me=tt;Re=re.heap[1],re.heap[1]=re.heap[re.heap_len--],Qe(re,Be,1),Le=re.heap[1],re.heap[--re.heap_max]=Re,re.heap[--re.heap_max]=Le,Be[2*me]=Be[2*Re]+Be[2*Le],re.depth[me]=(re.depth[Re]>=re.depth[Le]?re.depth[Re]:re.depth[Le])+1,Be[2*Re+1]=Be[2*Le+1]=me,re.heap[1]=me++,Qe(re,Be,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],function(R,j){var ne,fe,xe,Ce,dt,Lt,_t=j.dyn_tree,kt=j.max_code,Ct=j.stat_desc.static_tree,fa=j.stat_desc.has_stree,Wo=j.stat_desc.extra_bits,Lr=j.stat_desc.extra_base,Hn=j.stat_desc.max_length,to=0;for(Ce=0;Ce<=E;Ce++)R.bl_count[Ce]=0;for(_t[2*R.heap[R.heap_max]+1]=0,ne=R.heap_max+1;ne<v;ne++)Hn<(Ce=_t[2*_t[2*(fe=R.heap[ne])+1]+1]+1)&&(Ce=Hn,to++),_t[2*fe+1]=Ce,kt<fe||(R.bl_count[Ce]++,dt=0,Lr<=fe&&(dt=Wo[fe-Lr]),Lt=_t[2*fe],R.opt_len+=Lt*(Ce+dt),fa&&(R.static_len+=Lt*(Ct[2*fe+1]+dt)));if(to!==0){do{for(Ce=Hn-1;R.bl_count[Ce]===0;)Ce--;R.bl_count[Ce]--,R.bl_count[Ce+1]+=2,R.bl_count[Hn]--,to-=2}while(0<to);for(Ce=Hn;Ce!==0;Ce--)for(fe=R.bl_count[Ce];fe!==0;)kt<(xe=R.heap[--ne])||(_t[2*xe+1]!==Ce&&(R.opt_len+=(Ce-_t[2*xe+1])*_t[2*xe],_t[2*xe+1]=Ce),fe--)}}(re,pe),Te(Be,G,re.bl_count)}function B(re,pe,Re){var Le,me,Be=-1,Ve=pe[1],De=0,tt=7,G=4;for(Ve===0&&(tt=138,G=3),pe[2*(Re+1)+1]=65535,Le=0;Le<=Re;Le++)me=Ve,Ve=pe[2*(Le+1)+1],++De<tt&&me===Ve||(De<G?re.bl_tree[2*me]+=De:me!==0?(me!==Be&&re.bl_tree[2*me]++,re.bl_tree[2*z]++):De<=10?re.bl_tree[2*D]++:re.bl_tree[2*Z]++,Be=me,G=(De=0)===Ve?(tt=138,3):me===Ve?(tt=6,3):(tt=7,4))}function Pe(re,pe,Re){var Le,me,Be=-1,Ve=pe[1],De=0,tt=7,G=4;for(Ve===0&&(tt=138,G=3),Le=0;Le<=Re;Le++)if(me=Ve,Ve=pe[2*(Le+1)+1],!(++De<tt&&me===Ve)){if(De<G)for(;ve(re,me,re.bl_tree),--De!=0;);else me!==0?(me!==Be&&(ve(re,me,re.bl_tree),De--),ve(re,z,re.bl_tree),_e(re,De-3,2)):De<=10?(ve(re,D,re.bl_tree),_e(re,De-3,3)):(ve(re,Z,re.bl_tree),_e(re,De-11,7));Be=me,G=(De=0)===Ve?(tt=138,3):me===Ve?(tt=6,3):(tt=7,4)}}d(ee);var be=!1;function oe(re,pe,Re,Le){_e(re,(p<<1)+(Le?1:0),3),function(me,Be,Ve,De){je(me),ke(me,Ve),ke(me,~Ve),s.arraySet(me.pending_buf,me.window,Be,Ve,me.pending),me.pending+=Ve}(re,pe,Re)}i._tr_init=function(re){be||(function(){var pe,Re,Le,me,Be,Ve=new Array(E+1);for(me=Le=0;me<g-1;me++)for(K[me]=Le,pe=0;pe<1<<H[me];pe++)O[Le++]=me;for(O[Le-1]=me,me=Be=0;me<16;me++)for(ee[me]=Be,pe=0;pe<1<<q[me];pe++)X[Be++]=me;for(Be>>=7;me<_;me++)for(ee[me]=Be<<7,pe=0;pe<1<<q[me]-7;pe++)X[256+Be++]=me;for(Re=0;Re<=E;Re++)Ve[Re]=0;for(pe=0;pe<=143;)J[2*pe+1]=8,pe++,Ve[8]++;for(;pe<=255;)J[2*pe+1]=9,pe++,Ve[9]++;for(;pe<=279;)J[2*pe+1]=7,pe++,Ve[7]++;for(;pe<=287;)J[2*pe+1]=8,pe++,Ve[8]++;for(Te(J,b+1,Ve),pe=0;pe<_;pe++)U[2*pe+1]=5,U[2*pe]=Ie(pe,5);se=new le(J,H,m+1,b,E),ie=new le(U,q,0,_,E),te=new le(new Array(0),F,0,S,N)}(),be=!0),re.l_desc=new $(re.dyn_ltree,se),re.d_desc=new $(re.dyn_dtree,ie),re.bl_desc=new $(re.bl_tree,te),re.bi_buf=0,re.bi_valid=0,Ne(re)},i._tr_stored_block=oe,i._tr_flush_block=function(re,pe,Re,Le){var me,Be,Ve=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=function(De){var tt,G=4093624447;for(tt=0;tt<=31;tt++,G>>>=1)if(1&G&&De.dyn_ltree[2*tt]!==0)return l;if(De.dyn_ltree[18]!==0||De.dyn_ltree[20]!==0||De.dyn_ltree[26]!==0)return u;for(tt=32;tt<m;tt++)if(De.dyn_ltree[2*tt]!==0)return u;return l}(re)),at(re,re.l_desc),at(re,re.d_desc),Ve=function(De){var tt;for(B(De,De.dyn_ltree,De.l_desc.max_code),B(De,De.dyn_dtree,De.d_desc.max_code),at(De,De.bl_desc),tt=S-1;3<=tt&&De.bl_tree[2*W[tt]+1]===0;tt--);return De.opt_len+=3*(tt+1)+5+5+4,tt}(re),me=re.opt_len+3+7>>>3,(Be=re.static_len+3+7>>>3)<=me&&(me=Be)):me=Be=Re+5,Re+4<=me&&pe!==-1?oe(re,pe,Re,Le):re.strategy===4||Be===me?(_e(re,2+(Le?1:0),3),ot(re,J,U)):(_e(re,4+(Le?1:0),3),function(De,tt,G,R){var j;for(_e(De,tt-257,5),_e(De,G-1,5),_e(De,R-4,4),j=0;j<R;j++)_e(De,De.bl_tree[2*W[j]+1],3);Pe(De,De.dyn_ltree,tt-1),Pe(De,De.dyn_dtree,G-1)}(re,re.l_desc.max_code+1,re.d_desc.max_code+1,Ve+1),ot(re,re.dyn_ltree,re.dyn_dtree)),Ne(re),Le&&je(re)},i._tr_tally=function(re,pe,Re){return re.pending_buf[re.d_buf+2*re.last_lit]=pe>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&pe,re.pending_buf[re.l_buf+re.last_lit]=255&Re,re.last_lit++,pe===0?re.dyn_ltree[2*Re]++:(re.matches++,pe--,re.dyn_ltree[2*(O[Re]+m+1)]++,re.dyn_dtree[2*Q(pe)]++),re.last_lit===re.lit_bufsize-1},i._tr_align=function(re){_e(re,2,3),ve(re,A,J),function(pe){pe.bi_valid===16?(ke(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(re)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(l,u){if(!l.setImmediate){var d,p,g,m,b=1,_={},S=!1,v=l.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(l);E=E&&E.setTimeout?E:l,d={}.toString.call(l.process)==="[object process]"?function(z){process.nextTick(function(){N(z)})}:function(){if(l.postMessage&&!l.importScripts){var z=!0,D=l.onmessage;return l.onmessage=function(){z=!1},l.postMessage("","*"),l.onmessage=D,z}}()?(m="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",A,!1):l.attachEvent("onmessage",A),function(z){l.postMessage(m+z,"*")}):l.MessageChannel?((g=new MessageChannel).port1.onmessage=function(z){N(z.data)},function(z){g.port2.postMessage(z)}):v&&"onreadystatechange"in v.createElement("script")?(p=v.documentElement,function(z){var D=v.createElement("script");D.onreadystatechange=function(){N(z),D.onreadystatechange=null,p.removeChild(D),D=null},p.appendChild(D)}):function(z){setTimeout(N,0,z)},E.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var D=new Array(arguments.length-1),Z=0;Z<D.length;Z++)D[Z]=arguments[Z+1];var H={callback:z,args:D};return _[b]=H,d(b),b++},E.clearImmediate=k}function k(z){delete _[z]}function N(z){if(S)setTimeout(N,0,z);else{var D=_[z];if(D){S=!0;try{(function(Z){var H=Z.callback,q=Z.args;switch(q.length){case 0:H();break;case 1:H(q[0]);break;case 2:H(q[0],q[1]);break;case 3:H(q[0],q[1],q[2]);break;default:H.apply(u,q)}})(D)}finally{k(z),S=!1}}}}function A(z){z.source===l&&typeof z.data=="string"&&z.data.indexOf(m)===0&&N(+z.data.slice(m.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(dv)),dv.exports}xV();const bV=30023,EV="dead-drop-lockers@v1",r2="Dead Drop Lockers Source Snapshot";function SV(){const e=C.useRef(null),[t,n]=C.useState(null),r=tN(),i=o_(),s=u=>{var p;const d=((p=u.target.files)==null?void 0:p[0])??null;n(d)},l=async()=>{if(t)try{const u=await r.mutateAsync(t);await i.mutateAsync({kind:bV,content:`${r2}: snapshot uploaded`,tags:[["d",EV],["title",r2],["t","code-snapshot"],...u]}),alert("Snapshot published to Nostr")}catch(u){alert("Upload or publish failed: "+u.message)}};return y.jsxs("div",{className:"p-4",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Publish Snapshot to Nostr"}),y.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a zip of your project locally and upload it here to publish a Nostr snapshot event."}),y.jsx("input",{type:"file",ref:e,onChange:s,accept:".zip"}),y.jsx("div",{className:"mt-4",children:y.jsx("button",{className:"btn",onClick:l,disabled:!t,children:"Upload & Publish"})})]})}function kV(){return su({title:"DeadDropstr - Nostr-Native Smart Lockers",description:"A decentralized marketplace for autonomous physical lockers powered by Nostr and Lightning."}),y.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[y.jsxs("header",{className:"relative isolate overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(45%_40%_at_50%_60%,hsl(var(--primary)/0.12),transparent)]"}),y.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[y.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:["The ",y.jsx("span",{className:"text-primary",children:"Nostr-Native"})," Dead Drop Network"]}),y.jsx("p",{className:"max-w-2xl mx-auto text-lg text-muted-foreground mb-10",children:"Rent autonomous smart lockers for anonymous P2P exchanges. Pay with Lightning. No middlemen."}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[y.jsx(Nt,{asChild:!0,size:"lg",className:"text-base",children:y.jsxs(Xn,{to:"/marketplace",children:[y.jsx(gp,{className:"mr-2 h-5 w-5"}),"Explore Lockers"]})}),y.jsx(Nt,{asChild:!0,size:"lg",variant:"outline",className:"text-base",children:y.jsxs(Xn,{to:"/dashboard",children:[y.jsx(e0,{className:"mr-2 h-5 w-5"}),"Owner Dashboard"]})})]})]})]}),y.jsxs("section",{className:"container mx-auto px-4 py-16",children:[y.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),y.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsxs(Vt,{className:"bg-card/60 backdrop-blur",children:[y.jsxs(pr,{children:[y.jsx(gp,{className:"h-10 w-10 text-primary mb-2"}),y.jsx(Qr,{children:"Find a Locker"})]}),y.jsx(fn,{children:y.jsx(Ro,{children:"Browse the map to find available smart lockers near you. Filter by size, price, and trust score."})})]}),y.jsxs(Vt,{className:"bg-card/60 backdrop-blur",children:[y.jsxs(pr,{children:[y.jsx(t0,{className:"h-10 w-10 text-primary mb-2"}),y.jsx(Qr,{children:"Pay with Lightning"})]}),y.jsx(fn,{children:y.jsx(Ro,{children:"Rent instantly using Nostr Wallet Connect (NIP-47) or WebLN. The locker unlocks once payment confirms."})})]}),y.jsxs(Vt,{className:"bg-card/60 backdrop-blur",children:[y.jsxs(pr,{children:[y.jsx(qC,{className:"h-10 w-10 text-primary mb-2"}),y.jsx(Qr,{children:"Negotiate Privately"})]}),y.jsx(fn,{children:y.jsx(Ro,{children:"Chat with buyers or sellers via encrypted NIP-17 messages. Goods payment is direct P2P via zaps."})})]}),y.jsxs(Vt,{className:"bg-card/60 backdrop-blur",children:[y.jsxs(pr,{children:[y.jsx(e0,{className:"h-10 w-10 text-primary mb-2"}),y.jsx(Qr,{children:"Manage Your Box"})]}),y.jsx(fn,{children:y.jsx(Ro,{children:"Owners configure fees, overdue penalties, proxy mode, and abandoned property rules from their dashboard."})})]})]})]}),y.jsx("section",{className:"container mx-auto px-4 py-16 text-center",children:y.jsxs(Vt,{className:"max-w-2xl mx-auto bg-primary/5 border-primary/20",children:[y.jsxs(pr,{children:[y.jsx(Qr,{className:"text-2xl",children:"Ready to Deploy a Locker?"}),y.jsx(Ro,{children:"Flash our ESP32 template onto your hardware, configure via the dashboard, and start earning sats."})]}),y.jsx(fn,{children:y.jsx(Nt,{asChild:!0,size:"lg",children:y.jsx(Xn,{to:"/dashboard",children:"Get Started"})})})]})}),y.jsx("footer",{className:"border-t py-8 text-center text-sm text-muted-foreground",children:y.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Vibed with Shakespeare"})})]})}var km="Switch",[CV,gK]=$n(km),[PV,TV]=CV(km),jA=C.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:l,disabled:u,value:d="on",onCheckedChange:p,form:g,...m}=e,[b,_]=C.useState(null),S=mt(t,A=>_(A)),v=C.useRef(!1),E=b?g||!!b.closest("form"):!0,[k,N]=bi({prop:i,defaultProp:s??!1,onChange:p,caller:km});return y.jsxs(PV,{scope:n,checked:k,disabled:u,children:[y.jsx(Ye.button,{type:"button",role:"switch","aria-checked":k,"aria-required":l,"data-state":BA(k),"data-disabled":u?"":void 0,disabled:u,value:d,...m,ref:S,onClick:Ue(e.onClick,A=>{N(z=>!z),E&&(v.current=A.isPropagationStopped(),v.current||A.stopPropagation())})}),E&&y.jsx(DA,{control:b,bubbles:!v.current,name:r,value:d,checked:k,required:l,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});jA.displayName=km;var MA="SwitchThumb",zA=C.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=TV(MA,n);return y.jsx(Ye.span,{"data-state":BA(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});zA.displayName=MA;var NV="SwitchBubbleInput",DA=C.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const l=C.useRef(null),u=mt(l,s),d=w_(n),p=Mw(t);return C.useEffect(()=>{const g=l.current;if(!g)return;const m=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&_){const S=new Event("click",{bubbles:r});_.call(g,n),g.dispatchEvent(S)}},[d,n,r]),y.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});DA.displayName=NV;function BA(e){return e?"checked":"unchecked"}var FA=jA,AV=zA;const UA=C.forwardRef(({className:e,...t},n)=>y.jsx(FA,{className:qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:y.jsx(AV,{className:qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));UA.displayName=FA.displayName;const fv="0123456789bcdefghjkmnpqrstuvwxyz";class Sn{static encode(t,n,r){if(typeof r>"u"){for(let b=1;b<=12;b++){const _=Sn.encode(t,n,b),S=Sn.decode(_);if(S.lat==t&&S.lon==n)return _}r=12}if(t=Number(t),n=Number(n),r=Number(r),isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Invalid geohash");let i=0,s=0,l=!0,u="",d=-90,p=90,g=-180,m=180;for(;u.length<r;){if(l){const b=(g+m)/2;n>=b?(i=i*2+1,g=b):(i=i*2,m=b)}else{const b=(d+p)/2;t>=b?(i=i*2+1,d=b):(i=i*2,p=b)}l=!l,++s==5&&(u+=fv.charAt(i),s=0,i=0)}return u}static decode(t){const n=Sn.bounds(t),r=n.sw.lat,i=n.sw.lon,s=n.ne.lat,l=n.ne.lon;let u=(r+s)/2,d=(i+l)/2;return u=u.toFixed(Math.floor(2-Math.log(s-r)/Math.LN10)),d=d.toFixed(Math.floor(2-Math.log(l-i)/Math.LN10)),{lat:Number(u),lon:Number(d)}}static bounds(t){if(t.length==0)throw new Error("Invalid geohash");t=t.toLowerCase();let n=!0,r=-90,i=90,s=-180,l=180;for(let d=0;d<t.length;d++){const p=t.charAt(d),g=fv.indexOf(p);if(g==-1)throw new Error("Invalid geohash");for(let m=4;m>=0;m--){const b=g>>m&1;if(n){const _=(s+l)/2;b==1?s=_:l=_}else{const _=(r+i)/2;b==1?r=_:i=_}n=!n}}return{sw:{lat:r,lon:s},ne:{lat:i,lon:l}}}static adjacent(t,n){if(t=t.toLowerCase(),n=n.toLowerCase(),t.length==0)throw new Error("Invalid geohash");if("nsew".indexOf(n)==-1)throw new Error("Invalid direction");const r={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]},i={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]},s=t.slice(-1);let l=t.slice(0,-1);const u=t.length%2;return i[n][u].indexOf(s)!=-1&&l!=""&&(l=Sn.adjacent(l,n)),l+fv.charAt(r[n][u].indexOf(s))}static neighbours(t){return{n:Sn.adjacent(t,"n"),ne:Sn.adjacent(Sn.adjacent(t,"n"),"e"),e:Sn.adjacent(t,"e"),se:Sn.adjacent(Sn.adjacent(t,"s"),"e"),s:Sn.adjacent(t,"s"),sw:Sn.adjacent(Sn.adjacent(t,"s"),"w"),w:Sn.adjacent(t,"w"),nw:Sn.adjacent(Sn.adjacent(t,"n"),"w")}}}function RV(){const{nostr:e}=Ir();return Ki({queryKey:["my-lockers"],queryFn:async()=>(await e.query([{kinds:[30402],limit:100}])).map(n=>m_(n)).filter(Boolean),staleTime:3e4})}function IV(){su({title:"Owner Dashboard - Dead Drop Network"});const{user:e}=pl(),{mutateAsync:t,isPending:n}=o_(),{toast:r}=Yd(),{data:i,isLoading:s}=RV(),[l,u]=C.useState(""),[d,p]=C.useState(""),[g,m]=C.useState(""),[b,_]=C.useState(""),[S,v]=C.useState(""),[E,k]=C.useState("1000"),[N,A]=C.useState("10"),[z,D]=C.useState("7"),[Z,H]=C.useState(!1),[q,F]=C.useState("500"),[W,J]=C.useState("30"),[U,X]=C.useState("30x30x45"),O=async K=>{if(K.preventDefault(),!!e)try{const se=Sn.encode(parseFloat(b),parseFloat(S),7),ie=iW({title:l,description:d,location:g,geohash:se,baseFee:parseInt(E),overdueFee:parseInt(N),overdueDays:parseInt(z),proxyMode:Z,proxyFee:parseInt(q),abandonDays:parseInt(W),dimensions:U});await t({kind:30402,content:d,tags:ie}),r({title:"Locker Published",description:"Your locker listing is now live."}),u(""),p("")}catch(se){r({title:"Error",description:se.message,variant:"destructive"})}};return e?y.jsx("div",{className:"min-h-screen bg-background",children:y.jsxs("div",{className:"container mx-auto p-4 space-y-8",children:[y.jsxs("header",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Owner Dashboard"}),y.jsx(w0,{className:"max-w-60"})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-medium mb-4",children:"My Lockers"}),s?y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(K=>y.jsxs(Vt,{children:[y.jsxs(pr,{children:[y.jsx(Ar,{className:"h-5 w-3/4"}),y.jsx(Ar,{className:"h-4 w-1/2"})]}),y.jsxs(fn,{children:[y.jsx(Ar,{className:"h-4 w-full mb-2"}),y.jsx(Ar,{className:"h-4 w-2/3"})]})]},K))}):i&&i.length>0?y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(K=>y.jsxs(Vt,{children:[y.jsxs(pr,{children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx(Qr,{className:"text-lg",children:K.title}),y.jsx(Xr,{variant:K.status==="available"?"default":"secondary",children:K.status})]}),y.jsx(Ro,{children:K.location||K.geohash})]}),y.jsxs(fn,{children:[y.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:K.description}),y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsxs("span",{children:["Fee: ",K.price," sats"]}),K.proxyMode&&y.jsx(Xr,{variant:"outline",children:"Proxy"})]})]})]},K.id))}):y.jsx(Vt,{className:"border-dashed",children:y.jsx(fn,{className:"py-8 text-center text-muted-foreground",children:"You haven't created any lockers yet."})})]}),y.jsxs(Vt,{children:[y.jsxs(pr,{children:[y.jsx(Qr,{children:"Create New Locker"}),y.jsx(Ro,{children:"Configure your smart locker and publish it to the network."})]}),y.jsx(fn,{children:y.jsxs("form",{onSubmit:O,className:"space-y-6",children:[y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(ur,{htmlFor:"title",children:"Title"}),y.jsx(Tn,{id:"title",value:l,onChange:K=>u(K.target.value),placeholder:"Downtown Dead Drop Box #1",required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(ur,{htmlFor:"dimensions",children:"Dimensions (cm)"}),y.jsx(Tn,{id:"dimensions",value:U,onChange:K=>X(K.target.value),placeholder:"WxHxD e.g. 30x30x45"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(ur,{htmlFor:"description",children:"Description"}),y.jsx(wm,{id:"description",value:d,onChange:K=>p(K.target.value),placeholder:"Describe your locker, its features, and any special instructions...",rows:3})]}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(ur,{htmlFor:"location",children:"Location Address"}),y.jsx(Tn,{id:"location",value:g,onChange:K=>m(K.target.value),placeholder:"123 Main St, City"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(ur,{htmlFor:"lat",children:"Latitude"}),y.jsx(Tn,{id:"lat",type:"number",step:"any",value:b,onChange:K=>_(K.target.value),placeholder:"51.505",required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(ur,{htmlFor:"lng",children:"Longitude"}),y.jsx(Tn,{id:"lng",type:"number",step:"any",value:S,onChange:K=>v(K.target.value),placeholder:"-0.09",required:!0})]})]}),y.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[y.jsx("h3",{className:"font-medium",children:"Fee Structure"}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(ur,{htmlFor:"baseFee",children:"Base Fee (sats)"}),y.jsx(Tn,{id:"baseFee",type:"number",value:E,onChange:K=>k(K.target.value)})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(ur,{htmlFor:"overdueFee",children:"Overdue Fee (%)"}),y.jsx(Tn,{id:"overdueFee",type:"number",value:N,onChange:K=>A(K.target.value)})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(ur,{htmlFor:"overdueDays",children:"Overdue After (days)"}),y.jsx(Tn,{id:"overdueDays",type:"number",value:z,onChange:K=>D(K.target.value)})]})]})]}),y.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium",children:"Proxy Mode"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"You manually receive and stock items for an extra fee."})]}),y.jsx(UA,{checked:Z,onCheckedChange:H})]}),Z&&y.jsxs("div",{className:"space-y-2",children:[y.jsx(ur,{htmlFor:"proxyFee",children:"Proxy Fee (sats)"}),y.jsx(Tn,{id:"proxyFee",type:"number",value:q,onChange:K=>F(K.target.value)})]})]}),y.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[y.jsx("h3",{className:"font-medium",children:"Abandoned Property"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"After this period, unclaimed items become owner property or are auctioned."}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(ur,{htmlFor:"abandonDays",children:"Days Until Abandoned"}),y.jsx(Tn,{id:"abandonDays",type:"number",value:W,onChange:K=>J(K.target.value)})]})]}),y.jsx(Nt,{type:"submit",disabled:n,className:"w-full",children:n?"Publishing...":"Publish Locker"})]})})]}),y.jsx("footer",{className:"text-center text-sm text-muted-foreground pt-8",children:y.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",children:"Vibed with Shakespeare"})})]})}):y.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:y.jsxs(Vt,{className:"w-full max-w-md",children:[y.jsxs(pr,{children:[y.jsx(Qr,{children:"Owner Dashboard"}),y.jsx(Ro,{children:"Please log in to manage your lockers."})]}),y.jsx(fn,{children:y.jsx(w0,{className:"w-full"})})]})})}const LV=C.createContext(null);function cf(){const e=C.useContext(LV);if(!e)throw new Error("useDMContext must be used within DMProvider");return e}function $A(e){const t=new Date(e*1e3),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),i=new Date(r);i.setDate(i.getDate()-1);const s=new Date(r);return s.setDate(s.getDate()-s.getDay()),t>=r?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):t>=i?"Yesterday":t>=s?t.toLocaleDateString(void 0,{weekday:"short"}):t.getFullYear()===n.getFullYear()?t.toLocaleDateString(void 0,{month:"short",day:"numeric"}):t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function ZA(e){return new Date(e*1e3).toLocaleString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}function OV(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var x_="ScrollArea",[HA,yK]=$n(x_),[jV,ii]=HA(x_),WA=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...l}=e,[u,d]=C.useState(null),[p,g]=C.useState(null),[m,b]=C.useState(null),[_,S]=C.useState(null),[v,E]=C.useState(null),[k,N]=C.useState(0),[A,z]=C.useState(0),[D,Z]=C.useState(!1),[H,q]=C.useState(!1),F=mt(t,J=>d(J)),W=ou(i);return y.jsx(jV,{scope:n,type:r,dir:W,scrollHideDelay:s,scrollArea:u,viewport:p,onViewportChange:g,content:m,onContentChange:b,scrollbarX:_,onScrollbarXChange:S,scrollbarXEnabled:D,onScrollbarXEnabledChange:Z,scrollbarY:v,onScrollbarYChange:E,scrollbarYEnabled:H,onScrollbarYEnabledChange:q,onCornerWidthChange:N,onCornerHeightChange:z,children:y.jsx(Ye.div,{dir:W,...l,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});WA.displayName=x_;var VA="ScrollAreaViewport",qA=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=e,l=ii(VA,n),u=C.useRef(null),d=mt(t,u,l.onViewportChange);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...s,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:y.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});qA.displayName=VA;var eo="ScrollAreaScrollbar",b_=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ii(eo,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:l}=i,u=e.orientation==="horizontal";return C.useEffect(()=>(u?s(!0):l(!0),()=>{u?s(!1):l(!1)}),[u,s,l]),i.type==="hover"?y.jsx(MV,{...r,ref:t,forceMount:n}):i.type==="scroll"?y.jsx(zV,{...r,ref:t,forceMount:n}):i.type==="auto"?y.jsx(KA,{...r,ref:t,forceMount:n}):i.type==="always"?y.jsx(E_,{...r,ref:t}):null});b_.displayName=eo;var MV=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ii(eo,e.__scopeScrollArea),[s,l]=C.useState(!1);return C.useEffect(()=>{const u=i.scrollArea;let d=0;if(u){const p=()=>{window.clearTimeout(d),l(!0)},g=()=>{d=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",g)}}},[i.scrollArea,i.scrollHideDelay]),y.jsx(Zn,{present:n||s,children:y.jsx(KA,{"data-state":s?"visible":"hidden",...r,ref:t})})}),zV=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ii(eo,e.__scopeScrollArea),s=e.orientation==="horizontal",l=Pm(()=>d("SCROLL_END"),100),[u,d]=OV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,i.scrollHideDelay,d]),C.useEffect(()=>{const p=i.viewport,g=s?"scrollLeft":"scrollTop";if(p){let m=p[g];const b=()=>{const _=p[g];m!==_&&(d("SCROLL"),l()),m=_};return p.addEventListener("scroll",b),()=>p.removeEventListener("scroll",b)}},[i.viewport,s,d,l]),y.jsx(Zn,{present:n||u!=="hidden",children:y.jsx(E_,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ue(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ue(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),KA=C.forwardRef((e,t)=>{const n=ii(eo,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,l]=C.useState(!1),u=e.orientation==="horizontal",d=Pm(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?p:g)}},10);return Vc(n.viewport,d),Vc(n.content,d),y.jsx(Zn,{present:r||s,children:y.jsx(E_,{"data-state":s?"visible":"hidden",...i,ref:t})})}),E_=C.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ii(eo,e.__scopeScrollArea),s=C.useRef(null),l=C.useRef(0),[u,d]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=XA(u.viewport,u.content),g={...r,sizes:u,onSizesChange:d,hasThumb:p>0&&p<1,onThumbChange:b=>s.current=b,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:b=>l.current=b};function m(b,_){return ZV(b,l.current,u,_)}return n==="horizontal"?y.jsx(DV,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const b=i.viewport.scrollLeft,_=i2(b,u,i.dir);s.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:b=>{i.viewport&&(i.viewport.scrollLeft=b)},onDragScroll:b=>{i.viewport&&(i.viewport.scrollLeft=m(b,i.dir))}}):n==="vertical"?y.jsx(BV,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const b=i.viewport.scrollTop,_=i2(b,u);s.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:b=>{i.viewport&&(i.viewport.scrollTop=b)},onDragScroll:b=>{i.viewport&&(i.viewport.scrollTop=m(b))}}):null}),DV=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ii(eo,e.__scopeScrollArea),[l,u]=C.useState(),d=C.useRef(null),p=mt(t,d,s.onScrollbarXChange);return C.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),y.jsx(YA,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Cm(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(s.viewport){const b=s.viewport.scrollLeft+g.deltaX;e.onWheelScroll(b),tR(b,m)&&g.preventDefault()}},onResize:()=>{d.current&&s.viewport&&l&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Ap(l.paddingLeft),paddingEnd:Ap(l.paddingRight)}})}})}),BV=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ii(eo,e.__scopeScrollArea),[l,u]=C.useState(),d=C.useRef(null),p=mt(t,d,s.onScrollbarYChange);return C.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),y.jsx(YA,{"data-orientation":"vertical",...i,ref:p,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Cm(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(s.viewport){const b=s.viewport.scrollTop+g.deltaY;e.onWheelScroll(b),tR(b,m)&&g.preventDefault()}},onResize:()=>{d.current&&s.viewport&&l&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Ap(l.paddingTop),paddingEnd:Ap(l.paddingBottom)}})}})}),[FV,GA]=HA(eo),YA=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:p,onWheelScroll:g,onResize:m,...b}=e,_=ii(eo,n),[S,v]=C.useState(null),E=mt(t,F=>v(F)),k=C.useRef(null),N=C.useRef(""),A=_.viewport,z=r.content-r.viewport,D=an(g),Z=an(d),H=Pm(m,10);function q(F){if(k.current){const W=F.clientX-k.current.left,J=F.clientY-k.current.top;p({x:W,y:J})}}return C.useEffect(()=>{const F=W=>{const J=W.target;(S==null?void 0:S.contains(J))&&D(W,z)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[A,S,z,D]),C.useEffect(Z,[r,Z]),Vc(S,H),Vc(_.content,H),y.jsx(FV,{scope:n,scrollbar:S,hasThumb:i,onThumbChange:an(s),onThumbPointerUp:an(l),onThumbPositionChange:Z,onThumbPointerDown:an(u),children:y.jsx(Ye.div,{...b,ref:E,style:{position:"absolute",...b.style},onPointerDown:Ue(e.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),k.current=S.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_.viewport&&(_.viewport.style.scrollBehavior="auto"),q(F))}),onPointerMove:Ue(e.onPointerMove,q),onPointerUp:Ue(e.onPointerUp,F=>{const W=F.target;W.hasPointerCapture(F.pointerId)&&W.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=N.current,_.viewport&&(_.viewport.style.scrollBehavior=""),k.current=null})})})}),Np="ScrollAreaThumb",JA=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=GA(Np,e.__scopeScrollArea);return y.jsx(Zn,{present:n||i.hasThumb,children:y.jsx(UV,{ref:t,...r})})}),UV=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=ii(Np,n),l=GA(Np,n),{onThumbPositionChange:u}=l,d=mt(t,m=>l.onThumbChange(m)),p=C.useRef(void 0),g=Pm(()=>{p.current&&(p.current(),p.current=void 0)},100);return C.useEffect(()=>{const m=s.viewport;if(m){const b=()=>{if(g(),!p.current){const _=HV(m,u);p.current=_,u()}};return u(),m.addEventListener("scroll",b),()=>m.removeEventListener("scroll",b)}},[s.viewport,g,u]),y.jsx(Ye.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(e.onPointerDownCapture,m=>{const _=m.target.getBoundingClientRect(),S=m.clientX-_.left,v=m.clientY-_.top;l.onThumbPointerDown({x:S,y:v})}),onPointerUp:Ue(e.onPointerUp,l.onThumbPointerUp)})});JA.displayName=Np;var S_="ScrollAreaCorner",QA=C.forwardRef((e,t)=>{const n=ii(S_,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?y.jsx($V,{...e,ref:t}):null});QA.displayName=S_;var $V=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ii(S_,n),[s,l]=C.useState(0),[u,d]=C.useState(0),p=!!(s&&u);return Vc(i.scrollbarX,()=>{var m;const g=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(g),d(g)}),Vc(i.scrollbarY,()=>{var m;const g=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(g),l(g)}),p?y.jsx(Ye.div,{...r,ref:t,style:{width:s,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ap(e){return e?parseInt(e,10):0}function XA(e,t){const n=e/t;return isNaN(n)?0:n}function Cm(e){const t=XA(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ZV(e,t,n,r="ltr"){const i=Cm(n),s=i/2,l=t||s,u=i-l,d=n.scrollbar.paddingStart+l,p=n.scrollbar.size-n.scrollbar.paddingEnd-u,g=n.content-n.viewport,m=r==="ltr"?[0,g]:[g*-1,0];return eR([d,p],m)(e)}function i2(e,t,n="ltr"){const r=Cm(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,l=t.content-t.viewport,u=s-r,d=n==="ltr"?[0,l]:[l*-1,0],p=Bd(e,d);return eR([0,l],[0,u])(p)}function eR(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function tR(e,t){return e>0&&e<t}var HV=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},l=n.left!==s.left,u=n.top!==s.top;(l||u)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Pm(e,t){const n=an(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Vc(e,t){const n=an(t);cn(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var nR=WA,WV=qA,VV=QA;const k_=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(nR,{ref:r,className:qe("relative overflow-hidden",e),...n,children:[y.jsx(WV,{className:"h-full w-full rounded-[inherit] [&>div]:!block [&>div]:!w-full",children:t}),y.jsx(rR,{}),y.jsx(VV,{})]}));k_.displayName=nR.displayName;const rR=C.forwardRef(({className:e,orientation:t="vertical",...n},r)=>y.jsx(b_,{ref:r,orientation:t,className:qe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:y.jsx(JA,{className:"relative flex-1 rounded-full bg-border"})}));rR.displayName=b_.displayName;const hc={NIP04:"nip04",NIP17:"nip17"},qh={NIP04_ONLY:"nip04_only",NIP17_ONLY:"nip17_only",NIP04_OR_NIP17:"nip04_or_nip17"},hr={IDLE:"idle",CACHE:"cache",RELAYS:"relays",SUBSCRIPTIONS:"subscriptions",READY:"ready"},qV=({pubkey:e,isSelected:t,onClick:n,lastMessage:r,lastActivity:i,hasNIP4Messages:s})=>{var _;const l=Qp(e),u=(_=l.data)==null?void 0:_.metadata,d=(u==null?void 0:u.name)||Em(e),p=u==null?void 0:u.picture,g=d.slice(0,2).toUpperCase(),m=r!=null&&r.error?" Encrypted message":(r==null?void 0:r.decryptedContent)||"No messages yet",b=l.isLoading&&!u;return y.jsx("button",{onClick:n,className:qe("w-full text-left p-3 rounded-lg transition-colors hover:bg-accent block overflow-hidden",t&&"bg-accent"),children:y.jsxs("div",{className:"flex items-start gap-3 max-w-full",children:[b?y.jsx(Ar,{className:"h-10 w-10 rounded-full flex-shrink-0"}):y.jsxs(Md,{className:"h-10 w-10 flex-shrink-0",children:[y.jsx(zd,{src:p,alt:d}),y.jsx(Dd,{children:g})]}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[y.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[b?y.jsx(Ar,{className:"h-[1.25rem] w-24"}):y.jsx("span",{className:"font-medium text-sm truncate",children:d}),s&&y.jsx(rl,{children:y.jsxs(Ha,{children:[y.jsx(Wa,{asChild:!0,children:y.jsx("div",{className:"flex-shrink-0",children:y.jsx(Pw,{className:"h-3.5 w-3.5 text-yellow-600 dark:text-yellow-500"})})}),y.jsx(Gs,{side:"left",children:y.jsx("p",{className:"text-xs max-w-[200px]",children:"Some messages use outdated NIP-04 encryption"})})]})})]}),y.jsx(rl,{children:y.jsxs(Ha,{children:[y.jsx(Wa,{asChild:!0,children:y.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap flex-shrink-0 cursor-default",children:$A(i)})}),y.jsx(Gs,{side:"left",children:y.jsx("p",{className:"text-xs",children:ZA(i)})})]})})]}),y.jsx("p",{className:"text-sm text-muted-foreground truncate",children:m})]})]})})},iR=C.memo(qV);iR.displayName="ConversationItem";const KV=()=>y.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4,5].map(e=>y.jsxs("div",{className:"flex items-start gap-3 p-3",children:[y.jsx(Ar,{className:"h-10 w-10 rounded-full flex-shrink-0"}),y.jsxs("div",{className:"flex-1 space-y-2",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx(Ar,{className:"h-4 w-24"}),y.jsx(Ar,{className:"h-3 w-12"})]}),y.jsx(Ar,{className:"h-3 w-full"})]})]},e))}),GV=({selectedPubkey:e,onSelectConversation:t,className:n,onStatusClick:r})=>{const{conversations:i,isLoading:s,loadingPhase:l}=cf(),[u,d]=C.useState("known"),{knownConversations:p,requestConversations:g}=C.useMemo(()=>({knownConversations:i.filter(_=>_.isKnown),requestConversations:i.filter(_=>_.isRequest)}),[i]),m=u==="known"?p:g,b=(l===hr.CACHE||l===hr.RELAYS)&&i.length===0;return y.jsxs(Vt,{className:qe("h-full flex flex-col overflow-hidden",n),children:[y.jsxs("div",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h2",{className:"font-semibold text-lg",children:"Messages"}),(l===hr.CACHE||l===hr.RELAYS||l===hr.SUBSCRIPTIONS)&&y.jsx(rl,{children:y.jsxs(Ha,{children:[y.jsx(Wa,{asChild:!0,children:y.jsx("div",{className:"flex items-center",children:y.jsx(Nr,{className:"h-4 w-4 animate-spin text-muted-foreground"})})}),y.jsx(Gs,{children:y.jsxs("p",{className:"text-xs",children:[l===hr.CACHE&&"Loading from cache...",l===hr.RELAYS&&"Querying relays for new messages...",l===hr.SUBSCRIPTIONS&&"Setting up subscriptions..."]})})]})})]}),r&&y.jsx(Nt,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:r,"aria-label":"View messaging status",children:y.jsx(ZB,{className:"h-4 w-4"})})]}),y.jsx("div",{className:"px-2 pt-2 flex-shrink-0",children:y.jsxs("div",{className:"grid grid-cols-2 gap-1 bg-muted p-1 rounded-lg",children:[y.jsxs("button",{onClick:()=>d("known"),className:qe("text-xs py-2 px-3 rounded-md transition-colors",u==="known"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Active ",p.length>0&&`(${p.length})`]}),y.jsxs("button",{onClick:()=>d("requests"),className:qe("text-xs py-2 px-3 rounded-md transition-colors",u==="requests"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Requests ",g.length>0&&`(${g.length})`]})]})}),y.jsx("div",{className:"flex-1 min-h-0 mt-2 overflow-hidden",children:s||b?y.jsx(KV,{}):i.length===0?y.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground px-4",children:y.jsxs("div",{children:[y.jsx("p",{className:"text-sm",children:"No conversations yet"}),y.jsx("p",{className:"text-xs mt-1",children:"Start a new conversation to get started"})]})}):m.length===0?y.jsx("div",{className:"flex items-center justify-center h-32 text-center text-muted-foreground px-4",children:y.jsxs("p",{className:"text-sm",children:["No ",u," conversations"]})}):y.jsx(k_,{className:"h-full block",children:y.jsx("div",{className:"block w-full px-2 py-2 space-y-1",children:m.map(_=>y.jsx(iR,{pubkey:_.pubkey,isSelected:e===_.pubkey,onClick:()=>t(_.pubkey),lastMessage:_.lastMessage,lastActivity:_.lastActivity,hasNIP4Messages:_.hasNIP4Messages},_.pubkey))})})})]})},hv=25;function YV(e){const{messages:t}=cf(),[n,r]=C.useState(hv),i=C.useMemo(()=>{const l=t.get(e);if(!l)return{messages:[],hasMoreMessages:!1,totalCount:0,lastMessage:null,lastActivity:0};const u=l.messages.length,d=u>n;return{messages:l.messages.slice(-n),hasMoreMessages:d,totalCount:u,lastMessage:l.lastMessage,lastActivity:l.lastActivity}},[t,e,n]),s=C.useCallback(()=>{r(l=>l+hv)},[]);return C.useEffect(()=>{r(hv)},[e]),{...i,loadEarlierMessages:s}}var JV=[" ","Enter","ArrowUp","ArrowDown"],QV=[" ","Enter"],dl="Select",[Tm,Nm,XV]=Jd(dl),[lu,vK]=$n(dl,[XV,ru]),Am=ru(),[eq,ua]=lu(dl),[tq,nq]=lu(dl),oR=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:l,defaultValue:u,onValueChange:d,dir:p,name:g,autoComplete:m,disabled:b,required:_,form:S}=e,v=Am(t),[E,k]=C.useState(null),[N,A]=C.useState(null),[z,D]=C.useState(!1),Z=ou(p),[H,q]=bi({prop:r,defaultProp:i??!1,onChange:s,caller:dl}),[F,W]=bi({prop:l,defaultProp:u,onChange:d,caller:dl}),J=C.useRef(null),U=E?S||!!E.closest("form"):!0,[X,O]=C.useState(new Set),K=Array.from(X).map(se=>se.props.value).join(";");return y.jsx(Bw,{...v,children:y.jsxs(eq,{required:_,scope:t,trigger:E,onTriggerChange:k,valueNode:N,onValueNodeChange:A,valueNodeHasChildren:z,onValueNodeHasChildrenChange:D,contentId:ei(),value:F,onValueChange:W,open:H,onOpenChange:q,dir:Z,triggerPointerDownPosRef:J,disabled:b,children:[y.jsx(Tm.Provider,{scope:t,children:y.jsx(tq,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(se=>{O(ie=>new Set(ie).add(se))},[]),onNativeOptionRemove:C.useCallback(se=>{O(ie=>{const te=new Set(ie);return te.delete(se),te})},[]),children:n})}),U?y.jsxs(NR,{"aria-hidden":!0,required:_,tabIndex:-1,name:g,autoComplete:m,value:F,onChange:se=>W(se.target.value),disabled:b,form:S,children:[F===void 0?y.jsx("option",{value:""}):null,Array.from(X)]},K):null]})})};oR.displayName=dl;var sR="SelectTrigger",aR=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=Am(n),l=ua(sR,n),u=l.disabled||r,d=mt(t,l.onTriggerChange),p=Nm(n),g=C.useRef("touch"),[m,b,_]=RR(v=>{const E=p().filter(A=>!A.disabled),k=E.find(A=>A.value===l.value),N=IR(E,v,k);N!==void 0&&l.onValueChange(N.value)}),S=v=>{u||(l.onOpenChange(!0),_()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return y.jsx(Fw,{asChild:!0,...s,children:y.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":AR(l.value)?"":void 0,...i,ref:d,onClick:Ue(i.onClick,v=>{v.currentTarget.focus(),g.current!=="mouse"&&S(v)}),onPointerDown:Ue(i.onPointerDown,v=>{g.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:Ue(i.onKeyDown,v=>{const E=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&b(v.key),!(E&&v.key===" ")&&JV.includes(v.key)&&(S(),v.preventDefault())})})})});aR.displayName=sR;var lR="SelectValue",cR=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:l="",...u}=e,d=ua(lR,n),{onValueNodeHasChildrenChange:p}=d,g=s!==void 0,m=mt(t,d.onValueNodeChange);return cn(()=>{p(g)},[p,g]),y.jsx(Ye.span,{...u,ref:m,style:{pointerEvents:"none"},children:AR(d.value)?y.jsx(y.Fragment,{children:l}):s})});cR.displayName=lR;var rq="SelectIcon",uR=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return y.jsx(Ye.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});uR.displayName=rq;var iq="SelectPortal",dR=e=>y.jsx(Qd,{asChild:!0,...e});dR.displayName=iq;var fl="SelectContent",fR=C.forwardRef((e,t)=>{const n=ua(fl,e.__scopeSelect),[r,i]=C.useState();if(cn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Qc.createPortal(y.jsx(hR,{scope:e.__scopeSelect,children:y.jsx(Tm.Slot,{scope:e.__scopeSelect,children:y.jsx("div",{children:e.children})})}),s):null}return y.jsx(pR,{...e,ref:t})});fR.displayName=fl;var yi=10,[hR,da]=lu(fl),oq="SelectContentImpl",sq=ll("SelectContent.RemoveScroll"),pR=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:u,sideOffset:d,align:p,alignOffset:g,arrowPadding:m,collisionBoundary:b,collisionPadding:_,sticky:S,hideWhenDetached:v,avoidCollisions:E,...k}=e,N=ua(fl,n),[A,z]=C.useState(null),[D,Z]=C.useState(null),H=mt(t,Te=>z(Te)),[q,F]=C.useState(null),[W,J]=C.useState(null),U=Nm(n),[X,O]=C.useState(!1),K=C.useRef(!1);C.useEffect(()=>{if(A)return Gw(A)},[A]),Kw();const se=C.useCallback(Te=>{const[Ne,...je]=U().map(ot=>ot.ref.current),[Ze]=je.slice(-1),Qe=document.activeElement;for(const ot of Te)if(ot===Qe||(ot==null||ot.scrollIntoView({block:"nearest"}),ot===Ne&&D&&(D.scrollTop=0),ot===Ze&&D&&(D.scrollTop=D.scrollHeight),ot==null||ot.focus(),document.activeElement!==Qe))return},[U,D]),ie=C.useCallback(()=>se([q,A]),[se,q,A]);C.useEffect(()=>{X&&ie()},[X,ie]);const{onOpenChange:te,triggerPointerDownPosRef:ee}=N;C.useEffect(()=>{if(A){let Te={x:0,y:0};const Ne=Ze=>{var Qe,ot;Te={x:Math.abs(Math.round(Ze.pageX)-(((Qe=ee.current)==null?void 0:Qe.x)??0)),y:Math.abs(Math.round(Ze.pageY)-(((ot=ee.current)==null?void 0:ot.y)??0))}},je=Ze=>{Te.x<=10&&Te.y<=10?Ze.preventDefault():A.contains(Ze.target)||te(!1),document.removeEventListener("pointermove",Ne),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",je,{capture:!0})}}},[A,te,ee]),C.useEffect(()=>{const Te=()=>te(!1);return window.addEventListener("blur",Te),window.addEventListener("resize",Te),()=>{window.removeEventListener("blur",Te),window.removeEventListener("resize",Te)}},[te]);const[le,$]=RR(Te=>{const Ne=U().filter(Qe=>!Qe.disabled),je=Ne.find(Qe=>Qe.ref.current===document.activeElement),Ze=IR(Ne,Te,je);Ze&&setTimeout(()=>Ze.ref.current.focus())}),Q=C.useCallback((Te,Ne,je)=>{const Ze=!K.current&&!je;(N.value!==void 0&&N.value===Ne||Ze)&&(F(Te),Ze&&(K.current=!0))},[N.value]),ke=C.useCallback(()=>A==null?void 0:A.focus(),[A]),_e=C.useCallback((Te,Ne,je)=>{const Ze=!K.current&&!je;(N.value!==void 0&&N.value===Ne||Ze)&&J(Te)},[N.value]),ve=r==="popper"?E0:mR,Ie=ve===E0?{side:u,sideOffset:d,align:p,alignOffset:g,arrowPadding:m,collisionBoundary:b,collisionPadding:_,sticky:S,hideWhenDetached:v,avoidCollisions:E}:{};return y.jsx(hR,{scope:n,content:A,viewport:D,onViewportChange:Z,itemRefCallback:Q,selectedItem:q,onItemLeave:ke,itemTextRefCallback:_e,focusSelectedItem:ie,selectedItemText:W,position:r,isPositioned:X,searchRef:le,children:y.jsx(fm,{as:sq,allowPinchZoom:!0,children:y.jsx(um,{asChild:!0,trapped:N.open,onMountAutoFocus:Te=>{Te.preventDefault()},onUnmountAutoFocus:Ue(i,Te=>{var Ne;(Ne=N.trigger)==null||Ne.focus({preventScroll:!0}),Te.preventDefault()}),children:y.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:Te=>Te.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:y.jsx(ve,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:Te=>Te.preventDefault(),...k,...Ie,onPlaced:()=>O(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ue(k.onKeyDown,Te=>{const Ne=Te.ctrlKey||Te.altKey||Te.metaKey;if(Te.key==="Tab"&&Te.preventDefault(),!Ne&&Te.key.length===1&&$(Te.key),["ArrowUp","ArrowDown","Home","End"].includes(Te.key)){let Ze=U().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(Te.key)&&(Ze=Ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(Te.key)){const Qe=Te.target,ot=Ze.indexOf(Qe);Ze=Ze.slice(ot+1)}setTimeout(()=>se(Ze)),Te.preventDefault()}})})})})})})});pR.displayName=oq;var aq="SelectItemAlignedPosition",mR=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=ua(fl,n),l=da(fl,n),[u,d]=C.useState(null),[p,g]=C.useState(null),m=mt(t,H=>g(H)),b=Nm(n),_=C.useRef(!1),S=C.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:k,focusSelectedItem:N}=l,A=C.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&p&&v&&E&&k){const H=s.trigger.getBoundingClientRect(),q=p.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),W=k.getBoundingClientRect();if(s.dir!=="rtl"){const Qe=W.left-q.left,ot=F.left-Qe,at=H.left-ot,B=H.width+at,Pe=Math.max(B,q.width),be=window.innerWidth-yi,oe=Bd(ot,[yi,Math.max(yi,be-Pe)]);u.style.minWidth=B+"px",u.style.left=oe+"px"}else{const Qe=q.right-W.right,ot=window.innerWidth-F.right-Qe,at=window.innerWidth-H.right-ot,B=H.width+at,Pe=Math.max(B,q.width),be=window.innerWidth-yi,oe=Bd(ot,[yi,Math.max(yi,be-Pe)]);u.style.minWidth=B+"px",u.style.right=oe+"px"}const J=b(),U=window.innerHeight-yi*2,X=v.scrollHeight,O=window.getComputedStyle(p),K=parseInt(O.borderTopWidth,10),se=parseInt(O.paddingTop,10),ie=parseInt(O.borderBottomWidth,10),te=parseInt(O.paddingBottom,10),ee=K+se+X+te+ie,le=Math.min(E.offsetHeight*5,ee),$=window.getComputedStyle(v),Q=parseInt($.paddingTop,10),ke=parseInt($.paddingBottom,10),_e=H.top+H.height/2-yi,ve=U-_e,Ie=E.offsetHeight/2,Te=E.offsetTop+Ie,Ne=K+se+Te,je=ee-Ne;if(Ne<=_e){const Qe=J.length>0&&E===J[J.length-1].ref.current;u.style.bottom="0px";const ot=p.clientHeight-v.offsetTop-v.offsetHeight,at=Math.max(ve,Ie+(Qe?ke:0)+ot+ie),B=Ne+at;u.style.height=B+"px"}else{const Qe=J.length>0&&E===J[0].ref.current;u.style.top="0px";const at=Math.max(_e,K+v.offsetTop+(Qe?Q:0)+Ie)+je;u.style.height=at+"px",v.scrollTop=Ne-_e+v.offsetTop}u.style.margin=`${yi}px 0`,u.style.minHeight=le+"px",u.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[b,s.trigger,s.valueNode,u,p,v,E,k,s.dir,r]);cn(()=>A(),[A]);const[z,D]=C.useState();cn(()=>{p&&D(window.getComputedStyle(p).zIndex)},[p]);const Z=C.useCallback(H=>{H&&S.current===!0&&(A(),N==null||N(),S.current=!1)},[A,N]);return y.jsx(cq,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:Z,children:y.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:y.jsx(Ye.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});mR.displayName=aq;var lq="SelectPopperPosition",E0=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=yi,...s}=e,l=Am(n);return y.jsx(Uw,{...l,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});E0.displayName=lq;var[cq,C_]=lu(fl,{}),S0="SelectViewport",gR=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=da(S0,n),l=C_(S0,n),u=mt(t,s.onViewportChange),d=C.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(Tm.Slot,{scope:n,children:y.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ue(i.onScroll,p=>{const g=p.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:b}=l;if(b!=null&&b.current&&m){const _=Math.abs(d.current-g.scrollTop);if(_>0){const S=window.innerHeight-yi*2,v=parseFloat(m.style.minHeight),E=parseFloat(m.style.height),k=Math.max(v,E);if(k<S){const N=k+_,A=Math.min(S,N),z=N-A;m.style.height=A+"px",m.style.bottom==="0px"&&(g.scrollTop=z>0?z:0,m.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});gR.displayName=S0;var yR="SelectGroup",[uq,dq]=lu(yR),fq=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ei();return y.jsx(uq,{scope:n,id:i,children:y.jsx(Ye.div,{role:"group","aria-labelledby":i,...r,ref:t})})});fq.displayName=yR;var vR="SelectLabel",wR=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=dq(vR,n);return y.jsx(Ye.div,{id:i.id,...r,ref:t})});wR.displayName=vR;var Rp="SelectItem",[hq,_R]=lu(Rp),xR=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...l}=e,u=ua(Rp,n),d=da(Rp,n),p=u.value===r,[g,m]=C.useState(s??""),[b,_]=C.useState(!1),S=mt(t,N=>{var A;return(A=d.itemRefCallback)==null?void 0:A.call(d,N,r,i)}),v=ei(),E=C.useRef("touch"),k=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(hq,{scope:n,value:r,disabled:i,textId:v,isSelected:p,onItemTextChange:C.useCallback(N=>{m(A=>A||((N==null?void 0:N.textContent)??"").trim())},[]),children:y.jsx(Tm.ItemSlot,{scope:n,value:r,disabled:i,textValue:g,children:y.jsx(Ye.div,{role:"option","aria-labelledby":v,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:S,onFocus:Ue(l.onFocus,()=>_(!0)),onBlur:Ue(l.onBlur,()=>_(!1)),onClick:Ue(l.onClick,()=>{E.current!=="mouse"&&k()}),onPointerUp:Ue(l.onPointerUp,()=>{E.current==="mouse"&&k()}),onPointerDown:Ue(l.onPointerDown,N=>{E.current=N.pointerType}),onPointerMove:Ue(l.onPointerMove,N=>{var A;E.current=N.pointerType,i?(A=d.onItemLeave)==null||A.call(d):E.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(l.onPointerLeave,N=>{var A;N.currentTarget===document.activeElement&&((A=d.onItemLeave)==null||A.call(d))}),onKeyDown:Ue(l.onKeyDown,N=>{var z;((z=d.searchRef)==null?void 0:z.current)!==""&&N.key===" "||(QV.includes(N.key)&&k(),N.key===" "&&N.preventDefault())})})})})});xR.displayName=Rp;var md="SelectItemText",bR=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,l=ua(md,n),u=da(md,n),d=_R(md,n),p=nq(md,n),[g,m]=C.useState(null),b=mt(t,k=>m(k),d.onItemTextChange,k=>{var N;return(N=u.itemTextRefCallback)==null?void 0:N.call(u,k,d.value,d.disabled)}),_=g==null?void 0:g.textContent,S=C.useMemo(()=>y.jsx("option",{value:d.value,disabled:d.disabled,children:_},d.value),[d.disabled,d.value,_]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=p;return cn(()=>(v(S),()=>E(S)),[v,E,S]),y.jsxs(y.Fragment,{children:[y.jsx(Ye.span,{id:d.textId,...s,ref:b}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Qc.createPortal(s.children,l.valueNode):null]})});bR.displayName=md;var ER="SelectItemIndicator",SR=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return _R(ER,n).isSelected?y.jsx(Ye.span,{"aria-hidden":!0,...r,ref:t}):null});SR.displayName=ER;var k0="SelectScrollUpButton",kR=C.forwardRef((e,t)=>{const n=da(k0,e.__scopeSelect),r=C_(k0,e.__scopeSelect),[i,s]=C.useState(!1),l=mt(t,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=d.scrollTop>0;s(p)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?y.jsx(PR,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});kR.displayName=k0;var C0="SelectScrollDownButton",CR=C.forwardRef((e,t)=>{const n=da(C0,e.__scopeSelect),r=C_(C0,e.__scopeSelect),[i,s]=C.useState(!1),l=mt(t,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<p;s(g)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?y.jsx(PR,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});CR.displayName=C0;var PR=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=da("SelectScrollButton",n),l=C.useRef(null),u=Nm(n),d=C.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return C.useEffect(()=>()=>d(),[d]),cn(()=>{var g;const p=u().find(m=>m.ref.current===document.activeElement);(g=p==null?void 0:p.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),y.jsx(Ye.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ue(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ue(i.onPointerMove,()=>{var p;(p=s.onItemLeave)==null||p.call(s),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ue(i.onPointerLeave,()=>{d()})})}),pq="SelectSeparator",TR=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return y.jsx(Ye.div,{"aria-hidden":!0,...r,ref:t})});TR.displayName=pq;var P0="SelectArrow",mq=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Am(n),s=ua(P0,n),l=da(P0,n);return s.open&&l.position==="popper"?y.jsx($w,{...i,...r,ref:t}):null});mq.displayName=P0;var gq="SelectBubbleInput",NR=C.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=C.useRef(null),s=mt(r,i),l=w_(t);return C.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&g){const m=new Event("change",{bubbles:!0});g.call(u,t),u.dispatchEvent(m)}},[l,t]),y.jsx(Ye.select,{...n,style:{...EC,...n.style},ref:s,defaultValue:t})});NR.displayName=gq;function AR(e){return e===""||e===void 0}function RR(e){const t=an(e),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(l=>{const u=n.current+l;t(u),function d(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(u)},[t]),s=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function IR(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=yq(e,Math.max(s,0));i.length===1&&(l=l.filter(p=>p!==n));const d=l.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function yq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var vq=oR,LR=aR,wq=cR,_q=uR,xq=dR,OR=fR,bq=gR,jR=wR,MR=xR,Eq=bR,Sq=SR,zR=kR,DR=CR,BR=TR;const kq=vq,Cq=wq,FR=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(LR,{ref:r,className:qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,y.jsx(_q,{asChild:!0,children:y.jsx(nm,{className:"h-4 w-4 opacity-50"})})]}));FR.displayName=LR.displayName;const UR=C.forwardRef(({className:e,...t},n)=>y.jsx(zR,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(RB,{className:"h-4 w-4"})}));UR.displayName=zR.displayName;const $R=C.forwardRef(({className:e,...t},n)=>y.jsx(DR,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(nm,{className:"h-4 w-4"})}));$R.displayName=DR.displayName;const ZR=C.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>y.jsx(xq,{children:y.jsxs(OR,{ref:i,className:qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[y.jsx(UR,{}),y.jsx(bq,{className:qe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),y.jsx($R,{})]})}));ZR.displayName=OR.displayName;const Pq=C.forwardRef(({className:e,...t},n)=>y.jsx(jR,{ref:n,className:qe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Pq.displayName=jR.displayName;const T0=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(MR,{ref:r,className:qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(Sq,{children:y.jsx(VC,{className:"h-4 w-4"})})}),y.jsx(Eq,{children:t})]}));T0.displayName=MR.displayName;const Tq=C.forwardRef(({className:e,...t},n)=>y.jsx(BR,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));Tq.displayName=BR.displayName;function N0({event:e,className:t}){const n=C.useMemo(()=>{const r=e.content,i=/(https?:\/\/[^\s]+)|nostr:(npub1|note1|nprofile1|nevent1)([023456789acdefghjklmnpqrstuvwxyz]+)|(#\w+)/g,s=[];let l=0,u,d=0;for(;(u=i.exec(r))!==null;){const[p,g,m,b,_]=u,S=u.index;if(S>l&&s.push(r.substring(l,S)),g)s.push(y.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:g},`url-${d++}`));else if(m&&b)try{const v=`${m}${b}`,E=er.decode(v);if(E.type==="npub"){const k=E.data;s.push(y.jsx(o2,{pubkey:k},`mention-${d++}`))}else if(E.type==="nprofile"){const k=E.data.pubkey;s.push(y.jsx(o2,{pubkey:k},`mention-${d++}`))}else s.push(y.jsx(Xn,{to:`/${v}`,className:"text-blue-500 hover:underline break-all",children:p},`nostr-${d++}`))}catch{s.push(p)}else if(_){const v=_.slice(1);s.push(y.jsx(Xn,{to:`/t/${v}`,className:"text-blue-500 hover:underline",children:_},`hashtag-${d++}`))}l=S+p.length}return l<r.length&&s.push(r.substring(l)),s.length===0&&s.push(r),s},[e]);return y.jsx("div",{className:qe("whitespace-pre-wrap break-words",t),children:n.length>0?n:e.content})}function o2({pubkey:e}){var s,l,u,d;const t=Qp(e),n=er.npubEncode(e),r=!!((l=(s=t.data)==null?void 0:s.metadata)!=null&&l.name),i=((d=(u=t.data)==null?void 0:u.metadata)==null?void 0:d.name)??Em(e);return y.jsxs(Xn,{to:`/${n}`,className:qe("font-medium hover:underline",r?"text-blue-500":"text-gray-500 hover:text-gray-700"),children:["@",i]})}const HR=C.memo(({message:e,isFromCurrentUser:t})=>{var l;const n=((l=e.decryptedEvent)==null?void 0:l.kind)||e.kind,r=e.kind===4,i=n===15,s=e.decryptedEvent||{id:e.id,pubkey:e.pubkey,created_at:e.created_at,kind:e.kind,tags:e.tags,content:e.decryptedContent||"",sig:""};return y.jsx("div",{className:qe("flex mb-4",t?"justify-end":"justify-start"),children:y.jsxs("div",{className:qe("max-w-[70%] rounded-lg px-4 py-2",t?"bg-primary text-primary-foreground":"bg-muted"),children:[e.error?y.jsxs(Ha,{delayDuration:200,children:[y.jsx(Wa,{asChild:!0,children:y.jsx("p",{className:"text-sm italic opacity-70 cursor-help",children:" Failed to decrypt"})}),y.jsx(Gs,{children:y.jsx("p",{className:"text-xs",children:e.error})})]}):i?y.jsx("div",{className:"text-sm",children:y.jsx(N0,{event:s,className:"whitespace-pre-wrap break-words"})}):y.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.decryptedContent}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx(rl,{children:y.jsxs(Ha,{delayDuration:200,children:[y.jsx(Wa,{asChild:!0,children:y.jsx("span",{className:qe("text-xs opacity-70 cursor-default",t?"text-primary-foreground":"text-muted-foreground"),children:$A(e.created_at)})}),y.jsx(Gs,{children:y.jsx("p",{className:"text-xs",children:ZA(e.created_at)})})]})}),y.jsx(rl,{children:y.jsxs(Ha,{delayDuration:200,children:[y.jsx(Wa,{asChild:!0,children:y.jsx("span",{className:qe("flex-shrink-0 opacity-50",t?"text-primary-foreground":"text-muted-foreground"),children:e.kind===4?y.jsx(HB,{className:"h-3 w-3"}):y.jsx(KB,{className:"h-3 w-3"})})}),y.jsx(Gs,{children:y.jsxs("p",{className:"text-xs",children:[e.kind===4&&"NIP-04 Kind 4 (Legacy DM)",e.kind===14&&"NIP-17 Kind 14 (Private Message)",e.kind===15&&"NIP-17 Kind 15 (Media)",e.kind!==4&&e.kind!==14&&e.kind!==15&&`Kind ${e.kind}`]})})]})}),r&&y.jsx(rl,{children:y.jsxs(Ha,{children:[y.jsx(Wa,{asChild:!0,children:y.jsx("div",{className:"flex-shrink-0",children:y.jsx(Pw,{className:"h-3 w-3 text-yellow-600 dark:text-yellow-500"})})}),y.jsx(Gs,{children:y.jsx("p",{className:"text-xs",children:"Uses outdated NIP-04 encryption"})})]})}),e.isSending&&y.jsx(Nr,{className:"h-3 w-3 animate-spin opacity-70"})]})]})})});HR.displayName="MessageBubble";const Nq=({pubkey:e,onBack:t})=>{var u;const r=(u=Qp(e).data)==null?void 0:u.metadata,i=(r==null?void 0:r.name)||Em(e),s=r==null?void 0:r.picture,l=i.slice(0,2).toUpperCase();return y.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[t&&y.jsx(Nt,{variant:"ghost",size:"icon",onClick:t,className:"md:hidden",children:y.jsx(TB,{className:"h-5 w-5"})}),y.jsxs(Md,{className:"h-10 w-10",children:[y.jsx(zd,{src:s,alt:i}),y.jsx(Dd,{children:l})]}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h2",{className:"font-semibold truncate",children:i}),(r==null?void 0:r.nip05)&&y.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r.nip05})]})]})},Aq=({isLoading:e})=>y.jsx("div",{className:"h-full flex items-center justify-center p-8",children:y.jsx("div",{className:"text-center text-muted-foreground max-w-sm",children:e?y.jsxs(y.Fragment,{children:[y.jsx(Nr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),y.jsx("p",{className:"text-sm",children:"Loading conversations..."}),y.jsx("p",{className:"text-xs mt-2",children:"Fetching encrypted messages from relays"})]}):y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"text-sm",children:"Select a conversation to start messaging"}),y.jsx("p",{className:"text-xs mt-2",children:"Your messages are encrypted and stored locally"})]})})}),Rq=({pubkey:e,onBack:t,className:n})=>{const{user:r}=pl(),{sendMessage:i,protocolMode:s,isLoading:l}=cf(),{messages:u,hasMoreMessages:d,loadEarlierMessages:p}=YV(e||""),[g,m]=C.useState(""),[b,_]=C.useState(!1),[S,v]=C.useState(!1),E=()=>s===qh.NIP04_ONLY?hc.NIP04:(s===qh.NIP17_ONLY||s===qh.NIP04_OR_NIP17,hc.NIP17),[k,N]=C.useState(E()),A=C.useRef(null),z=s===qh.NIP04_OR_NIP17;C.useEffect(()=>{if(A.current){const q=A.current.querySelector("[data-radix-scroll-area-viewport]");q&&(q.scrollTop=q.scrollHeight)}},[u.length]);const D=C.useCallback(async()=>{if(!(!g.trim()||!e||!r)){_(!0);try{await i({recipientPubkey:e,content:g.trim(),protocol:k}),m("")}catch(q){console.error("Failed to send message:",q)}finally{_(!1)}}},[g,e,r,i,k]),Z=C.useCallback(q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),D())},[D]),H=C.useCallback(async()=>{if(!A.current||S)return;const q=A.current.querySelector("[data-radix-scroll-area-viewport]");if(!q)return;const F=q.scrollHeight,W=q.scrollTop;v(!0),p(),setTimeout(()=>{if(q){const U=q.scrollHeight-F;q.scrollTop=W+U}v(!1)},0)},[p,S]);return e?r?y.jsxs(Vt,{className:qe("h-full flex flex-col",n),children:[y.jsx(Nq,{pubkey:e,onBack:t}),y.jsx(k_,{ref:A,className:"flex-1 p-4",children:u.length===0?y.jsx("div",{className:"h-full flex items-center justify-center",children:y.jsxs("div",{className:"text-center text-muted-foreground",children:[y.jsx("p",{className:"text-sm",children:"No messages yet"}),y.jsx("p",{className:"text-xs mt-1",children:"Send a message to start the conversation"})]})}):y.jsxs("div",{children:[d&&y.jsx("div",{className:"flex justify-center mb-4",children:y.jsx(Nt,{variant:"outline",size:"sm",onClick:H,disabled:S,className:"text-xs",children:S?y.jsxs(y.Fragment,{children:[y.jsx(Nr,{className:"h-3 w-3 animate-spin mr-2"}),"Loading..."]}):"Load Earlier Messages"})}),u.map(q=>y.jsx(HR,{message:q,isFromCurrentUser:q.pubkey===r.pubkey},q.id))]})}),y.jsx("div",{className:"p-4 border-t",children:y.jsxs("div",{className:"flex gap-2",children:[y.jsx(wm,{value:g,onChange:q=>m(q.target.value),onKeyDown:Z,placeholder:"Type a message... (Enter to send, Shift+Enter for new line)",className:"min-h-[80px] resize-none",disabled:b}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(Nt,{onClick:D,disabled:!g.trim()||b,size:"icon",className:"h-[44px] w-[90px]",children:b?y.jsx(Nr,{className:"h-5 w-5 animate-spin"}):y.jsx(qB,{className:"h-5 w-5"})}),y.jsxs(kq,{value:k,onValueChange:q=>N(q),disabled:!z,children:[y.jsx(FR,{className:"h-[32px] w-[90px] text-xs px-2",children:y.jsx(Cq,{})}),y.jsxs(ZR,{children:[y.jsx(T0,{value:hc.NIP17,className:"text-xs",children:"NIP-17"}),y.jsx(T0,{value:hc.NIP04,className:"text-xs",children:"NIP-04"})]})]})]})]})})]}):y.jsx(Vt,{className:qe("h-full flex items-center justify-center",n),children:y.jsx("div",{className:"text-center text-muted-foreground",children:y.jsx("p",{className:"text-sm",children:"Please log in to view messages"})})}):y.jsx(Vt,{className:qe("h-full",n),children:y.jsx(Aq,{isLoading:l})})};var Iq="Separator",s2="horizontal",Lq=["horizontal","vertical"],WR=C.forwardRef((e,t)=>{const{decorative:n,orientation:r=s2,...i}=e,s=Oq(r)?r:s2,u=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return y.jsx(Ye.div,{"data-orientation":s,...u,...i,ref:t})});WR.displayName=Iq;function Oq(e){return Lq.includes(e)}var VR=WR;const qR=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>y.jsx(VR,{ref:i,decorative:n,orientation:t,className:qe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));qR.displayName=VR.displayName;const jq=({clearCacheAndRefetch:e})=>{const[t,n]=C.useState(!1),{toast:r}=Yd(),{loadingPhase:i,subscriptions:s,scanProgress:l,isDoingInitialLoad:u,lastSync:d,conversations:p}=cf(),g=async()=>{if(e){n(!0);try{await e(),r({title:"Cache cleared",description:"Refetching messages from relays..."}),n(!1)}catch(v){console.error("Error clearing cache:",v),r({title:"Error",description:"Failed to clear cache. Please try again.",variant:"destructive"}),n(!1)}}},b=(()=>{switch(i){case hr.IDLE:return{label:"Idle",description:"Not yet initialized",icon:Nr,color:"text-muted-foreground"};case hr.CACHE:return{label:"Loading from cache",description:"Reading cached messages...",icon:MB,color:"text-blue-500"};case hr.RELAYS:return{label:"Loading from relays",description:"Fetching messages from Nostr relays...",icon:JB,color:"text-yellow-500"};case hr.SUBSCRIPTIONS:return{label:"Connecting subscriptions",description:"Setting up real-time message sync...",icon:A1,color:"text-orange-500"};case hr.READY:return{label:"Ready",description:"All systems operational",icon:fd,color:"text-green-500"};default:return{label:"Unknown",description:"Status unknown",icon:Nr,color:"text-muted-foreground"}}})(),_=b.icon,S=v=>{if(!v)return"Never";const E=new Date(v*1e3),N=new Date().getTime()-E.getTime(),A=Math.floor(N/6e4);return A<1?"Just now":A<60?`${A}m ago`:A<1440?`${Math.floor(A/60)}h ago`:E.toLocaleDateString()};return y.jsxs("div",{className:"space-y-4",children:[y.jsx(Vt,{children:y.jsx(fn,{className:"pt-6",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(_,{className:`h-5 w-5 ${b.color} ${i!==hr.READY?"animate-pulse":""}`}),y.jsxs("div",{className:"flex-1 space-y-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("p",{className:"font-medium",children:b.label}),u&&y.jsx(Xr,{variant:"secondary",className:"text-xs",children:"Initial Load"})]}),y.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]})]})})}),(l.nip4!==null||l.nip17!==null)&&y.jsx(Vt,{children:y.jsx(fn,{className:"pt-6",children:y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"text-sm font-medium",children:"Scanning Messages"}),l.nip4!==null&&y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs",children:[y.jsx("span",{className:"text-muted-foreground",children:"NIP-4 (Legacy)"}),y.jsxs("span",{className:"text-muted-foreground",children:[l.nip4.current," events"]})]}),y.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip4.status})]}),l.nip17!==null&&y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs",children:[y.jsx("span",{className:"text-muted-foreground",children:"NIP-17 (Private)"}),y.jsxs("span",{className:"text-muted-foreground",children:[l.nip17.current," events"]})]}),y.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip17.status})]})]})})}),y.jsx(Vt,{children:y.jsx(fn,{className:"pt-6",children:y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"text-sm font-medium",children:"Real-time Subscriptions"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-4 (Legacy DMs)"}),y.jsx(Xr,{variant:s.isNIP4Connected?"default":"secondary",children:s.isNIP4Connected?"Connected":"Disconnected"})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-17 (Private DMs)"}),y.jsx(Xr,{variant:s.isNIP17Connected?"default":"secondary",children:s.isNIP17Connected?"Connected":"Disconnected"})]})]})]})})}),y.jsx(Vt,{children:y.jsx(fn,{className:"pt-6",children:y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"text-sm font-medium",children:"Cache Information"}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),y.jsx("span",{className:"font-medium",children:p.length})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-muted-foreground",children:"Last NIP-4 sync"}),y.jsx("span",{className:"font-medium",children:S(d.nip4)})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-muted-foreground",children:"Last NIP-17 sync"}),y.jsx("span",{className:"font-medium",children:S(d.nip17)})]})]})]})})}),e&&y.jsxs(y.Fragment,{children:[y.jsx(qR,{}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-sm font-medium",children:"Cache Management"}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"Clear all cached messages and refetch from relays. This will force a fresh sync."})]}),y.jsx(Nt,{onClick:g,disabled:t,variant:"outline",className:"w-full",children:t?y.jsxs(y.Fragment,{children:[y.jsx(Nr,{className:"mr-2 h-4 w-4 animate-spin"}),"Clearing..."]}):y.jsxs(y.Fragment,{children:[y.jsx(A1,{className:"mr-2 h-4 w-4"}),"Clear Cache & Refetch"]})})]})]})]})},Kh=768;function Mq(){const[e,t]=C.useState(window.innerWidth<Kh);return C.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Kh-1}px)`),r=()=>{t(window.innerWidth<Kh)};return n.addEventListener("change",r),t(window.innerWidth<Kh),()=>n.removeEventListener("change",r)},[]),!!e}const zq=({className:e})=>{const[t,n]=C.useState(null),[r,i]=C.useState(!1),s=Mq(),{clearCacheAndRefetch:l}=cf(),u=!s||!t,d=!s||t,p=C.useCallback(m=>{n(m)},[]),g=C.useCallback(()=>{n(null)},[]);return y.jsxs(y.Fragment,{children:[y.jsx(pm,{open:r,onOpenChange:i,children:y.jsxs(rf,{className:"max-w-md",children:[y.jsxs(of,{children:[y.jsx(mm,{children:"Messaging Status"}),y.jsx(e_,{children:"View loading status, cache info, and connection details"})]}),y.jsx(jq,{clearCacheAndRefetch:l})]})}),y.jsxs("div",{className:qe("flex gap-4 overflow-hidden",e),children:[y.jsx("div",{className:qe("md:w-80 md:flex-shrink-0",s&&!u&&"hidden",s&&u&&"w-full"),children:y.jsx(GV,{selectedPubkey:t,onSelectConversation:p,className:"h-full",onStatusClick:()=>i(!0)})}),y.jsx("div",{className:qe("flex-1 md:min-w-0",s&&!d&&"hidden",s&&d&&"w-full"),children:y.jsx(Rq,{pubkey:t,onBack:s?g:void 0,className:"h-full"})})]})]})},Dq=()=>(su({title:"Messages",description:"Private encrypted messaging on Nostr"}),y.jsx("div",{className:"min-h-screen bg-background",children:y.jsxs("div",{className:"container mx-auto p-4 h-screen flex flex-col",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsx("h1",{className:"text-2xl font-semibold",children:"Messages"})}),y.jsx(zq,{className:"flex-1"})]})}));function Bq(){const{nip19:e}=KP();su({title:"NIP-19"});const{nostr:t}=Ir();if(!e)return y.jsx("div",{className:"container mx-auto p-6",children:"Invalid identifier"});let n;try{n=er.decode(e)}catch{return y.jsx("div",{className:"container mx-auto p-6",children:"Invalid NIP-19 identifier"})}const{type:r,data:i}=n,s=Ki({queryKey:["nip19",e,"profile"],enabled:r==="npub"||r==="nprofile",queryFn:async()=>{const p=(i==null?void 0:i.pubkey)??i;if(!p)return null;const g=await t.query([{kinds:[0],authors:[p],limit:1}]),m=g==null?void 0:g[0];if(!m)return{pubkey:p};try{const b=JSON.parse(m.content||"{}");return{pubkey:p,metadata:b}}catch{return{pubkey:p}}}}),l=Ki({queryKey:["nip19",e,"note"],enabled:r==="note",queryFn:async()=>{const p=i;if(!p)return null;const g=await t.query([{ids:[p],kinds:[1],limit:1}]);return(g==null?void 0:g[0])??null}}),u=Ki({queryKey:["nip19",e,"event"],enabled:r==="nevent",queryFn:async()=>{const p=(i==null?void 0:i.id)??i;if(!p)return null;const g=await t.query([{ids:[p],limit:1}]);return(g==null?void 0:g[0])??null}}),d=Ki({queryKey:["nip19",e,"naddr"],enabled:r==="naddr",queryFn:async()=>{const p=i;if(!p)return null;const g=p.kind,m=p.pubkey,b=p.identifier,_=await t.query([{kinds:[g],authors:[m],"#d":[b],limit:1}]);return(_==null?void 0:_[0])??null}});if(r==="npub"||r==="nprofile"){const p=s.data;return s.isFetched?y.jsx("div",{className:"container mx-auto p-6",children:y.jsxs("div",{className:"max-w-2xl mx-auto",children:[y.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),y.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["pubkey: ",y.jsx("code",{children:p==null?void 0:p.pubkey})]}),p!=null&&p.metadata?y.jsxs("div",{className:"space-y-2",children:[y.jsx("img",{src:p.metadata.picture,alt:"avatar",className:"w-28 h-28 rounded-full"}),y.jsx("h2",{className:"text-xl font-semibold",children:p.metadata.display_name??p.metadata.name}),y.jsx("p",{className:"text-sm text-muted-foreground",children:p.metadata.about}),p.metadata.website&&y.jsx("p",{children:y.jsx("a",{href:p.metadata.website,target:"_blank",rel:"noreferrer",className:"text-primary",children:"Website"})})]}):y.jsx("p",{children:"No metadata available."})]})}):y.jsx("div",{className:"container mx-auto p-6",children:"Loading profile"})}if(r==="note"){const p=l.data;return l.isLoading?y.jsx("div",{className:"container mx-auto p-6",children:"Loading note"}):p?y.jsxs("div",{className:"container mx-auto p-6",children:[y.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Text Note"}),y.jsx("div",{className:"prose max-w-none whitespace-pre-wrap",children:y.jsx(N0,{event:p})}),y.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",y.jsx(Xn,{to:`/${er.encode({type:"npub",data:p.pubkey})}`,children:p.pubkey})]})]}):y.jsx("div",{className:"container mx-auto p-6",children:"Note not found"})}if(r==="nevent"){const p=u.data;return u.isLoading?y.jsx("div",{className:"container mx-auto p-6",children:"Loading event"}):p?y.jsxs("div",{className:"container mx-auto p-6",children:[y.jsxs("h1",{className:"text-xl font-semibold",children:["Event (kind: ",p.kind,")"]}),y.jsx("div",{className:"mt-4 prose max-w-none whitespace-pre-wrap",children:p.kind===1?y.jsx(N0,{event:p}):y.jsx("pre",{children:p.content})}),y.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",y.jsx("code",{children:p.pubkey})]})]}):y.jsx("div",{className:"container mx-auto p-6",children:"Event not found"})}if(r==="naddr"){const p=d.data;if(d.isLoading)return y.jsx("div",{className:"container mx-auto p-6",children:"Loading addressable event"});if(!p)return y.jsx("div",{className:"container mx-auto p-6",children:"Addressable event not found"});if(p.kind===30402){const g=m_(p);return g?y.jsxs("div",{className:"container mx-auto p-6",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:g.title}),y.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",y.jsx("code",{children:g.pubkey})]}),y.jsx("p",{className:"mt-2",children:g.description}),y.jsxs("div",{className:"mt-4",children:[y.jsxs("p",{children:["Dimensions: ",g.dimensions]}),y.jsxs("p",{children:["Fee: ",g.price," ",g.currency]}),y.jsxs("p",{children:["Status: ",g.status]}),y.jsx(Xn,{to:`/locker/${e}`,className:"text-primary",children:"Open Locker Page"})]})]}):y.jsx("div",{className:"container mx-auto p-6",children:"Invalid locker event"})}return y.jsxs("div",{className:"container mx-auto p-6",children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Addressable Event"}),y.jsx("pre",{className:"mt-4 whitespace-pre-wrap",children:p.content}),y.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Author: ",y.jsx("code",{children:p.pubkey})]})]})}return y.jsx("div",{className:"container mx-auto p-6",children:"Unsupported identifier type"})}const Fq=()=>{const e=gl();return su({title:"404 - Page Not Found",description:"The page you are looking for could not be found. Return to the home page to continue browsing."}),C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"404"}),y.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),y.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})};function Uq(){return y.jsxs(H7,{basename:"/nostr-dead-drop-lockers",children:[y.jsx(K7,{}),y.jsx(eW,{}),y.jsxs(z7,{children:[y.jsx(ko,{path:"/",element:y.jsx(kV,{})}),y.jsx(ko,{path:"/marketplace",element:y.jsx(_V,{})}),y.jsx(ko,{path:"/snapshot",element:y.jsx(SV,{})}),y.jsx(ko,{path:"/dashboard",element:y.jsx(IV,{})}),y.jsx(ko,{path:"/messages",element:y.jsx(Dq,{})}),y.jsx(ko,{path:"/locker/:nip19",element:y.jsx(ZW,{})}),y.jsx(ko,{path:"/:nip19",element:y.jsx(Bq,{})}),y.jsx(ko,{path:"*",element:y.jsx(Fq,{})})]})]})}const $q=D2({plugins:[J3()]}),Zq=new a3({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4,gcTime:1/0}}}),Hq={theme:"light",relayMetadata:{relays:[{url:"wss://relay.ditto.pub",read:!0,write:!0},{url:"wss://relay.nostr.band",read:!0,write:!0},{url:"wss://relay.damus.io",read:!0,write:!0}],updatedAt:0}};function Wq(){return y.jsx(V3,{head:$q,children:y.jsx(l$,{storageKey:"nostr:app-config",defaultConfig:Hq,children:y.jsx(f3,{client:Zq,children:y.jsx(C6,{storageKey:"nostr:login",children:y.jsxs(P6,{children:[y.jsx(T6,{}),y.jsx(H$,{children:y.jsxs(rl,{children:[y.jsx(LF,{}),y.jsx(C.Suspense,{children:y.jsx(Uq,{})})]})})]})})})})})}BI.createRoot(document.getElementById("root")).render(y.jsx(WI,{children:y.jsx(Wq,{})}));
