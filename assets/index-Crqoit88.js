var o3=Object.defineProperty;var m1=e=>{throw TypeError(e)};var s3=(e,t,n)=>t in e?o3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ze=(e,t,n)=>s3(e,typeof t!="symbol"?t+"":t,n),oy=(e,t,n)=>t.has(e)||m1("Cannot "+n);var ue=(e,t,n)=>(oy(e,t,"read from private field"),n?n.call(e):t.get(e)),it=(e,t,n)=>t.has(e)?m1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ke=(e,t,n,r)=>(oy(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),vt=(e,t,n)=>(oy(e,t,"access private method"),n);var Rh=(e,t,n,r)=>({set _(i){Ke(e,t,i,n)},get _(){return ue(e,t,r)}});function a3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sy={exports:{}},sd={},ay={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1;function l3(){if(g1)return Et;g1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,v={};function E(H,Q,ke){this.props=H,this.context=Q,this.refs=v,this.updater=ke||_}E.prototype.isReactComponent={},E.prototype.setState=function(H,Q){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Q,"setState")},E.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=E.prototype;function A(H,Q,ke){this.props=H,this.context=Q,this.refs=v,this.updater=ke||_}var T=A.prototype=new k;T.constructor=A,S(T,E.prototype),T.isPureReactComponent=!0;var z=Array.isArray,D=Object.prototype.hasOwnProperty,$={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function q(H,Q,ke){var _e,ve={},Ie=null,Pe=null;if(Q!=null)for(_e in Q.ref!==void 0&&(Pe=Q.ref),Q.key!==void 0&&(Ie=""+Q.key),Q)D.call(Q,_e)&&!Z.hasOwnProperty(_e)&&(ve[_e]=Q[_e]);var Te=arguments.length-2;if(Te===1)ve.children=ke;else if(1<Te){for(var Oe=Array(Te),He=0;He<Te;He++)Oe[He]=arguments[He+2];ve.children=Oe}if(H&&H.defaultProps)for(_e in Te=H.defaultProps,Te)ve[_e]===void 0&&(ve[_e]=Te[_e]);return{$$typeof:e,type:H,key:Ie,ref:Pe,props:ve,_owner:$.current}}function F(H,Q){return{$$typeof:e,type:H.type,key:Q,ref:H.ref,props:H.props,_owner:H._owner}}function W(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function J(H){var Q={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ke){return Q[ke]})}var U=/\/+/g;function X(H,Q){return typeof H=="object"&&H!==null&&H.key!=null?J(""+H.key):Q.toString(36)}function j(H,Q,ke,_e,ve){var Ie=typeof H;(Ie==="undefined"||Ie==="boolean")&&(H=null);var Pe=!1;if(H===null)Pe=!0;else switch(Ie){case"string":case"number":Pe=!0;break;case"object":switch(H.$$typeof){case e:case t:Pe=!0}}if(Pe)return Pe=H,ve=ve(Pe),H=_e===""?"."+X(Pe,0):_e,z(ve)?(ke="",H!=null&&(ke=H.replace(U,"$&/")+"/"),j(ve,Q,ke,"",function(He){return He})):ve!=null&&(W(ve)&&(ve=F(ve,ke+(!ve.key||Pe&&Pe.key===ve.key?"":(""+ve.key).replace(U,"$&/")+"/")+H)),Q.push(ve)),1;if(Pe=0,_e=_e===""?".":_e+":",z(H))for(var Te=0;Te<H.length;Te++){Ie=H[Te];var Oe=_e+X(Ie,Te);Pe+=j(Ie,Q,ke,Oe,ve)}else if(Oe=b(H),typeof Oe=="function")for(H=Oe.call(H),Te=0;!(Ie=H.next()).done;)Ie=Ie.value,Oe=_e+X(Ie,Te++),Pe+=j(Ie,Q,ke,Oe,ve);else if(Ie==="object")throw Q=String(H),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Pe}function K(H,Q,ke){if(H==null)return H;var _e=[],ve=0;return j(H,_e,"","",function(Ie){return Q.call(ke,Ie,ve++)}),_e}function se(H){if(H._status===-1){var Q=H._result;Q=Q(),Q.then(function(ke){(H._status===0||H._status===-1)&&(H._status=1,H._result=ke)},function(ke){(H._status===0||H._status===-1)&&(H._status=2,H._result=ke)}),H._status===-1&&(H._status=0,H._result=Q)}if(H._status===1)return H._result.default;throw H._result}var ie={current:null},te={transition:null},ee={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:te,ReactCurrentOwner:$};function le(){throw Error("act(...) is not supported in production builds of React.")}return Et.Children={map:K,forEach:function(H,Q,ke){K(H,function(){Q.apply(this,arguments)},ke)},count:function(H){var Q=0;return K(H,function(){Q++}),Q},toArray:function(H){return K(H,function(Q){return Q})||[]},only:function(H){if(!W(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Et.Component=E,Et.Fragment=n,Et.Profiler=i,Et.PureComponent=A,Et.StrictMode=r,Et.Suspense=d,Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Et.act=le,Et.cloneElement=function(H,Q,ke){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var _e=S({},H.props),ve=H.key,Ie=H.ref,Pe=H._owner;if(Q!=null){if(Q.ref!==void 0&&(Ie=Q.ref,Pe=$.current),Q.key!==void 0&&(ve=""+Q.key),H.type&&H.type.defaultProps)var Te=H.type.defaultProps;for(Oe in Q)D.call(Q,Oe)&&!Z.hasOwnProperty(Oe)&&(_e[Oe]=Q[Oe]===void 0&&Te!==void 0?Te[Oe]:Q[Oe])}var Oe=arguments.length-2;if(Oe===1)_e.children=ke;else if(1<Oe){Te=Array(Oe);for(var He=0;He<Oe;He++)Te[He]=arguments[He+2];_e.children=Te}return{$$typeof:e,type:H.type,key:ve,ref:Ie,props:_e,_owner:Pe}},Et.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:s,_context:H},H.Consumer=H},Et.createElement=q,Et.createFactory=function(H){var Q=q.bind(null,H);return Q.type=H,Q},Et.createRef=function(){return{current:null}},Et.forwardRef=function(H){return{$$typeof:u,render:H}},Et.isValidElement=W,Et.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:se}},Et.memo=function(H,Q){return{$$typeof:p,type:H,compare:Q===void 0?null:Q}},Et.startTransition=function(H){var Q=te.transition;te.transition={};try{H()}finally{te.transition=Q}},Et.unstable_act=le,Et.useCallback=function(H,Q){return ie.current.useCallback(H,Q)},Et.useContext=function(H){return ie.current.useContext(H)},Et.useDebugValue=function(){},Et.useDeferredValue=function(H){return ie.current.useDeferredValue(H)},Et.useEffect=function(H,Q){return ie.current.useEffect(H,Q)},Et.useId=function(){return ie.current.useId()},Et.useImperativeHandle=function(H,Q,ke){return ie.current.useImperativeHandle(H,Q,ke)},Et.useInsertionEffect=function(H,Q){return ie.current.useInsertionEffect(H,Q)},Et.useLayoutEffect=function(H,Q){return ie.current.useLayoutEffect(H,Q)},Et.useMemo=function(H,Q){return ie.current.useMemo(H,Q)},Et.useReducer=function(H,Q,ke){return ie.current.useReducer(H,Q,ke)},Et.useRef=function(H){return ie.current.useRef(H)},Et.useState=function(H){return ie.current.useState(H)},Et.useSyncExternalStore=function(H,Q,ke){return ie.current.useSyncExternalStore(H,Q,ke)},Et.useTransition=function(){return ie.current.useTransition()},Et.version="18.3.1",Et}var y1;function Mp(){return y1||(y1=1,ay.exports=l3()),ay.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function c3(){if(v1)return sd;v1=1;var e=Mp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var y,g={},b=null,_=null;p!==void 0&&(b=""+p),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(_=d.ref);for(y in d)r.call(d,y)&&!s.hasOwnProperty(y)&&(g[y]=d[y]);if(u&&u.defaultProps)for(y in d=u.defaultProps,d)g[y]===void 0&&(g[y]=d[y]);return{$$typeof:t,type:u,key:b,ref:_,props:g,_owner:i.current}}return sd.Fragment=n,sd.jsx=l,sd.jsxs=l,sd}var w1;function u3(){return w1||(w1=1,sy.exports=c3()),sy.exports}var m=u3(),jh={},ly={exports:{}},ur={},cy={exports:{}},uy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function d3(){return _1||(_1=1,function(e){function t(te,ee){var le=te.length;te.push(ee);e:for(;0<le;){var H=le-1>>>1,Q=te[H];if(0<i(Q,ee))te[H]=ee,te[le]=Q,le=H;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ee=te[0],le=te.pop();if(le!==ee){te[0]=le;e:for(var H=0,Q=te.length,ke=Q>>>1;H<ke;){var _e=2*(H+1)-1,ve=te[_e],Ie=_e+1,Pe=te[Ie];if(0>i(ve,le))Ie<Q&&0>i(Pe,ve)?(te[H]=Pe,te[Ie]=le,H=Ie):(te[H]=ve,te[_e]=le,H=_e);else if(Ie<Q&&0>i(Pe,le))te[H]=Pe,te[Ie]=le,H=Ie;else break e}}return ee}function i(te,ee){var le=te.sortIndex-ee.sortIndex;return le!==0?le:te.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],p=[],y=1,g=null,b=3,_=!1,S=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(te){for(var ee=n(p);ee!==null;){if(ee.callback===null)r(p);else if(ee.startTime<=te)r(p),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=n(p)}}function z(te){if(v=!1,T(te),!S)if(n(d)!==null)S=!0,se(D);else{var ee=n(p);ee!==null&&ie(z,ee.startTime-te)}}function D(te,ee){S=!1,v&&(v=!1,k(q),q=-1),_=!0;var le=b;try{for(T(ee),g=n(d);g!==null&&(!(g.expirationTime>ee)||te&&!J());){var H=g.callback;if(typeof H=="function"){g.callback=null,b=g.priorityLevel;var Q=H(g.expirationTime<=ee);ee=e.unstable_now(),typeof Q=="function"?g.callback=Q:g===n(d)&&r(d),T(ee)}else r(d);g=n(d)}if(g!==null)var ke=!0;else{var _e=n(p);_e!==null&&ie(z,_e.startTime-ee),ke=!1}return ke}finally{g=null,b=le,_=!1}}var $=!1,Z=null,q=-1,F=5,W=-1;function J(){return!(e.unstable_now()-W<F)}function U(){if(Z!==null){var te=e.unstable_now();W=te;var ee=!0;try{ee=Z(!0,te)}finally{ee?X():($=!1,Z=null)}}else $=!1}var X;if(typeof A=="function")X=function(){A(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,K=j.port2;j.port1.onmessage=U,X=function(){K.postMessage(null)}}else X=function(){E(U,0)};function se(te){Z=te,$||($=!0,X())}function ie(te,ee){q=E(function(){te(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){S||_||(S=!0,se(D))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(te){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var le=b;b=ee;try{return te()}finally{b=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ee){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var le=b;b=te;try{return ee()}finally{b=le}},e.unstable_scheduleCallback=function(te,ee,le){var H=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?H+le:H):le=H,te){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=le+Q,te={id:y++,callback:ee,priorityLevel:te,startTime:le,expirationTime:Q,sortIndex:-1},le>H?(te.sortIndex=le,t(p,te),n(d)===null&&te===n(p)&&(v?(k(q),q=-1):v=!0,ie(z,le-H))):(te.sortIndex=Q,t(d,te),S||_||(S=!0,se(D))),te},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(te){var ee=b;return function(){var le=b;b=ee;try{return te.apply(this,arguments)}finally{b=le}}}}(uy)),uy}var x1;function f3(){return x1||(x1=1,cy.exports=d3()),cy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function h3(){if(b1)return ur;b1=1;var e=Mp(),t=f3();function n(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(i[o]=c,o=0;o<c.length;o++)r.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function b(o){return d.call(g,o)?!0:d.call(y,o)?!1:p.test(o)?g[o]=!0:(y[o]=!0,!1)}function _(o,c,h,x){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,c,h,x){if(c===null||typeof c>"u"||_(o,c,h,x))return!0;if(x)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function v(o,c,h,x,P,I,V){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=P,this.mustUseProperty=h,this.propertyName=o,this.type=c,this.sanitizeURL=I,this.removeEmptyString=V}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new v(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];E[c]=new v(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new v(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new v(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new v(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new v(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function A(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(k,A);E[c]=new v(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(k,A);E[c]=new v(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(k,A);E[c]=new v(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function T(o,c,h,x){var P=E.hasOwnProperty(c)?E[c]:null;(P!==null?P.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(S(c,h,P,x)&&(h=null),x||P===null?b(c)&&(h===null?o.removeAttribute(c):o.setAttribute(c,""+h)):P.mustUseProperty?o[P.propertyName]=h===null?P.type===3?!1:"":h:(c=P.attributeName,x=P.attributeNamespace,h===null?o.removeAttribute(c):(P=P.type,h=P===3||P===4&&h===!0?"":""+h,x?o.setAttributeNS(x,c,h):o.setAttribute(c,h))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),$=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),J=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),te=Symbol.iterator;function ee(o){return o===null||typeof o!="object"?null:(o=te&&o[te]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,H;function Q(o){if(H===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);H=c&&c[1]||""}return`
`+H+o}var ke=!1;function _e(o,c){if(!o||ke)return"";ke=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Se){var x=Se}Reflect.construct(o,[],c)}else{try{c.call()}catch(Se){x=Se}o.call(c.prototype)}else{try{throw Error()}catch(Se){x=Se}o()}}catch(Se){if(Se&&x&&typeof Se.stack=="string"){for(var P=Se.stack.split(`
`),I=x.stack.split(`
`),V=P.length-1,ae=I.length-1;1<=V&&0<=ae&&P[V]!==I[ae];)ae--;for(;1<=V&&0<=ae;V--,ae--)if(P[V]!==I[ae]){if(V!==1||ae!==1)do if(V--,ae--,0>ae||P[V]!==I[ae]){var de=`
`+P[V].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=V&&0<=ae);break}}}finally{ke=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?Q(o):""}function ve(o){switch(o.tag){case 5:return Q(o.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return o=_e(o.type,!1),o;case 11:return o=_e(o.type.render,!1),o;case 1:return o=_e(o.type,!0),o;default:return""}}function Ie(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Z:return"Fragment";case $:return"Portal";case F:return"Profiler";case q:return"StrictMode";case X:return"Suspense";case j:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case J:return(o.displayName||"Context")+".Consumer";case W:return(o._context.displayName||"Context")+".Provider";case U:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case K:return c=o.displayName||null,c!==null?c:Ie(o.type)||"Memo";case se:c=o._payload,o=o._init;try{return Ie(o(c))}catch{}}return null}function Pe(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(c);case 8:return c===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Te(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Oe(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function He(o){var c=Oe(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var P=h.get,I=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return P.call(this)},set:function(V){x=""+V,I.call(this,V)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(V){x=""+V},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Qe(o){o._valueTracker||(o._valueTracker=He(o))}function ot(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),x="";return o&&(x=Oe(o)?o.checked?"true":"false":o.value),o=x,o!==h?(c.setValue(o),!0):!1}function at(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function B(o,c){var h=c.checked;return le({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Ne(o,c){var h=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;h=Te(c.value!=null?c.value:h),o._wrapperState={initialChecked:x,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function be(o,c){c=c.checked,c!=null&&T(o,"checked",c,!1)}function oe(o,c){be(o,c);var h=Te(c.value),x=c.type;if(h!=null)x==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?pe(o,c.type,h):c.hasOwnProperty("defaultValue")&&pe(o,c.type,Te(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function re(o,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,h||c===o.value||(o.value=c),o.defaultValue=c}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function pe(o,c,h){(c!=="number"||at(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Re=Array.isArray;function je(o,c,h,x){if(o=o.options,c){c={};for(var P=0;P<h.length;P++)c["$"+h[P]]=!0;for(h=0;h<o.length;h++)P=c.hasOwnProperty("$"+o[h].value),o[h].selected!==P&&(o[h].selected=P),P&&x&&(o[h].defaultSelected=!0)}else{for(h=""+Te(h),c=null,P=0;P<o.length;P++){if(o[P].value===h){o[P].selected=!0,x&&(o[P].defaultSelected=!0);return}c!==null||o[P].disabled||(c=o[P])}c!==null&&(c.selected=!0)}}function me(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Be(o,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(Re(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}o._wrapperState={initialValue:Te(h)}}function qe(o,c){var h=Te(c.value),x=Te(c.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),c.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),x!=null&&(o.defaultValue=""+x)}function De(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function tt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?tt(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var R,O=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,x,P){MSApp.execUnsafeLocalFunction(function(){return o(c,h,x,P)})}:o}(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(R=R||document.createElement("div"),R.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=R.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function ne(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];Object.keys(fe).forEach(function(o){xe.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),fe[c]=fe[o]})});function Ce(o,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||fe.hasOwnProperty(o)&&fe[o]?(""+c).trim():c+"px"}function dt(o,c){o=o.style;for(var h in c)if(c.hasOwnProperty(h)){var x=h.indexOf("--")===0,P=Ce(h,c[h],x);h==="float"&&(h="cssFloat"),x?o.setProperty(h,P):o[h]=P}}var jt=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(o,c){if(c){if(jt[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Ct(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=null;function fa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Wo=null,Lr=null,Wn=null;function to(o){if(o=po(o)){if(typeof Wo!="function")throw Error(n(280));var c=o.stateNode;c&&(c=Gl(c),Wo(o.stateNode,o.type,c))}}function pf(o){Lr?Wn?Wn.push(o):Wn=[o]:Lr=o}function mf(){if(Lr){var o=Lr,c=Wn;if(Wn=Lr=null,to(o),c)for(o=0;o<c.length;o++)to(c[o])}}function gf(o,c){return o(c)}function yf(){}var mu=!1;function El(o,c,h){if(mu)return o(c,h);mu=!0;try{return gf(o,c,h)}finally{mu=!1,(Lr!==null||Wn!==null)&&(yf(),mf())}}function ha(o,c){var h=o.stateNode;if(h===null)return null;var x=Gl(h);if(x===null)return null;h=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var gu=!1;if(u)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){gu=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{gu=!1}function Mm(o,c,h,x,P,I,V,ae,de){var Se=Array.prototype.slice.call(arguments,3);try{c.apply(h,Se)}catch(ze){this.onError(ze)}}var jn=!1,nt=null,ma=!1,Sl=null,vf={onError:function(o){jn=!0,nt=o}};function wf(o,c,h,x,P,I,V,ae,de){jn=!1,nt=null,Mm.apply(vf,arguments)}function yu(o,c,h,x,P,I,V,ae,de){if(wf.apply(this,arguments),jn){if(jn){var Se=nt;jn=!1,nt=null}else throw Error(n(198));ma||(ma=!0,Sl=Se)}}function ki(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function no(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function vu(o){if(ki(o)!==o)throw Error(n(188))}function zm(o){var c=o.alternate;if(!c){if(c=ki(o),c===null)throw Error(n(188));return c!==o?null:o}for(var h=o,x=c;;){var P=h.return;if(P===null)break;var I=P.alternate;if(I===null){if(x=P.return,x!==null){h=x;continue}break}if(P.child===I.child){for(I=P.child;I;){if(I===h)return vu(P),o;if(I===x)return vu(P),c;I=I.sibling}throw Error(n(188))}if(h.return!==x.return)h=P,x=I;else{for(var V=!1,ae=P.child;ae;){if(ae===h){V=!0,h=P,x=I;break}if(ae===x){V=!0,x=P,h=I;break}ae=ae.sibling}if(!V){for(ae=I.child;ae;){if(ae===h){V=!0,h=I,x=P;break}if(ae===x){V=!0,x=I,h=P;break}ae=ae.sibling}if(!V)throw Error(n(189))}}if(h.alternate!==x)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:c}function _f(o){return o=zm(o),o!==null?xf(o):null}function xf(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=xf(o);if(c!==null)return c;o=o.sibling}return null}var bf=t.unstable_scheduleCallback,wu=t.unstable_cancelCallback,Dm=t.unstable_shouldYield,kl=t.unstable_requestPaint,Xt=t.unstable_now,Bm=t.unstable_getCurrentPriorityLevel,_u=t.unstable_ImmediatePriority,Ef=t.unstable_UserBlockingPriority,Cl=t.unstable_NormalPriority,xu=t.unstable_LowPriority,Vo=t.unstable_IdlePriority,ga=null,vr=null;function ya(o){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(ga,o,void 0,(o.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:qo,Wt=Math.log,Nl=Math.LN2;function qo(o){return o>>>=0,o===0?32:31-(Wt(o)/Nl|0)|0}var oi=64,Ko=4194304;function mt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function $t(o,c){var h=o.pendingLanes;if(h===0)return 0;var x=0,P=o.suspendedLanes,I=o.pingedLanes,V=h&268435455;if(V!==0){var ae=V&~P;ae!==0?x=mt(ae):(I&=V,I!==0&&(x=mt(I)))}else V=h&~P,V!==0?x=mt(V):I!==0&&(x=mt(I));if(x===0)return 0;if(c!==0&&c!==x&&(c&P)===0&&(P=x&-x,I=c&-c,P>=I||P===16&&(I&4194240)!==0))return c;if((x&4)!==0&&(x|=h&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)h=31-yt(c),P=1<<h,x|=o[h],c&=~P;return x}function bu(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pl(o,c){for(var h=o.suspendedLanes,x=o.pingedLanes,P=o.expirationTimes,I=o.pendingLanes;0<I;){var V=31-yt(I),ae=1<<V,de=P[V];de===-1?((ae&h)===0||(ae&x)!==0)&&(P[V]=bu(ae,c)):de<=c&&(o.expiredLanes|=ae),I&=~ae}}function Ln(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Sf(){var o=oi;return oi<<=1,(oi&4194240)===0&&(oi=64),o}function Go(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function wr(o,c,h){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-yt(c),o[c]=h}function on(o,c){var h=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<h;){var P=31-yt(h),I=1<<P;c[P]=0,x[P]=-1,o[P]=-1,h&=~I}}function si(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var x=31-yt(h),P=1<<x;P&c|o[x]&c&&(o[x]|=c),h&=~P}}var Pt=0;function Yo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Tl,ro,Al,Rl,va,wa=!1,Jo=[],_r=null,ai=null,Or=null,_a=new Map,ht=new Map,gn=[],Bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eu(o,c){switch(o){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":_a.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(c.pointerId)}}function io(o,c,h,x,P,I){return o===null||o.nativeEvent!==I?(o={blockedOn:c,domEventName:h,eventSystemFlags:x,nativeEvent:I,targetContainers:[P]},c!==null&&(c=po(c),c!==null&&ro(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,P!==null&&c.indexOf(P)===-1&&c.push(P),o)}function Su(o,c,h,x,P){switch(c){case"focusin":return _r=io(_r,o,c,h,x,P),!0;case"dragenter":return ai=io(ai,o,c,h,x,P),!0;case"mouseover":return Or=io(Or,o,c,h,x,P),!0;case"pointerover":var I=P.pointerId;return _a.set(I,io(_a.get(I)||null,o,c,h,x,P)),!0;case"gotpointercapture":return I=P.pointerId,ht.set(I,io(ht.get(I)||null,o,c,h,x,P)),!0}return!1}function Il(o){var c=ho(o.target);if(c!==null){var h=ki(c);if(h!==null){if(c=h.tag,c===13){if(c=no(h),c!==null){o.blockedOn=c,va(o.priority,function(){Al(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Mr(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=Ol(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);Nt=x,h.target.dispatchEvent(x),Nt=null}else return c=po(h),c!==null&&ro(c),o.blockedOn=h,!1;c.shift()}return!0}function jl(o,c,h){Mr(o)&&h.delete(c)}function xa(){wa=!1,_r!==null&&Mr(_r)&&(_r=null),ai!==null&&Mr(ai)&&(ai=null),Or!==null&&Mr(Or)&&(Or=null),_a.forEach(jl),ht.forEach(jl)}function en(o,c){o.blockedOn===c&&(o.blockedOn=null,wa||(wa=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xa)))}function xr(o){function c(P){return en(P,o)}if(0<Jo.length){en(Jo[0],o);for(var h=1;h<Jo.length;h++){var x=Jo[h];x.blockedOn===o&&(x.blockedOn=null)}}for(_r!==null&&en(_r,o),ai!==null&&en(ai,o),Or!==null&&en(Or,o),_a.forEach(c),ht.forEach(c),h=0;h<gn.length;h++)x=gn[h],x.blockedOn===o&&(x.blockedOn=null);for(;0<gn.length&&(h=gn[0],h.blockedOn===null);)Il(h),h.blockedOn===null&&gn.shift()}var oo=z.ReactCurrentBatchConfig,ba=!0;function Fm(o,c,h,x){var P=Pt,I=oo.transition;oo.transition=null;try{Pt=1,Ea(o,c,h,x)}finally{Pt=P,oo.transition=I}}function kf(o,c,h,x){var P=Pt,I=oo.transition;oo.transition=null;try{Pt=4,Ea(o,c,h,x)}finally{Pt=P,oo.transition=I}}function Ea(o,c,h,x){if(ba){var P=Ol(o,c,h,x);if(P===null)a(o,c,x,Ll,h),Eu(o,x);else if(Su(P,o,c,h,x))x.stopPropagation();else if(Eu(o,x),c&4&&-1<Bt.indexOf(o)){for(;P!==null;){var I=po(P);if(I!==null&&Tl(I),I=Ol(o,c,h,x),I===null&&a(o,c,x,Ll,h),I===P)break;P=I}P!==null&&x.stopPropagation()}else a(o,c,x,null,h)}}var Ll=null;function Ol(o,c,h,x){if(Ll=null,o=fa(x),o=ho(o),o!==null)if(c=ki(o),c===null)o=null;else if(h=c.tag,h===13){if(o=no(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return Ll=o,null}function St(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bm()){case _u:return 1;case Ef:return 4;case Cl:case xu:return 16;case Vo:return 536870912;default:return 16}default:return 16}}var Ci=null,Vn=null,Ni=null;function ku(){if(Ni)return Ni;var o,c=Vn,h=c.length,x,P="value"in Ci?Ci.value:Ci.textContent,I=P.length;for(o=0;o<h&&c[o]===P[o];o++);var V=h-o;for(x=1;x<=V&&c[h-x]===P[I-x];x++);return Ni=P.slice(o,1<x?1-x:void 0)}function Ml(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Qo(){return!0}function Cf(){return!1}function On(o){function c(h,x,P,I,V){this._reactName=h,this._targetInst=P,this.type=x,this.nativeEvent=I,this.target=V,this.currentTarget=null;for(var ae in o)o.hasOwnProperty(ae)&&(h=o[ae],this[ae]=h?h(I):I[ae]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Qo:Cf,this.isPropagationStopped=Cf,this}return le(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),c}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=On(Xo),so=le({},Xo,{view:0,detail:0}),Um=On(so),rr,Nu,es,br=le({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==es&&(es&&o.type==="mousemove"?(rr=o.screenX-es.screenX,Nu=o.screenY-es.screenY):Nu=rr=0,es=o),rr)},movementY:function(o){return"movementY"in o?o.movementY:Nu}}),Pu=On(br),Nf=le({},br,{dataTransfer:0}),Tu=On(Nf),$m=le({},so,{relatedTarget:0}),zl=On($m),Pf=le({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=On(Pf),Zm=le({},Xo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Au=On(Zm),Wm=le({},Xo,{data:0}),Ru=On(Wm),Tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vm(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=ao[o])?!!c[o]:!1}function lo(){return Vm}var ir=le({},so,{key:function(o){if(o.key){var c=Tf[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Ml(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Dl[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(o){return o.type==="keypress"?Ml(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ml(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Af=On(ir),Rf=le({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),If=On(Rf),Iu=le({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),ju=On(Iu),qm=le({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Km=On(qm),jf=le({},br,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Gm=On(jf),Er=[9,13,27,32],Pi=u&&"CompositionEvent"in window,Sa=null;u&&"documentMode"in document&&(Sa=document.documentMode);var li=u&&"TextEvent"in window&&!Sa,Lf=u&&(!Pi||Sa&&8<Sa&&11>=Sa),co=" ",Of=!1;function ts(o,c){switch(o){case"keyup":return Er.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ci=!1;function Ym(o,c){switch(o){case"compositionend":return Lu(c);case"keypress":return c.which!==32?null:(Of=!0,co);case"textInput":return o=c.data,o===co&&Of?null:o;default:return null}}function Ti(o,c){if(ci)return o==="compositionend"||!Pi&&ts(o,c)?(o=ku(),Ni=Vn=Ci=null,ci=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Lf&&c.locale!=="ko"?null:c.data;default:return null}}var Bl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mf(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Bl[o.type]:c==="textarea"}function Fl(o,c,h,x){pf(x),c=w(c,"onChange"),0<c.length&&(h=new Cu("onChange","change",null,h,x),o.push({event:h,listeners:c}))}var ka=null,qn=null;function Jm(o){Hu(o,0)}function ui(o){var c=mo(o);if(ot(c))return o}function Qm(o,c){if(o==="change")return c}var zr=!1;if(u){var ns;if(u){var Ul="oninput"in document;if(!Ul){var $l=document.createElement("div");$l.setAttribute("oninput","return;"),Ul=typeof $l.oninput=="function"}ns=Ul}else ns=!1;zr=ns&&(!document.documentMode||9<document.documentMode)}function Ca(){ka&&(ka.detachEvent("onpropertychange",Hl),qn=ka=null)}function Hl(o){if(o.propertyName==="value"&&ui(qn)){var c=[];Fl(c,qn,o,fa(o)),El(Jm,c)}}function Zl(o,c,h){o==="focusin"?(Ca(),ka=c,qn=h,ka.attachEvent("onpropertychange",Hl)):o==="focusout"&&Ca()}function rs(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ui(qn)}function Wl(o,c){if(o==="click")return ui(c)}function Ou(o,c){if(o==="input"||o==="change")return ui(c)}function zf(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Sr=typeof Object.is=="function"?Object.is:zf;function Ai(o,c){if(Sr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),x=Object.keys(c);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var P=h[x];if(!d.call(c,P)||!Sr(o[P],c[P]))return!1}return!0}function Df(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Mu(o,c){var h=Df(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=c&&x>=c)return{node:h,offset:c-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Df(h)}}function Bf(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Bf(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function zu(){for(var o=window,c=at();c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=at(o.document)}return c}function Du(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function Dr(o){var c=zu(),h=o.focusedElem,x=o.selectionRange;if(c!==h&&h&&h.ownerDocument&&Bf(h.ownerDocument.documentElement,h)){if(x!==null&&Du(h)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(o,h.value.length);else if(o=(c=h.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var P=h.textContent.length,I=Math.min(x.start,P);x=x.end===void 0?I:Math.min(x.end,P),!o.extend&&I>x&&(P=x,x=I,I=P),P=Mu(h,I);var V=Mu(h,x);P&&V&&(o.rangeCount!==1||o.anchorNode!==P.node||o.anchorOffset!==P.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(c=c.createRange(),c.setStart(P.node,P.offset),o.removeAllRanges(),I>x?(o.addRange(c),o.extend(V.node,V.offset)):(c.setEnd(V.node,V.offset),o.addRange(c)))}}for(c=[],o=h;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)o=c[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Vl=u&&"documentMode"in document&&11>=document.documentMode,is=null,os=null,Na=null,ql=!1;function Ff(o,c,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ql||is==null||is!==at(x)||(x=is,"selectionStart"in x&&Du(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Na&&Ai(Na,x)||(Na=x,x=w(os,"onSelect"),0<x.length&&(c=new Cu("onSelect","select",null,c,h),o.push({event:c,listeners:x}),c.target=is)))}function Ri(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var ss={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionend:Ri("Transition","TransitionEnd")},Ii={},Bu={};u&&(Bu=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Pa(o){if(Ii[o])return Ii[o];if(!ss[o])return o;var c=ss[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in Bu)return Ii[o]=c[h];return o}var Uf=Pa("animationend"),Br=Pa("animationiteration"),Fu=Pa("animationstart"),Uu=Pa("transitionend"),as=new Map,$f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(o,c){as.set(o,c),s(c,[o])}for(var uo=0;uo<$f.length;uo++){var Kl=$f[uo],Hf=Kl.toLowerCase(),Xm=Kl[0].toUpperCase()+Kl.slice(1);kr(Hf,"on"+Xm)}kr(Uf,"onAnimationEnd"),kr(Br,"onAnimationIteration"),kr(Fu,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(Uu,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function $u(o,c,h){var x=o.type||"unknown-event";o.currentTarget=h,yu(x,c,void 0,o),o.currentTarget=null}function Hu(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],P=x.event;x=x.listeners;e:{var I=void 0;if(c)for(var V=x.length-1;0<=V;V--){var ae=x[V],de=ae.instance,Se=ae.currentTarget;if(ae=ae.listener,de!==I&&P.isPropagationStopped())break e;$u(P,ae,Se),I=de}else for(V=0;V<x.length;V++){if(ae=x[V],de=ae.instance,Se=ae.currentTarget,ae=ae.listener,de!==I&&P.isPropagationStopped())break e;$u(P,ae,Se),I=de}}}if(ma)throw o=Sl,ma=!1,Sl=null,o}function Ft(o,c){var h=c[fs];h===void 0&&(h=c[fs]=new Set);var x=o+"__bubble";h.has(x)||(Wf(c,o,2,!1),h.add(x))}function Zu(o,c,h){var x=0;c&&(x|=4),Wf(h,o,x,c)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function cs(o){if(!o[Ta]){o[Ta]=!0,r.forEach(function(h){h!=="selectionchange"&&(Zf.has(h)||Zu(h,!1,o),Zu(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Ta]||(c[Ta]=!0,Zu("selectionchange",!1,c))}}function Wf(o,c,h,x){switch(St(c)){case 1:var P=Fm;break;case 4:P=kf;break;default:P=Ea}h=P.bind(null,c,h,o),P=void 0,!gu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(P=!0),x?P!==void 0?o.addEventListener(c,h,{capture:!0,passive:P}):o.addEventListener(c,h,!0):P!==void 0?o.addEventListener(c,h,{passive:P}):o.addEventListener(c,h,!1)}function a(o,c,h,x,P){var I=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var V=x.tag;if(V===3||V===4){var ae=x.stateNode.containerInfo;if(ae===P||ae.nodeType===8&&ae.parentNode===P)break;if(V===4)for(V=x.return;V!==null;){var de=V.tag;if((de===3||de===4)&&(de=V.stateNode.containerInfo,de===P||de.nodeType===8&&de.parentNode===P))return;V=V.return}for(;ae!==null;){if(V=ho(ae),V===null)return;if(de=V.tag,de===5||de===6){x=I=V;continue e}ae=ae.parentNode}}x=x.return}El(function(){var Se=I,ze=fa(h),Fe=[];e:{var Me=as.get(o);if(Me!==void 0){var Ye=Cu,Xe=o;switch(o){case"keypress":if(Ml(h)===0)break e;case"keydown":case"keyup":Ye=Af;break;case"focusin":Xe="focus",Ye=zl;break;case"focusout":Xe="blur",Ye=zl;break;case"beforeblur":case"afterblur":Ye=zl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=ju;break;case Uf:case Br:case Fu:Ye=Hm;break;case Uu:Ye=Km;break;case"scroll":Ye=Um;break;case"wheel":Ye=Gm;break;case"copy":case"cut":case"paste":Ye=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=If}var et=(c&4)!==0,dn=!et&&o==="scroll",ye=et?Me!==null?Me+"Capture":null:Me;et=[];for(var he=Se,we;he!==null;){we=he;var $e=we.stateNode;if(we.tag===5&&$e!==null&&(we=$e,ye!==null&&($e=ha(he,ye),$e!=null&&et.push(f(he,$e,we)))),dn)break;he=he.return}0<et.length&&(Me=new Ye(Me,Xe,null,h,ze),Fe.push({event:Me,listeners:et}))}}if((c&7)===0){e:{if(Me=o==="mouseover"||o==="pointerover",Ye=o==="mouseout"||o==="pointerout",Me&&h!==Nt&&(Xe=h.relatedTarget||h.fromElement)&&(ho(Xe)||Xe[Ot]))break e;if((Ye||Me)&&(Me=ze.window===ze?ze:(Me=ze.ownerDocument)?Me.defaultView||Me.parentWindow:window,Ye?(Xe=h.relatedTarget||h.toElement,Ye=Se,Xe=Xe?ho(Xe):null,Xe!==null&&(dn=ki(Xe),Xe!==dn||Xe.tag!==5&&Xe.tag!==6)&&(Xe=null)):(Ye=null,Xe=Se),Ye!==Xe)){if(et=Pu,$e="onMouseLeave",ye="onMouseEnter",he="mouse",(o==="pointerout"||o==="pointerover")&&(et=If,$e="onPointerLeave",ye="onPointerEnter",he="pointer"),dn=Ye==null?Me:mo(Ye),we=Xe==null?Me:mo(Xe),Me=new et($e,he+"leave",Ye,h,ze),Me.target=dn,Me.relatedTarget=we,$e=null,ho(ze)===Se&&(et=new et(ye,he+"enter",Xe,h,ze),et.target=we,et.relatedTarget=dn,$e=et),dn=$e,Ye&&Xe)t:{for(et=Ye,ye=Xe,he=0,we=et;we;we=N(we))he++;for(we=0,$e=ye;$e;$e=N($e))we++;for(;0<he-we;)et=N(et),he--;for(;0<we-he;)ye=N(ye),we--;for(;he--;){if(et===ye||ye!==null&&et===ye.alternate)break t;et=N(et),ye=N(ye)}et=null}else et=null;Ye!==null&&M(Fe,Me,Ye,et,!1),Xe!==null&&dn!==null&&M(Fe,dn,Xe,et,!0)}}e:{if(Me=Se?mo(Se):window,Ye=Me.nodeName&&Me.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&Me.type==="file")var rt=Qm;else if(Mf(Me))if(zr)rt=Ou;else{rt=rs;var ct=Zl}else(Ye=Me.nodeName)&&Ye.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(rt=Wl);if(rt&&(rt=rt(o,Se))){Fl(Fe,rt,h,ze);break e}ct&&ct(o,Me,Se),o==="focusout"&&(ct=Me._wrapperState)&&ct.controlled&&Me.type==="number"&&pe(Me,"number",Me.value)}switch(ct=Se?mo(Se):window,o){case"focusin":(Mf(ct)||ct.contentEditable==="true")&&(is=ct,os=Se,Na=null);break;case"focusout":Na=os=is=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,Ff(Fe,h,ze);break;case"selectionchange":if(Vl)break;case"keydown":case"keyup":Ff(Fe,h,ze)}var ut;if(Pi)e:{switch(o){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else ci?ts(o,h)&&(pt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(pt="onCompositionStart");pt&&(Lf&&h.locale!=="ko"&&(ci||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&ci&&(ut=ku()):(Ci=ze,Vn="value"in Ci?Ci.value:Ci.textContent,ci=!0)),ct=w(Se,pt),0<ct.length&&(pt=new Ru(pt,o,null,h,ze),Fe.push({event:pt,listeners:ct}),ut?pt.data=ut:(ut=Lu(h),ut!==null&&(pt.data=ut)))),(ut=li?Ym(o,h):Ti(o,h))&&(Se=w(Se,"onBeforeInput"),0<Se.length&&(ze=new Ru("onBeforeInput","beforeinput",null,h,ze),Fe.push({event:ze,listeners:Se}),ze.data=ut))}Hu(Fe,c)})}function f(o,c,h){return{instance:o,listener:c,currentTarget:h}}function w(o,c){for(var h=c+"Capture",x=[];o!==null;){var P=o,I=P.stateNode;P.tag===5&&I!==null&&(P=I,I=ha(o,h),I!=null&&x.unshift(f(o,I,P)),I=ha(o,c),I!=null&&x.push(f(o,I,P))),o=o.return}return x}function N(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function M(o,c,h,x,P){for(var I=c._reactName,V=[];h!==null&&h!==x;){var ae=h,de=ae.alternate,Se=ae.stateNode;if(de!==null&&de===x)break;ae.tag===5&&Se!==null&&(ae=Se,P?(de=ha(h,I),de!=null&&V.unshift(f(h,de,ae))):P||(de=ha(h,I),de!=null&&V.push(f(h,de,ae)))),h=h.return}V.length!==0&&o.push({event:c,listeners:V})}var Y=/\r\n?/g,ce=/\u0000|\uFFFD/g;function ge(o){return(typeof o=="string"?o:""+o).replace(Y,`
`).replace(ce,"")}function Ee(o,c,h){if(c=ge(c),ge(o)!==c&&h)throw Error(n(425))}function Le(){}var Ve=null,lt=null;function wt(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var yn=typeof setTimeout=="function"?setTimeout:void 0,hn=typeof clearTimeout=="function"?clearTimeout:void 0,Kn=typeof Promise=="function"?Promise:void 0,Mn=typeof queueMicrotask=="function"?queueMicrotask:typeof Kn<"u"?function(o){return Kn.resolve(null).then(o).catch(us)}:yn;function us(o){setTimeout(function(){throw o})}function Wu(o,c){var h=c,x=0;do{var P=h.nextSibling;if(o.removeChild(h),P&&P.nodeType===8)if(h=P.data,h==="/$"){if(x===0){o.removeChild(P),xr(c);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=P}while(h);xr(c)}function ji(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function Vf(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}var fo=Math.random().toString(36).slice(2),Fr="__reactFiber$"+fo,ds="__reactProps$"+fo,Ot="__reactContainer$"+fo,fs="__reactEvents$"+fo,eg="__reactListeners$"+fo,tg="__reactHandles$"+fo;function ho(o){var c=o[Fr];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Ot]||h[Fr]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=Vf(o);o!==null;){if(h=o[Fr])return h;o=Vf(o)}return c}o=h,h=o.parentNode}return null}function po(o){return o=o[Fr]||o[Ot],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function mo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Gl(o){return o[ds]||null}var ng=[],Yl=-1;function hs(o){return{current:o}}function Vt(o){0>Yl||(o.current=ng[Yl],ng[Yl]=null,Yl--)}function Ht(o,c){Yl++,ng[Yl]=o.current,o.current=c}var ps={},zn=hs(ps),or=hs(!1),Aa=ps;function Jl(o,c){var h=o.type.contextTypes;if(!h)return ps;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var P={},I;for(I in h)P[I]=c[I];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=P),P}function sr(o){return o=o.childContextTypes,o!=null}function qf(){Vt(or),Vt(zn)}function z_(o,c,h){if(zn.current!==ps)throw Error(n(168));Ht(zn,c),Ht(or,h)}function D_(o,c,h){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return h;x=x.getChildContext();for(var P in x)if(!(P in c))throw Error(n(108,Pe(o)||"Unknown",P));return le({},h,x)}function Kf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ps,Aa=zn.current,Ht(zn,o),Ht(or,or.current),!0}function B_(o,c,h){var x=o.stateNode;if(!x)throw Error(n(169));h?(o=D_(o,c,Aa),x.__reactInternalMemoizedMergedChildContext=o,Vt(or),Vt(zn),Ht(zn,o)):Vt(or),Ht(or,h)}var go=null,Gf=!1,rg=!1;function F_(o){go===null?go=[o]:go.push(o)}function SI(o){Gf=!0,F_(o)}function ms(){if(!rg&&go!==null){rg=!0;var o=0,c=Pt;try{var h=go;for(Pt=1;o<h.length;o++){var x=h[o];do x=x(!0);while(x!==null)}go=null,Gf=!1}catch(P){throw go!==null&&(go=go.slice(o+1)),bf(_u,ms),P}finally{Pt=c,rg=!1}}return null}var Ql=[],Xl=0,Yf=null,Jf=0,Ur=[],$r=0,Ra=null,yo=1,vo="";function Ia(o,c){Ql[Xl++]=Jf,Ql[Xl++]=Yf,Yf=o,Jf=c}function U_(o,c,h){Ur[$r++]=yo,Ur[$r++]=vo,Ur[$r++]=Ra,Ra=o;var x=yo;o=vo;var P=32-yt(x)-1;x&=~(1<<P),h+=1;var I=32-yt(c)+P;if(30<I){var V=P-P%5;I=(x&(1<<V)-1).toString(32),x>>=V,P-=V,yo=1<<32-yt(c)+P|h<<P|x,vo=I+o}else yo=1<<I|h<<P|x,vo=o}function ig(o){o.return!==null&&(Ia(o,1),U_(o,1,0))}function og(o){for(;o===Yf;)Yf=Ql[--Xl],Ql[Xl]=null,Jf=Ql[--Xl],Ql[Xl]=null;for(;o===Ra;)Ra=Ur[--$r],Ur[$r]=null,vo=Ur[--$r],Ur[$r]=null,yo=Ur[--$r],Ur[$r]=null}var Cr=null,Nr=null,Gt=!1,di=null;function $_(o,c){var h=Vr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=o,c=o.deletions,c===null?(o.deletions=[h],o.flags|=16):c.push(h)}function H_(o,c){switch(o.tag){case 5:var h=o.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Cr=o,Nr=ji(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Cr=o,Nr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ra!==null?{id:yo,overflow:vo}:null,o.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Vr(18,null,null,0),h.stateNode=c,h.return=o,o.child=h,Cr=o,Nr=null,!0):!1;default:return!1}}function sg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ag(o){if(Gt){var c=Nr;if(c){var h=c;if(!H_(o,c)){if(sg(o))throw Error(n(418));c=ji(h.nextSibling);var x=Cr;c&&H_(o,c)?$_(x,h):(o.flags=o.flags&-4097|2,Gt=!1,Cr=o)}}else{if(sg(o))throw Error(n(418));o.flags=o.flags&-4097|2,Gt=!1,Cr=o}}}function Z_(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Cr=o}function Qf(o){if(o!==Cr)return!1;if(!Gt)return Z_(o),Gt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!wt(o.type,o.memoizedProps)),c&&(c=Nr)){if(sg(o))throw W_(),Error(n(418));for(;c;)$_(o,c),c=ji(c.nextSibling)}if(Z_(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(c===0){Nr=ji(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}o=o.nextSibling}Nr=null}}else Nr=Cr?ji(o.stateNode.nextSibling):null;return!0}function W_(){for(var o=Nr;o;)o=ji(o.nextSibling)}function ec(){Nr=Cr=null,Gt=!1}function lg(o){di===null?di=[o]:di.push(o)}var kI=z.ReactCurrentBatchConfig;function Vu(o,c,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var x=h.stateNode}if(!x)throw Error(n(147,o));var P=x,I=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===I?c.ref:(c=function(V){var ae=P.refs;V===null?delete ae[I]:ae[I]=V},c._stringRef=I,c)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function Xf(o,c){throw o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function V_(o){var c=o._init;return c(o._payload)}function q_(o){function c(ye,he){if(o){var we=ye.deletions;we===null?(ye.deletions=[he],ye.flags|=16):we.push(he)}}function h(ye,he){if(!o)return null;for(;he!==null;)c(ye,he),he=he.sibling;return null}function x(ye,he){for(ye=new Map;he!==null;)he.key!==null?ye.set(he.key,he):ye.set(he.index,he),he=he.sibling;return ye}function P(ye,he){return ye=Es(ye,he),ye.index=0,ye.sibling=null,ye}function I(ye,he,we){return ye.index=we,o?(we=ye.alternate,we!==null?(we=we.index,we<he?(ye.flags|=2,he):we):(ye.flags|=2,he)):(ye.flags|=1048576,he)}function V(ye){return o&&ye.alternate===null&&(ye.flags|=2),ye}function ae(ye,he,we,$e){return he===null||he.tag!==6?(he=Xg(we,ye.mode,$e),he.return=ye,he):(he=P(he,we),he.return=ye,he)}function de(ye,he,we,$e){var rt=we.type;return rt===Z?ze(ye,he,we.props.children,$e,we.key):he!==null&&(he.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===se&&V_(rt)===he.type)?($e=P(he,we.props),$e.ref=Vu(ye,he,we),$e.return=ye,$e):($e=Eh(we.type,we.key,we.props,null,ye.mode,$e),$e.ref=Vu(ye,he,we),$e.return=ye,$e)}function Se(ye,he,we,$e){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=ey(we,ye.mode,$e),he.return=ye,he):(he=P(he,we.children||[]),he.return=ye,he)}function ze(ye,he,we,$e,rt){return he===null||he.tag!==7?(he=Fa(we,ye.mode,$e,rt),he.return=ye,he):(he=P(he,we),he.return=ye,he)}function Fe(ye,he,we){if(typeof he=="string"&&he!==""||typeof he=="number")return he=Xg(""+he,ye.mode,we),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case D:return we=Eh(he.type,he.key,he.props,null,ye.mode,we),we.ref=Vu(ye,null,he),we.return=ye,we;case $:return he=ey(he,ye.mode,we),he.return=ye,he;case se:var $e=he._init;return Fe(ye,$e(he._payload),we)}if(Re(he)||ee(he))return he=Fa(he,ye.mode,we,null),he.return=ye,he;Xf(ye,he)}return null}function Me(ye,he,we,$e){var rt=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return rt!==null?null:ae(ye,he,""+we,$e);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case D:return we.key===rt?de(ye,he,we,$e):null;case $:return we.key===rt?Se(ye,he,we,$e):null;case se:return rt=we._init,Me(ye,he,rt(we._payload),$e)}if(Re(we)||ee(we))return rt!==null?null:ze(ye,he,we,$e,null);Xf(ye,we)}return null}function Ye(ye,he,we,$e,rt){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ye=ye.get(we)||null,ae(he,ye,""+$e,rt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:return ye=ye.get($e.key===null?we:$e.key)||null,de(he,ye,$e,rt);case $:return ye=ye.get($e.key===null?we:$e.key)||null,Se(he,ye,$e,rt);case se:var ct=$e._init;return Ye(ye,he,we,ct($e._payload),rt)}if(Re($e)||ee($e))return ye=ye.get(we)||null,ze(he,ye,$e,rt,null);Xf(he,$e)}return null}function Xe(ye,he,we,$e){for(var rt=null,ct=null,ut=he,pt=he=0,En=null;ut!==null&&pt<we.length;pt++){ut.index>pt?(En=ut,ut=null):En=ut.sibling;var Rt=Me(ye,ut,we[pt],$e);if(Rt===null){ut===null&&(ut=En);break}o&&ut&&Rt.alternate===null&&c(ye,ut),he=I(Rt,he,pt),ct===null?rt=Rt:ct.sibling=Rt,ct=Rt,ut=En}if(pt===we.length)return h(ye,ut),Gt&&Ia(ye,pt),rt;if(ut===null){for(;pt<we.length;pt++)ut=Fe(ye,we[pt],$e),ut!==null&&(he=I(ut,he,pt),ct===null?rt=ut:ct.sibling=ut,ct=ut);return Gt&&Ia(ye,pt),rt}for(ut=x(ye,ut);pt<we.length;pt++)En=Ye(ut,ye,pt,we[pt],$e),En!==null&&(o&&En.alternate!==null&&ut.delete(En.key===null?pt:En.key),he=I(En,he,pt),ct===null?rt=En:ct.sibling=En,ct=En);return o&&ut.forEach(function(Ss){return c(ye,Ss)}),Gt&&Ia(ye,pt),rt}function et(ye,he,we,$e){var rt=ee(we);if(typeof rt!="function")throw Error(n(150));if(we=rt.call(we),we==null)throw Error(n(151));for(var ct=rt=null,ut=he,pt=he=0,En=null,Rt=we.next();ut!==null&&!Rt.done;pt++,Rt=we.next()){ut.index>pt?(En=ut,ut=null):En=ut.sibling;var Ss=Me(ye,ut,Rt.value,$e);if(Ss===null){ut===null&&(ut=En);break}o&&ut&&Ss.alternate===null&&c(ye,ut),he=I(Ss,he,pt),ct===null?rt=Ss:ct.sibling=Ss,ct=Ss,ut=En}if(Rt.done)return h(ye,ut),Gt&&Ia(ye,pt),rt;if(ut===null){for(;!Rt.done;pt++,Rt=we.next())Rt=Fe(ye,Rt.value,$e),Rt!==null&&(he=I(Rt,he,pt),ct===null?rt=Rt:ct.sibling=Rt,ct=Rt);return Gt&&Ia(ye,pt),rt}for(ut=x(ye,ut);!Rt.done;pt++,Rt=we.next())Rt=Ye(ut,ye,pt,Rt.value,$e),Rt!==null&&(o&&Rt.alternate!==null&&ut.delete(Rt.key===null?pt:Rt.key),he=I(Rt,he,pt),ct===null?rt=Rt:ct.sibling=Rt,ct=Rt);return o&&ut.forEach(function(i3){return c(ye,i3)}),Gt&&Ia(ye,pt),rt}function dn(ye,he,we,$e){if(typeof we=="object"&&we!==null&&we.type===Z&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case D:e:{for(var rt=we.key,ct=he;ct!==null;){if(ct.key===rt){if(rt=we.type,rt===Z){if(ct.tag===7){h(ye,ct.sibling),he=P(ct,we.props.children),he.return=ye,ye=he;break e}}else if(ct.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===se&&V_(rt)===ct.type){h(ye,ct.sibling),he=P(ct,we.props),he.ref=Vu(ye,ct,we),he.return=ye,ye=he;break e}h(ye,ct);break}else c(ye,ct);ct=ct.sibling}we.type===Z?(he=Fa(we.props.children,ye.mode,$e,we.key),he.return=ye,ye=he):($e=Eh(we.type,we.key,we.props,null,ye.mode,$e),$e.ref=Vu(ye,he,we),$e.return=ye,ye=$e)}return V(ye);case $:e:{for(ct=we.key;he!==null;){if(he.key===ct)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){h(ye,he.sibling),he=P(he,we.children||[]),he.return=ye,ye=he;break e}else{h(ye,he);break}else c(ye,he);he=he.sibling}he=ey(we,ye.mode,$e),he.return=ye,ye=he}return V(ye);case se:return ct=we._init,dn(ye,he,ct(we._payload),$e)}if(Re(we))return Xe(ye,he,we,$e);if(ee(we))return et(ye,he,we,$e);Xf(ye,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,he!==null&&he.tag===6?(h(ye,he.sibling),he=P(he,we),he.return=ye,ye=he):(h(ye,he),he=Xg(we,ye.mode,$e),he.return=ye,ye=he),V(ye)):h(ye,he)}return dn}var tc=q_(!0),K_=q_(!1),eh=hs(null),th=null,nc=null,cg=null;function ug(){cg=nc=th=null}function dg(o){var c=eh.current;Vt(eh),o._currentValue=c}function fg(o,c,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===h)break;o=o.return}}function rc(o,c){th=o,cg=nc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(ar=!0),o.firstContext=null)}function Hr(o){var c=o._currentValue;if(cg!==o)if(o={context:o,memoizedValue:c,next:null},nc===null){if(th===null)throw Error(n(308));nc=o,th.dependencies={lanes:0,firstContext:o}}else nc=nc.next=o;return c}var ja=null;function hg(o){ja===null?ja=[o]:ja.push(o)}function G_(o,c,h,x){var P=c.interleaved;return P===null?(h.next=h,hg(c)):(h.next=P.next,P.next=h),c.interleaved=h,wo(o,x)}function wo(o,c){o.lanes|=c;var h=o.alternate;for(h!==null&&(h.lanes|=c),h=o,o=o.return;o!==null;)o.childLanes|=c,h=o.alternate,h!==null&&(h.childLanes|=c),h=o,o=o.return;return h.tag===3?h.stateNode:null}var gs=!1;function pg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y_(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function _o(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function ys(o,c,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(At&2)!==0){var P=x.pending;return P===null?c.next=c:(c.next=P.next,P.next=c),x.pending=c,wo(o,h)}return P=x.interleaved,P===null?(c.next=c,hg(x)):(c.next=P.next,P.next=c),x.interleaved=c,wo(o,h)}function nh(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,si(o,h)}}function J_(o,c){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var P=null,I=null;if(h=h.firstBaseUpdate,h!==null){do{var V={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};I===null?P=I=V:I=I.next=V,h=h.next}while(h!==null);I===null?P=I=c:I=I.next=c}else P=I=c;h={baseState:x.baseState,firstBaseUpdate:P,lastBaseUpdate:I,shared:x.shared,effects:x.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}function rh(o,c,h,x){var P=o.updateQueue;gs=!1;var I=P.firstBaseUpdate,V=P.lastBaseUpdate,ae=P.shared.pending;if(ae!==null){P.shared.pending=null;var de=ae,Se=de.next;de.next=null,V===null?I=Se:V.next=Se,V=de;var ze=o.alternate;ze!==null&&(ze=ze.updateQueue,ae=ze.lastBaseUpdate,ae!==V&&(ae===null?ze.firstBaseUpdate=Se:ae.next=Se,ze.lastBaseUpdate=de))}if(I!==null){var Fe=P.baseState;V=0,ze=Se=de=null,ae=I;do{var Me=ae.lane,Ye=ae.eventTime;if((x&Me)===Me){ze!==null&&(ze=ze.next={eventTime:Ye,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Xe=o,et=ae;switch(Me=c,Ye=h,et.tag){case 1:if(Xe=et.payload,typeof Xe=="function"){Fe=Xe.call(Ye,Fe,Me);break e}Fe=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=et.payload,Me=typeof Xe=="function"?Xe.call(Ye,Fe,Me):Xe,Me==null)break e;Fe=le({},Fe,Me);break e;case 2:gs=!0}}ae.callback!==null&&ae.lane!==0&&(o.flags|=64,Me=P.effects,Me===null?P.effects=[ae]:Me.push(ae))}else Ye={eventTime:Ye,lane:Me,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},ze===null?(Se=ze=Ye,de=Fe):ze=ze.next=Ye,V|=Me;if(ae=ae.next,ae===null){if(ae=P.shared.pending,ae===null)break;Me=ae,ae=Me.next,Me.next=null,P.lastBaseUpdate=Me,P.shared.pending=null}}while(!0);if(ze===null&&(de=Fe),P.baseState=de,P.firstBaseUpdate=Se,P.lastBaseUpdate=ze,c=P.shared.interleaved,c!==null){P=c;do V|=P.lane,P=P.next;while(P!==c)}else I===null&&(P.shared.lanes=0);Ma|=V,o.lanes=V,o.memoizedState=Fe}}function Q_(o,c,h){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],P=x.callback;if(P!==null){if(x.callback=null,x=h,typeof P!="function")throw Error(n(191,P));P.call(x)}}}var qu={},Li=hs(qu),Ku=hs(qu),Gu=hs(qu);function La(o){if(o===qu)throw Error(n(174));return o}function mg(o,c){switch(Ht(Gu,c),Ht(Ku,o),Ht(Li,qu),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:G(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=G(c,o)}Vt(Li),Ht(Li,c)}function ic(){Vt(Li),Vt(Ku),Vt(Gu)}function X_(o){La(Gu.current);var c=La(Li.current),h=G(c,o.type);c!==h&&(Ht(Ku,o),Ht(Li,h))}function gg(o){Ku.current===o&&(Vt(Li),Vt(Ku))}var tn=hs(0);function ih(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var yg=[];function vg(){for(var o=0;o<yg.length;o++)yg[o]._workInProgressVersionPrimary=null;yg.length=0}var oh=z.ReactCurrentDispatcher,wg=z.ReactCurrentBatchConfig,Oa=0,nn=null,vn=null,xn=null,sh=!1,Yu=!1,Ju=0,CI=0;function Dn(){throw Error(n(321))}function _g(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Sr(o[h],c[h]))return!1;return!0}function xg(o,c,h,x,P,I){if(Oa=I,nn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,oh.current=o===null||o.memoizedState===null?AI:RI,o=h(x,P),Yu){I=0;do{if(Yu=!1,Ju=0,25<=I)throw Error(n(301));I+=1,xn=vn=null,c.updateQueue=null,oh.current=II,o=h(x,P)}while(Yu)}if(oh.current=ch,c=vn!==null&&vn.next!==null,Oa=0,xn=vn=nn=null,sh=!1,c)throw Error(n(300));return o}function bg(){var o=Ju!==0;return Ju=0,o}function Oi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?nn.memoizedState=xn=o:xn=xn.next=o,xn}function Zr(){if(vn===null){var o=nn.alternate;o=o!==null?o.memoizedState:null}else o=vn.next;var c=xn===null?nn.memoizedState:xn.next;if(c!==null)xn=c,vn=o;else{if(o===null)throw Error(n(310));vn=o,o={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},xn===null?nn.memoizedState=xn=o:xn=xn.next=o}return xn}function Qu(o,c){return typeof c=="function"?c(o):c}function Eg(o){var c=Zr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=vn,P=x.baseQueue,I=h.pending;if(I!==null){if(P!==null){var V=P.next;P.next=I.next,I.next=V}x.baseQueue=P=I,h.pending=null}if(P!==null){I=P.next,x=x.baseState;var ae=V=null,de=null,Se=I;do{var ze=Se.lane;if((Oa&ze)===ze)de!==null&&(de=de.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),x=Se.hasEagerState?Se.eagerState:o(x,Se.action);else{var Fe={lane:ze,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};de===null?(ae=de=Fe,V=x):de=de.next=Fe,nn.lanes|=ze,Ma|=ze}Se=Se.next}while(Se!==null&&Se!==I);de===null?V=x:de.next=ae,Sr(x,c.memoizedState)||(ar=!0),c.memoizedState=x,c.baseState=V,c.baseQueue=de,h.lastRenderedState=x}if(o=h.interleaved,o!==null){P=o;do I=P.lane,nn.lanes|=I,Ma|=I,P=P.next;while(P!==o)}else P===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Sg(o){var c=Zr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=h.dispatch,P=h.pending,I=c.memoizedState;if(P!==null){h.pending=null;var V=P=P.next;do I=o(I,V.action),V=V.next;while(V!==P);Sr(I,c.memoizedState)||(ar=!0),c.memoizedState=I,c.baseQueue===null&&(c.baseState=I),h.lastRenderedState=I}return[I,x]}function ex(){}function tx(o,c){var h=nn,x=Zr(),P=c(),I=!Sr(x.memoizedState,P);if(I&&(x.memoizedState=P,ar=!0),x=x.queue,kg(ix.bind(null,h,x,o),[o]),x.getSnapshot!==c||I||xn!==null&&xn.memoizedState.tag&1){if(h.flags|=2048,Xu(9,rx.bind(null,h,x,P,c),void 0,null),bn===null)throw Error(n(349));(Oa&30)!==0||nx(h,c,P)}return P}function nx(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=nn.updateQueue,c===null?(c={lastEffect:null,stores:null},nn.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function rx(o,c,h,x){c.value=h,c.getSnapshot=x,ox(c)&&sx(o)}function ix(o,c,h){return h(function(){ox(c)&&sx(o)})}function ox(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Sr(o,h)}catch{return!0}}function sx(o){var c=wo(o,1);c!==null&&mi(c,o,1,-1)}function ax(o){var c=Oi();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:o},c.queue=o,o=o.dispatch=TI.bind(null,nn,o),[c.memoizedState,o]}function Xu(o,c,h,x){return o={tag:o,create:c,destroy:h,deps:x,next:null},c=nn.updateQueue,c===null?(c={lastEffect:null,stores:null},nn.updateQueue=c,c.lastEffect=o.next=o):(h=c.lastEffect,h===null?c.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,c.lastEffect=o)),o}function lx(){return Zr().memoizedState}function ah(o,c,h,x){var P=Oi();nn.flags|=o,P.memoizedState=Xu(1|c,h,void 0,x===void 0?null:x)}function lh(o,c,h,x){var P=Zr();x=x===void 0?null:x;var I=void 0;if(vn!==null){var V=vn.memoizedState;if(I=V.destroy,x!==null&&_g(x,V.deps)){P.memoizedState=Xu(c,h,I,x);return}}nn.flags|=o,P.memoizedState=Xu(1|c,h,I,x)}function cx(o,c){return ah(8390656,8,o,c)}function kg(o,c){return lh(2048,8,o,c)}function ux(o,c){return lh(4,2,o,c)}function dx(o,c){return lh(4,4,o,c)}function fx(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function hx(o,c,h){return h=h!=null?h.concat([o]):null,lh(4,4,fx.bind(null,c,o),h)}function Cg(){}function px(o,c){var h=Zr();c=c===void 0?null:c;var x=h.memoizedState;return x!==null&&c!==null&&_g(c,x[1])?x[0]:(h.memoizedState=[o,c],o)}function mx(o,c){var h=Zr();c=c===void 0?null:c;var x=h.memoizedState;return x!==null&&c!==null&&_g(c,x[1])?x[0]:(o=o(),h.memoizedState=[o,c],o)}function gx(o,c,h){return(Oa&21)===0?(o.baseState&&(o.baseState=!1,ar=!0),o.memoizedState=h):(Sr(h,c)||(h=Sf(),nn.lanes|=h,Ma|=h,o.baseState=!0),c)}function NI(o,c){var h=Pt;Pt=h!==0&&4>h?h:4,o(!0);var x=wg.transition;wg.transition={};try{o(!1),c()}finally{Pt=h,wg.transition=x}}function yx(){return Zr().memoizedState}function PI(o,c,h){var x=xs(o);if(h={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null},vx(o))wx(c,h);else if(h=G_(o,c,h,x),h!==null){var P=Yn();mi(h,o,x,P),_x(h,c,x)}}function TI(o,c,h){var x=xs(o),P={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null};if(vx(o))wx(c,P);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=c.lastRenderedReducer,I!==null))try{var V=c.lastRenderedState,ae=I(V,h);if(P.hasEagerState=!0,P.eagerState=ae,Sr(ae,V)){var de=c.interleaved;de===null?(P.next=P,hg(c)):(P.next=de.next,de.next=P),c.interleaved=P;return}}catch{}finally{}h=G_(o,c,P,x),h!==null&&(P=Yn(),mi(h,o,x,P),_x(h,c,x))}}function vx(o){var c=o.alternate;return o===nn||c!==null&&c===nn}function wx(o,c){Yu=sh=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function _x(o,c,h){if((h&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,si(o,h)}}var ch={readContext:Hr,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},AI={readContext:Hr,useCallback:function(o,c){return Oi().memoizedState=[o,c===void 0?null:c],o},useContext:Hr,useEffect:cx,useImperativeHandle:function(o,c,h){return h=h!=null?h.concat([o]):null,ah(4194308,4,fx.bind(null,c,o),h)},useLayoutEffect:function(o,c){return ah(4194308,4,o,c)},useInsertionEffect:function(o,c){return ah(4,2,o,c)},useMemo:function(o,c){var h=Oi();return c=c===void 0?null:c,o=o(),h.memoizedState=[o,c],o},useReducer:function(o,c,h){var x=Oi();return c=h!==void 0?h(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=PI.bind(null,nn,o),[x.memoizedState,o]},useRef:function(o){var c=Oi();return o={current:o},c.memoizedState=o},useState:ax,useDebugValue:Cg,useDeferredValue:function(o){return Oi().memoizedState=o},useTransition:function(){var o=ax(!1),c=o[0];return o=NI.bind(null,o[1]),Oi().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,h){var x=nn,P=Oi();if(Gt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),bn===null)throw Error(n(349));(Oa&30)!==0||nx(x,c,h)}P.memoizedState=h;var I={value:h,getSnapshot:c};return P.queue=I,cx(ix.bind(null,x,I,o),[o]),x.flags|=2048,Xu(9,rx.bind(null,x,I,h,c),void 0,null),h},useId:function(){var o=Oi(),c=bn.identifierPrefix;if(Gt){var h=vo,x=yo;h=(x&~(1<<32-yt(x)-1)).toString(32)+h,c=":"+c+"R"+h,h=Ju++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=CI++,c=":"+c+"r"+h.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},RI={readContext:Hr,useCallback:px,useContext:Hr,useEffect:kg,useImperativeHandle:hx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:mx,useReducer:Eg,useRef:lx,useState:function(){return Eg(Qu)},useDebugValue:Cg,useDeferredValue:function(o){var c=Zr();return gx(c,vn.memoizedState,o)},useTransition:function(){var o=Eg(Qu)[0],c=Zr().memoizedState;return[o,c]},useMutableSource:ex,useSyncExternalStore:tx,useId:yx,unstable_isNewReconciler:!1},II={readContext:Hr,useCallback:px,useContext:Hr,useEffect:kg,useImperativeHandle:hx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:mx,useReducer:Sg,useRef:lx,useState:function(){return Sg(Qu)},useDebugValue:Cg,useDeferredValue:function(o){var c=Zr();return vn===null?c.memoizedState=o:gx(c,vn.memoizedState,o)},useTransition:function(){var o=Sg(Qu)[0],c=Zr().memoizedState;return[o,c]},useMutableSource:ex,useSyncExternalStore:tx,useId:yx,unstable_isNewReconciler:!1};function fi(o,c){if(o&&o.defaultProps){c=le({},c),o=o.defaultProps;for(var h in o)c[h]===void 0&&(c[h]=o[h]);return c}return c}function Ng(o,c,h,x){c=o.memoizedState,h=h(x,c),h=h==null?c:le({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var uh={isMounted:function(o){return(o=o._reactInternals)?ki(o)===o:!1},enqueueSetState:function(o,c,h){o=o._reactInternals;var x=Yn(),P=xs(o),I=_o(x,P);I.payload=c,h!=null&&(I.callback=h),c=ys(o,I,P),c!==null&&(mi(c,o,P,x),nh(c,o,P))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var x=Yn(),P=xs(o),I=_o(x,P);I.tag=1,I.payload=c,h!=null&&(I.callback=h),c=ys(o,I,P),c!==null&&(mi(c,o,P,x),nh(c,o,P))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Yn(),x=xs(o),P=_o(h,x);P.tag=2,c!=null&&(P.callback=c),c=ys(o,P,x),c!==null&&(mi(c,o,x,h),nh(c,o,x))}};function xx(o,c,h,x,P,I,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,I,V):c.prototype&&c.prototype.isPureReactComponent?!Ai(h,x)||!Ai(P,I):!0}function bx(o,c,h){var x=!1,P=ps,I=c.contextType;return typeof I=="object"&&I!==null?I=Hr(I):(P=sr(c)?Aa:zn.current,x=c.contextTypes,I=(x=x!=null)?Jl(o,P):ps),c=new c(h,I),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=uh,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=I),c}function Ex(o,c,h,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,x),c.state!==o&&uh.enqueueReplaceState(c,c.state,null)}function Pg(o,c,h,x){var P=o.stateNode;P.props=h,P.state=o.memoizedState,P.refs={},pg(o);var I=c.contextType;typeof I=="object"&&I!==null?P.context=Hr(I):(I=sr(c)?Aa:zn.current,P.context=Jl(o,I)),P.state=o.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(Ng(o,c,I,h),P.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(c=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),c!==P.state&&uh.enqueueReplaceState(P,P.state,null),rh(o,h,P,x),P.state=o.memoizedState),typeof P.componentDidMount=="function"&&(o.flags|=4194308)}function oc(o,c){try{var h="",x=c;do h+=ve(x),x=x.return;while(x);var P=h}catch(I){P=`
Error generating stack: `+I.message+`
`+I.stack}return{value:o,source:c,stack:P,digest:null}}function Tg(o,c,h){return{value:o,source:null,stack:h??null,digest:c??null}}function Ag(o,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var jI=typeof WeakMap=="function"?WeakMap:Map;function Sx(o,c,h){h=_o(-1,h),h.tag=3,h.payload={element:null};var x=c.value;return h.callback=function(){yh||(yh=!0,Wg=x),Ag(o,c)},h}function kx(o,c,h){h=_o(-1,h),h.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var P=c.value;h.payload=function(){return x(P)},h.callback=function(){Ag(o,c)}}var I=o.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(h.callback=function(){Ag(o,c),typeof x!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var V=c.stack;this.componentDidCatch(c.value,{componentStack:V!==null?V:""})}),h}function Cx(o,c,h){var x=o.pingCache;if(x===null){x=o.pingCache=new jI;var P=new Set;x.set(c,P)}else P=x.get(c),P===void 0&&(P=new Set,x.set(c,P));P.has(h)||(P.add(h),o=qI.bind(null,o,c,h),c.then(o,o))}function Nx(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function Px(o,c,h,x,P){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=_o(-1,1),c.tag=2,ys(h,c,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=P,o)}var LI=z.ReactCurrentOwner,ar=!1;function Gn(o,c,h,x){c.child=o===null?K_(c,null,h,x):tc(c,o.child,h,x)}function Tx(o,c,h,x,P){h=h.render;var I=c.ref;return rc(c,P),x=xg(o,c,h,x,I,P),h=bg(),o!==null&&!ar?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~P,xo(o,c,P)):(Gt&&h&&ig(c),c.flags|=1,Gn(o,c,x,P),c.child)}function Ax(o,c,h,x,P){if(o===null){var I=h.type;return typeof I=="function"&&!Qg(I)&&I.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=I,Rx(o,c,I,x,P)):(o=Eh(h.type,null,x,c,c.mode,P),o.ref=c.ref,o.return=c,c.child=o)}if(I=o.child,(o.lanes&P)===0){var V=I.memoizedProps;if(h=h.compare,h=h!==null?h:Ai,h(V,x)&&o.ref===c.ref)return xo(o,c,P)}return c.flags|=1,o=Es(I,x),o.ref=c.ref,o.return=c,c.child=o}function Rx(o,c,h,x,P){if(o!==null){var I=o.memoizedProps;if(Ai(I,x)&&o.ref===c.ref)if(ar=!1,c.pendingProps=x=I,(o.lanes&P)!==0)(o.flags&131072)!==0&&(ar=!0);else return c.lanes=o.lanes,xo(o,c,P)}return Rg(o,c,h,x,P)}function Ix(o,c,h){var x=c.pendingProps,P=x.children,I=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(ac,Pr),Pr|=h;else{if((h&1073741824)===0)return o=I!==null?I.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,Ht(ac,Pr),Pr|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=I!==null?I.baseLanes:h,Ht(ac,Pr),Pr|=x}else I!==null?(x=I.baseLanes|h,c.memoizedState=null):x=h,Ht(ac,Pr),Pr|=x;return Gn(o,c,P,h),c.child}function jx(o,c){var h=c.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Rg(o,c,h,x,P){var I=sr(h)?Aa:zn.current;return I=Jl(c,I),rc(c,P),h=xg(o,c,h,x,I,P),x=bg(),o!==null&&!ar?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~P,xo(o,c,P)):(Gt&&x&&ig(c),c.flags|=1,Gn(o,c,h,P),c.child)}function Lx(o,c,h,x,P){if(sr(h)){var I=!0;Kf(c)}else I=!1;if(rc(c,P),c.stateNode===null)fh(o,c),bx(c,h,x),Pg(c,h,x,P),x=!0;else if(o===null){var V=c.stateNode,ae=c.memoizedProps;V.props=ae;var de=V.context,Se=h.contextType;typeof Se=="object"&&Se!==null?Se=Hr(Se):(Se=sr(h)?Aa:zn.current,Se=Jl(c,Se));var ze=h.getDerivedStateFromProps,Fe=typeof ze=="function"||typeof V.getSnapshotBeforeUpdate=="function";Fe||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ae!==x||de!==Se)&&Ex(c,V,x,Se),gs=!1;var Me=c.memoizedState;V.state=Me,rh(c,x,V,P),de=c.memoizedState,ae!==x||Me!==de||or.current||gs?(typeof ze=="function"&&(Ng(c,h,ze,x),de=c.memoizedState),(ae=gs||xx(c,h,ae,x,Me,de,Se))?(Fe||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(c.flags|=4194308)):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=de),V.props=x,V.state=de,V.context=Se,x=ae):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{V=c.stateNode,Y_(o,c),ae=c.memoizedProps,Se=c.type===c.elementType?ae:fi(c.type,ae),V.props=Se,Fe=c.pendingProps,Me=V.context,de=h.contextType,typeof de=="object"&&de!==null?de=Hr(de):(de=sr(h)?Aa:zn.current,de=Jl(c,de));var Ye=h.getDerivedStateFromProps;(ze=typeof Ye=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ae!==Fe||Me!==de)&&Ex(c,V,x,de),gs=!1,Me=c.memoizedState,V.state=Me,rh(c,x,V,P);var Xe=c.memoizedState;ae!==Fe||Me!==Xe||or.current||gs?(typeof Ye=="function"&&(Ng(c,h,Ye,x),Xe=c.memoizedState),(Se=gs||xx(c,h,Se,x,Me,Xe,de)||!1)?(ze||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(x,Xe,de),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(x,Xe,de)),typeof V.componentDidUpdate=="function"&&(c.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof V.componentDidUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Xe),V.props=x,V.state=Xe,V.context=de,x=Se):(typeof V.componentDidUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),x=!1)}return Ig(o,c,h,x,I,P)}function Ig(o,c,h,x,P,I){jx(o,c);var V=(c.flags&128)!==0;if(!x&&!V)return P&&B_(c,h,!1),xo(o,c,I);x=c.stateNode,LI.current=c;var ae=V&&typeof h.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&V?(c.child=tc(c,o.child,null,I),c.child=tc(c,null,ae,I)):Gn(o,c,ae,I),c.memoizedState=x.state,P&&B_(c,h,!0),c.child}function Ox(o){var c=o.stateNode;c.pendingContext?z_(o,c.pendingContext,c.pendingContext!==c.context):c.context&&z_(o,c.context,!1),mg(o,c.containerInfo)}function Mx(o,c,h,x,P){return ec(),lg(P),c.flags|=256,Gn(o,c,h,x),c.child}var jg={dehydrated:null,treeContext:null,retryLane:0};function Lg(o){return{baseLanes:o,cachePool:null,transitions:null}}function zx(o,c,h){var x=c.pendingProps,P=tn.current,I=!1,V=(c.flags&128)!==0,ae;if((ae=V)||(ae=o!==null&&o.memoizedState===null?!1:(P&2)!==0),ae?(I=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(P|=1),Ht(tn,P&1),o===null)return ag(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(V=x.children,o=x.fallback,I?(x=c.mode,I=c.child,V={mode:"hidden",children:V},(x&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=V):I=Sh(V,x,0,null),o=Fa(o,x,h,null),I.return=c,o.return=c,I.sibling=o,c.child=I,c.child.memoizedState=Lg(h),c.memoizedState=jg,o):Og(c,V));if(P=o.memoizedState,P!==null&&(ae=P.dehydrated,ae!==null))return OI(o,c,V,x,ae,P,h);if(I){I=x.fallback,V=c.mode,P=o.child,ae=P.sibling;var de={mode:"hidden",children:x.children};return(V&1)===0&&c.child!==P?(x=c.child,x.childLanes=0,x.pendingProps=de,c.deletions=null):(x=Es(P,de),x.subtreeFlags=P.subtreeFlags&14680064),ae!==null?I=Es(ae,I):(I=Fa(I,V,h,null),I.flags|=2),I.return=c,x.return=c,x.sibling=I,c.child=x,x=I,I=c.child,V=o.child.memoizedState,V=V===null?Lg(h):{baseLanes:V.baseLanes|h,cachePool:null,transitions:V.transitions},I.memoizedState=V,I.childLanes=o.childLanes&~h,c.memoizedState=jg,x}return I=o.child,o=I.sibling,x=Es(I,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=h),x.return=c,x.sibling=null,o!==null&&(h=c.deletions,h===null?(c.deletions=[o],c.flags|=16):h.push(o)),c.child=x,c.memoizedState=null,x}function Og(o,c){return c=Sh({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function dh(o,c,h,x){return x!==null&&lg(x),tc(c,o.child,null,h),o=Og(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function OI(o,c,h,x,P,I,V){if(h)return c.flags&256?(c.flags&=-257,x=Tg(Error(n(422))),dh(o,c,V,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(I=x.fallback,P=c.mode,x=Sh({mode:"visible",children:x.children},P,0,null),I=Fa(I,P,V,null),I.flags|=2,x.return=c,I.return=c,x.sibling=I,c.child=x,(c.mode&1)!==0&&tc(c,o.child,null,V),c.child.memoizedState=Lg(V),c.memoizedState=jg,I);if((c.mode&1)===0)return dh(o,c,V,null);if(P.data==="$!"){if(x=P.nextSibling&&P.nextSibling.dataset,x)var ae=x.dgst;return x=ae,I=Error(n(419)),x=Tg(I,x,void 0),dh(o,c,V,x)}if(ae=(V&o.childLanes)!==0,ar||ae){if(x=bn,x!==null){switch(V&-V){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(x.suspendedLanes|V))!==0?0:P,P!==0&&P!==I.retryLane&&(I.retryLane=P,wo(o,P),mi(x,o,P,-1))}return Jg(),x=Tg(Error(n(421))),dh(o,c,V,x)}return P.data==="$?"?(c.flags|=128,c.child=o.child,c=KI.bind(null,o),P._reactRetry=c,null):(o=I.treeContext,Nr=ji(P.nextSibling),Cr=c,Gt=!0,di=null,o!==null&&(Ur[$r++]=yo,Ur[$r++]=vo,Ur[$r++]=Ra,yo=o.id,vo=o.overflow,Ra=c),c=Og(c,x.children),c.flags|=4096,c)}function Dx(o,c,h){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),fg(o.return,c,h)}function Mg(o,c,h,x,P){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:P}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=x,I.tail=h,I.tailMode=P)}function Bx(o,c,h){var x=c.pendingProps,P=x.revealOrder,I=x.tail;if(Gn(o,c,x.children,h),x=tn.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Dx(o,h,c);else if(o.tag===19)Dx(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(Ht(tn,x),(c.mode&1)===0)c.memoizedState=null;else switch(P){case"forwards":for(h=c.child,P=null;h!==null;)o=h.alternate,o!==null&&ih(o)===null&&(P=h),h=h.sibling;h=P,h===null?(P=c.child,c.child=null):(P=h.sibling,h.sibling=null),Mg(c,!1,P,h,I);break;case"backwards":for(h=null,P=c.child,c.child=null;P!==null;){if(o=P.alternate,o!==null&&ih(o)===null){c.child=P;break}o=P.sibling,P.sibling=h,h=P,P=o}Mg(c,!0,h,null,I);break;case"together":Mg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function fh(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function xo(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),Ma|=c.lanes,(h&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,h=Es(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Es(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function MI(o,c,h){switch(c.tag){case 3:Ox(c),ec();break;case 5:X_(c);break;case 1:sr(c.type)&&Kf(c);break;case 4:mg(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,P=c.memoizedProps.value;Ht(eh,x._currentValue),x._currentValue=P;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(Ht(tn,tn.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?zx(o,c,h):(Ht(tn,tn.current&1),o=xo(o,c,h),o!==null?o.sibling:null);Ht(tn,tn.current&1);break;case 19:if(x=(h&c.childLanes)!==0,(o.flags&128)!==0){if(x)return Bx(o,c,h);c.flags|=128}if(P=c.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Ht(tn,tn.current),x)break;return null;case 22:case 23:return c.lanes=0,Ix(o,c,h)}return xo(o,c,h)}var Fx,zg,Ux,$x;Fx=function(o,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},zg=function(){},Ux=function(o,c,h,x){var P=o.memoizedProps;if(P!==x){o=c.stateNode,La(Li.current);var I=null;switch(h){case"input":P=B(o,P),x=B(o,x),I=[];break;case"select":P=le({},P,{value:void 0}),x=le({},x,{value:void 0}),I=[];break;case"textarea":P=me(o,P),x=me(o,x),I=[];break;default:typeof P.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Le)}bt(h,x);var V;h=null;for(Se in P)if(!x.hasOwnProperty(Se)&&P.hasOwnProperty(Se)&&P[Se]!=null)if(Se==="style"){var ae=P[Se];for(V in ae)ae.hasOwnProperty(V)&&(h||(h={}),h[V]="")}else Se!=="dangerouslySetInnerHTML"&&Se!=="children"&&Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(i.hasOwnProperty(Se)?I||(I=[]):(I=I||[]).push(Se,null));for(Se in x){var de=x[Se];if(ae=P!=null?P[Se]:void 0,x.hasOwnProperty(Se)&&de!==ae&&(de!=null||ae!=null))if(Se==="style")if(ae){for(V in ae)!ae.hasOwnProperty(V)||de&&de.hasOwnProperty(V)||(h||(h={}),h[V]="");for(V in de)de.hasOwnProperty(V)&&ae[V]!==de[V]&&(h||(h={}),h[V]=de[V])}else h||(I||(I=[]),I.push(Se,h)),h=de;else Se==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,ae=ae?ae.__html:void 0,de!=null&&ae!==de&&(I=I||[]).push(Se,de)):Se==="children"?typeof de!="string"&&typeof de!="number"||(I=I||[]).push(Se,""+de):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&(i.hasOwnProperty(Se)?(de!=null&&Se==="onScroll"&&Ft("scroll",o),I||ae===de||(I=[])):(I=I||[]).push(Se,de))}h&&(I=I||[]).push("style",h);var Se=I;(c.updateQueue=Se)&&(c.flags|=4)}},$x=function(o,c,h,x){h!==x&&(c.flags|=4)};function ed(o,c){if(!Gt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Bn(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(c)for(var P=o.child;P!==null;)h|=P.lanes|P.childLanes,x|=P.subtreeFlags&14680064,x|=P.flags&14680064,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)h|=P.lanes|P.childLanes,x|=P.subtreeFlags,x|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=x,o.childLanes=h,c}function zI(o,c,h){var x=c.pendingProps;switch(og(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(c),null;case 1:return sr(c.type)&&qf(),Bn(c),null;case 3:return x=c.stateNode,ic(),Vt(or),Vt(zn),vg(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Qf(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,di!==null&&(Kg(di),di=null))),zg(o,c),Bn(c),null;case 5:gg(c);var P=La(Gu.current);if(h=c.type,o!==null&&c.stateNode!=null)Ux(o,c,h,x,P),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(n(166));return Bn(c),null}if(o=La(Li.current),Qf(c)){x=c.stateNode,h=c.type;var I=c.memoizedProps;switch(x[Fr]=c,x[ds]=I,o=(c.mode&1)!==0,h){case"dialog":Ft("cancel",x),Ft("close",x);break;case"iframe":case"object":case"embed":Ft("load",x);break;case"video":case"audio":for(P=0;P<ls.length;P++)Ft(ls[P],x);break;case"source":Ft("error",x);break;case"img":case"image":case"link":Ft("error",x),Ft("load",x);break;case"details":Ft("toggle",x);break;case"input":Ne(x,I),Ft("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!I.multiple},Ft("invalid",x);break;case"textarea":Be(x,I),Ft("invalid",x)}bt(h,I),P=null;for(var V in I)if(I.hasOwnProperty(V)){var ae=I[V];V==="children"?typeof ae=="string"?x.textContent!==ae&&(I.suppressHydrationWarning!==!0&&Ee(x.textContent,ae,o),P=["children",ae]):typeof ae=="number"&&x.textContent!==""+ae&&(I.suppressHydrationWarning!==!0&&Ee(x.textContent,ae,o),P=["children",""+ae]):i.hasOwnProperty(V)&&ae!=null&&V==="onScroll"&&Ft("scroll",x)}switch(h){case"input":Qe(x),re(x,I,!0);break;case"textarea":Qe(x),De(x);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(x.onclick=Le)}x=P,c.updateQueue=x,x!==null&&(c.flags|=4)}else{V=P.nodeType===9?P:P.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=tt(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=V.createElement(h,{is:x.is}):(o=V.createElement(h),h==="select"&&(V=o,x.multiple?V.multiple=!0:x.size&&(V.size=x.size))):o=V.createElementNS(o,h),o[Fr]=c,o[ds]=x,Fx(o,c,!1,!1),c.stateNode=o;e:{switch(V=Ct(h,x),h){case"dialog":Ft("cancel",o),Ft("close",o),P=x;break;case"iframe":case"object":case"embed":Ft("load",o),P=x;break;case"video":case"audio":for(P=0;P<ls.length;P++)Ft(ls[P],o);P=x;break;case"source":Ft("error",o),P=x;break;case"img":case"image":case"link":Ft("error",o),Ft("load",o),P=x;break;case"details":Ft("toggle",o),P=x;break;case"input":Ne(o,x),P=B(o,x),Ft("invalid",o);break;case"option":P=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},P=le({},x,{value:void 0}),Ft("invalid",o);break;case"textarea":Be(o,x),P=me(o,x),Ft("invalid",o);break;default:P=x}bt(h,P),ae=P;for(I in ae)if(ae.hasOwnProperty(I)){var de=ae[I];I==="style"?dt(o,de):I==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&O(o,de)):I==="children"?typeof de=="string"?(h!=="textarea"||de!=="")&&ne(o,de):typeof de=="number"&&ne(o,""+de):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?de!=null&&I==="onScroll"&&Ft("scroll",o):de!=null&&T(o,I,de,V))}switch(h){case"input":Qe(o),re(o,x,!1);break;case"textarea":Qe(o),De(o);break;case"option":x.value!=null&&o.setAttribute("value",""+Te(x.value));break;case"select":o.multiple=!!x.multiple,I=x.value,I!=null?je(o,!!x.multiple,I,!1):x.defaultValue!=null&&je(o,!!x.multiple,x.defaultValue,!0);break;default:typeof P.onClick=="function"&&(o.onclick=Le)}switch(h){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Bn(c),null;case 6:if(o&&c.stateNode!=null)$x(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(n(166));if(h=La(Gu.current),La(Li.current),Qf(c)){if(x=c.stateNode,h=c.memoizedProps,x[Fr]=c,(I=x.nodeValue!==h)&&(o=Cr,o!==null))switch(o.tag){case 3:Ee(x.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ee(x.nodeValue,h,(o.mode&1)!==0)}I&&(c.flags|=4)}else x=(h.nodeType===9?h:h.ownerDocument).createTextNode(x),x[Fr]=c,c.stateNode=x}return Bn(c),null;case 13:if(Vt(tn),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Gt&&Nr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)W_(),ec(),c.flags|=98560,I=!1;else if(I=Qf(c),x!==null&&x.dehydrated!==null){if(o===null){if(!I)throw Error(n(318));if(I=c.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[Fr]=c}else ec(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Bn(c),I=!1}else di!==null&&(Kg(di),di=null),I=!0;if(!I)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(tn.current&1)!==0?wn===0&&(wn=3):Jg())),c.updateQueue!==null&&(c.flags|=4),Bn(c),null);case 4:return ic(),zg(o,c),o===null&&cs(c.stateNode.containerInfo),Bn(c),null;case 10:return dg(c.type._context),Bn(c),null;case 17:return sr(c.type)&&qf(),Bn(c),null;case 19:if(Vt(tn),I=c.memoizedState,I===null)return Bn(c),null;if(x=(c.flags&128)!==0,V=I.rendering,V===null)if(x)ed(I,!1);else{if(wn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(V=ih(o),V!==null){for(c.flags|=128,ed(I,!1),x=V.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=h,h=c.child;h!==null;)I=h,o=x,I.flags&=14680066,V=I.alternate,V===null?(I.childLanes=0,I.lanes=o,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=V.childLanes,I.lanes=V.lanes,I.child=V.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=V.memoizedProps,I.memoizedState=V.memoizedState,I.updateQueue=V.updateQueue,I.type=V.type,o=V.dependencies,I.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Ht(tn,tn.current&1|2),c.child}o=o.sibling}I.tail!==null&&Xt()>lc&&(c.flags|=128,x=!0,ed(I,!1),c.lanes=4194304)}else{if(!x)if(o=ih(V),o!==null){if(c.flags|=128,x=!0,h=o.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),ed(I,!0),I.tail===null&&I.tailMode==="hidden"&&!V.alternate&&!Gt)return Bn(c),null}else 2*Xt()-I.renderingStartTime>lc&&h!==1073741824&&(c.flags|=128,x=!0,ed(I,!1),c.lanes=4194304);I.isBackwards?(V.sibling=c.child,c.child=V):(h=I.last,h!==null?h.sibling=V:c.child=V,I.last=V)}return I.tail!==null?(c=I.tail,I.rendering=c,I.tail=c.sibling,I.renderingStartTime=Xt(),c.sibling=null,h=tn.current,Ht(tn,x?h&1|2:h&1),c):(Bn(c),null);case 22:case 23:return Yg(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Pr&1073741824)!==0&&(Bn(c),c.subtreeFlags&6&&(c.flags|=8192)):Bn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function DI(o,c){switch(og(c),c.tag){case 1:return sr(c.type)&&qf(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ic(),Vt(or),Vt(zn),vg(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return gg(c),null;case 13:if(Vt(tn),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));ec()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Vt(tn),null;case 4:return ic(),null;case 10:return dg(c.type._context),null;case 22:case 23:return Yg(),null;case 24:return null;default:return null}}var hh=!1,Fn=!1,BI=typeof WeakSet=="function"?WeakSet:Set,Je=null;function sc(o,c){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(x){sn(o,c,x)}else h.current=null}function Dg(o,c,h){try{h()}catch(x){sn(o,c,x)}}var Hx=!1;function FI(o,c){if(Ve=ba,o=zu(),Du(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var P=x.anchorOffset,I=x.focusNode;x=x.focusOffset;try{h.nodeType,I.nodeType}catch{h=null;break e}var V=0,ae=-1,de=-1,Se=0,ze=0,Fe=o,Me=null;t:for(;;){for(var Ye;Fe!==h||P!==0&&Fe.nodeType!==3||(ae=V+P),Fe!==I||x!==0&&Fe.nodeType!==3||(de=V+x),Fe.nodeType===3&&(V+=Fe.nodeValue.length),(Ye=Fe.firstChild)!==null;)Me=Fe,Fe=Ye;for(;;){if(Fe===o)break t;if(Me===h&&++Se===P&&(ae=V),Me===I&&++ze===x&&(de=V),(Ye=Fe.nextSibling)!==null)break;Fe=Me,Me=Fe.parentNode}Fe=Ye}h=ae===-1||de===-1?null:{start:ae,end:de}}else h=null}h=h||{start:0,end:0}}else h=null;for(lt={focusedElem:o,selectionRange:h},ba=!1,Je=c;Je!==null;)if(c=Je,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Je=o;else for(;Je!==null;){c=Je;try{var Xe=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Xe!==null){var et=Xe.memoizedProps,dn=Xe.memoizedState,ye=c.stateNode,he=ye.getSnapshotBeforeUpdate(c.elementType===c.type?et:fi(c.type,et),dn);ye.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var we=c.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($e){sn(c,c.return,$e)}if(o=c.sibling,o!==null){o.return=c.return,Je=o;break}Je=c.return}return Xe=Hx,Hx=!1,Xe}function td(o,c,h){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var P=x=x.next;do{if((P.tag&o)===o){var I=P.destroy;P.destroy=void 0,I!==void 0&&Dg(c,h,I)}P=P.next}while(P!==x)}}function ph(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&o)===o){var x=h.create;h.destroy=x()}h=h.next}while(h!==c)}}function Bg(o){var c=o.ref;if(c!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof c=="function"?c(o):c.current=o}}function Zx(o){var c=o.alternate;c!==null&&(o.alternate=null,Zx(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[Fr],delete c[ds],delete c[fs],delete c[eg],delete c[tg])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Wx(o){return o.tag===5||o.tag===3||o.tag===4}function Vx(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Wx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Fg(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(o,c):h.insertBefore(o,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(o,h)):(c=h,c.appendChild(o)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Le));else if(x!==4&&(o=o.child,o!==null))for(Fg(o,c,h),o=o.sibling;o!==null;)Fg(o,c,h),o=o.sibling}function Ug(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Ug(o,c,h),o=o.sibling;o!==null;)Ug(o,c,h),o=o.sibling}var Pn=null,hi=!1;function vs(o,c,h){for(h=h.child;h!==null;)qx(o,c,h),h=h.sibling}function qx(o,c,h){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(ga,h)}catch{}switch(h.tag){case 5:Fn||sc(h,c);case 6:var x=Pn,P=hi;Pn=null,vs(o,c,h),Pn=x,hi=P,Pn!==null&&(hi?(o=Pn,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Pn.removeChild(h.stateNode));break;case 18:Pn!==null&&(hi?(o=Pn,h=h.stateNode,o.nodeType===8?Wu(o.parentNode,h):o.nodeType===1&&Wu(o,h),xr(o)):Wu(Pn,h.stateNode));break;case 4:x=Pn,P=hi,Pn=h.stateNode.containerInfo,hi=!0,vs(o,c,h),Pn=x,hi=P;break;case 0:case 11:case 14:case 15:if(!Fn&&(x=h.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){P=x=x.next;do{var I=P,V=I.destroy;I=I.tag,V!==void 0&&((I&2)!==0||(I&4)!==0)&&Dg(h,c,V),P=P.next}while(P!==x)}vs(o,c,h);break;case 1:if(!Fn&&(sc(h,c),x=h.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=h.memoizedProps,x.state=h.memoizedState,x.componentWillUnmount()}catch(ae){sn(h,c,ae)}vs(o,c,h);break;case 21:vs(o,c,h);break;case 22:h.mode&1?(Fn=(x=Fn)||h.memoizedState!==null,vs(o,c,h),Fn=x):vs(o,c,h);break;default:vs(o,c,h)}}function Kx(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new BI),c.forEach(function(x){var P=GI.bind(null,o,x);h.has(x)||(h.add(x),x.then(P,P))})}}function pi(o,c){var h=c.deletions;if(h!==null)for(var x=0;x<h.length;x++){var P=h[x];try{var I=o,V=c,ae=V;e:for(;ae!==null;){switch(ae.tag){case 5:Pn=ae.stateNode,hi=!1;break e;case 3:Pn=ae.stateNode.containerInfo,hi=!0;break e;case 4:Pn=ae.stateNode.containerInfo,hi=!0;break e}ae=ae.return}if(Pn===null)throw Error(n(160));qx(I,V,P),Pn=null,hi=!1;var de=P.alternate;de!==null&&(de.return=null),P.return=null}catch(Se){sn(P,c,Se)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Gx(c,o),c=c.sibling}function Gx(o,c){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(pi(c,o),Mi(o),x&4){try{td(3,o,o.return),ph(3,o)}catch(et){sn(o,o.return,et)}try{td(5,o,o.return)}catch(et){sn(o,o.return,et)}}break;case 1:pi(c,o),Mi(o),x&512&&h!==null&&sc(h,h.return);break;case 5:if(pi(c,o),Mi(o),x&512&&h!==null&&sc(h,h.return),o.flags&32){var P=o.stateNode;try{ne(P,"")}catch(et){sn(o,o.return,et)}}if(x&4&&(P=o.stateNode,P!=null)){var I=o.memoizedProps,V=h!==null?h.memoizedProps:I,ae=o.type,de=o.updateQueue;if(o.updateQueue=null,de!==null)try{ae==="input"&&I.type==="radio"&&I.name!=null&&be(P,I),Ct(ae,V);var Se=Ct(ae,I);for(V=0;V<de.length;V+=2){var ze=de[V],Fe=de[V+1];ze==="style"?dt(P,Fe):ze==="dangerouslySetInnerHTML"?O(P,Fe):ze==="children"?ne(P,Fe):T(P,ze,Fe,Se)}switch(ae){case"input":oe(P,I);break;case"textarea":qe(P,I);break;case"select":var Me=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!I.multiple;var Ye=I.value;Ye!=null?je(P,!!I.multiple,Ye,!1):Me!==!!I.multiple&&(I.defaultValue!=null?je(P,!!I.multiple,I.defaultValue,!0):je(P,!!I.multiple,I.multiple?[]:"",!1))}P[ds]=I}catch(et){sn(o,o.return,et)}}break;case 6:if(pi(c,o),Mi(o),x&4){if(o.stateNode===null)throw Error(n(162));P=o.stateNode,I=o.memoizedProps;try{P.nodeValue=I}catch(et){sn(o,o.return,et)}}break;case 3:if(pi(c,o),Mi(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{xr(c.containerInfo)}catch(et){sn(o,o.return,et)}break;case 4:pi(c,o),Mi(o);break;case 13:pi(c,o),Mi(o),P=o.child,P.flags&8192&&(I=P.memoizedState!==null,P.stateNode.isHidden=I,!I||P.alternate!==null&&P.alternate.memoizedState!==null||(Zg=Xt())),x&4&&Kx(o);break;case 22:if(ze=h!==null&&h.memoizedState!==null,o.mode&1?(Fn=(Se=Fn)||ze,pi(c,o),Fn=Se):pi(c,o),Mi(o),x&8192){if(Se=o.memoizedState!==null,(o.stateNode.isHidden=Se)&&!ze&&(o.mode&1)!==0)for(Je=o,ze=o.child;ze!==null;){for(Fe=Je=ze;Je!==null;){switch(Me=Je,Ye=Me.child,Me.tag){case 0:case 11:case 14:case 15:td(4,Me,Me.return);break;case 1:sc(Me,Me.return);var Xe=Me.stateNode;if(typeof Xe.componentWillUnmount=="function"){x=Me,h=Me.return;try{c=x,Xe.props=c.memoizedProps,Xe.state=c.memoizedState,Xe.componentWillUnmount()}catch(et){sn(x,h,et)}}break;case 5:sc(Me,Me.return);break;case 22:if(Me.memoizedState!==null){Qx(Fe);continue}}Ye!==null?(Ye.return=Me,Je=Ye):Qx(Fe)}ze=ze.sibling}e:for(ze=null,Fe=o;;){if(Fe.tag===5){if(ze===null){ze=Fe;try{P=Fe.stateNode,Se?(I=P.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(ae=Fe.stateNode,de=Fe.memoizedProps.style,V=de!=null&&de.hasOwnProperty("display")?de.display:null,ae.style.display=Ce("display",V))}catch(et){sn(o,o.return,et)}}}else if(Fe.tag===6){if(ze===null)try{Fe.stateNode.nodeValue=Se?"":Fe.memoizedProps}catch(et){sn(o,o.return,et)}}else if((Fe.tag!==22&&Fe.tag!==23||Fe.memoizedState===null||Fe===o)&&Fe.child!==null){Fe.child.return=Fe,Fe=Fe.child;continue}if(Fe===o)break e;for(;Fe.sibling===null;){if(Fe.return===null||Fe.return===o)break e;ze===Fe&&(ze=null),Fe=Fe.return}ze===Fe&&(ze=null),Fe.sibling.return=Fe.return,Fe=Fe.sibling}}break;case 19:pi(c,o),Mi(o),x&4&&Kx(o);break;case 21:break;default:pi(c,o),Mi(o)}}function Mi(o){var c=o.flags;if(c&2){try{e:{for(var h=o.return;h!==null;){if(Wx(h)){var x=h;break e}h=h.return}throw Error(n(160))}switch(x.tag){case 5:var P=x.stateNode;x.flags&32&&(ne(P,""),x.flags&=-33);var I=Vx(o);Ug(o,I,P);break;case 3:case 4:var V=x.stateNode.containerInfo,ae=Vx(o);Fg(o,ae,V);break;default:throw Error(n(161))}}catch(de){sn(o,o.return,de)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function UI(o,c,h){Je=o,Yx(o)}function Yx(o,c,h){for(var x=(o.mode&1)!==0;Je!==null;){var P=Je,I=P.child;if(P.tag===22&&x){var V=P.memoizedState!==null||hh;if(!V){var ae=P.alternate,de=ae!==null&&ae.memoizedState!==null||Fn;ae=hh;var Se=Fn;if(hh=V,(Fn=de)&&!Se)for(Je=P;Je!==null;)V=Je,de=V.child,V.tag===22&&V.memoizedState!==null?Xx(P):de!==null?(de.return=V,Je=de):Xx(P);for(;I!==null;)Je=I,Yx(I),I=I.sibling;Je=P,hh=ae,Fn=Se}Jx(o)}else(P.subtreeFlags&8772)!==0&&I!==null?(I.return=P,Je=I):Jx(o)}}function Jx(o){for(;Je!==null;){var c=Je;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Fn||ph(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Fn)if(h===null)x.componentDidMount();else{var P=c.elementType===c.type?h.memoizedProps:fi(c.type,h.memoizedProps);x.componentDidUpdate(P,h.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var I=c.updateQueue;I!==null&&Q_(c,I,x);break;case 3:var V=c.updateQueue;if(V!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}Q_(c,V,h)}break;case 5:var ae=c.stateNode;if(h===null&&c.flags&4){h=ae;var de=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&h.focus();break;case"img":de.src&&(h.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Se=c.alternate;if(Se!==null){var ze=Se.memoizedState;if(ze!==null){var Fe=ze.dehydrated;Fe!==null&&xr(Fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Fn||c.flags&512&&Bg(c)}catch(Me){sn(c,c.return,Me)}}if(c===o){Je=null;break}if(h=c.sibling,h!==null){h.return=c.return,Je=h;break}Je=c.return}}function Qx(o){for(;Je!==null;){var c=Je;if(c===o){Je=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Je=h;break}Je=c.return}}function Xx(o){for(;Je!==null;){var c=Je;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{ph(4,c)}catch(de){sn(c,h,de)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var P=c.return;try{x.componentDidMount()}catch(de){sn(c,P,de)}}var I=c.return;try{Bg(c)}catch(de){sn(c,I,de)}break;case 5:var V=c.return;try{Bg(c)}catch(de){sn(c,V,de)}}}catch(de){sn(c,c.return,de)}if(c===o){Je=null;break}var ae=c.sibling;if(ae!==null){ae.return=c.return,Je=ae;break}Je=c.return}}var $I=Math.ceil,mh=z.ReactCurrentDispatcher,$g=z.ReactCurrentOwner,Wr=z.ReactCurrentBatchConfig,At=0,bn=null,pn=null,Tn=0,Pr=0,ac=hs(0),wn=0,nd=null,Ma=0,gh=0,Hg=0,rd=null,lr=null,Zg=0,lc=1/0,bo=null,yh=!1,Wg=null,ws=null,vh=!1,_s=null,wh=0,id=0,Vg=null,_h=-1,xh=0;function Yn(){return(At&6)!==0?Xt():_h!==-1?_h:_h=Xt()}function xs(o){return(o.mode&1)===0?1:(At&2)!==0&&Tn!==0?Tn&-Tn:kI.transition!==null?(xh===0&&(xh=Sf()),xh):(o=Pt,o!==0||(o=window.event,o=o===void 0?16:St(o.type)),o)}function mi(o,c,h,x){if(50<id)throw id=0,Vg=null,Error(n(185));wr(o,h,x),((At&2)===0||o!==bn)&&(o===bn&&((At&2)===0&&(gh|=h),wn===4&&bs(o,Tn)),cr(o,x),h===1&&At===0&&(c.mode&1)===0&&(lc=Xt()+500,Gf&&ms()))}function cr(o,c){var h=o.callbackNode;Pl(o,c);var x=$t(o,o===bn?Tn:0);if(x===0)h!==null&&wu(h),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(h!=null&&wu(h),c===1)o.tag===0?SI(t1.bind(null,o)):F_(t1.bind(null,o)),Mn(function(){(At&6)===0&&ms()}),h=null;else{switch(Yo(x)){case 1:h=_u;break;case 4:h=Ef;break;case 16:h=Cl;break;case 536870912:h=Vo;break;default:h=Cl}h=c1(h,e1.bind(null,o))}o.callbackPriority=c,o.callbackNode=h}}function e1(o,c){if(_h=-1,xh=0,(At&6)!==0)throw Error(n(327));var h=o.callbackNode;if(cc()&&o.callbackNode!==h)return null;var x=$t(o,o===bn?Tn:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=bh(o,x);else{c=x;var P=At;At|=2;var I=r1();(bn!==o||Tn!==c)&&(bo=null,lc=Xt()+500,Da(o,c));do try{WI();break}catch(ae){n1(o,ae)}while(!0);ug(),mh.current=I,At=P,pn!==null?c=0:(bn=null,Tn=0,c=wn)}if(c!==0){if(c===2&&(P=Ln(o),P!==0&&(x=P,c=qg(o,P))),c===1)throw h=nd,Da(o,0),bs(o,x),cr(o,Xt()),h;if(c===6)bs(o,x);else{if(P=o.current.alternate,(x&30)===0&&!HI(P)&&(c=bh(o,x),c===2&&(I=Ln(o),I!==0&&(x=I,c=qg(o,I))),c===1))throw h=nd,Da(o,0),bs(o,x),cr(o,Xt()),h;switch(o.finishedWork=P,o.finishedLanes=x,c){case 0:case 1:throw Error(n(345));case 2:Ba(o,lr,bo);break;case 3:if(bs(o,x),(x&130023424)===x&&(c=Zg+500-Xt(),10<c)){if($t(o,0)!==0)break;if(P=o.suspendedLanes,(P&x)!==x){Yn(),o.pingedLanes|=o.suspendedLanes&P;break}o.timeoutHandle=yn(Ba.bind(null,o,lr,bo),c);break}Ba(o,lr,bo);break;case 4:if(bs(o,x),(x&4194240)===x)break;for(c=o.eventTimes,P=-1;0<x;){var V=31-yt(x);I=1<<V,V=c[V],V>P&&(P=V),x&=~I}if(x=P,x=Xt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*$I(x/1960))-x,10<x){o.timeoutHandle=yn(Ba.bind(null,o,lr,bo),x);break}Ba(o,lr,bo);break;case 5:Ba(o,lr,bo);break;default:throw Error(n(329))}}}return cr(o,Xt()),o.callbackNode===h?e1.bind(null,o):null}function qg(o,c){var h=rd;return o.current.memoizedState.isDehydrated&&(Da(o,c).flags|=256),o=bh(o,c),o!==2&&(c=lr,lr=h,c!==null&&Kg(c)),o}function Kg(o){lr===null?lr=o:lr.push.apply(lr,o)}function HI(o){for(var c=o;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var x=0;x<h.length;x++){var P=h[x],I=P.getSnapshot;P=P.value;try{if(!Sr(I(),P))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function bs(o,c){for(c&=~Hg,c&=~gh,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var h=31-yt(c),x=1<<h;o[h]=-1,c&=~x}}function t1(o){if((At&6)!==0)throw Error(n(327));cc();var c=$t(o,0);if((c&1)===0)return cr(o,Xt()),null;var h=bh(o,c);if(o.tag!==0&&h===2){var x=Ln(o);x!==0&&(c=x,h=qg(o,x))}if(h===1)throw h=nd,Da(o,0),bs(o,c),cr(o,Xt()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,Ba(o,lr,bo),cr(o,Xt()),null}function Gg(o,c){var h=At;At|=1;try{return o(c)}finally{At=h,At===0&&(lc=Xt()+500,Gf&&ms())}}function za(o){_s!==null&&_s.tag===0&&(At&6)===0&&cc();var c=At;At|=1;var h=Wr.transition,x=Pt;try{if(Wr.transition=null,Pt=1,o)return o()}finally{Pt=x,Wr.transition=h,At=c,(At&6)===0&&ms()}}function Yg(){Pr=ac.current,Vt(ac)}function Da(o,c){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,hn(h)),pn!==null)for(h=pn.return;h!==null;){var x=h;switch(og(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&qf();break;case 3:ic(),Vt(or),Vt(zn),vg();break;case 5:gg(x);break;case 4:ic();break;case 13:Vt(tn);break;case 19:Vt(tn);break;case 10:dg(x.type._context);break;case 22:case 23:Yg()}h=h.return}if(bn=o,pn=o=Es(o.current,null),Tn=Pr=c,wn=0,nd=null,Hg=gh=Ma=0,lr=rd=null,ja!==null){for(c=0;c<ja.length;c++)if(h=ja[c],x=h.interleaved,x!==null){h.interleaved=null;var P=x.next,I=h.pending;if(I!==null){var V=I.next;I.next=P,x.next=V}h.pending=x}ja=null}return o}function n1(o,c){do{var h=pn;try{if(ug(),oh.current=ch,sh){for(var x=nn.memoizedState;x!==null;){var P=x.queue;P!==null&&(P.pending=null),x=x.next}sh=!1}if(Oa=0,xn=vn=nn=null,Yu=!1,Ju=0,$g.current=null,h===null||h.return===null){wn=1,nd=c,pn=null;break}e:{var I=o,V=h.return,ae=h,de=c;if(c=Tn,ae.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Se=de,ze=ae,Fe=ze.tag;if((ze.mode&1)===0&&(Fe===0||Fe===11||Fe===15)){var Me=ze.alternate;Me?(ze.updateQueue=Me.updateQueue,ze.memoizedState=Me.memoizedState,ze.lanes=Me.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var Ye=Nx(V);if(Ye!==null){Ye.flags&=-257,Px(Ye,V,ae,I,c),Ye.mode&1&&Cx(I,Se,c),c=Ye,de=Se;var Xe=c.updateQueue;if(Xe===null){var et=new Set;et.add(de),c.updateQueue=et}else Xe.add(de);break e}else{if((c&1)===0){Cx(I,Se,c),Jg();break e}de=Error(n(426))}}else if(Gt&&ae.mode&1){var dn=Nx(V);if(dn!==null){(dn.flags&65536)===0&&(dn.flags|=256),Px(dn,V,ae,I,c),lg(oc(de,ae));break e}}I=de=oc(de,ae),wn!==4&&(wn=2),rd===null?rd=[I]:rd.push(I),I=V;do{switch(I.tag){case 3:I.flags|=65536,c&=-c,I.lanes|=c;var ye=Sx(I,de,c);J_(I,ye);break e;case 1:ae=de;var he=I.type,we=I.stateNode;if((I.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(ws===null||!ws.has(we)))){I.flags|=65536,c&=-c,I.lanes|=c;var $e=kx(I,ae,c);J_(I,$e);break e}}I=I.return}while(I!==null)}o1(h)}catch(rt){c=rt,pn===h&&h!==null&&(pn=h=h.return);continue}break}while(!0)}function r1(){var o=mh.current;return mh.current=ch,o===null?ch:o}function Jg(){(wn===0||wn===3||wn===2)&&(wn=4),bn===null||(Ma&268435455)===0&&(gh&268435455)===0||bs(bn,Tn)}function bh(o,c){var h=At;At|=2;var x=r1();(bn!==o||Tn!==c)&&(bo=null,Da(o,c));do try{ZI();break}catch(P){n1(o,P)}while(!0);if(ug(),At=h,mh.current=x,pn!==null)throw Error(n(261));return bn=null,Tn=0,wn}function ZI(){for(;pn!==null;)i1(pn)}function WI(){for(;pn!==null&&!Dm();)i1(pn)}function i1(o){var c=l1(o.alternate,o,Pr);o.memoizedProps=o.pendingProps,c===null?o1(o):pn=c,$g.current=null}function o1(o){var c=o;do{var h=c.alternate;if(o=c.return,(c.flags&32768)===0){if(h=zI(h,c,Pr),h!==null){pn=h;return}}else{if(h=DI(h,c),h!==null){h.flags&=32767,pn=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{wn=6,pn=null;return}}if(c=c.sibling,c!==null){pn=c;return}pn=c=o}while(c!==null);wn===0&&(wn=5)}function Ba(o,c,h){var x=Pt,P=Wr.transition;try{Wr.transition=null,Pt=1,VI(o,c,h,x)}finally{Wr.transition=P,Pt=x}return null}function VI(o,c,h,x){do cc();while(_s!==null);if((At&6)!==0)throw Error(n(327));h=o.finishedWork;var P=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var I=h.lanes|h.childLanes;if(on(o,I),o===bn&&(pn=bn=null,Tn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||vh||(vh=!0,c1(Cl,function(){return cc(),null})),I=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||I){I=Wr.transition,Wr.transition=null;var V=Pt;Pt=1;var ae=At;At|=4,$g.current=null,FI(o,h),Gx(h,o),Dr(lt),ba=!!Ve,lt=Ve=null,o.current=h,UI(h),kl(),At=ae,Pt=V,Wr.transition=I}else o.current=h;if(vh&&(vh=!1,_s=o,wh=P),I=o.pendingLanes,I===0&&(ws=null),ya(h.stateNode),cr(o,Xt()),c!==null)for(x=o.onRecoverableError,h=0;h<c.length;h++)P=c[h],x(P.value,{componentStack:P.stack,digest:P.digest});if(yh)throw yh=!1,o=Wg,Wg=null,o;return(wh&1)!==0&&o.tag!==0&&cc(),I=o.pendingLanes,(I&1)!==0?o===Vg?id++:(id=0,Vg=o):id=0,ms(),null}function cc(){if(_s!==null){var o=Yo(wh),c=Wr.transition,h=Pt;try{if(Wr.transition=null,Pt=16>o?16:o,_s===null)var x=!1;else{if(o=_s,_s=null,wh=0,(At&6)!==0)throw Error(n(331));var P=At;for(At|=4,Je=o.current;Je!==null;){var I=Je,V=I.child;if((Je.flags&16)!==0){var ae=I.deletions;if(ae!==null){for(var de=0;de<ae.length;de++){var Se=ae[de];for(Je=Se;Je!==null;){var ze=Je;switch(ze.tag){case 0:case 11:case 15:td(8,ze,I)}var Fe=ze.child;if(Fe!==null)Fe.return=ze,Je=Fe;else for(;Je!==null;){ze=Je;var Me=ze.sibling,Ye=ze.return;if(Zx(ze),ze===Se){Je=null;break}if(Me!==null){Me.return=Ye,Je=Me;break}Je=Ye}}}var Xe=I.alternate;if(Xe!==null){var et=Xe.child;if(et!==null){Xe.child=null;do{var dn=et.sibling;et.sibling=null,et=dn}while(et!==null)}}Je=I}}if((I.subtreeFlags&2064)!==0&&V!==null)V.return=I,Je=V;else e:for(;Je!==null;){if(I=Je,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:td(9,I,I.return)}var ye=I.sibling;if(ye!==null){ye.return=I.return,Je=ye;break e}Je=I.return}}var he=o.current;for(Je=he;Je!==null;){V=Je;var we=V.child;if((V.subtreeFlags&2064)!==0&&we!==null)we.return=V,Je=we;else e:for(V=he;Je!==null;){if(ae=Je,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:ph(9,ae)}}catch(rt){sn(ae,ae.return,rt)}if(ae===V){Je=null;break e}var $e=ae.sibling;if($e!==null){$e.return=ae.return,Je=$e;break e}Je=ae.return}}if(At=P,ms(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(ga,o)}catch{}x=!0}return x}finally{Pt=h,Wr.transition=c}}return!1}function s1(o,c,h){c=oc(h,c),c=Sx(o,c,1),o=ys(o,c,1),c=Yn(),o!==null&&(wr(o,1,c),cr(o,c))}function sn(o,c,h){if(o.tag===3)s1(o,o,h);else for(;c!==null;){if(c.tag===3){s1(c,o,h);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(ws===null||!ws.has(x))){o=oc(h,o),o=kx(c,o,1),c=ys(c,o,1),o=Yn(),c!==null&&(wr(c,1,o),cr(c,o));break}}c=c.return}}function qI(o,c,h){var x=o.pingCache;x!==null&&x.delete(c),c=Yn(),o.pingedLanes|=o.suspendedLanes&h,bn===o&&(Tn&h)===h&&(wn===4||wn===3&&(Tn&130023424)===Tn&&500>Xt()-Zg?Da(o,0):Hg|=h),cr(o,c)}function a1(o,c){c===0&&((o.mode&1)===0?c=1:(c=Ko,Ko<<=1,(Ko&130023424)===0&&(Ko=4194304)));var h=Yn();o=wo(o,c),o!==null&&(wr(o,c,h),cr(o,h))}function KI(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),a1(o,h)}function GI(o,c){var h=0;switch(o.tag){case 13:var x=o.stateNode,P=o.memoizedState;P!==null&&(h=P.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(c),a1(o,h)}var l1;l1=function(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps||or.current)ar=!0;else{if((o.lanes&h)===0&&(c.flags&128)===0)return ar=!1,MI(o,c,h);ar=(o.flags&131072)!==0}else ar=!1,Gt&&(c.flags&1048576)!==0&&U_(c,Jf,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;fh(o,c),o=c.pendingProps;var P=Jl(c,zn.current);rc(c,h),P=xg(null,c,x,o,P,h);var I=bg();return c.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,sr(x)?(I=!0,Kf(c)):I=!1,c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,pg(c),P.updater=uh,c.stateNode=P,P._reactInternals=c,Pg(c,x,o,h),c=Ig(null,c,x,!0,I,h)):(c.tag=0,Gt&&I&&ig(c),Gn(null,c,P,h),c=c.child),c;case 16:x=c.elementType;e:{switch(fh(o,c),o=c.pendingProps,P=x._init,x=P(x._payload),c.type=x,P=c.tag=JI(x),o=fi(x,o),P){case 0:c=Rg(null,c,x,o,h);break e;case 1:c=Lx(null,c,x,o,h);break e;case 11:c=Tx(null,c,x,o,h);break e;case 14:c=Ax(null,c,x,fi(x.type,o),h);break e}throw Error(n(306,x,""))}return c;case 0:return x=c.type,P=c.pendingProps,P=c.elementType===x?P:fi(x,P),Rg(o,c,x,P,h);case 1:return x=c.type,P=c.pendingProps,P=c.elementType===x?P:fi(x,P),Lx(o,c,x,P,h);case 3:e:{if(Ox(c),o===null)throw Error(n(387));x=c.pendingProps,I=c.memoizedState,P=I.element,Y_(o,c),rh(c,x,null,h);var V=c.memoizedState;if(x=V.element,I.isDehydrated)if(I={element:x,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},c.updateQueue.baseState=I,c.memoizedState=I,c.flags&256){P=oc(Error(n(423)),c),c=Mx(o,c,x,h,P);break e}else if(x!==P){P=oc(Error(n(424)),c),c=Mx(o,c,x,h,P);break e}else for(Nr=ji(c.stateNode.containerInfo.firstChild),Cr=c,Gt=!0,di=null,h=K_(c,null,x,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(ec(),x===P){c=xo(o,c,h);break e}Gn(o,c,x,h)}c=c.child}return c;case 5:return X_(c),o===null&&ag(c),x=c.type,P=c.pendingProps,I=o!==null?o.memoizedProps:null,V=P.children,wt(x,P)?V=null:I!==null&&wt(x,I)&&(c.flags|=32),jx(o,c),Gn(o,c,V,h),c.child;case 6:return o===null&&ag(c),null;case 13:return zx(o,c,h);case 4:return mg(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=tc(c,null,x,h):Gn(o,c,x,h),c.child;case 11:return x=c.type,P=c.pendingProps,P=c.elementType===x?P:fi(x,P),Tx(o,c,x,P,h);case 7:return Gn(o,c,c.pendingProps,h),c.child;case 8:return Gn(o,c,c.pendingProps.children,h),c.child;case 12:return Gn(o,c,c.pendingProps.children,h),c.child;case 10:e:{if(x=c.type._context,P=c.pendingProps,I=c.memoizedProps,V=P.value,Ht(eh,x._currentValue),x._currentValue=V,I!==null)if(Sr(I.value,V)){if(I.children===P.children&&!or.current){c=xo(o,c,h);break e}}else for(I=c.child,I!==null&&(I.return=c);I!==null;){var ae=I.dependencies;if(ae!==null){V=I.child;for(var de=ae.firstContext;de!==null;){if(de.context===x){if(I.tag===1){de=_o(-1,h&-h),de.tag=2;var Se=I.updateQueue;if(Se!==null){Se=Se.shared;var ze=Se.pending;ze===null?de.next=de:(de.next=ze.next,ze.next=de),Se.pending=de}}I.lanes|=h,de=I.alternate,de!==null&&(de.lanes|=h),fg(I.return,h,c),ae.lanes|=h;break}de=de.next}}else if(I.tag===10)V=I.type===c.type?null:I.child;else if(I.tag===18){if(V=I.return,V===null)throw Error(n(341));V.lanes|=h,ae=V.alternate,ae!==null&&(ae.lanes|=h),fg(V,h,c),V=I.sibling}else V=I.child;if(V!==null)V.return=I;else for(V=I;V!==null;){if(V===c){V=null;break}if(I=V.sibling,I!==null){I.return=V.return,V=I;break}V=V.return}I=V}Gn(o,c,P.children,h),c=c.child}return c;case 9:return P=c.type,x=c.pendingProps.children,rc(c,h),P=Hr(P),x=x(P),c.flags|=1,Gn(o,c,x,h),c.child;case 14:return x=c.type,P=fi(x,c.pendingProps),P=fi(x.type,P),Ax(o,c,x,P,h);case 15:return Rx(o,c,c.type,c.pendingProps,h);case 17:return x=c.type,P=c.pendingProps,P=c.elementType===x?P:fi(x,P),fh(o,c),c.tag=1,sr(x)?(o=!0,Kf(c)):o=!1,rc(c,h),bx(c,x,P),Pg(c,x,P,h),Ig(null,c,x,!0,o,h);case 19:return Bx(o,c,h);case 22:return Ix(o,c,h)}throw Error(n(156,c.tag))};function c1(o,c){return bf(o,c)}function YI(o,c,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(o,c,h,x){return new YI(o,c,h,x)}function Qg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function JI(o){if(typeof o=="function")return Qg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===U)return 11;if(o===K)return 14}return 2}function Es(o,c){var h=o.alternate;return h===null?(h=Vr(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function Eh(o,c,h,x,P,I){var V=2;if(x=o,typeof o=="function")Qg(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case Z:return Fa(h.children,P,I,c);case q:V=8,P|=8;break;case F:return o=Vr(12,h,c,P|2),o.elementType=F,o.lanes=I,o;case X:return o=Vr(13,h,c,P),o.elementType=X,o.lanes=I,o;case j:return o=Vr(19,h,c,P),o.elementType=j,o.lanes=I,o;case ie:return Sh(h,P,I,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case W:V=10;break e;case J:V=9;break e;case U:V=11;break e;case K:V=14;break e;case se:V=16,x=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return c=Vr(V,h,c,P),c.elementType=o,c.type=x,c.lanes=I,c}function Fa(o,c,h,x){return o=Vr(7,o,x,c),o.lanes=h,o}function Sh(o,c,h,x){return o=Vr(22,o,x,c),o.elementType=ie,o.lanes=h,o.stateNode={isHidden:!1},o}function Xg(o,c,h){return o=Vr(6,o,null,c),o.lanes=h,o}function ey(o,c,h){return c=Vr(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function QI(o,c,h,x,P){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Go(0),this.expirationTimes=Go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Go(0),this.identifierPrefix=x,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function ty(o,c,h,x,P,I,V,ae,de){return o=new QI(o,c,h,ae,de),c===1?(c=1,I===!0&&(c|=8)):c=0,I=Vr(3,null,null,c),o.current=I,I.stateNode=o,I.memoizedState={element:x,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},pg(I),o}function XI(o,c,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:x==null?null:""+x,children:o,containerInfo:c,implementation:h}}function u1(o){if(!o)return ps;o=o._reactInternals;e:{if(ki(o)!==o||o.tag!==1)throw Error(n(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(sr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(sr(h))return D_(o,h,c)}return c}function d1(o,c,h,x,P,I,V,ae,de){return o=ty(h,x,!0,o,P,I,V,ae,de),o.context=u1(null),h=o.current,x=Yn(),P=xs(h),I=_o(x,P),I.callback=c??null,ys(h,I,P),o.current.lanes=P,wr(o,P,x),cr(o,x),o}function kh(o,c,h,x){var P=c.current,I=Yn(),V=xs(P);return h=u1(h),c.context===null?c.context=h:c.pendingContext=h,c=_o(I,V),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=ys(P,c,V),o!==null&&(mi(o,P,V,I),nh(o,P,V)),V}function Ch(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function f1(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function ny(o,c){f1(o,c),(o=o.alternate)&&f1(o,c)}function e3(){return null}var h1=typeof reportError=="function"?reportError:function(o){console.error(o)};function ry(o){this._internalRoot=o}Nh.prototype.render=ry.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));kh(o,c,null,null)},Nh.prototype.unmount=ry.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;za(function(){kh(null,o,null,null)}),c[Ot]=null}};function Nh(o){this._internalRoot=o}Nh.prototype.unstable_scheduleHydration=function(o){if(o){var c=Rl();o={blockedOn:null,target:o,priority:c};for(var h=0;h<gn.length&&c!==0&&c<gn[h].priority;h++);gn.splice(h,0,o),h===0&&Il(o)}};function iy(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Ph(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function p1(){}function t3(o,c,h,x,P){if(P){if(typeof x=="function"){var I=x;x=function(){var Se=Ch(V);I.call(Se)}}var V=d1(c,x,o,0,null,!1,!1,"",p1);return o._reactRootContainer=V,o[Ot]=V.current,cs(o.nodeType===8?o.parentNode:o),za(),V}for(;P=o.lastChild;)o.removeChild(P);if(typeof x=="function"){var ae=x;x=function(){var Se=Ch(de);ae.call(Se)}}var de=ty(o,0,!1,null,null,!1,!1,"",p1);return o._reactRootContainer=de,o[Ot]=de.current,cs(o.nodeType===8?o.parentNode:o),za(function(){kh(c,de,h,x)}),de}function Th(o,c,h,x,P){var I=h._reactRootContainer;if(I){var V=I;if(typeof P=="function"){var ae=P;P=function(){var de=Ch(V);ae.call(de)}}kh(c,V,o,P)}else V=t3(h,c,o,P,x);return Ch(V)}Tl=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var h=mt(c.pendingLanes);h!==0&&(si(c,h|1),cr(c,Xt()),(At&6)===0&&(lc=Xt()+500,ms()))}break;case 13:za(function(){var x=wo(o,1);if(x!==null){var P=Yn();mi(x,o,1,P)}}),ny(o,1)}},ro=function(o){if(o.tag===13){var c=wo(o,134217728);if(c!==null){var h=Yn();mi(c,o,134217728,h)}ny(o,134217728)}},Al=function(o){if(o.tag===13){var c=xs(o),h=wo(o,c);if(h!==null){var x=Yn();mi(h,o,c,x)}ny(o,c)}},Rl=function(){return Pt},va=function(o,c){var h=Pt;try{return Pt=o,c()}finally{Pt=h}},Wo=function(o,c,h){switch(c){case"input":if(oe(o,h),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var x=h[c];if(x!==o&&x.form===o.form){var P=Gl(x);if(!P)throw Error(n(90));ot(x),oe(x,P)}}}break;case"textarea":qe(o,h);break;case"select":c=h.value,c!=null&&je(o,!!h.multiple,c,!1)}},gf=Gg,yf=za;var n3={usingClientEntryPoint:!1,Events:[po,mo,Gl,pf,mf,Gg]},od={findFiberByHostInstance:ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r3={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=_f(o),o===null?null:o.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||e3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{ga=Ah.inject(r3),vr=Ah}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n3,ur.createPortal=function(o,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iy(c))throw Error(n(200));return XI(o,c,null,h)},ur.createRoot=function(o,c){if(!iy(o))throw Error(n(299));var h=!1,x="",P=h1;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=ty(o,1,!1,null,null,h,!1,x,P),o[Ot]=c.current,cs(o.nodeType===8?o.parentNode:o),new ry(c)},ur.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=_f(c),o=o===null?null:o.stateNode,o},ur.flushSync=function(o){return za(o)},ur.hydrate=function(o,c,h){if(!Ph(c))throw Error(n(200));return Th(null,o,c,!0,h)},ur.hydrateRoot=function(o,c,h){if(!iy(o))throw Error(n(405));var x=h!=null&&h.hydratedSources||null,P=!1,I="",V=h1;if(h!=null&&(h.unstable_strictMode===!0&&(P=!0),h.identifierPrefix!==void 0&&(I=h.identifierPrefix),h.onRecoverableError!==void 0&&(V=h.onRecoverableError)),c=d1(c,null,o,1,h??null,P,!1,I,V),o[Ot]=c.current,cs(o),x)for(o=0;o<x.length;o++)h=x[o],P=h._getVersion,P=P(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,P]:c.mutableSourceEagerHydrationData.push(h,P);return new Nh(c)},ur.render=function(o,c,h){if(!Ph(c))throw Error(n(200));return Th(null,o,c,!1,h)},ur.unmountComponentAtNode=function(o){if(!Ph(o))throw Error(n(40));return o._reactRootContainer?(za(function(){Th(null,null,o,!1,function(){o._reactRootContainer=null,o[Ot]=null})}),!0):!1},ur.unstable_batchedUpdates=Gg,ur.unstable_renderSubtreeIntoContainer=function(o,c,h,x){if(!Ph(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Th(o,c,h,!1,x)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var E1;function IE(){if(E1)return ly.exports;E1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ly.exports=h3(),ly.exports}var S1;function p3(){if(S1)return jh;S1=1;var e=IE();return jh.createRoot=e.createRoot,jh.hydrateRoot=e.hydrateRoot,jh}var m3=p3(),dy={},ad={},k1;function g3(){if(k1)return ad;k1=1,ad.byteLength=u,ad.toByteArray=p,ad.fromByteArray=b;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function l(_){var S=_.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=_.indexOf("=");v===-1&&(v=S);var E=v===S?0:4-v%4;return[v,E]}function u(_){var S=l(_),v=S[0],E=S[1];return(v+E)*3/4-E}function d(_,S,v){return(S+v)*3/4-v}function p(_){var S,v=l(_),E=v[0],k=v[1],A=new n(d(_,E,k)),T=0,z=k>0?E-4:E,D;for(D=0;D<z;D+=4)S=t[_.charCodeAt(D)]<<18|t[_.charCodeAt(D+1)]<<12|t[_.charCodeAt(D+2)]<<6|t[_.charCodeAt(D+3)],A[T++]=S>>16&255,A[T++]=S>>8&255,A[T++]=S&255;return k===2&&(S=t[_.charCodeAt(D)]<<2|t[_.charCodeAt(D+1)]>>4,A[T++]=S&255),k===1&&(S=t[_.charCodeAt(D)]<<10|t[_.charCodeAt(D+1)]<<4|t[_.charCodeAt(D+2)]>>2,A[T++]=S>>8&255,A[T++]=S&255),A}function y(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function g(_,S,v){for(var E,k=[],A=S;A<v;A+=3)E=(_[A]<<16&16711680)+(_[A+1]<<8&65280)+(_[A+2]&255),k.push(y(E));return k.join("")}function b(_){for(var S,v=_.length,E=v%3,k=[],A=16383,T=0,z=v-E;T<z;T+=A)k.push(g(_,T,T+A>z?z:T+A));return E===1?(S=_[v-1],k.push(e[S>>2]+e[S<<4&63]+"==")):E===2&&(S=(_[v-2]<<8)+_[v-1],k.push(e[S>>10]+e[S>>4&63]+e[S<<2&63]+"=")),k.join("")}return ad}var Lh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var C1;function y3(){return C1||(C1=1,Lh.read=function(e,t,n,r,i){var s,l,u=i*8-r-1,d=(1<<u)-1,p=d>>1,y=-7,g=n?i-1:0,b=n?-1:1,_=e[t+g];for(g+=b,s=_&(1<<-y)-1,_>>=-y,y+=u;y>0;s=s*256+e[t+g],g+=b,y-=8);for(l=s&(1<<-y)-1,s>>=-y,y+=r;y>0;l=l*256+e[t+g],g+=b,y-=8);if(s===0)s=1-p;else{if(s===d)return l?NaN:(_?-1:1)*(1/0);l=l+Math.pow(2,r),s=s-p}return(_?-1:1)*l*Math.pow(2,s-r)},Lh.write=function(e,t,n,r,i,s){var l,u,d,p=s*8-i-1,y=(1<<p)-1,g=y>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=r?0:s-1,S=r?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,l=y):(l=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+g>=1?t+=b/d:t+=b*Math.pow(2,1-g),t*d>=2&&(l++,d/=2),l+g>=y?(u=0,l=y):l+g>=1?(u=(t*d-1)*Math.pow(2,i),l=l+g):(u=t*Math.pow(2,g-1)*Math.pow(2,i),l=0));i>=8;e[n+_]=u&255,_+=S,u/=256,i-=8);for(l=l<<i|u,p+=i;p>0;e[n+_]=l&255,_+=S,l/=256,p-=8);e[n+_-S]|=v*128}),Lh}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var N1;function v3(){return N1||(N1=1,function(e){const t=g3(),n=y3(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=A,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=s(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const G=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(G,R),G.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(G){if(G>i)throw new RangeError('The value "'+G+'" is invalid for option "size"');const R=new Uint8Array(G);return Object.setPrototypeOf(R,u.prototype),R}function u(G,R,O){if(typeof G=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(G)}return d(G,R,O)}u.poolSize=8192;function d(G,R,O){if(typeof G=="string")return b(G,R);if(ArrayBuffer.isView(G))return S(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(me(G,ArrayBuffer)||G&&me(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(G,SharedArrayBuffer)||G&&me(G.buffer,SharedArrayBuffer)))return v(G,R,O);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=G.valueOf&&G.valueOf();if(ne!=null&&ne!==G)return u.from(ne,R,O);const fe=E(G);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return u.from(G[Symbol.toPrimitive]("string"),R,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}u.from=function(G,R,O){return d(G,R,O)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function y(G,R,O){return p(G),G<=0?l(G):R!==void 0?typeof O=="string"?l(G).fill(R,O):l(G).fill(R):l(G)}u.alloc=function(G,R,O){return y(G,R,O)};function g(G){return p(G),l(G<0?0:k(G)|0)}u.allocUnsafe=function(G){return g(G)},u.allocUnsafeSlow=function(G){return g(G)};function b(G,R){if((typeof R!="string"||R==="")&&(R="utf8"),!u.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const O=T(G,R)|0;let ne=l(O);const fe=ne.write(G,R);return fe!==O&&(ne=ne.slice(0,fe)),ne}function _(G){const R=G.length<0?0:k(G.length)|0,O=l(R);for(let ne=0;ne<R;ne+=1)O[ne]=G[ne]&255;return O}function S(G){if(me(G,Uint8Array)){const R=new Uint8Array(G);return v(R.buffer,R.byteOffset,R.byteLength)}return _(G)}function v(G,R,O){if(R<0||G.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<R+(O||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return R===void 0&&O===void 0?ne=new Uint8Array(G):O===void 0?ne=new Uint8Array(G,R):ne=new Uint8Array(G,R,O),Object.setPrototypeOf(ne,u.prototype),ne}function E(G){if(u.isBuffer(G)){const R=k(G.length)|0,O=l(R);return O.length===0||G.copy(O,0,0,R),O}if(G.length!==void 0)return typeof G.length!="number"||Be(G.length)?l(0):_(G);if(G.type==="Buffer"&&Array.isArray(G.data))return _(G.data)}function k(G){if(G>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return G|0}function A(G){return+G!=G&&(G=0),u.alloc(+G)}u.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==u.prototype},u.compare=function(R,O){if(me(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),me(O,Uint8Array)&&(O=u.from(O,O.offset,O.byteLength)),!u.isBuffer(R)||!u.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===O)return 0;let ne=R.length,fe=O.length;for(let xe=0,Ce=Math.min(ne,fe);xe<Ce;++xe)if(R[xe]!==O[xe]){ne=R[xe],fe=O[xe];break}return ne<fe?-1:fe<ne?1:0},u.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(R,O){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return u.alloc(0);let ne;if(O===void 0)for(O=0,ne=0;ne<R.length;++ne)O+=R[ne].length;const fe=u.allocUnsafe(O);let xe=0;for(ne=0;ne<R.length;++ne){let Ce=R[ne];if(me(Ce,Uint8Array))xe+Ce.length>fe.length?(u.isBuffer(Ce)||(Ce=u.from(Ce)),Ce.copy(fe,xe)):Uint8Array.prototype.set.call(fe,Ce,xe);else if(u.isBuffer(Ce))Ce.copy(fe,xe);else throw new TypeError('"list" argument must be an Array of Buffers');xe+=Ce.length}return fe};function T(G,R){if(u.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||me(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const O=G.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&O===0)return 0;let fe=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return oe(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return Re(G).length;default:if(fe)return ne?-1:oe(G).length;R=(""+R).toLowerCase(),fe=!0}}u.byteLength=T;function z(G,R,O){let ne=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,R>>>=0,O<=R))return"";for(G||(G="utf8");;)switch(G){case"hex":return ee(this,R,O);case"utf8":case"utf-8":return j(this,R,O);case"ascii":return ie(this,R,O);case"latin1":case"binary":return te(this,R,O);case"base64":return X(this,R,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,R,O);default:if(ne)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),ne=!0}}u.prototype._isBuffer=!0;function D(G,R,O){const ne=G[R];G[R]=G[O],G[O]=ne}u.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<R;O+=2)D(this,O,O+1);return this},u.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<R;O+=4)D(this,O,O+3),D(this,O+1,O+2);return this},u.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<R;O+=8)D(this,O,O+7),D(this,O+1,O+6),D(this,O+2,O+5),D(this,O+3,O+4);return this},u.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?j(this,0,R):z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(R){if(!u.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:u.compare(this,R)===0},u.prototype.inspect=function(){let R="";const O=e.INSPECT_MAX_BYTES;return R=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(R+=" ... "),"<Buffer "+R+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(R,O,ne,fe,xe){if(me(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),!u.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(O===void 0&&(O=0),ne===void 0&&(ne=R?R.length:0),fe===void 0&&(fe=0),xe===void 0&&(xe=this.length),O<0||ne>R.length||fe<0||xe>this.length)throw new RangeError("out of range index");if(fe>=xe&&O>=ne)return 0;if(fe>=xe)return-1;if(O>=ne)return 1;if(O>>>=0,ne>>>=0,fe>>>=0,xe>>>=0,this===R)return 0;let Ce=xe-fe,dt=ne-O;const jt=Math.min(Ce,dt),bt=this.slice(fe,xe),Ct=R.slice(O,ne);for(let Nt=0;Nt<jt;++Nt)if(bt[Nt]!==Ct[Nt]){Ce=bt[Nt],dt=Ct[Nt];break}return Ce<dt?-1:dt<Ce?1:0};function $(G,R,O,ne,fe){if(G.length===0)return-1;if(typeof O=="string"?(ne=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,Be(O)&&(O=fe?0:G.length-1),O<0&&(O=G.length+O),O>=G.length){if(fe)return-1;O=G.length-1}else if(O<0)if(fe)O=0;else return-1;if(typeof R=="string"&&(R=u.from(R,ne)),u.isBuffer(R))return R.length===0?-1:Z(G,R,O,ne,fe);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(G,R,O):Uint8Array.prototype.lastIndexOf.call(G,R,O):Z(G,[R],O,ne,fe);throw new TypeError("val must be string, number or Buffer")}function Z(G,R,O,ne,fe){let xe=1,Ce=G.length,dt=R.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(G.length<2||R.length<2)return-1;xe=2,Ce/=2,dt/=2,O/=2}function jt(Ct,Nt){return xe===1?Ct[Nt]:Ct.readUInt16BE(Nt*xe)}let bt;if(fe){let Ct=-1;for(bt=O;bt<Ce;bt++)if(jt(G,bt)===jt(R,Ct===-1?0:bt-Ct)){if(Ct===-1&&(Ct=bt),bt-Ct+1===dt)return Ct*xe}else Ct!==-1&&(bt-=bt-Ct),Ct=-1}else for(O+dt>Ce&&(O=Ce-dt),bt=O;bt>=0;bt--){let Ct=!0;for(let Nt=0;Nt<dt;Nt++)if(jt(G,bt+Nt)!==jt(R,Nt)){Ct=!1;break}if(Ct)return bt}return-1}u.prototype.includes=function(R,O,ne){return this.indexOf(R,O,ne)!==-1},u.prototype.indexOf=function(R,O,ne){return $(this,R,O,ne,!0)},u.prototype.lastIndexOf=function(R,O,ne){return $(this,R,O,ne,!1)};function q(G,R,O,ne){O=Number(O)||0;const fe=G.length-O;ne?(ne=Number(ne),ne>fe&&(ne=fe)):ne=fe;const xe=R.length;ne>xe/2&&(ne=xe/2);let Ce;for(Ce=0;Ce<ne;++Ce){const dt=parseInt(R.substr(Ce*2,2),16);if(Be(dt))return Ce;G[O+Ce]=dt}return Ce}function F(G,R,O,ne){return je(oe(R,G.length-O),G,O,ne)}function W(G,R,O,ne){return je(re(R),G,O,ne)}function J(G,R,O,ne){return je(Re(R),G,O,ne)}function U(G,R,O,ne){return je(pe(R,G.length-O),G,O,ne)}u.prototype.write=function(R,O,ne,fe){if(O===void 0)fe="utf8",ne=this.length,O=0;else if(ne===void 0&&typeof O=="string")fe=O,ne=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(ne)?(ne=ne>>>0,fe===void 0&&(fe="utf8")):(fe=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const xe=this.length-O;if((ne===void 0||ne>xe)&&(ne=xe),R.length>0&&(ne<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ce=!1;for(;;)switch(fe){case"hex":return q(this,R,O,ne);case"utf8":case"utf-8":return F(this,R,O,ne);case"ascii":case"latin1":case"binary":return W(this,R,O,ne);case"base64":return J(this,R,O,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,R,O,ne);default:if(Ce)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ce=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(G,R,O){return R===0&&O===G.length?t.fromByteArray(G):t.fromByteArray(G.slice(R,O))}function j(G,R,O){O=Math.min(G.length,O);const ne=[];let fe=R;for(;fe<O;){const xe=G[fe];let Ce=null,dt=xe>239?4:xe>223?3:xe>191?2:1;if(fe+dt<=O){let jt,bt,Ct,Nt;switch(dt){case 1:xe<128&&(Ce=xe);break;case 2:jt=G[fe+1],(jt&192)===128&&(Nt=(xe&31)<<6|jt&63,Nt>127&&(Ce=Nt));break;case 3:jt=G[fe+1],bt=G[fe+2],(jt&192)===128&&(bt&192)===128&&(Nt=(xe&15)<<12|(jt&63)<<6|bt&63,Nt>2047&&(Nt<55296||Nt>57343)&&(Ce=Nt));break;case 4:jt=G[fe+1],bt=G[fe+2],Ct=G[fe+3],(jt&192)===128&&(bt&192)===128&&(Ct&192)===128&&(Nt=(xe&15)<<18|(jt&63)<<12|(bt&63)<<6|Ct&63,Nt>65535&&Nt<1114112&&(Ce=Nt))}}Ce===null?(Ce=65533,dt=1):Ce>65535&&(Ce-=65536,ne.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),ne.push(Ce),fe+=dt}return se(ne)}const K=4096;function se(G){const R=G.length;if(R<=K)return String.fromCharCode.apply(String,G);let O="",ne=0;for(;ne<R;)O+=String.fromCharCode.apply(String,G.slice(ne,ne+=K));return O}function ie(G,R,O){let ne="";O=Math.min(G.length,O);for(let fe=R;fe<O;++fe)ne+=String.fromCharCode(G[fe]&127);return ne}function te(G,R,O){let ne="";O=Math.min(G.length,O);for(let fe=R;fe<O;++fe)ne+=String.fromCharCode(G[fe]);return ne}function ee(G,R,O){const ne=G.length;(!R||R<0)&&(R=0),(!O||O<0||O>ne)&&(O=ne);let fe="";for(let xe=R;xe<O;++xe)fe+=qe[G[xe]];return fe}function le(G,R,O){const ne=G.slice(R,O);let fe="";for(let xe=0;xe<ne.length-1;xe+=2)fe+=String.fromCharCode(ne[xe]+ne[xe+1]*256);return fe}u.prototype.slice=function(R,O){const ne=this.length;R=~~R,O=O===void 0?ne:~~O,R<0?(R+=ne,R<0&&(R=0)):R>ne&&(R=ne),O<0?(O+=ne,O<0&&(O=0)):O>ne&&(O=ne),O<R&&(O=R);const fe=this.subarray(R,O);return Object.setPrototypeOf(fe,u.prototype),fe};function H(G,R,O){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+R>O)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(R,O,ne){R=R>>>0,O=O>>>0,ne||H(R,O,this.length);let fe=this[R],xe=1,Ce=0;for(;++Ce<O&&(xe*=256);)fe+=this[R+Ce]*xe;return fe},u.prototype.readUintBE=u.prototype.readUIntBE=function(R,O,ne){R=R>>>0,O=O>>>0,ne||H(R,O,this.length);let fe=this[R+--O],xe=1;for(;O>0&&(xe*=256);)fe+=this[R+--O]*xe;return fe},u.prototype.readUint8=u.prototype.readUInt8=function(R,O){return R=R>>>0,O||H(R,1,this.length),this[R]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(R,O){return R=R>>>0,O||H(R,2,this.length),this[R]|this[R+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(R,O){return R=R>>>0,O||H(R,2,this.length),this[R]<<8|this[R+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(R,O){return R=R>>>0,O||H(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(R,O){return R=R>>>0,O||H(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},u.prototype.readBigUInt64LE=De(function(R){R=R>>>0,at(R,"offset");const O=this[R],ne=this[R+7];(O===void 0||ne===void 0)&&B(R,this.length-8);const fe=O+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,xe=this[++R]+this[++R]*2**8+this[++R]*2**16+ne*2**24;return BigInt(fe)+(BigInt(xe)<<BigInt(32))}),u.prototype.readBigUInt64BE=De(function(R){R=R>>>0,at(R,"offset");const O=this[R],ne=this[R+7];(O===void 0||ne===void 0)&&B(R,this.length-8);const fe=O*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],xe=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+ne;return(BigInt(fe)<<BigInt(32))+BigInt(xe)}),u.prototype.readIntLE=function(R,O,ne){R=R>>>0,O=O>>>0,ne||H(R,O,this.length);let fe=this[R],xe=1,Ce=0;for(;++Ce<O&&(xe*=256);)fe+=this[R+Ce]*xe;return xe*=128,fe>=xe&&(fe-=Math.pow(2,8*O)),fe},u.prototype.readIntBE=function(R,O,ne){R=R>>>0,O=O>>>0,ne||H(R,O,this.length);let fe=O,xe=1,Ce=this[R+--fe];for(;fe>0&&(xe*=256);)Ce+=this[R+--fe]*xe;return xe*=128,Ce>=xe&&(Ce-=Math.pow(2,8*O)),Ce},u.prototype.readInt8=function(R,O){return R=R>>>0,O||H(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},u.prototype.readInt16LE=function(R,O){R=R>>>0,O||H(R,2,this.length);const ne=this[R]|this[R+1]<<8;return ne&32768?ne|4294901760:ne},u.prototype.readInt16BE=function(R,O){R=R>>>0,O||H(R,2,this.length);const ne=this[R+1]|this[R]<<8;return ne&32768?ne|4294901760:ne},u.prototype.readInt32LE=function(R,O){return R=R>>>0,O||H(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},u.prototype.readInt32BE=function(R,O){return R=R>>>0,O||H(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},u.prototype.readBigInt64LE=De(function(R){R=R>>>0,at(R,"offset");const O=this[R],ne=this[R+7];(O===void 0||ne===void 0)&&B(R,this.length-8);const fe=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(ne<<24);return(BigInt(fe)<<BigInt(32))+BigInt(O+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),u.prototype.readBigInt64BE=De(function(R){R=R>>>0,at(R,"offset");const O=this[R],ne=this[R+7];(O===void 0||ne===void 0)&&B(R,this.length-8);const fe=(O<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(fe)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+ne)}),u.prototype.readFloatLE=function(R,O){return R=R>>>0,O||H(R,4,this.length),n.read(this,R,!0,23,4)},u.prototype.readFloatBE=function(R,O){return R=R>>>0,O||H(R,4,this.length),n.read(this,R,!1,23,4)},u.prototype.readDoubleLE=function(R,O){return R=R>>>0,O||H(R,8,this.length),n.read(this,R,!0,52,8)},u.prototype.readDoubleBE=function(R,O){return R=R>>>0,O||H(R,8,this.length),n.read(this,R,!1,52,8)};function Q(G,R,O,ne,fe,xe){if(!u.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>fe||R<xe)throw new RangeError('"value" argument is out of bounds');if(O+ne>G.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(R,O,ne,fe){if(R=+R,O=O>>>0,ne=ne>>>0,!fe){const dt=Math.pow(2,8*ne)-1;Q(this,R,O,ne,dt,0)}let xe=1,Ce=0;for(this[O]=R&255;++Ce<ne&&(xe*=256);)this[O+Ce]=R/xe&255;return O+ne},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(R,O,ne,fe){if(R=+R,O=O>>>0,ne=ne>>>0,!fe){const dt=Math.pow(2,8*ne)-1;Q(this,R,O,ne,dt,0)}let xe=ne-1,Ce=1;for(this[O+xe]=R&255;--xe>=0&&(Ce*=256);)this[O+xe]=R/Ce&255;return O+ne},u.prototype.writeUint8=u.prototype.writeUInt8=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,1,255,0),this[O]=R&255,O+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,2,65535,0),this[O]=R&255,this[O+1]=R>>>8,O+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,2,65535,0),this[O]=R>>>8,this[O+1]=R&255,O+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,4,4294967295,0),this[O+3]=R>>>24,this[O+2]=R>>>16,this[O+1]=R>>>8,this[O]=R&255,O+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,4,4294967295,0),this[O]=R>>>24,this[O+1]=R>>>16,this[O+2]=R>>>8,this[O+3]=R&255,O+4};function ke(G,R,O,ne,fe){ot(R,ne,fe,G,O,7);let xe=Number(R&BigInt(4294967295));G[O++]=xe,xe=xe>>8,G[O++]=xe,xe=xe>>8,G[O++]=xe,xe=xe>>8,G[O++]=xe;let Ce=Number(R>>BigInt(32)&BigInt(4294967295));return G[O++]=Ce,Ce=Ce>>8,G[O++]=Ce,Ce=Ce>>8,G[O++]=Ce,Ce=Ce>>8,G[O++]=Ce,O}function _e(G,R,O,ne,fe){ot(R,ne,fe,G,O,7);let xe=Number(R&BigInt(4294967295));G[O+7]=xe,xe=xe>>8,G[O+6]=xe,xe=xe>>8,G[O+5]=xe,xe=xe>>8,G[O+4]=xe;let Ce=Number(R>>BigInt(32)&BigInt(4294967295));return G[O+3]=Ce,Ce=Ce>>8,G[O+2]=Ce,Ce=Ce>>8,G[O+1]=Ce,Ce=Ce>>8,G[O]=Ce,O+8}u.prototype.writeBigUInt64LE=De(function(R,O=0){return ke(this,R,O,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=De(function(R,O=0){return _e(this,R,O,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(R,O,ne,fe){if(R=+R,O=O>>>0,!fe){const jt=Math.pow(2,8*ne-1);Q(this,R,O,ne,jt-1,-jt)}let xe=0,Ce=1,dt=0;for(this[O]=R&255;++xe<ne&&(Ce*=256);)R<0&&dt===0&&this[O+xe-1]!==0&&(dt=1),this[O+xe]=(R/Ce>>0)-dt&255;return O+ne},u.prototype.writeIntBE=function(R,O,ne,fe){if(R=+R,O=O>>>0,!fe){const jt=Math.pow(2,8*ne-1);Q(this,R,O,ne,jt-1,-jt)}let xe=ne-1,Ce=1,dt=0;for(this[O+xe]=R&255;--xe>=0&&(Ce*=256);)R<0&&dt===0&&this[O+xe+1]!==0&&(dt=1),this[O+xe]=(R/Ce>>0)-dt&255;return O+ne},u.prototype.writeInt8=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,1,127,-128),R<0&&(R=255+R+1),this[O]=R&255,O+1},u.prototype.writeInt16LE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,2,32767,-32768),this[O]=R&255,this[O+1]=R>>>8,O+2},u.prototype.writeInt16BE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,2,32767,-32768),this[O]=R>>>8,this[O+1]=R&255,O+2},u.prototype.writeInt32LE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,4,2147483647,-2147483648),this[O]=R&255,this[O+1]=R>>>8,this[O+2]=R>>>16,this[O+3]=R>>>24,O+4},u.prototype.writeInt32BE=function(R,O,ne){return R=+R,O=O>>>0,ne||Q(this,R,O,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[O]=R>>>24,this[O+1]=R>>>16,this[O+2]=R>>>8,this[O+3]=R&255,O+4},u.prototype.writeBigInt64LE=De(function(R,O=0){return ke(this,R,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=De(function(R,O=0){return _e(this,R,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ve(G,R,O,ne,fe,xe){if(O+ne>G.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function Ie(G,R,O,ne,fe){return R=+R,O=O>>>0,fe||ve(G,R,O,4),n.write(G,R,O,ne,23,4),O+4}u.prototype.writeFloatLE=function(R,O,ne){return Ie(this,R,O,!0,ne)},u.prototype.writeFloatBE=function(R,O,ne){return Ie(this,R,O,!1,ne)};function Pe(G,R,O,ne,fe){return R=+R,O=O>>>0,fe||ve(G,R,O,8),n.write(G,R,O,ne,52,8),O+8}u.prototype.writeDoubleLE=function(R,O,ne){return Pe(this,R,O,!0,ne)},u.prototype.writeDoubleBE=function(R,O,ne){return Pe(this,R,O,!1,ne)},u.prototype.copy=function(R,O,ne,fe){if(!u.isBuffer(R))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!fe&&fe!==0&&(fe=this.length),O>=R.length&&(O=R.length),O||(O=0),fe>0&&fe<ne&&(fe=ne),fe===ne||R.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),R.length-O<fe-ne&&(fe=R.length-O+ne);const xe=fe-ne;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(O,ne,fe):Uint8Array.prototype.set.call(R,this.subarray(ne,fe),O),xe},u.prototype.fill=function(R,O,ne,fe){if(typeof R=="string"){if(typeof O=="string"?(fe=O,O=0,ne=this.length):typeof ne=="string"&&(fe=ne,ne=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!u.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(R.length===1){const Ce=R.charCodeAt(0);(fe==="utf8"&&Ce<128||fe==="latin1")&&(R=Ce)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(O<0||this.length<O||this.length<ne)throw new RangeError("Out of range index");if(ne<=O)return this;O=O>>>0,ne=ne===void 0?this.length:ne>>>0,R||(R=0);let xe;if(typeof R=="number")for(xe=O;xe<ne;++xe)this[xe]=R;else{const Ce=u.isBuffer(R)?R:u.from(R,fe),dt=Ce.length;if(dt===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(xe=0;xe<ne-O;++xe)this[xe+O]=Ce[xe%dt]}return this};const Te={};function Oe(G,R,O){Te[G]=class extends O{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}Oe("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Oe("ERR_INVALID_ARG_TYPE",function(G,R){return`The "${G}" argument must be of type number. Received type ${typeof R}`},TypeError),Oe("ERR_OUT_OF_RANGE",function(G,R,O){let ne=`The value of "${G}" is out of range.`,fe=O;return Number.isInteger(O)&&Math.abs(O)>2**32?fe=He(String(O)):typeof O=="bigint"&&(fe=String(O),(O>BigInt(2)**BigInt(32)||O<-(BigInt(2)**BigInt(32)))&&(fe=He(fe)),fe+="n"),ne+=` It must be ${R}. Received ${fe}`,ne},RangeError);function He(G){let R="",O=G.length;const ne=G[0]==="-"?1:0;for(;O>=ne+4;O-=3)R=`_${G.slice(O-3,O)}${R}`;return`${G.slice(0,O)}${R}`}function Qe(G,R,O){at(R,"offset"),(G[R]===void 0||G[R+O]===void 0)&&B(R,G.length-(O+1))}function ot(G,R,O,ne,fe,xe){if(G>O||G<R){const Ce=typeof R=="bigint"?"n":"";let dt;throw R===0||R===BigInt(0)?dt=`>= 0${Ce} and < 2${Ce} ** ${(xe+1)*8}${Ce}`:dt=`>= -(2${Ce} ** ${(xe+1)*8-1}${Ce}) and < 2 ** ${(xe+1)*8-1}${Ce}`,new Te.ERR_OUT_OF_RANGE("value",dt,G)}Qe(ne,fe,xe)}function at(G,R){if(typeof G!="number")throw new Te.ERR_INVALID_ARG_TYPE(R,"number",G)}function B(G,R,O){throw Math.floor(G)!==G?(at(G,O),new Te.ERR_OUT_OF_RANGE("offset","an integer",G)):R<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,G)}const Ne=/[^+/0-9A-Za-z-_]/g;function be(G){if(G=G.split("=")[0],G=G.trim().replace(Ne,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function oe(G,R){R=R||1/0;let O;const ne=G.length;let fe=null;const xe=[];for(let Ce=0;Ce<ne;++Ce){if(O=G.charCodeAt(Ce),O>55295&&O<57344){if(!fe){if(O>56319){(R-=3)>-1&&xe.push(239,191,189);continue}else if(Ce+1===ne){(R-=3)>-1&&xe.push(239,191,189);continue}fe=O;continue}if(O<56320){(R-=3)>-1&&xe.push(239,191,189),fe=O;continue}O=(fe-55296<<10|O-56320)+65536}else fe&&(R-=3)>-1&&xe.push(239,191,189);if(fe=null,O<128){if((R-=1)<0)break;xe.push(O)}else if(O<2048){if((R-=2)<0)break;xe.push(O>>6|192,O&63|128)}else if(O<65536){if((R-=3)<0)break;xe.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((R-=4)<0)break;xe.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return xe}function re(G){const R=[];for(let O=0;O<G.length;++O)R.push(G.charCodeAt(O)&255);return R}function pe(G,R){let O,ne,fe;const xe=[];for(let Ce=0;Ce<G.length&&!((R-=2)<0);++Ce)O=G.charCodeAt(Ce),ne=O>>8,fe=O%256,xe.push(fe),xe.push(ne);return xe}function Re(G){return t.toByteArray(be(G))}function je(G,R,O,ne){let fe;for(fe=0;fe<ne&&!(fe+O>=R.length||fe>=G.length);++fe)R[fe+O]=G[fe];return fe}function me(G,R){return G instanceof R||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===R.name}function Be(G){return G!==G}const qe=function(){const G="0123456789abcdef",R=new Array(256);for(let O=0;O<16;++O){const ne=O*16;for(let fe=0;fe<16;++fe)R[ne+fe]=G[O]+G[fe]}return R}();function De(G){return typeof BigInt>"u"?tt:G}function tt(){throw new Error("BigInt not supported")}}(dy)),dy}var w3=v3();const _3=Qd(w3);globalThis.Buffer||(globalThis.Buffer=_3.Buffer);AbortSignal.any||(AbortSignal.any=function(e){if(e.length===0)return new AbortController().signal;if(e.length===1)return e[0];for(const r of e)if(r.aborted){const i=new AbortController;return i.abort(r.reason),i.signal}const t=new AbortController,n=r=>{const i=r.target;t.abort(i.reason)};for(const r of e)r.addEventListener("abort",n,{once:!0});return t.signal.addEventListener("abort",()=>{for(const r of e)r.removeEventListener("abort",n)},{once:!0}),t.signal});AbortSignal.timeout||(AbortSignal.timeout=function(e){const t=new AbortController;return setTimeout(()=>{t.abort(new DOMException("The operation was aborted due to timeout","TimeoutError"))},e),t.signal});var C=Mp();const Ls=Qd(C),D0=a3({__proto__:null,default:Ls},[C]);class x3 extends C.Component{constructor(n){super(n);Ze(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n,r;return this.state.hasError?this.props.fallback?this.props.fallback:m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:m.jsxs("div",{className:"max-w-md w-full space-y-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),m.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. The error has been reported."})]}),m.jsx("div",{className:"bg-muted p-4 rounded-lg",children:m.jsxs("details",{className:"text-sm",children:[m.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Error details"}),m.jsxs("div",{className:"mt-2 space-y-2",children:[m.jsxs("div",{children:[m.jsx("strong",{className:"text-foreground",children:"Message:"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:(n=this.state.error)==null?void 0:n.message})]}),((r=this.state.error)==null?void 0:r.stack)&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-foreground",children:"Stack trace:"}),m.jsx("pre",{className:"text-xs text-muted-foreground mt-1 overflow-auto max-h-32",children:this.state.error.stack})]})]})]})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try again"}),m.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload page"})]})]})}):this.props.children}}var Yc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},il=typeof window>"u"||"Deno"in globalThis;function Jr(){}function b3(e,t){return typeof e=="function"?e(t):e}function xv(e){return typeof e=="number"&&e>=0&&e!==1/0}function jE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _c(e,t){return typeof e=="function"?e(t):e}function _i(e,t){return typeof e=="function"?e(t):e}function P1(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==B0(l,t.options))return!1}else if(!Cd(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||s&&!s(t))}function T1(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(ol(t.options.mutationKey)!==ol(s))return!1}else if(!Cd(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function B0(e,t){return((t==null?void 0:t.queryKeyHashFn)||ol)(e)}function ol(e){return JSON.stringify(e,(t,n)=>bv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Cd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Cd(e[n],t[n])):!1}function LE(e,t){if(e===t)return e;const n=A1(e)&&A1(t);if(n||bv(e)&&bv(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),l=s.length,u=n?[]:{};let d=0;for(let p=0;p<l;p++){const y=n?p:s[p];(!n&&r.includes(y)||n)&&e[y]===void 0&&t[y]===void 0?(u[y]=void 0,d++):(u[y]=LE(e[y],t[y]),u[y]===e[y]&&e[y]!==void 0&&d++)}return i===l&&d===i?e:u}return t}function sp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function A1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function bv(e){if(!R1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!R1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function R1(e){return Object.prototype.toString.call(e)==="[object Object]"}function E3(e){return new Promise(t=>{setTimeout(t,e)})}function Ev(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?LE(e,t):t}function S3(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function k3(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var F0=Symbol();function OE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===F0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Va,zs,Nc,_E,C3=(_E=class extends Yc{constructor(){super();it(this,Va);it(this,zs);it(this,Nc);Ke(this,Nc,t=>{if(!il&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,zs)||this.setEventListener(ue(this,Nc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,zs))==null||t.call(this),Ke(this,zs,void 0))}setEventListener(t){var n;Ke(this,Nc,t),(n=ue(this,zs))==null||n.call(this),Ke(this,zs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ue(this,Va)!==t&&(Ke(this,Va,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ue(this,Va)=="boolean"?ue(this,Va):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Va=new WeakMap,zs=new WeakMap,Nc=new WeakMap,_E),U0=new C3,Pc,Ds,Tc,xE,N3=(xE=class extends Yc{constructor(){super();it(this,Pc,!0);it(this,Ds);it(this,Tc);Ke(this,Tc,t=>{if(!il&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ue(this,Ds)||this.setEventListener(ue(this,Tc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Ds))==null||t.call(this),Ke(this,Ds,void 0))}setEventListener(t){var n;Ke(this,Tc,t),(n=ue(this,Ds))==null||n.call(this),Ke(this,Ds,t(this.setOnline.bind(this)))}setOnline(t){ue(this,Pc)!==t&&(Ke(this,Pc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ue(this,Pc)}},Pc=new WeakMap,Ds=new WeakMap,Tc=new WeakMap,xE),ap=new N3;function Sv(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function P3(e){return Math.min(1e3*2**e,3e4)}function ME(e){return(e??"online")==="online"?ap.isOnline():!0}var zE=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fy(e){return e instanceof zE}function DE(e){let t=!1,n=0,r=!1,i;const s=Sv(),l=v=>{var E;r||(b(new zE(v)),(E=e.abort)==null||E.call(e))},u=()=>{t=!0},d=()=>{t=!1},p=()=>U0.isFocused()&&(e.networkMode==="always"||ap.isOnline())&&e.canRun(),y=()=>ME(e.networkMode)&&e.canRun(),g=v=>{var E;r||(r=!0,(E=e.onSuccess)==null||E.call(e,v),i==null||i(),s.resolve(v))},b=v=>{var E;r||(r=!0,(E=e.onError)==null||E.call(e,v),i==null||i(),s.reject(v))},_=()=>new Promise(v=>{var E;i=k=>{(r||p())&&v(k)},(E=e.onPause)==null||E.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),S=()=>{if(r)return;let v;const E=n===0?e.initialPromise:void 0;try{v=E??e.fn()}catch(k){v=Promise.reject(k)}Promise.resolve(v).then(g).catch(k=>{var $;if(r)return;const A=e.retry??(il?0:3),T=e.retryDelay??P3,z=typeof T=="function"?T(n,k):T,D=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,k);if(t||!D){b(k);return}n++,($=e.onFail)==null||$.call(e,n,k),E3(z).then(()=>p()?void 0:_()).then(()=>{t?b(k):S()})})};return{promise:s,cancel:l,continue:()=>(i==null||i(),s),cancelRetry:u,continueRetry:d,canStart:y,start:()=>(y()?S():_().then(S),s)}}var T3=e=>setTimeout(e,0);function A3(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=T3;const s=u=>{t?e.push(u):i(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{s(()=>{u(...d)})},schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var _n=A3(),qa,bE,BE=(bE=class{constructor(){it(this,qa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xv(this.gcTime)&&Ke(this,qa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(il?1/0:5*60*1e3))}clearGcTimeout(){ue(this,qa)&&(clearTimeout(ue(this,qa)),Ke(this,qa,void 0))}},qa=new WeakMap,bE),Ac,Rc,Yr,Ka,Un,Vd,Ga,vi,So,EE,R3=(EE=class extends BE{constructor(t){super();it(this,vi);it(this,Ac);it(this,Rc);it(this,Yr);it(this,Ka);it(this,Un);it(this,Vd);it(this,Ga);Ke(this,Ga,!1),Ke(this,Vd,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ke(this,Ka,t.client),Ke(this,Yr,ue(this,Ka).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ke(this,Ac,I3(this.options)),this.state=t.state??ue(this,Ac),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,Un))==null?void 0:t.promise}setOptions(t){this.options={...ue(this,Vd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,Yr).remove(this)}setData(t,n){const r=Ev(this.state.data,t,this.options);return vt(this,vi,So).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){vt(this,vi,So).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ue(this,Un))==null?void 0:r.promise;return(i=ue(this,Un))==null||i.cancel(t),n?n.then(Jr).catch(Jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,Ac))}isActive(){return this.observers.some(t=>_i(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===F0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!jE(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Un))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Un))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,Yr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ue(this,Un)&&(ue(this,Ga)?ue(this,Un).cancel({revert:!0}):ue(this,Un).cancelRetry()),this.scheduleGc()),ue(this,Yr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,vi,So).call(this,{type:"invalidate"})}fetch(t,n){var d,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Un))return ue(this,Un).continueRetry(),ue(this,Un).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(b=>b.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ke(this,Ga,!0),r.signal)})},s=()=>{const g=OE(this.options,n),b={client:ue(this,Ka),queryKey:this.queryKey,meta:this.meta};return i(b),Ke(this,Ga,!1),this.options.persister?this.options.persister(g,b,this):g(b)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,Ka),state:this.state,fetchFn:s};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),Ke(this,Rc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=l.fetchOptions)==null?void 0:p.meta))&&vt(this,vi,So).call(this,{type:"fetch",meta:(y=l.fetchOptions)==null?void 0:y.meta});const u=g=>{var b,_,S,v;fy(g)&&g.silent||vt(this,vi,So).call(this,{type:"error",error:g}),fy(g)||((_=(b=ue(this,Yr).config).onError)==null||_.call(b,g,this),(v=(S=ue(this,Yr).config).onSettled)==null||v.call(S,this.state.data,g,this)),this.scheduleGc()};return Ke(this,Un,DE({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var b,_,S,v;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(E){u(E);return}(_=(b=ue(this,Yr).config).onSuccess)==null||_.call(b,g,this),(v=(S=ue(this,Yr).config).onSettled)==null||v.call(S,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,b)=>{vt(this,vi,So).call(this,{type:"failed",failureCount:g,error:b})},onPause:()=>{vt(this,vi,So).call(this,{type:"pause"})},onContinue:()=>{vt(this,vi,So).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ue(this,Un).start()}},Ac=new WeakMap,Rc=new WeakMap,Yr=new WeakMap,Ka=new WeakMap,Un=new WeakMap,Vd=new WeakMap,Ga=new WeakMap,vi=new WeakSet,So=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...FE(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return fy(i)&&i.revert&&ue(this,Rc)?{...ue(this,Rc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),_n.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ue(this,Yr).notify({query:this,type:"updated",action:t})})},EE);function FE(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ME(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function I3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zi,SE,j3=(SE=class extends Yc{constructor(t={}){super();it(this,Zi);this.config=t,Ke(this,Zi,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??B0(i,n);let l=this.get(s);return l||(l=new R3({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){ue(this,Zi).has(t.queryHash)||(ue(this,Zi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ue(this,Zi).get(t.queryHash);n&&(t.destroy(),n===t&&ue(this,Zi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,Zi).get(t)}getAll(){return[...ue(this,Zi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>P1(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>P1(t,r)):n}notify(t){_n.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zi=new WeakMap,SE),Wi,Qn,Ya,Vi,Os,kE,L3=(kE=class extends BE{constructor(t){super();it(this,Vi);it(this,Wi);it(this,Qn);it(this,Ya);this.mutationId=t.mutationId,Ke(this,Qn,t.mutationCache),Ke(this,Wi,[]),this.state=t.state||UE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,Wi).includes(t)||(ue(this,Wi).push(t),this.clearGcTimeout(),ue(this,Qn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ke(this,Wi,ue(this,Wi).filter(n=>n!==t)),this.scheduleGc(),ue(this,Qn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,Wi).length||(this.state.status==="pending"?this.scheduleGc():ue(this,Qn).remove(this))}continue(){var t;return((t=ue(this,Ya))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,u,d,p,y,g,b,_,S,v,E,k,A,T,z,D,$,Z,q;const n=()=>{vt(this,Vi,Os).call(this,{type:"continue"})};Ke(this,Ya,DE({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(F,W)=>{vt(this,Vi,Os).call(this,{type:"failed",failureCount:F,error:W})},onPause:()=>{vt(this,Vi,Os).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,Qn).canRun(this)}));const r=this.state.status==="pending",i=!ue(this,Ya).canStart();try{if(r)n();else{vt(this,Vi,Os).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(s=ue(this,Qn).config).onMutate)==null?void 0:l.call(s,t,this));const W=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t));W!==this.state.context&&vt(this,Vi,Os).call(this,{type:"pending",context:W,variables:t,isPaused:i})}const F=await ue(this,Ya).start();return await((y=(p=ue(this,Qn).config).onSuccess)==null?void 0:y.call(p,F,t,this.state.context,this)),await((b=(g=this.options).onSuccess)==null?void 0:b.call(g,F,t,this.state.context)),await((S=(_=ue(this,Qn).config).onSettled)==null?void 0:S.call(_,F,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,F,null,t,this.state.context)),vt(this,Vi,Os).call(this,{type:"success",data:F}),F}catch(F){try{throw await((A=(k=ue(this,Qn).config).onError)==null?void 0:A.call(k,F,t,this.state.context,this)),await((z=(T=this.options).onError)==null?void 0:z.call(T,F,t,this.state.context)),await(($=(D=ue(this,Qn).config).onSettled)==null?void 0:$.call(D,void 0,F,this.state.variables,this.state.context,this)),await((q=(Z=this.options).onSettled)==null?void 0:q.call(Z,void 0,F,t,this.state.context)),F}finally{vt(this,Vi,Os).call(this,{type:"error",error:F})}}finally{ue(this,Qn).runNext(this)}}},Wi=new WeakMap,Qn=new WeakMap,Ya=new WeakMap,Vi=new WeakSet,Os=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),_n.batch(()=>{ue(this,Wi).forEach(r=>{r.onMutationUpdate(t)}),ue(this,Qn).notify({mutation:this,type:"updated",action:t})})},kE);function UE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Co,wi,qd,CE,O3=(CE=class extends Yc{constructor(t={}){super();it(this,Co);it(this,wi);it(this,qd);this.config=t,Ke(this,Co,new Set),Ke(this,wi,new Map),Ke(this,qd,0)}build(t,n,r){const i=new L3({mutationCache:this,mutationId:++Rh(this,qd)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ue(this,Co).add(t);const n=Oh(t);if(typeof n=="string"){const r=ue(this,wi).get(n);r?r.push(t):ue(this,wi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,Co).delete(t)){const n=Oh(t);if(typeof n=="string"){const r=ue(this,wi).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ue(this,wi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Oh(t);if(typeof n=="string"){const r=ue(this,wi).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Oh(t);if(typeof n=="string"){const i=(r=ue(this,wi).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_n.batch(()=>{ue(this,Co).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,Co).clear(),ue(this,wi).clear()})}getAll(){return Array.from(ue(this,Co))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>T1(n,r))}findAll(t={}){return this.getAll().filter(n=>T1(t,n))}notify(t){_n.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return _n.batch(()=>Promise.all(t.map(n=>n.continue().catch(Jr))))}},Co=new WeakMap,wi=new WeakMap,qd=new WeakMap,CE);function Oh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function I1(e){return{onFetch:(t,n)=>{var y,g,b,_,S;const r=t.options,i=(b=(g=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:g.fetchMore)==null?void 0:b.direction,s=((_=t.state.data)==null?void 0:_.pages)||[],l=((S=t.state.data)==null?void 0:S.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const p=async()=>{let v=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},k=OE(t.options,t.fetchOptions),A=async(T,z,D)=>{if(v)return Promise.reject();if(z==null&&T.pages.length)return Promise.resolve(T);const $={client:t.client,queryKey:t.queryKey,pageParam:z,direction:D?"backward":"forward",meta:t.options.meta};E($);const Z=await k($),{maxPages:q}=t.options,F=D?k3:S3;return{pages:F(T.pages,Z,q),pageParams:F(T.pageParams,z,q)}};if(i&&s.length){const T=i==="backward",z=T?M3:j1,D={pages:s,pageParams:l},$=z(r,D);u=await A(D,$,T)}else{const T=e??s.length;do{const z=d===0?l[0]??r.initialPageParam:j1(r,u);if(d>0&&z==null)break;u=await A(u,z),d++}while(d<T)}return u};t.options.persister?t.fetchFn=()=>{var v,E;return(E=(v=t.options).persister)==null?void 0:E.call(v,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function j1(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function M3(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var an,Bs,Fs,Ic,jc,Us,Lc,Oc,NE,z3=(NE=class{constructor(e={}){it(this,an);it(this,Bs);it(this,Fs);it(this,Ic);it(this,jc);it(this,Us);it(this,Lc);it(this,Oc);Ke(this,an,e.queryCache||new j3),Ke(this,Bs,e.mutationCache||new O3),Ke(this,Fs,e.defaultOptions||{}),Ke(this,Ic,new Map),Ke(this,jc,new Map),Ke(this,Us,0)}mount(){Rh(this,Us)._++,ue(this,Us)===1&&(Ke(this,Lc,U0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,an).onFocus())})),Ke(this,Oc,ap.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,an).onOnline())})))}unmount(){var e,t;Rh(this,Us)._--,ue(this,Us)===0&&((e=ue(this,Lc))==null||e.call(this),Ke(this,Lc,void 0),(t=ue(this,Oc))==null||t.call(this),Ke(this,Oc,void 0))}isFetching(e){return ue(this,an).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,Bs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,an).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ue(this,an).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(_c(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ue(this,an).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ue(this,an).get(r.queryHash),s=i==null?void 0:i.state.data,l=b3(t,s);if(l!==void 0)return ue(this,an).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return _n.batch(()=>ue(this,an).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,an).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ue(this,an);_n.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ue(this,an);return _n.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=_n.batch(()=>ue(this,an).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Jr).catch(Jr)}invalidateQueries(e,t={}){return _n.batch(()=>(ue(this,an).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=_n.batch(()=>ue(this,an).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Jr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Jr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ue(this,an).build(this,t);return n.isStaleByTime(_c(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Jr).catch(Jr)}fetchInfiniteQuery(e){return e.behavior=I1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Jr).catch(Jr)}ensureInfiniteQueryData(e){return e.behavior=I1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ap.isOnline()?ue(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,an)}getMutationCache(){return ue(this,Bs)}getDefaultOptions(){return ue(this,Fs)}setDefaultOptions(e){Ke(this,Fs,e)}setQueryDefaults(e,t){ue(this,Ic).set(ol(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,Ic).values()],n={};return t.forEach(r=>{Cd(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ue(this,jc).set(ol(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,jc).values()],n={};return t.forEach(r=>{Cd(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,Fs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=B0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===F0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,Fs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,an).clear(),ue(this,Bs).clear()}},an=new WeakMap,Bs=new WeakMap,Fs=new WeakMap,Ic=new WeakMap,jc=new WeakMap,Us=new WeakMap,Lc=new WeakMap,Oc=new WeakMap,NE),fr,Tt,Kd,Xn,Ja,Mc,$s,Hs,Gd,zc,Dc,Qa,Xa,Zs,Bc,zt,md,kv,Cv,Nv,Pv,Tv,Av,Rv,$E,PE,D3=(PE=class extends Yc{constructor(t,n){super();it(this,zt);it(this,fr);it(this,Tt);it(this,Kd);it(this,Xn);it(this,Ja);it(this,Mc);it(this,$s);it(this,Hs);it(this,Gd);it(this,zc);it(this,Dc);it(this,Qa);it(this,Xa);it(this,Zs);it(this,Bc,new Set);this.options=n,Ke(this,fr,t),Ke(this,Hs,null),Ke(this,$s,Sv()),this.options.experimental_prefetchInRender||ue(this,$s).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,Tt).addObserver(this),L1(ue(this,Tt),this.options)?vt(this,zt,md).call(this):this.updateResult(),vt(this,zt,Pv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Iv(ue(this,Tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Iv(ue(this,Tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,vt(this,zt,Tv).call(this),vt(this,zt,Av).call(this),ue(this,Tt).removeObserver(this)}setOptions(t){const n=this.options,r=ue(this,Tt);if(this.options=ue(this,fr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _i(this.options.enabled,ue(this,Tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");vt(this,zt,Rv).call(this),ue(this,Tt).setOptions(this.options),n._defaulted&&!sp(this.options,n)&&ue(this,fr).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,Tt),observer:this});const i=this.hasListeners();i&&O1(ue(this,Tt),r,this.options,n)&&vt(this,zt,md).call(this),this.updateResult(),i&&(ue(this,Tt)!==r||_i(this.options.enabled,ue(this,Tt))!==_i(n.enabled,ue(this,Tt))||_c(this.options.staleTime,ue(this,Tt))!==_c(n.staleTime,ue(this,Tt)))&&vt(this,zt,kv).call(this);const s=vt(this,zt,Cv).call(this);i&&(ue(this,Tt)!==r||_i(this.options.enabled,ue(this,Tt))!==_i(n.enabled,ue(this,Tt))||s!==ue(this,Zs))&&vt(this,zt,Nv).call(this,s)}getOptimisticResult(t){const n=ue(this,fr).getQueryCache().build(ue(this,fr),t),r=this.createResult(n,t);return F3(this,r)&&(Ke(this,Xn,r),Ke(this,Mc,this.options),Ke(this,Ja,ue(this,Tt).state)),r}getCurrentResult(){return ue(this,Xn)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(t){ue(this,Bc).add(t)}getCurrentQuery(){return ue(this,Tt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ue(this,fr).defaultQueryOptions(t),r=ue(this,fr).getQueryCache().build(ue(this,fr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return vt(this,zt,md).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,Xn)))}createResult(t,n){var F;const r=ue(this,Tt),i=this.options,s=ue(this,Xn),l=ue(this,Ja),u=ue(this,Mc),p=t!==r?t.state:ue(this,Kd),{state:y}=t;let g={...y},b=!1,_;if(n._optimisticResults){const W=this.hasListeners(),J=!W&&L1(t,n),U=W&&O1(t,r,n,i);(J||U)&&(g={...g,...FE(y.data,t.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:S,errorUpdatedAt:v,status:E}=g;_=g.data;let k=!1;if(n.placeholderData!==void 0&&_===void 0&&E==="pending"){let W;s!=null&&s.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(W=s.data,k=!0):W=typeof n.placeholderData=="function"?n.placeholderData((F=ue(this,Dc))==null?void 0:F.state.data,ue(this,Dc)):n.placeholderData,W!==void 0&&(E="success",_=Ev(s==null?void 0:s.data,W,n),b=!0)}if(n.select&&_!==void 0&&!k)if(s&&_===(l==null?void 0:l.data)&&n.select===ue(this,Gd))_=ue(this,zc);else try{Ke(this,Gd,n.select),_=n.select(_),_=Ev(s==null?void 0:s.data,_,n),Ke(this,zc,_),Ke(this,Hs,null)}catch(W){Ke(this,Hs,W)}ue(this,Hs)&&(S=ue(this,Hs),_=ue(this,zc),v=Date.now(),E="error");const A=g.fetchStatus==="fetching",T=E==="pending",z=E==="error",D=T&&A,$=_!==void 0,q={status:E,fetchStatus:g.fetchStatus,isPending:T,isSuccess:E==="success",isError:z,isInitialLoading:D,isLoading:D,data:_,dataUpdatedAt:g.dataUpdatedAt,error:S,errorUpdatedAt:v,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:A,isRefetching:A&&!T,isLoadingError:z&&!$,isPaused:g.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:z&&$,isStale:$0(t,n),refetch:this.refetch,promise:ue(this,$s)};if(this.options.experimental_prefetchInRender){const W=X=>{q.status==="error"?X.reject(q.error):q.data!==void 0&&X.resolve(q.data)},J=()=>{const X=Ke(this,$s,q.promise=Sv());W(X)},U=ue(this,$s);switch(U.status){case"pending":t.queryHash===r.queryHash&&W(U);break;case"fulfilled":(q.status==="error"||q.data!==U.value)&&J();break;case"rejected":(q.status!=="error"||q.error!==U.reason)&&J();break}}return q}updateResult(){const t=ue(this,Xn),n=this.createResult(ue(this,Tt),this.options);if(Ke(this,Ja,ue(this,Tt).state),Ke(this,Mc,this.options),ue(this,Ja).data!==void 0&&Ke(this,Dc,ue(this,Tt)),sp(n,t))return;Ke(this,Xn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ue(this,Bc).size)return!0;const l=new Set(s??ue(this,Bc));return this.options.throwOnError&&l.add("error"),Object.keys(ue(this,Xn)).some(u=>{const d=u;return ue(this,Xn)[d]!==t[d]&&l.has(d)})};vt(this,zt,$E).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&vt(this,zt,Pv).call(this)}},fr=new WeakMap,Tt=new WeakMap,Kd=new WeakMap,Xn=new WeakMap,Ja=new WeakMap,Mc=new WeakMap,$s=new WeakMap,Hs=new WeakMap,Gd=new WeakMap,zc=new WeakMap,Dc=new WeakMap,Qa=new WeakMap,Xa=new WeakMap,Zs=new WeakMap,Bc=new WeakMap,zt=new WeakSet,md=function(t){vt(this,zt,Rv).call(this);let n=ue(this,Tt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Jr)),n},kv=function(){vt(this,zt,Tv).call(this);const t=_c(this.options.staleTime,ue(this,Tt));if(il||ue(this,Xn).isStale||!xv(t))return;const r=jE(ue(this,Xn).dataUpdatedAt,t)+1;Ke(this,Qa,setTimeout(()=>{ue(this,Xn).isStale||this.updateResult()},r))},Cv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,Tt)):this.options.refetchInterval)??!1},Nv=function(t){vt(this,zt,Av).call(this),Ke(this,Zs,t),!(il||_i(this.options.enabled,ue(this,Tt))===!1||!xv(ue(this,Zs))||ue(this,Zs)===0)&&Ke(this,Xa,setInterval(()=>{(this.options.refetchIntervalInBackground||U0.isFocused())&&vt(this,zt,md).call(this)},ue(this,Zs)))},Pv=function(){vt(this,zt,kv).call(this),vt(this,zt,Nv).call(this,vt(this,zt,Cv).call(this))},Tv=function(){ue(this,Qa)&&(clearTimeout(ue(this,Qa)),Ke(this,Qa,void 0))},Av=function(){ue(this,Xa)&&(clearInterval(ue(this,Xa)),Ke(this,Xa,void 0))},Rv=function(){const t=ue(this,fr).getQueryCache().build(ue(this,fr),this.options);if(t===ue(this,Tt))return;const n=ue(this,Tt);Ke(this,Tt,t),Ke(this,Kd,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},$E=function(t){_n.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ue(this,Xn))}),ue(this,fr).getQueryCache().notify({query:ue(this,Tt),type:"observerResultsUpdated"})})},PE);function B3(e,t){return _i(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function L1(e,t){return B3(e,t)||e.state.data!==void 0&&Iv(e,t,t.refetchOnMount)}function Iv(e,t,n){if(_i(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&$0(e,t)}return!1}function O1(e,t,n,r){return(e!==t||_i(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&$0(e,n)}function $0(e,t){return _i(t.enabled,e)!==!1&&e.isStaleByTime(_c(t.staleTime,e))}function F3(e,t){return!sp(e.getCurrentResult(),t)}var Ws,Vs,hr,No,zo,Xh,jv,TE,U3=(TE=class extends Yc{constructor(n,r){super();it(this,zo);it(this,Ws);it(this,Vs);it(this,hr);it(this,No);Ke(this,Ws,n),this.setOptions(r),this.bindMethods(),vt(this,zo,Xh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ue(this,Ws).defaultMutationOptions(n),sp(this.options,r)||ue(this,Ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,hr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ol(r.mutationKey)!==ol(this.options.mutationKey)?this.reset():((i=ue(this,hr))==null?void 0:i.state.status)==="pending"&&ue(this,hr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,hr))==null||n.removeObserver(this)}onMutationUpdate(n){vt(this,zo,Xh).call(this),vt(this,zo,jv).call(this,n)}getCurrentResult(){return ue(this,Vs)}reset(){var n;(n=ue(this,hr))==null||n.removeObserver(this),Ke(this,hr,void 0),vt(this,zo,Xh).call(this),vt(this,zo,jv).call(this)}mutate(n,r){var i;return Ke(this,No,r),(i=ue(this,hr))==null||i.removeObserver(this),Ke(this,hr,ue(this,Ws).getMutationCache().build(ue(this,Ws),this.options)),ue(this,hr).addObserver(this),ue(this,hr).execute(n)}},Ws=new WeakMap,Vs=new WeakMap,hr=new WeakMap,No=new WeakMap,zo=new WeakSet,Xh=function(){var r;const n=((r=ue(this,hr))==null?void 0:r.state)??UE();Ke(this,Vs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},jv=function(n){_n.batch(()=>{var r,i,s,l,u,d,p,y;if(ue(this,No)&&this.hasListeners()){const g=ue(this,Vs).variables,b=ue(this,Vs).context;(n==null?void 0:n.type)==="success"?((i=(r=ue(this,No)).onSuccess)==null||i.call(r,n.data,g,b),(l=(s=ue(this,No)).onSettled)==null||l.call(s,n.data,null,g,b)):(n==null?void 0:n.type)==="error"&&((d=(u=ue(this,No)).onError)==null||d.call(u,n.error,g,b),(y=(p=ue(this,No)).onSettled)==null||y.call(p,void 0,n.error,g,b))}this.listeners.forEach(g=>{g(ue(this,Vs))})})},TE),HE=C.createContext(void 0),H0=e=>{const t=C.useContext(HE);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$3=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),m.jsx(HE.Provider,{value:e,children:t})),ZE=C.createContext(!1),H3=()=>C.useContext(ZE);ZE.Provider;function Z3(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var W3=C.createContext(Z3()),V3=()=>C.useContext(W3);function WE(e,t){return typeof e=="function"?e(...t):!!e}function Lv(){}var q3=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},K3=e=>{C.useEffect(()=>{e.clearReset()},[e])},G3=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||WE(n,[e.error,r])),Y3=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},J3=(e,t)=>e.isLoading&&e.isFetching&&!t,Q3=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,M1=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function X3(e,t,n){var g,b,_,S,v;const r=H0(),i=H3(),s=V3(),l=r.defaultQueryOptions(e);(b=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||b.call(g,l),l._optimisticResults=i?"isRestoring":"optimistic",Y3(l),q3(l,s),K3(s);const u=!r.getQueryCache().get(l.queryHash),[d]=C.useState(()=>new t(r,l)),p=d.getOptimisticResult(l),y=!i&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(E=>{const k=y?d.subscribe(_n.batchCalls(E)):Lv;return d.updateResult(),k},[d,y]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),C.useEffect(()=>{d.setOptions(l)},[l,d]),Q3(l,p))throw M1(l,d,s);if(G3({result:p,errorResetBoundary:s,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw p.error;if((S=(_=r.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||S.call(_,l,p),l.experimental_prefetchInRender&&!il&&J3(p,i)){const E=u?M1(l,d,s):(v=r.getQueryCache().get(l.queryHash))==null?void 0:v.promise;E==null||E.catch(Lv).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?p:d.trackResult(p)}function Ro(e,t){return X3(e,D3)}function Z0(e,t){const n=H0(),[r]=C.useState(()=>new U3(n,e));C.useEffect(()=>{r.setOptions(e)},[r,e]);const i=C.useSyncExternalStore(C.useCallback(l=>r.subscribe(_n.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=C.useCallback((l,u)=>{r.mutate(l,u).catch(Lv)},[r]);if(i.error&&WE(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function Ov(e,t={},n){for(const r in e){const i=e[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Ov(i,t,s):typeof i=="function"&&(t[s]=i)}return t}const ej={run:e=>e()},tj=()=>ej,VE=typeof console.createTask<"u"?console.createTask:tj;function nj(e,t){const n=t.shift(),r=VE(n);return e.reduce((i,s)=>i.then(()=>r.run(()=>s(...t))),Promise.resolve())}function rj(e,t){const n=t.shift(),r=VE(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function hy(e,t){for(const n of[...e])n(t)}class ij{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!r.allowDeprecated){let l=s.message;l||(l=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(l)||(console.warn(l),this._deprecatedMessages.add(l))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Ov(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=Ov(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(nj,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(rj,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&hy(this._before,i);const s=t(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&hy(this._after,i)}):(this._after&&i&&hy(this._after,i),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function oj(){return new ij}const sj=new Set(["link","style","script","noscript"]),aj=new Set(["title","titleTemplate","script","style","noscript"]),z1=new Set(["base","meta","link","style","script","noscript"]),lj=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),cj=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),uj=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),dj=new Set(["templateParams","htmlAttrs","bodyAttrs"]),W0=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),fj=["name","property","http-equiv"];function qE(e){const t=e.split(":");return t.length?W0.has(t[1]):!1}function Mv(e){const{props:t,tag:n}=e;if(cj.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of fj)if(t[r]!==void 0)return`${n}:${t[r]}`}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(aj.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function D1(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,i])=>`${r}:${String(i)}`).join(",")}`}function zv(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let i;if(t&&(i=t(n,e)),Array.isArray(i))return i.map(s=>zv(s,t));if((i==null?void 0:i.constructor)===Object){const s={};for(const l of Object.keys(i))s[l]=zv(i[l],t,l);return s}return i}function hj(e,t){const n=e==="style"?new Map:new Set;function r(i){const s=i.trim();if(s)if(e==="style"){const[l,...u]=s.split(":").map(d=>d.trim());l&&u.length&&n.set(l,u.join(":"))}else s.split(" ").filter(Boolean).forEach(l=>n.add(l))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(i=>r(i)):t&&typeof t=="object"&&Object.entries(t).forEach(([i,s])=>{s&&s!=="false"&&(e==="style"?n.set(i.trim(),s):r(i))}),n}function KE(e,t){return e.props=e.props||{},t&&Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=hj(n,r);return}if(uj.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let l=t.type;if(t.type||(l="application/json"),!(l!=null&&l.endsWith("json"))&&l!=="speculationrules")return;t.type=l,e.props.type=l,e[n]=JSON.stringify(r)}else e[n]=r;return}const i=String(r),s=n.startsWith("data-");i==="true"||i===""?e.props[n]=s?i:!0:!r&&s&&i==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e}function pj(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=KE({tag:e,props:{}},n);return r.key&&sj.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(i=>({...r,props:{...r.props,content:i}})):r}function mj(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(i,s)=>{for(let l=0;l<t.length;l++)s=t[l](i,s);return s};e=n(void 0,e);const r=[];return e=zv(e,n),Object.entries(e||{}).forEach(([i,s])=>{if(s!==void 0)for(const l of Array.isArray(s)?s:[s])r.push(pj(i,l))}),r.flat()}const B1=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,F1={base:-10,title:10},gj={critical:-8,high:-1,low:2},U1={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},yj=/@import/,ld=e=>e===""||e===!0;function vj(e,t){var s;if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=gj[t.tagPriority]||0,i=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:U1;if(t.tag in F1)n=F1[t.tag];else if(t.tag==="meta"){const l=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;l&&(n=U1.meta[l])}else t.tag==="link"&&t.props.rel?n=i.link[t.props.rel]:t.tag==="script"?ld(t.props.async)?n=i.script.async:t.props.src&&!ld(t.props.defer)&&!ld(t.props.async)&&t.props.type!=="module"&&!((s=t.props.type)!=null&&s.endsWith("json"))?n=i.script.sync:ld(t.props.defer)&&t.props.src&&!ld(t.props.async)&&(n=i.script.defer):t.tag==="style"&&(n=t.innerHTML&&yj.test(t.innerHTML)?i.style.imported:i.style.sync);return(n||100)+r}function $1(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function wj(e={}){var u;const t=oj();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,i=new Map,s=[],l={_entryCount:1,plugins:i,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:d=>$1(l,d),push(d,p){const y={...p||{}};delete y.head;const g=y._index??l._entryCount++,b={_i:g,input:d,options:y},_={_poll(S=!1){l.dirty=!0,!S&&s.push(g),t.callHook("entries:updated",l)},dispose(){r.delete(g)&&_._poll(!0)},patch(S){(!y.mode||y.mode==="server"&&n||y.mode==="client"&&!n)&&(b.input=S,r.set(g,b),_._poll())}};return _.patch(d),_},async resolveTags(){var _;const d={tagMap:new Map,tags:[],entries:[...l.entries.values()]};for(await t.callHook("entries:resolve",d);s.length;){const S=s.shift(),v=r.get(S);if(v){const E={tags:mj(v.input,e.propResolvers||[]).map(k=>Object.assign(k,v.options)),entry:v};await t.callHook("entries:normalize",E),v._tags=E.tags.map((k,A)=>(k._w=vj(l,k),k._p=(v._i<<10)+A,k._d=Mv(k),k))}}let p=!1;d.entries.flatMap(S=>(S._tags||[]).map(v=>({...v,props:{...v.props}}))).sort(B1).reduce((S,v)=>{const E=String(v._d||v._p);if(!S.has(E))return S.set(E,v);const k=S.get(E);if(((v==null?void 0:v.tagDuplicateStrategy)||(dj.has(v.tag)?"merge":null)||(v.key&&v.key===k.key?"merge":null))==="merge"){const T={...k.props};Object.entries(v.props).forEach(([z,D])=>T[z]=z==="style"?new Map([...k.props.style||new Map,...D]):z==="class"?new Set([...k.props.class||new Set,...D]):D),S.set(E,{...v,props:T})}else v._p>>10===k._p>>10&&v.tag==="meta"&&qE(E)?(S.set(E,Object.assign([...Array.isArray(k)?k:[k],v],v)),p=!0):(v._w===k._w?v._p>k._p:(v==null?void 0:v._w)<(k==null?void 0:k._w))&&S.set(E,v);return S},d.tagMap);const y=d.tagMap.get("title"),g=d.tagMap.get("titleTemplate");if(l._title=y==null?void 0:y.textContent,g){const S=g==null?void 0:g.textContent;if(l._titleTemplate=S,S){let v=typeof S=="function"?S(y==null?void 0:y.textContent):S;typeof v=="string"&&!l.plugins.has("template-params")&&(v=v.replace("%s",(y==null?void 0:y.textContent)||"")),y?v===null?d.tagMap.delete("title"):d.tagMap.set("title",{...y,textContent:v}):(g.tag="title",g.textContent=v)}}d.tags=Array.from(d.tagMap.values()),p&&(d.tags=d.tags.flat().sort(B1)),await t.callHook("tags:beforeResolve",d),await t.callHook("tags:resolve",d),await t.callHook("tags:afterResolve",d);const b=[];for(const S of d.tags){const{innerHTML:v,tag:E,props:k}=S;if(lj.has(E)&&!(Object.keys(k).length===0&&!S.innerHTML&&!S.textContent)&&!(E==="meta"&&!k.content&&!k["http-equiv"]&&!k.charset)){if(E==="script"&&v){if((_=k.type)!=null&&_.endsWith("json")){const A=typeof v=="string"?v:JSON.stringify(v);S.innerHTML=A.replace(/</g,"\\u003C")}else typeof v=="string"&&(S.innerHTML=v.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));S._d=Mv(S)}b.push(S)}}return b}};return((e==null?void 0:e.plugins)||[]).forEach(d=>$1(l,d)),l.hooks.callHook("init",l),(u=e.init)==null||u.forEach(d=>d&&l.push(d)),l}async function GE(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async i=>{var _;const s=new Map,l=new Promise(S=>{e.resolveTags().then(v=>{S(v.map(E=>{const k=s.get(E._d)||0,A={tag:E,id:(k?`${E._d}:${k}`:E._d)||D1(E),shouldRender:!0};return E._d&&qE(E._d)&&s.set(E._d,k+1),A}))})});let u=e._dom;if(!u){u={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const S of["body","head"]){const v=(_=n[S])==null?void 0:_.children;for(const E of v){const k=E.tagName.toLowerCase();if(!z1.has(k))continue;const A=KE({tag:k,props:{}},{innerHTML:E.innerHTML,...E.getAttributeNames().reduce((T,z)=>(T[z]=E.getAttribute(z),T),{})||{}});if(A.key=E.getAttribute("data-hid")||void 0,A._d=Mv(A)||D1(A),u.elMap.has(A._d)){let T=1,z=A._d;for(;u.elMap.has(z);)z=`${A._d}:${T++}`;u.elMap.set(z,E)}else u.elMap.set(A._d,E)}}}u.pendingSideEffects={...u.sideEffects},u.sideEffects={};function d(S,v,E){const k=`${S}:${v}`;u.sideEffects[k]=E,delete u.pendingSideEffects[k]}function p({id:S,$el:v,tag:E}){const k=E.tag.endsWith("Attrs");u.elMap.set(S,v),k||(E.textContent&&E.textContent!==v.textContent&&(v.textContent=E.textContent),E.innerHTML&&E.innerHTML!==v.innerHTML&&(v.innerHTML=E.innerHTML),d(S,"el",()=>{v==null||v.remove(),u.elMap.delete(S)}));for(const A in E.props){if(!Object.prototype.hasOwnProperty.call(E.props,A))continue;const T=E.props[A];if(A.startsWith("on")&&typeof T=="function"){const D=v==null?void 0:v.dataset;if(D&&D[`${A}fired`]){const $=A.slice(0,-5);T.call(v,new Event($.substring(2)))}v.getAttribute(`data-${A}`)!==""&&((E.tag==="bodyAttrs"?n.defaultView:v).addEventListener(A.substring(2),T.bind(v)),v.setAttribute(`data-${A}`,""));continue}const z=`attr:${A}`;if(A==="class"){if(!T)continue;for(const D of T)k&&d(S,`${z}:${D}`,()=>v.classList.remove(D)),!v.classList.contains(D)&&v.classList.add(D)}else if(A==="style"){if(!T)continue;for(const[D,$]of T)d(S,`${z}:${D}`,()=>{v.style.removeProperty(D)}),v.style.setProperty(D,$)}else T!==!1&&T!==null&&(v.getAttribute(A)!==T&&v.setAttribute(A,T===!0?"":String(T)),k&&d(S,z,()=>v.removeAttribute(A)))}}const y=[],g={bodyClose:void 0,bodyOpen:void 0,head:void 0},b=await l;for(const S of b){const{tag:v,shouldRender:E,id:k}=S;if(E){if(v.tag==="title"){n.title=v.textContent,d("title","",()=>n.title=u.title);continue}S.$el=S.$el||u.elMap.get(k),S.$el?p(S):z1.has(v.tag)&&y.push(S)}}for(const S of y){const v=S.tag.tagPosition||"head";S.$el=n.createElement(S.tag.tag),p(S),g[v]=g[v]||n.createDocumentFragment(),g[v].appendChild(S.$el)}for(const S of b)await e.hooks.callHook("dom:renderTag",S,n,d);g.head&&n.head.appendChild(g.head),g.bodyOpen&&n.body.insertBefore(g.bodyOpen,n.body.firstChild),g.bodyClose&&n.body.appendChild(g.bodyClose);for(const S in u.pendingSideEffects)u.pendingSideEffects[S]();e._dom=u,await e.hooks.callHook("dom:rendered",{renders:b}),i()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function _j(e={}){var r,i,s;const t=((r=e.domOptions)==null?void 0:r.render)||GE;e.document=e.document||(typeof window<"u"?document:void 0);const n=((s=(i=e.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:s.innerHTML)||!1;return wj({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function xj(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}const YE=C.createContext(null);function JE(e={}){const t=_j({domOptions:{render:xj(()=>GE(t),n=>setTimeout(n,0))},...e});return t}function bj({children:e,head:t}){return C.createElement(YE.Provider,{value:t||JE()},e)}const Nd={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},Ej={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},QE={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>`${Io(e)}=${t}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:e,value:t})=>e==="seconds"?`${t}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>typeof t=="boolean"?Io(e):`${Io(e)}:${t}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:e,value:t})=>`${Io(e)} ${t}`}},charset:{}};function Io(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t.indexOf("-");return n===-1?t:Nd.META.has(t.slice(0,n))||Nd.OG.has(t.slice(0,n))?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function XE(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>String(n)!=="false"&&t))}function Dv(e){return Array.isArray(e)?e.map(Dv):!e||typeof e!="object"?e:Object.fromEntries(Object.entries(e).map(([t,n])=>[Io(t),Dv(n)]))}function eS(e,t={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:i,resolve:s}=t;return Object.entries(e).map(([l,u])=>{if(s){const p=s({key:l,value:u});if(p!==void 0)return p}const d=typeof u=="object"?eS(u,t):typeof u=="number"?u.toString():typeof u=="string"&&i?`${i}${u.replace(new RegExp(i,"g"),`\\${i}`)}${i}`:u;return`${l}${r}${d}`}).join(n)}function H1(e,t){const n=XE(t),r=Io(e),i=tS(r);if(!W0.has(r))return[{[i]:r,...n}];const s=Object.fromEntries(Object.entries(n).map(([l,u])=>[`${e}${l==="url"?"":`${l[0].toUpperCase()}${l.slice(1)}`}`,u]));return lp(s||{}).sort((l,u)=>{var d,p;return(((d=l[i])==null?void 0:d.length)||0)-(((p=u[i])==null?void 0:p.length)||0)})}function tS(e){var r;if(((r=QE[e])==null?void 0:r.metaKey)==="http-equiv"||Nd.HTTP_EQUIV.has(e))return"http-equiv";const t=Io(e),n=t.indexOf(":");return n===-1?"name":Nd.OG.has(t.slice(0,n))?"property":"name"}function Sj(e){return Ej[e]||Io(e)}function kj(e,t){var n;return t==="refresh"?`${e.seconds};url=${e.url}`:eS(Dv(e),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:i})=>r===null?"":typeof r=="boolean"?i:void 0,...(n=QE[t])==null?void 0:n.unpack})}function lp(e){const t=[],n={};for(const[i,s]of Object.entries(e)){if(Array.isArray(s)){if(i==="themeColor"){s.forEach(l=>{typeof l=="object"&&l!==null&&t.push({name:"theme-color",...l})});continue}for(const l of s)if(typeof l=="object"&&l!==null){const u=[],d=[];for(const[p,y]of Object.entries(l)){const g=`${i}${p==="url"?"":`:${p}`}`,b=lp({[g]:y});(p==="url"?u:d).push(...b)}t.push(...u,...d)}else t.push(...typeof l=="string"?lp({[i]:l}):H1(i,l));continue}if(typeof s=="object"&&s)if(Nd.MEDIA.has(i)){const l=i.startsWith("twitter")?"twitter":"og",u=i.replace(/^(og|twitter)/,"").toLowerCase(),d=l==="twitter"?"name":"property";s.url&&t.push({[d]:`${l}:${u}`,content:s.url}),s.secureUrl&&t.push({[d]:`${l}:${u}:secure_url`,content:s.secureUrl});for(const[p,y]of Object.entries(s))p!=="url"&&p!=="secureUrl"&&t.push({[d]:`${l}:${u}:${p}`,content:y})}else W0.has(Io(i))?t.push(...H1(i,s)):n[i]=XE(s);else n[i]=s}const r=Object.entries(n).map(([i,s])=>{if(i==="charset")return{charset:s===null?"_null":s};const l=tS(i),u=Sj(i),d=s===null?"_null":typeof s=="object"?kj(s,i):typeof s=="number"?s.toString():s;return l==="http-equiv"?{"http-equiv":u,content:d}:{[l]:u,content:d}});return[...t,...r].map(i=>"content"in i&&i.content==="_null"?{...i,content:null}:i)}const Cj={key:"flatMeta",hooks:{"entries:normalize":e=>{const t=[];e.tags=e.tags.map(n=>n.tag!=="_flatMeta"?n:(t.push(lp(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...t)}}};function Nj(e={}){return t=>(t.push({meta:[{name:"twitter:card",content:e.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:n})=>{var u,d;let r=t._titleTemplate||t._title;const i=n.get("meta:og:title");typeof(i==null?void 0:i.props["data-infer"])<"u"&&(typeof r=="function"&&(r=r(t._title)),i.props.content=e.ogTitle?e.ogTitle(r):r||"",i.processTemplateParams=!0);const s=(d=(u=n.get("meta:description"))==null?void 0:u.props)==null?void 0:d.content,l=n.get("meta:og:description");typeof(l==null?void 0:l.props["data-infer"])<"u"&&(l.props.content=e.ogDescription?e.ogDescription(s):s||"",l.processTemplateParams=!0)}}})}class bd{constructor(t){Ze(this,"pubkey");Ze(this,"relays");Ze(this,"secret");const n=new URL(t),r=new URLSearchParams(n.search),i=n.hostname||n.pathname.slice(2),s=r.getAll("relay"),l=r.get("secret")??void 0;if(!i)throw new Error("Invalid bunker URI");this.pubkey=i,this.relays=s,this.secret=l}get href(){return this.toString()}toString(){return bd.toString(this)}static fromJSON(t){const n=bd.toString(t);return new bd(n)}static toString(t){const n=new URLSearchParams;for(const r of t.relays)n.append("relay",r);return t.secret&&n.set("secret",t.secret),`bunker://${t.pubkey}?${n.toString()}`}}class Pj{get nostr(){const t=globalThis.nostr;if(!t)throw new Error("Browser extension not available");return t}async getPublicKey(){const t=await this.nostr.getPublicKey();if(typeof t!="string")throw new Error(`Nostr public key retrieval failed: expected string, got ${JSON.stringify(t)}`);return t}async signEvent(t){const n=await this.nostr.signEvent(t);if(typeof n!="object"||!n.id||!n.pubkey||!n.sig)throw new Error(`Nostr event signing failed: expected object with id, pubkey, and sig, got ${JSON.stringify(n)}`);return n}async getRelays(){if(!this.nostr.getRelays)return{};const t=await this.nostr.getRelays();if(typeof t!="object"||t===null)throw new Error(`Nostr getRelays failed: expected object, got ${JSON.stringify(t)}`);return this.nostr.getRelays()}get nip04(){const t=this.nostr;if(t.nip04)return{encrypt:async(n,r)=>{const i=await t.nip04.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip04.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}get nip44(){const t=this.nostr;if(t.nip44)return{encrypt:async(n,r)=>{const i=await t.nip44.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip44.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}}function Z1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function nS(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Tj(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Z1(e.outputLen),Z1(e.blockLen)}function cp(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Aj(e,t){nS(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const py=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rS=e=>e instanceof Uint8Array,my=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),zi=(e,t)=>e<<32-t|e>>>t,Rj=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Rj)throw new Error("Non little-endian hardware is not supported");function Ij(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function V0(e){if(typeof e=="string"&&(e=Ij(e)),!rS(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function jj(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!rS(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let iS=class{clone(){return this._cloneInto()}};function Lj(e){const t=r=>e().update(V0(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function oS(e=32){if(py&&typeof py.getRandomValues=="function")return py.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Oj(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(n>>i&s),u=Number(n&s),d=r?4:0,p=r?0:4;e.setUint32(t+d,l,r),e.setUint32(t+p,u,r)}let Mj=class extends iS{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=my(this.buffer)}update(t){cp(this);const{view:n,buffer:r,blockLen:i}=this;t=V0(t);const s=t.length;for(let l=0;l<s;){const u=Math.min(i-this.pos,s-l);if(u===i){const d=my(t);for(;i<=s-l;l+=i)this.process(d,l);continue}r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){cp(this),Aj(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let g=l;g<i;g++)n[g]=0;Oj(r,i-8,BigInt(this.length*8),s),this.process(r,0);const u=my(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,y=this.get();if(p>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<p;g++)u.setUint32(4*g,y[g],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:u}=this;return t.length=i,t.pos=u,t.finished=s,t.destroyed=l,i%n&&t.buffer.set(r),t}};const zj=(e,t,n)=>e&t^~e&n,Dj=(e,t,n)=>e&t^e&n^t&n,Bj=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ks=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cs=new Uint32Array(64);let Fj=class extends Mj{constructor(){super(64,32,8,!1),this.A=ks[0]|0,this.B=ks[1]|0,this.C=ks[2]|0,this.D=ks[3]|0,this.E=ks[4]|0,this.F=ks[5]|0,this.G=ks[6]|0,this.H=ks[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:l,G:u,H:d}=this;return[t,n,r,i,s,l,u,d]}set(t,n,r,i,s,l,u,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=l|0,this.G=u|0,this.H=d|0}process(t,n){for(let g=0;g<16;g++,n+=4)Cs[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){const b=Cs[g-15],_=Cs[g-2],S=zi(b,7)^zi(b,18)^b>>>3,v=zi(_,17)^zi(_,19)^_>>>10;Cs[g]=v+Cs[g-7]+S+Cs[g-16]|0}let{A:r,B:i,C:s,D:l,E:u,F:d,G:p,H:y}=this;for(let g=0;g<64;g++){const b=zi(u,6)^zi(u,11)^zi(u,25),_=y+b+zj(u,d,p)+Bj[g]+Cs[g]|0,v=(zi(r,2)^zi(r,13)^zi(r,22))+Dj(r,i,s)|0;y=p,p=d,d=u,u=l+_|0,l=s,s=i,i=r,r=_+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,y=y+this.H|0,this.set(r,i,s,l,u,d,p,y)}roundClean(){Cs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Bv=Lj(()=>new Fj);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sS=BigInt(0),zp=BigInt(1),Uj=BigInt(2),Dp=e=>e instanceof Uint8Array,$j=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $c(e){if(!Dp(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=$j[e[n]];return t}function aS(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function q0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Hc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,s=e.slice(i,i+2),l=Number.parseInt(s,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function gr(e){return q0($c(e))}function K0(e){if(!Dp(e))throw new Error("Uint8Array expected");return q0($c(Uint8Array.from(e).reverse()))}function ea(e,t){return Hc(e.toString(16).padStart(t*2,"0"))}function G0(e,t){return ea(e,t).reverse()}function Hj(e){return Hc(aS(e))}function $n(e,t,n){let r;if(typeof t=="string")try{r=Hc(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(Dp(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function sl(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!Dp(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function Zj(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Wj(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Vj(e){let t;for(t=0;e>sS;e>>=zp,t+=1);return t}function qj(e,t){return e>>BigInt(t)&zp}const Kj=(e,t,n)=>e|(n?zp:sS)<<BigInt(t),Y0=e=>(Uj<<BigInt(e-1))-zp,gy=e=>new Uint8Array(e),W1=e=>Uint8Array.from(e);function lS(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=gy(e),i=gy(e),s=0;const l=()=>{r.fill(1),i.fill(0),s=0},u=(...g)=>n(i,r,...g),d=(g=gy())=>{i=u(W1([0]),g),r=u(),g.length!==0&&(i=u(W1([1]),g),r=u())},p=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const b=[];for(;g<t;){r=u();const _=r.slice();b.push(_),g+=r.length}return sl(...b)};return(g,b)=>{l(),d(g);let _;for(;!(_=b(p()));)d();return l(),_}}const Gj={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Xd(e,t,n={}){const r=(i,s,l)=>{const u=Gj[s];if(typeof u!="function")throw new Error(`Invalid validator "${s}", expected function`);const d=e[i];if(!(l&&d===void 0)&&!u(d,e))throw new Error(`Invalid param ${String(i)}=${d} (${typeof d}), expected ${s}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const Yj=Object.freeze(Object.defineProperty({__proto__:null,bitGet:qj,bitLen:Vj,bitMask:Y0,bitSet:Kj,bytesToHex:$c,bytesToNumberBE:gr,bytesToNumberLE:K0,concatBytes:sl,createHmacDrbg:lS,ensureBytes:$n,equalBytes:Zj,hexToBytes:Hc,hexToNumber:q0,numberToBytesBE:ea,numberToBytesLE:G0,numberToHexUnpadded:aS,numberToVarBytesBE:Hj,utf8ToBytes:Wj,validateObject:Xd},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cn=BigInt(0),fn=BigInt(1),Ua=BigInt(2),Jj=BigInt(3),Fv=BigInt(4),V1=BigInt(5),q1=BigInt(8);BigInt(9);BigInt(16);function An(e,t){const n=e%t;return n>=Cn?n:t+n}function Qj(e,t,n){if(n<=Cn||t<Cn)throw new Error("Expected power/modulo > 0");if(n===fn)return Cn;let r=fn;for(;t>Cn;)t&fn&&(r=r*e%n),e=e*e%n,t>>=fn;return r}function qr(e,t,n){let r=e;for(;t-- >Cn;)r*=r,r%=n;return r}function Uv(e,t){if(e===Cn||t<=Cn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=An(e,t),r=t,i=Cn,s=fn;for(;n!==Cn;){const u=r/n,d=r%n,p=i-s*u;r=n,n=d,i=s,s=p}if(r!==fn)throw new Error("invert: does not exist");return An(i,t)}function Xj(e){const t=(e-fn)/Ua;let n,r,i;for(n=e-fn,r=0;n%Ua===Cn;n/=Ua,r++);for(i=Ua;i<e&&Qj(i,t,e)!==e-fn;i++);if(r===1){const l=(e+fn)/Fv;return function(d,p){const y=d.pow(p,l);if(!d.eql(d.sqr(y),p))throw new Error("Cannot find square root");return y}}const s=(n+fn)/Ua;return function(u,d){if(u.pow(d,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let p=r,y=u.pow(u.mul(u.ONE,i),n),g=u.pow(d,s),b=u.pow(d,n);for(;!u.eql(b,u.ONE);){if(u.eql(b,u.ZERO))return u.ZERO;let _=1;for(let v=u.sqr(b);_<p&&!u.eql(v,u.ONE);_++)v=u.sqr(v);const S=u.pow(y,fn<<BigInt(p-_-1));y=u.sqr(S),g=u.mul(g,S),b=u.mul(b,y),p=_}return g}}function e4(e){if(e%Fv===Jj){const t=(e+fn)/Fv;return function(r,i){const s=r.pow(i,t);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%q1===V1){const t=(e-V1)/q1;return function(r,i){const s=r.mul(i,Ua),l=r.pow(s,t),u=r.mul(i,l),d=r.mul(r.mul(u,Ua),l),p=r.mul(u,r.sub(d,r.ONE));if(!r.eql(r.sqr(p),i))throw new Error("Cannot find square root");return p}}return Xj(e)}const t4=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function n4(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=t4.reduce((r,i)=>(r[i]="function",r),t);return Xd(e,n)}function r4(e,t,n){if(n<Cn)throw new Error("Expected power > 0");if(n===Cn)return e.ONE;if(n===fn)return t;let r=e.ONE,i=t;for(;n>Cn;)n&fn&&(r=e.mul(r,i)),i=e.sqr(i),n>>=fn;return r}function i4(e,t){const n=new Array(t.length),r=t.reduce((s,l,u)=>e.is0(l)?s:(n[u]=s,e.mul(s,l)),e.ONE),i=e.inv(r);return t.reduceRight((s,l,u)=>e.is0(l)?s:(n[u]=e.mul(s,n[u]),e.mul(s,l)),i),n}function cS(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function o4(e,t,n=!1,r={}){if(e<=Cn)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=cS(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=e4(e),u=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Y0(i),ZERO:Cn,ONE:fn,create:d=>An(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return Cn<=d&&d<e},is0:d=>d===Cn,isOdd:d=>(d&fn)===fn,neg:d=>An(-d,e),eql:(d,p)=>d===p,sqr:d=>An(d*d,e),add:(d,p)=>An(d+p,e),sub:(d,p)=>An(d-p,e),mul:(d,p)=>An(d*p,e),pow:(d,p)=>r4(u,d,p),div:(d,p)=>An(d*Uv(p,e),e),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>Uv(d,e),sqrt:r.sqrt||(d=>l(u,d)),invertBatch:d=>i4(u,d),cmov:(d,p,y)=>y?p:d,toBytes:d=>n?G0(d,s):ea(d,s),fromBytes:d=>{if(d.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${d.length}`);return n?K0(d):gr(d)}});return Object.freeze(u)}function uS(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function dS(e){const t=uS(e);return t+Math.ceil(t/2)}function s4(e,t,n=!1){const r=e.length,i=uS(t),s=dS(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const l=n?gr(e):K0(e),u=An(l,t-fn)+fn;return n?G0(u,i):ea(u,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const a4=BigInt(0),yy=BigInt(1);function l4(e,t){const n=(i,s)=>{const l=s.negate();return i?l:s},r=i=>{const s=Math.ceil(t/i)+1,l=2**(i-1);return{windows:s,windowSize:l}};return{constTimeNegate:n,unsafeLadder(i,s){let l=e.ZERO,u=i;for(;s>a4;)s&yy&&(l=l.add(u)),u=u.double(),s>>=yy;return l},precomputeWindow(i,s){const{windows:l,windowSize:u}=r(s),d=[];let p=i,y=p;for(let g=0;g<l;g++){y=p,d.push(y);for(let b=1;b<u;b++)y=y.add(p),d.push(y);p=y.double()}return d},wNAF(i,s,l){const{windows:u,windowSize:d}=r(i);let p=e.ZERO,y=e.BASE;const g=BigInt(2**i-1),b=2**i,_=BigInt(i);for(let S=0;S<u;S++){const v=S*d;let E=Number(l&g);l>>=_,E>d&&(E-=b,l+=yy);const k=v,A=v+Math.abs(E)-1,T=S%2!==0,z=E<0;E===0?y=y.add(n(T,s[k])):p=p.add(n(z,s[A]))}return{p,f:y}},wNAFCached(i,s,l,u){const d=i._WINDOW_SIZE||1;let p=s.get(i);return p||(p=this.precomputeWindow(i,d),d!==1&&s.set(i,u(p))),this.wNAF(d,p,l)}}}function fS(e){return n4(e.Fp),Xd(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cS(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function c4(e){const t=fS(e);Xd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:u4,hexToBytes:d4}=Yj,$a={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=$a;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:u4(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=$a,n=typeof e=="string"?d4(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=$a._parseInt(n.subarray(2)),{d:l,l:u}=$a._parseInt(s);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:l}},hexFromSig(e){const t=p=>Number.parseInt(p[0],16)&8?"00"+p:p,n=p=>{const y=p.toString(16);return y.length&1?`0${y}`:y},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,l=i.length/2,u=n(s),d=n(l);return`30${n(l+s+4)}02${d}${i}02${u}${r}`}},To=BigInt(0),Qr=BigInt(1);BigInt(2);const K1=BigInt(3);BigInt(4);function f4(e){const t=c4(e),{Fp:n}=t,r=t.toBytes||((S,v,E)=>{const k=v.toAffine();return sl(Uint8Array.from([4]),n.toBytes(k.x),n.toBytes(k.y))}),i=t.fromBytes||(S=>{const v=S.subarray(1),E=n.fromBytes(v.subarray(0,n.BYTES)),k=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:E,y:k}});function s(S){const{a:v,b:E}=t,k=n.sqr(S),A=n.mul(k,S);return n.add(n.add(A,n.mul(S,v)),E)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function l(S){return typeof S=="bigint"&&To<S&&S<t.n}function u(S){if(!l(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(S){const{allowedPrivateKeyLengths:v,nByteLength:E,wrapPrivateKey:k,n:A}=t;if(v&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=$c(S)),typeof S!="string"||!v.includes(S.length))throw new Error("Invalid key");S=S.padStart(E*2,"0")}let T;try{T=typeof S=="bigint"?S:gr($n("private key",S,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof S}`)}return k&&(T=An(T,A)),u(T),T}const p=new Map;function y(S){if(!(S instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(v,E,k){if(this.px=v,this.py=E,this.pz=k,v==null||!n.isValid(v))throw new Error("x required");if(E==null||!n.isValid(E))throw new Error("y required");if(k==null||!n.isValid(k))throw new Error("z required")}static fromAffine(v){const{x:E,y:k}=v||{};if(!v||!n.isValid(E)||!n.isValid(k))throw new Error("invalid affine point");if(v instanceof g)throw new Error("projective point not allowed");const A=T=>n.eql(T,n.ZERO);return A(E)&&A(k)?g.ZERO:new g(E,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const E=n.invertBatch(v.map(k=>k.pz));return v.map((k,A)=>k.toAffine(E[A])).map(g.fromAffine)}static fromHex(v){const E=g.fromAffine(i($n("pointHex",v)));return E.assertValidity(),E}static fromPrivateKey(v){return g.BASE.multiply(d(v))}_setWindowSize(v){this._WINDOW_SIZE=v,p.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:E}=this.toAffine();if(!n.isValid(v)||!n.isValid(E))throw new Error("bad point: x or y not FE");const k=n.sqr(E),A=s(v);if(!n.eql(k,A))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){y(v);const{px:E,py:k,pz:A}=this,{px:T,py:z,pz:D}=v,$=n.eql(n.mul(E,D),n.mul(T,A)),Z=n.eql(n.mul(k,D),n.mul(z,A));return $&&Z}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:E}=t,k=n.mul(E,K1),{px:A,py:T,pz:z}=this;let D=n.ZERO,$=n.ZERO,Z=n.ZERO,q=n.mul(A,A),F=n.mul(T,T),W=n.mul(z,z),J=n.mul(A,T);return J=n.add(J,J),Z=n.mul(A,z),Z=n.add(Z,Z),D=n.mul(v,Z),$=n.mul(k,W),$=n.add(D,$),D=n.sub(F,$),$=n.add(F,$),$=n.mul(D,$),D=n.mul(J,D),Z=n.mul(k,Z),W=n.mul(v,W),J=n.sub(q,W),J=n.mul(v,J),J=n.add(J,Z),Z=n.add(q,q),q=n.add(Z,q),q=n.add(q,W),q=n.mul(q,J),$=n.add($,q),W=n.mul(T,z),W=n.add(W,W),q=n.mul(W,J),D=n.sub(D,q),Z=n.mul(W,F),Z=n.add(Z,Z),Z=n.add(Z,Z),new g(D,$,Z)}add(v){y(v);const{px:E,py:k,pz:A}=this,{px:T,py:z,pz:D}=v;let $=n.ZERO,Z=n.ZERO,q=n.ZERO;const F=t.a,W=n.mul(t.b,K1);let J=n.mul(E,T),U=n.mul(k,z),X=n.mul(A,D),j=n.add(E,k),K=n.add(T,z);j=n.mul(j,K),K=n.add(J,U),j=n.sub(j,K),K=n.add(E,A);let se=n.add(T,D);return K=n.mul(K,se),se=n.add(J,X),K=n.sub(K,se),se=n.add(k,A),$=n.add(z,D),se=n.mul(se,$),$=n.add(U,X),se=n.sub(se,$),q=n.mul(F,K),$=n.mul(W,X),q=n.add($,q),$=n.sub(U,q),q=n.add(U,q),Z=n.mul($,q),U=n.add(J,J),U=n.add(U,J),X=n.mul(F,X),K=n.mul(W,K),U=n.add(U,X),X=n.sub(J,X),X=n.mul(F,X),K=n.add(K,X),J=n.mul(U,K),Z=n.add(Z,J),J=n.mul(se,K),$=n.mul(j,$),$=n.sub($,J),J=n.mul(j,U),q=n.mul(se,q),q=n.add(q,J),new g($,Z,q)}subtract(v){return this.add(v.negate())}is0(){return this.equals(g.ZERO)}wNAF(v){return _.wNAFCached(this,p,v,E=>{const k=n.invertBatch(E.map(A=>A.pz));return E.map((A,T)=>A.toAffine(k[T])).map(g.fromAffine)})}multiplyUnsafe(v){const E=g.ZERO;if(v===To)return E;if(u(v),v===Qr)return this;const{endo:k}=t;if(!k)return _.unsafeLadder(this,v);let{k1neg:A,k1:T,k2neg:z,k2:D}=k.splitScalar(v),$=E,Z=E,q=this;for(;T>To||D>To;)T&Qr&&($=$.add(q)),D&Qr&&(Z=Z.add(q)),q=q.double(),T>>=Qr,D>>=Qr;return A&&($=$.negate()),z&&(Z=Z.negate()),Z=new g(n.mul(Z.px,k.beta),Z.py,Z.pz),$.add(Z)}multiply(v){u(v);let E=v,k,A;const{endo:T}=t;if(T){const{k1neg:z,k1:D,k2neg:$,k2:Z}=T.splitScalar(E);let{p:q,f:F}=this.wNAF(D),{p:W,f:J}=this.wNAF(Z);q=_.constTimeNegate(z,q),W=_.constTimeNegate($,W),W=new g(n.mul(W.px,T.beta),W.py,W.pz),k=q.add(W),A=F.add(J)}else{const{p:z,f:D}=this.wNAF(E);k=z,A=D}return g.normalizeZ([k,A])[0]}multiplyAndAddUnsafe(v,E,k){const A=g.BASE,T=(D,$)=>$===To||$===Qr||!D.equals(A)?D.multiplyUnsafe($):D.multiply($),z=T(this,E).add(T(v,k));return z.is0()?void 0:z}toAffine(v){const{px:E,py:k,pz:A}=this,T=this.is0();v==null&&(v=T?n.ONE:n.inv(A));const z=n.mul(E,v),D=n.mul(k,v),$=n.mul(A,v);if(T)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:z,y:D}}isTorsionFree(){const{h:v,isTorsionFree:E}=t;if(v===Qr)return!0;if(E)return E(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:E}=t;return v===Qr?this:E?E(g,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return this.assertValidity(),r(g,this,v)}toHex(v=!0){return $c(this.toRawBytes(v))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,_=l4(g,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:s,isWithinCurveOrder:l}}function h4(e){const t=fS(e);return Xd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function p4(e){const t=h4(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function l(K){return To<K&&K<n.ORDER}function u(K){return An(K,r)}function d(K){return Uv(K,r)}const{ProjectivePoint:p,normPrivateKeyToScalar:y,weierstrassEquation:g,isWithinCurveOrder:b}=f4({...t,toBytes(K,se,ie){const te=se.toAffine(),ee=n.toBytes(te.x),le=sl;return ie?le(Uint8Array.from([se.hasEvenY()?2:3]),ee):le(Uint8Array.from([4]),ee,n.toBytes(te.y))},fromBytes(K){const se=K.length,ie=K[0],te=K.subarray(1);if(se===i&&(ie===2||ie===3)){const ee=gr(te);if(!l(ee))throw new Error("Point is not on curve");const le=g(ee);let H=n.sqrt(le);const Q=(H&Qr)===Qr;return(ie&1)===1!==Q&&(H=n.neg(H)),{x:ee,y:H}}else if(se===s&&ie===4){const ee=n.fromBytes(te.subarray(0,n.BYTES)),le=n.fromBytes(te.subarray(n.BYTES,2*n.BYTES));return{x:ee,y:le}}else throw new Error(`Point of length ${se} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),_=K=>$c(ea(K,t.nByteLength));function S(K){const se=r>>Qr;return K>se}function v(K){return S(K)?u(-K):K}const E=(K,se,ie)=>gr(K.slice(se,ie));class k{constructor(se,ie,te){this.r=se,this.s=ie,this.recovery=te,this.assertValidity()}static fromCompact(se){const ie=t.nByteLength;return se=$n("compactSignature",se,ie*2),new k(E(se,0,ie),E(se,ie,2*ie))}static fromDER(se){const{r:ie,s:te}=$a.toSig($n("DER",se));return new k(ie,te)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(se){return new k(this.r,this.s,se)}recoverPublicKey(se){const{r:ie,s:te,recovery:ee}=this,le=Z($n("msgHash",se));if(ee==null||![0,1,2,3].includes(ee))throw new Error("recovery id invalid");const H=ee===2||ee===3?ie+t.n:ie;if(H>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Q=(ee&1)===0?"02":"03",ke=p.fromHex(Q+_(H)),_e=d(H),ve=u(-le*_e),Ie=u(te*_e),Pe=p.BASE.multiplyAndAddUnsafe(ke,ve,Ie);if(!Pe)throw new Error("point at infinify");return Pe.assertValidity(),Pe}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Hc(this.toDERHex())}toDERHex(){return $a.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Hc(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}const A={isValidPrivateKey(K){try{return y(K),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const K=dS(t.n);return s4(t.randomBytes(K),t.n)},precompute(K=8,se=p.BASE){return se._setWindowSize(K),se.multiply(BigInt(3)),se}};function T(K,se=!0){return p.fromPrivateKey(K).toRawBytes(se)}function z(K){const se=K instanceof Uint8Array,ie=typeof K=="string",te=(se||ie)&&K.length;return se?te===i||te===s:ie?te===2*i||te===2*s:K instanceof p}function D(K,se,ie=!0){if(z(K))throw new Error("first arg must be private key");if(!z(se))throw new Error("second arg must be public key");return p.fromHex(se).multiply(y(K)).toRawBytes(ie)}const $=t.bits2int||function(K){const se=gr(K),ie=K.length*8-t.nBitLength;return ie>0?se>>BigInt(ie):se},Z=t.bits2int_modN||function(K){return u($(K))},q=Y0(t.nBitLength);function F(K){if(typeof K!="bigint")throw new Error("bigint expected");if(!(To<=K&&K<q))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ea(K,t.nByteLength)}function W(K,se,ie=J){if(["recovered","canonical"].some(Oe=>Oe in ie))throw new Error("sign() legacy options not supported");const{hash:te,randomBytes:ee}=t;let{lowS:le,prehash:H,extraEntropy:Q}=ie;le==null&&(le=!0),K=$n("msgHash",K),H&&(K=$n("prehashed msgHash",te(K)));const ke=Z(K),_e=y(se),ve=[F(_e),F(ke)];if(Q!=null){const Oe=Q===!0?ee(n.BYTES):Q;ve.push($n("extraEntropy",Oe))}const Ie=sl(...ve),Pe=ke;function Te(Oe){const He=$(Oe);if(!b(He))return;const Qe=d(He),ot=p.BASE.multiply(He).toAffine(),at=u(ot.x);if(at===To)return;const B=u(Qe*u(Pe+at*_e));if(B===To)return;let Ne=(ot.x===at?0:2)|Number(ot.y&Qr),be=B;return le&&S(B)&&(be=v(B),Ne^=1),new k(at,be,Ne)}return{seed:Ie,k2sig:Te}}const J={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};function X(K,se,ie=J){const{seed:te,k2sig:ee}=W(K,se,ie),le=t;return lS(le.hash.outputLen,le.nByteLength,le.hmac)(te,ee)}p.BASE._setWindowSize(8);function j(K,se,ie,te=U){var ot;const ee=K;if(se=$n("msgHash",se),ie=$n("publicKey",ie),"strict"in te)throw new Error("options.strict was renamed to lowS");const{lowS:le,prehash:H}=te;let Q,ke;try{if(typeof ee=="string"||ee instanceof Uint8Array)try{Q=k.fromDER(ee)}catch(at){if(!(at instanceof $a.Err))throw at;Q=k.fromCompact(ee)}else if(typeof ee=="object"&&typeof ee.r=="bigint"&&typeof ee.s=="bigint"){const{r:at,s:B}=ee;Q=new k(at,B)}else throw new Error("PARSE");ke=p.fromHex(ie)}catch(at){if(at.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(le&&Q.hasHighS())return!1;H&&(se=t.hash(se));const{r:_e,s:ve}=Q,Ie=Z(se),Pe=d(ve),Te=u(Ie*Pe),Oe=u(_e*Pe),He=(ot=p.BASE.multiplyAndAddUnsafe(ke,Te,Oe))==null?void 0:ot.toAffine();return He?u(He.x)===_e:!1}return{CURVE:t,getPublicKey:T,getSharedSecret:D,sign:X,verify:j,ProjectivePoint:p,Signature:k,utils:A}}let hS=class extends iS{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Tj(t);const r=V0(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=t.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),s.fill(0)}update(t){return cp(this),this.iHash.update(t),this}digestInto(t){cp(this),nS(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:l,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=l,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const pS=(e,t,n)=>new hS(e,t).update(n).digest();pS.create=(e,t)=>new hS(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function m4(e){return{hash:e,hmac:(t,...n)=>pS(e,t,jj(...n)),randomBytes:oS}}function g4(e,t){const n=r=>p4({...e,...m4(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bp=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),up=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mS=BigInt(1),dp=BigInt(2),G1=(e,t)=>(e+t/dp)/t;function gS(e){const t=Bp,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),l=BigInt(23),u=BigInt(44),d=BigInt(88),p=e*e*e%t,y=p*p*e%t,g=qr(y,n,t)*y%t,b=qr(g,n,t)*y%t,_=qr(b,dp,t)*p%t,S=qr(_,i,t)*_%t,v=qr(S,s,t)*S%t,E=qr(v,u,t)*v%t,k=qr(E,d,t)*E%t,A=qr(k,u,t)*v%t,T=qr(A,n,t)*y%t,z=qr(T,l,t)*S%t,D=qr(z,r,t)*p%t,$=qr(D,dp,t);if(!$v.eql($v.sqr($),e))throw new Error("Cannot find square root");return $}const $v=o4(Bp,void 0,void 0,{sqrt:gS}),Jc=g4({a:BigInt(0),b:BigInt(7),Fp:$v,n:up,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=up,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-mS*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,l=BigInt("0x100000000000000000000000000000000"),u=G1(s*e,t),d=G1(-r*e,t);let p=An(e-u*n-d*i,t),y=An(-u*r-d*s,t);const g=p>l,b=y>l;if(g&&(p=t-p),b&&(y=t-y),p>l||y>l)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:g,k1:p,k2neg:b,k2:y}}}},Bv),Fp=BigInt(0),yS=e=>typeof e=="bigint"&&Fp<e&&e<Bp,y4=e=>typeof e=="bigint"&&Fp<e&&e<up,Y1={};function fp(e,...t){let n=Y1[e];if(n===void 0){const r=Bv(Uint8Array.from(e,i=>i.charCodeAt(0)));n=sl(r,r),Y1[e]=n}return Bv(sl(n,...t))}const J0=e=>e.toRawBytes(!0).slice(1),Hv=e=>ea(e,32),vy=e=>An(e,Bp),Pd=e=>An(e,up),Q0=Jc.ProjectivePoint,v4=(e,t,n)=>Q0.BASE.multiplyAndAddUnsafe(e,t,n);function Zv(e){let t=Jc.utils.normPrivateKeyToScalar(e),n=Q0.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Pd(-t),bytes:J0(n)}}function vS(e){if(!yS(e))throw new Error("bad x: need 0 < x < p");const t=vy(e*e),n=vy(t*e+BigInt(7));let r=gS(n);r%dp!==Fp&&(r=vy(-r));const i=new Q0(e,r,mS);return i.assertValidity(),i}function wS(...e){return Pd(gr(fp("BIP0340/challenge",...e)))}function w4(e){return Zv(e).bytes}function _4(e,t,n=oS(32)){const r=$n("message",e),{bytes:i,scalar:s}=Zv(t),l=$n("auxRand",n,32),u=Hv(s^gr(fp("BIP0340/aux",l))),d=fp("BIP0340/nonce",u,i,r),p=Pd(gr(d));if(p===Fp)throw new Error("sign failed: k is zero");const{bytes:y,scalar:g}=Zv(p),b=wS(y,i,r),_=new Uint8Array(64);if(_.set(y,0),_.set(Hv(Pd(g+b*s)),32),!_S(_,r,i))throw new Error("sign: Invalid signature produced");return _}function _S(e,t,n){const r=$n("signature",e,64),i=$n("message",t),s=$n("publicKey",n,32);try{const l=vS(gr(s)),u=gr(r.subarray(0,32));if(!yS(u))return!1;const d=gr(r.subarray(32,64));if(!y4(d))return!1;const p=wS(Hv(u),J0(l),i),y=v4(l,d,Pd(-p));return!(!y||!y.hasEvenY()||y.toAffine().x!==u)}catch{return!1}}const cd={getPublicKey:w4,sign:_4,verify:_S,utils:{randomPrivateKey:Jc.utils.randomPrivateKey,lift_x:vS,pointToBytes:J0,numberToBytesBE:ea,bytesToNumberBE:gr,taggedHash:fp,mod:An}},wy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X0=e=>e instanceof Uint8Array,_y=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Di=(e,t)=>e<<32-t|e>>>t,x4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!x4)throw new Error("Non little-endian hardware is not supported");const b4=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Hn(e){if(!X0(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=b4[e[n]];return t}function al(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,s=e.slice(i,i+2),l=Number.parseInt(s,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function E4(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Td(e){if(typeof e=="string"&&(e=E4(e)),!X0(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Up(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!X0(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class xS{clone(){return this._cloneInto()}}function bS(e){const t=r=>e().update(Td(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ES(e=32){if(wy&&typeof wy.getRandomValues=="function")return wy.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Wv(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function S4(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function SS(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function k4(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wv(e.outputLen),Wv(e.blockLen)}function C4(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function N4(e,t){SS(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ki={number:Wv,bool:S4,bytes:SS,hash:k4,exists:C4,output:N4};function P4(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(n>>i&s),u=Number(n&s),d=r?4:0,p=r?0:4;e.setUint32(t+d,l,r),e.setUint32(t+p,u,r)}class T4 extends xS{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=_y(this.buffer)}update(t){Ki.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=Td(t);const s=t.length;for(let l=0;l<s;){const u=Math.min(i-this.pos,s-l);if(u===i){const d=_y(t);for(;i<=s-l;l+=i)this.process(d,l);continue}r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ki.exists(this),Ki.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let g=l;g<i;g++)n[g]=0;P4(r,i-8,BigInt(this.length*8),s),this.process(r,0);const u=_y(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,y=this.get();if(p>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<p;g++)u.setUint32(4*g,y[g],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:u}=this;return t.length=i,t.pos=u,t.finished=s,t.destroyed=l,i%n&&t.buffer.set(r),t}}const A4=(e,t,n)=>e&t^~e&n,R4=(e,t,n)=>e&t^e&n^t&n,I4=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ns=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ps=new Uint32Array(64);class kS extends T4{constructor(){super(64,32,8,!1),this.A=Ns[0]|0,this.B=Ns[1]|0,this.C=Ns[2]|0,this.D=Ns[3]|0,this.E=Ns[4]|0,this.F=Ns[5]|0,this.G=Ns[6]|0,this.H=Ns[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:l,G:u,H:d}=this;return[t,n,r,i,s,l,u,d]}set(t,n,r,i,s,l,u,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=l|0,this.G=u|0,this.H=d|0}process(t,n){for(let g=0;g<16;g++,n+=4)Ps[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){const b=Ps[g-15],_=Ps[g-2],S=Di(b,7)^Di(b,18)^b>>>3,v=Di(_,17)^Di(_,19)^_>>>10;Ps[g]=v+Ps[g-7]+S+Ps[g-16]|0}let{A:r,B:i,C:s,D:l,E:u,F:d,G:p,H:y}=this;for(let g=0;g<64;g++){const b=Di(u,6)^Di(u,11)^Di(u,25),_=y+b+A4(u,d,p)+I4[g]+Ps[g]|0,v=(Di(r,2)^Di(r,13)^Di(r,22))+R4(r,i,s)|0;y=p,p=d,d=u,u=l+_|0,l=s,s=i,i=r,r=_+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,y=y+this.H|0,this.set(r,i,s,l,u,d,p,y)}roundClean(){Ps.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class j4 extends kS{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Qc=bS(()=>new kS);bS(()=>new j4);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Xc(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function $o(...e){const t=(i,s)=>l=>i(s(l)),n=Array.from(e).reverse().reduce((i,s)=>i?t(i,s.encode):s.encode,void 0),r=e.reduce((i,s)=>i?t(i,s.decode):s.decode,void 0);return{encode:n,decode:r}}function Ho(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Xc(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function Zo(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function $p(e,t="="){if(Xc(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of n)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function CS(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function J1(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],s=Array.from(e);for(s.forEach(l=>{if(Xc(l),l<0||l>=t)throw new Error(`Wrong integer: ${l}`)});;){let l=0,u=!0;for(let d=r;d<s.length;d++){const p=s[d],y=t*l+p;if(!Number.isSafeInteger(y)||t*l/t!==l||y-p!==t*l)throw new Error("convertRadix: carry overflow");if(l=y%n,s[d]=Math.floor(y/n),!Number.isSafeInteger(s[d])||s[d]*n+l!==y)throw new Error("convertRadix: carry overflow");if(u)s[d]?u=!1:r=d;else continue}if(i.push(l),u)break}for(let l=0;l<e.length-1&&e[l]===0;l++)i.push(0);return i.reverse()}const NS=(e,t)=>t?NS(t,e%t):e,hp=(e,t)=>e+(t-NS(e,t));function Vv(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(hp(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${hp(t,n)}`);let i=0,s=0;const l=2**n-1,u=[];for(const d of e){if(Xc(d),d>=2**t)throw new Error(`convertRadix2: invalid data word=${d} from=${t}`);if(i=i<<t|d,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)u.push((i>>s-n&l)>>>0);i&=2**s-1}if(i=i<<n-s&l,!r&&s>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&u.push(i>>>0),u}function L4(e){return Xc(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return J1(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(J1(t,e,2**8))}}}function oa(e,t=!1){if(Xc(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(hp(8,e)>32||hp(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Vv(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Vv(n,e,8,t))}}}function Q1(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const O4=$o(oa(4),Ho("0123456789ABCDEF"),Zo("")),M4=$o(oa(5),Ho("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),$p(5),Zo(""));$o(oa(5),Ho("0123456789ABCDEFGHIJKLMNOPQRSTUV"),$p(5),Zo(""));$o(oa(5),Ho("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Zo(""),CS(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Do=$o(oa(6),Ho("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),$p(6),Zo("")),z4=$o(oa(6),Ho("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),$p(6),Zo("")),ew=e=>$o(L4(58),Ho(e),Zo("")),qv=ew("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");ew("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");ew("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const X1=[0,2,3,5,6,7,9,10,11],D4={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=qv.encode(r).padStart(X1[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=X1.indexOf(r.length),s=qv.decode(r);for(let l=0;l<s.length-i;l++)if(s[l]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(t)}},Kv=$o(Ho("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Zo("")),eb=[996825010,642813549,513874426,1027748829,705979059];function ud(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<eb.length;r++)(t>>r&1)===1&&(n^=eb[r]);return n}function tb(e,t,n=1){const r=e.length;let i=1;for(let s=0;s<r;s++){const l=e.charCodeAt(s);if(l<33||l>126)throw new Error(`Invalid prefix (${e})`);i=ud(i)^l>>5}i=ud(i);for(let s=0;s<r;s++)i=ud(i)^e.charCodeAt(s)&31;for(let s of t)i=ud(i)^s;for(let s=0;s<6;s++)i=ud(i);return i^=n,Kv.encode(Vv([i%2**30],30,5,!1))}function PS(e){const t=e==="bech32"?1:734539939,n=oa(5),r=n.decode,i=n.encode,s=Q1(r);function l(y,g,b=90){if(typeof y!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof y}`);if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof g}`);const _=y.length+7+g.length;if(b!==!1&&_>b)throw new TypeError(`Length ${_} exceeds limit ${b}`);return y=y.toLowerCase(),`${y}1${Kv.encode(g)}${tb(y,g,t)}`}function u(y,g=90){if(typeof y!="string")throw new Error(`bech32.decode input should be string, not ${typeof y}`);if(y.length<8||g!==!1&&y.length>g)throw new TypeError(`Wrong string length: ${y.length} (${y}). Expected (8..${g})`);const b=y.toLowerCase();if(y!==b&&y!==y.toUpperCase())throw new Error("String must be lowercase or uppercase");y=b;const _=y.lastIndexOf("1");if(_===0||_===-1)throw new Error('Letter "1" must be present between prefix and data only');const S=y.slice(0,_),v=y.slice(_+1);if(v.length<6)throw new Error("Data must be at least 6 characters long");const E=Kv.decode(v).slice(0,-6),k=tb(S,E,t);if(!v.endsWith(k))throw new Error(`Invalid checksum in ${y}: expected "${k}"`);return{prefix:S,words:E}}const d=Q1(u);function p(y){const{prefix:g,words:b}=u(y,!1);return{prefix:g,words:b,bytes:r(b)}}return{encode:l,decode:u,decodeToBytes:p,decodeUnsafe:d,fromWords:r,fromWordsUnsafe:s,toWords:i}}const Zc=PS("bech32");PS("bech32m");const B4={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},F4=$o(oa(4),Ho("0123456789abcdef"),Zo(""),CS(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),U4={utf8:B4,hex:F4,base16:O4,base32:M4,base64:Do,base64url:z4,base58:qv,base58xmr:D4};`${Object.keys(U4).join(", ")}`;function xy(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function nb(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function $4(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function jo(e,...t){if(!$4(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Zn=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),H4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!H4)throw new Error("Non little-endian hardware is not supported");function Z4(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function W4(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const V4=(e,t)=>(Object.assign(t,e),t),Js=16,q4=283;function tw(e){return e<<1^q4&-(e>>7)}function yc(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=tw(e);return n}const Gv=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=tw(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),K4=Gv.map((e,t)=>Gv.indexOf(t)),G4=e=>e<<24|e>>>8,by=e=>e<<8|e>>>24;function TS(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((p,y)=>t(e[y])),r=n.map(by),i=r.map(by),s=i.map(by),l=new Uint32Array(256*256),u=new Uint32Array(256*256),d=new Uint16Array(256*256);for(let p=0;p<256;p++)for(let y=0;y<256;y++){const g=p*256+y;l[g]=n[p]^r[y],u[g]=i[p]^s[y],d[g]=e[p]<<8|e[y]}return{sbox:e,sbox2:d,T0:n,T1:r,T2:i,T3:s,T01:l,T23:u}}const nw=TS(Gv,e=>yc(e,3)<<24|e<<16|e<<8|yc(e,2)),AS=TS(K4,e=>yc(e,11)<<24|yc(e,13)<<16|yc(e,9)<<8|yc(e,14)),Y4=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=tw(n))e[t]=n;return e})();function RS(e){jo(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=nw,r=Zn(e),i=r.length,s=u=>Gi(n,u,u,u,u),l=new Uint32Array(t+28);l.set(r);for(let u=i;u<l.length;u++){let d=l[u-1];u%i===0?d=s(G4(d))^Y4[u/i-1]:i>6&&u%i===4&&(d=s(d)),l[u]=l[u-i]^d}return l}function J4(e){const t=RS(e),n=t.slice(),r=t.length,{sbox2:i}=nw,{T0:s,T1:l,T2:u,T3:d}=AS;for(let p=0;p<r;p+=4)for(let y=0;y<4;y++)n[p+y]=t[r-p-4+y];t.fill(0);for(let p=4;p<r-4;p++){const y=n[p],g=Gi(i,y,y,y,y);n[p]=s[g&255]^l[g>>>8&255]^u[g>>>16&255]^d[g>>>24]}return n}function qs(e,t,n,r,i,s){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|s>>>24&255]}function Gi(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function rb(e,t,n,r,i){const{sbox2:s,T01:l,T23:u}=nw;let d=0;t^=e[d++],n^=e[d++],r^=e[d++],i^=e[d++];const p=e.length/4-2;for(let S=0;S<p;S++){const v=e[d++]^qs(l,u,t,n,r,i),E=e[d++]^qs(l,u,n,r,i,t),k=e[d++]^qs(l,u,r,i,t,n),A=e[d++]^qs(l,u,i,t,n,r);t=v,n=E,r=k,i=A}const y=e[d++]^Gi(s,t,n,r,i),g=e[d++]^Gi(s,n,r,i,t),b=e[d++]^Gi(s,r,i,t,n),_=e[d++]^Gi(s,i,t,n,r);return{s0:y,s1:g,s2:b,s3:_}}function Q4(e,t,n,r,i){const{sbox2:s,T01:l,T23:u}=AS;let d=0;t^=e[d++],n^=e[d++],r^=e[d++],i^=e[d++];const p=e.length/4-2;for(let S=0;S<p;S++){const v=e[d++]^qs(l,u,t,i,r,n),E=e[d++]^qs(l,u,n,t,i,r),k=e[d++]^qs(l,u,r,n,t,i),A=e[d++]^qs(l,u,i,r,n,t);t=v,n=E,r=k,i=A}const y=e[d++]^Gi(s,t,i,r,n),g=e[d++]^Gi(s,n,t,i,r),b=e[d++]^Gi(s,r,n,t,i),_=e[d++]^Gi(s,i,r,n,t);return{s0:y,s1:g,s2:b,s3:_}}function IS(e,t){if(!t)return new Uint8Array(e);if(jo(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function X4(e){if(jo(e),e.length%Js!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Js}`)}function eL(e,t,n){let r=e.length;const i=r%Js;if(!t&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const s=Zn(e);if(t){let d=Js-i;d||(d=Js),r=r+d}const l=IS(r,n),u=Zn(l);return{b:s,o:u,out:l}}function tL(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const i=e.subarray(0,-r);for(let s=0;s<r;s++)if(e[n-s-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function nL(e){const t=new Uint8Array(16),n=Zn(t);t.set(e);const r=Js-e.length;for(let i=Js-r;i<Js;i++)t[i]=r;return n}const jS=V4({blockSize:16,nonceLength:16},function(t,n,r={}){jo(t),jo(n,16);const i=!r.disablePadding;return{encrypt:(s,l)=>{const u=RS(t),{b:d,o:p,out:y}=eL(s,i,l),g=Zn(n);let b=g[0],_=g[1],S=g[2],v=g[3],E=0;for(;E+4<=d.length;)b^=d[E+0],_^=d[E+1],S^=d[E+2],v^=d[E+3],{s0:b,s1:_,s2:S,s3:v}=rb(u,b,_,S,v),p[E++]=b,p[E++]=_,p[E++]=S,p[E++]=v;if(i){const k=nL(s.subarray(E*4));b^=k[0],_^=k[1],S^=k[2],v^=k[3],{s0:b,s1:_,s2:S,s3:v}=rb(u,b,_,S,v),p[E++]=b,p[E++]=_,p[E++]=S,p[E++]=v}return u.fill(0),y},decrypt:(s,l)=>{X4(s);const u=J4(t),d=Zn(n),p=IS(s.length,l),y=Zn(s),g=Zn(p);let b=d[0],_=d[1],S=d[2],v=d[3];for(let E=0;E+4<=y.length;){const k=b,A=_,T=S,z=v;b=y[E+0],_=y[E+1],S=y[E+2],v=y[E+3];const{s0:D,s1:$,s2:Z,s3:q}=Q4(u,b,_,S,v);g[E++]=D^k,g[E++]=$^A,g[E++]=Z^T,g[E++]=q^z}return u.fill(0),tL(p,i)}}}),LS=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),rL=LS("expand 16-byte k"),iL=LS("expand 32-byte k"),oL=Zn(rL),OS=Zn(iL);OS.slice();function It(e,t){return e<<t|e>>>32-t}function Yv(e){return e.byteOffset%4===0}const Mh=64,sL=16,MS=2**32-1,ib=new Uint32Array;function aL(e,t,n,r,i,s,l,u){const d=i.length,p=new Uint8Array(Mh),y=Zn(p),g=Yv(i)&&Yv(s),b=g?Zn(i):ib,_=g?Zn(s):ib;for(let S=0;S<d;l++){if(e(t,n,r,y,l,u),l>=MS)throw new Error("arx: counter overflow");const v=Math.min(Mh,d-S);if(g&&v===Mh){const E=S/4;if(S%4!==0)throw new Error("arx: invalid block position");for(let k=0,A;k<sL;k++)A=E+k,_[A]=b[A]^y[k];S+=Mh;continue}for(let E=0,k;E<v;E++)k=S+E,s[k]=i[k]^p[E];S+=v}}function lL(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:l}=Z4({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return xy(i),xy(l),nb(s),nb(n),(u,d,p,y,g=0)=>{jo(u),jo(d),jo(p);const b=p.length;if(y||(y=new Uint8Array(b)),jo(y),xy(g),g<0||g>=MS)throw new Error("arx: counter overflow");if(y.length<b)throw new Error(`arx: output (${y.length}) is shorter than data (${b})`);const _=[];let S=u.length,v,E;if(S===32)v=u.slice(),_.push(v),E=OS;else if(S===16&&n)v=new Uint8Array(32),v.set(u),v.set(u,16),E=oL,_.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${S}`);Yv(d)||(d=d.slice(),_.push(d));const k=Zn(v);if(r){if(d.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,k,Zn(d.subarray(0,16)),k),d=d.subarray(16)}const A=16-i;if(A!==d.length)throw new Error(`arx: nonce must be ${A} or 16 bytes`);if(A!==12){const z=new Uint8Array(12);z.set(d,s?0:12-d.length),d=z,_.push(d)}const T=Zn(d);for(aL(e,E,k,T,p,y,g,l);_.length>0;)_.pop().fill(0);return y}}function cL(e,t,n,r,i,s=20){let l=e[0],u=e[1],d=e[2],p=e[3],y=t[0],g=t[1],b=t[2],_=t[3],S=t[4],v=t[5],E=t[6],k=t[7],A=i,T=n[0],z=n[1],D=n[2],$=l,Z=u,q=d,F=p,W=y,J=g,U=b,X=_,j=S,K=v,se=E,ie=k,te=A,ee=T,le=z,H=D;for(let ke=0;ke<s;ke+=2)$=$+W|0,te=It(te^$,16),j=j+te|0,W=It(W^j,12),$=$+W|0,te=It(te^$,8),j=j+te|0,W=It(W^j,7),Z=Z+J|0,ee=It(ee^Z,16),K=K+ee|0,J=It(J^K,12),Z=Z+J|0,ee=It(ee^Z,8),K=K+ee|0,J=It(J^K,7),q=q+U|0,le=It(le^q,16),se=se+le|0,U=It(U^se,12),q=q+U|0,le=It(le^q,8),se=se+le|0,U=It(U^se,7),F=F+X|0,H=It(H^F,16),ie=ie+H|0,X=It(X^ie,12),F=F+X|0,H=It(H^F,8),ie=ie+H|0,X=It(X^ie,7),$=$+J|0,H=It(H^$,16),se=se+H|0,J=It(J^se,12),$=$+J|0,H=It(H^$,8),se=se+H|0,J=It(J^se,7),Z=Z+U|0,te=It(te^Z,16),ie=ie+te|0,U=It(U^ie,12),Z=Z+U|0,te=It(te^Z,8),ie=ie+te|0,U=It(U^ie,7),q=q+X|0,ee=It(ee^q,16),j=j+ee|0,X=It(X^j,12),q=q+X|0,ee=It(ee^q,8),j=j+ee|0,X=It(X^j,7),F=F+W|0,le=It(le^F,16),K=K+le|0,W=It(W^K,12),F=F+W|0,le=It(le^F,8),K=K+le|0,W=It(W^K,7);let Q=0;r[Q++]=l+$|0,r[Q++]=u+Z|0,r[Q++]=d+q|0,r[Q++]=p+F|0,r[Q++]=y+W|0,r[Q++]=g+J|0,r[Q++]=b+U|0,r[Q++]=_+X|0,r[Q++]=S+j|0,r[Q++]=v+K|0,r[Q++]=E+se|0,r[Q++]=k+ie|0,r[Q++]=A+te|0,r[Q++]=T+ee|0,r[Q++]=z+le|0,r[Q++]=D+H|0}const zS=lL(cL,{counterRight:!1,counterLength:4,allowShortKeys:!1});class DS extends xS{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Ki.hash(t);const r=Td(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=t.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),s.fill(0)}update(t){return Ki.exists(this),this.iHash.update(t),this}digestInto(t){Ki.exists(this),Ki.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:l,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=l,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Hp=(e,t,n)=>new DS(e,t).update(n).digest();Hp.create=(e,t)=>new DS(e,t);function uL(e,t,n){return Ki.hash(e),Hp(e,Td(n),Td(t))}const Ey=new Uint8Array([0]),ob=new Uint8Array;function dL(e,t,n,r=32){if(Ki.hash(e),Ki.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);n===void 0&&(n=ob);const s=new Uint8Array(i*e.outputLen),l=Hp.create(e,t),u=l._cloneInto(),d=new Uint8Array(l.outputLen);for(let p=0;p<i;p++)Ey[0]=p+1,u.update(p===0?ob:d).update(n).update(Ey).digestInto(d),s.set(d,e.outputLen*p),l._cloneInto(u);return l.destroy(),u.destroy(),d.fill(0),Ey.fill(0),s.slice(0,r)}var fL=Object.defineProperty,Yt=(e,t)=>{for(var n in t)fL(e,n,{get:t[n],enumerable:!0})},uc=Symbol("verified"),hL=e=>e instanceof Object;function rw(e){if(!hL(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var pL={};Yt(pL,{Queue:()=>US,QueueNode:()=>FS,binarySearch:()=>iw,bytesToHex:()=>Hn,hexToBytes:()=>al,insertEventIntoAscendingList:()=>gL,insertEventIntoDescendingList:()=>mL,normalizeURL:()=>BS,utf8Decoder:()=>Lo,utf8Encoder:()=>xi});var Lo=new TextDecoder("utf-8"),xi=new TextEncoder;function BS(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch{throw new Error(`Invalid URL: ${e}`)}}function mL(e,t){const[n,r]=iw(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:i.created_at-t.created_at);return r||e.splice(n,0,t),e}function gL(e,t){const[n,r]=iw(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:t.created_at-i.created_at);return r||e.splice(n,0,t),e}function iw(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),s=t(e[i]);if(s===0)return[i,!0];s<0?r=i-1:n=i+1}return[n,!1]}var FS=class{constructor(e){Ze(this,"value");Ze(this,"next",null);Ze(this,"prev",null);this.value=e}},US=class{constructor(){Ze(this,"first");Ze(this,"last");this.first=null,this.last=null}enqueue(e){const t=new FS(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},yL=class{generateSecretKey(){return cd.utils.randomPrivateKey()}getPublicKey(e){return Hn(cd.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Hn(cd.getPublicKey(t)),n.id=Ed(n),n.sig=Hn(cd.sign(Ed(n),t)),n[uc]=!0,n}verifyEvent(e){if(typeof e[uc]=="boolean")return e[uc];const t=Ed(e);if(t!==e.id)return e[uc]=!1,!1;try{const n=cd.verify(e.sig,t,e.pubkey);return e[uc]=n,n}catch{return e[uc]=!1,!1}}};function vL(e){if(!rw(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Ed(e){let t=Qc(xi.encode(vL(e)));return Hn(t)}var Zp=new yL,ef=Zp.generateSecretKey,Bo=Zp.getPublicKey,ni=Zp.finalizeEvent,tf=Zp.verifyEvent,wL={};Yt(wL,{Application:()=>vO,BadgeAward:()=>NL,BadgeDefinition:()=>dO,BlockedRelaysList:()=>GL,BookmarkList:()=>VL,Bookmarksets:()=>lO,Calendar:()=>kO,CalendarEventRSVP:()=>CO,ChannelCreation:()=>qS,ChannelHideMessage:()=>YS,ChannelMessage:()=>GS,ChannelMetadata:()=>KS,ChannelMuteUser:()=>JS,ClassifiedListing:()=>xO,ClientAuth:()=>XS,CommunitiesList:()=>qL,CommunityDefinition:()=>TO,CommunityPostApproval:()=>OL,Contacts:()=>SL,CreateOrUpdateProduct:()=>pO,CreateOrUpdateStall:()=>hO,Curationsets:()=>cO,Date:()=>EO,DirectMessageRelaysList:()=>XL,DraftClassifiedListing:()=>bO,DraftLong:()=>gO,Emojisets:()=>yO,EncryptedDirectMessage:()=>kL,EventDeletion:()=>CL,FileMetadata:()=>TL,FileServerPreference:()=>eO,Followsets:()=>oO,GenericRepost:()=>aw,Genericlists:()=>sO,GiftWrap:()=>QS,HTTPAuth:()=>lw,Handlerinformation:()=>PO,Handlerrecommendation:()=>NO,Highlights:()=>$L,InterestsList:()=>JL,Interestsets:()=>fO,JobFeedback:()=>DL,JobRequest:()=>ML,JobResult:()=>zL,Label:()=>LL,LightningPubRPC:()=>nO,LiveChatMessage:()=>AL,LiveEvent:()=>wO,LongFormArticle:()=>mO,Metadata:()=>bL,Mutelist:()=>HL,NWCWalletInfo:()=>tO,NWCWalletRequest:()=>ek,NWCWalletResponse:()=>rO,NostrConnect:()=>iO,OpenTimestamps:()=>PL,Pinlist:()=>ZL,PrivateDirectMessage:()=>VS,ProblemTracker:()=>RL,ProfileBadges:()=>uO,PublicChatsList:()=>KL,Reaction:()=>sw,RecommendRelay:()=>EL,RelayList:()=>WL,Relaysets:()=>aO,Report:()=>IL,Reporting:()=>jL,Repost:()=>ow,Seal:()=>WS,SearchRelaysList:()=>YL,ShortTextNote:()=>ZS,Time:()=>SO,UserEmojiList:()=>QL,UserStatuses:()=>_O,Zap:()=>UL,ZapGoal:()=>BL,ZapRequest:()=>FL,classifyKind:()=>_L,isAddressableKind:()=>Vp,isEphemeralKind:()=>HS,isKind:()=>xL,isRegularKind:()=>$S,isReplaceableKind:()=>Wp});function $S(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function Wp(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function HS(e){return 2e4<=e&&e<3e4}function Vp(e){return 3e4<=e&&e<4e4}function _L(e){return $S(e)?"regular":Wp(e)?"replaceable":HS(e)?"ephemeral":Vp(e)?"parameterized":"unknown"}function xL(e,t){const n=t instanceof Array?t:[t];return rw(e)&&n.includes(e.kind)||!1}var bL=0,ZS=1,EL=2,SL=3,kL=4,CL=5,ow=6,sw=7,NL=8,WS=13,VS=14,aw=16,qS=40,KS=41,GS=42,YS=43,JS=44,PL=1040,QS=1059,TL=1063,AL=1311,RL=1971,IL=1984,jL=1984,LL=1985,OL=4550,ML=5999,zL=6999,DL=7e3,BL=9041,FL=9734,UL=9735,$L=9802,HL=1e4,ZL=10001,WL=10002,VL=10003,qL=10004,KL=10005,GL=10006,YL=10007,JL=10015,QL=10030,XL=10050,eO=10096,tO=13194,nO=21e3,XS=22242,ek=23194,rO=23195,iO=24133,lw=27235,oO=3e4,sO=30001,aO=30002,lO=30003,cO=30004,uO=30008,dO=30009,fO=30015,hO=30017,pO=30018,mO=30023,gO=30024,yO=30030,vO=30078,wO=30311,_O=30315,xO=30402,bO=30403,EO=31922,SO=31923,kO=31924,CO=31925,NO=31989,PO=31990,TO=34550;function AO(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),i=e[`#${r}`];if(i&&!t.tags.find(([s,l])=>s===n.slice(1)&&i.indexOf(l)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function tk(e,t){for(let n=0;n<e.length;n++)if(AO(e[n],t))return!0;return!1}function nk(e){var t,n,r,i,s,l;if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[u,d]of Object.entries(e))if(u[0]==="#"&&Array.isArray(d)&&!d.length)return 0;return Math.min(Math.max(0,e.limit??1/0),((t=e.ids)==null?void 0:t.length)??1/0,(n=e.authors)!=null&&n.length&&((r=e.kinds)!=null&&r.every(u=>Wp(u)))?e.authors.length*e.kinds.length:1/0,(i=e.authors)!=null&&i.length&&((s=e.kinds)!=null&&s.every(u=>Vp(u)))&&((l=e["#d"])!=null&&l.length)?e.authors.length*e.kinds.length*e["#d"].length:1/0)}var RO={};Yt(RO,{getHex64:()=>qp,getInt:()=>rk,getSubscriptionId:()=>ik,matchEventId:()=>IO,matchEventKind:()=>LO,matchEventPubkey:()=>jO});function qp(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function rk(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),s=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,s),10)}function ik(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(i===-1)return null;let s=r+1+i;return e.slice(r+1,s)}function IO(e,t){return t===qp(e,"id")}function jO(e,t){return t===qp(e,"pubkey")}function LO(e,t){return t===rk(e,"kind")}var OO={};Yt(OO,{makeAuthEvent:()=>ok});function ok(e,t){return{kind:XS,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function MO(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var sk=class extends Error{constructor(e,t){super(`Tried to send message '${e} on a closed connection to ${t}.`),this.name="SendingOnClosedConnection"}},ak=class{constructor(e,t){Ze(this,"url");Ze(this,"_connected",!1);Ze(this,"onclose",null);Ze(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));Ze(this,"baseEoseTimeout",4400);Ze(this,"connectionTimeout",4400);Ze(this,"publishTimeout",4400);Ze(this,"openSubs",new Map);Ze(this,"connectionTimeoutHandle");Ze(this,"connectionPromise");Ze(this,"openCountRequests",new Map);Ze(this,"openEventPublishes",new Map);Ze(this,"ws");Ze(this,"incomingMessageQueue",new US);Ze(this,"queueRunning",!1);Ze(this,"challenge");Ze(this,"authPromise");Ze(this,"serial",0);Ze(this,"verifyEvent");Ze(this,"_WebSocket");this.url=BS(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){const n=new ak(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket closed"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await MO();this.queueRunning=!1}handleNext(){var n,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=ik(e);if(t){const i=this.openSubs.get(t);if(!i)return;const s=qp(e,"id"),l=(n=i.alreadyHaveEvent)==null?void 0:n.call(i,s);if((r=i.receivedEvent)==null||r.call(i,this,s),l)return}try{let i=JSON.parse(e);switch(i[0]){case"EVENT":{const s=this.openSubs.get(i[1]),l=i[2];this.verifyEvent(l)&&tk(s.filters,l)&&s.onevent(l);return}case"COUNT":{const s=i[1],l=i[2],u=this.openCountRequests.get(s);u&&(u.resolve(l.count),this.openCountRequests.delete(s));return}case"EOSE":{const s=this.openSubs.get(i[1]);if(!s)return;s.receivedEose();return}case"OK":{const s=i[1],l=i[2],u=i[3],d=this.openEventPublishes.get(s);d&&(clearTimeout(d.timeout),l?d.resolve(u):d.reject(new Error(u)),this.openEventPublishes.delete(s));return}case"CLOSED":{const s=i[1],l=this.openSubs.get(s);if(!l)return;l.closed=!0,l.close(i[2]);return}case"NOTICE":this.onnotice(i[1]);return;case"AUTH":{this.challenge=i[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new sk(e,this.url);this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){const t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let i=await e(ok(this.url,t)),s=setTimeout(()=>{let l=this.openEventPublishes.get(i.id);l&&(l.reject(new Error("auth timed out")),this.openEventPublishes.delete(i.id))},this.publishTimeout);this.openEventPublishes.set(i.id,{resolve:n,reject:r,timeout:s}),this.send('["AUTH",'+JSON.stringify(i)+"]")}catch(i){console.warn("subscribe auth function failed:",i)}}),this.authPromise)}async publish(e){const t=new Promise((n,r)=>{const i=setTimeout(()=>{const s=this.openEventPublishes.get(e.id);s&&(s.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:n,reject:r,timeout:i})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((i,s)=>{this.openCountRequests.set(n,{resolve:i,reject:s})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||(t.label?t.label+":":"sub:")+this.serial,r=new zO(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},zO=class{constructor(e,t,n,r){Ze(this,"relay");Ze(this,"id");Ze(this,"closed",!1);Ze(this,"eosed",!1);Ze(this,"filters");Ze(this,"alreadyHaveEvent");Ze(this,"receivedEvent");Ze(this,"onevent");Ze(this,"oneose");Ze(this,"onclose");Ze(this,"eoseTimeout");Ze(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(i=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,i)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof sk))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},lk;try{lk=WebSocket}catch{}var ck=class extends ak{constructor(e){super(e,{verifyEvent:tf,websocketImplementation:lk})}static async connect(e){const t=new ck(e);return await t.connect(),t}},DO;try{DO=WebSocket}catch{}var tr={};Yt(tr,{BECH32_REGEX:()=>uk,Bech32MaxSize:()=>cw,NostrTypeGuard:()=>BO,decode:()=>Kp,decodeNostrURI:()=>UO,encodeBytes:()=>Yp,naddrEncode:()=>qO,neventEncode:()=>VO,noteEncode:()=>ZO,nprofileEncode:()=>WO,npubEncode:()=>HO,nsecEncode:()=>$O});var BO={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},cw=5e3,uk=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function FO(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function UO(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),Kp(e)}catch{return{type:"invalid",data:null}}}function Kp(e){var i,s,l,u,d,p,y;let{prefix:t,words:n}=Zc.decode(e,cw),r=new Uint8Array(Zc.fromWords(n));switch(t){case"nprofile":{let g=Sy(r);if(!((i=g[0])!=null&&i[0]))throw new Error("missing TLV 0 for nprofile");if(g[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Hn(g[0][0]),relays:g[1]?g[1].map(b=>Lo.decode(b)):[]}}}case"nevent":{let g=Sy(r);if(!((s=g[0])!=null&&s[0]))throw new Error("missing TLV 0 for nevent");if(g[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(g[2]&&g[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(g[3]&&g[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Hn(g[0][0]),relays:g[1]?g[1].map(b=>Lo.decode(b)):[],author:(l=g[2])!=null&&l[0]?Hn(g[2][0]):void 0,kind:(u=g[3])!=null&&u[0]?parseInt(Hn(g[3][0]),16):void 0}}}case"naddr":{let g=Sy(r);if(!((d=g[0])!=null&&d[0]))throw new Error("missing TLV 0 for naddr");if(!((p=g[2])!=null&&p[0]))throw new Error("missing TLV 2 for naddr");if(g[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((y=g[3])!=null&&y[0]))throw new Error("missing TLV 3 for naddr");if(g[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Lo.decode(g[0][0]),pubkey:Hn(g[2][0]),kind:parseInt(Hn(g[3][0]),16),relays:g[1]?g[1].map(b=>Lo.decode(b)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Hn(r)};default:throw new Error(`unknown prefix ${t}`)}}function Sy(e){let t={},n=e;for(;n.length>0;){let r=n[0],i=n[1],s=n.slice(2,2+i);if(n=n.slice(2+i),s.length<i)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(s)}return t}function $O(e){return Yp("nsec",e)}function HO(e){return Yp("npub",al(e))}function ZO(e){return Yp("note",al(e))}function Gp(e,t){let n=Zc.toWords(t);return Zc.encode(e,n,cw)}function Yp(e,t){return Gp(e,t)}function WO(e){let t=uw({0:[al(e.pubkey)],1:(e.relays||[]).map(n=>xi.encode(n))});return Gp("nprofile",t)}function VO(e){let t;e.kind!==void 0&&(t=FO(e.kind));let n=uw({0:[al(e.id)],1:(e.relays||[]).map(r=>xi.encode(r)),2:e.author?[al(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Gp("nevent",n)}function qO(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=uw({0:[xi.encode(e.identifier)],1:(e.relays||[]).map(r=>xi.encode(r)),2:[al(e.pubkey)],3:[new Uint8Array(t)]});return Gp("naddr",n)}function uw(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(i=>{let s=new Uint8Array(i.length+2);s.set([parseInt(n)],0),s.set([i.length],1),s.set(i,2),t.push(s)})}),Up(...t)}var Ad={};Yt(Ad,{decrypt:()=>KO,encrypt:()=>dk});function dk(e,t,n){const r=e instanceof Uint8Array?Hn(e):e,i=Jc.getSharedSecret(r,"02"+t),s=fk(i);let l=Uint8Array.from(ES(16)),u=xi.encode(n),d=jS(s,l).encrypt(u),p=Do.encode(new Uint8Array(d)),y=Do.encode(new Uint8Array(l.buffer));return`${p}?iv=${y}`}function KO(e,t,n){const r=e instanceof Uint8Array?Hn(e):e;let[i,s]=n.split("?iv="),l=Jc.getSharedSecret(r,"02"+t),u=fk(l),d=Do.decode(s),p=Do.decode(i),y=jS(u,d).decrypt(p);return Lo.decode(y)}function fk(e){return e.slice(1,33)}var GO={};Yt(GO,{NIP05_REGEX:()=>dw,isNip05:()=>YO,isValid:()=>XO,queryProfile:()=>hk,searchDomain:()=>QO,useFetchImplementation:()=>JO});var dw=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,YO=e=>dw.test(e||""),Jp;try{Jp=fetch}catch{}function JO(e){Jp=e}async function QO(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await Jp(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function hk(e){var i;const t=e.match(dw);if(!t)return null;const[,n="_",r]=t;try{const s=`https://${r}/.well-known/nostr.json?name=${n}`,l=await Jp(s,{redirect:"manual"});if(l.status!==200)throw Error("Wrong response code");const u=await l.json(),d=u.names[n];return d?{pubkey:d,relays:(i=u.relays)==null?void 0:i[d]}:null}catch{return null}}async function XO(e,t){const n=await hk(t);return n?n.pubkey===e:!1}var eM={};Yt(eM,{parse:()=>tM});function tM(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let i=e.tags.length-1;i>=0;i--){const s=e.tags[i];if(s[0]==="e"&&s[1]){const[l,u,d,p,y]=s,g={id:u,relays:d?[d]:[],author:y};if(p==="root"){t.root=g;continue}if(p==="reply"){t.reply=g;continue}if(p==="mention"){t.mentions.push(g);continue}n?r=g:n=g,t.mentions.push(g);continue}if(s[0]==="q"&&s[1]){const[l,u,d]=s;t.quotes.push({id:u,relays:d?[d]:[]})}if(s[0]==="p"&&s[1]){t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(i=>{if(!i)return;let s=t.mentions.indexOf(i);if(s!==-1&&t.mentions.splice(s,1),i.author){let l=t.profiles.find(u=>u.pubkey===i.author);l&&l.relays&&(i.relays||(i.relays=[]),l.relays.forEach(u=>{var d;((d=i.relays)==null?void 0:d.indexOf(u))===-1&&i.relays.push(u)}),l.relays=i.relays)}}),t.mentions.forEach(i=>{if(i.author){let s=t.profiles.find(l=>l.pubkey===i.author);s&&s.relays&&(i.relays||(i.relays=[]),s.relays.forEach(l=>{i.relays.indexOf(l)===-1&&i.relays.push(l)}),s.relays=i.relays)}}),t}var nM={};Yt(nM,{fetchRelayInformation:()=>iM,useFetchImplementation:()=>rM});var pk;try{pk=fetch}catch{}function rM(e){pk=e}async function iM(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var oM={};Yt(oM,{fastEventHash:()=>gk,getPow:()=>mk,minePow:()=>sM});function mk(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function sM(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const s=Math.floor(new Date().getTime()/1e3);if(s!==r.created_at&&(n=0,r.created_at=s),i[1]=(++n).toString(),r.id=gk(r),mk(r.id)>=t)break}return r}function gk(e){return Hn(Qc(xi.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var aM={};Yt(aM,{unwrapEvent:()=>vM,unwrapManyEvents:()=>wM,wrapEvent:()=>Tk,wrapManyEvents:()=>yM});var lM={};Yt(lM,{createRumor:()=>kk,createSeal:()=>Ck,createWrap:()=>Nk,unwrapEvent:()=>gw,unwrapManyEvents:()=>Pk,wrapEvent:()=>pp,wrapManyEvents:()=>mM});var Ks={};Yt(Ks,{decrypt:()=>mw,encrypt:()=>pw,getConversationKey:()=>fw,v2:()=>hM});var yk=1,vk=65535;function fw(e,t){const n=Jc.getSharedSecret(e,"02"+t).subarray(1,33);return uL(Qc,n,"nip44-v2")}function wk(e,t){const n=dL(Qc,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function hw(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function cM(e){if(!Number.isSafeInteger(e)||e<yk||e>vk)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function uM(e){const t=xi.encode(e),n=t.length,r=cM(n),i=new Uint8Array(hw(n)-n);return Up(r,t,i)}function dM(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<yk||t>vk||n.length!==t||e.length!==2+hw(t))throw new Error("invalid padding");return Lo.decode(n)}function _k(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=Up(n,t);return Hp(Qc,e,r)}function fM(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Do.decode(e)}catch(s){throw new Error("invalid base64: "+s.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(i!==2)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function pw(e,t,n=ES(32)){const{chacha_key:r,chacha_nonce:i,hmac_key:s}=wk(t,n),l=uM(e),u=zS(r,i,l),d=_k(s,u,n);return Do.encode(Up(new Uint8Array([2]),n,u,d))}function mw(e,t){const{nonce:n,ciphertext:r,mac:i}=fM(e),{chacha_key:s,chacha_nonce:l,hmac_key:u}=wk(t,n),d=_k(u,r,n);if(!W4(d,i))throw new Error("invalid MAC");const p=zS(s,l,r);return dM(p)}var hM={utils:{getConversationKey:fw,calcPaddedLen:hw},encrypt:pw,decrypt:mw},pM=2*24*60*60,xk=()=>Math.round(Date.now()/1e3),bk=()=>Math.round(xk()-Math.random()*pM),Ek=(e,t)=>fw(e,t),Sk=(e,t,n)=>pw(JSON.stringify(e),Ek(t,n)),sb=(e,t)=>JSON.parse(mw(e.content,Ek(t,e.pubkey)));function kk(e,t){const n={created_at:xk(),content:"",tags:[],...e,pubkey:Bo(t)};return n.id=Ed(n),n}function Ck(e,t,n){return ni({kind:WS,content:Sk(e,t,n),created_at:bk(),tags:[]},t)}function Nk(e,t){const n=ef();return ni({kind:QS,content:Sk(e,n,t),created_at:bk(),tags:[["p",t]]},n)}function pp(e,t,n){const r=kk(e,t),i=Ck(r,t,n);return Nk(i,n)}function mM(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=Bo(t),i=[pp(e,t,r)];return n.forEach(s=>{i.push(pp(e,t,s))}),i}function gw(e,t){const n=sb(e,t);return sb(n,t)}function Pk(e,t){let n=[];return e.forEach(r=>{n.push(gw(r,t))}),n.sort((r,i)=>r.created_at-i.created_at),n}function gM(e,t,n,r){const i={created_at:Math.ceil(Date.now()/1e3),kind:VS,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:l,relayUrl:u})=>{i.tags.push(u?["p",l,u]:["p",l])}),r&&i.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&i.tags.push(["subject",n]),i}function Tk(e,t,n,r,i){const s=gM(t,n,r,i);return pp(s,e,t.publicKey)}function yM(e,t,n,r,i){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Bo(e)},...t].map(l=>Tk(e,l,n,r,i))}var vM=gw,wM=Pk,_M={};Yt(_M,{finishRepostEvent:()=>xM,getRepostedEvent:()=>bM,getRepostedEventPointer:()=>Ak});function xM(e,t,n,r){var l;let i;const s=[...e.tags??[],["e",t.id,n],["p",t.pubkey]];return t.kind===ZS?i=ow:(i=aw,s.push(["k",String(t.kind)])),ni({kind:i,tags:s,content:e.content===""||(l=t.tags)!=null&&l.find(u=>u[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function Ak(e){if(![ow,aw].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function bM(e,{skipVerification:t}={}){const n=Ak(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!tf(r)))return r}var EM={};Yt(EM,{NOSTR_URI_REGEX:()=>yw,parse:()=>kM,test:()=>SM});var yw=new RegExp(`nostr:(${uk.source})`);function SM(e){return typeof e=="string"&&new RegExp(`^${yw.source}$`).test(e)}function kM(e){const t=e.match(new RegExp(`^${yw.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Kp(t[1])}}var CM={};Yt(CM,{finishReactionEvent:()=>NM,getReactedEventPointer:()=>PM});function NM(e,t,n){const r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return ni({...e,kind:sw,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function PM(e){if(e.kind!==sw)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var TM={};Yt(TM,{parse:()=>RM});var AM=/\W/m,ab=/\W |\W$|$|,| /m;function*RM(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.indexOf(":",r);if(i===-1)break;if(e.substring(i-5,i)==="nostr"){const s=e.substring(i+60).match(AM),l=s?i+60+s.index:t;try{let u,{data:d,type:p}=Kp(e.substring(i+1,l));switch(p){case"npub":u={pubkey:d};break;case"nsec":case"note":r=l+1;continue;default:u=d}n!==i-5&&(yield{type:"text",text:e.substring(n,i-5)}),yield{type:"reference",pointer:u},r=l,n=r;continue}catch{r=i+1;continue}}else if(e.substring(i-5,i)==="https"||e.substring(i-4,i)==="http"){const s=e.substring(i+4).match(ab),l=s?i+4+s.index:t,u=e[i-1]==="s"?5:4;try{let d=new URL(e.substring(i-u,l));if(d.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),d.pathname.endsWith(".png")||d.pathname.endsWith(".jpg")||d.pathname.endsWith(".jpeg")||d.pathname.endsWith(".gif")||d.pathname.endsWith(".webp")){yield{type:"image",url:d.toString()},r=l,n=r;continue}if(d.pathname.endsWith(".mp4")||d.pathname.endsWith(".avi")||d.pathname.endsWith(".webm")||d.pathname.endsWith(".mkv")){yield{type:"video",url:d.toString()},r=l,n=r;continue}if(d.pathname.endsWith(".mp3")||d.pathname.endsWith(".aac")||d.pathname.endsWith(".ogg")||d.pathname.endsWith(".opus")){yield{type:"audio",url:d.toString()},r=l,n=r;continue}yield{type:"url",url:d.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else if(e.substring(i-3,i)==="wss"||e.substring(i-2,i)==="ws"){const s=e.substring(i+4).match(ab),l=s?i+4+s.index:t,u=e[i-1]==="s"?3:2;try{let d=new URL(e.substring(i-u,l));if(d.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),yield{type:"relay",url:d.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else{r=i+1;continue}}n!==t&&(yield{type:"text",text:e.substring(n)})}var IM={};Yt(IM,{channelCreateEvent:()=>jM,channelHideMessageEvent:()=>MM,channelMessageEvent:()=>OM,channelMetadataEvent:()=>LM,channelMuteUserEvent:()=>zM});var jM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ni({kind:qS,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},LM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ni({kind:KS,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},OM=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),ni({kind:GS,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},MM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ni({kind:YS,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},zM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return ni({kind:JS,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},DM={};Yt(DM,{EMOJI_SHORTCODE_REGEX:()=>Rk,matchAll:()=>BM,regex:()=>vw,replaceAll:()=>FM});var Rk=/:(\w+):/,vw=()=>new RegExp(`\\B${Rk.source}\\B`,"g");function*BM(e){const t=e.matchAll(vw());for(const n of t)try{const[r,i]=n;yield{shortcode:r,name:i,start:n.index,end:n.index+r.length}}catch{}}function FM(e,t){return e.replaceAll(vw(),(n,r)=>t({shortcode:n,name:r}))}var UM={};Yt(UM,{useFetchImplementation:()=>$M,validateGithub:()=>HM});var ww;try{ww=fetch}catch{}function $M(e){ww=e}async function HM(e,t,n){try{return await(await ww(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var ZM={};Yt(ZM,{makeNwcRequestEvent:()=>VM,parseConnectionString:()=>WM});function WM(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),s=n.get("secret");if(!r||!i||!s)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:s}}async function VM(e,t,n){const i=dk(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),s={kind:ek,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return ni(s,t)}var qM={};Yt(qM,{normalizeIdentifier:()=>KM});function KM(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var GM={};Yt(GM,{getSatoshisAmountFromBolt11:()=>t5,getZapEndpoint:()=>JM,makeZapReceipt:()=>e5,makeZapRequest:()=>QM,useFetchImplementation:()=>YM,validateZapRequest:()=>XM});var _w;try{_w=fetch}catch{}function YM(e){_w=e}async function JM(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:l}=Zc.decode(n,1e3),u=Zc.fromWords(l);t=Lo.decode(u)}else if(r){let[l,u]=r.split("@");t=new URL(`/.well-known/lnurlp/${l}`,`https://${u}`).toString()}else return null;let s=await(await _w(t)).json();if(s.allowsNostr&&s.nostrPubkey)return s.callback}catch{}return null}function QM({profile:e,event:t,amount:n,relays:r,comment:i=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",n.toString()],["relays",...r]]};if(t&&typeof t=="string"&&s.tags.push(["e",t]),t&&typeof t=="object"){if(Wp(t.kind)){const l=["a",`${t.kind}:${t.pubkey}:`];s.tags.push(l)}else if(Vp(t.kind)){let l=t.tags.find(([d,p])=>d==="d"&&p);if(!l)throw new Error("d tag not found or is empty");const u=["a",`${t.kind}:${t.pubkey}:${l[1]}`];s.tags.push(u)}}return s}function XM(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!rw(t))return"Zap request is not a valid Nostr event.";if(!tf(t))return"Invalid signature on zap request.";let n=t.tags.find(([s,l])=>s==="p"&&l);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([s,l])=>s==="e"&&l);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([s,l])=>s==="relays"&&l)?null:"Zap request doesn't have a 'relays' tag."}function e5({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e),s=i.tags.filter(([u])=>u==="e"||u==="p"||u==="a"),l={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...s,["P",i.pubkey],["bolt11",n],["description",e]]};return t&&l.tags.push(["preimage",t]),l}function t5(e){if(e.length<50)return 0;e=e.substring(0,50);const t=e.lastIndexOf("1");if(t===-1)return 0;const n=e.substring(0,t);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const i=r[r.length-1],s=i.charCodeAt(0)-48,l=s>=0&&s<=9;let u=r.length-1;if(l&&u++,u<1)return 0;const d=parseInt(r.substring(0,u));switch(i){case"m":return d*1e5;case"u":return d*100;case"n":return d/10;case"p":return d/1e4;default:return d*1e8}}var n5={};Yt(n5,{getToken:()=>r5,hashPayload:()=>xw,unpackEventFromToken:()=>jk,validateEvent:()=>Bk,validateEventKind:()=>Ok,validateEventMethodTag:()=>zk,validateEventPayloadTag:()=>Dk,validateEventTimestamp:()=>Lk,validateEventUrlTag:()=>Mk,validateToken:()=>i5});var Ik="Nostr ";async function r5(e,t,n,r=!1,i){const s={kind:lw,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};i&&s.tags.push(["payload",xw(i)]);const l=await n(s);return(r?Ik:"")+Do.encode(xi.encode(JSON.stringify(l)))}async function i5(e,t,n){const r=await jk(e).catch(s=>{throw s});return await Bk(r,t,n).catch(s=>{throw s})}async function jk(e){if(!e)throw new Error("Missing token");e=e.replace(Ik,"");const t=Lo.decode(Do.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function Lk(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function Ok(e){return e.kind===lw}function Mk(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function zk(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function xw(e){const t=Qc(xi.encode(JSON.stringify(e)));return Hn(t)}function Dk(e,t){const n=e.tags.find(i=>i[0]==="payload");if(!n)return!1;const r=xw(t);return n.length>0&&n[1]===r}async function Bk(e,t,n,r){if(!tf(e))throw new Error("Invalid nostr event, signature invalid");if(!Ok(e))throw new Error("Invalid nostr event, kind invalid");if(!Lk(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Mk(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!zk(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!Dk(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var AE,RE,Op,Fk;const $i=class $i{constructor(t){it(this,Op);Ze(this,"cache");Ze(this,AE,"NSet");this.cache=t??new Map}get size(){return this.cache.size}add(t){vt(this,Op,Fk).call(this,t);for(const n of this){if($i.deletes(n,t)||$i.replaces(n,t))return this;$i.replaces(t,n)&&this.delete(n)}return this.cache.set(t.id,t),this}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,n){return this.cache.forEach((r,i)=>t(r,r,this),n)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of $i.sortEvents([...this.cache.values()]))yield t}[(RE=Symbol.iterator,AE=Symbol.toStringTag,RE)](){return this.values()}static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isAddressable(t){return 3e4<=t&&t<4e4}static replaces(t,n){var s,l;const{kind:r,pubkey:i}=t;if($i.isReplaceable(r))return r===n.kind&&i===n.pubkey&&$i.sortEvents([t,n])[0]===t;if($i.isAddressable(r)){const u=((s=t.tags.find(([p])=>p==="d"))==null?void 0:s[1])||"",d=((l=n.tags.find(([p])=>p==="d"))==null?void 0:l[1])||"";return r===n.kind&&i===n.pubkey&&$i.sortEvents([t,n])[0]===t&&u===d}return!1}static deletes(t,n){const{kind:r,pubkey:i,tags:s}=t;if(r===5&&i===n.pubkey){for(const[l,u]of s)if(l==="e"&&u===n.id)return!0}return!1}static sortEvents(t){return t.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}};Op=new WeakSet,Fk=function(t){if(t.kind===5){for(const n of t.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===t.pubkey&&this.delete(r)}}};let mp=$i;const o5=Object.freeze({status:"aborted"});function Ae(e,t,n){function r(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const p=l.prototype,y=Object.keys(p);for(let g=0;g<y.length;g++){const b=y[g];b in u||(u[b]=p[b].bind(u))}}const i=(n==null?void 0:n.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:e});function l(u){var d;const p=n!=null&&n.Parent?new s:this;r(p,u),(d=p._zod).deferred??(d.deferred=[]);for(const y of p._zod.deferred)y();return p}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>{var d,p;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(p=(d=u==null?void 0:u._zod)==null?void 0:d.traits)==null?void 0:p.has(e)}}),Object.defineProperty(l,"name",{value:e}),l}class xc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Uk extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const $k={};function ta(e){return $k}function Hk(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Jv(e,t){return typeof t=="bigint"?t.toString():t}function bw(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Ew(e){return e==null}function Sw(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function s5(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d!=null&&d[1]&&(i=Number.parseInt(d[1]))}const s=n>i?n:i,l=Number.parseInt(e.toFixed(s).replace(".","")),u=Number.parseInt(t.toFixed(s).replace(".",""));return l%u/10**s}const lb=Symbol("evaluating");function Dt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==lb)return r===void 0&&(r=lb,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function hl(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function sa(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function cb(e){return JSON.stringify(e)}function a5(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Zk="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function gp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const l5=bw(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Wc(e){if(gp(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(gp(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Wk(e){return Wc(e)?{...e}:Array.isArray(e)?[...e]:e}const c5=new Set(["string","number","symbol"]);function Vc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function aa(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function st(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function u5(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const d5={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function f5(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=sa(e._zod.def,{get shape(){const l={};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&(l[u]=n.shape[u])}return hl(this,"shape",l),l},checks:[]});return aa(e,s)}function h5(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=sa(e._zod.def,{get shape(){const l={...e._zod.def.shape};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&delete l[u]}return hl(this,"shape",l),l},checks:[]});return aa(e,s)}function p5(e,t){if(!Wc(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const l in t)if(Object.getOwnPropertyDescriptor(s,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=sa(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return hl(this,"shape",s),s}});return aa(e,i)}function m5(e,t){if(!Wc(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=sa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return hl(this,"shape",r),r}});return aa(e,n)}function g5(e,t){const n=sa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return hl(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return aa(e,n)}function y5(e,t,n){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=sa(t._zod.def,{get shape(){const u=t._zod.def.shape,d={...u};if(n)for(const p in n){if(!(p in u))throw new Error(`Unrecognized key: "${p}"`);n[p]&&(d[p]=e?new e({type:"optional",innerType:u[p]}):u[p])}else for(const p in u)d[p]=e?new e({type:"optional",innerType:u[p]}):u[p];return hl(this,"shape",d),d},checks:[]});return aa(t,l)}function v5(e,t,n){const r=sa(t._zod.def,{get shape(){const i=t._zod.def.shape,s={...i};if(n)for(const l in n){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(s[l]=new e({type:"nonoptional",innerType:i[l]}))}else for(const l in i)s[l]=new e({type:"nonoptional",innerType:i[l]});return hl(this,"shape",s),s}});return aa(t,r)}function vc(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Ha(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function zh(e){return typeof e=="string"?e:e==null?void 0:e.message}function na(e,t,n){var i,s,l,u,d,p;const r={...e,path:e.path??[]};if(!e.message){const y=zh((l=(s=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:l.call(s,e))??zh((u=t==null?void 0:t.error)==null?void 0:u.call(t,e))??zh((d=n.customError)==null?void 0:d.call(n,e))??zh((p=n.localeError)==null?void 0:p.call(n,e))??"Invalid input";r.message=y}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function kw(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Rd(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Vk=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Jv,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},qk=Ae("$ZodError",Vk),Kk=Ae("$ZodError",Vk,{Parent:Error});function w5(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function _5(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>r({issues:l}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let l=n,u=0;for(;u<s.path.length;){const d=s.path[u];u===s.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(s))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return r(e),n}const Cw=e=>(t,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},s);if(l instanceof Promise)throw new xc;if(l.issues.length){const u=new((i==null?void 0:i.Err)??e)(l.issues.map(d=>na(d,s,ta())));throw Zk(u,i==null?void 0:i.callee),u}return l.value},Nw=e=>async(t,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},s);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new((i==null?void 0:i.Err)??e)(l.issues.map(d=>na(d,s,ta())));throw Zk(u,i==null?void 0:i.callee),u}return l.value},Qp=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new xc;return s.issues.length?{success:!1,error:new(e??qk)(s.issues.map(l=>na(l,i,ta())))}:{success:!0,data:s.value}},x5=Qp(Kk),Xp=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(l=>na(l,i,ta())))}:{success:!0,data:s.value}},b5=Xp(Kk),E5=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Cw(e)(t,n,i)},S5=e=>(t,n,r)=>Cw(e)(t,n,r),k5=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Nw(e)(t,n,i)},C5=e=>async(t,n,r)=>Nw(e)(t,n,r),N5=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Qp(e)(t,n,i)},P5=e=>(t,n,r)=>Qp(e)(t,n,r),T5=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Xp(e)(t,n,i)},A5=e=>async(t,n,r)=>Xp(e)(t,n,r),R5=/^[cC][^\s-]{8,}$/,I5=/^[0-9a-z]+$/,j5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,L5=/^[0-9a-vA-V]{20}$/,O5=/^[A-Za-z0-9]{27}$/,M5=/^[a-zA-Z0-9_-]{21}$/,z5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,D5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ub=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,B5=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,F5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function U5(){return new RegExp(F5,"u")}const $5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,H5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Z5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,W5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,V5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Gk=/^[A-Za-z0-9_-]*$/,q5=/^\+[1-9]\d{6,14}$/,Yk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",K5=new RegExp(`^${Yk}$`);function Jk(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function G5(e){return new RegExp(`^${Jk(e)}$`)}function Y5(e){const t=Jk({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Yk}T(?:${r})$`)}const J5=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Q5=/^-?\d+$/,Qk=/^-?\d+(?:\.\d+)?$/,X5=/^(?:true|false)$/i,ez=/^[^A-Z]*$/,tz=/^[^a-z]*$/,yr=Ae("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Xk={number:"number",bigint:"bigint",object:"date"},eC=Ae("$ZodCheckLessThan",(e,t)=>{yr.init(e,t);const n=Xk[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tC=Ae("$ZodCheckGreaterThan",(e,t)=>{yr.init(e,t);const n=Xk[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),nz=Ae("$ZodCheckMultipleOf",(e,t)=>{yr.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):s5(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),rz=Ae("$ZodCheckNumberFormat",(e,t)=>{var l;yr.init(e,t),t.format=t.format||"float64";const n=(l=t.format)==null?void 0:l.includes("int"),r=n?"int":"number",[i,s]=d5[t.format];e._zod.onattach.push(u=>{const d=u._zod.bag;d.format=t.format,d.minimum=i,d.maximum=s,n&&(d.pattern=Q5)}),e._zod.check=u=>{const d=u.value;if(n){if(!Number.isInteger(d)){u.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:d,inst:e});return}if(!Number.isSafeInteger(d)){d>0?u.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):u.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}d<i&&u.issues.push({origin:"number",input:d,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),d>s&&u.issues.push({origin:"number",input:d,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!t.abort})}}),iz=Ae("$ZodCheckMaxLength",(e,t)=>{var n;yr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Ew(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const l=kw(i);r.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),oz=Ae("$ZodCheckMinLength",(e,t)=>{var n;yr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Ew(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const l=kw(i);r.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),sz=Ae("$ZodCheckLengthEquals",(e,t)=>{var n;yr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Ew(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,s=i.length;if(s===t.length)return;const l=kw(i),u=s>t.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),em=Ae("$ZodCheckStringFormat",(e,t)=>{var n,r;yr.init(e,t),e._zod.onattach.push(i=>{const s=i._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),az=Ae("$ZodCheckRegex",(e,t)=>{em.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),lz=Ae("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=ez),em.init(e,t)}),cz=Ae("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=tz),em.init(e,t)}),uz=Ae("$ZodCheckIncludes",(e,t)=>{yr.init(e,t);const n=Vc(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),dz=Ae("$ZodCheckStartsWith",(e,t)=>{yr.init(e,t);const n=new RegExp(`^${Vc(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),fz=Ae("$ZodCheckEndsWith",(e,t)=>{yr.init(e,t);const n=new RegExp(`.*${Vc(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),hz=Ae("$ZodCheckOverwrite",(e,t)=>{yr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class pz{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(l=>l),i=Math.min(...r.map(l=>l.length-l.trimStart().length)),s=r.map(l=>l.slice(i)).map(l=>" ".repeat(this.indent*2)+l);for(const l of s)this.content.push(l)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,i.join(`
`))}}const mz={major:4,minor:3,patch:6},Kt=Ae("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=mz;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const l of s._zod.onattach)l(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const s=(u,d,p)=>{let y=vc(u),g;for(const b of d){if(b._zod.def.when){if(!b._zod.def.when(u))continue}else if(y)continue;const _=u.issues.length,S=b._zod.check(u);if(S instanceof Promise&&(p==null?void 0:p.async)===!1)throw new xc;if(g||S instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await S,u.issues.length!==_&&(y||(y=vc(u,_)))});else{if(u.issues.length===_)continue;y||(y=vc(u,_))}}return g?g.then(()=>u):u},l=(u,d,p)=>{if(vc(u))return u.aborted=!0,u;const y=s(d,r,p);if(y instanceof Promise){if(p.async===!1)throw new xc;return y.then(g=>e._zod.parse(g,p))}return e._zod.parse(y,p)};e._zod.run=(u,d)=>{if(d.skipChecks)return e._zod.parse(u,d);if(d.direction==="backward"){const y=e._zod.parse({value:u.value,issues:[]},{...d,skipChecks:!0});return y instanceof Promise?y.then(g=>l(g,u,d)):l(y,u,d)}const p=e._zod.parse(u,d);if(p instanceof Promise){if(d.async===!1)throw new xc;return p.then(y=>s(y,r,d))}return s(p,r,d)}}Dt(e,"~standard",()=>({validate:s=>{var l;try{const u=x5(e,s);return u.success?{value:u.data}:{issues:(l=u.error)==null?void 0:l.issues}}catch{return b5(e,s).then(d=>{var p;return d.success?{value:d.data}:{issues:(p=d.error)==null?void 0:p.issues}})}},vendor:"zod",version:1}))}),Pw=Ae("$ZodString",(e,t)=>{var n;Kt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??J5(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Jt=Ae("$ZodStringFormat",(e,t)=>{em.init(e,t),Pw.init(e,t)}),gz=Ae("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=D5),Jt.init(e,t)}),yz=Ae("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=ub(r))}else t.pattern??(t.pattern=ub());Jt.init(e,t)}),vz=Ae("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=B5),Jt.init(e,t)}),wz=Ae("$ZodURL",(e,t)=>{Jt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),_z=Ae("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=U5()),Jt.init(e,t)}),xz=Ae("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=M5),Jt.init(e,t)}),bz=Ae("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=R5),Jt.init(e,t)}),Ez=Ae("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=I5),Jt.init(e,t)}),Sz=Ae("$ZodULID",(e,t)=>{t.pattern??(t.pattern=j5),Jt.init(e,t)}),kz=Ae("$ZodXID",(e,t)=>{t.pattern??(t.pattern=L5),Jt.init(e,t)}),Cz=Ae("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=O5),Jt.init(e,t)}),Nz=Ae("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Y5(t)),Jt.init(e,t)}),Pz=Ae("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=K5),Jt.init(e,t)}),Tz=Ae("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=G5(t)),Jt.init(e,t)}),Az=Ae("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=z5),Jt.init(e,t)}),Rz=Ae("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=$5),Jt.init(e,t),e._zod.bag.format="ipv4"}),Iz=Ae("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=H5),Jt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),jz=Ae("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Z5),Jt.init(e,t)}),Lz=Ae("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=W5),Jt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const l=Number(s);if(`${l}`!==s)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function nC(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Oz=Ae("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=V5),Jt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{nC(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Mz(e){if(!Gk.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return nC(n)}const zz=Ae("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Gk),Jt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{Mz(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Dz=Ae("$ZodE164",(e,t)=>{t.pattern??(t.pattern=q5),Jt.init(e,t)});function Bz(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const Fz=Ae("$ZodJWT",(e,t)=>{Jt.init(e,t),e._zod.check=n=>{Bz(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),rC=Ae("$ZodNumber",(e,t)=>{Kt.init(e,t),e._zod.pattern=e._zod.bag.pattern??Qk,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),n}}),Uz=Ae("$ZodNumberFormat",(e,t)=>{rz.init(e,t),rC.init(e,t)}),$z=Ae("$ZodBoolean",(e,t)=>{Kt.init(e,t),e._zod.pattern=X5,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),Hz=Ae("$ZodUnknown",(e,t)=>{Kt.init(e,t),e._zod.parse=n=>n}),Zz=Ae("$ZodNever",(e,t)=>{Kt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function db(e,t,n){e.issues.length&&t.issues.push(...Ha(n,e.issues)),t.value[n]=e.value}const Wz=Ae("$ZodArray",(e,t)=>{Kt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const s=[];for(let l=0;l<i.length;l++){const u=i[l],d=t.element._zod.run({value:u,issues:[]},r);d instanceof Promise?s.push(d.then(p=>db(p,n,l))):db(d,n,l)}return s.length?Promise.all(s).then(()=>n):n}});function yp(e,t,n,r,i){if(e.issues.length){if(i&&!(n in r))return;t.issues.push(...Ha(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function iC(e){var r,i,s,l;const t=Object.keys(e.shape);for(const u of t)if(!((l=(s=(i=(r=e.shape)==null?void 0:r[u])==null?void 0:i._zod)==null?void 0:s.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${u}": expected a Zod schema`);const n=u5(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function oC(e,t,n,r,i,s){const l=[],u=i.keySet,d=i.catchall._zod,p=d.def.type,y=d.optout==="optional";for(const g in t){if(u.has(g))continue;if(p==="never"){l.push(g);continue}const b=d.run({value:t[g],issues:[]},r);b instanceof Promise?e.push(b.then(_=>yp(_,n,g,t,y))):yp(b,n,g,t,y)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const Vz=Ae("$ZodObject",(e,t)=>{Kt.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const r=bw(()=>iC(t));Dt(e._zod,"propValues",()=>{const u=t.shape,d={};for(const p in u){const y=u[p]._zod;if(y.values){d[p]??(d[p]=new Set);for(const g of y.values)d[p].add(g)}}return d});const i=gp,s=t.catchall;let l;e._zod.parse=(u,d)=>{l??(l=r.value);const p=u.value;if(!i(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),u;u.value={};const y=[],g=l.shape;for(const b of l.keys){const _=g[b],S=_._zod.optout==="optional",v=_._zod.run({value:p[b],issues:[]},d);v instanceof Promise?y.push(v.then(E=>yp(E,u,b,p,S))):yp(v,u,b,p,S)}return s?oC(y,p,u,d,r.value,e):y.length?Promise.all(y).then(()=>u):u}}),qz=Ae("$ZodObjectJIT",(e,t)=>{Vz.init(e,t);const n=e._zod.parse,r=bw(()=>iC(t)),i=b=>{var T;const _=new pz(["shape","payload","ctx"]),S=r.value,v=z=>{const D=cb(z);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};_.write("const input = payload.value;");const E=Object.create(null);let k=0;for(const z of S.keys)E[z]=`key_${k++}`;_.write("const newResult = {};");for(const z of S.keys){const D=E[z],$=cb(z),Z=b[z],q=((T=Z==null?void 0:Z._zod)==null?void 0:T.optout)==="optional";_.write(`const ${D} = ${v(z)};`),q?_.write(`
        if (${D}.issues.length) {
          if (${$} in input) {
            payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${$}, ...iss.path] : [${$}]
            })));
          }
        }
        
        if (${D}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${D}.value;
        }
        
      `):_.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        if (${D}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${D}.value;
        }
        
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const A=_.compile();return(z,D)=>A(b,z,D)};let s;const l=gp,u=!$k.jitless,p=u&&l5.value,y=t.catchall;let g;e._zod.parse=(b,_)=>{g??(g=r.value);const S=b.value;return l(S)?u&&p&&(_==null?void 0:_.async)===!1&&_.jitless!==!0?(s||(s=i(t.shape)),b=s(b,_),y?oC([],S,b,_,g,e):b):n(b,_):(b.issues.push({expected:"object",code:"invalid_type",input:S,inst:e}),b)}});function fb(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const i=e.filter(s=>!vc(s));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(l=>na(l,r,ta())))}),t)}const Kz=Ae("$ZodUnion",(e,t)=>{Kt.init(e,t),Dt(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Dt(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Dt(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Dt(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>Sw(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(n)return r(i,s);let l=!1;const u=[];for(const d of t.options){const p=d._zod.run({value:i.value,issues:[]},s);if(p instanceof Promise)u.push(p),l=!0;else{if(p.issues.length===0)return p;u.push(p)}}return l?Promise.all(u).then(d=>fb(d,i,e,s)):fb(u,i,e,s)}}),Gz=Ae("$ZodIntersection",(e,t)=>{Kt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,s=t.left._zod.run({value:i,issues:[]},r),l=t.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||l instanceof Promise?Promise.all([s,l]).then(([d,p])=>hb(n,d,p)):hb(n,s,l)}});function Qv(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Wc(e)&&Wc(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),i={...e,...t};for(const s of r){const l=Qv(e[s],t[s]);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};i[s]=l.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r],l=Qv(i,s);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function hb(e,t,n){const r=new Map;let i;for(const u of t.issues)if(u.code==="unrecognized_keys"){i??(i=u);for(const d of u.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else e.issues.push(u);for(const u of n.issues)if(u.code==="unrecognized_keys")for(const d of u.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else e.issues.push(u);const s=[...r].filter(([,u])=>u.l&&u.r).map(([u])=>u);if(s.length&&i&&e.issues.push({...i,keys:s}),vc(e))return e;const l=Qv(t.value,n.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const Yz=Ae("$ZodTuple",(e,t)=>{Kt.init(e,t);const n=t.items;e._zod.parse=(r,i)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({input:s,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const l=[],u=[...n].reverse().findIndex(y=>y._zod.optin!=="optional"),d=u===-1?0:n.length-u;if(!t.rest){const y=s.length>n.length,g=s.length<d-1;if(y||g)return r.issues.push({...y?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:s,inst:e,origin:"array"}),r}let p=-1;for(const y of n){if(p++,p>=s.length&&p>=d)continue;const g=y._zod.run({value:s[p],issues:[]},i);g instanceof Promise?l.push(g.then(b=>Dh(b,r,p))):Dh(g,r,p)}if(t.rest){const y=s.slice(n.length);for(const g of y){p++;const b=t.rest._zod.run({value:g,issues:[]},i);b instanceof Promise?l.push(b.then(_=>Dh(_,r,p))):Dh(b,r,p)}}return l.length?Promise.all(l).then(()=>r):r}});function Dh(e,t,n){e.issues.length&&t.issues.push(...Ha(n,e.issues)),t.value[n]=e.value}const Jz=Ae("$ZodRecord",(e,t)=>{Kt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Wc(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const s=[],l=t.keyType._zod.values;if(l){n.value={};const u=new Set;for(const p of l)if(typeof p=="string"||typeof p=="number"||typeof p=="symbol"){u.add(typeof p=="number"?p.toString():p);const y=t.valueType._zod.run({value:i[p],issues:[]},r);y instanceof Promise?s.push(y.then(g=>{g.issues.length&&n.issues.push(...Ha(p,g.issues)),n.value[p]=g.value})):(y.issues.length&&n.issues.push(...Ha(p,y.issues)),n.value[p]=y.value)}let d;for(const p in i)u.has(p)||(d=d??[],d.push(p));d&&d.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:d})}else{n.value={};for(const u of Reflect.ownKeys(i)){if(u==="__proto__")continue;let d=t.keyType._zod.run({value:u,issues:[]},r);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof u=="string"&&Qk.test(u)&&d.issues.length){const g=t.keyType._zod.run({value:Number(u),issues:[]},r);if(g instanceof Promise)throw new Error("Async schemas not supported in object keys currently");g.issues.length===0&&(d=g)}if(d.issues.length){t.mode==="loose"?n.value[u]=i[u]:n.issues.push({code:"invalid_key",origin:"record",issues:d.issues.map(g=>na(g,r,ta())),input:u,path:[u],inst:e});continue}const y=t.valueType._zod.run({value:i[u],issues:[]},r);y instanceof Promise?s.push(y.then(g=>{g.issues.length&&n.issues.push(...Ha(u,g.issues)),n.value[d.value]=g.value})):(y.issues.length&&n.issues.push(...Ha(u,y.issues)),n.value[d.value]=y.value)}}return s.length?Promise.all(s).then(()=>n):n}}),Qz=Ae("$ZodEnum",(e,t)=>{Kt.init(e,t);const n=Hk(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>c5.has(typeof i)).map(i=>typeof i=="string"?Vc(i):i.toString()).join("|")})$`),e._zod.parse=(i,s)=>{const l=i.value;return r.has(l)||i.issues.push({code:"invalid_value",values:n,input:l,inst:e}),i}}),Xz=Ae("$ZodLiteral",(e,t)=>{if(Kt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Vc(r):r?Vc(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),e8=Ae("$ZodTransform",(e,t)=>{Kt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Uk(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(l=>(n.value=l,n));if(i instanceof Promise)throw new xc;return n.value=i,n}});function pb(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const sC=Ae("$ZodOptional",(e,t)=>{Kt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Dt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Sw(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>pb(s,n.value)):pb(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),t8=Ae("$ZodExactOptional",(e,t)=>{sC.init(e,t),Dt(e._zod,"values",()=>t.innerType._zod.values),Dt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),n8=Ae("$ZodNullable",(e,t)=>{Kt.init(e,t),Dt(e._zod,"optin",()=>t.innerType._zod.optin),Dt(e._zod,"optout",()=>t.innerType._zod.optout),Dt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Sw(n.source)}|null)$`):void 0}),Dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),r8=Ae("$ZodDefault",(e,t)=>{Kt.init(e,t),e._zod.optin="optional",Dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>mb(s,t)):mb(i,t)}});function mb(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const i8=Ae("$ZodPrefault",(e,t)=>{Kt.init(e,t),e._zod.optin="optional",Dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),o8=Ae("$ZodNonOptional",(e,t)=>{Kt.init(e,t),Dt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>gb(s,e)):gb(i,e)}});function gb(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const s8=Ae("$ZodCatch",(e,t)=>{Kt.init(e,t),Dt(e._zod,"optin",()=>t.innerType._zod.optin),Dt(e._zod,"optout",()=>t.innerType._zod.optout),Dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(l=>na(l,r,ta()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>na(s,r,ta()))},input:n.value}),n.issues=[]),n)}}),a8=Ae("$ZodPipe",(e,t)=>{Kt.init(e,t),Dt(e._zod,"values",()=>t.in._zod.values),Dt(e._zod,"optin",()=>t.in._zod.optin),Dt(e._zod,"optout",()=>t.out._zod.optout),Dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(l=>Bh(l,t.in,r)):Bh(s,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(s=>Bh(s,t.out,r)):Bh(i,t.out,r)}});function Bh(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const l8=Ae("$ZodReadonly",(e,t)=>{Kt.init(e,t),Dt(e._zod,"propValues",()=>t.innerType._zod.propValues),Dt(e._zod,"values",()=>t.innerType._zod.values),Dt(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Dt(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(yb):yb(i)}});function yb(e){return e.value=Object.freeze(e.value),e}const c8=Ae("$ZodCustom",(e,t)=>{yr.init(e,t),Kt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(s=>vb(s,n,r,e));vb(i,n,r,e)}});function vb(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(Rd(i))}}var wb;class u8{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function d8(){return new u8}(wb=globalThis).__zod_globalRegistry??(wb.__zod_globalRegistry=d8());const gd=globalThis.__zod_globalRegistry;function f8(e,t){return new e({type:"string",...st(t)})}function aC(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...st(t)})}function _b(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...st(t)})}function h8(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...st(t)})}function p8(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...st(t)})}function m8(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...st(t)})}function g8(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...st(t)})}function lC(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...st(t)})}function y8(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...st(t)})}function v8(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...st(t)})}function w8(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...st(t)})}function _8(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...st(t)})}function x8(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...st(t)})}function b8(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...st(t)})}function E8(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...st(t)})}function S8(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...st(t)})}function k8(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...st(t)})}function C8(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...st(t)})}function N8(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...st(t)})}function P8(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...st(t)})}function T8(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...st(t)})}function A8(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...st(t)})}function R8(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...st(t)})}function I8(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...st(t)})}function j8(e,t){return new e({type:"string",format:"date",check:"string_format",...st(t)})}function L8(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...st(t)})}function O8(e,t){return new e({type:"string",format:"duration",check:"string_format",...st(t)})}function M8(e,t){return new e({type:"number",checks:[],...st(t)})}function z8(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...st(t)})}function D8(e,t){return new e({type:"boolean",...st(t)})}function B8(e){return new e({type:"unknown"})}function F8(e,t){return new e({type:"never",...st(t)})}function xb(e,t){return new eC({check:"less_than",...st(t),value:e,inclusive:!1})}function ky(e,t){return new eC({check:"less_than",...st(t),value:e,inclusive:!0})}function bb(e,t){return new tC({check:"greater_than",...st(t),value:e,inclusive:!1})}function Cy(e,t){return new tC({check:"greater_than",...st(t),value:e,inclusive:!0})}function Eb(e,t){return new nz({check:"multiple_of",...st(t),value:e})}function cC(e,t){return new iz({check:"max_length",...st(t),maximum:e})}function vp(e,t){return new oz({check:"min_length",...st(t),minimum:e})}function uC(e,t){return new sz({check:"length_equals",...st(t),length:e})}function U8(e,t){return new az({check:"string_format",format:"regex",...st(t),pattern:e})}function $8(e){return new lz({check:"string_format",format:"lowercase",...st(e)})}function H8(e){return new cz({check:"string_format",format:"uppercase",...st(e)})}function Z8(e,t){return new uz({check:"string_format",format:"includes",...st(t),includes:e})}function W8(e,t){return new dz({check:"string_format",format:"starts_with",...st(t),prefix:e})}function V8(e,t){return new fz({check:"string_format",format:"ends_with",...st(t),suffix:e})}function eu(e){return new hz({check:"overwrite",tx:e})}function q8(e){return eu(t=>t.normalize(e))}function K8(){return eu(e=>e.trim())}function G8(){return eu(e=>e.toLowerCase())}function Y8(){return eu(e=>e.toUpperCase())}function J8(){return eu(e=>a5(e))}function Q8(e,t,n){return new e({type:"array",element:t,...st(n)})}function X8(e,t,n){return new e({type:"custom",check:"custom",fn:t,...st(n)})}function eD(e){const t=tD(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Rd(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Rd(i))}},e(n.value,n)));return t}function tD(e,t){const n=new yr({check:"custom",...st(t)});return n._zod.check=e,n}function dC(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??gd,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function cn(e,t,n={path:[],schemaPath:[]}){var y,g;var r;const i=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,l);const u=(g=(y=e._zod).toJSONSchema)==null?void 0:g.call(y);if(u)l.schema=u;else{const b={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,b);else{const S=l.schema,v=t.processors[i.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);v(e,t,S,b)}const _=e._zod.parent;_&&(l.ref||(l.ref=_),cn(_,t,b),t.seen.get(_).isParent=!0)}const d=t.metadataRegistry.get(e);return d&&Object.assign(l.schema,d),t.io==="input"&&Jn(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function fC(e,t){var l,u,d,p;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const y of e.seen.entries()){const g=(l=e.metadataRegistry.get(y[0]))==null?void 0:l.id;if(g){const b=r.get(g);if(b&&b!==y[0])throw new Error(`Duplicate schema id "${g}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(g,y[0])}}const i=y=>{var v;const g=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const E=(v=e.external.registry.get(y[0]))==null?void 0:v.id,k=e.external.uri??(T=>T);if(E)return{ref:k(E)};const A=y[1].defId??y[1].schema.id??`schema${e.counter++}`;return y[1].defId=A,{defId:A,ref:`${k("__shared")}#/${g}/${A}`}}if(y[1]===n)return{ref:"#"};const _=`#/${g}/`,S=y[1].schema.id??`__schema${e.counter++}`;return{defId:S,ref:_+S}},s=y=>{if(y[1].schema.$ref)return;const g=y[1],{ref:b,defId:_}=i(y);g.def={...g.schema},_&&(g.defId=_);const S=g.schema;for(const v in S)delete S[v];S.$ref=b};if(e.cycles==="throw")for(const y of e.seen.entries()){const g=y[1];if(g.cycle)throw new Error(`Cycle detected: #/${(u=g.cycle)==null?void 0:u.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const y of e.seen.entries()){const g=y[1];if(t===y[0]){s(y);continue}if(e.external){const _=(d=e.external.registry.get(y[0]))==null?void 0:d.id;if(t!==y[0]&&_){s(y);continue}}if((p=e.metadataRegistry.get(y[0]))==null?void 0:p.id){s(y);continue}if(g.cycle){s(y);continue}if(g.count>1&&e.reused==="ref"){s(y);continue}}}function hC(e,t){var l,u,d;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=p=>{const y=e.seen.get(p);if(y.ref===null)return;const g=y.def??y.schema,b={...g},_=y.ref;if(y.ref=null,_){r(_);const v=e.seen.get(_),E=v.schema;if(E.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(E)):Object.assign(g,E),Object.assign(g,b),p._zod.parent===_)for(const A in g)A==="$ref"||A==="allOf"||A in b||delete g[A];if(E.$ref&&v.def)for(const A in g)A==="$ref"||A==="allOf"||A in v.def&&JSON.stringify(g[A])===JSON.stringify(v.def[A])&&delete g[A]}const S=p._zod.parent;if(S&&S!==_){r(S);const v=e.seen.get(S);if(v!=null&&v.schema.$ref&&(g.$ref=v.schema.$ref,v.def))for(const E in g)E==="$ref"||E==="allOf"||E in v.def&&JSON.stringify(g[E])===JSON.stringify(v.def[E])&&delete g[E]}e.override({zodSchema:p,jsonSchema:g,path:y.path??[]})};for(const p of[...e.seen.entries()].reverse())r(p[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,(l=e.external)!=null&&l.uri){const p=(u=e.external.registry.get(t))==null?void 0:u.id;if(!p)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(p)}Object.assign(i,n.def??n.schema);const s=((d=e.external)==null?void 0:d.defs)??{};for(const p of e.seen.entries()){const y=p[1];y.def&&y.defId&&(s[y.defId]=y.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?i.$defs=s:i.definitions=s);try{const p=JSON.parse(JSON.stringify(i));return Object.defineProperty(p,"~standard",{value:{...t["~standard"],jsonSchema:{input:wp(t,"input",e.processors),output:wp(t,"output",e.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function Jn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Jn(r.element,n);if(r.type==="set")return Jn(r.valueType,n);if(r.type==="lazy")return Jn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Jn(r.innerType,n);if(r.type==="intersection")return Jn(r.left,n)||Jn(r.right,n);if(r.type==="record"||r.type==="map")return Jn(r.keyType,n)||Jn(r.valueType,n);if(r.type==="pipe")return Jn(r.in,n)||Jn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Jn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Jn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Jn(i,n))return!0;return!!(r.rest&&Jn(r.rest,n))}return!1}const nD=(e,t={})=>n=>{const r=dC({...n,processors:t});return cn(e,r),fC(r,e),hC(r,e)},wp=(e,t,n={})=>r=>{const{libraryOptions:i,target:s}=r??{},l=dC({...i??{},target:s,io:t,processors:n});return cn(e,l),fC(l,e),hC(l,e)},rD={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},iD=(e,t,n,r)=>{const i=n;i.type="string";const{minimum:s,maximum:l,format:u,patterns:d,contentEncoding:p}=e._zod.bag;if(typeof s=="number"&&(i.minLength=s),typeof l=="number"&&(i.maxLength=l),u&&(i.format=rD[u]??u,i.format===""&&delete i.format,u==="time"&&delete i.format),p&&(i.contentEncoding=p),d&&d.size>0){const y=[...d];y.length===1?i.pattern=y[0].source:y.length>1&&(i.allOf=[...y.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},oD=(e,t,n,r)=>{const i=n,{minimum:s,maximum:l,format:u,multipleOf:d,exclusiveMaximum:p,exclusiveMinimum:y}=e._zod.bag;typeof u=="string"&&u.includes("int")?i.type="integer":i.type="number",typeof y=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=y,i.exclusiveMinimum=!0):i.exclusiveMinimum=y),typeof s=="number"&&(i.minimum=s,typeof y=="number"&&t.target!=="draft-04"&&(y>=s?delete i.minimum:delete i.exclusiveMinimum)),typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=p,i.exclusiveMaximum=!0):i.exclusiveMaximum=p),typeof l=="number"&&(i.maximum=l,typeof p=="number"&&t.target!=="draft-04"&&(p<=l?delete i.maximum:delete i.exclusiveMaximum)),typeof d=="number"&&(i.multipleOf=d)},sD=(e,t,n,r)=>{n.type="boolean"},aD=(e,t,n,r)=>{n.not={}},lD=(e,t,n,r)=>{},cD=(e,t,n,r)=>{const i=e._zod.def,s=Hk(i.entries);s.every(l=>typeof l=="number")&&(n.type="number"),s.every(l=>typeof l=="string")&&(n.type="string"),n.enum=s},uD=(e,t,n,r)=>{const i=e._zod.def,s=[];for(const l of i.values)if(l===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof l=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(l))}else s.push(l);if(s.length!==0)if(s.length===1){const l=s[0];n.type=l===null?"null":typeof l,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[l]:n.const=l}else s.every(l=>typeof l=="number")&&(n.type="number"),s.every(l=>typeof l=="string")&&(n.type="string"),s.every(l=>typeof l=="boolean")&&(n.type="boolean"),s.every(l=>l===null)&&(n.type="null"),n.enum=s},dD=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},fD=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},hD=(e,t,n,r)=>{const i=n,s=e._zod.def,{minimum:l,maximum:u}=e._zod.bag;typeof l=="number"&&(i.minItems=l),typeof u=="number"&&(i.maxItems=u),i.type="array",i.items=cn(s.element,t,{...r,path:[...r.path,"items"]})},pD=(e,t,n,r)=>{var p;const i=n,s=e._zod.def;i.type="object",i.properties={};const l=s.shape;for(const y in l)i.properties[y]=cn(l[y],t,{...r,path:[...r.path,"properties",y]});const u=new Set(Object.keys(l)),d=new Set([...u].filter(y=>{const g=s.shape[y]._zod;return t.io==="input"?g.optin===void 0:g.optout===void 0}));d.size>0&&(i.required=Array.from(d)),((p=s.catchall)==null?void 0:p._zod.def.type)==="never"?i.additionalProperties=!1:s.catchall?s.catchall&&(i.additionalProperties=cn(s.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},mD=(e,t,n,r)=>{const i=e._zod.def,s=i.inclusive===!1,l=i.options.map((u,d)=>cn(u,t,{...r,path:[...r.path,s?"oneOf":"anyOf",d]}));s?n.oneOf=l:n.anyOf=l},gD=(e,t,n,r)=>{const i=e._zod.def,s=cn(i.left,t,{...r,path:[...r.path,"allOf",0]}),l=cn(i.right,t,{...r,path:[...r.path,"allOf",1]}),u=p=>"allOf"in p&&Object.keys(p).length===1,d=[...u(s)?s.allOf:[s],...u(l)?l.allOf:[l]];n.allOf=d},yD=(e,t,n,r)=>{const i=n,s=e._zod.def;i.type="array";const l=t.target==="draft-2020-12"?"prefixItems":"items",u=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",d=s.items.map((b,_)=>cn(b,t,{...r,path:[...r.path,l,_]})),p=s.rest?cn(s.rest,t,{...r,path:[...r.path,u,...t.target==="openapi-3.0"?[s.items.length]:[]]}):null;t.target==="draft-2020-12"?(i.prefixItems=d,p&&(i.items=p)):t.target==="openapi-3.0"?(i.items={anyOf:d},p&&i.items.anyOf.push(p),i.minItems=d.length,p||(i.maxItems=d.length)):(i.items=d,p&&(i.additionalItems=p));const{minimum:y,maximum:g}=e._zod.bag;typeof y=="number"&&(i.minItems=y),typeof g=="number"&&(i.maxItems=g)},vD=(e,t,n,r)=>{const i=n,s=e._zod.def;i.type="object";const l=s.keyType,u=l._zod.bag,d=u==null?void 0:u.patterns;if(s.mode==="loose"&&d&&d.size>0){const y=cn(s.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});i.patternProperties={};for(const g of d)i.patternProperties[g.source]=y}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(i.propertyNames=cn(s.keyType,t,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=cn(s.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const p=l._zod.values;if(p){const y=[...p].filter(g=>typeof g=="string"||typeof g=="number");y.length>0&&(i.required=y)}},wD=(e,t,n,r)=>{const i=e._zod.def,s=cn(i.innerType,t,r),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},_D=(e,t,n,r)=>{const i=e._zod.def;cn(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType},xD=(e,t,n,r)=>{const i=e._zod.def;cn(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},bD=(e,t,n,r)=>{const i=e._zod.def;cn(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},ED=(e,t,n,r)=>{const i=e._zod.def;cn(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType;let l;try{l=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},SD=(e,t,n,r)=>{const i=e._zod.def,s=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;cn(s,t,r);const l=t.seen.get(e);l.ref=s},kD=(e,t,n,r)=>{const i=e._zod.def;cn(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,n.readOnly=!0},pC=(e,t,n,r)=>{const i=e._zod.def;cn(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType},CD=Ae("ZodISODateTime",(e,t)=>{Nz.init(e,t),rn.init(e,t)});function ND(e){return I8(CD,e)}const PD=Ae("ZodISODate",(e,t)=>{Pz.init(e,t),rn.init(e,t)});function TD(e){return j8(PD,e)}const AD=Ae("ZodISOTime",(e,t)=>{Tz.init(e,t),rn.init(e,t)});function RD(e){return L8(AD,e)}const ID=Ae("ZodISODuration",(e,t)=>{Az.init(e,t),rn.init(e,t)});function jD(e){return O8(ID,e)}const LD=(e,t)=>{qk.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>_5(e,n)},flatten:{value:n=>w5(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Jv,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Jv,2)}},isEmpty:{get(){return e.issues.length===0}}})},ri=Ae("ZodError",LD,{Parent:Error}),OD=Cw(ri),MD=Nw(ri),zD=Qp(ri),DD=Xp(ri),BD=E5(ri),FD=S5(ri),UD=k5(ri),$D=C5(ri),HD=N5(ri),ZD=P5(ri),WD=T5(ri),VD=A5(ri),Qt=Ae("ZodType",(e,t)=>(Kt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:wp(e,"input"),output:wp(e,"output")}}),e.toJSONSchema=nD(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(sa(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>aa(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>OD(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>zD(e,n,r),e.parseAsync=async(n,r)=>MD(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>DD(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>BD(e,n,r),e.decode=(n,r)=>FD(e,n,r),e.encodeAsync=async(n,r)=>UD(e,n,r),e.decodeAsync=async(n,r)=>$D(e,n,r),e.safeEncode=(n,r)=>HD(e,n,r),e.safeDecode=(n,r)=>ZD(e,n,r),e.safeEncodeAsync=async(n,r)=>WD(e,n,r),e.safeDecodeAsync=async(n,r)=>VD(e,n,r),e.refine=(n,r)=>e.check(D6(n,r)),e.superRefine=n=>e.check(B6(n)),e.overwrite=n=>e.check(eu(n)),e.optional=()=>Pb(e),e.exactOptional=()=>k6(e),e.nullable=()=>Tb(e),e.nullish=()=>Pb(Tb(e)),e.nonoptional=n=>R6(e,n),e.array=()=>wC(e),e.or=n=>e0([e,n]),e.and=n=>y6(e,n),e.transform=n=>Ab(e,E6(n)),e.default=n=>P6(e,n),e.prefault=n=>A6(e,n),e.catch=n=>j6(e,n),e.pipe=n=>Ab(e,n),e.readonly=()=>M6(e),e.describe=n=>{const r=e.clone();return gd.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=gd.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return gd.get(e);const r=e.clone();return gd.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),mC=Ae("_ZodString",(e,t)=>{Pw.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>iD(e,r,i);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(U8(...r)),e.includes=(...r)=>e.check(Z8(...r)),e.startsWith=(...r)=>e.check(W8(...r)),e.endsWith=(...r)=>e.check(V8(...r)),e.min=(...r)=>e.check(vp(...r)),e.max=(...r)=>e.check(cC(...r)),e.length=(...r)=>e.check(uC(...r)),e.nonempty=(...r)=>e.check(vp(1,...r)),e.lowercase=r=>e.check($8(r)),e.uppercase=r=>e.check(H8(r)),e.trim=()=>e.check(K8()),e.normalize=(...r)=>e.check(q8(...r)),e.toLowerCase=()=>e.check(G8()),e.toUpperCase=()=>e.check(Y8()),e.slugify=()=>e.check(J8())}),qD=Ae("ZodString",(e,t)=>{Pw.init(e,t),mC.init(e,t),e.email=n=>e.check(aC(gC,n)),e.url=n=>e.check(lC(yC,n)),e.jwt=n=>e.check(R8(l6,n)),e.emoji=n=>e.check(y8(KD,n)),e.guid=n=>e.check(_b(kb,n)),e.uuid=n=>e.check(h8(Fh,n)),e.uuidv4=n=>e.check(p8(Fh,n)),e.uuidv6=n=>e.check(m8(Fh,n)),e.uuidv7=n=>e.check(g8(Fh,n)),e.nanoid=n=>e.check(v8(GD,n)),e.guid=n=>e.check(_b(kb,n)),e.cuid=n=>e.check(w8(YD,n)),e.cuid2=n=>e.check(_8(JD,n)),e.ulid=n=>e.check(x8(QD,n)),e.base64=n=>e.check(P8(o6,n)),e.base64url=n=>e.check(T8(s6,n)),e.xid=n=>e.check(b8(XD,n)),e.ksuid=n=>e.check(E8(e6,n)),e.ipv4=n=>e.check(S8(t6,n)),e.ipv6=n=>e.check(k8(n6,n)),e.cidrv4=n=>e.check(C8(r6,n)),e.cidrv6=n=>e.check(N8(i6,n)),e.e164=n=>e.check(A8(a6,n)),e.datetime=n=>e.check(ND(n)),e.date=n=>e.check(TD(n)),e.time=n=>e.check(RD(n)),e.duration=n=>e.check(jD(n))});function Lt(e){return f8(qD,e)}const rn=Ae("ZodStringFormat",(e,t)=>{Jt.init(e,t),mC.init(e,t)}),gC=Ae("ZodEmail",(e,t)=>{vz.init(e,t),rn.init(e,t)});function Sb(e){return aC(gC,e)}const kb=Ae("ZodGUID",(e,t)=>{gz.init(e,t),rn.init(e,t)}),Fh=Ae("ZodUUID",(e,t)=>{yz.init(e,t),rn.init(e,t)}),yC=Ae("ZodURL",(e,t)=>{wz.init(e,t),rn.init(e,t)});function yd(e){return lC(yC,e)}const KD=Ae("ZodEmoji",(e,t)=>{_z.init(e,t),rn.init(e,t)}),GD=Ae("ZodNanoID",(e,t)=>{xz.init(e,t),rn.init(e,t)}),YD=Ae("ZodCUID",(e,t)=>{bz.init(e,t),rn.init(e,t)}),JD=Ae("ZodCUID2",(e,t)=>{Ez.init(e,t),rn.init(e,t)}),QD=Ae("ZodULID",(e,t)=>{Sz.init(e,t),rn.init(e,t)}),XD=Ae("ZodXID",(e,t)=>{kz.init(e,t),rn.init(e,t)}),e6=Ae("ZodKSUID",(e,t)=>{Cz.init(e,t),rn.init(e,t)}),t6=Ae("ZodIPv4",(e,t)=>{Rz.init(e,t),rn.init(e,t)}),n6=Ae("ZodIPv6",(e,t)=>{Iz.init(e,t),rn.init(e,t)}),r6=Ae("ZodCIDRv4",(e,t)=>{jz.init(e,t),rn.init(e,t)}),i6=Ae("ZodCIDRv6",(e,t)=>{Lz.init(e,t),rn.init(e,t)}),o6=Ae("ZodBase64",(e,t)=>{Oz.init(e,t),rn.init(e,t)}),s6=Ae("ZodBase64URL",(e,t)=>{zz.init(e,t),rn.init(e,t)}),a6=Ae("ZodE164",(e,t)=>{Dz.init(e,t),rn.init(e,t)}),l6=Ae("ZodJWT",(e,t)=>{Fz.init(e,t),rn.init(e,t)}),vC=Ae("ZodNumber",(e,t)=>{rC.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>oD(e,r,i),e.gt=(r,i)=>e.check(bb(r,i)),e.gte=(r,i)=>e.check(Cy(r,i)),e.min=(r,i)=>e.check(Cy(r,i)),e.lt=(r,i)=>e.check(xb(r,i)),e.lte=(r,i)=>e.check(ky(r,i)),e.max=(r,i)=>e.check(ky(r,i)),e.int=r=>e.check(Cb(r)),e.safe=r=>e.check(Cb(r)),e.positive=r=>e.check(bb(0,r)),e.nonnegative=r=>e.check(Cy(0,r)),e.negative=r=>e.check(xb(0,r)),e.nonpositive=r=>e.check(ky(0,r)),e.multipleOf=(r,i)=>e.check(Eb(r,i)),e.step=(r,i)=>e.check(Eb(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function ko(e){return M8(vC,e)}const c6=Ae("ZodNumberFormat",(e,t)=>{Uz.init(e,t),vC.init(e,t)});function Cb(e){return z8(c6,e)}const u6=Ae("ZodBoolean",(e,t)=>{$z.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>sD(e,n,r)});function el(e){return D8(u6,e)}const d6=Ae("ZodUnknown",(e,t)=>{Hz.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>lD()});function Xv(){return B8(d6)}const f6=Ae("ZodNever",(e,t)=>{Zz.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>aD(e,n,r)});function h6(e){return F8(f6,e)}const p6=Ae("ZodArray",(e,t)=>{Wz.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>hD(e,n,r,i),e.element=t.element,e.min=(n,r)=>e.check(vp(n,r)),e.nonempty=n=>e.check(vp(1,n)),e.max=(n,r)=>e.check(cC(n,r)),e.length=(n,r)=>e.check(uC(n,r)),e.unwrap=()=>e.element});function wC(e,t){return Q8(p6,e,t)}const _C=Ae("ZodObject",(e,t)=>{qz.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>pD(e,n,r,i),Dt(e,"shape",()=>t.shape),e.keyof=()=>xC(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Xv()}),e.loose=()=>e.clone({...e._zod.def,catchall:Xv()}),e.strict=()=>e.clone({...e._zod.def,catchall:h6()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>p5(e,n),e.safeExtend=n=>m5(e,n),e.merge=n=>g5(e,n),e.pick=n=>f5(e,n),e.omit=n=>h5(e,n),e.partial=(...n)=>y5(bC,e,n[0]),e.required=(...n)=>v5(EC,e,n[0])});function Oo(e,t){const n={type:"object",shape:e??{},...st(t)};return new _C(n)}function Nb(e,t){return new _C({type:"object",shape:e,catchall:Xv(),...st(t)})}const m6=Ae("ZodUnion",(e,t)=>{Kz.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>mD(e,n,r,i),e.options=t.options});function e0(e,t){return new m6({type:"union",options:e,...st(t)})}const g6=Ae("ZodIntersection",(e,t)=>{Gz.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>gD(e,n,r,i)});function y6(e,t){return new g6({type:"intersection",left:e,right:t})}const v6=Ae("ZodTuple",(e,t)=>{Yz.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>yD(e,n,r,i),e.rest=n=>e.clone({...e._zod.def,rest:n})});function Kr(e,t,n){const r=t instanceof Kt,i=r?n:t,s=r?t:null;return new v6({type:"tuple",items:e,rest:s,...st(i)})}const w6=Ae("ZodRecord",(e,t)=>{Jz.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>vD(e,n,r,i),e.keyType=t.keyType,e.valueType=t.valueType});function _6(e,t,n){return new w6({type:"record",keyType:e,valueType:t,...st(n)})}const t0=Ae("ZodEnum",(e,t)=>{Qz.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>cD(e,r,i),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const s={};for(const l of r)if(n.has(l))s[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new t0({...t,checks:[],...st(i),entries:s})},e.exclude=(r,i)=>{const s={...t.entries};for(const l of r)if(n.has(l))delete s[l];else throw new Error(`Key ${l} not found in enum`);return new t0({...t,checks:[],...st(i),entries:s})}});function xC(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new t0({type:"enum",entries:n,...st(t)})}const x6=Ae("ZodLiteral",(e,t)=>{Xz.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>uD(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Gr(e,t){return new x6({type:"literal",values:Array.isArray(e)?e:[e],...st(t)})}const b6=Ae("ZodTransform",(e,t)=>{e8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>fD(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Uk(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(Rd(s,n.value,t));else{const l=s;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(Rd(l))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function E6(e){return new b6({type:"transform",transform:e})}const bC=Ae("ZodOptional",(e,t)=>{sC.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>pC(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function Pb(e){return new bC({type:"optional",innerType:e})}const S6=Ae("ZodExactOptional",(e,t)=>{t8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>pC(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function k6(e){return new S6({type:"optional",innerType:e})}const C6=Ae("ZodNullable",(e,t)=>{n8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>wD(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function Tb(e){return new C6({type:"nullable",innerType:e})}const N6=Ae("ZodDefault",(e,t)=>{r8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>xD(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function P6(e,t){return new N6({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Wk(t)}})}const T6=Ae("ZodPrefault",(e,t)=>{i8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>bD(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function A6(e,t){return new T6({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Wk(t)}})}const EC=Ae("ZodNonOptional",(e,t)=>{o8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>_D(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function R6(e,t){return new EC({type:"nonoptional",innerType:e,...st(t)})}const I6=Ae("ZodCatch",(e,t)=>{s8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>ED(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function j6(e,t){return new I6({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const L6=Ae("ZodPipe",(e,t)=>{a8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>SD(e,n,r,i),e.in=t.in,e.out=t.out});function Ab(e,t){return new L6({type:"pipe",in:e,out:t})}const O6=Ae("ZodReadonly",(e,t)=>{l8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>kD(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function M6(e){return new O6({type:"readonly",innerType:e})}const z6=Ae("ZodCustom",(e,t)=>{c8.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>dD(e,n)});function D6(e,t={}){return X8(z6,e,t)}function B6(e){return eD(e)}const F6={custom:"custom"};class kt{static id(){return Lt().regex(/^[0-9a-f]{64}$/)}static event(){return Oo({id:kt.id(),kind:ko().int().nonnegative(),pubkey:kt.id(),tags:Lt().array().array(),content:Lt(),created_at:ko().int().nonnegative(),sig:Lt()}).required({id:!0,kind:!0,pubkey:!0,tags:!0,content:!0,created_at:!0,sig:!0})}static filter(){return Nb({kinds:ko().int().nonnegative().array().optional(),ids:kt.id().array().optional(),authors:kt.id().array().optional(),since:ko().int().nonnegative().optional(),until:ko().int().nonnegative().optional(),limit:ko().int().nonnegative().optional(),search:Lt().optional()}).transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[i,s])=>((n.includes(i)||i.startsWith("#"))&&(r[i]=s),r),{})})}static bech32(t){return Lt().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return yd().regex(/^wss?:\/\//)}static clientEVENT(){return Kr([Gr("EVENT"),kt.event()])}static clientREQ(){return Kr([Gr("REQ"),Lt()]).rest(kt.filter())}static clientCOUNT(){return Kr([Gr("COUNT"),Lt()]).rest(kt.filter())}static clientCLOSE(){return Kr([Gr("CLOSE"),Lt()])}static clientAUTH(){return Kr([Gr("AUTH"),kt.event()])}static clientMsg(){return e0([kt.clientEVENT(),kt.clientREQ(),kt.clientCOUNT(),kt.clientCLOSE(),kt.clientAUTH()])}static relayEVENT(){return Kr([Gr("EVENT"),Lt(),kt.event()])}static relayOK(){return Kr([Gr("OK"),kt.id(),el(),Lt()])}static relayEOSE(){return Kr([Gr("EOSE"),Lt()])}static relayNOTICE(){return Kr([Gr("NOTICE"),Lt()])}static relayCLOSED(){return Kr([Gr("CLOSED"),Lt(),Lt()])}static relayAUTH(){return Kr([Gr("AUTH"),Lt()])}static relayCOUNT(){return Kr([Gr("COUNT"),Lt(),Oo({count:ko().int().nonnegative(),approximate:el().optional()})])}static relayMsg(){return e0([kt.relayEVENT(),kt.relayOK(),kt.relayEOSE(),kt.relayNOTICE(),kt.relayCLOSED(),kt.relayAUTH(),kt.relayCOUNT()])}static metadata(){return Nb({about:Lt().optional().catch(void 0),banner:yd().optional().catch(void 0),bot:el().optional().catch(void 0),display_name:Lt().optional().catch(void 0),lud06:kt.bech32("lnurl").optional().catch(void 0),lud16:Sb().optional().catch(void 0),name:Lt().optional().catch(void 0),nip05:Sb().optional().catch(void 0),picture:yd().optional().catch(void 0),website:yd().optional().catch(void 0)})}static connectRequest(){return Oo({id:Lt(),method:Lt(),params:Lt().array()})}static connectResponse(){return Oo({id:Lt(),result:Lt(),error:Lt().optional()})}static json(){return Lt().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:F6.custom,message:"Invalid JSON"}),o5}})}}class SC{constructor({relay:t,pubkey:n,signer:r,timeout:i,encryption:s="nip44"}){Ze(this,"relay");Ze(this,"pubkey");Ze(this,"signer");Ze(this,"timeout");Ze(this,"encryption");Ze(this,"nip04",{encrypt:async(t,n)=>this.cmd("nip04_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip04_decrypt",[t,n])});Ze(this,"nip44",{encrypt:async(t,n)=>this.cmd("nip44_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip44_decrypt",[t,n])});this.relay=t,this.pubkey=n,this.signer=r,this.timeout=i,this.encryption=s}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(t){const n=await this.cmd("sign_event",[JSON.stringify(t)]);return kt.json().pipe(kt.event()).parse(n)}async getRelays(){const t=await this.cmd("get_relays",[]);return kt.json().pipe(_6(Lt(),Oo({read:el(),write:el()}))).parse(t)}async connect(t){const n=[this.pubkey];return t&&n.push(t),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(t,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:i,error:s}=await this.send({id:crypto.randomUUID(),method:t,params:n},{signal:r});if(s)throw new Error(s);return i}async send(t,n={}){const{signal:r}=n,i=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(t)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),s=await this.signer.getPublicKey(),l=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[s]}],{signal:r}),u=new Promise((d,p)=>{(async()=>{try{for await(const y of l){if(y[0]==="CLOSED")throw new Error("Subscription closed");if(y[0]==="EVENT"){const g=y[2],b=await this.decrypt(this.pubkey,g.content),_=kt.json().pipe(kt.connectResponse()).parse(b);if(_.id===t.id){d(_);return}}}}catch(y){p(y)}})()});return await this.relay.event(i,{signal:r}),u}async encrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(t,n);case"nip44":return this.signer.nip44.encrypt(t,n)}}async decrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(t,n);case"nip44":return this.signer.nip44.decrypt(t,n)}}}const kC={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),kC[e]=t}function U6(e){let t="";for(let n=0;n<e.byteLength;n++)t+=kC[e[n]];return t}const CC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rb=Object.entries(CC).reduce((e,[t,n])=>(e[n]=Number(t),e),{}),$6=CC.split(""),bc=6,Sd=8,H6=63,Z6=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let i=0;i<e.length;i+=4){let s=0,l=0;for(let p=i,y=i+3;p<=y;p++)if(e[p]!=="="){if(!(e[p]in Rb))throw new TypeError(`Invalid character ${e[p]} in base64 string.`);s|=Rb[e[p]]<<(y-p)*bc,l+=bc}else s>>=bc;const u=i/4*3;s>>=l%Sd;const d=Math.floor(l/Sd);for(let p=0;p<d;p++){const y=(d-p-1)*Sd;r.setUint8(u+p,(s&255<<y)>>y)}}return new Uint8Array(n)},W6=e=>new TextEncoder().encode(e);function V6(e){let t;typeof e=="string"?t=W6(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",r=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<t.length;s+=3){let l=0,u=0;for(let p=s,y=Math.min(s+3,t.length);p<y;p++)l|=t[p]<<(y-p-1)*Sd,u+=Sd;const d=Math.ceil(u/bc);l<<=d*bc-u;for(let p=1;p<=d;p++){const y=(d-p)*bc;i+=$6[(l&H6<<y)>>y]}i+="==".slice(0,4-d)}return i}class q6{static encodeEvent(t){return V6(JSON.stringify(t))}static decodeEvent(t){const n=Z6(t),r=new TextDecoder().decode(n);return kt.json().pipe(kt.event()).parse(r)}}class K6{constructor(t){Ze(this,"set");Ze(this,"capacity");this.set=new Set,this.capacity=t}add(t){if(!this.set.has(t)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}[Symbol.iterator](){return this.set.values()}}var Fc,Uc,Yd;class NC{constructor(t){it(this,Fc,[]);it(this,Uc);it(this,Yd,!1);t!=null&&t.aborted?this.abort():t==null||t.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Symbol.asyncIterator](){for(;!ue(this,Yd);){if(ue(this,Fc).length){yield ue(this,Fc).shift();continue}await new Promise(t=>{Ke(this,Uc,t)})}throw new DOMException("The signal has been aborted","AbortError")}push(t){var n;ue(this,Fc).push(t),(n=ue(this,Uc))==null||n.call(this)}abort(){var t;Ke(this,Yd,!0),(t=ue(this,Uc))==null||t.call(this)}}Fc=new WeakMap,Uc=new WeakMap,Yd=new WeakMap;class Tw{constructor(t){Ze(this,"_relays",new Map);Ze(this,"opts");this.opts=t}relay(t){const n=this._relays.get(t);if(n)return n;{const r=this.opts.open(t);return this._relays.set(t,r),r}}group(t){return new Tw({open:n=>this.relay(n),reqRouter:n=>new Map(t.map(r=>[r,n])),eventRouter:()=>t})}get relays(){return this._relays}async*req(t,n){const r=new AbortController,i=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,s=n!=null&&n.relays?new Map(n.relays.map(_=>[_,t])):await this.opts.reqRouter(t);if(s.size<1)return;const l=new NC(i),u=new Set,d=new Set,p=new K6(1e3),y=this.opts.eoseTimeout??1e3;let g;const b=[];for(const[_,S]of s.entries()){const v=this.relay(_),E=(async()=>{try{for await(const k of v.req(S,{signal:i}))if(k[0]==="EOSE"&&(u.add(_),u.size===1&&y>0&&g===void 0&&(g=setTimeout(()=>{r.abort()},y)),u.size===s.size&&l.push(k)),k[0]==="CLOSED"&&(d.add(_),d.size===s.size&&l.push(k)),k[0]==="EVENT"){const[,,A]=k;p.has(A.id)||(p.add(A.id),l.push(k))}}catch{}})();b.push(E)}try{for await(const _ of l)yield _}finally{g!==void 0&&clearTimeout(g),r.abort(),await Promise.allSettled(b)}}async event(t,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(t);r.length&&await Promise.any(r.map(i=>this.relay(i).event(t,n)))}async query(t,n){const r=new Map,i=new mp(r);if(t.reduce((l,u)=>l+nk(u),0)===0)return[];try{for await(const l of this.req(t,n))if(l[0]==="EOSE"||(l[0]==="EVENT"&&i.add(l[2]),l[0]==="CLOSED"))break}catch{}return t.some(l=>typeof l.search=="string")?[...r.values()]:[...i]}async close(){await Promise.all([...this._relays.values()].map(t=>t.close()))}async[Symbol.asyncDispose](){await this.close()}}class G6{constructor(t,n){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class Y6{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var Ut;(function(e){e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect"})(Ut||(Ut={}));class J6{constructor(t,n,r){var i,s,l,u,d,p,y,g,b,_,S,v,E,k,A;this._closedByUser=!1,this.handleOpenEvent=T=>this.handleEvent(Ut.open,T),this.handleErrorEvent=T=>this.handleEvent(Ut.error,T),this.handleCloseEvent=T=>this.handleEvent(Ut.close,T),this.handleMessageEvent=T=>this.handleEvent(Ut.message,T),this._url=t,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.maxRetries,instantReconnect:(s=r==null?void 0:r.retry)===null||s===void 0?void 0:s.instantReconnect,backoff:(l=r==null?void 0:r.retry)===null||l===void 0?void 0:l.backoff},listeners:{open:[...(d=(u=r==null?void 0:r.listeners)===null||u===void 0?void 0:u.open)!==null&&d!==void 0?d:[]],close:[...(y=(p=r==null?void 0:r.listeners)===null||p===void 0?void 0:p.close)!==null&&y!==void 0?y:[]],error:[...(b=(g=r==null?void 0:r.listeners)===null||g===void 0?void 0:g.error)!==null&&b!==void 0?b:[]],message:[...(S=(_=r==null?void 0:r.listeners)===null||_===void 0?void 0:_.message)!==null&&S!==void 0?S:[]],retry:[...(E=(v=r==null?void 0:r.listeners)===null||v===void 0?void 0:v.retry)!==null&&E!==void 0?E:[]],reconnect:[...(A=(k=r==null?void 0:r.listeners)===null||k===void 0?void 0:k.reconnect)!==null&&A!==void 0?A:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):this.buffer!==void 0&&this.buffer.add(t))}close(t,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,n)}addEventListener(t,n,r){this._options.listeners[t].push({listener:n,options:r})}removeEventListener(t,n,r){const i=s=>s.listener!==n||s.options!==r;this._options.listeners[t]=this._options.listeners[t].filter(i)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(Ut.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(Ut.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(Ut.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(Ut.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(Ut.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(Ut.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(Ut.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(Ut.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,n){const r=this._options.listeners[t],i=[];r.forEach(({listener:s,options:l})=>{s(this,n),(l===void 0||l.once===void 0||!l.once)&&i.push({listener:s,options:l})}),this._options.listeners[t]=i}handleEvent(t,n){switch(t){case Ut.close:this.dispatchEvent(t,n),this.scheduleConnectionRetryIfNeeded();break;case Ut.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},i=new CustomEvent(Ut.reconnect,{detail:r});this.dispatchEvent(Ut.reconnect,i),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,n),this.sendBufferedData();break;case Ut.retry:this.dispatchEvent(t,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let t=this.buffer.read();t!==void 0;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const t=r=>{const i=new CustomEvent(Ut.retry,{detail:r});this.handleEvent(Ut.retry,i)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class Q6{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:t})}),this}get maxRetries(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:t})}),this}get backoff(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return(t=this._options)===null||t===void 0?void 0:t.buffer}onOpen(t,n){return this.addListener(Ut.open,t,n),this}onClose(t,n){return this.addListener(Ut.close,t,n),this}onError(t,n){return this.addListener(Ut.error,t,n),this}onMessage(t,n){return this.addListener(Ut.message,t,n),this}onRetry(t,n){return this.addListener(Ut.retry,t,n),this}onReconnect(t,n){return this.addListener(Ut.reconnect,t,n),this}build(){return new J6(this._url,this._protocols,this._options)}addListener(t,n,r){var i,s,l,u,d,p,y,g,b,_,S,v,E,k,A,T,z,D,$,Z,q;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(l=(s=(i=this._options)===null||i===void 0?void 0:i.listeners)===null||s===void 0?void 0:s.open)!==null&&l!==void 0?l:[],close:(p=(d=(u=this._options)===null||u===void 0?void 0:u.listeners)===null||d===void 0?void 0:d.close)!==null&&p!==void 0?p:[],error:(b=(g=(y=this._options)===null||y===void 0?void 0:y.listeners)===null||g===void 0?void 0:g.error)!==null&&b!==void 0?b:[],message:(v=(S=(_=this._options)===null||_===void 0?void 0:_.listeners)===null||S===void 0?void 0:S.message)!==null&&v!==void 0?v:[],retry:(A=(k=(E=this._options)===null||E===void 0?void 0:E.listeners)===null||k===void 0?void 0:k.retry)!==null&&A!==void 0?A:[],reconnect:(D=(z=(T=this._options)===null||T===void 0?void 0:T.listeners)===null||z===void 0?void 0:z.reconnect)!==null&&D!==void 0?D:[],[t]:[...(q=(Z=($=this._options)===null||$===void 0?void 0:$.listeners)===null||Z===void 0?void 0:Z[t])!==null&&q!==void 0?q:[],{listener:n,options:r}]}}),this}}class X6{constructor(t,n={}){Ze(this,"socket");Ze(this,"subs",new Map);Ze(this,"closedByUser",!1);Ze(this,"idleTimer");Ze(this,"controller",new AbortController);Ze(this,"url");Ze(this,"opts");Ze(this,"ee",new EventTarget);this.url=t,this.opts=n,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(t){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...t,url:this.url})}createSocket(){const{backoff:t=new G6(1e3)}=this.opts;return new Q6(this.url).withBuffer(new Y6).withBackoff(t===!1?void 0:t).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const i=kt.json().pipe(kt.relayMsg()).safeParse(r.data);i.success?(this.log({level:"trace",ns:"relay.ws.message",data:i.data}),this.receive(i.data)):this.log({level:"warn",ns:"relay.ws.message",error:i.error})}).build()}receive(t){const{auth:n,verifyEvent:r=tf}=this.opts;switch(t[0]){case"EVENT":if(!r(t[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"CLOSED":this.subs.delete(t[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t})),this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${t[1]}`,{detail:t}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:t}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"AUTH":n==null||n(t[1]).then(i=>this.send(["AUTH",i])).catch(()=>{})}}send(t){switch(this.log({level:"trace",ns:"relay.ws.send",data:t}),this.wake(),t[0]){case"REQ":this.subs.set(t[1],t);break;case"CLOSE":this.subs.delete(t[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}async*req(t,n={}){const{signal:r}=n,i=crypto.randomUUID(),s=this.on(`sub:${i}`,r),l=["REQ",i,...t];this.send(l);try{for await(const u of s){if(u[0]==="EOSE"&&(yield u),u[0]==="CLOSED")break;if(u[0]==="EVENT")if(tk(t,u[2]))yield u;else continue}}finally{this.send(["CLOSE",i])}}async query(t,n){const r=new mp,i=t.reduce((s,l)=>s+nk(l),0);if(i===0)return[];for await(const s of this.req(t,n)){if(s[0]==="EOSE")break;if(s[0]==="EVENT"&&r.add(s[2]),s[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=i)break}return[...r]}async event(t,n){const r=this.once(`ok:${t.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",t])}catch(l){throw r.catch(()=>{}),l}const[,,i,s]=await r;if(!i)throw new Error(s)}async count(t,n){const r=crypto.randomUUID(),i=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...t])}catch(l){throw i.catch(()=>{}),l}const s=await i;switch(s[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,l]=s;return l}}throw new Error("Count ended -- this should never happen")}async*on(t,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const i=new NC(r),s=l=>i.push(l.detail);this.ee.addEventListener(t,s);try{for await(const l of i)yield l}finally{this.ee.removeEventListener(t,s)}}async once(t,n){for await(const r of this.on(t,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:t=3e4}=this.opts;t!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:t}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:t}),this.socket.close()},t)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(t=>{this.socket.addEventListener(Ut.close,t,{once:!0})})}async[Symbol.asyncDispose](){await this.close()}}var Po,Jd,n0;class Id{constructor(t){it(this,Jd);it(this,Po);Ze(this,"pubkey");Ze(this,"nip04",{encrypt:async(t,n)=>Ad.encrypt(ue(this,Po),t,n),decrypt:async(t,n)=>Ad.decrypt(ue(this,Po),t,n)});Ze(this,"nip44",{encrypt:async(t,n)=>{const r=vt(this,Jd,n0).call(this,t);return Ks.v2.encrypt(n,r)},decrypt:async(t,n)=>{const r=vt(this,Jd,n0).call(this,t);return Ks.v2.decrypt(n,r)}});Ke(this,Po,t)}async getPublicKey(){return this.pubkey??(this.pubkey=Bo(ue(this,Po)))}async signEvent(t){return ni(t,ue(this,Po))}}Po=new WeakMap,Jd=new WeakSet,n0=function(t){return Ks.v2.utils.getConversationKey(ue(this,Po),t)};const PC=C.createContext(void 0);function jr(){const e=C.useContext(PC);if(!e)throw new Error("useNostr must be used within a NostrProvider");return e}class tl{constructor(t,n,r){Ze(this,"id");Ze(this,"type");Ze(this,"pubkey");Ze(this,"createdAt");Ze(this,"data");this.id=`${t}:${n}`,this.type=t,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(t){const n=tr.decode(t);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,i=Bo(r);return new tl("nsec",i,{nsec:tr.nsecEncode(r)})}static async fromBunker(t,n){const{pubkey:r,secret:i,relays:s}=new bd(t);if(!s.length)throw new Error("No relay provided");const l=ef(),u=tr.nsecEncode(l),d=new Id(l),p=new SC({relay:n.group(s),pubkey:r,signer:d,timeout:6e4});await p.connect(i);const y=await p.getPublicKey();return new tl("bunker",y,{bunkerPubkey:r,clientNsec:u,relays:s})}static async fromExtension(){const t=globalThis.nostr;if(!t)throw new Error("Nostr extension is not available");const n=await t.getPublicKey();return new tl("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const TC=C.createContext(void 0);function eB(e,t){switch(t.type){case"login.add":{const n=e.filter(r=>r.id!==t.login.id);return t.set?[t.login,...n]:[...n,t.login]}case"login.remove":return e.filter(n=>n.id!==t.id);case"login.set":{const n=e.find(i=>i.id===t.id);if(!n)return e;const r=e.filter(i=>i.id!==t.id);return[n,...r]}case"login.clear":return[];default:return e}}function tB(e){const[t,n]=C.useReducer(eB,[],()=>{const r=localStorage.getItem(e);return r?JSON.parse(r):[]});return C.useEffect(()=>{localStorage.setItem(e,JSON.stringify(t))},[t]),[t,n]}const nB=({children:e,storageKey:t})=>{const[n,r]=tB(t),i={logins:n,addLogin:s=>r({type:"login.add",login:s}),removeLogin:s=>r({type:"login.remove",id:s}),setLogin:s=>r({type:"login.set",id:s}),clearLogins:()=>r({type:"login.clear"})};return m.jsx(TC.Provider,{value:i,children:e})};class nl{constructor(t,n,r){this.method=t,this.pubkey=n,this.signer=r}static fromNsecLogin(t){const n=tr.decode(t.data.nsec);return new nl(t.type,t.pubkey,new Id(n.data))}static fromBunkerLogin(t,n){const r=tr.decode(t.data.clientNsec),i=new Id(r.data);return new nl(t.type,t.pubkey,new SC({relay:n.group(t.data.relays),pubkey:t.pubkey,signer:i,timeout:6e4}))}static fromExtensionLogin(t){return new nl(t.type,t.pubkey,new Pj)}}function Aw(){const e=C.useContext(TC);if(!e)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return e}const AC=C.createContext(void 0);function RC(){const e=C.useContext(AC);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const rB=e=>{const{children:t}=e,{config:n}=RC(),r=H0(),i=C.useRef(void 0),s=C.useRef(n.relayMetadata);return C.useEffect(()=>{s.current=n.relayMetadata,r.invalidateQueries({queryKey:["nostr"]})},[n.relayMetadata,r]),i.current||(i.current=new Tw({open(l){return new X6(l)},reqRouter(l){const u=new Map,d=s.current.relays.filter(p=>p.read).map(p=>p.url);for(const p of d)u.set(p,l);return u},eventRouter(l){const u=s.current.relays.filter(p=>p.write).map(p=>p.url);return[...new Set(u)]}})),m.jsx(PC.Provider,{value:{nostr:i.current},children:t})};function tm(e){const{nostr:t}=jr();return Ro({queryKey:["author",e??""],queryFn:async({signal:n})=>{if(!e)return{};const[r]=await t.query([{kinds:[0],authors:[e],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!r)throw new Error("No event found");try{return{metadata:kt.json().pipe(kt.metadata()).parse(r.content),event:r}}catch{return{event:r}}},staleTime:5*60*1e3,retry:3})}function pl(){const{nostr:e}=jr(),{logins:t}=Aw(),n=C.useCallback(l=>{switch(l.type){case"nsec":return nl.fromNsecLogin(l);case"bunker":return nl.fromBunkerLogin(l,e);case"extension":return nl.fromExtensionLogin(l);default:throw new Error(`Unsupported login type: ${l.type}`)}},[e]),r=C.useMemo(()=>{const l=[];for(const u of t)try{const d=n(u);l.push(d)}catch(d){console.warn("Skipped invalid login",u.id,d)}return l},[t,n]),i=r[0],s=tm(i==null?void 0:i.pubkey);return{user:i,users:r,...s.data}}function iB(){const{nostr:e}=jr(),{user:t}=pl(),{config:n,updateConfig:r}=RC();return C.useEffect(()=>{if(!t)return;(async()=>{try{const s=await e.query([{kinds:[10002],authors:[t.pubkey],limit:1}],{signal:AbortSignal.timeout(5e3)});if(s.length>0){const l=s[0];if(l.created_at>n.relayMetadata.updatedAt){const u=l.tags.filter(([d])=>d==="r").map(([d,p,y])=>({url:p,read:!y||y==="read",write:!y||y==="write"}));u.length>0&&(console.log("Syncing relay list from Nostr:",u),r(d=>({...d,relayMetadata:{relays:u,updatedAt:l.created_at}})))}}}catch(s){console.error("Failed to sync relays from Nostr:",s)}})()},[t,n.relayMetadata.updatedAt,e,r]),null}const oB=1,sB=1e6;let Ny=0;function aB(){return Ny=(Ny+1)%Number.MAX_SAFE_INTEGER,Ny.toString()}const Py=new Map,Ib=e=>{if(Py.has(e))return;const t=setTimeout(()=>{Py.delete(e),kd({type:"REMOVE_TOAST",toastId:e})},sB);Py.set(e,t)},lB=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,oB)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Ib(n):e.toasts.forEach(r=>{Ib(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ep=[];let tp={toasts:[]};function kd(e){tp=lB(tp,e),ep.forEach(t=>{t(tp)})}function gc({...e}){const t=aB(),n=i=>kd({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>kd({type:"DISMISS_TOAST",toastId:t});return kd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function tu(){const[e,t]=C.useState(tp);return C.useEffect(()=>(ep.push(t),()=>{const n=ep.indexOf(t);n>-1&&ep.splice(n,1)}),[e]),{...e,toast:gc,dismiss:n=>kd({type:"DISMISS_TOAST",toastId:n})}}var nu=IE();const cB=Qd(nu);function Ue(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function jb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nm(...e){return t=>{let n=!1;const r=e.map(i=>{const s=jb(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():jb(e[i],null)}}}}function ft(...e){return C.useCallback(nm(...e),e)}function uB(e,t){const n=C.createContext(t),r=s=>{const{children:l,...u}=s,d=C.useMemo(()=>u,Object.values(u));return m.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function i(s){const l=C.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Nn(e,t=[]){let n=[];function r(s,l){const u=C.createContext(l),d=n.length;n=[...n,l];const p=g=>{var k;const{scope:b,children:_,...S}=g,v=((k=b==null?void 0:b[e])==null?void 0:k[d])||u,E=C.useMemo(()=>S,Object.values(S));return m.jsx(v.Provider,{value:E,children:_})};p.displayName=s+"Provider";function y(g,b){var v;const _=((v=b==null?void 0:b[e])==null?void 0:v[d])||u,S=C.useContext(_);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[p,y]}const i=()=>{const s=n.map(l=>C.createContext(l));return function(u){const d=(u==null?void 0:u[e])||s;return C.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[r,dB(i,...t)]}function dB(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=r.reduce((u,{useScope:d,scopeName:p})=>{const g=d(s)[`__scope${p}`];return{...u,...g}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function ll(e){const t=hB(e),n=C.forwardRef((r,i)=>{const{children:s,...l}=r,u=C.Children.toArray(s),d=u.find(mB);if(d){const p=d.props.children,y=u.map(g=>g===d?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:g);return m.jsx(t,{...l,ref:i,children:C.isValidElement(p)?C.cloneElement(p,void 0,y):null})}return m.jsx(t,{...l,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var fB=ll("Slot");function hB(e){const t=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const l=yB(i),u=gB(s,i.props);return i.type!==C.Fragment&&(u.ref=r?nm(r,l):l),C.cloneElement(i,u)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IC=Symbol("radix.slottable");function pB(e){const t=({children:n})=>m.jsx(m.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=IC,t}function mB(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IC}function gB(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...u)=>{s(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function yB(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function nf(e){const t=e+"CollectionProvider",[n,r]=Nn(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:E,children:k}=v,A=Ls.useRef(null),T=Ls.useRef(new Map).current;return m.jsx(i,{scope:E,itemMap:T,collectionRef:A,children:k})};l.displayName=t;const u=e+"CollectionSlot",d=ll(u),p=Ls.forwardRef((v,E)=>{const{scope:k,children:A}=v,T=s(u,k),z=ft(E,T.collectionRef);return m.jsx(d,{ref:z,children:A})});p.displayName=u;const y=e+"CollectionItemSlot",g="data-radix-collection-item",b=ll(y),_=Ls.forwardRef((v,E)=>{const{scope:k,children:A,...T}=v,z=Ls.useRef(null),D=ft(E,z),$=s(y,k);return Ls.useEffect(()=>($.itemMap.set(z,{ref:z,...T}),()=>void $.itemMap.delete(z))),m.jsx(b,{[g]:"",ref:D,children:A})});_.displayName=y;function S(v){const E=s(e+"CollectionConsumer",v);return Ls.useCallback(()=>{const A=E.collectionRef.current;if(!A)return[];const T=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort(($,Z)=>T.indexOf($.ref.current)-T.indexOf(Z.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:p,ItemSlot:_},S,r]}var vB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=vB.reduce((e,t)=>{const n=ll(`Primitive.${t}`),r=C.forwardRef((i,s)=>{const{asChild:l,...u}=i,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(d,{...u,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Rw(e,t){e&&nu.flushSync(()=>e.dispatchEvent(t))}function ln(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function wB(e,t=globalThis==null?void 0:globalThis.document){const n=ln(e);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var _B="DismissableLayer",r0="dismissableLayer.update",xB="dismissableLayer.pointerDownOutside",bB="dismissableLayer.focusOutside",Lb,jC=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ru=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:u,...d}=e,p=C.useContext(jC),[y,g]=C.useState(null),b=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=C.useState({}),S=ft(t,Z=>g(Z)),v=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(E),A=y?v.indexOf(y):-1,T=p.layersWithOutsidePointerEventsDisabled.size>0,z=A>=k,D=SB(Z=>{const q=Z.target,F=[...p.branches].some(W=>W.contains(q));!z||F||(i==null||i(Z),l==null||l(Z),Z.defaultPrevented||u==null||u())},b),$=kB(Z=>{const q=Z.target;[...p.branches].some(W=>W.contains(q))||(s==null||s(Z),l==null||l(Z),Z.defaultPrevented||u==null||u())},b);return wB(Z=>{A===p.layers.size-1&&(r==null||r(Z),!Z.defaultPrevented&&u&&(Z.preventDefault(),u()))},b),C.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Lb=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Ob(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Lb)}},[y,b,n,p]),C.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Ob())},[y,p]),C.useEffect(()=>{const Z=()=>_({});return document.addEventListener(r0,Z),()=>document.removeEventListener(r0,Z)},[]),m.jsx(Ge.div,{...d,ref:S,style:{pointerEvents:T?z?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,$.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,D.onPointerDownCapture)})});ru.displayName=_B;var EB="DismissableLayerBranch",LC=C.forwardRef((e,t)=>{const n=C.useContext(jC),r=C.useRef(null),i=ft(t,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx(Ge.div,{...e,ref:i})});LC.displayName=EB;function SB(e,t=globalThis==null?void 0:globalThis.document){const n=ln(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let d=function(){OC(xB,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function kB(e,t=globalThis==null?void 0:globalThis.document){const n=ln(e),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&OC(bB,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ob(){const e=new CustomEvent(r0);document.dispatchEvent(e)}function OC(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Rw(i,s):i.dispatchEvent(s)}var CB=ru,NB=LC,un=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},PB="Portal",rf=C.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,s]=C.useState(!1);un(()=>s(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?cB.createPortal(m.jsx(Ge.div,{...r,ref:t}),l):null});rf.displayName=PB;function TB(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var In=e=>{const{present:t,children:n}=e,r=AB(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=ft(r.ref,RB(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};In.displayName="Presence";function AB(e){const[t,n]=C.useState(),r=C.useRef(null),i=C.useRef(e),s=C.useRef("none"),l=e?"mounted":"unmounted",[u,d]=TB(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=Uh(r.current);s.current=u==="mounted"?p:"none"},[u]),un(()=>{const p=r.current,y=i.current;if(y!==e){const b=s.current,_=Uh(p);e?d("MOUNT"):_==="none"||(p==null?void 0:p.display)==="none"?d("UNMOUNT"):d(y&&b!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),un(()=>{if(t){let p;const y=t.ownerDocument.defaultView??window,g=_=>{const v=Uh(r.current).includes(_.animationName);if(_.target===t&&v&&(d("ANIMATION_END"),!i.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",p=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},b=_=>{_.target===t&&(s.current=Uh(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{y.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:C.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function Uh(e){return(e==null?void 0:e.animationName)||"none"}function RB(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var IB=D0[" useInsertionEffect ".trim().toString()]||un;function ti({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,l]=jB({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:i;{const y=C.useRef(e!==void 0);C.useEffect(()=>{const g=y.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=u},[u,r])}const p=C.useCallback(y=>{var g;if(u){const b=LB(y)?y(e):y;b!==e&&((g=l.current)==null||g.call(l,b))}else s(y)},[u,e,s,l]);return[d,p]}function jB({defaultProp:e,onChange:t}){const[n,r]=C.useState(e),i=C.useRef(n),s=C.useRef(t);return IB(()=>{s.current=t},[t]),C.useEffect(()=>{var l;i.current!==n&&((l=s.current)==null||l.call(s,n),i.current=n)},[n,i]),[n,r,s]}function LB(e){return typeof e=="function"}var MC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OB="VisuallyHidden",rm=C.forwardRef((e,t)=>m.jsx(Ge.span,{...e,ref:t,style:{...MC,...e.style}}));rm.displayName=OB;var MB=rm,Iw="ToastProvider",[jw,zB,DB]=nf("Toast"),[zC,UK]=Nn("Toast",[DB]),[BB,im]=zC(Iw),DC=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:l}=e,[u,d]=C.useState(null),[p,y]=C.useState(0),g=C.useRef(!1),b=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Iw}\`. Expected non-empty \`string\`.`),m.jsx(jw.Provider,{scope:t,children:m.jsx(BB,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:p,viewport:u,onViewportChange:d,onToastAdd:C.useCallback(()=>y(_=>_+1),[]),onToastRemove:C.useCallback(()=>y(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:b,children:l})})};DC.displayName=Iw;var BC="ToastViewport",FB=["F8"],i0="toast.viewportPause",o0="toast.viewportResume",FC=C.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=FB,label:i="Notifications ({hotkey})",...s}=e,l=im(BC,n),u=zB(n),d=C.useRef(null),p=C.useRef(null),y=C.useRef(null),g=C.useRef(null),b=ft(t,g,l.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=l.toastCount>0;C.useEffect(()=>{const E=k=>{var T;r.length!==0&&r.every(z=>k[z]||k.code===z)&&((T=g.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),C.useEffect(()=>{const E=d.current,k=g.current;if(S&&E&&k){const A=()=>{if(!l.isClosePausedRef.current){const $=new CustomEvent(i0);k.dispatchEvent($),l.isClosePausedRef.current=!0}},T=()=>{if(l.isClosePausedRef.current){const $=new CustomEvent(o0);k.dispatchEvent($),l.isClosePausedRef.current=!1}},z=$=>{!E.contains($.relatedTarget)&&T()},D=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",A),E.addEventListener("focusout",z),E.addEventListener("pointermove",A),E.addEventListener("pointerleave",D),window.addEventListener("blur",A),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",A),E.removeEventListener("focusout",z),E.removeEventListener("pointermove",A),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",A),window.removeEventListener("focus",T)}}},[S,l.isClosePausedRef]);const v=C.useCallback(({tabbingDirection:E})=>{const A=u().map(T=>{const z=T.ref.current,D=[z,...XB(z)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?A.reverse():A).flat()},[u]);return C.useEffect(()=>{const E=g.current;if(E){const k=A=>{var D,$,Z;const T=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!T){const q=document.activeElement,F=A.shiftKey;if(A.target===E&&F){(D=p.current)==null||D.focus();return}const U=v({tabbingDirection:F?"backwards":"forwards"}),X=U.findIndex(j=>j===q);Ty(U.slice(X+1))?A.preventDefault():F?($=p.current)==null||$.focus():(Z=y.current)==null||Z.focus()}};return E.addEventListener("keydown",k),()=>E.removeEventListener("keydown",k)}},[u,v]),m.jsxs(NB,{ref:d,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&m.jsx(s0,{ref:p,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Ty(E)}}),m.jsx(jw.Slot,{scope:n,children:m.jsx(Ge.ol,{tabIndex:-1,...s,ref:b})}),S&&m.jsx(s0,{ref:y,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Ty(E)}})]})});FC.displayName=BC;var UC="ToastFocusProxy",s0=C.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=im(UC,n);return m.jsx(rm,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var p;const u=l.relatedTarget;!((p=s.viewport)!=null&&p.contains(u))&&r()}})});s0.displayName=UC;var of="Toast",UB="toast.swipeStart",$B="toast.swipeMove",HB="toast.swipeCancel",ZB="toast.swipeEnd",$C=C.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...l}=e,[u,d]=ti({prop:r,defaultProp:i??!0,onChange:s,caller:of});return m.jsx(In,{present:n||u,children:m.jsx(qB,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:ln(e.onPause),onResume:ln(e.onResume),onSwipeStart:Ue(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,p=>{const{x:y,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,p=>{const{x:y,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});$C.displayName=of;var[WB,VB]=zC(of,{onClose(){}}),qB=C.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:p,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:b,onSwipeEnd:_,...S}=e,v=im(of,n),[E,k]=C.useState(null),A=ft(t,j=>k(j)),T=C.useRef(null),z=C.useRef(null),D=i||v.duration,$=C.useRef(0),Z=C.useRef(D),q=C.useRef(0),{onToastAdd:F,onToastRemove:W}=v,J=ln(()=>{var K;(E==null?void 0:E.contains(document.activeElement))&&((K=v.viewport)==null||K.focus()),l()}),U=C.useCallback(j=>{!j||j===1/0||(window.clearTimeout(q.current),$.current=new Date().getTime(),q.current=window.setTimeout(J,j))},[J]);C.useEffect(()=>{const j=v.viewport;if(j){const K=()=>{U(Z.current),p==null||p()},se=()=>{const ie=new Date().getTime()-$.current;Z.current=Z.current-ie,window.clearTimeout(q.current),d==null||d()};return j.addEventListener(i0,se),j.addEventListener(o0,K),()=>{j.removeEventListener(i0,se),j.removeEventListener(o0,K)}}},[v.viewport,D,d,p,U]),C.useEffect(()=>{s&&!v.isClosePausedRef.current&&U(D)},[s,D,v.isClosePausedRef,U]),C.useEffect(()=>(F(),()=>W()),[F,W]);const X=C.useMemo(()=>E?GC(E):null,[E]);return v.viewport?m.jsxs(m.Fragment,{children:[X&&m.jsx(KB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),m.jsx(WB,{scope:n,onClose:J,children:nu.createPortal(m.jsx(jw.ItemSlot,{scope:n,children:m.jsx(CB,{asChild:!0,onEscapeKeyDown:Ue(u,()=>{v.isFocusedToastEscapeKeyDownRef.current||J(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(Ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:A,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,j=>{j.key==="Escape"&&(u==null||u(j.nativeEvent),j.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,J()))}),onPointerDown:Ue(e.onPointerDown,j=>{j.button===0&&(T.current={x:j.clientX,y:j.clientY})}),onPointerMove:Ue(e.onPointerMove,j=>{if(!T.current)return;const K=j.clientX-T.current.x,se=j.clientY-T.current.y,ie=!!z.current,te=["left","right"].includes(v.swipeDirection),ee=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,le=te?ee(0,K):0,H=te?0:ee(0,se),Q=j.pointerType==="touch"?10:2,ke={x:le,y:H},_e={originalEvent:j,delta:ke};ie?(z.current=ke,$h($B,g,_e,{discrete:!1})):Mb(ke,v.swipeDirection,Q)?(z.current=ke,$h(UB,y,_e,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(K)>Q||Math.abs(se)>Q)&&(T.current=null)}),onPointerUp:Ue(e.onPointerUp,j=>{const K=z.current,se=j.target;if(se.hasPointerCapture(j.pointerId)&&se.releasePointerCapture(j.pointerId),z.current=null,T.current=null,K){const ie=j.currentTarget,te={originalEvent:j,delta:K};Mb(K,v.swipeDirection,v.swipeThreshold)?$h(ZB,_,te,{discrete:!0}):$h(HB,b,te,{discrete:!0}),ie.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),KB=e=>{const{__scopeToast:t,children:n,...r}=e,i=im(of,t),[s,l]=C.useState(!1),[u,d]=C.useState(!1);return JB(()=>l(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),u?null:m.jsx(rf,{asChild:!0,children:m.jsx(rm,{...r,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",n]})})})},GB="ToastTitle",HC=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return m.jsx(Ge.div,{...r,ref:t})});HC.displayName=GB;var YB="ToastDescription",ZC=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return m.jsx(Ge.div,{...r,ref:t})});ZC.displayName=YB;var WC="ToastAction",VC=C.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?m.jsx(KC,{altText:n,asChild:!0,children:m.jsx(Lw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${WC}\`. Expected non-empty \`string\`.`),null)});VC.displayName=WC;var qC="ToastClose",Lw=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=VB(qC,n);return m.jsx(KC,{asChild:!0,children:m.jsx(Ge.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,i.onClose)})})});Lw.displayName=qC;var KC=C.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return m.jsx(Ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function GC(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),QB(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...GC(r))}}),t}function $h(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Rw(i,s):i.dispatchEvent(s)}var Mb=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function JB(e=()=>{}){const t=ln(e);un(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function QB(e){return e.nodeType===e.ELEMENT_NODE}function XB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ty(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var eF=DC,YC=FC,JC=$C,QC=HC,XC=ZC,eN=VC,tN=Lw;function nN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=nN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rN(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=nN(e))&&(r&&(r+=" "),r+=t);return r}const zb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Db=rN,sf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Db(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,l=Object.keys(i).map(p=>{const y=n==null?void 0:n[p],g=s==null?void 0:s[p];if(y===null)return null;const b=zb(y)||zb(g);return i[p][b]}),u=n&&Object.entries(n).reduce((p,y)=>{let[g,b]=y;return b===void 0||(p[g]=b),p},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:g,className:b,..._}=y;return Object.entries(_).every(S=>{let[v,E]=S;return Array.isArray(E)?E.includes({...s,...u}[v]):{...s,...u}[v]===E})?[...p,g,b]:p},[]);return Db(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iN=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},d)=>C.createElement("svg",{ref:d,...nF,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:iN("lucide",i),...u},[...l.map(([p,y])=>C.createElement(p,y)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(e,t)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(rF,{ref:s,iconNode:t,className:iN(`lucide-${tF(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=_t("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=_t("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=_t("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=_t("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=_t("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=_t("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=_t("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=_t("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=_t("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=_t("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=_t("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=_t("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=_t("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=_t("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=_t("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=_t("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=_t("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=_t("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=_t("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=_t("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=_t("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=_t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=_t("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=_t("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=_t("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=_t("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=_t("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=_t("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=_t("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=_t("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=_t("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=_t("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=_t("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=_t("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=_t("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=_t("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=_t("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=_t("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=_t("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=_t("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=_t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=_t("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),zw="-",TF=e=>{const t=RF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(zw);return u[0]===""&&u.length!==1&&u.shift(),dN(u,t)||AF(l)},getConflictingClassGroupIds:(l,u)=>{const d=n[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},dN=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?dN(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(zw);return(l=t.validators.find(({validator:u})=>u(s)))==null?void 0:l.classGroupId},Fb=/^\[(.+)\]$/,AF=e=>{if(Fb.test(e)){const t=Fb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},RF=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return jF(Object.entries(e.classGroups),n).forEach(([s,l])=>{u0(l,r,s,t)}),r},u0=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Ub(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(IF(i)){u0(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,l])=>{u0(l,Ub(t,s),n,r)})})},Ub=(e,t)=>{let n=e;return t.split(zw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},IF=e=>e.isThemeGetter,jF=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([l,u])=>[t+l,u])):s);return[n,i]}):e,LF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,l)=>{n.set(s,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let l=n.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set(s,l){n.has(s)?n.set(s,l):i(s,l)}}},fN="!",OF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,l=u=>{const d=[];let p=0,y=0,g;for(let E=0;E<u.length;E++){let k=u[E];if(p===0){if(k===i&&(r||u.slice(E,E+s)===t)){d.push(u.slice(y,E)),y=E+s;continue}if(k==="/"){g=E;continue}}k==="["?p++:k==="]"&&p--}const b=d.length===0?u:u.substring(y),_=b.startsWith(fN),S=_?b.substring(1):b,v=g&&g>y?g-y:void 0;return{modifiers:d,hasImportantModifier:_,baseClassName:S,maybePostfixModifierPosition:v}};return n?u=>n({className:u,parseClassName:l}):l},MF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},zF=e=>({cache:LF(e.cacheSize),parseClassName:OF(e),...TF(e)}),DF=/\s+/,BF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],l=e.trim().split(DF);let u="";for(let d=l.length-1;d>=0;d-=1){const p=l[d],{modifiers:y,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:_}=n(p);let S=!!_,v=r(S?b.substring(0,_):b);if(!v){if(!S){u=p+(u.length>0?" "+u:u);continue}if(v=r(b),!v){u=p+(u.length>0?" "+u:u);continue}S=!1}const E=MF(y).join(":"),k=g?E+fN:E,A=k+v;if(s.includes(A))continue;s.push(A);const T=i(v,S);for(let z=0;z<T.length;++z){const D=T[z];s.push(k+D)}u=p+(u.length>0?" "+u:u)}return u};function FF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=hN(t))&&(r&&(r+=" "),r+=n);return r}const hN=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=hN(e[r]))&&(n&&(n+=" "),n+=t);return n};function UF(e,...t){let n,r,i,s=l;function l(d){const p=t.reduce((y,g)=>g(y),e());return n=zF(p),r=n.cache.get,i=n.cache.set,s=u,u(d)}function u(d){const p=r(d);if(p)return p;const y=BF(d,n);return i(d,y),y}return function(){return s(FF.apply(null,arguments))}}const qt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},pN=/^\[(?:([a-z-]+):)?(.+)\]$/i,$F=/^\d+\/\d+$/,HF=new Set(["px","full","screen"]),ZF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Eo=e=>Ec(e)||HF.has(e)||$F.test(e),Ts=e=>iu(e,"length",nU),Ec=e=>!!e&&!Number.isNaN(Number(e)),Ay=e=>iu(e,"number",Ec),dd=e=>!!e&&Number.isInteger(Number(e)),GF=e=>e.endsWith("%")&&Ec(e.slice(0,-1)),xt=e=>pN.test(e),As=e=>ZF.test(e),YF=new Set(["length","size","percentage"]),JF=e=>iu(e,YF,mN),QF=e=>iu(e,"position",mN),XF=new Set(["image","url"]),eU=e=>iu(e,XF,iU),tU=e=>iu(e,"",rU),fd=()=>!0,iu=(e,t,n)=>{const r=pN.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},nU=e=>WF.test(e)&&!VF.test(e),mN=()=>!1,rU=e=>qF.test(e),iU=e=>KF.test(e),oU=()=>{const e=qt("colors"),t=qt("spacing"),n=qt("blur"),r=qt("brightness"),i=qt("borderColor"),s=qt("borderRadius"),l=qt("borderSpacing"),u=qt("borderWidth"),d=qt("contrast"),p=qt("grayscale"),y=qt("hueRotate"),g=qt("invert"),b=qt("gap"),_=qt("gradientColorStops"),S=qt("gradientColorStopPositions"),v=qt("inset"),E=qt("margin"),k=qt("opacity"),A=qt("padding"),T=qt("saturate"),z=qt("scale"),D=qt("sepia"),$=qt("skew"),Z=qt("space"),q=qt("translate"),F=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",xt,t],U=()=>[xt,t],X=()=>["",Eo,Ts],j=()=>["auto",Ec,xt],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",xt],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Ec,xt];return{cacheSize:500,separator:":",theme:{colors:[fd],spacing:[Eo,Ts],blur:["none","",As,xt],brightness:H(),borderColor:[e],borderRadius:["none","","full",As,xt],borderSpacing:U(),borderWidth:X(),contrast:H(),grayscale:ee(),hueRotate:H(),invert:ee(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[GF,Ts],inset:J(),margin:J(),opacity:H(),padding:U(),saturate:H(),scale:H(),sepia:ee(),skew:H(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",xt]}],container:["container"],columns:[{columns:[As]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),xt]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dd,xt]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xt]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",dd,xt]}],"grid-cols":[{"grid-cols":[fd]}],"col-start-end":[{col:["auto",{span:["full",dd,xt]},xt]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[fd]}],"row-start-end":[{row:["auto",{span:[dd,xt]},xt]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xt]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[Z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xt,t]}],"min-w":[{"min-w":[xt,t,"min","max","fit"]}],"max-w":[{"max-w":[xt,t,"none","full","min","max","fit","prose",{screen:[As]},As]}],h:[{h:[xt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",As,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ay]}],"font-family":[{font:[fd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xt]}],"line-clamp":[{"line-clamp":["none",Ec,Ay]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Eo,xt]}],"list-image":[{"list-image":["none",xt]}],"list-style-type":[{list:["none","disc","decimal",xt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Eo,Ts]}],"underline-offset":[{"underline-offset":["auto",Eo,xt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),QF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eU]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[Eo,xt]}],"outline-w":[{outline:[Eo,Ts]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[Eo,Ts]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",As,tU]}],"shadow-color":[{shadow:[fd]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",As,xt]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[g]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xt]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",xt]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",xt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[dd,xt]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Eo,Ts,Ay]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sU=UF(oU);function We(...e){return sU(rN(e))}const aU=eF,gN=C.forwardRef(({className:e,...t},n)=>m.jsx(YC,{ref:n,className:We("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));gN.displayName=YC.displayName;const lU=sf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yN=C.forwardRef(({className:e,variant:t,...n},r)=>m.jsx(JC,{ref:r,className:We(lU({variant:t}),e),...n}));yN.displayName=JC.displayName;const cU=C.forwardRef(({className:e,...t},n)=>m.jsx(eN,{ref:n,className:We("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));cU.displayName=eN.displayName;const vN=C.forwardRef(({className:e,...t},n)=>m.jsx(tN,{ref:n,className:We("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:m.jsx(uN,{className:"h-4 w-4"})}));vN.displayName=tN.displayName;const wN=C.forwardRef(({className:e,...t},n)=>m.jsx(QC,{ref:n,className:We("text-sm font-semibold",e),...t}));wN.displayName=QC.displayName;const _N=C.forwardRef(({className:e,...t},n)=>m.jsx(XC,{ref:n,className:We("text-sm opacity-90",e),...t}));_N.displayName=XC.displayName;function uU(){const{toasts:e}=tu();return m.jsxs(aU,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return m.jsxs(yN,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(wN,{children:n}),r&&m.jsx(_N,{children:r})]}),i,m.jsx(vN,{})]},t)}),m.jsx(gN,{})]})}var dU=D0[" useId ".trim().toString()]||(()=>{}),fU=0;function Xr(e){const[t,n]=C.useState(dU());return un(()=>{n(r=>r??String(fU++))},[e]),t?`radix-${t}`:""}const hU=["top","right","bottom","left"],ra=Math.min,Tr=Math.max,_p=Math.round,Hh=Math.floor,Ji=e=>({x:e,y:e}),pU={left:"right",right:"left",bottom:"top",top:"bottom"},mU={start:"end",end:"start"};function d0(e,t,n){return Tr(e,ra(t,n))}function Fo(e,t){return typeof e=="function"?e(t):e}function Uo(e){return e.split("-")[0]}function ou(e){return e.split("-")[1]}function Dw(e){return e==="x"?"y":"x"}function Bw(e){return e==="y"?"height":"width"}function Mo(e){return["top","bottom"].includes(Uo(e))?"y":"x"}function Fw(e){return Dw(Mo(e))}function gU(e,t,n){n===void 0&&(n=!1);const r=ou(e),i=Fw(e),s=Bw(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=xp(l)),[l,xp(l)]}function yU(e){const t=xp(e);return[f0(e),t,f0(t)]}function f0(e){return e.replace(/start|end/g,t=>mU[t])}function vU(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:l;default:return[]}}function wU(e,t,n,r){const i=ou(e);let s=vU(Uo(e),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(f0)))),s}function xp(e){return e.replace(/left|right|bottom|top/g,t=>pU[t])}function _U(e){return{top:0,right:0,bottom:0,left:0,...e}}function xN(e){return typeof e!="number"?_U(e):{top:e,right:e,bottom:e,left:e}}function bp(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function $b(e,t,n){let{reference:r,floating:i}=e;const s=Mo(t),l=Fw(t),u=Bw(l),d=Uo(t),p=s==="y",y=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[u]/2-i[u]/2;let _;switch(d){case"top":_={x:y,y:r.y-i.height};break;case"bottom":_={x:y,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:g};break;case"left":_={x:r.x-i.width,y:g};break;default:_={x:r.x,y:r.y}}switch(ou(t)){case"start":_[l]-=b*(n&&p?-1:1);break;case"end":_[l]+=b*(n&&p?-1:1);break}return _}const xU=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,u=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let p=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:y,y:g}=$b(p,r,d),b=r,_={},S=0;for(let v=0;v<u.length;v++){const{name:E,fn:k}=u[v],{x:A,y:T,data:z,reset:D}=await k({x:y,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:_,rects:p,platform:l,elements:{reference:e,floating:t}});y=A??y,g=T??g,_={..._,[E]:{..._[E],...z}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(p=D.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:y,y:g}=$b(p,b,d)),v=-1)}return{x:y,y:g,placement:b,strategy:i,middlewareData:_}};async function Ld(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:l,elements:u,strategy:d}=e,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:b=!1,padding:_=0}=Fo(t,e),S=xN(_),E=u[b?g==="floating"?"reference":"floating":g],k=bp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:p,rootBoundary:y,strategy:d})),A=g==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),z=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},D=bp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:T,strategy:d}):A);return{top:(k.top-D.top+S.top)/z.y,bottom:(D.bottom-k.bottom+S.bottom)/z.y,left:(k.left-D.left+S.left)/z.x,right:(D.right-k.right+S.right)/z.x}}const bU=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:l,elements:u,middlewareData:d}=t,{element:p,padding:y=0}=Fo(e,t)||{};if(p==null)return{};const g=xN(y),b={x:n,y:r},_=Fw(i),S=Bw(_),v=await l.getDimensions(p),E=_==="y",k=E?"top":"left",A=E?"bottom":"right",T=E?"clientHeight":"clientWidth",z=s.reference[S]+s.reference[_]-b[_]-s.floating[S],D=b[_]-s.reference[_],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let Z=$?$[T]:0;(!Z||!await(l.isElement==null?void 0:l.isElement($)))&&(Z=u.floating[T]||s.floating[S]);const q=z/2-D/2,F=Z/2-v[S]/2-1,W=ra(g[k],F),J=ra(g[A],F),U=W,X=Z-v[S]-J,j=Z/2-v[S]/2+q,K=d0(U,j,X),se=!d.arrow&&ou(i)!=null&&j!==K&&s.reference[S]/2-(j<U?W:J)-v[S]/2<0,ie=se?j<U?j-U:j-X:0;return{[_]:b[_]+ie,data:{[_]:K,centerOffset:j-K-ie,...se&&{alignmentOffset:ie}},reset:se}}}),EU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:u,platform:d,elements:p}=t,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...E}=Fo(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const k=Uo(i),A=Mo(u),T=Uo(u)===u,z=await(d.isRTL==null?void 0:d.isRTL(p.floating)),D=b||(T||!v?[xp(u)]:yU(u)),$=S!=="none";!b&&$&&D.push(...wU(u,v,S,z));const Z=[u,...D],q=await Ld(t,E),F=[];let W=((r=s.flip)==null?void 0:r.overflows)||[];if(y&&F.push(q[k]),g){const K=gU(i,l,z);F.push(q[K[0]],q[K[1]])}if(W=[...W,{placement:i,overflows:F}],!F.every(K=>K<=0)){var J,U;const K=(((J=s.flip)==null?void 0:J.index)||0)+1,se=Z[K];if(se){var X;const te=g==="alignment"?A!==Mo(se):!1,ee=((X=W[0])==null?void 0:X.overflows[0])>0;if(!te||ee)return{data:{index:K,overflows:W},reset:{placement:se}}}let ie=(U=W.filter(te=>te.overflows[0]<=0).sort((te,ee)=>te.overflows[1]-ee.overflows[1])[0])==null?void 0:U.placement;if(!ie)switch(_){case"bestFit":{var j;const te=(j=W.filter(ee=>{if($){const le=Mo(ee.placement);return le===A||le==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(le=>le>0).reduce((le,H)=>le+H,0)]).sort((ee,le)=>ee[1]-le[1])[0])==null?void 0:j[0];te&&(ie=te);break}case"initialPlacement":ie=u;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function Hb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Zb(e){return hU.some(t=>e[t]>=0)}const SU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Fo(e,t);switch(r){case"referenceHidden":{const s=await Ld(t,{...i,elementContext:"reference"}),l=Hb(s,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Zb(l)}}}case"escaped":{const s=await Ld(t,{...i,altBoundary:!0}),l=Hb(s,n.floating);return{data:{escapedOffsets:l,escaped:Zb(l)}}}default:return{}}}}};async function kU(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Uo(n),u=ou(n),d=Mo(n)==="y",p=["left","top"].includes(l)?-1:1,y=s&&d?-1:1,g=Fo(t,e);let{mainAxis:b,crossAxis:_,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(_=u==="end"?S*-1:S),d?{x:_*y,y:b*p}:{x:b*p,y:_*y}}const CU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:l,middlewareData:u}=t,d=await kU(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}},NU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:u={fn:E=>{let{x:k,y:A}=E;return{x:k,y:A}}},...d}=Fo(e,t),p={x:n,y:r},y=await Ld(t,d),g=Mo(Uo(i)),b=Dw(g);let _=p[b],S=p[g];if(s){const E=b==="y"?"top":"left",k=b==="y"?"bottom":"right",A=_+y[E],T=_-y[k];_=d0(A,_,T)}if(l){const E=g==="y"?"top":"left",k=g==="y"?"bottom":"right",A=S+y[E],T=S-y[k];S=d0(A,S,T)}const v=u.fn({...t,[b]:_,[g]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[b]:s,[g]:l}}}}}},PU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:p=!0}=Fo(e,t),y={x:n,y:r},g=Mo(i),b=Dw(g);let _=y[b],S=y[g];const v=Fo(u,t),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const T=b==="y"?"height":"width",z=s.reference[b]-s.floating[T]+E.mainAxis,D=s.reference[b]+s.reference[T]-E.mainAxis;_<z?_=z:_>D&&(_=D)}if(p){var k,A;const T=b==="y"?"width":"height",z=["top","left"].includes(Uo(i)),D=s.reference[g]-s.floating[T]+(z&&((k=l.offset)==null?void 0:k[g])||0)+(z?0:E.crossAxis),$=s.reference[g]+s.reference[T]+(z?0:((A=l.offset)==null?void 0:A[g])||0)-(z?E.crossAxis:0);S<D?S=D:S>$&&(S=$)}return{[b]:_,[g]:S}}}},TU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:l,elements:u}=t,{apply:d=()=>{},...p}=Fo(e,t),y=await Ld(t,p),g=Uo(i),b=ou(i),_=Mo(i)==="y",{width:S,height:v}=s.floating;let E,k;g==="top"||g==="bottom"?(E=g,k=b===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(k=g,E=b==="end"?"top":"bottom");const A=v-y.top-y.bottom,T=S-y.left-y.right,z=ra(v-y[E],A),D=ra(S-y[k],T),$=!t.middlewareData.shift;let Z=z,q=D;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(q=T),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(Z=A),$&&!b){const W=Tr(y.left,0),J=Tr(y.right,0),U=Tr(y.top,0),X=Tr(y.bottom,0);_?q=S-2*(W!==0||J!==0?W+J:Tr(y.left,y.right)):Z=v-2*(U!==0||X!==0?U+X:Tr(y.top,y.bottom))}await d({...t,availableWidth:q,availableHeight:Z});const F=await l.getDimensions(u.floating);return S!==F.width||v!==F.height?{reset:{rects:!0}}:{}}}};function am(){return typeof window<"u"}function su(e){return bN(e)?(e.nodeName||"").toLowerCase():"#document"}function Ir(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xi(e){var t;return(t=(bN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bN(e){return am()?e instanceof Node||e instanceof Ir(e).Node:!1}function bi(e){return am()?e instanceof Element||e instanceof Ir(e).Element:!1}function Qi(e){return am()?e instanceof HTMLElement||e instanceof Ir(e).HTMLElement:!1}function Wb(e){return!am()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ir(e).ShadowRoot}function af(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ei(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function AU(e){return["table","td","th"].includes(su(e))}function lm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Uw(e){const t=$w(),n=bi(e)?Ei(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function RU(e){let t=ia(e);for(;Qi(t)&&!qc(t);){if(Uw(t))return t;if(lm(t))return null;t=ia(t)}return null}function $w(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qc(e){return["html","body","#document"].includes(su(e))}function Ei(e){return Ir(e).getComputedStyle(e)}function cm(e){return bi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ia(e){if(su(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Wb(e)&&e.host||Xi(e);return Wb(t)?t.host:t}function EN(e){const t=ia(e);return qc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qi(t)&&af(t)?t:EN(t)}function Od(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=EN(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),l=Ir(i);if(s){const u=h0(l);return t.concat(l,l.visualViewport||[],af(i)?i:[],u&&n?Od(u):[])}return t.concat(i,Od(i,[],n))}function h0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function SN(e){const t=Ei(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Qi(e),s=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=_p(n)!==s||_p(r)!==l;return u&&(n=s,r=l),{width:n,height:r,$:u}}function Hw(e){return bi(e)?e:e.contextElement}function Sc(e){const t=Hw(e);if(!Qi(t))return Ji(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=SN(t);let l=(s?_p(n.width):n.width)/r,u=(s?_p(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const IU=Ji(0);function kN(e){const t=Ir(e);return!$w()||!t.visualViewport?IU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jU(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ir(e)?!1:t}function cl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Hw(e);let l=Ji(1);t&&(r?bi(r)&&(l=Sc(r)):l=Sc(e));const u=jU(s,n,r)?kN(s):Ji(0);let d=(i.left+u.x)/l.x,p=(i.top+u.y)/l.y,y=i.width/l.x,g=i.height/l.y;if(s){const b=Ir(s),_=r&&bi(r)?Ir(r):r;let S=b,v=h0(S);for(;v&&r&&_!==S;){const E=Sc(v),k=v.getBoundingClientRect(),A=Ei(v),T=k.left+(v.clientLeft+parseFloat(A.paddingLeft))*E.x,z=k.top+(v.clientTop+parseFloat(A.paddingTop))*E.y;d*=E.x,p*=E.y,y*=E.x,g*=E.y,d+=T,p+=z,S=Ir(v),v=h0(S)}}return bp({width:y,height:g,x:d,y:p})}function Zw(e,t){const n=cm(e).scrollLeft;return t?t.left+n:cl(Xi(e)).left+n}function CN(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:Zw(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function LU(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",l=Xi(r),u=t?lm(t.floating):!1;if(r===l||u&&s)return n;let d={scrollLeft:0,scrollTop:0},p=Ji(1);const y=Ji(0),g=Qi(r);if((g||!g&&!s)&&((su(r)!=="body"||af(l))&&(d=cm(r)),Qi(r))){const _=cl(r);p=Sc(r),y.x=_.x+r.clientLeft,y.y=_.y+r.clientTop}const b=l&&!g&&!s?CN(l,d,!0):Ji(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-d.scrollLeft*p.x+y.x+b.x,y:n.y*p.y-d.scrollTop*p.y+y.y+b.y}}function OU(e){return Array.from(e.getClientRects())}function MU(e){const t=Xi(e),n=cm(e),r=e.ownerDocument.body,i=Tr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Tr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Zw(e);const u=-n.scrollTop;return Ei(r).direction==="rtl"&&(l+=Tr(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:u}}function zU(e,t){const n=Ir(e),r=Xi(e),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,u=0,d=0;if(i){s=i.width,l=i.height;const p=$w();(!p||p&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:s,height:l,x:u,y:d}}function DU(e,t){const n=cl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Qi(e)?Sc(e):Ji(1),l=e.clientWidth*s.x,u=e.clientHeight*s.y,d=i*s.x,p=r*s.y;return{width:l,height:u,x:d,y:p}}function Vb(e,t,n){let r;if(t==="viewport")r=zU(e,n);else if(t==="document")r=MU(Xi(e));else if(bi(t))r=DU(t,n);else{const i=kN(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return bp(r)}function NN(e,t){const n=ia(e);return n===t||!bi(n)||qc(n)?!1:Ei(n).position==="fixed"||NN(n,t)}function BU(e,t){const n=t.get(e);if(n)return n;let r=Od(e,[],!1).filter(u=>bi(u)&&su(u)!=="body"),i=null;const s=Ei(e).position==="fixed";let l=s?ia(e):e;for(;bi(l)&&!qc(l);){const u=Ei(l),d=Uw(l);!d&&u.position==="fixed"&&(i=null),(s?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||af(l)&&!d&&NN(e,l))?r=r.filter(y=>y!==l):i=u,l=ia(l)}return t.set(e,r),r}function FU(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?lm(t)?[]:BU(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((p,y)=>{const g=Vb(t,y,i);return p.top=Tr(g.top,p.top),p.right=ra(g.right,p.right),p.bottom=ra(g.bottom,p.bottom),p.left=Tr(g.left,p.left),p},Vb(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function UU(e){const{width:t,height:n}=SN(e);return{width:t,height:n}}function $U(e,t,n){const r=Qi(t),i=Xi(t),s=n==="fixed",l=cl(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const d=Ji(0);function p(){d.x=Zw(i)}if(r||!r&&!s)if((su(t)!=="body"||af(i))&&(u=cm(t)),r){const _=cl(t,!0,s,t);d.x=_.x+t.clientLeft,d.y=_.y+t.clientTop}else i&&p();s&&!r&&i&&p();const y=i&&!r&&!s?CN(i,u):Ji(0),g=l.left+u.scrollLeft-d.x-y.x,b=l.top+u.scrollTop-d.y-y.y;return{x:g,y:b,width:l.width,height:l.height}}function Ry(e){return Ei(e).position==="static"}function qb(e,t){if(!Qi(e)||Ei(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xi(e)===n&&(n=n.ownerDocument.body),n}function PN(e,t){const n=Ir(e);if(lm(e))return n;if(!Qi(e)){let i=ia(e);for(;i&&!qc(i);){if(bi(i)&&!Ry(i))return i;i=ia(i)}return n}let r=qb(e,t);for(;r&&AU(r)&&Ry(r);)r=qb(r,t);return r&&qc(r)&&Ry(r)&&!Uw(r)?n:r||RU(e)||n}const HU=async function(e){const t=this.getOffsetParent||PN,n=this.getDimensions,r=await n(e.floating);return{reference:$U(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZU(e){return Ei(e).direction==="rtl"}const WU={convertOffsetParentRelativeRectToViewportRelativeRect:LU,getDocumentElement:Xi,getClippingRect:FU,getOffsetParent:PN,getElementRects:HU,getClientRects:OU,getDimensions:UU,getScale:Sc,isElement:bi,isRTL:ZU};function TN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function VU(e,t){let n=null,r;const i=Xi(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const p=e.getBoundingClientRect(),{left:y,top:g,width:b,height:_}=p;if(u||t(),!b||!_)return;const S=Hh(g),v=Hh(i.clientWidth-(y+b)),E=Hh(i.clientHeight-(g+_)),k=Hh(y),T={rootMargin:-S+"px "+-v+"px "+-E+"px "+-k+"px",threshold:Tr(0,ra(1,d))||1};let z=!0;function D($){const Z=$[0].intersectionRatio;if(Z!==d){if(!z)return l();Z?l(!1,Z):r=setTimeout(()=>{l(!1,1e-7)},1e3)}Z===1&&!TN(p,e.getBoundingClientRect())&&l(),z=!1}try{n=new IntersectionObserver(D,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,T)}n.observe(e)}return l(!0),s}function qU(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=Hw(e),y=i||s?[...p?Od(p):[],...Od(t)]:[];y.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),s&&k.addEventListener("resize",n)});const g=p&&u?VU(p,n):null;let b=-1,_=null;l&&(_=new ResizeObserver(k=>{let[A]=k;A&&A.target===p&&_&&(_.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var T;(T=_)==null||T.observe(t)})),n()}),p&&!d&&_.observe(p),_.observe(t));let S,v=d?cl(e):null;d&&E();function E(){const k=cl(e);v&&!TN(v,k)&&n(),v=k,S=requestAnimationFrame(E)}return n(),()=>{var k;y.forEach(A=>{i&&A.removeEventListener("scroll",n),s&&A.removeEventListener("resize",n)}),g==null||g(),(k=_)==null||k.disconnect(),_=null,d&&cancelAnimationFrame(S)}}const KU=CU,GU=NU,YU=EU,JU=TU,QU=SU,Kb=bU,XU=PU,e$=(e,t,n)=>{const r=new Map,i={platform:WU,...n},s={...i.platform,_c:r};return xU(e,t,{...i,platform:s})};var np=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Ep(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ep(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Ep(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function AN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gb(e,t){const n=AN(e);return Math.round(t*n)/n}function Iy(e){const t=C.useRef(e);return np(()=>{t.current=e}),t}function t$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:d,open:p}=e,[y,g]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,_]=C.useState(r);Ep(b,r)||_(r);const[S,v]=C.useState(null),[E,k]=C.useState(null),A=C.useCallback(te=>{te!==$.current&&($.current=te,v(te))},[]),T=C.useCallback(te=>{te!==Z.current&&(Z.current=te,k(te))},[]),z=s||S,D=l||E,$=C.useRef(null),Z=C.useRef(null),q=C.useRef(y),F=d!=null,W=Iy(d),J=Iy(i),U=Iy(p),X=C.useCallback(()=>{if(!$.current||!Z.current)return;const te={placement:t,strategy:n,middleware:b};J.current&&(te.platform=J.current),e$($.current,Z.current,te).then(ee=>{const le={...ee,isPositioned:U.current!==!1};j.current&&!Ep(q.current,le)&&(q.current=le,nu.flushSync(()=>{g(le)}))})},[b,t,n,J,U]);np(()=>{p===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,g(te=>({...te,isPositioned:!1})))},[p]);const j=C.useRef(!1);np(()=>(j.current=!0,()=>{j.current=!1}),[]),np(()=>{if(z&&($.current=z),D&&(Z.current=D),z&&D){if(W.current)return W.current(z,D,X);X()}},[z,D,X,W,F]);const K=C.useMemo(()=>({reference:$,floating:Z,setReference:A,setFloating:T}),[A,T]),se=C.useMemo(()=>({reference:z,floating:D}),[z,D]),ie=C.useMemo(()=>{const te={position:n,left:0,top:0};if(!se.floating)return te;const ee=Gb(se.floating,y.x),le=Gb(se.floating,y.y);return u?{...te,transform:"translate("+ee+"px, "+le+"px)",...AN(se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:le}},[n,u,se.floating,y.x,y.y]);return C.useMemo(()=>({...y,update:X,refs:K,elements:se,floatingStyles:ie}),[y,X,K,se,ie])}const n$=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Kb({element:r.current,padding:i}).fn(n):{}:r?Kb({element:r,padding:i}).fn(n):{}}}},r$=(e,t)=>({...KU(e),options:[e,t]}),i$=(e,t)=>({...GU(e),options:[e,t]}),o$=(e,t)=>({...XU(e),options:[e,t]}),s$=(e,t)=>({...YU(e),options:[e,t]}),a$=(e,t)=>({...JU(e),options:[e,t]}),l$=(e,t)=>({...QU(e),options:[e,t]}),c$=(e,t)=>({...n$(e),options:[e,t]});var u$="Arrow",RN=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return m.jsx(Ge.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});RN.displayName=u$;var d$=RN;function um(e){const[t,n]=C.useState(void 0);return un(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,u;if("borderBoxSize"in s){const d=s.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,u=p.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Ww="Popper",[IN,au]=Nn(Ww),[f$,jN]=IN(Ww),LN=e=>{const{__scopePopper:t,children:n}=e,[r,i]=C.useState(null);return m.jsx(f$,{scope:t,anchor:r,onAnchorChange:i,children:n})};LN.displayName=Ww;var ON="PopperAnchor",MN=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=jN(ON,n),l=C.useRef(null),u=ft(t,l);return C.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:m.jsx(Ge.div,{...i,ref:u})});MN.displayName=ON;var Vw="PopperContent",[h$,p$]=IN(Vw),zN=C.forwardRef((e,t)=>{var Pe,Te,Oe,He,Qe,ot;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:S,...v}=e,E=jN(Vw,n),[k,A]=C.useState(null),T=ft(t,at=>A(at)),[z,D]=C.useState(null),$=um(z),Z=($==null?void 0:$.width)??0,q=($==null?void 0:$.height)??0,F=r+(s!=="center"?"-"+s:""),W=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},J=Array.isArray(p)?p:[p],U=J.length>0,X={padding:W,boundary:J.filter(g$),altBoundary:U},{refs:j,floatingStyles:K,placement:se,isPositioned:ie,middlewareData:te}=t$({strategy:"fixed",placement:F,whileElementsMounted:(...at)=>qU(...at,{animationFrame:_==="always"}),elements:{reference:E.anchor},middleware:[r$({mainAxis:i+q,alignmentAxis:l}),d&&i$({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?o$():void 0,...X}),d&&s$({...X}),a$({...X,apply:({elements:at,rects:B,availableWidth:Ne,availableHeight:be})=>{const{width:oe,height:re}=B.reference,pe=at.floating.style;pe.setProperty("--radix-popper-available-width",`${Ne}px`),pe.setProperty("--radix-popper-available-height",`${be}px`),pe.setProperty("--radix-popper-anchor-width",`${oe}px`),pe.setProperty("--radix-popper-anchor-height",`${re}px`)}}),z&&c$({element:z,padding:u}),y$({arrowWidth:Z,arrowHeight:q}),b&&l$({strategy:"referenceHidden",...X})]}),[ee,le]=FN(se),H=ln(S);un(()=>{ie&&(H==null||H())},[ie,H]);const Q=(Pe=te.arrow)==null?void 0:Pe.x,ke=(Te=te.arrow)==null?void 0:Te.y,_e=((Oe=te.arrow)==null?void 0:Oe.centerOffset)!==0,[ve,Ie]=C.useState();return un(()=>{k&&Ie(window.getComputedStyle(k).zIndex)},[k]),m.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:ie?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(He=te.transformOrigin)==null?void 0:He.x,(Qe=te.transformOrigin)==null?void 0:Qe.y].join(" "),...((ot=te.hide)==null?void 0:ot.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:m.jsx(h$,{scope:n,placedSide:ee,onArrowChange:D,arrowX:Q,arrowY:ke,shouldHideArrow:_e,children:m.jsx(Ge.div,{"data-side":ee,"data-align":le,...v,ref:T,style:{...v.style,animation:ie?void 0:"none"}})})})});zN.displayName=Vw;var DN="PopperArrow",m$={top:"bottom",right:"left",bottom:"top",left:"right"},BN=C.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=p$(DN,r),l=m$[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(d$,{...i,ref:n,style:{...i.style,display:"block"}})})});BN.displayName=DN;function g$(e){return e!==null}var y$=e=>({name:"transformOrigin",options:e,fn(t){var E,k,A;const{placement:n,rects:r,middlewareData:i}=t,l=((E=i.arrow)==null?void 0:E.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[p,y]=FN(n),g={start:"0%",center:"50%",end:"100%"}[y],b=(((k=i.arrow)==null?void 0:k.x)??0)+u/2,_=(((A=i.arrow)==null?void 0:A.y)??0)+d/2;let S="",v="";return p==="bottom"?(S=l?g:`${b}px`,v=`${-d}px`):p==="top"?(S=l?g:`${b}px`,v=`${r.floating.height+d}px`):p==="right"?(S=`${-d}px`,v=l?g:`${_}px`):p==="left"&&(S=`${r.floating.width+d}px`,v=l?g:`${_}px`),{data:{x:S,y:v}}}});function FN(e){const[t,n="center"]=e.split("-");return[t,n]}var qw=LN,Kw=MN,Gw=zN,Yw=BN,[dm,$K]=Nn("Tooltip",[au]),fm=au(),UN="TooltipProvider",v$=700,p0="tooltip.open",[w$,Jw]=dm(UN),$N=e=>{const{__scopeTooltip:t,delayDuration:n=v$,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,l=C.useRef(!0),u=C.useRef(!1),d=C.useRef(0);return C.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),m.jsx(w$,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:C.useCallback(p=>{u.current=p},[]),disableHoverableContent:i,children:s})};$N.displayName=UN;var Md="Tooltip",[_$,hm]=dm(Md),HN=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:l,delayDuration:u}=e,d=Jw(Md,e.__scopeTooltip),p=fm(t),[y,g]=C.useState(null),b=Xr(),_=C.useRef(0),S=l??d.disableHoverableContent,v=u??d.delayDuration,E=C.useRef(!1),[k,A]=ti({prop:r,defaultProp:i??!1,onChange:Z=>{Z?(d.onOpen(),document.dispatchEvent(new CustomEvent(p0))):d.onClose(),s==null||s(Z)},caller:Md}),T=C.useMemo(()=>k?E.current?"delayed-open":"instant-open":"closed",[k]),z=C.useCallback(()=>{window.clearTimeout(_.current),_.current=0,E.current=!1,A(!0)},[A]),D=C.useCallback(()=>{window.clearTimeout(_.current),_.current=0,A(!1)},[A]),$=C.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{E.current=!0,A(!0),_.current=0},v)},[v,A]);return C.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),m.jsx(qw,{...p,children:m.jsx(_$,{scope:t,contentId:b,open:k,stateAttribute:T,trigger:y,onTriggerChange:g,onTriggerEnter:C.useCallback(()=>{d.isOpenDelayedRef.current?$():z()},[d.isOpenDelayedRef,$,z]),onTriggerLeave:C.useCallback(()=>{S?D():(window.clearTimeout(_.current),_.current=0)},[D,S]),onOpen:z,onClose:D,disableHoverableContent:S,children:n})})};HN.displayName=Md;var m0="TooltipTrigger",ZN=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=hm(m0,n),s=Jw(m0,n),l=fm(n),u=C.useRef(null),d=ft(t,u,i.onTriggerChange),p=C.useRef(!1),y=C.useRef(!1),g=C.useCallback(()=>p.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),m.jsx(Kw,{asChild:!0,...l,children:m.jsx(Ge.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:Ue(e.onPointerMove,b=>{b.pointerType!=="touch"&&!y.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ue(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:Ue(e.onBlur,i.onClose),onClick:Ue(e.onClick,i.onClose)})})});ZN.displayName=m0;var x$="TooltipPortal",[HK,b$]=dm(x$,{forceMount:void 0}),Kc="TooltipContent",WN=C.forwardRef((e,t)=>{const n=b$(Kc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,l=hm(Kc,e.__scopeTooltip);return m.jsx(In,{present:r||l.open,children:l.disableHoverableContent?m.jsx(VN,{side:i,...s,ref:t}):m.jsx(E$,{side:i,...s,ref:t})})}),E$=C.forwardRef((e,t)=>{const n=hm(Kc,e.__scopeTooltip),r=Jw(Kc,e.__scopeTooltip),i=C.useRef(null),s=ft(t,i),[l,u]=C.useState(null),{trigger:d,onClose:p}=n,y=i.current,{onPointerInTransitChange:g}=r,b=C.useCallback(()=>{u(null),g(!1)},[g]),_=C.useCallback((S,v)=>{const E=S.currentTarget,k={x:S.clientX,y:S.clientY},A=P$(k,E.getBoundingClientRect()),T=T$(k,A),z=A$(v.getBoundingClientRect()),D=I$([...T,...z]);u(D),g(!0)},[g]);return C.useEffect(()=>()=>b(),[b]),C.useEffect(()=>{if(d&&y){const S=E=>_(E,y),v=E=>_(E,d);return d.addEventListener("pointerleave",S),y.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",S),y.removeEventListener("pointerleave",v)}}},[d,y,_,b]),C.useEffect(()=>{if(l){const S=v=>{const E=v.target,k={x:v.clientX,y:v.clientY},A=(d==null?void 0:d.contains(E))||(y==null?void 0:y.contains(E)),T=!R$(k,l);A?b():T&&(b(),p())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[d,y,l,p,b]),m.jsx(VN,{...e,ref:s})}),[S$,k$]=dm(Md,{isInside:!1}),C$=pB("TooltipContent"),VN=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:l,...u}=e,d=hm(Kc,n),p=fm(n),{onClose:y}=d;return C.useEffect(()=>(document.addEventListener(p0,y),()=>document.removeEventListener(p0,y)),[y]),C.useEffect(()=>{if(d.trigger){const g=b=>{const _=b.target;_!=null&&_.contains(d.trigger)&&y()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,y]),m.jsx(ru,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:y,children:m.jsxs(Gw,{"data-state":d.stateAttribute,...p,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(C$,{children:r}),m.jsx(S$,{scope:n,isInside:!0,children:m.jsx(MB,{id:d.contentId,role:"tooltip",children:i||r})})]})})});WN.displayName=Kc;var qN="TooltipArrow",N$=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=fm(n);return k$(qN,n).isInside?null:m.jsx(Yw,{...i,...r,ref:t})});N$.displayName=qN;function P$(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function T$(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function A$(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function R$(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s],d=t[l],p=u.x,y=u.y,g=d.x,b=d.y;y>r!=b>r&&n<(g-p)*(r-y)/(b-y)+p&&(i=!i)}return i}function I$(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),j$(t)}function j$(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],l=n[n.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var L$=$N,O$=HN,M$=ZN,KN=WN;const rl=L$,Za=O$,Wa=M$,Gs=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>m.jsx(KN,{ref:r,sideOffset:t,className:We("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Gs.displayName=KN.displayName;function g0(e,t,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,i=(n==null?void 0:n.deserialize)||JSON.parse,[s,l]=C.useState(()=>{try{const d=localStorage.getItem(e);return d?i(d):t}catch(d){return console.warn(`Failed to load ${e} from localStorage:`,d),t}}),u=d=>{try{const p=d instanceof Function?d(s):d;l(p),localStorage.setItem(e,r(p))}catch(p){console.warn(`Failed to save ${e} to localStorage:`,p)}};return C.useEffect(()=>{const d=p=>{if(p.key===e&&p.newValue!==null)try{l(i(p.newValue))}catch(y){console.warn(`Failed to sync ${e} from localStorage:`,y)}};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[e,i]),[s,u]}const z$=Oo({relays:wC(Oo({url:yd(),read:el(),write:el()})),updatedAt:ko()}),D$=Oo({theme:xC(["dark","light","system"]),relayMetadata:z$});function B$(e){const{children:t,storageKey:n,defaultConfig:r}=e,[i,s]=g0(n,{},{serialize:JSON.stringify,deserialize:p=>{const y=JSON.parse(p);return D$.partial().parse(y)}}),l=p=>{s(p)},u={...r,...i},d={config:u,updateConfig:l};return F$(u.theme),m.jsx(AC.Provider,{value:d,children:t})}function F$(e){C.useEffect(()=>{const t=window.document.documentElement;if(t.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(n);return}t.classList.add(e)},[e]),C.useEffect(()=>{if(e!=="system")return;const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{const r=window.document.documentElement;r.classList.remove("light","dark");const i=t.matches?"dark":"light";r.classList.add(i)};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[e])}var Yb,jy,U$=(Yb=function(e,t){function n(F){if(!Number.isSafeInteger(F))throw new Error(`Wrong integer: ${F}`)}function r(...F){const W=(J,U)=>X=>J(U(X));return{encode:Array.from(F).reverse().reduce((J,U)=>J?W(J,U.encode):U.encode,void 0),decode:F.reduce((J,U)=>J?W(J,U.decode):U.decode,void 0)}}function i(F){return{encode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return W.map(J=>{if(n(J),J<0||J>=F.length)throw new Error(`Digit index outside alphabet: ${J} (alphabet: ${F.length})`);return F[J]})},decode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="string")throw new Error("alphabet.decode input should be array of strings");return W.map(J=>{if(typeof J!="string")throw new Error(`alphabet.decode: not string element=${J}`);const U=F.indexOf(J);if(U===-1)throw new Error(`Unknown letter: "${J}". Allowed: ${F}`);return U})}}}function s(F=""){if(typeof F!="string")throw new Error("join separator should be string");return{encode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="string")throw new Error("join.encode input should be array of strings");for(let J of W)if(typeof J!="string")throw new Error(`join.encode: non-string input=${J}`);return W.join(F)},decode:W=>{if(typeof W!="string")throw new Error("join.decode input should be string");return W.split(F)}}}function l(F,W="="){if(n(F),typeof W!="string")throw new Error("padding chr should be string");return{encode(J){if(!Array.isArray(J)||J.length&&typeof J[0]!="string")throw new Error("padding.encode input should be array of strings");for(let U of J)if(typeof U!="string")throw new Error(`padding.encode: non-string input=${U}`);for(;J.length*F%8;)J.push(W);return J},decode(J){if(!Array.isArray(J)||J.length&&typeof J[0]!="string")throw new Error("padding.encode input should be array of strings");for(let X of J)if(typeof X!="string")throw new Error(`padding.decode: non-string input=${X}`);let U=J.length;if(U*F%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;U>0&&J[U-1]===W;U--)if(!((U-1)*F%8))throw new Error("Invalid padding: string has too much padding");return J.slice(0,U)}}}function u(F){if(typeof F!="function")throw new Error("normalize fn should be function");return{encode:W=>W,decode:W=>F(W)}}function d(F,W,J){if(W<2)throw new Error(`convertRadix: wrong from=${W}, base cannot be less than 2`);if(J<2)throw new Error(`convertRadix: wrong to=${J}, base cannot be less than 2`);if(!Array.isArray(F))throw new Error("convertRadix: data should be array");if(!F.length)return[];let U=0;const X=[],j=Array.from(F);for(j.forEach(K=>{if(n(K),K<0||K>=W)throw new Error(`Wrong integer: ${K}`)});;){let K=0,se=!0;for(let ie=U;ie<j.length;ie++){const te=j[ie],ee=W*K+te;if(!Number.isSafeInteger(ee)||W*K/W!==K||ee-te!=W*K)throw new Error("convertRadix: carry overflow");if(K=ee%J,j[ie]=Math.floor(ee/J),!Number.isSafeInteger(j[ie])||j[ie]*J+K!==ee)throw new Error("convertRadix: carry overflow");se&&(j[ie]?se=!1:U=ie)}if(X.push(K),se)break}for(let K=0;K<F.length-1&&F[K]===0;K++)X.push(0);return X.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const p=(F,W)=>W?p(W,F%W):F,y=(F,W)=>F+(W-p(F,W));function g(F,W,J,U){if(!Array.isArray(F))throw new Error("convertRadix2: data should be array");if(W<=0||W>32)throw new Error(`convertRadix2: wrong from=${W}`);if(J<=0||J>32)throw new Error(`convertRadix2: wrong to=${J}`);if(y(W,J)>32)throw new Error(`convertRadix2: carry overflow from=${W} to=${J} carryBits=${y(W,J)}`);let X=0,j=0;const K=2**J-1,se=[];for(const ie of F){if(n(ie),ie>=2**W)throw new Error(`convertRadix2: invalid data word=${ie} from=${W}`);if(X=X<<W|ie,j+W>32)throw new Error(`convertRadix2: carry overflow pos=${j} from=${W}`);for(j+=W;j>=J;j-=J)se.push((X>>j-J&K)>>>0);X&=2**j-1}if(X=X<<J-j&K,!U&&j>=W)throw new Error("Excess padding");if(!U&&X)throw new Error(`Non-zero padding: ${X}`);return U&&j>0&&se.push(X>>>0),se}function b(F){return n(F),{encode:W=>{if(!(W instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return d(Array.from(W),256,F)},decode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(d(W,F,256))}}}function _(F,W=!1){if(n(F),F<=0||F>32)throw new Error("radix2: bits should be in (0..32]");if(y(8,F)>32||y(F,8)>32)throw new Error("radix2: carry overflow");return{encode:J=>{if(!(J instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return g(Array.from(J),8,F,!W)},decode:J=>{if(!Array.isArray(J)||J.length&&typeof J[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(g(J,F,8,W))}}}function S(F){if(typeof F!="function")throw new Error("unsafeWrapper fn should be function");return function(...W){try{return F.apply(null,W)}catch{}}}function v(F,W){if(n(F),typeof W!="function")throw new Error("checksum fn should be function");return{encode(J){if(!(J instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const U=W(J).slice(0,F),X=new Uint8Array(J.length+F);return X.set(J),X.set(U,J.length),X},decode(J){if(!(J instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const U=J.slice(0,-F),X=W(U).slice(0,F),j=J.slice(-F);for(let K=0;K<F;K++)if(X[K]!==j[K])throw new Error("Invalid checksum");return U}}}t.utils={alphabet:i,chain:r,checksum:v,radix:b,radix2:_,join:s,padding:l},t.base16=r(_(4),i("0123456789ABCDEF"),s("")),t.base32=r(_(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),l(5),s("")),t.base32hex=r(_(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),l(5),s("")),t.base32crockford=r(_(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s(""),u(F=>F.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=r(_(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),l(6),s("")),t.base64url=r(_(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),l(6),s(""));const E=F=>r(b(58),i(F),s(""));t.base58=E("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=E("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=E("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const k=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(F){let W="";for(let J=0;J<F.length;J+=8){const U=F.subarray(J,J+8);W+=t.base58.encode(U).padStart(k[U.length],"1")}return W},decode(F){let W=[];for(let J=0;J<F.length;J+=11){const U=F.slice(J,J+11),X=k.indexOf(U.length),j=t.base58.decode(U);for(let K=0;K<j.length-X;K++)if(j[K]!==0)throw new Error("base58xmr: wrong padding");W=W.concat(Array.from(j.slice(j.length-X)))}return Uint8Array.from(W)}},t.base58check=F=>r(v(4,W=>F(F(W))),t.base58);const A=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s("")),T=[996825010,642813549,513874426,1027748829,705979059];function z(F){const W=F>>25;let J=(33554431&F)<<5;for(let U=0;U<T.length;U++)(W>>U&1)==1&&(J^=T[U]);return J}function D(F,W,J=1){const U=F.length;let X=1;for(let j=0;j<U;j++){const K=F.charCodeAt(j);if(K<33||K>126)throw new Error(`Invalid prefix (${F})`);X=z(X)^K>>5}X=z(X);for(let j=0;j<U;j++)X=z(X)^31&F.charCodeAt(j);for(let j of W)X=z(X)^j;for(let j=0;j<6;j++)X=z(X);return X^=J,A.encode(g([X%2**30],30,5,!1))}function $(F){const W=F==="bech32"?1:734539939,J=_(5),U=J.decode,X=J.encode,j=S(U);function K(se,ie=90){if(typeof se!="string")throw new Error("bech32.decode input should be string, not "+typeof se);if(se.length<8||ie!==!1&&se.length>ie)throw new TypeError(`Wrong string length: ${se.length} (${se}). Expected (8..${ie})`);const te=se.toLowerCase();if(se!==te&&se!==se.toUpperCase())throw new Error("String must be lowercase or uppercase");const ee=(se=te).lastIndexOf("1");if(ee===0||ee===-1)throw new Error('Letter "1" must be present between prefix and data only');const le=se.slice(0,ee),H=se.slice(ee+1);if(H.length<6)throw new Error("Data must be at least 6 characters long");const Q=A.decode(H).slice(0,-6),ke=D(le,Q,W);if(!H.endsWith(ke))throw new Error(`Invalid checksum in ${se}: expected "${ke}"`);return{prefix:le,words:Q}}return{encode:function(se,ie,te=90){if(typeof se!="string")throw new Error("bech32.encode prefix should be string, not "+typeof se);if(!Array.isArray(ie)||ie.length&&typeof ie[0]!="number")throw new Error("bech32.encode words should be array of numbers, not "+typeof ie);const ee=se.length+7+ie.length;if(te!==!1&&ee>te)throw new TypeError(`Length ${ee} exceeds limit ${te}`);return`${se=se.toLowerCase()}1${A.encode(ie)}${D(se,ie,W)}`},decode:K,decodeToBytes:function(se){const{prefix:ie,words:te}=K(se,!1);return{prefix:ie,words:te,bytes:U(te)}},decodeUnsafe:S(K),fromWords:U,fromWordsUnsafe:j,toWords:X}}t.bech32=$("bech32"),t.bech32m=$("bech32m"),t.utf8={encode:F=>new TextDecoder().decode(F),decode:F=>new TextEncoder().encode(F)},t.hex=r(_(4),i("0123456789abcdef"),s(""),u(F=>{if(typeof F!="string"||F.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof F} with length ${F.length}`);return F.toLowerCase()}));const Z={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},q=`Invalid encoding type. Available types: ${Object.keys(Z).join(", ")}`;t.bytesToString=(F,W)=>{if(typeof F!="string"||!Z.hasOwnProperty(F))throw new TypeError(q);if(!(W instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return Z[F].encode(W)},t.str=t.bytesToString,t.stringToBytes=(F,W)=>{if(!Z.hasOwnProperty(F))throw new TypeError(q);if(typeof W!="string")throw new TypeError("stringToBytes() expects string");return Z[F].decode(W)},t.bytes=t.stringToBytes},Yb(jy={exports:{}},jy.exports),jy.exports);const{bech32:Hi,hex:gi,utf8:$$}=U$,Jb={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},Qb={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Xb={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},e2={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},t2={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},Zh=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],H$={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},Z$=BigInt("2100000000000000000"),n2=BigInt(1e11),y0={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},GN={};for(let e=0,t=Object.keys(y0);e<t.length;e++){const n=t[e],r=y0[t[e]].toString();GN[r]=n}const W$={1:e=>gi.encode(Hi.fromWordsUnsafe(e)),16:e=>gi.encode(Hi.fromWordsUnsafe(e)),13:e=>$$.encode(Hi.fromWordsUnsafe(e)),19:e=>gi.encode(Hi.fromWordsUnsafe(e)),23:e=>gi.encode(Hi.fromWordsUnsafe(e)),27:e=>gi.encode(Hi.fromWordsUnsafe(e)),6:Sp,24:Sp,3:function(e){const t=[];let n,r,i,s,l,u=Hi.fromWordsUnsafe(e);for(;u.length>0;)n=gi.encode(u.slice(0,33)),r=gi.encode(u.slice(33,41)),i=parseInt(gi.encode(u.slice(41,45)),16),s=parseInt(gi.encode(u.slice(45,49)),16),l=parseInt(gi.encode(u.slice(49,51)),16),u=u.slice(51),t.push({pubkey:n,short_channel_id:r,fee_base_msat:i,fee_proportional_millionths:s,cltv_expiry_delta:l});return t},5:function(e){const t=e.slice().reverse().map(i=>[!!(1&i),!!(2&i),!!(4&i),!!(8&i),!!(16&i)]).reduce((i,s)=>i.concat(s),[]);for(;t.length<2*Zh.length;)t.push(!1);const n={};Zh.forEach((i,s)=>{let l;l=t[2*s]?"required":t[2*s+1]?"supported":"unsupported",n[i]=l});const r=t.slice(2*Zh.length);return n.extra_bits={start_bit:2*Zh.length,bits:r,has_required:r.reduce((i,s,l)=>l%2!=0?i||!1:i||s,!1)},n}};function V$(e){return t=>({tagCode:parseInt(e),words:Hi.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function Sp(e){return e.reverse().reduce((t,n,r)=>t+n*Math.pow(32,r),0)}const q$=e=>Uint8Array.from(e.match(/.{1,2}/g).map(t=>parseInt(t,16))),K$=e=>{if(!e)return null;try{const t=function(g,b){if(typeof g!="string")throw new Error("Lightning Payment Request must be string");if(g.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const _=[],S=Hi.decode(g,Number.MAX_SAFE_INTEGER);g=g.toLowerCase();const v=S.prefix;let E=S.words,k=g.slice(v.length+1),A=E.slice(-104);E=E.slice(0,-104);let T=v.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(T&&!T[2]&&(T=v.match(/^ln(\S+)$/)),!T)throw new Error("Not a proper lightning payment request");_.push({name:"lightning_network",letters:"ln"});const z=T[1];let D;switch(z){case Jb.bech32:D=Jb;break;case Qb.bech32:D=Qb;break;case Xb.bech32:D=Xb;break;case e2.bech32:D=e2;break;case t2.bech32:D=t2}if(!D||D.bech32!==z)throw new Error("Unknown coin bech32 prefix");_.push({name:"coin_network",letters:z,value:D});const $=T[2];let Z;$?(Z=function(K,se){let ie,te;if(K.slice(-1).match(/^[munp]$/))ie=K.slice(-1),te=K.slice(0,-1);else{if(K.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");te=K}if(!te.match(/^\d+$/))throw new Error("Not a valid human readable amount");const ee=BigInt(te),le=ie?ee*n2/H$[ie]:ee*n2;if(ie==="p"&&ee%BigInt(10)!==BigInt(0)||le>Z$)throw new Error("Amount is outside of valid range");return le.toString()}($+T[3]),_.push({name:"amount",letters:T[2]+T[3],value:Z})):Z=null,_.push({name:"separator",letters:"1"});const q=Sp(E.slice(0,7));let F,W,J,U;for(E=E.slice(7),_.push({name:"timestamp",letters:k.slice(0,7),value:q}),k=k.slice(7);E.length>0;){const K=E[0].toString();F=GN[K]||"unknown_tag",W=W$[K]||V$(K),E=E.slice(1),J=Sp(E.slice(0,2)),E=E.slice(2),U=E.slice(0,J),E=E.slice(J),_.push({name:F,tag:k[0],letters:k.slice(0,3+J),value:W(U)}),k=k.slice(3+J)}_.push({name:"signature",letters:k.slice(0,104),value:gi.encode(Hi.fromWordsUnsafe(A))}),k=k.slice(104),_.push({name:"checksum",letters:k});let X={paymentRequest:g,sections:_,get expiry(){let K=_.find(se=>se.name==="expiry");if(K)return j("timestamp")+K.value},get route_hints(){return _.filter(K=>K.name==="route_hint").map(K=>K.value)}};for(let K in y0)K!=="route_hint"&&Object.defineProperty(X,K,{get:()=>j(K)});return X;function j(K){let se=_.find(ie=>ie.name===K);return se?se.value:void 0}}(e);if(!t||!t.sections)return null;const n=t.sections.find(g=>g.name==="payment_hash");if((n==null?void 0:n.name)!=="payment_hash"||!n.value)return null;const r=n.value;let i=0;const s=t.sections.find(g=>g.name==="amount");(s==null?void 0:s.name)==="amount"&&s.value&&(i=parseInt(s.value)/1e3);const l=t.sections.find(g=>g.name==="timestamp");if((l==null?void 0:l.name)!=="timestamp"||!l.value)return null;const u=l.value;let d;const p=t.sections.find(g=>g.name==="expiry");(p==null?void 0:p.name)==="expiry"&&(d=p.value);const y=t.sections.find(g=>g.name==="description");return{paymentHash:r,satoshi:i,timestamp:u,expiry:d,description:(y==null?void 0:y.name)==="description"?y==null?void 0:y.value:void 0}}catch{return null}};function r2(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const YN=e=>e instanceof Uint8Array,Ly=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Bi=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const G$=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function kp(e){if(!YN(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=G$[e[n]];return t}function JN(e){if(typeof e=="string"&&(e=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(e)),!YN(e))throw new Error("expected Uint8Array, got "+typeof e);return e}let Y$=class{clone(){return this._cloneInto()}};function J$(e){const t=r=>e().update(JN(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class Q$ extends Y${constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ly(this.buffer)}update(t){r2(this);const{view:n,buffer:r,blockLen:i}=this,s=(t=JN(t)).length;for(let l=0;l<s;){const u=Math.min(i-this.pos,s-l);if(u!==i)r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(n,0),this.pos=0);else{const d=Ly(t);for(;i<=s-l;l+=i)this.process(d,l)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){r2(this),function(g,b){(function(S,...v){if(!(S instanceof Uint8Array))throw new Error("Expected Uint8Array");if(v.length>0&&!v.includes(S.length))throw new Error(`Expected Uint8Array of length ${v}, not of length=${S.length}`)})(g);const _=b.outputLen;if(g.length<_)throw new Error(`digestInto() expects output buffer of length at least ${_}`)}(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let g=l;g<i;g++)n[g]=0;(function(g,b,_,S){if(typeof g.setBigUint64=="function")return g.setBigUint64(b,_,S);const v=BigInt(32),E=BigInt(4294967295),k=Number(_>>v&E),A=Number(_&E),T=S?0:4;g.setUint32(b+(S?4:0),k,S),g.setUint32(b+T,A,S)})(r,i-8,BigInt(8*this.length),s),this.process(r,0);const u=Ly(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,y=this.get();if(p>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<p;g++)u.setUint32(4*g,y[g],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:u}=this;return t.length=i,t.pos=u,t.finished=s,t.destroyed=l,i%n&&t.buffer.set(r),t}}const X$=(e,t,n)=>e&t^e&n^t&n,e7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Is=new Uint32Array(64);let t7=class extends Q${constructor(){super(64,32,8,!1),this.A=0|Rs[0],this.B=0|Rs[1],this.C=0|Rs[2],this.D=0|Rs[3],this.E=0|Rs[4],this.F=0|Rs[5],this.G=0|Rs[6],this.H=0|Rs[7]}get(){const{A:t,B:n,C:r,D:i,E:s,F:l,G:u,H:d}=this;return[t,n,r,i,s,l,u,d]}set(t,n,r,i,s,l,u,d){this.A=0|t,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|s,this.F=0|l,this.G=0|u,this.H=0|d}process(t,n){for(let b=0;b<16;b++,n+=4)Is[b]=t.getUint32(n,!1);for(let b=16;b<64;b++){const _=Is[b-15],S=Is[b-2],v=Bi(_,7)^Bi(_,18)^_>>>3,E=Bi(S,17)^Bi(S,19)^S>>>10;Is[b]=E+Is[b-7]+v+Is[b-16]|0}let{A:r,B:i,C:s,D:l,E:u,F:d,G:p,H:y}=this;for(let b=0;b<64;b++){const _=y+(Bi(u,6)^Bi(u,11)^Bi(u,25))+((g=u)&d^~g&p)+e7[b]+Is[b]|0,S=(Bi(r,2)^Bi(r,13)^Bi(r,22))+X$(r,i,s)|0;y=p,p=d,d=u,u=l+_|0,l=s,s=i,i=r,r=_+S|0}var g;r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,y=y+this.H|0,this.set(r,i,s,l,u,d,p,y)}roundClean(){Is.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Cp=J$(()=>new t7);let Qw=class{constructor(t){var n,r,i,s;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=t.pr,!this.paymentRequest)throw new Error("Invalid payment request");const l=K$(this.paymentRequest);if(!l)throw new Error("Failed to decode payment request");this.paymentHash=l.paymentHash,this.satoshi=l.satoshi,this.timestamp=l.timestamp,this.expiry=l.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=(n=l.description)!=null?n:null,this.verify=(r=t.verify)!=null?r:null,this.preimage=(i=t.preimage)!=null?i:null,this.successAction=(s=t.successAction)!=null?s:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(t){if(!t||!this.paymentHash)return!1;try{const n=kp(Cp(q$(t)));return this.paymentHash===n}catch{return!1}}async verifyPayment(){try{if(!this.verify)throw new Error("LNURL verify not available");const t=await fetch(this.verify);if(!t.ok)throw new Error(`Verification request failed: ${t.status} ${t.statusText}`);const n=await t.json();return n.preimage&&(this.preimage=n.preimage),n.settled}catch(t){return console.error("Failed to check LNURL-verify",t),!1}}hasExpired(){const{expiryDate:t}=this;return!!t&&t.getTime()<Date.now()}};const n7=e=>{if(e.tag!=="keysend")throw new Error("Invalid keysend params");if(e.status!=="OK")throw new Error("Keysend status not OK");if(!e.pubkey)throw new Error("Pubkey does not exist");let t,n;return e.customData&&e.customData[0]&&(t=e.customData[0].customKey,n=e.customData[0].customValue),{destination:e.pubkey,customKey:t,customValue:n}};async function r7({satoshi:e,comment:t,p:n,e:r,relays:i},s={}){const l=s.nostr||globalThis.nostr;if(!l)throw new Error("nostr option or window.nostr is not available");const u=[["relays",...i],["amount",e.toString()]];n&&u.push(["p",n]),r&&u.push(["e",r]);const d={pubkey:await l.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:u,content:t??""};return d.id=s7(d),await l.signEvent(d)}function i7(e){if(typeof e.content!="string"||typeof e.created_at!="number"||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function o7(e){if(!i7(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function s7(e){return kp(Cp(o7(e)))}function a7(e,t){let n,r;var i,s;return t&&e&&(n=(i=e.names)==null?void 0:i[t],r=n?(s=e.relays)==null?void 0:s[n]:void 0),[e,n,r]}const l7=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/,QN=e=>!!e&&l7.test(e),i2=({amount:e,min:t,max:n})=>e>0&&e>=t&&e<=n,c7=async e=>{if(e.tag!=="payRequest")throw new Error("Invalid pay service params");const t=(e.callback+"").trim();if(!QN(t))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(e.minSendable||0)),r=Math.floor(Number(e.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let i,s;try{i=JSON.parse(e.metadata+""),s=kp(Cp(e.metadata+""))}catch{i=[],s=kp(Cp("[]"))}let l="",u="",d="",p="";for(let b=0;b<i.length;b++){const[_,S]=i[b];switch(_){case"text/plain":d=S;break;case"text/identifier":p=S;break;case"text/email":l=S;break;case"image/png;base64":case"image/jpeg;base64":u="data:"+_+","+S}}const y=e.payerData;let g;try{g=new URL(t).hostname}catch{}return{callback:t,fixed:n===r,min:n,max:r,domain:g,metadata:i,metadataHash:s,identifier:p,email:l,description:d,image:u,payerData:y,commentAllowed:Number(e.commentAllowed)||0,rawData:e,allowsNostr:e.allowsNostr||!1}};function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0.apply(this,arguments)}const u7=async(e,t)=>{const{boost:n}=e;t||(t={});const r=t.webln||globalThis.webln;if(!r)throw new Error("WebLN not available");if(!r.keysend)throw new Error("Keysend not available in current WebLN provider");const i=e.amount||Math.floor(n.value_msat/1e3),s={destination:e.destination,amount:i,customRecords:{7629169:JSON.stringify(n)}};return e.customKey&&e.customValue&&(s.customRecords[e.customKey]=e.customValue),await r.enable(),await r.keysend(s)},d7=/^((?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;class f7{constructor(t,n){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=t,this.options={proxy:"https://api.getalby.com/lnurl"},this.options=Object.assign(this.options,n),this.parse(),this.webln=this.options.webln}parse(){const t=d7.exec(this.address.toLowerCase());t&&(this.username=t[1],this.domain=t[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const t=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!t.ok)throw new Error(`Failed to fetch lnurl info: ${t.status} ${t.statusText}`);const n=await t.json();await this.parseLnUrlPayResponse(n.lnurlp),this.parseKeysendResponse(n.keysend),this.parseNostrResponse(n.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const t=await fetch(this.lnurlpUrl());if(t.ok){const n=await t.json();await this.parseLnUrlPayResponse(n)}}async fetchKeysendData(){const t=await fetch(this.keysendUrl());if(t.ok){const n=await t.json();this.parseKeysendResponse(n)}}async fetchNostrData(){const t=await fetch(this.nostrUrl());if(t.ok){const n=await t.json();this.parseNostrResponse(n)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(t){let n;if(this.options.proxy){const s=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(v0({ln:this.address},t)).toString()}`);if(!s.ok)throw new Error(`Failed to generate invoice: ${s.status} ${s.statusText}`);n=(await s.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!QN(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const s=new URL(this.lnurlpData.callback);s.search=new URLSearchParams(t).toString();const l=await fetch(s.toString());if(!l.ok)throw new Error(`Failed to generate invoice: ${l.status} ${l.statusText}`);n=await l.json()}const r=n&&n.pr&&n.pr.toString();if(!r)throw new Error("Invalid pay service invoice");const i={pr:r};if(n&&n.verify&&(i.verify=n.verify.toString()),n&&n.successAction&&typeof n.successAction=="object"){const{tag:s,message:l,description:u,url:d}=n.successAction;s==="message"?i.successAction={tag:s,message:l}:s==="url"&&(i.successAction={tag:s,description:u,url:d})}return new Qw(i)}async requestInvoice(t){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const n=1e3*t.satoshi,{commentAllowed:r,min:i,max:s}=this.lnurlpData;if(!i2({amount:n,min:i,max:s}))throw new Error("Invalid amount");if(t.comment&&r&&r>0&&t.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const l={amount:n.toString()};return t.comment&&(l.comment=t.comment),t.payerdata&&(l.payerdata=JSON.stringify(t.payerdata)),this.generateInvoice(l)}async boost(t,n=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:r,customKey:i,customValue:s}=this.keysendData,l=this.getWebLN();if(!l)throw new Error("WebLN not available");return u7({destination:r,customKey:i,customValue:s,amount:n,boost:t},{webln:l})}async zapInvoice({satoshi:t,comment:n,relays:r,e:i},s={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const l=this.nostrPubkey,u=1e3*t,{allowsNostr:d,min:p,max:y}=this.lnurlpData;if(!i2({amount:u,min:p,max:y}))throw new Error("Invalid amount");if(!d)throw new Error("Your provider does not support zaps");const g=await r7({satoshi:u,comment:n,p:l,e:i,relays:r},s),b={amount:u.toString(),nostr:JSON.stringify(g)};return await this.generateInvoice(b)}async zap(t,n={}){const r=this.zapInvoice(t,n),i=this.getWebLN();if(!i)throw new Error("WebLN not available");return await i.enable(),i.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(t){t&&(this.lnurlpData=await c7(t))}parseKeysendResponse(t){t&&(this.keysendData=n7(t))}parseNostrResponse(t){t&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=a7(t,this.username))}}function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qs.apply(this,arguments)}if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const h7=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function p7(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=h7[e[n]];return t}function hd(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=2*r,s=e.slice(i,i+2),l=Number.parseInt(s,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}class la extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n}}class m7 extends la{}class g7 extends la{}class XN extends la{}let o2=class extends XN{};class s2 extends XN{}class a2 extends la{}class l2 extends la{}class Oy extends la{}class y7 extends la{}class v7 extends la{}class kc{static parseWalletConnectUrl(t){t=t.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://").replace("nostrwalletconnect:","http://").replace("nostr+walletconnect:","http://");const n=new URL(t),r=n.searchParams.get("relay");if(!r)throw new Error("No relay URL found in connection string");const i={walletPubkey:n.host,relayUrl:r},s=n.searchParams.get("secret");s&&(i.secret=s);const l=n.searchParams.get("lud16");return l&&(i.lud16=l),i}constructor(t){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,t&&t.nostrWalletConnectUrl&&(t=Qs({},kc.parseWalletConnectUrl(t.nostrWalletConnectUrl),t)),this.options=Qs({},t||{}),this.relayUrl=this.options.relayUrl,this.relay=new ck(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?tr.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?tr.decode(this.options.walletPubkey).data:this.options.walletPubkey,globalThis.WebSocket===void 0&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(t=!0){let n=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return t&&(n=`${n}&secret=${this.secret}`),n}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return Bo(hd(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error("Missing encryption or version");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(t){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(ni(t,hd(this.secret)))}getEventHash(t){return Ed(t)}close(){return this.relay.close()}async encrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await Ad.encrypt(this.secret,t,n);else{const i=Ks.getConversationKey(hd(this.secret),t);r=Ks.encrypt(n,i)}return r}async decrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await Ad.decrypt(this.secret,t,n);else{const i=Ks.getConversationKey(hd(this.secret),t);r=Ks.decrypt(n,i)}return r}static getAuthorizationUrl(t,n={},r){if(t.indexOf("/#/")>-1)throw new Error("hash router paths not supported");const i=new URL(t);return n.name&&i.searchParams.set("name",n.name),i.searchParams.set("pubkey",r),n.returnTo&&i.searchParams.set("return_to",n.returnTo),n.budgetRenewal&&i.searchParams.set("budget_renewal",n.budgetRenewal),n.expiresAt&&i.searchParams.set("expires_at",Math.floor(n.expiresAt.getTime()/1e3).toString()),n.maxAmount&&i.searchParams.set("max_amount",n.maxAmount.toString()),n.requestMethods&&i.searchParams.set("request_methods",n.requestMethods.join(" ")),n.notificationTypes&&i.searchParams.set("notification_types",n.notificationTypes.join(" ")),n.isolated&&i.searchParams.set("isolated","true"),n.metadata&&i.searchParams.set("metadata",JSON.stringify(n.metadata)),i}static fromAuthorizationUrl(t,n={},r){r=r||p7(ef()),n.name||(n.name=document.location.host);const i=this.getAuthorizationUrl(t,n,Bo(hd(r))),s=window.outerHeight/2+window.screenY-300,l=window.outerWidth/2+window.screenX-200;return new Promise((u,d)=>{const p=window.open(i.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${s},left=${l}`);if(!p)return void d(new Error("failed to execute window.open"));const y=b=>{const _=b.data;_&&_.type==="nwc:success"&&b.origin===`${i.protocol}//${i.host}`&&(_.relayUrl||d(new Error("no relayUrl in response")),_.walletPubkey||d(new Error("no walletPubkey in response")),u(new kc({relayUrl:_.relayUrl,walletPubkey:_.walletPubkey,secret:r,lud16:_.lud16})),clearInterval(g),window.removeEventListener("message",y),p&&p.close())},g=setInterval(()=>{p&&p.closed&&(clearInterval(g),window.removeEventListener("message",y),d(new Error("Popup closed")))},500);window.addEventListener("message",y)})}async getWalletServiceInfo(){var t;await this._checkConnected();const n=await new Promise((d,p)=>{const y=[],g=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});g.onevent=b=>{y.push(b)},g.oneose=()=>{g.close(),d(y)}});if(!n.length)throw new Error("no info event (kind 13194) returned from relay");const r=n[0].content,i=n[0].tags.find(d=>d[0]==="notifications"),s=n[0].tags.find(d=>d[0]==="v"),l=n[0].tags.find(d=>d[0]==="encryption");let u=["nip04"];return s&&s[1].includes("1.0")&&u.push("nip44_v2"),l&&(u=l[1].split(" ")),{encryptions:u,capabilities:r.split(/[ |,]/g),notifications:(i==null||(t=i[1])==null?void 0:t.split(" "))||[]}}async getInfo(){try{return await this.executeNip47Request("get_info",{},t=>!!t.methods,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_info",t),t}}async getBudget(){try{return await this.executeNip47Request("get_budget",{},t=>t!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_budget",t),t}}async getBalance(){try{return await this.executeNip47Request("get_balance",{},t=>t.balance!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_balance",t),t}}async payInvoice(t){try{return await this.executeNip47Request("pay_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request pay_invoice",n),n}}async payKeysend(t){try{return await this.executeNip47Request("pay_keysend",t,n=>!!n.preimage)}catch(n){throw console.error("Failed to request pay_keysend",n),n}}async signMessage(t){try{return await this.executeNip47Request("sign_message",t,n=>n.message===t.message&&!!n.signature)}catch(n){throw console.error("Failed to request sign_message",n),n}}async createConnection(t){try{return await this.executeNip47Request("create_connection",t,n=>!!n.wallet_pubkey)}catch(n){throw console.error("Failed to request create_connection",n),n}}async multiPayInvoice(t){try{return{invoices:await this.executeMultiNip47Request("multi_pay_invoice",t,t.invoices.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_invoice",n),n}}async multiPayKeysend(t){try{return{keysends:await this.executeMultiNip47Request("multi_pay_keysend",t,t.keysends.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_keysend",n),n}}async makeInvoice(t){try{if(!t.amount)throw new Error("No amount specified");return await this.executeNip47Request("make_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_invoice",n),n}}async makeHoldInvoice(t){try{if(!t.amount)throw new Error("No amount specified");if(!t.payment_hash)throw new Error("No payment hash specified");return await this.executeNip47Request("make_hold_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_hold_invoice",n),n}}async settleHoldInvoice(t){try{return await this.executeNip47Request("settle_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request settle_hold_invoice",n),n}}async cancelHoldInvoice(t){try{return await this.executeNip47Request("cancel_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request cancel_hold_invoice",n),n}}async lookupInvoice(t){try{return await this.executeNip47Request("lookup_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request lookup_invoice",n),n}}async listTransactions(t){try{return await this.executeNip47Request("list_transactions",t,n=>!!n.transactions,{replyTimeout:1e4})}catch(n){throw console.error("Failed to request list_transactions",n),n}}async subscribeNotifications(t,n){var r=this;let i,s,l,u=!0;return async function(){for(;u;){try{await r._checkConnected(),await r._selectEncryptionType(),l=r.relay.subscribe([{kinds:[...r.encryptionType==="nip04"?[23196]:[23197]],authors:[r.walletPubkey],"#p":[r.publicKey]}],{}),console.info("subscribed to relay"),l.onevent=async function(d){const p=await r.decrypt(r.walletPubkey,d.content);let y;try{y=JSON.parse(p)}catch(g){return void console.error("Failed to parse decrypted event content",g)}y.notification?(!n||n.indexOf(y.notification_type)>-1)&&t(y):console.error("No notification in response",y)},await new Promise(d=>{i=()=>{d()},s=()=>{console.info("relay disconnected"),i==null||i()},r.relay.onclose=s}),s!==void 0&&(r.relay.onclose=null)}catch(d){console.error("error subscribing to notifications",d||"unknown relay error")}u&&await new Promise(d=>setTimeout(d,1e3))}}(),()=>{var d;u=!1,i==null||i(),(d=l)==null||d.close()}}async executeNip47Request(t,n,r,i){var s=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((l,u)=>{(async function(){const d={method:t,params:n},p=await s.encrypt(s.walletPubkey,JSON.stringify(d)),y={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",s.walletPubkey],["v",s.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",s.encryptionType]],content:p},g=await s.signEvent(y),b=s.relay.subscribe([{kinds:[23195],authors:[s.walletPubkey],"#e":[g.id]}],{}),_=setTimeout(function(){b.close(),u(new s2(`reply timeout: event ${g.id}`,"INTERNAL"))},(i==null?void 0:i.replyTimeout)||6e4);b.onevent=async function(v){clearTimeout(_),b.close();const E=await s.decrypt(s.walletPubkey,v.content);let k;try{k=JSON.parse(E)}catch{return clearTimeout(_),b.close(),void u(new l2("failed to deserialize response","INTERNAL"))}var A,T;k.result?r(k.result)?l(k.result):(clearTimeout(_),b.close(),u(new Oy("response from NWC failed validation: "+JSON.stringify(k.result),"INTERNAL"))):(clearTimeout(_),b.close(),u(new g7(((A=k.error)==null?void 0:A.message)||"unknown Error",((T=k.error)==null?void 0:T.code)||"INTERNAL")))};const S=setTimeout(function(){b.close(),u(new o2(`publish timeout: ${g.id}`,"INTERNAL"))},(i==null?void 0:i.publishTimeout)||5e3);try{await s.relay.publish(g),clearTimeout(S)}catch(v){clearTimeout(S),u(new a2(`failed to publish: ${v}`,"INTERNAL"))}})()})}async executeMultiNip47Request(t,n,r,i,s){var l=this;await this._checkConnected(),await this._selectEncryptionType();const u=[];return new Promise((d,p)=>{(async function(){const y={method:t,params:n},g=await l.encrypt(l.walletPubkey,JSON.stringify(y)),b={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",l.walletPubkey],["v",l.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",l.encryptionType]],content:g},_=await l.signEvent(b),S=l.relay.subscribe([{kinds:[23195],authors:[l.walletPubkey],"#e":[_.id]}],{}),v=setTimeout(function(){S.close(),p(new s2(`reply timeout: event ${_.id}`,"INTERNAL"))},(s==null?void 0:s.replyTimeout)||6e4);S.onevent=async function(k){const A=await l.decrypt(l.walletPubkey,k.content);let T;try{T=JSON.parse(A)}catch{clearTimeout(v),S.close(),p(new l2("failed to deserialize response","INTERNAL"))}if(T.result){var z;if(!i(T.result))return clearTimeout(v),S.close(),void p(new Oy("Response from NWC failed validation: "+JSON.stringify(T.result),"INTERNAL"));const Z=(z=k.tags.find(q=>q[0]==="d"))==null?void 0:z[1];if(Z===void 0)return clearTimeout(v),S.close(),void p(new Oy("No d tag found in response event","INTERNAL"));u.push(Qs({},T.result,{dTag:Z})),u.length===r&&(clearTimeout(v),S.close(),d(u))}else{var D,$;clearTimeout(v),S.close(),p(new y7((D=T.error)==null?void 0:D.message,($=T.error)==null?void 0:$.code))}};const E=setTimeout(function(){S.close(),p(new o2(`Publish timeout: ${_.id}`,"INTERNAL"))},(s==null?void 0:s.publishTimeout)||5e3);try{await l.relay.publish(_),clearTimeout(E)}catch(k){clearTimeout(E),p(new a2(`Failed to publish: ${k}`,"INTERNAL"))}})()})}async _checkConnected(){if(!this.secret)throw new Error("Missing secret key");if(!this.relayUrl)throw new Error("Missing relay url");try{this.relay.connected||await this.relay.connect()}catch{throw console.error("failed to connect to relay",this.relayUrl),new m7("Failed to connect to "+this.relayUrl,"OTHER")}}async _selectEncryptionType(){if(!this._encryptionType){const t=await this.getWalletServiceInfo(),n=this._findPreferredEncryptionType(t.encryptions);if(!n)throw new v7("no compatible encryption or version found between wallet and client","UNSUPPORTED_ENCRYPTION");n==="nip04"&&console.warn("NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead."),this._encryptionType=n}}_findPreferredEncryptionType(t){return t.includes("nip44_v2")?"nip44_v2":t.includes("nip04")?"nip04":null}}class w7{constructor(t,n){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=n,this.invoice=new Qw({pr:n.invoice}),this._nwcClient=t}onPaid(t){var n=this;return async function(){let r;try{var i;r=(i=(await n._nwcClient.getInfo()).notifications)==null?void 0:i.includes("payment_received")}catch{console.error("failed to fetch info, falling back to polling")}const s=u=>{n._unsubscribeFunc==null||n._unsubscribeFunc(),t(u)},l=u=>()=>{n._timeoutFunc=void 0,clearTimeout(n._timeoutId),u()};if(r){const u=d=>{d.notification.payment_hash===n.transaction.payment_hash&&s(d.notification)};n._unsubscribeFunc=l(await n._nwcClient.subscribeNotifications(u,["payment_received"]))}else console.warn("current connection does not support notifications, falling back to polling"),n._unsubscribeFunc=l(n._onPaidPollingFallback(s))}(),this}onTimeout(t,n){return this._timeoutFunc=()=>{var r;(r=this._unsubscribeFunc)==null||r.call(this),n()},this._timeoutId=setTimeout(()=>{var r;(r=this._timeoutFunc)==null||r.call(this)},1e3*t),this}unsubscribe(){var t;(t=this._unsubscribeFunc)==null||t.call(this)}_onPaidPollingFallback(t){var n=this;let r=!0;return async function(){for(;r;){const i=await n._nwcClient.lookupInvoice({payment_hash:n.transaction.payment_hash});if(i.settled_at&&i.preimage){t(i),r=!1;break}await new Promise(s=>setTimeout(s,3e3))}}(),()=>{r=!1}}}async function c2(e){if(typeof e=="number")return{satoshi:e,millisat:1e3*e};const t=await Promise.resolve(e.satoshi);return{satoshi:t,millisat:1e3*t}}class zd{constructor(t){this.nwcClient=void 0,this.nwcClient=typeof t=="string"?new kc({nostrWalletConnectUrl:t}):t instanceof kc?t:new kc(t)}async pay(t,n,r){let i=t;const s=n?await c2(n):void 0;if(i.indexOf("@")>-1){var l,u;if(!s)throw new Error("Amount must be provided when paying to a lightning address");const p=new f7(t);await p.fetch(),i=(await p.requestInvoice({satoshi:s.satoshi,comment:r==null||(l=r.metadata)==null?void 0:l.comment,payerdata:r==null||(u=r.metadata)==null?void 0:u.payer_data})).paymentRequest}const d=await this.nwcClient.payInvoice(Qs({},r||{},{invoice:i,amount:s==null?void 0:s.millisat}));return Qs({},d,{invoice:new Qw({pr:i})})}async requestPayment(t,n){const r=await c2(t),i=await this.nwcClient.makeInvoice(Qs({},n||{},{amount:r.millisat}));return new w7(this.nwcClient,i)}close(){this.nwcClient.close()}}function _7(){const{toast:e}=tu(),[t,n]=g0("nwc-connections",[]),[r,i]=g0("nwc-active-connection",null),[s,l]=C.useState({}),u=async(g,b)=>{const S=(E=>{try{return!E.startsWith("nostr+walletconnect://")&&!E.startsWith("nostrwalletconnect://")?(console.error("Invalid NWC URI protocol:",{protocol:E.split("://")[0]}),null):{connectionString:E}}catch(k){return console.error("Failed to parse NWC URI:",k),null}})(g);if(!S)return e({title:"Invalid NWC URI",description:"Please check the connection string and try again.",variant:"destructive"}),!1;if(t.find(E=>E.connectionString===S.connectionString))return e({title:"Connection already exists",description:"This wallet is already connected.",variant:"destructive"}),!1;try{let E;const k=new Promise((D,$)=>{try{const Z=new zd(S.connectionString);D(Z)}catch(Z){$(Z)}}),A=new Promise((D,$)=>{E=setTimeout(()=>$(new Error("Connection test timeout")),1e4)});try{await Promise.race([k,A]),E&&clearTimeout(E)}catch(D){throw E&&clearTimeout(E),D}const T={connectionString:S.connectionString,alias:b||"NWC Wallet",isConnected:!0};l(D=>({...D,[S.connectionString]:{alias:T.alias,methods:["pay_invoice"]}}));const z=[...t,T];return n(z),(t.length===0||!r)&&i(S.connectionString),e({title:"Wallet connected",description:`Successfully connected to ${T.alias}.`}),!0}catch(E){console.error("NWC connection failed:",E);const k=E instanceof Error?E.message:"Unknown error occurred";return e({title:"Connection failed",description:`Could not connect to the wallet: ${k}`,variant:"destructive"}),!1}},d=g=>{const b=t.filter(_=>_.connectionString!==g);if(n(b),r===g){const _=b.length>0?b[0].connectionString:null;i(_)}l(_=>{const S={..._};return delete S[g],S}),e({title:"Wallet disconnected",description:"The wallet connection has been removed."})},p=C.useCallback(()=>!r&&t.length>0?(i(t[0].connectionString),t[0]):r&&t.find(b=>b.connectionString===r)||null,[r,t,i]),y=C.useCallback(async(g,b)=>{if(!g.connectionString)throw new Error("Invalid connection: missing connection string");let _;try{_=new zd(g.connectionString)}catch(S){throw console.error("Failed to create NWC client:",S),new Error(`Failed to create NWC client: ${S instanceof Error?S.message:"Unknown error"}`)}try{let S;const v=new Promise((k,A)=>{S=setTimeout(()=>A(new Error("Payment timeout after 15 seconds")),15e3)}),E=_.pay(b);try{const k=await Promise.race([E,v]);return S&&clearTimeout(S),k}catch(k){throw S&&clearTimeout(S),k}}catch(S){throw console.error("NWC payment failed:",S),S instanceof Error?S.message.includes("timeout")?new Error("Payment timed out. Please try again."):S.message.includes("insufficient")?new Error("Insufficient balance in connected wallet."):S.message.includes("invalid")?new Error("Invalid invoice or connection. Please check your wallet."):new Error(`Payment failed: ${S.message}`):new Error("Payment failed with unknown error")}},[]);return{connections:t,activeConnection:r,connectionInfo:s,addConnection:u,removeConnection:d,setActiveConnection:i,getActiveConnection:p,sendPayment:y}}const eP=C.createContext(null);function tP(){const e=C.useContext(eP);if(!e)throw new Error("useNWC must be used within a NWCProvider");return e}function x7({children:e}){const t=_7();return m.jsx(eP.Provider,{value:t,children:e})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dd.apply(this,arguments)}var Ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ys||(Ys={}));const u2="popstate";function b7(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:l,hash:u}=r.location;return w0("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Np(i)}return S7(t,n,null,e)}function mn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E7(){return Math.random().toString(36).substr(2,8)}function d2(e,t){return{usr:e.state,key:e.key,idx:t}}function w0(e,t,n,r){return n===void 0&&(n=null),Dd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?lu(t):t,{state:n,key:t&&t.key||r||E7()})}function Np(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function lu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function S7(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u=Ys.Pop,d=null,p=y();p==null&&(p=0,l.replaceState(Dd({},l.state,{idx:p}),""));function y(){return(l.state||{idx:null}).idx}function g(){u=Ys.Pop;let E=y(),k=E==null?null:E-p;p=E,d&&d({action:u,location:v.location,delta:k})}function b(E,k){u=Ys.Push;let A=w0(v.location,E,k);p=y()+1;let T=d2(A,p),z=v.createHref(A);try{l.pushState(T,"",z)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(z)}s&&d&&d({action:u,location:v.location,delta:1})}function _(E,k){u=Ys.Replace;let A=w0(v.location,E,k);p=y();let T=d2(A,p),z=v.createHref(A);l.replaceState(T,"",z),s&&d&&d({action:u,location:v.location,delta:0})}function S(E){let k=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof E=="string"?E:Np(E);return A=A.replace(/ $/,"%20"),mn(k,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,k)}let v={get action(){return u},get location(){return e(i,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(u2,g),d=E,()=>{i.removeEventListener(u2,g),d=null}},createHref(E){return t(i,E)},createURL:S,encodeLocation(E){let k=S(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:_,go(E){return l.go(E)}};return v}var f2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(f2||(f2={}));function k7(e,t,n){return n===void 0&&(n="/"),C7(e,t,n)}function C7(e,t,n,r){let i=typeof t=="string"?lu(t):t,s=e_(i.pathname||"/",n);if(s==null)return null;let l=nP(e);N7(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=B7(s);u=M7(l[d],p)}return u}function nP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(mn(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=Xs([r,d.relativePath]),y=n.concat(d);s.children&&s.children.length>0&&(mn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),nP(s.children,t,y,p)),!(s.path==null&&!s.index)&&t.push({path:p,score:L7(p,s.index),routesMeta:y})};return e.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of rP(s.path))i(s,l,d)}),t}function rP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=rP(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function N7(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:O7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const P7=/^:[\w-]+$/,T7=3,A7=2,R7=1,I7=10,j7=-2,h2=e=>e==="*";function L7(e,t){let n=e.split("/"),r=n.length;return n.some(h2)&&(r+=j7),t&&(r+=A7),n.filter(i=>!h2(i)).reduce((i,s)=>i+(P7.test(s)?T7:s===""?R7:I7),r)}function O7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function M7(e,t,n){let{routesMeta:r}=e,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,y=s==="/"?t:t.slice(s.length)||"/",g=z7({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),b=d.route;if(!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Xs([s,g.pathname]),pathnameBase:Z7(Xs([s,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(s=Xs([s,g.pathnameBase]))}return l}function z7(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=D7(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,y,g)=>{let{paramName:b,isOptional:_}=y;if(b==="*"){let v=u[g]||"";l=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const S=u[g];return _&&!S?p[b]=void 0:p[b]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:l,pattern:e}}function D7(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Xw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function B7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function e_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const F7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U7=e=>F7.test(e);function $7(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?lu(e):e,s;if(n)if(U7(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Xw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?s=p2(n.substring(1),"/"):s=p2(n,t)}else s=t;return{pathname:s,search:W7(r),hash:V7(i)}}function p2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function My(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function H7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function iP(e,t){let n=H7(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function oP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=lu(e):(i=Dd({},e),mn(!i.pathname||!i.pathname.includes("?"),My("?","pathname","search",i)),mn(!i.pathname||!i.pathname.includes("#"),My("#","pathname","hash",i)),mn(!i.search||!i.search.includes("#"),My("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}u=g>=0?t[g]:"/"}let d=$7(i,u),p=l&&l!=="/"&&l.endsWith("/"),y=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}const Xs=e=>e.join("/").replace(/\/\/+/g,"/"),Z7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,V7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function q7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sP=["post","put","patch","delete"];new Set(sP);const K7=["get",...sP];new Set(K7);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bd.apply(this,arguments)}const t_=C.createContext(null),G7=C.createContext(null),ml=C.createContext(null),pm=C.createContext(null),ca=C.createContext({outlet:null,matches:[],isDataRoute:!1}),aP=C.createContext(null);function Y7(e,t){let{relative:n}=t===void 0?{}:t;lf()||mn(!1);let{basename:r,navigator:i}=C.useContext(ml),{hash:s,pathname:l,search:u}=cP(e,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:Xs([r,l])),i.createHref({pathname:d,search:u,hash:s})}function lf(){return C.useContext(pm)!=null}function gl(){return lf()||mn(!1),C.useContext(pm).location}function lP(e){C.useContext(ml).static||C.useLayoutEffect(e)}function J7(){let{isDataRoute:e}=C.useContext(ca);return e?u9():Q7()}function Q7(){lf()||mn(!1);let e=C.useContext(t_),{basename:t,future:n,navigator:r}=C.useContext(ml),{matches:i}=C.useContext(ca),{pathname:s}=gl(),l=JSON.stringify(iP(i,n.v7_relativeSplatPath)),u=C.useRef(!1);return lP(()=>{u.current=!0}),C.useCallback(function(p,y){if(y===void 0&&(y={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let g=oP(p,JSON.parse(l),s,y.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Xs([t,g.pathname])),(y.replace?r.replace:r.push)(g,y.state,y)},[t,r,l,s,e])}function n_(){let{matches:e}=C.useContext(ca),t=e[e.length-1];return t?t.params:{}}function cP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(ml),{matches:i}=C.useContext(ca),{pathname:s}=gl(),l=JSON.stringify(iP(i,r.v7_relativeSplatPath));return C.useMemo(()=>oP(e,JSON.parse(l),s,n==="path"),[e,l,s,n])}function X7(e,t){return e9(e,t)}function e9(e,t,n,r){lf()||mn(!1);let{navigator:i}=C.useContext(ml),{matches:s}=C.useContext(ca),l=s[s.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=gl(),y;if(t){var g;let E=typeof t=="string"?lu(t):t;d==="/"||(g=E.pathname)!=null&&g.startsWith(d)||mn(!1),y=E}else y=p;let b=y.pathname||"/",_=b;if(d!=="/"){let E=d.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=k7(e,{pathname:_}),v=o9(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Xs([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Xs([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return t&&v?C.createElement(pm.Provider,{value:{location:Bd({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ys.Pop}},v):v}function t9(){let e=c9(),t=q7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,null)}const n9=C.createElement(t9,null);class r9 extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(ca.Provider,{value:this.props.routeContext},C.createElement(aP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i9(e){let{routeContext:t,match:n,children:r}=e,i=C.useContext(t_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(ca.Provider,{value:t},r)}function o9(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let y=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);y>=0||mn(!1),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<l.length;y++){let g=l[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=y),g.route.id){let{loaderData:b,errors:_}=n,S=g.route.loader&&b[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||S){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((y,g,b)=>{let _,S=!1,v=null,E=null;n&&(_=u&&g.route.id?u[g.route.id]:void 0,v=g.route.errorElement||n9,d&&(p<0&&b===0?(d9("route-fallback"),S=!0,E=null):p===b&&(S=!0,E=g.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,b+1)),A=()=>{let T;return _?T=v:S?T=E:g.route.Component?T=C.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=y,C.createElement(i9,{match:g,routeContext:{outlet:y,matches:k,isDataRoute:n!=null},children:T})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?C.createElement(r9,{location:n.location,revalidation:n.revalidation,component:v,error:_,children:A(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):A()},null)}var uP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uP||{}),dP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dP||{});function s9(e){let t=C.useContext(t_);return t||mn(!1),t}function a9(e){let t=C.useContext(G7);return t||mn(!1),t}function l9(e){let t=C.useContext(ca);return t||mn(!1),t}function fP(e){let t=l9(),n=t.matches[t.matches.length-1];return n.route.id||mn(!1),n.route.id}function c9(){var e;let t=C.useContext(aP),n=a9(),r=fP();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function u9(){let{router:e}=s9(uP.UseNavigateStable),t=fP(dP.UseNavigateStable),n=C.useRef(!1);return lP(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Bd({fromRouteId:t},s)))},[e,t])}const m2={};function d9(e,t,n){m2[e]||(m2[e]=!0)}function f9(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ui(e){mn(!1)}function h9(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ys.Pop,navigator:s,static:l=!1,future:u}=e;lf()&&mn(!1);let d=t.replace(/^\/*/,"/"),p=C.useMemo(()=>({basename:d,navigator:s,static:l,future:Bd({v7_relativeSplatPath:!1},u)}),[d,u,s,l]);typeof r=="string"&&(r=lu(r));let{pathname:y="/",search:g="",hash:b="",state:_=null,key:S="default"}=r,v=C.useMemo(()=>{let E=e_(y,d);return E==null?null:{location:{pathname:E,search:g,hash:b,state:_,key:S},navigationType:i}},[d,y,g,b,_,S,i]);return v==null?null:C.createElement(ml.Provider,{value:p},C.createElement(pm.Provider,{children:n,value:v}))}function p9(e){let{children:t,location:n}=e;return X7(_0(t),n)}new Promise(()=>{});function _0(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,i)=>{if(!C.isValidElement(r))return;let s=[...t,i];if(r.type===C.Fragment){n.push.apply(n,_0(r.props.children,s));return}r.type!==Ui&&mn(!1),!r.props.index||!r.props.children||mn(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=_0(r.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x0.apply(this,arguments)}function m9(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function g9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function y9(e,t){return e.button===0&&(!t||t==="_self")&&!g9(e)}const v9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],w9="6";try{window.__reactRouterVersion=w9}catch{}const _9="startTransition",g2=D0[_9];function x9(e){let{basename:t,children:n,future:r,window:i}=e,s=C.useRef();s.current==null&&(s.current=b7({window:i,v5Compat:!0}));let l=s.current,[u,d]=C.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},y=C.useCallback(g=>{p&&g2?g2(()=>d(g)):d(g)},[d,p]);return C.useLayoutEffect(()=>l.listen(y),[l,y]),C.useEffect(()=>f9(r),[r]),C.createElement(h9,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const b9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=C.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:l,state:u,target:d,to:p,preventScrollReset:y,viewTransition:g}=t,b=m9(t,v9),{basename:_}=C.useContext(ml),S,v=!1;if(typeof p=="string"&&E9.test(p)&&(S=p,b9))try{let T=new URL(window.location.href),z=p.startsWith("//")?new URL(T.protocol+p):new URL(p),D=e_(z.pathname,_);z.origin===T.origin&&D!=null?p=D+z.search+z.hash:v=!0}catch{}let E=Y7(p,{relative:i}),k=S9(p,{replace:l,state:u,target:d,preventScrollReset:y,relative:i,viewTransition:g});function A(T){r&&r(T),T.defaultPrevented||k(T)}return C.createElement("a",x0({},b,{href:S||E,onClick:v||s?r:A,ref:n,target:d}))});var y2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(y2||(y2={}));var v2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(v2||(v2={}));function S9(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:l,viewTransition:u}=t===void 0?{}:t,d=J7(),p=gl(),y=cP(e,{relative:l});return C.useCallback(g=>{if(y9(g,n)){g.preventDefault();let b=r!==void 0?r:Np(p)===Np(y);d(e,{replace:b,state:i,preventScrollReset:s,relative:l,viewTransition:u})}},[p,d,y,r,i,n,e,s,l,u])}function k9(){const{pathname:e}=gl();return C.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const C9=sf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),gt=C.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const l=r?fB:"button";return m.jsx(l,{className:We(C9({variant:t,size:n,className:e})),ref:s,...i})});gt.displayName="Button";const kn=C.forwardRef(({className:e,type:t,...n},r)=>m.jsx("input",{type:t,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));kn.displayName="Input";var zy="focusScope.autoFocusOnMount",Dy="focusScope.autoFocusOnUnmount",w2={bubbles:!1,cancelable:!0},N9="FocusScope",mm=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=e,[u,d]=C.useState(null),p=ln(i),y=ln(s),g=C.useRef(null),b=ft(t,v=>d(v)),_=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let v=function(T){if(_.paused||!u)return;const z=T.target;u.contains(z)?g.current=z:Ms(g.current,{select:!0})},E=function(T){if(_.paused||!u)return;const z=T.relatedTarget;z!==null&&(u.contains(z)||Ms(g.current,{select:!0}))},k=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&Ms(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const A=new MutationObserver(k);return u&&A.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),A.disconnect()}}},[r,u,_.paused]),C.useEffect(()=>{if(u){x2.add(_);const v=document.activeElement;if(!u.contains(v)){const k=new CustomEvent(zy,w2);u.addEventListener(zy,p),u.dispatchEvent(k),k.defaultPrevented||(P9(j9(hP(u)),{select:!0}),document.activeElement===v&&Ms(u))}return()=>{u.removeEventListener(zy,p),setTimeout(()=>{const k=new CustomEvent(Dy,w2);u.addEventListener(Dy,y),u.dispatchEvent(k),k.defaultPrevented||Ms(v??document.body,{select:!0}),u.removeEventListener(Dy,y),x2.remove(_)},0)}}},[u,p,y,_]);const S=C.useCallback(v=>{if(!n&&!r||_.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(E&&k){const A=v.currentTarget,[T,z]=T9(A);T&&z?!v.shiftKey&&k===z?(v.preventDefault(),n&&Ms(T,{select:!0})):v.shiftKey&&k===T&&(v.preventDefault(),n&&Ms(z,{select:!0})):k===A&&v.preventDefault()}},[n,r,_.paused]);return m.jsx(Ge.div,{tabIndex:-1,...l,ref:b,onKeyDown:S})});mm.displayName=N9;function P9(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ms(r,{select:t}),document.activeElement!==n)return}function T9(e){const t=hP(e),n=_2(t,e),r=_2(t.reverse(),e);return[n,r]}function hP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _2(e,t){for(const n of e)if(!A9(n,{upTo:t}))return n}function A9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function R9(e){return e instanceof HTMLInputElement&&"select"in e}function Ms(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&R9(e)&&t&&e.select()}}var x2=I9();function I9(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=b2(e,t),e.unshift(t)},remove(t){var n;e=b2(e,t),(n=e[0])==null||n.resume()}}}function b2(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function j9(e){return e.filter(t=>t.tagName!=="A")}var By=0;function r_(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??E2()),document.body.insertAdjacentElement("beforeend",e[1]??E2()),By++,()=>{By===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),By--}},[])}function E2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qi=function(){return qi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qi.apply(this,arguments)};function pP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function L9(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var rp="right-scroll-bar-position",ip="width-before-scroll-bar",O9="with-scroll-bars-hidden",M9="--removed-body-scroll-bar-size";function Fy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function z9(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var D9=typeof window<"u"?C.useLayoutEffect:C.useEffect,S2=new WeakMap;function B9(e,t){var n=z9(null,function(r){return e.forEach(function(i){return Fy(i,r)})});return D9(function(){var r=S2.get(n);if(r){var i=new Set(r),s=new Set(e),l=n.current;i.forEach(function(u){s.has(u)||Fy(u,null)}),s.forEach(function(u){i.has(u)||Fy(u,l)})}S2.set(n,e)},[e]),n}function F9(e){return e}function U9(e,t){t===void 0&&(t=F9);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var l=t(s,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(s){for(r=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(u){return s(u)},filter:function(){return n}}},assignMedium:function(s){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(s),l=n}var d=function(){var y=l;l=[],y.forEach(s)},p=function(){return Promise.resolve().then(d)};p(),n={push:function(y){l.push(y),p()},filter:function(y){return l=l.filter(y),n}}}};return i}function $9(e){e===void 0&&(e={});var t=U9(null);return t.options=qi({async:!0,ssr:!1},e),t}var mP=function(e){var t=e.sideCar,n=pP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,qi({},n))};mP.isSideCarExport=!0;function H9(e,t){return e.useMedium(t),mP}var gP=$9(),Uy=function(){},gm=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:Uy,onWheelCapture:Uy,onTouchMoveCapture:Uy}),i=r[0],s=r[1],l=e.forwardProps,u=e.children,d=e.className,p=e.removeScrollBar,y=e.enabled,g=e.shards,b=e.sideCar,_=e.noIsolation,S=e.inert,v=e.allowPinchZoom,E=e.as,k=E===void 0?"div":E,A=e.gapMode,T=pP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=b,D=B9([n,t]),$=qi(qi({},T),i);return C.createElement(C.Fragment,null,y&&C.createElement(z,{sideCar:gP,removeScrollBar:p,shards:g,noIsolation:_,inert:S,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:A}),l?C.cloneElement(C.Children.only(u),qi(qi({},$),{ref:D})):C.createElement(k,qi({},$,{className:d,ref:D}),u))});gm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gm.classNames={fullWidth:ip,zeroRight:rp};var Z9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Z9();return t&&e.setAttribute("nonce",t),e}function V9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function q9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var K9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=W9())&&(V9(t,n),q9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},G9=function(){var e=K9();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},yP=function(){var e=G9(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Y9={left:0,top:0,right:0,gap:0},$y=function(e){return parseInt(e||"",10)||0},J9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[$y(n),$y(r),$y(i)]},Q9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Y9;var t=J9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},X9=yP(),Cc="data-scroll-locked",eH=function(e,t,n,r){var i=e.left,s=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(O9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Cc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rp,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ip,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(rp," .").concat(rp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ip," .").concat(ip,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Cc,`] {
    `).concat(M9,": ").concat(u,`px;
  }
`)},k2=function(){var e=parseInt(document.body.getAttribute(Cc)||"0",10);return isFinite(e)?e:0},tH=function(){C.useEffect(function(){return document.body.setAttribute(Cc,(k2()+1).toString()),function(){var e=k2()-1;e<=0?document.body.removeAttribute(Cc):document.body.setAttribute(Cc,e.toString())}},[])},nH=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;tH();var s=C.useMemo(function(){return Q9(i)},[i]);return C.createElement(X9,{styles:eH(s,!t,i,n?"":"!important")})},b0=!1;if(typeof window<"u")try{var Wh=Object.defineProperty({},"passive",{get:function(){return b0=!0,!0}});window.addEventListener("test",Wh,Wh),window.removeEventListener("test",Wh,Wh)}catch{b0=!1}var dc=b0?{passive:!1}:!1,rH=function(e){return e.tagName==="TEXTAREA"},vP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!rH(e)&&n[t]==="visible")},iH=function(e){return vP(e,"overflowY")},oH=function(e){return vP(e,"overflowX")},C2=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=wP(e,r);if(i){var s=_P(e,r),l=s[1],u=s[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sH=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},aH=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},wP=function(e,t){return e==="v"?iH(t):oH(t)},_P=function(e,t){return e==="v"?sH(t):aH(t)},lH=function(e,t){return e==="h"&&t==="rtl"?-1:1},cH=function(e,t,n,r,i){var s=lH(e,window.getComputedStyle(t).direction),l=s*r,u=n.target,d=t.contains(u),p=!1,y=l>0,g=0,b=0;do{var _=_P(e,u),S=_[0],v=_[1],E=_[2],k=v-E-s*S;(S||k)&&wP(e,u)&&(g+=k,b+=S),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(y&&Math.abs(g)<1||!y&&Math.abs(b)<1)&&(p=!0),p},Vh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},N2=function(e){return[e.deltaX,e.deltaY]},P2=function(e){return e&&"current"in e?e.current:e},uH=function(e,t){return e[0]===t[0]&&e[1]===t[1]},dH=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fH=0,fc=[];function hH(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(fH++)[0],s=C.useState(yP)[0],l=C.useRef(e);C.useEffect(function(){l.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=L9([e.lockRef.current],(e.shards||[]).map(P2),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=C.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var k=Vh(v),A=n.current,T="deltaX"in v?v.deltaX:A[0]-k[0],z="deltaY"in v?v.deltaY:A[1]-k[1],D,$=v.target,Z=Math.abs(T)>Math.abs(z)?"h":"v";if("touches"in v&&Z==="h"&&$.type==="range")return!1;var q=C2(Z,$);if(!q)return!0;if(q?D=Z:(D=Z==="v"?"h":"v",q=C2(Z,$)),!q)return!1;if(!r.current&&"changedTouches"in v&&(T||z)&&(r.current=D),!D)return!0;var F=r.current||D;return cH(F,E,v,F==="h"?T:z)},[]),d=C.useCallback(function(v){var E=v;if(!(!fc.length||fc[fc.length-1]!==s)){var k="deltaY"in E?N2(E):Vh(E),A=t.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&uH(D.delta,k)})[0];if(A&&A.should){E.cancelable&&E.preventDefault();return}if(!A){var T=(l.current.shards||[]).map(P2).filter(Boolean).filter(function(D){return D.contains(E.target)}),z=T.length>0?u(E,T[0]):!l.current.noIsolation;z&&E.cancelable&&E.preventDefault()}}},[]),p=C.useCallback(function(v,E,k,A){var T={name:v,delta:E,target:k,should:A,shadowParent:pH(k)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(z){return z!==T})},1)},[]),y=C.useCallback(function(v){n.current=Vh(v),r.current=void 0},[]),g=C.useCallback(function(v){p(v.type,N2(v),v.target,u(v,e.lockRef.current))},[]),b=C.useCallback(function(v){p(v.type,Vh(v),v.target,u(v,e.lockRef.current))},[]);C.useEffect(function(){return fc.push(s),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",d,dc),document.addEventListener("touchmove",d,dc),document.addEventListener("touchstart",y,dc),function(){fc=fc.filter(function(v){return v!==s}),document.removeEventListener("wheel",d,dc),document.removeEventListener("touchmove",d,dc),document.removeEventListener("touchstart",y,dc)}},[]);var _=e.removeScrollBar,S=e.inert;return C.createElement(C.Fragment,null,S?C.createElement(s,{styles:dH(i)}):null,_?C.createElement(nH,{gapMode:e.gapMode}):null)}function pH(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mH=H9(gP,hH);var ym=C.forwardRef(function(e,t){return C.createElement(gm,qi({},e,{ref:t,sideCar:mH}))});ym.classNames=gm.classNames;var gH=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},hc=new WeakMap,qh=new WeakMap,Kh={},Hy=0,xP=function(e){return e&&(e.host||xP(e.parentNode))},yH=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=xP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},vH=function(e,t,n,r){var i=yH(t,Array.isArray(e)?e:[e]);Kh[n]||(Kh[n]=new WeakMap);var s=Kh[n],l=[],u=new Set,d=new Set(i),p=function(g){!g||u.has(g)||(u.add(g),p(g.parentNode))};i.forEach(p);var y=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(b){if(u.has(b))y(b);else try{var _=b.getAttribute(r),S=_!==null&&_!=="false",v=(hc.get(b)||0)+1,E=(s.get(b)||0)+1;hc.set(b,v),s.set(b,E),l.push(b),v===1&&S&&qh.set(b,!0),E===1&&b.setAttribute(n,"true"),S||b.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",b,k)}})};return y(t),u.clear(),Hy++,function(){l.forEach(function(g){var b=hc.get(g)-1,_=s.get(g)-1;hc.set(g,b),s.set(g,_),b||(qh.has(g)||g.removeAttribute(r),qh.delete(g)),_||g.removeAttribute(n)}),Hy--,Hy||(hc=new WeakMap,hc=new WeakMap,qh=new WeakMap,Kh={})}},i_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=gH(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),vH(r,i,n,"aria-hidden")):function(){return null}},vm="Dialog",[bP,KK]=Nn(vm),[wH,Si]=bP(vm),EP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,u=C.useRef(null),d=C.useRef(null),[p,y]=ti({prop:r,defaultProp:i??!1,onChange:s,caller:vm});return m.jsx(wH,{scope:t,triggerRef:u,contentRef:d,contentId:Xr(),titleId:Xr(),descriptionId:Xr(),open:p,onOpenChange:y,onOpenToggle:C.useCallback(()=>y(g=>!g),[y]),modal:l,children:n})};EP.displayName=vm;var SP="DialogTrigger",_H=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Si(SP,n),s=ft(t,i.triggerRef);return m.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":l_(i.open),...r,ref:s,onClick:Ue(e.onClick,i.onOpenToggle)})});_H.displayName=SP;var o_="DialogPortal",[xH,kP]=bP(o_,{forceMount:void 0}),CP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Si(o_,t);return m.jsx(xH,{scope:t,forceMount:n,children:C.Children.map(r,l=>m.jsx(In,{present:n||s.open,children:m.jsx(rf,{asChild:!0,container:i,children:l})}))})};CP.displayName=o_;var Pp="DialogOverlay",NP=C.forwardRef((e,t)=>{const n=kP(Pp,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Si(Pp,e.__scopeDialog);return s.modal?m.jsx(In,{present:r||s.open,children:m.jsx(EH,{...i,ref:t})}):null});NP.displayName=Pp;var bH=ll("DialogOverlay.RemoveScroll"),EH=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Si(Pp,n);return m.jsx(ym,{as:bH,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(Ge.div,{"data-state":l_(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ul="DialogContent",PP=C.forwardRef((e,t)=>{const n=kP(ul,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Si(ul,e.__scopeDialog);return m.jsx(In,{present:r||s.open,children:s.modal?m.jsx(SH,{...i,ref:t}):m.jsx(kH,{...i,ref:t})})});PP.displayName=ul;var SH=C.forwardRef((e,t)=>{const n=Si(ul,e.__scopeDialog),r=C.useRef(null),i=ft(t,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return i_(s)},[]),m.jsx(TP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&s.preventDefault()}),onFocusOutside:Ue(e.onFocusOutside,s=>s.preventDefault())})}),kH=C.forwardRef((e,t)=>{const n=Si(ul,e.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return m.jsx(TP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var d,p;(d=e.onInteractOutside)==null||d.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((p=n.triggerRef.current)==null?void 0:p.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),TP=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=e,u=Si(ul,n),d=C.useRef(null),p=ft(t,d);return r_(),m.jsxs(m.Fragment,{children:[m.jsx(mm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(ru,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":l_(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(CH,{titleId:u.titleId}),m.jsx(PH,{contentRef:d,descriptionId:u.descriptionId})]})]})}),s_="DialogTitle",a_=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Si(s_,n);return m.jsx(Ge.h2,{id:i.titleId,...r,ref:t})});a_.displayName=s_;var AP="DialogDescription",RP=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Si(AP,n);return m.jsx(Ge.p,{id:i.descriptionId,...r,ref:t})});RP.displayName=AP;var IP="DialogClose",jP=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Si(IP,n);return m.jsx(Ge.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,()=>i.onOpenChange(!1))})});jP.displayName=IP;function l_(e){return e?"open":"closed"}var LP="DialogTitleWarning",[GK,OP]=uB(LP,{contentName:ul,titleName:s_,docsSlug:"dialog"}),CH=({titleId:e})=>{const t=OP(LP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},NH="DialogDescriptionWarning",PH=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${OP(NH).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},TH=EP,AH=CP,MP=NP,zP=PP,DP=a_,BP=RP,RH=jP;const cu=TH,IH=AH,FP=C.forwardRef(({className:e,...t},n)=>m.jsx(MP,{ref:n,className:We("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));FP.displayName=MP.displayName;const yl=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(IH,{children:[m.jsx(FP,{}),m.jsxs(zP,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,m.jsxs(RH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(uN,{className:"size-5"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yl.displayName=zP.displayName;const uu=({className:e,...t})=>m.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});uu.displayName="DialogHeader";const cf=C.forwardRef(({className:e,...t},n)=>m.jsx(DP,{ref:n,className:We("text-lg font-semibold leading-none tracking-tight",e),...t}));cf.displayName=DP.displayName;const wm=C.forwardRef(({className:e,...t},n)=>m.jsx(BP,{ref:n,className:We("text-sm text-muted-foreground",e),...t}));wm.displayName=BP.displayName;var jH=C.createContext(void 0);function vl(e){const t=C.useContext(jH);return e||t||"ltr"}var Zy="rovingFocusGroup.onEntryFocus",LH={bubbles:!1,cancelable:!0},uf="RovingFocusGroup",[E0,UP,OH]=nf(uf),[MH,du]=Nn(uf,[OH]),[zH,DH]=MH(uf),$P=C.forwardRef((e,t)=>m.jsx(E0.Provider,{scope:e.__scopeRovingFocusGroup,children:m.jsx(E0.Slot,{scope:e.__scopeRovingFocusGroup,children:m.jsx(BH,{...e,ref:t})})}));$P.displayName=uf;var BH=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...g}=e,b=C.useRef(null),_=ft(t,b),S=vl(s),[v,E]=ti({prop:l,defaultProp:u??null,onChange:d,caller:uf}),[k,A]=C.useState(!1),T=ln(p),z=UP(n),D=C.useRef(!1),[$,Z]=C.useState(0);return C.useEffect(()=>{const q=b.current;if(q)return q.addEventListener(Zy,T),()=>q.removeEventListener(Zy,T)},[T]),m.jsx(zH,{scope:n,orientation:r,dir:S,loop:i,currentTabStopId:v,onItemFocus:C.useCallback(q=>E(q),[E]),onItemShiftTab:C.useCallback(()=>A(!0),[]),onFocusableItemAdd:C.useCallback(()=>Z(q=>q+1),[]),onFocusableItemRemove:C.useCallback(()=>Z(q=>q-1),[]),children:m.jsx(Ge.div,{tabIndex:k||$===0?-1:0,"data-orientation":r,...g,ref:_,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{D.current=!0}),onFocus:Ue(e.onFocus,q=>{const F=!D.current;if(q.target===q.currentTarget&&F&&!k){const W=new CustomEvent(Zy,LH);if(q.currentTarget.dispatchEvent(W),!W.defaultPrevented){const J=z().filter(se=>se.focusable),U=J.find(se=>se.active),X=J.find(se=>se.id===v),K=[U,X,...J].filter(Boolean).map(se=>se.ref.current);WP(K,y)}}D.current=!1}),onBlur:Ue(e.onBlur,()=>A(!1))})})}),HP="RovingFocusGroupItem",ZP=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:l,...u}=e,d=Xr(),p=s||d,y=DH(HP,n),g=y.currentTabStopId===p,b=UP(n),{onFocusableItemAdd:_,onFocusableItemRemove:S,currentTabStopId:v}=y;return C.useEffect(()=>{if(r)return _(),()=>S()},[r,_,S]),m.jsx(E0.ItemSlot,{scope:n,id:p,focusable:r,active:i,children:m.jsx(Ge.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...u,ref:t,onMouseDown:Ue(e.onMouseDown,E=>{r?y.onItemFocus(p):E.preventDefault()}),onFocus:Ue(e.onFocus,()=>y.onItemFocus(p)),onKeyDown:Ue(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){y.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const k=$H(E,y.orientation,y.dir);if(k!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let T=b().filter(z=>z.focusable).map(z=>z.ref.current);if(k==="last")T.reverse();else if(k==="prev"||k==="next"){k==="prev"&&T.reverse();const z=T.indexOf(E.currentTarget);T=y.loop?HH(T,z+1):T.slice(z+1)}setTimeout(()=>WP(T))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:v!=null}):l})})});ZP.displayName=HP;var FH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $H(e,t,n){const r=UH(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return FH[r]}function WP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function HH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var c_=$P,u_=ZP,_m="Tabs",[ZH,YK]=Nn(_m,[du]),VP=du(),[WH,d_]=ZH(_m),qP=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:l="horizontal",dir:u,activationMode:d="automatic",...p}=e,y=vl(u),[g,b]=ti({prop:r,onChange:i,defaultProp:s??"",caller:_m});return m.jsx(WH,{scope:n,baseId:Xr(),value:g,onValueChange:b,orientation:l,dir:y,activationMode:d,children:m.jsx(Ge.div,{dir:y,"data-orientation":l,...p,ref:t})})});qP.displayName=_m;var KP="TabsList",GP=C.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=d_(KP,n),l=VP(n);return m.jsx(c_,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:r,children:m.jsx(Ge.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});GP.displayName=KP;var YP="TabsTrigger",JP=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,l=d_(YP,n),u=VP(n),d=eT(l.baseId,r),p=tT(l.baseId,r),y=r===l.value;return m.jsx(u_,{asChild:!0,...u,focusable:!i,active:y,children:m.jsx(Ge.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":p,"data-state":y?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...s,ref:t,onMouseDown:Ue(e.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?l.onValueChange(r):g.preventDefault()}),onKeyDown:Ue(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(r)}),onFocus:Ue(e.onFocus,()=>{const g=l.activationMode!=="manual";!y&&!i&&g&&l.onValueChange(r)})})})});JP.displayName=YP;var QP="TabsContent",XP=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...l}=e,u=d_(QP,n),d=eT(u.baseId,r),p=tT(u.baseId,r),y=r===u.value,g=C.useRef(y);return C.useEffect(()=>{const b=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(b)},[]),m.jsx(In,{present:i||y,children:({present:b})=>m.jsx(Ge.div,{"data-state":y?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!b,id:p,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:b&&s})})});XP.displayName=QP;function eT(e,t){return`${e}-trigger-${t}`}function tT(e,t){return`${e}-content-${t}`}var VH=qP,nT=GP,rT=JP,iT=XP;const qH=VH,oT=C.forwardRef(({className:e,...t},n)=>m.jsx(nT,{ref:n,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));oT.displayName=nT.displayName;const S0=C.forwardRef(({className:e,...t},n)=>m.jsx(rT,{ref:n,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));S0.displayName=rT.displayName;const k0=C.forwardRef(({className:e,...t},n)=>m.jsx(iT,{ref:n,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));k0.displayName=iT.displayName;const KH=sf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),sT=C.forwardRef(({className:e,variant:t,...n},r)=>m.jsx("div",{ref:r,role:"alert",className:We(KH({variant:t}),e),...n}));sT.displayName="Alert";const GH=C.forwardRef(({className:e,...t},n)=>m.jsx("h5",{ref:n,className:We("mb-1 font-medium leading-none tracking-tight",e),...t}));GH.displayName="AlertTitle";const aT=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:We("text-sm [&_p]:leading-relaxed",e),...t}));aT.displayName="AlertDescription";var xm="Collapsible",[YH,JK]=Nn(xm),[JH,f_]=YH(xm),lT=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:l,...u}=e,[d,p]=ti({prop:r,defaultProp:i??!1,onChange:l,caller:xm});return m.jsx(JH,{scope:n,disabled:s,contentId:Xr(),open:d,onOpenToggle:C.useCallback(()=>p(y=>!y),[p]),children:m.jsx(Ge.div,{"data-state":p_(d),"data-disabled":s?"":void 0,...u,ref:t})})});lT.displayName=xm;var cT="CollapsibleTrigger",uT=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=f_(cT,n);return m.jsx(Ge.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":p_(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:Ue(e.onClick,i.onOpenToggle)})});uT.displayName=cT;var h_="CollapsibleContent",dT=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=f_(h_,e.__scopeCollapsible);return m.jsx(In,{present:n||i.open,children:({present:s})=>m.jsx(QH,{...r,ref:t,present:s})})});dT.displayName=h_;var QH=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,l=f_(h_,n),[u,d]=C.useState(r),p=C.useRef(null),y=ft(t,p),g=C.useRef(0),b=g.current,_=C.useRef(0),S=_.current,v=l.open||u,E=C.useRef(v),k=C.useRef(void 0);return C.useEffect(()=>{const A=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(A)},[]),un(()=>{const A=p.current;if(A){k.current=k.current||{transitionDuration:A.style.transitionDuration,animationName:A.style.animationName},A.style.transitionDuration="0s",A.style.animationName="none";const T=A.getBoundingClientRect();g.current=T.height,_.current=T.width,E.current||(A.style.transitionDuration=k.current.transitionDuration,A.style.animationName=k.current.animationName),d(r)}},[l.open,r]),m.jsx(Ge.div,{"data-state":p_(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...s,ref:y,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style},children:v&&i})});function p_(e){return e?"open":"closed"}var XH=lT;const eZ=XH,tZ=uT,nZ=dT;function fT(){const{nostr:e}=jr(),{logins:t,addLogin:n,removeLogin:r}=Aw();return{nsec(i){const s=tl.fromNsec(i);n(s)},async bunker(i){const s=await tl.fromBunker(i,e);n(s)},async extension(){const i=await tl.fromExtension();n(i)},async logout(){const i=t[0];i&&r(i.id)}}}const T2=e=>/^nsec1[a-zA-Z0-9]{58}$/.test(e),rZ=e=>e.startsWith("bunker://"),iZ=({isOpen:e,onClose:t,onLogin:n})=>{const[r,i]=C.useState(!1),[s,l]=C.useState(!1),[u,d]=C.useState(""),[p,y]=C.useState(""),[g,b]=C.useState({}),_=C.useRef(null),S=fT();C.useEffect(()=>{e&&(i(!1),l(!1),d(""),y(""),b({}),_.current&&(_.current.value=""))},[e]);const v=async()=>{i(!0),b(q=>({...q,extension:void 0}));try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");await S.extension(),n(),t()}catch(q){const F=q;console.error("Bunker login failed:",F),console.error("Nsec login failed:",F),console.error("Extension login failed:",F),b(W=>({...W,extension:F instanceof Error?F.message:"Extension login failed"}))}finally{i(!1)}},E=q=>{i(!0),b({}),setTimeout(()=>{try{S.nsec(q),n(),t()}catch{b({nsec:"Failed to login with this key. Please check that it's correct."}),i(!1)}},50)},k=()=>{if(!u.trim()){b(q=>({...q,nsec:"Please enter your secret key"}));return}if(!T2(u)){b(q=>({...q,nsec:"Invalid secret key format. Must be a valid nsec starting with nsec1."}));return}E(u)},A=async()=>{if(!p.trim()){b(q=>({...q,bunker:"Please enter a bunker URI"}));return}if(!rZ(p)){b(q=>({...q,bunker:"Invalid bunker URI format. Must start with bunker://"}));return}i(!0),b(q=>({...q,bunker:void 0}));try{await S.bunker(p),n(),t(),y("")}catch{b(q=>({...q,bunker:"Failed to connect to bunker. Please check the URI."}))}finally{i(!1)}},T=q=>{var J;const F=(J=q.target.files)==null?void 0:J[0];if(!F)return;l(!0),b({});const W=new FileReader;W.onload=U=>{var j;l(!1);const X=(j=U.target)==null?void 0:j.result;if(X){const K=X.trim();T2(K)?E(K):b({file:"File does not contain a valid secret key."})}else b({file:"Could not read file content."})},W.onerror=()=>{l(!1),b({file:"Failed to read file."})},W.readAsText(F)},z="nostr"in window,[D,$]=C.useState(!1),Z=()=>m.jsxs(qH,{defaultValue:"key",className:"w-full",children:[m.jsxs(oT,{className:"grid w-full grid-cols-2 bg-muted/80 rounded-lg mb-4",children:[m.jsx(S0,{value:"key",className:"flex items-center gap-2",children:m.jsx("span",{children:"Secret Key"})}),m.jsx(S0,{value:"bunker",className:"flex items-center gap-2",children:m.jsx("span",{children:"Remote Signer"})})]}),m.jsx(k0,{value:"key",className:"space-y-4",children:m.jsxs("form",{onSubmit:q=>{q.preventDefault(),k()},className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{id:"nsec",type:"password",value:u,onChange:q=>{d(q.target.value),g.nsec&&b(F=>({...F,nsec:void 0}))},className:`rounded-lg ${g.nsec?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:"nsec1...",autoComplete:"off"}),g.nsec&&m.jsx("p",{className:"text-sm text-red-500",children:g.nsec})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(gt,{type:"submit",size:"lg",disabled:r||!u.trim(),className:"flex-1",children:r?"Verifying...":"Log in"}),m.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:_,onChange:T}),m.jsx(gt,{type:"button",variant:"outline",size:"lg",onClick:()=>{var q;return(q=_.current)==null?void 0:q.click()},disabled:r||s,className:"px-3",children:m.jsx(cN,{className:"w-4 h-4"})})]}),g.file&&m.jsx("p",{className:"text-sm text-red-500 text-center",children:g.file})]})}),m.jsx(k0,{value:"bunker",className:"space-y-4",children:m.jsxs("form",{onSubmit:q=>{q.preventDefault(),A()},className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{id:"bunkerUri",value:p,onChange:q=>{y(q.target.value),g.bunker&&b(F=>({...F,bunker:void 0}))},className:`rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary ${g.bunker?"border-red-500":""}`,placeholder:"bunker://",autoComplete:"off"}),g.bunker&&m.jsx("p",{className:"text-sm text-red-500",children:g.bunker})]}),m.jsx(gt,{type:"submit",size:"lg",className:"w-full",disabled:r||!p.trim(),children:r?"Connecting...":"Log in"})]})})]});return m.jsx(cu,{open:e,onOpenChange:t,children:m.jsxs(yl,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[m.jsx(uu,{className:"px-6 pt-6",children:m.jsx(a_,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:"Log in"})}),m.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),m.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto",children:[z&&m.jsxs("div",{className:"space-y-4",children:[g.extension&&m.jsxs(sT,{variant:"destructive",children:[m.jsx(Mw,{className:"h-4 w-4"}),m.jsx(aT,{children:g.extension})]}),m.jsx(gt,{className:"w-full h-12 px-9",onClick:v,disabled:r,children:r?"Logging in...":"Log in with Extension"})]}),z?m.jsxs(eZ,{className:"space-y-4",open:D,onOpenChange:$,children:[m.jsx(tZ,{asChild:!0,children:m.jsxs("button",{className:"w-full flex items-center justify-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[m.jsx("span",{children:"More Options"}),m.jsx(om,{className:`w-4 h-4 transition-transform ${D?"rotate-180":""}`})]})}),m.jsx(nZ,{children:Z()})]}):Z()]})]})})},bm=C.forwardRef(({className:e,...t},n)=>m.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));bm.displayName="Textarea";function m_(){const{nostr:e}=jr(),{user:t}=pl();return Z0({mutationFn:async n=>{if(t){const r=n.tags??[];location.protocol==="https:"&&!r.some(([s])=>s==="client")&&r.push(["client",location.hostname]);const i=await t.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await e.event(i,{signal:AbortSignal.timeout(5e3)}),i}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}class g_{constructor(t){Ze(this,"servers");Ze(this,"signer");Ze(this,"fetch");Ze(this,"expiresIn");this.servers=t.servers,this.signer=t.signer,this.fetch=t.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=t.expiresIn??6e4}async upload(t,n){const r=await crypto.subtle.digest("SHA-256",await t.arrayBuffer()),i=U6(new Uint8Array(r)),s=Date.now(),l=s+this.expiresIn,u=await this.signer.signEvent({kind:24242,content:`Upload ${t.name}`,created_at:Math.floor(s/1e3),tags:[["t","upload"],["x",i],["size",t.size.toString()],["expiration",Math.floor(l/1e3).toString()]]}),d=`Nostr ${q6.encodeEvent(u)}`;return Promise.any(this.servers.map(async p=>{const y=new URL("/upload",p),b=await(await this.fetch(y,{method:"PUT",body:t,headers:{authorization:d,"content-type":t.type},signal:n==null?void 0:n.signal})).json(),_=g_.schema().parse(b),S=[["url",_.url],["x",_.sha256],["ox",_.sha256],["size",_.size.toString()]];return _.type&&S.push(["m",_.type]),S}))}static schema(){return Oo({url:Lt(),sha256:Lt(),size:ko(),type:Lt().optional()})}}function hT(){const{user:e}=pl();return Z0({mutationFn:async t=>{if(!e)throw new Error("Must be logged in to upload files");return await new g_({servers:["https://blossom.primal.net/"],signer:e.signer}).upload(t)}})}const oZ=({isOpen:e,onClose:t})=>{const[n,r]=C.useState("generate"),[i,s]=C.useState(""),[l,u]=C.useState(!1),[d,p]=C.useState({name:"",about:"",picture:""}),y=fT(),{mutateAsync:g,isPending:b}=m_(),{mutateAsync:_,isPending:S}=hT(),v=C.useRef(null),E=()=>{const D=ef();s(tr.nsecEncode(D)),r("download")},k=()=>{try{const D=new Blob([i],{type:"text/plain; charset=utf-8"}),$=globalThis.URL.createObjectURL(D),Z=tr.decode(i);if(Z.type!=="nsec")throw new Error("Invalid nsec key");const q=Bo(Z.data),F=tr.npubEncode(q),W=`nostr-${location.hostname.replaceAll(/\./g,"-")}-${F.slice(5,9)}.nsec.txt`,J=document.createElement("a");J.href=$,J.download=W,J.style.display="none",document.body.appendChild(J),J.click(),globalThis.URL.revokeObjectURL($),document.body.removeChild(J),y.nsec(i),r("profile")}catch{gc({title:"Download failed",description:"Could not download the key file. Please copy it manually.",variant:"destructive"})}},A=async D=>{var Z,q;const $=(Z=D.target.files)==null?void 0:Z[0];if($){if(D.target.value="",!$.type.startsWith("image/")){gc({title:"Invalid file type",description:"Please select an image file for your avatar.",variant:"destructive"});return}if($.size>5*1024*1024){gc({title:"File too large",description:"Avatar image must be smaller than 5MB.",variant:"destructive"});return}try{const W=(q=(await _($))[0])==null?void 0:q[1];W&&p(J=>({...J,picture:W}))}catch{gc({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}}},T=async(D=!1)=>{try{if(!D&&(d.name||d.about||d.picture)){const $={};d.name&&($.name=d.name),d.about&&($.about=d.about),d.picture&&($.picture=d.picture),await g({kind:0,content:JSON.stringify($)})}}catch{gc({title:"Profile Setup Failed",description:"Your account was created but profile setup failed. You can update it later.",variant:"destructive"})}finally{t()}},z=()=>{if(n==="generate")return"Sign up";if(n==="download")return"Secret Key";if(n==="profile")return"Create Your Profile"};return C.useEffect(()=>{e&&(r("generate"),s(""),u(!1),p({name:"",about:"",picture:""}))},[e]),m.jsx(cu,{open:e,onOpenChange:t,children:m.jsxs(yl,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[m.jsx(uu,{className:"px-6 pt-6",children:m.jsx(cf,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:z()})}),m.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto flex-1",children:[n==="generate"&&m.jsxs("div",{className:"text-center space-y-6",children:[m.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),m.jsx(gt,{className:"w-full h-12 px-9",onClick:E,children:"Generate key"})]}),n==="download"&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex size-16 text-4xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),m.jsxs("div",{className:"relative",children:[m.jsx(kn,{type:l?"text":"password",value:i,readOnly:!0,className:"pr-10 font-mono text-sm"}),m.jsx(gt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>u(!l),children:l?m.jsx(fF,{className:"h-4 w-4 text-muted-foreground"}):m.jsx(hF,{className:"h-4 w-4 text-muted-foreground"})})]}),m.jsxs(gt,{className:"w-full h-12 px-9",onClick:k,children:[m.jsx(uF,{className:"size-4"}),"Download key"]}),m.jsx("div",{className:"mx-auto max-w-sm",children:m.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[m.jsx("div",{className:"flex items-center gap-2 mb-1",children:m.jsx("span",{className:"text-xs font-semibold text-amber-800 dark:text-amber-200",children:"Important Warning"})}),m.jsx("p",{className:"text-xs text-amber-900 dark:text-amber-300",children:"This key is your primary and only means of accessing your account. Store it safely and securely. Please download your key to continue."})]})})]}),n==="profile"&&m.jsxs("div",{className:"text-center space-y-4",children:[b&&m.jsx("div",{className:"p-4 rounded-lg bg-muted border",children:m.jsxs("div",{className:"flex items-center justify-center gap-3",children:[m.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),m.jsx("span",{className:"text-sm font-medium",children:"Publishing your profile..."})]})}),m.jsxs("div",{className:`space-y-4 text-left ${b?"opacity-50 pointer-events-none":""}`,children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"profile-name",className:"text-sm font-medium",children:"Display Name"}),m.jsx(kn,{id:"profile-name",value:d.name,onChange:D=>p($=>({...$,name:D.target.value})),placeholder:"Your name",disabled:b})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"profile-about",className:"text-sm font-medium",children:"Bio"}),m.jsx(bm,{id:"profile-about",value:d.about,onChange:D=>p($=>({...$,about:D.target.value})),placeholder:"Tell others about yourself...",className:"resize-none",rows:3,disabled:b})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"profile-picture",className:"text-sm font-medium",children:"Avatar"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(kn,{id:"profile-picture",value:d.picture,onChange:D=>p($=>({...$,picture:D.target.value})),placeholder:"https://example.com/your-avatar.jpg",className:"flex-1",disabled:b}),m.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:v,onChange:A}),m.jsx(gt,{type:"button",variant:"outline",size:"icon",onClick:()=>{var D;return(D=v.current)==null?void 0:D.click()},disabled:S||b,title:"Upload avatar image",children:S?m.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):m.jsx(cN,{className:"w-4 h-4"})})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(gt,{className:"w-full",onClick:()=>T(!1),disabled:b||S,children:b?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):"Create profile"}),m.jsx(gt,{variant:"outline",className:"w-full",onClick:()=>T(!0),disabled:b||S,children:b?"Setting up account...":"Skip for now"})]})]})]})]})})};function pT(){const{nostr:e}=jr(),{logins:t,setLogin:n,removeLogin:r}=Aw(),{data:i=[]}=Ro({queryKey:["nostr","logins",t.map(u=>u.id).join(";")],queryFn:async({signal:u})=>{const d=await e.query([{kinds:[0],authors:t.map(p=>p.pubkey)}],{signal:AbortSignal.any([u,AbortSignal.timeout(1500)])});return t.map(({id:p,pubkey:y})=>{const g=d.find(b=>b.pubkey===y);try{const b=kt.json().pipe(kt.metadata()).parse(g==null?void 0:g.content);return{id:p,pubkey:y,metadata:b,event:g}}catch{return{id:p,pubkey:y,metadata:{},event:g}}})},retry:3}),s=(()=>{const u=t[0];if(!u)return;const d=i.find(p=>p.id===u.id);return{metadata:{},...d,id:u.id,pubkey:u.pubkey}})(),l=(i||[]).slice(1);return{authors:i,currentUser:s,otherUsers:l,setLogin:n,removeLogin:r}}var C0=["Enter"," "],sZ=["ArrowDown","PageUp","Home"],mT=["ArrowUp","PageDown","End"],aZ=[...sZ,...mT],lZ={ltr:[...C0,"ArrowRight"],rtl:[...C0,"ArrowLeft"]},cZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},df="Menu",[Fd,uZ,dZ]=nf(df),[wl,gT]=Nn(df,[dZ,au,du]),Em=au(),yT=du(),[fZ,_l]=wl(df),[hZ,ff]=wl(df),vT=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:l=!0}=e,u=Em(t),[d,p]=C.useState(null),y=C.useRef(!1),g=ln(s),b=vl(i);return C.useEffect(()=>{const _=()=>{y.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>y.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),m.jsx(qw,{...u,children:m.jsx(fZ,{scope:t,open:n,onOpenChange:g,content:d,onContentChange:p,children:m.jsx(hZ,{scope:t,onClose:C.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:b,modal:l,children:r})})})};vT.displayName=df;var pZ="MenuAnchor",y_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Em(n);return m.jsx(Kw,{...i,...r,ref:t})});y_.displayName=pZ;var v_="MenuPortal",[mZ,wT]=wl(v_,{forceMount:void 0}),_T=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=_l(v_,t);return m.jsx(mZ,{scope:t,forceMount:n,children:m.jsx(In,{present:n||s.open,children:m.jsx(rf,{asChild:!0,container:i,children:r})})})};_T.displayName=v_;var ei="MenuContent",[gZ,w_]=wl(ei),xT=C.forwardRef((e,t)=>{const n=wT(ei,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=_l(ei,e.__scopeMenu),l=ff(ei,e.__scopeMenu);return m.jsx(Fd.Provider,{scope:e.__scopeMenu,children:m.jsx(In,{present:r||s.open,children:m.jsx(Fd.Slot,{scope:e.__scopeMenu,children:l.modal?m.jsx(yZ,{...i,ref:t}):m.jsx(vZ,{...i,ref:t})})})})}),yZ=C.forwardRef((e,t)=>{const n=_l(ei,e.__scopeMenu),r=C.useRef(null),i=ft(t,r);return C.useEffect(()=>{const s=r.current;if(s)return i_(s)},[]),m.jsx(__,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ue(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),vZ=C.forwardRef((e,t)=>{const n=_l(ei,e.__scopeMenu);return m.jsx(__,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),wZ=ll("MenuContent.ScrollLock"),__=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:b,onDismiss:_,disableOutsideScroll:S,...v}=e,E=_l(ei,n),k=ff(ei,n),A=Em(n),T=yT(n),z=uZ(n),[D,$]=C.useState(null),Z=C.useRef(null),q=ft(t,Z,E.onContentChange),F=C.useRef(0),W=C.useRef(""),J=C.useRef(0),U=C.useRef(null),X=C.useRef("right"),j=C.useRef(0),K=S?ym:C.Fragment,se=S?{as:wZ,allowPinchZoom:!0}:void 0,ie=ee=>{var Pe,Te;const le=W.current+ee,H=z().filter(Oe=>!Oe.disabled),Q=document.activeElement,ke=(Pe=H.find(Oe=>Oe.ref.current===Q))==null?void 0:Pe.textValue,_e=H.map(Oe=>Oe.textValue),ve=RZ(_e,le,ke),Ie=(Te=H.find(Oe=>Oe.textValue===ve))==null?void 0:Te.ref.current;(function Oe(He){W.current=He,window.clearTimeout(F.current),He!==""&&(F.current=window.setTimeout(()=>Oe(""),1e3))})(le),Ie&&setTimeout(()=>Ie.focus())};C.useEffect(()=>()=>window.clearTimeout(F.current),[]),r_();const te=C.useCallback(ee=>{var H,Q;return X.current===((H=U.current)==null?void 0:H.side)&&jZ(ee,(Q=U.current)==null?void 0:Q.area)},[]);return m.jsx(gZ,{scope:n,searchRef:W,onItemEnter:C.useCallback(ee=>{te(ee)&&ee.preventDefault()},[te]),onItemLeave:C.useCallback(ee=>{var le;te(ee)||((le=Z.current)==null||le.focus(),$(null))},[te]),onTriggerLeave:C.useCallback(ee=>{te(ee)&&ee.preventDefault()},[te]),pointerGraceTimerRef:J,onPointerGraceIntentChange:C.useCallback(ee=>{U.current=ee},[]),children:m.jsx(K,{...se,children:m.jsx(mm,{asChild:!0,trapped:i,onMountAutoFocus:Ue(s,ee=>{var le;ee.preventDefault(),(le=Z.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:m.jsx(ru,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:b,onDismiss:_,children:m.jsx(c_,{asChild:!0,...T,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:$,onEntryFocus:Ue(d,ee=>{k.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(Gw,{role:"menu","aria-orientation":"vertical","data-state":zT(E.open),"data-radix-menu-content":"",dir:k.dir,...A,...v,ref:q,style:{outline:"none",...v.style},onKeyDown:Ue(v.onKeyDown,ee=>{const H=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,Q=ee.ctrlKey||ee.altKey||ee.metaKey,ke=ee.key.length===1;H&&(ee.key==="Tab"&&ee.preventDefault(),!Q&&ke&&ie(ee.key));const _e=Z.current;if(ee.target!==_e||!aZ.includes(ee.key))return;ee.preventDefault();const Ie=z().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);mT.includes(ee.key)&&Ie.reverse(),TZ(Ie)}),onBlur:Ue(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(F.current),W.current="")}),onPointerMove:Ue(e.onPointerMove,Ud(ee=>{const le=ee.target,H=j.current!==ee.clientX;if(ee.currentTarget.contains(le)&&H){const Q=ee.clientX>j.current?"right":"left";X.current=Q,j.current=ee.clientX}}))})})})})})})});xT.displayName=ei;var _Z="MenuGroup",x_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(Ge.div,{role:"group",...r,ref:t})});x_.displayName=_Z;var xZ="MenuLabel",bT=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(Ge.div,{...r,ref:t})});bT.displayName=xZ;var Tp="MenuItem",A2="menu.itemSelect",Sm=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=C.useRef(null),l=ff(Tp,e.__scopeMenu),u=w_(Tp,e.__scopeMenu),d=ft(t,s),p=C.useRef(!1),y=()=>{const g=s.current;if(!n&&g){const b=new CustomEvent(A2,{bubbles:!0,cancelable:!0});g.addEventListener(A2,_=>r==null?void 0:r(_),{once:!0}),Rw(g,b),b.defaultPrevented?p.current=!1:l.onClose()}};return m.jsx(ET,{...i,ref:d,disabled:n,onClick:Ue(e.onClick,y),onPointerDown:g=>{var b;(b=e.onPointerDown)==null||b.call(e,g),p.current=!0},onPointerUp:Ue(e.onPointerUp,g=>{var b;p.current||(b=g.currentTarget)==null||b.click()}),onKeyDown:Ue(e.onKeyDown,g=>{const b=u.searchRef.current!=="";n||b&&g.key===" "||C0.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Sm.displayName=Tp;var ET=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,l=w_(Tp,n),u=yT(n),d=C.useRef(null),p=ft(t,d),[y,g]=C.useState(!1),[b,_]=C.useState("");return C.useEffect(()=>{const S=d.current;S&&_((S.textContent??"").trim())},[s.children]),m.jsx(Fd.ItemSlot,{scope:n,disabled:r,textValue:i??b,children:m.jsx(u_,{asChild:!0,...u,focusable:!r,children:m.jsx(Ge.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:p,onPointerMove:Ue(e.onPointerMove,Ud(S=>{r?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ue(e.onPointerLeave,Ud(S=>l.onItemLeave(S))),onFocus:Ue(e.onFocus,()=>g(!0)),onBlur:Ue(e.onBlur,()=>g(!1))})})})}),bZ="MenuCheckboxItem",ST=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return m.jsx(TT,{scope:e.__scopeMenu,checked:n,children:m.jsx(Sm,{role:"menuitemcheckbox","aria-checked":Ap(n)?"mixed":n,...i,ref:t,"data-state":E_(n),onSelect:Ue(i.onSelect,()=>r==null?void 0:r(Ap(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ST.displayName=bZ;var kT="MenuRadioGroup",[EZ,SZ]=wl(kT,{value:void 0,onValueChange:()=>{}}),CT=C.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=ln(r);return m.jsx(EZ,{scope:e.__scopeMenu,value:n,onValueChange:s,children:m.jsx(x_,{...i,ref:t})})});CT.displayName=kT;var NT="MenuRadioItem",PT=C.forwardRef((e,t)=>{const{value:n,...r}=e,i=SZ(NT,e.__scopeMenu),s=n===i.value;return m.jsx(TT,{scope:e.__scopeMenu,checked:s,children:m.jsx(Sm,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":E_(s),onSelect:Ue(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,n)},{checkForDefaultPrevented:!1})})})});PT.displayName=NT;var b_="MenuItemIndicator",[TT,kZ]=wl(b_,{checked:!1}),AT=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=kZ(b_,n);return m.jsx(In,{present:r||Ap(s.checked)||s.checked===!0,children:m.jsx(Ge.span,{...i,ref:t,"data-state":E_(s.checked)})})});AT.displayName=b_;var CZ="MenuSeparator",RT=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(Ge.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});RT.displayName=CZ;var NZ="MenuArrow",IT=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Em(n);return m.jsx(Yw,{...i,...r,ref:t})});IT.displayName=NZ;var PZ="MenuSub",[QK,jT]=wl(PZ),wd="MenuSubTrigger",LT=C.forwardRef((e,t)=>{const n=_l(wd,e.__scopeMenu),r=ff(wd,e.__scopeMenu),i=jT(wd,e.__scopeMenu),s=w_(wd,e.__scopeMenu),l=C.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=s,p={__scopeMenu:e.__scopeMenu},y=C.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return C.useEffect(()=>y,[y]),C.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),d(null)}},[u,d]),m.jsx(y_,{asChild:!0,...p,children:m.jsx(ET,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":zT(n.open),...e,ref:nm(t,i.onTriggerChange),onClick:g=>{var b;(b=e.onClick)==null||b.call(e,g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ue(e.onPointerMove,Ud(g=>{s.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:Ue(e.onPointerLeave,Ud(g=>{var _,S;y();const b=(_=n.content)==null?void 0:_.getBoundingClientRect();if(b){const v=(S=n.content)==null?void 0:S.dataset.side,E=v==="right",k=E?-5:5,A=b[E?"left":"right"],T=b[E?"right":"left"];s.onPointerGraceIntentChange({area:[{x:g.clientX+k,y:g.clientY},{x:A,y:b.top},{x:T,y:b.top},{x:T,y:b.bottom},{x:A,y:b.bottom}],side:v}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(g),g.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ue(e.onKeyDown,g=>{var _;const b=s.searchRef.current!=="";e.disabled||b&&g.key===" "||lZ[r.dir].includes(g.key)&&(n.onOpenChange(!0),(_=n.content)==null||_.focus(),g.preventDefault())})})})});LT.displayName=wd;var OT="MenuSubContent",MT=C.forwardRef((e,t)=>{const n=wT(ei,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=_l(ei,e.__scopeMenu),l=ff(ei,e.__scopeMenu),u=jT(OT,e.__scopeMenu),d=C.useRef(null),p=ft(t,d);return m.jsx(Fd.Provider,{scope:e.__scopeMenu,children:m.jsx(In,{present:r||s.open,children:m.jsx(Fd.Slot,{scope:e.__scopeMenu,children:m.jsx(__,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var g;l.isUsingKeyboardRef.current&&((g=d.current)==null||g.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Ue(e.onFocusOutside,y=>{y.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ue(e.onEscapeKeyDown,y=>{l.onClose(),y.preventDefault()}),onKeyDown:Ue(e.onKeyDown,y=>{var _;const g=y.currentTarget.contains(y.target),b=cZ[l.dir].includes(y.key);g&&b&&(s.onOpenChange(!1),(_=u.trigger)==null||_.focus(),y.preventDefault())})})})})})});MT.displayName=OT;function zT(e){return e?"open":"closed"}function Ap(e){return e==="indeterminate"}function E_(e){return Ap(e)?"indeterminate":e?"checked":"unchecked"}function TZ(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function AZ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function RZ(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=AZ(e,Math.max(s,0));i.length===1&&(l=l.filter(p=>p!==n));const d=l.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function IZ(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s],d=t[l],p=u.x,y=u.y,g=d.x,b=d.y;y>r!=b>r&&n<(g-p)*(r-y)/(b-y)+p&&(i=!i)}return i}function jZ(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return IZ(n,t)}function Ud(e){return t=>t.pointerType==="mouse"?e(t):void 0}var LZ=vT,OZ=y_,MZ=_T,zZ=xT,DZ=x_,BZ=bT,FZ=Sm,UZ=ST,$Z=CT,HZ=PT,ZZ=AT,WZ=RT,VZ=IT,qZ=LT,KZ=MT,km="DropdownMenu",[GZ,XK]=Nn(km,[gT]),nr=gT(),[YZ,DT]=GZ(km),BT=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:l,modal:u=!0}=e,d=nr(t),p=C.useRef(null),[y,g]=ti({prop:i,defaultProp:s??!1,onChange:l,caller:km});return m.jsx(YZ,{scope:t,triggerId:Xr(),triggerRef:p,contentId:Xr(),open:y,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(b=>!b),[g]),modal:u,children:m.jsx(LZ,{...d,open:y,onOpenChange:g,dir:r,modal:u,children:n})})};BT.displayName=km;var FT="DropdownMenuTrigger",UT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=DT(FT,n),l=nr(n);return m.jsx(OZ,{asChild:!0,...l,children:m.jsx(Ge.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:nm(t,s.triggerRef),onPointerDown:Ue(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:Ue(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});UT.displayName=FT;var JZ="DropdownMenuPortal",$T=e=>{const{__scopeDropdownMenu:t,...n}=e,r=nr(t);return m.jsx(MZ,{...r,...n})};$T.displayName=JZ;var HT="DropdownMenuContent",ZT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=DT(HT,n),s=nr(n),l=C.useRef(!1);return m.jsx(zZ,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:Ue(e.onCloseAutoFocus,u=>{var d;l.current||(d=i.triggerRef.current)==null||d.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Ue(e.onInteractOutside,u=>{const d=u.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,y=d.button===2||p;(!i.modal||y)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZT.displayName=HT;var QZ="DropdownMenuGroup",XZ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=nr(n);return m.jsx(DZ,{...i,...r,ref:t})});XZ.displayName=QZ;var eW="DropdownMenuLabel",WT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=nr(n);return m.jsx(BZ,{...i,...r,ref:t})});WT.displayName=eW;var tW="DropdownMenuItem",VT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=nr(n);return m.jsx(FZ,{...i,...r,ref:t})});VT.displayName=tW;var nW="DropdownMenuCheckboxItem",qT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=nr(n);return m.jsx(UZ,{...i,...r,ref:t})});qT.displayName=nW;var rW="DropdownMenuRadioGroup",iW=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=nr(n);return m.jsx($Z,{...i,...r,ref:t})});iW.displayName=rW;var oW="DropdownMenuRadioItem",KT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=nr(n);return m.jsx(HZ,{...i,...r,ref:t})});KT.displayName=oW;var sW="DropdownMenuItemIndicator",GT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=nr(n);return m.jsx(ZZ,{...i,...r,ref:t})});GT.displayName=sW;var aW="DropdownMenuSeparator",YT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=nr(n);return m.jsx(WZ,{...i,...r,ref:t})});YT.displayName=aW;var lW="DropdownMenuArrow",cW=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=nr(n);return m.jsx(VZ,{...i,...r,ref:t})});cW.displayName=lW;var uW="DropdownMenuSubTrigger",JT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=nr(n);return m.jsx(qZ,{...i,...r,ref:t})});JT.displayName=uW;var dW="DropdownMenuSubContent",QT=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=nr(n);return m.jsx(KZ,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});QT.displayName=dW;var fW=BT,hW=UT,pW=$T,XT=ZT,eA=WT,tA=VT,nA=qT,rA=KT,iA=GT,oA=YT,sA=JT,aA=QT;const mW=fW,gW=hW,yW=C.forwardRef(({className:e,inset:t,children:n,...r},i)=>m.jsxs(sA,{ref:i,className:We("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,m.jsx(iF,{className:"ml-auto h-4 w-4"})]}));yW.displayName=sA.displayName;const vW=C.forwardRef(({className:e,...t},n)=>m.jsx(aA,{ref:n,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));vW.displayName=aA.displayName;const lA=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>m.jsx(pW,{children:m.jsx(XT,{ref:r,sideOffset:t,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));lA.displayName=XT.displayName;const op=C.forwardRef(({className:e,inset:t,...n},r)=>m.jsx(tA,{ref:r,className:We("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));op.displayName=tA.displayName;const wW=C.forwardRef(({className:e,children:t,checked:n,...r},i)=>m.jsxs(nA,{ref:i,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(iA,{children:m.jsx(sN,{className:"h-4 w-4"})})}),t]}));wW.displayName=nA.displayName;const _W=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(rA,{ref:r,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(iA,{children:m.jsx(aN,{className:"h-2 w-2 fill-current"})})}),t]}));_W.displayName=rA.displayName;const xW=C.forwardRef(({className:e,inset:t,...n},r)=>m.jsx(eA,{ref:r,className:We("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));xW.displayName=eA.displayName;const cA=C.forwardRef(({className:e,...t},n)=>m.jsx(oA,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",e),...t}));cA.displayName=oA.displayName;var Wy={exports:{}},Vy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2;function bW(){if(R2)return Vy;R2=1;var e=Mp();function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,b){var _=b(),S=r({inst:{value:_,getSnapshot:b}}),v=S[0].inst,E=S[1];return s(function(){v.value=_,v.getSnapshot=b,d(v)&&E({inst:v})},[g,_,b]),i(function(){return d(v)&&E({inst:v}),g(function(){d(v)&&E({inst:v})})},[g]),l(_),_}function d(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!n(g,_)}catch{return!0}}function p(g,b){return b()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return Vy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,Vy}var I2;function EW(){return I2||(I2=1,Wy.exports=bW()),Wy.exports}var SW=EW();function kW(){return SW.useSyncExternalStore(CW,()=>!0,()=>!1)}function CW(){return()=>{}}var S_="Avatar",[NW,eG]=Nn(S_),[PW,uA]=NW(S_),dA=C.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=C.useState("idle");return m.jsx(PW,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:m.jsx(Ge.span,{...r,ref:t})})});dA.displayName=S_;var fA="AvatarImage",hA=C.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,l=uA(fA,n),u=TW(r,s),d=ln(p=>{i(p),l.onImageLoadingStatusChange(p)});return un(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?m.jsx(Ge.img,{...s,ref:t,src:r}):null});hA.displayName=fA;var pA="AvatarFallback",mA=C.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=uA(pA,n),[l,u]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&s.imageLoadingStatus!=="loaded"?m.jsx(Ge.span,{...i,ref:t}):null});mA.displayName=pA;function j2(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function TW(e,{referrerPolicy:t,crossOrigin:n}){const r=kW(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[l,u]=C.useState(()=>j2(s,e));return un(()=>{u(j2(s,e))},[s,e]),un(()=>{const d=g=>()=>{u(g)};if(!s)return;const p=d("loaded"),y=d("error");return s.addEventListener("load",p),s.addEventListener("error",y),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",p),s.removeEventListener("error",y)}},[s,n,t]),l}var gA=dA,yA=hA,vA=mA;const $d=C.forwardRef(({className:e,...t},n)=>m.jsx(gA,{ref:n,className:We("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));$d.displayName=gA.displayName;const Hd=C.forwardRef(({className:e,...t},n)=>m.jsx(yA,{ref:n,className:We("aspect-square h-full w-full object-cover",e),...t}));Hd.displayName=yA.displayName;const Zd=C.forwardRef(({className:e,...t},n)=>m.jsx(vA,{ref:n,className:We("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Zd.displayName=vA.displayName;function Cm(e){const t=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let l=0;l<e.length;l++){const u=e.charCodeAt(l);r=(r<<5)-r+u,r=r&r}const i=Math.abs(r)%t.length,s=Math.abs(r>>8)%n.length;return[t[i],n[s]].join(" ")}function AW({onAddAccountClick:e}){const{currentUser:t,otherUsers:n,setLogin:r,removeLogin:i}=pT();if(!t)return null;const s=l=>l.metadata.name??Cm(l.pubkey);return m.jsxs(mW,{modal:!1,children:[m.jsx(gW,{asChild:!0,children:m.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[m.jsxs($d,{className:"w-10 h-10",children:[m.jsx(Hd,{src:t.metadata.picture,alt:s(t)}),m.jsx(Zd,{children:s(t).charAt(0)})]}),m.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:m.jsx("p",{className:"font-medium text-sm truncate",children:s(t)})}),m.jsx(om,{className:"w-4 h-4 text-muted-foreground"})]})}),m.jsxs(lA,{className:"w-56 p-2 animate-scale-in",children:[m.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(l=>{var u;return m.jsxs(op,{onClick:()=>r(l.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[m.jsxs($d,{className:"w-8 h-8",children:[m.jsx(Hd,{src:l.metadata.picture,alt:s(l)}),m.jsx(Zd,{children:((u=s(l))==null?void 0:u.charAt(0))||m.jsx(NF,{})})]}),m.jsx("div",{className:"flex-1 truncate",children:m.jsx("p",{className:"text-sm font-medium",children:s(l)})}),l.id===t.id&&m.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},l.id)}),m.jsx(cA,{}),m.jsxs(op,{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[m.jsx(CF,{className:"w-4 h-4"}),m.jsx("span",{children:"Add another account"})]}),m.jsxs(op,{onClick:()=>i(t.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[m.jsx(wF,{className:"w-4 h-4"}),m.jsx("span",{children:"Log out"})]})]})]})}function N0({className:e}){const{currentUser:t}=pT(),[n,r]=C.useState(!1),[i,s]=C.useState(!1),l=()=>{r(!1),s(!1)};return m.jsxs("div",{className:We("inline-flex items-center justify-center",e),children:[t?m.jsx(AW,{onAddAccountClick:()=>r(!0)}):m.jsxs("div",{className:"flex gap-3 justify-center",children:[m.jsx(gt,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:m.jsx("span",{className:"truncate",children:"Log in"})}),m.jsx(gt,{onClick:()=>s(!0),variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all",children:m.jsx("span",{children:"Sign up"})})]}),m.jsx(iZ,{isOpen:n,onClose:()=>r(!1),onLogin:l}),m.jsx(oZ,{isOpen:i,onClose:()=>s(!1)})]})}function RW(){const e=gl(),t=n=>e.pathname===n;return m.jsx("nav",{className:"border-b bg-background/80 backdrop-blur sticky top-0 z-50",children:m.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx(Rn,{to:"/",className:"text-xl font-bold tracking-tight",children:"DeadDropstr"}),m.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[m.jsx(gt,{asChild:!0,variant:t("/")?"secondary":"ghost",size:"sm",children:m.jsxs(Rn,{to:"/",children:[m.jsx(mF,{className:"h-4 w-4 mr-1"}),"Home"]})}),m.jsx(gt,{asChild:!0,variant:t("/marketplace")?"secondary":"ghost",size:"sm",children:m.jsxs(Rn,{to:"/marketplace",children:[m.jsx(jd,{className:"h-4 w-4 mr-1"}),"Marketplace"]})}),m.jsx(gt,{asChild:!0,variant:t("/dashboard")?"secondary":"ghost",size:"sm",children:m.jsxs(Rn,{to:"/dashboard",children:[m.jsx(l0,{className:"h-4 w-4 mr-1"}),"Dashboard"]})}),m.jsx(gt,{asChild:!0,variant:t("/messages")?"secondary":"ghost",size:"sm",children:m.jsxs(Rn,{to:"/messages",children:[m.jsx(lN,{className:"h-4 w-4 mr-1"}),"Messages"]})})]})]}),m.jsx(N0,{className:"max-w-60"})]})})}function IW(e,t={},n){e.use(Cj);function r(l){if(l._flatMeta)return l;const{title:u,titleTemplate:d,...p}=l||{};return{title:u,titleTemplate:d,_flatMeta:p}}const i=e.push(r(t),n),s=i.patch;return i.__patched||(i.patch=l=>s(r(l)),i.__patched=!0),i}function jW(){const e=C.useContext(YE);if(!e)throw new Error("useHead() was called without provide context.");return e}function LW(e,t,n){const r=t.head||jW(),[i]=C.useState(()=>n(r,e,t));return C.useEffect(()=>{i.patch(e)},[e]),C.useEffect(()=>()=>{i.dispose()},[]),i}function fu(e={},t={}){return LW(e,t,IW)}function k_(e){if(e.kind!==30402)return null;const t=T=>{var z;return(z=e.tags.find(([D])=>D===T))==null?void 0:z[1]};if(!(T=>e.tags.filter(([z])=>z===T).map(([,z])=>z))("t").includes("locker"))return null;const i=t("d");if(!i)return null;const s=t("title")||"Unnamed Locker",l=t("status")||"available",u=t("g")||"",d=t("location"),p=e.tags.find(([T])=>T==="price"),y=p&&parseInt(p[1])||0,g=(p==null?void 0:p[2])||"SATS",b=t("dimensions"),_=parseInt(t("overdue-fee")||"0"),S=parseInt(t("overdue-days")||"7"),v=t("proxy-mode")==="true",E=parseInt(t("proxy-fee")||"0"),k=parseInt(t("abandon-days")||"30"),A=e.tags.filter(([T])=>T==="image").map(([,T])=>T);return{id:e.id,pubkey:e.pubkey,dTag:i,title:s,description:e.content,status:l,geohash:u,location:d,price:y,currency:g,dimensions:b,overdueFee:_,overdueDays:S,proxyMode:v,proxyFee:E,abandonDays:k,images:A,createdAt:e.created_at,event:e}}function OW(e){const t=[["d",crypto.randomUUID()],["title",e.title],["t","locker"],["t","dead-drop"],["g",e.geohash],["price",e.baseFee.toString(),"SATS"],["status","available"],["dimensions",e.dimensions],["overdue-fee",e.overdueFee.toString()],["overdue-days",e.overdueDays.toString()],["proxy-mode",e.proxyMode.toString()],["abandon-days",e.abandonDays.toString()]];return e.location&&t.push(["location",e.location]),e.proxyMode&&e.proxyFee>0&&t.push(["proxy-fee",e.proxyFee.toString()]),t}function MW(e){const{nostr:t}=jr();return Ro({queryKey:["trust-score",e],queryFn:async()=>{if(!e)return null;const n=await t.query([{kinds:[7],"#p":[e],limit:500},{kinds:[9735],"#p":[e],limit:200}]);let r=0,i=0,s=0;for(const p of n)p.kind===7?p.content.trim()==="-"?i++:r++:p.kind===9735&&(s+=1e3);const l=Math.floor(s/1e3),u=r+i,d=u>0?Math.round((r+l)/(u+l)*100):50;return{pubkey:e,positiveReactions:r,negativeReactions:i,zapsSats:s,totalReactions:u,score:d}},enabled:!!e,staleTime:6e4})}const Mt=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Mt.displayName="Card";const mr=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",e),...t}));mr.displayName="CardHeader";const Rr=C.forwardRef(({className:e,...t},n)=>m.jsx("h3",{ref:n,className:We("text-2xl font-semibold leading-none tracking-tight",e),...t}));Rr.displayName="CardTitle";const Ao=C.forwardRef(({className:e,...t},n)=>m.jsx("p",{ref:n,className:We("text-sm text-muted-foreground",e),...t}));Ao.displayName="CardDescription";const Zt=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:We("p-6 pt-0",e),...t}));Zt.displayName="CardContent";const wA=C.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",e),...t}));wA.displayName="CardFooter";function zW(){const{nostr:e}=jr(),{user:t}=pl(),{toast:n}=tu();return Z0({mutationFn:async({recipientPubkey:r,lockerId:i,paymentPreimage:s,rentalInvoice:l})=>{if(!t)throw new Error("User is not logged in");if(!t.signer.nip44)throw new Error("NIP-44 encryption not available. Please use a signer that supports NIP-44.");const u=Math.floor(Date.now()/1e3),d=E=>{const A=-Math.floor(Math.random()*172800);return E+A},p={action:"unlock",locker_id:i,payment_preimage:s,rental_invoice:l},y={kind:14,pubkey:t.pubkey,created_at:u,tags:[["p",r]],content:JSON.stringify(p)},g={kind:13,pubkey:t.pubkey,created_at:u,tags:[],content:await t.signer.nip44.encrypt(r,JSON.stringify(y))},b=ef(),_=new Id(b),S=await _.nip44.encrypt(r,JSON.stringify(g)),v=await _.signEvent({kind:1059,created_at:d(u),tags:[["p",r]],content:S});return await e.event(v),v},onSuccess:()=>{n({title:"Unlock command sent",description:"The encrypted unlock command has been published to the network."})},onError:r=>{console.error("[UnlockCommand] Failed to send:",r),n({title:"Failed to send unlock command",description:r.message,variant:"destructive"})}})}const DW=sf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function er({className:e,variant:t,...n}){return m.jsx("div",{className:We(DW({variant:t}),e),...n})}var C_="Progress",N_=100,[BW,tG]=Nn(C_),[FW,UW]=BW(C_),_A=C.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=$W,...l}=e;(i||i===0)&&!L2(i)&&console.error(HW(`${i}`,"Progress"));const u=L2(i)?i:N_;r!==null&&!O2(r,u)&&console.error(ZW(`${r}`,"Progress"));const d=O2(r,u)?r:null,p=Rp(d)?s(d,u):void 0;return m.jsx(FW,{scope:n,value:d,max:u,children:m.jsx(Ge.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Rp(d)?d:void 0,"aria-valuetext":p,role:"progressbar","data-state":EA(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});_A.displayName=C_;var xA="ProgressIndicator",bA=C.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=UW(xA,n);return m.jsx(Ge.div,{"data-state":EA(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});bA.displayName=xA;function $W(e,t){return`${Math.round(e/t*100)}%`}function EA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Rp(e){return typeof e=="number"}function L2(e){return Rp(e)&&!isNaN(e)&&e>0}function O2(e,t){return Rp(e)&&!isNaN(e)&&e<=t&&e>=0}function HW(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${N_}\`.`}function ZW(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${N_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var SA=_A,WW=bA;const kA=C.forwardRef(({className:e,value:t,...n},r)=>m.jsx(SA,{ref:r,className:We("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:m.jsx(WW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));kA.displayName=SA.displayName;var pc={},qy,M2;function VW(){return M2||(M2=1,qy=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),qy}var Ky={},js={},z2;function xl(){if(z2)return js;z2=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return js.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},js.getSymbolTotalCodewords=function(r){return t[r]},js.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},js.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},js.isKanjiModeEnabled=function(){return typeof e<"u"},js.toSJIS=function(r){return e(r)},js}var Gy={},D2;function P_(){return D2||(D2=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}}(Gy)),Gy}var Yy,B2;function qW(){if(B2)return Yy;B2=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Yy=e,Yy}var Jy,F2;function KW(){if(F2)return Jy;F2=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,i){const s=t*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},Jy=e,Jy}var Qy={},U2;function GW(){return U2||(U2=1,function(e){const t=xl().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),l=s===145?26:Math.ceil((s-13)/(2*i-2))*2,u=[s-7];for(let d=1;d<i-1;d++)u[d]=u[d-1]-l;return u.push(6),u.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),l=s.length;for(let u=0;u<l;u++)for(let d=0;d<l;d++)u===0&&d===0||u===0&&d===l-1||u===l-1&&d===0||i.push([s[u],s[d]]);return i}}(Qy)),Qy}var Xy={},$2;function YW(){if($2)return Xy;$2=1;const e=xl().getSymbolSize,t=7;return Xy.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},Xy}var ev={},H2;function JW(){return H2||(H2=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let l=0,u=0,d=0,p=null,y=null;for(let g=0;g<s;g++){u=d=0,p=y=null;for(let b=0;b<s;b++){let _=i.get(g,b);_===p?u++:(u>=5&&(l+=t.N1+(u-5)),p=_,u=1),_=i.get(b,g),_===y?d++:(d>=5&&(l+=t.N1+(d-5)),y=_,d=1)}u>=5&&(l+=t.N1+(u-5)),d>=5&&(l+=t.N1+(d-5))}return l},e.getPenaltyN2=function(i){const s=i.size;let l=0;for(let u=0;u<s-1;u++)for(let d=0;d<s-1;d++){const p=i.get(u,d)+i.get(u,d+1)+i.get(u+1,d)+i.get(u+1,d+1);(p===4||p===0)&&l++}return l*t.N2},e.getPenaltyN3=function(i){const s=i.size;let l=0,u=0,d=0;for(let p=0;p<s;p++){u=d=0;for(let y=0;y<s;y++)u=u<<1&2047|i.get(p,y),y>=10&&(u===1488||u===93)&&l++,d=d<<1&2047|i.get(y,p),y>=10&&(d===1488||d===93)&&l++}return l*t.N3},e.getPenaltyN4=function(i){let s=0;const l=i.data.length;for(let d=0;d<l;d++)s+=i.data[d];return Math.abs(Math.ceil(s*100/l/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const l=s.size;for(let u=0;u<l;u++)for(let d=0;d<l;d++)s.isReserved(d,u)||s.xor(d,u,n(i,d,u))},e.getBestMask=function(i,s){const l=Object.keys(e.Patterns).length;let u=0,d=1/0;for(let p=0;p<l;p++){s(p),e.applyMask(p,i);const y=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(p,i),y<d&&(d=y,u=p)}return u}}(ev)),ev}var Gh={},Z2;function CA(){if(Z2)return Gh;Z2=1;const e=P_(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Gh.getBlocksCount=function(i,s){switch(s){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},Gh.getTotalCodewordsCount=function(i,s){switch(s){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},Gh}var tv={},pd={},W2;function QW(){if(W2)return pd;W2=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]}(),pd.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},pd.exp=function(r){return e[r]},pd.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},pd}var V2;function XW(){return V2||(V2=1,function(e){const t=QW();e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let l=0;l<r.length;l++)for(let u=0;u<i.length;u++)s[l+u]^=t.mul(r[l],i[u]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const l=s[0];for(let d=0;d<i.length;d++)s[d]^=t.mul(i[d],l);let u=0;for(;u<s.length&&s[u]===0;)u++;s=s.slice(u)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}}(tv)),tv}var nv,q2;function eV(){if(q2)return nv;q2=1;const e=XW();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=e.mod(i,this.genPoly),l=this.degree-s.length;if(l>0){const u=new Uint8Array(this.degree);return u.set(s,l),u}return s},nv=t,nv}var rv={},iv={},ov={},K2;function NA(){return K2||(K2=1,ov.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),ov}var Fi={},G2;function PA(){if(G2)return Fi;G2=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Fi.KANJI=new RegExp(n,"g"),Fi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Fi.BYTE=new RegExp(r,"g"),Fi.NUMERIC=new RegExp(e,"g"),Fi.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+e+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Fi.testKanji=function(d){return i.test(d)},Fi.testNumeric=function(d){return s.test(d)},Fi.testAlphanumeric=function(d){return l.test(d)},Fi}var Y2;function bl(){return Y2||(Y2=1,function(e){const t=NA(),n=PA();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,l){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?s.ccBits[0]:l<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,l){if(e.isValid(s))return s;try{return r(s)}catch{return l}}}(iv)),iv}var J2;function tV(){return J2||(J2=1,function(e){const t=xl(),n=CA(),r=P_(),i=bl(),s=NA(),l=7973,u=t.getBCHDigit(l);function d(b,_,S){for(let v=1;v<=40;v++)if(_<=e.getCapacity(v,S,b))return v}function p(b,_){return i.getCharCountIndicator(b,_)+4}function y(b,_){let S=0;return b.forEach(function(v){const E=p(v.mode,_);S+=E+v.getBitsLength()}),S}function g(b,_){for(let S=1;S<=40;S++)if(y(b,S)<=e.getCapacity(S,_,i.MIXED))return S}e.from=function(_,S){return s.isValid(_)?parseInt(_,10):S},e.getCapacity=function(_,S,v){if(!s.isValid(_))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=i.BYTE);const E=t.getSymbolTotalCodewords(_),k=n.getTotalCodewordsCount(_,S),A=(E-k)*8;if(v===i.MIXED)return A;const T=A-p(v,_);switch(v){case i.NUMERIC:return Math.floor(T/10*3);case i.ALPHANUMERIC:return Math.floor(T/11*2);case i.KANJI:return Math.floor(T/13);case i.BYTE:default:return Math.floor(T/8)}},e.getBestVersionForData=function(_,S){let v;const E=r.from(S,r.M);if(Array.isArray(_)){if(_.length>1)return g(_,E);if(_.length===0)return 1;v=_[0]}else v=_;return d(v.mode,v.getLength(),E)},e.getEncodedBits=function(_){if(!s.isValid(_)||_<7)throw new Error("Invalid QR Code version");let S=_<<12;for(;t.getBCHDigit(S)-u>=0;)S^=l<<t.getBCHDigit(S)-u;return _<<12|S}}(rv)),rv}var sv={},Q2;function nV(){if(Q2)return sv;Q2=1;const e=xl(),t=1335,n=21522,r=e.getBCHDigit(t);return sv.getEncodedBits=function(s,l){const u=s.bit<<3|l;let d=u<<10;for(;e.getBCHDigit(d)-r>=0;)d^=t<<e.getBCHDigit(d)-r;return(u<<10|d)^n},sv}var av={},lv,X2;function rV(){if(X2)return lv;X2=1;const e=bl();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,s,l;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),l=parseInt(s,10),r.put(l,10);const u=this.data.length-i;u>0&&(s=this.data.substr(i),l=parseInt(s,10),r.put(l,u*3+1))},lv=t,lv}var cv,eE;function iV(){if(eE)return cv;eE=1;const e=bl(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let l=t.indexOf(this.data[s])*45;l+=t.indexOf(this.data[s+1]),i.put(l,11)}this.data.length%2&&i.put(t.indexOf(this.data[s]),6)},cv=n,cv}var uv,tE;function oV(){if(tE)return uv;tE=1;const e=bl();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},uv=t,uv}var dv,nE;function sV(){if(nE)return dv;nE=1;const e=bl(),t=xl();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=t.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},dv=n,dv}var fv={exports:{}},rE;function aV(){return rE||(rE=1,function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},l={};l[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var d,p,y,g,b,_,S,v,E;!u.empty();){d=u.pop(),p=d.value,g=d.cost,b=n[p]||{};for(y in b)b.hasOwnProperty(y)&&(_=b[y],S=g+_,v=l[y],E=typeof l[y]>"u",(E||v>S)&&(l[y]=S,u.push(y,S),s[y]=p))}if(typeof i<"u"&&typeof l[i]>"u"){var k=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(k)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t}(fv)),fv.exports}var iE;function lV(){return iE||(iE=1,function(e){const t=bl(),n=rV(),r=iV(),i=oV(),s=sV(),l=PA(),u=xl(),d=aV();function p(k){return unescape(encodeURIComponent(k)).length}function y(k,A,T){const z=[];let D;for(;(D=k.exec(T))!==null;)z.push({data:D[0],index:D.index,mode:A,length:D[0].length});return z}function g(k){const A=y(l.NUMERIC,t.NUMERIC,k),T=y(l.ALPHANUMERIC,t.ALPHANUMERIC,k);let z,D;return u.isKanjiModeEnabled()?(z=y(l.BYTE,t.BYTE,k),D=y(l.KANJI,t.KANJI,k)):(z=y(l.BYTE_KANJI,t.BYTE,k),D=[]),A.concat(T,z,D).sort(function(Z,q){return Z.index-q.index}).map(function(Z){return{data:Z.data,mode:Z.mode,length:Z.length}})}function b(k,A){switch(A){case t.NUMERIC:return n.getBitsLength(k);case t.ALPHANUMERIC:return r.getBitsLength(k);case t.KANJI:return s.getBitsLength(k);case t.BYTE:return i.getBitsLength(k)}}function _(k){return k.reduce(function(A,T){const z=A.length-1>=0?A[A.length-1]:null;return z&&z.mode===T.mode?(A[A.length-1].data+=T.data,A):(A.push(T),A)},[])}function S(k){const A=[];for(let T=0;T<k.length;T++){const z=k[T];switch(z.mode){case t.NUMERIC:A.push([z,{data:z.data,mode:t.ALPHANUMERIC,length:z.length},{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.ALPHANUMERIC:A.push([z,{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.KANJI:A.push([z,{data:z.data,mode:t.BYTE,length:p(z.data)}]);break;case t.BYTE:A.push([{data:z.data,mode:t.BYTE,length:p(z.data)}])}}return A}function v(k,A){const T={},z={start:{}};let D=["start"];for(let $=0;$<k.length;$++){const Z=k[$],q=[];for(let F=0;F<Z.length;F++){const W=Z[F],J=""+$+F;q.push(J),T[J]={node:W,lastCount:0},z[J]={};for(let U=0;U<D.length;U++){const X=D[U];T[X]&&T[X].node.mode===W.mode?(z[X][J]=b(T[X].lastCount+W.length,W.mode)-b(T[X].lastCount,W.mode),T[X].lastCount+=W.length):(T[X]&&(T[X].lastCount=W.length),z[X][J]=b(W.length,W.mode)+4+t.getCharCountIndicator(W.mode,A))}}D=q}for(let $=0;$<D.length;$++)z[D[$]].end=0;return{map:z,table:T}}function E(k,A){let T;const z=t.getBestModeForData(k);if(T=t.from(A,z),T!==t.BYTE&&T.bit<z.bit)throw new Error('"'+k+'" cannot be encoded with mode '+t.toString(T)+`.
 Suggested mode is: `+t.toString(z));switch(T===t.KANJI&&!u.isKanjiModeEnabled()&&(T=t.BYTE),T){case t.NUMERIC:return new n(k);case t.ALPHANUMERIC:return new r(k);case t.KANJI:return new s(k);case t.BYTE:return new i(k)}}e.fromArray=function(A){return A.reduce(function(T,z){return typeof z=="string"?T.push(E(z,null)):z.data&&T.push(E(z.data,z.mode)),T},[])},e.fromString=function(A,T){const z=g(A,u.isKanjiModeEnabled()),D=S(z),$=v(D,T),Z=d.find_path($.map,"start","end"),q=[];for(let F=1;F<Z.length-1;F++)q.push($.table[Z[F]].node);return e.fromArray(_(q))},e.rawSplit=function(A){return e.fromArray(g(A,u.isKanjiModeEnabled()))}}(av)),av}var oE;function cV(){if(oE)return Ky;oE=1;const e=xl(),t=P_(),n=qW(),r=KW(),i=GW(),s=YW(),l=JW(),u=CA(),d=eV(),p=tV(),y=nV(),g=bl(),b=lV();function _($,Z){const q=$.size,F=s.getPositions(Z);for(let W=0;W<F.length;W++){const J=F[W][0],U=F[W][1];for(let X=-1;X<=7;X++)if(!(J+X<=-1||q<=J+X))for(let j=-1;j<=7;j++)U+j<=-1||q<=U+j||(X>=0&&X<=6&&(j===0||j===6)||j>=0&&j<=6&&(X===0||X===6)||X>=2&&X<=4&&j>=2&&j<=4?$.set(J+X,U+j,!0,!0):$.set(J+X,U+j,!1,!0))}}function S($){const Z=$.size;for(let q=8;q<Z-8;q++){const F=q%2===0;$.set(q,6,F,!0),$.set(6,q,F,!0)}}function v($,Z){const q=i.getPositions(Z);for(let F=0;F<q.length;F++){const W=q[F][0],J=q[F][1];for(let U=-2;U<=2;U++)for(let X=-2;X<=2;X++)U===-2||U===2||X===-2||X===2||U===0&&X===0?$.set(W+U,J+X,!0,!0):$.set(W+U,J+X,!1,!0)}}function E($,Z){const q=$.size,F=p.getEncodedBits(Z);let W,J,U;for(let X=0;X<18;X++)W=Math.floor(X/3),J=X%3+q-8-3,U=(F>>X&1)===1,$.set(W,J,U,!0),$.set(J,W,U,!0)}function k($,Z,q){const F=$.size,W=y.getEncodedBits(Z,q);let J,U;for(J=0;J<15;J++)U=(W>>J&1)===1,J<6?$.set(J,8,U,!0):J<8?$.set(J+1,8,U,!0):$.set(F-15+J,8,U,!0),J<8?$.set(8,F-J-1,U,!0):J<9?$.set(8,15-J-1+1,U,!0):$.set(8,15-J-1,U,!0);$.set(F-8,8,1,!0)}function A($,Z){const q=$.size;let F=-1,W=q-1,J=7,U=0;for(let X=q-1;X>0;X-=2)for(X===6&&X--;;){for(let j=0;j<2;j++)if(!$.isReserved(W,X-j)){let K=!1;U<Z.length&&(K=(Z[U]>>>J&1)===1),$.set(W,X-j,K),J--,J===-1&&(U++,J=7)}if(W+=F,W<0||q<=W){W-=F,F=-F;break}}}function T($,Z,q){const F=new n;q.forEach(function(j){F.put(j.mode.bit,4),F.put(j.getLength(),g.getCharCountIndicator(j.mode,$)),j.write(F)});const W=e.getSymbolTotalCodewords($),J=u.getTotalCodewordsCount($,Z),U=(W-J)*8;for(F.getLengthInBits()+4<=U&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const X=(U-F.getLengthInBits())/8;for(let j=0;j<X;j++)F.put(j%2?17:236,8);return z(F,$,Z)}function z($,Z,q){const F=e.getSymbolTotalCodewords(Z),W=u.getTotalCodewordsCount(Z,q),J=F-W,U=u.getBlocksCount(Z,q),X=F%U,j=U-X,K=Math.floor(F/U),se=Math.floor(J/U),ie=se+1,te=K-se,ee=new d(te);let le=0;const H=new Array(U),Q=new Array(U);let ke=0;const _e=new Uint8Array($.buffer);for(let Oe=0;Oe<U;Oe++){const He=Oe<j?se:ie;H[Oe]=_e.slice(le,le+He),Q[Oe]=ee.encode(H[Oe]),le+=He,ke=Math.max(ke,He)}const ve=new Uint8Array(F);let Ie=0,Pe,Te;for(Pe=0;Pe<ke;Pe++)for(Te=0;Te<U;Te++)Pe<H[Te].length&&(ve[Ie++]=H[Te][Pe]);for(Pe=0;Pe<te;Pe++)for(Te=0;Te<U;Te++)ve[Ie++]=Q[Te][Pe];return ve}function D($,Z,q,F){let W;if(Array.isArray($))W=b.fromArray($);else if(typeof $=="string"){let K=Z;if(!K){const se=b.rawSplit($);K=p.getBestVersionForData(se,q)}W=b.fromString($,K||40)}else throw new Error("Invalid data");const J=p.getBestVersionForData(W,q);if(!J)throw new Error("The amount of data is too big to be stored in a QR Code");if(!Z)Z=J;else if(Z<J)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+J+`.
`);const U=T(Z,q,W),X=e.getSymbolSize(Z),j=new r(X);return _(j,Z),S(j),v(j,Z),k(j,q,0),Z>=7&&E(j,Z),A(j,U),isNaN(F)&&(F=l.getBestMask(j,k.bind(null,j,q))),l.applyMask(F,j),k(j,q,F),{modules:j,version:Z,errorCorrectionLevel:q,maskPattern:F,segments:W}}return Ky.create=function(Z,q){if(typeof Z>"u"||Z==="")throw new Error("No input text");let F=t.M,W,J;return typeof q<"u"&&(F=t.from(q.errorCorrectionLevel,t.M),W=p.from(q.version),J=l.from(q.maskPattern),q.toSJISFunc&&e.setToSJISFunction(q.toSJISFunc)),D(Z,W,F,J)},Ky}var hv={},pv={},sE;function TA(){return sE||(sE=1,function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:s,scale:s?4:l,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const l=i.modules.size,u=i.modules.data,d=e.getScale(l,s),p=Math.floor((l+s.margin*2)*d),y=s.margin*d,g=[s.color.light,s.color.dark];for(let b=0;b<p;b++)for(let _=0;_<p;_++){let S=(b*p+_)*4,v=s.color.light;if(b>=y&&_>=y&&b<p-y&&_<p-y){const E=Math.floor((b-y)/d),k=Math.floor((_-y)/d);v=g[u[E*l+k]?1:0]}r[S++]=v.r,r[S++]=v.g,r[S++]=v.b,r[S]=v.a}}}(pv)),pv}var aE;function uV(){return aE||(aE=1,function(e){const t=TA();function n(i,s,l){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=l,s.width=l,s.style.height=l+"px",s.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,l,u){let d=u,p=l;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),l||(p=r()),d=t.getOptions(d);const y=t.getImageWidth(s.modules.size,d),g=p.getContext("2d"),b=g.createImageData(y,y);return t.qrToImageData(b.data,s,d),n(g,p,y),g.putImageData(b,0,0),p},e.renderToDataURL=function(s,l,u){let d=u;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),d||(d={});const p=e.render(s,l,d),y=d.type||"image/png",g=d.rendererOpts||{};return p.toDataURL(y,g.quality)}}(hv)),hv}var mv={},lE;function dV(){if(lE)return mv;lE=1;const e=TA();function t(i,s){const l=i.a/255,u=s+'="'+i.hex+'"';return l<1?u+" "+s+'-opacity="'+l.toFixed(2).slice(1)+'"':u}function n(i,s,l){let u=i+s;return typeof l<"u"&&(u+=" "+l),u}function r(i,s,l){let u="",d=0,p=!1,y=0;for(let g=0;g<i.length;g++){const b=Math.floor(g%s),_=Math.floor(g/s);!b&&!p&&(p=!0),i[g]?(y++,g>0&&b>0&&i[g-1]||(u+=p?n("M",b+l,.5+_+l):n("m",d,0),d=0,p=!1),b+1<s&&i[g+1]||(u+=n("h",y),y=0)):d++}return u}return mv.render=function(s,l,u){const d=e.getOptions(l),p=s.modules.size,y=s.modules.data,g=p+d.margin*2,b=d.color.light.a?"<path "+t(d.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",_="<path "+t(d.color.dark,"stroke")+' d="'+r(y,p,d.margin)+'"/>',S='viewBox="0 0 '+g+" "+g+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+S+' shape-rendering="crispEdges">'+b+_+`</svg>
`;return typeof u=="function"&&u(null,E),E},mv}var cE;function fV(){if(cE)return pc;cE=1;const e=VW(),t=cV(),n=uV(),r=dV();function i(s,l,u,d,p){const y=[].slice.call(arguments,1),g=y.length,b=typeof y[g-1]=="function";if(!b&&!e())throw new Error("Callback required as last argument");if(b){if(g<2)throw new Error("Too few arguments provided");g===2?(p=u,u=l,l=d=void 0):g===3&&(l.getContext&&typeof p>"u"?(p=d,d=void 0):(p=d,d=u,u=l,l=void 0))}else{if(g<1)throw new Error("Too few arguments provided");return g===1?(u=l,l=d=void 0):g===2&&!l.getContext&&(d=u,u=l,l=void 0),new Promise(function(_,S){try{const v=t.create(u,d);_(s(v,l,d))}catch(v){S(v)}})}try{const _=t.create(u,d);p(null,s(_,l,d))}catch(_){p(_)}}return pc.create=t.create,pc.toCanvas=i.bind(null,n.render),pc.toDataURL=i.bind(null,n.renderToDataURL),pc.toString=i.bind(null,function(s,l,u){return r.render(s,u)}),pc}var hV=fV();const pV=Qd(hV);function mV(e){try{const t=new URL(e.replace("nostr+walletconnect://","https://")),n=t.hostname||t.pathname.replace("//",""),r=t.searchParams.get("secret"),i=[];return t.searchParams.forEach((s,l)=>{l==="relay"&&i.push(s)}),!n||!r||i.length===0?null:{walletPubkey:n,secret:r,relays:i}}catch{return null}}function gV(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.slice(n*2,n*2+2),16);return t}function yV({connectionString:e,onPaymentReceived:t,enabled:n=!0}){const{nostr:r}=jr(),[i,s]=C.useState(!1),[l,u]=C.useState(null),d=C.useRef(null),p=C.useRef(null),y=C.useRef(null),g=e?mV(e):null;C.useEffect(()=>{if(!(g!=null&&g.secret)){p.current=null,y.current=null;return}try{const _=gV(g.secret);p.current=new Id(_),y.current=Bo(_),console.log("[NWC Notifications] Client pubkey derived:",y.current.slice(0,16)+"...")}catch(_){console.error("[NWC Notifications] Failed to create signer from secret:",_),p.current=null,y.current=null}},[g==null?void 0:g.secret]);const b=C.useCallback(async _=>{var v;if(!((v=p.current)!=null&&v.nip44)||!(g!=null&&g.walletPubkey)||!y.current||_.pubkey!==g.walletPubkey)return;const S=_.tags.find(([E])=>E==="p");if(!(S&&S[1]!==y.current))try{let E;if(_.kind===23197&&p.current.nip44)E=await p.current.nip44.decrypt(g.walletPubkey,_.content);else if(_.kind===23196&&p.current.nip04)E=await p.current.nip04.decrypt(g.walletPubkey,_.content);else return;const k=JSON.parse(E);if(k.notification_type==="payment_received"&&k.notification){const A={type:"incoming",state:k.notification.state,invoice:k.notification.invoice,preimage:k.notification.preimage,payment_hash:k.notification.payment_hash,amount:k.notification.amount,settled_at:k.notification.settled_at};console.log("[NWC Notifications] Payment received:",A),u(A),t==null||t(A)}}catch(E){console.error("[NWC Notifications] Failed to process notification:",E)}},[g==null?void 0:g.walletPubkey,t]);return C.useEffect(()=>{if(!n||!g||!p.current||!y.current){s(!1);return}const{walletPubkey:_,relays:S}=g,v=y.current,E=r.group(S);let k=!1;return(async()=>{try{console.log("[NWC Notifications] Subscribing to relays:",S),console.log("[NWC Notifications] Filter: authors=%s, #p=%s",_.slice(0,16)+"...",v.slice(0,16)+"...");const T=E.req([{kinds:[23196,23197],authors:[_],"#p":[v],limit:50}]);k||s(!0);for await(const z of T){if(k)break;if(z[0]==="EVENT"){const D=z[2];await b(D)}else z[0]==="EOSE"&&console.log("[NWC Notifications] End of stored events, now listening for new notifications")}}catch(T){console.error("[NWC Notifications] Subscription error:",T),k||s(!1)}})(),()=>{var T;k=!0,(T=d.current)==null||T.close(),s(!1)}},[n,g,r,b]),{isConnected:i,lastNotification:l,clientPubkey:y.current}}function vV({open:e,invoice:t,amountSats:n,onClose:r,onPay:i,onSettled:s}){var q;const[l,u]=C.useState(null),[d,p]=C.useState("pending"),[y,g]=C.useState(null),[b,_]=C.useState(!1),[S,v]=C.useState(0),E=tP(),[k,A]=C.useState(!1),T=60;C.useEffect(()=>{e&&(p("pending"),g(null),_(!1),v(0))},[e]),C.useEffect(()=>{if(!t)return;let F=!0;return pV.toDataURL(t,{width:256,margin:2}).then(W=>{F&&u(W)}).catch(()=>{F&&u(null)}),()=>{F=!1}},[t]);const{isConnected:z}=yV({connectionString:((q=E.getActiveConnection())==null?void 0:q.connectionString)??null,enabled:e&&!!t,onPaymentReceived:async F=>{F.preimage&&(p("success"),g("Payment confirmed!"),s&&await s({preimage:F.preimage}),setTimeout(()=>r(),2e3))}});C.useEffect(()=>{if(!e||!t||z)return;const F=E.getActiveConnection();if(!F)return;let W=!1;const J=3e3,U=async()=>{if(!W){v(j=>j+1);try{const K=await new zd(F.connectionString).lookupInvoice(t);if(K&&K.state==="settled"&&K.preimage){p("success"),g("Payment confirmed!"),s&&await s({preimage:K.preimage}),setTimeout(()=>{W||r()},2e3);return}}catch{}!W&&S<T?setTimeout(U,J):S>=T&&g("Waiting for payment timed out. You can still pay manually.")}},X=setTimeout(U,J);return()=>{W=!0,clearTimeout(X)}},[e,t,E,r,s,S,z]);const D=async()=>{try{await navigator.clipboard.writeText(t),_(!0),setTimeout(()=>_(!1),2e3)}catch{g("Failed to copy")}},$=async()=>{p("paying"),g(null);try{await i(),p("success"),g("Payment successful!"),setTimeout(()=>r(),1500)}catch(F){p("error"),g((F==null?void 0:F.message)||"Payment failed")}},Z=()=>{switch(d){case"pending":return m.jsxs(er,{variant:"secondary",className:"gap-1",children:[m.jsx(aF,{className:"h-3 w-3"})," Awaiting Payment"]});case"polling":return m.jsxs(er,{variant:"secondary",className:"gap-1",children:[m.jsx(Ar,{className:"h-3 w-3 animate-spin"})," Checking..."]});case"paying":return m.jsxs(er,{variant:"default",className:"gap-1",children:[m.jsx(Ar,{className:"h-3 w-3 animate-spin"})," Processing"]});case"success":return m.jsxs(er,{variant:"default",className:"gap-1 bg-green-600",children:[m.jsx(vd,{className:"h-3 w-3"})," Paid"]});case"error":return m.jsxs(er,{variant:"destructive",className:"gap-1",children:[m.jsx(sF,{className:"h-3 w-3"})," Failed"]})}};return m.jsx(cu,{open:e,onOpenChange:F=>{!F&&d!=="paying"&&r()},children:m.jsxs(yl,{className:"max-w-md",children:[m.jsxs(uu,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs(cf,{className:"flex items-center gap-2",children:[m.jsx(c0,{className:"h-5 w-5 text-yellow-500"}),"Pay Invoice"]}),Z()]}),m.jsx(wm,{children:"Scan the QR code with any Lightning wallet or pay directly."})]}),m.jsxs("div",{className:"space-y-4",children:[n&&m.jsxs("div",{className:"text-center",children:[m.jsx("span",{className:"text-3xl font-bold",children:n.toLocaleString()}),m.jsx("span",{className:"text-lg text-muted-foreground ml-2",children:"sats"})]}),m.jsx("div",{className:"flex justify-center p-4 bg-white rounded-lg",children:l?m.jsx("img",{src:l,alt:"Lightning Invoice QR",className:"w-56 h-56"}):m.jsx("div",{className:"w-56 h-56 flex items-center justify-center bg-muted rounded",children:m.jsx(Ar,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}),m.jsxs("div",{className:"relative",children:[m.jsx("textarea",{readOnly:!0,value:t,className:"w-full p-3 pr-12 rounded-lg border bg-muted/50 text-xs font-mono resize-none",rows:3}),m.jsx(gt,{size:"icon",variant:"ghost",className:"absolute right-2 top-2",onClick:D,children:b?m.jsx(vd,{className:"h-4 w-4 text-green-500"}):m.jsx(lF,{className:"h-4 w-4"})})]}),d==="pending"&&m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Ar,{className:"h-3 w-3 animate-spin"}),z?"Listening for payment...":"Waiting for payment..."]}),!z&&S>0&&m.jsxs("span",{children:[Math.floor(S/T*100),"%"]})]}),!z&&S>0&&m.jsx(kA,{value:S/T*100,className:"h-1"}),z&&m.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[m.jsx(vd,{className:"h-3 w-3"}),"Real-time notifications active"]})]}),y&&m.jsx("div",{className:`text-sm text-center p-2 rounded ${d==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":d==="error"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-muted text-muted-foreground"}`,children:y}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(gt,{variant:"outline",onClick:r,disabled:d==="paying",className:"flex-1",children:"Cancel"}),m.jsx(gt,{onClick:$,disabled:d==="paying"||d==="success",className:"flex-1",children:d==="paying"?m.jsxs(m.Fragment,{children:[m.jsx(Ar,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):d==="success"?m.jsxs(m.Fragment,{children:[m.jsx(vd,{className:"h-4 w-4 mr-2"}),"Paid!"]}):m.jsxs(m.Fragment,{children:[m.jsx(c0,{className:"h-4 w-4 mr-2"}),"Pay Now"]})})]}),m.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Invoice will auto-detect when paid. You can also copy and pay externally."})]})]})})}function wV(){var z;const{nip19:e}=n_();fu({title:"Locker Details"});const{nostr:t}=jr(),n=tP();pl();const{mutateAsync:r}=zW(),{data:i}=Ro({queryKey:["locker-detail",e],queryFn:async()=>{if(!e)return null;const D=await t.query([{kinds:[30402],"#d":[e],limit:1}]);return!D||D.length===0?null:k_(D[0])},staleTime:6e4}),s=MW(i==null?void 0:i.pubkey),[l,u]=C.useState(!1),[d,p]=C.useState(""),[y,g]=C.useState(!1),[b,_]=C.useState(""),{connections:S,activeConnection:v,setActiveConnection:E,getActiveConnection:k}=n,A=async()=>{if(!i)return;const D=k();if(!D){p("No wallet connected. Please connect a Nostr Wallet Connect wallet first.");return}u(!0),p("");try{const $=new zd(D.connectionString),Z=i.price*1e3,q=await $.makeInvoice({amount:Z,description:`Locker rental ${i.dTag}`});_(q.invoice),g(!0)}catch($){p(($==null?void 0:$.message)??"Failed to create invoice"),u(!1)}},T=async()=>{if(!i)throw new Error("No locker");const D=k();if(!D)throw new Error("No wallet connected");const q=(await new zd(D.connectionString).pay(b)).preimage;return await r({recipientPubkey:i.pubkey,lockerId:i.dTag,paymentPreimage:q,rentalInvoice:b}),p("Unlock command sent via NIP-17. Locker should open shortly."),u(!1),q};return i?m.jsxs("div",{className:"container mx-auto p-6 space-y-4",children:[S.length>1&&m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Wallet"}),m.jsx("select",{className:"px-2 py-1 border rounded bg-background",value:v??"",onChange:D=>E(D.target.value),children:S.map(D=>m.jsx("option",{value:D.connectionString,children:D.alias??"NWC Wallet"},D.connectionString))})]}),m.jsxs("div",{className:"card",children:[m.jsx(mr,{children:m.jsx(Rr,{children:i.title})}),m.jsxs(Zt,{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:i.location||i.geohash}),m.jsxs("p",{className:"mt-2",children:["Dimensions: ",i.dimensions]}),m.jsxs("p",{children:["Fee: ",i.price," sats"]}),m.jsxs("p",{children:["Owner: ",i.pubkey]}),m.jsxs("p",{children:["Trust Score: ",((z=s==null?void 0:s.data)==null?void 0:z.score)??""]}),m.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:i.description})]})]}),m.jsx("div",{children:m.jsxs(Mt,{children:[m.jsx(mr,{children:m.jsx(Rr,{children:"Rent this Locker"})}),m.jsxs(Zt,{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"This will create a rental invoice via your connected wallet and unlock the locker once paid."}),m.jsx(gt,{onClick:A,disabled:l,className:"mt-4",children:l?"Creating invoice...":`Rent for ${i.price} sats`}),d&&m.jsx("p",{className:"mt-2 text-sm",children:d})]})]})}),m.jsx(vV,{open:y,invoice:b,onClose:()=>{g(!1),l&&u(!1)},onPay:T,onSettled:async D=>{if(!i)return;const $=D.preimage;if($){try{await r({recipientPubkey:i.pubkey,lockerId:i.dTag,paymentPreimage:$,rentalInvoice:b}),p("Unlock command sent via NIP-17. Locker should open shortly.")}catch(Z){p((Z==null?void 0:Z.message)??"Failed to send unlock command")}u(!1)}}})]}):m.jsx("div",{className:"container mx-auto p-6",children:"Locker not found."})}var _V="Label",AA=C.forwardRef((e,t)=>m.jsx(Ge.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));AA.displayName=_V;var RA=AA;const xV=sf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dr=C.forwardRef(({className:e,...t},n)=>m.jsx(RA,{ref:n,className:We(xV(),e),...t}));dr.displayName=RA.displayName;function Wd(e,[t,n]){return Math.min(n,Math.max(t,e))}function Nm(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var IA=["PageUp","PageDown"],jA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],LA={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},hu="Slider",[P0,bV,EV]=nf(hu),[OA,nG]=Nn(hu,[EV]),[SV,Pm]=OA(hu),MA=C.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:p=[r],value:y,onValueChange:g=()=>{},onValueCommit:b=()=>{},inverted:_=!1,form:S,...v}=e,E=C.useRef(new Set),k=C.useRef(0),T=l==="horizontal"?kV:CV,[z=[],D]=ti({prop:y,defaultProp:p,onChange:J=>{var X;(X=[...E.current][k.current])==null||X.focus(),g(J)}}),$=C.useRef(z);function Z(J){const U=RV(z,J);W(J,U)}function q(J){W(J,k.current)}function F(){const J=$.current[k.current];z[k.current]!==J&&b(z)}function W(J,U,{commit:X}={commit:!1}){const j=OV(s),K=MV(Math.round((J-r)/s)*s+r,j),se=Wd(K,[r,i]);D((ie=[])=>{const te=TV(ie,se,U);if(LV(te,d*s)){k.current=te.indexOf(se);const ee=String(te)!==String(ie);return ee&&X&&b(te),ee?te:ie}else return ie})}return m.jsx(SV,{scope:e.__scopeSlider,name:n,disabled:u,min:r,max:i,valueIndexToChangeRef:k,thumbs:E.current,values:z,orientation:l,form:S,children:m.jsx(P0.Provider,{scope:e.__scopeSlider,children:m.jsx(P0.Slot,{scope:e.__scopeSlider,children:m.jsx(T,{"aria-disabled":u,"data-disabled":u?"":void 0,...v,ref:t,onPointerDown:Ue(v.onPointerDown,()=>{u||($.current=z)}),min:r,max:i,inverted:_,onSlideStart:u?void 0:Z,onSlideMove:u?void 0:q,onSlideEnd:u?void 0:F,onHomeKeyDown:()=>!u&&W(r,0,{commit:!0}),onEndKeyDown:()=>!u&&W(i,z.length-1,{commit:!0}),onStepKeyDown:({event:J,direction:U})=>{if(!u){const K=IA.includes(J.key)||J.shiftKey&&jA.includes(J.key)?10:1,se=k.current,ie=z[se],te=s*K*U;W(ie+te,se,{commit:!0})}}})})})})});MA.displayName=hu;var[zA,DA]=OA(hu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),kV=C.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:l,onSlideMove:u,onSlideEnd:d,onStepKeyDown:p,...y}=e,[g,b]=C.useState(null),_=ft(t,T=>b(T)),S=C.useRef(void 0),v=vl(i),E=v==="ltr",k=E&&!s||!E&&s;function A(T){const z=S.current||g.getBoundingClientRect(),D=[0,z.width],Z=T_(D,k?[n,r]:[r,n]);return S.current=z,Z(T-z.left)}return m.jsx(zA,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:m.jsx(BA,{dir:v,"data-orientation":"horizontal",...y,ref:_,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const z=A(T.clientX);l==null||l(z)},onSlideMove:T=>{const z=A(T.clientX);u==null||u(z)},onSlideEnd:()=>{S.current=void 0,d==null||d()},onStepKeyDown:T=>{const D=LA[k?"from-left":"from-right"].includes(T.key);p==null||p({event:T,direction:D?-1:1})}})})}),CV=C.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:l,onSlideEnd:u,onStepKeyDown:d,...p}=e,y=C.useRef(null),g=ft(t,y),b=C.useRef(void 0),_=!i;function S(v){const E=b.current||y.current.getBoundingClientRect(),k=[0,E.height],T=T_(k,_?[r,n]:[n,r]);return b.current=E,T(v-E.top)}return m.jsx(zA,{scope:e.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:m.jsx(BA,{"data-orientation":"vertical",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const E=S(v.clientY);s==null||s(E)},onSlideMove:v=>{const E=S(v.clientY);l==null||l(E)},onSlideEnd:()=>{b.current=void 0,u==null||u()},onStepKeyDown:v=>{const k=LA[_?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:k?-1:1})}})})}),BA=C.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:d,...p}=e,y=Pm(hu,n);return m.jsx(Ge.span,{...p,ref:t,onKeyDown:Ue(e.onKeyDown,g=>{g.key==="Home"?(l(g),g.preventDefault()):g.key==="End"?(u(g),g.preventDefault()):IA.concat(jA).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:Ue(e.onPointerDown,g=>{const b=g.target;b.setPointerCapture(g.pointerId),g.preventDefault(),y.thumbs.has(b)?b.focus():r(g)}),onPointerMove:Ue(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:Ue(e.onPointerUp,g=>{const b=g.target;b.hasPointerCapture(g.pointerId)&&(b.releasePointerCapture(g.pointerId),s(g))})})}),FA="SliderTrack",UA=C.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Pm(FA,n);return m.jsx(Ge.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});UA.displayName=FA;var T0="SliderRange",$A=C.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Pm(T0,n),s=DA(T0,n),l=C.useRef(null),u=ft(t,l),d=i.values.length,p=i.values.map(b=>WA(b,i.min,i.max)),y=d>1?Math.min(...p):0,g=100-Math.max(...p);return m.jsx(Ge.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:u,style:{...e.style,[s.startEdge]:y+"%",[s.endEdge]:g+"%"}})});$A.displayName=T0;var A0="SliderThumb",HA=C.forwardRef((e,t)=>{const n=bV(e.__scopeSlider),[r,i]=C.useState(null),s=ft(t,u=>i(u)),l=C.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return m.jsx(NV,{...e,ref:s,index:l})}),NV=C.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...s}=e,l=Pm(A0,n),u=DA(A0,n),[d,p]=C.useState(null),y=ft(t,A=>p(A)),g=d?l.form||!!d.closest("form"):!0,b=um(d),_=l.values[r],S=_===void 0?0:WA(_,l.min,l.max),v=AV(r,l.values.length),E=b==null?void 0:b[u.size],k=E?IV(E,S,u.direction):0;return C.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${S}% + ${k}px)`},children:[m.jsx(P0.ItemSlot,{scope:e.__scopeSlider,children:m.jsx(Ge.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":l.min,"aria-valuenow":_,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...s,ref:y,style:_===void 0?{display:"none"}:e.style,onFocus:Ue(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),g&&m.jsx(ZA,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:_},r)]})});HA.displayName=A0;var PV="RadioBubbleInput",ZA=C.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=C.useRef(null),s=ft(i,r),l=Nm(t);return C.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&y){const g=new Event("input",{bubbles:!0});y.call(u,t),u.dispatchEvent(g)}},[l,t]),m.jsx(Ge.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});ZA.displayName=PV;function TV(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,s)=>i-s)}function WA(e,t,n){const s=100/(n-t)*(e-t);return Wd(s,[0,100])}function AV(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function RV(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function IV(e,t,n){const r=e/2,s=T_([0,50],[0,r]);return(r-s(t)*n)*n}function jV(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function LV(e,t){if(t>0){const n=jV(e);return Math.min(...n)>=t}return!0}function T_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function OV(e){return(String(e).split(".")[1]||"").length}function MV(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var VA=MA,zV=UA,DV=$A,BV=HA;const qA=C.forwardRef(({className:e,...t},n)=>m.jsxs(VA,{ref:n,className:We("relative flex w-full touch-none select-none items-center",e),...t,children:[m.jsx(zV,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:m.jsx(DV,{className:"absolute h-full bg-primary"})}),m.jsx(BV,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));qA.displayName=VA.displayName;var _d={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var FV=_d.exports,uE;function UV(){return uE||(uE=1,function(e,t){(function(n,r){r(t)})(FV,function(n){var r="1.9.4";function i(a){var f,w,N,M;for(w=1,N=arguments.length;w<N;w++){M=arguments[w];for(f in M)a[f]=M[f]}return a}var s=Object.create||function(){function a(){}return function(f){return a.prototype=f,new a}}();function l(a,f){var w=Array.prototype.slice;if(a.bind)return a.bind.apply(a,w.call(arguments,1));var N=w.call(arguments,2);return function(){return a.apply(f,N.length?N.concat(w.call(arguments)):arguments)}}var u=0;function d(a){return"_leaflet_id"in a||(a._leaflet_id=++u),a._leaflet_id}function p(a,f,w){var N,M,Y,ce;return ce=function(){N=!1,M&&(Y.apply(w,M),M=!1)},Y=function(){N?M=arguments:(a.apply(w,arguments),setTimeout(ce,f),N=!0)},Y}function y(a,f,w){var N=f[1],M=f[0],Y=N-M;return a===N&&w?a:((a-M)%Y+Y)%Y+M}function g(){return!1}function b(a,f){if(f===!1)return a;var w=Math.pow(10,f===void 0?6:f);return Math.round(a*w)/w}function _(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function S(a){return _(a).split(/\s+/)}function v(a,f){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?s(a.options):{});for(var w in f)a.options[w]=f[w];return a.options}function E(a,f,w){var N=[];for(var M in a)N.push(encodeURIComponent(w?M.toUpperCase():M)+"="+encodeURIComponent(a[M]));return(!f||f.indexOf("?")===-1?"?":"&")+N.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function A(a,f){return a.replace(k,function(w,N){var M=f[N];if(M===void 0)throw new Error("No value provided for variable "+w);return typeof M=="function"&&(M=M(f)),M})}var T=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function z(a,f){for(var w=0;w<a.length;w++)if(a[w]===f)return w;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var Z=0;function q(a){var f=+new Date,w=Math.max(0,16-(f-Z));return Z=f+w,window.setTimeout(a,w)}var F=window.requestAnimationFrame||$("RequestAnimationFrame")||q,W=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function J(a,f,w){if(w&&F===q)a.call(f);else return F.call(window,l(a,f))}function U(a){a&&W.call(window,a)}var X={__proto__:null,extend:i,create:s,bind:l,get lastId(){return u},stamp:d,throttle:p,wrapNum:y,falseFn:g,formatNum:b,trim:_,splitWords:S,setOptions:v,getParamString:E,template:A,isArray:T,indexOf:z,emptyImageUrl:D,requestFn:F,cancelFn:W,requestAnimFrame:J,cancelAnimFrame:U};function j(){}j.extend=function(a){var f=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=f.__super__=this.prototype,N=s(w);N.constructor=f,f.prototype=N;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(f[M]=this[M]);return a.statics&&i(f,a.statics),a.includes&&(K(a.includes),i.apply(null,[N].concat(a.includes))),i(N,a),delete N.statics,delete N.includes,N.options&&(N.options=w.options?s(w.options):{},i(N.options,a.options)),N._initHooks=[],N.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var Y=0,ce=N._initHooks.length;Y<ce;Y++)N._initHooks[Y].call(this)}},f},j.include=function(a){var f=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=f,this.mergeOptions(a.options)),this},j.mergeOptions=function(a){return i(this.prototype.options,a),this},j.addInitHook=function(a){var f=Array.prototype.slice.call(arguments,1),w=typeof a=="function"?a:function(){this[a].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function K(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=T(a)?a:[a];for(var f=0;f<a.length;f++)a[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(a,f,w){if(typeof a=="object")for(var N in a)this._on(N,a[N],f);else{a=S(a);for(var M=0,Y=a.length;M<Y;M++)this._on(a[M],f,w)}return this},off:function(a,f,w){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var N in a)this._off(N,a[N],f);else{a=S(a);for(var M=arguments.length===1,Y=0,ce=a.length;Y<ce;Y++)M?this._off(a[Y]):this._off(a[Y],f,w)}return this},_on:function(a,f,w,N){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(a,f,w)===!1){w===this&&(w=void 0);var M={fn:f,ctx:w};N&&(M.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(M)}},_off:function(a,f,w){var N,M,Y;if(this._events&&(N=this._events[a],!!N)){if(arguments.length===1){if(this._firingCount)for(M=0,Y=N.length;M<Y;M++)N[M].fn=g;delete this._events[a];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var ce=this._listens(a,f,w);if(ce!==!1){var ge=N[ce];this._firingCount&&(ge.fn=g,this._events[a]=N=N.slice()),N.splice(ce,1)}}},fire:function(a,f,w){if(!this.listens(a,w))return this;var N=i({},f,{type:a,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var M=this._events[a];if(M){this._firingCount=this._firingCount+1||1;for(var Y=0,ce=M.length;Y<ce;Y++){var ge=M[Y],Ee=ge.fn;ge.once&&this.off(a,Ee,ge.ctx),Ee.call(ge.ctx||this,N)}this._firingCount--}}return w&&this._propagateEvent(N),this},listens:function(a,f,w,N){typeof a!="string"&&console.warn('"string" type argument expected');var M=f;typeof f!="function"&&(N=!!f,M=void 0,w=void 0);var Y=this._events&&this._events[a];if(Y&&Y.length&&this._listens(a,M,w)!==!1)return!0;if(N){for(var ce in this._eventParents)if(this._eventParents[ce].listens(a,f,w,N))return!0}return!1},_listens:function(a,f,w){if(!this._events)return!1;var N=this._events[a]||[];if(!f)return!!N.length;w===this&&(w=void 0);for(var M=0,Y=N.length;M<Y;M++)if(N[M].fn===f&&N[M].ctx===w)return M;return!1},once:function(a,f,w){if(typeof a=="object")for(var N in a)this._on(N,a[N],f,!0);else{a=S(a);for(var M=0,Y=a.length;M<Y;M++)this._on(a[M],f,w,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[d(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[d(a)],this},_propagateEvent:function(a){for(var f in this._eventParents)this._eventParents[f].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var ie=j.extend(se);function te(a,f,w){this.x=w?Math.round(a):a,this.y=w?Math.round(f):f}var ee=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(a){return this.clone()._add(le(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(le(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new te(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new te(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(a){a=le(a);var f=a.x-this.x,w=a.y-this.y;return Math.sqrt(f*f+w*w)},equals:function(a){return a=le(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=le(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function le(a,f,w){return a instanceof te?a:T(a)?new te(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new te(a.x,a.y):new te(a,f,w)}function H(a,f){if(a)for(var w=f?[a,f]:a,N=0,M=w.length;N<M;N++)this.extend(w[N])}H.prototype={extend:function(a){var f,w;if(!a)return this;if(a instanceof te||typeof a[0]=="number"||"x"in a)f=w=le(a);else if(a=Q(a),f=a.min,w=a.max,!f||!w)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=w.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(a){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var f,w;return typeof a[0]=="number"||a instanceof te?a=le(a):a=Q(a),a instanceof H?(f=a.min,w=a.max):f=w=a,f.x>=this.min.x&&w.x<=this.max.x&&f.y>=this.min.y&&w.y<=this.max.y},intersects:function(a){a=Q(a);var f=this.min,w=this.max,N=a.min,M=a.max,Y=M.x>=f.x&&N.x<=w.x,ce=M.y>=f.y&&N.y<=w.y;return Y&&ce},overlaps:function(a){a=Q(a);var f=this.min,w=this.max,N=a.min,M=a.max,Y=M.x>f.x&&N.x<w.x,ce=M.y>f.y&&N.y<w.y;return Y&&ce},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var f=this.min,w=this.max,N=Math.abs(f.x-w.x)*a,M=Math.abs(f.y-w.y)*a;return Q(le(f.x-N,f.y-M),le(w.x+N,w.y+M))},equals:function(a){return a?(a=Q(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Q(a,f){return!a||a instanceof H?a:new H(a,f)}function ke(a,f){if(a)for(var w=f?[a,f]:a,N=0,M=w.length;N<M;N++)this.extend(w[N])}ke.prototype={extend:function(a){var f=this._southWest,w=this._northEast,N,M;if(a instanceof ve)N=a,M=a;else if(a instanceof ke){if(N=a._southWest,M=a._northEast,!N||!M)return this}else return a?this.extend(Ie(a)||_e(a)):this;return!f&&!w?(this._southWest=new ve(N.lat,N.lng),this._northEast=new ve(M.lat,M.lng)):(f.lat=Math.min(N.lat,f.lat),f.lng=Math.min(N.lng,f.lng),w.lat=Math.max(M.lat,w.lat),w.lng=Math.max(M.lng,w.lng)),this},pad:function(a){var f=this._southWest,w=this._northEast,N=Math.abs(f.lat-w.lat)*a,M=Math.abs(f.lng-w.lng)*a;return new ke(new ve(f.lat-N,f.lng-M),new ve(w.lat+N,w.lng+M))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ve||"lat"in a?a=Ie(a):a=_e(a);var f=this._southWest,w=this._northEast,N,M;return a instanceof ke?(N=a.getSouthWest(),M=a.getNorthEast()):N=M=a,N.lat>=f.lat&&M.lat<=w.lat&&N.lng>=f.lng&&M.lng<=w.lng},intersects:function(a){a=_e(a);var f=this._southWest,w=this._northEast,N=a.getSouthWest(),M=a.getNorthEast(),Y=M.lat>=f.lat&&N.lat<=w.lat,ce=M.lng>=f.lng&&N.lng<=w.lng;return Y&&ce},overlaps:function(a){a=_e(a);var f=this._southWest,w=this._northEast,N=a.getSouthWest(),M=a.getNorthEast(),Y=M.lat>f.lat&&N.lat<w.lat,ce=M.lng>f.lng&&N.lng<w.lng;return Y&&ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,f){return a?(a=_e(a),this._southWest.equals(a.getSouthWest(),f)&&this._northEast.equals(a.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(a,f){return a instanceof ke?a:new ke(a,f)}function ve(a,f,w){if(isNaN(a)||isNaN(f))throw new Error("Invalid LatLng object: ("+a+", "+f+")");this.lat=+a,this.lng=+f,w!==void 0&&(this.alt=+w)}ve.prototype={equals:function(a,f){if(!a)return!1;a=Ie(a);var w=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return w<=(f===void 0?1e-9:f)},toString:function(a){return"LatLng("+b(this.lat,a)+", "+b(this.lng,a)+")"},distanceTo:function(a){return Te.distance(this,Ie(a))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(a){var f=180*a/40075017,w=f/Math.cos(Math.PI/180*this.lat);return _e([this.lat-f,this.lng-w],[this.lat+f,this.lng+w])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function Ie(a,f,w){return a instanceof ve?a:T(a)&&typeof a[0]!="object"?a.length===3?new ve(a[0],a[1],a[2]):a.length===2?new ve(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ve(a.lat,"lng"in a?a.lng:a.lon,a.alt):f===void 0?null:new ve(a,f,w)}var Pe={latLngToPoint:function(a,f){var w=this.projection.project(a),N=this.scale(f);return this.transformation._transform(w,N)},pointToLatLng:function(a,f){var w=this.scale(f),N=this.transformation.untransform(a,w);return this.projection.unproject(N)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var f=this.projection.bounds,w=this.scale(a),N=this.transformation.transform(f.min,w),M=this.transformation.transform(f.max,w);return new H(N,M)},infinite:!1,wrapLatLng:function(a){var f=this.wrapLng?y(a.lng,this.wrapLng,!0):a.lng,w=this.wrapLat?y(a.lat,this.wrapLat,!0):a.lat,N=a.alt;return new ve(w,f,N)},wrapLatLngBounds:function(a){var f=a.getCenter(),w=this.wrapLatLng(f),N=f.lat-w.lat,M=f.lng-w.lng;if(N===0&&M===0)return a;var Y=a.getSouthWest(),ce=a.getNorthEast(),ge=new ve(Y.lat-N,Y.lng-M),Ee=new ve(ce.lat-N,ce.lng-M);return new ke(ge,Ee)}},Te=i({},Pe,{wrapLng:[-180,180],R:6371e3,distance:function(a,f){var w=Math.PI/180,N=a.lat*w,M=f.lat*w,Y=Math.sin((f.lat-a.lat)*w/2),ce=Math.sin((f.lng-a.lng)*w/2),ge=Y*Y+Math.cos(N)*Math.cos(M)*ce*ce,Ee=2*Math.atan2(Math.sqrt(ge),Math.sqrt(1-ge));return this.R*Ee}}),Oe=6378137,He={R:Oe,MAX_LATITUDE:85.0511287798,project:function(a){var f=Math.PI/180,w=this.MAX_LATITUDE,N=Math.max(Math.min(w,a.lat),-w),M=Math.sin(N*f);return new te(this.R*a.lng*f,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(a){var f=180/Math.PI;return new ve((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*f,a.x*f/this.R)},bounds:function(){var a=Oe*Math.PI;return new H([-a,-a],[a,a])}()};function Qe(a,f,w,N){if(T(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=f,this._c=w,this._d=N}Qe.prototype={transform:function(a,f){return this._transform(a.clone(),f)},_transform:function(a,f){return f=f||1,a.x=f*(this._a*a.x+this._b),a.y=f*(this._c*a.y+this._d),a},untransform:function(a,f){return f=f||1,new te((a.x/f-this._b)/this._a,(a.y/f-this._d)/this._c)}};function ot(a,f,w,N){return new Qe(a,f,w,N)}var at=i({},Te,{code:"EPSG:3857",projection:He,transformation:function(){var a=.5/(Math.PI*He.R);return ot(a,.5,-a,.5)}()}),B=i({},at,{code:"EPSG:900913"});function Ne(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function be(a,f){var w="",N,M,Y,ce,ge,Ee;for(N=0,Y=a.length;N<Y;N++){for(ge=a[N],M=0,ce=ge.length;M<ce;M++)Ee=ge[M],w+=(M?"L":"M")+Ee.x+" "+Ee.y;w+=f?nt.svg?"z":"x":""}return w||"M0 0"}var oe=document.documentElement.style,re="ActiveXObject"in window,pe=re&&!document.addEventListener,Re="msLaunchUri"in navigator&&!("documentMode"in document),je=jn("webkit"),me=jn("android"),Be=jn("android 2")||jn("android 3"),qe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),De=me&&jn("Google")&&qe<537&&!("AudioNode"in window),tt=!!window.opera,G=!Re&&jn("chrome"),R=jn("gecko")&&!je&&!tt&&!re,O=!G&&jn("safari"),ne=jn("phantom"),fe="OTransition"in oe,xe=navigator.platform.indexOf("Win")===0,Ce=re&&"transition"in oe,dt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Be,jt="MozPerspective"in oe,bt=!window.L_DISABLE_3D&&(Ce||dt||jt)&&!fe&&!ne,Ct=typeof orientation<"u"||jn("mobile"),Nt=Ct&&je,fa=Ct&&dt,Wo=!window.PointerEvent&&window.MSPointerEvent,Lr=!!(window.PointerEvent||Wo),Wn="ontouchstart"in window||!!window.TouchEvent,to=!window.L_NO_TOUCH&&(Wn||Lr),pf=Ct&&tt,mf=Ct&&R,gf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yf=function(){var a=!1;try{var f=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",g,f),window.removeEventListener("testPassiveEventSupport",g,f)}catch{}return a}(),mu=function(){return!!document.createElement("canvas").getContext}(),El=!!(document.createElementNS&&Ne("svg").createSVGRect),ha=!!El&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gu=!El&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var f=a.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),pa=navigator.platform.indexOf("Mac")===0,Mm=navigator.platform.indexOf("Linux")===0;function jn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var nt={ie:re,ielt9:pe,edge:Re,webkit:je,android:me,android23:Be,androidStock:De,opera:tt,chrome:G,gecko:R,safari:O,phantom:ne,opera12:fe,win:xe,ie3d:Ce,webkit3d:dt,gecko3d:jt,any3d:bt,mobile:Ct,mobileWebkit:Nt,mobileWebkit3d:fa,msPointer:Wo,pointer:Lr,touch:to,touchNative:Wn,mobileOpera:pf,mobileGecko:mf,retina:gf,passiveEvents:yf,canvas:mu,svg:El,vml:gu,inlineSvg:ha,mac:pa,linux:Mm},ma=nt.msPointer?"MSPointerDown":"pointerdown",Sl=nt.msPointer?"MSPointerMove":"pointermove",vf=nt.msPointer?"MSPointerUp":"pointerup",wf=nt.msPointer?"MSPointerCancel":"pointercancel",yu={touchstart:ma,touchmove:Sl,touchend:vf,touchcancel:wf},ki={touchstart:Xt,touchmove:kl,touchend:kl,touchcancel:kl},no={},vu=!1;function zm(a,f,w){return f==="touchstart"&&Dm(),ki[f]?(w=ki[f].bind(this,w),a.addEventListener(yu[f],w,!1),w):(console.warn("wrong event specified:",f),g)}function _f(a,f,w){if(!yu[f]){console.warn("wrong event specified:",f);return}a.removeEventListener(yu[f],w,!1)}function xf(a){no[a.pointerId]=a}function bf(a){no[a.pointerId]&&(no[a.pointerId]=a)}function wu(a){delete no[a.pointerId]}function Dm(){vu||(document.addEventListener(ma,xf,!0),document.addEventListener(Sl,bf,!0),document.addEventListener(vf,wu,!0),document.addEventListener(wf,wu,!0),vu=!0)}function kl(a,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var w in no)f.touches.push(no[w]);f.changedTouches=[f],a(f)}}function Xt(a,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&en(f),kl(a,f)}function Bm(a){var f={},w,N;for(N in a)w=a[N],f[N]=w&&w.bind?w.bind(a):w;return a=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var _u=200;function Ef(a,f){a.addEventListener("dblclick",f);var w=0,N;function M(Y){if(Y.detail!==1){N=Y.detail;return}if(!(Y.pointerType==="mouse"||Y.sourceCapabilities&&!Y.sourceCapabilities.firesTouchEvents)){var ce=oo(Y);if(!(ce.some(function(Ee){return Ee instanceof HTMLLabelElement&&Ee.attributes.for})&&!ce.some(function(Ee){return Ee instanceof HTMLInputElement||Ee instanceof HTMLSelectElement}))){var ge=Date.now();ge-w<=_u?(N++,N===2&&f(Bm(Y))):N=1,w=ge}}}return a.addEventListener("click",M),{dblclick:f,simDblclick:M}}function Cl(a,f){a.removeEventListener("dblclick",f.dblclick),a.removeEventListener("click",f.simDblclick)}var xu=Go(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vo=Go(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ga=Vo==="webkitTransition"||Vo==="OTransition"?Vo+"End":"transitionend";function vr(a){return typeof a=="string"?document.getElementById(a):a}function ya(a,f){var w=a.style[f]||a.currentStyle&&a.currentStyle[f];if((!w||w==="auto")&&document.defaultView){var N=document.defaultView.getComputedStyle(a,null);w=N?N[f]:null}return w==="auto"?null:w}function yt(a,f,w){var N=document.createElement(a);return N.className=f||"",w&&w.appendChild(N),N}function Wt(a){var f=a.parentNode;f&&f.removeChild(a)}function Nl(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function qo(a){var f=a.parentNode;f&&f.lastChild!==a&&f.appendChild(a)}function oi(a){var f=a.parentNode;f&&f.firstChild!==a&&f.insertBefore(a,f.firstChild)}function Ko(a,f){if(a.classList!==void 0)return a.classList.contains(f);var w=Pl(a);return w.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(w)}function mt(a,f){if(a.classList!==void 0)for(var w=S(f),N=0,M=w.length;N<M;N++)a.classList.add(w[N]);else if(!Ko(a,f)){var Y=Pl(a);bu(a,(Y?Y+" ":"")+f)}}function $t(a,f){a.classList!==void 0?a.classList.remove(f):bu(a,_((" "+Pl(a)+" ").replace(" "+f+" "," ")))}function bu(a,f){a.className.baseVal===void 0?a.className=f:a.className.baseVal=f}function Pl(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Ln(a,f){"opacity"in a.style?a.style.opacity=f:"filter"in a.style&&Sf(a,f)}function Sf(a,f){var w=!1,N="DXImageTransform.Microsoft.Alpha";try{w=a.filters.item(N)}catch{if(f===1)return}f=Math.round(f*100),w?(w.Enabled=f!==100,w.Opacity=f):a.style.filter+=" progid:"+N+"(opacity="+f+")"}function Go(a){for(var f=document.documentElement.style,w=0;w<a.length;w++)if(a[w]in f)return a[w];return!1}function wr(a,f,w){var N=f||new te(0,0);a.style[xu]=(nt.ie3d?"translate("+N.x+"px,"+N.y+"px)":"translate3d("+N.x+"px,"+N.y+"px,0)")+(w?" scale("+w+")":"")}function on(a,f){a._leaflet_pos=f,nt.any3d?wr(a,f):(a.style.left=f.x+"px",a.style.top=f.y+"px")}function si(a){return a._leaflet_pos||new te(0,0)}var Pt,Yo,Tl;if("onselectstart"in document)Pt=function(){ht(window,"selectstart",en)},Yo=function(){Bt(window,"selectstart",en)};else{var ro=Go(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pt=function(){if(ro){var a=document.documentElement.style;Tl=a[ro],a[ro]="none"}},Yo=function(){ro&&(document.documentElement.style[ro]=Tl,Tl=void 0)}}function Al(){ht(window,"dragstart",en)}function Rl(){Bt(window,"dragstart",en)}var va,wa;function Jo(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(_r(),va=a,wa=a.style.outlineStyle,a.style.outlineStyle="none",ht(window,"keydown",_r))}function _r(){va&&(va.style.outlineStyle=wa,va=void 0,wa=void 0,Bt(window,"keydown",_r))}function ai(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Or(a){var f=a.getBoundingClientRect();return{x:f.width/a.offsetWidth||1,y:f.height/a.offsetHeight||1,boundingClientRect:f}}var _a={__proto__:null,TRANSFORM:xu,TRANSITION:Vo,TRANSITION_END:ga,get:vr,getStyle:ya,create:yt,remove:Wt,empty:Nl,toFront:qo,toBack:oi,hasClass:Ko,addClass:mt,removeClass:$t,setClass:bu,getClass:Pl,setOpacity:Ln,testProp:Go,setTransform:wr,setPosition:on,getPosition:si,get disableTextSelection(){return Pt},get enableTextSelection(){return Yo},disableImageDrag:Al,enableImageDrag:Rl,preventOutline:Jo,restoreOutline:_r,getSizedParentNode:ai,getScale:Or};function ht(a,f,w,N){if(f&&typeof f=="object")for(var M in f)Su(a,M,f[M],w);else{f=S(f);for(var Y=0,ce=f.length;Y<ce;Y++)Su(a,f[Y],w,N)}return this}var gn="_leaflet_events";function Bt(a,f,w,N){if(arguments.length===1)Eu(a),delete a[gn];else if(f&&typeof f=="object")for(var M in f)Il(a,M,f[M],w);else if(f=S(f),arguments.length===2)Eu(a,function(ge){return z(f,ge)!==-1});else for(var Y=0,ce=f.length;Y<ce;Y++)Il(a,f[Y],w,N);return this}function Eu(a,f){for(var w in a[gn]){var N=w.split(/\d/)[0];(!f||f(N))&&Il(a,N,null,null,w)}}var io={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Su(a,f,w,N){var M=f+d(w)+(N?"_"+d(N):"");if(a[gn]&&a[gn][M])return this;var Y=function(ge){return w.call(N||a,ge||window.event)},ce=Y;!nt.touchNative&&nt.pointer&&f.indexOf("touch")===0?Y=zm(a,f,Y):nt.touch&&f==="dblclick"?Y=Ef(a,Y):"addEventListener"in a?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?a.addEventListener(io[f]||f,Y,nt.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(Y=function(ge){ge=ge||window.event,Ea(a,ge)&&ce(ge)},a.addEventListener(io[f],Y,!1)):a.addEventListener(f,ce,!1):a.attachEvent("on"+f,Y),a[gn]=a[gn]||{},a[gn][M]=Y}function Il(a,f,w,N,M){M=M||f+d(w)+(N?"_"+d(N):"");var Y=a[gn]&&a[gn][M];if(!Y)return this;!nt.touchNative&&nt.pointer&&f.indexOf("touch")===0?_f(a,f,Y):nt.touch&&f==="dblclick"?Cl(a,Y):"removeEventListener"in a?a.removeEventListener(io[f]||f,Y,!1):a.detachEvent("on"+f,Y),a[gn][M]=null}function Mr(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function jl(a){return Su(a,"wheel",Mr),this}function xa(a){return ht(a,"mousedown touchstart dblclick contextmenu",Mr),a._leaflet_disable_click=!0,this}function en(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function xr(a){return en(a),Mr(a),this}function oo(a){if(a.composedPath)return a.composedPath();for(var f=[],w=a.target;w;)f.push(w),w=w.parentNode;return f}function ba(a,f){if(!f)return new te(a.clientX,a.clientY);var w=Or(f),N=w.boundingClientRect;return new te((a.clientX-N.left)/w.x-f.clientLeft,(a.clientY-N.top)/w.y-f.clientTop)}var Fm=nt.linux&&nt.chrome?window.devicePixelRatio:nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function kf(a){return nt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Fm:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ea(a,f){var w=f.relatedTarget;if(!w)return!0;try{for(;w&&w!==a;)w=w.parentNode}catch{return!1}return w!==a}var Ll={__proto__:null,on:ht,off:Bt,stopPropagation:Mr,disableScrollPropagation:jl,disableClickPropagation:xa,preventDefault:en,stop:xr,getPropagationPath:oo,getMousePosition:ba,getWheelDelta:kf,isExternalTarget:Ea,addListener:ht,removeListener:Bt},Ol=ie.extend({run:function(a,f,w,N){this.stop(),this._el=a,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(N||.5,.2),this._startPos=si(a),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(a){var f=+new Date-this._startTime,w=this._duration*1e3;f<w?this._runFrame(this._easeOut(f/w),a):(this._runFrame(1),this._complete())},_runFrame:function(a,f){var w=this._startPos.add(this._offset.multiplyBy(a));f&&w._round(),on(this._el,w),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),St=ie.extend({options:{crs:at,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,f){f=v(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(Ie(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vo&&nt.any3d&&!nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ht(this._proxy,ga,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,f,w){if(f=f===void 0?this._zoom:this._limitZoom(f),a=this._limitCenter(Ie(a),f,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=i({animate:w.animate},w.zoom),w.pan=i({animate:w.animate,duration:w.duration},w.pan));var N=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,f,w.zoom):this._tryAnimatedPan(a,w.pan);if(N)return clearTimeout(this._sizeTimer),this}return this._resetView(a,f,w.pan&&w.pan.noMoveStart),this},setZoom:function(a,f){return this._loaded?this.setView(this.getCenter(),a,{zoom:f}):(this._zoom=a,this)},zoomIn:function(a,f){return a=a||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,f)},zoomOut:function(a,f){return a=a||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,f)},setZoomAround:function(a,f,w){var N=this.getZoomScale(f),M=this.getSize().divideBy(2),Y=a instanceof te?a:this.latLngToContainerPoint(a),ce=Y.subtract(M).multiplyBy(1-1/N),ge=this.containerPointToLatLng(M.add(ce));return this.setView(ge,f,{zoom:w})},_getBoundsCenterZoom:function(a,f){f=f||{},a=a.getBounds?a.getBounds():_e(a);var w=le(f.paddingTopLeft||f.padding||[0,0]),N=le(f.paddingBottomRight||f.padding||[0,0]),M=this.getBoundsZoom(a,!1,w.add(N));if(M=typeof f.maxZoom=="number"?Math.min(f.maxZoom,M):M,M===1/0)return{center:a.getCenter(),zoom:M};var Y=N.subtract(w).divideBy(2),ce=this.project(a.getSouthWest(),M),ge=this.project(a.getNorthEast(),M),Ee=this.unproject(ce.add(ge).divideBy(2).add(Y),M);return{center:Ee,zoom:M}},fitBounds:function(a,f){if(a=_e(a),!a.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(a,f);return this.setView(w.center,w.zoom,f)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,f){return this.setView(a,this._zoom,{pan:f})},panBy:function(a,f){if(a=le(a).round(),f=f||{},!a.x&&!a.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ol,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){mt(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,w,f.duration||.25,f.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,f,w){if(w=w||{},w.animate===!1||!nt.any3d)return this.setView(a,f,w);this._stop();var N=this.project(this.getCenter()),M=this.project(a),Y=this.getSize(),ce=this._zoom;a=Ie(a),f=f===void 0?ce:f;var ge=Math.max(Y.x,Y.y),Ee=ge*this.getZoomScale(ce,f),Le=M.distanceTo(N)||1,Ve=1.42,lt=Ve*Ve;function wt(Ot){var fs=Ot?-1:1,eg=Ot?Ee:ge,tg=Ee*Ee-ge*ge+fs*lt*lt*Le*Le,ho=2*eg*lt*Le,po=tg/ho,mo=Math.sqrt(po*po+1)-po,Gl=mo<1e-9?-18:Math.log(mo);return Gl}function yn(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function hn(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}function Kn(Ot){return yn(Ot)/hn(Ot)}var Mn=wt(0);function us(Ot){return ge*(hn(Mn)/hn(Mn+Ve*Ot))}function Wu(Ot){return ge*(hn(Mn)*Kn(Mn+Ve*Ot)-yn(Mn))/lt}function ji(Ot){return 1-Math.pow(1-Ot,1.5)}var Vf=Date.now(),fo=(wt(1)-Mn)/Ve,Fr=w.duration?1e3*w.duration:1e3*fo*.8;function ds(){var Ot=(Date.now()-Vf)/Fr,fs=ji(Ot)*fo;Ot<=1?(this._flyToFrame=J(ds,this),this._move(this.unproject(N.add(M.subtract(N).multiplyBy(Wu(fs)/Le)),ce),this.getScaleZoom(ge/us(fs),ce),{flyTo:!0})):this._move(a,f)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),ds.call(this),this},flyToBounds:function(a,f){var w=this._getBoundsCenterZoom(a,f);return this.flyTo(w.center,w.zoom,f)},setMaxBounds:function(a){return a=_e(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var f=this.options.minZoom;return this.options.minZoom=a,this._loaded&&f!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var f=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&f!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,f){this._enforcingBounds=!0;var w=this.getCenter(),N=this._limitCenter(w,this._zoom,_e(a));return w.equals(N)||this.panTo(N,f),this._enforcingBounds=!1,this},panInside:function(a,f){f=f||{};var w=le(f.paddingTopLeft||f.padding||[0,0]),N=le(f.paddingBottomRight||f.padding||[0,0]),M=this.project(this.getCenter()),Y=this.project(a),ce=this.getPixelBounds(),ge=Q([ce.min.add(w),ce.max.subtract(N)]),Ee=ge.getSize();if(!ge.contains(Y)){this._enforcingBounds=!0;var Le=Y.subtract(ge.getCenter()),Ve=ge.extend(Y).getSize().subtract(Ee);M.x+=Le.x<0?-Ve.x:Ve.x,M.y+=Le.y<0?-Ve.y:Ve.y,this.panTo(this.unproject(M),f),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),N=f.divideBy(2).round(),M=w.divideBy(2).round(),Y=N.subtract(M);return!Y.x&&!Y.y?this:(a.animate&&a.pan?this.panBy(Y):(a.pan&&this._rawPanBy(Y),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=l(this._handleGeolocationResponse,this),w=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,w,a):navigator.geolocation.getCurrentPosition(f,w,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var f=a.code,w=a.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var f=a.coords.latitude,w=a.coords.longitude,N=new ve(f,w),M=N.toBounds(a.coords.accuracy*2),Y=this._locateOptions;if(Y.setView){var ce=this.getBoundsZoom(M);this.setView(N,Y.maxZoom?Math.min(ce,Y.maxZoom):ce)}var ge={latlng:N,bounds:M,timestamp:a.timestamp};for(var Ee in a.coords)typeof a.coords[Ee]=="number"&&(ge[Ee]=a.coords[Ee]);this.fire("locationfound",ge)}},addHandler:function(a,f){if(!f)return this;var w=this[a]=new f(this);return this._handlers.push(w),this.options[a]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Wt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,f){var w="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),N=yt("div",w,f||this._mapPane);return a&&(this._panes[a]=N),N},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),f=this.unproject(a.getBottomLeft()),w=this.unproject(a.getTopRight());return new ke(f,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,f,w){a=_e(a),w=le(w||[0,0]);var N=this.getZoom()||0,M=this.getMinZoom(),Y=this.getMaxZoom(),ce=a.getNorthWest(),ge=a.getSouthEast(),Ee=this.getSize().subtract(w),Le=Q(this.project(ge,N),this.project(ce,N)).getSize(),Ve=nt.any3d?this.options.zoomSnap:1,lt=Ee.x/Le.x,wt=Ee.y/Le.y,yn=f?Math.max(lt,wt):Math.min(lt,wt);return N=this.getScaleZoom(yn,N),Ve&&(N=Math.round(N/(Ve/100))*(Ve/100),N=f?Math.ceil(N/Ve)*Ve:Math.floor(N/Ve)*Ve),Math.max(M,Math.min(Y,N))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,f){var w=this._getTopLeftPoint(a,f);return new H(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,f){var w=this.options.crs;return f=f===void 0?this._zoom:f,w.scale(a)/w.scale(f)},getScaleZoom:function(a,f){var w=this.options.crs;f=f===void 0?this._zoom:f;var N=w.zoom(a*w.scale(f));return isNaN(N)?1/0:N},project:function(a,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(Ie(a),f)},unproject:function(a,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(le(a),f)},layerPointToLatLng:function(a){var f=le(a).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(a){var f=this.project(Ie(a))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ie(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(_e(a))},distance:function(a,f){return this.options.crs.distance(Ie(a),Ie(f))},containerPointToLayerPoint:function(a){return le(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return le(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var f=this.containerPointToLayerPoint(le(a));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(a)))},mouseEventToContainerPoint:function(a){return ba(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var f=this._container=vr(a);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ht(f,"scroll",this._onScroll,this),this._containerId=d(f)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&nt.any3d,mt(a,"leaflet-container"+(nt.touch?" leaflet-touch":"")+(nt.retina?" leaflet-retina":"")+(nt.ielt9?" leaflet-oldie":"")+(nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=ya(a,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),on(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(mt(a.markerPane,"leaflet-zoom-hide"),mt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,f,w){on(this._mapPane,new te(0,0));var N=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var M=this._zoom!==f;this._moveStart(M,w)._move(a,f)._moveEnd(M),this.fire("viewreset"),N&&this.fire("load")},_moveStart:function(a,f){return a&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(a,f,w,N){f===void 0&&(f=this._zoom);var M=this._zoom!==f;return this._zoom=f,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),N?w&&w.pinch&&this.fire("zoom",w):((M||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){on(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[d(this._container)]=this;var f=a?Bt:ht;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),nt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,f){for(var w=[],N,M=f==="mouseout"||f==="mouseover",Y=a.target||a.srcElement,ce=!1;Y;){if(N=this._targets[d(Y)],N&&(f==="click"||f==="preclick")&&this._draggableMoved(N)){ce=!0;break}if(N&&N.listens(f,!0)&&(M&&!Ea(Y,a)||(w.push(N),M))||Y===this._container)break;Y=Y.parentNode}return!w.length&&!ce&&!M&&this.listens(f,!0)&&(w=[this]),w},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var f=a.target||a.srcElement;if(!(!this._loaded||f._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(f))){var w=a.type;w==="mousedown"&&Jo(f),this._fireDOMEvent(a,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,f,w){if(a.type==="click"){var N=i({},a);N.type="preclick",this._fireDOMEvent(N,N.type,w)}var M=this._findEventTargets(a,f);if(w){for(var Y=[],ce=0;ce<w.length;ce++)w[ce].listens(f,!0)&&Y.push(w[ce]);M=Y.concat(M)}if(M.length){f==="contextmenu"&&en(a);var ge=M[0],Ee={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Le=ge.getLatLng&&(!ge._radius||ge._radius<=10);Ee.containerPoint=Le?this.latLngToContainerPoint(ge.getLatLng()):this.mouseEventToContainerPoint(a),Ee.layerPoint=this.containerPointToLayerPoint(Ee.containerPoint),Ee.latlng=Le?ge.getLatLng():this.layerPointToLatLng(Ee.layerPoint)}for(ce=0;ce<M.length;ce++)if(M[ce].fire(f,Ee,!0),Ee.originalEvent._stopped||M[ce].options.bubblingMouseEvents===!1&&z(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,f=this._handlers.length;a<f;a++)this._handlers[a].disable()},whenReady:function(a,f){return this._loaded?a.call(f||this,{target:this}):this.on("load",a,f),this},_getMapPanePos:function(){return si(this._mapPane)||new te(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,f){var w=a&&f!==void 0?this._getNewPixelOrigin(a,f):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,f){var w=this.getSize()._divideBy(2);return this.project(a,f)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,f,w){var N=this._getNewPixelOrigin(w,f);return this.project(a,f)._subtract(N)},_latLngBoundsToNewLayerBounds:function(a,f,w){var N=this._getNewPixelOrigin(w,f);return Q([this.project(a.getSouthWest(),f)._subtract(N),this.project(a.getNorthWest(),f)._subtract(N),this.project(a.getSouthEast(),f)._subtract(N),this.project(a.getNorthEast(),f)._subtract(N)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,f,w){if(!w)return a;var N=this.project(a,f),M=this.getSize().divideBy(2),Y=new H(N.subtract(M),N.add(M)),ce=this._getBoundsOffset(Y,w,f);return Math.abs(ce.x)<=1&&Math.abs(ce.y)<=1?a:this.unproject(N.add(ce),f)},_limitOffset:function(a,f){if(!f)return a;var w=this.getPixelBounds(),N=new H(w.min.add(a),w.max.add(a));return a.add(this._getBoundsOffset(N,f))},_getBoundsOffset:function(a,f,w){var N=Q(this.project(f.getNorthEast(),w),this.project(f.getSouthWest(),w)),M=N.min.subtract(a.min),Y=N.max.subtract(a.max),ce=this._rebound(M.x,-Y.x),ge=this._rebound(M.y,-Y.y);return new te(ce,ge)},_rebound:function(a,f){return a+f>0?Math.round(a-f)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(f))},_limitZoom:function(a){var f=this.getMinZoom(),w=this.getMaxZoom(),N=nt.any3d?this.options.zoomSnap:1;return N&&(a=Math.round(a/N)*N),Math.max(f,Math.min(w,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,f){var w=this._getCenterOffset(a)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,f),!0)},_createAnimProxy:function(){var a=this._proxy=yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(f){var w=xu,N=this._proxy.style[w];wr(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),N===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),f=this.getZoom();wr(this._proxy,this.project(a,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,f,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var N=this.getZoomScale(f),M=this._getCenterOffset(a)._divideBy(1-1/N);return w.animate!==!0&&!this.getSize().contains(M)?!1:(J(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(a,f,!0)},this),!0)},_animateZoom:function(a,f,w,N){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=f,mt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:f,noUpdate:N}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ci(a,f){return new St(a,f)}var Vn=j.extend({options:{position:"topright"},initialize:function(a){v(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var f=this._map;return f&&f.removeControl(this),this.options.position=a,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var f=this._container=this.onAdd(a),w=this.getPosition(),N=a._controlCorners[w];return mt(f,"leaflet-control"),w.indexOf("bottom")!==-1?N.insertBefore(f,N.firstChild):N.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ni=function(a){return new Vn(a)};St.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},f="leaflet-",w=this._controlContainer=yt("div",f+"control-container",this._container);function N(M,Y){var ce=f+M+" "+f+Y;a[M+Y]=yt("div",ce,w)}N("top","left"),N("top","right"),N("bottom","left"),N("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Wt(this._controlCorners[a]);Wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ku=Vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,f,w,N){return w<N?-1:N<w?1:0}},initialize:function(a,f,w){v(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var N in a)this._addLayer(a[N],N);for(N in f)this._addLayer(f[N],N,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Vn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,f){return this._addLayer(a,f),this._map?this._update():this},addOverlay:function(a,f){return this._addLayer(a,f,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var f=this._getLayer(d(a));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){mt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(mt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):$t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",f=this._container=yt("div",a),w=this.options.collapsed;f.setAttribute("aria-haspopup",!0),xa(f),jl(f);var N=this._section=yt("section",a+"-list");w&&(this._map.on("click",this.collapse,this),ht(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=yt("a",a+"-toggle",f);M.href="#",M.title="Layers",M.setAttribute("role","button"),ht(M,{keydown:function(Y){Y.keyCode===13&&this._expandSafely()},click:function(Y){en(Y),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=yt("div",a+"-base",N),this._separator=yt("div",a+"-separator",N),this._overlaysList=yt("div",a+"-overlays",N),f.appendChild(N)},_getLayer:function(a){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&d(this._layers[f].layer)===a)return this._layers[f]},_addLayer:function(a,f,w){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:f,overlay:w}),this.options.sortLayers&&this._layers.sort(l(function(N,M){return this.options.sortFunction(N.layer,M.layer,N.name,M.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Nl(this._baseLayersList),Nl(this._overlaysList),this._layerControlInputs=[];var a,f,w,N,M=0;for(w=0;w<this._layers.length;w++)N=this._layers[w],this._addItem(N),f=f||N.overlay,a=a||!N.overlay,M+=N.overlay?0:1;return this.options.hideSingleBase&&(a=a&&M>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=f&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var f=this._getLayer(d(a.target)),w=f.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;w&&this._map.fire(w,f)},_createRadioElement:function(a,f){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(f?' checked="checked"':"")+"/>",N=document.createElement("div");return N.innerHTML=w,N.firstChild},_addItem:function(a){var f=document.createElement("label"),w=this._map.hasLayer(a.layer),N;a.overlay?(N=document.createElement("input"),N.type="checkbox",N.className="leaflet-control-layers-selector",N.defaultChecked=w):N=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(N),N.layerId=d(a.layer),ht(N,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+a.name;var Y=document.createElement("span");f.appendChild(Y),Y.appendChild(N),Y.appendChild(M);var ce=a.overlay?this._overlaysList:this._baseLayersList;return ce.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,f,w,N=[],M=[];this._handlingClick=!0;for(var Y=a.length-1;Y>=0;Y--)f=a[Y],w=this._getLayer(f.layerId).layer,f.checked?N.push(w):f.checked||M.push(w);for(Y=0;Y<M.length;Y++)this._map.hasLayer(M[Y])&&this._map.removeLayer(M[Y]);for(Y=0;Y<N.length;Y++)this._map.hasLayer(N[Y])||this._map.addLayer(N[Y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,f,w,N=this._map.getZoom(),M=a.length-1;M>=0;M--)f=a[M],w=this._getLayer(f.layerId).layer,f.disabled=w.options.minZoom!==void 0&&N<w.options.minZoom||w.options.maxZoom!==void 0&&N>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,ht(a,"click",en),this.expand();var f=this;setTimeout(function(){Bt(a,"click",en),f._preventClick=!1})}}),Ml=function(a,f,w){return new ku(a,f,w)},Qo=Vn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var f="leaflet-control-zoom",w=yt("div",f+" leaflet-bar"),N=this.options;return this._zoomInButton=this._createButton(N.zoomInText,N.zoomInTitle,f+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(N.zoomOutText,N.zoomOutTitle,f+"-out",w,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,f,w,N,M){var Y=yt("a",w,N);return Y.innerHTML=a,Y.href="#",Y.title=f,Y.setAttribute("role","button"),Y.setAttribute("aria-label",f),xa(Y),ht(Y,"click",xr),ht(Y,"click",M,this),ht(Y,"click",this._refocusOnMap,this),Y},_updateDisabled:function(){var a=this._map,f="leaflet-disabled";$t(this._zoomInButton,f),$t(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(mt(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(mt(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});St.mergeOptions({zoomControl:!0}),St.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qo,this.addControl(this.zoomControl))});var Cf=function(a){return new Qo(a)},On=Vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var f="leaflet-control-scale",w=yt("div",f),N=this.options;return this._addScales(N,f+"-line",w),a.on(N.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),w},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,f,w){a.metric&&(this._mScale=yt("div",f,w)),a.imperial&&(this._iScale=yt("div",f,w))},_update:function(){var a=this._map,f=a.getSize().y/2,w=a.distance(a.containerPointToLatLng([0,f]),a.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(w)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var f=this._getRoundNum(a),w=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,w,f/a)},_updateImperial:function(a){var f=a*3.2808399,w,N,M;f>5280?(w=f/5280,N=this._getRoundNum(w),this._updateScale(this._iScale,N+" mi",N/w)):(M=this._getRoundNum(f),this._updateScale(this._iScale,M+" ft",M/f))},_updateScale:function(a,f,w){a.style.width=Math.round(this.options.maxWidth*w)+"px",a.innerHTML=f},_getRoundNum:function(a){var f=Math.pow(10,(Math.floor(a)+"").length-1),w=a/f;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,f*w}}),Xo=function(a){return new On(a)},Cu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',so=Vn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(nt.inlineSvg?Cu+" ":"")+"Leaflet</a>"},initialize:function(a){v(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=yt("div","leaflet-control-attribution"),xa(this._container);for(var f in a._layers)a._layers[f].getAttribution&&this.addAttribution(a._layers[f].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var f in this._attributions)this._attributions[f]&&a.push(f);var w=[];this.options.prefix&&w.push(this.options.prefix),a.length&&w.push(a.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});St.mergeOptions({attributionControl:!0}),St.addInitHook(function(){this.options.attributionControl&&new so().addTo(this)});var Um=function(a){return new so(a)};Vn.Layers=ku,Vn.Zoom=Qo,Vn.Scale=On,Vn.Attribution=so,Ni.layers=Ml,Ni.zoom=Cf,Ni.scale=Xo,Ni.attribution=Um;var rr=j.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});rr.addTo=function(a,f){return a.addHandler(f,this),this};var Nu={Events:se},es=nt.touch?"touchstart mousedown":"mousedown",br=ie.extend({options:{clickTolerance:3},initialize:function(a,f,w,N){v(this,N),this._element=a,this._dragStartTarget=f||a,this._preventOutline=w},enable:function(){this._enabled||(ht(this._dragStartTarget,es,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(br._dragging===this&&this.finishDrag(!0),Bt(this._dragStartTarget,es,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Ko(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){br._dragging===this&&this.finishDrag();return}if(!(br._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(br._dragging=this,this._preventOutline&&Jo(this._element),Al(),Pt(),!this._moving)){this.fire("down");var f=a.touches?a.touches[0]:a,w=ai(this._element);this._startPoint=new te(f.clientX,f.clientY),this._startPos=si(this._element),this._parentScale=Or(w);var N=a.type==="mousedown";ht(document,N?"mousemove":"touchmove",this._onMove,this),ht(document,N?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var f=a.touches&&a.touches.length===1?a.touches[0]:a,w=new te(f.clientX,f.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,en(a),this._moved||(this.fire("dragstart"),this._moved=!0,mt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),mt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),on(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){$t(document.body,"leaflet-dragging"),this._lastTarget&&($t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bt(document,"mousemove touchmove",this._onMove,this),Bt(document,"mouseup touchend touchcancel",this._onUp,this),Rl(),Yo();var f=this._moved&&this._moving;this._moving=!1,br._dragging=!1,f&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Pu(a,f,w){var N,M=[1,4,2,8],Y,ce,ge,Ee,Le,Ve,lt,wt;for(Y=0,Ve=a.length;Y<Ve;Y++)a[Y]._code=ao(a[Y],f);for(ge=0;ge<4;ge++){for(lt=M[ge],N=[],Y=0,Ve=a.length,ce=Ve-1;Y<Ve;ce=Y++)Ee=a[Y],Le=a[ce],Ee._code&lt?Le._code&lt||(wt=Dl(Le,Ee,lt,f,w),wt._code=ao(wt,f),N.push(wt)):(Le._code&lt&&(wt=Dl(Le,Ee,lt,f,w),wt._code=ao(wt,f),N.push(wt)),N.push(Ee));a=N}return a}function Nf(a,f){var w,N,M,Y,ce,ge,Ee,Le,Ve;if(!a||a.length===0)throw new Error("latlngs not passed");ir(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var lt=Ie([0,0]),wt=_e(a),yn=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());yn<1700&&(lt=Tu(a));var hn=a.length,Kn=[];for(w=0;w<hn;w++){var Mn=Ie(a[w]);Kn.push(f.project(Ie([Mn.lat-lt.lat,Mn.lng-lt.lng])))}for(ge=Ee=Le=0,w=0,N=hn-1;w<hn;N=w++)M=Kn[w],Y=Kn[N],ce=M.y*Y.x-Y.y*M.x,Ee+=(M.x+Y.x)*ce,Le+=(M.y+Y.y)*ce,ge+=ce*3;ge===0?Ve=Kn[0]:Ve=[Ee/ge,Le/ge];var us=f.unproject(le(Ve));return Ie([us.lat+lt.lat,us.lng+lt.lng])}function Tu(a){for(var f=0,w=0,N=0,M=0;M<a.length;M++){var Y=Ie(a[M]);f+=Y.lat,w+=Y.lng,N++}return Ie([f/N,w/N])}var $m={__proto__:null,clipPolygon:Pu,polygonCenter:Nf,centroid:Tu};function zl(a,f){if(!f||!a.length)return a.slice();var w=f*f;return a=Wm(a,w),a=Zm(a,w),a}function Pf(a,f,w){return Math.sqrt(lo(a,f,w,!0))}function Hm(a,f,w){return lo(a,f,w)}function Zm(a,f){var w=a.length,N=typeof Uint8Array<"u"?Uint8Array:Array,M=new N(w);M[0]=M[w-1]=1,Au(a,M,f,0,w-1);var Y,ce=[];for(Y=0;Y<w;Y++)M[Y]&&ce.push(a[Y]);return ce}function Au(a,f,w,N,M){var Y=0,ce,ge,Ee;for(ge=N+1;ge<=M-1;ge++)Ee=lo(a[ge],a[N],a[M],!0),Ee>Y&&(ce=ge,Y=Ee);Y>w&&(f[ce]=1,Au(a,f,w,N,ce),Au(a,f,w,ce,M))}function Wm(a,f){for(var w=[a[0]],N=1,M=0,Y=a.length;N<Y;N++)Vm(a[N],a[M])>f&&(w.push(a[N]),M=N);return M<Y-1&&w.push(a[Y-1]),w}var Ru;function Tf(a,f,w,N,M){var Y=N?Ru:ao(a,w),ce=ao(f,w),ge,Ee,Le;for(Ru=ce;;){if(!(Y|ce))return[a,f];if(Y&ce)return!1;ge=Y||ce,Ee=Dl(a,f,ge,w,M),Le=ao(Ee,w),ge===Y?(a=Ee,Y=Le):(f=Ee,ce=Le)}}function Dl(a,f,w,N,M){var Y=f.x-a.x,ce=f.y-a.y,ge=N.min,Ee=N.max,Le,Ve;return w&8?(Le=a.x+Y*(Ee.y-a.y)/ce,Ve=Ee.y):w&4?(Le=a.x+Y*(ge.y-a.y)/ce,Ve=ge.y):w&2?(Le=Ee.x,Ve=a.y+ce*(Ee.x-a.x)/Y):w&1&&(Le=ge.x,Ve=a.y+ce*(ge.x-a.x)/Y),new te(Le,Ve,M)}function ao(a,f){var w=0;return a.x<f.min.x?w|=1:a.x>f.max.x&&(w|=2),a.y<f.min.y?w|=4:a.y>f.max.y&&(w|=8),w}function Vm(a,f){var w=f.x-a.x,N=f.y-a.y;return w*w+N*N}function lo(a,f,w,N){var M=f.x,Y=f.y,ce=w.x-M,ge=w.y-Y,Ee=ce*ce+ge*ge,Le;return Ee>0&&(Le=((a.x-M)*ce+(a.y-Y)*ge)/Ee,Le>1?(M=w.x,Y=w.y):Le>0&&(M+=ce*Le,Y+=ge*Le)),ce=a.x-M,ge=a.y-Y,N?ce*ce+ge*ge:new te(M,Y)}function ir(a){return!T(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Af(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ir(a)}function Rf(a,f){var w,N,M,Y,ce,ge,Ee,Le;if(!a||a.length===0)throw new Error("latlngs not passed");ir(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ve=Ie([0,0]),lt=_e(a),wt=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());wt<1700&&(Ve=Tu(a));var yn=a.length,hn=[];for(w=0;w<yn;w++){var Kn=Ie(a[w]);hn.push(f.project(Ie([Kn.lat-Ve.lat,Kn.lng-Ve.lng])))}for(w=0,N=0;w<yn-1;w++)N+=hn[w].distanceTo(hn[w+1])/2;if(N===0)Le=hn[0];else for(w=0,Y=0;w<yn-1;w++)if(ce=hn[w],ge=hn[w+1],M=ce.distanceTo(ge),Y+=M,Y>N){Ee=(Y-N)/M,Le=[ge.x-Ee*(ge.x-ce.x),ge.y-Ee*(ge.y-ce.y)];break}var Mn=f.unproject(le(Le));return Ie([Mn.lat+Ve.lat,Mn.lng+Ve.lng])}var If={__proto__:null,simplify:zl,pointToSegmentDistance:Pf,closestPointOnSegment:Hm,clipSegment:Tf,_getEdgeIntersection:Dl,_getBitCode:ao,_sqClosestPointOnSegment:lo,isFlat:ir,_flat:Af,polylineCenter:Rf},Iu={project:function(a){return new te(a.lng,a.lat)},unproject:function(a){return new ve(a.y,a.x)},bounds:new H([-180,-90],[180,90])},ju={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var f=Math.PI/180,w=this.R,N=a.lat*f,M=this.R_MINOR/w,Y=Math.sqrt(1-M*M),ce=Y*Math.sin(N),ge=Math.tan(Math.PI/4-N/2)/Math.pow((1-ce)/(1+ce),Y/2);return N=-w*Math.log(Math.max(ge,1e-10)),new te(a.lng*f*w,N)},unproject:function(a){for(var f=180/Math.PI,w=this.R,N=this.R_MINOR/w,M=Math.sqrt(1-N*N),Y=Math.exp(-a.y/w),ce=Math.PI/2-2*Math.atan(Y),ge=0,Ee=.1,Le;ge<15&&Math.abs(Ee)>1e-7;ge++)Le=M*Math.sin(ce),Le=Math.pow((1-Le)/(1+Le),M/2),Ee=Math.PI/2-2*Math.atan(Y*Le)-ce,ce+=Ee;return new ve(ce*f,a.x*f/w)}},qm={__proto__:null,LonLat:Iu,Mercator:ju,SphericalMercator:He},Km=i({},Te,{code:"EPSG:3395",projection:ju,transformation:function(){var a=.5/(Math.PI*ju.R);return ot(a,.5,-a,.5)}()}),jf=i({},Te,{code:"EPSG:4326",projection:Iu,transformation:ot(1/180,1,-1/180,.5)}),Gm=i({},Pe,{projection:Iu,transformation:ot(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,f){var w=f.lng-a.lng,N=f.lat-a.lat;return Math.sqrt(w*w+N*N)},infinite:!0});Pe.Earth=Te,Pe.EPSG3395=Km,Pe.EPSG3857=at,Pe.EPSG900913=B,Pe.EPSG4326=jf,Pe.Simple=Gm;var Er=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[d(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[d(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var f=a.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var w=this.getEvents();f.on(w,this),this.once("remove",function(){f.off(w,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});St.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var f=d(a);return this._layers[f]?this:(this._layers[f]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var f=d(a);return this._layers[f]?(this._loaded&&a.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return d(a)in this._layers},eachLayer:function(a,f){for(var w in this._layers)a.call(f,this._layers[w]);return this},_addLayers:function(a){a=a?T(a)?a:[a]:[];for(var f=0,w=a.length;f<w;f++)this.addLayer(a[f])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[d(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var f=d(a);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,f=-1/0,w=this._getZoomSpan();for(var N in this._zoomBoundLayers){var M=this._zoomBoundLayers[N].options;a=M.minZoom===void 0?a:Math.min(a,M.minZoom),f=M.maxZoom===void 0?f:Math.max(f,M.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=a===1/0?void 0:a,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Pi=Er.extend({initialize:function(a,f){v(this,f),this._layers={};var w,N;if(a)for(w=0,N=a.length;w<N;w++)this.addLayer(a[w])},addLayer:function(a){var f=this.getLayerId(a);return this._layers[f]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var f=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(a){var f=typeof a=="number"?a:this.getLayerId(a);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var f=Array.prototype.slice.call(arguments,1),w,N;for(w in this._layers)N=this._layers[w],N[a]&&N[a].apply(N,f);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,f){for(var w in this._layers)a.call(f,this._layers[w]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return d(a)}}),Sa=function(a,f){return new Pi(a,f)},li=Pi.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Pi.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Pi.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ke;for(var f in this._layers){var w=this._layers[f];a.extend(w.getBounds?w.getBounds():w.getLatLng())}return a}}),Lf=function(a,f){return new li(a,f)},co=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){v(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,f){var w=this._getIconUrl(a);if(!w){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var N=this._createImg(w,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(N,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(N.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),N},_setIconStyles:function(a,f){var w=this.options,N=w[f+"Size"];typeof N=="number"&&(N=[N,N]);var M=le(N),Y=le(f==="shadow"&&w.shadowAnchor||w.iconAnchor||M&&M.divideBy(2,!0));a.className="leaflet-marker-"+f+" "+(w.className||""),Y&&(a.style.marginLeft=-Y.x+"px",a.style.marginTop=-Y.y+"px"),M&&(a.style.width=M.x+"px",a.style.height=M.y+"px")},_createImg:function(a,f){return f=f||document.createElement("img"),f.src=a,f},_getIconUrl:function(a){return nt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Of(a){return new co(a)}var ts=co.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ts.imagePath!="string"&&(ts.imagePath=this._detectIconPath()),(this.options.imagePath||ts.imagePath)+co.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var f=function(w,N,M){var Y=N.exec(w);return Y&&Y[M]};return a=f(a,/^url\((['"])?(.+)\1\)$/,2),a&&f(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=yt("div","leaflet-default-icon-path",document.body),f=ya(a,"background-image")||ya(a,"backgroundImage");if(document.body.removeChild(a),f=this._stripUrl(f),f)return f;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),Lu=rr.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new br(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),mt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var f=this._marker,w=f._map,N=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,Y=si(f._icon),ce=w.getPixelBounds(),ge=w.getPixelOrigin(),Ee=Q(ce.min._subtract(ge).add(M),ce.max._subtract(ge).subtract(M));if(!Ee.contains(Y)){var Le=le((Math.max(Ee.max.x,Y.x)-Ee.max.x)/(ce.max.x-Ee.max.x)-(Math.min(Ee.min.x,Y.x)-Ee.min.x)/(ce.min.x-Ee.min.x),(Math.max(Ee.max.y,Y.y)-Ee.max.y)/(ce.max.y-Ee.max.y)-(Math.min(Ee.min.y,Y.y)-Ee.min.y)/(ce.min.y-Ee.min.y)).multiplyBy(N);w.panBy(Le,{animate:!1}),this._draggable._newPos._add(Le),this._draggable._startPos._add(Le),on(f._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=J(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,a)))},_onDrag:function(a){var f=this._marker,w=f._shadow,N=si(f._icon),M=f._map.layerPointToLatLng(N);w&&on(w,N),f._latlng=M,a.latlng=M,a.oldLatLng=this._oldLatLng,f.fire("move",a).fire("drag",a)},_onDragEnd:function(a){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),ci=Er.extend({options:{icon:new ts,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,f){v(this,f),this._latlng=Ie(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var f=this._latlng;return this._latlng=Ie(a),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=a.icon.createIcon(this._icon),N=!1;w!==this._icon&&(this._icon&&this._removeIcon(),N=!0,a.title&&(w.title=a.title),w.tagName==="IMG"&&(w.alt=a.alt||"")),mt(w,f),a.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(w,"focus",this._panOnFocus,this);var M=a.icon.createShadow(this._shadow),Y=!1;M!==this._shadow&&(this._removeShadow(),Y=!0),M&&(mt(M,f),M.alt=""),this._shadow=M,a.opacity<1&&this._updateOpacity(),N&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&Y&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(this._icon,"focus",this._panOnFocus,this),Wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&on(this._icon,a),this._shadow&&on(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(mt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Lu)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Lu(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Ln(this._icon,a),this._shadow&&Ln(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var f=this.options.icon.options,w=f.iconSize?le(f.iconSize):le(0,0),N=f.iconAnchor?le(f.iconAnchor):le(0,0);a.panInside(this._latlng,{paddingTopLeft:N,paddingBottomRight:w.subtract(N)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ym(a,f){return new ci(a,f)}var Ti=Er.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return v(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Bl=Ti.extend({options:{fill:!0,radius:10},initialize:function(a,f){v(this,f),this._latlng=Ie(a),this._radius=this.options.radius},setLatLng:function(a){var f=this._latlng;return this._latlng=Ie(a),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var f=a&&a.radius||this._radius;return Ti.prototype.setStyle.call(this,a),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,f=this._radiusY||a,w=this._clickTolerance(),N=[a+w,f+w];this._pxBounds=new H(this._point.subtract(N),this._point.add(N))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Mf(a,f){return new Bl(a,f)}var Fl=Bl.extend({initialize:function(a,f,w){if(typeof f=="number"&&(f=i({},w,{radius:f})),v(this,f),this._latlng=Ie(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ke(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ti.prototype.setStyle,_project:function(){var a=this._latlng.lng,f=this._latlng.lat,w=this._map,N=w.options.crs;if(N.distance===Te.distance){var M=Math.PI/180,Y=this._mRadius/Te.R/M,ce=w.project([f+Y,a]),ge=w.project([f-Y,a]),Ee=ce.add(ge).divideBy(2),Le=w.unproject(Ee).lat,Ve=Math.acos((Math.cos(Y*M)-Math.sin(f*M)*Math.sin(Le*M))/(Math.cos(f*M)*Math.cos(Le*M)))/M;(isNaN(Ve)||Ve===0)&&(Ve=Y/Math.cos(Math.PI/180*f)),this._point=Ee.subtract(w.getPixelOrigin()),this._radius=isNaN(Ve)?0:Ee.x-w.project([Le,a-Ve]).x,this._radiusY=Ee.y-ce.y}else{var lt=N.unproject(N.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(lt).x}this._updateBounds()}});function ka(a,f,w){return new Fl(a,f,w)}var qn=Ti.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,f){v(this,f),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var f=1/0,w=null,N=lo,M,Y,ce=0,ge=this._parts.length;ce<ge;ce++)for(var Ee=this._parts[ce],Le=1,Ve=Ee.length;Le<Ve;Le++){M=Ee[Le-1],Y=Ee[Le];var lt=N(a,M,Y,!0);lt<f&&(f=lt,w=N(a,M,Y))}return w&&(w.distance=Math.sqrt(f)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,f){return f=f||this._defaultShape(),a=Ie(a),f.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ke,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ir(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var f=[],w=ir(a),N=0,M=a.length;N<M;N++)w?(f[N]=Ie(a[N]),this._bounds.extend(f[N])):f[N]=this._convertLatLngs(a[N]);return f},_project:function(){var a=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),f=new te(a,a);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(a,f,w){var N=a[0]instanceof ve,M=a.length,Y,ce;if(N){for(ce=[],Y=0;Y<M;Y++)ce[Y]=this._map.latLngToLayerPoint(a[Y]),w.extend(ce[Y]);f.push(ce)}else for(Y=0;Y<M;Y++)this._projectLatlngs(a[Y],f,w)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,w,N,M,Y,ce,ge,Ee;for(w=0,M=0,Y=this._rings.length;w<Y;w++)for(Ee=this._rings[w],N=0,ce=Ee.length;N<ce-1;N++)ge=Tf(Ee[N],Ee[N+1],a,N,!0),ge&&(f[M]=f[M]||[],f[M].push(ge[0]),(ge[1]!==Ee[N+1]||N===ce-2)&&(f[M].push(ge[1]),M++))}},_simplifyPoints:function(){for(var a=this._parts,f=this.options.smoothFactor,w=0,N=a.length;w<N;w++)a[w]=zl(a[w],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,f){var w,N,M,Y,ce,ge,Ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(w=0,Y=this._parts.length;w<Y;w++)for(ge=this._parts[w],N=0,ce=ge.length,M=ce-1;N<ce;M=N++)if(!(!f&&N===0)&&Pf(a,ge[M],ge[N])<=Ee)return!0;return!1}});function Jm(a,f){return new qn(a,f)}qn._flat=Af;var ui=qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var f=qn.prototype._convertLatLngs.call(this,a),w=f.length;return w>=2&&f[0]instanceof ve&&f[0].equals(f[w-1])&&f.pop(),f},_setLatLngs:function(a){qn.prototype._setLatLngs.call(this,a),ir(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ir(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,f=this.options.weight,w=new te(f,f);if(a=new H(a.min.subtract(w),a.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var N=0,M=this._rings.length,Y;N<M;N++)Y=Pu(this._rings[N],a,!0),Y.length&&this._parts.push(Y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var f=!1,w,N,M,Y,ce,ge,Ee,Le;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(Y=0,Ee=this._parts.length;Y<Ee;Y++)for(w=this._parts[Y],ce=0,Le=w.length,ge=Le-1;ce<Le;ge=ce++)N=w[ce],M=w[ge],N.y>a.y!=M.y>a.y&&a.x<(M.x-N.x)*(a.y-N.y)/(M.y-N.y)+N.x&&(f=!f);return f||qn.prototype._containsPoint.call(this,a,!0)}});function Qm(a,f){return new ui(a,f)}var zr=li.extend({initialize:function(a,f){v(this,f),this._layers={},a&&this.addData(a)},addData:function(a){var f=T(a)?a:a.features,w,N,M;if(f){for(w=0,N=f.length;w<N;w++)M=f[w],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var Y=this.options;if(Y.filter&&!Y.filter(a))return this;var ce=ns(a,Y);return ce?(ce.feature=Wl(a),ce.defaultOptions=ce.options,this.resetStyle(ce),Y.onEachFeature&&Y.onEachFeature(a,ce),this.addLayer(ce)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(f){this._setLayerStyle(f,a)},this)},_setLayerStyle:function(a,f){a.setStyle&&(typeof f=="function"&&(f=f(a.feature)),a.setStyle(f))}});function ns(a,f){var w=a.type==="Feature"?a.geometry:a,N=w?w.coordinates:null,M=[],Y=f&&f.pointToLayer,ce=f&&f.coordsToLatLng||$l,ge,Ee,Le,Ve;if(!N&&!w)return null;switch(w.type){case"Point":return ge=ce(N),Ul(Y,a,ge,f);case"MultiPoint":for(Le=0,Ve=N.length;Le<Ve;Le++)ge=ce(N[Le]),M.push(Ul(Y,a,ge,f));return new li(M);case"LineString":case"MultiLineString":return Ee=Ca(N,w.type==="LineString"?0:1,ce),new qn(Ee,f);case"Polygon":case"MultiPolygon":return Ee=Ca(N,w.type==="Polygon"?1:2,ce),new ui(Ee,f);case"GeometryCollection":for(Le=0,Ve=w.geometries.length;Le<Ve;Le++){var lt=ns({geometry:w.geometries[Le],type:"Feature",properties:a.properties},f);lt&&M.push(lt)}return new li(M);case"FeatureCollection":for(Le=0,Ve=w.features.length;Le<Ve;Le++){var wt=ns(w.features[Le],f);wt&&M.push(wt)}return new li(M);default:throw new Error("Invalid GeoJSON object.")}}function Ul(a,f,w,N){return a?a(f,w):new ci(w,N&&N.markersInheritOptions&&N)}function $l(a){return new ve(a[1],a[0],a[2])}function Ca(a,f,w){for(var N=[],M=0,Y=a.length,ce;M<Y;M++)ce=f?Ca(a[M],f-1,w):(w||$l)(a[M]),N.push(ce);return N}function Hl(a,f){return a=Ie(a),a.alt!==void 0?[b(a.lng,f),b(a.lat,f),b(a.alt,f)]:[b(a.lng,f),b(a.lat,f)]}function Zl(a,f,w,N){for(var M=[],Y=0,ce=a.length;Y<ce;Y++)M.push(f?Zl(a[Y],ir(a[Y])?0:f-1,w,N):Hl(a[Y],N));return!f&&w&&M.length>0&&M.push(M[0].slice()),M}function rs(a,f){return a.feature?i({},a.feature,{geometry:f}):Wl(f)}function Wl(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ou={toGeoJSON:function(a){return rs(this,{type:"Point",coordinates:Hl(this.getLatLng(),a)})}};ci.include(Ou),Fl.include(Ou),Bl.include(Ou),qn.include({toGeoJSON:function(a){var f=!ir(this._latlngs),w=Zl(this._latlngs,f?1:0,!1,a);return rs(this,{type:(f?"Multi":"")+"LineString",coordinates:w})}}),ui.include({toGeoJSON:function(a){var f=!ir(this._latlngs),w=f&&!ir(this._latlngs[0]),N=Zl(this._latlngs,w?2:f?1:0,!0,a);return f||(N=[N]),rs(this,{type:(w?"Multi":"")+"Polygon",coordinates:N})}}),Pi.include({toMultiPoint:function(a){var f=[];return this.eachLayer(function(w){f.push(w.toGeoJSON(a).geometry.coordinates)}),rs(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(a){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(a);var w=f==="GeometryCollection",N=[];return this.eachLayer(function(M){if(M.toGeoJSON){var Y=M.toGeoJSON(a);if(w)N.push(Y.geometry);else{var ce=Wl(Y);ce.type==="FeatureCollection"?N.push.apply(N,ce.features):N.push(ce)}}}),w?rs(this,{geometries:N,type:"GeometryCollection"}):{type:"FeatureCollection",features:N}}});function zf(a,f){return new zr(a,f)}var Sr=zf,Ai=Er.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,f,w){this._url=a,this._bounds=_e(f),v(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(mt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&qo(this._image),this},bringToBack:function(){return this._map&&oi(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=_e(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",f=this._image=a?this._url:yt("img");if(mt(f,"leaflet-image-layer"),this._zoomAnimated&&mt(f,"leaflet-zoom-animated"),this.options.className&&mt(f,this.options.className),f.onselectstart=g,f.onmousemove=g,f.onload=l(this.fire,this,"load"),f.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(a){var f=this._map.getZoomScale(a.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;wr(this._image,w,f)},_reset:function(){var a=this._image,f=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=f.getSize();on(a,f.min),a.style.width=w.x+"px",a.style.height=w.y+"px"},_updateOpacity:function(){Ln(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Df=function(a,f,w){return new Ai(a,f,w)},Mu=Ai.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",f=this._image=a?this._url:yt("video");if(mt(f,"leaflet-image-layer"),this._zoomAnimated&&mt(f,"leaflet-zoom-animated"),this.options.className&&mt(f,this.options.className),f.onselectstart=g,f.onmousemove=g,f.onloadeddata=l(this.fire,this,"load"),a){for(var w=f.getElementsByTagName("source"),N=[],M=0;M<w.length;M++)N.push(w[M].src);this._url=w.length>0?N:[f.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var Y=0;Y<this._url.length;Y++){var ce=yt("source");ce.src=this._url[Y],f.appendChild(ce)}}});function Bf(a,f,w){return new Mu(a,f,w)}var zu=Ai.extend({_initImage:function(){var a=this._image=this._url;mt(a,"leaflet-image-layer"),this._zoomAnimated&&mt(a,"leaflet-zoom-animated"),this.options.className&&mt(a,this.options.className),a.onselectstart=g,a.onmousemove=g}});function Du(a,f,w){return new zu(a,f,w)}var Dr=Er.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,f){a&&(a instanceof ve||T(a))?(this._latlng=Ie(a),v(this,f)):(v(this,a),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Ln(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Ln(this._container,1),this.bringToFront(),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Ln(this._container,0),this._removeTimeout=setTimeout(l(Wt,void 0,this._container),200)):Wt(this._container),this.options.interactive&&($t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ie(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qo(this._container),this},bringToBack:function(){return this._map&&oi(this._container),this},_prepareOpen:function(a){var f=this._source;if(!f._map)return!1;if(f instanceof li){f=null;var w=this._source._layers;for(var N in w)if(w[N]._map){f=w[N];break}if(!f)return!1;this._source=f}if(!a)if(f.getCenter)a=f.getCenter();else if(f.getLatLng)a=f.getLatLng();else if(f.getBounds)a=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")a.innerHTML=f;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),f=le(this.options.offset),w=this._getAnchor();this._zoomAnimated?on(this._container,a.add(w)):f=f.add(a).add(w);var N=this._containerBottom=-f.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=N+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});St.include({_initOverlay:function(a,f,w,N){var M=f;return M instanceof a||(M=new a(N).setContent(f)),w&&M.setLatLng(w),M}}),Er.include({_initOverlay:function(a,f,w,N){var M=w;return M instanceof a?(v(M,N),M._source=this):(M=f&&!N?f:new a(N,this),M.setContent(w)),M}});var Vl=Dr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Dr.prototype.openOn.call(this,a)},onAdd:function(a){Dr.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ti||this._source.on("preclick",Mr))},onRemove:function(a){Dr.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ti||this._source.off("preclick",Mr))},getEvents:function(){var a=Dr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",f=this._container=yt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=yt("div",a+"-content-wrapper",f);if(this._contentNode=yt("div",a+"-content",w),xa(f),jl(this._contentNode),ht(f,"contextmenu",Mr),this._tipContainer=yt("div",a+"-tip-container",f),this._tip=yt("div",a+"-tip",this._tipContainer),this.options.closeButton){var N=this._closeButton=yt("a",a+"-close-button",f);N.setAttribute("role","button"),N.setAttribute("aria-label","Close popup"),N.href="#close",N.innerHTML='<span aria-hidden="true">&#215;</span>',ht(N,"click",function(M){en(M),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,f=a.style;f.width="",f.whiteSpace="nowrap";var w=a.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),f.width=w+1+"px",f.whiteSpace="",f.height="";var N=a.offsetHeight,M=this.options.maxHeight,Y="leaflet-popup-scrolled";M&&N>M?(f.height=M+"px",mt(a,Y)):$t(a,Y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),w=this._getAnchor();on(this._container,f.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,f=parseInt(ya(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+f,N=this._containerWidth,M=new te(this._containerLeft,-w-this._containerBottom);M._add(si(this._container));var Y=a.layerPointToContainerPoint(M),ce=le(this.options.autoPanPadding),ge=le(this.options.autoPanPaddingTopLeft||ce),Ee=le(this.options.autoPanPaddingBottomRight||ce),Le=a.getSize(),Ve=0,lt=0;Y.x+N+Ee.x>Le.x&&(Ve=Y.x+N-Le.x+Ee.x),Y.x-Ve-ge.x<0&&(Ve=Y.x-ge.x),Y.y+w+Ee.y>Le.y&&(lt=Y.y+w-Le.y+Ee.y),Y.y-lt-ge.y<0&&(lt=Y.y-ge.y),(Ve||lt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ve,lt]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),is=function(a,f){return new Vl(a,f)};St.mergeOptions({closePopupOnClick:!0}),St.include({openPopup:function(a,f,w){return this._initOverlay(Vl,a,f,w).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Er.include({bindPopup:function(a,f){return this._popup=this._initOverlay(Vl,this._popup,a,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof li||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){xr(a);var f=a.layer||a.target;if(this._popup._source===f&&!(f instanceof Ti)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=f,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var os=Dr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Dr.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Dr.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Dr.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",f=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=yt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var f,w,N=this._map,M=this._container,Y=N.latLngToContainerPoint(N.getCenter()),ce=N.layerPointToContainerPoint(a),ge=this.options.direction,Ee=M.offsetWidth,Le=M.offsetHeight,Ve=le(this.options.offset),lt=this._getAnchor();ge==="top"?(f=Ee/2,w=Le):ge==="bottom"?(f=Ee/2,w=0):ge==="center"?(f=Ee/2,w=Le/2):ge==="right"?(f=0,w=Le/2):ge==="left"?(f=Ee,w=Le/2):ce.x<Y.x?(ge="right",f=0,w=Le/2):(ge="left",f=Ee+(Ve.x+lt.x)*2,w=Le/2),a=a.subtract(le(f,w,!0)).add(Ve).add(lt),$t(M,"leaflet-tooltip-right"),$t(M,"leaflet-tooltip-left"),$t(M,"leaflet-tooltip-top"),$t(M,"leaflet-tooltip-bottom"),mt(M,"leaflet-tooltip-"+ge),on(M,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Ln(this._container,a)},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(f)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Na=function(a,f){return new os(a,f)};St.include({openTooltip:function(a,f,w){return this._initOverlay(os,a,f,w).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Er.include({bindTooltip:function(a,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(os,this._tooltip,a,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var f=a?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[f](w),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof li||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var f=typeof a.getElement=="function"&&a.getElement();f&&(ht(f,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),ht(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var f=typeof a.getElement=="function"&&a.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var f=a.latlng,w,N;this._tooltip.options.sticky&&a.originalEvent&&(w=this._map.mouseEventToContainerPoint(a.originalEvent),N=this._map.containerPointToLayerPoint(w),f=this._map.layerPointToLatLng(N)),this._tooltip.setLatLng(f)}});var ql=co.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var f=a&&a.tagName==="DIV"?a:document.createElement("div"),w=this.options;if(w.html instanceof Element?(Nl(f),f.appendChild(w.html)):f.innerHTML=w.html!==!1?w.html:"",w.bgPos){var N=le(w.bgPos);f.style.backgroundPosition=-N.x+"px "+-N.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Ff(a){return new ql(a)}co.Default=ts;var Ri=Er.extend({options:{tileSize:256,opacity:1,updateWhenIdle:nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){v(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Wt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(oi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof te?a:new te(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var f=this.getPane().children,w=-a(-1/0,1/0),N=0,M=f.length,Y;N<M;N++)Y=f[N].style.zIndex,f[N]!==this._container&&Y&&(w=a(w,+Y));isFinite(w)&&(this.options.zIndex=w+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nt.ielt9){Ln(this._container,this.options.opacity);var a=+new Date,f=!1,w=!1;for(var N in this._tiles){var M=this._tiles[N];if(!(!M.current||!M.loaded)){var Y=Math.min(1,(a-M.loaded)/200);Ln(M.el,Y),Y<1?f=!0:(M.active?w=!0:this._onOpaqueTile(M),M.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),f&&(U(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,f=this.options.maxZoom;if(a!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===a?(this._levels[w].el.style.zIndex=f-Math.abs(a-w),this._onUpdateLevel(w)):(Wt(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var N=this._levels[a],M=this._map;return N||(N=this._levels[a]={},N.el=yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),N.el.style.zIndex=f,N.origin=M.project(M.unproject(M.getPixelOrigin()),a).round(),N.zoom=a,this._setZoomTransform(N,M.getCenter(),M.getZoom()),g(N.el.offsetWidth),this._onCreateLevel(N)),this._level=N,N}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var a,f,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)f=this._tiles[a],f.retain=f.current;for(a in this._tiles)if(f=this._tiles[a],f.current&&!f.active){var N=f.coords;this._retainParent(N.x,N.y,N.z,N.z-5)||this._retainChildren(N.x,N.y,N.z,N.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var f in this._tiles)this._tiles[f].coords.z===a&&this._removeTile(f)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Wt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,f,w,N){var M=Math.floor(a/2),Y=Math.floor(f/2),ce=w-1,ge=new te(+M,+Y);ge.z=+ce;var Ee=this._tileCoordsToKey(ge),Le=this._tiles[Ee];return Le&&Le.active?(Le.retain=!0,!0):(Le&&Le.loaded&&(Le.retain=!0),ce>N?this._retainParent(M,Y,ce,N):!1)},_retainChildren:function(a,f,w,N){for(var M=2*a;M<2*a+2;M++)for(var Y=2*f;Y<2*f+2;Y++){var ce=new te(M,Y);ce.z=w+1;var ge=this._tileCoordsToKey(ce),Ee=this._tiles[ge];if(Ee&&Ee.active){Ee.retain=!0;continue}else Ee&&Ee.loaded&&(Ee.retain=!0);w+1<N&&this._retainChildren(M,Y,w+1,N)}},_resetView:function(a){var f=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var f=this.options;return f.minNativeZoom!==void 0&&a<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<a?f.maxNativeZoom:a},_setView:function(a,f,w,N){var M=Math.round(f);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var Y=this.options.updateWhenZooming&&M!==this._tileZoom;(!N||Y)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(a),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(a,f)},_setZoomTransforms:function(a,f){for(var w in this._levels)this._setZoomTransform(this._levels[w],a,f)},_setZoomTransform:function(a,f,w){var N=this._map.getZoomScale(w,a.zoom),M=a.origin.multiplyBy(N).subtract(this._map._getNewPixelOrigin(f,w)).round();nt.any3d?wr(a.el,M,N):on(a.el,M)},_resetGrid:function(){var a=this._map,f=a.options.crs,w=this._tileSize=this.getTileSize(),N=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,f.wrapLng[0]],N).x/w.x),Math.ceil(a.project([0,f.wrapLng[1]],N).x/w.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([f.wrapLat[0],0],N).y/w.x),Math.ceil(a.project([f.wrapLat[1],0],N).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var f=this._map,w=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),N=f.getZoomScale(w,this._tileZoom),M=f.project(a,this._tileZoom).floor(),Y=f.getSize().divideBy(N*2);return new H(M.subtract(Y),M.add(Y))},_update:function(a){var f=this._map;if(f){var w=this._clampZoom(f.getZoom());if(a===void 0&&(a=f.getCenter()),this._tileZoom!==void 0){var N=this._getTiledPixelBounds(a),M=this._pxBoundsToTileRange(N),Y=M.getCenter(),ce=[],ge=this.options.keepBuffer,Ee=new H(M.getBottomLeft().subtract([ge,-ge]),M.getTopRight().add([ge,-ge]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Le in this._tiles){var Ve=this._tiles[Le].coords;(Ve.z!==this._tileZoom||!Ee.contains(new te(Ve.x,Ve.y)))&&(this._tiles[Le].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(a,w);return}for(var lt=M.min.y;lt<=M.max.y;lt++)for(var wt=M.min.x;wt<=M.max.x;wt++){var yn=new te(wt,lt);if(yn.z=this._tileZoom,!!this._isValidTile(yn)){var hn=this._tiles[this._tileCoordsToKey(yn)];hn?hn.current=!0:ce.push(yn)}}if(ce.sort(function(Mn,us){return Mn.distanceTo(Y)-us.distanceTo(Y)}),ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Kn=document.createDocumentFragment();for(wt=0;wt<ce.length;wt++)this._addTile(ce[wt],Kn);this._level.el.appendChild(Kn)}}}},_isValidTile:function(a){var f=this._map.options.crs;if(!f.infinite){var w=this._globalTileRange;if(!f.wrapLng&&(a.x<w.min.x||a.x>w.max.x)||!f.wrapLat&&(a.y<w.min.y||a.y>w.max.y))return!1}if(!this.options.bounds)return!0;var N=this._tileCoordsToBounds(a);return _e(this.options.bounds).overlaps(N)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var f=this._map,w=this.getTileSize(),N=a.scaleBy(w),M=N.add(w),Y=f.unproject(N,a.z),ce=f.unproject(M,a.z);return[Y,ce]},_tileCoordsToBounds:function(a){var f=this._tileCoordsToNwSe(a),w=new ke(f[0],f[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var f=a.split(":"),w=new te(+f[0],+f[1]);return w.z=+f[2],w},_removeTile:function(a){var f=this._tiles[a];f&&(Wt(f.el),delete this._tiles[a],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){mt(a,"leaflet-tile");var f=this.getTileSize();a.style.width=f.x+"px",a.style.height=f.y+"px",a.onselectstart=g,a.onmousemove=g,nt.ielt9&&this.options.opacity<1&&Ln(a,this.options.opacity)},_addTile:function(a,f){var w=this._getTilePos(a),N=this._tileCoordsToKey(a),M=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(M),this.createTile.length<2&&J(l(this._tileReady,this,a,null,M)),on(M,w),this._tiles[N]={el:M,coords:a,current:!0},f.appendChild(M),this.fire("tileloadstart",{tile:M,coords:a})},_tileReady:function(a,f,w){f&&this.fire("tileerror",{error:f,tile:w,coords:a});var N=this._tileCoordsToKey(a);w=this._tiles[N],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Ln(w.el,0),U(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),f||(mt(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nt.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var f=new te(this._wrapX?y(a.x,this._wrapX):a.x,this._wrapY?y(a.y,this._wrapY):a.y);return f.z=a.z,f},_pxBoundsToTileRange:function(a){var f=this.getTileSize();return new H(a.min.unscaleBy(f).floor(),a.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function ss(a){return new Ri(a)}var Ii=Ri.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,f){this._url=a,f=v(this,f),f.detectRetina&&nt.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,f){return this._url===a&&f===void 0&&(f=!0),this._url=a,f||this.redraw(),this},createTile:function(a,f){var w=document.createElement("img");return ht(w,"load",l(this._tileOnLoad,this,f,w)),ht(w,"error",l(this._tileOnError,this,f,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(a),w},getTileUrl:function(a){var f={r:nt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-a.y;this.options.tms&&(f.y=w),f["-y"]=w}return A(this._url,i(f,this.options))},_tileOnLoad:function(a,f){nt.ielt9?setTimeout(l(a,this,null,f),0):a(null,f)},_tileOnError:function(a,f,w){var N=this.options.errorTileUrl;N&&f.getAttribute("src")!==N&&(f.src=N),a(w,f)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,f=this.options.maxZoom,w=this.options.zoomReverse,N=this.options.zoomOffset;return w&&(a=f-a),a+N},_getSubdomain:function(a){var f=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var a,f;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(f=this._tiles[a].el,f.onload=g,f.onerror=g,!f.complete)){f.src=D;var w=this._tiles[a].coords;Wt(f),delete this._tiles[a],this.fire("tileabort",{tile:f,coords:w})}},_removeTile:function(a){var f=this._tiles[a];if(f)return f.el.setAttribute("src",D),Ri.prototype._removeTile.call(this,a)},_tileReady:function(a,f,w){if(!(!this._map||w&&w.getAttribute("src")===D))return Ri.prototype._tileReady.call(this,a,f,w)}});function Bu(a,f){return new Ii(a,f)}var Pa=Ii.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,f){this._url=a;var w=i({},this.defaultWmsParams);for(var N in f)N in this.options||(w[N]=f[N]);f=v(this,f);var M=f.detectRetina&&nt.retina?2:1,Y=this.getTileSize();w.width=Y.x*M,w.height=Y.y*M,this.wmsParams=w},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Ii.prototype.onAdd.call(this,a)},getTileUrl:function(a){var f=this._tileCoordsToNwSe(a),w=this._crs,N=Q(w.project(f[0]),w.project(f[1])),M=N.min,Y=N.max,ce=(this._wmsVersion>=1.3&&this._crs===jf?[M.y,M.x,Y.y,Y.x]:[M.x,M.y,Y.x,Y.y]).join(","),ge=Ii.prototype.getTileUrl.call(this,a);return ge+E(this.wmsParams,ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ce},setParams:function(a,f){return i(this.wmsParams,a),f||this.redraw(),this}});function Uf(a,f){return new Pa(a,f)}Ii.WMS=Pa,Bu.wms=Uf;var Br=Er.extend({options:{padding:.1},initialize:function(a){v(this,a),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),mt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,f){var w=this._map.getZoomScale(f,this._zoom),N=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,f),Y=N.multiplyBy(-w).add(M).subtract(this._map._getNewPixelOrigin(a,f));nt.any3d?wr(this._container,Y,w):on(this._container,Y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,f=this._map.getSize(),w=this._map.containerPointToLayerPoint(f.multiplyBy(-a)).round();this._bounds=new H(w,w.add(f.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fu=Br.extend({options:{tolerance:0},getEvents:function(){var a=Br.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Br.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");ht(a,"mousemove",this._onMouseMove,this),ht(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ht(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Wt(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var f in this._layers)a=this._layers[f],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Br.prototype._update.call(this);var a=this._bounds,f=this._container,w=a.getSize(),N=nt.retina?2:1;on(f,a.min),f.width=N*w.x,f.height=N*w.y,f.style.width=w.x+"px",f.style.height=w.y+"px",nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Br.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[d(a)]=a;var f=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var f=a._order,w=f.next,N=f.prev;w?w.prev=N:this._drawLast=N,N?N.next=w:this._drawFirst=w,delete a._order,delete this._layers[d(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var f=a.options.dashArray.split(/[, ]+/),w=[],N,M;for(M=0;M<f.length;M++){if(N=Number(f[M]),isNaN(N))return;w.push(N)}a.options._dashArray=w}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var f=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(a._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(a._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var f=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,f=this._redrawBounds;if(this._ctx.save(),f){var w=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var N=this._drawFirst;N;N=N.next)a=N.layer,(!f||a._pxBounds&&a._pxBounds.intersects(f))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,f){if(this._drawing){var w,N,M,Y,ce=a._parts,ge=ce.length,Ee=this._ctx;if(ge){for(Ee.beginPath(),w=0;w<ge;w++){for(N=0,M=ce[w].length;N<M;N++)Y=ce[w][N],Ee[N?"lineTo":"moveTo"](Y.x,Y.y);f&&Ee.closePath()}this._fillStroke(Ee,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var f=a._point,w=this._ctx,N=Math.max(Math.round(a._radius),1),M=(Math.max(Math.round(a._radiusY),1)||N)/N;M!==1&&(w.save(),w.scale(1,M)),w.beginPath(),w.arc(f.x,f.y/M,N,0,Math.PI*2,!1),M!==1&&w.restore(),this._fillStroke(w,a)}},_fillStroke:function(a,f){var w=f.options;w.fill&&(a.globalAlpha=w.fillOpacity,a.fillStyle=w.fillColor||w.color,a.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(a.setLineDash&&a.setLineDash(f.options&&f.options._dashArray||[]),a.globalAlpha=w.opacity,a.lineWidth=w.weight,a.strokeStyle=w.color,a.lineCap=w.lineCap,a.lineJoin=w.lineJoin,a.stroke())},_onClick:function(a){for(var f=this._map.mouseEventToLayerPoint(a),w,N,M=this._drawFirst;M;M=M.next)w=M.layer,w.options.interactive&&w._containsPoint(f)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(w))&&(N=w);this._fireEvent(N?[N]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,f)}},_handleMouseOut:function(a){var f=this._hoveredLayer;f&&($t(this._container,"leaflet-interactive"),this._fireEvent([f],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,f){if(!this._mouseHoverThrottled){for(var w,N,M=this._drawFirst;M;M=M.next)w=M.layer,w.options.interactive&&w._containsPoint(f)&&(N=w);N!==this._hoveredLayer&&(this._handleMouseOut(a),N&&(mt(this._container,"leaflet-interactive"),this._fireEvent([N],a,"mouseover"),this._hoveredLayer=N)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,f,w){this._map._fireDOMEvent(f,w||f.type,a)},_bringToFront:function(a){var f=a._order;if(f){var w=f.next,N=f.prev;if(w)w.prev=N;else return;N?N.next=w:w&&(this._drawFirst=w),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(a)}},_bringToBack:function(a){var f=a._order;if(f){var w=f.next,N=f.prev;if(N)N.next=w;else return;w?w.prev=N:N&&(this._drawLast=N),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(a)}}});function Uu(a){return nt.canvas?new Fu(a):null}var as=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$f={_initContainer:function(){this._container=yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Br.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var f=a._container=as("shape");mt(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",a._path=as("path"),f.appendChild(a._path),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){var f=a._container;this._container.appendChild(f),a.options.interactive&&a.addInteractiveTarget(f)},_removePath:function(a){var f=a._container;Wt(f),a.removeInteractiveTarget(f),delete this._layers[d(a)]},_updateStyle:function(a){var f=a._stroke,w=a._fill,N=a.options,M=a._container;M.stroked=!!N.stroke,M.filled=!!N.fill,N.stroke?(f||(f=a._stroke=as("stroke")),M.appendChild(f),f.weight=N.weight+"px",f.color=N.color,f.opacity=N.opacity,N.dashArray?f.dashStyle=T(N.dashArray)?N.dashArray.join(" "):N.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=N.lineCap.replace("butt","flat"),f.joinstyle=N.lineJoin):f&&(M.removeChild(f),a._stroke=null),N.fill?(w||(w=a._fill=as("fill")),M.appendChild(w),w.color=N.fillColor||N.color,w.opacity=N.fillOpacity):w&&(M.removeChild(w),a._fill=null)},_updateCircle:function(a){var f=a._point.round(),w=Math.round(a._radius),N=Math.round(a._radiusY||w);this._setPath(a,a._empty()?"M0 0":"AL "+f.x+","+f.y+" "+w+","+N+" 0,"+65535*360)},_setPath:function(a,f){a._path.v=f},_bringToFront:function(a){qo(a._container)},_bringToBack:function(a){oi(a._container)}},kr=nt.vml?as:Ne,uo=Br.extend({_initContainer:function(){this._container=kr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wt(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Br.prototype._update.call(this);var a=this._bounds,f=a.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,w.setAttribute("width",f.x),w.setAttribute("height",f.y)),on(w,a.min),w.setAttribute("viewBox",[a.min.x,a.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(a){var f=a._path=kr("path");a.options.className&&mt(f,a.options.className),a.options.interactive&&mt(f,"leaflet-interactive"),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Wt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[d(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var f=a._path,w=a.options;f&&(w.stroke?(f.setAttribute("stroke",w.color),f.setAttribute("stroke-opacity",w.opacity),f.setAttribute("stroke-width",w.weight),f.setAttribute("stroke-linecap",w.lineCap),f.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?f.setAttribute("stroke-dasharray",w.dashArray):f.removeAttribute("stroke-dasharray"),w.dashOffset?f.setAttribute("stroke-dashoffset",w.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),w.fill?(f.setAttribute("fill",w.fillColor||w.color),f.setAttribute("fill-opacity",w.fillOpacity),f.setAttribute("fill-rule",w.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(a,f){this._setPath(a,be(a._parts,f))},_updateCircle:function(a){var f=a._point,w=Math.max(Math.round(a._radius),1),N=Math.max(Math.round(a._radiusY),1)||w,M="a"+w+","+N+" 0 1,0 ",Y=a._empty()?"M0 0":"M"+(f.x-w)+","+f.y+M+w*2+",0 "+M+-w*2+",0 ";this._setPath(a,Y)},_setPath:function(a,f){a._path.setAttribute("d",f)},_bringToFront:function(a){qo(a._path)},_bringToBack:function(a){oi(a._path)}});nt.vml&&uo.include($f);function Kl(a){return nt.svg||nt.vml?new uo(a):null}St.include({getRenderer:function(a){var f=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var f=this._paneRenderers[a];return f===void 0&&(f=this._createRenderer({pane:a}),this._paneRenderers[a]=f),f},_createRenderer:function(a){return this.options.preferCanvas&&Uu(a)||Kl(a)}});var Hf=ui.extend({initialize:function(a,f){ui.prototype.initialize.call(this,this._boundsToLatLngs(a),f)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=_e(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Xm(a,f){return new Hf(a,f)}uo.create=kr,uo.pointsToPath=be,zr.geometryToLayer=ns,zr.coordsToLatLng=$l,zr.coordsToLatLngs=Ca,zr.latLngToCoords=Hl,zr.latLngsToCoords=Zl,zr.getFeature=rs,zr.asFeature=Wl,St.mergeOptions({boxZoom:!0});var ls=rr.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Pt(),Al(),this._startPoint=this._map.mouseEventToContainerPoint(a),ht(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=yt("div","leaflet-zoom-box",this._container),mt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var f=new H(this._point,this._startPoint),w=f.getSize();on(this._box,f.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(Wt(this._box),$t(this._container,"leaflet-crosshair")),Yo(),Rl(),Bt(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var f=new ke(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});St.addInitHook("addHandler","boxZoom",ls),St.mergeOptions({doubleClickZoom:!0});var Zf=rr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var f=this._map,w=f.getZoom(),N=f.options.zoomDelta,M=a.originalEvent.shiftKey?w-N:w+N;f.options.doubleClickZoom==="center"?f.setZoom(M):f.setZoomAround(a.containerPoint,M)}});St.addInitHook("addHandler","doubleClickZoom",Zf),St.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $u=rr.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new br(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}mt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$t(this._map._container,"leaflet-grab"),$t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=_e(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var f=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(f),this._prunePositions(f)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,f){return a-(a-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;a.x<f.min.x&&(a.x=this._viscousLimit(a.x,f.min.x)),a.y<f.min.y&&(a.y=this._viscousLimit(a.y,f.min.y)),a.x>f.max.x&&(a.x=this._viscousLimit(a.x,f.max.x)),a.y>f.max.y&&(a.y=this._viscousLimit(a.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,f=Math.round(a/2),w=this._initialWorldOffset,N=this._draggable._newPos.x,M=(N-f+w)%a+f-w,Y=(N+f+w)%a-f-w,ce=Math.abs(M+w)<Math.abs(Y+w)?M:Y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ce},_onDragEnd:function(a){var f=this._map,w=f.options,N=!w.inertia||a.noInertia||this._times.length<2;if(f.fire("dragend",a),N)f.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),Y=(this._lastTime-this._times[0])/1e3,ce=w.easeLinearity,ge=M.multiplyBy(ce/Y),Ee=ge.distanceTo([0,0]),Le=Math.min(w.inertiaMaxSpeed,Ee),Ve=ge.multiplyBy(Le/Ee),lt=Le/(w.inertiaDeceleration*ce),wt=Ve.multiplyBy(-lt/2).round();!wt.x&&!wt.y?f.fire("moveend"):(wt=f._limitOffset(wt,f.options.maxBounds),J(function(){f.panBy(wt,{duration:lt,easeLinearity:ce,noMoveStart:!0,animate:!0})}))}}});St.addInitHook("addHandler","dragging",$u),St.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hu=rr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),ht(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,f=document.documentElement,w=a.scrollTop||f.scrollTop,N=a.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(N,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var f=this._panKeys={},w=this.keyCodes,N,M;for(N=0,M=w.left.length;N<M;N++)f[w.left[N]]=[-1*a,0];for(N=0,M=w.right.length;N<M;N++)f[w.right[N]]=[a,0];for(N=0,M=w.down.length;N<M;N++)f[w.down[N]]=[0,a];for(N=0,M=w.up.length;N<M;N++)f[w.up[N]]=[0,-1*a]},_setZoomDelta:function(a){var f=this._zoomKeys={},w=this.keyCodes,N,M;for(N=0,M=w.zoomIn.length;N<M;N++)f[w.zoomIn[N]]=a;for(N=0,M=w.zoomOut.length;N<M;N++)f[w.zoomOut[N]]=-a},_addHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var f=a.keyCode,w=this._map,N;if(f in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(N=this._panKeys[f],a.shiftKey&&(N=le(N).multiplyBy(3)),w.options.maxBounds&&(N=w._limitOffset(le(N),w.options.maxBounds)),w.options.worldCopyJump){var M=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(N)));w.panTo(M)}else w.panBy(N)}else if(f in this._zoomKeys)w.setZoom(w.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;xr(a)}}});St.addInitHook("addHandler","keyboard",Hu),St.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ft=rr.extend({addHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var f=kf(a),w=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var N=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),N),xr(a)},_performZoom:function(){var a=this._map,f=a.getZoom(),w=this._map.options.zoomSnap||0;a._stop();var N=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(N))))/Math.LN2,Y=w?Math.ceil(M/w)*w:M,ce=a._limitZoom(f+(this._delta>0?Y:-Y))-f;this._delta=0,this._startTime=null,ce&&(a.options.scrollWheelZoom==="center"?a.setZoom(f+ce):a.setZoomAround(this._lastMousePos,f+ce))}});St.addInitHook("addHandler","scrollWheelZoom",Ft);var Zu=600;St.mergeOptions({tapHold:nt.touchNative&&nt.safari&&nt.mobile,tapTolerance:15});var Ta=rr.extend({addHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var f=a.touches[0];this._startPos=this._newPos=new te(f.clientX,f.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ht(document,"touchend",en),ht(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),Zu),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Bt(document,"touchend",en),Bt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)},_onMove:function(a){var f=a.touches[0];this._newPos=new te(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,f){var w=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});w._simulated=!0,f.target.dispatchEvent(w)}});St.addInitHook("addHandler","tapHold",Ta),St.mergeOptions({touchZoom:nt.touch,bounceAtZoomLimits:!0});var cs=rr.extend({addHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$t(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var f=this._map;if(!(!a.touches||a.touches.length!==2||f._animatingZoom||this._zooming)){var w=f.mouseEventToContainerPoint(a.touches[0]),N=f.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(w.add(N)._divideBy(2))),this._startDist=w.distanceTo(N),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),en(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var f=this._map,w=f.mouseEventToContainerPoint(a.touches[0]),N=f.mouseEventToContainerPoint(a.touches[1]),M=w.distanceTo(N)/this._startDist;if(this._zoom=f.getScaleZoom(M,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&M<1||this._zoom>f.getMaxZoom()&&M>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var Y=w._add(N)._divideBy(2)._subtract(this._centerPoint);if(M===1&&Y.x===0&&Y.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(Y),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var ce=l(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(ce,this,!0),en(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});St.addInitHook("addHandler","touchZoom",cs),St.BoxZoom=ls,St.DoubleClickZoom=Zf,St.Drag=$u,St.Keyboard=Hu,St.ScrollWheelZoom=Ft,St.TapHold=Ta,St.TouchZoom=cs,n.Bounds=H,n.Browser=nt,n.CRS=Pe,n.Canvas=Fu,n.Circle=Fl,n.CircleMarker=Bl,n.Class=j,n.Control=Vn,n.DivIcon=ql,n.DivOverlay=Dr,n.DomEvent=Ll,n.DomUtil=_a,n.Draggable=br,n.Evented=ie,n.FeatureGroup=li,n.GeoJSON=zr,n.GridLayer=Ri,n.Handler=rr,n.Icon=co,n.ImageOverlay=Ai,n.LatLng=ve,n.LatLngBounds=ke,n.Layer=Er,n.LayerGroup=Pi,n.LineUtil=If,n.Map=St,n.Marker=ci,n.Mixin=Nu,n.Path=Ti,n.Point=te,n.PolyUtil=$m,n.Polygon=ui,n.Polyline=qn,n.Popup=Vl,n.PosAnimation=Ol,n.Projection=qm,n.Rectangle=Hf,n.Renderer=Br,n.SVG=uo,n.SVGOverlay=zu,n.TileLayer=Ii,n.Tooltip=os,n.Transformation=Qe,n.Util=X,n.VideoOverlay=Mu,n.bind=l,n.bounds=Q,n.canvas=Uu,n.circle=ka,n.circleMarker=Mf,n.control=Ni,n.divIcon=Ff,n.extend=i,n.featureGroup=Lf,n.geoJSON=zf,n.geoJson=Sr,n.gridLayer=ss,n.icon=Of,n.imageOverlay=Df,n.latLng=Ie,n.latLngBounds=_e,n.layerGroup=Sa,n.map=Ci,n.marker=Ym,n.point=le,n.polygon=Qm,n.polyline=Jm,n.popup=is,n.rectangle=Xm,n.setOptions=v,n.stamp=d,n.svg=Kl,n.svgOverlay=Du,n.tileLayer=Bu,n.tooltip=Na,n.transformation=ot,n.version=r,n.videoOverlay=Bf;var Wf=window.L;n.noConflict=function(){return window.L=Wf,this},window.L=n})}(_d,_d.exports)),_d.exports}var $V=UV();const wc=Qd($V),HV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",ZV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let WV=wc.icon({iconUrl:HV,shadowUrl:ZV,iconSize:[25,41],iconAnchor:[12,41]});wc.Marker.prototype.options.icon=WV;const gv={"9q8yyz":[37.7749,-122.4194],"9q8yym":[34.0522,-118.2437],"9q8yyk":[40.7128,-74.006],"9q8yyf":[41.8781,-87.6298],dpwh:[47.6062,-122.3321],dqcjq:[39.7392,-104.9903]};function VV(e){if(gv[e])return gv[e];for(const[t,n]of Object.entries(gv))if(e.startsWith(t))return n;return[25+Math.random()*35,-125+Math.random()*55]}function dE({lockers:e=[],onLockerClick:t,center:n=[45,-100],zoom:r=3}){const i=C.useRef(null),s=C.useRef(null),l=C.useRef([]);return C.useEffect(()=>{if(!s.current)return;const u=wc.map(s.current).setView(n,r);return wc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(u),i.current=u,()=>{u.remove(),i.current=null}},[n,r]),C.useEffect(()=>{if(i.current&&(l.current.forEach(u=>u.remove()),l.current=[],e.forEach(u=>{if(!u.geohash)return;const d=VV(u.geohash);if(!d)return;const p=u.price>0&&u.price<1e3?`<div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${u.title}</h3>
            <p style="margin: 0; color: #666;">${u.description||""}</p>
            <p style="margin: 5px 0 0 0; font-size: 14px; font-weight: bold;">
              ${u.price} products
            </p>
          </div>`:`<div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${u.title}</h3>
            <p style="margin: 0; color: #666;">${u.description||""}</p>
          </div>`,y=wc.marker(d).addTo(i.current).bindPopup(p);t&&y.on("click",()=>t(u)),l.current.push(y)}),l.current.length>0&&l.current.length<10)){const u=new wc.FeatureGroup(l.current);i.current.fitBounds(u.getBounds().pad(.1))}},[e,t]),m.jsx("div",{ref:s,style:{height:"100%",width:"100%",minHeight:"400px"}})}const yv=[{id:"1",dTag:"locker-sf-001",name:"Mission District Secure Box",description:"24/7 accessible smart locker in secure building. Camera monitored.",price:500,geohash:"9q8yyz",city:"San Francisco",state:"CA",owner:"npub1owner1...",dimensions:"40x50x60 cm",features:["24/7 Access","Camera","Climate Controlled"]},{id:"2",dTag:"locker-nyc-001",name:"Brooklyn Heights Drop",description:"Street-level locker. Well-lit area, residential neighborhood.",price:750,geohash:"9q8yyk",city:"New York",state:"NY",owner:"npub1owner2...",dimensions:"35x45x55 cm",features:["Ground Floor","Discreet"]},{id:"3",dTag:"locker-sea-001",name:"Capitol Hill Tech Hub",description:"Indoor location near coffee shops. NFC + QR unlock.",price:400,geohash:"dpwh",city:"Seattle",state:"WA",owner:"npub1owner3...",dimensions:"50x60x70 cm",features:["NFC Unlock","Indoor","WiFi"]},{id:"4",dTag:"locker-la-001",name:"Silverlake Community Box",description:"Community-run locker. Local volunteers maintain.",price:300,geohash:"9q8yym",city:"Los Angeles",state:"CA",owner:"npub1owner4...",dimensions:"30x40x50 cm",features:["Community Run","Cheap"]}],KA=[{id:"seller-1",name:"CryptoVault",npub:"npub1vault...",tagline:"Premium hardware wallets & security devices",items:["ColdCard","SeedSigner","Faraday bags"],trustScore:4.9,sales:156,servicesAreas:["9q8yyz","9q8yyk","dpwh"],isPremium:!0},{id:"seller-2",name:"PrivacyFirst",npub:"npub1priv...",tagline:"De-googled phones & privacy tools",items:["Pixel w/ GrapheneOS","VPN subs"," anon SIMs"],trustScore:4.7,sales:89,servicesAreas:["9q8yyz","9q8yym","dpwh"],isPremium:!0},{id:"seller-3",name:"SatStacker",npub:"npub1sat...",tagline:"Bitcoin merchandise & educational kits",items:["Metal seeds","Books","Stickers"],trustScore:5,sales:234,servicesAreas:["9q8yyk","dqcjq"],isPremium:!1}],qV={"san francisco":["9q8yyz"],sf:["9q8yyz"],94102:["9q8yyz"],94103:["9q8yyz"],"new york":["9q8yyk"],nyc:["9q8yyk"],10001:["9q8yyk"],seattle:["dpwh"],98101:["dpwh"],"los angeles":["9q8yym"],la:["9q8yym"],90001:["9q8yym"],denver:["dqcjq"],80201:["dqcjq"],chicago:["9q8yyf"],60601:["9q8yyf"]};function KV(){const{nostr:e}=jr(),[t,n]=C.useState("grid"),[r,i]=C.useState(2e3),[s,l]=C.useState(!1),[u,d]=C.useState(""),[p,y]=C.useState(""),[g,b]=C.useState(!1),_=C.useMemo(()=>{if(!p.trim())return null;const T=p.toLowerCase().trim();return qV[T]||null},[p]),S=C.useMemo(()=>yv.filter(T=>{const z=!u||T.name.toLowerCase().includes(u.toLowerCase())||T.description.toLowerCase().includes(u.toLowerCase())||T.city.toLowerCase().includes(u.toLowerCase()),D=T.price<=r,$=!_||_.some(Z=>T.geohash.startsWith(Z));return z&&D&&$}),[u,r,_]),v=C.useMemo(()=>_?KA.filter(T=>T.servicesAreas.some(z=>_.some(D=>z.startsWith(D)))):[],[_]),E=T=>T>=1e3?`${(T/1e3).toFixed(1)}k`:`${T}`,k=p&&!_,A=v.length>0;return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[m.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[m.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold",children:"Locker Marketplace"}),m.jsx("p",{className:"text-muted-foreground",children:"Find secure drop boxes for anonymous exchanges"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(gt,{variant:"outline",onClick:()=>b(!0),children:[m.jsx(jd,{className:"h-4 w-4 mr-2"}),"Browse Map"]}),m.jsx(gt,{asChild:!0,children:m.jsxs(Rn,{to:"/dashboard",children:[m.jsx(a0,{className:"h-4 w-4 mr-2"}),"List Your Locker"]})})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(_F,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),m.jsx(kn,{placeholder:"Search lockers...",value:u,onChange:T=>d(T.target.value),className:"pl-10"})]}),m.jsxs("div",{className:"relative",children:[m.jsx(sm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),m.jsx(kn,{placeholder:"Enter city or zip code...",value:p,onChange:T=>y(T.target.value),className:"pl-10"})]})]}),m.jsx("div",{className:"flex flex-wrap items-center gap-3",children:m.jsxs("div",{className:"flex gap-2 flex-1",children:[m.jsxs(gt,{variant:t==="grid"?"default":"outline",size:"sm",onClick:()=>n("grid"),children:[m.jsx(vF,{className:"h-4 w-4 mr-2"}),"Grid"]}),m.jsxs(gt,{variant:t==="map"?"default":"outline",size:"sm",onClick:()=>n("map"),children:[m.jsx(jd,{className:"h-4 w-4 mr-2"}),"Map"]}),m.jsxs(gt,{variant:"outline",size:"sm",onClick:()=>l(!s),children:[m.jsx(pF,{className:"h-4 w-4 mr-2"}),"Filters"]})]})}),s&&m.jsx(Mt,{children:m.jsx(Zt,{className:"pt-6",children:m.jsxs("div",{className:"space-y-2",children:[m.jsxs(dr,{children:["Max Hourly Rate: ",E(r)," sats"]}),m.jsx(qA,{min:0,max:5e3,step:100,value:[r],onValueChange:([T])=>i(T)})]})})})]}),k?m.jsx(YV,{location:p,onClear:()=>y("")}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[m.jsx(a0,{className:"h-4 w-4"}),S.length," locker",S.length!==1?"s":""," found",p&&m.jsxs("span",{children:["near ",p]})]}),t==="map"?m.jsxs("div",{className:"grid lg:grid-cols-3 gap-4",children:[m.jsx(Mt,{className:"lg:col-span-2 min-h-[500px]",children:m.jsx(dE,{lockers:S.map(T=>({id:T.id,dTag:T.dTag,title:T.name,price:T.price,geohash:T.geohash,status:"available",description:`${T.city}, ${T.state}`}))})}),m.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:S.map(T=>m.jsx(fE,{locker:T,compact:!0},T.id))})]}):m.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:S.map(T=>m.jsx(fE,{locker:T},T.id))}),A&&m.jsxs("div",{className:"border-t pt-6 mt-8",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold",children:"Featured Sellers"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["These sellers offer local drop-off to lockers near ",p]})]}),m.jsxs(er,{variant:"outline",children:[v.length," in area"]})]}),m.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:v.map(T=>m.jsx(GV,{seller:T},T.id))}),m.jsx(Mt,{className:"mt-4 bg-muted/50",children:m.jsx(Zt,{className:"p-4",children:m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to be featured here? Reach buyers in ",p," for 10k sats/month"]}),m.jsx(gt,{size:"sm",variant:"outline",children:"Get Featured"})]})})})]})]})]}),m.jsx(cu,{open:g,onOpenChange:b,children:m.jsx(yl,{className:"max-w-6xl h-[80vh] p-0",children:m.jsxs("div",{className:"grid md:grid-cols-3 h-full",children:[m.jsx("div",{className:"md:col-span-2 h-full min-h-[400px]",children:m.jsx(dE,{lockers:yv.map(T=>({id:T.id,dTag:T.dTag,title:T.name,price:T.price,geohash:T.geohash,status:"available",description:`${T.city}, ${T.state}`}))})}),m.jsxs("div",{className:"p-4 overflow-y-auto border-l",children:[m.jsx("h3",{className:"font-semibold text-lg mb-4",children:"All Locations"}),m.jsx("div",{className:"space-y-2",children:yv.map(T=>m.jsx(Mt,{className:"cursor-pointer hover:border-primary",children:m.jsxs(Zt,{className:"p-3",children:[m.jsx("p",{className:"font-medium text-sm",children:T.name}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[T.city,", ",T.state]}),m.jsxs("p",{className:"text-sm font-medium mt-1",children:[E(T.price)," sats/hr"]})]})},T.id))})]})]})})})]})}function fE({locker:e,compact:t=!1}){return t?m.jsx(Mt,{className:"hover:border-primary transition-colors",children:m.jsxs(Zt,{className:"p-3",children:[m.jsx("p",{className:"font-medium text-sm",children:e.name}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.city,", ",e.state]}),m.jsxs("p",{className:"text-sm font-medium mt-1",children:[e.price," sats/hr"]})]})}):m.jsxs(Mt,{className:"hover:border-primary transition-colors group",children:[m.jsxs(mr,{className:"pb-3",children:[m.jsx("div",{className:"flex items-start justify-between",children:m.jsx(Rr,{className:"text-base group-hover:text-primary transition-colors",children:e.name})}),m.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[m.jsx(sm,{className:"h-3 w-3"}),m.jsxs("span",{children:[e.city,", ",e.state]})]})]}),m.jsxs(Zt,{className:"space-y-3",children:[m.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),m.jsx("div",{className:"flex flex-wrap gap-1",children:e.features.map(n=>m.jsx(er,{variant:"secondary",className:"text-xs",children:n},n))}),e.dimensions&&m.jsx("p",{className:"text-xs text-muted-foreground",children:e.dimensions})]}),m.jsxs(wA,{className:"pt-0 flex items-center justify-between",children:[m.jsxs("span",{className:"text-lg font-bold",children:[e.price," ",m.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"sats/hr"})]}),m.jsx(gt,{asChild:!0,size:"sm",children:m.jsx(Rn,{to:`/locker/${e.dTag}`,children:"Rent"})})]})]})}function GV({seller:e}){return m.jsx(Mt,{className:`hover:border-primary transition-colors ${e.isPremium?"border-primary/30 bg-primary/5":""}`,children:m.jsxs(Zt,{className:"p-4",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${e.isPremium?"bg-primary text-primary-foreground":"bg-muted"}`,children:m.jsx(Ow,{className:"h-5 w-5"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"font-medium truncate",children:e.name}),e.isPremium&&m.jsx(SF,{className:"h-3 w-3 text-primary fill-primary"})]}),m.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:e.tagline}),m.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[m.jsxs("span",{children:[" ",e.trustScore]}),m.jsx("span",{children:""}),m.jsxs("span",{children:[e.sales," sales"]})]})]})]}),m.jsxs("div",{className:"mt-3",children:[m.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Sells:"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:e.items.slice(0,3).map(t=>m.jsx(er,{variant:"outline",className:"text-xs",children:t},t))})]}),m.jsxs(gt,{variant:"outline",size:"sm",className:"w-full mt-3",children:["View Store ",m.jsx(dF,{className:"h-3 w-3 ml-1"})]})]})})}function YV({location:e,onClear:t}){return m.jsxs("div",{className:"space-y-6",children:[m.jsx(Mt,{className:"text-center py-12",children:m.jsxs(Zt,{className:"space-y-4",children:[m.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center mx-auto",children:m.jsx(sm,{className:"h-10 w-10 text-muted-foreground"})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["No Lockers in ",e]}),m.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"DeadDropstr uses secure lockers for anonymous exchanges. Help bring privacy-first commerce to your area."})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4",children:[m.jsx(gt,{asChild:!0,children:m.jsxs(Rn,{to:"/dashboard",children:[m.jsx(a0,{className:"h-4 w-4 mr-2"}),"Host a Locker"]})}),m.jsx(gt,{variant:"outline",onClick:t,children:"Clear Search"})]})]})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Sellers Interested in ",e]}),m.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:KA.filter(n=>n.isPremium).slice(0,3).map(n=>m.jsx(Mt,{className:"opacity-75",children:m.jsx(Zt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:m.jsx(Ow,{className:"h-5 w-5"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:n.name}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Would expand here with lockers"})]})]})})},n.id))}),m.jsxs("p",{className:"text-sm text-muted-foreground mt-3 text-center",children:["Premium sellers are waiting to serve ",e,". Be the first to host a locker!"]})]})]})}var A_="Radio",[JV,GA]=Nn(A_),[QV,XV]=JV(A_),YA=C.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:l,value:u="on",onCheck:d,form:p,...y}=e,[g,b]=C.useState(null),_=ft(t,E=>b(E)),S=C.useRef(!1),v=g?p||!!g.closest("form"):!0;return m.jsxs(QV,{scope:n,checked:i,disabled:l,children:[m.jsx(Ge.button,{type:"button",role:"radio","aria-checked":i,"data-state":eR(i),"data-disabled":l?"":void 0,disabled:l,value:u,...y,ref:_,onClick:Ue(e.onClick,E=>{i||d==null||d(),v&&(S.current=E.isPropagationStopped(),S.current||E.stopPropagation())})}),v&&m.jsx(XA,{control:g,bubbles:!S.current,name:r,value:u,checked:i,required:s,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});YA.displayName=A_;var JA="RadioIndicator",QA=C.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,s=XV(JA,n);return m.jsx(In,{present:r||s.checked,children:m.jsx(Ge.span,{"data-state":eR(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})})});QA.displayName=JA;var eq="RadioBubbleInput",XA=C.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const l=C.useRef(null),u=ft(l,s),d=Nm(n),p=um(t);return C.useEffect(()=>{const y=l.current;if(!y)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&_){const S=new Event("click",{bubbles:r});_.call(y,n),y.dispatchEvent(S)}},[d,n,r]),m.jsx(Ge.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});XA.displayName=eq;function eR(e){return e?"checked":"unchecked"}var tq=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Tm="RadioGroup",[nq,rG]=Nn(Tm,[du,GA]),tR=du(),nR=GA(),[rq,iq]=nq(Tm),rR=C.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:l=!1,disabled:u=!1,orientation:d,dir:p,loop:y=!0,onValueChange:g,...b}=e,_=tR(n),S=vl(p),[v,E]=ti({prop:s,defaultProp:i??"",onChange:g,caller:Tm});return m.jsx(rq,{scope:n,name:r,required:l,disabled:u,value:v,onValueChange:E,children:m.jsx(c_,{asChild:!0,..._,orientation:d,dir:S,loop:y,children:m.jsx(Ge.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":u?"":void 0,dir:S,...b,ref:t})})})});rR.displayName=Tm;var iR="RadioGroupItem",oR=C.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,s=iq(iR,n),l=s.disabled||r,u=tR(n),d=nR(n),p=C.useRef(null),y=ft(t,p),g=s.value===i.value,b=C.useRef(!1);return C.useEffect(()=>{const _=v=>{tq.includes(v.key)&&(b.current=!0)},S=()=>b.current=!1;return document.addEventListener("keydown",_),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",_),document.removeEventListener("keyup",S)}},[]),m.jsx(u_,{asChild:!0,...u,focusable:!l,active:g,children:m.jsx(YA,{disabled:l,required:s.required,checked:g,...d,...i,name:s.name,ref:y,onCheck:()=>s.onValueChange(i.value),onKeyDown:Ue(_=>{_.key==="Enter"&&_.preventDefault()}),onFocus:Ue(i.onFocus,()=>{var _;b.current&&((_=p.current)==null||_.click())})})})});oR.displayName=iR;var oq="RadioGroupIndicator",sR=C.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=nR(n);return m.jsx(QA,{...i,...r,ref:t})});sR.displayName=oq;var aR=rR,lR=oR,sq=sR;const cR=C.forwardRef(({className:e,...t},n)=>m.jsx(aR,{className:We("grid gap-2",e),...t,ref:n}));cR.displayName=aR.displayName;const uR=C.forwardRef(({className:e,...t},n)=>m.jsx(lR,{ref:n,className:We("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:m.jsx(sq,{className:"flex items-center justify-center",children:m.jsx(aN,{className:"h-2.5 w-2.5 fill-current text-current"})})}));uR.displayName=lR.displayName;const hE=[{id:"1",dTag:"prod-001",title:"Privacy-First Smartphone",description:"De-googled Android phone with GrapheneOS pre-installed. Full privacy setup including hardened browser, encrypted messaging, and no Google services. Perfect for those who value their digital privacy.",price:899e3,category:"Electronics",vendor:"PrivacyTech Co",vendorNpub:"npub1abc...",inStock:!0},{id:"2",dTag:"prod-002",title:"Faraday Phone Pouch",description:"Military-grade signal blocking pouch. Protects against tracking, surveillance, and unauthorized access to your device.",price:45e3,category:"Accessories",vendor:"SignalSafe",vendorNpub:"npub1def...",inStock:!0}],pE=[{id:"1",name:"Downtown SF",location:"San Francisco, CA",geohash:"9q8yyz"},{id:"2",name:"Union Square",location:"New York, NY",geohash:"9q8yyk"},{id:"3",name:"Tech Hub",location:"Seattle, WA",geohash:"dpwh"},{id:"4",name:"LAX Area",location:"Los Angeles, CA",geohash:"9q8yym"}];function aq(){var g;const{dTag:e}=n_(),{toast:t}=tu(),[n,r]=C.useState(!1),[i,s]=C.useState(""),[l,u]=C.useState("locker"),d=hE.find(b=>b.dTag===e)||hE[0],p=b=>b>=1e8?` ${(b/1e8).toFixed(3)}`:b>=1e6?`${(b/1e6).toFixed(2)}M sats`:b>=1e3?`${(b/1e3).toFixed(1)}k sats`:`${b} sats`,y=()=>{t({title:"Order placed!",description:"The vendor has been notified. You'll receive a pickup code once they ship to your selected locker."}),r(!1),u("locker"),s("")};return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[m.jsx(gt,{variant:"ghost",asChild:!0,className:"mb-4",children:m.jsxs(Rn,{to:"/marketplace",children:[m.jsx(oN,{className:"h-4 w-4 mr-2"}),"Back to Marketplace"]})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:m.jsx(EF,{className:"h-32 w-32 text-muted-foreground"})}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx(er,{className:"mb-2",children:d.category}),m.jsx("h1",{className:"text-3xl font-bold mb-2",children:d.title}),m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[m.jsx(Ow,{className:"h-4 w-4"}),m.jsx("span",{children:d.vendor})]})]}),m.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:d.description}),m.jsxs("div",{className:"flex items-center justify-between py-4 border-y",children:[m.jsx("span",{className:"text-3xl font-bold",children:p(d.price)}),m.jsx(er,{variant:d.inStock?"default":"secondary",children:d.inStock?"In Stock":"Out of Stock"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[m.jsx(kF,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Ships to DeadDropstr Lockers"}),m.jsx("p",{className:"text-muted-foreground",children:"Pick up anonymously at a location near you"})]})]}),m.jsx(gt,{size:"lg",className:"w-full",disabled:!d.inStock,onClick:()=>r(!0),children:d.inStock?"Buy Now":"Out of Stock"})]})]})]}),m.jsxs(Mt,{className:"mt-12",children:[m.jsx(mr,{children:m.jsx(Rr,{children:"How DeadDropstr Delivery Works"})}),m.jsx(Zt,{children:m.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-center",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:m.jsx("span",{className:"font-bold",children:"1"})}),m.jsx("p",{className:"font-medium",children:"Choose Locker"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a convenient pickup location"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:m.jsx("span",{className:"font-bold",children:"2"})}),m.jsx("p",{className:"font-medium",children:"Pay with Bitcoin"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Lightning or on-chain"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:m.jsx("span",{className:"font-bold",children:"3"})}),m.jsx("p",{className:"font-medium",children:"Vendor Ships"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Product delivered to your locker"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:m.jsx("span",{className:"font-bold",children:"4"})}),m.jsx("p",{className:"font-medium",children:"Pick Up"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive code & collect anonymously"})]})]})})]})]}),m.jsx(cu,{open:n,onOpenChange:r,children:m.jsxs(yl,{className:"max-w-lg",children:[m.jsxs(uu,{children:[m.jsx(cf,{children:"Complete Your Order"}),m.jsx(wm,{children:"Choose a locker location for pickup"})]}),l==="locker"&&m.jsxs("div",{className:"space-y-4",children:[m.jsx(cR,{value:i,onValueChange:s,children:m.jsx("div",{className:"space-y-2",children:pE.map(b=>m.jsxs("div",{children:[m.jsx(uR,{value:b.id,id:b.id,className:"peer sr-only"}),m.jsx(dr,{htmlFor:b.id,className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-muted peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(sm,{className:"h-5 w-5 text-muted-foreground"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:b.name}),m.jsx("p",{className:"text-sm text-muted-foreground",children:b.location})]})]})})]},b.id))})}),m.jsx(gt,{className:"w-full",disabled:!i,onClick:()=>u("confirm"),children:"Continue"})]}),l==="confirm"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Summary"}),m.jsx("p",{className:"font-medium",children:d.title}),m.jsx("p",{className:"text-lg font-bold",children:p(d.price)}),m.jsxs("div",{className:"pt-2 border-t",children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Deliver to:"}),m.jsx("p",{className:"font-medium",children:(g=pE.find(b=>b.id===i))==null?void 0:g.name})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(gt,{variant:"outline",onClick:()=>u("locker"),children:"Back"}),m.jsx(gt,{className:"flex-1",onClick:y,children:"Pay & Place Order"})]})]})]})})]})}function Yh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vv={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var mE;function lq(){return mE||(mE=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function l(p,y){if(!i[p]){if(!r[p]){var g=typeof Yh=="function"&&Yh;if(!y&&g)return g(p,!0);if(u)return u(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var _=i[p]={exports:{}};r[p][0].call(_.exports,function(S){var v=r[p][1][S];return l(v||S)},_,_.exports,n,r,i,s)}return i[p].exports}for(var u=typeof Yh=="function"&&Yh,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(n,r,i){var s=n("./utils"),l=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var p,y,g,b,_,S,v,E=[],k=0,A=d.length,T=A,z=s.getTypeOf(d)!=="string";k<d.length;)T=A-k,g=z?(p=d[k++],y=k<A?d[k++]:0,k<A?d[k++]:0):(p=d.charCodeAt(k++),y=k<A?d.charCodeAt(k++):0,k<A?d.charCodeAt(k++):0),b=p>>2,_=(3&p)<<4|y>>4,S=1<T?(15&y)<<2|g>>6:64,v=2<T?63&g:64,E.push(u.charAt(b)+u.charAt(_)+u.charAt(S)+u.charAt(v));return E.join("")},i.decode=function(d){var p,y,g,b,_,S,v=0,E=0,k="data:";if(d.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var A,T=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&T--,d.charAt(d.length-2)===u.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=l.uint8array?new Uint8Array(0|T):new Array(0|T);v<d.length;)p=u.indexOf(d.charAt(v++))<<2|(b=u.indexOf(d.charAt(v++)))>>4,y=(15&b)<<4|(_=u.indexOf(d.charAt(v++)))>>2,g=(3&_)<<6|(S=u.indexOf(d.charAt(v++))),A[E++]=p,_!==64&&(A[E++]=y),S!==64&&(A[E++]=g);return A}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),l=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function p(y,g,b,_,S){this.compressedSize=y,this.uncompressedSize=g,this.crc32=b,this.compression=_,this.compressedContent=S}p.prototype={getContentWorker:function(){var y=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),g=this;return y.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(y,g,b){return y.pipe(new u).pipe(new d("uncompressedSize")).pipe(g.compressWorker(b)).pipe(new d("compressedSize")).withStreamInfo("compression",g)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),l=function(){for(var u,d=[],p=0;p<256;p++){u=p;for(var y=0;y<8;y++)u=1&u?3988292384^u>>>1:u>>>1;d[p]=u}return d}();r.exports=function(u,d){return u!==void 0&&u.length?s.getTypeOf(u)!=="string"?function(p,y,g,b){var _=l,S=b+g;p^=-1;for(var v=b;v<S;v++)p=p>>>8^_[255&(p^y[v])];return-1^p}(0|d,u,u.length,0):function(p,y,g,b){var _=l,S=b+g;p^=-1;for(var v=b;v<S;v++)p=p>>>8^_[255&(p^y.charCodeAt(v))];return-1^p}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),u=n("./utils"),d=n("./stream/GenericWorker"),p=s?"uint8array":"array";function y(g,b){d.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}i.magic="\b\0",u.inherits(y,d),y.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,g.data),!1)},y.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}},i.compressWorker=function(g){return new y("Deflate",g)},i.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(_,S){var v,E="";for(v=0;v<S;v++)E+=String.fromCharCode(255&_),_>>>=8;return E}function l(_,S,v,E,k,A){var T,z,D=_.file,$=_.compression,Z=A!==p.utf8encode,q=u.transformTo("string",A(D.name)),F=u.transformTo("string",p.utf8encode(D.name)),W=D.comment,J=u.transformTo("string",A(W)),U=u.transformTo("string",p.utf8encode(W)),X=F.length!==D.name.length,j=U.length!==W.length,K="",se="",ie="",te=D.dir,ee=D.date,le={crc32:0,compressedSize:0,uncompressedSize:0};S&&!v||(le.crc32=_.crc32,le.compressedSize=_.compressedSize,le.uncompressedSize=_.uncompressedSize);var H=0;S&&(H|=8),Z||!X&&!j||(H|=2048);var Q=0,ke=0;te&&(Q|=16),k==="UNIX"?(ke=798,Q|=function(ve,Ie){var Pe=ve;return ve||(Pe=Ie?16893:33204),(65535&Pe)<<16}(D.unixPermissions,te)):(ke=20,Q|=function(ve){return 63&(ve||0)}(D.dosPermissions)),T=ee.getUTCHours(),T<<=6,T|=ee.getUTCMinutes(),T<<=5,T|=ee.getUTCSeconds()/2,z=ee.getUTCFullYear()-1980,z<<=4,z|=ee.getUTCMonth()+1,z<<=5,z|=ee.getUTCDate(),X&&(se=s(1,1)+s(y(q),4)+F,K+="up"+s(se.length,2)+se),j&&(ie=s(1,1)+s(y(J),4)+U,K+="uc"+s(ie.length,2)+ie);var _e="";return _e+=`
\0`,_e+=s(H,2),_e+=$.magic,_e+=s(T,2),_e+=s(z,2),_e+=s(le.crc32,4),_e+=s(le.compressedSize,4),_e+=s(le.uncompressedSize,4),_e+=s(q.length,2),_e+=s(K.length,2),{fileRecord:g.LOCAL_FILE_HEADER+_e+q+K,dirRecord:g.CENTRAL_FILE_HEADER+s(ke,2)+_e+s(J.length,2)+"\0\0\0\0"+s(Q,4)+s(E,4)+q+K+J}}var u=n("../utils"),d=n("../stream/GenericWorker"),p=n("../utf8"),y=n("../crc32"),g=n("../signature");function b(_,S,v,E){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=v,this.encodeFileName=E,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,d),b.prototype.push=function(_){var S=_.meta.percent||0,v=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,d.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:v?(S+100*(v-E-1))/v:100}}))},b.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var S=this.streamFiles&&!_.file.dir;if(S){var v=l(_,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(_){this.accumulate=!1;var S=this.streamFiles&&!_.file.dir,v=l(_,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),S)this.push({data:function(E){return g.DATA_DESCRIPTOR+s(E.crc32,4)+s(E.compressedSize,4)+s(E.uncompressedSize,4)}(_),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var _=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var v=this.bytesWritten-_,E=function(k,A,T,z,D){var $=u.transformTo("string",D(z));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(k,2)+s(k,2)+s(A,4)+s(T,4)+s($.length,2)+$}(this.dirRecords.length,v,_,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(_){this._sources.push(_);var S=this;return _.on("data",function(v){S.processChunk(v)}),_.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),_.on("error",function(v){S.error(v)}),this},b.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(_){var S=this._sources;if(!d.prototype.error.call(this,_))return!1;for(var v=0;v<S.length;v++)try{S[v].error(_)}catch{}return!0},b.prototype.lock=function(){d.prototype.lock.call(this);for(var _=this._sources,S=0;S<_.length;S++)_[S].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),l=n("./ZipFileWorker");i.generateWorker=function(u,d,p){var y=new l(d.streamFiles,p,d.platform,d.encodeFileName),g=0;try{u.forEach(function(b,_){g++;var S=function(A,T){var z=A||T,D=s[z];if(!D)throw new Error(z+" is not a valid compression method !");return D}(_.options.compression,d.compression),v=_.options.compressionOptions||d.compressionOptions||{},E=_.dir,k=_.date;_._compressWorker(S,v).withStreamInfo("file",{name:b,dir:E,date:k,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(y)}),y.entriesCount=g}catch(b){y.error(b)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var u in this)typeof this[u]!="function"&&(l[u]=this[u]);return l}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(l,u){return new s().loadAsync(l,u)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),l=n("./external"),u=n("./utf8"),d=n("./zipEntries"),p=n("./stream/Crc32Probe"),y=n("./nodejsUtils");function g(b){return new l.Promise(function(_,S){var v=b.decompressed.getContentWorker().pipe(new p);v.on("error",function(E){S(E)}).on("end",function(){v.streamInfo.crc32!==b.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}r.exports=function(b,_){var S=this;return _=s.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),y.isNode&&y.isStream(b)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",b,!0,_.optimizedBinaryString,_.base64).then(function(v){var E=new d(_);return E.load(v),E}).then(function(v){var E=[l.Promise.resolve(v)],k=v.files;if(_.checkCRC32)for(var A=0;A<k.length;A++)E.push(g(k[A]));return l.Promise.all(E)}).then(function(v){for(var E=v.shift(),k=E.files,A=0;A<k.length;A++){var T=k[A],z=T.fileNameStr,D=s.resolve(T.fileNameStr);S.file(D,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:_.createFolders}),T.dir||(S.file(D).unsafeOriginalName=z)}return E.zipComment.length&&(S.comment=E.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),l=n("../stream/GenericWorker");function u(d,p){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}s.inherits(u,l),u.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(y){p.push({data:y,meta:{percent:0}})}).on("error",function(y){p.isPaused?this.generatedError=y:p.error(y)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function l(u,d,p){s.call(this,d),this._helper=u;var y=this;u.on("data",function(g,b){y.push(g)||y._helper.pause(),p&&p(b)}).on("error",function(g){y.emit("error",g)}).on("end",function(){y.push(null)})}n("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(D,$,Z){var q,F=u.getTypeOf($),W=u.extend(Z||{},y);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(D=k(D)),W.createFolders&&(q=E(D))&&A.call(this,q,!0);var J=F==="string"&&W.binary===!1&&W.base64===!1;Z&&Z.binary!==void 0||(W.binary=!J),($ instanceof g&&$.uncompressedSize===0||W.dir||!$||$.length===0)&&(W.base64=!1,W.binary=!0,$="",W.compression="STORE",F="string");var U=null;U=$ instanceof g||$ instanceof d?$:S.isNode&&S.isStream($)?new v(D,$):u.prepareContent(D,$,W.binary,W.optimizedBinaryString,W.base64);var X=new b(D,U,W);this.files[D]=X}var l=n("./utf8"),u=n("./utils"),d=n("./stream/GenericWorker"),p=n("./stream/StreamHelper"),y=n("./defaults"),g=n("./compressedObject"),b=n("./zipObject"),_=n("./generate"),S=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),E=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var $=D.lastIndexOf("/");return 0<$?D.substring(0,$):""},k=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},A=function(D,$){return $=$!==void 0?$:y.createFolders,D=k(D),this.files[D]||s.call(this,D,null,{dir:!0,createFolders:$}),this.files[D]};function T(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var $,Z,q;for($ in this.files)q=this.files[$],(Z=$.slice(this.root.length,$.length))&&$.slice(0,this.root.length)===this.root&&D(Z,q)},filter:function(D){var $=[];return this.forEach(function(Z,q){D(Z,q)&&$.push(q)}),$},file:function(D,$,Z){if(arguments.length!==1)return D=this.root+D,s.call(this,D,$,Z),this;if(T(D)){var q=D;return this.filter(function(W,J){return!J.dir&&q.test(W)})}var F=this.files[this.root+D];return F&&!F.dir?F:null},folder:function(D){if(!D)return this;if(T(D))return this.filter(function(F,W){return W.dir&&D.test(F)});var $=this.root+D,Z=A.call(this,$),q=this.clone();return q.root=Z.name,q},remove:function(D){D=this.root+D;var $=this.files[D];if($||(D.slice(-1)!=="/"&&(D+="/"),$=this.files[D]),$&&!$.dir)delete this.files[D];else for(var Z=this.filter(function(F,W){return W.name.slice(0,D.length)===D}),q=0;q<Z.length;q++)delete this.files[Z[q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var $,Z={};try{if((Z=u.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=Z.type.toLowerCase(),Z.compression=Z.compression.toUpperCase(),Z.type==="binarystring"&&(Z.type="string"),!Z.type)throw new Error("No output type specified.");u.checkSupport(Z.type),Z.platform!=="darwin"&&Z.platform!=="freebsd"&&Z.platform!=="linux"&&Z.platform!=="sunos"||(Z.platform="UNIX"),Z.platform==="win32"&&(Z.platform="DOS");var q=Z.comment||this.comment||"";$=_.generateWorker(this,Z,q)}catch(F){($=new d("error")).error(F)}return new p($,Z.type||"string",Z.mimeType)},generateAsync:function(D,$){return this.generateInternalStream(D).accumulate($)},generateNodeStream:function(D,$){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream($)}};r.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function l(u){s.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}n("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data[this.zero+u]},l.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),p=u.charCodeAt(1),y=u.charCodeAt(2),g=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===d&&this.data[b+1]===p&&this.data[b+2]===y&&this.data[b+3]===g)return b-this.zero;return-1},l.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),p=u.charCodeAt(1),y=u.charCodeAt(2),g=u.charCodeAt(3),b=this.readData(4);return d===b[0]&&p===b[1]&&y===b[2]&&g===b[3]},l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function l(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,p=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=u,p},readString:function(u){return s.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=l},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},l.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},l.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),l=n("../support"),u=n("./ArrayReader"),d=n("./StringReader"),p=n("./NodeBufferReader"),y=n("./Uint8ArrayReader");r.exports=function(g){var b=s.getTypeOf(g);return s.checkSupport(b),b!=="string"||l.uint8array?b==="nodebuffer"?new p(g):l.uint8array?new y(s.transformTo("uint8array",g)):new u(s.transformTo("array",g)):new d(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),l=n("../utils");function u(d){s.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(u,s),u.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),l=n("../crc32");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,s),u.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),l=n("./GenericWorker");function u(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}s.inherits(u,l),u.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}l.prototype.processChunk.call(this,d)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),l=n("./GenericWorker");function u(d){l.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(y){p.dataIsReady=!0,p.data=y,p.max=y&&y.length||0,p.type=s.getTypeOf(y),p.isPaused||p._tickAndRepeat()},function(y){p.error(y)})}s.inherits(u,l),u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,u){return this._listeners[l].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,u){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,u)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var u=this;return l.on("data",function(d){u.processChunk(d)}),l.on("end",function(){u.end()}),l.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,u){return this.extraStreamInfo[l]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),l=n("./ConvertWorker"),u=n("./GenericWorker"),d=n("../base64"),p=n("../support"),y=n("../external"),g=null;if(p.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(S,v){return new y.Promise(function(E,k){var A=[],T=S._internalType,z=S._outputType,D=S._mimeType;S.on("data",function($,Z){A.push($),v&&v(Z)}).on("error",function($){A=[],k($)}).on("end",function(){try{var $=function(Z,q,F){switch(Z){case"blob":return s.newBlob(s.transformTo("arraybuffer",q),F);case"base64":return d.encode(q);default:return s.transformTo(Z,q)}}(z,function(Z,q){var F,W=0,J=null,U=0;for(F=0;F<q.length;F++)U+=q[F].length;switch(Z){case"string":return q.join("");case"array":return Array.prototype.concat.apply([],q);case"uint8array":for(J=new Uint8Array(U),F=0;F<q.length;F++)J.set(q[F],W),W+=q[F].length;return J;case"nodebuffer":return Buffer.concat(q);default:throw new Error("concat : unsupported type '"+Z+"'")}}(T,A),D);E($)}catch(Z){k(Z)}A=[]}).resume()})}function _(S,v,E){var k=v;switch(v){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=v,this._mimeType=E,s.checkSupport(k),this._worker=S.pipe(new l(k)),S.lock()}catch(A){this._worker=new u("error"),this._worker.error(A)}}_.prototype={accumulate:function(S){return b(this,S)},on:function(S,v){var E=this;return S==="data"?this._worker.on(S,function(k){v.call(E,k.data,k.meta)}):this._worker.on(S,function(){s.delay(v,arguments,E)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},S)}},r.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),l=n("./support"),u=n("./nodejsUtils"),d=n("./stream/GenericWorker"),p=new Array(256),y=0;y<256;y++)p[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;p[254]=p[254]=1;function g(){d.call(this,"utf-8 decode"),this.leftOver=null}function b(){d.call(this,"utf-8 encode")}i.utf8encode=function(_){return l.nodebuffer?u.newBufferFrom(_,"utf-8"):function(S){var v,E,k,A,T,z=S.length,D=0;for(A=0;A<z;A++)(64512&(E=S.charCodeAt(A)))==55296&&A+1<z&&(64512&(k=S.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(k-56320),A++),D+=E<128?1:E<2048?2:E<65536?3:4;for(v=l.uint8array?new Uint8Array(D):new Array(D),A=T=0;T<D;A++)(64512&(E=S.charCodeAt(A)))==55296&&A+1<z&&(64512&(k=S.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(k-56320),A++),E<128?v[T++]=E:(E<2048?v[T++]=192|E>>>6:(E<65536?v[T++]=224|E>>>12:(v[T++]=240|E>>>18,v[T++]=128|E>>>12&63),v[T++]=128|E>>>6&63),v[T++]=128|63&E);return v}(_)},i.utf8decode=function(_){return l.nodebuffer?s.transformTo("nodebuffer",_).toString("utf-8"):function(S){var v,E,k,A,T=S.length,z=new Array(2*T);for(v=E=0;v<T;)if((k=S[v++])<128)z[E++]=k;else if(4<(A=p[k]))z[E++]=65533,v+=A-1;else{for(k&=A===2?31:A===3?15:7;1<A&&v<T;)k=k<<6|63&S[v++],A--;1<A?z[E++]=65533:k<65536?z[E++]=k:(k-=65536,z[E++]=55296|k>>10&1023,z[E++]=56320|1023&k)}return z.length!==E&&(z.subarray?z=z.subarray(0,E):z.length=E),s.applyFromCharCode(z)}(_=s.transformTo(l.uint8array?"uint8array":"array",_))},s.inherits(g,d),g.prototype.processChunk=function(_){var S=s.transformTo(l.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var v=S;(S=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),S.set(v,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var E=function(A,T){var z;for((T=T||A.length)>A.length&&(T=A.length),z=T-1;0<=z&&(192&A[z])==128;)z--;return z<0||z===0?T:z+p[A[z]]>T?z:T}(S),k=S;E!==S.length&&(l.uint8array?(k=S.subarray(0,E),this.leftOver=S.subarray(E,S.length)):(k=S.slice(0,E),this.leftOver=S.slice(E,S.length))),this.push({data:i.utf8decode(k),meta:_.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,s.inherits(b,d),b.prototype.processChunk=function(_){this.push({data:i.utf8encode(_.data),meta:_.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),l=n("./base64"),u=n("./nodejsUtils"),d=n("./external");function p(v){return v}function y(v,E){for(var k=0;k<v.length;++k)E[k]=255&v.charCodeAt(k);return E}n("setimmediate"),i.newBlob=function(v,E){i.checkSupport("blob");try{return new Blob([v],{type:E})}catch{try{var k=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return k.append(v),k.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(v,E,k){var A=[],T=0,z=v.length;if(z<=k)return String.fromCharCode.apply(null,v);for(;T<z;)E==="array"||E==="nodebuffer"?A.push(String.fromCharCode.apply(null,v.slice(T,Math.min(T+k,z)))):A.push(String.fromCharCode.apply(null,v.subarray(T,Math.min(T+k,z)))),T+=k;return A.join("")},stringifyByChar:function(v){for(var E="",k=0;k<v.length;k++)E+=String.fromCharCode(v[k]);return E},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function b(v){var E=65536,k=i.getTypeOf(v),A=!0;if(k==="uint8array"?A=g.applyCanBeUsed.uint8array:k==="nodebuffer"&&(A=g.applyCanBeUsed.nodebuffer),A)for(;1<E;)try{return g.stringifyByChunk(v,k,E)}catch{E=Math.floor(E/2)}return g.stringifyByChar(v)}function _(v,E){for(var k=0;k<v.length;k++)E[k]=v[k];return E}i.applyFromCharCode=b;var S={};S.string={string:p,array:function(v){return y(v,new Array(v.length))},arraybuffer:function(v){return S.string.uint8array(v).buffer},uint8array:function(v){return y(v,new Uint8Array(v.length))},nodebuffer:function(v){return y(v,u.allocBuffer(v.length))}},S.array={string:b,array:p,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(v)}},S.arraybuffer={string:function(v){return b(new Uint8Array(v))},array:function(v){return _(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:p,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(new Uint8Array(v))}},S.uint8array={string:b,array:function(v){return _(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:p,nodebuffer:function(v){return u.newBufferFrom(v)}},S.nodebuffer={string:b,array:function(v){return _(v,new Array(v.length))},arraybuffer:function(v){return S.nodebuffer.uint8array(v).buffer},uint8array:function(v){return _(v,new Uint8Array(v.length))},nodebuffer:p},i.transformTo=function(v,E){if(E=E||"",!v)return E;i.checkSupport(v);var k=i.getTypeOf(E);return S[k][v](E)},i.resolve=function(v){for(var E=v.split("/"),k=[],A=0;A<E.length;A++){var T=E[A];T==="."||T===""&&A!==0&&A!==E.length-1||(T===".."?k.pop():k.push(T))}return k.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&u.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var E,k,A="";for(k=0;k<(v||"").length;k++)A+="\\x"+((E=v.charCodeAt(k))<16?"0":"")+E.toString(16).toUpperCase();return A},i.delay=function(v,E,k){setImmediate(function(){v.apply(k||null,E||[])})},i.inherits=function(v,E){function k(){}k.prototype=E.prototype,v.prototype=new k},i.extend=function(){var v,E,k={};for(v=0;v<arguments.length;v++)for(E in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],E)&&k[E]===void 0&&(k[E]=arguments[v][E]);return k},i.prepareContent=function(v,E,k,A,T){return d.Promise.resolve(E).then(function(z){return s.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new d.Promise(function(D,$){var Z=new FileReader;Z.onload=function(q){D(q.target.result)},Z.onerror=function(q){$(q.target.error)},Z.readAsArrayBuffer(z)}):z}).then(function(z){var D=i.getTypeOf(z);return D?(D==="arraybuffer"?z=i.transformTo("uint8array",z):D==="string"&&(T?z=l.decode(z):k&&A!==!0&&(z=function($){return y($,s.uint8array?new Uint8Array($.length):new Array($.length))}(z))),z):d.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),l=n("./utils"),u=n("./signature"),d=n("./zipEntry"),p=n("./support");function y(g){this.files=[],this.loadOptions=g}y.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(b)+", expected "+l.pretty(g)+")")}},isSignature:function(g,b){var _=this.reader.index;this.reader.setIndex(g);var S=this.reader.readString(4)===b;return this.reader.setIndex(_),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),b=p.uint8array?"uint8array":"array",_=l.transformTo(b,g);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,b,_,S=this.zip64EndOfCentralSize-44;0<S;)g=this.reader.readInt(2),b=this.reader.readInt(4),_=this.reader.readData(b),this.zip64ExtensibleData[g]={id:g,length:b,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,b;for(g=0;g<this.files.length;g++)b=this.files[g],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(g=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var b=g;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var S=b-_;if(0<S)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(g){this.reader=s(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),l=n("./utils"),u=n("./compressedObject"),d=n("./crc32"),p=n("./utf8"),y=n("./compressions"),g=n("./support");function b(_,S){this.options=_,this.loadOptions=S}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var S,v;if(_.skip(22),this.fileNameLength=_.readInt(2),v=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(E){for(var k in y)if(Object.prototype.hasOwnProperty.call(y,k)&&y[k].magic===E)return y[k];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,S,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var S=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(S),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var S,v,E,k=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<k;)S=_.readInt(2),v=_.readInt(2),E=_.readData(v),this.extraFields[S]={id:S,length:v,value:E};_.setIndex(k)},handleUTF8:function(){var _=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var v=l.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var k=l.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var S=s(_.value);return S.readInt(1)!==1||d(this.fileName)!==S.readInt(4)?null:p.utf8decode(S.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var S=s(_.value);return S.readInt(1)!==1||d(this.fileComment)!==S.readInt(4)?null:p.utf8decode(S.readData(_.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(S,v,E){this.name=S,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=v,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var l=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),d=n("./utf8"),p=n("./compressedObject"),y=n("./stream/GenericWorker");s.prototype={internalStream:function(S){var v=null,E="string";try{if(!S)throw new Error("No output type specified.");var k=(E=S.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),v=this._decompressWorker();var A=!this._dataBinary;A&&!k&&(v=v.pipe(new d.Utf8EncodeWorker)),!A&&k&&(v=v.pipe(new d.Utf8DecodeWorker))}catch(T){(v=new y("error")).error(T)}return new l(v,E,"")},async:function(S,v){return this.internalStream(S).accumulate(v)},nodeStream:function(S,v){return this.internalStream(S||"nodebuffer").toNodejsStream(v)},_compressWorker:function(S,v){if(this._data instanceof p&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(E,S,v)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof y?this._data:new u(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<g.length;_++)s.prototype[g[_]]=b;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var l,u,d=s.MutationObserver||s.WebKitMutationObserver;if(d){var p=0,y=new d(S),g=s.document.createTextNode("");y.observe(g,{characterData:!0}),l=function(){g.data=p=++p%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){S(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(S,0)};else{var b=new s.MessageChannel;b.port1.onmessage=S,l=function(){b.port2.postMessage(0)}}var _=[];function S(){var v,E;u=!0;for(var k=_.length;k;){for(E=_,_=[],v=-1;++v<k;)E[v]();k=_.length}u=!1}r.exports=function(v){_.push(v)!==1||u||l()}}).call(this,typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function l(){}var u={},d=["REJECTED"],p=["FULFILLED"],y=["PENDING"];function g(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,k!==l&&v(this,k)}function b(k,A,T){this.promise=k,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function _(k,A,T){s(function(){var z;try{z=A(T)}catch(D){return u.reject(k,D)}z===k?u.reject(k,new TypeError("Cannot resolve promise with itself")):u.resolve(k,z)})}function S(k){var A=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof A=="function")return function(){A.apply(k,arguments)}}function v(k,A){var T=!1;function z(Z){T||(T=!0,u.reject(k,Z))}function D(Z){T||(T=!0,u.resolve(k,Z))}var $=E(function(){A(D,z)});$.status==="error"&&z($.value)}function E(k,A){var T={};try{T.value=k(A),T.status="success"}catch(z){T.status="error",T.value=z}return T}(r.exports=g).prototype.finally=function(k){if(typeof k!="function")return this;var A=this.constructor;return this.then(function(T){return A.resolve(k()).then(function(){return T})},function(T){return A.resolve(k()).then(function(){throw T})})},g.prototype.catch=function(k){return this.then(null,k)},g.prototype.then=function(k,A){if(typeof k!="function"&&this.state===p||typeof A!="function"&&this.state===d)return this;var T=new this.constructor(l);return this.state!==y?_(T,this.state===p?k:A,this.outcome):this.queue.push(new b(T,k,A)),T},b.prototype.callFulfilled=function(k){u.resolve(this.promise,k)},b.prototype.otherCallFulfilled=function(k){_(this.promise,this.onFulfilled,k)},b.prototype.callRejected=function(k){u.reject(this.promise,k)},b.prototype.otherCallRejected=function(k){_(this.promise,this.onRejected,k)},u.resolve=function(k,A){var T=E(S,A);if(T.status==="error")return u.reject(k,T.value);var z=T.value;if(z)v(k,z);else{k.state=p,k.outcome=A;for(var D=-1,$=k.queue.length;++D<$;)k.queue[D].callFulfilled(A)}return k},u.reject=function(k,A){k.state=d,k.outcome=A;for(var T=-1,z=k.queue.length;++T<z;)k.queue[T].callRejected(A);return k},g.resolve=function(k){return k instanceof this?k:u.resolve(new this(l),k)},g.reject=function(k){var A=new this(l);return u.reject(A,k)},g.all=function(k){var A=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=k.length,z=!1;if(!T)return this.resolve([]);for(var D=new Array(T),$=0,Z=-1,q=new this(l);++Z<T;)F(k[Z],Z);return q;function F(W,J){A.resolve(W).then(function(U){D[J]=U,++$!==T||z||(z=!0,u.resolve(q,D))},function(U){z||(z=!0,u.reject(q,U))})}},g.race=function(k){var A=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=k.length,z=!1;if(!T)return this.resolve([]);for(var D=-1,$=new this(l);++D<T;)Z=k[D],A.resolve(Z).then(function(q){z||(z=!0,u.resolve($,q))},function(q){z||(z=!0,u.reject($,q))});var Z;return $}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),l=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/messages"),p=n("./zlib/zstream"),y=Object.prototype.toString,g=0,b=-1,_=0,S=8;function v(k){if(!(this instanceof v))return new v(k);this.options=l.assign({level:b,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},k||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var T=s.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(T!==g)throw new Error(d[T]);if(A.header&&s.deflateSetHeader(this.strm,A.header),A.dictionary){var z;if(z=typeof A.dictionary=="string"?u.string2buf(A.dictionary):y.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(T=s.deflateSetDictionary(this.strm,z))!==g)throw new Error(d[T]);this._dict_set=!0}}function E(k,A){var T=new v(A);if(T.push(k,!0),T.err)throw T.msg||d[T.err];return T.result}v.prototype.push=function(k,A){var T,z,D=this.strm,$=this.options.chunkSize;if(this.ended)return!1;z=A===~~A?A:A===!0?4:0,typeof k=="string"?D.input=u.string2buf(k):y.call(k)==="[object ArrayBuffer]"?D.input=new Uint8Array(k):D.input=k,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new l.Buf8($),D.next_out=0,D.avail_out=$),(T=s.deflate(D,z))!==1&&T!==g)return this.onEnd(T),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(l.shrinkBuf(D.output,D.next_out))):this.onData(l.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&T!==1);return z===4?(T=s.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===g):z!==2||(this.onEnd(g),!(D.avail_out=0))},v.prototype.onData=function(k){this.chunks.push(k)},v.prototype.onEnd=function(k){k===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},i.Deflate=v,i.deflate=E,i.deflateRaw=function(k,A){return(A=A||{}).raw=!0,E(k,A)},i.gzip=function(k,A){return(A=A||{}).gzip=!0,E(k,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),l=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/constants"),p=n("./zlib/messages"),y=n("./zlib/zstream"),g=n("./zlib/gzheader"),b=Object.prototype.toString;function _(v){if(!(this instanceof _))return new _(v);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},v||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||v&&v.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var k=s.inflateInit2(this.strm,E.windowBits);if(k!==d.Z_OK)throw new Error(p[k]);this.header=new g,s.inflateGetHeader(this.strm,this.header)}function S(v,E){var k=new _(E);if(k.push(v,!0),k.err)throw k.msg||p[k.err];return k.result}_.prototype.push=function(v,E){var k,A,T,z,D,$,Z=this.strm,q=this.options.chunkSize,F=this.options.dictionary,W=!1;if(this.ended)return!1;A=E===~~E?E:E===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof v=="string"?Z.input=u.binstring2buf(v):b.call(v)==="[object ArrayBuffer]"?Z.input=new Uint8Array(v):Z.input=v,Z.next_in=0,Z.avail_in=Z.input.length;do{if(Z.avail_out===0&&(Z.output=new l.Buf8(q),Z.next_out=0,Z.avail_out=q),(k=s.inflate(Z,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&F&&($=typeof F=="string"?u.string2buf(F):b.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,k=s.inflateSetDictionary(this.strm,$)),k===d.Z_BUF_ERROR&&W===!0&&(k=d.Z_OK,W=!1),k!==d.Z_STREAM_END&&k!==d.Z_OK)return this.onEnd(k),!(this.ended=!0);Z.next_out&&(Z.avail_out!==0&&k!==d.Z_STREAM_END&&(Z.avail_in!==0||A!==d.Z_FINISH&&A!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=u.utf8border(Z.output,Z.next_out),z=Z.next_out-T,D=u.buf2string(Z.output,T),Z.next_out=z,Z.avail_out=q-z,z&&l.arraySet(Z.output,Z.output,T,z,0),this.onData(D)):this.onData(l.shrinkBuf(Z.output,Z.next_out)))),Z.avail_in===0&&Z.avail_out===0&&(W=!0)}while((0<Z.avail_in||Z.avail_out===0)&&k!==d.Z_STREAM_END);return k===d.Z_STREAM_END&&(A=d.Z_FINISH),A===d.Z_FINISH?(k=s.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===d.Z_OK):A!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(Z.avail_out=0))},_.prototype.onData=function(v){this.chunks.push(v)},_.prototype.onEnd=function(v){v===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=_,i.inflate=S,i.inflateRaw=function(v,E){return(E=E||{}).raw=!0,S(v,E)},i.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var y=p.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var g in y)y.hasOwnProperty(g)&&(d[g]=y[g])}}return d},i.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var l={arraySet:function(d,p,y,g,b){if(p.subarray&&d.subarray)d.set(p.subarray(y,y+g),b);else for(var _=0;_<g;_++)d[b+_]=p[y+_]},flattenChunks:function(d){var p,y,g,b,_,S;for(p=g=0,y=d.length;p<y;p++)g+=d[p].length;for(S=new Uint8Array(g),p=b=0,y=d.length;p<y;p++)_=d[p],S.set(_,b),b+=_.length;return S}},u={arraySet:function(d,p,y,g,b){for(var _=0;_<g;_++)d[b+_]=p[y+_]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),l=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new s.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function y(g,b){if(b<65537&&(g.subarray&&u||!g.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(g,b));for(var _="",S=0;S<b;S++)_+=String.fromCharCode(g[S]);return _}d[254]=d[254]=1,i.string2buf=function(g){var b,_,S,v,E,k=g.length,A=0;for(v=0;v<k;v++)(64512&(_=g.charCodeAt(v)))==55296&&v+1<k&&(64512&(S=g.charCodeAt(v+1)))==56320&&(_=65536+(_-55296<<10)+(S-56320),v++),A+=_<128?1:_<2048?2:_<65536?3:4;for(b=new s.Buf8(A),v=E=0;E<A;v++)(64512&(_=g.charCodeAt(v)))==55296&&v+1<k&&(64512&(S=g.charCodeAt(v+1)))==56320&&(_=65536+(_-55296<<10)+(S-56320),v++),_<128?b[E++]=_:(_<2048?b[E++]=192|_>>>6:(_<65536?b[E++]=224|_>>>12:(b[E++]=240|_>>>18,b[E++]=128|_>>>12&63),b[E++]=128|_>>>6&63),b[E++]=128|63&_);return b},i.buf2binstring=function(g){return y(g,g.length)},i.binstring2buf=function(g){for(var b=new s.Buf8(g.length),_=0,S=b.length;_<S;_++)b[_]=g.charCodeAt(_);return b},i.buf2string=function(g,b){var _,S,v,E,k=b||g.length,A=new Array(2*k);for(_=S=0;_<k;)if((v=g[_++])<128)A[S++]=v;else if(4<(E=d[v]))A[S++]=65533,_+=E-1;else{for(v&=E===2?31:E===3?15:7;1<E&&_<k;)v=v<<6|63&g[_++],E--;1<E?A[S++]=65533:v<65536?A[S++]=v:(v-=65536,A[S++]=55296|v>>10&1023,A[S++]=56320|1023&v)}return y(A,S)},i.utf8border=function(g,b){var _;for((b=b||g.length)>g.length&&(b=g.length),_=b-1;0<=_&&(192&g[_])==128;)_--;return _<0||_===0?b:_+d[g[_]]>b?_:b}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,l,u,d){for(var p=65535&s|0,y=s>>>16&65535|0,g=0;u!==0;){for(u-=g=2e3<u?2e3:u;y=y+(p=p+l[d++]|0)|0,--g;);p%=65521,y%=65521}return p|y<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var l,u=[],d=0;d<256;d++){l=d;for(var p=0;p<8;p++)l=1&l?3988292384^l>>>1:l>>>1;u[d]=l}return u}();r.exports=function(l,u,d,p){var y=s,g=p+d;l^=-1;for(var b=p;b<g;b++)l=l>>>8^y[255&(l^u[b])];return-1^l}},{}],46:[function(n,r,i){var s,l=n("../utils/common"),u=n("./trees"),d=n("./adler32"),p=n("./crc32"),y=n("./messages"),g=0,b=4,_=0,S=-2,v=-1,E=4,k=2,A=8,T=9,z=286,D=30,$=19,Z=2*z+1,q=15,F=3,W=258,J=W+F+1,U=42,X=113,j=1,K=2,se=3,ie=4;function te(B,Ne){return B.msg=y[Ne],Ne}function ee(B){return(B<<1)-(4<B?9:0)}function le(B){for(var Ne=B.length;0<=--Ne;)B[Ne]=0}function H(B){var Ne=B.state,be=Ne.pending;be>B.avail_out&&(be=B.avail_out),be!==0&&(l.arraySet(B.output,Ne.pending_buf,Ne.pending_out,be,B.next_out),B.next_out+=be,Ne.pending_out+=be,B.total_out+=be,B.avail_out-=be,Ne.pending-=be,Ne.pending===0&&(Ne.pending_out=0))}function Q(B,Ne){u._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,Ne),B.block_start=B.strstart,H(B.strm)}function ke(B,Ne){B.pending_buf[B.pending++]=Ne}function _e(B,Ne){B.pending_buf[B.pending++]=Ne>>>8&255,B.pending_buf[B.pending++]=255&Ne}function ve(B,Ne){var be,oe,re=B.max_chain_length,pe=B.strstart,Re=B.prev_length,je=B.nice_match,me=B.strstart>B.w_size-J?B.strstart-(B.w_size-J):0,Be=B.window,qe=B.w_mask,De=B.prev,tt=B.strstart+W,G=Be[pe+Re-1],R=Be[pe+Re];B.prev_length>=B.good_match&&(re>>=2),je>B.lookahead&&(je=B.lookahead);do if(Be[(be=Ne)+Re]===R&&Be[be+Re-1]===G&&Be[be]===Be[pe]&&Be[++be]===Be[pe+1]){pe+=2,be++;do;while(Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&pe<tt);if(oe=W-(tt-pe),pe=tt-W,Re<oe){if(B.match_start=Ne,je<=(Re=oe))break;G=Be[pe+Re-1],R=Be[pe+Re]}}while((Ne=De[Ne&qe])>me&&--re!=0);return Re<=B.lookahead?Re:B.lookahead}function Ie(B){var Ne,be,oe,re,pe,Re,je,me,Be,qe,De=B.w_size;do{if(re=B.window_size-B.lookahead-B.strstart,B.strstart>=De+(De-J)){for(l.arraySet(B.window,B.window,De,De,0),B.match_start-=De,B.strstart-=De,B.block_start-=De,Ne=be=B.hash_size;oe=B.head[--Ne],B.head[Ne]=De<=oe?oe-De:0,--be;);for(Ne=be=De;oe=B.prev[--Ne],B.prev[Ne]=De<=oe?oe-De:0,--be;);re+=De}if(B.strm.avail_in===0)break;if(Re=B.strm,je=B.window,me=B.strstart+B.lookahead,Be=re,qe=void 0,qe=Re.avail_in,Be<qe&&(qe=Be),be=qe===0?0:(Re.avail_in-=qe,l.arraySet(je,Re.input,Re.next_in,qe,me),Re.state.wrap===1?Re.adler=d(Re.adler,je,qe,me):Re.state.wrap===2&&(Re.adler=p(Re.adler,je,qe,me)),Re.next_in+=qe,Re.total_in+=qe,qe),B.lookahead+=be,B.lookahead+B.insert>=F)for(pe=B.strstart-B.insert,B.ins_h=B.window[pe],B.ins_h=(B.ins_h<<B.hash_shift^B.window[pe+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[pe+F-1])&B.hash_mask,B.prev[pe&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=pe,pe++,B.insert--,!(B.lookahead+B.insert<F)););}while(B.lookahead<J&&B.strm.avail_in!==0)}function Pe(B,Ne){for(var be,oe;;){if(B.lookahead<J){if(Ie(B),B.lookahead<J&&Ne===g)return j;if(B.lookahead===0)break}if(be=0,B.lookahead>=F&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+F-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),be!==0&&B.strstart-be<=B.w_size-J&&(B.match_length=ve(B,be)),B.match_length>=F)if(oe=u._tr_tally(B,B.strstart-B.match_start,B.match_length-F),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=F){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+F-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else oe=u._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(oe&&(Q(B,!1),B.strm.avail_out===0))return j}return B.insert=B.strstart<F-1?B.strstart:F-1,Ne===b?(Q(B,!0),B.strm.avail_out===0?se:ie):B.last_lit&&(Q(B,!1),B.strm.avail_out===0)?j:K}function Te(B,Ne){for(var be,oe,re;;){if(B.lookahead<J){if(Ie(B),B.lookahead<J&&Ne===g)return j;if(B.lookahead===0)break}if(be=0,B.lookahead>=F&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+F-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=F-1,be!==0&&B.prev_length<B.max_lazy_match&&B.strstart-be<=B.w_size-J&&(B.match_length=ve(B,be),B.match_length<=5&&(B.strategy===1||B.match_length===F&&4096<B.strstart-B.match_start)&&(B.match_length=F-1)),B.prev_length>=F&&B.match_length<=B.prev_length){for(re=B.strstart+B.lookahead-F,oe=u._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-F),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=re&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+F-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=F-1,B.strstart++,oe&&(Q(B,!1),B.strm.avail_out===0))return j}else if(B.match_available){if((oe=u._tr_tally(B,0,B.window[B.strstart-1]))&&Q(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return j}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(oe=u._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<F-1?B.strstart:F-1,Ne===b?(Q(B,!0),B.strm.avail_out===0?se:ie):B.last_lit&&(Q(B,!1),B.strm.avail_out===0)?j:K}function Oe(B,Ne,be,oe,re){this.good_length=B,this.max_lazy=Ne,this.nice_length=be,this.max_chain=oe,this.func=re}function He(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*Z),this.dyn_dtree=new l.Buf16(2*(2*D+1)),this.bl_tree=new l.Buf16(2*(2*$+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(q+1),this.heap=new l.Buf16(2*z+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*z+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Qe(B){var Ne;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=k,(Ne=B.state).pending=0,Ne.pending_out=0,Ne.wrap<0&&(Ne.wrap=-Ne.wrap),Ne.status=Ne.wrap?U:X,B.adler=Ne.wrap===2?0:1,Ne.last_flush=g,u._tr_init(Ne),_):te(B,S)}function ot(B){var Ne=Qe(B);return Ne===_&&function(be){be.window_size=2*be.w_size,le(be.head),be.max_lazy_match=s[be.level].max_lazy,be.good_match=s[be.level].good_length,be.nice_match=s[be.level].nice_length,be.max_chain_length=s[be.level].max_chain,be.strstart=0,be.block_start=0,be.lookahead=0,be.insert=0,be.match_length=be.prev_length=F-1,be.match_available=0,be.ins_h=0}(B.state),Ne}function at(B,Ne,be,oe,re,pe){if(!B)return S;var Re=1;if(Ne===v&&(Ne=6),oe<0?(Re=0,oe=-oe):15<oe&&(Re=2,oe-=16),re<1||T<re||be!==A||oe<8||15<oe||Ne<0||9<Ne||pe<0||E<pe)return te(B,S);oe===8&&(oe=9);var je=new He;return(B.state=je).strm=B,je.wrap=Re,je.gzhead=null,je.w_bits=oe,je.w_size=1<<je.w_bits,je.w_mask=je.w_size-1,je.hash_bits=re+7,je.hash_size=1<<je.hash_bits,je.hash_mask=je.hash_size-1,je.hash_shift=~~((je.hash_bits+F-1)/F),je.window=new l.Buf8(2*je.w_size),je.head=new l.Buf16(je.hash_size),je.prev=new l.Buf16(je.w_size),je.lit_bufsize=1<<re+6,je.pending_buf_size=4*je.lit_bufsize,je.pending_buf=new l.Buf8(je.pending_buf_size),je.d_buf=1*je.lit_bufsize,je.l_buf=3*je.lit_bufsize,je.level=Ne,je.strategy=pe,je.method=be,ot(B)}s=[new Oe(0,0,0,0,function(B,Ne){var be=65535;for(be>B.pending_buf_size-5&&(be=B.pending_buf_size-5);;){if(B.lookahead<=1){if(Ie(B),B.lookahead===0&&Ne===g)return j;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var oe=B.block_start+be;if((B.strstart===0||B.strstart>=oe)&&(B.lookahead=B.strstart-oe,B.strstart=oe,Q(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-J&&(Q(B,!1),B.strm.avail_out===0))return j}return B.insert=0,Ne===b?(Q(B,!0),B.strm.avail_out===0?se:ie):(B.strstart>B.block_start&&(Q(B,!1),B.strm.avail_out),j)}),new Oe(4,4,8,4,Pe),new Oe(4,5,16,8,Pe),new Oe(4,6,32,32,Pe),new Oe(4,4,16,16,Te),new Oe(8,16,32,32,Te),new Oe(8,16,128,128,Te),new Oe(8,32,128,256,Te),new Oe(32,128,258,1024,Te),new Oe(32,258,258,4096,Te)],i.deflateInit=function(B,Ne){return at(B,Ne,A,15,8,0)},i.deflateInit2=at,i.deflateReset=ot,i.deflateResetKeep=Qe,i.deflateSetHeader=function(B,Ne){return B&&B.state?B.state.wrap!==2?S:(B.state.gzhead=Ne,_):S},i.deflate=function(B,Ne){var be,oe,re,pe;if(!B||!B.state||5<Ne||Ne<0)return B?te(B,S):S;if(oe=B.state,!B.output||!B.input&&B.avail_in!==0||oe.status===666&&Ne!==b)return te(B,B.avail_out===0?-5:S);if(oe.strm=B,be=oe.last_flush,oe.last_flush=Ne,oe.status===U)if(oe.wrap===2)B.adler=0,ke(oe,31),ke(oe,139),ke(oe,8),oe.gzhead?(ke(oe,(oe.gzhead.text?1:0)+(oe.gzhead.hcrc?2:0)+(oe.gzhead.extra?4:0)+(oe.gzhead.name?8:0)+(oe.gzhead.comment?16:0)),ke(oe,255&oe.gzhead.time),ke(oe,oe.gzhead.time>>8&255),ke(oe,oe.gzhead.time>>16&255),ke(oe,oe.gzhead.time>>24&255),ke(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),ke(oe,255&oe.gzhead.os),oe.gzhead.extra&&oe.gzhead.extra.length&&(ke(oe,255&oe.gzhead.extra.length),ke(oe,oe.gzhead.extra.length>>8&255)),oe.gzhead.hcrc&&(B.adler=p(B.adler,oe.pending_buf,oe.pending,0)),oe.gzindex=0,oe.status=69):(ke(oe,0),ke(oe,0),ke(oe,0),ke(oe,0),ke(oe,0),ke(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),ke(oe,3),oe.status=X);else{var Re=A+(oe.w_bits-8<<4)<<8;Re|=(2<=oe.strategy||oe.level<2?0:oe.level<6?1:oe.level===6?2:3)<<6,oe.strstart!==0&&(Re|=32),Re+=31-Re%31,oe.status=X,_e(oe,Re),oe.strstart!==0&&(_e(oe,B.adler>>>16),_e(oe,65535&B.adler)),B.adler=1}if(oe.status===69)if(oe.gzhead.extra){for(re=oe.pending;oe.gzindex<(65535&oe.gzhead.extra.length)&&(oe.pending!==oe.pending_buf_size||(oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),H(B),re=oe.pending,oe.pending!==oe.pending_buf_size));)ke(oe,255&oe.gzhead.extra[oe.gzindex]),oe.gzindex++;oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),oe.gzindex===oe.gzhead.extra.length&&(oe.gzindex=0,oe.status=73)}else oe.status=73;if(oe.status===73)if(oe.gzhead.name){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),H(B),re=oe.pending,oe.pending===oe.pending_buf_size)){pe=1;break}pe=oe.gzindex<oe.gzhead.name.length?255&oe.gzhead.name.charCodeAt(oe.gzindex++):0,ke(oe,pe)}while(pe!==0);oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),pe===0&&(oe.gzindex=0,oe.status=91)}else oe.status=91;if(oe.status===91)if(oe.gzhead.comment){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),H(B),re=oe.pending,oe.pending===oe.pending_buf_size)){pe=1;break}pe=oe.gzindex<oe.gzhead.comment.length?255&oe.gzhead.comment.charCodeAt(oe.gzindex++):0,ke(oe,pe)}while(pe!==0);oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),pe===0&&(oe.status=103)}else oe.status=103;if(oe.status===103&&(oe.gzhead.hcrc?(oe.pending+2>oe.pending_buf_size&&H(B),oe.pending+2<=oe.pending_buf_size&&(ke(oe,255&B.adler),ke(oe,B.adler>>8&255),B.adler=0,oe.status=X)):oe.status=X),oe.pending!==0){if(H(B),B.avail_out===0)return oe.last_flush=-1,_}else if(B.avail_in===0&&ee(Ne)<=ee(be)&&Ne!==b)return te(B,-5);if(oe.status===666&&B.avail_in!==0)return te(B,-5);if(B.avail_in!==0||oe.lookahead!==0||Ne!==g&&oe.status!==666){var je=oe.strategy===2?function(me,Be){for(var qe;;){if(me.lookahead===0&&(Ie(me),me.lookahead===0)){if(Be===g)return j;break}if(me.match_length=0,qe=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,qe&&(Q(me,!1),me.strm.avail_out===0))return j}return me.insert=0,Be===b?(Q(me,!0),me.strm.avail_out===0?se:ie):me.last_lit&&(Q(me,!1),me.strm.avail_out===0)?j:K}(oe,Ne):oe.strategy===3?function(me,Be){for(var qe,De,tt,G,R=me.window;;){if(me.lookahead<=W){if(Ie(me),me.lookahead<=W&&Be===g)return j;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=F&&0<me.strstart&&(De=R[tt=me.strstart-1])===R[++tt]&&De===R[++tt]&&De===R[++tt]){G=me.strstart+W;do;while(De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&tt<G);me.match_length=W-(G-tt),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=F?(qe=u._tr_tally(me,1,me.match_length-F),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(qe=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),qe&&(Q(me,!1),me.strm.avail_out===0))return j}return me.insert=0,Be===b?(Q(me,!0),me.strm.avail_out===0?se:ie):me.last_lit&&(Q(me,!1),me.strm.avail_out===0)?j:K}(oe,Ne):s[oe.level].func(oe,Ne);if(je!==se&&je!==ie||(oe.status=666),je===j||je===se)return B.avail_out===0&&(oe.last_flush=-1),_;if(je===K&&(Ne===1?u._tr_align(oe):Ne!==5&&(u._tr_stored_block(oe,0,0,!1),Ne===3&&(le(oe.head),oe.lookahead===0&&(oe.strstart=0,oe.block_start=0,oe.insert=0))),H(B),B.avail_out===0))return oe.last_flush=-1,_}return Ne!==b?_:oe.wrap<=0?1:(oe.wrap===2?(ke(oe,255&B.adler),ke(oe,B.adler>>8&255),ke(oe,B.adler>>16&255),ke(oe,B.adler>>24&255),ke(oe,255&B.total_in),ke(oe,B.total_in>>8&255),ke(oe,B.total_in>>16&255),ke(oe,B.total_in>>24&255)):(_e(oe,B.adler>>>16),_e(oe,65535&B.adler)),H(B),0<oe.wrap&&(oe.wrap=-oe.wrap),oe.pending!==0?_:1)},i.deflateEnd=function(B){var Ne;return B&&B.state?(Ne=B.state.status)!==U&&Ne!==69&&Ne!==73&&Ne!==91&&Ne!==103&&Ne!==X&&Ne!==666?te(B,S):(B.state=null,Ne===X?te(B,-3):_):S},i.deflateSetDictionary=function(B,Ne){var be,oe,re,pe,Re,je,me,Be,qe=Ne.length;if(!B||!B.state||(pe=(be=B.state).wrap)===2||pe===1&&be.status!==U||be.lookahead)return S;for(pe===1&&(B.adler=d(B.adler,Ne,qe,0)),be.wrap=0,qe>=be.w_size&&(pe===0&&(le(be.head),be.strstart=0,be.block_start=0,be.insert=0),Be=new l.Buf8(be.w_size),l.arraySet(Be,Ne,qe-be.w_size,be.w_size,0),Ne=Be,qe=be.w_size),Re=B.avail_in,je=B.next_in,me=B.input,B.avail_in=qe,B.next_in=0,B.input=Ne,Ie(be);be.lookahead>=F;){for(oe=be.strstart,re=be.lookahead-(F-1);be.ins_h=(be.ins_h<<be.hash_shift^be.window[oe+F-1])&be.hash_mask,be.prev[oe&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=oe,oe++,--re;);be.strstart=oe,be.lookahead=F-1,Ie(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=F-1,be.match_available=0,B.next_in=je,B.input=me,B.avail_in=Re,be.wrap=pe,_},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,l){var u,d,p,y,g,b,_,S,v,E,k,A,T,z,D,$,Z,q,F,W,J,U,X,j,K;u=s.state,d=s.next_in,j=s.input,p=d+(s.avail_in-5),y=s.next_out,K=s.output,g=y-(l-s.avail_out),b=y+(s.avail_out-257),_=u.dmax,S=u.wsize,v=u.whave,E=u.wnext,k=u.window,A=u.hold,T=u.bits,z=u.lencode,D=u.distcode,$=(1<<u.lenbits)-1,Z=(1<<u.distbits)-1;e:do{T<15&&(A+=j[d++]<<T,T+=8,A+=j[d++]<<T,T+=8),q=z[A&$];t:for(;;){if(A>>>=F=q>>>24,T-=F,(F=q>>>16&255)===0)K[y++]=65535&q;else{if(!(16&F)){if((64&F)==0){q=z[(65535&q)+(A&(1<<F)-1)];continue t}if(32&F){u.mode=12;break e}s.msg="invalid literal/length code",u.mode=30;break e}W=65535&q,(F&=15)&&(T<F&&(A+=j[d++]<<T,T+=8),W+=A&(1<<F)-1,A>>>=F,T-=F),T<15&&(A+=j[d++]<<T,T+=8,A+=j[d++]<<T,T+=8),q=D[A&Z];n:for(;;){if(A>>>=F=q>>>24,T-=F,!(16&(F=q>>>16&255))){if((64&F)==0){q=D[(65535&q)+(A&(1<<F)-1)];continue n}s.msg="invalid distance code",u.mode=30;break e}if(J=65535&q,T<(F&=15)&&(A+=j[d++]<<T,(T+=8)<F&&(A+=j[d++]<<T,T+=8)),_<(J+=A&(1<<F)-1)){s.msg="invalid distance too far back",u.mode=30;break e}if(A>>>=F,T-=F,(F=y-g)<J){if(v<(F=J-F)&&u.sane){s.msg="invalid distance too far back",u.mode=30;break e}if(X=k,(U=0)===E){if(U+=S-F,F<W){for(W-=F;K[y++]=k[U++],--F;);U=y-J,X=K}}else if(E<F){if(U+=S+E-F,(F-=E)<W){for(W-=F;K[y++]=k[U++],--F;);if(U=0,E<W){for(W-=F=E;K[y++]=k[U++],--F;);U=y-J,X=K}}}else if(U+=E-F,F<W){for(W-=F;K[y++]=k[U++],--F;);U=y-J,X=K}for(;2<W;)K[y++]=X[U++],K[y++]=X[U++],K[y++]=X[U++],W-=3;W&&(K[y++]=X[U++],1<W&&(K[y++]=X[U++]))}else{for(U=y-J;K[y++]=K[U++],K[y++]=K[U++],K[y++]=K[U++],2<(W-=3););W&&(K[y++]=K[U++],1<W&&(K[y++]=K[U++]))}break}}break}}while(d<p&&y<b);d-=W=T>>3,A&=(1<<(T-=W<<3))-1,s.next_in=d,s.next_out=y,s.avail_in=d<p?p-d+5:5-(d-p),s.avail_out=y<b?b-y+257:257-(y-b),u.hold=A,u.bits=T}},{}],49:[function(n,r,i){var s=n("../utils/common"),l=n("./adler32"),u=n("./crc32"),d=n("./inffast"),p=n("./inftrees"),y=1,g=2,b=0,_=-2,S=1,v=852,E=592;function k(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(U){var X;return U&&U.state?(X=U.state,U.total_in=U.total_out=X.total=0,U.msg="",X.wrap&&(U.adler=1&X.wrap),X.mode=S,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new s.Buf32(v),X.distcode=X.distdyn=new s.Buf32(E),X.sane=1,X.back=-1,b):_}function z(U){var X;return U&&U.state?((X=U.state).wsize=0,X.whave=0,X.wnext=0,T(U)):_}function D(U,X){var j,K;return U&&U.state?(K=U.state,X<0?(j=0,X=-X):(j=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?_:(K.window!==null&&K.wbits!==X&&(K.window=null),K.wrap=j,K.wbits=X,z(U))):_}function $(U,X){var j,K;return U?(K=new A,(U.state=K).window=null,(j=D(U,X))!==b&&(U.state=null),j):_}var Z,q,F=!0;function W(U){if(F){var X;for(Z=new s.Buf32(512),q=new s.Buf32(32),X=0;X<144;)U.lens[X++]=8;for(;X<256;)U.lens[X++]=9;for(;X<280;)U.lens[X++]=7;for(;X<288;)U.lens[X++]=8;for(p(y,U.lens,0,288,Z,0,U.work,{bits:9}),X=0;X<32;)U.lens[X++]=5;p(g,U.lens,0,32,q,0,U.work,{bits:5}),F=!1}U.lencode=Z,U.lenbits=9,U.distcode=q,U.distbits=5}function J(U,X,j,K){var se,ie=U.state;return ie.window===null&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new s.Buf8(ie.wsize)),K>=ie.wsize?(s.arraySet(ie.window,X,j-ie.wsize,ie.wsize,0),ie.wnext=0,ie.whave=ie.wsize):(K<(se=ie.wsize-ie.wnext)&&(se=K),s.arraySet(ie.window,X,j-K,se,ie.wnext),(K-=se)?(s.arraySet(ie.window,X,j-K,K,0),ie.wnext=K,ie.whave=ie.wsize):(ie.wnext+=se,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=se))),0}i.inflateReset=z,i.inflateReset2=D,i.inflateResetKeep=T,i.inflateInit=function(U){return $(U,15)},i.inflateInit2=$,i.inflate=function(U,X){var j,K,se,ie,te,ee,le,H,Q,ke,_e,ve,Ie,Pe,Te,Oe,He,Qe,ot,at,B,Ne,be,oe,re=0,pe=new s.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return _;(j=U.state).mode===12&&(j.mode=13),te=U.next_out,se=U.output,le=U.avail_out,ie=U.next_in,K=U.input,ee=U.avail_in,H=j.hold,Q=j.bits,ke=ee,_e=le,Ne=b;e:for(;;)switch(j.mode){case S:if(j.wrap===0){j.mode=13;break}for(;Q<16;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(2&j.wrap&&H===35615){pe[j.check=0]=255&H,pe[1]=H>>>8&255,j.check=u(j.check,pe,2,0),Q=H=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&H)<<8)+(H>>8))%31){U.msg="incorrect header check",j.mode=30;break}if((15&H)!=8){U.msg="unknown compression method",j.mode=30;break}if(Q-=4,B=8+(15&(H>>>=4)),j.wbits===0)j.wbits=B;else if(B>j.wbits){U.msg="invalid window size",j.mode=30;break}j.dmax=1<<B,U.adler=j.check=1,j.mode=512&H?10:12,Q=H=0;break;case 2:for(;Q<16;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(j.flags=H,(255&j.flags)!=8){U.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){U.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=H>>8&1),512&j.flags&&(pe[0]=255&H,pe[1]=H>>>8&255,j.check=u(j.check,pe,2,0)),Q=H=0,j.mode=3;case 3:for(;Q<32;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}j.head&&(j.head.time=H),512&j.flags&&(pe[0]=255&H,pe[1]=H>>>8&255,pe[2]=H>>>16&255,pe[3]=H>>>24&255,j.check=u(j.check,pe,4,0)),Q=H=0,j.mode=4;case 4:for(;Q<16;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}j.head&&(j.head.xflags=255&H,j.head.os=H>>8),512&j.flags&&(pe[0]=255&H,pe[1]=H>>>8&255,j.check=u(j.check,pe,2,0)),Q=H=0,j.mode=5;case 5:if(1024&j.flags){for(;Q<16;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}j.length=H,j.head&&(j.head.extra_len=H),512&j.flags&&(pe[0]=255&H,pe[1]=H>>>8&255,j.check=u(j.check,pe,2,0)),Q=H=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(ee<(ve=j.length)&&(ve=ee),ve&&(j.head&&(B=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),s.arraySet(j.head.extra,K,ie,ve,B)),512&j.flags&&(j.check=u(j.check,K,ve,ie)),ee-=ve,ie+=ve,j.length-=ve),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(ee===0)break e;for(ve=0;B=K[ie+ve++],j.head&&B&&j.length<65536&&(j.head.name+=String.fromCharCode(B)),B&&ve<ee;);if(512&j.flags&&(j.check=u(j.check,K,ve,ie)),ee-=ve,ie+=ve,B)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(ee===0)break e;for(ve=0;B=K[ie+ve++],j.head&&B&&j.length<65536&&(j.head.comment+=String.fromCharCode(B)),B&&ve<ee;);if(512&j.flags&&(j.check=u(j.check,K,ve,ie)),ee-=ve,ie+=ve,B)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;Q<16;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(H!==(65535&j.check)){U.msg="header crc mismatch",j.mode=30;break}Q=H=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),U.adler=j.check=0,j.mode=12;break;case 10:for(;Q<32;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}U.adler=j.check=k(H),Q=H=0,j.mode=11;case 11:if(j.havedict===0)return U.next_out=te,U.avail_out=le,U.next_in=ie,U.avail_in=ee,j.hold=H,j.bits=Q,2;U.adler=j.check=1,j.mode=12;case 12:if(X===5||X===6)break e;case 13:if(j.last){H>>>=7&Q,Q-=7&Q,j.mode=27;break}for(;Q<3;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}switch(j.last=1&H,Q-=1,3&(H>>>=1)){case 0:j.mode=14;break;case 1:if(W(j),j.mode=20,X!==6)break;H>>>=2,Q-=2;break e;case 2:j.mode=17;break;case 3:U.msg="invalid block type",j.mode=30}H>>>=2,Q-=2;break;case 14:for(H>>>=7&Q,Q-=7&Q;Q<32;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if((65535&H)!=(H>>>16^65535)){U.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&H,Q=H=0,j.mode=15,X===6)break e;case 15:j.mode=16;case 16:if(ve=j.length){if(ee<ve&&(ve=ee),le<ve&&(ve=le),ve===0)break e;s.arraySet(se,K,ie,ve,te),ee-=ve,ie+=ve,le-=ve,te+=ve,j.length-=ve;break}j.mode=12;break;case 17:for(;Q<14;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(j.nlen=257+(31&H),H>>>=5,Q-=5,j.ndist=1+(31&H),H>>>=5,Q-=5,j.ncode=4+(15&H),H>>>=4,Q-=4,286<j.nlen||30<j.ndist){U.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;Q<3;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}j.lens[Re[j.have++]]=7&H,H>>>=3,Q-=3}for(;j.have<19;)j.lens[Re[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,be={bits:j.lenbits},Ne=p(0,j.lens,0,19,j.lencode,0,j.work,be),j.lenbits=be.bits,Ne){U.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;Oe=(re=j.lencode[H&(1<<j.lenbits)-1])>>>16&255,He=65535&re,!((Te=re>>>24)<=Q);){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(He<16)H>>>=Te,Q-=Te,j.lens[j.have++]=He;else{if(He===16){for(oe=Te+2;Q<oe;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(H>>>=Te,Q-=Te,j.have===0){U.msg="invalid bit length repeat",j.mode=30;break}B=j.lens[j.have-1],ve=3+(3&H),H>>>=2,Q-=2}else if(He===17){for(oe=Te+3;Q<oe;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}Q-=Te,B=0,ve=3+(7&(H>>>=Te)),H>>>=3,Q-=3}else{for(oe=Te+7;Q<oe;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}Q-=Te,B=0,ve=11+(127&(H>>>=Te)),H>>>=7,Q-=7}if(j.have+ve>j.nlen+j.ndist){U.msg="invalid bit length repeat",j.mode=30;break}for(;ve--;)j.lens[j.have++]=B}}if(j.mode===30)break;if(j.lens[256]===0){U.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,be={bits:j.lenbits},Ne=p(y,j.lens,0,j.nlen,j.lencode,0,j.work,be),j.lenbits=be.bits,Ne){U.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,be={bits:j.distbits},Ne=p(g,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,be),j.distbits=be.bits,Ne){U.msg="invalid distances set",j.mode=30;break}if(j.mode=20,X===6)break e;case 20:j.mode=21;case 21:if(6<=ee&&258<=le){U.next_out=te,U.avail_out=le,U.next_in=ie,U.avail_in=ee,j.hold=H,j.bits=Q,d(U,_e),te=U.next_out,se=U.output,le=U.avail_out,ie=U.next_in,K=U.input,ee=U.avail_in,H=j.hold,Q=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;Oe=(re=j.lencode[H&(1<<j.lenbits)-1])>>>16&255,He=65535&re,!((Te=re>>>24)<=Q);){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(Oe&&(240&Oe)==0){for(Qe=Te,ot=Oe,at=He;Oe=(re=j.lencode[at+((H&(1<<Qe+ot)-1)>>Qe)])>>>16&255,He=65535&re,!(Qe+(Te=re>>>24)<=Q);){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}H>>>=Qe,Q-=Qe,j.back+=Qe}if(H>>>=Te,Q-=Te,j.back+=Te,j.length=He,Oe===0){j.mode=26;break}if(32&Oe){j.back=-1,j.mode=12;break}if(64&Oe){U.msg="invalid literal/length code",j.mode=30;break}j.extra=15&Oe,j.mode=22;case 22:if(j.extra){for(oe=j.extra;Q<oe;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}j.length+=H&(1<<j.extra)-1,H>>>=j.extra,Q-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;Oe=(re=j.distcode[H&(1<<j.distbits)-1])>>>16&255,He=65535&re,!((Te=re>>>24)<=Q);){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if((240&Oe)==0){for(Qe=Te,ot=Oe,at=He;Oe=(re=j.distcode[at+((H&(1<<Qe+ot)-1)>>Qe)])>>>16&255,He=65535&re,!(Qe+(Te=re>>>24)<=Q);){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}H>>>=Qe,Q-=Qe,j.back+=Qe}if(H>>>=Te,Q-=Te,j.back+=Te,64&Oe){U.msg="invalid distance code",j.mode=30;break}j.offset=He,j.extra=15&Oe,j.mode=24;case 24:if(j.extra){for(oe=j.extra;Q<oe;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}j.offset+=H&(1<<j.extra)-1,H>>>=j.extra,Q-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){U.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(le===0)break e;if(ve=_e-le,j.offset>ve){if((ve=j.offset-ve)>j.whave&&j.sane){U.msg="invalid distance too far back",j.mode=30;break}Ie=ve>j.wnext?(ve-=j.wnext,j.wsize-ve):j.wnext-ve,ve>j.length&&(ve=j.length),Pe=j.window}else Pe=se,Ie=te-j.offset,ve=j.length;for(le<ve&&(ve=le),le-=ve,j.length-=ve;se[te++]=Pe[Ie++],--ve;);j.length===0&&(j.mode=21);break;case 26:if(le===0)break e;se[te++]=j.length,le--,j.mode=21;break;case 27:if(j.wrap){for(;Q<32;){if(ee===0)break e;ee--,H|=K[ie++]<<Q,Q+=8}if(_e-=le,U.total_out+=_e,j.total+=_e,_e&&(U.adler=j.check=j.flags?u(j.check,se,_e,te-_e):l(j.check,se,_e,te-_e)),_e=le,(j.flags?H:k(H))!==j.check){U.msg="incorrect data check",j.mode=30;break}Q=H=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;Q<32;){if(ee===0)break e;ee--,H+=K[ie++]<<Q,Q+=8}if(H!==(4294967295&j.total)){U.msg="incorrect length check",j.mode=30;break}Q=H=0}j.mode=29;case 29:Ne=1;break e;case 30:Ne=-3;break e;case 31:return-4;case 32:default:return _}return U.next_out=te,U.avail_out=le,U.next_in=ie,U.avail_in=ee,j.hold=H,j.bits=Q,(j.wsize||_e!==U.avail_out&&j.mode<30&&(j.mode<27||X!==4))&&J(U,U.output,U.next_out,_e-U.avail_out)?(j.mode=31,-4):(ke-=U.avail_in,_e-=U.avail_out,U.total_in+=ke,U.total_out+=_e,j.total+=_e,j.wrap&&_e&&(U.adler=j.check=j.flags?u(j.check,se,_e,U.next_out-_e):l(j.check,se,_e,U.next_out-_e)),U.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(ke==0&&_e===0||X===4)&&Ne===b&&(Ne=-5),Ne)},i.inflateEnd=function(U){if(!U||!U.state)return _;var X=U.state;return X.window&&(X.window=null),U.state=null,b},i.inflateGetHeader=function(U,X){var j;return U&&U.state?(2&(j=U.state).wrap)==0?_:((j.head=X).done=!1,b):_},i.inflateSetDictionary=function(U,X){var j,K=X.length;return U&&U.state?(j=U.state).wrap!==0&&j.mode!==11?_:j.mode===11&&l(1,X,K,0)!==j.check?-3:J(U,X,K,K)?(j.mode=31,-4):(j.havedict=1,b):_},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(y,g,b,_,S,v,E,k){var A,T,z,D,$,Z,q,F,W,J=k.bits,U=0,X=0,j=0,K=0,se=0,ie=0,te=0,ee=0,le=0,H=0,Q=null,ke=0,_e=new s.Buf16(16),ve=new s.Buf16(16),Ie=null,Pe=0;for(U=0;U<=15;U++)_e[U]=0;for(X=0;X<_;X++)_e[g[b+X]]++;for(se=J,K=15;1<=K&&_e[K]===0;K--);if(K<se&&(se=K),K===0)return S[v++]=20971520,S[v++]=20971520,k.bits=1,0;for(j=1;j<K&&_e[j]===0;j++);for(se<j&&(se=j),U=ee=1;U<=15;U++)if(ee<<=1,(ee-=_e[U])<0)return-1;if(0<ee&&(y===0||K!==1))return-1;for(ve[1]=0,U=1;U<15;U++)ve[U+1]=ve[U]+_e[U];for(X=0;X<_;X++)g[b+X]!==0&&(E[ve[g[b+X]]++]=X);if(Z=y===0?(Q=Ie=E,19):y===1?(Q=l,ke-=257,Ie=u,Pe-=257,256):(Q=d,Ie=p,-1),U=j,$=v,te=X=H=0,z=-1,D=(le=1<<(ie=se))-1,y===1&&852<le||y===2&&592<le)return 1;for(;;){for(q=U-te,W=E[X]<Z?(F=0,E[X]):E[X]>Z?(F=Ie[Pe+E[X]],Q[ke+E[X]]):(F=96,0),A=1<<U-te,j=T=1<<ie;S[$+(H>>te)+(T-=A)]=q<<24|F<<16|W|0,T!==0;);for(A=1<<U-1;H&A;)A>>=1;if(A!==0?(H&=A-1,H+=A):H=0,X++,--_e[U]==0){if(U===K)break;U=g[b+E[X]]}if(se<U&&(H&D)!==z){for(te===0&&(te=se),$+=j,ee=1<<(ie=U-te);ie+te<K&&!((ee-=_e[ie+te])<=0);)ie++,ee<<=1;if(le+=1<<ie,y===1&&852<le||y===2&&592<le)return 1;S[z=H&D]=se<<24|ie<<16|$-v|0}}return H!==0&&(S[$+H]=U-te<<24|64<<16|0),k.bits=se,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),l=0,u=1;function d(re){for(var pe=re.length;0<=--pe;)re[pe]=0}var p=0,y=29,g=256,b=g+1+y,_=30,S=19,v=2*b+1,E=15,k=16,A=7,T=256,z=16,D=17,$=18,Z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(b+2));d(J);var U=new Array(2*_);d(U);var X=new Array(512);d(X);var j=new Array(256);d(j);var K=new Array(y);d(K);var se,ie,te,ee=new Array(_);function le(re,pe,Re,je,me){this.static_tree=re,this.extra_bits=pe,this.extra_base=Re,this.elems=je,this.max_length=me,this.has_stree=re&&re.length}function H(re,pe){this.dyn_tree=re,this.max_code=0,this.stat_desc=pe}function Q(re){return re<256?X[re]:X[256+(re>>>7)]}function ke(re,pe){re.pending_buf[re.pending++]=255&pe,re.pending_buf[re.pending++]=pe>>>8&255}function _e(re,pe,Re){re.bi_valid>k-Re?(re.bi_buf|=pe<<re.bi_valid&65535,ke(re,re.bi_buf),re.bi_buf=pe>>k-re.bi_valid,re.bi_valid+=Re-k):(re.bi_buf|=pe<<re.bi_valid&65535,re.bi_valid+=Re)}function ve(re,pe,Re){_e(re,Re[2*pe],Re[2*pe+1])}function Ie(re,pe){for(var Re=0;Re|=1&re,re>>>=1,Re<<=1,0<--pe;);return Re>>>1}function Pe(re,pe,Re){var je,me,Be=new Array(E+1),qe=0;for(je=1;je<=E;je++)Be[je]=qe=qe+Re[je-1]<<1;for(me=0;me<=pe;me++){var De=re[2*me+1];De!==0&&(re[2*me]=Ie(Be[De]++,De))}}function Te(re){var pe;for(pe=0;pe<b;pe++)re.dyn_ltree[2*pe]=0;for(pe=0;pe<_;pe++)re.dyn_dtree[2*pe]=0;for(pe=0;pe<S;pe++)re.bl_tree[2*pe]=0;re.dyn_ltree[2*T]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function Oe(re){8<re.bi_valid?ke(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function He(re,pe,Re,je){var me=2*pe,Be=2*Re;return re[me]<re[Be]||re[me]===re[Be]&&je[pe]<=je[Re]}function Qe(re,pe,Re){for(var je=re.heap[Re],me=Re<<1;me<=re.heap_len&&(me<re.heap_len&&He(pe,re.heap[me+1],re.heap[me],re.depth)&&me++,!He(pe,je,re.heap[me],re.depth));)re.heap[Re]=re.heap[me],Re=me,me<<=1;re.heap[Re]=je}function ot(re,pe,Re){var je,me,Be,qe,De=0;if(re.last_lit!==0)for(;je=re.pending_buf[re.d_buf+2*De]<<8|re.pending_buf[re.d_buf+2*De+1],me=re.pending_buf[re.l_buf+De],De++,je===0?ve(re,me,pe):(ve(re,(Be=j[me])+g+1,pe),(qe=Z[Be])!==0&&_e(re,me-=K[Be],qe),ve(re,Be=Q(--je),Re),(qe=q[Be])!==0&&_e(re,je-=ee[Be],qe)),De<re.last_lit;);ve(re,T,pe)}function at(re,pe){var Re,je,me,Be=pe.dyn_tree,qe=pe.stat_desc.static_tree,De=pe.stat_desc.has_stree,tt=pe.stat_desc.elems,G=-1;for(re.heap_len=0,re.heap_max=v,Re=0;Re<tt;Re++)Be[2*Re]!==0?(re.heap[++re.heap_len]=G=Re,re.depth[Re]=0):Be[2*Re+1]=0;for(;re.heap_len<2;)Be[2*(me=re.heap[++re.heap_len]=G<2?++G:0)]=1,re.depth[me]=0,re.opt_len--,De&&(re.static_len-=qe[2*me+1]);for(pe.max_code=G,Re=re.heap_len>>1;1<=Re;Re--)Qe(re,Be,Re);for(me=tt;Re=re.heap[1],re.heap[1]=re.heap[re.heap_len--],Qe(re,Be,1),je=re.heap[1],re.heap[--re.heap_max]=Re,re.heap[--re.heap_max]=je,Be[2*me]=Be[2*Re]+Be[2*je],re.depth[me]=(re.depth[Re]>=re.depth[je]?re.depth[Re]:re.depth[je])+1,Be[2*Re+1]=Be[2*je+1]=me,re.heap[1]=me++,Qe(re,Be,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],function(R,O){var ne,fe,xe,Ce,dt,jt,bt=O.dyn_tree,Ct=O.max_code,Nt=O.stat_desc.static_tree,fa=O.stat_desc.has_stree,Wo=O.stat_desc.extra_bits,Lr=O.stat_desc.extra_base,Wn=O.stat_desc.max_length,to=0;for(Ce=0;Ce<=E;Ce++)R.bl_count[Ce]=0;for(bt[2*R.heap[R.heap_max]+1]=0,ne=R.heap_max+1;ne<v;ne++)Wn<(Ce=bt[2*bt[2*(fe=R.heap[ne])+1]+1]+1)&&(Ce=Wn,to++),bt[2*fe+1]=Ce,Ct<fe||(R.bl_count[Ce]++,dt=0,Lr<=fe&&(dt=Wo[fe-Lr]),jt=bt[2*fe],R.opt_len+=jt*(Ce+dt),fa&&(R.static_len+=jt*(Nt[2*fe+1]+dt)));if(to!==0){do{for(Ce=Wn-1;R.bl_count[Ce]===0;)Ce--;R.bl_count[Ce]--,R.bl_count[Ce+1]+=2,R.bl_count[Wn]--,to-=2}while(0<to);for(Ce=Wn;Ce!==0;Ce--)for(fe=R.bl_count[Ce];fe!==0;)Ct<(xe=R.heap[--ne])||(bt[2*xe+1]!==Ce&&(R.opt_len+=(Ce-bt[2*xe+1])*bt[2*xe],bt[2*xe+1]=Ce),fe--)}}(re,pe),Pe(Be,G,re.bl_count)}function B(re,pe,Re){var je,me,Be=-1,qe=pe[1],De=0,tt=7,G=4;for(qe===0&&(tt=138,G=3),pe[2*(Re+1)+1]=65535,je=0;je<=Re;je++)me=qe,qe=pe[2*(je+1)+1],++De<tt&&me===qe||(De<G?re.bl_tree[2*me]+=De:me!==0?(me!==Be&&re.bl_tree[2*me]++,re.bl_tree[2*z]++):De<=10?re.bl_tree[2*D]++:re.bl_tree[2*$]++,Be=me,G=(De=0)===qe?(tt=138,3):me===qe?(tt=6,3):(tt=7,4))}function Ne(re,pe,Re){var je,me,Be=-1,qe=pe[1],De=0,tt=7,G=4;for(qe===0&&(tt=138,G=3),je=0;je<=Re;je++)if(me=qe,qe=pe[2*(je+1)+1],!(++De<tt&&me===qe)){if(De<G)for(;ve(re,me,re.bl_tree),--De!=0;);else me!==0?(me!==Be&&(ve(re,me,re.bl_tree),De--),ve(re,z,re.bl_tree),_e(re,De-3,2)):De<=10?(ve(re,D,re.bl_tree),_e(re,De-3,3)):(ve(re,$,re.bl_tree),_e(re,De-11,7));Be=me,G=(De=0)===qe?(tt=138,3):me===qe?(tt=6,3):(tt=7,4)}}d(ee);var be=!1;function oe(re,pe,Re,je){_e(re,(p<<1)+(je?1:0),3),function(me,Be,qe,De){Oe(me),ke(me,qe),ke(me,~qe),s.arraySet(me.pending_buf,me.window,Be,qe,me.pending),me.pending+=qe}(re,pe,Re)}i._tr_init=function(re){be||(function(){var pe,Re,je,me,Be,qe=new Array(E+1);for(me=je=0;me<y-1;me++)for(K[me]=je,pe=0;pe<1<<Z[me];pe++)j[je++]=me;for(j[je-1]=me,me=Be=0;me<16;me++)for(ee[me]=Be,pe=0;pe<1<<q[me];pe++)X[Be++]=me;for(Be>>=7;me<_;me++)for(ee[me]=Be<<7,pe=0;pe<1<<q[me]-7;pe++)X[256+Be++]=me;for(Re=0;Re<=E;Re++)qe[Re]=0;for(pe=0;pe<=143;)J[2*pe+1]=8,pe++,qe[8]++;for(;pe<=255;)J[2*pe+1]=9,pe++,qe[9]++;for(;pe<=279;)J[2*pe+1]=7,pe++,qe[7]++;for(;pe<=287;)J[2*pe+1]=8,pe++,qe[8]++;for(Pe(J,b+1,qe),pe=0;pe<_;pe++)U[2*pe+1]=5,U[2*pe]=Ie(pe,5);se=new le(J,Z,g+1,b,E),ie=new le(U,q,0,_,E),te=new le(new Array(0),F,0,S,A)}(),be=!0),re.l_desc=new H(re.dyn_ltree,se),re.d_desc=new H(re.dyn_dtree,ie),re.bl_desc=new H(re.bl_tree,te),re.bi_buf=0,re.bi_valid=0,Te(re)},i._tr_stored_block=oe,i._tr_flush_block=function(re,pe,Re,je){var me,Be,qe=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=function(De){var tt,G=4093624447;for(tt=0;tt<=31;tt++,G>>>=1)if(1&G&&De.dyn_ltree[2*tt]!==0)return l;if(De.dyn_ltree[18]!==0||De.dyn_ltree[20]!==0||De.dyn_ltree[26]!==0)return u;for(tt=32;tt<g;tt++)if(De.dyn_ltree[2*tt]!==0)return u;return l}(re)),at(re,re.l_desc),at(re,re.d_desc),qe=function(De){var tt;for(B(De,De.dyn_ltree,De.l_desc.max_code),B(De,De.dyn_dtree,De.d_desc.max_code),at(De,De.bl_desc),tt=S-1;3<=tt&&De.bl_tree[2*W[tt]+1]===0;tt--);return De.opt_len+=3*(tt+1)+5+5+4,tt}(re),me=re.opt_len+3+7>>>3,(Be=re.static_len+3+7>>>3)<=me&&(me=Be)):me=Be=Re+5,Re+4<=me&&pe!==-1?oe(re,pe,Re,je):re.strategy===4||Be===me?(_e(re,2+(je?1:0),3),ot(re,J,U)):(_e(re,4+(je?1:0),3),function(De,tt,G,R){var O;for(_e(De,tt-257,5),_e(De,G-1,5),_e(De,R-4,4),O=0;O<R;O++)_e(De,De.bl_tree[2*W[O]+1],3);Ne(De,De.dyn_ltree,tt-1),Ne(De,De.dyn_dtree,G-1)}(re,re.l_desc.max_code+1,re.d_desc.max_code+1,qe+1),ot(re,re.dyn_ltree,re.dyn_dtree)),Te(re),je&&Oe(re)},i._tr_tally=function(re,pe,Re){return re.pending_buf[re.d_buf+2*re.last_lit]=pe>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&pe,re.pending_buf[re.l_buf+re.last_lit]=255&Re,re.last_lit++,pe===0?re.dyn_ltree[2*Re]++:(re.matches++,pe--,re.dyn_ltree[2*(j[Re]+g+1)]++,re.dyn_dtree[2*Q(pe)]++),re.last_lit===re.lit_bufsize-1},i._tr_align=function(re){_e(re,2,3),ve(re,T,J),function(pe){pe.bi_valid===16?(ke(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(re)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(l,u){if(!l.setImmediate){var d,p,y,g,b=1,_={},S=!1,v=l.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(l);E=E&&E.setTimeout?E:l,d={}.toString.call(l.process)==="[object process]"?function(z){process.nextTick(function(){A(z)})}:function(){if(l.postMessage&&!l.importScripts){var z=!0,D=l.onmessage;return l.onmessage=function(){z=!1},l.postMessage("","*"),l.onmessage=D,z}}()?(g="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",T,!1):l.attachEvent("onmessage",T),function(z){l.postMessage(g+z,"*")}):l.MessageChannel?((y=new MessageChannel).port1.onmessage=function(z){A(z.data)},function(z){y.port2.postMessage(z)}):v&&"onreadystatechange"in v.createElement("script")?(p=v.documentElement,function(z){var D=v.createElement("script");D.onreadystatechange=function(){A(z),D.onreadystatechange=null,p.removeChild(D),D=null},p.appendChild(D)}):function(z){setTimeout(A,0,z)},E.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var D=new Array(arguments.length-1),$=0;$<D.length;$++)D[$]=arguments[$+1];var Z={callback:z,args:D};return _[b]=Z,d(b),b++},E.clearImmediate=k}function k(z){delete _[z]}function A(z){if(S)setTimeout(A,0,z);else{var D=_[z];if(D){S=!0;try{(function($){var Z=$.callback,q=$.args;switch(q.length){case 0:Z();break;case 1:Z(q[0]);break;case 2:Z(q[0],q[1]);break;case 3:Z(q[0],q[1],q[2]);break;default:Z.apply(u,q)}})(D)}finally{k(z),S=!1}}}}function T(z){z.source===l&&typeof z.data=="string"&&z.data.indexOf(g)===0&&A(+z.data.slice(g.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(vv)),vv.exports}lq();const cq=30023,uq="dead-drop-lockers@v1",gE="Dead Drop Lockers Source Snapshot";function dq(){const e=C.useRef(null),[t,n]=C.useState(null),r=hT(),i=m_(),s=u=>{var p;const d=((p=u.target.files)==null?void 0:p[0])??null;n(d)},l=async()=>{if(t)try{const u=await r.mutateAsync(t);await i.mutateAsync({kind:cq,content:`${gE}: snapshot uploaded`,tags:[["d",uq],["title",gE],["t","code-snapshot"],...u]}),alert("Snapshot published to Nostr")}catch(u){alert("Upload or publish failed: "+u.message)}};return m.jsxs("div",{className:"p-4",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Publish Snapshot to Nostr"}),m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a zip of your project locally and upload it here to publish a Nostr snapshot event."}),m.jsx("input",{type:"file",ref:e,onChange:s,accept:".zip"}),m.jsx("div",{className:"mt-4",children:m.jsx("button",{className:"btn",onClick:l,disabled:!t,children:"Upload & Publish"})})]})}function fq(){return fu({title:"DeadDropstr - Nostr-Native Smart Lockers",description:"A decentralized marketplace for autonomous physical lockers powered by Nostr and Lightning."}),m.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[m.jsxs("header",{className:"relative isolate overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(45%_40%_at_50%_60%,hsl(var(--primary)/0.12),transparent)]"}),m.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[m.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:["The ",m.jsx("span",{className:"text-primary",children:"Nostr-Native"})," Dead Drop Network"]}),m.jsx("p",{className:"max-w-2xl mx-auto text-lg text-muted-foreground mb-10",children:"Rent autonomous smart lockers for anonymous P2P exchanges. Pay with Lightning. No middlemen."}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m.jsx(gt,{asChild:!0,size:"lg",className:"text-base",children:m.jsxs(Rn,{to:"/marketplace",children:[m.jsx(jd,{className:"mr-2 h-5 w-5"}),"Explore Lockers"]})}),m.jsx(gt,{asChild:!0,size:"lg",variant:"outline",className:"text-base",children:m.jsxs(Rn,{to:"/dashboard",children:[m.jsx(l0,{className:"mr-2 h-5 w-5"}),"Owner Dashboard"]})})]})]})]}),m.jsxs("section",{className:"container mx-auto px-4 py-16",children:[m.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsxs(Mt,{className:"bg-card/60 backdrop-blur",children:[m.jsxs(mr,{children:[m.jsx(jd,{className:"h-10 w-10 text-primary mb-2"}),m.jsx(Rr,{children:"Find a Locker"})]}),m.jsx(Zt,{children:m.jsx(Ao,{children:"Browse the map to find available smart lockers near you. Filter by size, price, and trust score."})})]}),m.jsxs(Mt,{className:"bg-card/60 backdrop-blur",children:[m.jsxs(mr,{children:[m.jsx(c0,{className:"h-10 w-10 text-primary mb-2"}),m.jsx(Rr,{children:"Pay with Lightning"})]}),m.jsx(Zt,{children:m.jsx(Ao,{children:"Rent instantly using Nostr Wallet Connect (NIP-47) or WebLN. The locker unlocks once payment confirms."})})]}),m.jsxs(Mt,{className:"bg-card/60 backdrop-blur",children:[m.jsxs(mr,{children:[m.jsx(lN,{className:"h-10 w-10 text-primary mb-2"}),m.jsx(Rr,{children:"Negotiate Privately"})]}),m.jsx(Zt,{children:m.jsx(Ao,{children:"Chat with buyers or sellers via encrypted NIP-17 messages. Goods payment is direct P2P via zaps."})})]}),m.jsxs(Mt,{className:"bg-card/60 backdrop-blur",children:[m.jsxs(mr,{children:[m.jsx(l0,{className:"h-10 w-10 text-primary mb-2"}),m.jsx(Rr,{children:"Manage Your Box"})]}),m.jsx(Zt,{children:m.jsx(Ao,{children:"Owners configure fees, overdue penalties, proxy mode, and abandoned property rules from their dashboard."})})]})]})]}),m.jsx("section",{className:"container mx-auto px-4 py-16 text-center",children:m.jsxs(Mt,{className:"max-w-2xl mx-auto bg-primary/5 border-primary/20",children:[m.jsxs(mr,{children:[m.jsx(Rr,{className:"text-2xl",children:"Ready to Deploy a Locker?"}),m.jsx(Ao,{children:"Flash our ESP32 template onto your hardware, configure via the dashboard, and start earning sats."})]}),m.jsx(Zt,{children:m.jsx(gt,{asChild:!0,size:"lg",children:m.jsx(Rn,{to:"/dashboard",children:"Get Started"})})})]})}),m.jsx("footer",{className:"border-t py-8 text-center text-sm text-muted-foreground",children:m.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Vibed with Shakespeare"})})]})}var Am="Switch",[hq,iG]=Nn(Am),[pq,mq]=hq(Am),dR=C.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:l,disabled:u,value:d="on",onCheckedChange:p,form:y,...g}=e,[b,_]=C.useState(null),S=ft(t,T=>_(T)),v=C.useRef(!1),E=b?y||!!b.closest("form"):!0,[k,A]=ti({prop:i,defaultProp:s??!1,onChange:p,caller:Am});return m.jsxs(pq,{scope:n,checked:k,disabled:u,children:[m.jsx(Ge.button,{type:"button",role:"switch","aria-checked":k,"aria-required":l,"data-state":mR(k),"data-disabled":u?"":void 0,disabled:u,value:d,...g,ref:S,onClick:Ue(e.onClick,T=>{A(z=>!z),E&&(v.current=T.isPropagationStopped(),v.current||T.stopPropagation())})}),E&&m.jsx(pR,{control:b,bubbles:!v.current,name:r,value:d,checked:k,required:l,disabled:u,form:y,style:{transform:"translateX(-100%)"}})]})});dR.displayName=Am;var fR="SwitchThumb",hR=C.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=mq(fR,n);return m.jsx(Ge.span,{"data-state":mR(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});hR.displayName=fR;var gq="SwitchBubbleInput",pR=C.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const l=C.useRef(null),u=ft(l,s),d=Nm(n),p=um(t);return C.useEffect(()=>{const y=l.current;if(!y)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&_){const S=new Event("click",{bubbles:r});_.call(y,n),y.dispatchEvent(S)}},[d,n,r]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pR.displayName=gq;function mR(e){return e?"checked":"unchecked"}var gR=dR,yq=hR;const yR=C.forwardRef(({className:e,...t},n)=>m.jsx(gR,{className:We("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:m.jsx(yq,{className:We("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yR.displayName=gR.displayName;const wv="0123456789bcdefghjkmnpqrstuvwxyz";class Sn{static encode(t,n,r){if(typeof r>"u"){for(let b=1;b<=12;b++){const _=Sn.encode(t,n,b),S=Sn.decode(_);if(S.lat==t&&S.lon==n)return _}r=12}if(t=Number(t),n=Number(n),r=Number(r),isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Invalid geohash");let i=0,s=0,l=!0,u="",d=-90,p=90,y=-180,g=180;for(;u.length<r;){if(l){const b=(y+g)/2;n>=b?(i=i*2+1,y=b):(i=i*2,g=b)}else{const b=(d+p)/2;t>=b?(i=i*2+1,d=b):(i=i*2,p=b)}l=!l,++s==5&&(u+=wv.charAt(i),s=0,i=0)}return u}static decode(t){const n=Sn.bounds(t),r=n.sw.lat,i=n.sw.lon,s=n.ne.lat,l=n.ne.lon;let u=(r+s)/2,d=(i+l)/2;return u=u.toFixed(Math.floor(2-Math.log(s-r)/Math.LN10)),d=d.toFixed(Math.floor(2-Math.log(l-i)/Math.LN10)),{lat:Number(u),lon:Number(d)}}static bounds(t){if(t.length==0)throw new Error("Invalid geohash");t=t.toLowerCase();let n=!0,r=-90,i=90,s=-180,l=180;for(let d=0;d<t.length;d++){const p=t.charAt(d),y=wv.indexOf(p);if(y==-1)throw new Error("Invalid geohash");for(let g=4;g>=0;g--){const b=y>>g&1;if(n){const _=(s+l)/2;b==1?s=_:l=_}else{const _=(r+i)/2;b==1?r=_:i=_}n=!n}}return{sw:{lat:r,lon:s},ne:{lat:i,lon:l}}}static adjacent(t,n){if(t=t.toLowerCase(),n=n.toLowerCase(),t.length==0)throw new Error("Invalid geohash");if("nsew".indexOf(n)==-1)throw new Error("Invalid direction");const r={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]},i={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]},s=t.slice(-1);let l=t.slice(0,-1);const u=t.length%2;return i[n][u].indexOf(s)!=-1&&l!=""&&(l=Sn.adjacent(l,n)),l+wv.charAt(r[n][u].indexOf(s))}static neighbours(t){return{n:Sn.adjacent(t,"n"),ne:Sn.adjacent(Sn.adjacent(t,"n"),"e"),e:Sn.adjacent(t,"e"),se:Sn.adjacent(Sn.adjacent(t,"s"),"e"),s:Sn.adjacent(t,"s"),sw:Sn.adjacent(Sn.adjacent(t,"s"),"w"),w:Sn.adjacent(t,"w"),nw:Sn.adjacent(Sn.adjacent(t,"n"),"w")}}}function vq(){const{nostr:e}=jr();return Ro({queryKey:["my-lockers"],queryFn:async()=>(await e.query([{kinds:[30402],limit:100}])).map(n=>k_(n)).filter(Boolean),staleTime:3e4})}function Yi({className:e,...t}){return m.jsx("div",{className:We("animate-pulse rounded-md bg-muted",e),...t})}function wq(){fu({title:"Owner Dashboard - Dead Drop Network"});const{user:e}=pl(),{mutateAsync:t,isPending:n}=m_(),{toast:r}=tu(),{data:i,isLoading:s}=vq(),[l,u]=C.useState(""),[d,p]=C.useState(""),[y,g]=C.useState(""),[b,_]=C.useState(""),[S,v]=C.useState(""),[E,k]=C.useState("1000"),[A,T]=C.useState("10"),[z,D]=C.useState("7"),[$,Z]=C.useState(!1),[q,F]=C.useState("500"),[W,J]=C.useState("30"),[U,X]=C.useState("30x30x45"),j=async K=>{if(K.preventDefault(),!!e)try{const se=Sn.encode(parseFloat(b),parseFloat(S),7),ie=OW({title:l,description:d,location:y,geohash:se,baseFee:parseInt(E),overdueFee:parseInt(A),overdueDays:parseInt(z),proxyMode:$,proxyFee:parseInt(q),abandonDays:parseInt(W),dimensions:U});await t({kind:30402,content:d,tags:ie}),r({title:"Locker Published",description:"Your locker listing is now live."}),u(""),p("")}catch(se){r({title:"Error",description:se.message,variant:"destructive"})}};return e?m.jsx("div",{className:"min-h-screen bg-background",children:m.jsxs("div",{className:"container mx-auto p-4 space-y-8",children:[m.jsxs("header",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-2xl font-semibold",children:"Owner Dashboard"}),m.jsx(N0,{className:"max-w-60"})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-medium mb-4",children:"My Lockers"}),s?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(K=>m.jsxs(Mt,{children:[m.jsxs(mr,{children:[m.jsx(Yi,{className:"h-5 w-3/4"}),m.jsx(Yi,{className:"h-4 w-1/2"})]}),m.jsxs(Zt,{children:[m.jsx(Yi,{className:"h-4 w-full mb-2"}),m.jsx(Yi,{className:"h-4 w-2/3"})]})]},K))}):i&&i.length>0?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(K=>m.jsxs(Mt,{children:[m.jsxs(mr,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Rr,{className:"text-lg",children:K.title}),m.jsx(er,{variant:K.status==="available"?"default":"secondary",children:K.status})]}),m.jsx(Ao,{children:K.location||K.geohash})]}),m.jsxs(Zt,{children:[m.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:K.description}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsxs("span",{children:["Fee: ",K.price," sats"]}),K.proxyMode&&m.jsx(er,{variant:"outline",children:"Proxy"})]})]})]},K.id))}):m.jsx(Mt,{className:"border-dashed",children:m.jsx(Zt,{className:"py-8 text-center text-muted-foreground",children:"You haven't created any lockers yet."})})]}),m.jsxs(Mt,{children:[m.jsxs(mr,{children:[m.jsx(Rr,{children:"Create New Locker"}),m.jsx(Ao,{children:"Configure your smart locker and publish it to the network."})]}),m.jsx(Zt,{children:m.jsxs("form",{onSubmit:j,className:"space-y-6",children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(dr,{htmlFor:"title",children:"Title"}),m.jsx(kn,{id:"title",value:l,onChange:K=>u(K.target.value),placeholder:"Downtown Dead Drop Box #1",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(dr,{htmlFor:"dimensions",children:"Dimensions (cm)"}),m.jsx(kn,{id:"dimensions",value:U,onChange:K=>X(K.target.value),placeholder:"WxHxD e.g. 30x30x45"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(dr,{htmlFor:"description",children:"Description"}),m.jsx(bm,{id:"description",value:d,onChange:K=>p(K.target.value),placeholder:"Describe your locker, its features, and any special instructions...",rows:3})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(dr,{htmlFor:"location",children:"Location Address"}),m.jsx(kn,{id:"location",value:y,onChange:K=>g(K.target.value),placeholder:"123 Main St, City"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(dr,{htmlFor:"lat",children:"Latitude"}),m.jsx(kn,{id:"lat",type:"number",step:"any",value:b,onChange:K=>_(K.target.value),placeholder:"51.505",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(dr,{htmlFor:"lng",children:"Longitude"}),m.jsx(kn,{id:"lng",type:"number",step:"any",value:S,onChange:K=>v(K.target.value),placeholder:"-0.09",required:!0})]})]}),m.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[m.jsx("h3",{className:"font-medium",children:"Fee Structure"}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(dr,{htmlFor:"baseFee",children:"Base Fee (sats)"}),m.jsx(kn,{id:"baseFee",type:"number",value:E,onChange:K=>k(K.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(dr,{htmlFor:"overdueFee",children:"Overdue Fee (%)"}),m.jsx(kn,{id:"overdueFee",type:"number",value:A,onChange:K=>T(K.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(dr,{htmlFor:"overdueDays",children:"Overdue After (days)"}),m.jsx(kn,{id:"overdueDays",type:"number",value:z,onChange:K=>D(K.target.value)})]})]})]}),m.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium",children:"Proxy Mode"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"You manually receive and stock items for an extra fee."})]}),m.jsx(yR,{checked:$,onCheckedChange:Z})]}),$&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(dr,{htmlFor:"proxyFee",children:"Proxy Fee (sats)"}),m.jsx(kn,{id:"proxyFee",type:"number",value:q,onChange:K=>F(K.target.value)})]})]}),m.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[m.jsx("h3",{className:"font-medium",children:"Abandoned Property"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"After this period, unclaimed items become owner property or are auctioned."}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(dr,{htmlFor:"abandonDays",children:"Days Until Abandoned"}),m.jsx(kn,{id:"abandonDays",type:"number",value:W,onChange:K=>J(K.target.value)})]})]}),m.jsx(gt,{type:"submit",disabled:n,className:"w-full",children:n?"Publishing...":"Publish Locker"})]})})]}),m.jsx("footer",{className:"text-center text-sm text-muted-foreground pt-8",children:m.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",children:"Vibed with Shakespeare"})})]})}):m.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:m.jsxs(Mt,{className:"w-full max-w-md",children:[m.jsxs(mr,{children:[m.jsx(Rr,{children:"Owner Dashboard"}),m.jsx(Ao,{children:"Please log in to manage your lockers."})]}),m.jsx(Zt,{children:m.jsx(N0,{className:"w-full"})})]})})}const _q=C.createContext(null);function hf(){const e=C.useContext(_q);if(!e)throw new Error("useDMContext must be used within DMProvider");return e}function vR(e){const t=new Date(e*1e3),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),i=new Date(r);i.setDate(i.getDate()-1);const s=new Date(r);return s.setDate(s.getDate()-s.getDay()),t>=r?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):t>=i?"Yesterday":t>=s?t.toLocaleDateString(void 0,{weekday:"short"}):t.getFullYear()===n.getFullYear()?t.toLocaleDateString(void 0,{month:"short",day:"numeric"}):t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function wR(e){return new Date(e*1e3).toLocaleString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}function xq(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var R_="ScrollArea",[_R,oG]=Nn(R_),[bq,ii]=_R(R_),xR=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...l}=e,[u,d]=C.useState(null),[p,y]=C.useState(null),[g,b]=C.useState(null),[_,S]=C.useState(null),[v,E]=C.useState(null),[k,A]=C.useState(0),[T,z]=C.useState(0),[D,$]=C.useState(!1),[Z,q]=C.useState(!1),F=ft(t,J=>d(J)),W=vl(i);return m.jsx(bq,{scope:n,type:r,dir:W,scrollHideDelay:s,scrollArea:u,viewport:p,onViewportChange:y,content:g,onContentChange:b,scrollbarX:_,onScrollbarXChange:S,scrollbarXEnabled:D,onScrollbarXEnabledChange:$,scrollbarY:v,onScrollbarYChange:E,scrollbarYEnabled:Z,onScrollbarYEnabledChange:q,onCornerWidthChange:A,onCornerHeightChange:z,children:m.jsx(Ge.div,{dir:W,...l,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":T+"px",...e.style}})})});xR.displayName=R_;var bR="ScrollAreaViewport",ER=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=e,l=ii(bR,n),u=C.useRef(null),d=ft(t,u,l.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),m.jsx(Ge.div,{"data-radix-scroll-area-viewport":"",...s,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:m.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});ER.displayName=bR;var eo="ScrollAreaScrollbar",I_=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ii(eo,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:l}=i,u=e.orientation==="horizontal";return C.useEffect(()=>(u?s(!0):l(!0),()=>{u?s(!1):l(!1)}),[u,s,l]),i.type==="hover"?m.jsx(Eq,{...r,ref:t,forceMount:n}):i.type==="scroll"?m.jsx(Sq,{...r,ref:t,forceMount:n}):i.type==="auto"?m.jsx(SR,{...r,ref:t,forceMount:n}):i.type==="always"?m.jsx(j_,{...r,ref:t}):null});I_.displayName=eo;var Eq=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ii(eo,e.__scopeScrollArea),[s,l]=C.useState(!1);return C.useEffect(()=>{const u=i.scrollArea;let d=0;if(u){const p=()=>{window.clearTimeout(d),l(!0)},y=()=>{d=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",y),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",y)}}},[i.scrollArea,i.scrollHideDelay]),m.jsx(In,{present:n||s,children:m.jsx(SR,{"data-state":s?"visible":"hidden",...r,ref:t})})}),Sq=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ii(eo,e.__scopeScrollArea),s=e.orientation==="horizontal",l=Im(()=>d("SCROLL_END"),100),[u,d]=xq("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,i.scrollHideDelay,d]),C.useEffect(()=>{const p=i.viewport,y=s?"scrollLeft":"scrollTop";if(p){let g=p[y];const b=()=>{const _=p[y];g!==_&&(d("SCROLL"),l()),g=_};return p.addEventListener("scroll",b),()=>p.removeEventListener("scroll",b)}},[i.viewport,s,d,l]),m.jsx(In,{present:n||u!=="hidden",children:m.jsx(j_,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ue(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ue(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),SR=C.forwardRef((e,t)=>{const n=ii(eo,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,l]=C.useState(!1),u=e.orientation==="horizontal",d=Im(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?p:y)}},10);return Gc(n.viewport,d),Gc(n.content,d),m.jsx(In,{present:r||s,children:m.jsx(j_,{"data-state":s?"visible":"hidden",...i,ref:t})})}),j_=C.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ii(eo,e.__scopeScrollArea),s=C.useRef(null),l=C.useRef(0),[u,d]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=TR(u.viewport,u.content),y={...r,sizes:u,onSizesChange:d,hasThumb:p>0&&p<1,onThumbChange:b=>s.current=b,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:b=>l.current=b};function g(b,_){return Aq(b,l.current,u,_)}return n==="horizontal"?m.jsx(kq,{...y,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const b=i.viewport.scrollLeft,_=yE(b,u,i.dir);s.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:b=>{i.viewport&&(i.viewport.scrollLeft=b)},onDragScroll:b=>{i.viewport&&(i.viewport.scrollLeft=g(b,i.dir))}}):n==="vertical"?m.jsx(Cq,{...y,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const b=i.viewport.scrollTop,_=yE(b,u);s.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:b=>{i.viewport&&(i.viewport.scrollTop=b)},onDragScroll:b=>{i.viewport&&(i.viewport.scrollTop=g(b))}}):null}),kq=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ii(eo,e.__scopeScrollArea),[l,u]=C.useState(),d=C.useRef(null),p=ft(t,d,s.onScrollbarXChange);return C.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),m.jsx(CR,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Rm(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,g)=>{if(s.viewport){const b=s.viewport.scrollLeft+y.deltaX;e.onWheelScroll(b),RR(b,g)&&y.preventDefault()}},onResize:()=>{d.current&&s.viewport&&l&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:jp(l.paddingLeft),paddingEnd:jp(l.paddingRight)}})}})}),Cq=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ii(eo,e.__scopeScrollArea),[l,u]=C.useState(),d=C.useRef(null),p=ft(t,d,s.onScrollbarYChange);return C.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),m.jsx(CR,{"data-orientation":"vertical",...i,ref:p,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Rm(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,g)=>{if(s.viewport){const b=s.viewport.scrollTop+y.deltaY;e.onWheelScroll(b),RR(b,g)&&y.preventDefault()}},onResize:()=>{d.current&&s.viewport&&l&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:jp(l.paddingTop),paddingEnd:jp(l.paddingBottom)}})}})}),[Nq,kR]=_R(eo),CR=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:p,onWheelScroll:y,onResize:g,...b}=e,_=ii(eo,n),[S,v]=C.useState(null),E=ft(t,F=>v(F)),k=C.useRef(null),A=C.useRef(""),T=_.viewport,z=r.content-r.viewport,D=ln(y),$=ln(d),Z=Im(g,10);function q(F){if(k.current){const W=F.clientX-k.current.left,J=F.clientY-k.current.top;p({x:W,y:J})}}return C.useEffect(()=>{const F=W=>{const J=W.target;(S==null?void 0:S.contains(J))&&D(W,z)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[T,S,z,D]),C.useEffect($,[r,$]),Gc(S,Z),Gc(_.content,Z),m.jsx(Nq,{scope:n,scrollbar:S,hasThumb:i,onThumbChange:ln(s),onThumbPointerUp:ln(l),onThumbPositionChange:$,onThumbPointerDown:ln(u),children:m.jsx(Ge.div,{...b,ref:E,style:{position:"absolute",...b.style},onPointerDown:Ue(e.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),k.current=S.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_.viewport&&(_.viewport.style.scrollBehavior="auto"),q(F))}),onPointerMove:Ue(e.onPointerMove,q),onPointerUp:Ue(e.onPointerUp,F=>{const W=F.target;W.hasPointerCapture(F.pointerId)&&W.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=A.current,_.viewport&&(_.viewport.style.scrollBehavior=""),k.current=null})})})}),Ip="ScrollAreaThumb",NR=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=kR(Ip,e.__scopeScrollArea);return m.jsx(In,{present:n||i.hasThumb,children:m.jsx(Pq,{ref:t,...r})})}),Pq=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=ii(Ip,n),l=kR(Ip,n),{onThumbPositionChange:u}=l,d=ft(t,g=>l.onThumbChange(g)),p=C.useRef(void 0),y=Im(()=>{p.current&&(p.current(),p.current=void 0)},100);return C.useEffect(()=>{const g=s.viewport;if(g){const b=()=>{if(y(),!p.current){const _=Rq(g,u);p.current=_,u()}};return u(),g.addEventListener("scroll",b),()=>g.removeEventListener("scroll",b)}},[s.viewport,y,u]),m.jsx(Ge.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(e.onPointerDownCapture,g=>{const _=g.target.getBoundingClientRect(),S=g.clientX-_.left,v=g.clientY-_.top;l.onThumbPointerDown({x:S,y:v})}),onPointerUp:Ue(e.onPointerUp,l.onThumbPointerUp)})});NR.displayName=Ip;var L_="ScrollAreaCorner",PR=C.forwardRef((e,t)=>{const n=ii(L_,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?m.jsx(Tq,{...e,ref:t}):null});PR.displayName=L_;var Tq=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ii(L_,n),[s,l]=C.useState(0),[u,d]=C.useState(0),p=!!(s&&u);return Gc(i.scrollbarX,()=>{var g;const y=((g=i.scrollbarX)==null?void 0:g.offsetHeight)||0;i.onCornerHeightChange(y),d(y)}),Gc(i.scrollbarY,()=>{var g;const y=((g=i.scrollbarY)==null?void 0:g.offsetWidth)||0;i.onCornerWidthChange(y),l(y)}),p?m.jsx(Ge.div,{...r,ref:t,style:{width:s,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function jp(e){return e?parseInt(e,10):0}function TR(e,t){const n=e/t;return isNaN(n)?0:n}function Rm(e){const t=TR(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Aq(e,t,n,r="ltr"){const i=Rm(n),s=i/2,l=t||s,u=i-l,d=n.scrollbar.paddingStart+l,p=n.scrollbar.size-n.scrollbar.paddingEnd-u,y=n.content-n.viewport,g=r==="ltr"?[0,y]:[y*-1,0];return AR([d,p],g)(e)}function yE(e,t,n="ltr"){const r=Rm(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,l=t.content-t.viewport,u=s-r,d=n==="ltr"?[0,l]:[l*-1,0],p=Wd(e,d);return AR([0,l],[0,u])(p)}function AR(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function RR(e,t){return e>0&&e<t}var Rq=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},l=n.left!==s.left,u=n.top!==s.top;(l||u)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Im(e,t){const n=ln(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Gc(e,t){const n=ln(t);un(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var IR=xR,Iq=ER,jq=PR;const O_=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(IR,{ref:r,className:We("relative overflow-hidden",e),...n,children:[m.jsx(Iq,{className:"h-full w-full rounded-[inherit] [&>div]:!block [&>div]:!w-full",children:t}),m.jsx(jR,{}),m.jsx(jq,{})]}));O_.displayName=IR.displayName;const jR=C.forwardRef(({className:e,orientation:t="vertical",...n},r)=>m.jsx(I_,{ref:r,orientation:t,className:We("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:m.jsx(NR,{className:"relative flex-1 rounded-full bg-border"})}));jR.displayName=I_.displayName;const mc={NIP04:"nip04",NIP17:"nip17"},Jh={NIP04_ONLY:"nip04_only",NIP17_ONLY:"nip17_only",NIP04_OR_NIP17:"nip04_or_nip17"},pr={IDLE:"idle",CACHE:"cache",RELAYS:"relays",SUBSCRIPTIONS:"subscriptions",READY:"ready"},Lq=({pubkey:e,isSelected:t,onClick:n,lastMessage:r,lastActivity:i,hasNIP4Messages:s})=>{var _;const l=tm(e),u=(_=l.data)==null?void 0:_.metadata,d=(u==null?void 0:u.name)||Cm(e),p=u==null?void 0:u.picture,y=d.slice(0,2).toUpperCase(),g=r!=null&&r.error?" Encrypted message":(r==null?void 0:r.decryptedContent)||"No messages yet",b=l.isLoading&&!u;return m.jsx("button",{onClick:n,className:We("w-full text-left p-3 rounded-lg transition-colors hover:bg-accent block overflow-hidden",t&&"bg-accent"),children:m.jsxs("div",{className:"flex items-start gap-3 max-w-full",children:[b?m.jsx(Yi,{className:"h-10 w-10 rounded-full flex-shrink-0"}):m.jsxs($d,{className:"h-10 w-10 flex-shrink-0",children:[m.jsx(Hd,{src:p,alt:d}),m.jsx(Zd,{children:y})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[m.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[b?m.jsx(Yi,{className:"h-[1.25rem] w-24"}):m.jsx("span",{className:"font-medium text-sm truncate",children:d}),s&&m.jsx(rl,{children:m.jsxs(Za,{children:[m.jsx(Wa,{asChild:!0,children:m.jsx("div",{className:"flex-shrink-0",children:m.jsx(Mw,{className:"h-3.5 w-3.5 text-yellow-600 dark:text-yellow-500"})})}),m.jsx(Gs,{side:"left",children:m.jsx("p",{className:"text-xs max-w-[200px]",children:"Some messages use outdated NIP-04 encryption"})})]})})]}),m.jsx(rl,{children:m.jsxs(Za,{children:[m.jsx(Wa,{asChild:!0,children:m.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap flex-shrink-0 cursor-default",children:vR(i)})}),m.jsx(Gs,{side:"left",children:m.jsx("p",{className:"text-xs",children:wR(i)})})]})})]}),m.jsx("p",{className:"text-sm text-muted-foreground truncate",children:g})]})]})})},LR=C.memo(Lq);LR.displayName="ConversationItem";const Oq=()=>m.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4,5].map(e=>m.jsxs("div",{className:"flex items-start gap-3 p-3",children:[m.jsx(Yi,{className:"h-10 w-10 rounded-full flex-shrink-0"}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx(Yi,{className:"h-4 w-24"}),m.jsx(Yi,{className:"h-3 w-12"})]}),m.jsx(Yi,{className:"h-3 w-full"})]})]},e))}),Mq=({selectedPubkey:e,onSelectConversation:t,className:n,onStatusClick:r})=>{const{conversations:i,isLoading:s,loadingPhase:l}=hf(),[u,d]=C.useState("known"),{knownConversations:p,requestConversations:y}=C.useMemo(()=>({knownConversations:i.filter(_=>_.isKnown),requestConversations:i.filter(_=>_.isRequest)}),[i]),g=u==="known"?p:y,b=(l===pr.CACHE||l===pr.RELAYS)&&i.length===0;return m.jsxs(Mt,{className:We("h-full flex flex-col overflow-hidden",n),children:[m.jsxs("div",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h2",{className:"font-semibold text-lg",children:"Messages"}),(l===pr.CACHE||l===pr.RELAYS||l===pr.SUBSCRIPTIONS)&&m.jsx(rl,{children:m.jsxs(Za,{children:[m.jsx(Wa,{asChild:!0,children:m.jsx("div",{className:"flex items-center",children:m.jsx(Ar,{className:"h-4 w-4 animate-spin text-muted-foreground"})})}),m.jsx(Gs,{children:m.jsxs("p",{className:"text-xs",children:[l===pr.CACHE&&"Loading from cache...",l===pr.RELAYS&&"Querying relays for new messages...",l===pr.SUBSCRIPTIONS&&"Setting up subscriptions..."]})})]})})]}),r&&m.jsx(gt,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:r,"aria-label":"View messaging status",children:m.jsx(gF,{className:"h-4 w-4"})})]}),m.jsx("div",{className:"px-2 pt-2 flex-shrink-0",children:m.jsxs("div",{className:"grid grid-cols-2 gap-1 bg-muted p-1 rounded-lg",children:[m.jsxs("button",{onClick:()=>d("known"),className:We("text-xs py-2 px-3 rounded-md transition-colors",u==="known"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Active ",p.length>0&&`(${p.length})`]}),m.jsxs("button",{onClick:()=>d("requests"),className:We("text-xs py-2 px-3 rounded-md transition-colors",u==="requests"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Requests ",y.length>0&&`(${y.length})`]})]})}),m.jsx("div",{className:"flex-1 min-h-0 mt-2 overflow-hidden",children:s||b?m.jsx(Oq,{}):i.length===0?m.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground px-4",children:m.jsxs("div",{children:[m.jsx("p",{className:"text-sm",children:"No conversations yet"}),m.jsx("p",{className:"text-xs mt-1",children:"Start a new conversation to get started"})]})}):g.length===0?m.jsx("div",{className:"flex items-center justify-center h-32 text-center text-muted-foreground px-4",children:m.jsxs("p",{className:"text-sm",children:["No ",u," conversations"]})}):m.jsx(O_,{className:"h-full block",children:m.jsx("div",{className:"block w-full px-2 py-2 space-y-1",children:g.map(_=>m.jsx(LR,{pubkey:_.pubkey,isSelected:e===_.pubkey,onClick:()=>t(_.pubkey),lastMessage:_.lastMessage,lastActivity:_.lastActivity,hasNIP4Messages:_.hasNIP4Messages},_.pubkey))})})})]})},_v=25;function zq(e){const{messages:t}=hf(),[n,r]=C.useState(_v),i=C.useMemo(()=>{const l=t.get(e);if(!l)return{messages:[],hasMoreMessages:!1,totalCount:0,lastMessage:null,lastActivity:0};const u=l.messages.length,d=u>n;return{messages:l.messages.slice(-n),hasMoreMessages:d,totalCount:u,lastMessage:l.lastMessage,lastActivity:l.lastActivity}},[t,e,n]),s=C.useCallback(()=>{r(l=>l+_v)},[]);return C.useEffect(()=>{r(_v)},[e]),{...i,loadEarlierMessages:s}}var Dq=[" ","Enter","ArrowUp","ArrowDown"],Bq=[" ","Enter"],dl="Select",[jm,Lm,Fq]=nf(dl),[pu,sG]=Nn(dl,[Fq,au]),Om=au(),[Uq,ua]=pu(dl),[$q,Hq]=pu(dl),OR=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:l,defaultValue:u,onValueChange:d,dir:p,name:y,autoComplete:g,disabled:b,required:_,form:S}=e,v=Om(t),[E,k]=C.useState(null),[A,T]=C.useState(null),[z,D]=C.useState(!1),$=vl(p),[Z,q]=ti({prop:r,defaultProp:i??!1,onChange:s,caller:dl}),[F,W]=ti({prop:l,defaultProp:u,onChange:d,caller:dl}),J=C.useRef(null),U=E?S||!!E.closest("form"):!0,[X,j]=C.useState(new Set),K=Array.from(X).map(se=>se.props.value).join(";");return m.jsx(qw,{...v,children:m.jsxs(Uq,{required:_,scope:t,trigger:E,onTriggerChange:k,valueNode:A,onValueNodeChange:T,valueNodeHasChildren:z,onValueNodeHasChildrenChange:D,contentId:Xr(),value:F,onValueChange:W,open:Z,onOpenChange:q,dir:$,triggerPointerDownPosRef:J,disabled:b,children:[m.jsx(jm.Provider,{scope:t,children:m.jsx($q,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(se=>{j(ie=>new Set(ie).add(se))},[]),onNativeOptionRemove:C.useCallback(se=>{j(ie=>{const te=new Set(ie);return te.delete(se),te})},[]),children:n})}),U?m.jsxs(oI,{"aria-hidden":!0,required:_,tabIndex:-1,name:y,autoComplete:g,value:F,onChange:se=>W(se.target.value),disabled:b,form:S,children:[F===void 0?m.jsx("option",{value:""}):null,Array.from(X)]},K):null]})})};OR.displayName=dl;var MR="SelectTrigger",zR=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=Om(n),l=ua(MR,n),u=l.disabled||r,d=ft(t,l.onTriggerChange),p=Lm(n),y=C.useRef("touch"),[g,b,_]=aI(v=>{const E=p().filter(T=>!T.disabled),k=E.find(T=>T.value===l.value),A=lI(E,v,k);A!==void 0&&l.onValueChange(A.value)}),S=v=>{u||(l.onOpenChange(!0),_()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return m.jsx(Kw,{asChild:!0,...s,children:m.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":sI(l.value)?"":void 0,...i,ref:d,onClick:Ue(i.onClick,v=>{v.currentTarget.focus(),y.current!=="mouse"&&S(v)}),onPointerDown:Ue(i.onPointerDown,v=>{y.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:Ue(i.onKeyDown,v=>{const E=g.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&b(v.key),!(E&&v.key===" ")&&Dq.includes(v.key)&&(S(),v.preventDefault())})})})});zR.displayName=MR;var DR="SelectValue",BR=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:l="",...u}=e,d=ua(DR,n),{onValueNodeHasChildrenChange:p}=d,y=s!==void 0,g=ft(t,d.onValueNodeChange);return un(()=>{p(y)},[p,y]),m.jsx(Ge.span,{...u,ref:g,style:{pointerEvents:"none"},children:sI(d.value)?m.jsx(m.Fragment,{children:l}):s})});BR.displayName=DR;var Zq="SelectIcon",FR=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return m.jsx(Ge.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});FR.displayName=Zq;var Wq="SelectPortal",UR=e=>m.jsx(rf,{asChild:!0,...e});UR.displayName=Wq;var fl="SelectContent",$R=C.forwardRef((e,t)=>{const n=ua(fl,e.__scopeSelect),[r,i]=C.useState();if(un(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?nu.createPortal(m.jsx(HR,{scope:e.__scopeSelect,children:m.jsx(jm.Slot,{scope:e.__scopeSelect,children:m.jsx("div",{children:e.children})})}),s):null}return m.jsx(ZR,{...e,ref:t})});$R.displayName=fl;var yi=10,[HR,da]=pu(fl),Vq="SelectContentImpl",qq=ll("SelectContent.RemoveScroll"),ZR=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:u,sideOffset:d,align:p,alignOffset:y,arrowPadding:g,collisionBoundary:b,collisionPadding:_,sticky:S,hideWhenDetached:v,avoidCollisions:E,...k}=e,A=ua(fl,n),[T,z]=C.useState(null),[D,$]=C.useState(null),Z=ft(t,Pe=>z(Pe)),[q,F]=C.useState(null),[W,J]=C.useState(null),U=Lm(n),[X,j]=C.useState(!1),K=C.useRef(!1);C.useEffect(()=>{if(T)return i_(T)},[T]),r_();const se=C.useCallback(Pe=>{const[Te,...Oe]=U().map(ot=>ot.ref.current),[He]=Oe.slice(-1),Qe=document.activeElement;for(const ot of Pe)if(ot===Qe||(ot==null||ot.scrollIntoView({block:"nearest"}),ot===Te&&D&&(D.scrollTop=0),ot===He&&D&&(D.scrollTop=D.scrollHeight),ot==null||ot.focus(),document.activeElement!==Qe))return},[U,D]),ie=C.useCallback(()=>se([q,T]),[se,q,T]);C.useEffect(()=>{X&&ie()},[X,ie]);const{onOpenChange:te,triggerPointerDownPosRef:ee}=A;C.useEffect(()=>{if(T){let Pe={x:0,y:0};const Te=He=>{var Qe,ot;Pe={x:Math.abs(Math.round(He.pageX)-(((Qe=ee.current)==null?void 0:Qe.x)??0)),y:Math.abs(Math.round(He.pageY)-(((ot=ee.current)==null?void 0:ot.y)??0))}},Oe=He=>{Pe.x<=10&&Pe.y<=10?He.preventDefault():T.contains(He.target)||te(!1),document.removeEventListener("pointermove",Te),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[T,te,ee]),C.useEffect(()=>{const Pe=()=>te(!1);return window.addEventListener("blur",Pe),window.addEventListener("resize",Pe),()=>{window.removeEventListener("blur",Pe),window.removeEventListener("resize",Pe)}},[te]);const[le,H]=aI(Pe=>{const Te=U().filter(Qe=>!Qe.disabled),Oe=Te.find(Qe=>Qe.ref.current===document.activeElement),He=lI(Te,Pe,Oe);He&&setTimeout(()=>He.ref.current.focus())}),Q=C.useCallback((Pe,Te,Oe)=>{const He=!K.current&&!Oe;(A.value!==void 0&&A.value===Te||He)&&(F(Pe),He&&(K.current=!0))},[A.value]),ke=C.useCallback(()=>T==null?void 0:T.focus(),[T]),_e=C.useCallback((Pe,Te,Oe)=>{const He=!K.current&&!Oe;(A.value!==void 0&&A.value===Te||He)&&J(Pe)},[A.value]),ve=r==="popper"?R0:WR,Ie=ve===R0?{side:u,sideOffset:d,align:p,alignOffset:y,arrowPadding:g,collisionBoundary:b,collisionPadding:_,sticky:S,hideWhenDetached:v,avoidCollisions:E}:{};return m.jsx(HR,{scope:n,content:T,viewport:D,onViewportChange:$,itemRefCallback:Q,selectedItem:q,onItemLeave:ke,itemTextRefCallback:_e,focusSelectedItem:ie,selectedItemText:W,position:r,isPositioned:X,searchRef:le,children:m.jsx(ym,{as:qq,allowPinchZoom:!0,children:m.jsx(mm,{asChild:!0,trapped:A.open,onMountAutoFocus:Pe=>{Pe.preventDefault()},onUnmountAutoFocus:Ue(i,Pe=>{var Te;(Te=A.trigger)==null||Te.focus({preventScroll:!0}),Pe.preventDefault()}),children:m.jsx(ru,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:Pe=>Pe.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:m.jsx(ve,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:Pe=>Pe.preventDefault(),...k,...Ie,onPlaced:()=>j(!0),ref:Z,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ue(k.onKeyDown,Pe=>{const Te=Pe.ctrlKey||Pe.altKey||Pe.metaKey;if(Pe.key==="Tab"&&Pe.preventDefault(),!Te&&Pe.key.length===1&&H(Pe.key),["ArrowUp","ArrowDown","Home","End"].includes(Pe.key)){let He=U().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(Pe.key)&&(He=He.slice().reverse()),["ArrowUp","ArrowDown"].includes(Pe.key)){const Qe=Pe.target,ot=He.indexOf(Qe);He=He.slice(ot+1)}setTimeout(()=>se(He)),Pe.preventDefault()}})})})})})})});ZR.displayName=Vq;var Kq="SelectItemAlignedPosition",WR=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=ua(fl,n),l=da(fl,n),[u,d]=C.useState(null),[p,y]=C.useState(null),g=ft(t,Z=>y(Z)),b=Lm(n),_=C.useRef(!1),S=C.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:k,focusSelectedItem:A}=l,T=C.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&p&&v&&E&&k){const Z=s.trigger.getBoundingClientRect(),q=p.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),W=k.getBoundingClientRect();if(s.dir!=="rtl"){const Qe=W.left-q.left,ot=F.left-Qe,at=Z.left-ot,B=Z.width+at,Ne=Math.max(B,q.width),be=window.innerWidth-yi,oe=Wd(ot,[yi,Math.max(yi,be-Ne)]);u.style.minWidth=B+"px",u.style.left=oe+"px"}else{const Qe=q.right-W.right,ot=window.innerWidth-F.right-Qe,at=window.innerWidth-Z.right-ot,B=Z.width+at,Ne=Math.max(B,q.width),be=window.innerWidth-yi,oe=Wd(ot,[yi,Math.max(yi,be-Ne)]);u.style.minWidth=B+"px",u.style.right=oe+"px"}const J=b(),U=window.innerHeight-yi*2,X=v.scrollHeight,j=window.getComputedStyle(p),K=parseInt(j.borderTopWidth,10),se=parseInt(j.paddingTop,10),ie=parseInt(j.borderBottomWidth,10),te=parseInt(j.paddingBottom,10),ee=K+se+X+te+ie,le=Math.min(E.offsetHeight*5,ee),H=window.getComputedStyle(v),Q=parseInt(H.paddingTop,10),ke=parseInt(H.paddingBottom,10),_e=Z.top+Z.height/2-yi,ve=U-_e,Ie=E.offsetHeight/2,Pe=E.offsetTop+Ie,Te=K+se+Pe,Oe=ee-Te;if(Te<=_e){const Qe=J.length>0&&E===J[J.length-1].ref.current;u.style.bottom="0px";const ot=p.clientHeight-v.offsetTop-v.offsetHeight,at=Math.max(ve,Ie+(Qe?ke:0)+ot+ie),B=Te+at;u.style.height=B+"px"}else{const Qe=J.length>0&&E===J[0].ref.current;u.style.top="0px";const at=Math.max(_e,K+v.offsetTop+(Qe?Q:0)+Ie)+Oe;u.style.height=at+"px",v.scrollTop=Te-_e+v.offsetTop}u.style.margin=`${yi}px 0`,u.style.minHeight=le+"px",u.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[b,s.trigger,s.valueNode,u,p,v,E,k,s.dir,r]);un(()=>T(),[T]);const[z,D]=C.useState();un(()=>{p&&D(window.getComputedStyle(p).zIndex)},[p]);const $=C.useCallback(Z=>{Z&&S.current===!0&&(T(),A==null||A(),S.current=!1)},[T,A]);return m.jsx(Yq,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:$,children:m.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:m.jsx(Ge.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});WR.displayName=Kq;var Gq="SelectPopperPosition",R0=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=yi,...s}=e,l=Om(n);return m.jsx(Gw,{...l,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});R0.displayName=Gq;var[Yq,M_]=pu(fl,{}),I0="SelectViewport",VR=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=da(I0,n),l=M_(I0,n),u=ft(t,s.onViewportChange),d=C.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(jm.Slot,{scope:n,children:m.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ue(i.onScroll,p=>{const y=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:b}=l;if(b!=null&&b.current&&g){const _=Math.abs(d.current-y.scrollTop);if(_>0){const S=window.innerHeight-yi*2,v=parseFloat(g.style.minHeight),E=parseFloat(g.style.height),k=Math.max(v,E);if(k<S){const A=k+_,T=Math.min(S,A),z=A-T;g.style.height=T+"px",g.style.bottom==="0px"&&(y.scrollTop=z>0?z:0,g.style.justifyContent="flex-end")}}}d.current=y.scrollTop})})})]})});VR.displayName=I0;var qR="SelectGroup",[Jq,Qq]=pu(qR),Xq=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Xr();return m.jsx(Jq,{scope:n,id:i,children:m.jsx(Ge.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Xq.displayName=qR;var KR="SelectLabel",GR=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Qq(KR,n);return m.jsx(Ge.div,{id:i.id,...r,ref:t})});GR.displayName=KR;var Lp="SelectItem",[eK,YR]=pu(Lp),JR=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...l}=e,u=ua(Lp,n),d=da(Lp,n),p=u.value===r,[y,g]=C.useState(s??""),[b,_]=C.useState(!1),S=ft(t,A=>{var T;return(T=d.itemRefCallback)==null?void 0:T.call(d,A,r,i)}),v=Xr(),E=C.useRef("touch"),k=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(eK,{scope:n,value:r,disabled:i,textId:v,isSelected:p,onItemTextChange:C.useCallback(A=>{g(T=>T||((A==null?void 0:A.textContent)??"").trim())},[]),children:m.jsx(jm.ItemSlot,{scope:n,value:r,disabled:i,textValue:y,children:m.jsx(Ge.div,{role:"option","aria-labelledby":v,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:S,onFocus:Ue(l.onFocus,()=>_(!0)),onBlur:Ue(l.onBlur,()=>_(!1)),onClick:Ue(l.onClick,()=>{E.current!=="mouse"&&k()}),onPointerUp:Ue(l.onPointerUp,()=>{E.current==="mouse"&&k()}),onPointerDown:Ue(l.onPointerDown,A=>{E.current=A.pointerType}),onPointerMove:Ue(l.onPointerMove,A=>{var T;E.current=A.pointerType,i?(T=d.onItemLeave)==null||T.call(d):E.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(l.onPointerLeave,A=>{var T;A.currentTarget===document.activeElement&&((T=d.onItemLeave)==null||T.call(d))}),onKeyDown:Ue(l.onKeyDown,A=>{var z;((z=d.searchRef)==null?void 0:z.current)!==""&&A.key===" "||(Bq.includes(A.key)&&k(),A.key===" "&&A.preventDefault())})})})})});JR.displayName=Lp;var xd="SelectItemText",QR=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,l=ua(xd,n),u=da(xd,n),d=YR(xd,n),p=Hq(xd,n),[y,g]=C.useState(null),b=ft(t,k=>g(k),d.onItemTextChange,k=>{var A;return(A=u.itemTextRefCallback)==null?void 0:A.call(u,k,d.value,d.disabled)}),_=y==null?void 0:y.textContent,S=C.useMemo(()=>m.jsx("option",{value:d.value,disabled:d.disabled,children:_},d.value),[d.disabled,d.value,_]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=p;return un(()=>(v(S),()=>E(S)),[v,E,S]),m.jsxs(m.Fragment,{children:[m.jsx(Ge.span,{id:d.textId,...s,ref:b}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?nu.createPortal(s.children,l.valueNode):null]})});QR.displayName=xd;var XR="SelectItemIndicator",eI=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return YR(XR,n).isSelected?m.jsx(Ge.span,{"aria-hidden":!0,...r,ref:t}):null});eI.displayName=XR;var j0="SelectScrollUpButton",tI=C.forwardRef((e,t)=>{const n=da(j0,e.__scopeSelect),r=M_(j0,e.__scopeSelect),[i,s]=C.useState(!1),l=ft(t,r.onScrollButtonChange);return un(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=d.scrollTop>0;s(p)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?m.jsx(rI,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});tI.displayName=j0;var L0="SelectScrollDownButton",nI=C.forwardRef((e,t)=>{const n=da(L0,e.__scopeSelect),r=M_(L0,e.__scopeSelect),[i,s]=C.useState(!1),l=ft(t,r.onScrollButtonChange);return un(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=d.scrollHeight-d.clientHeight,y=Math.ceil(d.scrollTop)<p;s(y)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?m.jsx(rI,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});nI.displayName=L0;var rI=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=da("SelectScrollButton",n),l=C.useRef(null),u=Lm(n),d=C.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return C.useEffect(()=>()=>d(),[d]),un(()=>{var y;const p=u().find(g=>g.ref.current===document.activeElement);(y=p==null?void 0:p.ref.current)==null||y.scrollIntoView({block:"nearest"})},[u]),m.jsx(Ge.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ue(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ue(i.onPointerMove,()=>{var p;(p=s.onItemLeave)==null||p.call(s),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ue(i.onPointerLeave,()=>{d()})})}),tK="SelectSeparator",iI=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return m.jsx(Ge.div,{"aria-hidden":!0,...r,ref:t})});iI.displayName=tK;var O0="SelectArrow",nK=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Om(n),s=ua(O0,n),l=da(O0,n);return s.open&&l.position==="popper"?m.jsx(Yw,{...i,...r,ref:t}):null});nK.displayName=O0;var rK="SelectBubbleInput",oI=C.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=C.useRef(null),s=ft(r,i),l=Nm(t);return C.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&y){const g=new Event("change",{bubbles:!0});y.call(u,t),u.dispatchEvent(g)}},[l,t]),m.jsx(Ge.select,{...n,style:{...MC,...n.style},ref:s,defaultValue:t})});oI.displayName=rK;function sI(e){return e===""||e===void 0}function aI(e){const t=ln(e),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(l=>{const u=n.current+l;t(u),function d(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(u)},[t]),s=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function lI(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=iK(e,Math.max(s,0));i.length===1&&(l=l.filter(p=>p!==n));const d=l.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function iK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var oK=OR,cI=zR,sK=BR,aK=FR,lK=UR,uI=$R,cK=VR,dI=GR,fI=JR,uK=QR,dK=eI,hI=tI,pI=nI,mI=iI;const fK=oK,hK=sK,gI=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(cI,{ref:r,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,m.jsx(aK,{asChild:!0,children:m.jsx(om,{className:"h-4 w-4 opacity-50"})})]}));gI.displayName=cI.displayName;const yI=C.forwardRef(({className:e,...t},n)=>m.jsx(hI,{ref:n,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:m.jsx(oF,{className:"h-4 w-4"})}));yI.displayName=hI.displayName;const vI=C.forwardRef(({className:e,...t},n)=>m.jsx(pI,{ref:n,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:m.jsx(om,{className:"h-4 w-4"})}));vI.displayName=pI.displayName;const wI=C.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>m.jsx(lK,{children:m.jsxs(uI,{ref:i,className:We("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[m.jsx(yI,{}),m.jsx(cK,{className:We("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),m.jsx(vI,{})]})}));wI.displayName=uI.displayName;const pK=C.forwardRef(({className:e,...t},n)=>m.jsx(dI,{ref:n,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));pK.displayName=dI.displayName;const M0=C.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(fI,{ref:r,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(dK,{children:m.jsx(sN,{className:"h-4 w-4"})})}),m.jsx(uK,{children:t})]}));M0.displayName=fI.displayName;const mK=C.forwardRef(({className:e,...t},n)=>m.jsx(mI,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",e),...t}));mK.displayName=mI.displayName;function z0({event:e,className:t}){const n=C.useMemo(()=>{const r=e.content,i=/(https?:\/\/[^\s]+)|nostr:(npub1|note1|nprofile1|nevent1)([023456789acdefghjklmnpqrstuvwxyz]+)|(#\w+)/g,s=[];let l=0,u,d=0;for(;(u=i.exec(r))!==null;){const[p,y,g,b,_]=u,S=u.index;if(S>l&&s.push(r.substring(l,S)),y)s.push(m.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:y},`url-${d++}`));else if(g&&b)try{const v=`${g}${b}`,E=tr.decode(v);if(E.type==="npub"){const k=E.data;s.push(m.jsx(vE,{pubkey:k},`mention-${d++}`))}else if(E.type==="nprofile"){const k=E.data.pubkey;s.push(m.jsx(vE,{pubkey:k},`mention-${d++}`))}else s.push(m.jsx(Rn,{to:`/${v}`,className:"text-blue-500 hover:underline break-all",children:p},`nostr-${d++}`))}catch{s.push(p)}else if(_){const v=_.slice(1);s.push(m.jsx(Rn,{to:`/t/${v}`,className:"text-blue-500 hover:underline",children:_},`hashtag-${d++}`))}l=S+p.length}return l<r.length&&s.push(r.substring(l)),s.length===0&&s.push(r),s},[e]);return m.jsx("div",{className:We("whitespace-pre-wrap break-words",t),children:n.length>0?n:e.content})}function vE({pubkey:e}){var s,l,u,d;const t=tm(e),n=tr.npubEncode(e),r=!!((l=(s=t.data)==null?void 0:s.metadata)!=null&&l.name),i=((d=(u=t.data)==null?void 0:u.metadata)==null?void 0:d.name)??Cm(e);return m.jsxs(Rn,{to:`/${n}`,className:We("font-medium hover:underline",r?"text-blue-500":"text-gray-500 hover:text-gray-700"),children:["@",i]})}const _I=C.memo(({message:e,isFromCurrentUser:t})=>{var l;const n=((l=e.decryptedEvent)==null?void 0:l.kind)||e.kind,r=e.kind===4,i=n===15,s=e.decryptedEvent||{id:e.id,pubkey:e.pubkey,created_at:e.created_at,kind:e.kind,tags:e.tags,content:e.decryptedContent||"",sig:""};return m.jsx("div",{className:We("flex mb-4",t?"justify-end":"justify-start"),children:m.jsxs("div",{className:We("max-w-[70%] rounded-lg px-4 py-2",t?"bg-primary text-primary-foreground":"bg-muted"),children:[e.error?m.jsxs(Za,{delayDuration:200,children:[m.jsx(Wa,{asChild:!0,children:m.jsx("p",{className:"text-sm italic opacity-70 cursor-help",children:" Failed to decrypt"})}),m.jsx(Gs,{children:m.jsx("p",{className:"text-xs",children:e.error})})]}):i?m.jsx("div",{className:"text-sm",children:m.jsx(z0,{event:s,className:"whitespace-pre-wrap break-words"})}):m.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.decryptedContent}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx(rl,{children:m.jsxs(Za,{delayDuration:200,children:[m.jsx(Wa,{asChild:!0,children:m.jsx("span",{className:We("text-xs opacity-70 cursor-default",t?"text-primary-foreground":"text-muted-foreground"),children:vR(e.created_at)})}),m.jsx(Gs,{children:m.jsx("p",{className:"text-xs",children:wR(e.created_at)})})]})}),m.jsx(rl,{children:m.jsxs(Za,{delayDuration:200,children:[m.jsx(Wa,{asChild:!0,children:m.jsx("span",{className:We("flex-shrink-0 opacity-50",t?"text-primary-foreground":"text-muted-foreground"),children:e.kind===4?m.jsx(yF,{className:"h-3 w-3"}):m.jsx(bF,{className:"h-3 w-3"})})}),m.jsx(Gs,{children:m.jsxs("p",{className:"text-xs",children:[e.kind===4&&"NIP-04 Kind 4 (Legacy DM)",e.kind===14&&"NIP-17 Kind 14 (Private Message)",e.kind===15&&"NIP-17 Kind 15 (Media)",e.kind!==4&&e.kind!==14&&e.kind!==15&&`Kind ${e.kind}`]})})]})}),r&&m.jsx(rl,{children:m.jsxs(Za,{children:[m.jsx(Wa,{asChild:!0,children:m.jsx("div",{className:"flex-shrink-0",children:m.jsx(Mw,{className:"h-3 w-3 text-yellow-600 dark:text-yellow-500"})})}),m.jsx(Gs,{children:m.jsx("p",{className:"text-xs",children:"Uses outdated NIP-04 encryption"})})]})}),e.isSending&&m.jsx(Ar,{className:"h-3 w-3 animate-spin opacity-70"})]})]})})});_I.displayName="MessageBubble";const gK=({pubkey:e,onBack:t})=>{var u;const r=(u=tm(e).data)==null?void 0:u.metadata,i=(r==null?void 0:r.name)||Cm(e),s=r==null?void 0:r.picture,l=i.slice(0,2).toUpperCase();return m.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[t&&m.jsx(gt,{variant:"ghost",size:"icon",onClick:t,className:"md:hidden",children:m.jsx(oN,{className:"h-5 w-5"})}),m.jsxs($d,{className:"h-10 w-10",children:[m.jsx(Hd,{src:s,alt:i}),m.jsx(Zd,{children:l})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h2",{className:"font-semibold truncate",children:i}),(r==null?void 0:r.nip05)&&m.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r.nip05})]})]})},yK=({isLoading:e})=>m.jsx("div",{className:"h-full flex items-center justify-center p-8",children:m.jsx("div",{className:"text-center text-muted-foreground max-w-sm",children:e?m.jsxs(m.Fragment,{children:[m.jsx(Ar,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),m.jsx("p",{className:"text-sm",children:"Loading conversations..."}),m.jsx("p",{className:"text-xs mt-2",children:"Fetching encrypted messages from relays"})]}):m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-sm",children:"Select a conversation to start messaging"}),m.jsx("p",{className:"text-xs mt-2",children:"Your messages are encrypted and stored locally"})]})})}),vK=({pubkey:e,onBack:t,className:n})=>{const{user:r}=pl(),{sendMessage:i,protocolMode:s,isLoading:l}=hf(),{messages:u,hasMoreMessages:d,loadEarlierMessages:p}=zq(e||""),[y,g]=C.useState(""),[b,_]=C.useState(!1),[S,v]=C.useState(!1),E=()=>s===Jh.NIP04_ONLY?mc.NIP04:(s===Jh.NIP17_ONLY||s===Jh.NIP04_OR_NIP17,mc.NIP17),[k,A]=C.useState(E()),T=C.useRef(null),z=s===Jh.NIP04_OR_NIP17;C.useEffect(()=>{if(T.current){const q=T.current.querySelector("[data-radix-scroll-area-viewport]");q&&(q.scrollTop=q.scrollHeight)}},[u.length]);const D=C.useCallback(async()=>{if(!(!y.trim()||!e||!r)){_(!0);try{await i({recipientPubkey:e,content:y.trim(),protocol:k}),g("")}catch(q){console.error("Failed to send message:",q)}finally{_(!1)}}},[y,e,r,i,k]),$=C.useCallback(q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),D())},[D]),Z=C.useCallback(async()=>{if(!T.current||S)return;const q=T.current.querySelector("[data-radix-scroll-area-viewport]");if(!q)return;const F=q.scrollHeight,W=q.scrollTop;v(!0),p(),setTimeout(()=>{if(q){const U=q.scrollHeight-F;q.scrollTop=W+U}v(!1)},0)},[p,S]);return e?r?m.jsxs(Mt,{className:We("h-full flex flex-col",n),children:[m.jsx(gK,{pubkey:e,onBack:t}),m.jsx(O_,{ref:T,className:"flex-1 p-4",children:u.length===0?m.jsx("div",{className:"h-full flex items-center justify-center",children:m.jsxs("div",{className:"text-center text-muted-foreground",children:[m.jsx("p",{className:"text-sm",children:"No messages yet"}),m.jsx("p",{className:"text-xs mt-1",children:"Send a message to start the conversation"})]})}):m.jsxs("div",{children:[d&&m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx(gt,{variant:"outline",size:"sm",onClick:Z,disabled:S,className:"text-xs",children:S?m.jsxs(m.Fragment,{children:[m.jsx(Ar,{className:"h-3 w-3 animate-spin mr-2"}),"Loading..."]}):"Load Earlier Messages"})}),u.map(q=>m.jsx(_I,{message:q,isFromCurrentUser:q.pubkey===r.pubkey},q.id))]})}),m.jsx("div",{className:"p-4 border-t",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx(bm,{value:y,onChange:q=>g(q.target.value),onKeyDown:$,placeholder:"Type a message... (Enter to send, Shift+Enter for new line)",className:"min-h-[80px] resize-none",disabled:b}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(gt,{onClick:D,disabled:!y.trim()||b,size:"icon",className:"h-[44px] w-[90px]",children:b?m.jsx(Ar,{className:"h-5 w-5 animate-spin"}):m.jsx(xF,{className:"h-5 w-5"})}),m.jsxs(fK,{value:k,onValueChange:q=>A(q),disabled:!z,children:[m.jsx(gI,{className:"h-[32px] w-[90px] text-xs px-2",children:m.jsx(hK,{})}),m.jsxs(wI,{children:[m.jsx(M0,{value:mc.NIP17,className:"text-xs",children:"NIP-17"}),m.jsx(M0,{value:mc.NIP04,className:"text-xs",children:"NIP-04"})]})]})]})]})})]}):m.jsx(Mt,{className:We("h-full flex items-center justify-center",n),children:m.jsx("div",{className:"text-center text-muted-foreground",children:m.jsx("p",{className:"text-sm",children:"Please log in to view messages"})})}):m.jsx(Mt,{className:We("h-full",n),children:m.jsx(yK,{isLoading:l})})};var wK="Separator",wE="horizontal",_K=["horizontal","vertical"],xI=C.forwardRef((e,t)=>{const{decorative:n,orientation:r=wE,...i}=e,s=xK(r)?r:wE,u=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return m.jsx(Ge.div,{"data-orientation":s,...u,...i,ref:t})});xI.displayName=wK;function xK(e){return _K.includes(e)}var bI=xI;const EI=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>m.jsx(bI,{ref:i,decorative:n,orientation:t,className:We("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));EI.displayName=bI.displayName;const bK=({clearCacheAndRefetch:e})=>{const[t,n]=C.useState(!1),{toast:r}=tu(),{loadingPhase:i,subscriptions:s,scanProgress:l,isDoingInitialLoad:u,lastSync:d,conversations:p}=hf(),y=async()=>{if(e){n(!0);try{await e(),r({title:"Cache cleared",description:"Refetching messages from relays..."}),n(!1)}catch(v){console.error("Error clearing cache:",v),r({title:"Error",description:"Failed to clear cache. Please try again.",variant:"destructive"}),n(!1)}}},b=(()=>{switch(i){case pr.IDLE:return{label:"Idle",description:"Not yet initialized",icon:Ar,color:"text-muted-foreground"};case pr.CACHE:return{label:"Loading from cache",description:"Reading cached messages...",icon:cF,color:"text-blue-500"};case pr.RELAYS:return{label:"Loading from relays",description:"Fetching messages from Nostr relays...",icon:PF,color:"text-yellow-500"};case pr.SUBSCRIPTIONS:return{label:"Connecting subscriptions",description:"Setting up real-time message sync...",icon:Bb,color:"text-orange-500"};case pr.READY:return{label:"Ready",description:"All systems operational",icon:vd,color:"text-green-500"};default:return{label:"Unknown",description:"Status unknown",icon:Ar,color:"text-muted-foreground"}}})(),_=b.icon,S=v=>{if(!v)return"Never";const E=new Date(v*1e3),A=new Date().getTime()-E.getTime(),T=Math.floor(A/6e4);return T<1?"Just now":T<60?`${T}m ago`:T<1440?`${Math.floor(T/60)}h ago`:E.toLocaleDateString()};return m.jsxs("div",{className:"space-y-4",children:[m.jsx(Mt,{children:m.jsx(Zt,{className:"pt-6",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(_,{className:`h-5 w-5 ${b.color} ${i!==pr.READY?"animate-pulse":""}`}),m.jsxs("div",{className:"flex-1 space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"font-medium",children:b.label}),u&&m.jsx(er,{variant:"secondary",className:"text-xs",children:"Initial Load"})]}),m.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]})]})})}),(l.nip4!==null||l.nip17!==null)&&m.jsx(Mt,{children:m.jsx(Zt,{className:"pt-6",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:"text-sm font-medium",children:"Scanning Messages"}),l.nip4!==null&&m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs",children:[m.jsx("span",{className:"text-muted-foreground",children:"NIP-4 (Legacy)"}),m.jsxs("span",{className:"text-muted-foreground",children:[l.nip4.current," events"]})]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip4.status})]}),l.nip17!==null&&m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs",children:[m.jsx("span",{className:"text-muted-foreground",children:"NIP-17 (Private)"}),m.jsxs("span",{className:"text-muted-foreground",children:[l.nip17.current," events"]})]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip17.status})]})]})})}),m.jsx(Mt,{children:m.jsx(Zt,{className:"pt-6",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:"text-sm font-medium",children:"Real-time Subscriptions"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-4 (Legacy DMs)"}),m.jsx(er,{variant:s.isNIP4Connected?"default":"secondary",children:s.isNIP4Connected?"Connected":"Disconnected"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-17 (Private DMs)"}),m.jsx(er,{variant:s.isNIP17Connected?"default":"secondary",children:s.isNIP17Connected?"Connected":"Disconnected"})]})]})]})})}),m.jsx(Mt,{children:m.jsx(Zt,{className:"pt-6",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:"text-sm font-medium",children:"Cache Information"}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),m.jsx("span",{className:"font-medium",children:p.length})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Last NIP-4 sync"}),m.jsx("span",{className:"font-medium",children:S(d.nip4)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Last NIP-17 sync"}),m.jsx("span",{className:"font-medium",children:S(d.nip17)})]})]})]})})}),e&&m.jsxs(m.Fragment,{children:[m.jsx(EI,{}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-sm font-medium",children:"Cache Management"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Clear all cached messages and refetch from relays. This will force a fresh sync."})]}),m.jsx(gt,{onClick:y,disabled:t,variant:"outline",className:"w-full",children:t?m.jsxs(m.Fragment,{children:[m.jsx(Ar,{className:"mr-2 h-4 w-4 animate-spin"}),"Clearing..."]}):m.jsxs(m.Fragment,{children:[m.jsx(Bb,{className:"mr-2 h-4 w-4"}),"Clear Cache & Refetch"]})})]})]})]})},Qh=768;function EK(){const[e,t]=C.useState(window.innerWidth<Qh);return C.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Qh-1}px)`),r=()=>{t(window.innerWidth<Qh)};return n.addEventListener("change",r),t(window.innerWidth<Qh),()=>n.removeEventListener("change",r)},[]),!!e}const SK=({className:e})=>{const[t,n]=C.useState(null),[r,i]=C.useState(!1),s=EK(),{clearCacheAndRefetch:l}=hf(),u=!s||!t,d=!s||t,p=C.useCallback(g=>{n(g)},[]),y=C.useCallback(()=>{n(null)},[]);return m.jsxs(m.Fragment,{children:[m.jsx(cu,{open:r,onOpenChange:i,children:m.jsxs(yl,{className:"max-w-md",children:[m.jsxs(uu,{children:[m.jsx(cf,{children:"Messaging Status"}),m.jsx(wm,{children:"View loading status, cache info, and connection details"})]}),m.jsx(bK,{clearCacheAndRefetch:l})]})}),m.jsxs("div",{className:We("flex gap-4 overflow-hidden",e),children:[m.jsx("div",{className:We("md:w-80 md:flex-shrink-0",s&&!u&&"hidden",s&&u&&"w-full"),children:m.jsx(Mq,{selectedPubkey:t,onSelectConversation:p,className:"h-full",onStatusClick:()=>i(!0)})}),m.jsx("div",{className:We("flex-1 md:min-w-0",s&&!d&&"hidden",s&&d&&"w-full"),children:m.jsx(vK,{pubkey:t,onBack:s?y:void 0,className:"h-full"})})]})]})},kK=()=>(fu({title:"Messages",description:"Private encrypted messaging on Nostr"}),m.jsx("div",{className:"min-h-screen bg-background",children:m.jsxs("div",{className:"container mx-auto p-4 h-screen flex flex-col",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsx("h1",{className:"text-2xl font-semibold",children:"Messages"})}),m.jsx(SK,{className:"flex-1"})]})}));function CK(){const{nip19:e}=n_();fu({title:"NIP-19"});const{nostr:t}=jr();if(!e)return m.jsx("div",{className:"container mx-auto p-6",children:"Invalid identifier"});let n;try{n=tr.decode(e)}catch{return m.jsx("div",{className:"container mx-auto p-6",children:"Invalid NIP-19 identifier"})}const{type:r,data:i}=n,s=Ro({queryKey:["nip19",e,"profile"],enabled:r==="npub"||r==="nprofile",queryFn:async()=>{const p=(i==null?void 0:i.pubkey)??i;if(!p)return null;const y=await t.query([{kinds:[0],authors:[p],limit:1}]),g=y==null?void 0:y[0];if(!g)return{pubkey:p};try{const b=JSON.parse(g.content||"{}");return{pubkey:p,metadata:b}}catch{return{pubkey:p}}}}),l=Ro({queryKey:["nip19",e,"note"],enabled:r==="note",queryFn:async()=>{const p=i;if(!p)return null;const y=await t.query([{ids:[p],kinds:[1],limit:1}]);return(y==null?void 0:y[0])??null}}),u=Ro({queryKey:["nip19",e,"event"],enabled:r==="nevent",queryFn:async()=>{const p=(i==null?void 0:i.id)??i;if(!p)return null;const y=await t.query([{ids:[p],limit:1}]);return(y==null?void 0:y[0])??null}}),d=Ro({queryKey:["nip19",e,"naddr"],enabled:r==="naddr",queryFn:async()=>{const p=i;if(!p)return null;const y=p.kind,g=p.pubkey,b=p.identifier,_=await t.query([{kinds:[y],authors:[g],"#d":[b],limit:1}]);return(_==null?void 0:_[0])??null}});if(r==="npub"||r==="nprofile"){const p=s.data;return s.isFetched?m.jsx("div",{className:"container mx-auto p-6",children:m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),m.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["pubkey: ",m.jsx("code",{children:p==null?void 0:p.pubkey})]}),p!=null&&p.metadata?m.jsxs("div",{className:"space-y-2",children:[m.jsx("img",{src:p.metadata.picture,alt:"avatar",className:"w-28 h-28 rounded-full"}),m.jsx("h2",{className:"text-xl font-semibold",children:p.metadata.display_name??p.metadata.name}),m.jsx("p",{className:"text-sm text-muted-foreground",children:p.metadata.about}),p.metadata.website&&m.jsx("p",{children:m.jsx("a",{href:p.metadata.website,target:"_blank",rel:"noreferrer",className:"text-primary",children:"Website"})})]}):m.jsx("p",{children:"No metadata available."})]})}):m.jsx("div",{className:"container mx-auto p-6",children:"Loading profile"})}if(r==="note"){const p=l.data;return l.isLoading?m.jsx("div",{className:"container mx-auto p-6",children:"Loading note"}):p?m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Text Note"}),m.jsx("div",{className:"prose max-w-none whitespace-pre-wrap",children:m.jsx(z0,{event:p})}),m.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",m.jsx(Rn,{to:`/${tr.encode({type:"npub",data:p.pubkey})}`,children:p.pubkey})]})]}):m.jsx("div",{className:"container mx-auto p-6",children:"Note not found"})}if(r==="nevent"){const p=u.data;return u.isLoading?m.jsx("div",{className:"container mx-auto p-6",children:"Loading event"}):p?m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsxs("h1",{className:"text-xl font-semibold",children:["Event (kind: ",p.kind,")"]}),m.jsx("div",{className:"mt-4 prose max-w-none whitespace-pre-wrap",children:p.kind===1?m.jsx(z0,{event:p}):m.jsx("pre",{children:p.content})}),m.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",m.jsx("code",{children:p.pubkey})]})]}):m.jsx("div",{className:"container mx-auto p-6",children:"Event not found"})}if(r==="naddr"){const p=d.data;if(d.isLoading)return m.jsx("div",{className:"container mx-auto p-6",children:"Loading addressable event"});if(!p)return m.jsx("div",{className:"container mx-auto p-6",children:"Addressable event not found"});if(p.kind===30402){const y=k_(p);return y?m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsx("h1",{className:"text-2xl font-semibold",children:y.title}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",m.jsx("code",{children:y.pubkey})]}),m.jsx("p",{className:"mt-2",children:y.description}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("p",{children:["Dimensions: ",y.dimensions]}),m.jsxs("p",{children:["Fee: ",y.price," ",y.currency]}),m.jsxs("p",{children:["Status: ",y.status]}),m.jsx(Rn,{to:`/locker/${e}`,className:"text-primary",children:"Open Locker Page"})]})]}):m.jsx("div",{className:"container mx-auto p-6",children:"Invalid locker event"})}return m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsx("h1",{className:"text-xl font-semibold",children:"Addressable Event"}),m.jsx("pre",{className:"mt-4 whitespace-pre-wrap",children:p.content}),m.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Author: ",m.jsx("code",{children:p.pubkey})]})]})}return m.jsx("div",{className:"container mx-auto p-6",children:"Unsupported identifier type"})}const NK=()=>{const e=gl();return fu({title:"404 - Page Not Found",description:"The page you are looking for could not be found. Return to the home page to continue browsing."}),C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"404"}),m.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})};function PK(){return m.jsxs(x9,{basename:"/nostr-dead-drop-lockers",children:[m.jsx(k9,{}),m.jsx(RW,{}),m.jsxs(p9,{children:[m.jsx(Ui,{path:"/",element:m.jsx(fq,{})}),m.jsx(Ui,{path:"/marketplace",element:m.jsx(KV,{})}),m.jsx(Ui,{path:"/product/:dTag",element:m.jsx(aq,{})}),m.jsx(Ui,{path:"/snapshot",element:m.jsx(dq,{})}),m.jsx(Ui,{path:"/dashboard",element:m.jsx(wq,{})}),m.jsx(Ui,{path:"/messages",element:m.jsx(kK,{})}),m.jsx(Ui,{path:"/locker/:nip19",element:m.jsx(wV,{})}),m.jsx(Ui,{path:"/:nip19",element:m.jsx(CK,{})}),m.jsx(Ui,{path:"*",element:m.jsx(NK,{})})]})]})}const TK=JE({plugins:[Nj()]}),AK=new z3({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4,gcTime:1/0}}}),RK={theme:"light",relayMetadata:{relays:[{url:"wss://relay.ditto.pub",read:!0,write:!0},{url:"wss://relay.nostr.band",read:!0,write:!0},{url:"wss://relay.damus.io",read:!0,write:!0}],updatedAt:0}};function IK(){return m.jsx(bj,{head:TK,children:m.jsx(B$,{storageKey:"nostr:app-config",defaultConfig:RK,children:m.jsx($3,{client:AK,children:m.jsx(nB,{storageKey:"nostr:login",children:m.jsxs(rB,{children:[m.jsx(iB,{}),m.jsx(x7,{children:m.jsxs(rl,{children:[m.jsx(uU,{}),m.jsx(C.Suspense,{children:m.jsx(PK,{})})]})})]})})})})})}m3.createRoot(document.getElementById("root")).render(m.jsx(x3,{children:m.jsx(IK,{})}));
