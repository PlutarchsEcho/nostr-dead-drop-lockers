var MI=Object.defineProperty;var ub=e=>{throw TypeError(e)};var zI=(e,t,n)=>t in e?MI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var He=(e,t,n)=>zI(e,typeof t!="symbol"?t+"":t,n),ny=(e,t,n)=>t.has(e)||ub("Cannot "+n);var ue=(e,t,n)=>(ny(e,t,"read from private field"),n?n.call(e):t.get(e)),it=(e,t,n)=>t.has(e)?ub("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ke=(e,t,n,r)=>(ny(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),yt=(e,t,n)=>(ny(e,t,"access private method"),n);var kh=(e,t,n,r)=>({set _(i){Ke(e,t,i,n)},get _(){return ue(e,t,r)}});function DI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ip(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ry={exports:{}},ed={},iy={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function BI(){if(db)return xt;db=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function b(Z){return Z===null||typeof Z!="object"?null:(Z=m&&Z[m]||Z["@@iterator"],typeof Z=="function"?Z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,v={};function E(Z,Q,ke){this.props=Z,this.context=Q,this.refs=v,this.updater=ke||w}E.prototype.isReactComponent={},E.prototype.setState=function(Z,Q){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,Q,"setState")},E.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function k(){}k.prototype=E.prototype;function N(Z,Q,ke){this.props=Z,this.context=Q,this.refs=v,this.updater=ke||w}var A=N.prototype=new k;A.constructor=N,S(A,E.prototype),A.isPureReactComponent=!0;var z=Array.isArray,D=Object.prototype.hasOwnProperty,$={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function V(Z,Q,ke){var _e,ve={},Ie=null,Te=null;if(Q!=null)for(_e in Q.ref!==void 0&&(Te=Q.ref),Q.key!==void 0&&(Ie=""+Q.key),Q)D.call(Q,_e)&&!H.hasOwnProperty(_e)&&(ve[_e]=Q[_e]);var Ne=arguments.length-2;if(Ne===1)ve.children=ke;else if(1<Ne){for(var je=Array(Ne),Ze=0;Ze<Ne;Ze++)je[Ze]=arguments[Ze+2];ve.children=je}if(Z&&Z.defaultProps)for(_e in Ne=Z.defaultProps,Ne)ve[_e]===void 0&&(ve[_e]=Ne[_e]);return{$$typeof:e,type:Z,key:Ie,ref:Te,props:ve,_owner:$.current}}function F(Z,Q){return{$$typeof:e,type:Z.type,key:Q,ref:Z.ref,props:Z.props,_owner:Z._owner}}function W(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===e}function J(Z){var Q={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(ke){return Q[ke]})}var U=/\/+/g;function X(Z,Q){return typeof Z=="object"&&Z!==null&&Z.key!=null?J(""+Z.key):Q.toString(36)}function O(Z,Q,ke,_e,ve){var Ie=typeof Z;(Ie==="undefined"||Ie==="boolean")&&(Z=null);var Te=!1;if(Z===null)Te=!0;else switch(Ie){case"string":case"number":Te=!0;break;case"object":switch(Z.$$typeof){case e:case t:Te=!0}}if(Te)return Te=Z,ve=ve(Te),Z=_e===""?"."+X(Te,0):_e,z(ve)?(ke="",Z!=null&&(ke=Z.replace(U,"$&/")+"/"),O(ve,Q,ke,"",function(Ze){return Ze})):ve!=null&&(W(ve)&&(ve=F(ve,ke+(!ve.key||Te&&Te.key===ve.key?"":(""+ve.key).replace(U,"$&/")+"/")+Z)),Q.push(ve)),1;if(Te=0,_e=_e===""?".":_e+":",z(Z))for(var Ne=0;Ne<Z.length;Ne++){Ie=Z[Ne];var je=_e+X(Ie,Ne);Te+=O(Ie,Q,ke,je,ve)}else if(je=b(Z),typeof je=="function")for(Z=je.call(Z),Ne=0;!(Ie=Z.next()).done;)Ie=Ie.value,je=_e+X(Ie,Ne++),Te+=O(Ie,Q,ke,je,ve);else if(Ie==="object")throw Q=String(Z),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Te}function K(Z,Q,ke){if(Z==null)return Z;var _e=[],ve=0;return O(Z,_e,"","",function(Ie){return Q.call(ke,Ie,ve++)}),_e}function se(Z){if(Z._status===-1){var Q=Z._result;Q=Q(),Q.then(function(ke){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=ke)},function(ke){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=ke)}),Z._status===-1&&(Z._status=0,Z._result=Q)}if(Z._status===1)return Z._result.default;throw Z._result}var ie={current:null},te={transition:null},ee={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:te,ReactCurrentOwner:$};function le(){throw Error("act(...) is not supported in production builds of React.")}return xt.Children={map:K,forEach:function(Z,Q,ke){K(Z,function(){Q.apply(this,arguments)},ke)},count:function(Z){var Q=0;return K(Z,function(){Q++}),Q},toArray:function(Z){return K(Z,function(Q){return Q})||[]},only:function(Z){if(!W(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},xt.Component=E,xt.Fragment=n,xt.Profiler=i,xt.PureComponent=N,xt.StrictMode=r,xt.Suspense=d,xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,xt.act=le,xt.cloneElement=function(Z,Q,ke){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var _e=S({},Z.props),ve=Z.key,Ie=Z.ref,Te=Z._owner;if(Q!=null){if(Q.ref!==void 0&&(Ie=Q.ref,Te=$.current),Q.key!==void 0&&(ve=""+Q.key),Z.type&&Z.type.defaultProps)var Ne=Z.type.defaultProps;for(je in Q)D.call(Q,je)&&!H.hasOwnProperty(je)&&(_e[je]=Q[je]===void 0&&Ne!==void 0?Ne[je]:Q[je])}var je=arguments.length-2;if(je===1)_e.children=ke;else if(1<je){Ne=Array(je);for(var Ze=0;Ze<je;Ze++)Ne[Ze]=arguments[Ze+2];_e.children=Ne}return{$$typeof:e,type:Z.type,key:ve,ref:Ie,props:_e,_owner:Te}},xt.createContext=function(Z){return Z={$$typeof:l,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:s,_context:Z},Z.Consumer=Z},xt.createElement=V,xt.createFactory=function(Z){var Q=V.bind(null,Z);return Q.type=Z,Q},xt.createRef=function(){return{current:null}},xt.forwardRef=function(Z){return{$$typeof:u,render:Z}},xt.isValidElement=W,xt.lazy=function(Z){return{$$typeof:g,_payload:{_status:-1,_result:Z},_init:se}},xt.memo=function(Z,Q){return{$$typeof:p,type:Z,compare:Q===void 0?null:Q}},xt.startTransition=function(Z){var Q=te.transition;te.transition={};try{Z()}finally{te.transition=Q}},xt.unstable_act=le,xt.useCallback=function(Z,Q){return ie.current.useCallback(Z,Q)},xt.useContext=function(Z){return ie.current.useContext(Z)},xt.useDebugValue=function(){},xt.useDeferredValue=function(Z){return ie.current.useDeferredValue(Z)},xt.useEffect=function(Z,Q){return ie.current.useEffect(Z,Q)},xt.useId=function(){return ie.current.useId()},xt.useImperativeHandle=function(Z,Q,ke){return ie.current.useImperativeHandle(Z,Q,ke)},xt.useInsertionEffect=function(Z,Q){return ie.current.useInsertionEffect(Z,Q)},xt.useLayoutEffect=function(Z,Q){return ie.current.useLayoutEffect(Z,Q)},xt.useMemo=function(Z,Q){return ie.current.useMemo(Z,Q)},xt.useReducer=function(Z,Q,ke){return ie.current.useReducer(Z,Q,ke)},xt.useRef=function(Z){return ie.current.useRef(Z)},xt.useState=function(Z){return ie.current.useState(Z)},xt.useSyncExternalStore=function(Z,Q,ke){return ie.current.useSyncExternalStore(Z,Q,ke)},xt.useTransition=function(){return ie.current.useTransition()},xt.version="18.3.1",xt}var fb;function Lp(){return fb||(fb=1,iy.exports=BI()),iy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function FI(){if(hb)return ed;hb=1;var e=Lp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var g,m={},b=null,w=null;p!==void 0&&(b=""+p),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(w=d.ref);for(g in d)r.call(d,g)&&!s.hasOwnProperty(g)&&(m[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)m[g]===void 0&&(m[g]=d[g]);return{$$typeof:t,type:u,key:b,ref:w,props:m,_owner:i.current}}return ed.Fragment=n,ed.jsx=l,ed.jsxs=l,ed}var pb;function UI(){return pb||(pb=1,ry.exports=FI()),ry.exports}var y=UI(),Ph={},oy={exports:{}},cr={},sy={exports:{}},ay={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function $I(){return mb||(mb=1,function(e){function t(te,ee){var le=te.length;te.push(ee);e:for(;0<le;){var Z=le-1>>>1,Q=te[Z];if(0<i(Q,ee))te[Z]=ee,te[le]=Q,le=Z;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ee=te[0],le=te.pop();if(le!==ee){te[0]=le;e:for(var Z=0,Q=te.length,ke=Q>>>1;Z<ke;){var _e=2*(Z+1)-1,ve=te[_e],Ie=_e+1,Te=te[Ie];if(0>i(ve,le))Ie<Q&&0>i(Te,ve)?(te[Z]=Te,te[Ie]=le,Z=Ie):(te[Z]=ve,te[_e]=le,Z=_e);else if(Ie<Q&&0>i(Te,le))te[Z]=Te,te[Ie]=le,Z=Ie;else break e}}return ee}function i(te,ee){var le=te.sortIndex-ee.sortIndex;return le!==0?le:te.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],p=[],g=1,m=null,b=3,w=!1,S=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(te){for(var ee=n(p);ee!==null;){if(ee.callback===null)r(p);else if(ee.startTime<=te)r(p),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=n(p)}}function z(te){if(v=!1,A(te),!S)if(n(d)!==null)S=!0,se(D);else{var ee=n(p);ee!==null&&ie(z,ee.startTime-te)}}function D(te,ee){S=!1,v&&(v=!1,k(V),V=-1),w=!0;var le=b;try{for(A(ee),m=n(d);m!==null&&(!(m.expirationTime>ee)||te&&!J());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,b=m.priorityLevel;var Q=Z(m.expirationTime<=ee);ee=e.unstable_now(),typeof Q=="function"?m.callback=Q:m===n(d)&&r(d),A(ee)}else r(d);m=n(d)}if(m!==null)var ke=!0;else{var _e=n(p);_e!==null&&ie(z,_e.startTime-ee),ke=!1}return ke}finally{m=null,b=le,w=!1}}var $=!1,H=null,V=-1,F=5,W=-1;function J(){return!(e.unstable_now()-W<F)}function U(){if(H!==null){var te=e.unstable_now();W=te;var ee=!0;try{ee=H(!0,te)}finally{ee?X():($=!1,H=null)}}else $=!1}var X;if(typeof N=="function")X=function(){N(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,K=O.port2;O.port1.onmessage=U,X=function(){K.postMessage(null)}}else X=function(){E(U,0)};function se(te){H=te,$||($=!0,X())}function ie(te,ee){V=E(function(){te(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){S||w||(S=!0,se(D))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(te){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var le=b;b=ee;try{return te()}finally{b=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ee){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var le=b;b=te;try{return ee()}finally{b=le}},e.unstable_scheduleCallback=function(te,ee,le){var Z=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Z+le:Z):le=Z,te){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=le+Q,te={id:g++,callback:ee,priorityLevel:te,startTime:le,expirationTime:Q,sortIndex:-1},le>Z?(te.sortIndex=le,t(p,te),n(d)===null&&te===n(p)&&(v?(k(V),V=-1):v=!0,ie(z,le-Z))):(te.sortIndex=Q,t(d,te),S||w||(S=!0,se(D))),te},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(te){var ee=b;return function(){var le=b;b=ee;try{return te.apply(this,arguments)}finally{b=le}}}}(ay)),ay}var gb;function ZI(){return gb||(gb=1,sy.exports=$I()),sy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function HI(){if(yb)return cr;yb=1;var e=Lp(),t=ZI();function n(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(i[o]=c,o=0;o<c.length;o++)r.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function b(o){return d.call(m,o)?!0:d.call(g,o)?!1:p.test(o)?m[o]=!0:(g[o]=!0,!1)}function w(o,c,h,x){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,c,h,x){if(c===null||typeof c>"u"||w(o,c,h,x))return!0;if(x)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function v(o,c,h,x,T,I,q){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=T,this.mustUseProperty=h,this.propertyName=o,this.type=c,this.sanitizeURL=I,this.removeEmptyString=q}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new v(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];E[c]=new v(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new v(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new v(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new v(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new v(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function N(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(k,N);E[c]=new v(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(k,N);E[c]=new v(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(k,N);E[c]=new v(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function A(o,c,h,x){var T=E.hasOwnProperty(c)?E[c]:null;(T!==null?T.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(S(c,h,T,x)&&(h=null),x||T===null?b(c)&&(h===null?o.removeAttribute(c):o.setAttribute(c,""+h)):T.mustUseProperty?o[T.propertyName]=h===null?T.type===3?!1:"":h:(c=T.attributeName,x=T.attributeNamespace,h===null?o.removeAttribute(c):(T=T.type,h=T===3||T===4&&h===!0?"":""+h,x?o.setAttributeNS(x,c,h):o.setAttribute(c,h))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),$=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),J=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),te=Symbol.iterator;function ee(o){return o===null||typeof o!="object"?null:(o=te&&o[te]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,Z;function Q(o){if(Z===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Z=c&&c[1]||""}return`
`+Z+o}var ke=!1;function _e(o,c){if(!o||ke)return"";ke=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Se){var x=Se}Reflect.construct(o,[],c)}else{try{c.call()}catch(Se){x=Se}o.call(c.prototype)}else{try{throw Error()}catch(Se){x=Se}o()}}catch(Se){if(Se&&x&&typeof Se.stack=="string"){for(var T=Se.stack.split(`
`),I=x.stack.split(`
`),q=T.length-1,ae=I.length-1;1<=q&&0<=ae&&T[q]!==I[ae];)ae--;for(;1<=q&&0<=ae;q--,ae--)if(T[q]!==I[ae]){if(q!==1||ae!==1)do if(q--,ae--,0>ae||T[q]!==I[ae]){var de=`
`+T[q].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=q&&0<=ae);break}}}finally{ke=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?Q(o):""}function ve(o){switch(o.tag){case 5:return Q(o.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return o=_e(o.type,!1),o;case 11:return o=_e(o.type.render,!1),o;case 1:return o=_e(o.type,!0),o;default:return""}}function Ie(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case H:return"Fragment";case $:return"Portal";case F:return"Profiler";case V:return"StrictMode";case X:return"Suspense";case O:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case J:return(o.displayName||"Context")+".Consumer";case W:return(o._context.displayName||"Context")+".Provider";case U:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case K:return c=o.displayName||null,c!==null?c:Ie(o.type)||"Memo";case se:c=o._payload,o=o._init;try{return Ie(o(c))}catch{}}return null}function Te(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(c);case 8:return c===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ne(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function je(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ze(o){var c=je(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var T=h.get,I=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return T.call(this)},set:function(q){x=""+q,I.call(this,q)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(q){x=""+q},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Qe(o){o._valueTracker||(o._valueTracker=Ze(o))}function ot(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),x="";return o&&(x=je(o)?o.checked?"true":"false":o.value),o=x,o!==h?(c.setValue(o),!0):!1}function at(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function B(o,c){var h=c.checked;return le({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Pe(o,c){var h=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;h=Ne(c.value!=null?c.value:h),o._wrapperState={initialChecked:x,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function be(o,c){c=c.checked,c!=null&&A(o,"checked",c,!1)}function oe(o,c){be(o,c);var h=Ne(c.value),x=c.type;if(h!=null)x==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?pe(o,c.type,h):c.hasOwnProperty("defaultValue")&&pe(o,c.type,Ne(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function re(o,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,h||c===o.value||(o.value=c),o.defaultValue=c}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function pe(o,c,h){(c!=="number"||at(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Re=Array.isArray;function Le(o,c,h,x){if(o=o.options,c){c={};for(var T=0;T<h.length;T++)c["$"+h[T]]=!0;for(h=0;h<o.length;h++)T=c.hasOwnProperty("$"+o[h].value),o[h].selected!==T&&(o[h].selected=T),T&&x&&(o[h].defaultSelected=!0)}else{for(h=""+Ne(h),c=null,T=0;T<o.length;T++){if(o[T].value===h){o[T].selected=!0,x&&(o[T].defaultSelected=!0);return}c!==null||o[T].disabled||(c=o[T])}c!==null&&(c.selected=!0)}}function me(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Be(o,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(Re(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}o._wrapperState={initialValue:Ne(h)}}function Ve(o,c){var h=Ne(c.value),x=Ne(c.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),c.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),x!=null&&(o.defaultValue=""+x)}function De(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function tt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?tt(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var R,j=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,x,T){MSApp.execUnsafeLocalFunction(function(){return o(c,h,x,T)})}:o}(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(R=R||document.createElement("div"),R.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=R.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function ne(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];Object.keys(fe).forEach(function(o){xe.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),fe[c]=fe[o]})});function Ce(o,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||fe.hasOwnProperty(o)&&fe[o]?(""+c).trim():c+"px"}function dt(o,c){o=o.style;for(var h in c)if(c.hasOwnProperty(h)){var x=h.indexOf("--")===0,T=Ce(h,c[h],x);h==="float"&&(h="cssFloat"),x?o.setProperty(h,T):o[h]=T}}var Lt=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(o,c){if(c){if(Lt[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function St(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=null;function fa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Vo=null,Rr=null,Hn=null;function no(o){if(o=mo(o)){if(typeof Vo!="function")throw Error(n(280));var c=o.stateNode;c&&(c=Kl(c),Vo(o.stateNode,o.type,c))}}function lf(o){Rr?Hn?Hn.push(o):Hn=[o]:Rr=o}function cf(){if(Rr){var o=Rr,c=Hn;if(Hn=Rr=null,no(o),c)for(o=0;o<c.length;o++)no(c[o])}}function uf(o,c){return o(c)}function df(){}var cu=!1;function bl(o,c,h){if(cu)return o(c,h);cu=!0;try{return uf(o,c,h)}finally{cu=!1,(Rr!==null||Hn!==null)&&(df(),cf())}}function ha(o,c){var h=o.stateNode;if(h===null)return null;var x=Kl(h);if(x===null)return null;h=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var uu=!1;if(u)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){uu=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{uu=!1}function Lm(o,c,h,x,T,I,q,ae,de){var Se=Array.prototype.slice.call(arguments,3);try{c.apply(h,Se)}catch(ze){this.onError(ze)}}var An=!1,nt=null,ma=!1,El=null,ff={onError:function(o){An=!0,nt=o}};function hf(o,c,h,x,T,I,q,ae,de){An=!1,nt=null,Lm.apply(ff,arguments)}function du(o,c,h,x,T,I,q,ae,de){if(hf.apply(this,arguments),An){if(An){var Se=nt;An=!1,nt=null}else throw Error(n(198));ma||(ma=!0,El=Se)}}function Ci(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function ro(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function fu(o){if(Ci(o)!==o)throw Error(n(188))}function Om(o){var c=o.alternate;if(!c){if(c=Ci(o),c===null)throw Error(n(188));return c!==o?null:o}for(var h=o,x=c;;){var T=h.return;if(T===null)break;var I=T.alternate;if(I===null){if(x=T.return,x!==null){h=x;continue}break}if(T.child===I.child){for(I=T.child;I;){if(I===h)return fu(T),o;if(I===x)return fu(T),c;I=I.sibling}throw Error(n(188))}if(h.return!==x.return)h=T,x=I;else{for(var q=!1,ae=T.child;ae;){if(ae===h){q=!0,h=T,x=I;break}if(ae===x){q=!0,x=T,h=I;break}ae=ae.sibling}if(!q){for(ae=I.child;ae;){if(ae===h){q=!0,h=I,x=T;break}if(ae===x){q=!0,x=I,h=T;break}ae=ae.sibling}if(!q)throw Error(n(189))}}if(h.alternate!==x)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:c}function pf(o){return o=Om(o),o!==null?mf(o):null}function mf(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=mf(o);if(c!==null)return c;o=o.sibling}return null}var gf=t.unstable_scheduleCallback,hu=t.unstable_cancelCallback,jm=t.unstable_shouldYield,Sl=t.unstable_requestPaint,Jt=t.unstable_now,Mm=t.unstable_getCurrentPriorityLevel,pu=t.unstable_ImmediatePriority,yf=t.unstable_UserBlockingPriority,kl=t.unstable_NormalPriority,mu=t.unstable_LowPriority,qo=t.unstable_IdlePriority,ga=null,yr=null;function ya(o){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(ga,o,void 0,(o.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Ko,Zt=Math.log,Cl=Math.LN2;function Ko(o){return o>>>=0,o===0?32:31-(Zt(o)/Cl|0)|0}var ni=64,Go=4194304;function pt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ut(o,c){var h=o.pendingLanes;if(h===0)return 0;var x=0,T=o.suspendedLanes,I=o.pingedLanes,q=h&268435455;if(q!==0){var ae=q&~T;ae!==0?x=pt(ae):(I&=q,I!==0&&(x=pt(I)))}else q=h&~T,q!==0?x=pt(q):I!==0&&(x=pt(I));if(x===0)return 0;if(c!==0&&c!==x&&(c&T)===0&&(T=x&-x,I=c&-c,T>=I||T===16&&(I&4194240)!==0))return c;if((x&4)!==0&&(x|=h&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)h=31-gt(c),T=1<<h,x|=o[h],c&=~T;return x}function gu(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pl(o,c){for(var h=o.suspendedLanes,x=o.pingedLanes,T=o.expirationTimes,I=o.pendingLanes;0<I;){var q=31-gt(I),ae=1<<q,de=T[q];de===-1?((ae&h)===0||(ae&x)!==0)&&(T[q]=gu(ae,c)):de<=c&&(o.expiredLanes|=ae),I&=~ae}}function Rn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function vf(){var o=ni;return ni<<=1,(ni&4194240)===0&&(ni=64),o}function Yo(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function vr(o,c,h){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-gt(c),o[c]=h}function nn(o,c){var h=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<h;){var T=31-gt(h),I=1<<T;c[T]=0,x[T]=-1,o[T]=-1,h&=~I}}function ri(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var x=31-gt(h),T=1<<x;T&c|o[x]&c&&(o[x]|=c),h&=~T}}var Ct=0;function Jo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Tl,io,Nl,Al,va,wa=!1,Qo=[],wr=null,ii=null,Ir=null,_a=new Map,ft=new Map,mn=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(o,c){switch(o){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":_a.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(c.pointerId)}}function oo(o,c,h,x,T,I){return o===null||o.nativeEvent!==I?(o={blockedOn:c,domEventName:h,eventSystemFlags:x,nativeEvent:I,targetContainers:[T]},c!==null&&(c=mo(c),c!==null&&io(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,T!==null&&c.indexOf(T)===-1&&c.push(T),o)}function vu(o,c,h,x,T){switch(c){case"focusin":return wr=oo(wr,o,c,h,x,T),!0;case"dragenter":return ii=oo(ii,o,c,h,x,T),!0;case"mouseover":return Ir=oo(Ir,o,c,h,x,T),!0;case"pointerover":var I=T.pointerId;return _a.set(I,oo(_a.get(I)||null,o,c,h,x,T)),!0;case"gotpointercapture":return I=T.pointerId,ft.set(I,oo(ft.get(I)||null,o,c,h,x,T)),!0}return!1}function Rl(o){var c=po(o.target);if(c!==null){var h=Ci(c);if(h!==null){if(c=h.tag,c===13){if(c=ro(h),c!==null){o.blockedOn=c,va(o.priority,function(){Nl(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Lr(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=Ol(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);kt=x,h.target.dispatchEvent(x),kt=null}else return c=mo(h),c!==null&&io(c),o.blockedOn=h,!1;c.shift()}return!0}function Il(o,c,h){Lr(o)&&h.delete(c)}function xa(){wa=!1,wr!==null&&Lr(wr)&&(wr=null),ii!==null&&Lr(ii)&&(ii=null),Ir!==null&&Lr(Ir)&&(Ir=null),_a.forEach(Il),ft.forEach(Il)}function Qt(o,c){o.blockedOn===c&&(o.blockedOn=null,wa||(wa=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xa)))}function _r(o){function c(T){return Qt(T,o)}if(0<Qo.length){Qt(Qo[0],o);for(var h=1;h<Qo.length;h++){var x=Qo[h];x.blockedOn===o&&(x.blockedOn=null)}}for(wr!==null&&Qt(wr,o),ii!==null&&Qt(ii,o),Ir!==null&&Qt(Ir,o),_a.forEach(c),ft.forEach(c),h=0;h<mn.length;h++)x=mn[h],x.blockedOn===o&&(x.blockedOn=null);for(;0<mn.length&&(h=mn[0],h.blockedOn===null);)Rl(h),h.blockedOn===null&&mn.shift()}var so=z.ReactCurrentBatchConfig,ba=!0;function zm(o,c,h,x){var T=Ct,I=so.transition;so.transition=null;try{Ct=1,Ea(o,c,h,x)}finally{Ct=T,so.transition=I}}function wf(o,c,h,x){var T=Ct,I=so.transition;so.transition=null;try{Ct=4,Ea(o,c,h,x)}finally{Ct=T,so.transition=I}}function Ea(o,c,h,x){if(ba){var T=Ol(o,c,h,x);if(T===null)a(o,c,x,Ll,h),yu(o,x);else if(vu(T,o,c,h,x))x.stopPropagation();else if(yu(o,x),c&4&&-1<Dt.indexOf(o)){for(;T!==null;){var I=mo(T);if(I!==null&&Tl(I),I=Ol(o,c,h,x),I===null&&a(o,c,x,Ll,h),I===T)break;T=I}T!==null&&x.stopPropagation()}else a(o,c,x,null,h)}}var Ll=null;function Ol(o,c,h,x){if(Ll=null,o=fa(x),o=po(o),o!==null)if(c=Ci(o),c===null)o=null;else if(h=c.tag,h===13){if(o=ro(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return Ll=o,null}function bt(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mm()){case pu:return 1;case yf:return 4;case kl:case mu:return 16;case qo:return 536870912;default:return 16}default:return 16}}var Pi=null,Wn=null,Ti=null;function wu(){if(Ti)return Ti;var o,c=Wn,h=c.length,x,T="value"in Pi?Pi.value:Pi.textContent,I=T.length;for(o=0;o<h&&c[o]===T[o];o++);var q=h-o;for(x=1;x<=q&&c[h-x]===T[I-x];x++);return Ti=T.slice(o,1<x?1-x:void 0)}function jl(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Xo(){return!0}function _f(){return!1}function In(o){function c(h,x,T,I,q){this._reactName=h,this._targetInst=T,this.type=x,this.nativeEvent=I,this.target=q,this.currentTarget=null;for(var ae in o)o.hasOwnProperty(ae)&&(h=o[ae],this[ae]=h?h(I):I[ae]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Xo:_f,this.isPropagationStopped=_f,this}return le(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),c}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=In(es),ao=le({},es,{view:0,detail:0}),Dm=In(ao),nr,xu,ts,xr=le({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ts&&(ts&&o.type==="mousemove"?(nr=o.screenX-ts.screenX,xu=o.screenY-ts.screenY):xu=nr=0,ts=o),nr)},movementY:function(o){return"movementY"in o?o.movementY:xu}}),bu=In(xr),xf=le({},xr,{dataTransfer:0}),Eu=In(xf),Bm=le({},ao,{relatedTarget:0}),Ml=In(Bm),bf=le({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),Fm=In(bf),Um=le({},es,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Su=In(Um),$m=le({},es,{data:0}),ku=In($m),Ef={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zm(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=lo[o])?!!c[o]:!1}function co(){return Zm}var rr=le({},ao,{key:function(o){if(o.key){var c=Ef[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=jl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?zl[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(o){return o.type==="keypress"?jl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?jl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Sf=In(rr),kf=le({},xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cf=In(kf),Cu=le({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),Pu=In(Cu),Hm=le({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wm=In(Hm),Pf=le({},xr,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Vm=In(Pf),br=[9,13,27,32],Ni=u&&"CompositionEvent"in window,Sa=null;u&&"documentMode"in document&&(Sa=document.documentMode);var oi=u&&"TextEvent"in window&&!Sa,Tf=u&&(!Ni||Sa&&8<Sa&&11>=Sa),uo=" ",Nf=!1;function ns(o,c){switch(o){case"keyup":return br.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var si=!1;function qm(o,c){switch(o){case"compositionend":return Tu(c);case"keypress":return c.which!==32?null:(Nf=!0,uo);case"textInput":return o=c.data,o===uo&&Nf?null:o;default:return null}}function Ai(o,c){if(si)return o==="compositionend"||!Ni&&ns(o,c)?(o=wu(),Ti=Wn=Pi=null,si=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Tf&&c.locale!=="ko"?null:c.data;default:return null}}var Dl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Af(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Dl[o.type]:c==="textarea"}function Bl(o,c,h,x){lf(x),c=_(c,"onChange"),0<c.length&&(h=new _u("onChange","change",null,h,x),o.push({event:h,listeners:c}))}var ka=null,Vn=null;function Km(o){zu(o,0)}function ai(o){var c=go(o);if(ot(c))return o}function Gm(o,c){if(o==="change")return c}var Or=!1;if(u){var rs;if(u){var Fl="oninput"in document;if(!Fl){var Ul=document.createElement("div");Ul.setAttribute("oninput","return;"),Fl=typeof Ul.oninput=="function"}rs=Fl}else rs=!1;Or=rs&&(!document.documentMode||9<document.documentMode)}function Ca(){ka&&(ka.detachEvent("onpropertychange",$l),Vn=ka=null)}function $l(o){if(o.propertyName==="value"&&ai(Vn)){var c=[];Bl(c,Vn,o,fa(o)),bl(Km,c)}}function Zl(o,c,h){o==="focusin"?(Ca(),ka=c,Vn=h,ka.attachEvent("onpropertychange",$l)):o==="focusout"&&Ca()}function is(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ai(Vn)}function Hl(o,c){if(o==="click")return ai(c)}function Nu(o,c){if(o==="input"||o==="change")return ai(c)}function Rf(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Er=typeof Object.is=="function"?Object.is:Rf;function Ri(o,c){if(Er(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),x=Object.keys(c);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var T=h[x];if(!d.call(c,T)||!Er(o[T],c[T]))return!1}return!0}function If(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Au(o,c){var h=If(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=c&&x>=c)return{node:h,offset:c-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=If(h)}}function Lf(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Lf(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Ru(){for(var o=window,c=at();c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=at(o.document)}return c}function Iu(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function jr(o){var c=Ru(),h=o.focusedElem,x=o.selectionRange;if(c!==h&&h&&h.ownerDocument&&Lf(h.ownerDocument.documentElement,h)){if(x!==null&&Iu(h)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(o,h.value.length);else if(o=(c=h.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var T=h.textContent.length,I=Math.min(x.start,T);x=x.end===void 0?I:Math.min(x.end,T),!o.extend&&I>x&&(T=x,x=I,I=T),T=Au(h,I);var q=Au(h,x);T&&q&&(o.rangeCount!==1||o.anchorNode!==T.node||o.anchorOffset!==T.offset||o.focusNode!==q.node||o.focusOffset!==q.offset)&&(c=c.createRange(),c.setStart(T.node,T.offset),o.removeAllRanges(),I>x?(o.addRange(c),o.extend(q.node,q.offset)):(c.setEnd(q.node,q.offset),o.addRange(c)))}}for(c=[],o=h;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)o=c[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Wl=u&&"documentMode"in document&&11>=document.documentMode,os=null,ss=null,Pa=null,Vl=!1;function Of(o,c,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Vl||os==null||os!==at(x)||(x=os,"selectionStart"in x&&Iu(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Pa&&Ri(Pa,x)||(Pa=x,x=_(ss,"onSelect"),0<x.length&&(c=new _u("onSelect","select",null,c,h),o.push({event:c,listeners:x}),c.target=os)))}function Ii(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var as={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionend:Ii("Transition","TransitionEnd")},Li={},Lu={};u&&(Lu=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Ta(o){if(Li[o])return Li[o];if(!as[o])return o;var c=as[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in Lu)return Li[o]=c[h];return o}var jf=Ta("animationend"),Mr=Ta("animationiteration"),Ou=Ta("animationstart"),ju=Ta("transitionend"),ls=new Map,Mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(o,c){ls.set(o,c),s(c,[o])}for(var fo=0;fo<Mf.length;fo++){var ql=Mf[fo],zf=ql.toLowerCase(),Ym=ql[0].toUpperCase()+ql.slice(1);Sr(zf,"on"+Ym)}Sr(jf,"onAnimationEnd"),Sr(Mr,"onAnimationIteration"),Sr(Ou,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(ju,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Df=new Set("cancel close invalid load scroll toggle".split(" ").concat(cs));function Mu(o,c,h){var x=o.type||"unknown-event";o.currentTarget=h,du(x,c,void 0,o),o.currentTarget=null}function zu(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],T=x.event;x=x.listeners;e:{var I=void 0;if(c)for(var q=x.length-1;0<=q;q--){var ae=x[q],de=ae.instance,Se=ae.currentTarget;if(ae=ae.listener,de!==I&&T.isPropagationStopped())break e;Mu(T,ae,Se),I=de}else for(q=0;q<x.length;q++){if(ae=x[q],de=ae.instance,Se=ae.currentTarget,ae=ae.listener,de!==I&&T.isPropagationStopped())break e;Mu(T,ae,Se),I=de}}}if(ma)throw o=El,ma=!1,El=null,o}function Bt(o,c){var h=c[hs];h===void 0&&(h=c[hs]=new Set);var x=o+"__bubble";h.has(x)||(Bf(c,o,2,!1),h.add(x))}function Du(o,c,h){var x=0;c&&(x|=4),Bf(h,o,x,c)}var Na="_reactListening"+Math.random().toString(36).slice(2);function us(o){if(!o[Na]){o[Na]=!0,r.forEach(function(h){h!=="selectionchange"&&(Df.has(h)||Du(h,!1,o),Du(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Na]||(c[Na]=!0,Du("selectionchange",!1,c))}}function Bf(o,c,h,x){switch(bt(c)){case 1:var T=zm;break;case 4:T=wf;break;default:T=Ea}h=T.bind(null,c,h,o),T=void 0,!uu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(T=!0),x?T!==void 0?o.addEventListener(c,h,{capture:!0,passive:T}):o.addEventListener(c,h,!0):T!==void 0?o.addEventListener(c,h,{passive:T}):o.addEventListener(c,h,!1)}function a(o,c,h,x,T){var I=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var q=x.tag;if(q===3||q===4){var ae=x.stateNode.containerInfo;if(ae===T||ae.nodeType===8&&ae.parentNode===T)break;if(q===4)for(q=x.return;q!==null;){var de=q.tag;if((de===3||de===4)&&(de=q.stateNode.containerInfo,de===T||de.nodeType===8&&de.parentNode===T))return;q=q.return}for(;ae!==null;){if(q=po(ae),q===null)return;if(de=q.tag,de===5||de===6){x=I=q;continue e}ae=ae.parentNode}}x=x.return}bl(function(){var Se=I,ze=fa(h),Fe=[];e:{var Me=ls.get(o);if(Me!==void 0){var Ge=_u,Xe=o;switch(o){case"keypress":if(jl(h)===0)break e;case"keydown":case"keyup":Ge=Sf;break;case"focusin":Xe="focus",Ge=Ml;break;case"focusout":Xe="blur",Ge=Ml;break;case"beforeblur":case"afterblur":Ge=Ml;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=Pu;break;case jf:case Mr:case Ou:Ge=Fm;break;case ju:Ge=Wm;break;case"scroll":Ge=Dm;break;case"wheel":Ge=Vm;break;case"copy":case"cut":case"paste":Ge=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=Cf}var et=(c&4)!==0,un=!et&&o==="scroll",ye=et?Me!==null?Me+"Capture":null:Me;et=[];for(var he=Se,we;he!==null;){we=he;var $e=we.stateNode;if(we.tag===5&&$e!==null&&(we=$e,ye!==null&&($e=ha(he,ye),$e!=null&&et.push(f(he,$e,we)))),un)break;he=he.return}0<et.length&&(Me=new Ge(Me,Xe,null,h,ze),Fe.push({event:Me,listeners:et}))}}if((c&7)===0){e:{if(Me=o==="mouseover"||o==="pointerover",Ge=o==="mouseout"||o==="pointerout",Me&&h!==kt&&(Xe=h.relatedTarget||h.fromElement)&&(po(Xe)||Xe[jt]))break e;if((Ge||Me)&&(Me=ze.window===ze?ze:(Me=ze.ownerDocument)?Me.defaultView||Me.parentWindow:window,Ge?(Xe=h.relatedTarget||h.toElement,Ge=Se,Xe=Xe?po(Xe):null,Xe!==null&&(un=Ci(Xe),Xe!==un||Xe.tag!==5&&Xe.tag!==6)&&(Xe=null)):(Ge=null,Xe=Se),Ge!==Xe)){if(et=bu,$e="onMouseLeave",ye="onMouseEnter",he="mouse",(o==="pointerout"||o==="pointerover")&&(et=Cf,$e="onPointerLeave",ye="onPointerEnter",he="pointer"),un=Ge==null?Me:go(Ge),we=Xe==null?Me:go(Xe),Me=new et($e,he+"leave",Ge,h,ze),Me.target=un,Me.relatedTarget=we,$e=null,po(ze)===Se&&(et=new et(ye,he+"enter",Xe,h,ze),et.target=we,et.relatedTarget=un,$e=et),un=$e,Ge&&Xe)t:{for(et=Ge,ye=Xe,he=0,we=et;we;we=P(we))he++;for(we=0,$e=ye;$e;$e=P($e))we++;for(;0<he-we;)et=P(et),he--;for(;0<we-he;)ye=P(ye),we--;for(;he--;){if(et===ye||ye!==null&&et===ye.alternate)break t;et=P(et),ye=P(ye)}et=null}else et=null;Ge!==null&&M(Fe,Me,Ge,et,!1),Xe!==null&&un!==null&&M(Fe,un,Xe,et,!0)}}e:{if(Me=Se?go(Se):window,Ge=Me.nodeName&&Me.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Me.type==="file")var rt=Gm;else if(Af(Me))if(Or)rt=Nu;else{rt=is;var ct=Zl}else(Ge=Me.nodeName)&&Ge.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(rt=Hl);if(rt&&(rt=rt(o,Se))){Bl(Fe,rt,h,ze);break e}ct&&ct(o,Me,Se),o==="focusout"&&(ct=Me._wrapperState)&&ct.controlled&&Me.type==="number"&&pe(Me,"number",Me.value)}switch(ct=Se?go(Se):window,o){case"focusin":(Af(ct)||ct.contentEditable==="true")&&(os=ct,ss=Se,Pa=null);break;case"focusout":Pa=ss=os=null;break;case"mousedown":Vl=!0;break;case"contextmenu":case"mouseup":case"dragend":Vl=!1,Of(Fe,h,ze);break;case"selectionchange":if(Wl)break;case"keydown":case"keyup":Of(Fe,h,ze)}var ut;if(Ni)e:{switch(o){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else si?ns(o,h)&&(ht="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(ht="onCompositionStart");ht&&(Tf&&h.locale!=="ko"&&(si||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&si&&(ut=wu()):(Pi=ze,Wn="value"in Pi?Pi.value:Pi.textContent,si=!0)),ct=_(Se,ht),0<ct.length&&(ht=new ku(ht,o,null,h,ze),Fe.push({event:ht,listeners:ct}),ut?ht.data=ut:(ut=Tu(h),ut!==null&&(ht.data=ut)))),(ut=oi?qm(o,h):Ai(o,h))&&(Se=_(Se,"onBeforeInput"),0<Se.length&&(ze=new ku("onBeforeInput","beforeinput",null,h,ze),Fe.push({event:ze,listeners:Se}),ze.data=ut))}zu(Fe,c)})}function f(o,c,h){return{instance:o,listener:c,currentTarget:h}}function _(o,c){for(var h=c+"Capture",x=[];o!==null;){var T=o,I=T.stateNode;T.tag===5&&I!==null&&(T=I,I=ha(o,h),I!=null&&x.unshift(f(o,I,T)),I=ha(o,c),I!=null&&x.push(f(o,I,T))),o=o.return}return x}function P(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function M(o,c,h,x,T){for(var I=c._reactName,q=[];h!==null&&h!==x;){var ae=h,de=ae.alternate,Se=ae.stateNode;if(de!==null&&de===x)break;ae.tag===5&&Se!==null&&(ae=Se,T?(de=ha(h,I),de!=null&&q.unshift(f(h,de,ae))):T||(de=ha(h,I),de!=null&&q.push(f(h,de,ae)))),h=h.return}q.length!==0&&o.push({event:c,listeners:q})}var Y=/\r\n?/g,ce=/\u0000|\uFFFD/g;function ge(o){return(typeof o=="string"?o:""+o).replace(Y,`
`).replace(ce,"")}function Ee(o,c,h){if(c=ge(c),ge(o)!==c&&h)throw Error(n(425))}function Oe(){}var We=null,lt=null;function vt(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var gn=typeof setTimeout=="function"?setTimeout:void 0,fn=typeof clearTimeout=="function"?clearTimeout:void 0,qn=typeof Promise=="function"?Promise:void 0,Ln=typeof queueMicrotask=="function"?queueMicrotask:typeof qn<"u"?function(o){return qn.resolve(null).then(o).catch(ds)}:gn;function ds(o){setTimeout(function(){throw o})}function Bu(o,c){var h=c,x=0;do{var T=h.nextSibling;if(o.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"){if(x===0){o.removeChild(T),_r(c);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=T}while(h);_r(c)}function Oi(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function Ff(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}var ho=Math.random().toString(36).slice(2),zr="__reactFiber$"+ho,fs="__reactProps$"+ho,jt="__reactContainer$"+ho,hs="__reactEvents$"+ho,Jm="__reactListeners$"+ho,Qm="__reactHandles$"+ho;function po(o){var c=o[zr];if(c)return c;for(var h=o.parentNode;h;){if(c=h[jt]||h[zr]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=Ff(o);o!==null;){if(h=o[zr])return h;o=Ff(o)}return c}o=h,h=o.parentNode}return null}function mo(o){return o=o[zr]||o[jt],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function go(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Kl(o){return o[fs]||null}var Xm=[],Gl=-1;function ps(o){return{current:o}}function Ht(o){0>Gl||(o.current=Xm[Gl],Xm[Gl]=null,Gl--)}function $t(o,c){Gl++,Xm[Gl]=o.current,o.current=c}var ms={},On=ps(ms),ir=ps(!1),Aa=ms;function Yl(o,c){var h=o.type.contextTypes;if(!h)return ms;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var T={},I;for(I in h)T[I]=c[I];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=T),T}function or(o){return o=o.childContextTypes,o!=null}function Uf(){Ht(ir),Ht(On)}function I_(o,c,h){if(On.current!==ms)throw Error(n(168));$t(On,c),$t(ir,h)}function L_(o,c,h){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return h;x=x.getChildContext();for(var T in x)if(!(T in c))throw Error(n(108,Te(o)||"Unknown",T));return le({},h,x)}function $f(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ms,Aa=On.current,$t(On,o),$t(ir,ir.current),!0}function O_(o,c,h){var x=o.stateNode;if(!x)throw Error(n(169));h?(o=L_(o,c,Aa),x.__reactInternalMemoizedMergedChildContext=o,Ht(ir),Ht(On),$t(On,o)):Ht(ir),$t(ir,h)}var yo=null,Zf=!1,eg=!1;function j_(o){yo===null?yo=[o]:yo.push(o)}function tI(o){Zf=!0,j_(o)}function gs(){if(!eg&&yo!==null){eg=!0;var o=0,c=Ct;try{var h=yo;for(Ct=1;o<h.length;o++){var x=h[o];do x=x(!0);while(x!==null)}yo=null,Zf=!1}catch(T){throw yo!==null&&(yo=yo.slice(o+1)),gf(pu,gs),T}finally{Ct=c,eg=!1}}return null}var Jl=[],Ql=0,Hf=null,Wf=0,Dr=[],Br=0,Ra=null,vo=1,wo="";function Ia(o,c){Jl[Ql++]=Wf,Jl[Ql++]=Hf,Hf=o,Wf=c}function M_(o,c,h){Dr[Br++]=vo,Dr[Br++]=wo,Dr[Br++]=Ra,Ra=o;var x=vo;o=wo;var T=32-gt(x)-1;x&=~(1<<T),h+=1;var I=32-gt(c)+T;if(30<I){var q=T-T%5;I=(x&(1<<q)-1).toString(32),x>>=q,T-=q,vo=1<<32-gt(c)+T|h<<T|x,wo=I+o}else vo=1<<I|h<<T|x,wo=o}function tg(o){o.return!==null&&(Ia(o,1),M_(o,1,0))}function ng(o){for(;o===Hf;)Hf=Jl[--Ql],Jl[Ql]=null,Wf=Jl[--Ql],Jl[Ql]=null;for(;o===Ra;)Ra=Dr[--Br],Dr[Br]=null,wo=Dr[--Br],Dr[Br]=null,vo=Dr[--Br],Dr[Br]=null}var kr=null,Cr=null,qt=!1,li=null;function z_(o,c){var h=Zr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=o,c=o.deletions,c===null?(o.deletions=[h],o.flags|=16):c.push(h)}function D_(o,c){switch(o.tag){case 5:var h=o.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,kr=o,Cr=Oi(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,kr=o,Cr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ra!==null?{id:vo,overflow:wo}:null,o.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Zr(18,null,null,0),h.stateNode=c,h.return=o,o.child=h,kr=o,Cr=null,!0):!1;default:return!1}}function rg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ig(o){if(qt){var c=Cr;if(c){var h=c;if(!D_(o,c)){if(rg(o))throw Error(n(418));c=Oi(h.nextSibling);var x=kr;c&&D_(o,c)?z_(x,h):(o.flags=o.flags&-4097|2,qt=!1,kr=o)}}else{if(rg(o))throw Error(n(418));o.flags=o.flags&-4097|2,qt=!1,kr=o}}}function B_(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;kr=o}function Vf(o){if(o!==kr)return!1;if(!qt)return B_(o),qt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!vt(o.type,o.memoizedProps)),c&&(c=Cr)){if(rg(o))throw F_(),Error(n(418));for(;c;)z_(o,c),c=Oi(c.nextSibling)}if(B_(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(c===0){Cr=Oi(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}o=o.nextSibling}Cr=null}}else Cr=kr?Oi(o.stateNode.nextSibling):null;return!0}function F_(){for(var o=Cr;o;)o=Oi(o.nextSibling)}function Xl(){Cr=kr=null,qt=!1}function og(o){li===null?li=[o]:li.push(o)}var nI=z.ReactCurrentBatchConfig;function Fu(o,c,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var x=h.stateNode}if(!x)throw Error(n(147,o));var T=x,I=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===I?c.ref:(c=function(q){var ae=T.refs;q===null?delete ae[I]:ae[I]=q},c._stringRef=I,c)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function qf(o,c){throw o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function U_(o){var c=o._init;return c(o._payload)}function $_(o){function c(ye,he){if(o){var we=ye.deletions;we===null?(ye.deletions=[he],ye.flags|=16):we.push(he)}}function h(ye,he){if(!o)return null;for(;he!==null;)c(ye,he),he=he.sibling;return null}function x(ye,he){for(ye=new Map;he!==null;)he.key!==null?ye.set(he.key,he):ye.set(he.index,he),he=he.sibling;return ye}function T(ye,he){return ye=Ss(ye,he),ye.index=0,ye.sibling=null,ye}function I(ye,he,we){return ye.index=we,o?(we=ye.alternate,we!==null?(we=we.index,we<he?(ye.flags|=2,he):we):(ye.flags|=2,he)):(ye.flags|=1048576,he)}function q(ye){return o&&ye.alternate===null&&(ye.flags|=2),ye}function ae(ye,he,we,$e){return he===null||he.tag!==6?(he=Yg(we,ye.mode,$e),he.return=ye,he):(he=T(he,we),he.return=ye,he)}function de(ye,he,we,$e){var rt=we.type;return rt===H?ze(ye,he,we.props.children,$e,we.key):he!==null&&(he.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===se&&U_(rt)===he.type)?($e=T(he,we.props),$e.ref=Fu(ye,he,we),$e.return=ye,$e):($e=yh(we.type,we.key,we.props,null,ye.mode,$e),$e.ref=Fu(ye,he,we),$e.return=ye,$e)}function Se(ye,he,we,$e){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=Jg(we,ye.mode,$e),he.return=ye,he):(he=T(he,we.children||[]),he.return=ye,he)}function ze(ye,he,we,$e,rt){return he===null||he.tag!==7?(he=Fa(we,ye.mode,$e,rt),he.return=ye,he):(he=T(he,we),he.return=ye,he)}function Fe(ye,he,we){if(typeof he=="string"&&he!==""||typeof he=="number")return he=Yg(""+he,ye.mode,we),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case D:return we=yh(he.type,he.key,he.props,null,ye.mode,we),we.ref=Fu(ye,null,he),we.return=ye,we;case $:return he=Jg(he,ye.mode,we),he.return=ye,he;case se:var $e=he._init;return Fe(ye,$e(he._payload),we)}if(Re(he)||ee(he))return he=Fa(he,ye.mode,we,null),he.return=ye,he;qf(ye,he)}return null}function Me(ye,he,we,$e){var rt=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return rt!==null?null:ae(ye,he,""+we,$e);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case D:return we.key===rt?de(ye,he,we,$e):null;case $:return we.key===rt?Se(ye,he,we,$e):null;case se:return rt=we._init,Me(ye,he,rt(we._payload),$e)}if(Re(we)||ee(we))return rt!==null?null:ze(ye,he,we,$e,null);qf(ye,we)}return null}function Ge(ye,he,we,$e,rt){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ye=ye.get(we)||null,ae(he,ye,""+$e,rt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:return ye=ye.get($e.key===null?we:$e.key)||null,de(he,ye,$e,rt);case $:return ye=ye.get($e.key===null?we:$e.key)||null,Se(he,ye,$e,rt);case se:var ct=$e._init;return Ge(ye,he,we,ct($e._payload),rt)}if(Re($e)||ee($e))return ye=ye.get(we)||null,ze(he,ye,$e,rt,null);qf(he,$e)}return null}function Xe(ye,he,we,$e){for(var rt=null,ct=null,ut=he,ht=he=0,Sn=null;ut!==null&&ht<we.length;ht++){ut.index>ht?(Sn=ut,ut=null):Sn=ut.sibling;var Rt=Me(ye,ut,we[ht],$e);if(Rt===null){ut===null&&(ut=Sn);break}o&&ut&&Rt.alternate===null&&c(ye,ut),he=I(Rt,he,ht),ct===null?rt=Rt:ct.sibling=Rt,ct=Rt,ut=Sn}if(ht===we.length)return h(ye,ut),qt&&Ia(ye,ht),rt;if(ut===null){for(;ht<we.length;ht++)ut=Fe(ye,we[ht],$e),ut!==null&&(he=I(ut,he,ht),ct===null?rt=ut:ct.sibling=ut,ct=ut);return qt&&Ia(ye,ht),rt}for(ut=x(ye,ut);ht<we.length;ht++)Sn=Ge(ut,ye,ht,we[ht],$e),Sn!==null&&(o&&Sn.alternate!==null&&ut.delete(Sn.key===null?ht:Sn.key),he=I(Sn,he,ht),ct===null?rt=Sn:ct.sibling=Sn,ct=Sn);return o&&ut.forEach(function(ks){return c(ye,ks)}),qt&&Ia(ye,ht),rt}function et(ye,he,we,$e){var rt=ee(we);if(typeof rt!="function")throw Error(n(150));if(we=rt.call(we),we==null)throw Error(n(151));for(var ct=rt=null,ut=he,ht=he=0,Sn=null,Rt=we.next();ut!==null&&!Rt.done;ht++,Rt=we.next()){ut.index>ht?(Sn=ut,ut=null):Sn=ut.sibling;var ks=Me(ye,ut,Rt.value,$e);if(ks===null){ut===null&&(ut=Sn);break}o&&ut&&ks.alternate===null&&c(ye,ut),he=I(ks,he,ht),ct===null?rt=ks:ct.sibling=ks,ct=ks,ut=Sn}if(Rt.done)return h(ye,ut),qt&&Ia(ye,ht),rt;if(ut===null){for(;!Rt.done;ht++,Rt=we.next())Rt=Fe(ye,Rt.value,$e),Rt!==null&&(he=I(Rt,he,ht),ct===null?rt=Rt:ct.sibling=Rt,ct=Rt);return qt&&Ia(ye,ht),rt}for(ut=x(ye,ut);!Rt.done;ht++,Rt=we.next())Rt=Ge(ut,ye,ht,Rt.value,$e),Rt!==null&&(o&&Rt.alternate!==null&&ut.delete(Rt.key===null?ht:Rt.key),he=I(Rt,he,ht),ct===null?rt=Rt:ct.sibling=Rt,ct=Rt);return o&&ut.forEach(function(jI){return c(ye,jI)}),qt&&Ia(ye,ht),rt}function un(ye,he,we,$e){if(typeof we=="object"&&we!==null&&we.type===H&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case D:e:{for(var rt=we.key,ct=he;ct!==null;){if(ct.key===rt){if(rt=we.type,rt===H){if(ct.tag===7){h(ye,ct.sibling),he=T(ct,we.props.children),he.return=ye,ye=he;break e}}else if(ct.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===se&&U_(rt)===ct.type){h(ye,ct.sibling),he=T(ct,we.props),he.ref=Fu(ye,ct,we),he.return=ye,ye=he;break e}h(ye,ct);break}else c(ye,ct);ct=ct.sibling}we.type===H?(he=Fa(we.props.children,ye.mode,$e,we.key),he.return=ye,ye=he):($e=yh(we.type,we.key,we.props,null,ye.mode,$e),$e.ref=Fu(ye,he,we),$e.return=ye,ye=$e)}return q(ye);case $:e:{for(ct=we.key;he!==null;){if(he.key===ct)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){h(ye,he.sibling),he=T(he,we.children||[]),he.return=ye,ye=he;break e}else{h(ye,he);break}else c(ye,he);he=he.sibling}he=Jg(we,ye.mode,$e),he.return=ye,ye=he}return q(ye);case se:return ct=we._init,un(ye,he,ct(we._payload),$e)}if(Re(we))return Xe(ye,he,we,$e);if(ee(we))return et(ye,he,we,$e);qf(ye,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,he!==null&&he.tag===6?(h(ye,he.sibling),he=T(he,we),he.return=ye,ye=he):(h(ye,he),he=Yg(we,ye.mode,$e),he.return=ye,ye=he),q(ye)):h(ye,he)}return un}var ec=$_(!0),Z_=$_(!1),Kf=ps(null),Gf=null,tc=null,sg=null;function ag(){sg=tc=Gf=null}function lg(o){var c=Kf.current;Ht(Kf),o._currentValue=c}function cg(o,c,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===h)break;o=o.return}}function nc(o,c){Gf=o,sg=tc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(sr=!0),o.firstContext=null)}function Fr(o){var c=o._currentValue;if(sg!==o)if(o={context:o,memoizedValue:c,next:null},tc===null){if(Gf===null)throw Error(n(308));tc=o,Gf.dependencies={lanes:0,firstContext:o}}else tc=tc.next=o;return c}var La=null;function ug(o){La===null?La=[o]:La.push(o)}function H_(o,c,h,x){var T=c.interleaved;return T===null?(h.next=h,ug(c)):(h.next=T.next,T.next=h),c.interleaved=h,_o(o,x)}function _o(o,c){o.lanes|=c;var h=o.alternate;for(h!==null&&(h.lanes|=c),h=o,o=o.return;o!==null;)o.childLanes|=c,h=o.alternate,h!==null&&(h.childLanes|=c),h=o,o=o.return;return h.tag===3?h.stateNode:null}var ys=!1;function dg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W_(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function xo(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function vs(o,c,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(Nt&2)!==0){var T=x.pending;return T===null?c.next=c:(c.next=T.next,T.next=c),x.pending=c,_o(o,h)}return T=x.interleaved,T===null?(c.next=c,ug(x)):(c.next=T.next,T.next=c),x.interleaved=c,_o(o,h)}function Yf(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,ri(o,h)}}function V_(o,c){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var T=null,I=null;if(h=h.firstBaseUpdate,h!==null){do{var q={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};I===null?T=I=q:I=I.next=q,h=h.next}while(h!==null);I===null?T=I=c:I=I.next=c}else T=I=c;h={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:I,shared:x.shared,effects:x.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}function Jf(o,c,h,x){var T=o.updateQueue;ys=!1;var I=T.firstBaseUpdate,q=T.lastBaseUpdate,ae=T.shared.pending;if(ae!==null){T.shared.pending=null;var de=ae,Se=de.next;de.next=null,q===null?I=Se:q.next=Se,q=de;var ze=o.alternate;ze!==null&&(ze=ze.updateQueue,ae=ze.lastBaseUpdate,ae!==q&&(ae===null?ze.firstBaseUpdate=Se:ae.next=Se,ze.lastBaseUpdate=de))}if(I!==null){var Fe=T.baseState;q=0,ze=Se=de=null,ae=I;do{var Me=ae.lane,Ge=ae.eventTime;if((x&Me)===Me){ze!==null&&(ze=ze.next={eventTime:Ge,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Xe=o,et=ae;switch(Me=c,Ge=h,et.tag){case 1:if(Xe=et.payload,typeof Xe=="function"){Fe=Xe.call(Ge,Fe,Me);break e}Fe=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=et.payload,Me=typeof Xe=="function"?Xe.call(Ge,Fe,Me):Xe,Me==null)break e;Fe=le({},Fe,Me);break e;case 2:ys=!0}}ae.callback!==null&&ae.lane!==0&&(o.flags|=64,Me=T.effects,Me===null?T.effects=[ae]:Me.push(ae))}else Ge={eventTime:Ge,lane:Me,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},ze===null?(Se=ze=Ge,de=Fe):ze=ze.next=Ge,q|=Me;if(ae=ae.next,ae===null){if(ae=T.shared.pending,ae===null)break;Me=ae,ae=Me.next,Me.next=null,T.lastBaseUpdate=Me,T.shared.pending=null}}while(!0);if(ze===null&&(de=Fe),T.baseState=de,T.firstBaseUpdate=Se,T.lastBaseUpdate=ze,c=T.shared.interleaved,c!==null){T=c;do q|=T.lane,T=T.next;while(T!==c)}else I===null&&(T.shared.lanes=0);Ma|=q,o.lanes=q,o.memoizedState=Fe}}function q_(o,c,h){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],T=x.callback;if(T!==null){if(x.callback=null,x=h,typeof T!="function")throw Error(n(191,T));T.call(x)}}}var Uu={},ji=ps(Uu),$u=ps(Uu),Zu=ps(Uu);function Oa(o){if(o===Uu)throw Error(n(174));return o}function fg(o,c){switch($t(Zu,c),$t($u,o),$t(ji,Uu),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:G(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=G(c,o)}Ht(ji),$t(ji,c)}function rc(){Ht(ji),Ht($u),Ht(Zu)}function K_(o){Oa(Zu.current);var c=Oa(ji.current),h=G(c,o.type);c!==h&&($t($u,o),$t(ji,h))}function hg(o){$u.current===o&&(Ht(ji),Ht($u))}var Xt=ps(0);function Qf(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var pg=[];function mg(){for(var o=0;o<pg.length;o++)pg[o]._workInProgressVersionPrimary=null;pg.length=0}var Xf=z.ReactCurrentDispatcher,gg=z.ReactCurrentBatchConfig,ja=0,en=null,yn=null,bn=null,eh=!1,Hu=!1,Wu=0,rI=0;function jn(){throw Error(n(321))}function yg(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Er(o[h],c[h]))return!1;return!0}function vg(o,c,h,x,T,I){if(ja=I,en=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Xf.current=o===null||o.memoizedState===null?aI:lI,o=h(x,T),Hu){I=0;do{if(Hu=!1,Wu=0,25<=I)throw Error(n(301));I+=1,bn=yn=null,c.updateQueue=null,Xf.current=cI,o=h(x,T)}while(Hu)}if(Xf.current=rh,c=yn!==null&&yn.next!==null,ja=0,bn=yn=en=null,eh=!1,c)throw Error(n(300));return o}function wg(){var o=Wu!==0;return Wu=0,o}function Mi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?en.memoizedState=bn=o:bn=bn.next=o,bn}function Ur(){if(yn===null){var o=en.alternate;o=o!==null?o.memoizedState:null}else o=yn.next;var c=bn===null?en.memoizedState:bn.next;if(c!==null)bn=c,yn=o;else{if(o===null)throw Error(n(310));yn=o,o={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},bn===null?en.memoizedState=bn=o:bn=bn.next=o}return bn}function Vu(o,c){return typeof c=="function"?c(o):c}function _g(o){var c=Ur(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=yn,T=x.baseQueue,I=h.pending;if(I!==null){if(T!==null){var q=T.next;T.next=I.next,I.next=q}x.baseQueue=T=I,h.pending=null}if(T!==null){I=T.next,x=x.baseState;var ae=q=null,de=null,Se=I;do{var ze=Se.lane;if((ja&ze)===ze)de!==null&&(de=de.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),x=Se.hasEagerState?Se.eagerState:o(x,Se.action);else{var Fe={lane:ze,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};de===null?(ae=de=Fe,q=x):de=de.next=Fe,en.lanes|=ze,Ma|=ze}Se=Se.next}while(Se!==null&&Se!==I);de===null?q=x:de.next=ae,Er(x,c.memoizedState)||(sr=!0),c.memoizedState=x,c.baseState=q,c.baseQueue=de,h.lastRenderedState=x}if(o=h.interleaved,o!==null){T=o;do I=T.lane,en.lanes|=I,Ma|=I,T=T.next;while(T!==o)}else T===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function xg(o){var c=Ur(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=h.dispatch,T=h.pending,I=c.memoizedState;if(T!==null){h.pending=null;var q=T=T.next;do I=o(I,q.action),q=q.next;while(q!==T);Er(I,c.memoizedState)||(sr=!0),c.memoizedState=I,c.baseQueue===null&&(c.baseState=I),h.lastRenderedState=I}return[I,x]}function G_(){}function Y_(o,c){var h=en,x=Ur(),T=c(),I=!Er(x.memoizedState,T);if(I&&(x.memoizedState=T,sr=!0),x=x.queue,bg(X_.bind(null,h,x,o),[o]),x.getSnapshot!==c||I||bn!==null&&bn.memoizedState.tag&1){if(h.flags|=2048,qu(9,Q_.bind(null,h,x,T,c),void 0,null),En===null)throw Error(n(349));(ja&30)!==0||J_(h,c,T)}return T}function J_(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=en.updateQueue,c===null?(c={lastEffect:null,stores:null},en.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function Q_(o,c,h,x){c.value=h,c.getSnapshot=x,ex(c)&&tx(o)}function X_(o,c,h){return h(function(){ex(c)&&tx(o)})}function ex(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Er(o,h)}catch{return!0}}function tx(o){var c=_o(o,1);c!==null&&fi(c,o,1,-1)}function nx(o){var c=Mi();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:o},c.queue=o,o=o.dispatch=sI.bind(null,en,o),[c.memoizedState,o]}function qu(o,c,h,x){return o={tag:o,create:c,destroy:h,deps:x,next:null},c=en.updateQueue,c===null?(c={lastEffect:null,stores:null},en.updateQueue=c,c.lastEffect=o.next=o):(h=c.lastEffect,h===null?c.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,c.lastEffect=o)),o}function rx(){return Ur().memoizedState}function th(o,c,h,x){var T=Mi();en.flags|=o,T.memoizedState=qu(1|c,h,void 0,x===void 0?null:x)}function nh(o,c,h,x){var T=Ur();x=x===void 0?null:x;var I=void 0;if(yn!==null){var q=yn.memoizedState;if(I=q.destroy,x!==null&&yg(x,q.deps)){T.memoizedState=qu(c,h,I,x);return}}en.flags|=o,T.memoizedState=qu(1|c,h,I,x)}function ix(o,c){return th(8390656,8,o,c)}function bg(o,c){return nh(2048,8,o,c)}function ox(o,c){return nh(4,2,o,c)}function sx(o,c){return nh(4,4,o,c)}function ax(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function lx(o,c,h){return h=h!=null?h.concat([o]):null,nh(4,4,ax.bind(null,c,o),h)}function Eg(){}function cx(o,c){var h=Ur();c=c===void 0?null:c;var x=h.memoizedState;return x!==null&&c!==null&&yg(c,x[1])?x[0]:(h.memoizedState=[o,c],o)}function ux(o,c){var h=Ur();c=c===void 0?null:c;var x=h.memoizedState;return x!==null&&c!==null&&yg(c,x[1])?x[0]:(o=o(),h.memoizedState=[o,c],o)}function dx(o,c,h){return(ja&21)===0?(o.baseState&&(o.baseState=!1,sr=!0),o.memoizedState=h):(Er(h,c)||(h=vf(),en.lanes|=h,Ma|=h,o.baseState=!0),c)}function iI(o,c){var h=Ct;Ct=h!==0&&4>h?h:4,o(!0);var x=gg.transition;gg.transition={};try{o(!1),c()}finally{Ct=h,gg.transition=x}}function fx(){return Ur().memoizedState}function oI(o,c,h){var x=bs(o);if(h={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null},hx(o))px(c,h);else if(h=H_(o,c,h,x),h!==null){var T=Gn();fi(h,o,x,T),mx(h,c,x)}}function sI(o,c,h){var x=bs(o),T={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null};if(hx(o))px(c,T);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=c.lastRenderedReducer,I!==null))try{var q=c.lastRenderedState,ae=I(q,h);if(T.hasEagerState=!0,T.eagerState=ae,Er(ae,q)){var de=c.interleaved;de===null?(T.next=T,ug(c)):(T.next=de.next,de.next=T),c.interleaved=T;return}}catch{}finally{}h=H_(o,c,T,x),h!==null&&(T=Gn(),fi(h,o,x,T),mx(h,c,x))}}function hx(o){var c=o.alternate;return o===en||c!==null&&c===en}function px(o,c){Hu=eh=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function mx(o,c,h){if((h&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,ri(o,h)}}var rh={readContext:Fr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},aI={readContext:Fr,useCallback:function(o,c){return Mi().memoizedState=[o,c===void 0?null:c],o},useContext:Fr,useEffect:ix,useImperativeHandle:function(o,c,h){return h=h!=null?h.concat([o]):null,th(4194308,4,ax.bind(null,c,o),h)},useLayoutEffect:function(o,c){return th(4194308,4,o,c)},useInsertionEffect:function(o,c){return th(4,2,o,c)},useMemo:function(o,c){var h=Mi();return c=c===void 0?null:c,o=o(),h.memoizedState=[o,c],o},useReducer:function(o,c,h){var x=Mi();return c=h!==void 0?h(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=oI.bind(null,en,o),[x.memoizedState,o]},useRef:function(o){var c=Mi();return o={current:o},c.memoizedState=o},useState:nx,useDebugValue:Eg,useDeferredValue:function(o){return Mi().memoizedState=o},useTransition:function(){var o=nx(!1),c=o[0];return o=iI.bind(null,o[1]),Mi().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,h){var x=en,T=Mi();if(qt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),En===null)throw Error(n(349));(ja&30)!==0||J_(x,c,h)}T.memoizedState=h;var I={value:h,getSnapshot:c};return T.queue=I,ix(X_.bind(null,x,I,o),[o]),x.flags|=2048,qu(9,Q_.bind(null,x,I,h,c),void 0,null),h},useId:function(){var o=Mi(),c=En.identifierPrefix;if(qt){var h=wo,x=vo;h=(x&~(1<<32-gt(x)-1)).toString(32)+h,c=":"+c+"R"+h,h=Wu++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=rI++,c=":"+c+"r"+h.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},lI={readContext:Fr,useCallback:cx,useContext:Fr,useEffect:bg,useImperativeHandle:lx,useInsertionEffect:ox,useLayoutEffect:sx,useMemo:ux,useReducer:_g,useRef:rx,useState:function(){return _g(Vu)},useDebugValue:Eg,useDeferredValue:function(o){var c=Ur();return dx(c,yn.memoizedState,o)},useTransition:function(){var o=_g(Vu)[0],c=Ur().memoizedState;return[o,c]},useMutableSource:G_,useSyncExternalStore:Y_,useId:fx,unstable_isNewReconciler:!1},cI={readContext:Fr,useCallback:cx,useContext:Fr,useEffect:bg,useImperativeHandle:lx,useInsertionEffect:ox,useLayoutEffect:sx,useMemo:ux,useReducer:xg,useRef:rx,useState:function(){return xg(Vu)},useDebugValue:Eg,useDeferredValue:function(o){var c=Ur();return yn===null?c.memoizedState=o:dx(c,yn.memoizedState,o)},useTransition:function(){var o=xg(Vu)[0],c=Ur().memoizedState;return[o,c]},useMutableSource:G_,useSyncExternalStore:Y_,useId:fx,unstable_isNewReconciler:!1};function ci(o,c){if(o&&o.defaultProps){c=le({},c),o=o.defaultProps;for(var h in o)c[h]===void 0&&(c[h]=o[h]);return c}return c}function Sg(o,c,h,x){c=o.memoizedState,h=h(x,c),h=h==null?c:le({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var ih={isMounted:function(o){return(o=o._reactInternals)?Ci(o)===o:!1},enqueueSetState:function(o,c,h){o=o._reactInternals;var x=Gn(),T=bs(o),I=xo(x,T);I.payload=c,h!=null&&(I.callback=h),c=vs(o,I,T),c!==null&&(fi(c,o,T,x),Yf(c,o,T))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var x=Gn(),T=bs(o),I=xo(x,T);I.tag=1,I.payload=c,h!=null&&(I.callback=h),c=vs(o,I,T),c!==null&&(fi(c,o,T,x),Yf(c,o,T))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Gn(),x=bs(o),T=xo(h,x);T.tag=2,c!=null&&(T.callback=c),c=vs(o,T,x),c!==null&&(fi(c,o,x,h),Yf(c,o,x))}};function gx(o,c,h,x,T,I,q){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,I,q):c.prototype&&c.prototype.isPureReactComponent?!Ri(h,x)||!Ri(T,I):!0}function yx(o,c,h){var x=!1,T=ms,I=c.contextType;return typeof I=="object"&&I!==null?I=Fr(I):(T=or(c)?Aa:On.current,x=c.contextTypes,I=(x=x!=null)?Yl(o,T):ms),c=new c(h,I),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ih,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=T,o.__reactInternalMemoizedMaskedChildContext=I),c}function vx(o,c,h,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,x),c.state!==o&&ih.enqueueReplaceState(c,c.state,null)}function kg(o,c,h,x){var T=o.stateNode;T.props=h,T.state=o.memoizedState,T.refs={},dg(o);var I=c.contextType;typeof I=="object"&&I!==null?T.context=Fr(I):(I=or(c)?Aa:On.current,T.context=Yl(o,I)),T.state=o.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(Sg(o,c,I,h),T.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(c=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),c!==T.state&&ih.enqueueReplaceState(T,T.state,null),Jf(o,h,T,x),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308)}function ic(o,c){try{var h="",x=c;do h+=ve(x),x=x.return;while(x);var T=h}catch(I){T=`
Error generating stack: `+I.message+`
`+I.stack}return{value:o,source:c,stack:T,digest:null}}function Cg(o,c,h){return{value:o,source:null,stack:h??null,digest:c??null}}function Pg(o,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var uI=typeof WeakMap=="function"?WeakMap:Map;function wx(o,c,h){h=xo(-1,h),h.tag=3,h.payload={element:null};var x=c.value;return h.callback=function(){dh||(dh=!0,$g=x),Pg(o,c)},h}function _x(o,c,h){h=xo(-1,h),h.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var T=c.value;h.payload=function(){return x(T)},h.callback=function(){Pg(o,c)}}var I=o.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(h.callback=function(){Pg(o,c),typeof x!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var q=c.stack;this.componentDidCatch(c.value,{componentStack:q!==null?q:""})}),h}function xx(o,c,h){var x=o.pingCache;if(x===null){x=o.pingCache=new uI;var T=new Set;x.set(c,T)}else T=x.get(c),T===void 0&&(T=new Set,x.set(c,T));T.has(h)||(T.add(h),o=SI.bind(null,o,c,h),c.then(o,o))}function bx(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function Ex(o,c,h,x,T){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=xo(-1,1),c.tag=2,vs(h,c,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=T,o)}var dI=z.ReactCurrentOwner,sr=!1;function Kn(o,c,h,x){c.child=o===null?Z_(c,null,h,x):ec(c,o.child,h,x)}function Sx(o,c,h,x,T){h=h.render;var I=c.ref;return nc(c,T),x=vg(o,c,h,x,I,T),h=wg(),o!==null&&!sr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~T,bo(o,c,T)):(qt&&h&&tg(c),c.flags|=1,Kn(o,c,x,T),c.child)}function kx(o,c,h,x,T){if(o===null){var I=h.type;return typeof I=="function"&&!Gg(I)&&I.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=I,Cx(o,c,I,x,T)):(o=yh(h.type,null,x,c,c.mode,T),o.ref=c.ref,o.return=c,c.child=o)}if(I=o.child,(o.lanes&T)===0){var q=I.memoizedProps;if(h=h.compare,h=h!==null?h:Ri,h(q,x)&&o.ref===c.ref)return bo(o,c,T)}return c.flags|=1,o=Ss(I,x),o.ref=c.ref,o.return=c,c.child=o}function Cx(o,c,h,x,T){if(o!==null){var I=o.memoizedProps;if(Ri(I,x)&&o.ref===c.ref)if(sr=!1,c.pendingProps=x=I,(o.lanes&T)!==0)(o.flags&131072)!==0&&(sr=!0);else return c.lanes=o.lanes,bo(o,c,T)}return Tg(o,c,h,x,T)}function Px(o,c,h){var x=c.pendingProps,T=x.children,I=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(sc,Pr),Pr|=h;else{if((h&1073741824)===0)return o=I!==null?I.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,$t(sc,Pr),Pr|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=I!==null?I.baseLanes:h,$t(sc,Pr),Pr|=x}else I!==null?(x=I.baseLanes|h,c.memoizedState=null):x=h,$t(sc,Pr),Pr|=x;return Kn(o,c,T,h),c.child}function Tx(o,c){var h=c.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Tg(o,c,h,x,T){var I=or(h)?Aa:On.current;return I=Yl(c,I),nc(c,T),h=vg(o,c,h,x,I,T),x=wg(),o!==null&&!sr?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~T,bo(o,c,T)):(qt&&x&&tg(c),c.flags|=1,Kn(o,c,h,T),c.child)}function Nx(o,c,h,x,T){if(or(h)){var I=!0;$f(c)}else I=!1;if(nc(c,T),c.stateNode===null)sh(o,c),yx(c,h,x),kg(c,h,x,T),x=!0;else if(o===null){var q=c.stateNode,ae=c.memoizedProps;q.props=ae;var de=q.context,Se=h.contextType;typeof Se=="object"&&Se!==null?Se=Fr(Se):(Se=or(h)?Aa:On.current,Se=Yl(c,Se));var ze=h.getDerivedStateFromProps,Fe=typeof ze=="function"||typeof q.getSnapshotBeforeUpdate=="function";Fe||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ae!==x||de!==Se)&&vx(c,q,x,Se),ys=!1;var Me=c.memoizedState;q.state=Me,Jf(c,x,q,T),de=c.memoizedState,ae!==x||Me!==de||ir.current||ys?(typeof ze=="function"&&(Sg(c,h,ze,x),de=c.memoizedState),(ae=ys||gx(c,h,ae,x,Me,de,Se))?(Fe||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(c.flags|=4194308)):(typeof q.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=de),q.props=x,q.state=de,q.context=Se,x=ae):(typeof q.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{q=c.stateNode,W_(o,c),ae=c.memoizedProps,Se=c.type===c.elementType?ae:ci(c.type,ae),q.props=Se,Fe=c.pendingProps,Me=q.context,de=h.contextType,typeof de=="object"&&de!==null?de=Fr(de):(de=or(h)?Aa:On.current,de=Yl(c,de));var Ge=h.getDerivedStateFromProps;(ze=typeof Ge=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ae!==Fe||Me!==de)&&vx(c,q,x,de),ys=!1,Me=c.memoizedState,q.state=Me,Jf(c,x,q,T);var Xe=c.memoizedState;ae!==Fe||Me!==Xe||ir.current||ys?(typeof Ge=="function"&&(Sg(c,h,Ge,x),Xe=c.memoizedState),(Se=ys||gx(c,h,Se,x,Me,Xe,de)||!1)?(ze||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(x,Xe,de),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(x,Xe,de)),typeof q.componentDidUpdate=="function"&&(c.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof q.componentDidUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Xe),q.props=x,q.state=Xe,q.context=de,x=Se):(typeof q.componentDidUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),x=!1)}return Ng(o,c,h,x,I,T)}function Ng(o,c,h,x,T,I){Tx(o,c);var q=(c.flags&128)!==0;if(!x&&!q)return T&&O_(c,h,!1),bo(o,c,I);x=c.stateNode,dI.current=c;var ae=q&&typeof h.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&q?(c.child=ec(c,o.child,null,I),c.child=ec(c,null,ae,I)):Kn(o,c,ae,I),c.memoizedState=x.state,T&&O_(c,h,!0),c.child}function Ax(o){var c=o.stateNode;c.pendingContext?I_(o,c.pendingContext,c.pendingContext!==c.context):c.context&&I_(o,c.context,!1),fg(o,c.containerInfo)}function Rx(o,c,h,x,T){return Xl(),og(T),c.flags|=256,Kn(o,c,h,x),c.child}var Ag={dehydrated:null,treeContext:null,retryLane:0};function Rg(o){return{baseLanes:o,cachePool:null,transitions:null}}function Ix(o,c,h){var x=c.pendingProps,T=Xt.current,I=!1,q=(c.flags&128)!==0,ae;if((ae=q)||(ae=o!==null&&o.memoizedState===null?!1:(T&2)!==0),ae?(I=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(T|=1),$t(Xt,T&1),o===null)return ig(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(q=x.children,o=x.fallback,I?(x=c.mode,I=c.child,q={mode:"hidden",children:q},(x&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=q):I=vh(q,x,0,null),o=Fa(o,x,h,null),I.return=c,o.return=c,I.sibling=o,c.child=I,c.child.memoizedState=Rg(h),c.memoizedState=Ag,o):Ig(c,q));if(T=o.memoizedState,T!==null&&(ae=T.dehydrated,ae!==null))return fI(o,c,q,x,ae,T,h);if(I){I=x.fallback,q=c.mode,T=o.child,ae=T.sibling;var de={mode:"hidden",children:x.children};return(q&1)===0&&c.child!==T?(x=c.child,x.childLanes=0,x.pendingProps=de,c.deletions=null):(x=Ss(T,de),x.subtreeFlags=T.subtreeFlags&14680064),ae!==null?I=Ss(ae,I):(I=Fa(I,q,h,null),I.flags|=2),I.return=c,x.return=c,x.sibling=I,c.child=x,x=I,I=c.child,q=o.child.memoizedState,q=q===null?Rg(h):{baseLanes:q.baseLanes|h,cachePool:null,transitions:q.transitions},I.memoizedState=q,I.childLanes=o.childLanes&~h,c.memoizedState=Ag,x}return I=o.child,o=I.sibling,x=Ss(I,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=h),x.return=c,x.sibling=null,o!==null&&(h=c.deletions,h===null?(c.deletions=[o],c.flags|=16):h.push(o)),c.child=x,c.memoizedState=null,x}function Ig(o,c){return c=vh({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function oh(o,c,h,x){return x!==null&&og(x),ec(c,o.child,null,h),o=Ig(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function fI(o,c,h,x,T,I,q){if(h)return c.flags&256?(c.flags&=-257,x=Cg(Error(n(422))),oh(o,c,q,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(I=x.fallback,T=c.mode,x=vh({mode:"visible",children:x.children},T,0,null),I=Fa(I,T,q,null),I.flags|=2,x.return=c,I.return=c,x.sibling=I,c.child=x,(c.mode&1)!==0&&ec(c,o.child,null,q),c.child.memoizedState=Rg(q),c.memoizedState=Ag,I);if((c.mode&1)===0)return oh(o,c,q,null);if(T.data==="$!"){if(x=T.nextSibling&&T.nextSibling.dataset,x)var ae=x.dgst;return x=ae,I=Error(n(419)),x=Cg(I,x,void 0),oh(o,c,q,x)}if(ae=(q&o.childLanes)!==0,sr||ae){if(x=En,x!==null){switch(q&-q){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(x.suspendedLanes|q))!==0?0:T,T!==0&&T!==I.retryLane&&(I.retryLane=T,_o(o,T),fi(x,o,T,-1))}return Kg(),x=Cg(Error(n(421))),oh(o,c,q,x)}return T.data==="$?"?(c.flags|=128,c.child=o.child,c=kI.bind(null,o),T._reactRetry=c,null):(o=I.treeContext,Cr=Oi(T.nextSibling),kr=c,qt=!0,li=null,o!==null&&(Dr[Br++]=vo,Dr[Br++]=wo,Dr[Br++]=Ra,vo=o.id,wo=o.overflow,Ra=c),c=Ig(c,x.children),c.flags|=4096,c)}function Lx(o,c,h){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),cg(o.return,c,h)}function Lg(o,c,h,x,T){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:T}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=x,I.tail=h,I.tailMode=T)}function Ox(o,c,h){var x=c.pendingProps,T=x.revealOrder,I=x.tail;if(Kn(o,c,x.children,h),x=Xt.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Lx(o,h,c);else if(o.tag===19)Lx(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if($t(Xt,x),(c.mode&1)===0)c.memoizedState=null;else switch(T){case"forwards":for(h=c.child,T=null;h!==null;)o=h.alternate,o!==null&&Qf(o)===null&&(T=h),h=h.sibling;h=T,h===null?(T=c.child,c.child=null):(T=h.sibling,h.sibling=null),Lg(c,!1,T,h,I);break;case"backwards":for(h=null,T=c.child,c.child=null;T!==null;){if(o=T.alternate,o!==null&&Qf(o)===null){c.child=T;break}o=T.sibling,T.sibling=h,h=T,T=o}Lg(c,!0,h,null,I);break;case"together":Lg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function sh(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function bo(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),Ma|=c.lanes,(h&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,h=Ss(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Ss(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function hI(o,c,h){switch(c.tag){case 3:Ax(c),Xl();break;case 5:K_(c);break;case 1:or(c.type)&&$f(c);break;case 4:fg(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,T=c.memoizedProps.value;$t(Kf,x._currentValue),x._currentValue=T;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?($t(Xt,Xt.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?Ix(o,c,h):($t(Xt,Xt.current&1),o=bo(o,c,h),o!==null?o.sibling:null);$t(Xt,Xt.current&1);break;case 19:if(x=(h&c.childLanes)!==0,(o.flags&128)!==0){if(x)return Ox(o,c,h);c.flags|=128}if(T=c.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),$t(Xt,Xt.current),x)break;return null;case 22:case 23:return c.lanes=0,Px(o,c,h)}return bo(o,c,h)}var jx,Og,Mx,zx;jx=function(o,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Og=function(){},Mx=function(o,c,h,x){var T=o.memoizedProps;if(T!==x){o=c.stateNode,Oa(ji.current);var I=null;switch(h){case"input":T=B(o,T),x=B(o,x),I=[];break;case"select":T=le({},T,{value:void 0}),x=le({},x,{value:void 0}),I=[];break;case"textarea":T=me(o,T),x=me(o,x),I=[];break;default:typeof T.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Oe)}_t(h,x);var q;h=null;for(Se in T)if(!x.hasOwnProperty(Se)&&T.hasOwnProperty(Se)&&T[Se]!=null)if(Se==="style"){var ae=T[Se];for(q in ae)ae.hasOwnProperty(q)&&(h||(h={}),h[q]="")}else Se!=="dangerouslySetInnerHTML"&&Se!=="children"&&Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(i.hasOwnProperty(Se)?I||(I=[]):(I=I||[]).push(Se,null));for(Se in x){var de=x[Se];if(ae=T!=null?T[Se]:void 0,x.hasOwnProperty(Se)&&de!==ae&&(de!=null||ae!=null))if(Se==="style")if(ae){for(q in ae)!ae.hasOwnProperty(q)||de&&de.hasOwnProperty(q)||(h||(h={}),h[q]="");for(q in de)de.hasOwnProperty(q)&&ae[q]!==de[q]&&(h||(h={}),h[q]=de[q])}else h||(I||(I=[]),I.push(Se,h)),h=de;else Se==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,ae=ae?ae.__html:void 0,de!=null&&ae!==de&&(I=I||[]).push(Se,de)):Se==="children"?typeof de!="string"&&typeof de!="number"||(I=I||[]).push(Se,""+de):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&(i.hasOwnProperty(Se)?(de!=null&&Se==="onScroll"&&Bt("scroll",o),I||ae===de||(I=[])):(I=I||[]).push(Se,de))}h&&(I=I||[]).push("style",h);var Se=I;(c.updateQueue=Se)&&(c.flags|=4)}},zx=function(o,c,h,x){h!==x&&(c.flags|=4)};function Ku(o,c){if(!qt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Mn(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(c)for(var T=o.child;T!==null;)h|=T.lanes|T.childLanes,x|=T.subtreeFlags&14680064,x|=T.flags&14680064,T.return=o,T=T.sibling;else for(T=o.child;T!==null;)h|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=o,T=T.sibling;return o.subtreeFlags|=x,o.childLanes=h,c}function pI(o,c,h){var x=c.pendingProps;switch(ng(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(c),null;case 1:return or(c.type)&&Uf(),Mn(c),null;case 3:return x=c.stateNode,rc(),Ht(ir),Ht(On),mg(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Vf(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,li!==null&&(Wg(li),li=null))),Og(o,c),Mn(c),null;case 5:hg(c);var T=Oa(Zu.current);if(h=c.type,o!==null&&c.stateNode!=null)Mx(o,c,h,x,T),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(n(166));return Mn(c),null}if(o=Oa(ji.current),Vf(c)){x=c.stateNode,h=c.type;var I=c.memoizedProps;switch(x[zr]=c,x[fs]=I,o=(c.mode&1)!==0,h){case"dialog":Bt("cancel",x),Bt("close",x);break;case"iframe":case"object":case"embed":Bt("load",x);break;case"video":case"audio":for(T=0;T<cs.length;T++)Bt(cs[T],x);break;case"source":Bt("error",x);break;case"img":case"image":case"link":Bt("error",x),Bt("load",x);break;case"details":Bt("toggle",x);break;case"input":Pe(x,I),Bt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!I.multiple},Bt("invalid",x);break;case"textarea":Be(x,I),Bt("invalid",x)}_t(h,I),T=null;for(var q in I)if(I.hasOwnProperty(q)){var ae=I[q];q==="children"?typeof ae=="string"?x.textContent!==ae&&(I.suppressHydrationWarning!==!0&&Ee(x.textContent,ae,o),T=["children",ae]):typeof ae=="number"&&x.textContent!==""+ae&&(I.suppressHydrationWarning!==!0&&Ee(x.textContent,ae,o),T=["children",""+ae]):i.hasOwnProperty(q)&&ae!=null&&q==="onScroll"&&Bt("scroll",x)}switch(h){case"input":Qe(x),re(x,I,!0);break;case"textarea":Qe(x),De(x);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(x.onclick=Oe)}x=T,c.updateQueue=x,x!==null&&(c.flags|=4)}else{q=T.nodeType===9?T:T.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=tt(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=q.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=q.createElement(h,{is:x.is}):(o=q.createElement(h),h==="select"&&(q=o,x.multiple?q.multiple=!0:x.size&&(q.size=x.size))):o=q.createElementNS(o,h),o[zr]=c,o[fs]=x,jx(o,c,!1,!1),c.stateNode=o;e:{switch(q=St(h,x),h){case"dialog":Bt("cancel",o),Bt("close",o),T=x;break;case"iframe":case"object":case"embed":Bt("load",o),T=x;break;case"video":case"audio":for(T=0;T<cs.length;T++)Bt(cs[T],o);T=x;break;case"source":Bt("error",o),T=x;break;case"img":case"image":case"link":Bt("error",o),Bt("load",o),T=x;break;case"details":Bt("toggle",o),T=x;break;case"input":Pe(o,x),T=B(o,x),Bt("invalid",o);break;case"option":T=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},T=le({},x,{value:void 0}),Bt("invalid",o);break;case"textarea":Be(o,x),T=me(o,x),Bt("invalid",o);break;default:T=x}_t(h,T),ae=T;for(I in ae)if(ae.hasOwnProperty(I)){var de=ae[I];I==="style"?dt(o,de):I==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&j(o,de)):I==="children"?typeof de=="string"?(h!=="textarea"||de!=="")&&ne(o,de):typeof de=="number"&&ne(o,""+de):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?de!=null&&I==="onScroll"&&Bt("scroll",o):de!=null&&A(o,I,de,q))}switch(h){case"input":Qe(o),re(o,x,!1);break;case"textarea":Qe(o),De(o);break;case"option":x.value!=null&&o.setAttribute("value",""+Ne(x.value));break;case"select":o.multiple=!!x.multiple,I=x.value,I!=null?Le(o,!!x.multiple,I,!1):x.defaultValue!=null&&Le(o,!!x.multiple,x.defaultValue,!0);break;default:typeof T.onClick=="function"&&(o.onclick=Oe)}switch(h){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Mn(c),null;case 6:if(o&&c.stateNode!=null)zx(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(n(166));if(h=Oa(Zu.current),Oa(ji.current),Vf(c)){if(x=c.stateNode,h=c.memoizedProps,x[zr]=c,(I=x.nodeValue!==h)&&(o=kr,o!==null))switch(o.tag){case 3:Ee(x.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ee(x.nodeValue,h,(o.mode&1)!==0)}I&&(c.flags|=4)}else x=(h.nodeType===9?h:h.ownerDocument).createTextNode(x),x[zr]=c,c.stateNode=x}return Mn(c),null;case 13:if(Ht(Xt),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(qt&&Cr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)F_(),Xl(),c.flags|=98560,I=!1;else if(I=Vf(c),x!==null&&x.dehydrated!==null){if(o===null){if(!I)throw Error(n(318));if(I=c.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[zr]=c}else Xl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Mn(c),I=!1}else li!==null&&(Wg(li),li=null),I=!0;if(!I)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(Xt.current&1)!==0?vn===0&&(vn=3):Kg())),c.updateQueue!==null&&(c.flags|=4),Mn(c),null);case 4:return rc(),Og(o,c),o===null&&us(c.stateNode.containerInfo),Mn(c),null;case 10:return lg(c.type._context),Mn(c),null;case 17:return or(c.type)&&Uf(),Mn(c),null;case 19:if(Ht(Xt),I=c.memoizedState,I===null)return Mn(c),null;if(x=(c.flags&128)!==0,q=I.rendering,q===null)if(x)Ku(I,!1);else{if(vn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(q=Qf(o),q!==null){for(c.flags|=128,Ku(I,!1),x=q.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=h,h=c.child;h!==null;)I=h,o=x,I.flags&=14680066,q=I.alternate,q===null?(I.childLanes=0,I.lanes=o,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=q.childLanes,I.lanes=q.lanes,I.child=q.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=q.memoizedProps,I.memoizedState=q.memoizedState,I.updateQueue=q.updateQueue,I.type=q.type,o=q.dependencies,I.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return $t(Xt,Xt.current&1|2),c.child}o=o.sibling}I.tail!==null&&Jt()>ac&&(c.flags|=128,x=!0,Ku(I,!1),c.lanes=4194304)}else{if(!x)if(o=Qf(q),o!==null){if(c.flags|=128,x=!0,h=o.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Ku(I,!0),I.tail===null&&I.tailMode==="hidden"&&!q.alternate&&!qt)return Mn(c),null}else 2*Jt()-I.renderingStartTime>ac&&h!==1073741824&&(c.flags|=128,x=!0,Ku(I,!1),c.lanes=4194304);I.isBackwards?(q.sibling=c.child,c.child=q):(h=I.last,h!==null?h.sibling=q:c.child=q,I.last=q)}return I.tail!==null?(c=I.tail,I.rendering=c,I.tail=c.sibling,I.renderingStartTime=Jt(),c.sibling=null,h=Xt.current,$t(Xt,x?h&1|2:h&1),c):(Mn(c),null);case 22:case 23:return qg(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Pr&1073741824)!==0&&(Mn(c),c.subtreeFlags&6&&(c.flags|=8192)):Mn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function mI(o,c){switch(ng(c),c.tag){case 1:return or(c.type)&&Uf(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return rc(),Ht(ir),Ht(On),mg(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return hg(c),null;case 13:if(Ht(Xt),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Xl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Ht(Xt),null;case 4:return rc(),null;case 10:return lg(c.type._context),null;case 22:case 23:return qg(),null;case 24:return null;default:return null}}var ah=!1,zn=!1,gI=typeof WeakSet=="function"?WeakSet:Set,Je=null;function oc(o,c){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(x){rn(o,c,x)}else h.current=null}function jg(o,c,h){try{h()}catch(x){rn(o,c,x)}}var Dx=!1;function yI(o,c){if(We=ba,o=Ru(),Iu(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var T=x.anchorOffset,I=x.focusNode;x=x.focusOffset;try{h.nodeType,I.nodeType}catch{h=null;break e}var q=0,ae=-1,de=-1,Se=0,ze=0,Fe=o,Me=null;t:for(;;){for(var Ge;Fe!==h||T!==0&&Fe.nodeType!==3||(ae=q+T),Fe!==I||x!==0&&Fe.nodeType!==3||(de=q+x),Fe.nodeType===3&&(q+=Fe.nodeValue.length),(Ge=Fe.firstChild)!==null;)Me=Fe,Fe=Ge;for(;;){if(Fe===o)break t;if(Me===h&&++Se===T&&(ae=q),Me===I&&++ze===x&&(de=q),(Ge=Fe.nextSibling)!==null)break;Fe=Me,Me=Fe.parentNode}Fe=Ge}h=ae===-1||de===-1?null:{start:ae,end:de}}else h=null}h=h||{start:0,end:0}}else h=null;for(lt={focusedElem:o,selectionRange:h},ba=!1,Je=c;Je!==null;)if(c=Je,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Je=o;else for(;Je!==null;){c=Je;try{var Xe=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Xe!==null){var et=Xe.memoizedProps,un=Xe.memoizedState,ye=c.stateNode,he=ye.getSnapshotBeforeUpdate(c.elementType===c.type?et:ci(c.type,et),un);ye.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var we=c.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($e){rn(c,c.return,$e)}if(o=c.sibling,o!==null){o.return=c.return,Je=o;break}Je=c.return}return Xe=Dx,Dx=!1,Xe}function Gu(o,c,h){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var T=x=x.next;do{if((T.tag&o)===o){var I=T.destroy;T.destroy=void 0,I!==void 0&&jg(c,h,I)}T=T.next}while(T!==x)}}function lh(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&o)===o){var x=h.create;h.destroy=x()}h=h.next}while(h!==c)}}function Mg(o){var c=o.ref;if(c!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof c=="function"?c(o):c.current=o}}function Bx(o){var c=o.alternate;c!==null&&(o.alternate=null,Bx(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[zr],delete c[fs],delete c[hs],delete c[Jm],delete c[Qm])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Fx(o){return o.tag===5||o.tag===3||o.tag===4}function Ux(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Fx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function zg(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(o,c):h.insertBefore(o,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(o,h)):(c=h,c.appendChild(o)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Oe));else if(x!==4&&(o=o.child,o!==null))for(zg(o,c,h),o=o.sibling;o!==null;)zg(o,c,h),o=o.sibling}function Dg(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Dg(o,c,h),o=o.sibling;o!==null;)Dg(o,c,h),o=o.sibling}var Cn=null,ui=!1;function ws(o,c,h){for(h=h.child;h!==null;)$x(o,c,h),h=h.sibling}function $x(o,c,h){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(ga,h)}catch{}switch(h.tag){case 5:zn||oc(h,c);case 6:var x=Cn,T=ui;Cn=null,ws(o,c,h),Cn=x,ui=T,Cn!==null&&(ui?(o=Cn,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Cn.removeChild(h.stateNode));break;case 18:Cn!==null&&(ui?(o=Cn,h=h.stateNode,o.nodeType===8?Bu(o.parentNode,h):o.nodeType===1&&Bu(o,h),_r(o)):Bu(Cn,h.stateNode));break;case 4:x=Cn,T=ui,Cn=h.stateNode.containerInfo,ui=!0,ws(o,c,h),Cn=x,ui=T;break;case 0:case 11:case 14:case 15:if(!zn&&(x=h.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){T=x=x.next;do{var I=T,q=I.destroy;I=I.tag,q!==void 0&&((I&2)!==0||(I&4)!==0)&&jg(h,c,q),T=T.next}while(T!==x)}ws(o,c,h);break;case 1:if(!zn&&(oc(h,c),x=h.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=h.memoizedProps,x.state=h.memoizedState,x.componentWillUnmount()}catch(ae){rn(h,c,ae)}ws(o,c,h);break;case 21:ws(o,c,h);break;case 22:h.mode&1?(zn=(x=zn)||h.memoizedState!==null,ws(o,c,h),zn=x):ws(o,c,h);break;default:ws(o,c,h)}}function Zx(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new gI),c.forEach(function(x){var T=CI.bind(null,o,x);h.has(x)||(h.add(x),x.then(T,T))})}}function di(o,c){var h=c.deletions;if(h!==null)for(var x=0;x<h.length;x++){var T=h[x];try{var I=o,q=c,ae=q;e:for(;ae!==null;){switch(ae.tag){case 5:Cn=ae.stateNode,ui=!1;break e;case 3:Cn=ae.stateNode.containerInfo,ui=!0;break e;case 4:Cn=ae.stateNode.containerInfo,ui=!0;break e}ae=ae.return}if(Cn===null)throw Error(n(160));$x(I,q,T),Cn=null,ui=!1;var de=T.alternate;de!==null&&(de.return=null),T.return=null}catch(Se){rn(T,c,Se)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Hx(c,o),c=c.sibling}function Hx(o,c){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(di(c,o),zi(o),x&4){try{Gu(3,o,o.return),lh(3,o)}catch(et){rn(o,o.return,et)}try{Gu(5,o,o.return)}catch(et){rn(o,o.return,et)}}break;case 1:di(c,o),zi(o),x&512&&h!==null&&oc(h,h.return);break;case 5:if(di(c,o),zi(o),x&512&&h!==null&&oc(h,h.return),o.flags&32){var T=o.stateNode;try{ne(T,"")}catch(et){rn(o,o.return,et)}}if(x&4&&(T=o.stateNode,T!=null)){var I=o.memoizedProps,q=h!==null?h.memoizedProps:I,ae=o.type,de=o.updateQueue;if(o.updateQueue=null,de!==null)try{ae==="input"&&I.type==="radio"&&I.name!=null&&be(T,I),St(ae,q);var Se=St(ae,I);for(q=0;q<de.length;q+=2){var ze=de[q],Fe=de[q+1];ze==="style"?dt(T,Fe):ze==="dangerouslySetInnerHTML"?j(T,Fe):ze==="children"?ne(T,Fe):A(T,ze,Fe,Se)}switch(ae){case"input":oe(T,I);break;case"textarea":Ve(T,I);break;case"select":var Me=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!I.multiple;var Ge=I.value;Ge!=null?Le(T,!!I.multiple,Ge,!1):Me!==!!I.multiple&&(I.defaultValue!=null?Le(T,!!I.multiple,I.defaultValue,!0):Le(T,!!I.multiple,I.multiple?[]:"",!1))}T[fs]=I}catch(et){rn(o,o.return,et)}}break;case 6:if(di(c,o),zi(o),x&4){if(o.stateNode===null)throw Error(n(162));T=o.stateNode,I=o.memoizedProps;try{T.nodeValue=I}catch(et){rn(o,o.return,et)}}break;case 3:if(di(c,o),zi(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{_r(c.containerInfo)}catch(et){rn(o,o.return,et)}break;case 4:di(c,o),zi(o);break;case 13:di(c,o),zi(o),T=o.child,T.flags&8192&&(I=T.memoizedState!==null,T.stateNode.isHidden=I,!I||T.alternate!==null&&T.alternate.memoizedState!==null||(Ug=Jt())),x&4&&Zx(o);break;case 22:if(ze=h!==null&&h.memoizedState!==null,o.mode&1?(zn=(Se=zn)||ze,di(c,o),zn=Se):di(c,o),zi(o),x&8192){if(Se=o.memoizedState!==null,(o.stateNode.isHidden=Se)&&!ze&&(o.mode&1)!==0)for(Je=o,ze=o.child;ze!==null;){for(Fe=Je=ze;Je!==null;){switch(Me=Je,Ge=Me.child,Me.tag){case 0:case 11:case 14:case 15:Gu(4,Me,Me.return);break;case 1:oc(Me,Me.return);var Xe=Me.stateNode;if(typeof Xe.componentWillUnmount=="function"){x=Me,h=Me.return;try{c=x,Xe.props=c.memoizedProps,Xe.state=c.memoizedState,Xe.componentWillUnmount()}catch(et){rn(x,h,et)}}break;case 5:oc(Me,Me.return);break;case 22:if(Me.memoizedState!==null){qx(Fe);continue}}Ge!==null?(Ge.return=Me,Je=Ge):qx(Fe)}ze=ze.sibling}e:for(ze=null,Fe=o;;){if(Fe.tag===5){if(ze===null){ze=Fe;try{T=Fe.stateNode,Se?(I=T.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(ae=Fe.stateNode,de=Fe.memoizedProps.style,q=de!=null&&de.hasOwnProperty("display")?de.display:null,ae.style.display=Ce("display",q))}catch(et){rn(o,o.return,et)}}}else if(Fe.tag===6){if(ze===null)try{Fe.stateNode.nodeValue=Se?"":Fe.memoizedProps}catch(et){rn(o,o.return,et)}}else if((Fe.tag!==22&&Fe.tag!==23||Fe.memoizedState===null||Fe===o)&&Fe.child!==null){Fe.child.return=Fe,Fe=Fe.child;continue}if(Fe===o)break e;for(;Fe.sibling===null;){if(Fe.return===null||Fe.return===o)break e;ze===Fe&&(ze=null),Fe=Fe.return}ze===Fe&&(ze=null),Fe.sibling.return=Fe.return,Fe=Fe.sibling}}break;case 19:di(c,o),zi(o),x&4&&Zx(o);break;case 21:break;default:di(c,o),zi(o)}}function zi(o){var c=o.flags;if(c&2){try{e:{for(var h=o.return;h!==null;){if(Fx(h)){var x=h;break e}h=h.return}throw Error(n(160))}switch(x.tag){case 5:var T=x.stateNode;x.flags&32&&(ne(T,""),x.flags&=-33);var I=Ux(o);Dg(o,I,T);break;case 3:case 4:var q=x.stateNode.containerInfo,ae=Ux(o);zg(o,ae,q);break;default:throw Error(n(161))}}catch(de){rn(o,o.return,de)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function vI(o,c,h){Je=o,Wx(o)}function Wx(o,c,h){for(var x=(o.mode&1)!==0;Je!==null;){var T=Je,I=T.child;if(T.tag===22&&x){var q=T.memoizedState!==null||ah;if(!q){var ae=T.alternate,de=ae!==null&&ae.memoizedState!==null||zn;ae=ah;var Se=zn;if(ah=q,(zn=de)&&!Se)for(Je=T;Je!==null;)q=Je,de=q.child,q.tag===22&&q.memoizedState!==null?Kx(T):de!==null?(de.return=q,Je=de):Kx(T);for(;I!==null;)Je=I,Wx(I),I=I.sibling;Je=T,ah=ae,zn=Se}Vx(o)}else(T.subtreeFlags&8772)!==0&&I!==null?(I.return=T,Je=I):Vx(o)}}function Vx(o){for(;Je!==null;){var c=Je;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:zn||lh(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!zn)if(h===null)x.componentDidMount();else{var T=c.elementType===c.type?h.memoizedProps:ci(c.type,h.memoizedProps);x.componentDidUpdate(T,h.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var I=c.updateQueue;I!==null&&q_(c,I,x);break;case 3:var q=c.updateQueue;if(q!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}q_(c,q,h)}break;case 5:var ae=c.stateNode;if(h===null&&c.flags&4){h=ae;var de=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&h.focus();break;case"img":de.src&&(h.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Se=c.alternate;if(Se!==null){var ze=Se.memoizedState;if(ze!==null){var Fe=ze.dehydrated;Fe!==null&&_r(Fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}zn||c.flags&512&&Mg(c)}catch(Me){rn(c,c.return,Me)}}if(c===o){Je=null;break}if(h=c.sibling,h!==null){h.return=c.return,Je=h;break}Je=c.return}}function qx(o){for(;Je!==null;){var c=Je;if(c===o){Je=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Je=h;break}Je=c.return}}function Kx(o){for(;Je!==null;){var c=Je;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{lh(4,c)}catch(de){rn(c,h,de)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var T=c.return;try{x.componentDidMount()}catch(de){rn(c,T,de)}}var I=c.return;try{Mg(c)}catch(de){rn(c,I,de)}break;case 5:var q=c.return;try{Mg(c)}catch(de){rn(c,q,de)}}}catch(de){rn(c,c.return,de)}if(c===o){Je=null;break}var ae=c.sibling;if(ae!==null){ae.return=c.return,Je=ae;break}Je=c.return}}var wI=Math.ceil,ch=z.ReactCurrentDispatcher,Bg=z.ReactCurrentOwner,$r=z.ReactCurrentBatchConfig,Nt=0,En=null,hn=null,Pn=0,Pr=0,sc=ps(0),vn=0,Yu=null,Ma=0,uh=0,Fg=0,Ju=null,ar=null,Ug=0,ac=1/0,Eo=null,dh=!1,$g=null,_s=null,fh=!1,xs=null,hh=0,Qu=0,Zg=null,ph=-1,mh=0;function Gn(){return(Nt&6)!==0?Jt():ph!==-1?ph:ph=Jt()}function bs(o){return(o.mode&1)===0?1:(Nt&2)!==0&&Pn!==0?Pn&-Pn:nI.transition!==null?(mh===0&&(mh=vf()),mh):(o=Ct,o!==0||(o=window.event,o=o===void 0?16:bt(o.type)),o)}function fi(o,c,h,x){if(50<Qu)throw Qu=0,Zg=null,Error(n(185));vr(o,h,x),((Nt&2)===0||o!==En)&&(o===En&&((Nt&2)===0&&(uh|=h),vn===4&&Es(o,Pn)),lr(o,x),h===1&&Nt===0&&(c.mode&1)===0&&(ac=Jt()+500,Zf&&gs()))}function lr(o,c){var h=o.callbackNode;Pl(o,c);var x=Ut(o,o===En?Pn:0);if(x===0)h!==null&&hu(h),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(h!=null&&hu(h),c===1)o.tag===0?tI(Yx.bind(null,o)):j_(Yx.bind(null,o)),Ln(function(){(Nt&6)===0&&gs()}),h=null;else{switch(Jo(x)){case 1:h=pu;break;case 4:h=yf;break;case 16:h=kl;break;case 536870912:h=qo;break;default:h=kl}h=ib(h,Gx.bind(null,o))}o.callbackPriority=c,o.callbackNode=h}}function Gx(o,c){if(ph=-1,mh=0,(Nt&6)!==0)throw Error(n(327));var h=o.callbackNode;if(lc()&&o.callbackNode!==h)return null;var x=Ut(o,o===En?Pn:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=gh(o,x);else{c=x;var T=Nt;Nt|=2;var I=Qx();(En!==o||Pn!==c)&&(Eo=null,ac=Jt()+500,Da(o,c));do try{bI();break}catch(ae){Jx(o,ae)}while(!0);ag(),ch.current=I,Nt=T,hn!==null?c=0:(En=null,Pn=0,c=vn)}if(c!==0){if(c===2&&(T=Rn(o),T!==0&&(x=T,c=Hg(o,T))),c===1)throw h=Yu,Da(o,0),Es(o,x),lr(o,Jt()),h;if(c===6)Es(o,x);else{if(T=o.current.alternate,(x&30)===0&&!_I(T)&&(c=gh(o,x),c===2&&(I=Rn(o),I!==0&&(x=I,c=Hg(o,I))),c===1))throw h=Yu,Da(o,0),Es(o,x),lr(o,Jt()),h;switch(o.finishedWork=T,o.finishedLanes=x,c){case 0:case 1:throw Error(n(345));case 2:Ba(o,ar,Eo);break;case 3:if(Es(o,x),(x&130023424)===x&&(c=Ug+500-Jt(),10<c)){if(Ut(o,0)!==0)break;if(T=o.suspendedLanes,(T&x)!==x){Gn(),o.pingedLanes|=o.suspendedLanes&T;break}o.timeoutHandle=gn(Ba.bind(null,o,ar,Eo),c);break}Ba(o,ar,Eo);break;case 4:if(Es(o,x),(x&4194240)===x)break;for(c=o.eventTimes,T=-1;0<x;){var q=31-gt(x);I=1<<q,q=c[q],q>T&&(T=q),x&=~I}if(x=T,x=Jt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*wI(x/1960))-x,10<x){o.timeoutHandle=gn(Ba.bind(null,o,ar,Eo),x);break}Ba(o,ar,Eo);break;case 5:Ba(o,ar,Eo);break;default:throw Error(n(329))}}}return lr(o,Jt()),o.callbackNode===h?Gx.bind(null,o):null}function Hg(o,c){var h=Ju;return o.current.memoizedState.isDehydrated&&(Da(o,c).flags|=256),o=gh(o,c),o!==2&&(c=ar,ar=h,c!==null&&Wg(c)),o}function Wg(o){ar===null?ar=o:ar.push.apply(ar,o)}function _I(o){for(var c=o;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var x=0;x<h.length;x++){var T=h[x],I=T.getSnapshot;T=T.value;try{if(!Er(I(),T))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Es(o,c){for(c&=~Fg,c&=~uh,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var h=31-gt(c),x=1<<h;o[h]=-1,c&=~x}}function Yx(o){if((Nt&6)!==0)throw Error(n(327));lc();var c=Ut(o,0);if((c&1)===0)return lr(o,Jt()),null;var h=gh(o,c);if(o.tag!==0&&h===2){var x=Rn(o);x!==0&&(c=x,h=Hg(o,x))}if(h===1)throw h=Yu,Da(o,0),Es(o,c),lr(o,Jt()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,Ba(o,ar,Eo),lr(o,Jt()),null}function Vg(o,c){var h=Nt;Nt|=1;try{return o(c)}finally{Nt=h,Nt===0&&(ac=Jt()+500,Zf&&gs())}}function za(o){xs!==null&&xs.tag===0&&(Nt&6)===0&&lc();var c=Nt;Nt|=1;var h=$r.transition,x=Ct;try{if($r.transition=null,Ct=1,o)return o()}finally{Ct=x,$r.transition=h,Nt=c,(Nt&6)===0&&gs()}}function qg(){Pr=sc.current,Ht(sc)}function Da(o,c){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,fn(h)),hn!==null)for(h=hn.return;h!==null;){var x=h;switch(ng(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Uf();break;case 3:rc(),Ht(ir),Ht(On),mg();break;case 5:hg(x);break;case 4:rc();break;case 13:Ht(Xt);break;case 19:Ht(Xt);break;case 10:lg(x.type._context);break;case 22:case 23:qg()}h=h.return}if(En=o,hn=o=Ss(o.current,null),Pn=Pr=c,vn=0,Yu=null,Fg=uh=Ma=0,ar=Ju=null,La!==null){for(c=0;c<La.length;c++)if(h=La[c],x=h.interleaved,x!==null){h.interleaved=null;var T=x.next,I=h.pending;if(I!==null){var q=I.next;I.next=T,x.next=q}h.pending=x}La=null}return o}function Jx(o,c){do{var h=hn;try{if(ag(),Xf.current=rh,eh){for(var x=en.memoizedState;x!==null;){var T=x.queue;T!==null&&(T.pending=null),x=x.next}eh=!1}if(ja=0,bn=yn=en=null,Hu=!1,Wu=0,Bg.current=null,h===null||h.return===null){vn=1,Yu=c,hn=null;break}e:{var I=o,q=h.return,ae=h,de=c;if(c=Pn,ae.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Se=de,ze=ae,Fe=ze.tag;if((ze.mode&1)===0&&(Fe===0||Fe===11||Fe===15)){var Me=ze.alternate;Me?(ze.updateQueue=Me.updateQueue,ze.memoizedState=Me.memoizedState,ze.lanes=Me.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var Ge=bx(q);if(Ge!==null){Ge.flags&=-257,Ex(Ge,q,ae,I,c),Ge.mode&1&&xx(I,Se,c),c=Ge,de=Se;var Xe=c.updateQueue;if(Xe===null){var et=new Set;et.add(de),c.updateQueue=et}else Xe.add(de);break e}else{if((c&1)===0){xx(I,Se,c),Kg();break e}de=Error(n(426))}}else if(qt&&ae.mode&1){var un=bx(q);if(un!==null){(un.flags&65536)===0&&(un.flags|=256),Ex(un,q,ae,I,c),og(ic(de,ae));break e}}I=de=ic(de,ae),vn!==4&&(vn=2),Ju===null?Ju=[I]:Ju.push(I),I=q;do{switch(I.tag){case 3:I.flags|=65536,c&=-c,I.lanes|=c;var ye=wx(I,de,c);V_(I,ye);break e;case 1:ae=de;var he=I.type,we=I.stateNode;if((I.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(_s===null||!_s.has(we)))){I.flags|=65536,c&=-c,I.lanes|=c;var $e=_x(I,ae,c);V_(I,$e);break e}}I=I.return}while(I!==null)}eb(h)}catch(rt){c=rt,hn===h&&h!==null&&(hn=h=h.return);continue}break}while(!0)}function Qx(){var o=ch.current;return ch.current=rh,o===null?rh:o}function Kg(){(vn===0||vn===3||vn===2)&&(vn=4),En===null||(Ma&268435455)===0&&(uh&268435455)===0||Es(En,Pn)}function gh(o,c){var h=Nt;Nt|=2;var x=Qx();(En!==o||Pn!==c)&&(Eo=null,Da(o,c));do try{xI();break}catch(T){Jx(o,T)}while(!0);if(ag(),Nt=h,ch.current=x,hn!==null)throw Error(n(261));return En=null,Pn=0,vn}function xI(){for(;hn!==null;)Xx(hn)}function bI(){for(;hn!==null&&!jm();)Xx(hn)}function Xx(o){var c=rb(o.alternate,o,Pr);o.memoizedProps=o.pendingProps,c===null?eb(o):hn=c,Bg.current=null}function eb(o){var c=o;do{var h=c.alternate;if(o=c.return,(c.flags&32768)===0){if(h=pI(h,c,Pr),h!==null){hn=h;return}}else{if(h=mI(h,c),h!==null){h.flags&=32767,hn=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{vn=6,hn=null;return}}if(c=c.sibling,c!==null){hn=c;return}hn=c=o}while(c!==null);vn===0&&(vn=5)}function Ba(o,c,h){var x=Ct,T=$r.transition;try{$r.transition=null,Ct=1,EI(o,c,h,x)}finally{$r.transition=T,Ct=x}return null}function EI(o,c,h,x){do lc();while(xs!==null);if((Nt&6)!==0)throw Error(n(327));h=o.finishedWork;var T=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var I=h.lanes|h.childLanes;if(nn(o,I),o===En&&(hn=En=null,Pn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||fh||(fh=!0,ib(kl,function(){return lc(),null})),I=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||I){I=$r.transition,$r.transition=null;var q=Ct;Ct=1;var ae=Nt;Nt|=4,Bg.current=null,yI(o,h),Hx(h,o),jr(lt),ba=!!We,lt=We=null,o.current=h,vI(h),Sl(),Nt=ae,Ct=q,$r.transition=I}else o.current=h;if(fh&&(fh=!1,xs=o,hh=T),I=o.pendingLanes,I===0&&(_s=null),ya(h.stateNode),lr(o,Jt()),c!==null)for(x=o.onRecoverableError,h=0;h<c.length;h++)T=c[h],x(T.value,{componentStack:T.stack,digest:T.digest});if(dh)throw dh=!1,o=$g,$g=null,o;return(hh&1)!==0&&o.tag!==0&&lc(),I=o.pendingLanes,(I&1)!==0?o===Zg?Qu++:(Qu=0,Zg=o):Qu=0,gs(),null}function lc(){if(xs!==null){var o=Jo(hh),c=$r.transition,h=Ct;try{if($r.transition=null,Ct=16>o?16:o,xs===null)var x=!1;else{if(o=xs,xs=null,hh=0,(Nt&6)!==0)throw Error(n(331));var T=Nt;for(Nt|=4,Je=o.current;Je!==null;){var I=Je,q=I.child;if((Je.flags&16)!==0){var ae=I.deletions;if(ae!==null){for(var de=0;de<ae.length;de++){var Se=ae[de];for(Je=Se;Je!==null;){var ze=Je;switch(ze.tag){case 0:case 11:case 15:Gu(8,ze,I)}var Fe=ze.child;if(Fe!==null)Fe.return=ze,Je=Fe;else for(;Je!==null;){ze=Je;var Me=ze.sibling,Ge=ze.return;if(Bx(ze),ze===Se){Je=null;break}if(Me!==null){Me.return=Ge,Je=Me;break}Je=Ge}}}var Xe=I.alternate;if(Xe!==null){var et=Xe.child;if(et!==null){Xe.child=null;do{var un=et.sibling;et.sibling=null,et=un}while(et!==null)}}Je=I}}if((I.subtreeFlags&2064)!==0&&q!==null)q.return=I,Je=q;else e:for(;Je!==null;){if(I=Je,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:Gu(9,I,I.return)}var ye=I.sibling;if(ye!==null){ye.return=I.return,Je=ye;break e}Je=I.return}}var he=o.current;for(Je=he;Je!==null;){q=Je;var we=q.child;if((q.subtreeFlags&2064)!==0&&we!==null)we.return=q,Je=we;else e:for(q=he;Je!==null;){if(ae=Je,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:lh(9,ae)}}catch(rt){rn(ae,ae.return,rt)}if(ae===q){Je=null;break e}var $e=ae.sibling;if($e!==null){$e.return=ae.return,Je=$e;break e}Je=ae.return}}if(Nt=T,gs(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(ga,o)}catch{}x=!0}return x}finally{Ct=h,$r.transition=c}}return!1}function tb(o,c,h){c=ic(h,c),c=wx(o,c,1),o=vs(o,c,1),c=Gn(),o!==null&&(vr(o,1,c),lr(o,c))}function rn(o,c,h){if(o.tag===3)tb(o,o,h);else for(;c!==null;){if(c.tag===3){tb(c,o,h);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(_s===null||!_s.has(x))){o=ic(h,o),o=_x(c,o,1),c=vs(c,o,1),o=Gn(),c!==null&&(vr(c,1,o),lr(c,o));break}}c=c.return}}function SI(o,c,h){var x=o.pingCache;x!==null&&x.delete(c),c=Gn(),o.pingedLanes|=o.suspendedLanes&h,En===o&&(Pn&h)===h&&(vn===4||vn===3&&(Pn&130023424)===Pn&&500>Jt()-Ug?Da(o,0):Fg|=h),lr(o,c)}function nb(o,c){c===0&&((o.mode&1)===0?c=1:(c=Go,Go<<=1,(Go&130023424)===0&&(Go=4194304)));var h=Gn();o=_o(o,c),o!==null&&(vr(o,c,h),lr(o,h))}function kI(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),nb(o,h)}function CI(o,c){var h=0;switch(o.tag){case 13:var x=o.stateNode,T=o.memoizedState;T!==null&&(h=T.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(c),nb(o,h)}var rb;rb=function(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps||ir.current)sr=!0;else{if((o.lanes&h)===0&&(c.flags&128)===0)return sr=!1,hI(o,c,h);sr=(o.flags&131072)!==0}else sr=!1,qt&&(c.flags&1048576)!==0&&M_(c,Wf,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;sh(o,c),o=c.pendingProps;var T=Yl(c,On.current);nc(c,h),T=vg(null,c,x,o,T,h);var I=wg();return c.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,or(x)?(I=!0,$f(c)):I=!1,c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,dg(c),T.updater=ih,c.stateNode=T,T._reactInternals=c,kg(c,x,o,h),c=Ng(null,c,x,!0,I,h)):(c.tag=0,qt&&I&&tg(c),Kn(null,c,T,h),c=c.child),c;case 16:x=c.elementType;e:{switch(sh(o,c),o=c.pendingProps,T=x._init,x=T(x._payload),c.type=x,T=c.tag=TI(x),o=ci(x,o),T){case 0:c=Tg(null,c,x,o,h);break e;case 1:c=Nx(null,c,x,o,h);break e;case 11:c=Sx(null,c,x,o,h);break e;case 14:c=kx(null,c,x,ci(x.type,o),h);break e}throw Error(n(306,x,""))}return c;case 0:return x=c.type,T=c.pendingProps,T=c.elementType===x?T:ci(x,T),Tg(o,c,x,T,h);case 1:return x=c.type,T=c.pendingProps,T=c.elementType===x?T:ci(x,T),Nx(o,c,x,T,h);case 3:e:{if(Ax(c),o===null)throw Error(n(387));x=c.pendingProps,I=c.memoizedState,T=I.element,W_(o,c),Jf(c,x,null,h);var q=c.memoizedState;if(x=q.element,I.isDehydrated)if(I={element:x,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},c.updateQueue.baseState=I,c.memoizedState=I,c.flags&256){T=ic(Error(n(423)),c),c=Rx(o,c,x,h,T);break e}else if(x!==T){T=ic(Error(n(424)),c),c=Rx(o,c,x,h,T);break e}else for(Cr=Oi(c.stateNode.containerInfo.firstChild),kr=c,qt=!0,li=null,h=Z_(c,null,x,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Xl(),x===T){c=bo(o,c,h);break e}Kn(o,c,x,h)}c=c.child}return c;case 5:return K_(c),o===null&&ig(c),x=c.type,T=c.pendingProps,I=o!==null?o.memoizedProps:null,q=T.children,vt(x,T)?q=null:I!==null&&vt(x,I)&&(c.flags|=32),Tx(o,c),Kn(o,c,q,h),c.child;case 6:return o===null&&ig(c),null;case 13:return Ix(o,c,h);case 4:return fg(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=ec(c,null,x,h):Kn(o,c,x,h),c.child;case 11:return x=c.type,T=c.pendingProps,T=c.elementType===x?T:ci(x,T),Sx(o,c,x,T,h);case 7:return Kn(o,c,c.pendingProps,h),c.child;case 8:return Kn(o,c,c.pendingProps.children,h),c.child;case 12:return Kn(o,c,c.pendingProps.children,h),c.child;case 10:e:{if(x=c.type._context,T=c.pendingProps,I=c.memoizedProps,q=T.value,$t(Kf,x._currentValue),x._currentValue=q,I!==null)if(Er(I.value,q)){if(I.children===T.children&&!ir.current){c=bo(o,c,h);break e}}else for(I=c.child,I!==null&&(I.return=c);I!==null;){var ae=I.dependencies;if(ae!==null){q=I.child;for(var de=ae.firstContext;de!==null;){if(de.context===x){if(I.tag===1){de=xo(-1,h&-h),de.tag=2;var Se=I.updateQueue;if(Se!==null){Se=Se.shared;var ze=Se.pending;ze===null?de.next=de:(de.next=ze.next,ze.next=de),Se.pending=de}}I.lanes|=h,de=I.alternate,de!==null&&(de.lanes|=h),cg(I.return,h,c),ae.lanes|=h;break}de=de.next}}else if(I.tag===10)q=I.type===c.type?null:I.child;else if(I.tag===18){if(q=I.return,q===null)throw Error(n(341));q.lanes|=h,ae=q.alternate,ae!==null&&(ae.lanes|=h),cg(q,h,c),q=I.sibling}else q=I.child;if(q!==null)q.return=I;else for(q=I;q!==null;){if(q===c){q=null;break}if(I=q.sibling,I!==null){I.return=q.return,q=I;break}q=q.return}I=q}Kn(o,c,T.children,h),c=c.child}return c;case 9:return T=c.type,x=c.pendingProps.children,nc(c,h),T=Fr(T),x=x(T),c.flags|=1,Kn(o,c,x,h),c.child;case 14:return x=c.type,T=ci(x,c.pendingProps),T=ci(x.type,T),kx(o,c,x,T,h);case 15:return Cx(o,c,c.type,c.pendingProps,h);case 17:return x=c.type,T=c.pendingProps,T=c.elementType===x?T:ci(x,T),sh(o,c),c.tag=1,or(x)?(o=!0,$f(c)):o=!1,nc(c,h),yx(c,x,T),kg(c,x,T,h),Ng(null,c,x,!0,o,h);case 19:return Ox(o,c,h);case 22:return Px(o,c,h)}throw Error(n(156,c.tag))};function ib(o,c){return gf(o,c)}function PI(o,c,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(o,c,h,x){return new PI(o,c,h,x)}function Gg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function TI(o){if(typeof o=="function")return Gg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===U)return 11;if(o===K)return 14}return 2}function Ss(o,c){var h=o.alternate;return h===null?(h=Zr(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function yh(o,c,h,x,T,I){var q=2;if(x=o,typeof o=="function")Gg(o)&&(q=1);else if(typeof o=="string")q=5;else e:switch(o){case H:return Fa(h.children,T,I,c);case V:q=8,T|=8;break;case F:return o=Zr(12,h,c,T|2),o.elementType=F,o.lanes=I,o;case X:return o=Zr(13,h,c,T),o.elementType=X,o.lanes=I,o;case O:return o=Zr(19,h,c,T),o.elementType=O,o.lanes=I,o;case ie:return vh(h,T,I,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case W:q=10;break e;case J:q=9;break e;case U:q=11;break e;case K:q=14;break e;case se:q=16,x=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return c=Zr(q,h,c,T),c.elementType=o,c.type=x,c.lanes=I,c}function Fa(o,c,h,x){return o=Zr(7,o,x,c),o.lanes=h,o}function vh(o,c,h,x){return o=Zr(22,o,x,c),o.elementType=ie,o.lanes=h,o.stateNode={isHidden:!1},o}function Yg(o,c,h){return o=Zr(6,o,null,c),o.lanes=h,o}function Jg(o,c,h){return c=Zr(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function NI(o,c,h,x,T){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yo(0),this.expirationTimes=Yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yo(0),this.identifierPrefix=x,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function Qg(o,c,h,x,T,I,q,ae,de){return o=new NI(o,c,h,ae,de),c===1?(c=1,I===!0&&(c|=8)):c=0,I=Zr(3,null,null,c),o.current=I,I.stateNode=o,I.memoizedState={element:x,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},dg(I),o}function AI(o,c,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:x==null?null:""+x,children:o,containerInfo:c,implementation:h}}function ob(o){if(!o)return ms;o=o._reactInternals;e:{if(Ci(o)!==o||o.tag!==1)throw Error(n(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(or(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(or(h))return L_(o,h,c)}return c}function sb(o,c,h,x,T,I,q,ae,de){return o=Qg(h,x,!0,o,T,I,q,ae,de),o.context=ob(null),h=o.current,x=Gn(),T=bs(h),I=xo(x,T),I.callback=c??null,vs(h,I,T),o.current.lanes=T,vr(o,T,x),lr(o,x),o}function wh(o,c,h,x){var T=c.current,I=Gn(),q=bs(T);return h=ob(h),c.context===null?c.context=h:c.pendingContext=h,c=xo(I,q),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=vs(T,c,q),o!==null&&(fi(o,T,q,I),Yf(o,T,q)),q}function _h(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function ab(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Xg(o,c){ab(o,c),(o=o.alternate)&&ab(o,c)}function RI(){return null}var lb=typeof reportError=="function"?reportError:function(o){console.error(o)};function ey(o){this._internalRoot=o}xh.prototype.render=ey.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));wh(o,c,null,null)},xh.prototype.unmount=ey.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;za(function(){wh(null,o,null,null)}),c[jt]=null}};function xh(o){this._internalRoot=o}xh.prototype.unstable_scheduleHydration=function(o){if(o){var c=Al();o={blockedOn:null,target:o,priority:c};for(var h=0;h<mn.length&&c!==0&&c<mn[h].priority;h++);mn.splice(h,0,o),h===0&&Rl(o)}};function ty(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function bh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function cb(){}function II(o,c,h,x,T){if(T){if(typeof x=="function"){var I=x;x=function(){var Se=_h(q);I.call(Se)}}var q=sb(c,x,o,0,null,!1,!1,"",cb);return o._reactRootContainer=q,o[jt]=q.current,us(o.nodeType===8?o.parentNode:o),za(),q}for(;T=o.lastChild;)o.removeChild(T);if(typeof x=="function"){var ae=x;x=function(){var Se=_h(de);ae.call(Se)}}var de=Qg(o,0,!1,null,null,!1,!1,"",cb);return o._reactRootContainer=de,o[jt]=de.current,us(o.nodeType===8?o.parentNode:o),za(function(){wh(c,de,h,x)}),de}function Eh(o,c,h,x,T){var I=h._reactRootContainer;if(I){var q=I;if(typeof T=="function"){var ae=T;T=function(){var de=_h(q);ae.call(de)}}wh(c,q,o,T)}else q=II(h,c,o,T,x);return _h(q)}Tl=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var h=pt(c.pendingLanes);h!==0&&(ri(c,h|1),lr(c,Jt()),(Nt&6)===0&&(ac=Jt()+500,gs()))}break;case 13:za(function(){var x=_o(o,1);if(x!==null){var T=Gn();fi(x,o,1,T)}}),Xg(o,1)}},io=function(o){if(o.tag===13){var c=_o(o,134217728);if(c!==null){var h=Gn();fi(c,o,134217728,h)}Xg(o,134217728)}},Nl=function(o){if(o.tag===13){var c=bs(o),h=_o(o,c);if(h!==null){var x=Gn();fi(h,o,c,x)}Xg(o,c)}},Al=function(){return Ct},va=function(o,c){var h=Ct;try{return Ct=o,c()}finally{Ct=h}},Vo=function(o,c,h){switch(c){case"input":if(oe(o,h),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var x=h[c];if(x!==o&&x.form===o.form){var T=Kl(x);if(!T)throw Error(n(90));ot(x),oe(x,T)}}}break;case"textarea":Ve(o,h);break;case"select":c=h.value,c!=null&&Le(o,!!h.multiple,c,!1)}},uf=Vg,df=za;var LI={usingClientEntryPoint:!1,Events:[mo,go,Kl,lf,cf,Vg]},Xu={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OI={bundleType:Xu.bundleType,version:Xu.version,rendererPackageName:Xu.rendererPackageName,rendererConfig:Xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=pf(o),o===null?null:o.stateNode},findFiberByHostInstance:Xu.findFiberByHostInstance||RI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{ga=Sh.inject(OI),yr=Sh}catch{}}return cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LI,cr.createPortal=function(o,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ty(c))throw Error(n(200));return AI(o,c,null,h)},cr.createRoot=function(o,c){if(!ty(o))throw Error(n(299));var h=!1,x="",T=lb;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),c=Qg(o,1,!1,null,null,h,!1,x,T),o[jt]=c.current,us(o.nodeType===8?o.parentNode:o),new ey(c)},cr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=pf(c),o=o===null?null:o.stateNode,o},cr.flushSync=function(o){return za(o)},cr.hydrate=function(o,c,h){if(!bh(c))throw Error(n(200));return Eh(null,o,c,!0,h)},cr.hydrateRoot=function(o,c,h){if(!ty(o))throw Error(n(405));var x=h!=null&&h.hydratedSources||null,T=!1,I="",q=lb;if(h!=null&&(h.unstable_strictMode===!0&&(T=!0),h.identifierPrefix!==void 0&&(I=h.identifierPrefix),h.onRecoverableError!==void 0&&(q=h.onRecoverableError)),c=sb(c,null,o,1,h??null,T,!1,I,q),o[jt]=c.current,us(o),x)for(o=0;o<x.length;o++)h=x[o],T=h._getVersion,T=T(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,T]:c.mutableSourceEagerHydrationData.push(h,T);return new xh(c)},cr.render=function(o,c,h){if(!bh(c))throw Error(n(200));return Eh(null,o,c,!1,h)},cr.unmountComponentAtNode=function(o){if(!bh(o))throw Error(n(40));return o._reactRootContainer?(za(function(){Eh(null,null,o,!1,function(){o._reactRootContainer=null,o[jt]=null})}),!0):!1},cr.unstable_batchedUpdates=Vg,cr.unstable_renderSubtreeIntoContainer=function(o,c,h,x){if(!bh(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Eh(o,c,h,!1,x)},cr.version="18.3.1-next-f1338f8080-20240426",cr}var vb;function E2(){if(vb)return oy.exports;vb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),oy.exports=HI(),oy.exports}var wb;function WI(){if(wb)return Ph;wb=1;var e=E2();return Ph.createRoot=e.createRoot,Ph.hydrateRoot=e.hydrateRoot,Ph}var VI=WI(),ly={},td={},_b;function qI(){if(_b)return td;_b=1,td.byteLength=u,td.toByteArray=p,td.fromByteArray=b;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function l(w){var S=w.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=w.indexOf("=");v===-1&&(v=S);var E=v===S?0:4-v%4;return[v,E]}function u(w){var S=l(w),v=S[0],E=S[1];return(v+E)*3/4-E}function d(w,S,v){return(S+v)*3/4-v}function p(w){var S,v=l(w),E=v[0],k=v[1],N=new n(d(w,E,k)),A=0,z=k>0?E-4:E,D;for(D=0;D<z;D+=4)S=t[w.charCodeAt(D)]<<18|t[w.charCodeAt(D+1)]<<12|t[w.charCodeAt(D+2)]<<6|t[w.charCodeAt(D+3)],N[A++]=S>>16&255,N[A++]=S>>8&255,N[A++]=S&255;return k===2&&(S=t[w.charCodeAt(D)]<<2|t[w.charCodeAt(D+1)]>>4,N[A++]=S&255),k===1&&(S=t[w.charCodeAt(D)]<<10|t[w.charCodeAt(D+1)]<<4|t[w.charCodeAt(D+2)]>>2,N[A++]=S>>8&255,N[A++]=S&255),N}function g(w){return e[w>>18&63]+e[w>>12&63]+e[w>>6&63]+e[w&63]}function m(w,S,v){for(var E,k=[],N=S;N<v;N+=3)E=(w[N]<<16&16711680)+(w[N+1]<<8&65280)+(w[N+2]&255),k.push(g(E));return k.join("")}function b(w){for(var S,v=w.length,E=v%3,k=[],N=16383,A=0,z=v-E;A<z;A+=N)k.push(m(w,A,A+N>z?z:A+N));return E===1?(S=w[v-1],k.push(e[S>>2]+e[S<<4&63]+"==")):E===2&&(S=(w[v-2]<<8)+w[v-1],k.push(e[S>>10]+e[S>>4&63]+e[S<<2&63]+"=")),k.join("")}return td}var Th={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var xb;function KI(){return xb||(xb=1,Th.read=function(e,t,n,r,i){var s,l,u=i*8-r-1,d=(1<<u)-1,p=d>>1,g=-7,m=n?i-1:0,b=n?-1:1,w=e[t+m];for(m+=b,s=w&(1<<-g)-1,w>>=-g,g+=u;g>0;s=s*256+e[t+m],m+=b,g-=8);for(l=s&(1<<-g)-1,s>>=-g,g+=r;g>0;l=l*256+e[t+m],m+=b,g-=8);if(s===0)s=1-p;else{if(s===d)return l?NaN:(w?-1:1)*(1/0);l=l+Math.pow(2,r),s=s-p}return(w?-1:1)*l*Math.pow(2,s-r)},Th.write=function(e,t,n,r,i,s){var l,u,d,p=s*8-i-1,g=(1<<p)-1,m=g>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:s-1,S=r?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,l=g):(l=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+m>=1?t+=b/d:t+=b*Math.pow(2,1-m),t*d>=2&&(l++,d/=2),l+m>=g?(u=0,l=g):l+m>=1?(u=(t*d-1)*Math.pow(2,i),l=l+m):(u=t*Math.pow(2,m-1)*Math.pow(2,i),l=0));i>=8;e[n+w]=u&255,w+=S,u/=256,i-=8);for(l=l<<i|u,p+=i;p>0;e[n+w]=l&255,w+=S,l/=256,p-=8);e[n+w-S]|=v*128}),Th}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var bb;function GI(){return bb||(bb=1,function(e){const t=qI(),n=KI(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=s(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const G=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(G,R),G.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(G){if(G>i)throw new RangeError('The value "'+G+'" is invalid for option "size"');const R=new Uint8Array(G);return Object.setPrototypeOf(R,u.prototype),R}function u(G,R,j){if(typeof G=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(G)}return d(G,R,j)}u.poolSize=8192;function d(G,R,j){if(typeof G=="string")return b(G,R);if(ArrayBuffer.isView(G))return S(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(me(G,ArrayBuffer)||G&&me(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(G,SharedArrayBuffer)||G&&me(G.buffer,SharedArrayBuffer)))return v(G,R,j);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=G.valueOf&&G.valueOf();if(ne!=null&&ne!==G)return u.from(ne,R,j);const fe=E(G);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return u.from(G[Symbol.toPrimitive]("string"),R,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}u.from=function(G,R,j){return d(G,R,j)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function g(G,R,j){return p(G),G<=0?l(G):R!==void 0?typeof j=="string"?l(G).fill(R,j):l(G).fill(R):l(G)}u.alloc=function(G,R,j){return g(G,R,j)};function m(G){return p(G),l(G<0?0:k(G)|0)}u.allocUnsafe=function(G){return m(G)},u.allocUnsafeSlow=function(G){return m(G)};function b(G,R){if((typeof R!="string"||R==="")&&(R="utf8"),!u.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const j=A(G,R)|0;let ne=l(j);const fe=ne.write(G,R);return fe!==j&&(ne=ne.slice(0,fe)),ne}function w(G){const R=G.length<0?0:k(G.length)|0,j=l(R);for(let ne=0;ne<R;ne+=1)j[ne]=G[ne]&255;return j}function S(G){if(me(G,Uint8Array)){const R=new Uint8Array(G);return v(R.buffer,R.byteOffset,R.byteLength)}return w(G)}function v(G,R,j){if(R<0||G.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<R+(j||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return R===void 0&&j===void 0?ne=new Uint8Array(G):j===void 0?ne=new Uint8Array(G,R):ne=new Uint8Array(G,R,j),Object.setPrototypeOf(ne,u.prototype),ne}function E(G){if(u.isBuffer(G)){const R=k(G.length)|0,j=l(R);return j.length===0||G.copy(j,0,0,R),j}if(G.length!==void 0)return typeof G.length!="number"||Be(G.length)?l(0):w(G);if(G.type==="Buffer"&&Array.isArray(G.data))return w(G.data)}function k(G){if(G>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return G|0}function N(G){return+G!=G&&(G=0),u.alloc(+G)}u.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==u.prototype},u.compare=function(R,j){if(me(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),me(j,Uint8Array)&&(j=u.from(j,j.offset,j.byteLength)),!u.isBuffer(R)||!u.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===j)return 0;let ne=R.length,fe=j.length;for(let xe=0,Ce=Math.min(ne,fe);xe<Ce;++xe)if(R[xe]!==j[xe]){ne=R[xe],fe=j[xe];break}return ne<fe?-1:fe<ne?1:0},u.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(R,j){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return u.alloc(0);let ne;if(j===void 0)for(j=0,ne=0;ne<R.length;++ne)j+=R[ne].length;const fe=u.allocUnsafe(j);let xe=0;for(ne=0;ne<R.length;++ne){let Ce=R[ne];if(me(Ce,Uint8Array))xe+Ce.length>fe.length?(u.isBuffer(Ce)||(Ce=u.from(Ce)),Ce.copy(fe,xe)):Uint8Array.prototype.set.call(fe,Ce,xe);else if(u.isBuffer(Ce))Ce.copy(fe,xe);else throw new TypeError('"list" argument must be an Array of Buffers');xe+=Ce.length}return fe};function A(G,R){if(u.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||me(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const j=G.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&j===0)return 0;let fe=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return oe(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j*2;case"hex":return j>>>1;case"base64":return Re(G).length;default:if(fe)return ne?-1:oe(G).length;R=(""+R).toLowerCase(),fe=!0}}u.byteLength=A;function z(G,R,j){let ne=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0,R>>>=0,j<=R))return"";for(G||(G="utf8");;)switch(G){case"hex":return ee(this,R,j);case"utf8":case"utf-8":return O(this,R,j);case"ascii":return ie(this,R,j);case"latin1":case"binary":return te(this,R,j);case"base64":return X(this,R,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,R,j);default:if(ne)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),ne=!0}}u.prototype._isBuffer=!0;function D(G,R,j){const ne=G[R];G[R]=G[j],G[j]=ne}u.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let j=0;j<R;j+=2)D(this,j,j+1);return this},u.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let j=0;j<R;j+=4)D(this,j,j+3),D(this,j+1,j+2);return this},u.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let j=0;j<R;j+=8)D(this,j,j+7),D(this,j+1,j+6),D(this,j+2,j+5),D(this,j+3,j+4);return this},u.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?O(this,0,R):z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(R){if(!u.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:u.compare(this,R)===0},u.prototype.inspect=function(){let R="";const j=e.INSPECT_MAX_BYTES;return R=this.toString("hex",0,j).replace(/(.{2})/g,"$1 ").trim(),this.length>j&&(R+=" ... "),"<Buffer "+R+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(R,j,ne,fe,xe){if(me(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),!u.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(j===void 0&&(j=0),ne===void 0&&(ne=R?R.length:0),fe===void 0&&(fe=0),xe===void 0&&(xe=this.length),j<0||ne>R.length||fe<0||xe>this.length)throw new RangeError("out of range index");if(fe>=xe&&j>=ne)return 0;if(fe>=xe)return-1;if(j>=ne)return 1;if(j>>>=0,ne>>>=0,fe>>>=0,xe>>>=0,this===R)return 0;let Ce=xe-fe,dt=ne-j;const Lt=Math.min(Ce,dt),_t=this.slice(fe,xe),St=R.slice(j,ne);for(let kt=0;kt<Lt;++kt)if(_t[kt]!==St[kt]){Ce=_t[kt],dt=St[kt];break}return Ce<dt?-1:dt<Ce?1:0};function $(G,R,j,ne,fe){if(G.length===0)return-1;if(typeof j=="string"?(ne=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,Be(j)&&(j=fe?0:G.length-1),j<0&&(j=G.length+j),j>=G.length){if(fe)return-1;j=G.length-1}else if(j<0)if(fe)j=0;else return-1;if(typeof R=="string"&&(R=u.from(R,ne)),u.isBuffer(R))return R.length===0?-1:H(G,R,j,ne,fe);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(G,R,j):Uint8Array.prototype.lastIndexOf.call(G,R,j):H(G,[R],j,ne,fe);throw new TypeError("val must be string, number or Buffer")}function H(G,R,j,ne,fe){let xe=1,Ce=G.length,dt=R.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(G.length<2||R.length<2)return-1;xe=2,Ce/=2,dt/=2,j/=2}function Lt(St,kt){return xe===1?St[kt]:St.readUInt16BE(kt*xe)}let _t;if(fe){let St=-1;for(_t=j;_t<Ce;_t++)if(Lt(G,_t)===Lt(R,St===-1?0:_t-St)){if(St===-1&&(St=_t),_t-St+1===dt)return St*xe}else St!==-1&&(_t-=_t-St),St=-1}else for(j+dt>Ce&&(j=Ce-dt),_t=j;_t>=0;_t--){let St=!0;for(let kt=0;kt<dt;kt++)if(Lt(G,_t+kt)!==Lt(R,kt)){St=!1;break}if(St)return _t}return-1}u.prototype.includes=function(R,j,ne){return this.indexOf(R,j,ne)!==-1},u.prototype.indexOf=function(R,j,ne){return $(this,R,j,ne,!0)},u.prototype.lastIndexOf=function(R,j,ne){return $(this,R,j,ne,!1)};function V(G,R,j,ne){j=Number(j)||0;const fe=G.length-j;ne?(ne=Number(ne),ne>fe&&(ne=fe)):ne=fe;const xe=R.length;ne>xe/2&&(ne=xe/2);let Ce;for(Ce=0;Ce<ne;++Ce){const dt=parseInt(R.substr(Ce*2,2),16);if(Be(dt))return Ce;G[j+Ce]=dt}return Ce}function F(G,R,j,ne){return Le(oe(R,G.length-j),G,j,ne)}function W(G,R,j,ne){return Le(re(R),G,j,ne)}function J(G,R,j,ne){return Le(Re(R),G,j,ne)}function U(G,R,j,ne){return Le(pe(R,G.length-j),G,j,ne)}u.prototype.write=function(R,j,ne,fe){if(j===void 0)fe="utf8",ne=this.length,j=0;else if(ne===void 0&&typeof j=="string")fe=j,ne=this.length,j=0;else if(isFinite(j))j=j>>>0,isFinite(ne)?(ne=ne>>>0,fe===void 0&&(fe="utf8")):(fe=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const xe=this.length-j;if((ne===void 0||ne>xe)&&(ne=xe),R.length>0&&(ne<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ce=!1;for(;;)switch(fe){case"hex":return V(this,R,j,ne);case"utf8":case"utf-8":return F(this,R,j,ne);case"ascii":case"latin1":case"binary":return W(this,R,j,ne);case"base64":return J(this,R,j,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,R,j,ne);default:if(Ce)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ce=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(G,R,j){return R===0&&j===G.length?t.fromByteArray(G):t.fromByteArray(G.slice(R,j))}function O(G,R,j){j=Math.min(G.length,j);const ne=[];let fe=R;for(;fe<j;){const xe=G[fe];let Ce=null,dt=xe>239?4:xe>223?3:xe>191?2:1;if(fe+dt<=j){let Lt,_t,St,kt;switch(dt){case 1:xe<128&&(Ce=xe);break;case 2:Lt=G[fe+1],(Lt&192)===128&&(kt=(xe&31)<<6|Lt&63,kt>127&&(Ce=kt));break;case 3:Lt=G[fe+1],_t=G[fe+2],(Lt&192)===128&&(_t&192)===128&&(kt=(xe&15)<<12|(Lt&63)<<6|_t&63,kt>2047&&(kt<55296||kt>57343)&&(Ce=kt));break;case 4:Lt=G[fe+1],_t=G[fe+2],St=G[fe+3],(Lt&192)===128&&(_t&192)===128&&(St&192)===128&&(kt=(xe&15)<<18|(Lt&63)<<12|(_t&63)<<6|St&63,kt>65535&&kt<1114112&&(Ce=kt))}}Ce===null?(Ce=65533,dt=1):Ce>65535&&(Ce-=65536,ne.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),ne.push(Ce),fe+=dt}return se(ne)}const K=4096;function se(G){const R=G.length;if(R<=K)return String.fromCharCode.apply(String,G);let j="",ne=0;for(;ne<R;)j+=String.fromCharCode.apply(String,G.slice(ne,ne+=K));return j}function ie(G,R,j){let ne="";j=Math.min(G.length,j);for(let fe=R;fe<j;++fe)ne+=String.fromCharCode(G[fe]&127);return ne}function te(G,R,j){let ne="";j=Math.min(G.length,j);for(let fe=R;fe<j;++fe)ne+=String.fromCharCode(G[fe]);return ne}function ee(G,R,j){const ne=G.length;(!R||R<0)&&(R=0),(!j||j<0||j>ne)&&(j=ne);let fe="";for(let xe=R;xe<j;++xe)fe+=Ve[G[xe]];return fe}function le(G,R,j){const ne=G.slice(R,j);let fe="";for(let xe=0;xe<ne.length-1;xe+=2)fe+=String.fromCharCode(ne[xe]+ne[xe+1]*256);return fe}u.prototype.slice=function(R,j){const ne=this.length;R=~~R,j=j===void 0?ne:~~j,R<0?(R+=ne,R<0&&(R=0)):R>ne&&(R=ne),j<0?(j+=ne,j<0&&(j=0)):j>ne&&(j=ne),j<R&&(j=R);const fe=this.subarray(R,j);return Object.setPrototypeOf(fe,u.prototype),fe};function Z(G,R,j){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+R>j)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(R,j,ne){R=R>>>0,j=j>>>0,ne||Z(R,j,this.length);let fe=this[R],xe=1,Ce=0;for(;++Ce<j&&(xe*=256);)fe+=this[R+Ce]*xe;return fe},u.prototype.readUintBE=u.prototype.readUIntBE=function(R,j,ne){R=R>>>0,j=j>>>0,ne||Z(R,j,this.length);let fe=this[R+--j],xe=1;for(;j>0&&(xe*=256);)fe+=this[R+--j]*xe;return fe},u.prototype.readUint8=u.prototype.readUInt8=function(R,j){return R=R>>>0,j||Z(R,1,this.length),this[R]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(R,j){return R=R>>>0,j||Z(R,2,this.length),this[R]|this[R+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(R,j){return R=R>>>0,j||Z(R,2,this.length),this[R]<<8|this[R+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(R,j){return R=R>>>0,j||Z(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(R,j){return R=R>>>0,j||Z(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},u.prototype.readBigUInt64LE=De(function(R){R=R>>>0,at(R,"offset");const j=this[R],ne=this[R+7];(j===void 0||ne===void 0)&&B(R,this.length-8);const fe=j+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,xe=this[++R]+this[++R]*2**8+this[++R]*2**16+ne*2**24;return BigInt(fe)+(BigInt(xe)<<BigInt(32))}),u.prototype.readBigUInt64BE=De(function(R){R=R>>>0,at(R,"offset");const j=this[R],ne=this[R+7];(j===void 0||ne===void 0)&&B(R,this.length-8);const fe=j*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],xe=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+ne;return(BigInt(fe)<<BigInt(32))+BigInt(xe)}),u.prototype.readIntLE=function(R,j,ne){R=R>>>0,j=j>>>0,ne||Z(R,j,this.length);let fe=this[R],xe=1,Ce=0;for(;++Ce<j&&(xe*=256);)fe+=this[R+Ce]*xe;return xe*=128,fe>=xe&&(fe-=Math.pow(2,8*j)),fe},u.prototype.readIntBE=function(R,j,ne){R=R>>>0,j=j>>>0,ne||Z(R,j,this.length);let fe=j,xe=1,Ce=this[R+--fe];for(;fe>0&&(xe*=256);)Ce+=this[R+--fe]*xe;return xe*=128,Ce>=xe&&(Ce-=Math.pow(2,8*j)),Ce},u.prototype.readInt8=function(R,j){return R=R>>>0,j||Z(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},u.prototype.readInt16LE=function(R,j){R=R>>>0,j||Z(R,2,this.length);const ne=this[R]|this[R+1]<<8;return ne&32768?ne|4294901760:ne},u.prototype.readInt16BE=function(R,j){R=R>>>0,j||Z(R,2,this.length);const ne=this[R+1]|this[R]<<8;return ne&32768?ne|4294901760:ne},u.prototype.readInt32LE=function(R,j){return R=R>>>0,j||Z(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},u.prototype.readInt32BE=function(R,j){return R=R>>>0,j||Z(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},u.prototype.readBigInt64LE=De(function(R){R=R>>>0,at(R,"offset");const j=this[R],ne=this[R+7];(j===void 0||ne===void 0)&&B(R,this.length-8);const fe=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(ne<<24);return(BigInt(fe)<<BigInt(32))+BigInt(j+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),u.prototype.readBigInt64BE=De(function(R){R=R>>>0,at(R,"offset");const j=this[R],ne=this[R+7];(j===void 0||ne===void 0)&&B(R,this.length-8);const fe=(j<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(fe)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+ne)}),u.prototype.readFloatLE=function(R,j){return R=R>>>0,j||Z(R,4,this.length),n.read(this,R,!0,23,4)},u.prototype.readFloatBE=function(R,j){return R=R>>>0,j||Z(R,4,this.length),n.read(this,R,!1,23,4)},u.prototype.readDoubleLE=function(R,j){return R=R>>>0,j||Z(R,8,this.length),n.read(this,R,!0,52,8)},u.prototype.readDoubleBE=function(R,j){return R=R>>>0,j||Z(R,8,this.length),n.read(this,R,!1,52,8)};function Q(G,R,j,ne,fe,xe){if(!u.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>fe||R<xe)throw new RangeError('"value" argument is out of bounds');if(j+ne>G.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(R,j,ne,fe){if(R=+R,j=j>>>0,ne=ne>>>0,!fe){const dt=Math.pow(2,8*ne)-1;Q(this,R,j,ne,dt,0)}let xe=1,Ce=0;for(this[j]=R&255;++Ce<ne&&(xe*=256);)this[j+Ce]=R/xe&255;return j+ne},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(R,j,ne,fe){if(R=+R,j=j>>>0,ne=ne>>>0,!fe){const dt=Math.pow(2,8*ne)-1;Q(this,R,j,ne,dt,0)}let xe=ne-1,Ce=1;for(this[j+xe]=R&255;--xe>=0&&(Ce*=256);)this[j+xe]=R/Ce&255;return j+ne},u.prototype.writeUint8=u.prototype.writeUInt8=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,1,255,0),this[j]=R&255,j+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,2,65535,0),this[j]=R&255,this[j+1]=R>>>8,j+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,2,65535,0),this[j]=R>>>8,this[j+1]=R&255,j+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,4,4294967295,0),this[j+3]=R>>>24,this[j+2]=R>>>16,this[j+1]=R>>>8,this[j]=R&255,j+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,4,4294967295,0),this[j]=R>>>24,this[j+1]=R>>>16,this[j+2]=R>>>8,this[j+3]=R&255,j+4};function ke(G,R,j,ne,fe){ot(R,ne,fe,G,j,7);let xe=Number(R&BigInt(4294967295));G[j++]=xe,xe=xe>>8,G[j++]=xe,xe=xe>>8,G[j++]=xe,xe=xe>>8,G[j++]=xe;let Ce=Number(R>>BigInt(32)&BigInt(4294967295));return G[j++]=Ce,Ce=Ce>>8,G[j++]=Ce,Ce=Ce>>8,G[j++]=Ce,Ce=Ce>>8,G[j++]=Ce,j}function _e(G,R,j,ne,fe){ot(R,ne,fe,G,j,7);let xe=Number(R&BigInt(4294967295));G[j+7]=xe,xe=xe>>8,G[j+6]=xe,xe=xe>>8,G[j+5]=xe,xe=xe>>8,G[j+4]=xe;let Ce=Number(R>>BigInt(32)&BigInt(4294967295));return G[j+3]=Ce,Ce=Ce>>8,G[j+2]=Ce,Ce=Ce>>8,G[j+1]=Ce,Ce=Ce>>8,G[j]=Ce,j+8}u.prototype.writeBigUInt64LE=De(function(R,j=0){return ke(this,R,j,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=De(function(R,j=0){return _e(this,R,j,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(R,j,ne,fe){if(R=+R,j=j>>>0,!fe){const Lt=Math.pow(2,8*ne-1);Q(this,R,j,ne,Lt-1,-Lt)}let xe=0,Ce=1,dt=0;for(this[j]=R&255;++xe<ne&&(Ce*=256);)R<0&&dt===0&&this[j+xe-1]!==0&&(dt=1),this[j+xe]=(R/Ce>>0)-dt&255;return j+ne},u.prototype.writeIntBE=function(R,j,ne,fe){if(R=+R,j=j>>>0,!fe){const Lt=Math.pow(2,8*ne-1);Q(this,R,j,ne,Lt-1,-Lt)}let xe=ne-1,Ce=1,dt=0;for(this[j+xe]=R&255;--xe>=0&&(Ce*=256);)R<0&&dt===0&&this[j+xe+1]!==0&&(dt=1),this[j+xe]=(R/Ce>>0)-dt&255;return j+ne},u.prototype.writeInt8=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,1,127,-128),R<0&&(R=255+R+1),this[j]=R&255,j+1},u.prototype.writeInt16LE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,2,32767,-32768),this[j]=R&255,this[j+1]=R>>>8,j+2},u.prototype.writeInt16BE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,2,32767,-32768),this[j]=R>>>8,this[j+1]=R&255,j+2},u.prototype.writeInt32LE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,4,2147483647,-2147483648),this[j]=R&255,this[j+1]=R>>>8,this[j+2]=R>>>16,this[j+3]=R>>>24,j+4},u.prototype.writeInt32BE=function(R,j,ne){return R=+R,j=j>>>0,ne||Q(this,R,j,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[j]=R>>>24,this[j+1]=R>>>16,this[j+2]=R>>>8,this[j+3]=R&255,j+4},u.prototype.writeBigInt64LE=De(function(R,j=0){return ke(this,R,j,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=De(function(R,j=0){return _e(this,R,j,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ve(G,R,j,ne,fe,xe){if(j+ne>G.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function Ie(G,R,j,ne,fe){return R=+R,j=j>>>0,fe||ve(G,R,j,4),n.write(G,R,j,ne,23,4),j+4}u.prototype.writeFloatLE=function(R,j,ne){return Ie(this,R,j,!0,ne)},u.prototype.writeFloatBE=function(R,j,ne){return Ie(this,R,j,!1,ne)};function Te(G,R,j,ne,fe){return R=+R,j=j>>>0,fe||ve(G,R,j,8),n.write(G,R,j,ne,52,8),j+8}u.prototype.writeDoubleLE=function(R,j,ne){return Te(this,R,j,!0,ne)},u.prototype.writeDoubleBE=function(R,j,ne){return Te(this,R,j,!1,ne)},u.prototype.copy=function(R,j,ne,fe){if(!u.isBuffer(R))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!fe&&fe!==0&&(fe=this.length),j>=R.length&&(j=R.length),j||(j=0),fe>0&&fe<ne&&(fe=ne),fe===ne||R.length===0||this.length===0)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),R.length-j<fe-ne&&(fe=R.length-j+ne);const xe=fe-ne;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(j,ne,fe):Uint8Array.prototype.set.call(R,this.subarray(ne,fe),j),xe},u.prototype.fill=function(R,j,ne,fe){if(typeof R=="string"){if(typeof j=="string"?(fe=j,j=0,ne=this.length):typeof ne=="string"&&(fe=ne,ne=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!u.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(R.length===1){const Ce=R.charCodeAt(0);(fe==="utf8"&&Ce<128||fe==="latin1")&&(R=Ce)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(j<0||this.length<j||this.length<ne)throw new RangeError("Out of range index");if(ne<=j)return this;j=j>>>0,ne=ne===void 0?this.length:ne>>>0,R||(R=0);let xe;if(typeof R=="number")for(xe=j;xe<ne;++xe)this[xe]=R;else{const Ce=u.isBuffer(R)?R:u.from(R,fe),dt=Ce.length;if(dt===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(xe=0;xe<ne-j;++xe)this[xe+j]=Ce[xe%dt]}return this};const Ne={};function je(G,R,j){Ne[G]=class extends j{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}je("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),je("ERR_INVALID_ARG_TYPE",function(G,R){return`The "${G}" argument must be of type number. Received type ${typeof R}`},TypeError),je("ERR_OUT_OF_RANGE",function(G,R,j){let ne=`The value of "${G}" is out of range.`,fe=j;return Number.isInteger(j)&&Math.abs(j)>2**32?fe=Ze(String(j)):typeof j=="bigint"&&(fe=String(j),(j>BigInt(2)**BigInt(32)||j<-(BigInt(2)**BigInt(32)))&&(fe=Ze(fe)),fe+="n"),ne+=` It must be ${R}. Received ${fe}`,ne},RangeError);function Ze(G){let R="",j=G.length;const ne=G[0]==="-"?1:0;for(;j>=ne+4;j-=3)R=`_${G.slice(j-3,j)}${R}`;return`${G.slice(0,j)}${R}`}function Qe(G,R,j){at(R,"offset"),(G[R]===void 0||G[R+j]===void 0)&&B(R,G.length-(j+1))}function ot(G,R,j,ne,fe,xe){if(G>j||G<R){const Ce=typeof R=="bigint"?"n":"";let dt;throw R===0||R===BigInt(0)?dt=`>= 0${Ce} and < 2${Ce} ** ${(xe+1)*8}${Ce}`:dt=`>= -(2${Ce} ** ${(xe+1)*8-1}${Ce}) and < 2 ** ${(xe+1)*8-1}${Ce}`,new Ne.ERR_OUT_OF_RANGE("value",dt,G)}Qe(ne,fe,xe)}function at(G,R){if(typeof G!="number")throw new Ne.ERR_INVALID_ARG_TYPE(R,"number",G)}function B(G,R,j){throw Math.floor(G)!==G?(at(G,j),new Ne.ERR_OUT_OF_RANGE("offset","an integer",G)):R<0?new Ne.ERR_BUFFER_OUT_OF_BOUNDS:new Ne.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,G)}const Pe=/[^+/0-9A-Za-z-_]/g;function be(G){if(G=G.split("=")[0],G=G.trim().replace(Pe,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function oe(G,R){R=R||1/0;let j;const ne=G.length;let fe=null;const xe=[];for(let Ce=0;Ce<ne;++Ce){if(j=G.charCodeAt(Ce),j>55295&&j<57344){if(!fe){if(j>56319){(R-=3)>-1&&xe.push(239,191,189);continue}else if(Ce+1===ne){(R-=3)>-1&&xe.push(239,191,189);continue}fe=j;continue}if(j<56320){(R-=3)>-1&&xe.push(239,191,189),fe=j;continue}j=(fe-55296<<10|j-56320)+65536}else fe&&(R-=3)>-1&&xe.push(239,191,189);if(fe=null,j<128){if((R-=1)<0)break;xe.push(j)}else if(j<2048){if((R-=2)<0)break;xe.push(j>>6|192,j&63|128)}else if(j<65536){if((R-=3)<0)break;xe.push(j>>12|224,j>>6&63|128,j&63|128)}else if(j<1114112){if((R-=4)<0)break;xe.push(j>>18|240,j>>12&63|128,j>>6&63|128,j&63|128)}else throw new Error("Invalid code point")}return xe}function re(G){const R=[];for(let j=0;j<G.length;++j)R.push(G.charCodeAt(j)&255);return R}function pe(G,R){let j,ne,fe;const xe=[];for(let Ce=0;Ce<G.length&&!((R-=2)<0);++Ce)j=G.charCodeAt(Ce),ne=j>>8,fe=j%256,xe.push(fe),xe.push(ne);return xe}function Re(G){return t.toByteArray(be(G))}function Le(G,R,j,ne){let fe;for(fe=0;fe<ne&&!(fe+j>=R.length||fe>=G.length);++fe)R[fe+j]=G[fe];return fe}function me(G,R){return G instanceof R||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===R.name}function Be(G){return G!==G}const Ve=function(){const G="0123456789abcdef",R=new Array(256);for(let j=0;j<16;++j){const ne=j*16;for(let fe=0;fe<16;++fe)R[ne+fe]=G[j]+G[fe]}return R}();function De(G){return typeof BigInt>"u"?tt:G}function tt(){throw new Error("BigInt not supported")}}(ly)),ly}var YI=GI();const JI=Ip(YI);globalThis.Buffer||(globalThis.Buffer=JI.Buffer);AbortSignal.any||(AbortSignal.any=function(e){if(e.length===0)return new AbortController().signal;if(e.length===1)return e[0];for(const r of e)if(r.aborted){const i=new AbortController;return i.abort(r.reason),i.signal}const t=new AbortController,n=r=>{const i=r.target;t.abort(i.reason)};for(const r of e)r.addEventListener("abort",n,{once:!0});return t.signal.addEventListener("abort",()=>{for(const r of e)r.removeEventListener("abort",n)},{once:!0}),t.signal});AbortSignal.timeout||(AbortSignal.timeout=function(e){const t=new AbortController;return setTimeout(()=>{t.abort(new DOMException("The operation was aborted due to timeout","TimeoutError"))},e),t.signal});var C=Lp();const yi=Ip(C),I0=DI({__proto__:null,default:yi},[C]);class QI extends C.Component{constructor(n){super(n);He(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n,r;return this.state.hasError?this.props.fallback?this.props.fallback:y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-md w-full space-y-4",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),y.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. The error has been reported."})]}),y.jsx("div",{className:"bg-muted p-4 rounded-lg",children:y.jsxs("details",{className:"text-sm",children:[y.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Error details"}),y.jsxs("div",{className:"mt-2 space-y-2",children:[y.jsxs("div",{children:[y.jsx("strong",{className:"text-foreground",children:"Message:"}),y.jsx("p",{className:"text-muted-foreground mt-1",children:(n=this.state.error)==null?void 0:n.message})]}),((r=this.state.error)==null?void 0:r.stack)&&y.jsxs("div",{children:[y.jsx("strong",{className:"text-foreground",children:"Stack trace:"}),y.jsx("pre",{className:"text-xs text-muted-foreground mt-1 overflow-auto max-h-32",children:this.state.error.stack})]})]})]})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try again"}),y.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload page"})]})]})}):this.props.children}}var Kc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},il=typeof window>"u"||"Deno"in globalThis;function Kr(){}function XI(e,t){return typeof e=="function"?e(t):e}function gv(e){return typeof e=="number"&&e>=0&&e!==1/0}function S2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vc(e,t){return typeof e=="function"?e(t):e}function vi(e,t){return typeof e=="function"?e(t):e}function Eb(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==L0(l,t.options))return!1}else if(!_d(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||s&&!s(t))}function Sb(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(ol(t.options.mutationKey)!==ol(s))return!1}else if(!_d(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function L0(e,t){return((t==null?void 0:t.queryKeyHashFn)||ol)(e)}function ol(e){return JSON.stringify(e,(t,n)=>yv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function _d(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>_d(e[n],t[n])):!1}function k2(e,t){if(e===t)return e;const n=kb(e)&&kb(t);if(n||yv(e)&&yv(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),l=s.length,u=n?[]:{};let d=0;for(let p=0;p<l;p++){const g=n?p:s[p];(!n&&r.includes(g)||n)&&e[g]===void 0&&t[g]===void 0?(u[g]=void 0,d++):(u[g]=k2(e[g],t[g]),u[g]===e[g]&&e[g]!==void 0&&d++)}return i===l&&d===i?e:u}return t}function ep(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function kb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yv(e){if(!Cb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Cb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Cb(e){return Object.prototype.toString.call(e)==="[object Object]"}function eL(e){return new Promise(t=>{setTimeout(t,e)})}function vv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?k2(e,t):t}function tL(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function nL(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var O0=Symbol();function C2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===O0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Va,zs,kc,d2,rL=(d2=class extends Kc{constructor(){super();it(this,Va);it(this,zs);it(this,kc);Ke(this,kc,t=>{if(!il&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,zs)||this.setEventListener(ue(this,kc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,zs))==null||t.call(this),Ke(this,zs,void 0))}setEventListener(t){var n;Ke(this,kc,t),(n=ue(this,zs))==null||n.call(this),Ke(this,zs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ue(this,Va)!==t&&(Ke(this,Va,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ue(this,Va)=="boolean"?ue(this,Va):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Va=new WeakMap,zs=new WeakMap,kc=new WeakMap,d2),j0=new rL,Cc,Ds,Pc,f2,iL=(f2=class extends Kc{constructor(){super();it(this,Cc,!0);it(this,Ds);it(this,Pc);Ke(this,Pc,t=>{if(!il&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ue(this,Ds)||this.setEventListener(ue(this,Pc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Ds))==null||t.call(this),Ke(this,Ds,void 0))}setEventListener(t){var n;Ke(this,Pc,t),(n=ue(this,Ds))==null||n.call(this),Ke(this,Ds,t(this.setOnline.bind(this)))}setOnline(t){ue(this,Cc)!==t&&(Ke(this,Cc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ue(this,Cc)}},Cc=new WeakMap,Ds=new WeakMap,Pc=new WeakMap,f2),tp=new iL;function wv(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function oL(e){return Math.min(1e3*2**e,3e4)}function P2(e){return(e??"online")==="online"?tp.isOnline():!0}var T2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function cy(e){return e instanceof T2}function N2(e){let t=!1,n=0,r=!1,i;const s=wv(),l=v=>{var E;r||(b(new T2(v)),(E=e.abort)==null||E.call(e))},u=()=>{t=!0},d=()=>{t=!1},p=()=>j0.isFocused()&&(e.networkMode==="always"||tp.isOnline())&&e.canRun(),g=()=>P2(e.networkMode)&&e.canRun(),m=v=>{var E;r||(r=!0,(E=e.onSuccess)==null||E.call(e,v),i==null||i(),s.resolve(v))},b=v=>{var E;r||(r=!0,(E=e.onError)==null||E.call(e,v),i==null||i(),s.reject(v))},w=()=>new Promise(v=>{var E;i=k=>{(r||p())&&v(k)},(E=e.onPause)==null||E.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),S=()=>{if(r)return;let v;const E=n===0?e.initialPromise:void 0;try{v=E??e.fn()}catch(k){v=Promise.reject(k)}Promise.resolve(v).then(m).catch(k=>{var $;if(r)return;const N=e.retry??(il?0:3),A=e.retryDelay??oL,z=typeof A=="function"?A(n,k):A,D=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,k);if(t||!D){b(k);return}n++,($=e.onFail)==null||$.call(e,n,k),eL(z).then(()=>p()?void 0:w()).then(()=>{t?b(k):S()})})};return{promise:s,cancel:l,continue:()=>(i==null||i(),s),cancelRetry:u,continueRetry:d,canStart:g,start:()=>(g()?S():w().then(S),s)}}var sL=e=>setTimeout(e,0);function aL(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=sL;const s=u=>{t?e.push(u):i(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{s(()=>{u(...d)})},schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var _n=aL(),qa,h2,A2=(h2=class{constructor(){it(this,qa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gv(this.gcTime)&&Ke(this,qa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(il?1/0:5*60*1e3))}clearGcTimeout(){ue(this,qa)&&(clearTimeout(ue(this,qa)),Ke(this,qa,void 0))}},qa=new WeakMap,h2),Tc,Nc,qr,Ka,Dn,Bd,Ga,mi,ko,p2,lL=(p2=class extends A2{constructor(t){super();it(this,mi);it(this,Tc);it(this,Nc);it(this,qr);it(this,Ka);it(this,Dn);it(this,Bd);it(this,Ga);Ke(this,Ga,!1),Ke(this,Bd,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ke(this,Ka,t.client),Ke(this,qr,ue(this,Ka).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ke(this,Tc,cL(this.options)),this.state=t.state??ue(this,Tc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,Dn))==null?void 0:t.promise}setOptions(t){this.options={...ue(this,Bd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,qr).remove(this)}setData(t,n){const r=vv(this.state.data,t,this.options);return yt(this,mi,ko).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){yt(this,mi,ko).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ue(this,Dn))==null?void 0:r.promise;return(i=ue(this,Dn))==null||i.cancel(t),n?n.then(Kr).catch(Kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,Tc))}isActive(){return this.observers.some(t=>vi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===O0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!S2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Dn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Dn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,qr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ue(this,Dn)&&(ue(this,Ga)?ue(this,Dn).cancel({revert:!0}):ue(this,Dn).cancelRetry()),this.scheduleGc()),ue(this,qr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,mi,ko).call(this,{type:"invalidate"})}fetch(t,n){var d,p,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Dn))return ue(this,Dn).continueRetry(),ue(this,Dn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(b=>b.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ke(this,Ga,!0),r.signal)})},s=()=>{const m=C2(this.options,n),b={client:ue(this,Ka),queryKey:this.queryKey,meta:this.meta};return i(b),Ke(this,Ga,!1),this.options.persister?this.options.persister(m,b,this):m(b)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,Ka),state:this.state,fetchFn:s};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),Ke(this,Nc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=l.fetchOptions)==null?void 0:p.meta))&&yt(this,mi,ko).call(this,{type:"fetch",meta:(g=l.fetchOptions)==null?void 0:g.meta});const u=m=>{var b,w,S,v;cy(m)&&m.silent||yt(this,mi,ko).call(this,{type:"error",error:m}),cy(m)||((w=(b=ue(this,qr).config).onError)==null||w.call(b,m,this),(v=(S=ue(this,qr).config).onSettled)==null||v.call(S,this.state.data,m,this)),this.scheduleGc()};return Ke(this,Dn,N2({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var b,w,S,v;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(E){u(E);return}(w=(b=ue(this,qr).config).onSuccess)==null||w.call(b,m,this),(v=(S=ue(this,qr).config).onSettled)==null||v.call(S,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,b)=>{yt(this,mi,ko).call(this,{type:"failed",failureCount:m,error:b})},onPause:()=>{yt(this,mi,ko).call(this,{type:"pause"})},onContinue:()=>{yt(this,mi,ko).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ue(this,Dn).start()}},Tc=new WeakMap,Nc=new WeakMap,qr=new WeakMap,Ka=new WeakMap,Dn=new WeakMap,Bd=new WeakMap,Ga=new WeakMap,mi=new WeakSet,ko=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...R2(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return cy(i)&&i.revert&&ue(this,Nc)?{...ue(this,Nc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),_n.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ue(this,qr).notify({query:this,type:"updated",action:t})})},p2);function R2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:P2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cL(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hi,m2,uL=(m2=class extends Kc{constructor(t={}){super();it(this,Hi);this.config=t,Ke(this,Hi,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??L0(i,n);let l=this.get(s);return l||(l=new lL({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){ue(this,Hi).has(t.queryHash)||(ue(this,Hi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ue(this,Hi).get(t.queryHash);n&&(t.destroy(),n===t&&ue(this,Hi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,Hi).get(t)}getAll(){return[...ue(this,Hi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Eb(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Eb(t,r)):n}notify(t){_n.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hi=new WeakMap,m2),Wi,Jn,Ya,Vi,js,g2,dL=(g2=class extends A2{constructor(t){super();it(this,Vi);it(this,Wi);it(this,Jn);it(this,Ya);this.mutationId=t.mutationId,Ke(this,Jn,t.mutationCache),Ke(this,Wi,[]),this.state=t.state||I2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,Wi).includes(t)||(ue(this,Wi).push(t),this.clearGcTimeout(),ue(this,Jn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ke(this,Wi,ue(this,Wi).filter(n=>n!==t)),this.scheduleGc(),ue(this,Jn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,Wi).length||(this.state.status==="pending"?this.scheduleGc():ue(this,Jn).remove(this))}continue(){var t;return((t=ue(this,Ya))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,u,d,p,g,m,b,w,S,v,E,k,N,A,z,D,$,H,V;const n=()=>{yt(this,Vi,js).call(this,{type:"continue"})};Ke(this,Ya,N2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(F,W)=>{yt(this,Vi,js).call(this,{type:"failed",failureCount:F,error:W})},onPause:()=>{yt(this,Vi,js).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,Jn).canRun(this)}));const r=this.state.status==="pending",i=!ue(this,Ya).canStart();try{if(r)n();else{yt(this,Vi,js).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(s=ue(this,Jn).config).onMutate)==null?void 0:l.call(s,t,this));const W=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t));W!==this.state.context&&yt(this,Vi,js).call(this,{type:"pending",context:W,variables:t,isPaused:i})}const F=await ue(this,Ya).start();return await((g=(p=ue(this,Jn).config).onSuccess)==null?void 0:g.call(p,F,t,this.state.context,this)),await((b=(m=this.options).onSuccess)==null?void 0:b.call(m,F,t,this.state.context)),await((S=(w=ue(this,Jn).config).onSettled)==null?void 0:S.call(w,F,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,F,null,t,this.state.context)),yt(this,Vi,js).call(this,{type:"success",data:F}),F}catch(F){try{throw await((N=(k=ue(this,Jn).config).onError)==null?void 0:N.call(k,F,t,this.state.context,this)),await((z=(A=this.options).onError)==null?void 0:z.call(A,F,t,this.state.context)),await(($=(D=ue(this,Jn).config).onSettled)==null?void 0:$.call(D,void 0,F,this.state.variables,this.state.context,this)),await((V=(H=this.options).onSettled)==null?void 0:V.call(H,void 0,F,t,this.state.context)),F}finally{yt(this,Vi,js).call(this,{type:"error",error:F})}}finally{ue(this,Jn).runNext(this)}}},Wi=new WeakMap,Jn=new WeakMap,Ya=new WeakMap,Vi=new WeakSet,js=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),_n.batch(()=>{ue(this,Wi).forEach(r=>{r.onMutationUpdate(t)}),ue(this,Jn).notify({mutation:this,type:"updated",action:t})})},g2);function I2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var To,gi,Fd,y2,fL=(y2=class extends Kc{constructor(t={}){super();it(this,To);it(this,gi);it(this,Fd);this.config=t,Ke(this,To,new Set),Ke(this,gi,new Map),Ke(this,Fd,0)}build(t,n,r){const i=new dL({mutationCache:this,mutationId:++kh(this,Fd)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ue(this,To).add(t);const n=Nh(t);if(typeof n=="string"){const r=ue(this,gi).get(n);r?r.push(t):ue(this,gi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,To).delete(t)){const n=Nh(t);if(typeof n=="string"){const r=ue(this,gi).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ue(this,gi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Nh(t);if(typeof n=="string"){const r=ue(this,gi).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Nh(t);if(typeof n=="string"){const i=(r=ue(this,gi).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_n.batch(()=>{ue(this,To).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,To).clear(),ue(this,gi).clear()})}getAll(){return Array.from(ue(this,To))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Sb(n,r))}findAll(t={}){return this.getAll().filter(n=>Sb(t,n))}notify(t){_n.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return _n.batch(()=>Promise.all(t.map(n=>n.continue().catch(Kr))))}},To=new WeakMap,gi=new WeakMap,Fd=new WeakMap,y2);function Nh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Pb(e){return{onFetch:(t,n)=>{var g,m,b,w,S;const r=t.options,i=(b=(m=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:b.direction,s=((w=t.state.data)==null?void 0:w.pages)||[],l=((S=t.state.data)==null?void 0:S.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const p=async()=>{let v=!1;const E=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},k=C2(t.options,t.fetchOptions),N=async(A,z,D)=>{if(v)return Promise.reject();if(z==null&&A.pages.length)return Promise.resolve(A);const $={client:t.client,queryKey:t.queryKey,pageParam:z,direction:D?"backward":"forward",meta:t.options.meta};E($);const H=await k($),{maxPages:V}=t.options,F=D?nL:tL;return{pages:F(A.pages,H,V),pageParams:F(A.pageParams,z,V)}};if(i&&s.length){const A=i==="backward",z=A?hL:Tb,D={pages:s,pageParams:l},$=z(r,D);u=await N(D,$,A)}else{const A=e??s.length;do{const z=d===0?l[0]??r.initialPageParam:Tb(r,u);if(d>0&&z==null)break;u=await N(u,z),d++}while(d<A)}return u};t.options.persister?t.fetchFn=()=>{var v,E;return(E=(v=t.options).persister)==null?void 0:E.call(v,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function Tb(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function hL(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var on,Bs,Fs,Ac,Rc,Us,Ic,Lc,v2,pL=(v2=class{constructor(e={}){it(this,on);it(this,Bs);it(this,Fs);it(this,Ac);it(this,Rc);it(this,Us);it(this,Ic);it(this,Lc);Ke(this,on,e.queryCache||new uL),Ke(this,Bs,e.mutationCache||new fL),Ke(this,Fs,e.defaultOptions||{}),Ke(this,Ac,new Map),Ke(this,Rc,new Map),Ke(this,Us,0)}mount(){kh(this,Us)._++,ue(this,Us)===1&&(Ke(this,Ic,j0.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,on).onFocus())})),Ke(this,Lc,tp.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,on).onOnline())})))}unmount(){var e,t;kh(this,Us)._--,ue(this,Us)===0&&((e=ue(this,Ic))==null||e.call(this),Ke(this,Ic,void 0),(t=ue(this,Lc))==null||t.call(this),Ke(this,Lc,void 0))}isFetching(e){return ue(this,on).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,Bs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,on).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ue(this,on).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(vc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ue(this,on).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ue(this,on).get(r.queryHash),s=i==null?void 0:i.state.data,l=XI(t,s);if(l!==void 0)return ue(this,on).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return _n.batch(()=>ue(this,on).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,on).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ue(this,on);_n.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ue(this,on);return _n.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=_n.batch(()=>ue(this,on).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Kr).catch(Kr)}invalidateQueries(e,t={}){return _n.batch(()=>(ue(this,on).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=_n.batch(()=>ue(this,on).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Kr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Kr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ue(this,on).build(this,t);return n.isStaleByTime(vc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Kr).catch(Kr)}fetchInfiniteQuery(e){return e.behavior=Pb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Kr).catch(Kr)}ensureInfiniteQueryData(e){return e.behavior=Pb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return tp.isOnline()?ue(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,on)}getMutationCache(){return ue(this,Bs)}getDefaultOptions(){return ue(this,Fs)}setDefaultOptions(e){Ke(this,Fs,e)}setQueryDefaults(e,t){ue(this,Ac).set(ol(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,Ac).values()],n={};return t.forEach(r=>{_d(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ue(this,Rc).set(ol(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,Rc).values()],n={};return t.forEach(r=>{_d(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,Fs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=L0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===O0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,Fs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,on).clear(),ue(this,Bs).clear()}},on=new WeakMap,Bs=new WeakMap,Fs=new WeakMap,Ac=new WeakMap,Rc=new WeakMap,Us=new WeakMap,Ic=new WeakMap,Lc=new WeakMap,v2),ur,Pt,Ud,Qn,Ja,Oc,$s,Zs,$d,jc,Mc,Qa,Xa,Hs,zc,Mt,cd,_v,xv,bv,Ev,Sv,kv,Cv,L2,w2,mL=(w2=class extends Kc{constructor(t,n){super();it(this,Mt);it(this,ur);it(this,Pt);it(this,Ud);it(this,Qn);it(this,Ja);it(this,Oc);it(this,$s);it(this,Zs);it(this,$d);it(this,jc);it(this,Mc);it(this,Qa);it(this,Xa);it(this,Hs);it(this,zc,new Set);this.options=n,Ke(this,ur,t),Ke(this,Zs,null),Ke(this,$s,wv()),this.options.experimental_prefetchInRender||ue(this,$s).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,Pt).addObserver(this),Nb(ue(this,Pt),this.options)?yt(this,Mt,cd).call(this):this.updateResult(),yt(this,Mt,Ev).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pv(ue(this,Pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pv(ue(this,Pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,yt(this,Mt,Sv).call(this),yt(this,Mt,kv).call(this),ue(this,Pt).removeObserver(this)}setOptions(t){const n=this.options,r=ue(this,Pt);if(this.options=ue(this,ur).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vi(this.options.enabled,ue(this,Pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");yt(this,Mt,Cv).call(this),ue(this,Pt).setOptions(this.options),n._defaulted&&!ep(this.options,n)&&ue(this,ur).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,Pt),observer:this});const i=this.hasListeners();i&&Ab(ue(this,Pt),r,this.options,n)&&yt(this,Mt,cd).call(this),this.updateResult(),i&&(ue(this,Pt)!==r||vi(this.options.enabled,ue(this,Pt))!==vi(n.enabled,ue(this,Pt))||vc(this.options.staleTime,ue(this,Pt))!==vc(n.staleTime,ue(this,Pt)))&&yt(this,Mt,_v).call(this);const s=yt(this,Mt,xv).call(this);i&&(ue(this,Pt)!==r||vi(this.options.enabled,ue(this,Pt))!==vi(n.enabled,ue(this,Pt))||s!==ue(this,Hs))&&yt(this,Mt,bv).call(this,s)}getOptimisticResult(t){const n=ue(this,ur).getQueryCache().build(ue(this,ur),t),r=this.createResult(n,t);return yL(this,r)&&(Ke(this,Qn,r),Ke(this,Oc,this.options),Ke(this,Ja,ue(this,Pt).state)),r}getCurrentResult(){return ue(this,Qn)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(t){ue(this,zc).add(t)}getCurrentQuery(){return ue(this,Pt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ue(this,ur).defaultQueryOptions(t),r=ue(this,ur).getQueryCache().build(ue(this,ur),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return yt(this,Mt,cd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,Qn)))}createResult(t,n){var F;const r=ue(this,Pt),i=this.options,s=ue(this,Qn),l=ue(this,Ja),u=ue(this,Oc),p=t!==r?t.state:ue(this,Ud),{state:g}=t;let m={...g},b=!1,w;if(n._optimisticResults){const W=this.hasListeners(),J=!W&&Nb(t,n),U=W&&Ab(t,r,n,i);(J||U)&&(m={...m,...R2(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:S,errorUpdatedAt:v,status:E}=m;w=m.data;let k=!1;if(n.placeholderData!==void 0&&w===void 0&&E==="pending"){let W;s!=null&&s.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(W=s.data,k=!0):W=typeof n.placeholderData=="function"?n.placeholderData((F=ue(this,Mc))==null?void 0:F.state.data,ue(this,Mc)):n.placeholderData,W!==void 0&&(E="success",w=vv(s==null?void 0:s.data,W,n),b=!0)}if(n.select&&w!==void 0&&!k)if(s&&w===(l==null?void 0:l.data)&&n.select===ue(this,$d))w=ue(this,jc);else try{Ke(this,$d,n.select),w=n.select(w),w=vv(s==null?void 0:s.data,w,n),Ke(this,jc,w),Ke(this,Zs,null)}catch(W){Ke(this,Zs,W)}ue(this,Zs)&&(S=ue(this,Zs),w=ue(this,jc),v=Date.now(),E="error");const N=m.fetchStatus==="fetching",A=E==="pending",z=E==="error",D=A&&N,$=w!==void 0,V={status:E,fetchStatus:m.fetchStatus,isPending:A,isSuccess:E==="success",isError:z,isInitialLoading:D,isLoading:D,data:w,dataUpdatedAt:m.dataUpdatedAt,error:S,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>p.dataUpdateCount||m.errorUpdateCount>p.errorUpdateCount,isFetching:N,isRefetching:N&&!A,isLoadingError:z&&!$,isPaused:m.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:z&&$,isStale:M0(t,n),refetch:this.refetch,promise:ue(this,$s)};if(this.options.experimental_prefetchInRender){const W=X=>{V.status==="error"?X.reject(V.error):V.data!==void 0&&X.resolve(V.data)},J=()=>{const X=Ke(this,$s,V.promise=wv());W(X)},U=ue(this,$s);switch(U.status){case"pending":t.queryHash===r.queryHash&&W(U);break;case"fulfilled":(V.status==="error"||V.data!==U.value)&&J();break;case"rejected":(V.status!=="error"||V.error!==U.reason)&&J();break}}return V}updateResult(){const t=ue(this,Qn),n=this.createResult(ue(this,Pt),this.options);if(Ke(this,Ja,ue(this,Pt).state),Ke(this,Oc,this.options),ue(this,Ja).data!==void 0&&Ke(this,Mc,ue(this,Pt)),ep(n,t))return;Ke(this,Qn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ue(this,zc).size)return!0;const l=new Set(s??ue(this,zc));return this.options.throwOnError&&l.add("error"),Object.keys(ue(this,Qn)).some(u=>{const d=u;return ue(this,Qn)[d]!==t[d]&&l.has(d)})};yt(this,Mt,L2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&yt(this,Mt,Ev).call(this)}},ur=new WeakMap,Pt=new WeakMap,Ud=new WeakMap,Qn=new WeakMap,Ja=new WeakMap,Oc=new WeakMap,$s=new WeakMap,Zs=new WeakMap,$d=new WeakMap,jc=new WeakMap,Mc=new WeakMap,Qa=new WeakMap,Xa=new WeakMap,Hs=new WeakMap,zc=new WeakMap,Mt=new WeakSet,cd=function(t){yt(this,Mt,Cv).call(this);let n=ue(this,Pt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Kr)),n},_v=function(){yt(this,Mt,Sv).call(this);const t=vc(this.options.staleTime,ue(this,Pt));if(il||ue(this,Qn).isStale||!gv(t))return;const r=S2(ue(this,Qn).dataUpdatedAt,t)+1;Ke(this,Qa,setTimeout(()=>{ue(this,Qn).isStale||this.updateResult()},r))},xv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,Pt)):this.options.refetchInterval)??!1},bv=function(t){yt(this,Mt,kv).call(this),Ke(this,Hs,t),!(il||vi(this.options.enabled,ue(this,Pt))===!1||!gv(ue(this,Hs))||ue(this,Hs)===0)&&Ke(this,Xa,setInterval(()=>{(this.options.refetchIntervalInBackground||j0.isFocused())&&yt(this,Mt,cd).call(this)},ue(this,Hs)))},Ev=function(){yt(this,Mt,_v).call(this),yt(this,Mt,bv).call(this,yt(this,Mt,xv).call(this))},Sv=function(){ue(this,Qa)&&(clearTimeout(ue(this,Qa)),Ke(this,Qa,void 0))},kv=function(){ue(this,Xa)&&(clearInterval(ue(this,Xa)),Ke(this,Xa,void 0))},Cv=function(){const t=ue(this,ur).getQueryCache().build(ue(this,ur),this.options);if(t===ue(this,Pt))return;const n=ue(this,Pt);Ke(this,Pt,t),Ke(this,Ud,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},L2=function(t){_n.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ue(this,Qn))}),ue(this,ur).getQueryCache().notify({query:ue(this,Pt),type:"observerResultsUpdated"})})},w2);function gL(e,t){return vi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Nb(e,t){return gL(e,t)||e.state.data!==void 0&&Pv(e,t,t.refetchOnMount)}function Pv(e,t,n){if(vi(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&M0(e,t)}return!1}function Ab(e,t,n,r){return(e!==t||vi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&M0(e,n)}function M0(e,t){return vi(t.enabled,e)!==!1&&e.isStaleByTime(vc(t.staleTime,e))}function yL(e,t){return!ep(e.getCurrentResult(),t)}var Ws,Vs,dr,No,Do,qh,Tv,_2,vL=(_2=class extends Kc{constructor(n,r){super();it(this,Do);it(this,Ws);it(this,Vs);it(this,dr);it(this,No);Ke(this,Ws,n),this.setOptions(r),this.bindMethods(),yt(this,Do,qh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ue(this,Ws).defaultMutationOptions(n),ep(this.options,r)||ue(this,Ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,dr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ol(r.mutationKey)!==ol(this.options.mutationKey)?this.reset():((i=ue(this,dr))==null?void 0:i.state.status)==="pending"&&ue(this,dr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,dr))==null||n.removeObserver(this)}onMutationUpdate(n){yt(this,Do,qh).call(this),yt(this,Do,Tv).call(this,n)}getCurrentResult(){return ue(this,Vs)}reset(){var n;(n=ue(this,dr))==null||n.removeObserver(this),Ke(this,dr,void 0),yt(this,Do,qh).call(this),yt(this,Do,Tv).call(this)}mutate(n,r){var i;return Ke(this,No,r),(i=ue(this,dr))==null||i.removeObserver(this),Ke(this,dr,ue(this,Ws).getMutationCache().build(ue(this,Ws),this.options)),ue(this,dr).addObserver(this),ue(this,dr).execute(n)}},Ws=new WeakMap,Vs=new WeakMap,dr=new WeakMap,No=new WeakMap,Do=new WeakSet,qh=function(){var r;const n=((r=ue(this,dr))==null?void 0:r.state)??I2();Ke(this,Vs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Tv=function(n){_n.batch(()=>{var r,i,s,l,u,d,p,g;if(ue(this,No)&&this.hasListeners()){const m=ue(this,Vs).variables,b=ue(this,Vs).context;(n==null?void 0:n.type)==="success"?((i=(r=ue(this,No)).onSuccess)==null||i.call(r,n.data,m,b),(l=(s=ue(this,No)).onSettled)==null||l.call(s,n.data,null,m,b)):(n==null?void 0:n.type)==="error"&&((d=(u=ue(this,No)).onError)==null||d.call(u,n.error,m,b),(g=(p=ue(this,No)).onSettled)==null||g.call(p,void 0,n.error,m,b))}this.listeners.forEach(m=>{m(ue(this,Vs))})})},_2),O2=C.createContext(void 0),z0=e=>{const t=C.useContext(O2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wL=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),y.jsx(O2.Provider,{value:e,children:t})),j2=C.createContext(!1),_L=()=>C.useContext(j2);j2.Provider;function xL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var bL=C.createContext(xL()),EL=()=>C.useContext(bL);function M2(e,t){return typeof e=="function"?e(...t):!!e}function Nv(){}var SL=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},kL=e=>{C.useEffect(()=>{e.clearReset()},[e])},CL=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||M2(n,[e.error,r])),PL=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},TL=(e,t)=>e.isLoading&&e.isFetching&&!t,NL=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Rb=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function AL(e,t,n){var m,b,w,S,v;const r=z0(),i=_L(),s=EL(),l=r.defaultQueryOptions(e);(b=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||b.call(m,l),l._optimisticResults=i?"isRestoring":"optimistic",PL(l),SL(l,s),kL(s);const u=!r.getQueryCache().get(l.queryHash),[d]=C.useState(()=>new t(r,l)),p=d.getOptimisticResult(l),g=!i&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(E=>{const k=g?d.subscribe(_n.batchCalls(E)):Nv;return d.updateResult(),k},[d,g]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),C.useEffect(()=>{d.setOptions(l)},[l,d]),NL(l,p))throw Rb(l,d,s);if(CL({result:p,errorResetBoundary:s,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw p.error;if((S=(w=r.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||S.call(w,l,p),l.experimental_prefetchInRender&&!il&&TL(p,i)){const E=u?Rb(l,d,s):(v=r.getQueryCache().get(l.queryHash))==null?void 0:v.promise;E==null||E.catch(Nv).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?p:d.trackResult(p)}function _i(e,t){return AL(e,mL)}function D0(e,t){const n=z0(),[r]=C.useState(()=>new vL(n,e));C.useEffect(()=>{r.setOptions(e)},[r,e]);const i=C.useSyncExternalStore(C.useCallback(l=>r.subscribe(_n.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=C.useCallback((l,u)=>{r.mutate(l,u).catch(Nv)},[r]);if(i.error&&M2(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function Av(e,t={},n){for(const r in e){const i=e[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Av(i,t,s):typeof i=="function"&&(t[s]=i)}return t}const RL={run:e=>e()},IL=()=>RL,z2=typeof console.createTask<"u"?console.createTask:IL;function LL(e,t){const n=t.shift(),r=z2(n);return e.reduce((i,s)=>i.then(()=>r.run(()=>s(...t))),Promise.resolve())}function OL(e,t){const n=t.shift(),r=z2(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function uy(e,t){for(const n of[...e])n(t)}class jL{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!r.allowDeprecated){let l=s.message;l||(l=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(l)||(console.warn(l),this._deprecatedMessages.add(l))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Av(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=Av(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(LL,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(OL,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&uy(this._before,i);const s=t(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&uy(this._after,i)}):(this._after&&i&&uy(this._after,i),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function ML(){return new jL}const zL=new Set(["link","style","script","noscript"]),DL=new Set(["title","titleTemplate","script","style","noscript"]),Ib=new Set(["base","meta","link","style","script","noscript"]),BL=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),FL=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),UL=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),$L=new Set(["templateParams","htmlAttrs","bodyAttrs"]),B0=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),ZL=["name","property","http-equiv"];function D2(e){const t=e.split(":");return t.length?B0.has(t[1]):!1}function Rv(e){const{props:t,tag:n}=e;if(FL.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of ZL)if(t[r]!==void 0)return`${n}:${t[r]}`}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(DL.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function Lb(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,i])=>`${r}:${String(i)}`).join(",")}`}function Iv(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let i;if(t&&(i=t(n,e)),Array.isArray(i))return i.map(s=>Iv(s,t));if((i==null?void 0:i.constructor)===Object){const s={};for(const l of Object.keys(i))s[l]=Iv(i[l],t,l);return s}return i}function HL(e,t){const n=e==="style"?new Map:new Set;function r(i){const s=i.trim();if(s)if(e==="style"){const[l,...u]=s.split(":").map(d=>d.trim());l&&u.length&&n.set(l,u.join(":"))}else s.split(" ").filter(Boolean).forEach(l=>n.add(l))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(i=>r(i)):t&&typeof t=="object"&&Object.entries(t).forEach(([i,s])=>{s&&s!=="false"&&(e==="style"?n.set(i.trim(),s):r(i))}),n}function B2(e,t){return e.props=e.props||{},t&&Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=HL(n,r);return}if(UL.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let l=t.type;if(t.type||(l="application/json"),!(l!=null&&l.endsWith("json"))&&l!=="speculationrules")return;t.type=l,e.props.type=l,e[n]=JSON.stringify(r)}else e[n]=r;return}const i=String(r),s=n.startsWith("data-");i==="true"||i===""?e.props[n]=s?i:!0:!r&&s&&i==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e}function WL(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=B2({tag:e,props:{}},n);return r.key&&zL.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(i=>({...r,props:{...r.props,content:i}})):r}function VL(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(i,s)=>{for(let l=0;l<t.length;l++)s=t[l](i,s);return s};e=n(void 0,e);const r=[];return e=Iv(e,n),Object.entries(e||{}).forEach(([i,s])=>{if(s!==void 0)for(const l of Array.isArray(s)?s:[s])r.push(WL(i,l))}),r.flat()}const Ob=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,jb={base:-10,title:10},qL={critical:-8,high:-1,low:2},Mb={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},KL=/@import/,nd=e=>e===""||e===!0;function GL(e,t){var s;if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=qL[t.tagPriority]||0,i=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Mb;if(t.tag in jb)n=jb[t.tag];else if(t.tag==="meta"){const l=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;l&&(n=Mb.meta[l])}else t.tag==="link"&&t.props.rel?n=i.link[t.props.rel]:t.tag==="script"?nd(t.props.async)?n=i.script.async:t.props.src&&!nd(t.props.defer)&&!nd(t.props.async)&&t.props.type!=="module"&&!((s=t.props.type)!=null&&s.endsWith("json"))?n=i.script.sync:nd(t.props.defer)&&t.props.src&&!nd(t.props.async)&&(n=i.script.defer):t.tag==="style"&&(n=t.innerHTML&&KL.test(t.innerHTML)?i.style.imported:i.style.sync);return(n||100)+r}function zb(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function YL(e={}){var u;const t=ML();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,i=new Map,s=[],l={_entryCount:1,plugins:i,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:d=>zb(l,d),push(d,p){const g={...p||{}};delete g.head;const m=g._index??l._entryCount++,b={_i:m,input:d,options:g},w={_poll(S=!1){l.dirty=!0,!S&&s.push(m),t.callHook("entries:updated",l)},dispose(){r.delete(m)&&w._poll(!0)},patch(S){(!g.mode||g.mode==="server"&&n||g.mode==="client"&&!n)&&(b.input=S,r.set(m,b),w._poll())}};return w.patch(d),w},async resolveTags(){var w;const d={tagMap:new Map,tags:[],entries:[...l.entries.values()]};for(await t.callHook("entries:resolve",d);s.length;){const S=s.shift(),v=r.get(S);if(v){const E={tags:VL(v.input,e.propResolvers||[]).map(k=>Object.assign(k,v.options)),entry:v};await t.callHook("entries:normalize",E),v._tags=E.tags.map((k,N)=>(k._w=GL(l,k),k._p=(v._i<<10)+N,k._d=Rv(k),k))}}let p=!1;d.entries.flatMap(S=>(S._tags||[]).map(v=>({...v,props:{...v.props}}))).sort(Ob).reduce((S,v)=>{const E=String(v._d||v._p);if(!S.has(E))return S.set(E,v);const k=S.get(E);if(((v==null?void 0:v.tagDuplicateStrategy)||($L.has(v.tag)?"merge":null)||(v.key&&v.key===k.key?"merge":null))==="merge"){const A={...k.props};Object.entries(v.props).forEach(([z,D])=>A[z]=z==="style"?new Map([...k.props.style||new Map,...D]):z==="class"?new Set([...k.props.class||new Set,...D]):D),S.set(E,{...v,props:A})}else v._p>>10===k._p>>10&&v.tag==="meta"&&D2(E)?(S.set(E,Object.assign([...Array.isArray(k)?k:[k],v],v)),p=!0):(v._w===k._w?v._p>k._p:(v==null?void 0:v._w)<(k==null?void 0:k._w))&&S.set(E,v);return S},d.tagMap);const g=d.tagMap.get("title"),m=d.tagMap.get("titleTemplate");if(l._title=g==null?void 0:g.textContent,m){const S=m==null?void 0:m.textContent;if(l._titleTemplate=S,S){let v=typeof S=="function"?S(g==null?void 0:g.textContent):S;typeof v=="string"&&!l.plugins.has("template-params")&&(v=v.replace("%s",(g==null?void 0:g.textContent)||"")),g?v===null?d.tagMap.delete("title"):d.tagMap.set("title",{...g,textContent:v}):(m.tag="title",m.textContent=v)}}d.tags=Array.from(d.tagMap.values()),p&&(d.tags=d.tags.flat().sort(Ob)),await t.callHook("tags:beforeResolve",d),await t.callHook("tags:resolve",d),await t.callHook("tags:afterResolve",d);const b=[];for(const S of d.tags){const{innerHTML:v,tag:E,props:k}=S;if(BL.has(E)&&!(Object.keys(k).length===0&&!S.innerHTML&&!S.textContent)&&!(E==="meta"&&!k.content&&!k["http-equiv"]&&!k.charset)){if(E==="script"&&v){if((w=k.type)!=null&&w.endsWith("json")){const N=typeof v=="string"?v:JSON.stringify(v);S.innerHTML=N.replace(/</g,"\\u003C")}else typeof v=="string"&&(S.innerHTML=v.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));S._d=Rv(S)}b.push(S)}}return b}};return((e==null?void 0:e.plugins)||[]).forEach(d=>zb(l,d)),l.hooks.callHook("init",l),(u=e.init)==null||u.forEach(d=>d&&l.push(d)),l}async function F2(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async i=>{var w;const s=new Map,l=new Promise(S=>{e.resolveTags().then(v=>{S(v.map(E=>{const k=s.get(E._d)||0,N={tag:E,id:(k?`${E._d}:${k}`:E._d)||Lb(E),shouldRender:!0};return E._d&&D2(E._d)&&s.set(E._d,k+1),N}))})});let u=e._dom;if(!u){u={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const S of["body","head"]){const v=(w=n[S])==null?void 0:w.children;for(const E of v){const k=E.tagName.toLowerCase();if(!Ib.has(k))continue;const N=B2({tag:k,props:{}},{innerHTML:E.innerHTML,...E.getAttributeNames().reduce((A,z)=>(A[z]=E.getAttribute(z),A),{})||{}});if(N.key=E.getAttribute("data-hid")||void 0,N._d=Rv(N)||Lb(N),u.elMap.has(N._d)){let A=1,z=N._d;for(;u.elMap.has(z);)z=`${N._d}:${A++}`;u.elMap.set(z,E)}else u.elMap.set(N._d,E)}}}u.pendingSideEffects={...u.sideEffects},u.sideEffects={};function d(S,v,E){const k=`${S}:${v}`;u.sideEffects[k]=E,delete u.pendingSideEffects[k]}function p({id:S,$el:v,tag:E}){const k=E.tag.endsWith("Attrs");u.elMap.set(S,v),k||(E.textContent&&E.textContent!==v.textContent&&(v.textContent=E.textContent),E.innerHTML&&E.innerHTML!==v.innerHTML&&(v.innerHTML=E.innerHTML),d(S,"el",()=>{v==null||v.remove(),u.elMap.delete(S)}));for(const N in E.props){if(!Object.prototype.hasOwnProperty.call(E.props,N))continue;const A=E.props[N];if(N.startsWith("on")&&typeof A=="function"){const D=v==null?void 0:v.dataset;if(D&&D[`${N}fired`]){const $=N.slice(0,-5);A.call(v,new Event($.substring(2)))}v.getAttribute(`data-${N}`)!==""&&((E.tag==="bodyAttrs"?n.defaultView:v).addEventListener(N.substring(2),A.bind(v)),v.setAttribute(`data-${N}`,""));continue}const z=`attr:${N}`;if(N==="class"){if(!A)continue;for(const D of A)k&&d(S,`${z}:${D}`,()=>v.classList.remove(D)),!v.classList.contains(D)&&v.classList.add(D)}else if(N==="style"){if(!A)continue;for(const[D,$]of A)d(S,`${z}:${D}`,()=>{v.style.removeProperty(D)}),v.style.setProperty(D,$)}else A!==!1&&A!==null&&(v.getAttribute(N)!==A&&v.setAttribute(N,A===!0?"":String(A)),k&&d(S,z,()=>v.removeAttribute(N)))}}const g=[],m={bodyClose:void 0,bodyOpen:void 0,head:void 0},b=await l;for(const S of b){const{tag:v,shouldRender:E,id:k}=S;if(E){if(v.tag==="title"){n.title=v.textContent,d("title","",()=>n.title=u.title);continue}S.$el=S.$el||u.elMap.get(k),S.$el?p(S):Ib.has(v.tag)&&g.push(S)}}for(const S of g){const v=S.tag.tagPosition||"head";S.$el=n.createElement(S.tag.tag),p(S),m[v]=m[v]||n.createDocumentFragment(),m[v].appendChild(S.$el)}for(const S of b)await e.hooks.callHook("dom:renderTag",S,n,d);m.head&&n.head.appendChild(m.head),m.bodyOpen&&n.body.insertBefore(m.bodyOpen,n.body.firstChild),m.bodyClose&&n.body.appendChild(m.bodyClose);for(const S in u.pendingSideEffects)u.pendingSideEffects[S]();e._dom=u,await e.hooks.callHook("dom:rendered",{renders:b}),i()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function JL(e={}){var r,i,s;const t=((r=e.domOptions)==null?void 0:r.render)||F2;e.document=e.document||(typeof window<"u"?document:void 0);const n=((s=(i=e.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:s.innerHTML)||!1;return YL({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function QL(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}const U2=C.createContext(null);function $2(e={}){const t=JL({domOptions:{render:QL(()=>F2(t),n=>setTimeout(n,0))},...e});return t}function XL({children:e,head:t}){return C.createElement(U2.Provider,{value:t||$2()},e)}const xd={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},e3={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},Z2={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>`${Lo(e)}=${t}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:e,value:t})=>e==="seconds"?`${t}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>typeof t=="boolean"?Lo(e):`${Lo(e)}:${t}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:e,value:t})=>`${Lo(e)} ${t}`}},charset:{}};function Lo(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t.indexOf("-");return n===-1?t:xd.META.has(t.slice(0,n))||xd.OG.has(t.slice(0,n))?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function H2(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>String(n)!=="false"&&t))}function Lv(e){return Array.isArray(e)?e.map(Lv):!e||typeof e!="object"?e:Object.fromEntries(Object.entries(e).map(([t,n])=>[Lo(t),Lv(n)]))}function W2(e,t={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:i,resolve:s}=t;return Object.entries(e).map(([l,u])=>{if(s){const p=s({key:l,value:u});if(p!==void 0)return p}const d=typeof u=="object"?W2(u,t):typeof u=="number"?u.toString():typeof u=="string"&&i?`${i}${u.replace(new RegExp(i,"g"),`\\${i}`)}${i}`:u;return`${l}${r}${d}`}).join(n)}function Db(e,t){const n=H2(t),r=Lo(e),i=V2(r);if(!B0.has(r))return[{[i]:r,...n}];const s=Object.fromEntries(Object.entries(n).map(([l,u])=>[`${e}${l==="url"?"":`${l[0].toUpperCase()}${l.slice(1)}`}`,u]));return np(s||{}).sort((l,u)=>{var d,p;return(((d=l[i])==null?void 0:d.length)||0)-(((p=u[i])==null?void 0:p.length)||0)})}function V2(e){var r;if(((r=Z2[e])==null?void 0:r.metaKey)==="http-equiv"||xd.HTTP_EQUIV.has(e))return"http-equiv";const t=Lo(e),n=t.indexOf(":");return n===-1?"name":xd.OG.has(t.slice(0,n))?"property":"name"}function t3(e){return e3[e]||Lo(e)}function n3(e,t){var n;return t==="refresh"?`${e.seconds};url=${e.url}`:W2(Lv(e),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:i})=>r===null?"":typeof r=="boolean"?i:void 0,...(n=Z2[t])==null?void 0:n.unpack})}function np(e){const t=[],n={};for(const[i,s]of Object.entries(e)){if(Array.isArray(s)){if(i==="themeColor"){s.forEach(l=>{typeof l=="object"&&l!==null&&t.push({name:"theme-color",...l})});continue}for(const l of s)if(typeof l=="object"&&l!==null){const u=[],d=[];for(const[p,g]of Object.entries(l)){const m=`${i}${p==="url"?"":`:${p}`}`,b=np({[m]:g});(p==="url"?u:d).push(...b)}t.push(...u,...d)}else t.push(...typeof l=="string"?np({[i]:l}):Db(i,l));continue}if(typeof s=="object"&&s)if(xd.MEDIA.has(i)){const l=i.startsWith("twitter")?"twitter":"og",u=i.replace(/^(og|twitter)/,"").toLowerCase(),d=l==="twitter"?"name":"property";s.url&&t.push({[d]:`${l}:${u}`,content:s.url}),s.secureUrl&&t.push({[d]:`${l}:${u}:secure_url`,content:s.secureUrl});for(const[p,g]of Object.entries(s))p!=="url"&&p!=="secureUrl"&&t.push({[d]:`${l}:${u}:${p}`,content:g})}else B0.has(Lo(i))?t.push(...Db(i,s)):n[i]=H2(s);else n[i]=s}const r=Object.entries(n).map(([i,s])=>{if(i==="charset")return{charset:s===null?"_null":s};const l=V2(i),u=t3(i),d=s===null?"_null":typeof s=="object"?n3(s,i):typeof s=="number"?s.toString():s;return l==="http-equiv"?{"http-equiv":u,content:d}:{[l]:u,content:d}});return[...t,...r].map(i=>"content"in i&&i.content==="_null"?{...i,content:null}:i)}const r3={key:"flatMeta",hooks:{"entries:normalize":e=>{const t=[];e.tags=e.tags.map(n=>n.tag!=="_flatMeta"?n:(t.push(np(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...t)}}};function i3(e={}){return t=>(t.push({meta:[{name:"twitter:card",content:e.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:n})=>{var u,d;let r=t._titleTemplate||t._title;const i=n.get("meta:og:title");typeof(i==null?void 0:i.props["data-infer"])<"u"&&(typeof r=="function"&&(r=r(t._title)),i.props.content=e.ogTitle?e.ogTitle(r):r||"",i.processTemplateParams=!0);const s=(d=(u=n.get("meta:description"))==null?void 0:u.props)==null?void 0:d.content,l=n.get("meta:og:description");typeof(l==null?void 0:l.props["data-infer"])<"u"&&(l.props.content=e.ogDescription?e.ogDescription(s):s||"",l.processTemplateParams=!0)}}})}class gd{constructor(t){He(this,"pubkey");He(this,"relays");He(this,"secret");const n=new URL(t),r=new URLSearchParams(n.search),i=n.hostname||n.pathname.slice(2),s=r.getAll("relay"),l=r.get("secret")??void 0;if(!i)throw new Error("Invalid bunker URI");this.pubkey=i,this.relays=s,this.secret=l}get href(){return this.toString()}toString(){return gd.toString(this)}static fromJSON(t){const n=gd.toString(t);return new gd(n)}static toString(t){const n=new URLSearchParams;for(const r of t.relays)n.append("relay",r);return t.secret&&n.set("secret",t.secret),`bunker://${t.pubkey}?${n.toString()}`}}class o3{get nostr(){const t=globalThis.nostr;if(!t)throw new Error("Browser extension not available");return t}async getPublicKey(){const t=await this.nostr.getPublicKey();if(typeof t!="string")throw new Error(`Nostr public key retrieval failed: expected string, got ${JSON.stringify(t)}`);return t}async signEvent(t){const n=await this.nostr.signEvent(t);if(typeof n!="object"||!n.id||!n.pubkey||!n.sig)throw new Error(`Nostr event signing failed: expected object with id, pubkey, and sig, got ${JSON.stringify(n)}`);return n}async getRelays(){if(!this.nostr.getRelays)return{};const t=await this.nostr.getRelays();if(typeof t!="object"||t===null)throw new Error(`Nostr getRelays failed: expected object, got ${JSON.stringify(t)}`);return this.nostr.getRelays()}get nip04(){const t=this.nostr;if(t.nip04)return{encrypt:async(n,r)=>{const i=await t.nip04.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip04.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}get nip44(){const t=this.nostr;if(t.nip44)return{encrypt:async(n,r)=>{const i=await t.nip44.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip44.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}}function Bb(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function q2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function s3(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Bb(e.outputLen),Bb(e.blockLen)}function rp(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a3(e,t){q2(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const dy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const K2=e=>e instanceof Uint8Array,fy=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Di=(e,t)=>e<<32-t|e>>>t,l3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!l3)throw new Error("Non little-endian hardware is not supported");function c3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function F0(e){if(typeof e=="string"&&(e=c3(e)),!K2(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function u3(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!K2(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let G2=class{clone(){return this._cloneInto()}};function d3(e){const t=r=>e().update(F0(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Y2(e=32){if(dy&&typeof dy.getRandomValues=="function")return dy.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function f3(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(n>>i&s),u=Number(n&s),d=r?4:0,p=r?0:4;e.setUint32(t+d,l,r),e.setUint32(t+p,u,r)}let h3=class extends G2{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=fy(this.buffer)}update(t){rp(this);const{view:n,buffer:r,blockLen:i}=this;t=F0(t);const s=t.length;for(let l=0;l<s;){const u=Math.min(i-this.pos,s-l);if(u===i){const d=fy(t);for(;i<=s-l;l+=i)this.process(d,l);continue}r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){rp(this),a3(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let m=l;m<i;m++)n[m]=0;f3(r,i-8,BigInt(this.length*8),s),this.process(r,0);const u=fy(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)u.setUint32(4*m,g[m],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:u}=this;return t.length=i,t.pos=u,t.finished=s,t.destroyed=l,i%n&&t.buffer.set(r),t}};const p3=(e,t,n)=>e&t^~e&n,m3=(e,t,n)=>e&t^e&n^t&n,g3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Cs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ps=new Uint32Array(64);let y3=class extends h3{constructor(){super(64,32,8,!1),this.A=Cs[0]|0,this.B=Cs[1]|0,this.C=Cs[2]|0,this.D=Cs[3]|0,this.E=Cs[4]|0,this.F=Cs[5]|0,this.G=Cs[6]|0,this.H=Cs[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:l,G:u,H:d}=this;return[t,n,r,i,s,l,u,d]}set(t,n,r,i,s,l,u,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=l|0,this.G=u|0,this.H=d|0}process(t,n){for(let m=0;m<16;m++,n+=4)Ps[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const b=Ps[m-15],w=Ps[m-2],S=Di(b,7)^Di(b,18)^b>>>3,v=Di(w,17)^Di(w,19)^w>>>10;Ps[m]=v+Ps[m-7]+S+Ps[m-16]|0}let{A:r,B:i,C:s,D:l,E:u,F:d,G:p,H:g}=this;for(let m=0;m<64;m++){const b=Di(u,6)^Di(u,11)^Di(u,25),w=g+b+p3(u,d,p)+g3[m]+Ps[m]|0,v=(Di(r,2)^Di(r,13)^Di(r,22))+m3(r,i,s)|0;g=p,p=d,d=u,u=l+w|0,l=s,s=i,i=r,r=w+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,i,s,l,u,d,p,g)}roundClean(){Ps.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Ov=d3(()=>new y3);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J2=BigInt(0),Op=BigInt(1),v3=BigInt(2),jp=e=>e instanceof Uint8Array,w3=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fc(e){if(!jp(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=w3[e[n]];return t}function Q2(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function U0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Uc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,s=e.slice(i,i+2),l=Number.parseInt(s,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function pr(e){return U0(Fc(e))}function $0(e){if(!jp(e))throw new Error("Uint8Array expected");return U0(Fc(Uint8Array.from(e).reverse()))}function ea(e,t){return Uc(e.toString(16).padStart(t*2,"0"))}function Z0(e,t){return ea(e,t).reverse()}function _3(e){return Uc(Q2(e))}function Bn(e,t,n){let r;if(typeof t=="string")try{r=Uc(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(jp(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function sl(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!jp(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function x3(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function b3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function E3(e){let t;for(t=0;e>J2;e>>=Op,t+=1);return t}function S3(e,t){return e>>BigInt(t)&Op}const k3=(e,t,n)=>e|(n?Op:J2)<<BigInt(t),H0=e=>(v3<<BigInt(e-1))-Op,hy=e=>new Uint8Array(e),Fb=e=>Uint8Array.from(e);function X2(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=hy(e),i=hy(e),s=0;const l=()=>{r.fill(1),i.fill(0),s=0},u=(...m)=>n(i,r,...m),d=(m=hy())=>{i=u(Fb([0]),m),r=u(),m.length!==0&&(i=u(Fb([1]),m),r=u())},p=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const b=[];for(;m<t;){r=u();const w=r.slice();b.push(w),m+=r.length}return sl(...b)};return(m,b)=>{l(),d(m);let w;for(;!(w=b(p()));)d();return l(),w}}const C3={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Wd(e,t,n={}){const r=(i,s,l)=>{const u=C3[s];if(typeof u!="function")throw new Error(`Invalid validator "${s}", expected function`);const d=e[i];if(!(l&&d===void 0)&&!u(d,e))throw new Error(`Invalid param ${String(i)}=${d} (${typeof d}), expected ${s}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const P3=Object.freeze(Object.defineProperty({__proto__:null,bitGet:S3,bitLen:E3,bitMask:H0,bitSet:k3,bytesToHex:Fc,bytesToNumberBE:pr,bytesToNumberLE:$0,concatBytes:sl,createHmacDrbg:X2,ensureBytes:Bn,equalBytes:x3,hexToBytes:Uc,hexToNumber:U0,numberToBytesBE:ea,numberToBytesLE:Z0,numberToHexUnpadded:Q2,numberToVarBytesBE:_3,utf8ToBytes:b3,validateObject:Wd},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kn=BigInt(0),dn=BigInt(1),Ua=BigInt(2),T3=BigInt(3),jv=BigInt(4),Ub=BigInt(5),$b=BigInt(8);BigInt(9);BigInt(16);function Nn(e,t){const n=e%t;return n>=kn?n:t+n}function N3(e,t,n){if(n<=kn||t<kn)throw new Error("Expected power/modulo > 0");if(n===dn)return kn;let r=dn;for(;t>kn;)t&dn&&(r=r*e%n),e=e*e%n,t>>=dn;return r}function Hr(e,t,n){let r=e;for(;t-- >kn;)r*=r,r%=n;return r}function Mv(e,t){if(e===kn||t<=kn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Nn(e,t),r=t,i=kn,s=dn;for(;n!==kn;){const u=r/n,d=r%n,p=i-s*u;r=n,n=d,i=s,s=p}if(r!==dn)throw new Error("invert: does not exist");return Nn(i,t)}function A3(e){const t=(e-dn)/Ua;let n,r,i;for(n=e-dn,r=0;n%Ua===kn;n/=Ua,r++);for(i=Ua;i<e&&N3(i,t,e)!==e-dn;i++);if(r===1){const l=(e+dn)/jv;return function(d,p){const g=d.pow(p,l);if(!d.eql(d.sqr(g),p))throw new Error("Cannot find square root");return g}}const s=(n+dn)/Ua;return function(u,d){if(u.pow(d,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let p=r,g=u.pow(u.mul(u.ONE,i),n),m=u.pow(d,s),b=u.pow(d,n);for(;!u.eql(b,u.ONE);){if(u.eql(b,u.ZERO))return u.ZERO;let w=1;for(let v=u.sqr(b);w<p&&!u.eql(v,u.ONE);w++)v=u.sqr(v);const S=u.pow(g,dn<<BigInt(p-w-1));g=u.sqr(S),m=u.mul(m,S),b=u.mul(b,g),p=w}return m}}function R3(e){if(e%jv===T3){const t=(e+dn)/jv;return function(r,i){const s=r.pow(i,t);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%$b===Ub){const t=(e-Ub)/$b;return function(r,i){const s=r.mul(i,Ua),l=r.pow(s,t),u=r.mul(i,l),d=r.mul(r.mul(u,Ua),l),p=r.mul(u,r.sub(d,r.ONE));if(!r.eql(r.sqr(p),i))throw new Error("Cannot find square root");return p}}return A3(e)}const I3=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function L3(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=I3.reduce((r,i)=>(r[i]="function",r),t);return Wd(e,n)}function O3(e,t,n){if(n<kn)throw new Error("Expected power > 0");if(n===kn)return e.ONE;if(n===dn)return t;let r=e.ONE,i=t;for(;n>kn;)n&dn&&(r=e.mul(r,i)),i=e.sqr(i),n>>=dn;return r}function j3(e,t){const n=new Array(t.length),r=t.reduce((s,l,u)=>e.is0(l)?s:(n[u]=s,e.mul(s,l)),e.ONE),i=e.inv(r);return t.reduceRight((s,l,u)=>e.is0(l)?s:(n[u]=e.mul(s,n[u]),e.mul(s,l)),i),n}function eS(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function M3(e,t,n=!1,r={}){if(e<=kn)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=eS(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=R3(e),u=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:H0(i),ZERO:kn,ONE:dn,create:d=>Nn(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return kn<=d&&d<e},is0:d=>d===kn,isOdd:d=>(d&dn)===dn,neg:d=>Nn(-d,e),eql:(d,p)=>d===p,sqr:d=>Nn(d*d,e),add:(d,p)=>Nn(d+p,e),sub:(d,p)=>Nn(d-p,e),mul:(d,p)=>Nn(d*p,e),pow:(d,p)=>O3(u,d,p),div:(d,p)=>Nn(d*Mv(p,e),e),sqrN:d=>d*d,addN:(d,p)=>d+p,subN:(d,p)=>d-p,mulN:(d,p)=>d*p,inv:d=>Mv(d,e),sqrt:r.sqrt||(d=>l(u,d)),invertBatch:d=>j3(u,d),cmov:(d,p,g)=>g?p:d,toBytes:d=>n?Z0(d,s):ea(d,s),fromBytes:d=>{if(d.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${d.length}`);return n?$0(d):pr(d)}});return Object.freeze(u)}function tS(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function nS(e){const t=tS(e);return t+Math.ceil(t/2)}function z3(e,t,n=!1){const r=e.length,i=tS(t),s=nS(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const l=n?pr(e):$0(e),u=Nn(l,t-dn)+dn;return n?Z0(u,i):ea(u,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const D3=BigInt(0),py=BigInt(1);function B3(e,t){const n=(i,s)=>{const l=s.negate();return i?l:s},r=i=>{const s=Math.ceil(t/i)+1,l=2**(i-1);return{windows:s,windowSize:l}};return{constTimeNegate:n,unsafeLadder(i,s){let l=e.ZERO,u=i;for(;s>D3;)s&py&&(l=l.add(u)),u=u.double(),s>>=py;return l},precomputeWindow(i,s){const{windows:l,windowSize:u}=r(s),d=[];let p=i,g=p;for(let m=0;m<l;m++){g=p,d.push(g);for(let b=1;b<u;b++)g=g.add(p),d.push(g);p=g.double()}return d},wNAF(i,s,l){const{windows:u,windowSize:d}=r(i);let p=e.ZERO,g=e.BASE;const m=BigInt(2**i-1),b=2**i,w=BigInt(i);for(let S=0;S<u;S++){const v=S*d;let E=Number(l&m);l>>=w,E>d&&(E-=b,l+=py);const k=v,N=v+Math.abs(E)-1,A=S%2!==0,z=E<0;E===0?g=g.add(n(A,s[k])):p=p.add(n(z,s[N]))}return{p,f:g}},wNAFCached(i,s,l,u){const d=i._WINDOW_SIZE||1;let p=s.get(i);return p||(p=this.precomputeWindow(i,d),d!==1&&s.set(i,u(p))),this.wNAF(d,p,l)}}}function rS(e){return L3(e.Fp),Wd(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...eS(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function F3(e){const t=rS(e);Wd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:U3,hexToBytes:$3}=P3,$a={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=$a;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:U3(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=$a,n=typeof e=="string"?$3(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=$a._parseInt(n.subarray(2)),{d:l,l:u}=$a._parseInt(s);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:l}},hexFromSig(e){const t=p=>Number.parseInt(p[0],16)&8?"00"+p:p,n=p=>{const g=p.toString(16);return g.length&1?`0${g}`:g},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,l=i.length/2,u=n(s),d=n(l);return`30${n(l+s+4)}02${d}${i}02${u}${r}`}},Ro=BigInt(0),Gr=BigInt(1);BigInt(2);const Zb=BigInt(3);BigInt(4);function Z3(e){const t=F3(e),{Fp:n}=t,r=t.toBytes||((S,v,E)=>{const k=v.toAffine();return sl(Uint8Array.from([4]),n.toBytes(k.x),n.toBytes(k.y))}),i=t.fromBytes||(S=>{const v=S.subarray(1),E=n.fromBytes(v.subarray(0,n.BYTES)),k=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:E,y:k}});function s(S){const{a:v,b:E}=t,k=n.sqr(S),N=n.mul(k,S);return n.add(n.add(N,n.mul(S,v)),E)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function l(S){return typeof S=="bigint"&&Ro<S&&S<t.n}function u(S){if(!l(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(S){const{allowedPrivateKeyLengths:v,nByteLength:E,wrapPrivateKey:k,n:N}=t;if(v&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=Fc(S)),typeof S!="string"||!v.includes(S.length))throw new Error("Invalid key");S=S.padStart(E*2,"0")}let A;try{A=typeof S=="bigint"?S:pr(Bn("private key",S,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof S}`)}return k&&(A=Nn(A,N)),u(A),A}const p=new Map;function g(S){if(!(S instanceof m))throw new Error("ProjectivePoint expected")}class m{constructor(v,E,k){if(this.px=v,this.py=E,this.pz=k,v==null||!n.isValid(v))throw new Error("x required");if(E==null||!n.isValid(E))throw new Error("y required");if(k==null||!n.isValid(k))throw new Error("z required")}static fromAffine(v){const{x:E,y:k}=v||{};if(!v||!n.isValid(E)||!n.isValid(k))throw new Error("invalid affine point");if(v instanceof m)throw new Error("projective point not allowed");const N=A=>n.eql(A,n.ZERO);return N(E)&&N(k)?m.ZERO:new m(E,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const E=n.invertBatch(v.map(k=>k.pz));return v.map((k,N)=>k.toAffine(E[N])).map(m.fromAffine)}static fromHex(v){const E=m.fromAffine(i(Bn("pointHex",v)));return E.assertValidity(),E}static fromPrivateKey(v){return m.BASE.multiply(d(v))}_setWindowSize(v){this._WINDOW_SIZE=v,p.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:E}=this.toAffine();if(!n.isValid(v)||!n.isValid(E))throw new Error("bad point: x or y not FE");const k=n.sqr(E),N=s(v);if(!n.eql(k,N))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){g(v);const{px:E,py:k,pz:N}=this,{px:A,py:z,pz:D}=v,$=n.eql(n.mul(E,D),n.mul(A,N)),H=n.eql(n.mul(k,D),n.mul(z,N));return $&&H}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:E}=t,k=n.mul(E,Zb),{px:N,py:A,pz:z}=this;let D=n.ZERO,$=n.ZERO,H=n.ZERO,V=n.mul(N,N),F=n.mul(A,A),W=n.mul(z,z),J=n.mul(N,A);return J=n.add(J,J),H=n.mul(N,z),H=n.add(H,H),D=n.mul(v,H),$=n.mul(k,W),$=n.add(D,$),D=n.sub(F,$),$=n.add(F,$),$=n.mul(D,$),D=n.mul(J,D),H=n.mul(k,H),W=n.mul(v,W),J=n.sub(V,W),J=n.mul(v,J),J=n.add(J,H),H=n.add(V,V),V=n.add(H,V),V=n.add(V,W),V=n.mul(V,J),$=n.add($,V),W=n.mul(A,z),W=n.add(W,W),V=n.mul(W,J),D=n.sub(D,V),H=n.mul(W,F),H=n.add(H,H),H=n.add(H,H),new m(D,$,H)}add(v){g(v);const{px:E,py:k,pz:N}=this,{px:A,py:z,pz:D}=v;let $=n.ZERO,H=n.ZERO,V=n.ZERO;const F=t.a,W=n.mul(t.b,Zb);let J=n.mul(E,A),U=n.mul(k,z),X=n.mul(N,D),O=n.add(E,k),K=n.add(A,z);O=n.mul(O,K),K=n.add(J,U),O=n.sub(O,K),K=n.add(E,N);let se=n.add(A,D);return K=n.mul(K,se),se=n.add(J,X),K=n.sub(K,se),se=n.add(k,N),$=n.add(z,D),se=n.mul(se,$),$=n.add(U,X),se=n.sub(se,$),V=n.mul(F,K),$=n.mul(W,X),V=n.add($,V),$=n.sub(U,V),V=n.add(U,V),H=n.mul($,V),U=n.add(J,J),U=n.add(U,J),X=n.mul(F,X),K=n.mul(W,K),U=n.add(U,X),X=n.sub(J,X),X=n.mul(F,X),K=n.add(K,X),J=n.mul(U,K),H=n.add(H,J),J=n.mul(se,K),$=n.mul(O,$),$=n.sub($,J),J=n.mul(O,U),V=n.mul(se,V),V=n.add(V,J),new m($,H,V)}subtract(v){return this.add(v.negate())}is0(){return this.equals(m.ZERO)}wNAF(v){return w.wNAFCached(this,p,v,E=>{const k=n.invertBatch(E.map(N=>N.pz));return E.map((N,A)=>N.toAffine(k[A])).map(m.fromAffine)})}multiplyUnsafe(v){const E=m.ZERO;if(v===Ro)return E;if(u(v),v===Gr)return this;const{endo:k}=t;if(!k)return w.unsafeLadder(this,v);let{k1neg:N,k1:A,k2neg:z,k2:D}=k.splitScalar(v),$=E,H=E,V=this;for(;A>Ro||D>Ro;)A&Gr&&($=$.add(V)),D&Gr&&(H=H.add(V)),V=V.double(),A>>=Gr,D>>=Gr;return N&&($=$.negate()),z&&(H=H.negate()),H=new m(n.mul(H.px,k.beta),H.py,H.pz),$.add(H)}multiply(v){u(v);let E=v,k,N;const{endo:A}=t;if(A){const{k1neg:z,k1:D,k2neg:$,k2:H}=A.splitScalar(E);let{p:V,f:F}=this.wNAF(D),{p:W,f:J}=this.wNAF(H);V=w.constTimeNegate(z,V),W=w.constTimeNegate($,W),W=new m(n.mul(W.px,A.beta),W.py,W.pz),k=V.add(W),N=F.add(J)}else{const{p:z,f:D}=this.wNAF(E);k=z,N=D}return m.normalizeZ([k,N])[0]}multiplyAndAddUnsafe(v,E,k){const N=m.BASE,A=(D,$)=>$===Ro||$===Gr||!D.equals(N)?D.multiplyUnsafe($):D.multiply($),z=A(this,E).add(A(v,k));return z.is0()?void 0:z}toAffine(v){const{px:E,py:k,pz:N}=this,A=this.is0();v==null&&(v=A?n.ONE:n.inv(N));const z=n.mul(E,v),D=n.mul(k,v),$=n.mul(N,v);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:z,y:D}}isTorsionFree(){const{h:v,isTorsionFree:E}=t;if(v===Gr)return!0;if(E)return E(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:E}=t;return v===Gr?this:E?E(m,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return this.assertValidity(),r(m,this,v)}toHex(v=!0){return Fc(this.toRawBytes(v))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,w=B3(m,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:s,isWithinCurveOrder:l}}function H3(e){const t=rS(e);return Wd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function W3(e){const t=H3(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function l(K){return Ro<K&&K<n.ORDER}function u(K){return Nn(K,r)}function d(K){return Mv(K,r)}const{ProjectivePoint:p,normPrivateKeyToScalar:g,weierstrassEquation:m,isWithinCurveOrder:b}=Z3({...t,toBytes(K,se,ie){const te=se.toAffine(),ee=n.toBytes(te.x),le=sl;return ie?le(Uint8Array.from([se.hasEvenY()?2:3]),ee):le(Uint8Array.from([4]),ee,n.toBytes(te.y))},fromBytes(K){const se=K.length,ie=K[0],te=K.subarray(1);if(se===i&&(ie===2||ie===3)){const ee=pr(te);if(!l(ee))throw new Error("Point is not on curve");const le=m(ee);let Z=n.sqrt(le);const Q=(Z&Gr)===Gr;return(ie&1)===1!==Q&&(Z=n.neg(Z)),{x:ee,y:Z}}else if(se===s&&ie===4){const ee=n.fromBytes(te.subarray(0,n.BYTES)),le=n.fromBytes(te.subarray(n.BYTES,2*n.BYTES));return{x:ee,y:le}}else throw new Error(`Point of length ${se} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),w=K=>Fc(ea(K,t.nByteLength));function S(K){const se=r>>Gr;return K>se}function v(K){return S(K)?u(-K):K}const E=(K,se,ie)=>pr(K.slice(se,ie));class k{constructor(se,ie,te){this.r=se,this.s=ie,this.recovery=te,this.assertValidity()}static fromCompact(se){const ie=t.nByteLength;return se=Bn("compactSignature",se,ie*2),new k(E(se,0,ie),E(se,ie,2*ie))}static fromDER(se){const{r:ie,s:te}=$a.toSig(Bn("DER",se));return new k(ie,te)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(se){return new k(this.r,this.s,se)}recoverPublicKey(se){const{r:ie,s:te,recovery:ee}=this,le=H(Bn("msgHash",se));if(ee==null||![0,1,2,3].includes(ee))throw new Error("recovery id invalid");const Z=ee===2||ee===3?ie+t.n:ie;if(Z>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Q=(ee&1)===0?"02":"03",ke=p.fromHex(Q+w(Z)),_e=d(Z),ve=u(-le*_e),Ie=u(te*_e),Te=p.BASE.multiplyAndAddUnsafe(ke,ve,Ie);if(!Te)throw new Error("point at infinify");return Te.assertValidity(),Te}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Uc(this.toDERHex())}toDERHex(){return $a.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Uc(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const N={isValidPrivateKey(K){try{return g(K),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const K=nS(t.n);return z3(t.randomBytes(K),t.n)},precompute(K=8,se=p.BASE){return se._setWindowSize(K),se.multiply(BigInt(3)),se}};function A(K,se=!0){return p.fromPrivateKey(K).toRawBytes(se)}function z(K){const se=K instanceof Uint8Array,ie=typeof K=="string",te=(se||ie)&&K.length;return se?te===i||te===s:ie?te===2*i||te===2*s:K instanceof p}function D(K,se,ie=!0){if(z(K))throw new Error("first arg must be private key");if(!z(se))throw new Error("second arg must be public key");return p.fromHex(se).multiply(g(K)).toRawBytes(ie)}const $=t.bits2int||function(K){const se=pr(K),ie=K.length*8-t.nBitLength;return ie>0?se>>BigInt(ie):se},H=t.bits2int_modN||function(K){return u($(K))},V=H0(t.nBitLength);function F(K){if(typeof K!="bigint")throw new Error("bigint expected");if(!(Ro<=K&&K<V))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ea(K,t.nByteLength)}function W(K,se,ie=J){if(["recovered","canonical"].some(je=>je in ie))throw new Error("sign() legacy options not supported");const{hash:te,randomBytes:ee}=t;let{lowS:le,prehash:Z,extraEntropy:Q}=ie;le==null&&(le=!0),K=Bn("msgHash",K),Z&&(K=Bn("prehashed msgHash",te(K)));const ke=H(K),_e=g(se),ve=[F(_e),F(ke)];if(Q!=null){const je=Q===!0?ee(n.BYTES):Q;ve.push(Bn("extraEntropy",je))}const Ie=sl(...ve),Te=ke;function Ne(je){const Ze=$(je);if(!b(Ze))return;const Qe=d(Ze),ot=p.BASE.multiply(Ze).toAffine(),at=u(ot.x);if(at===Ro)return;const B=u(Qe*u(Te+at*_e));if(B===Ro)return;let Pe=(ot.x===at?0:2)|Number(ot.y&Gr),be=B;return le&&S(B)&&(be=v(B),Pe^=1),new k(at,be,Pe)}return{seed:Ie,k2sig:Ne}}const J={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};function X(K,se,ie=J){const{seed:te,k2sig:ee}=W(K,se,ie),le=t;return X2(le.hash.outputLen,le.nByteLength,le.hmac)(te,ee)}p.BASE._setWindowSize(8);function O(K,se,ie,te=U){var ot;const ee=K;if(se=Bn("msgHash",se),ie=Bn("publicKey",ie),"strict"in te)throw new Error("options.strict was renamed to lowS");const{lowS:le,prehash:Z}=te;let Q,ke;try{if(typeof ee=="string"||ee instanceof Uint8Array)try{Q=k.fromDER(ee)}catch(at){if(!(at instanceof $a.Err))throw at;Q=k.fromCompact(ee)}else if(typeof ee=="object"&&typeof ee.r=="bigint"&&typeof ee.s=="bigint"){const{r:at,s:B}=ee;Q=new k(at,B)}else throw new Error("PARSE");ke=p.fromHex(ie)}catch(at){if(at.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(le&&Q.hasHighS())return!1;Z&&(se=t.hash(se));const{r:_e,s:ve}=Q,Ie=H(se),Te=d(ve),Ne=u(Ie*Te),je=u(_e*Te),Ze=(ot=p.BASE.multiplyAndAddUnsafe(ke,Ne,je))==null?void 0:ot.toAffine();return Ze?u(Ze.x)===_e:!1}return{CURVE:t,getPublicKey:A,getSharedSecret:D,sign:X,verify:O,ProjectivePoint:p,Signature:k,utils:N}}let iS=class extends G2{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,s3(t);const r=F0(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=t.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),s.fill(0)}update(t){return rp(this),this.iHash.update(t),this}digestInto(t){rp(this),q2(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:l,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=l,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const oS=(e,t,n)=>new iS(e,t).update(n).digest();oS.create=(e,t)=>new iS(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function V3(e){return{hash:e,hmac:(t,...n)=>oS(e,t,u3(...n)),randomBytes:Y2}}function q3(e,t){const n=r=>W3({...e,...V3(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mp=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ip=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sS=BigInt(1),op=BigInt(2),Hb=(e,t)=>(e+t/op)/t;function aS(e){const t=Mp,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),l=BigInt(23),u=BigInt(44),d=BigInt(88),p=e*e*e%t,g=p*p*e%t,m=Hr(g,n,t)*g%t,b=Hr(m,n,t)*g%t,w=Hr(b,op,t)*p%t,S=Hr(w,i,t)*w%t,v=Hr(S,s,t)*S%t,E=Hr(v,u,t)*v%t,k=Hr(E,d,t)*E%t,N=Hr(k,u,t)*v%t,A=Hr(N,n,t)*g%t,z=Hr(A,l,t)*S%t,D=Hr(z,r,t)*p%t,$=Hr(D,op,t);if(!zv.eql(zv.sqr($),e))throw new Error("Cannot find square root");return $}const zv=M3(Mp,void 0,void 0,{sqrt:aS}),Gc=q3({a:BigInt(0),b:BigInt(7),Fp:zv,n:ip,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ip,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-sS*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,l=BigInt("0x100000000000000000000000000000000"),u=Hb(s*e,t),d=Hb(-r*e,t);let p=Nn(e-u*n-d*i,t),g=Nn(-u*r-d*s,t);const m=p>l,b=g>l;if(m&&(p=t-p),b&&(g=t-g),p>l||g>l)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:p,k2neg:b,k2:g}}}},Ov),zp=BigInt(0),lS=e=>typeof e=="bigint"&&zp<e&&e<Mp,K3=e=>typeof e=="bigint"&&zp<e&&e<ip,Wb={};function sp(e,...t){let n=Wb[e];if(n===void 0){const r=Ov(Uint8Array.from(e,i=>i.charCodeAt(0)));n=sl(r,r),Wb[e]=n}return Ov(sl(n,...t))}const W0=e=>e.toRawBytes(!0).slice(1),Dv=e=>ea(e,32),my=e=>Nn(e,Mp),bd=e=>Nn(e,ip),V0=Gc.ProjectivePoint,G3=(e,t,n)=>V0.BASE.multiplyAndAddUnsafe(e,t,n);function Bv(e){let t=Gc.utils.normPrivateKeyToScalar(e),n=V0.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:bd(-t),bytes:W0(n)}}function cS(e){if(!lS(e))throw new Error("bad x: need 0 < x < p");const t=my(e*e),n=my(t*e+BigInt(7));let r=aS(n);r%op!==zp&&(r=my(-r));const i=new V0(e,r,sS);return i.assertValidity(),i}function uS(...e){return bd(pr(sp("BIP0340/challenge",...e)))}function Y3(e){return Bv(e).bytes}function J3(e,t,n=Y2(32)){const r=Bn("message",e),{bytes:i,scalar:s}=Bv(t),l=Bn("auxRand",n,32),u=Dv(s^pr(sp("BIP0340/aux",l))),d=sp("BIP0340/nonce",u,i,r),p=bd(pr(d));if(p===zp)throw new Error("sign failed: k is zero");const{bytes:g,scalar:m}=Bv(p),b=uS(g,i,r),w=new Uint8Array(64);if(w.set(g,0),w.set(Dv(bd(m+b*s)),32),!dS(w,r,i))throw new Error("sign: Invalid signature produced");return w}function dS(e,t,n){const r=Bn("signature",e,64),i=Bn("message",t),s=Bn("publicKey",n,32);try{const l=cS(pr(s)),u=pr(r.subarray(0,32));if(!lS(u))return!1;const d=pr(r.subarray(32,64));if(!K3(d))return!1;const p=uS(Dv(u),W0(l),i),g=G3(l,d,bd(-p));return!(!g||!g.hasEvenY()||g.toAffine().x!==u)}catch{return!1}}const rd={getPublicKey:Y3,sign:J3,verify:dS,utils:{randomPrivateKey:Gc.utils.randomPrivateKey,lift_x:cS,pointToBytes:W0,numberToBytesBE:ea,bytesToNumberBE:pr,taggedHash:sp,mod:Nn}},gy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const q0=e=>e instanceof Uint8Array,yy=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Bi=(e,t)=>e<<32-t|e>>>t,Q3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Q3)throw new Error("Non little-endian hardware is not supported");const X3=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fn(e){if(!q0(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=X3[e[n]];return t}function al(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,s=e.slice(i,i+2),l=Number.parseInt(s,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function e4(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ed(e){if(typeof e=="string"&&(e=e4(e)),!q0(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Dp(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!q0(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class fS{clone(){return this._cloneInto()}}function hS(e){const t=r=>e().update(Ed(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function pS(e=32){if(gy&&typeof gy.getRandomValues=="function")return gy.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Fv(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function t4(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function mS(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function n4(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Fv(e.outputLen),Fv(e.blockLen)}function r4(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function i4(e,t){mS(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Gi={number:Fv,bool:t4,bytes:mS,hash:n4,exists:r4,output:i4};function o4(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(n>>i&s),u=Number(n&s),d=r?4:0,p=r?0:4;e.setUint32(t+d,l,r),e.setUint32(t+p,u,r)}class s4 extends fS{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=yy(this.buffer)}update(t){Gi.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=Ed(t);const s=t.length;for(let l=0;l<s;){const u=Math.min(i-this.pos,s-l);if(u===i){const d=yy(t);for(;i<=s-l;l+=i)this.process(d,l);continue}r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Gi.exists(this),Gi.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let m=l;m<i;m++)n[m]=0;o4(r,i-8,BigInt(this.length*8),s),this.process(r,0);const u=yy(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)u.setUint32(4*m,g[m],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:u}=this;return t.length=i,t.pos=u,t.finished=s,t.destroyed=l,i%n&&t.buffer.set(r),t}}const a4=(e,t,n)=>e&t^~e&n,l4=(e,t,n)=>e&t^e&n^t&n,c4=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ts=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ns=new Uint32Array(64);class gS extends s4{constructor(){super(64,32,8,!1),this.A=Ts[0]|0,this.B=Ts[1]|0,this.C=Ts[2]|0,this.D=Ts[3]|0,this.E=Ts[4]|0,this.F=Ts[5]|0,this.G=Ts[6]|0,this.H=Ts[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:l,G:u,H:d}=this;return[t,n,r,i,s,l,u,d]}set(t,n,r,i,s,l,u,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=l|0,this.G=u|0,this.H=d|0}process(t,n){for(let m=0;m<16;m++,n+=4)Ns[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const b=Ns[m-15],w=Ns[m-2],S=Bi(b,7)^Bi(b,18)^b>>>3,v=Bi(w,17)^Bi(w,19)^w>>>10;Ns[m]=v+Ns[m-7]+S+Ns[m-16]|0}let{A:r,B:i,C:s,D:l,E:u,F:d,G:p,H:g}=this;for(let m=0;m<64;m++){const b=Bi(u,6)^Bi(u,11)^Bi(u,25),w=g+b+a4(u,d,p)+c4[m]+Ns[m]|0,v=(Bi(r,2)^Bi(r,13)^Bi(r,22))+l4(r,i,s)|0;g=p,p=d,d=u,u=l+w|0,l=s,s=i,i=r,r=w+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,i,s,l,u,d,p,g)}roundClean(){Ns.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u4 extends gS{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Yc=hS(()=>new gS);hS(()=>new u4);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jc(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Zo(...e){const t=(i,s)=>l=>i(s(l)),n=Array.from(e).reverse().reduce((i,s)=>i?t(i,s.encode):s.encode,void 0),r=e.reduce((i,s)=>i?t(i,s.decode):s.decode,void 0);return{encode:n,decode:r}}function Ho(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Jc(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function Wo(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Bp(e,t="="){if(Jc(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of n)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function yS(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function Vb(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],s=Array.from(e);for(s.forEach(l=>{if(Jc(l),l<0||l>=t)throw new Error(`Wrong integer: ${l}`)});;){let l=0,u=!0;for(let d=r;d<s.length;d++){const p=s[d],g=t*l+p;if(!Number.isSafeInteger(g)||t*l/t!==l||g-p!==t*l)throw new Error("convertRadix: carry overflow");if(l=g%n,s[d]=Math.floor(g/n),!Number.isSafeInteger(s[d])||s[d]*n+l!==g)throw new Error("convertRadix: carry overflow");if(u)s[d]?u=!1:r=d;else continue}if(i.push(l),u)break}for(let l=0;l<e.length-1&&e[l]===0;l++)i.push(0);return i.reverse()}const vS=(e,t)=>t?vS(t,e%t):e,ap=(e,t)=>e+(t-vS(e,t));function Uv(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(ap(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${ap(t,n)}`);let i=0,s=0;const l=2**n-1,u=[];for(const d of e){if(Jc(d),d>=2**t)throw new Error(`convertRadix2: invalid data word=${d} from=${t}`);if(i=i<<t|d,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)u.push((i>>s-n&l)>>>0);i&=2**s-1}if(i=i<<n-s&l,!r&&s>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&u.push(i>>>0),u}function d4(e){return Jc(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Vb(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Vb(t,e,2**8))}}}function oa(e,t=!1){if(Jc(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(ap(8,e)>32||ap(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Uv(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Uv(n,e,8,t))}}}function qb(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const f4=Zo(oa(4),Ho("0123456789ABCDEF"),Wo("")),h4=Zo(oa(5),Ho("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Bp(5),Wo(""));Zo(oa(5),Ho("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Bp(5),Wo(""));Zo(oa(5),Ho("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Wo(""),yS(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Bo=Zo(oa(6),Ho("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Bp(6),Wo("")),p4=Zo(oa(6),Ho("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Bp(6),Wo("")),K0=e=>Zo(d4(58),Ho(e),Wo("")),$v=K0("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");K0("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");K0("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Kb=[0,2,3,5,6,7,9,10,11],m4={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=$v.encode(r).padStart(Kb[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=Kb.indexOf(r.length),s=$v.decode(r);for(let l=0;l<s.length-i;l++)if(s[l]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(t)}},Zv=Zo(Ho("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Wo("")),Gb=[996825010,642813549,513874426,1027748829,705979059];function id(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<Gb.length;r++)(t>>r&1)===1&&(n^=Gb[r]);return n}function Yb(e,t,n=1){const r=e.length;let i=1;for(let s=0;s<r;s++){const l=e.charCodeAt(s);if(l<33||l>126)throw new Error(`Invalid prefix (${e})`);i=id(i)^l>>5}i=id(i);for(let s=0;s<r;s++)i=id(i)^e.charCodeAt(s)&31;for(let s of t)i=id(i)^s;for(let s=0;s<6;s++)i=id(i);return i^=n,Zv.encode(Uv([i%2**30],30,5,!1))}function wS(e){const t=e==="bech32"?1:734539939,n=oa(5),r=n.decode,i=n.encode,s=qb(r);function l(g,m,b=90){if(typeof g!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof g}`);if(!Array.isArray(m)||m.length&&typeof m[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof m}`);const w=g.length+7+m.length;if(b!==!1&&w>b)throw new TypeError(`Length ${w} exceeds limit ${b}`);return g=g.toLowerCase(),`${g}1${Zv.encode(m)}${Yb(g,m,t)}`}function u(g,m=90){if(typeof g!="string")throw new Error(`bech32.decode input should be string, not ${typeof g}`);if(g.length<8||m!==!1&&g.length>m)throw new TypeError(`Wrong string length: ${g.length} (${g}). Expected (8..${m})`);const b=g.toLowerCase();if(g!==b&&g!==g.toUpperCase())throw new Error("String must be lowercase or uppercase");g=b;const w=g.lastIndexOf("1");if(w===0||w===-1)throw new Error('Letter "1" must be present between prefix and data only');const S=g.slice(0,w),v=g.slice(w+1);if(v.length<6)throw new Error("Data must be at least 6 characters long");const E=Zv.decode(v).slice(0,-6),k=Yb(S,E,t);if(!v.endsWith(k))throw new Error(`Invalid checksum in ${g}: expected "${k}"`);return{prefix:S,words:E}}const d=qb(u);function p(g){const{prefix:m,words:b}=u(g,!1);return{prefix:m,words:b,bytes:r(b)}}return{encode:l,decode:u,decodeToBytes:p,decodeUnsafe:d,fromWords:r,fromWordsUnsafe:s,toWords:i}}const $c=wS("bech32");wS("bech32m");const g4={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},y4=Zo(oa(4),Ho("0123456789abcdef"),Wo(""),yS(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),v4={utf8:g4,hex:y4,base16:f4,base32:h4,base64:Bo,base64url:p4,base58:$v,base58xmr:m4};`${Object.keys(v4).join(", ")}`;function vy(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Jb(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function w4(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Oo(e,...t){if(!w4(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Un=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),_4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_4)throw new Error("Non little-endian hardware is not supported");function x4(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function b4(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const E4=(e,t)=>(Object.assign(t,e),t),Js=16,S4=283;function G0(e){return e<<1^S4&-(e>>7)}function gc(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=G0(e);return n}const Hv=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=G0(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),k4=Hv.map((e,t)=>Hv.indexOf(t)),C4=e=>e<<24|e>>>8,wy=e=>e<<8|e>>>24;function _S(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((p,g)=>t(e[g])),r=n.map(wy),i=r.map(wy),s=i.map(wy),l=new Uint32Array(256*256),u=new Uint32Array(256*256),d=new Uint16Array(256*256);for(let p=0;p<256;p++)for(let g=0;g<256;g++){const m=p*256+g;l[m]=n[p]^r[g],u[m]=i[p]^s[g],d[m]=e[p]<<8|e[g]}return{sbox:e,sbox2:d,T0:n,T1:r,T2:i,T3:s,T01:l,T23:u}}const Y0=_S(Hv,e=>gc(e,3)<<24|e<<16|e<<8|gc(e,2)),xS=_S(k4,e=>gc(e,11)<<24|gc(e,13)<<16|gc(e,9)<<8|gc(e,14)),P4=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=G0(n))e[t]=n;return e})();function bS(e){Oo(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Y0,r=Un(e),i=r.length,s=u=>Yi(n,u,u,u,u),l=new Uint32Array(t+28);l.set(r);for(let u=i;u<l.length;u++){let d=l[u-1];u%i===0?d=s(C4(d))^P4[u/i-1]:i>6&&u%i===4&&(d=s(d)),l[u]=l[u-i]^d}return l}function T4(e){const t=bS(e),n=t.slice(),r=t.length,{sbox2:i}=Y0,{T0:s,T1:l,T2:u,T3:d}=xS;for(let p=0;p<r;p+=4)for(let g=0;g<4;g++)n[p+g]=t[r-p-4+g];t.fill(0);for(let p=4;p<r-4;p++){const g=n[p],m=Yi(i,g,g,g,g);n[p]=s[m&255]^l[m>>>8&255]^u[m>>>16&255]^d[m>>>24]}return n}function qs(e,t,n,r,i,s){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|s>>>24&255]}function Yi(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function Qb(e,t,n,r,i){const{sbox2:s,T01:l,T23:u}=Y0;let d=0;t^=e[d++],n^=e[d++],r^=e[d++],i^=e[d++];const p=e.length/4-2;for(let S=0;S<p;S++){const v=e[d++]^qs(l,u,t,n,r,i),E=e[d++]^qs(l,u,n,r,i,t),k=e[d++]^qs(l,u,r,i,t,n),N=e[d++]^qs(l,u,i,t,n,r);t=v,n=E,r=k,i=N}const g=e[d++]^Yi(s,t,n,r,i),m=e[d++]^Yi(s,n,r,i,t),b=e[d++]^Yi(s,r,i,t,n),w=e[d++]^Yi(s,i,t,n,r);return{s0:g,s1:m,s2:b,s3:w}}function N4(e,t,n,r,i){const{sbox2:s,T01:l,T23:u}=xS;let d=0;t^=e[d++],n^=e[d++],r^=e[d++],i^=e[d++];const p=e.length/4-2;for(let S=0;S<p;S++){const v=e[d++]^qs(l,u,t,i,r,n),E=e[d++]^qs(l,u,n,t,i,r),k=e[d++]^qs(l,u,r,n,t,i),N=e[d++]^qs(l,u,i,r,n,t);t=v,n=E,r=k,i=N}const g=e[d++]^Yi(s,t,i,r,n),m=e[d++]^Yi(s,n,t,i,r),b=e[d++]^Yi(s,r,n,t,i),w=e[d++]^Yi(s,i,r,n,t);return{s0:g,s1:m,s2:b,s3:w}}function ES(e,t){if(!t)return new Uint8Array(e);if(Oo(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function A4(e){if(Oo(e),e.length%Js!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Js}`)}function R4(e,t,n){let r=e.length;const i=r%Js;if(!t&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const s=Un(e);if(t){let d=Js-i;d||(d=Js),r=r+d}const l=ES(r,n),u=Un(l);return{b:s,o:u,out:l}}function I4(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const i=e.subarray(0,-r);for(let s=0;s<r;s++)if(e[n-s-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function L4(e){const t=new Uint8Array(16),n=Un(t);t.set(e);const r=Js-e.length;for(let i=Js-r;i<Js;i++)t[i]=r;return n}const SS=E4({blockSize:16,nonceLength:16},function(t,n,r={}){Oo(t),Oo(n,16);const i=!r.disablePadding;return{encrypt:(s,l)=>{const u=bS(t),{b:d,o:p,out:g}=R4(s,i,l),m=Un(n);let b=m[0],w=m[1],S=m[2],v=m[3],E=0;for(;E+4<=d.length;)b^=d[E+0],w^=d[E+1],S^=d[E+2],v^=d[E+3],{s0:b,s1:w,s2:S,s3:v}=Qb(u,b,w,S,v),p[E++]=b,p[E++]=w,p[E++]=S,p[E++]=v;if(i){const k=L4(s.subarray(E*4));b^=k[0],w^=k[1],S^=k[2],v^=k[3],{s0:b,s1:w,s2:S,s3:v}=Qb(u,b,w,S,v),p[E++]=b,p[E++]=w,p[E++]=S,p[E++]=v}return u.fill(0),g},decrypt:(s,l)=>{A4(s);const u=T4(t),d=Un(n),p=ES(s.length,l),g=Un(s),m=Un(p);let b=d[0],w=d[1],S=d[2],v=d[3];for(let E=0;E+4<=g.length;){const k=b,N=w,A=S,z=v;b=g[E+0],w=g[E+1],S=g[E+2],v=g[E+3];const{s0:D,s1:$,s2:H,s3:V}=N4(u,b,w,S,v);m[E++]=D^k,m[E++]=$^N,m[E++]=H^A,m[E++]=V^z}return u.fill(0),I4(p,i)}}}),kS=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),O4=kS("expand 16-byte k"),j4=kS("expand 32-byte k"),M4=Un(O4),CS=Un(j4);CS.slice();function It(e,t){return e<<t|e>>>32-t}function Wv(e){return e.byteOffset%4===0}const Ah=64,z4=16,PS=2**32-1,Xb=new Uint32Array;function D4(e,t,n,r,i,s,l,u){const d=i.length,p=new Uint8Array(Ah),g=Un(p),m=Wv(i)&&Wv(s),b=m?Un(i):Xb,w=m?Un(s):Xb;for(let S=0;S<d;l++){if(e(t,n,r,g,l,u),l>=PS)throw new Error("arx: counter overflow");const v=Math.min(Ah,d-S);if(m&&v===Ah){const E=S/4;if(S%4!==0)throw new Error("arx: invalid block position");for(let k=0,N;k<z4;k++)N=E+k,w[N]=b[N]^g[k];S+=Ah;continue}for(let E=0,k;E<v;E++)k=S+E,s[k]=i[k]^p[E];S+=v}}function B4(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:l}=x4({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return vy(i),vy(l),Jb(s),Jb(n),(u,d,p,g,m=0)=>{Oo(u),Oo(d),Oo(p);const b=p.length;if(g||(g=new Uint8Array(b)),Oo(g),vy(m),m<0||m>=PS)throw new Error("arx: counter overflow");if(g.length<b)throw new Error(`arx: output (${g.length}) is shorter than data (${b})`);const w=[];let S=u.length,v,E;if(S===32)v=u.slice(),w.push(v),E=CS;else if(S===16&&n)v=new Uint8Array(32),v.set(u),v.set(u,16),E=M4,w.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${S}`);Wv(d)||(d=d.slice(),w.push(d));const k=Un(v);if(r){if(d.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,k,Un(d.subarray(0,16)),k),d=d.subarray(16)}const N=16-i;if(N!==d.length)throw new Error(`arx: nonce must be ${N} or 16 bytes`);if(N!==12){const z=new Uint8Array(12);z.set(d,s?0:12-d.length),d=z,w.push(d)}const A=Un(d);for(D4(e,E,k,A,p,g,m,l);w.length>0;)w.pop().fill(0);return g}}function F4(e,t,n,r,i,s=20){let l=e[0],u=e[1],d=e[2],p=e[3],g=t[0],m=t[1],b=t[2],w=t[3],S=t[4],v=t[5],E=t[6],k=t[7],N=i,A=n[0],z=n[1],D=n[2],$=l,H=u,V=d,F=p,W=g,J=m,U=b,X=w,O=S,K=v,se=E,ie=k,te=N,ee=A,le=z,Z=D;for(let ke=0;ke<s;ke+=2)$=$+W|0,te=It(te^$,16),O=O+te|0,W=It(W^O,12),$=$+W|0,te=It(te^$,8),O=O+te|0,W=It(W^O,7),H=H+J|0,ee=It(ee^H,16),K=K+ee|0,J=It(J^K,12),H=H+J|0,ee=It(ee^H,8),K=K+ee|0,J=It(J^K,7),V=V+U|0,le=It(le^V,16),se=se+le|0,U=It(U^se,12),V=V+U|0,le=It(le^V,8),se=se+le|0,U=It(U^se,7),F=F+X|0,Z=It(Z^F,16),ie=ie+Z|0,X=It(X^ie,12),F=F+X|0,Z=It(Z^F,8),ie=ie+Z|0,X=It(X^ie,7),$=$+J|0,Z=It(Z^$,16),se=se+Z|0,J=It(J^se,12),$=$+J|0,Z=It(Z^$,8),se=se+Z|0,J=It(J^se,7),H=H+U|0,te=It(te^H,16),ie=ie+te|0,U=It(U^ie,12),H=H+U|0,te=It(te^H,8),ie=ie+te|0,U=It(U^ie,7),V=V+X|0,ee=It(ee^V,16),O=O+ee|0,X=It(X^O,12),V=V+X|0,ee=It(ee^V,8),O=O+ee|0,X=It(X^O,7),F=F+W|0,le=It(le^F,16),K=K+le|0,W=It(W^K,12),F=F+W|0,le=It(le^F,8),K=K+le|0,W=It(W^K,7);let Q=0;r[Q++]=l+$|0,r[Q++]=u+H|0,r[Q++]=d+V|0,r[Q++]=p+F|0,r[Q++]=g+W|0,r[Q++]=m+J|0,r[Q++]=b+U|0,r[Q++]=w+X|0,r[Q++]=S+O|0,r[Q++]=v+K|0,r[Q++]=E+se|0,r[Q++]=k+ie|0,r[Q++]=N+te|0,r[Q++]=A+ee|0,r[Q++]=z+le|0,r[Q++]=D+Z|0}const TS=B4(F4,{counterRight:!1,counterLength:4,allowShortKeys:!1});class NS extends fS{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Gi.hash(t);const r=Ed(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=t.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),s.fill(0)}update(t){return Gi.exists(this),this.iHash.update(t),this}digestInto(t){Gi.exists(this),Gi.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:l,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=l,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Fp=(e,t,n)=>new NS(e,t).update(n).digest();Fp.create=(e,t)=>new NS(e,t);function U4(e,t,n){return Gi.hash(e),Fp(e,Ed(n),Ed(t))}const _y=new Uint8Array([0]),e1=new Uint8Array;function $4(e,t,n,r=32){if(Gi.hash(e),Gi.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);n===void 0&&(n=e1);const s=new Uint8Array(i*e.outputLen),l=Fp.create(e,t),u=l._cloneInto(),d=new Uint8Array(l.outputLen);for(let p=0;p<i;p++)_y[0]=p+1,u.update(p===0?e1:d).update(n).update(_y).digestInto(d),s.set(d,e.outputLen*p),l._cloneInto(u);return l.destroy(),u.destroy(),d.fill(0),_y.fill(0),s.slice(0,r)}var Z4=Object.defineProperty,Kt=(e,t)=>{for(var n in t)Z4(e,n,{get:t[n],enumerable:!0})},cc=Symbol("verified"),H4=e=>e instanceof Object;function J0(e){if(!H4(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var W4={};Kt(W4,{Queue:()=>IS,QueueNode:()=>RS,binarySearch:()=>Q0,bytesToHex:()=>Fn,hexToBytes:()=>al,insertEventIntoAscendingList:()=>q4,insertEventIntoDescendingList:()=>V4,normalizeURL:()=>AS,utf8Decoder:()=>jo,utf8Encoder:()=>xi});var jo=new TextDecoder("utf-8"),xi=new TextEncoder;function AS(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch{throw new Error(`Invalid URL: ${e}`)}}function V4(e,t){const[n,r]=Q0(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:i.created_at-t.created_at);return r||e.splice(n,0,t),e}function q4(e,t){const[n,r]=Q0(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:t.created_at-i.created_at);return r||e.splice(n,0,t),e}function Q0(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),s=t(e[i]);if(s===0)return[i,!0];s<0?r=i-1:n=i+1}return[n,!1]}var RS=class{constructor(e){He(this,"value");He(this,"next",null);He(this,"prev",null);this.value=e}},IS=class{constructor(){He(this,"first");He(this,"last");this.first=null,this.last=null}enqueue(e){const t=new RS(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},K4=class{generateSecretKey(){return rd.utils.randomPrivateKey()}getPublicKey(e){return Fn(rd.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Fn(rd.getPublicKey(t)),n.id=yd(n),n.sig=Fn(rd.sign(yd(n),t)),n[cc]=!0,n}verifyEvent(e){if(typeof e[cc]=="boolean")return e[cc];const t=yd(e);if(t!==e.id)return e[cc]=!1,!1;try{const n=rd.verify(e.sig,t,e.pubkey);return e[cc]=n,n}catch{return e[cc]=!1,!1}}};function G4(e){if(!J0(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function yd(e){let t=Yc(xi.encode(G4(e)));return Fn(t)}var Up=new K4,Vd=Up.generateSecretKey,Fo=Up.getPublicKey,Xr=Up.finalizeEvent,qd=Up.verifyEvent,Y4={};Kt(Y4,{Application:()=>GO,BadgeAward:()=>iO,BadgeDefinition:()=>$O,BlockedRelaysList:()=>CO,BookmarkList:()=>EO,Bookmarksets:()=>BO,Calendar:()=>nj,CalendarEventRSVP:()=>rj,ChannelCreation:()=>DS,ChannelHideMessage:()=>US,ChannelMessage:()=>FS,ChannelMetadata:()=>BS,ChannelMuteUser:()=>$S,ClassifiedListing:()=>QO,ClientAuth:()=>HS,CommunitiesList:()=>SO,CommunityDefinition:()=>sj,CommunityPostApproval:()=>fO,Contacts:()=>tO,CreateOrUpdateProduct:()=>WO,CreateOrUpdateStall:()=>HO,Curationsets:()=>FO,Date:()=>ej,DirectMessageRelaysList:()=>AO,DraftClassifiedListing:()=>XO,DraftLong:()=>qO,Emojisets:()=>KO,EncryptedDirectMessage:()=>nO,EventDeletion:()=>rO,FileMetadata:()=>sO,FileServerPreference:()=>RO,Followsets:()=>MO,GenericRepost:()=>tw,Genericlists:()=>zO,GiftWrap:()=>ZS,HTTPAuth:()=>nw,Handlerinformation:()=>oj,Handlerrecommendation:()=>ij,Highlights:()=>wO,InterestsList:()=>TO,Interestsets:()=>ZO,JobFeedback:()=>mO,JobRequest:()=>hO,JobResult:()=>pO,Label:()=>dO,LightningPubRPC:()=>LO,LiveChatMessage:()=>aO,LiveEvent:()=>YO,LongFormArticle:()=>VO,Metadata:()=>X4,Mutelist:()=>_O,NWCWalletInfo:()=>IO,NWCWalletRequest:()=>WS,NWCWalletResponse:()=>OO,NostrConnect:()=>jO,OpenTimestamps:()=>oO,Pinlist:()=>xO,PrivateDirectMessage:()=>zS,ProblemTracker:()=>lO,ProfileBadges:()=>UO,PublicChatsList:()=>kO,Reaction:()=>ew,RecommendRelay:()=>eO,RelayList:()=>bO,Relaysets:()=>DO,Report:()=>cO,Reporting:()=>uO,Repost:()=>X0,Seal:()=>MS,SearchRelaysList:()=>PO,ShortTextNote:()=>jS,Time:()=>tj,UserEmojiList:()=>NO,UserStatuses:()=>JO,Zap:()=>vO,ZapGoal:()=>gO,ZapRequest:()=>yO,classifyKind:()=>J4,isAddressableKind:()=>Zp,isEphemeralKind:()=>OS,isKind:()=>Q4,isRegularKind:()=>LS,isReplaceableKind:()=>$p});function LS(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function $p(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function OS(e){return 2e4<=e&&e<3e4}function Zp(e){return 3e4<=e&&e<4e4}function J4(e){return LS(e)?"regular":$p(e)?"replaceable":OS(e)?"ephemeral":Zp(e)?"parameterized":"unknown"}function Q4(e,t){const n=t instanceof Array?t:[t];return J0(e)&&n.includes(e.kind)||!1}var X4=0,jS=1,eO=2,tO=3,nO=4,rO=5,X0=6,ew=7,iO=8,MS=13,zS=14,tw=16,DS=40,BS=41,FS=42,US=43,$S=44,oO=1040,ZS=1059,sO=1063,aO=1311,lO=1971,cO=1984,uO=1984,dO=1985,fO=4550,hO=5999,pO=6999,mO=7e3,gO=9041,yO=9734,vO=9735,wO=9802,_O=1e4,xO=10001,bO=10002,EO=10003,SO=10004,kO=10005,CO=10006,PO=10007,TO=10015,NO=10030,AO=10050,RO=10096,IO=13194,LO=21e3,HS=22242,WS=23194,OO=23195,jO=24133,nw=27235,MO=3e4,zO=30001,DO=30002,BO=30003,FO=30004,UO=30008,$O=30009,ZO=30015,HO=30017,WO=30018,VO=30023,qO=30024,KO=30030,GO=30078,YO=30311,JO=30315,QO=30402,XO=30403,ej=31922,tj=31923,nj=31924,rj=31925,ij=31989,oj=31990,sj=34550;function aj(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),i=e[`#${r}`];if(i&&!t.tags.find(([s,l])=>s===n.slice(1)&&i.indexOf(l)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function VS(e,t){for(let n=0;n<e.length;n++)if(aj(e[n],t))return!0;return!1}function qS(e){var t,n,r,i,s,l;if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[u,d]of Object.entries(e))if(u[0]==="#"&&Array.isArray(d)&&!d.length)return 0;return Math.min(Math.max(0,e.limit??1/0),((t=e.ids)==null?void 0:t.length)??1/0,(n=e.authors)!=null&&n.length&&((r=e.kinds)!=null&&r.every(u=>$p(u)))?e.authors.length*e.kinds.length:1/0,(i=e.authors)!=null&&i.length&&((s=e.kinds)!=null&&s.every(u=>Zp(u)))&&((l=e["#d"])!=null&&l.length)?e.authors.length*e.kinds.length*e["#d"].length:1/0)}var lj={};Kt(lj,{getHex64:()=>Hp,getInt:()=>KS,getSubscriptionId:()=>GS,matchEventId:()=>cj,matchEventKind:()=>dj,matchEventPubkey:()=>uj});function Hp(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function KS(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),s=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,s),10)}function GS(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(i===-1)return null;let s=r+1+i;return e.slice(r+1,s)}function cj(e,t){return t===Hp(e,"id")}function uj(e,t){return t===Hp(e,"pubkey")}function dj(e,t){return t===KS(e,"kind")}var fj={};Kt(fj,{makeAuthEvent:()=>YS});function YS(e,t){return{kind:HS,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function hj(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var JS=class extends Error{constructor(e,t){super(`Tried to send message '${e} on a closed connection to ${t}.`),this.name="SendingOnClosedConnection"}},QS=class{constructor(e,t){He(this,"url");He(this,"_connected",!1);He(this,"onclose",null);He(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));He(this,"baseEoseTimeout",4400);He(this,"connectionTimeout",4400);He(this,"publishTimeout",4400);He(this,"openSubs",new Map);He(this,"connectionTimeoutHandle");He(this,"connectionPromise");He(this,"openCountRequests",new Map);He(this,"openEventPublishes",new Map);He(this,"ws");He(this,"incomingMessageQueue",new IS);He(this,"queueRunning",!1);He(this,"challenge");He(this,"authPromise");He(this,"serial",0);He(this,"verifyEvent");He(this,"_WebSocket");this.url=AS(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){const n=new QS(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket closed"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await hj();this.queueRunning=!1}handleNext(){var n,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=GS(e);if(t){const i=this.openSubs.get(t);if(!i)return;const s=Hp(e,"id"),l=(n=i.alreadyHaveEvent)==null?void 0:n.call(i,s);if((r=i.receivedEvent)==null||r.call(i,this,s),l)return}try{let i=JSON.parse(e);switch(i[0]){case"EVENT":{const s=this.openSubs.get(i[1]),l=i[2];this.verifyEvent(l)&&VS(s.filters,l)&&s.onevent(l);return}case"COUNT":{const s=i[1],l=i[2],u=this.openCountRequests.get(s);u&&(u.resolve(l.count),this.openCountRequests.delete(s));return}case"EOSE":{const s=this.openSubs.get(i[1]);if(!s)return;s.receivedEose();return}case"OK":{const s=i[1],l=i[2],u=i[3],d=this.openEventPublishes.get(s);d&&(clearTimeout(d.timeout),l?d.resolve(u):d.reject(new Error(u)),this.openEventPublishes.delete(s));return}case"CLOSED":{const s=i[1],l=this.openSubs.get(s);if(!l)return;l.closed=!0,l.close(i[2]);return}case"NOTICE":this.onnotice(i[1]);return;case"AUTH":{this.challenge=i[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new JS(e,this.url);this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){const t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let i=await e(YS(this.url,t)),s=setTimeout(()=>{let l=this.openEventPublishes.get(i.id);l&&(l.reject(new Error("auth timed out")),this.openEventPublishes.delete(i.id))},this.publishTimeout);this.openEventPublishes.set(i.id,{resolve:n,reject:r,timeout:s}),this.send('["AUTH",'+JSON.stringify(i)+"]")}catch(i){console.warn("subscribe auth function failed:",i)}}),this.authPromise)}async publish(e){const t=new Promise((n,r)=>{const i=setTimeout(()=>{const s=this.openEventPublishes.get(e.id);s&&(s.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:n,reject:r,timeout:i})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((i,s)=>{this.openCountRequests.set(n,{resolve:i,reject:s})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||(t.label?t.label+":":"sub:")+this.serial,r=new pj(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},pj=class{constructor(e,t,n,r){He(this,"relay");He(this,"id");He(this,"closed",!1);He(this,"eosed",!1);He(this,"filters");He(this,"alreadyHaveEvent");He(this,"receivedEvent");He(this,"onevent");He(this,"oneose");He(this,"onclose");He(this,"eoseTimeout");He(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(i=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,i)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof JS))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},XS;try{XS=WebSocket}catch{}var ek=class extends QS{constructor(e){super(e,{verifyEvent:qd,websocketImplementation:XS})}static async connect(e){const t=new ek(e);return await t.connect(),t}},mj;try{mj=WebSocket}catch{}var er={};Kt(er,{BECH32_REGEX:()=>tk,Bech32MaxSize:()=>rw,NostrTypeGuard:()=>gj,decode:()=>Wp,decodeNostrURI:()=>vj,encodeBytes:()=>qp,naddrEncode:()=>Sj,neventEncode:()=>Ej,noteEncode:()=>xj,nprofileEncode:()=>bj,npubEncode:()=>_j,nsecEncode:()=>wj});var gj={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},rw=5e3,tk=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function yj(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function vj(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),Wp(e)}catch{return{type:"invalid",data:null}}}function Wp(e){var i,s,l,u,d,p,g;let{prefix:t,words:n}=$c.decode(e,rw),r=new Uint8Array($c.fromWords(n));switch(t){case"nprofile":{let m=xy(r);if(!((i=m[0])!=null&&i[0]))throw new Error("missing TLV 0 for nprofile");if(m[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Fn(m[0][0]),relays:m[1]?m[1].map(b=>jo.decode(b)):[]}}}case"nevent":{let m=xy(r);if(!((s=m[0])!=null&&s[0]))throw new Error("missing TLV 0 for nevent");if(m[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(m[2]&&m[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(m[3]&&m[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Fn(m[0][0]),relays:m[1]?m[1].map(b=>jo.decode(b)):[],author:(l=m[2])!=null&&l[0]?Fn(m[2][0]):void 0,kind:(u=m[3])!=null&&u[0]?parseInt(Fn(m[3][0]),16):void 0}}}case"naddr":{let m=xy(r);if(!((d=m[0])!=null&&d[0]))throw new Error("missing TLV 0 for naddr");if(!((p=m[2])!=null&&p[0]))throw new Error("missing TLV 2 for naddr");if(m[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((g=m[3])!=null&&g[0]))throw new Error("missing TLV 3 for naddr");if(m[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:jo.decode(m[0][0]),pubkey:Fn(m[2][0]),kind:parseInt(Fn(m[3][0]),16),relays:m[1]?m[1].map(b=>jo.decode(b)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Fn(r)};default:throw new Error(`unknown prefix ${t}`)}}function xy(e){let t={},n=e;for(;n.length>0;){let r=n[0],i=n[1],s=n.slice(2,2+i);if(n=n.slice(2+i),s.length<i)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(s)}return t}function wj(e){return qp("nsec",e)}function _j(e){return qp("npub",al(e))}function xj(e){return qp("note",al(e))}function Vp(e,t){let n=$c.toWords(t);return $c.encode(e,n,rw)}function qp(e,t){return Vp(e,t)}function bj(e){let t=iw({0:[al(e.pubkey)],1:(e.relays||[]).map(n=>xi.encode(n))});return Vp("nprofile",t)}function Ej(e){let t;e.kind!==void 0&&(t=yj(e.kind));let n=iw({0:[al(e.id)],1:(e.relays||[]).map(r=>xi.encode(r)),2:e.author?[al(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Vp("nevent",n)}function Sj(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=iw({0:[xi.encode(e.identifier)],1:(e.relays||[]).map(r=>xi.encode(r)),2:[al(e.pubkey)],3:[new Uint8Array(t)]});return Vp("naddr",n)}function iw(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(i=>{let s=new Uint8Array(i.length+2);s.set([parseInt(n)],0),s.set([i.length],1),s.set(i,2),t.push(s)})}),Dp(...t)}var Sd={};Kt(Sd,{decrypt:()=>kj,encrypt:()=>nk});function nk(e,t,n){const r=e instanceof Uint8Array?Fn(e):e,i=Gc.getSharedSecret(r,"02"+t),s=rk(i);let l=Uint8Array.from(pS(16)),u=xi.encode(n),d=SS(s,l).encrypt(u),p=Bo.encode(new Uint8Array(d)),g=Bo.encode(new Uint8Array(l.buffer));return`${p}?iv=${g}`}function kj(e,t,n){const r=e instanceof Uint8Array?Fn(e):e;let[i,s]=n.split("?iv="),l=Gc.getSharedSecret(r,"02"+t),u=rk(l),d=Bo.decode(s),p=Bo.decode(i),g=SS(u,d).decrypt(p);return jo.decode(g)}function rk(e){return e.slice(1,33)}var Cj={};Kt(Cj,{NIP05_REGEX:()=>ow,isNip05:()=>Pj,isValid:()=>Aj,queryProfile:()=>ik,searchDomain:()=>Nj,useFetchImplementation:()=>Tj});var ow=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Pj=e=>ow.test(e||""),Kp;try{Kp=fetch}catch{}function Tj(e){Kp=e}async function Nj(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await Kp(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function ik(e){var i;const t=e.match(ow);if(!t)return null;const[,n="_",r]=t;try{const s=`https://${r}/.well-known/nostr.json?name=${n}`,l=await Kp(s,{redirect:"manual"});if(l.status!==200)throw Error("Wrong response code");const u=await l.json(),d=u.names[n];return d?{pubkey:d,relays:(i=u.relays)==null?void 0:i[d]}:null}catch{return null}}async function Aj(e,t){const n=await ik(t);return n?n.pubkey===e:!1}var Rj={};Kt(Rj,{parse:()=>Ij});function Ij(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let i=e.tags.length-1;i>=0;i--){const s=e.tags[i];if(s[0]==="e"&&s[1]){const[l,u,d,p,g]=s,m={id:u,relays:d?[d]:[],author:g};if(p==="root"){t.root=m;continue}if(p==="reply"){t.reply=m;continue}if(p==="mention"){t.mentions.push(m);continue}n?r=m:n=m,t.mentions.push(m);continue}if(s[0]==="q"&&s[1]){const[l,u,d]=s;t.quotes.push({id:u,relays:d?[d]:[]})}if(s[0]==="p"&&s[1]){t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(i=>{if(!i)return;let s=t.mentions.indexOf(i);if(s!==-1&&t.mentions.splice(s,1),i.author){let l=t.profiles.find(u=>u.pubkey===i.author);l&&l.relays&&(i.relays||(i.relays=[]),l.relays.forEach(u=>{var d;((d=i.relays)==null?void 0:d.indexOf(u))===-1&&i.relays.push(u)}),l.relays=i.relays)}}),t.mentions.forEach(i=>{if(i.author){let s=t.profiles.find(l=>l.pubkey===i.author);s&&s.relays&&(i.relays||(i.relays=[]),s.relays.forEach(l=>{i.relays.indexOf(l)===-1&&i.relays.push(l)}),s.relays=i.relays)}}),t}var Lj={};Kt(Lj,{fetchRelayInformation:()=>jj,useFetchImplementation:()=>Oj});var ok;try{ok=fetch}catch{}function Oj(e){ok=e}async function jj(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var Mj={};Kt(Mj,{fastEventHash:()=>ak,getPow:()=>sk,minePow:()=>zj});function sk(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function zj(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const s=Math.floor(new Date().getTime()/1e3);if(s!==r.created_at&&(n=0,r.created_at=s),i[1]=(++n).toString(),r.id=ak(r),sk(r.id)>=t)break}return r}function ak(e){return Fn(Yc(xi.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var Dj={};Kt(Dj,{unwrapEvent:()=>Gj,unwrapManyEvents:()=>Yj,wrapEvent:()=>_k,wrapManyEvents:()=>Kj});var Bj={};Kt(Bj,{createRumor:()=>gk,createSeal:()=>yk,createWrap:()=>vk,unwrapEvent:()=>uw,unwrapManyEvents:()=>wk,wrapEvent:()=>lp,wrapManyEvents:()=>Vj});var Ks={};Kt(Ks,{decrypt:()=>cw,encrypt:()=>lw,getConversationKey:()=>sw,v2:()=>Hj});var lk=1,ck=65535;function sw(e,t){const n=Gc.getSharedSecret(e,"02"+t).subarray(1,33);return U4(Yc,n,"nip44-v2")}function uk(e,t){const n=$4(Yc,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function aw(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function Fj(e){if(!Number.isSafeInteger(e)||e<lk||e>ck)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function Uj(e){const t=xi.encode(e),n=t.length,r=Fj(n),i=new Uint8Array(aw(n)-n);return Dp(r,t,i)}function $j(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<lk||t>ck||n.length!==t||e.length!==2+aw(t))throw new Error("invalid padding");return jo.decode(n)}function dk(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=Dp(n,t);return Fp(Yc,e,r)}function Zj(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Bo.decode(e)}catch(s){throw new Error("invalid base64: "+s.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(i!==2)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function lw(e,t,n=pS(32)){const{chacha_key:r,chacha_nonce:i,hmac_key:s}=uk(t,n),l=Uj(e),u=TS(r,i,l),d=dk(s,u,n);return Bo.encode(Dp(new Uint8Array([2]),n,u,d))}function cw(e,t){const{nonce:n,ciphertext:r,mac:i}=Zj(e),{chacha_key:s,chacha_nonce:l,hmac_key:u}=uk(t,n),d=dk(u,r,n);if(!b4(d,i))throw new Error("invalid MAC");const p=TS(s,l,r);return $j(p)}var Hj={utils:{getConversationKey:sw,calcPaddedLen:aw},encrypt:lw,decrypt:cw},Wj=2*24*60*60,fk=()=>Math.round(Date.now()/1e3),hk=()=>Math.round(fk()-Math.random()*Wj),pk=(e,t)=>sw(e,t),mk=(e,t,n)=>lw(JSON.stringify(e),pk(t,n)),t1=(e,t)=>JSON.parse(cw(e.content,pk(t,e.pubkey)));function gk(e,t){const n={created_at:fk(),content:"",tags:[],...e,pubkey:Fo(t)};return n.id=yd(n),n}function yk(e,t,n){return Xr({kind:MS,content:mk(e,t,n),created_at:hk(),tags:[]},t)}function vk(e,t){const n=Vd();return Xr({kind:ZS,content:mk(e,n,t),created_at:hk(),tags:[["p",t]]},n)}function lp(e,t,n){const r=gk(e,t),i=yk(r,t,n);return vk(i,n)}function Vj(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=Fo(t),i=[lp(e,t,r)];return n.forEach(s=>{i.push(lp(e,t,s))}),i}function uw(e,t){const n=t1(e,t);return t1(n,t)}function wk(e,t){let n=[];return e.forEach(r=>{n.push(uw(r,t))}),n.sort((r,i)=>r.created_at-i.created_at),n}function qj(e,t,n,r){const i={created_at:Math.ceil(Date.now()/1e3),kind:zS,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:l,relayUrl:u})=>{i.tags.push(u?["p",l,u]:["p",l])}),r&&i.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&i.tags.push(["subject",n]),i}function _k(e,t,n,r,i){const s=qj(t,n,r,i);return lp(s,e,t.publicKey)}function Kj(e,t,n,r,i){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Fo(e)},...t].map(l=>_k(e,l,n,r,i))}var Gj=uw,Yj=wk,Jj={};Kt(Jj,{finishRepostEvent:()=>Qj,getRepostedEvent:()=>Xj,getRepostedEventPointer:()=>xk});function Qj(e,t,n,r){var l;let i;const s=[...e.tags??[],["e",t.id,n],["p",t.pubkey]];return t.kind===jS?i=X0:(i=tw,s.push(["k",String(t.kind)])),Xr({kind:i,tags:s,content:e.content===""||(l=t.tags)!=null&&l.find(u=>u[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function xk(e){if(![X0,tw].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function Xj(e,{skipVerification:t}={}){const n=xk(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!qd(r)))return r}var eM={};Kt(eM,{NOSTR_URI_REGEX:()=>dw,parse:()=>nM,test:()=>tM});var dw=new RegExp(`nostr:(${tk.source})`);function tM(e){return typeof e=="string"&&new RegExp(`^${dw.source}$`).test(e)}function nM(e){const t=e.match(new RegExp(`^${dw.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Wp(t[1])}}var rM={};Kt(rM,{finishReactionEvent:()=>iM,getReactedEventPointer:()=>oM});function iM(e,t,n){const r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return Xr({...e,kind:ew,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function oM(e){if(e.kind!==ew)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var sM={};Kt(sM,{parse:()=>lM});var aM=/\W/m,n1=/\W |\W$|$|,| /m;function*lM(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.indexOf(":",r);if(i===-1)break;if(e.substring(i-5,i)==="nostr"){const s=e.substring(i+60).match(aM),l=s?i+60+s.index:t;try{let u,{data:d,type:p}=Wp(e.substring(i+1,l));switch(p){case"npub":u={pubkey:d};break;case"nsec":case"note":r=l+1;continue;default:u=d}n!==i-5&&(yield{type:"text",text:e.substring(n,i-5)}),yield{type:"reference",pointer:u},r=l,n=r;continue}catch{r=i+1;continue}}else if(e.substring(i-5,i)==="https"||e.substring(i-4,i)==="http"){const s=e.substring(i+4).match(n1),l=s?i+4+s.index:t,u=e[i-1]==="s"?5:4;try{let d=new URL(e.substring(i-u,l));if(d.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),d.pathname.endsWith(".png")||d.pathname.endsWith(".jpg")||d.pathname.endsWith(".jpeg")||d.pathname.endsWith(".gif")||d.pathname.endsWith(".webp")){yield{type:"image",url:d.toString()},r=l,n=r;continue}if(d.pathname.endsWith(".mp4")||d.pathname.endsWith(".avi")||d.pathname.endsWith(".webm")||d.pathname.endsWith(".mkv")){yield{type:"video",url:d.toString()},r=l,n=r;continue}if(d.pathname.endsWith(".mp3")||d.pathname.endsWith(".aac")||d.pathname.endsWith(".ogg")||d.pathname.endsWith(".opus")){yield{type:"audio",url:d.toString()},r=l,n=r;continue}yield{type:"url",url:d.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else if(e.substring(i-3,i)==="wss"||e.substring(i-2,i)==="ws"){const s=e.substring(i+4).match(n1),l=s?i+4+s.index:t,u=e[i-1]==="s"?3:2;try{let d=new URL(e.substring(i-u,l));if(d.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),yield{type:"relay",url:d.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else{r=i+1;continue}}n!==t&&(yield{type:"text",text:e.substring(n)})}var cM={};Kt(cM,{channelCreateEvent:()=>uM,channelHideMessageEvent:()=>hM,channelMessageEvent:()=>fM,channelMetadataEvent:()=>dM,channelMuteUserEvent:()=>pM});var uM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Xr({kind:DS,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},dM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Xr({kind:BS,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},fM=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Xr({kind:FS,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},hM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Xr({kind:US,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},pM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Xr({kind:$S,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},mM={};Kt(mM,{EMOJI_SHORTCODE_REGEX:()=>bk,matchAll:()=>gM,regex:()=>fw,replaceAll:()=>yM});var bk=/:(\w+):/,fw=()=>new RegExp(`\\B${bk.source}\\B`,"g");function*gM(e){const t=e.matchAll(fw());for(const n of t)try{const[r,i]=n;yield{shortcode:r,name:i,start:n.index,end:n.index+r.length}}catch{}}function yM(e,t){return e.replaceAll(fw(),(n,r)=>t({shortcode:n,name:r}))}var vM={};Kt(vM,{useFetchImplementation:()=>wM,validateGithub:()=>_M});var hw;try{hw=fetch}catch{}function wM(e){hw=e}async function _M(e,t,n){try{return await(await hw(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var xM={};Kt(xM,{makeNwcRequestEvent:()=>EM,parseConnectionString:()=>bM});function bM(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),s=n.get("secret");if(!r||!i||!s)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:s}}async function EM(e,t,n){const i=nk(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),s={kind:WS,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return Xr(s,t)}var SM={};Kt(SM,{normalizeIdentifier:()=>kM});function kM(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var CM={};Kt(CM,{getSatoshisAmountFromBolt11:()=>IM,getZapEndpoint:()=>TM,makeZapReceipt:()=>RM,makeZapRequest:()=>NM,useFetchImplementation:()=>PM,validateZapRequest:()=>AM});var pw;try{pw=fetch}catch{}function PM(e){pw=e}async function TM(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:l}=$c.decode(n,1e3),u=$c.fromWords(l);t=jo.decode(u)}else if(r){let[l,u]=r.split("@");t=new URL(`/.well-known/lnurlp/${l}`,`https://${u}`).toString()}else return null;let s=await(await pw(t)).json();if(s.allowsNostr&&s.nostrPubkey)return s.callback}catch{}return null}function NM({profile:e,event:t,amount:n,relays:r,comment:i=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",n.toString()],["relays",...r]]};if(t&&typeof t=="string"&&s.tags.push(["e",t]),t&&typeof t=="object"){if($p(t.kind)){const l=["a",`${t.kind}:${t.pubkey}:`];s.tags.push(l)}else if(Zp(t.kind)){let l=t.tags.find(([d,p])=>d==="d"&&p);if(!l)throw new Error("d tag not found or is empty");const u=["a",`${t.kind}:${t.pubkey}:${l[1]}`];s.tags.push(u)}}return s}function AM(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!J0(t))return"Zap request is not a valid Nostr event.";if(!qd(t))return"Invalid signature on zap request.";let n=t.tags.find(([s,l])=>s==="p"&&l);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([s,l])=>s==="e"&&l);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([s,l])=>s==="relays"&&l)?null:"Zap request doesn't have a 'relays' tag."}function RM({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e),s=i.tags.filter(([u])=>u==="e"||u==="p"||u==="a"),l={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...s,["P",i.pubkey],["bolt11",n],["description",e]]};return t&&l.tags.push(["preimage",t]),l}function IM(e){if(e.length<50)return 0;e=e.substring(0,50);const t=e.lastIndexOf("1");if(t===-1)return 0;const n=e.substring(0,t);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const i=r[r.length-1],s=i.charCodeAt(0)-48,l=s>=0&&s<=9;let u=r.length-1;if(l&&u++,u<1)return 0;const d=parseInt(r.substring(0,u));switch(i){case"m":return d*1e5;case"u":return d*100;case"n":return d/10;case"p":return d/1e4;default:return d*1e8}}var LM={};Kt(LM,{getToken:()=>OM,hashPayload:()=>mw,unpackEventFromToken:()=>Sk,validateEvent:()=>Ak,validateEventKind:()=>Ck,validateEventMethodTag:()=>Tk,validateEventPayloadTag:()=>Nk,validateEventTimestamp:()=>kk,validateEventUrlTag:()=>Pk,validateToken:()=>jM});var Ek="Nostr ";async function OM(e,t,n,r=!1,i){const s={kind:nw,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};i&&s.tags.push(["payload",mw(i)]);const l=await n(s);return(r?Ek:"")+Bo.encode(xi.encode(JSON.stringify(l)))}async function jM(e,t,n){const r=await Sk(e).catch(s=>{throw s});return await Ak(r,t,n).catch(s=>{throw s})}async function Sk(e){if(!e)throw new Error("Missing token");e=e.replace(Ek,"");const t=jo.decode(Bo.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function kk(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function Ck(e){return e.kind===nw}function Pk(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function Tk(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function mw(e){const t=Yc(xi.encode(JSON.stringify(e)));return Fn(t)}function Nk(e,t){const n=e.tags.find(i=>i[0]==="payload");if(!n)return!1;const r=mw(t);return n.length>0&&n[1]===r}async function Ak(e,t,n,r){if(!qd(e))throw new Error("Invalid nostr event, signature invalid");if(!Ck(e))throw new Error("Invalid nostr event, kind invalid");if(!kk(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Pk(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!Tk(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!Nk(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var x2,b2,Rp,Rk;const $i=class $i{constructor(t){it(this,Rp);He(this,"cache");He(this,x2,"NSet");this.cache=t??new Map}get size(){return this.cache.size}add(t){yt(this,Rp,Rk).call(this,t);for(const n of this){if($i.deletes(n,t)||$i.replaces(n,t))return this;$i.replaces(t,n)&&this.delete(n)}return this.cache.set(t.id,t),this}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,n){return this.cache.forEach((r,i)=>t(r,r,this),n)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of $i.sortEvents([...this.cache.values()]))yield t}[(b2=Symbol.iterator,x2=Symbol.toStringTag,b2)](){return this.values()}static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isAddressable(t){return 3e4<=t&&t<4e4}static replaces(t,n){var s,l;const{kind:r,pubkey:i}=t;if($i.isReplaceable(r))return r===n.kind&&i===n.pubkey&&$i.sortEvents([t,n])[0]===t;if($i.isAddressable(r)){const u=((s=t.tags.find(([p])=>p==="d"))==null?void 0:s[1])||"",d=((l=n.tags.find(([p])=>p==="d"))==null?void 0:l[1])||"";return r===n.kind&&i===n.pubkey&&$i.sortEvents([t,n])[0]===t&&u===d}return!1}static deletes(t,n){const{kind:r,pubkey:i,tags:s}=t;if(r===5&&i===n.pubkey){for(const[l,u]of s)if(l==="e"&&u===n.id)return!0}return!1}static sortEvents(t){return t.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}};Rp=new WeakSet,Rk=function(t){if(t.kind===5){for(const n of t.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===t.pubkey&&this.delete(r)}}};let cp=$i;const MM=Object.freeze({status:"aborted"});function Ae(e,t,n){function r(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const p=l.prototype,g=Object.keys(p);for(let m=0;m<g.length;m++){const b=g[m];b in u||(u[b]=p[b].bind(u))}}const i=(n==null?void 0:n.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:e});function l(u){var d;const p=n!=null&&n.Parent?new s:this;r(p,u),(d=p._zod).deferred??(d.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>{var d,p;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(p=(d=u==null?void 0:u._zod)==null?void 0:d.traits)==null?void 0:p.has(e)}}),Object.defineProperty(l,"name",{value:e}),l}class wc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Ik extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Lk={};function ta(e){return Lk}function Ok(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Vv(e,t){return typeof t=="bigint"?t.toString():t}function gw(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function yw(e){return e==null}function vw(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function zM(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d!=null&&d[1]&&(i=Number.parseInt(d[1]))}const s=n>i?n:i,l=Number.parseInt(e.toFixed(s).replace(".","")),u=Number.parseInt(t.toFixed(s).replace(".",""));return l%u/10**s}const r1=Symbol("evaluating");function zt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==r1)return r===void 0&&(r=r1,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function hl(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function sa(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function i1(e){return JSON.stringify(e)}function DM(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const jk="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function up(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const BM=gw(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Zc(e){if(up(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(up(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Mk(e){return Zc(e)?{...e}:Array.isArray(e)?[...e]:e}const FM=new Set(["string","number","symbol"]);function Hc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function aa(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function st(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function UM(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const $M={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function ZM(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=sa(e._zod.def,{get shape(){const l={};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&(l[u]=n.shape[u])}return hl(this,"shape",l),l},checks:[]});return aa(e,s)}function HM(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=sa(e._zod.def,{get shape(){const l={...e._zod.def.shape};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&delete l[u]}return hl(this,"shape",l),l},checks:[]});return aa(e,s)}function WM(e,t){if(!Zc(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const l in t)if(Object.getOwnPropertyDescriptor(s,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=sa(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return hl(this,"shape",s),s}});return aa(e,i)}function VM(e,t){if(!Zc(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=sa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return hl(this,"shape",r),r}});return aa(e,n)}function qM(e,t){const n=sa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return hl(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return aa(e,n)}function KM(e,t,n){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=sa(t._zod.def,{get shape(){const u=t._zod.def.shape,d={...u};if(n)for(const p in n){if(!(p in u))throw new Error(`Unrecognized key: "${p}"`);n[p]&&(d[p]=e?new e({type:"optional",innerType:u[p]}):u[p])}else for(const p in u)d[p]=e?new e({type:"optional",innerType:u[p]}):u[p];return hl(this,"shape",d),d},checks:[]});return aa(t,l)}function GM(e,t,n){const r=sa(t._zod.def,{get shape(){const i=t._zod.def.shape,s={...i};if(n)for(const l in n){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(s[l]=new e({type:"nonoptional",innerType:i[l]}))}else for(const l in i)s[l]=new e({type:"nonoptional",innerType:i[l]});return hl(this,"shape",s),s}});return aa(t,r)}function yc(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Za(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Rh(e){return typeof e=="string"?e:e==null?void 0:e.message}function na(e,t,n){var i,s,l,u,d,p;const r={...e,path:e.path??[]};if(!e.message){const g=Rh((l=(s=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:l.call(s,e))??Rh((u=t==null?void 0:t.error)==null?void 0:u.call(t,e))??Rh((d=n.customError)==null?void 0:d.call(n,e))??Rh((p=n.localeError)==null?void 0:p.call(n,e))??"Invalid input";r.message=g}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function ww(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function kd(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const zk=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Vv,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Dk=Ae("$ZodError",zk),Bk=Ae("$ZodError",zk,{Parent:Error});function YM(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function JM(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>r({issues:l}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let l=n,u=0;for(;u<s.path.length;){const d=s.path[u];u===s.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(s))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return r(e),n}const _w=e=>(t,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},s);if(l instanceof Promise)throw new wc;if(l.issues.length){const u=new((i==null?void 0:i.Err)??e)(l.issues.map(d=>na(d,s,ta())));throw jk(u,i==null?void 0:i.callee),u}return l.value},xw=e=>async(t,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},s);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new((i==null?void 0:i.Err)??e)(l.issues.map(d=>na(d,s,ta())));throw jk(u,i==null?void 0:i.callee),u}return l.value},Gp=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new wc;return s.issues.length?{success:!1,error:new(e??Dk)(s.issues.map(l=>na(l,i,ta())))}:{success:!0,data:s.value}},QM=Gp(Bk),Yp=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(l=>na(l,i,ta())))}:{success:!0,data:s.value}},XM=Yp(Bk),ez=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return _w(e)(t,n,i)},tz=e=>(t,n,r)=>_w(e)(t,n,r),nz=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return xw(e)(t,n,i)},rz=e=>async(t,n,r)=>xw(e)(t,n,r),iz=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Gp(e)(t,n,i)},oz=e=>(t,n,r)=>Gp(e)(t,n,r),sz=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Yp(e)(t,n,i)},az=e=>async(t,n,r)=>Yp(e)(t,n,r),lz=/^[cC][^\s-]{8,}$/,cz=/^[0-9a-z]+$/,uz=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,dz=/^[0-9a-vA-V]{20}$/,fz=/^[A-Za-z0-9]{27}$/,hz=/^[a-zA-Z0-9_-]{21}$/,pz=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,mz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,o1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,gz=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,yz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function vz(){return new RegExp(yz,"u")}const wz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_z=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,xz=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,bz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ez=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Fk=/^[A-Za-z0-9_-]*$/,Sz=/^\+[1-9]\d{6,14}$/,Uk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",kz=new RegExp(`^${Uk}$`);function $k(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Cz(e){return new RegExp(`^${$k(e)}$`)}function Pz(e){const t=$k({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Uk}T(?:${r})$`)}const Tz=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Nz=/^-?\d+$/,Zk=/^-?\d+(?:\.\d+)?$/,Az=/^(?:true|false)$/i,Rz=/^[^A-Z]*$/,Iz=/^[^a-z]*$/,mr=Ae("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Hk={number:"number",bigint:"bigint",object:"date"},Wk=Ae("$ZodCheckLessThan",(e,t)=>{mr.init(e,t);const n=Hk[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Vk=Ae("$ZodCheckGreaterThan",(e,t)=>{mr.init(e,t);const n=Hk[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Lz=Ae("$ZodCheckMultipleOf",(e,t)=>{mr.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):zM(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Oz=Ae("$ZodCheckNumberFormat",(e,t)=>{var l;mr.init(e,t),t.format=t.format||"float64";const n=(l=t.format)==null?void 0:l.includes("int"),r=n?"int":"number",[i,s]=$M[t.format];e._zod.onattach.push(u=>{const d=u._zod.bag;d.format=t.format,d.minimum=i,d.maximum=s,n&&(d.pattern=Nz)}),e._zod.check=u=>{const d=u.value;if(n){if(!Number.isInteger(d)){u.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:d,inst:e});return}if(!Number.isSafeInteger(d)){d>0?u.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):u.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}d<i&&u.issues.push({origin:"number",input:d,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),d>s&&u.issues.push({origin:"number",input:d,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!t.abort})}}),jz=Ae("$ZodCheckMaxLength",(e,t)=>{var n;mr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!yw(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const l=ww(i);r.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),Mz=Ae("$ZodCheckMinLength",(e,t)=>{var n;mr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!yw(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const l=ww(i);r.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),zz=Ae("$ZodCheckLengthEquals",(e,t)=>{var n;mr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!yw(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,s=i.length;if(s===t.length)return;const l=ww(i),u=s>t.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Jp=Ae("$ZodCheckStringFormat",(e,t)=>{var n,r;mr.init(e,t),e._zod.onattach.push(i=>{const s=i._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),Dz=Ae("$ZodCheckRegex",(e,t)=>{Jp.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Bz=Ae("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Rz),Jp.init(e,t)}),Fz=Ae("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Iz),Jp.init(e,t)}),Uz=Ae("$ZodCheckIncludes",(e,t)=>{mr.init(e,t);const n=Hc(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),$z=Ae("$ZodCheckStartsWith",(e,t)=>{mr.init(e,t);const n=new RegExp(`^${Hc(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),Zz=Ae("$ZodCheckEndsWith",(e,t)=>{mr.init(e,t);const n=new RegExp(`.*${Hc(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Hz=Ae("$ZodCheckOverwrite",(e,t)=>{mr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Wz{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(l=>l),i=Math.min(...r.map(l=>l.length-l.trimStart().length)),s=r.map(l=>l.slice(i)).map(l=>" ".repeat(this.indent*2)+l);for(const l of s)this.content.push(l)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,i.join(`
`))}}const Vz={major:4,minor:3,patch:6},Vt=Ae("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Vz;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const l of s._zod.onattach)l(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const s=(u,d,p)=>{let g=yc(u),m;for(const b of d){if(b._zod.def.when){if(!b._zod.def.when(u))continue}else if(g)continue;const w=u.issues.length,S=b._zod.check(u);if(S instanceof Promise&&(p==null?void 0:p.async)===!1)throw new wc;if(m||S instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await S,u.issues.length!==w&&(g||(g=yc(u,w)))});else{if(u.issues.length===w)continue;g||(g=yc(u,w))}}return m?m.then(()=>u):u},l=(u,d,p)=>{if(yc(u))return u.aborted=!0,u;const g=s(d,r,p);if(g instanceof Promise){if(p.async===!1)throw new wc;return g.then(m=>e._zod.parse(m,p))}return e._zod.parse(g,p)};e._zod.run=(u,d)=>{if(d.skipChecks)return e._zod.parse(u,d);if(d.direction==="backward"){const g=e._zod.parse({value:u.value,issues:[]},{...d,skipChecks:!0});return g instanceof Promise?g.then(m=>l(m,u,d)):l(g,u,d)}const p=e._zod.parse(u,d);if(p instanceof Promise){if(d.async===!1)throw new wc;return p.then(g=>s(g,r,d))}return s(p,r,d)}}zt(e,"~standard",()=>({validate:s=>{var l;try{const u=QM(e,s);return u.success?{value:u.data}:{issues:(l=u.error)==null?void 0:l.issues}}catch{return XM(e,s).then(d=>{var p;return d.success?{value:d.data}:{issues:(p=d.error)==null?void 0:p.issues}})}},vendor:"zod",version:1}))}),bw=Ae("$ZodString",(e,t)=>{var n;Vt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??Tz(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Gt=Ae("$ZodStringFormat",(e,t)=>{Jp.init(e,t),bw.init(e,t)}),qz=Ae("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=mz),Gt.init(e,t)}),Kz=Ae("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=o1(r))}else t.pattern??(t.pattern=o1());Gt.init(e,t)}),Gz=Ae("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=gz),Gt.init(e,t)}),Yz=Ae("$ZodURL",(e,t)=>{Gt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Jz=Ae("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=vz()),Gt.init(e,t)}),Qz=Ae("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=hz),Gt.init(e,t)}),Xz=Ae("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=lz),Gt.init(e,t)}),e5=Ae("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=cz),Gt.init(e,t)}),t5=Ae("$ZodULID",(e,t)=>{t.pattern??(t.pattern=uz),Gt.init(e,t)}),n5=Ae("$ZodXID",(e,t)=>{t.pattern??(t.pattern=dz),Gt.init(e,t)}),r5=Ae("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=fz),Gt.init(e,t)}),i5=Ae("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Pz(t)),Gt.init(e,t)}),o5=Ae("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=kz),Gt.init(e,t)}),s5=Ae("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Cz(t)),Gt.init(e,t)}),a5=Ae("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=pz),Gt.init(e,t)}),l5=Ae("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=wz),Gt.init(e,t),e._zod.bag.format="ipv4"}),c5=Ae("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=_z),Gt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),u5=Ae("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=xz),Gt.init(e,t)}),d5=Ae("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=bz),Gt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const l=Number(s);if(`${l}`!==s)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function qk(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const f5=Ae("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Ez),Gt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{qk(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function h5(e){if(!Fk.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return qk(n)}const p5=Ae("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Fk),Gt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{h5(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),m5=Ae("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Sz),Gt.init(e,t)});function g5(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const y5=Ae("$ZodJWT",(e,t)=>{Gt.init(e,t),e._zod.check=n=>{g5(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Kk=Ae("$ZodNumber",(e,t)=>{Vt.init(e,t),e._zod.pattern=e._zod.bag.pattern??Zk,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),n}}),v5=Ae("$ZodNumberFormat",(e,t)=>{Oz.init(e,t),Kk.init(e,t)}),w5=Ae("$ZodBoolean",(e,t)=>{Vt.init(e,t),e._zod.pattern=Az,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),_5=Ae("$ZodUnknown",(e,t)=>{Vt.init(e,t),e._zod.parse=n=>n}),x5=Ae("$ZodNever",(e,t)=>{Vt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function s1(e,t,n){e.issues.length&&t.issues.push(...Za(n,e.issues)),t.value[n]=e.value}const b5=Ae("$ZodArray",(e,t)=>{Vt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const s=[];for(let l=0;l<i.length;l++){const u=i[l],d=t.element._zod.run({value:u,issues:[]},r);d instanceof Promise?s.push(d.then(p=>s1(p,n,l))):s1(d,n,l)}return s.length?Promise.all(s).then(()=>n):n}});function dp(e,t,n,r,i){if(e.issues.length){if(i&&!(n in r))return;t.issues.push(...Za(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Gk(e){var r,i,s,l;const t=Object.keys(e.shape);for(const u of t)if(!((l=(s=(i=(r=e.shape)==null?void 0:r[u])==null?void 0:i._zod)==null?void 0:s.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${u}": expected a Zod schema`);const n=UM(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Yk(e,t,n,r,i,s){const l=[],u=i.keySet,d=i.catchall._zod,p=d.def.type,g=d.optout==="optional";for(const m in t){if(u.has(m))continue;if(p==="never"){l.push(m);continue}const b=d.run({value:t[m],issues:[]},r);b instanceof Promise?e.push(b.then(w=>dp(w,n,m,t,g))):dp(b,n,m,t,g)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const E5=Ae("$ZodObject",(e,t)=>{Vt.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const r=gw(()=>Gk(t));zt(e._zod,"propValues",()=>{const u=t.shape,d={};for(const p in u){const g=u[p]._zod;if(g.values){d[p]??(d[p]=new Set);for(const m of g.values)d[p].add(m)}}return d});const i=up,s=t.catchall;let l;e._zod.parse=(u,d)=>{l??(l=r.value);const p=u.value;if(!i(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),u;u.value={};const g=[],m=l.shape;for(const b of l.keys){const w=m[b],S=w._zod.optout==="optional",v=w._zod.run({value:p[b],issues:[]},d);v instanceof Promise?g.push(v.then(E=>dp(E,u,b,p,S))):dp(v,u,b,p,S)}return s?Yk(g,p,u,d,r.value,e):g.length?Promise.all(g).then(()=>u):u}}),S5=Ae("$ZodObjectJIT",(e,t)=>{E5.init(e,t);const n=e._zod.parse,r=gw(()=>Gk(t)),i=b=>{var A;const w=new Wz(["shape","payload","ctx"]),S=r.value,v=z=>{const D=i1(z);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};w.write("const input = payload.value;");const E=Object.create(null);let k=0;for(const z of S.keys)E[z]=`key_${k++}`;w.write("const newResult = {};");for(const z of S.keys){const D=E[z],$=i1(z),H=b[z],V=((A=H==null?void 0:H._zod)==null?void 0:A.optout)==="optional";w.write(`const ${D} = ${v(z)};`),V?w.write(`
        if (${D}.issues.length) {
          if (${$} in input) {
            payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${$}, ...iss.path] : [${$}]
            })));
          }
        }
        
        if (${D}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${D}.value;
        }
        
      `):w.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        if (${D}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${D}.value;
        }
        
      `)}w.write("payload.value = newResult;"),w.write("return payload;");const N=w.compile();return(z,D)=>N(b,z,D)};let s;const l=up,u=!Lk.jitless,p=u&&BM.value,g=t.catchall;let m;e._zod.parse=(b,w)=>{m??(m=r.value);const S=b.value;return l(S)?u&&p&&(w==null?void 0:w.async)===!1&&w.jitless!==!0?(s||(s=i(t.shape)),b=s(b,w),g?Yk([],S,b,w,m,e):b):n(b,w):(b.issues.push({expected:"object",code:"invalid_type",input:S,inst:e}),b)}});function a1(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const i=e.filter(s=>!yc(s));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(l=>na(l,r,ta())))}),t)}const k5=Ae("$ZodUnion",(e,t)=>{Vt.init(e,t),zt(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),zt(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),zt(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),zt(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>vw(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(n)return r(i,s);let l=!1;const u=[];for(const d of t.options){const p=d._zod.run({value:i.value,issues:[]},s);if(p instanceof Promise)u.push(p),l=!0;else{if(p.issues.length===0)return p;u.push(p)}}return l?Promise.all(u).then(d=>a1(d,i,e,s)):a1(u,i,e,s)}}),C5=Ae("$ZodIntersection",(e,t)=>{Vt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,s=t.left._zod.run({value:i,issues:[]},r),l=t.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||l instanceof Promise?Promise.all([s,l]).then(([d,p])=>l1(n,d,p)):l1(n,s,l)}});function qv(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Zc(e)&&Zc(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),i={...e,...t};for(const s of r){const l=qv(e[s],t[s]);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};i[s]=l.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r],l=qv(i,s);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function l1(e,t,n){const r=new Map;let i;for(const u of t.issues)if(u.code==="unrecognized_keys"){i??(i=u);for(const d of u.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else e.issues.push(u);for(const u of n.issues)if(u.code==="unrecognized_keys")for(const d of u.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else e.issues.push(u);const s=[...r].filter(([,u])=>u.l&&u.r).map(([u])=>u);if(s.length&&i&&e.issues.push({...i,keys:s}),yc(e))return e;const l=qv(t.value,n.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const P5=Ae("$ZodTuple",(e,t)=>{Vt.init(e,t);const n=t.items;e._zod.parse=(r,i)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({input:s,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const l=[],u=[...n].reverse().findIndex(g=>g._zod.optin!=="optional"),d=u===-1?0:n.length-u;if(!t.rest){const g=s.length>n.length,m=s.length<d-1;if(g||m)return r.issues.push({...g?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:s,inst:e,origin:"array"}),r}let p=-1;for(const g of n){if(p++,p>=s.length&&p>=d)continue;const m=g._zod.run({value:s[p],issues:[]},i);m instanceof Promise?l.push(m.then(b=>Ih(b,r,p))):Ih(m,r,p)}if(t.rest){const g=s.slice(n.length);for(const m of g){p++;const b=t.rest._zod.run({value:m,issues:[]},i);b instanceof Promise?l.push(b.then(w=>Ih(w,r,p))):Ih(b,r,p)}}return l.length?Promise.all(l).then(()=>r):r}});function Ih(e,t,n){e.issues.length&&t.issues.push(...Za(n,e.issues)),t.value[n]=e.value}const T5=Ae("$ZodRecord",(e,t)=>{Vt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Zc(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const s=[],l=t.keyType._zod.values;if(l){n.value={};const u=new Set;for(const p of l)if(typeof p=="string"||typeof p=="number"||typeof p=="symbol"){u.add(typeof p=="number"?p.toString():p);const g=t.valueType._zod.run({value:i[p],issues:[]},r);g instanceof Promise?s.push(g.then(m=>{m.issues.length&&n.issues.push(...Za(p,m.issues)),n.value[p]=m.value})):(g.issues.length&&n.issues.push(...Za(p,g.issues)),n.value[p]=g.value)}let d;for(const p in i)u.has(p)||(d=d??[],d.push(p));d&&d.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:d})}else{n.value={};for(const u of Reflect.ownKeys(i)){if(u==="__proto__")continue;let d=t.keyType._zod.run({value:u,issues:[]},r);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof u=="string"&&Zk.test(u)&&d.issues.length){const m=t.keyType._zod.run({value:Number(u),issues:[]},r);if(m instanceof Promise)throw new Error("Async schemas not supported in object keys currently");m.issues.length===0&&(d=m)}if(d.issues.length){t.mode==="loose"?n.value[u]=i[u]:n.issues.push({code:"invalid_key",origin:"record",issues:d.issues.map(m=>na(m,r,ta())),input:u,path:[u],inst:e});continue}const g=t.valueType._zod.run({value:i[u],issues:[]},r);g instanceof Promise?s.push(g.then(m=>{m.issues.length&&n.issues.push(...Za(u,m.issues)),n.value[d.value]=m.value})):(g.issues.length&&n.issues.push(...Za(u,g.issues)),n.value[d.value]=g.value)}}return s.length?Promise.all(s).then(()=>n):n}}),N5=Ae("$ZodEnum",(e,t)=>{Vt.init(e,t);const n=Ok(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>FM.has(typeof i)).map(i=>typeof i=="string"?Hc(i):i.toString()).join("|")})$`),e._zod.parse=(i,s)=>{const l=i.value;return r.has(l)||i.issues.push({code:"invalid_value",values:n,input:l,inst:e}),i}}),A5=Ae("$ZodLiteral",(e,t)=>{if(Vt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Hc(r):r?Hc(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),R5=Ae("$ZodTransform",(e,t)=>{Vt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Ik(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(l=>(n.value=l,n));if(i instanceof Promise)throw new wc;return n.value=i,n}});function c1(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Jk=Ae("$ZodOptional",(e,t)=>{Vt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",zt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),zt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${vw(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>c1(s,n.value)):c1(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),I5=Ae("$ZodExactOptional",(e,t)=>{Jk.init(e,t),zt(e._zod,"values",()=>t.innerType._zod.values),zt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),L5=Ae("$ZodNullable",(e,t)=>{Vt.init(e,t),zt(e._zod,"optin",()=>t.innerType._zod.optin),zt(e._zod,"optout",()=>t.innerType._zod.optout),zt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${vw(n.source)}|null)$`):void 0}),zt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),O5=Ae("$ZodDefault",(e,t)=>{Vt.init(e,t),e._zod.optin="optional",zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>u1(s,t)):u1(i,t)}});function u1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const j5=Ae("$ZodPrefault",(e,t)=>{Vt.init(e,t),e._zod.optin="optional",zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),M5=Ae("$ZodNonOptional",(e,t)=>{Vt.init(e,t),zt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>d1(s,e)):d1(i,e)}});function d1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const z5=Ae("$ZodCatch",(e,t)=>{Vt.init(e,t),zt(e._zod,"optin",()=>t.innerType._zod.optin),zt(e._zod,"optout",()=>t.innerType._zod.optout),zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(l=>na(l,r,ta()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>na(s,r,ta()))},input:n.value}),n.issues=[]),n)}}),D5=Ae("$ZodPipe",(e,t)=>{Vt.init(e,t),zt(e._zod,"values",()=>t.in._zod.values),zt(e._zod,"optin",()=>t.in._zod.optin),zt(e._zod,"optout",()=>t.out._zod.optout),zt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(l=>Lh(l,t.in,r)):Lh(s,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(s=>Lh(s,t.out,r)):Lh(i,t.out,r)}});function Lh(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const B5=Ae("$ZodReadonly",(e,t)=>{Vt.init(e,t),zt(e._zod,"propValues",()=>t.innerType._zod.propValues),zt(e._zod,"values",()=>t.innerType._zod.values),zt(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),zt(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(f1):f1(i)}});function f1(e){return e.value=Object.freeze(e.value),e}const F5=Ae("$ZodCustom",(e,t)=>{mr.init(e,t),Vt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(s=>h1(s,n,r,e));h1(i,n,r,e)}});function h1(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(kd(i))}}var p1;class U5{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function $5(){return new U5}(p1=globalThis).__zod_globalRegistry??(p1.__zod_globalRegistry=$5());const ud=globalThis.__zod_globalRegistry;function Z5(e,t){return new e({type:"string",...st(t)})}function Qk(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...st(t)})}function m1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...st(t)})}function H5(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...st(t)})}function W5(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...st(t)})}function V5(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...st(t)})}function q5(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...st(t)})}function Xk(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...st(t)})}function K5(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...st(t)})}function G5(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...st(t)})}function Y5(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...st(t)})}function J5(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...st(t)})}function Q5(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...st(t)})}function X5(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...st(t)})}function eD(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...st(t)})}function tD(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...st(t)})}function nD(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...st(t)})}function rD(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...st(t)})}function iD(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...st(t)})}function oD(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...st(t)})}function sD(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...st(t)})}function aD(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...st(t)})}function lD(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...st(t)})}function cD(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...st(t)})}function uD(e,t){return new e({type:"string",format:"date",check:"string_format",...st(t)})}function dD(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...st(t)})}function fD(e,t){return new e({type:"string",format:"duration",check:"string_format",...st(t)})}function hD(e,t){return new e({type:"number",checks:[],...st(t)})}function pD(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...st(t)})}function mD(e,t){return new e({type:"boolean",...st(t)})}function gD(e){return new e({type:"unknown"})}function yD(e,t){return new e({type:"never",...st(t)})}function g1(e,t){return new Wk({check:"less_than",...st(t),value:e,inclusive:!1})}function by(e,t){return new Wk({check:"less_than",...st(t),value:e,inclusive:!0})}function y1(e,t){return new Vk({check:"greater_than",...st(t),value:e,inclusive:!1})}function Ey(e,t){return new Vk({check:"greater_than",...st(t),value:e,inclusive:!0})}function v1(e,t){return new Lz({check:"multiple_of",...st(t),value:e})}function eC(e,t){return new jz({check:"max_length",...st(t),maximum:e})}function fp(e,t){return new Mz({check:"min_length",...st(t),minimum:e})}function tC(e,t){return new zz({check:"length_equals",...st(t),length:e})}function vD(e,t){return new Dz({check:"string_format",format:"regex",...st(t),pattern:e})}function wD(e){return new Bz({check:"string_format",format:"lowercase",...st(e)})}function _D(e){return new Fz({check:"string_format",format:"uppercase",...st(e)})}function xD(e,t){return new Uz({check:"string_format",format:"includes",...st(t),includes:e})}function bD(e,t){return new $z({check:"string_format",format:"starts_with",...st(t),prefix:e})}function ED(e,t){return new Zz({check:"string_format",format:"ends_with",...st(t),suffix:e})}function Qc(e){return new Hz({check:"overwrite",tx:e})}function SD(e){return Qc(t=>t.normalize(e))}function kD(){return Qc(e=>e.trim())}function CD(){return Qc(e=>e.toLowerCase())}function PD(){return Qc(e=>e.toUpperCase())}function TD(){return Qc(e=>DM(e))}function ND(e,t,n){return new e({type:"array",element:t,...st(n)})}function AD(e,t,n){return new e({type:"custom",check:"custom",fn:t,...st(n)})}function RD(e){const t=ID(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(kd(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(kd(i))}},e(n.value,n)));return t}function ID(e,t){const n=new mr({check:"custom",...st(t)});return n._zod.check=e,n}function nC(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??ud,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function ln(e,t,n={path:[],schemaPath:[]}){var g,m;var r;const i=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,l);const u=(m=(g=e._zod).toJSONSchema)==null?void 0:m.call(g);if(u)l.schema=u;else{const b={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,b);else{const S=l.schema,v=t.processors[i.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);v(e,t,S,b)}const w=e._zod.parent;w&&(l.ref||(l.ref=w),ln(w,t,b),t.seen.get(w).isParent=!0)}const d=t.metadataRegistry.get(e);return d&&Object.assign(l.schema,d),t.io==="input"&&Yn(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function rC(e,t){var l,u,d,p;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const g of e.seen.entries()){const m=(l=e.metadataRegistry.get(g[0]))==null?void 0:l.id;if(m){const b=r.get(m);if(b&&b!==g[0])throw new Error(`Duplicate schema id "${m}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(m,g[0])}}const i=g=>{var v;const m=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const E=(v=e.external.registry.get(g[0]))==null?void 0:v.id,k=e.external.uri??(A=>A);if(E)return{ref:k(E)};const N=g[1].defId??g[1].schema.id??`schema${e.counter++}`;return g[1].defId=N,{defId:N,ref:`${k("__shared")}#/${m}/${N}`}}if(g[1]===n)return{ref:"#"};const w=`#/${m}/`,S=g[1].schema.id??`__schema${e.counter++}`;return{defId:S,ref:w+S}},s=g=>{if(g[1].schema.$ref)return;const m=g[1],{ref:b,defId:w}=i(g);m.def={...m.schema},w&&(m.defId=w);const S=m.schema;for(const v in S)delete S[v];S.$ref=b};if(e.cycles==="throw")for(const g of e.seen.entries()){const m=g[1];if(m.cycle)throw new Error(`Cycle detected: #/${(u=m.cycle)==null?void 0:u.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const g of e.seen.entries()){const m=g[1];if(t===g[0]){s(g);continue}if(e.external){const w=(d=e.external.registry.get(g[0]))==null?void 0:d.id;if(t!==g[0]&&w){s(g);continue}}if((p=e.metadataRegistry.get(g[0]))==null?void 0:p.id){s(g);continue}if(m.cycle){s(g);continue}if(m.count>1&&e.reused==="ref"){s(g);continue}}}function iC(e,t){var l,u,d;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=p=>{const g=e.seen.get(p);if(g.ref===null)return;const m=g.def??g.schema,b={...m},w=g.ref;if(g.ref=null,w){r(w);const v=e.seen.get(w),E=v.schema;if(E.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(E)):Object.assign(m,E),Object.assign(m,b),p._zod.parent===w)for(const N in m)N==="$ref"||N==="allOf"||N in b||delete m[N];if(E.$ref&&v.def)for(const N in m)N==="$ref"||N==="allOf"||N in v.def&&JSON.stringify(m[N])===JSON.stringify(v.def[N])&&delete m[N]}const S=p._zod.parent;if(S&&S!==w){r(S);const v=e.seen.get(S);if(v!=null&&v.schema.$ref&&(m.$ref=v.schema.$ref,v.def))for(const E in m)E==="$ref"||E==="allOf"||E in v.def&&JSON.stringify(m[E])===JSON.stringify(v.def[E])&&delete m[E]}e.override({zodSchema:p,jsonSchema:m,path:g.path??[]})};for(const p of[...e.seen.entries()].reverse())r(p[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,(l=e.external)!=null&&l.uri){const p=(u=e.external.registry.get(t))==null?void 0:u.id;if(!p)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(p)}Object.assign(i,n.def??n.schema);const s=((d=e.external)==null?void 0:d.defs)??{};for(const p of e.seen.entries()){const g=p[1];g.def&&g.defId&&(s[g.defId]=g.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?i.$defs=s:i.definitions=s);try{const p=JSON.parse(JSON.stringify(i));return Object.defineProperty(p,"~standard",{value:{...t["~standard"],jsonSchema:{input:hp(t,"input",e.processors),output:hp(t,"output",e.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function Yn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Yn(r.element,n);if(r.type==="set")return Yn(r.valueType,n);if(r.type==="lazy")return Yn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Yn(r.innerType,n);if(r.type==="intersection")return Yn(r.left,n)||Yn(r.right,n);if(r.type==="record"||r.type==="map")return Yn(r.keyType,n)||Yn(r.valueType,n);if(r.type==="pipe")return Yn(r.in,n)||Yn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Yn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Yn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Yn(i,n))return!0;return!!(r.rest&&Yn(r.rest,n))}return!1}const LD=(e,t={})=>n=>{const r=nC({...n,processors:t});return ln(e,r),rC(r,e),iC(r,e)},hp=(e,t,n={})=>r=>{const{libraryOptions:i,target:s}=r??{},l=nC({...i??{},target:s,io:t,processors:n});return ln(e,l),rC(l,e),iC(l,e)},OD={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},jD=(e,t,n,r)=>{const i=n;i.type="string";const{minimum:s,maximum:l,format:u,patterns:d,contentEncoding:p}=e._zod.bag;if(typeof s=="number"&&(i.minLength=s),typeof l=="number"&&(i.maxLength=l),u&&(i.format=OD[u]??u,i.format===""&&delete i.format,u==="time"&&delete i.format),p&&(i.contentEncoding=p),d&&d.size>0){const g=[...d];g.length===1?i.pattern=g[0].source:g.length>1&&(i.allOf=[...g.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},MD=(e,t,n,r)=>{const i=n,{minimum:s,maximum:l,format:u,multipleOf:d,exclusiveMaximum:p,exclusiveMinimum:g}=e._zod.bag;typeof u=="string"&&u.includes("int")?i.type="integer":i.type="number",typeof g=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=g,i.exclusiveMinimum=!0):i.exclusiveMinimum=g),typeof s=="number"&&(i.minimum=s,typeof g=="number"&&t.target!=="draft-04"&&(g>=s?delete i.minimum:delete i.exclusiveMinimum)),typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=p,i.exclusiveMaximum=!0):i.exclusiveMaximum=p),typeof l=="number"&&(i.maximum=l,typeof p=="number"&&t.target!=="draft-04"&&(p<=l?delete i.maximum:delete i.exclusiveMaximum)),typeof d=="number"&&(i.multipleOf=d)},zD=(e,t,n,r)=>{n.type="boolean"},DD=(e,t,n,r)=>{n.not={}},BD=(e,t,n,r)=>{},FD=(e,t,n,r)=>{const i=e._zod.def,s=Ok(i.entries);s.every(l=>typeof l=="number")&&(n.type="number"),s.every(l=>typeof l=="string")&&(n.type="string"),n.enum=s},UD=(e,t,n,r)=>{const i=e._zod.def,s=[];for(const l of i.values)if(l===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof l=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(l))}else s.push(l);if(s.length!==0)if(s.length===1){const l=s[0];n.type=l===null?"null":typeof l,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[l]:n.const=l}else s.every(l=>typeof l=="number")&&(n.type="number"),s.every(l=>typeof l=="string")&&(n.type="string"),s.every(l=>typeof l=="boolean")&&(n.type="boolean"),s.every(l=>l===null)&&(n.type="null"),n.enum=s},$D=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},ZD=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},HD=(e,t,n,r)=>{const i=n,s=e._zod.def,{minimum:l,maximum:u}=e._zod.bag;typeof l=="number"&&(i.minItems=l),typeof u=="number"&&(i.maxItems=u),i.type="array",i.items=ln(s.element,t,{...r,path:[...r.path,"items"]})},WD=(e,t,n,r)=>{var p;const i=n,s=e._zod.def;i.type="object",i.properties={};const l=s.shape;for(const g in l)i.properties[g]=ln(l[g],t,{...r,path:[...r.path,"properties",g]});const u=new Set(Object.keys(l)),d=new Set([...u].filter(g=>{const m=s.shape[g]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));d.size>0&&(i.required=Array.from(d)),((p=s.catchall)==null?void 0:p._zod.def.type)==="never"?i.additionalProperties=!1:s.catchall?s.catchall&&(i.additionalProperties=ln(s.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},VD=(e,t,n,r)=>{const i=e._zod.def,s=i.inclusive===!1,l=i.options.map((u,d)=>ln(u,t,{...r,path:[...r.path,s?"oneOf":"anyOf",d]}));s?n.oneOf=l:n.anyOf=l},qD=(e,t,n,r)=>{const i=e._zod.def,s=ln(i.left,t,{...r,path:[...r.path,"allOf",0]}),l=ln(i.right,t,{...r,path:[...r.path,"allOf",1]}),u=p=>"allOf"in p&&Object.keys(p).length===1,d=[...u(s)?s.allOf:[s],...u(l)?l.allOf:[l]];n.allOf=d},KD=(e,t,n,r)=>{const i=n,s=e._zod.def;i.type="array";const l=t.target==="draft-2020-12"?"prefixItems":"items",u=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",d=s.items.map((b,w)=>ln(b,t,{...r,path:[...r.path,l,w]})),p=s.rest?ln(s.rest,t,{...r,path:[...r.path,u,...t.target==="openapi-3.0"?[s.items.length]:[]]}):null;t.target==="draft-2020-12"?(i.prefixItems=d,p&&(i.items=p)):t.target==="openapi-3.0"?(i.items={anyOf:d},p&&i.items.anyOf.push(p),i.minItems=d.length,p||(i.maxItems=d.length)):(i.items=d,p&&(i.additionalItems=p));const{minimum:g,maximum:m}=e._zod.bag;typeof g=="number"&&(i.minItems=g),typeof m=="number"&&(i.maxItems=m)},GD=(e,t,n,r)=>{const i=n,s=e._zod.def;i.type="object";const l=s.keyType,u=l._zod.bag,d=u==null?void 0:u.patterns;if(s.mode==="loose"&&d&&d.size>0){const g=ln(s.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});i.patternProperties={};for(const m of d)i.patternProperties[m.source]=g}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(i.propertyNames=ln(s.keyType,t,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=ln(s.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const p=l._zod.values;if(p){const g=[...p].filter(m=>typeof m=="string"||typeof m=="number");g.length>0&&(i.required=g)}},YD=(e,t,n,r)=>{const i=e._zod.def,s=ln(i.innerType,t,r),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},JD=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType},QD=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},XD=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},e8=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType;let l;try{l=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},t8=(e,t,n,r)=>{const i=e._zod.def,s=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;ln(s,t,r);const l=t.seen.get(e);l.ref=s},n8=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,n.readOnly=!0},oC=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType},r8=Ae("ZodISODateTime",(e,t)=>{i5.init(e,t),tn.init(e,t)});function i8(e){return cD(r8,e)}const o8=Ae("ZodISODate",(e,t)=>{o5.init(e,t),tn.init(e,t)});function s8(e){return uD(o8,e)}const a8=Ae("ZodISOTime",(e,t)=>{s5.init(e,t),tn.init(e,t)});function l8(e){return dD(a8,e)}const c8=Ae("ZodISODuration",(e,t)=>{a5.init(e,t),tn.init(e,t)});function u8(e){return fD(c8,e)}const d8=(e,t)=>{Dk.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>JM(e,n)},flatten:{value:n=>YM(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Vv,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Vv,2)}},isEmpty:{get(){return e.issues.length===0}}})},ei=Ae("ZodError",d8,{Parent:Error}),f8=_w(ei),h8=xw(ei),p8=Gp(ei),m8=Yp(ei),g8=ez(ei),y8=tz(ei),v8=nz(ei),w8=rz(ei),_8=iz(ei),x8=oz(ei),b8=sz(ei),E8=az(ei),Yt=Ae("ZodType",(e,t)=>(Vt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:hp(e,"input"),output:hp(e,"output")}}),e.toJSONSchema=LD(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(sa(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>aa(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>f8(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>p8(e,n,r),e.parseAsync=async(n,r)=>h8(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>m8(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>g8(e,n,r),e.decode=(n,r)=>y8(e,n,r),e.encodeAsync=async(n,r)=>v8(e,n,r),e.decodeAsync=async(n,r)=>w8(e,n,r),e.safeEncode=(n,r)=>_8(e,n,r),e.safeDecode=(n,r)=>x8(e,n,r),e.safeEncodeAsync=async(n,r)=>b8(e,n,r),e.safeDecodeAsync=async(n,r)=>E8(e,n,r),e.refine=(n,r)=>e.check(m6(n,r)),e.superRefine=n=>e.check(g6(n)),e.overwrite=n=>e.check(Qc(n)),e.optional=()=>E1(e),e.exactOptional=()=>n6(e),e.nullable=()=>S1(e),e.nullish=()=>E1(S1(e)),e.nonoptional=n=>l6(e,n),e.array=()=>uC(e),e.or=n=>Gv([e,n]),e.and=n=>K8(e,n),e.transform=n=>k1(e,e6(n)),e.default=n=>o6(e,n),e.prefault=n=>a6(e,n),e.catch=n=>u6(e,n),e.pipe=n=>k1(e,n),e.readonly=()=>h6(e),e.describe=n=>{const r=e.clone();return ud.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=ud.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return ud.get(e);const r=e.clone();return ud.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),sC=Ae("_ZodString",(e,t)=>{bw.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>jD(e,r,i);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(vD(...r)),e.includes=(...r)=>e.check(xD(...r)),e.startsWith=(...r)=>e.check(bD(...r)),e.endsWith=(...r)=>e.check(ED(...r)),e.min=(...r)=>e.check(fp(...r)),e.max=(...r)=>e.check(eC(...r)),e.length=(...r)=>e.check(tC(...r)),e.nonempty=(...r)=>e.check(fp(1,...r)),e.lowercase=r=>e.check(wD(r)),e.uppercase=r=>e.check(_D(r)),e.trim=()=>e.check(kD()),e.normalize=(...r)=>e.check(SD(...r)),e.toLowerCase=()=>e.check(CD()),e.toUpperCase=()=>e.check(PD()),e.slugify=()=>e.check(TD())}),S8=Ae("ZodString",(e,t)=>{bw.init(e,t),sC.init(e,t),e.email=n=>e.check(Qk(aC,n)),e.url=n=>e.check(Xk(lC,n)),e.jwt=n=>e.check(lD(B8,n)),e.emoji=n=>e.check(K5(k8,n)),e.guid=n=>e.check(m1(_1,n)),e.uuid=n=>e.check(H5(Oh,n)),e.uuidv4=n=>e.check(W5(Oh,n)),e.uuidv6=n=>e.check(V5(Oh,n)),e.uuidv7=n=>e.check(q5(Oh,n)),e.nanoid=n=>e.check(G5(C8,n)),e.guid=n=>e.check(m1(_1,n)),e.cuid=n=>e.check(Y5(P8,n)),e.cuid2=n=>e.check(J5(T8,n)),e.ulid=n=>e.check(Q5(N8,n)),e.base64=n=>e.check(oD(M8,n)),e.base64url=n=>e.check(sD(z8,n)),e.xid=n=>e.check(X5(A8,n)),e.ksuid=n=>e.check(eD(R8,n)),e.ipv4=n=>e.check(tD(I8,n)),e.ipv6=n=>e.check(nD(L8,n)),e.cidrv4=n=>e.check(rD(O8,n)),e.cidrv6=n=>e.check(iD(j8,n)),e.e164=n=>e.check(aD(D8,n)),e.datetime=n=>e.check(i8(n)),e.date=n=>e.check(s8(n)),e.time=n=>e.check(l8(n)),e.duration=n=>e.check(u8(n))});function Ot(e){return Z5(S8,e)}const tn=Ae("ZodStringFormat",(e,t)=>{Gt.init(e,t),sC.init(e,t)}),aC=Ae("ZodEmail",(e,t)=>{Gz.init(e,t),tn.init(e,t)});function w1(e){return Qk(aC,e)}const _1=Ae("ZodGUID",(e,t)=>{qz.init(e,t),tn.init(e,t)}),Oh=Ae("ZodUUID",(e,t)=>{Kz.init(e,t),tn.init(e,t)}),lC=Ae("ZodURL",(e,t)=>{Yz.init(e,t),tn.init(e,t)});function dd(e){return Xk(lC,e)}const k8=Ae("ZodEmoji",(e,t)=>{Jz.init(e,t),tn.init(e,t)}),C8=Ae("ZodNanoID",(e,t)=>{Qz.init(e,t),tn.init(e,t)}),P8=Ae("ZodCUID",(e,t)=>{Xz.init(e,t),tn.init(e,t)}),T8=Ae("ZodCUID2",(e,t)=>{e5.init(e,t),tn.init(e,t)}),N8=Ae("ZodULID",(e,t)=>{t5.init(e,t),tn.init(e,t)}),A8=Ae("ZodXID",(e,t)=>{n5.init(e,t),tn.init(e,t)}),R8=Ae("ZodKSUID",(e,t)=>{r5.init(e,t),tn.init(e,t)}),I8=Ae("ZodIPv4",(e,t)=>{l5.init(e,t),tn.init(e,t)}),L8=Ae("ZodIPv6",(e,t)=>{c5.init(e,t),tn.init(e,t)}),O8=Ae("ZodCIDRv4",(e,t)=>{u5.init(e,t),tn.init(e,t)}),j8=Ae("ZodCIDRv6",(e,t)=>{d5.init(e,t),tn.init(e,t)}),M8=Ae("ZodBase64",(e,t)=>{f5.init(e,t),tn.init(e,t)}),z8=Ae("ZodBase64URL",(e,t)=>{p5.init(e,t),tn.init(e,t)}),D8=Ae("ZodE164",(e,t)=>{m5.init(e,t),tn.init(e,t)}),B8=Ae("ZodJWT",(e,t)=>{y5.init(e,t),tn.init(e,t)}),cC=Ae("ZodNumber",(e,t)=>{Kk.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>MD(e,r,i),e.gt=(r,i)=>e.check(y1(r,i)),e.gte=(r,i)=>e.check(Ey(r,i)),e.min=(r,i)=>e.check(Ey(r,i)),e.lt=(r,i)=>e.check(g1(r,i)),e.lte=(r,i)=>e.check(by(r,i)),e.max=(r,i)=>e.check(by(r,i)),e.int=r=>e.check(x1(r)),e.safe=r=>e.check(x1(r)),e.positive=r=>e.check(y1(0,r)),e.nonnegative=r=>e.check(Ey(0,r)),e.negative=r=>e.check(g1(0,r)),e.nonpositive=r=>e.check(by(0,r)),e.multipleOf=(r,i)=>e.check(v1(r,i)),e.step=(r,i)=>e.check(v1(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Po(e){return hD(cC,e)}const F8=Ae("ZodNumberFormat",(e,t)=>{v5.init(e,t),cC.init(e,t)});function x1(e){return pD(F8,e)}const U8=Ae("ZodBoolean",(e,t)=>{w5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>zD(e,n,r)});function el(e){return mD(U8,e)}const $8=Ae("ZodUnknown",(e,t)=>{_5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>BD()});function Kv(){return gD($8)}const Z8=Ae("ZodNever",(e,t)=>{x5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>DD(e,n,r)});function H8(e){return yD(Z8,e)}const W8=Ae("ZodArray",(e,t)=>{b5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>HD(e,n,r,i),e.element=t.element,e.min=(n,r)=>e.check(fp(n,r)),e.nonempty=n=>e.check(fp(1,n)),e.max=(n,r)=>e.check(eC(n,r)),e.length=(n,r)=>e.check(tC(n,r)),e.unwrap=()=>e.element});function uC(e,t){return ND(W8,e,t)}const dC=Ae("ZodObject",(e,t)=>{S5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>WD(e,n,r,i),zt(e,"shape",()=>t.shape),e.keyof=()=>fC(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Kv()}),e.loose=()=>e.clone({...e._zod.def,catchall:Kv()}),e.strict=()=>e.clone({...e._zod.def,catchall:H8()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>WM(e,n),e.safeExtend=n=>VM(e,n),e.merge=n=>qM(e,n),e.pick=n=>ZM(e,n),e.omit=n=>HM(e,n),e.partial=(...n)=>KM(hC,e,n[0]),e.required=(...n)=>GM(pC,e,n[0])});function Mo(e,t){const n={type:"object",shape:e??{},...st(t)};return new dC(n)}function b1(e,t){return new dC({type:"object",shape:e,catchall:Kv(),...st(t)})}const V8=Ae("ZodUnion",(e,t)=>{k5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>VD(e,n,r,i),e.options=t.options});function Gv(e,t){return new V8({type:"union",options:e,...st(t)})}const q8=Ae("ZodIntersection",(e,t)=>{C5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>qD(e,n,r,i)});function K8(e,t){return new q8({type:"intersection",left:e,right:t})}const G8=Ae("ZodTuple",(e,t)=>{P5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>KD(e,n,r,i),e.rest=n=>e.clone({...e._zod.def,rest:n})});function Wr(e,t,n){const r=t instanceof Vt,i=r?n:t,s=r?t:null;return new G8({type:"tuple",items:e,rest:s,...st(i)})}const Y8=Ae("ZodRecord",(e,t)=>{T5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>GD(e,n,r,i),e.keyType=t.keyType,e.valueType=t.valueType});function J8(e,t,n){return new Y8({type:"record",keyType:e,valueType:t,...st(n)})}const Yv=Ae("ZodEnum",(e,t)=>{N5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>FD(e,r,i),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const s={};for(const l of r)if(n.has(l))s[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Yv({...t,checks:[],...st(i),entries:s})},e.exclude=(r,i)=>{const s={...t.entries};for(const l of r)if(n.has(l))delete s[l];else throw new Error(`Key ${l} not found in enum`);return new Yv({...t,checks:[],...st(i),entries:s})}});function fC(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Yv({type:"enum",entries:n,...st(t)})}const Q8=Ae("ZodLiteral",(e,t)=>{A5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>UD(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Vr(e,t){return new Q8({type:"literal",values:Array.isArray(e)?e:[e],...st(t)})}const X8=Ae("ZodTransform",(e,t)=>{R5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>ZD(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Ik(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(kd(s,n.value,t));else{const l=s;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(kd(l))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function e6(e){return new X8({type:"transform",transform:e})}const hC=Ae("ZodOptional",(e,t)=>{Jk.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>oC(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function E1(e){return new hC({type:"optional",innerType:e})}const t6=Ae("ZodExactOptional",(e,t)=>{I5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>oC(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function n6(e){return new t6({type:"optional",innerType:e})}const r6=Ae("ZodNullable",(e,t)=>{L5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>YD(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function S1(e){return new r6({type:"nullable",innerType:e})}const i6=Ae("ZodDefault",(e,t)=>{O5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>QD(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function o6(e,t){return new i6({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Mk(t)}})}const s6=Ae("ZodPrefault",(e,t)=>{j5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>XD(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function a6(e,t){return new s6({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Mk(t)}})}const pC=Ae("ZodNonOptional",(e,t)=>{M5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>JD(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function l6(e,t){return new pC({type:"nonoptional",innerType:e,...st(t)})}const c6=Ae("ZodCatch",(e,t)=>{z5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>e8(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function u6(e,t){return new c6({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const d6=Ae("ZodPipe",(e,t)=>{D5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>t8(e,n,r,i),e.in=t.in,e.out=t.out});function k1(e,t){return new d6({type:"pipe",in:e,out:t})}const f6=Ae("ZodReadonly",(e,t)=>{B5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>n8(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function h6(e){return new f6({type:"readonly",innerType:e})}const p6=Ae("ZodCustom",(e,t)=>{F5.init(e,t),Yt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>$D(e,n)});function m6(e,t={}){return AD(p6,e,t)}function g6(e){return RD(e)}const y6={custom:"custom"};class Et{static id(){return Ot().regex(/^[0-9a-f]{64}$/)}static event(){return Mo({id:Et.id(),kind:Po().int().nonnegative(),pubkey:Et.id(),tags:Ot().array().array(),content:Ot(),created_at:Po().int().nonnegative(),sig:Ot()}).required({id:!0,kind:!0,pubkey:!0,tags:!0,content:!0,created_at:!0,sig:!0})}static filter(){return b1({kinds:Po().int().nonnegative().array().optional(),ids:Et.id().array().optional(),authors:Et.id().array().optional(),since:Po().int().nonnegative().optional(),until:Po().int().nonnegative().optional(),limit:Po().int().nonnegative().optional(),search:Ot().optional()}).transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[i,s])=>((n.includes(i)||i.startsWith("#"))&&(r[i]=s),r),{})})}static bech32(t){return Ot().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return dd().regex(/^wss?:\/\//)}static clientEVENT(){return Wr([Vr("EVENT"),Et.event()])}static clientREQ(){return Wr([Vr("REQ"),Ot()]).rest(Et.filter())}static clientCOUNT(){return Wr([Vr("COUNT"),Ot()]).rest(Et.filter())}static clientCLOSE(){return Wr([Vr("CLOSE"),Ot()])}static clientAUTH(){return Wr([Vr("AUTH"),Et.event()])}static clientMsg(){return Gv([Et.clientEVENT(),Et.clientREQ(),Et.clientCOUNT(),Et.clientCLOSE(),Et.clientAUTH()])}static relayEVENT(){return Wr([Vr("EVENT"),Ot(),Et.event()])}static relayOK(){return Wr([Vr("OK"),Et.id(),el(),Ot()])}static relayEOSE(){return Wr([Vr("EOSE"),Ot()])}static relayNOTICE(){return Wr([Vr("NOTICE"),Ot()])}static relayCLOSED(){return Wr([Vr("CLOSED"),Ot(),Ot()])}static relayAUTH(){return Wr([Vr("AUTH"),Ot()])}static relayCOUNT(){return Wr([Vr("COUNT"),Ot(),Mo({count:Po().int().nonnegative(),approximate:el().optional()})])}static relayMsg(){return Gv([Et.relayEVENT(),Et.relayOK(),Et.relayEOSE(),Et.relayNOTICE(),Et.relayCLOSED(),Et.relayAUTH(),Et.relayCOUNT()])}static metadata(){return b1({about:Ot().optional().catch(void 0),banner:dd().optional().catch(void 0),bot:el().optional().catch(void 0),display_name:Ot().optional().catch(void 0),lud06:Et.bech32("lnurl").optional().catch(void 0),lud16:w1().optional().catch(void 0),name:Ot().optional().catch(void 0),nip05:w1().optional().catch(void 0),picture:dd().optional().catch(void 0),website:dd().optional().catch(void 0)})}static connectRequest(){return Mo({id:Ot(),method:Ot(),params:Ot().array()})}static connectResponse(){return Mo({id:Ot(),result:Ot(),error:Ot().optional()})}static json(){return Ot().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:y6.custom,message:"Invalid JSON"}),MM}})}}class mC{constructor({relay:t,pubkey:n,signer:r,timeout:i,encryption:s="nip44"}){He(this,"relay");He(this,"pubkey");He(this,"signer");He(this,"timeout");He(this,"encryption");He(this,"nip04",{encrypt:async(t,n)=>this.cmd("nip04_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip04_decrypt",[t,n])});He(this,"nip44",{encrypt:async(t,n)=>this.cmd("nip44_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip44_decrypt",[t,n])});this.relay=t,this.pubkey=n,this.signer=r,this.timeout=i,this.encryption=s}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(t){const n=await this.cmd("sign_event",[JSON.stringify(t)]);return Et.json().pipe(Et.event()).parse(n)}async getRelays(){const t=await this.cmd("get_relays",[]);return Et.json().pipe(J8(Ot(),Mo({read:el(),write:el()}))).parse(t)}async connect(t){const n=[this.pubkey];return t&&n.push(t),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(t,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:i,error:s}=await this.send({id:crypto.randomUUID(),method:t,params:n},{signal:r});if(s)throw new Error(s);return i}async send(t,n={}){const{signal:r}=n,i=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(t)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),s=await this.signer.getPublicKey(),l=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[s]}],{signal:r}),u=new Promise((d,p)=>{(async()=>{try{for await(const g of l){if(g[0]==="CLOSED")throw new Error("Subscription closed");if(g[0]==="EVENT"){const m=g[2],b=await this.decrypt(this.pubkey,m.content),w=Et.json().pipe(Et.connectResponse()).parse(b);if(w.id===t.id){d(w);return}}}}catch(g){p(g)}})()});return await this.relay.event(i,{signal:r}),u}async encrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(t,n);case"nip44":return this.signer.nip44.encrypt(t,n)}}async decrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(t,n);case"nip44":return this.signer.nip44.decrypt(t,n)}}}const gC={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),gC[e]=t}function v6(e){let t="";for(let n=0;n<e.byteLength;n++)t+=gC[e[n]];return t}const yC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C1=Object.entries(yC).reduce((e,[t,n])=>(e[n]=Number(t),e),{}),w6=yC.split(""),_c=6,vd=8,_6=63,x6=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let i=0;i<e.length;i+=4){let s=0,l=0;for(let p=i,g=i+3;p<=g;p++)if(e[p]!=="="){if(!(e[p]in C1))throw new TypeError(`Invalid character ${e[p]} in base64 string.`);s|=C1[e[p]]<<(g-p)*_c,l+=_c}else s>>=_c;const u=i/4*3;s>>=l%vd;const d=Math.floor(l/vd);for(let p=0;p<d;p++){const g=(d-p-1)*vd;r.setUint8(u+p,(s&255<<g)>>g)}}return new Uint8Array(n)},b6=e=>new TextEncoder().encode(e);function E6(e){let t;typeof e=="string"?t=b6(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",r=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<t.length;s+=3){let l=0,u=0;for(let p=s,g=Math.min(s+3,t.length);p<g;p++)l|=t[p]<<(g-p-1)*vd,u+=vd;const d=Math.ceil(u/_c);l<<=d*_c-u;for(let p=1;p<=d;p++){const g=(d-p)*_c;i+=w6[(l&_6<<g)>>g]}i+="==".slice(0,4-d)}return i}class S6{static encodeEvent(t){return E6(JSON.stringify(t))}static decodeEvent(t){const n=x6(t),r=new TextDecoder().decode(n);return Et.json().pipe(Et.event()).parse(r)}}class k6{constructor(t){He(this,"set");He(this,"capacity");this.set=new Set,this.capacity=t}add(t){if(!this.set.has(t)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}[Symbol.iterator](){return this.set.values()}}var Dc,Bc,Zd;class vC{constructor(t){it(this,Dc,[]);it(this,Bc);it(this,Zd,!1);t!=null&&t.aborted?this.abort():t==null||t.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Symbol.asyncIterator](){for(;!ue(this,Zd);){if(ue(this,Dc).length){yield ue(this,Dc).shift();continue}await new Promise(t=>{Ke(this,Bc,t)})}throw new DOMException("The signal has been aborted","AbortError")}push(t){var n;ue(this,Dc).push(t),(n=ue(this,Bc))==null||n.call(this)}abort(){var t;Ke(this,Zd,!0),(t=ue(this,Bc))==null||t.call(this)}}Dc=new WeakMap,Bc=new WeakMap,Zd=new WeakMap;class Ew{constructor(t){He(this,"_relays",new Map);He(this,"opts");this.opts=t}relay(t){const n=this._relays.get(t);if(n)return n;{const r=this.opts.open(t);return this._relays.set(t,r),r}}group(t){return new Ew({open:n=>this.relay(n),reqRouter:n=>new Map(t.map(r=>[r,n])),eventRouter:()=>t})}get relays(){return this._relays}async*req(t,n){const r=new AbortController,i=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,s=n!=null&&n.relays?new Map(n.relays.map(w=>[w,t])):await this.opts.reqRouter(t);if(s.size<1)return;const l=new vC(i),u=new Set,d=new Set,p=new k6(1e3),g=this.opts.eoseTimeout??1e3;let m;const b=[];for(const[w,S]of s.entries()){const v=this.relay(w),E=(async()=>{try{for await(const k of v.req(S,{signal:i}))if(k[0]==="EOSE"&&(u.add(w),u.size===1&&g>0&&m===void 0&&(m=setTimeout(()=>{r.abort()},g)),u.size===s.size&&l.push(k)),k[0]==="CLOSED"&&(d.add(w),d.size===s.size&&l.push(k)),k[0]==="EVENT"){const[,,N]=k;p.has(N.id)||(p.add(N.id),l.push(k))}}catch{}})();b.push(E)}try{for await(const w of l)yield w}finally{m!==void 0&&clearTimeout(m),r.abort(),await Promise.allSettled(b)}}async event(t,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(t);r.length&&await Promise.any(r.map(i=>this.relay(i).event(t,n)))}async query(t,n){const r=new Map,i=new cp(r);if(t.reduce((l,u)=>l+qS(u),0)===0)return[];try{for await(const l of this.req(t,n))if(l[0]==="EOSE"||(l[0]==="EVENT"&&i.add(l[2]),l[0]==="CLOSED"))break}catch{}return t.some(l=>typeof l.search=="string")?[...r.values()]:[...i]}async close(){await Promise.all([...this._relays.values()].map(t=>t.close()))}async[Symbol.asyncDispose](){await this.close()}}class C6{constructor(t,n){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class P6{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var Ft;(function(e){e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect"})(Ft||(Ft={}));class T6{constructor(t,n,r){var i,s,l,u,d,p,g,m,b,w,S,v,E,k,N;this._closedByUser=!1,this.handleOpenEvent=A=>this.handleEvent(Ft.open,A),this.handleErrorEvent=A=>this.handleEvent(Ft.error,A),this.handleCloseEvent=A=>this.handleEvent(Ft.close,A),this.handleMessageEvent=A=>this.handleEvent(Ft.message,A),this._url=t,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.maxRetries,instantReconnect:(s=r==null?void 0:r.retry)===null||s===void 0?void 0:s.instantReconnect,backoff:(l=r==null?void 0:r.retry)===null||l===void 0?void 0:l.backoff},listeners:{open:[...(d=(u=r==null?void 0:r.listeners)===null||u===void 0?void 0:u.open)!==null&&d!==void 0?d:[]],close:[...(g=(p=r==null?void 0:r.listeners)===null||p===void 0?void 0:p.close)!==null&&g!==void 0?g:[]],error:[...(b=(m=r==null?void 0:r.listeners)===null||m===void 0?void 0:m.error)!==null&&b!==void 0?b:[]],message:[...(S=(w=r==null?void 0:r.listeners)===null||w===void 0?void 0:w.message)!==null&&S!==void 0?S:[]],retry:[...(E=(v=r==null?void 0:r.listeners)===null||v===void 0?void 0:v.retry)!==null&&E!==void 0?E:[]],reconnect:[...(N=(k=r==null?void 0:r.listeners)===null||k===void 0?void 0:k.reconnect)!==null&&N!==void 0?N:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):this.buffer!==void 0&&this.buffer.add(t))}close(t,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,n)}addEventListener(t,n,r){this._options.listeners[t].push({listener:n,options:r})}removeEventListener(t,n,r){const i=s=>s.listener!==n||s.options!==r;this._options.listeners[t]=this._options.listeners[t].filter(i)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(Ft.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(Ft.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(Ft.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(Ft.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(Ft.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(Ft.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(Ft.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(Ft.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,n){const r=this._options.listeners[t],i=[];r.forEach(({listener:s,options:l})=>{s(this,n),(l===void 0||l.once===void 0||!l.once)&&i.push({listener:s,options:l})}),this._options.listeners[t]=i}handleEvent(t,n){switch(t){case Ft.close:this.dispatchEvent(t,n),this.scheduleConnectionRetryIfNeeded();break;case Ft.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},i=new CustomEvent(Ft.reconnect,{detail:r});this.dispatchEvent(Ft.reconnect,i),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,n),this.sendBufferedData();break;case Ft.retry:this.dispatchEvent(t,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let t=this.buffer.read();t!==void 0;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const t=r=>{const i=new CustomEvent(Ft.retry,{detail:r});this.handleEvent(Ft.retry,i)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class N6{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:t})}),this}get maxRetries(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:t})}),this}get backoff(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return(t=this._options)===null||t===void 0?void 0:t.buffer}onOpen(t,n){return this.addListener(Ft.open,t,n),this}onClose(t,n){return this.addListener(Ft.close,t,n),this}onError(t,n){return this.addListener(Ft.error,t,n),this}onMessage(t,n){return this.addListener(Ft.message,t,n),this}onRetry(t,n){return this.addListener(Ft.retry,t,n),this}onReconnect(t,n){return this.addListener(Ft.reconnect,t,n),this}build(){return new T6(this._url,this._protocols,this._options)}addListener(t,n,r){var i,s,l,u,d,p,g,m,b,w,S,v,E,k,N,A,z,D,$,H,V;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(l=(s=(i=this._options)===null||i===void 0?void 0:i.listeners)===null||s===void 0?void 0:s.open)!==null&&l!==void 0?l:[],close:(p=(d=(u=this._options)===null||u===void 0?void 0:u.listeners)===null||d===void 0?void 0:d.close)!==null&&p!==void 0?p:[],error:(b=(m=(g=this._options)===null||g===void 0?void 0:g.listeners)===null||m===void 0?void 0:m.error)!==null&&b!==void 0?b:[],message:(v=(S=(w=this._options)===null||w===void 0?void 0:w.listeners)===null||S===void 0?void 0:S.message)!==null&&v!==void 0?v:[],retry:(N=(k=(E=this._options)===null||E===void 0?void 0:E.listeners)===null||k===void 0?void 0:k.retry)!==null&&N!==void 0?N:[],reconnect:(D=(z=(A=this._options)===null||A===void 0?void 0:A.listeners)===null||z===void 0?void 0:z.reconnect)!==null&&D!==void 0?D:[],[t]:[...(V=(H=($=this._options)===null||$===void 0?void 0:$.listeners)===null||H===void 0?void 0:H[t])!==null&&V!==void 0?V:[],{listener:n,options:r}]}}),this}}class A6{constructor(t,n={}){He(this,"socket");He(this,"subs",new Map);He(this,"closedByUser",!1);He(this,"idleTimer");He(this,"controller",new AbortController);He(this,"url");He(this,"opts");He(this,"ee",new EventTarget);this.url=t,this.opts=n,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(t){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...t,url:this.url})}createSocket(){const{backoff:t=new C6(1e3)}=this.opts;return new N6(this.url).withBuffer(new P6).withBackoff(t===!1?void 0:t).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const i=Et.json().pipe(Et.relayMsg()).safeParse(r.data);i.success?(this.log({level:"trace",ns:"relay.ws.message",data:i.data}),this.receive(i.data)):this.log({level:"warn",ns:"relay.ws.message",error:i.error})}).build()}receive(t){const{auth:n,verifyEvent:r=qd}=this.opts;switch(t[0]){case"EVENT":if(!r(t[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"CLOSED":this.subs.delete(t[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t})),this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${t[1]}`,{detail:t}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:t}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"AUTH":n==null||n(t[1]).then(i=>this.send(["AUTH",i])).catch(()=>{})}}send(t){switch(this.log({level:"trace",ns:"relay.ws.send",data:t}),this.wake(),t[0]){case"REQ":this.subs.set(t[1],t);break;case"CLOSE":this.subs.delete(t[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}async*req(t,n={}){const{signal:r}=n,i=crypto.randomUUID(),s=this.on(`sub:${i}`,r),l=["REQ",i,...t];this.send(l);try{for await(const u of s){if(u[0]==="EOSE"&&(yield u),u[0]==="CLOSED")break;if(u[0]==="EVENT")if(VS(t,u[2]))yield u;else continue}}finally{this.send(["CLOSE",i])}}async query(t,n){const r=new cp,i=t.reduce((s,l)=>s+qS(l),0);if(i===0)return[];for await(const s of this.req(t,n)){if(s[0]==="EOSE")break;if(s[0]==="EVENT"&&r.add(s[2]),s[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=i)break}return[...r]}async event(t,n){const r=this.once(`ok:${t.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",t])}catch(l){throw r.catch(()=>{}),l}const[,,i,s]=await r;if(!i)throw new Error(s)}async count(t,n){const r=crypto.randomUUID(),i=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...t])}catch(l){throw i.catch(()=>{}),l}const s=await i;switch(s[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,l]=s;return l}}throw new Error("Count ended -- this should never happen")}async*on(t,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const i=new vC(r),s=l=>i.push(l.detail);this.ee.addEventListener(t,s);try{for await(const l of i)yield l}finally{this.ee.removeEventListener(t,s)}}async once(t,n){for await(const r of this.on(t,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:t=3e4}=this.opts;t!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:t}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:t}),this.socket.close()},t)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(t=>{this.socket.addEventListener(Ft.close,t,{once:!0})})}async[Symbol.asyncDispose](){await this.close()}}var Ao,Hd,Jv;class Cd{constructor(t){it(this,Hd);it(this,Ao);He(this,"pubkey");He(this,"nip04",{encrypt:async(t,n)=>Sd.encrypt(ue(this,Ao),t,n),decrypt:async(t,n)=>Sd.decrypt(ue(this,Ao),t,n)});He(this,"nip44",{encrypt:async(t,n)=>{const r=yt(this,Hd,Jv).call(this,t);return Ks.v2.encrypt(n,r)},decrypt:async(t,n)=>{const r=yt(this,Hd,Jv).call(this,t);return Ks.v2.decrypt(n,r)}});Ke(this,Ao,t)}async getPublicKey(){return this.pubkey??(this.pubkey=Fo(ue(this,Ao)))}async signEvent(t){return Xr(t,ue(this,Ao))}}Ao=new WeakMap,Hd=new WeakSet,Jv=function(t){return Ks.v2.utils.getConversationKey(ue(this,Ao),t)};const wC=C.createContext(void 0);function gr(){const e=C.useContext(wC);if(!e)throw new Error("useNostr must be used within a NostrProvider");return e}class tl{constructor(t,n,r){He(this,"id");He(this,"type");He(this,"pubkey");He(this,"createdAt");He(this,"data");this.id=`${t}:${n}`,this.type=t,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(t){const n=er.decode(t);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,i=Fo(r);return new tl("nsec",i,{nsec:er.nsecEncode(r)})}static async fromBunker(t,n){const{pubkey:r,secret:i,relays:s}=new gd(t);if(!s.length)throw new Error("No relay provided");const l=Vd(),u=er.nsecEncode(l),d=new Cd(l),p=new mC({relay:n.group(s),pubkey:r,signer:d,timeout:6e4});await p.connect(i);const g=await p.getPublicKey();return new tl("bunker",g,{bunkerPubkey:r,clientNsec:u,relays:s})}static async fromExtension(){const t=globalThis.nostr;if(!t)throw new Error("Nostr extension is not available");const n=await t.getPublicKey();return new tl("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const _C=C.createContext(void 0);function R6(e,t){switch(t.type){case"login.add":{const n=e.filter(r=>r.id!==t.login.id);return t.set?[t.login,...n]:[...n,t.login]}case"login.remove":return e.filter(n=>n.id!==t.id);case"login.set":{const n=e.find(i=>i.id===t.id);if(!n)return e;const r=e.filter(i=>i.id!==t.id);return[n,...r]}case"login.clear":return[];default:return e}}function I6(e){const[t,n]=C.useReducer(R6,[],()=>{const r=localStorage.getItem(e);return r?JSON.parse(r):[]});return C.useEffect(()=>{localStorage.setItem(e,JSON.stringify(t))},[t]),[t,n]}const L6=({children:e,storageKey:t})=>{const[n,r]=I6(t),i={logins:n,addLogin:s=>r({type:"login.add",login:s}),removeLogin:s=>r({type:"login.remove",id:s}),setLogin:s=>r({type:"login.set",id:s}),clearLogins:()=>r({type:"login.clear"})};return y.jsx(_C.Provider,{value:i,children:e})};class nl{constructor(t,n,r){this.method=t,this.pubkey=n,this.signer=r}static fromNsecLogin(t){const n=er.decode(t.data.nsec);return new nl(t.type,t.pubkey,new Cd(n.data))}static fromBunkerLogin(t,n){const r=er.decode(t.data.clientNsec),i=new Cd(r.data);return new nl(t.type,t.pubkey,new mC({relay:n.group(t.data.relays),pubkey:t.pubkey,signer:i,timeout:6e4}))}static fromExtensionLogin(t){return new nl(t.type,t.pubkey,new o3)}}function Sw(){const e=C.useContext(_C);if(!e)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return e}const xC=C.createContext(void 0);function bC(){const e=C.useContext(xC);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const O6=e=>{const{children:t}=e,{config:n}=bC(),r=z0(),i=C.useRef(void 0),s=C.useRef(n.relayMetadata);return C.useEffect(()=>{s.current=n.relayMetadata,r.invalidateQueries({queryKey:["nostr"]})},[n.relayMetadata,r]),i.current||(i.current=new Ew({open(l){return new A6(l)},reqRouter(l){const u=new Map,d=s.current.relays.filter(p=>p.read).map(p=>p.url);for(const p of d)u.set(p,l);return u},eventRouter(l){const u=s.current.relays.filter(p=>p.write).map(p=>p.url);return[...new Set(u)]}})),y.jsx(wC.Provider,{value:{nostr:i.current},children:t})};function Qp(e){const{nostr:t}=gr();return _i({queryKey:["author",e??""],queryFn:async({signal:n})=>{if(!e)return{};const[r]=await t.query([{kinds:[0],authors:[e],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!r)throw new Error("No event found");try{return{metadata:Et.json().pipe(Et.metadata()).parse(r.content),event:r}}catch{return{event:r}}},staleTime:5*60*1e3,retry:3})}function pl(){const{nostr:e}=gr(),{logins:t}=Sw(),n=C.useCallback(l=>{switch(l.type){case"nsec":return nl.fromNsecLogin(l);case"bunker":return nl.fromBunkerLogin(l,e);case"extension":return nl.fromExtensionLogin(l);default:throw new Error(`Unsupported login type: ${l.type}`)}},[e]),r=C.useMemo(()=>{const l=[];for(const u of t)try{const d=n(u);l.push(d)}catch(d){console.warn("Skipped invalid login",u.id,d)}return l},[t,n]),i=r[0],s=Qp(i==null?void 0:i.pubkey);return{user:i,users:r,...s.data}}function j6(){const{nostr:e}=gr(),{user:t}=pl(),{config:n,updateConfig:r}=bC();return C.useEffect(()=>{if(!t)return;(async()=>{try{const s=await e.query([{kinds:[10002],authors:[t.pubkey],limit:1}],{signal:AbortSignal.timeout(5e3)});if(s.length>0){const l=s[0];if(l.created_at>n.relayMetadata.updatedAt){const u=l.tags.filter(([d])=>d==="r").map(([d,p,g])=>({url:p,read:!g||g==="read",write:!g||g==="write"}));u.length>0&&(console.log("Syncing relay list from Nostr:",u),r(d=>({...d,relayMetadata:{relays:u,updatedAt:l.created_at}})))}}}catch(s){console.error("Failed to sync relays from Nostr:",s)}})()},[t,n.relayMetadata.updatedAt,e,r]),null}const M6=1,z6=1e6;let Sy=0;function D6(){return Sy=(Sy+1)%Number.MAX_SAFE_INTEGER,Sy.toString()}const ky=new Map,P1=e=>{if(ky.has(e))return;const t=setTimeout(()=>{ky.delete(e),wd({type:"REMOVE_TOAST",toastId:e})},z6);ky.set(e,t)},B6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,M6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?P1(n):e.toasts.forEach(r=>{P1(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Kh=[];let Gh={toasts:[]};function wd(e){Gh=B6(Gh,e),Kh.forEach(t=>{t(Gh)})}function mc({...e}){const t=D6(),n=i=>wd({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>wd({type:"DISMISS_TOAST",toastId:t});return wd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Kd(){const[e,t]=C.useState(Gh);return C.useEffect(()=>(Kh.push(t),()=>{const n=Kh.indexOf(t);n>-1&&Kh.splice(n,1)}),[e]),{...e,toast:mc,dismiss:n=>wd({type:"DISMISS_TOAST",toastId:n})}}var ml=E2();const F6=Ip(ml);function Ue(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function T1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xp(...e){return t=>{let n=!1;const r=e.map(i=>{const s=T1(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():T1(e[i],null)}}}}function mt(...e){return C.useCallback(Xp(...e),e)}function U6(e,t){const n=C.createContext(t),r=s=>{const{children:l,...u}=s,d=C.useMemo(()=>u,Object.values(u));return y.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function i(s){const l=C.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function $n(e,t=[]){let n=[];function r(s,l){const u=C.createContext(l),d=n.length;n=[...n,l];const p=m=>{var k;const{scope:b,children:w,...S}=m,v=((k=b==null?void 0:b[e])==null?void 0:k[d])||u,E=C.useMemo(()=>S,Object.values(S));return y.jsx(v.Provider,{value:E,children:w})};p.displayName=s+"Provider";function g(m,b){var v;const w=((v=b==null?void 0:b[e])==null?void 0:v[d])||u,S=C.useContext(w);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[p,g]}const i=()=>{const s=n.map(l=>C.createContext(l));return function(u){const d=(u==null?void 0:u[e])||s;return C.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[r,$6(i,...t)]}function $6(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=r.reduce((u,{useScope:d,scopeName:p})=>{const m=d(s)[`__scope${p}`];return{...u,...m}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function ll(e){const t=H6(e),n=C.forwardRef((r,i)=>{const{children:s,...l}=r,u=C.Children.toArray(s),d=u.find(V6);if(d){const p=d.props.children,g=u.map(m=>m===d?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:m);return y.jsx(t,{...l,ref:i,children:C.isValidElement(p)?C.cloneElement(p,void 0,g):null})}return y.jsx(t,{...l,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var Z6=ll("Slot");function H6(e){const t=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const l=K6(i),u=q6(s,i.props);return i.type!==C.Fragment&&(u.ref=r?Xp(r,l):l),C.cloneElement(i,u)}return C.Children.count(i)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EC=Symbol("radix.slottable");function W6(e){const t=({children:n})=>y.jsx(y.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=EC,t}function V6(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EC}function q6(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...u)=>{s(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function K6(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Gd(e){const t=e+"CollectionProvider",[n,r]=$n(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:E,children:k}=v,N=yi.useRef(null),A=yi.useRef(new Map).current;return y.jsx(i,{scope:E,itemMap:A,collectionRef:N,children:k})};l.displayName=t;const u=e+"CollectionSlot",d=ll(u),p=yi.forwardRef((v,E)=>{const{scope:k,children:N}=v,A=s(u,k),z=mt(E,A.collectionRef);return y.jsx(d,{ref:z,children:N})});p.displayName=u;const g=e+"CollectionItemSlot",m="data-radix-collection-item",b=ll(g),w=yi.forwardRef((v,E)=>{const{scope:k,children:N,...A}=v,z=yi.useRef(null),D=mt(E,z),$=s(g,k);return yi.useEffect(()=>($.itemMap.set(z,{ref:z,...A}),()=>void $.itemMap.delete(z))),y.jsx(b,{[m]:"",ref:D,children:N})});w.displayName=g;function S(v){const E=s(e+"CollectionConsumer",v);return yi.useCallback(()=>{const N=E.collectionRef.current;if(!N)return[];const A=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort(($,H)=>A.indexOf($.ref.current)-A.indexOf(H.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:p,ItemSlot:w},S,r]}var G6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=G6.reduce((e,t)=>{const n=ll(`Primitive.${t}`),r=C.forwardRef((i,s)=>{const{asChild:l,...u}=i,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...u,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function kw(e,t){e&&ml.flushSync(()=>e.dispatchEvent(t))}function sn(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Y6(e,t=globalThis==null?void 0:globalThis.document){const n=sn(e);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var J6="DismissableLayer",Qv="dismissableLayer.update",Q6="dismissableLayer.pointerDownOutside",X6="dismissableLayer.focusOutside",N1,SC=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xc=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:u,...d}=e,p=C.useContext(SC),[g,m]=C.useState(null),b=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=C.useState({}),S=mt(t,H=>m(H)),v=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(E),N=g?v.indexOf(g):-1,A=p.layersWithOutsidePointerEventsDisabled.size>0,z=N>=k,D=tB(H=>{const V=H.target,F=[...p.branches].some(W=>W.contains(V));!z||F||(i==null||i(H),l==null||l(H),H.defaultPrevented||u==null||u())},b),$=nB(H=>{const V=H.target;[...p.branches].some(W=>W.contains(V))||(s==null||s(H),l==null||l(H),H.defaultPrevented||u==null||u())},b);return Y6(H=>{N===p.layers.size-1&&(r==null||r(H),!H.defaultPrevented&&u&&(H.preventDefault(),u()))},b),C.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(N1=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),A1(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=N1)}},[g,b,n,p]),C.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),A1())},[g,p]),C.useEffect(()=>{const H=()=>w({});return document.addEventListener(Qv,H),()=>document.removeEventListener(Qv,H)},[]),y.jsx(Ye.div,{...d,ref:S,style:{pointerEvents:A?z?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,$.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,D.onPointerDownCapture)})});Xc.displayName=J6;var eB="DismissableLayerBranch",kC=C.forwardRef((e,t)=>{const n=C.useContext(SC),r=C.useRef(null),i=mt(t,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),y.jsx(Ye.div,{...e,ref:i})});kC.displayName=eB;function tB(e,t=globalThis==null?void 0:globalThis.document){const n=sn(e),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let d=function(){CC(Q6,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function nB(e,t=globalThis==null?void 0:globalThis.document){const n=sn(e),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&CC(X6,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function A1(){const e=new CustomEvent(Qv);document.dispatchEvent(e)}function CC(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?kw(i,s):i.dispatchEvent(s)}var rB=Xc,iB=kC,cn=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},oB="Portal",Yd=C.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,s]=C.useState(!1);cn(()=>s(!0),[]);const l=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?F6.createPortal(y.jsx(Ye.div,{...r,ref:t}),l):null});Yd.displayName=oB;function sB(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var Zn=e=>{const{present:t,children:n}=e,r=aB(t),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=mt(r.ref,lB(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};Zn.displayName="Presence";function aB(e){const[t,n]=C.useState(),r=C.useRef(null),i=C.useRef(e),s=C.useRef("none"),l=e?"mounted":"unmounted",[u,d]=sB(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=jh(r.current);s.current=u==="mounted"?p:"none"},[u]),cn(()=>{const p=r.current,g=i.current;if(g!==e){const b=s.current,w=jh(p);e?d("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?d("UNMOUNT"):d(g&&b!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),cn(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,m=w=>{const v=jh(r.current).includes(w.animationName);if(w.target===t&&v&&(d("ANIMATION_END"),!i.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},b=w=>{w.target===t&&(s.current=jh(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:C.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function jh(e){return(e==null?void 0:e.animationName)||"none"}function lB(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cB=I0[" useInsertionEffect ".trim().toString()]||cn;function bi({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,l]=uB({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:i;{const g=C.useRef(e!==void 0);C.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const p=C.useCallback(g=>{var m;if(u){const b=dB(g)?g(e):g;b!==e&&((m=l.current)==null||m.call(l,b))}else s(g)},[u,e,s,l]);return[d,p]}function uB({defaultProp:e,onChange:t}){const[n,r]=C.useState(e),i=C.useRef(n),s=C.useRef(t);return cB(()=>{s.current=t},[t]),C.useEffect(()=>{var l;i.current!==n&&((l=s.current)==null||l.call(s,n),i.current=n)},[n,i]),[n,r,s]}function dB(e){return typeof e=="function"}var PC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fB="VisuallyHidden",em=C.forwardRef((e,t)=>y.jsx(Ye.span,{...e,ref:t,style:{...PC,...e.style}}));em.displayName=fB;var hB=em,Cw="ToastProvider",[Pw,pB,mB]=Gd("Toast"),[TC,yK]=$n("Toast",[mB]),[gB,tm]=TC(Cw),NC=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:l}=e,[u,d]=C.useState(null),[p,g]=C.useState(0),m=C.useRef(!1),b=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cw}\`. Expected non-empty \`string\`.`),y.jsx(Pw.Provider,{scope:t,children:y.jsx(gB,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:p,viewport:u,onViewportChange:d,onToastAdd:C.useCallback(()=>g(w=>w+1),[]),onToastRemove:C.useCallback(()=>g(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:b,children:l})})};NC.displayName=Cw;var AC="ToastViewport",yB=["F8"],Xv="toast.viewportPause",e0="toast.viewportResume",RC=C.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=yB,label:i="Notifications ({hotkey})",...s}=e,l=tm(AC,n),u=pB(n),d=C.useRef(null),p=C.useRef(null),g=C.useRef(null),m=C.useRef(null),b=mt(t,m,l.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=l.toastCount>0;C.useEffect(()=>{const E=k=>{var A;r.length!==0&&r.every(z=>k[z]||k.code===z)&&((A=m.current)==null||A.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),C.useEffect(()=>{const E=d.current,k=m.current;if(S&&E&&k){const N=()=>{if(!l.isClosePausedRef.current){const $=new CustomEvent(Xv);k.dispatchEvent($),l.isClosePausedRef.current=!0}},A=()=>{if(l.isClosePausedRef.current){const $=new CustomEvent(e0);k.dispatchEvent($),l.isClosePausedRef.current=!1}},z=$=>{!E.contains($.relatedTarget)&&A()},D=()=>{E.contains(document.activeElement)||A()};return E.addEventListener("focusin",N),E.addEventListener("focusout",z),E.addEventListener("pointermove",N),E.addEventListener("pointerleave",D),window.addEventListener("blur",N),window.addEventListener("focus",A),()=>{E.removeEventListener("focusin",N),E.removeEventListener("focusout",z),E.removeEventListener("pointermove",N),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",N),window.removeEventListener("focus",A)}}},[S,l.isClosePausedRef]);const v=C.useCallback(({tabbingDirection:E})=>{const N=u().map(A=>{const z=A.ref.current,D=[z,...AB(z)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?N.reverse():N).flat()},[u]);return C.useEffect(()=>{const E=m.current;if(E){const k=N=>{var D,$,H;const A=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!A){const V=document.activeElement,F=N.shiftKey;if(N.target===E&&F){(D=p.current)==null||D.focus();return}const U=v({tabbingDirection:F?"backwards":"forwards"}),X=U.findIndex(O=>O===V);Cy(U.slice(X+1))?N.preventDefault():F?($=p.current)==null||$.focus():(H=g.current)==null||H.focus()}};return E.addEventListener("keydown",k),()=>E.removeEventListener("keydown",k)}},[u,v]),y.jsxs(iB,{ref:d,role:"region","aria-label":i.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&y.jsx(t0,{ref:p,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Cy(E)}}),y.jsx(Pw.Slot,{scope:n,children:y.jsx(Ye.ol,{tabIndex:-1,...s,ref:b})}),S&&y.jsx(t0,{ref:g,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Cy(E)}})]})});RC.displayName=AC;var IC="ToastFocusProxy",t0=C.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=tm(IC,n);return y.jsx(em,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var p;const u=l.relatedTarget;!((p=s.viewport)!=null&&p.contains(u))&&r()}})});t0.displayName=IC;var Jd="Toast",vB="toast.swipeStart",wB="toast.swipeMove",_B="toast.swipeCancel",xB="toast.swipeEnd",LC=C.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...l}=e,[u,d]=bi({prop:r,defaultProp:i??!0,onChange:s,caller:Jd});return y.jsx(Zn,{present:n||u,children:y.jsx(SB,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:sn(e.onPause),onResume:sn(e.onResume),onSwipeStart:Ue(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,p=>{const{x:g,y:m}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,p=>{const{x:g,y:m}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});LC.displayName=Jd;var[bB,EB]=TC(Jd,{onClose(){}}),SB=C.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:p,onSwipeStart:g,onSwipeMove:m,onSwipeCancel:b,onSwipeEnd:w,...S}=e,v=tm(Jd,n),[E,k]=C.useState(null),N=mt(t,O=>k(O)),A=C.useRef(null),z=C.useRef(null),D=i||v.duration,$=C.useRef(0),H=C.useRef(D),V=C.useRef(0),{onToastAdd:F,onToastRemove:W}=v,J=sn(()=>{var K;(E==null?void 0:E.contains(document.activeElement))&&((K=v.viewport)==null||K.focus()),l()}),U=C.useCallback(O=>{!O||O===1/0||(window.clearTimeout(V.current),$.current=new Date().getTime(),V.current=window.setTimeout(J,O))},[J]);C.useEffect(()=>{const O=v.viewport;if(O){const K=()=>{U(H.current),p==null||p()},se=()=>{const ie=new Date().getTime()-$.current;H.current=H.current-ie,window.clearTimeout(V.current),d==null||d()};return O.addEventListener(Xv,se),O.addEventListener(e0,K),()=>{O.removeEventListener(Xv,se),O.removeEventListener(e0,K)}}},[v.viewport,D,d,p,U]),C.useEffect(()=>{s&&!v.isClosePausedRef.current&&U(D)},[s,D,v.isClosePausedRef,U]),C.useEffect(()=>(F(),()=>W()),[F,W]);const X=C.useMemo(()=>E?FC(E):null,[E]);return v.viewport?y.jsxs(y.Fragment,{children:[X&&y.jsx(kB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),y.jsx(bB,{scope:n,onClose:J,children:ml.createPortal(y.jsx(Pw.ItemSlot,{scope:n,children:y.jsx(rB,{asChild:!0,onEscapeKeyDown:Ue(u,()=>{v.isFocusedToastEscapeKeyDownRef.current||J(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(Ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,O=>{O.key==="Escape"&&(u==null||u(O.nativeEvent),O.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,J()))}),onPointerDown:Ue(e.onPointerDown,O=>{O.button===0&&(A.current={x:O.clientX,y:O.clientY})}),onPointerMove:Ue(e.onPointerMove,O=>{if(!A.current)return;const K=O.clientX-A.current.x,se=O.clientY-A.current.y,ie=!!z.current,te=["left","right"].includes(v.swipeDirection),ee=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,le=te?ee(0,K):0,Z=te?0:ee(0,se),Q=O.pointerType==="touch"?10:2,ke={x:le,y:Z},_e={originalEvent:O,delta:ke};ie?(z.current=ke,Mh(wB,m,_e,{discrete:!1})):R1(ke,v.swipeDirection,Q)?(z.current=ke,Mh(vB,g,_e,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(K)>Q||Math.abs(se)>Q)&&(A.current=null)}),onPointerUp:Ue(e.onPointerUp,O=>{const K=z.current,se=O.target;if(se.hasPointerCapture(O.pointerId)&&se.releasePointerCapture(O.pointerId),z.current=null,A.current=null,K){const ie=O.currentTarget,te={originalEvent:O,delta:K};R1(K,v.swipeDirection,v.swipeThreshold)?Mh(xB,w,te,{discrete:!0}):Mh(_B,b,te,{discrete:!0}),ie.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),kB=e=>{const{__scopeToast:t,children:n,...r}=e,i=tm(Jd,t),[s,l]=C.useState(!1),[u,d]=C.useState(!1);return TB(()=>l(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),u?null:y.jsx(Yd,{asChild:!0,children:y.jsx(em,{...r,children:s&&y.jsxs(y.Fragment,{children:[i.label," ",n]})})})},CB="ToastTitle",OC=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return y.jsx(Ye.div,{...r,ref:t})});OC.displayName=CB;var PB="ToastDescription",jC=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return y.jsx(Ye.div,{...r,ref:t})});jC.displayName=PB;var MC="ToastAction",zC=C.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?y.jsx(BC,{altText:n,asChild:!0,children:y.jsx(Tw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${MC}\`. Expected non-empty \`string\`.`),null)});zC.displayName=MC;var DC="ToastClose",Tw=C.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=EB(DC,n);return y.jsx(BC,{asChild:!0,children:y.jsx(Ye.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,i.onClose)})})});Tw.displayName=DC;var BC=C.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return y.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function FC(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),NB(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...FC(r))}}),t}function Mh(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?kw(i,s):i.dispatchEvent(s)}var R1=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function TB(e=()=>{}){const t=sn(e);cn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function NB(e){return e.nodeType===e.ELEMENT_NODE}function AB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Cy(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var RB=NC,UC=RC,$C=LC,ZC=OC,HC=jC,WC=zC,VC=Tw;function qC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=qC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function KC(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=qC(e))&&(r&&(r+=" "),r+=t);return r}const I1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,L1=KC,Qd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return L1(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,l=Object.keys(i).map(p=>{const g=n==null?void 0:n[p],m=s==null?void 0:s[p];if(g===null)return null;const b=I1(g)||I1(m);return i[p][b]}),u=n&&Object.entries(n).reduce((p,g)=>{let[m,b]=g;return b===void 0||(p[m]=b),p},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:m,className:b,...w}=g;return Object.entries(w).every(S=>{let[v,E]=S;return Array.isArray(E)?E.includes({...s,...u}[v]):{...s,...u}[v]===E})?[...p,m,b]:p},[]);return L1(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},d)=>C.createElement("svg",{ref:d,...LB,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:GC("lucide",i),...u},[...l.map(([p,g])=>C.createElement(p,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=(e,t)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(OB,{ref:s,iconNode:t,className:GC(`lucide-${IB(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=Tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=Tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=Tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=Tt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Tt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=Tt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=Tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=Tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=Tt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=Tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=Tt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=Tt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=Tt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=Tt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=Tt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=Tt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=Tt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Tt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=Tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=Tt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Tt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=Tt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=Tt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=Tt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Tt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=Tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=Tt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=Tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=Tt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Tt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Aw="-",rF=e=>{const t=oF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(Aw);return u[0]===""&&u.length!==1&&u.shift(),eP(u,t)||iF(l)},getConflictingClassGroupIds:(l,u)=>{const d=n[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},eP=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?eP(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Aw);return(l=t.validators.find(({validator:u})=>u(s)))==null?void 0:l.classGroupId},j1=/^\[(.+)\]$/,iF=e=>{if(j1.test(e)){const t=j1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},oF=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return aF(Object.entries(e.classGroups),n).forEach(([s,l])=>{i0(l,r,s,t)}),r},i0=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:M1(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(sF(i)){i0(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,l])=>{i0(l,M1(t,s),n,r)})})},M1=(e,t)=>{let n=e;return t.split(Aw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sF=e=>e.isThemeGetter,aF=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([l,u])=>[t+l,u])):s);return[n,i]}):e,lF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,l)=>{n.set(s,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let l=n.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set(s,l){n.has(s)?n.set(s,l):i(s,l)}}},tP="!",cF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,l=u=>{const d=[];let p=0,g=0,m;for(let E=0;E<u.length;E++){let k=u[E];if(p===0){if(k===i&&(r||u.slice(E,E+s)===t)){d.push(u.slice(g,E)),g=E+s;continue}if(k==="/"){m=E;continue}}k==="["?p++:k==="]"&&p--}const b=d.length===0?u:u.substring(g),w=b.startsWith(tP),S=w?b.substring(1):b,v=m&&m>g?m-g:void 0;return{modifiers:d,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:v}};return n?u=>n({className:u,parseClassName:l}):l},uF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},dF=e=>({cache:lF(e.cacheSize),parseClassName:cF(e),...rF(e)}),fF=/\s+/,hF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],l=e.trim().split(fF);let u="";for(let d=l.length-1;d>=0;d-=1){const p=l[d],{modifiers:g,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:w}=n(p);let S=!!w,v=r(S?b.substring(0,w):b);if(!v){if(!S){u=p+(u.length>0?" "+u:u);continue}if(v=r(b),!v){u=p+(u.length>0?" "+u:u);continue}S=!1}const E=uF(g).join(":"),k=m?E+tP:E,N=k+v;if(s.includes(N))continue;s.push(N);const A=i(v,S);for(let z=0;z<A.length;++z){const D=A[z];s.push(k+D)}u=p+(u.length>0?" "+u:u)}return u};function pF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=nP(t))&&(r&&(r+=" "),r+=n);return r}const nP=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=nP(e[r]))&&(n&&(n+=" "),n+=t);return n};function mF(e,...t){let n,r,i,s=l;function l(d){const p=t.reduce((g,m)=>m(g),e());return n=dF(p),r=n.cache.get,i=n.cache.set,s=u,u(d)}function u(d){const p=r(d);if(p)return p;const g=hF(d,n);return i(d,g),g}return function(){return s(pF.apply(null,arguments))}}const Wt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},rP=/^\[(?:([a-z-]+):)?(.+)\]$/i,gF=/^\d+\/\d+$/,yF=new Set(["px","full","screen"]),vF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_F=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,So=e=>xc(e)||yF.has(e)||gF.test(e),As=e=>eu(e,"length",AF),xc=e=>!!e&&!Number.isNaN(Number(e)),Py=e=>eu(e,"number",xc),od=e=>!!e&&Number.isInteger(Number(e)),EF=e=>e.endsWith("%")&&xc(e.slice(0,-1)),wt=e=>rP.test(e),Rs=e=>vF.test(e),SF=new Set(["length","size","percentage"]),kF=e=>eu(e,SF,iP),CF=e=>eu(e,"position",iP),PF=new Set(["image","url"]),TF=e=>eu(e,PF,IF),NF=e=>eu(e,"",RF),sd=()=>!0,eu=(e,t,n)=>{const r=rP.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},AF=e=>wF.test(e)&&!_F.test(e),iP=()=>!1,RF=e=>xF.test(e),IF=e=>bF.test(e),LF=()=>{const e=Wt("colors"),t=Wt("spacing"),n=Wt("blur"),r=Wt("brightness"),i=Wt("borderColor"),s=Wt("borderRadius"),l=Wt("borderSpacing"),u=Wt("borderWidth"),d=Wt("contrast"),p=Wt("grayscale"),g=Wt("hueRotate"),m=Wt("invert"),b=Wt("gap"),w=Wt("gradientColorStops"),S=Wt("gradientColorStopPositions"),v=Wt("inset"),E=Wt("margin"),k=Wt("opacity"),N=Wt("padding"),A=Wt("saturate"),z=Wt("scale"),D=Wt("sepia"),$=Wt("skew"),H=Wt("space"),V=Wt("translate"),F=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",wt,t],U=()=>[wt,t],X=()=>["",So,As],O=()=>["auto",xc,wt],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",wt],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[xc,wt];return{cacheSize:500,separator:":",theme:{colors:[sd],spacing:[So,As],blur:["none","",Rs,wt],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Rs,wt],borderSpacing:U(),borderWidth:X(),contrast:Z(),grayscale:ee(),hueRotate:Z(),invert:ee(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[EF,As],inset:J(),margin:J(),opacity:Z(),padding:U(),saturate:Z(),scale:Z(),sepia:ee(),skew:Z(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",wt]}],container:["container"],columns:[{columns:[Rs]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),wt]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",od,wt]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wt]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",od,wt]}],"grid-cols":[{"grid-cols":[sd]}],"col-start-end":[{col:["auto",{span:["full",od,wt]},wt]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[sd]}],"row-start-end":[{row:["auto",{span:[od,wt]},wt]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wt]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wt,t]}],"min-w":[{"min-w":[wt,t,"min","max","fit"]}],"max-w":[{"max-w":[wt,t,"none","full","min","max","fit","prose",{screen:[Rs]},Rs]}],h:[{h:[wt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rs,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Py]}],"font-family":[{font:[sd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wt]}],"line-clamp":[{"line-clamp":["none",xc,Py]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",So,wt]}],"list-image":[{"list-image":["none",wt]}],"list-style-type":[{list:["none","disc","decimal",wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",So,As]}],"underline-offset":[{"underline-offset":["auto",So,wt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),CF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[So,wt]}],"outline-w":[{outline:[So,As]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[So,As]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rs,NF]}],"shadow-color":[{shadow:[sd]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Rs,wt]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[m]}],saturate:[{saturate:[A]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wt]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",wt]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[od,wt]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[So,As,Py]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OF=mF(LF);function qe(...e){return OF(KC(e))}const jF=RB,oP=C.forwardRef(({className:e,...t},n)=>y.jsx(UC,{ref:n,className:qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));oP.displayName=UC.displayName;const MF=Qd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sP=C.forwardRef(({className:e,variant:t,...n},r)=>y.jsx($C,{ref:r,className:qe(MF({variant:t}),e),...n}));sP.displayName=$C.displayName;const zF=C.forwardRef(({className:e,...t},n)=>y.jsx(WC,{ref:n,className:qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));zF.displayName=WC.displayName;const aP=C.forwardRef(({className:e,...t},n)=>y.jsx(VC,{ref:n,className:qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:y.jsx(XC,{className:"h-4 w-4"})}));aP.displayName=VC.displayName;const lP=C.forwardRef(({className:e,...t},n)=>y.jsx(ZC,{ref:n,className:qe("text-sm font-semibold",e),...t}));lP.displayName=ZC.displayName;const cP=C.forwardRef(({className:e,...t},n)=>y.jsx(HC,{ref:n,className:qe("text-sm opacity-90",e),...t}));cP.displayName=HC.displayName;function DF(){const{toasts:e}=Kd();return y.jsxs(jF,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return y.jsxs(sP,{...s,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(lP,{children:n}),r&&y.jsx(cP,{children:r})]}),i,y.jsx(aP,{})]},t)}),y.jsx(oP,{})]})}var BF=I0[" useId ".trim().toString()]||(()=>{}),FF=0;function Jr(e){const[t,n]=C.useState(BF());return cn(()=>{n(r=>r??String(FF++))},[e]),t?`radix-${t}`:""}const UF=["top","right","bottom","left"],ra=Math.min,Tr=Math.max,mp=Math.round,zh=Math.floor,Qi=e=>({x:e,y:e}),$F={left:"right",right:"left",bottom:"top",top:"bottom"},ZF={start:"end",end:"start"};function o0(e,t,n){return Tr(e,ra(t,n))}function Uo(e,t){return typeof e=="function"?e(t):e}function $o(e){return e.split("-")[0]}function tu(e){return e.split("-")[1]}function Rw(e){return e==="x"?"y":"x"}function Iw(e){return e==="y"?"height":"width"}function zo(e){return["top","bottom"].includes($o(e))?"y":"x"}function Lw(e){return Rw(zo(e))}function HF(e,t,n){n===void 0&&(n=!1);const r=tu(e),i=Lw(e),s=Iw(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=gp(l)),[l,gp(l)]}function WF(e){const t=gp(e);return[s0(e),t,s0(t)]}function s0(e){return e.replace(/start|end/g,t=>ZF[t])}function VF(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:l;default:return[]}}function qF(e,t,n,r){const i=tu(e);let s=VF($o(e),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(s0)))),s}function gp(e){return e.replace(/left|right|bottom|top/g,t=>$F[t])}function KF(e){return{top:0,right:0,bottom:0,left:0,...e}}function uP(e){return typeof e!="number"?KF(e):{top:e,right:e,bottom:e,left:e}}function yp(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function z1(e,t,n){let{reference:r,floating:i}=e;const s=zo(t),l=Lw(t),u=Iw(l),d=$o(t),p=s==="y",g=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,b=r[u]/2-i[u]/2;let w;switch(d){case"top":w={x:g,y:r.y-i.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:m};break;case"left":w={x:r.x-i.width,y:m};break;default:w={x:r.x,y:r.y}}switch(tu(t)){case"start":w[l]-=b*(n&&p?-1:1);break;case"end":w[l]+=b*(n&&p?-1:1);break}return w}const GF=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,u=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let p=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:m}=z1(p,r,d),b=r,w={},S=0;for(let v=0;v<u.length;v++){const{name:E,fn:k}=u[v],{x:N,y:A,data:z,reset:D}=await k({x:g,y:m,initialPlacement:r,placement:b,strategy:i,middlewareData:w,rects:p,platform:l,elements:{reference:e,floating:t}});g=N??g,m=A??m,w={...w,[E]:{...w[E],...z}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(p=D.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:g,y:m}=z1(p,b,d)),v=-1)}return{x:g,y:m,placement:b,strategy:i,middlewareData:w}};async function Pd(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:l,elements:u,strategy:d}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:b=!1,padding:w=0}=Uo(t,e),S=uP(w),E=u[b?m==="floating"?"reference":"floating":m],k=yp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:d})),N=m==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),z=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},D=yp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:A,strategy:d}):N);return{top:(k.top-D.top+S.top)/z.y,bottom:(D.bottom-k.bottom+S.bottom)/z.y,left:(k.left-D.left+S.left)/z.x,right:(D.right-k.right+S.right)/z.x}}const YF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:l,elements:u,middlewareData:d}=t,{element:p,padding:g=0}=Uo(e,t)||{};if(p==null)return{};const m=uP(g),b={x:n,y:r},w=Lw(i),S=Iw(w),v=await l.getDimensions(p),E=w==="y",k=E?"top":"left",N=E?"bottom":"right",A=E?"clientHeight":"clientWidth",z=s.reference[S]+s.reference[w]-b[w]-s.floating[S],D=b[w]-s.reference[w],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let H=$?$[A]:0;(!H||!await(l.isElement==null?void 0:l.isElement($)))&&(H=u.floating[A]||s.floating[S]);const V=z/2-D/2,F=H/2-v[S]/2-1,W=ra(m[k],F),J=ra(m[N],F),U=W,X=H-v[S]-J,O=H/2-v[S]/2+V,K=o0(U,O,X),se=!d.arrow&&tu(i)!=null&&O!==K&&s.reference[S]/2-(O<U?W:J)-v[S]/2<0,ie=se?O<U?O-U:O-X:0;return{[w]:b[w]+ie,data:{[w]:K,centerOffset:O-K-ie,...se&&{alignmentOffset:ie}},reset:se}}}),JF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:u,platform:d,elements:p}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...E}=Uo(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const k=$o(i),N=zo(u),A=$o(u)===u,z=await(d.isRTL==null?void 0:d.isRTL(p.floating)),D=b||(A||!v?[gp(u)]:WF(u)),$=S!=="none";!b&&$&&D.push(...qF(u,v,S,z));const H=[u,...D],V=await Pd(t,E),F=[];let W=((r=s.flip)==null?void 0:r.overflows)||[];if(g&&F.push(V[k]),m){const K=HF(i,l,z);F.push(V[K[0]],V[K[1]])}if(W=[...W,{placement:i,overflows:F}],!F.every(K=>K<=0)){var J,U;const K=(((J=s.flip)==null?void 0:J.index)||0)+1,se=H[K];if(se){var X;const te=m==="alignment"?N!==zo(se):!1,ee=((X=W[0])==null?void 0:X.overflows[0])>0;if(!te||ee)return{data:{index:K,overflows:W},reset:{placement:se}}}let ie=(U=W.filter(te=>te.overflows[0]<=0).sort((te,ee)=>te.overflows[1]-ee.overflows[1])[0])==null?void 0:U.placement;if(!ie)switch(w){case"bestFit":{var O;const te=(O=W.filter(ee=>{if($){const le=zo(ee.placement);return le===N||le==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(le=>le>0).reduce((le,Z)=>le+Z,0)]).sort((ee,le)=>ee[1]-le[1])[0])==null?void 0:O[0];te&&(ie=te);break}case"initialPlacement":ie=u;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function D1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function B1(e){return UF.some(t=>e[t]>=0)}const QF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Uo(e,t);switch(r){case"referenceHidden":{const s=await Pd(t,{...i,elementContext:"reference"}),l=D1(s,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:B1(l)}}}case"escaped":{const s=await Pd(t,{...i,altBoundary:!0}),l=D1(s,n.floating);return{data:{escapedOffsets:l,escaped:B1(l)}}}default:return{}}}}};async function XF(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=$o(n),u=tu(n),d=zo(n)==="y",p=["left","top"].includes(l)?-1:1,g=s&&d?-1:1,m=Uo(t,e);let{mainAxis:b,crossAxis:w,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof S=="number"&&(w=u==="end"?S*-1:S),d?{x:w*g,y:b*p}:{x:b*p,y:w*g}}const eU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:l,middlewareData:u}=t,d=await XF(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}},tU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:u={fn:E=>{let{x:k,y:N}=E;return{x:k,y:N}}},...d}=Uo(e,t),p={x:n,y:r},g=await Pd(t,d),m=zo($o(i)),b=Rw(m);let w=p[b],S=p[m];if(s){const E=b==="y"?"top":"left",k=b==="y"?"bottom":"right",N=w+g[E],A=w-g[k];w=o0(N,w,A)}if(l){const E=m==="y"?"top":"left",k=m==="y"?"bottom":"right",N=S+g[E],A=S-g[k];S=o0(N,S,A)}const v=u.fn({...t,[b]:w,[m]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[b]:s,[m]:l}}}}}},nU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:p=!0}=Uo(e,t),g={x:n,y:r},m=zo(i),b=Rw(m);let w=g[b],S=g[m];const v=Uo(u,t),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const A=b==="y"?"height":"width",z=s.reference[b]-s.floating[A]+E.mainAxis,D=s.reference[b]+s.reference[A]-E.mainAxis;w<z?w=z:w>D&&(w=D)}if(p){var k,N;const A=b==="y"?"width":"height",z=["top","left"].includes($o(i)),D=s.reference[m]-s.floating[A]+(z&&((k=l.offset)==null?void 0:k[m])||0)+(z?0:E.crossAxis),$=s.reference[m]+s.reference[A]+(z?0:((N=l.offset)==null?void 0:N[m])||0)-(z?E.crossAxis:0);S<D?S=D:S>$&&(S=$)}return{[b]:w,[m]:S}}}},rU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:l,elements:u}=t,{apply:d=()=>{},...p}=Uo(e,t),g=await Pd(t,p),m=$o(i),b=tu(i),w=zo(i)==="y",{width:S,height:v}=s.floating;let E,k;m==="top"||m==="bottom"?(E=m,k=b===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(k=m,E=b==="end"?"top":"bottom");const N=v-g.top-g.bottom,A=S-g.left-g.right,z=ra(v-g[E],N),D=ra(S-g[k],A),$=!t.middlewareData.shift;let H=z,V=D;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(V=A),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(H=N),$&&!b){const W=Tr(g.left,0),J=Tr(g.right,0),U=Tr(g.top,0),X=Tr(g.bottom,0);w?V=S-2*(W!==0||J!==0?W+J:Tr(g.left,g.right)):H=v-2*(U!==0||X!==0?U+X:Tr(g.top,g.bottom))}await d({...t,availableWidth:V,availableHeight:H});const F=await l.getDimensions(u.floating);return S!==F.width||v!==F.height?{reset:{rects:!0}}:{}}}};function rm(){return typeof window<"u"}function nu(e){return dP(e)?(e.nodeName||"").toLowerCase():"#document"}function Ar(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function eo(e){var t;return(t=(dP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dP(e){return rm()?e instanceof Node||e instanceof Ar(e).Node:!1}function Ei(e){return rm()?e instanceof Element||e instanceof Ar(e).Element:!1}function Xi(e){return rm()?e instanceof HTMLElement||e instanceof Ar(e).HTMLElement:!1}function F1(e){return!rm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ar(e).ShadowRoot}function Xd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Si(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function iU(e){return["table","td","th"].includes(nu(e))}function im(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ow(e){const t=jw(),n=Ei(e)?Si(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function oU(e){let t=ia(e);for(;Xi(t)&&!Wc(t);){if(Ow(t))return t;if(im(t))return null;t=ia(t)}return null}function jw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wc(e){return["html","body","#document"].includes(nu(e))}function Si(e){return Ar(e).getComputedStyle(e)}function om(e){return Ei(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ia(e){if(nu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||F1(e)&&e.host||eo(e);return F1(t)?t.host:t}function fP(e){const t=ia(e);return Wc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xi(t)&&Xd(t)?t:fP(t)}function Td(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=fP(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),l=Ar(i);if(s){const u=a0(l);return t.concat(l,l.visualViewport||[],Xd(i)?i:[],u&&n?Td(u):[])}return t.concat(i,Td(i,[],n))}function a0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hP(e){const t=Si(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Xi(e),s=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=mp(n)!==s||mp(r)!==l;return u&&(n=s,r=l),{width:n,height:r,$:u}}function Mw(e){return Ei(e)?e:e.contextElement}function bc(e){const t=Mw(e);if(!Xi(t))return Qi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=hP(t);let l=(s?mp(n.width):n.width)/r,u=(s?mp(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const sU=Qi(0);function pP(e){const t=Ar(e);return!jw()||!t.visualViewport?sU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function aU(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ar(e)?!1:t}function cl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Mw(e);let l=Qi(1);t&&(r?Ei(r)&&(l=bc(r)):l=bc(e));const u=aU(s,n,r)?pP(s):Qi(0);let d=(i.left+u.x)/l.x,p=(i.top+u.y)/l.y,g=i.width/l.x,m=i.height/l.y;if(s){const b=Ar(s),w=r&&Ei(r)?Ar(r):r;let S=b,v=a0(S);for(;v&&r&&w!==S;){const E=bc(v),k=v.getBoundingClientRect(),N=Si(v),A=k.left+(v.clientLeft+parseFloat(N.paddingLeft))*E.x,z=k.top+(v.clientTop+parseFloat(N.paddingTop))*E.y;d*=E.x,p*=E.y,g*=E.x,m*=E.y,d+=A,p+=z,S=Ar(v),v=a0(S)}}return yp({width:g,height:m,x:d,y:p})}function zw(e,t){const n=om(e).scrollLeft;return t?t.left+n:cl(eo(e)).left+n}function mP(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:zw(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function lU(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",l=eo(r),u=t?im(t.floating):!1;if(r===l||u&&s)return n;let d={scrollLeft:0,scrollTop:0},p=Qi(1);const g=Qi(0),m=Xi(r);if((m||!m&&!s)&&((nu(r)!=="body"||Xd(l))&&(d=om(r)),Xi(r))){const w=cl(r);p=bc(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const b=l&&!m&&!s?mP(l,d,!0):Qi(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-d.scrollLeft*p.x+g.x+b.x,y:n.y*p.y-d.scrollTop*p.y+g.y+b.y}}function cU(e){return Array.from(e.getClientRects())}function uU(e){const t=eo(e),n=om(e),r=e.ownerDocument.body,i=Tr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Tr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+zw(e);const u=-n.scrollTop;return Si(r).direction==="rtl"&&(l+=Tr(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:u}}function dU(e,t){const n=Ar(e),r=eo(e),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,u=0,d=0;if(i){s=i.width,l=i.height;const p=jw();(!p||p&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:s,height:l,x:u,y:d}}function fU(e,t){const n=cl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Xi(e)?bc(e):Qi(1),l=e.clientWidth*s.x,u=e.clientHeight*s.y,d=i*s.x,p=r*s.y;return{width:l,height:u,x:d,y:p}}function U1(e,t,n){let r;if(t==="viewport")r=dU(e,n);else if(t==="document")r=uU(eo(e));else if(Ei(t))r=fU(t,n);else{const i=pP(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return yp(r)}function gP(e,t){const n=ia(e);return n===t||!Ei(n)||Wc(n)?!1:Si(n).position==="fixed"||gP(n,t)}function hU(e,t){const n=t.get(e);if(n)return n;let r=Td(e,[],!1).filter(u=>Ei(u)&&nu(u)!=="body"),i=null;const s=Si(e).position==="fixed";let l=s?ia(e):e;for(;Ei(l)&&!Wc(l);){const u=Si(l),d=Ow(l);!d&&u.position==="fixed"&&(i=null),(s?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Xd(l)&&!d&&gP(e,l))?r=r.filter(g=>g!==l):i=u,l=ia(l)}return t.set(e,r),r}function pU(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?im(t)?[]:hU(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((p,g)=>{const m=U1(t,g,i);return p.top=Tr(m.top,p.top),p.right=ra(m.right,p.right),p.bottom=ra(m.bottom,p.bottom),p.left=Tr(m.left,p.left),p},U1(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function mU(e){const{width:t,height:n}=hP(e);return{width:t,height:n}}function gU(e,t,n){const r=Xi(t),i=eo(t),s=n==="fixed",l=cl(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const d=Qi(0);function p(){d.x=zw(i)}if(r||!r&&!s)if((nu(t)!=="body"||Xd(i))&&(u=om(t)),r){const w=cl(t,!0,s,t);d.x=w.x+t.clientLeft,d.y=w.y+t.clientTop}else i&&p();s&&!r&&i&&p();const g=i&&!r&&!s?mP(i,u):Qi(0),m=l.left+u.scrollLeft-d.x-g.x,b=l.top+u.scrollTop-d.y-g.y;return{x:m,y:b,width:l.width,height:l.height}}function Ty(e){return Si(e).position==="static"}function $1(e,t){if(!Xi(e)||Si(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return eo(e)===n&&(n=n.ownerDocument.body),n}function yP(e,t){const n=Ar(e);if(im(e))return n;if(!Xi(e)){let i=ia(e);for(;i&&!Wc(i);){if(Ei(i)&&!Ty(i))return i;i=ia(i)}return n}let r=$1(e,t);for(;r&&iU(r)&&Ty(r);)r=$1(r,t);return r&&Wc(r)&&Ty(r)&&!Ow(r)?n:r||oU(e)||n}const yU=async function(e){const t=this.getOffsetParent||yP,n=this.getDimensions,r=await n(e.floating);return{reference:gU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vU(e){return Si(e).direction==="rtl"}const wU={convertOffsetParentRelativeRectToViewportRelativeRect:lU,getDocumentElement:eo,getClippingRect:pU,getOffsetParent:yP,getElementRects:yU,getClientRects:cU,getDimensions:mU,getScale:bc,isElement:Ei,isRTL:vU};function vP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _U(e,t){let n=null,r;const i=eo(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const p=e.getBoundingClientRect(),{left:g,top:m,width:b,height:w}=p;if(u||t(),!b||!w)return;const S=zh(m),v=zh(i.clientWidth-(g+b)),E=zh(i.clientHeight-(m+w)),k=zh(g),A={rootMargin:-S+"px "+-v+"px "+-E+"px "+-k+"px",threshold:Tr(0,ra(1,d))||1};let z=!0;function D($){const H=$[0].intersectionRatio;if(H!==d){if(!z)return l();H?l(!1,H):r=setTimeout(()=>{l(!1,1e-7)},1e3)}H===1&&!vP(p,e.getBoundingClientRect())&&l(),z=!1}try{n=new IntersectionObserver(D,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,A)}n.observe(e)}return l(!0),s}function xU(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=Mw(e),g=i||s?[...p?Td(p):[],...Td(t)]:[];g.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),s&&k.addEventListener("resize",n)});const m=p&&u?_U(p,n):null;let b=-1,w=null;l&&(w=new ResizeObserver(k=>{let[N]=k;N&&N.target===p&&w&&(w.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var A;(A=w)==null||A.observe(t)})),n()}),p&&!d&&w.observe(p),w.observe(t));let S,v=d?cl(e):null;d&&E();function E(){const k=cl(e);v&&!vP(v,k)&&n(),v=k,S=requestAnimationFrame(E)}return n(),()=>{var k;g.forEach(N=>{i&&N.removeEventListener("scroll",n),s&&N.removeEventListener("resize",n)}),m==null||m(),(k=w)==null||k.disconnect(),w=null,d&&cancelAnimationFrame(S)}}const bU=eU,EU=tU,SU=JF,kU=rU,CU=QF,Z1=YF,PU=nU,TU=(e,t,n)=>{const r=new Map,i={platform:wU,...n},s={...i.platform,_c:r};return GF(e,t,{...i,platform:s})};var Yh=typeof document<"u"?C.useLayoutEffect:C.useEffect;function vp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!vp(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!vp(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function wP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function H1(e,t){const n=wP(e);return Math.round(t*n)/n}function Ny(e){const t=C.useRef(e);return Yh(()=>{t.current=e}),t}function NU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:d,open:p}=e,[g,m]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,w]=C.useState(r);vp(b,r)||w(r);const[S,v]=C.useState(null),[E,k]=C.useState(null),N=C.useCallback(te=>{te!==$.current&&($.current=te,v(te))},[]),A=C.useCallback(te=>{te!==H.current&&(H.current=te,k(te))},[]),z=s||S,D=l||E,$=C.useRef(null),H=C.useRef(null),V=C.useRef(g),F=d!=null,W=Ny(d),J=Ny(i),U=Ny(p),X=C.useCallback(()=>{if(!$.current||!H.current)return;const te={placement:t,strategy:n,middleware:b};J.current&&(te.platform=J.current),TU($.current,H.current,te).then(ee=>{const le={...ee,isPositioned:U.current!==!1};O.current&&!vp(V.current,le)&&(V.current=le,ml.flushSync(()=>{m(le)}))})},[b,t,n,J,U]);Yh(()=>{p===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,m(te=>({...te,isPositioned:!1})))},[p]);const O=C.useRef(!1);Yh(()=>(O.current=!0,()=>{O.current=!1}),[]),Yh(()=>{if(z&&($.current=z),D&&(H.current=D),z&&D){if(W.current)return W.current(z,D,X);X()}},[z,D,X,W,F]);const K=C.useMemo(()=>({reference:$,floating:H,setReference:N,setFloating:A}),[N,A]),se=C.useMemo(()=>({reference:z,floating:D}),[z,D]),ie=C.useMemo(()=>{const te={position:n,left:0,top:0};if(!se.floating)return te;const ee=H1(se.floating,g.x),le=H1(se.floating,g.y);return u?{...te,transform:"translate("+ee+"px, "+le+"px)",...wP(se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:le}},[n,u,se.floating,g.x,g.y]);return C.useMemo(()=>({...g,update:X,refs:K,elements:se,floatingStyles:ie}),[g,X,K,se,ie])}const AU=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Z1({element:r.current,padding:i}).fn(n):{}:r?Z1({element:r,padding:i}).fn(n):{}}}},RU=(e,t)=>({...bU(e),options:[e,t]}),IU=(e,t)=>({...EU(e),options:[e,t]}),LU=(e,t)=>({...PU(e),options:[e,t]}),OU=(e,t)=>({...SU(e),options:[e,t]}),jU=(e,t)=>({...kU(e),options:[e,t]}),MU=(e,t)=>({...CU(e),options:[e,t]}),zU=(e,t)=>({...AU(e),options:[e,t]});var DU="Arrow",_P=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return y.jsx(Ye.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});_P.displayName=DU;var BU=_P;function Dw(e){const[t,n]=C.useState(void 0);return cn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,u;if("borderBoxSize"in s){const d=s.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,u=p.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Bw="Popper",[xP,ru]=$n(Bw),[FU,bP]=xP(Bw),EP=e=>{const{__scopePopper:t,children:n}=e,[r,i]=C.useState(null);return y.jsx(FU,{scope:t,anchor:r,onAnchorChange:i,children:n})};EP.displayName=Bw;var SP="PopperAnchor",kP=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=bP(SP,n),l=C.useRef(null),u=mt(t,l);return C.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:y.jsx(Ye.div,{...i,ref:u})});kP.displayName=SP;var Fw="PopperContent",[UU,$U]=xP(Fw),CP=C.forwardRef((e,t)=>{var Te,Ne,je,Ze,Qe,ot;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:b=!1,updatePositionStrategy:w="optimized",onPlaced:S,...v}=e,E=bP(Fw,n),[k,N]=C.useState(null),A=mt(t,at=>N(at)),[z,D]=C.useState(null),$=Dw(z),H=($==null?void 0:$.width)??0,V=($==null?void 0:$.height)??0,F=r+(s!=="center"?"-"+s:""),W=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},J=Array.isArray(p)?p:[p],U=J.length>0,X={padding:W,boundary:J.filter(HU),altBoundary:U},{refs:O,floatingStyles:K,placement:se,isPositioned:ie,middlewareData:te}=NU({strategy:"fixed",placement:F,whileElementsMounted:(...at)=>xU(...at,{animationFrame:w==="always"}),elements:{reference:E.anchor},middleware:[RU({mainAxis:i+V,alignmentAxis:l}),d&&IU({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?LU():void 0,...X}),d&&OU({...X}),jU({...X,apply:({elements:at,rects:B,availableWidth:Pe,availableHeight:be})=>{const{width:oe,height:re}=B.reference,pe=at.floating.style;pe.setProperty("--radix-popper-available-width",`${Pe}px`),pe.setProperty("--radix-popper-available-height",`${be}px`),pe.setProperty("--radix-popper-anchor-width",`${oe}px`),pe.setProperty("--radix-popper-anchor-height",`${re}px`)}}),z&&zU({element:z,padding:u}),WU({arrowWidth:H,arrowHeight:V}),b&&MU({strategy:"referenceHidden",...X})]}),[ee,le]=NP(se),Z=sn(S);cn(()=>{ie&&(Z==null||Z())},[ie,Z]);const Q=(Te=te.arrow)==null?void 0:Te.x,ke=(Ne=te.arrow)==null?void 0:Ne.y,_e=((je=te.arrow)==null?void 0:je.centerOffset)!==0,[ve,Ie]=C.useState();return cn(()=>{k&&Ie(window.getComputedStyle(k).zIndex)},[k]),y.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:ie?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(Ze=te.transformOrigin)==null?void 0:Ze.x,(Qe=te.transformOrigin)==null?void 0:Qe.y].join(" "),...((ot=te.hide)==null?void 0:ot.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:y.jsx(UU,{scope:n,placedSide:ee,onArrowChange:D,arrowX:Q,arrowY:ke,shouldHideArrow:_e,children:y.jsx(Ye.div,{"data-side":ee,"data-align":le,...v,ref:A,style:{...v.style,animation:ie?void 0:"none"}})})})});CP.displayName=Fw;var PP="PopperArrow",ZU={top:"bottom",right:"left",bottom:"top",left:"right"},TP=C.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=$U(PP,r),l=ZU[s.placedSide];return y.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:y.jsx(BU,{...i,ref:n,style:{...i.style,display:"block"}})})});TP.displayName=PP;function HU(e){return e!==null}var WU=e=>({name:"transformOrigin",options:e,fn(t){var E,k,N;const{placement:n,rects:r,middlewareData:i}=t,l=((E=i.arrow)==null?void 0:E.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[p,g]=NP(n),m={start:"0%",center:"50%",end:"100%"}[g],b=(((k=i.arrow)==null?void 0:k.x)??0)+u/2,w=(((N=i.arrow)==null?void 0:N.y)??0)+d/2;let S="",v="";return p==="bottom"?(S=l?m:`${b}px`,v=`${-d}px`):p==="top"?(S=l?m:`${b}px`,v=`${r.floating.height+d}px`):p==="right"?(S=`${-d}px`,v=l?m:`${w}px`):p==="left"&&(S=`${r.floating.width+d}px`,v=l?m:`${w}px`),{data:{x:S,y:v}}}});function NP(e){const[t,n="center"]=e.split("-");return[t,n]}var Uw=EP,$w=kP,Zw=CP,Hw=TP,[sm,vK]=$n("Tooltip",[ru]),am=ru(),AP="TooltipProvider",VU=700,l0="tooltip.open",[qU,Ww]=sm(AP),RP=e=>{const{__scopeTooltip:t,delayDuration:n=VU,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,l=C.useRef(!0),u=C.useRef(!1),d=C.useRef(0);return C.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),y.jsx(qU,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:C.useCallback(p=>{u.current=p},[]),disableHoverableContent:i,children:s})};RP.displayName=AP;var Nd="Tooltip",[KU,lm]=sm(Nd),IP=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:l,delayDuration:u}=e,d=Ww(Nd,e.__scopeTooltip),p=am(t),[g,m]=C.useState(null),b=Jr(),w=C.useRef(0),S=l??d.disableHoverableContent,v=u??d.delayDuration,E=C.useRef(!1),[k,N]=bi({prop:r,defaultProp:i??!1,onChange:H=>{H?(d.onOpen(),document.dispatchEvent(new CustomEvent(l0))):d.onClose(),s==null||s(H)},caller:Nd}),A=C.useMemo(()=>k?E.current?"delayed-open":"instant-open":"closed",[k]),z=C.useCallback(()=>{window.clearTimeout(w.current),w.current=0,E.current=!1,N(!0)},[N]),D=C.useCallback(()=>{window.clearTimeout(w.current),w.current=0,N(!1)},[N]),$=C.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{E.current=!0,N(!0),w.current=0},v)},[v,N]);return C.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),y.jsx(Uw,{...p,children:y.jsx(KU,{scope:t,contentId:b,open:k,stateAttribute:A,trigger:g,onTriggerChange:m,onTriggerEnter:C.useCallback(()=>{d.isOpenDelayedRef.current?$():z()},[d.isOpenDelayedRef,$,z]),onTriggerLeave:C.useCallback(()=>{S?D():(window.clearTimeout(w.current),w.current=0)},[D,S]),onOpen:z,onClose:D,disableHoverableContent:S,children:n})})};IP.displayName=Nd;var c0="TooltipTrigger",LP=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=lm(c0,n),s=Ww(c0,n),l=am(n),u=C.useRef(null),d=mt(t,u,i.onTriggerChange),p=C.useRef(!1),g=C.useRef(!1),m=C.useCallback(()=>p.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),y.jsx($w,{asChild:!0,...l,children:y.jsx(Ye.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:Ue(e.onPointerMove,b=>{b.pointerType!=="touch"&&!g.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ue(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:Ue(e.onBlur,i.onClose),onClick:Ue(e.onClick,i.onClose)})})});LP.displayName=c0;var GU="TooltipPortal",[wK,YU]=sm(GU,{forceMount:void 0}),Vc="TooltipContent",OP=C.forwardRef((e,t)=>{const n=YU(Vc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,l=lm(Vc,e.__scopeTooltip);return y.jsx(Zn,{present:r||l.open,children:l.disableHoverableContent?y.jsx(jP,{side:i,...s,ref:t}):y.jsx(JU,{side:i,...s,ref:t})})}),JU=C.forwardRef((e,t)=>{const n=lm(Vc,e.__scopeTooltip),r=Ww(Vc,e.__scopeTooltip),i=C.useRef(null),s=mt(t,i),[l,u]=C.useState(null),{trigger:d,onClose:p}=n,g=i.current,{onPointerInTransitChange:m}=r,b=C.useCallback(()=>{u(null),m(!1)},[m]),w=C.useCallback((S,v)=>{const E=S.currentTarget,k={x:S.clientX,y:S.clientY},N=n$(k,E.getBoundingClientRect()),A=r$(k,N),z=i$(v.getBoundingClientRect()),D=s$([...A,...z]);u(D),m(!0)},[m]);return C.useEffect(()=>()=>b(),[b]),C.useEffect(()=>{if(d&&g){const S=E=>w(E,g),v=E=>w(E,d);return d.addEventListener("pointerleave",S),g.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",S),g.removeEventListener("pointerleave",v)}}},[d,g,w,b]),C.useEffect(()=>{if(l){const S=v=>{const E=v.target,k={x:v.clientX,y:v.clientY},N=(d==null?void 0:d.contains(E))||(g==null?void 0:g.contains(E)),A=!o$(k,l);N?b():A&&(b(),p())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[d,g,l,p,b]),y.jsx(jP,{...e,ref:s})}),[QU,XU]=sm(Nd,{isInside:!1}),e$=W6("TooltipContent"),jP=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:l,...u}=e,d=lm(Vc,n),p=am(n),{onClose:g}=d;return C.useEffect(()=>(document.addEventListener(l0,g),()=>document.removeEventListener(l0,g)),[g]),C.useEffect(()=>{if(d.trigger){const m=b=>{const w=b.target;w!=null&&w.contains(d.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,g]),y.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:y.jsxs(Zw,{"data-state":d.stateAttribute,...p,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(e$,{children:r}),y.jsx(QU,{scope:n,isInside:!0,children:y.jsx(hB,{id:d.contentId,role:"tooltip",children:i||r})})]})})});OP.displayName=Vc;var MP="TooltipArrow",t$=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=am(n);return XU(MP,n).isInside?null:y.jsx(Hw,{...i,...r,ref:t})});t$.displayName=MP;function n$(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function r$(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function i$(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function o$(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s],d=t[l],p=u.x,g=u.y,m=d.x,b=d.y;g>r!=b>r&&n<(m-p)*(r-g)/(b-g)+p&&(i=!i)}return i}function s$(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),a$(t)}function a$(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],l=n[n.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var l$=RP,c$=IP,u$=LP,zP=OP;const rl=l$,Ha=c$,Wa=u$,Gs=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>y.jsx(zP,{ref:r,sideOffset:t,className:qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Gs.displayName=zP.displayName;function u0(e,t,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,i=(n==null?void 0:n.deserialize)||JSON.parse,[s,l]=C.useState(()=>{try{const d=localStorage.getItem(e);return d?i(d):t}catch(d){return console.warn(`Failed to load ${e} from localStorage:`,d),t}}),u=d=>{try{const p=d instanceof Function?d(s):d;l(p),localStorage.setItem(e,r(p))}catch(p){console.warn(`Failed to save ${e} to localStorage:`,p)}};return C.useEffect(()=>{const d=p=>{if(p.key===e&&p.newValue!==null)try{l(i(p.newValue))}catch(g){console.warn(`Failed to sync ${e} from localStorage:`,g)}};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[e,i]),[s,u]}const d$=Mo({relays:uC(Mo({url:dd(),read:el(),write:el()})),updatedAt:Po()}),f$=Mo({theme:fC(["dark","light","system"]),relayMetadata:d$});function h$(e){const{children:t,storageKey:n,defaultConfig:r}=e,[i,s]=u0(n,{},{serialize:JSON.stringify,deserialize:p=>{const g=JSON.parse(p);return f$.partial().parse(g)}}),l=p=>{s(p)},u={...r,...i},d={config:u,updateConfig:l};return p$(u.theme),y.jsx(xC.Provider,{value:d,children:t})}function p$(e){C.useEffect(()=>{const t=window.document.documentElement;if(t.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(n);return}t.classList.add(e)},[e]),C.useEffect(()=>{if(e!=="system")return;const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{const r=window.document.documentElement;r.classList.remove("light","dark");const i=t.matches?"dark":"light";r.classList.add(i)};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[e])}var W1,Ay,m$=(W1=function(e,t){function n(F){if(!Number.isSafeInteger(F))throw new Error(`Wrong integer: ${F}`)}function r(...F){const W=(J,U)=>X=>J(U(X));return{encode:Array.from(F).reverse().reduce((J,U)=>J?W(J,U.encode):U.encode,void 0),decode:F.reduce((J,U)=>J?W(J,U.decode):U.decode,void 0)}}function i(F){return{encode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return W.map(J=>{if(n(J),J<0||J>=F.length)throw new Error(`Digit index outside alphabet: ${J} (alphabet: ${F.length})`);return F[J]})},decode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="string")throw new Error("alphabet.decode input should be array of strings");return W.map(J=>{if(typeof J!="string")throw new Error(`alphabet.decode: not string element=${J}`);const U=F.indexOf(J);if(U===-1)throw new Error(`Unknown letter: "${J}". Allowed: ${F}`);return U})}}}function s(F=""){if(typeof F!="string")throw new Error("join separator should be string");return{encode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="string")throw new Error("join.encode input should be array of strings");for(let J of W)if(typeof J!="string")throw new Error(`join.encode: non-string input=${J}`);return W.join(F)},decode:W=>{if(typeof W!="string")throw new Error("join.decode input should be string");return W.split(F)}}}function l(F,W="="){if(n(F),typeof W!="string")throw new Error("padding chr should be string");return{encode(J){if(!Array.isArray(J)||J.length&&typeof J[0]!="string")throw new Error("padding.encode input should be array of strings");for(let U of J)if(typeof U!="string")throw new Error(`padding.encode: non-string input=${U}`);for(;J.length*F%8;)J.push(W);return J},decode(J){if(!Array.isArray(J)||J.length&&typeof J[0]!="string")throw new Error("padding.encode input should be array of strings");for(let X of J)if(typeof X!="string")throw new Error(`padding.decode: non-string input=${X}`);let U=J.length;if(U*F%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;U>0&&J[U-1]===W;U--)if(!((U-1)*F%8))throw new Error("Invalid padding: string has too much padding");return J.slice(0,U)}}}function u(F){if(typeof F!="function")throw new Error("normalize fn should be function");return{encode:W=>W,decode:W=>F(W)}}function d(F,W,J){if(W<2)throw new Error(`convertRadix: wrong from=${W}, base cannot be less than 2`);if(J<2)throw new Error(`convertRadix: wrong to=${J}, base cannot be less than 2`);if(!Array.isArray(F))throw new Error("convertRadix: data should be array");if(!F.length)return[];let U=0;const X=[],O=Array.from(F);for(O.forEach(K=>{if(n(K),K<0||K>=W)throw new Error(`Wrong integer: ${K}`)});;){let K=0,se=!0;for(let ie=U;ie<O.length;ie++){const te=O[ie],ee=W*K+te;if(!Number.isSafeInteger(ee)||W*K/W!==K||ee-te!=W*K)throw new Error("convertRadix: carry overflow");if(K=ee%J,O[ie]=Math.floor(ee/J),!Number.isSafeInteger(O[ie])||O[ie]*J+K!==ee)throw new Error("convertRadix: carry overflow");se&&(O[ie]?se=!1:U=ie)}if(X.push(K),se)break}for(let K=0;K<F.length-1&&F[K]===0;K++)X.push(0);return X.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const p=(F,W)=>W?p(W,F%W):F,g=(F,W)=>F+(W-p(F,W));function m(F,W,J,U){if(!Array.isArray(F))throw new Error("convertRadix2: data should be array");if(W<=0||W>32)throw new Error(`convertRadix2: wrong from=${W}`);if(J<=0||J>32)throw new Error(`convertRadix2: wrong to=${J}`);if(g(W,J)>32)throw new Error(`convertRadix2: carry overflow from=${W} to=${J} carryBits=${g(W,J)}`);let X=0,O=0;const K=2**J-1,se=[];for(const ie of F){if(n(ie),ie>=2**W)throw new Error(`convertRadix2: invalid data word=${ie} from=${W}`);if(X=X<<W|ie,O+W>32)throw new Error(`convertRadix2: carry overflow pos=${O} from=${W}`);for(O+=W;O>=J;O-=J)se.push((X>>O-J&K)>>>0);X&=2**O-1}if(X=X<<J-O&K,!U&&O>=W)throw new Error("Excess padding");if(!U&&X)throw new Error(`Non-zero padding: ${X}`);return U&&O>0&&se.push(X>>>0),se}function b(F){return n(F),{encode:W=>{if(!(W instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return d(Array.from(W),256,F)},decode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(d(W,F,256))}}}function w(F,W=!1){if(n(F),F<=0||F>32)throw new Error("radix2: bits should be in (0..32]");if(g(8,F)>32||g(F,8)>32)throw new Error("radix2: carry overflow");return{encode:J=>{if(!(J instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return m(Array.from(J),8,F,!W)},decode:J=>{if(!Array.isArray(J)||J.length&&typeof J[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(m(J,F,8,W))}}}function S(F){if(typeof F!="function")throw new Error("unsafeWrapper fn should be function");return function(...W){try{return F.apply(null,W)}catch{}}}function v(F,W){if(n(F),typeof W!="function")throw new Error("checksum fn should be function");return{encode(J){if(!(J instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const U=W(J).slice(0,F),X=new Uint8Array(J.length+F);return X.set(J),X.set(U,J.length),X},decode(J){if(!(J instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const U=J.slice(0,-F),X=W(U).slice(0,F),O=J.slice(-F);for(let K=0;K<F;K++)if(X[K]!==O[K])throw new Error("Invalid checksum");return U}}}t.utils={alphabet:i,chain:r,checksum:v,radix:b,radix2:w,join:s,padding:l},t.base16=r(w(4),i("0123456789ABCDEF"),s("")),t.base32=r(w(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),l(5),s("")),t.base32hex=r(w(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),l(5),s("")),t.base32crockford=r(w(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s(""),u(F=>F.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=r(w(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),l(6),s("")),t.base64url=r(w(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),l(6),s(""));const E=F=>r(b(58),i(F),s(""));t.base58=E("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=E("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=E("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const k=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(F){let W="";for(let J=0;J<F.length;J+=8){const U=F.subarray(J,J+8);W+=t.base58.encode(U).padStart(k[U.length],"1")}return W},decode(F){let W=[];for(let J=0;J<F.length;J+=11){const U=F.slice(J,J+11),X=k.indexOf(U.length),O=t.base58.decode(U);for(let K=0;K<O.length-X;K++)if(O[K]!==0)throw new Error("base58xmr: wrong padding");W=W.concat(Array.from(O.slice(O.length-X)))}return Uint8Array.from(W)}},t.base58check=F=>r(v(4,W=>F(F(W))),t.base58);const N=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s("")),A=[996825010,642813549,513874426,1027748829,705979059];function z(F){const W=F>>25;let J=(33554431&F)<<5;for(let U=0;U<A.length;U++)(W>>U&1)==1&&(J^=A[U]);return J}function D(F,W,J=1){const U=F.length;let X=1;for(let O=0;O<U;O++){const K=F.charCodeAt(O);if(K<33||K>126)throw new Error(`Invalid prefix (${F})`);X=z(X)^K>>5}X=z(X);for(let O=0;O<U;O++)X=z(X)^31&F.charCodeAt(O);for(let O of W)X=z(X)^O;for(let O=0;O<6;O++)X=z(X);return X^=J,N.encode(m([X%2**30],30,5,!1))}function $(F){const W=F==="bech32"?1:734539939,J=w(5),U=J.decode,X=J.encode,O=S(U);function K(se,ie=90){if(typeof se!="string")throw new Error("bech32.decode input should be string, not "+typeof se);if(se.length<8||ie!==!1&&se.length>ie)throw new TypeError(`Wrong string length: ${se.length} (${se}). Expected (8..${ie})`);const te=se.toLowerCase();if(se!==te&&se!==se.toUpperCase())throw new Error("String must be lowercase or uppercase");const ee=(se=te).lastIndexOf("1");if(ee===0||ee===-1)throw new Error('Letter "1" must be present between prefix and data only');const le=se.slice(0,ee),Z=se.slice(ee+1);if(Z.length<6)throw new Error("Data must be at least 6 characters long");const Q=N.decode(Z).slice(0,-6),ke=D(le,Q,W);if(!Z.endsWith(ke))throw new Error(`Invalid checksum in ${se}: expected "${ke}"`);return{prefix:le,words:Q}}return{encode:function(se,ie,te=90){if(typeof se!="string")throw new Error("bech32.encode prefix should be string, not "+typeof se);if(!Array.isArray(ie)||ie.length&&typeof ie[0]!="number")throw new Error("bech32.encode words should be array of numbers, not "+typeof ie);const ee=se.length+7+ie.length;if(te!==!1&&ee>te)throw new TypeError(`Length ${ee} exceeds limit ${te}`);return`${se=se.toLowerCase()}1${N.encode(ie)}${D(se,ie,W)}`},decode:K,decodeToBytes:function(se){const{prefix:ie,words:te}=K(se,!1);return{prefix:ie,words:te,bytes:U(te)}},decodeUnsafe:S(K),fromWords:U,fromWordsUnsafe:O,toWords:X}}t.bech32=$("bech32"),t.bech32m=$("bech32m"),t.utf8={encode:F=>new TextDecoder().decode(F),decode:F=>new TextEncoder().encode(F)},t.hex=r(w(4),i("0123456789abcdef"),s(""),u(F=>{if(typeof F!="string"||F.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof F} with length ${F.length}`);return F.toLowerCase()}));const H={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},V=`Invalid encoding type. Available types: ${Object.keys(H).join(", ")}`;t.bytesToString=(F,W)=>{if(typeof F!="string"||!H.hasOwnProperty(F))throw new TypeError(V);if(!(W instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return H[F].encode(W)},t.str=t.bytesToString,t.stringToBytes=(F,W)=>{if(!H.hasOwnProperty(F))throw new TypeError(V);if(typeof W!="string")throw new TypeError("stringToBytes() expects string");return H[F].decode(W)},t.bytes=t.stringToBytes},W1(Ay={exports:{}},Ay.exports),Ay.exports);const{bech32:Zi,hex:hi,utf8:g$}=m$,V1={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},q1={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},K1={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},G1={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Y1={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},Dh=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],y$={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},v$=BigInt("2100000000000000000"),J1=BigInt(1e11),d0={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},DP={};for(let e=0,t=Object.keys(d0);e<t.length;e++){const n=t[e],r=d0[t[e]].toString();DP[r]=n}const w$={1:e=>hi.encode(Zi.fromWordsUnsafe(e)),16:e=>hi.encode(Zi.fromWordsUnsafe(e)),13:e=>g$.encode(Zi.fromWordsUnsafe(e)),19:e=>hi.encode(Zi.fromWordsUnsafe(e)),23:e=>hi.encode(Zi.fromWordsUnsafe(e)),27:e=>hi.encode(Zi.fromWordsUnsafe(e)),6:wp,24:wp,3:function(e){const t=[];let n,r,i,s,l,u=Zi.fromWordsUnsafe(e);for(;u.length>0;)n=hi.encode(u.slice(0,33)),r=hi.encode(u.slice(33,41)),i=parseInt(hi.encode(u.slice(41,45)),16),s=parseInt(hi.encode(u.slice(45,49)),16),l=parseInt(hi.encode(u.slice(49,51)),16),u=u.slice(51),t.push({pubkey:n,short_channel_id:r,fee_base_msat:i,fee_proportional_millionths:s,cltv_expiry_delta:l});return t},5:function(e){const t=e.slice().reverse().map(i=>[!!(1&i),!!(2&i),!!(4&i),!!(8&i),!!(16&i)]).reduce((i,s)=>i.concat(s),[]);for(;t.length<2*Dh.length;)t.push(!1);const n={};Dh.forEach((i,s)=>{let l;l=t[2*s]?"required":t[2*s+1]?"supported":"unsupported",n[i]=l});const r=t.slice(2*Dh.length);return n.extra_bits={start_bit:2*Dh.length,bits:r,has_required:r.reduce((i,s,l)=>l%2!=0?i||!1:i||s,!1)},n}};function _$(e){return t=>({tagCode:parseInt(e),words:Zi.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function wp(e){return e.reverse().reduce((t,n,r)=>t+n*Math.pow(32,r),0)}const x$=e=>Uint8Array.from(e.match(/.{1,2}/g).map(t=>parseInt(t,16))),b$=e=>{if(!e)return null;try{const t=function(m,b){if(typeof m!="string")throw new Error("Lightning Payment Request must be string");if(m.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const w=[],S=Zi.decode(m,Number.MAX_SAFE_INTEGER);m=m.toLowerCase();const v=S.prefix;let E=S.words,k=m.slice(v.length+1),N=E.slice(-104);E=E.slice(0,-104);let A=v.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(A&&!A[2]&&(A=v.match(/^ln(\S+)$/)),!A)throw new Error("Not a proper lightning payment request");w.push({name:"lightning_network",letters:"ln"});const z=A[1];let D;switch(z){case V1.bech32:D=V1;break;case q1.bech32:D=q1;break;case K1.bech32:D=K1;break;case G1.bech32:D=G1;break;case Y1.bech32:D=Y1}if(!D||D.bech32!==z)throw new Error("Unknown coin bech32 prefix");w.push({name:"coin_network",letters:z,value:D});const $=A[2];let H;$?(H=function(K,se){let ie,te;if(K.slice(-1).match(/^[munp]$/))ie=K.slice(-1),te=K.slice(0,-1);else{if(K.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");te=K}if(!te.match(/^\d+$/))throw new Error("Not a valid human readable amount");const ee=BigInt(te),le=ie?ee*J1/y$[ie]:ee*J1;if(ie==="p"&&ee%BigInt(10)!==BigInt(0)||le>v$)throw new Error("Amount is outside of valid range");return le.toString()}($+A[3]),w.push({name:"amount",letters:A[2]+A[3],value:H})):H=null,w.push({name:"separator",letters:"1"});const V=wp(E.slice(0,7));let F,W,J,U;for(E=E.slice(7),w.push({name:"timestamp",letters:k.slice(0,7),value:V}),k=k.slice(7);E.length>0;){const K=E[0].toString();F=DP[K]||"unknown_tag",W=w$[K]||_$(K),E=E.slice(1),J=wp(E.slice(0,2)),E=E.slice(2),U=E.slice(0,J),E=E.slice(J),w.push({name:F,tag:k[0],letters:k.slice(0,3+J),value:W(U)}),k=k.slice(3+J)}w.push({name:"signature",letters:k.slice(0,104),value:hi.encode(Zi.fromWordsUnsafe(N))}),k=k.slice(104),w.push({name:"checksum",letters:k});let X={paymentRequest:m,sections:w,get expiry(){let K=w.find(se=>se.name==="expiry");if(K)return O("timestamp")+K.value},get route_hints(){return w.filter(K=>K.name==="route_hint").map(K=>K.value)}};for(let K in d0)K!=="route_hint"&&Object.defineProperty(X,K,{get:()=>O(K)});return X;function O(K){let se=w.find(ie=>ie.name===K);return se?se.value:void 0}}(e);if(!t||!t.sections)return null;const n=t.sections.find(m=>m.name==="payment_hash");if((n==null?void 0:n.name)!=="payment_hash"||!n.value)return null;const r=n.value;let i=0;const s=t.sections.find(m=>m.name==="amount");(s==null?void 0:s.name)==="amount"&&s.value&&(i=parseInt(s.value)/1e3);const l=t.sections.find(m=>m.name==="timestamp");if((l==null?void 0:l.name)!=="timestamp"||!l.value)return null;const u=l.value;let d;const p=t.sections.find(m=>m.name==="expiry");(p==null?void 0:p.name)==="expiry"&&(d=p.value);const g=t.sections.find(m=>m.name==="description");return{paymentHash:r,satoshi:i,timestamp:u,expiry:d,description:(g==null?void 0:g.name)==="description"?g==null?void 0:g.value:void 0}}catch{return null}};function Q1(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const BP=e=>e instanceof Uint8Array,Ry=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Fi=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const E$=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _p(e){if(!BP(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=E$[e[n]];return t}function FP(e){if(typeof e=="string"&&(e=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(e)),!BP(e))throw new Error("expected Uint8Array, got "+typeof e);return e}let S$=class{clone(){return this._cloneInto()}};function k$(e){const t=r=>e().update(FP(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class C$ extends S${constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ry(this.buffer)}update(t){Q1(this);const{view:n,buffer:r,blockLen:i}=this,s=(t=FP(t)).length;for(let l=0;l<s;){const u=Math.min(i-this.pos,s-l);if(u!==i)r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===i&&(this.process(n,0),this.pos=0);else{const d=Ry(t);for(;i<=s-l;l+=i)this.process(d,l)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Q1(this),function(m,b){(function(S,...v){if(!(S instanceof Uint8Array))throw new Error("Expected Uint8Array");if(v.length>0&&!v.includes(S.length))throw new Error(`Expected Uint8Array of length ${v}, not of length=${S.length}`)})(m);const w=b.outputLen;if(m.length<w)throw new Error(`digestInto() expects output buffer of length at least ${w}`)}(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let m=l;m<i;m++)n[m]=0;(function(m,b,w,S){if(typeof m.setBigUint64=="function")return m.setBigUint64(b,w,S);const v=BigInt(32),E=BigInt(4294967295),k=Number(w>>v&E),N=Number(w&E),A=S?0:4;m.setUint32(b+(S?4:0),k,S),m.setUint32(b+A,N,S)})(r,i-8,BigInt(8*this.length),s),this.process(r,0);const u=Ry(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)u.setUint32(4*m,g[m],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:u}=this;return t.length=i,t.pos=u,t.finished=s,t.destroyed=l,i%n&&t.buffer.set(r),t}}const P$=(e,t,n)=>e&t^e&n^t&n,T$=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Is=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ls=new Uint32Array(64);let N$=class extends C${constructor(){super(64,32,8,!1),this.A=0|Is[0],this.B=0|Is[1],this.C=0|Is[2],this.D=0|Is[3],this.E=0|Is[4],this.F=0|Is[5],this.G=0|Is[6],this.H=0|Is[7]}get(){const{A:t,B:n,C:r,D:i,E:s,F:l,G:u,H:d}=this;return[t,n,r,i,s,l,u,d]}set(t,n,r,i,s,l,u,d){this.A=0|t,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|s,this.F=0|l,this.G=0|u,this.H=0|d}process(t,n){for(let b=0;b<16;b++,n+=4)Ls[b]=t.getUint32(n,!1);for(let b=16;b<64;b++){const w=Ls[b-15],S=Ls[b-2],v=Fi(w,7)^Fi(w,18)^w>>>3,E=Fi(S,17)^Fi(S,19)^S>>>10;Ls[b]=E+Ls[b-7]+v+Ls[b-16]|0}let{A:r,B:i,C:s,D:l,E:u,F:d,G:p,H:g}=this;for(let b=0;b<64;b++){const w=g+(Fi(u,6)^Fi(u,11)^Fi(u,25))+((m=u)&d^~m&p)+T$[b]+Ls[b]|0,S=(Fi(r,2)^Fi(r,13)^Fi(r,22))+P$(r,i,s)|0;g=p,p=d,d=u,u=l+w|0,l=s,s=i,i=r,r=w+S|0}var m;r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,i,s,l,u,d,p,g)}roundClean(){Ls.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const xp=k$(()=>new N$);let Vw=class{constructor(t){var n,r,i,s;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=t.pr,!this.paymentRequest)throw new Error("Invalid payment request");const l=b$(this.paymentRequest);if(!l)throw new Error("Failed to decode payment request");this.paymentHash=l.paymentHash,this.satoshi=l.satoshi,this.timestamp=l.timestamp,this.expiry=l.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=(n=l.description)!=null?n:null,this.verify=(r=t.verify)!=null?r:null,this.preimage=(i=t.preimage)!=null?i:null,this.successAction=(s=t.successAction)!=null?s:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(t){if(!t||!this.paymentHash)return!1;try{const n=_p(xp(x$(t)));return this.paymentHash===n}catch{return!1}}async verifyPayment(){try{if(!this.verify)throw new Error("LNURL verify not available");const t=await fetch(this.verify);if(!t.ok)throw new Error(`Verification request failed: ${t.status} ${t.statusText}`);const n=await t.json();return n.preimage&&(this.preimage=n.preimage),n.settled}catch(t){return console.error("Failed to check LNURL-verify",t),!1}}hasExpired(){const{expiryDate:t}=this;return!!t&&t.getTime()<Date.now()}};const A$=e=>{if(e.tag!=="keysend")throw new Error("Invalid keysend params");if(e.status!=="OK")throw new Error("Keysend status not OK");if(!e.pubkey)throw new Error("Pubkey does not exist");let t,n;return e.customData&&e.customData[0]&&(t=e.customData[0].customKey,n=e.customData[0].customValue),{destination:e.pubkey,customKey:t,customValue:n}};async function R$({satoshi:e,comment:t,p:n,e:r,relays:i},s={}){const l=s.nostr||globalThis.nostr;if(!l)throw new Error("nostr option or window.nostr is not available");const u=[["relays",...i],["amount",e.toString()]];n&&u.push(["p",n]),r&&u.push(["e",r]);const d={pubkey:await l.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:u,content:t??""};return d.id=O$(d),await l.signEvent(d)}function I$(e){if(typeof e.content!="string"||typeof e.created_at!="number"||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function L$(e){if(!I$(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function O$(e){return _p(xp(L$(e)))}function j$(e,t){let n,r;var i,s;return t&&e&&(n=(i=e.names)==null?void 0:i[t],r=n?(s=e.relays)==null?void 0:s[n]:void 0),[e,n,r]}const M$=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/,UP=e=>!!e&&M$.test(e),X1=({amount:e,min:t,max:n})=>e>0&&e>=t&&e<=n,z$=async e=>{if(e.tag!=="payRequest")throw new Error("Invalid pay service params");const t=(e.callback+"").trim();if(!UP(t))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(e.minSendable||0)),r=Math.floor(Number(e.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let i,s;try{i=JSON.parse(e.metadata+""),s=_p(xp(e.metadata+""))}catch{i=[],s=_p(xp("[]"))}let l="",u="",d="",p="";for(let b=0;b<i.length;b++){const[w,S]=i[b];switch(w){case"text/plain":d=S;break;case"text/identifier":p=S;break;case"text/email":l=S;break;case"image/png;base64":case"image/jpeg;base64":u="data:"+w+","+S}}const g=e.payerData;let m;try{m=new URL(t).hostname}catch{}return{callback:t,fixed:n===r,min:n,max:r,domain:m,metadata:i,metadataHash:s,identifier:p,email:l,description:d,image:u,payerData:g,commentAllowed:Number(e.commentAllowed)||0,rawData:e,allowsNostr:e.allowsNostr||!1}};function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f0.apply(this,arguments)}const D$=async(e,t)=>{const{boost:n}=e;t||(t={});const r=t.webln||globalThis.webln;if(!r)throw new Error("WebLN not available");if(!r.keysend)throw new Error("Keysend not available in current WebLN provider");const i=e.amount||Math.floor(n.value_msat/1e3),s={destination:e.destination,amount:i,customRecords:{7629169:JSON.stringify(n)}};return e.customKey&&e.customValue&&(s.customRecords[e.customKey]=e.customValue),await r.enable(),await r.keysend(s)},B$=/^((?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;class F${constructor(t,n){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=t,this.options={proxy:"https://api.getalby.com/lnurl"},this.options=Object.assign(this.options,n),this.parse(),this.webln=this.options.webln}parse(){const t=B$.exec(this.address.toLowerCase());t&&(this.username=t[1],this.domain=t[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const t=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!t.ok)throw new Error(`Failed to fetch lnurl info: ${t.status} ${t.statusText}`);const n=await t.json();await this.parseLnUrlPayResponse(n.lnurlp),this.parseKeysendResponse(n.keysend),this.parseNostrResponse(n.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const t=await fetch(this.lnurlpUrl());if(t.ok){const n=await t.json();await this.parseLnUrlPayResponse(n)}}async fetchKeysendData(){const t=await fetch(this.keysendUrl());if(t.ok){const n=await t.json();this.parseKeysendResponse(n)}}async fetchNostrData(){const t=await fetch(this.nostrUrl());if(t.ok){const n=await t.json();this.parseNostrResponse(n)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(t){let n;if(this.options.proxy){const s=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(f0({ln:this.address},t)).toString()}`);if(!s.ok)throw new Error(`Failed to generate invoice: ${s.status} ${s.statusText}`);n=(await s.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!UP(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const s=new URL(this.lnurlpData.callback);s.search=new URLSearchParams(t).toString();const l=await fetch(s.toString());if(!l.ok)throw new Error(`Failed to generate invoice: ${l.status} ${l.statusText}`);n=await l.json()}const r=n&&n.pr&&n.pr.toString();if(!r)throw new Error("Invalid pay service invoice");const i={pr:r};if(n&&n.verify&&(i.verify=n.verify.toString()),n&&n.successAction&&typeof n.successAction=="object"){const{tag:s,message:l,description:u,url:d}=n.successAction;s==="message"?i.successAction={tag:s,message:l}:s==="url"&&(i.successAction={tag:s,description:u,url:d})}return new Vw(i)}async requestInvoice(t){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const n=1e3*t.satoshi,{commentAllowed:r,min:i,max:s}=this.lnurlpData;if(!X1({amount:n,min:i,max:s}))throw new Error("Invalid amount");if(t.comment&&r&&r>0&&t.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const l={amount:n.toString()};return t.comment&&(l.comment=t.comment),t.payerdata&&(l.payerdata=JSON.stringify(t.payerdata)),this.generateInvoice(l)}async boost(t,n=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:r,customKey:i,customValue:s}=this.keysendData,l=this.getWebLN();if(!l)throw new Error("WebLN not available");return D$({destination:r,customKey:i,customValue:s,amount:n,boost:t},{webln:l})}async zapInvoice({satoshi:t,comment:n,relays:r,e:i},s={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const l=this.nostrPubkey,u=1e3*t,{allowsNostr:d,min:p,max:g}=this.lnurlpData;if(!X1({amount:u,min:p,max:g}))throw new Error("Invalid amount");if(!d)throw new Error("Your provider does not support zaps");const m=await R$({satoshi:u,comment:n,p:l,e:i,relays:r},s),b={amount:u.toString(),nostr:JSON.stringify(m)};return await this.generateInvoice(b)}async zap(t,n={}){const r=this.zapInvoice(t,n),i=this.getWebLN();if(!i)throw new Error("WebLN not available");return await i.enable(),i.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(t){t&&(this.lnurlpData=await z$(t))}parseKeysendResponse(t){t&&(this.keysendData=A$(t))}parseNostrResponse(t){t&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=j$(t,this.username))}}function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qs.apply(this,arguments)}if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const U$=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $$(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=U$[e[n]];return t}function ad(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=2*r,s=e.slice(i,i+2),l=Number.parseInt(s,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}class la extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n}}class Z$ extends la{}class H$ extends la{}class $P extends la{}let eE=class extends $P{};class tE extends $P{}class nE extends la{}class rE extends la{}class Iy extends la{}class W$ extends la{}class V$ extends la{}class Ec{static parseWalletConnectUrl(t){t=t.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://").replace("nostrwalletconnect:","http://").replace("nostr+walletconnect:","http://");const n=new URL(t),r=n.searchParams.get("relay");if(!r)throw new Error("No relay URL found in connection string");const i={walletPubkey:n.host,relayUrl:r},s=n.searchParams.get("secret");s&&(i.secret=s);const l=n.searchParams.get("lud16");return l&&(i.lud16=l),i}constructor(t){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,t&&t.nostrWalletConnectUrl&&(t=Qs({},Ec.parseWalletConnectUrl(t.nostrWalletConnectUrl),t)),this.options=Qs({},t||{}),this.relayUrl=this.options.relayUrl,this.relay=new ek(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?er.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?er.decode(this.options.walletPubkey).data:this.options.walletPubkey,globalThis.WebSocket===void 0&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(t=!0){let n=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return t&&(n=`${n}&secret=${this.secret}`),n}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return Fo(ad(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error("Missing encryption or version");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(t){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(Xr(t,ad(this.secret)))}getEventHash(t){return yd(t)}close(){return this.relay.close()}async encrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await Sd.encrypt(this.secret,t,n);else{const i=Ks.getConversationKey(ad(this.secret),t);r=Ks.encrypt(n,i)}return r}async decrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await Sd.decrypt(this.secret,t,n);else{const i=Ks.getConversationKey(ad(this.secret),t);r=Ks.decrypt(n,i)}return r}static getAuthorizationUrl(t,n={},r){if(t.indexOf("/#/")>-1)throw new Error("hash router paths not supported");const i=new URL(t);return n.name&&i.searchParams.set("name",n.name),i.searchParams.set("pubkey",r),n.returnTo&&i.searchParams.set("return_to",n.returnTo),n.budgetRenewal&&i.searchParams.set("budget_renewal",n.budgetRenewal),n.expiresAt&&i.searchParams.set("expires_at",Math.floor(n.expiresAt.getTime()/1e3).toString()),n.maxAmount&&i.searchParams.set("max_amount",n.maxAmount.toString()),n.requestMethods&&i.searchParams.set("request_methods",n.requestMethods.join(" ")),n.notificationTypes&&i.searchParams.set("notification_types",n.notificationTypes.join(" ")),n.isolated&&i.searchParams.set("isolated","true"),n.metadata&&i.searchParams.set("metadata",JSON.stringify(n.metadata)),i}static fromAuthorizationUrl(t,n={},r){r=r||$$(Vd()),n.name||(n.name=document.location.host);const i=this.getAuthorizationUrl(t,n,Fo(ad(r))),s=window.outerHeight/2+window.screenY-300,l=window.outerWidth/2+window.screenX-200;return new Promise((u,d)=>{const p=window.open(i.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${s},left=${l}`);if(!p)return void d(new Error("failed to execute window.open"));const g=b=>{const w=b.data;w&&w.type==="nwc:success"&&b.origin===`${i.protocol}//${i.host}`&&(w.relayUrl||d(new Error("no relayUrl in response")),w.walletPubkey||d(new Error("no walletPubkey in response")),u(new Ec({relayUrl:w.relayUrl,walletPubkey:w.walletPubkey,secret:r,lud16:w.lud16})),clearInterval(m),window.removeEventListener("message",g),p&&p.close())},m=setInterval(()=>{p&&p.closed&&(clearInterval(m),window.removeEventListener("message",g),d(new Error("Popup closed")))},500);window.addEventListener("message",g)})}async getWalletServiceInfo(){var t;await this._checkConnected();const n=await new Promise((d,p)=>{const g=[],m=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});m.onevent=b=>{g.push(b)},m.oneose=()=>{m.close(),d(g)}});if(!n.length)throw new Error("no info event (kind 13194) returned from relay");const r=n[0].content,i=n[0].tags.find(d=>d[0]==="notifications"),s=n[0].tags.find(d=>d[0]==="v"),l=n[0].tags.find(d=>d[0]==="encryption");let u=["nip04"];return s&&s[1].includes("1.0")&&u.push("nip44_v2"),l&&(u=l[1].split(" ")),{encryptions:u,capabilities:r.split(/[ |,]/g),notifications:(i==null||(t=i[1])==null?void 0:t.split(" "))||[]}}async getInfo(){try{return await this.executeNip47Request("get_info",{},t=>!!t.methods,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_info",t),t}}async getBudget(){try{return await this.executeNip47Request("get_budget",{},t=>t!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_budget",t),t}}async getBalance(){try{return await this.executeNip47Request("get_balance",{},t=>t.balance!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_balance",t),t}}async payInvoice(t){try{return await this.executeNip47Request("pay_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request pay_invoice",n),n}}async payKeysend(t){try{return await this.executeNip47Request("pay_keysend",t,n=>!!n.preimage)}catch(n){throw console.error("Failed to request pay_keysend",n),n}}async signMessage(t){try{return await this.executeNip47Request("sign_message",t,n=>n.message===t.message&&!!n.signature)}catch(n){throw console.error("Failed to request sign_message",n),n}}async createConnection(t){try{return await this.executeNip47Request("create_connection",t,n=>!!n.wallet_pubkey)}catch(n){throw console.error("Failed to request create_connection",n),n}}async multiPayInvoice(t){try{return{invoices:await this.executeMultiNip47Request("multi_pay_invoice",t,t.invoices.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_invoice",n),n}}async multiPayKeysend(t){try{return{keysends:await this.executeMultiNip47Request("multi_pay_keysend",t,t.keysends.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_keysend",n),n}}async makeInvoice(t){try{if(!t.amount)throw new Error("No amount specified");return await this.executeNip47Request("make_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_invoice",n),n}}async makeHoldInvoice(t){try{if(!t.amount)throw new Error("No amount specified");if(!t.payment_hash)throw new Error("No payment hash specified");return await this.executeNip47Request("make_hold_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_hold_invoice",n),n}}async settleHoldInvoice(t){try{return await this.executeNip47Request("settle_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request settle_hold_invoice",n),n}}async cancelHoldInvoice(t){try{return await this.executeNip47Request("cancel_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request cancel_hold_invoice",n),n}}async lookupInvoice(t){try{return await this.executeNip47Request("lookup_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request lookup_invoice",n),n}}async listTransactions(t){try{return await this.executeNip47Request("list_transactions",t,n=>!!n.transactions,{replyTimeout:1e4})}catch(n){throw console.error("Failed to request list_transactions",n),n}}async subscribeNotifications(t,n){var r=this;let i,s,l,u=!0;return async function(){for(;u;){try{await r._checkConnected(),await r._selectEncryptionType(),l=r.relay.subscribe([{kinds:[...r.encryptionType==="nip04"?[23196]:[23197]],authors:[r.walletPubkey],"#p":[r.publicKey]}],{}),console.info("subscribed to relay"),l.onevent=async function(d){const p=await r.decrypt(r.walletPubkey,d.content);let g;try{g=JSON.parse(p)}catch(m){return void console.error("Failed to parse decrypted event content",m)}g.notification?(!n||n.indexOf(g.notification_type)>-1)&&t(g):console.error("No notification in response",g)},await new Promise(d=>{i=()=>{d()},s=()=>{console.info("relay disconnected"),i==null||i()},r.relay.onclose=s}),s!==void 0&&(r.relay.onclose=null)}catch(d){console.error("error subscribing to notifications",d||"unknown relay error")}u&&await new Promise(d=>setTimeout(d,1e3))}}(),()=>{var d;u=!1,i==null||i(),(d=l)==null||d.close()}}async executeNip47Request(t,n,r,i){var s=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((l,u)=>{(async function(){const d={method:t,params:n},p=await s.encrypt(s.walletPubkey,JSON.stringify(d)),g={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",s.walletPubkey],["v",s.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",s.encryptionType]],content:p},m=await s.signEvent(g),b=s.relay.subscribe([{kinds:[23195],authors:[s.walletPubkey],"#e":[m.id]}],{}),w=setTimeout(function(){b.close(),u(new tE(`reply timeout: event ${m.id}`,"INTERNAL"))},(i==null?void 0:i.replyTimeout)||6e4);b.onevent=async function(v){clearTimeout(w),b.close();const E=await s.decrypt(s.walletPubkey,v.content);let k;try{k=JSON.parse(E)}catch{return clearTimeout(w),b.close(),void u(new rE("failed to deserialize response","INTERNAL"))}var N,A;k.result?r(k.result)?l(k.result):(clearTimeout(w),b.close(),u(new Iy("response from NWC failed validation: "+JSON.stringify(k.result),"INTERNAL"))):(clearTimeout(w),b.close(),u(new H$(((N=k.error)==null?void 0:N.message)||"unknown Error",((A=k.error)==null?void 0:A.code)||"INTERNAL")))};const S=setTimeout(function(){b.close(),u(new eE(`publish timeout: ${m.id}`,"INTERNAL"))},(i==null?void 0:i.publishTimeout)||5e3);try{await s.relay.publish(m),clearTimeout(S)}catch(v){clearTimeout(S),u(new nE(`failed to publish: ${v}`,"INTERNAL"))}})()})}async executeMultiNip47Request(t,n,r,i,s){var l=this;await this._checkConnected(),await this._selectEncryptionType();const u=[];return new Promise((d,p)=>{(async function(){const g={method:t,params:n},m=await l.encrypt(l.walletPubkey,JSON.stringify(g)),b={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",l.walletPubkey],["v",l.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",l.encryptionType]],content:m},w=await l.signEvent(b),S=l.relay.subscribe([{kinds:[23195],authors:[l.walletPubkey],"#e":[w.id]}],{}),v=setTimeout(function(){S.close(),p(new tE(`reply timeout: event ${w.id}`,"INTERNAL"))},(s==null?void 0:s.replyTimeout)||6e4);S.onevent=async function(k){const N=await l.decrypt(l.walletPubkey,k.content);let A;try{A=JSON.parse(N)}catch{clearTimeout(v),S.close(),p(new rE("failed to deserialize response","INTERNAL"))}if(A.result){var z;if(!i(A.result))return clearTimeout(v),S.close(),void p(new Iy("Response from NWC failed validation: "+JSON.stringify(A.result),"INTERNAL"));const H=(z=k.tags.find(V=>V[0]==="d"))==null?void 0:z[1];if(H===void 0)return clearTimeout(v),S.close(),void p(new Iy("No d tag found in response event","INTERNAL"));u.push(Qs({},A.result,{dTag:H})),u.length===r&&(clearTimeout(v),S.close(),d(u))}else{var D,$;clearTimeout(v),S.close(),p(new W$((D=A.error)==null?void 0:D.message,($=A.error)==null?void 0:$.code))}};const E=setTimeout(function(){S.close(),p(new eE(`Publish timeout: ${w.id}`,"INTERNAL"))},(s==null?void 0:s.publishTimeout)||5e3);try{await l.relay.publish(w),clearTimeout(E)}catch(k){clearTimeout(E),p(new nE(`Failed to publish: ${k}`,"INTERNAL"))}})()})}async _checkConnected(){if(!this.secret)throw new Error("Missing secret key");if(!this.relayUrl)throw new Error("Missing relay url");try{this.relay.connected||await this.relay.connect()}catch{throw console.error("failed to connect to relay",this.relayUrl),new Z$("Failed to connect to "+this.relayUrl,"OTHER")}}async _selectEncryptionType(){if(!this._encryptionType){const t=await this.getWalletServiceInfo(),n=this._findPreferredEncryptionType(t.encryptions);if(!n)throw new V$("no compatible encryption or version found between wallet and client","UNSUPPORTED_ENCRYPTION");n==="nip04"&&console.warn("NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead."),this._encryptionType=n}}_findPreferredEncryptionType(t){return t.includes("nip44_v2")?"nip44_v2":t.includes("nip04")?"nip04":null}}class q${constructor(t,n){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=n,this.invoice=new Vw({pr:n.invoice}),this._nwcClient=t}onPaid(t){var n=this;return async function(){let r;try{var i;r=(i=(await n._nwcClient.getInfo()).notifications)==null?void 0:i.includes("payment_received")}catch{console.error("failed to fetch info, falling back to polling")}const s=u=>{n._unsubscribeFunc==null||n._unsubscribeFunc(),t(u)},l=u=>()=>{n._timeoutFunc=void 0,clearTimeout(n._timeoutId),u()};if(r){const u=d=>{d.notification.payment_hash===n.transaction.payment_hash&&s(d.notification)};n._unsubscribeFunc=l(await n._nwcClient.subscribeNotifications(u,["payment_received"]))}else console.warn("current connection does not support notifications, falling back to polling"),n._unsubscribeFunc=l(n._onPaidPollingFallback(s))}(),this}onTimeout(t,n){return this._timeoutFunc=()=>{var r;(r=this._unsubscribeFunc)==null||r.call(this),n()},this._timeoutId=setTimeout(()=>{var r;(r=this._timeoutFunc)==null||r.call(this)},1e3*t),this}unsubscribe(){var t;(t=this._unsubscribeFunc)==null||t.call(this)}_onPaidPollingFallback(t){var n=this;let r=!0;return async function(){for(;r;){const i=await n._nwcClient.lookupInvoice({payment_hash:n.transaction.payment_hash});if(i.settled_at&&i.preimage){t(i),r=!1;break}await new Promise(s=>setTimeout(s,3e3))}}(),()=>{r=!1}}}async function iE(e){if(typeof e=="number")return{satoshi:e,millisat:1e3*e};const t=await Promise.resolve(e.satoshi);return{satoshi:t,millisat:1e3*t}}class Ad{constructor(t){this.nwcClient=void 0,this.nwcClient=typeof t=="string"?new Ec({nostrWalletConnectUrl:t}):t instanceof Ec?t:new Ec(t)}async pay(t,n,r){let i=t;const s=n?await iE(n):void 0;if(i.indexOf("@")>-1){var l,u;if(!s)throw new Error("Amount must be provided when paying to a lightning address");const p=new F$(t);await p.fetch(),i=(await p.requestInvoice({satoshi:s.satoshi,comment:r==null||(l=r.metadata)==null?void 0:l.comment,payerdata:r==null||(u=r.metadata)==null?void 0:u.payer_data})).paymentRequest}const d=await this.nwcClient.payInvoice(Qs({},r||{},{invoice:i,amount:s==null?void 0:s.millisat}));return Qs({},d,{invoice:new Vw({pr:i})})}async requestPayment(t,n){const r=await iE(t),i=await this.nwcClient.makeInvoice(Qs({},n||{},{amount:r.millisat}));return new q$(this.nwcClient,i)}close(){this.nwcClient.close()}}function K$(){const{toast:e}=Kd(),[t,n]=u0("nwc-connections",[]),[r,i]=u0("nwc-active-connection",null),[s,l]=C.useState({}),u=async(m,b)=>{const S=(E=>{try{return!E.startsWith("nostr+walletconnect://")&&!E.startsWith("nostrwalletconnect://")?(console.error("Invalid NWC URI protocol:",{protocol:E.split("://")[0]}),null):{connectionString:E}}catch(k){return console.error("Failed to parse NWC URI:",k),null}})(m);if(!S)return e({title:"Invalid NWC URI",description:"Please check the connection string and try again.",variant:"destructive"}),!1;if(t.find(E=>E.connectionString===S.connectionString))return e({title:"Connection already exists",description:"This wallet is already connected.",variant:"destructive"}),!1;try{let E;const k=new Promise((D,$)=>{try{const H=new Ad(S.connectionString);D(H)}catch(H){$(H)}}),N=new Promise((D,$)=>{E=setTimeout(()=>$(new Error("Connection test timeout")),1e4)});try{await Promise.race([k,N]),E&&clearTimeout(E)}catch(D){throw E&&clearTimeout(E),D}const A={connectionString:S.connectionString,alias:b||"NWC Wallet",isConnected:!0};l(D=>({...D,[S.connectionString]:{alias:A.alias,methods:["pay_invoice"]}}));const z=[...t,A];return n(z),(t.length===0||!r)&&i(S.connectionString),e({title:"Wallet connected",description:`Successfully connected to ${A.alias}.`}),!0}catch(E){console.error("NWC connection failed:",E);const k=E instanceof Error?E.message:"Unknown error occurred";return e({title:"Connection failed",description:`Could not connect to the wallet: ${k}`,variant:"destructive"}),!1}},d=m=>{const b=t.filter(w=>w.connectionString!==m);if(n(b),r===m){const w=b.length>0?b[0].connectionString:null;i(w)}l(w=>{const S={...w};return delete S[m],S}),e({title:"Wallet disconnected",description:"The wallet connection has been removed."})},p=C.useCallback(()=>!r&&t.length>0?(i(t[0].connectionString),t[0]):r&&t.find(b=>b.connectionString===r)||null,[r,t,i]),g=C.useCallback(async(m,b)=>{if(!m.connectionString)throw new Error("Invalid connection: missing connection string");let w;try{w=new Ad(m.connectionString)}catch(S){throw console.error("Failed to create NWC client:",S),new Error(`Failed to create NWC client: ${S instanceof Error?S.message:"Unknown error"}`)}try{let S;const v=new Promise((k,N)=>{S=setTimeout(()=>N(new Error("Payment timeout after 15 seconds")),15e3)}),E=w.pay(b);try{const k=await Promise.race([E,v]);return S&&clearTimeout(S),k}catch(k){throw S&&clearTimeout(S),k}}catch(S){throw console.error("NWC payment failed:",S),S instanceof Error?S.message.includes("timeout")?new Error("Payment timed out. Please try again."):S.message.includes("insufficient")?new Error("Insufficient balance in connected wallet."):S.message.includes("invalid")?new Error("Invalid invoice or connection. Please check your wallet."):new Error(`Payment failed: ${S.message}`):new Error("Payment failed with unknown error")}},[]);return{connections:t,activeConnection:r,connectionInfo:s,addConnection:u,removeConnection:d,setActiveConnection:i,getActiveConnection:p,sendPayment:g}}const ZP=C.createContext(null);function HP(){const e=C.useContext(ZP);if(!e)throw new Error("useNWC must be used within a NWCProvider");return e}function G$({children:e}){const t=K$();return y.jsx(ZP.Provider,{value:t,children:e})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rd.apply(this,arguments)}var Ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ys||(Ys={}));const oE="popstate";function Y$(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:l,hash:u}=r.location;return h0("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bp(i)}return Q$(t,n,null,e)}function pn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function J$(){return Math.random().toString(36).substr(2,8)}function sE(e,t){return{usr:e.state,key:e.key,idx:t}}function h0(e,t,n,r){return n===void 0&&(n=null),Rd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?iu(t):t,{state:n,key:t&&t.key||r||J$()})}function bp(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function iu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Q$(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u=Ys.Pop,d=null,p=g();p==null&&(p=0,l.replaceState(Rd({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function m(){u=Ys.Pop;let E=g(),k=E==null?null:E-p;p=E,d&&d({action:u,location:v.location,delta:k})}function b(E,k){u=Ys.Push;let N=h0(v.location,E,k);p=g()+1;let A=sE(N,p),z=v.createHref(N);try{l.pushState(A,"",z)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(z)}s&&d&&d({action:u,location:v.location,delta:1})}function w(E,k){u=Ys.Replace;let N=h0(v.location,E,k);p=g();let A=sE(N,p),z=v.createHref(N);l.replaceState(A,"",z),s&&d&&d({action:u,location:v.location,delta:0})}function S(E){let k=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof E=="string"?E:bp(E);return N=N.replace(/ $/,"%20"),pn(k,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,k)}let v={get action(){return u},get location(){return e(i,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(oE,m),d=E,()=>{i.removeEventListener(oE,m),d=null}},createHref(E){return t(i,E)},createURL:S,encodeLocation(E){let k=S(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:w,go(E){return l.go(E)}};return v}var aE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(aE||(aE={}));function X$(e,t,n){return n===void 0&&(n="/"),e7(e,t,n)}function e7(e,t,n,r){let i=typeof t=="string"?iu(t):t,s=Kw(i.pathname||"/",n);if(s==null)return null;let l=WP(e);t7(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=h7(s);u=u7(l[d],p)}return u}function WP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(pn(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=Xs([r,d.relativePath]),g=n.concat(d);s.children&&s.children.length>0&&(pn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),WP(s.children,t,g,p)),!(s.path==null&&!s.index)&&t.push({path:p,score:l7(p,s.index),routesMeta:g})};return e.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of VP(s.path))i(s,l,d)}),t}function VP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=VP(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function t7(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:c7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const n7=/^:[\w-]+$/,r7=3,i7=2,o7=1,s7=10,a7=-2,lE=e=>e==="*";function l7(e,t){let n=e.split("/"),r=n.length;return n.some(lE)&&(r+=a7),t&&(r+=i7),n.filter(i=>!lE(i)).reduce((i,s)=>i+(n7.test(s)?r7:s===""?o7:s7),r)}function c7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function u7(e,t,n){let{routesMeta:r}=e,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,g=s==="/"?t:t.slice(s.length)||"/",m=d7({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),b=d.route;if(!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Xs([s,m.pathname]),pathnameBase:v7(Xs([s,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(s=Xs([s,m.pathnameBase]))}return l}function d7(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=f7(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,g,m)=>{let{paramName:b,isOptional:w}=g;if(b==="*"){let v=u[m]||"";l=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const S=u[m];return w&&!S?p[b]=void 0:p[b]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:l,pattern:e}}function f7(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),qw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function h7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const p7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m7=e=>p7.test(e);function g7(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?iu(e):e,s;if(n)if(m7(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),qw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?s=cE(n.substring(1),"/"):s=cE(n,t)}else s=t;return{pathname:s,search:w7(r),hash:_7(i)}}function cE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ly(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function qP(e,t){let n=y7(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function KP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=iu(e):(i=Rd({},e),pn(!i.pathname||!i.pathname.includes("?"),Ly("?","pathname","search",i)),pn(!i.pathname||!i.pathname.includes("#"),Ly("#","pathname","hash",i)),pn(!i.search||!i.search.includes("#"),Ly("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}u=m>=0?t[m]:"/"}let d=g7(i,u),p=l&&l!=="/"&&l.endsWith("/"),g=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}const Xs=e=>e.join("/").replace(/\/\/+/g,"/"),v7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),w7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function x7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const GP=["post","put","patch","delete"];new Set(GP);const b7=["get",...GP];new Set(b7);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Id.apply(this,arguments)}const Gw=C.createContext(null),E7=C.createContext(null),gl=C.createContext(null),cm=C.createContext(null),ca=C.createContext({outlet:null,matches:[],isDataRoute:!1}),YP=C.createContext(null);function S7(e,t){let{relative:n}=t===void 0?{}:t;ef()||pn(!1);let{basename:r,navigator:i}=C.useContext(gl),{hash:s,pathname:l,search:u}=XP(e,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:Xs([r,l])),i.createHref({pathname:d,search:u,hash:s})}function ef(){return C.useContext(cm)!=null}function yl(){return ef()||pn(!1),C.useContext(cm).location}function JP(e){C.useContext(gl).static||C.useLayoutEffect(e)}function k7(){let{isDataRoute:e}=C.useContext(ca);return e?D7():C7()}function C7(){ef()||pn(!1);let e=C.useContext(Gw),{basename:t,future:n,navigator:r}=C.useContext(gl),{matches:i}=C.useContext(ca),{pathname:s}=yl(),l=JSON.stringify(qP(i,n.v7_relativeSplatPath)),u=C.useRef(!1);return JP(()=>{u.current=!0}),C.useCallback(function(p,g){if(g===void 0&&(g={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let m=KP(p,JSON.parse(l),s,g.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Xs([t,m.pathname])),(g.replace?r.replace:r.push)(m,g.state,g)},[t,r,l,s,e])}function QP(){let{matches:e}=C.useContext(ca),t=e[e.length-1];return t?t.params:{}}function XP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(gl),{matches:i}=C.useContext(ca),{pathname:s}=yl(),l=JSON.stringify(qP(i,r.v7_relativeSplatPath));return C.useMemo(()=>KP(e,JSON.parse(l),s,n==="path"),[e,l,s,n])}function P7(e,t){return T7(e,t)}function T7(e,t,n,r){ef()||pn(!1);let{navigator:i}=C.useContext(gl),{matches:s}=C.useContext(ca),l=s[s.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=yl(),g;if(t){var m;let E=typeof t=="string"?iu(t):t;d==="/"||(m=E.pathname)!=null&&m.startsWith(d)||pn(!1),g=E}else g=p;let b=g.pathname||"/",w=b;if(d!=="/"){let E=d.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=X$(e,{pathname:w}),v=L7(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Xs([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Xs([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return t&&v?C.createElement(cm.Provider,{value:{location:Id({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ys.Pop}},v):v}function N7(){let e=z7(),t=x7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,null)}const A7=C.createElement(N7,null);class R7 extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(ca.Provider,{value:this.props.routeContext},C.createElement(YP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I7(e){let{routeContext:t,match:n,children:r}=e,i=C.useContext(Gw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(ca.Provider,{value:t},r)}function L7(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);g>=0||pn(!1),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let m=l[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=g),m.route.id){let{loaderData:b,errors:w}=n,S=m.route.loader&&b[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||S){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,m,b)=>{let w,S=!1,v=null,E=null;n&&(w=u&&m.route.id?u[m.route.id]:void 0,v=m.route.errorElement||A7,d&&(p<0&&b===0?(B7("route-fallback"),S=!0,E=null):p===b&&(S=!0,E=m.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,b+1)),N=()=>{let A;return w?A=v:S?A=E:m.route.Component?A=C.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=g,C.createElement(I7,{match:m,routeContext:{outlet:g,matches:k,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?C.createElement(R7,{location:n.location,revalidation:n.revalidation,component:v,error:w,children:N(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):N()},null)}var eT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eT||{}),tT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tT||{});function O7(e){let t=C.useContext(Gw);return t||pn(!1),t}function j7(e){let t=C.useContext(E7);return t||pn(!1),t}function M7(e){let t=C.useContext(ca);return t||pn(!1),t}function nT(e){let t=M7(),n=t.matches[t.matches.length-1];return n.route.id||pn(!1),n.route.id}function z7(){var e;let t=C.useContext(YP),n=j7(),r=nT();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function D7(){let{router:e}=O7(eT.UseNavigateStable),t=nT(tT.UseNavigateStable),n=C.useRef(!1);return JP(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Id({fromRouteId:t},s)))},[e,t])}const uE={};function B7(e,t,n){uE[e]||(uE[e]=!0)}function F7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Co(e){pn(!1)}function U7(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ys.Pop,navigator:s,static:l=!1,future:u}=e;ef()&&pn(!1);let d=t.replace(/^\/*/,"/"),p=C.useMemo(()=>({basename:d,navigator:s,static:l,future:Id({v7_relativeSplatPath:!1},u)}),[d,u,s,l]);typeof r=="string"&&(r=iu(r));let{pathname:g="/",search:m="",hash:b="",state:w=null,key:S="default"}=r,v=C.useMemo(()=>{let E=Kw(g,d);return E==null?null:{location:{pathname:E,search:m,hash:b,state:w,key:S},navigationType:i}},[d,g,m,b,w,S,i]);return v==null?null:C.createElement(gl.Provider,{value:p},C.createElement(cm.Provider,{children:n,value:v}))}function $7(e){let{children:t,location:n}=e;return P7(p0(t),n)}new Promise(()=>{});function p0(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,i)=>{if(!C.isValidElement(r))return;let s=[...t,i];if(r.type===C.Fragment){n.push.apply(n,p0(r.props.children,s));return}r.type!==Co&&pn(!1),!r.props.index||!r.props.children||pn(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=p0(r.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m0.apply(this,arguments)}function Z7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function H7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function W7(e,t){return e.button===0&&(!t||t==="_self")&&!H7(e)}const V7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q7="6";try{window.__reactRouterVersion=q7}catch{}const K7="startTransition",dE=I0[K7];function G7(e){let{basename:t,children:n,future:r,window:i}=e,s=C.useRef();s.current==null&&(s.current=Y$({window:i,v5Compat:!0}));let l=s.current,[u,d]=C.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},g=C.useCallback(m=>{p&&dE?dE(()=>d(m)):d(m)},[d,p]);return C.useLayoutEffect(()=>l.listen(g),[l,g]),C.useEffect(()=>F7(r),[r]),C.createElement(U7,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const Y7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hr=C.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:l,state:u,target:d,to:p,preventScrollReset:g,viewTransition:m}=t,b=Z7(t,V7),{basename:w}=C.useContext(gl),S,v=!1;if(typeof p=="string"&&J7.test(p)&&(S=p,Y7))try{let A=new URL(window.location.href),z=p.startsWith("//")?new URL(A.protocol+p):new URL(p),D=Kw(z.pathname,w);z.origin===A.origin&&D!=null?p=D+z.search+z.hash:v=!0}catch{}let E=S7(p,{relative:i}),k=Q7(p,{replace:l,state:u,target:d,preventScrollReset:g,relative:i,viewTransition:m});function N(A){r&&r(A),A.defaultPrevented||k(A)}return C.createElement("a",m0({},b,{href:S||E,onClick:v||s?r:N,ref:n,target:d}))});var fE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fE||(fE={}));var hE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hE||(hE={}));function Q7(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:l,viewTransition:u}=t===void 0?{}:t,d=k7(),p=yl(),g=XP(e,{relative:l});return C.useCallback(m=>{if(W7(m,n)){m.preventDefault();let b=r!==void 0?r:bp(p)===bp(g);d(e,{replace:b,state:i,preventScrollReset:s,relative:l,viewTransition:u})}},[p,d,g,r,i,n,e,s,l,u])}function X7(){const{pathname:e}=yl();return C.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const e9=Qd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),At=C.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const l=r?Z6:"button";return y.jsx(l,{className:qe(e9({variant:t,size:n,className:e})),ref:s,...i})});At.displayName="Button";const Tn=C.forwardRef(({className:e,type:t,...n},r)=>y.jsx("input",{type:t,className:qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Tn.displayName="Input";var Oy="focusScope.autoFocusOnMount",jy="focusScope.autoFocusOnUnmount",pE={bubbles:!1,cancelable:!0},t9="FocusScope",um=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=e,[u,d]=C.useState(null),p=sn(i),g=sn(s),m=C.useRef(null),b=mt(t,v=>d(v)),w=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let v=function(A){if(w.paused||!u)return;const z=A.target;u.contains(z)?m.current=z:Ms(m.current,{select:!0})},E=function(A){if(w.paused||!u)return;const z=A.relatedTarget;z!==null&&(u.contains(z)||Ms(m.current,{select:!0}))},k=function(A){if(document.activeElement===document.body)for(const D of A)D.removedNodes.length>0&&Ms(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const N=new MutationObserver(k);return u&&N.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),N.disconnect()}}},[r,u,w.paused]),C.useEffect(()=>{if(u){gE.add(w);const v=document.activeElement;if(!u.contains(v)){const k=new CustomEvent(Oy,pE);u.addEventListener(Oy,p),u.dispatchEvent(k),k.defaultPrevented||(n9(a9(rT(u)),{select:!0}),document.activeElement===v&&Ms(u))}return()=>{u.removeEventListener(Oy,p),setTimeout(()=>{const k=new CustomEvent(jy,pE);u.addEventListener(jy,g),u.dispatchEvent(k),k.defaultPrevented||Ms(v??document.body,{select:!0}),u.removeEventListener(jy,g),gE.remove(w)},0)}}},[u,p,g,w]);const S=C.useCallback(v=>{if(!n&&!r||w.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(E&&k){const N=v.currentTarget,[A,z]=r9(N);A&&z?!v.shiftKey&&k===z?(v.preventDefault(),n&&Ms(A,{select:!0})):v.shiftKey&&k===A&&(v.preventDefault(),n&&Ms(z,{select:!0})):k===N&&v.preventDefault()}},[n,r,w.paused]);return y.jsx(Ye.div,{tabIndex:-1,...l,ref:b,onKeyDown:S})});um.displayName=t9;function n9(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ms(r,{select:t}),document.activeElement!==n)return}function r9(e){const t=rT(e),n=mE(t,e),r=mE(t.reverse(),e);return[n,r]}function rT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function mE(e,t){for(const n of e)if(!i9(n,{upTo:t}))return n}function i9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function o9(e){return e instanceof HTMLInputElement&&"select"in e}function Ms(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&o9(e)&&t&&e.select()}}var gE=s9();function s9(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=yE(e,t),e.unshift(t)},remove(t){var n;e=yE(e,t),(n=e[0])==null||n.resume()}}}function yE(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function a9(e){return e.filter(t=>t.tagName!=="A")}var My=0;function Yw(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vE()),document.body.insertAdjacentElement("beforeend",e[1]??vE()),My++,()=>{My===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),My--}},[])}function vE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qi=function(){return qi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qi.apply(this,arguments)};function iT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function l9(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Jh="right-scroll-bar-position",Qh="width-before-scroll-bar",c9="with-scroll-bars-hidden",u9="--removed-body-scroll-bar-size";function zy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function d9(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var f9=typeof window<"u"?C.useLayoutEffect:C.useEffect,wE=new WeakMap;function h9(e,t){var n=d9(null,function(r){return e.forEach(function(i){return zy(i,r)})});return f9(function(){var r=wE.get(n);if(r){var i=new Set(r),s=new Set(e),l=n.current;i.forEach(function(u){s.has(u)||zy(u,null)}),s.forEach(function(u){i.has(u)||zy(u,l)})}wE.set(n,e)},[e]),n}function p9(e){return e}function m9(e,t){t===void 0&&(t=p9);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var l=t(s,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(s){for(r=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(u){return s(u)},filter:function(){return n}}},assignMedium:function(s){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(s),l=n}var d=function(){var g=l;l=[],g.forEach(s)},p=function(){return Promise.resolve().then(d)};p(),n={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),n}}}};return i}function g9(e){e===void 0&&(e={});var t=m9(null);return t.options=qi({async:!0,ssr:!1},e),t}var oT=function(e){var t=e.sideCar,n=iT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,qi({},n))};oT.isSideCarExport=!0;function y9(e,t){return e.useMedium(t),oT}var sT=g9(),Dy=function(){},dm=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:Dy,onWheelCapture:Dy,onTouchMoveCapture:Dy}),i=r[0],s=r[1],l=e.forwardProps,u=e.children,d=e.className,p=e.removeScrollBar,g=e.enabled,m=e.shards,b=e.sideCar,w=e.noIsolation,S=e.inert,v=e.allowPinchZoom,E=e.as,k=E===void 0?"div":E,N=e.gapMode,A=iT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=b,D=h9([n,t]),$=qi(qi({},A),i);return C.createElement(C.Fragment,null,g&&C.createElement(z,{sideCar:sT,removeScrollBar:p,shards:m,noIsolation:w,inert:S,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:N}),l?C.cloneElement(C.Children.only(u),qi(qi({},$),{ref:D})):C.createElement(k,qi({},$,{className:d,ref:D}),u))});dm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dm.classNames={fullWidth:Qh,zeroRight:Jh};var v9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=v9();return t&&e.setAttribute("nonce",t),e}function _9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function x9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var b9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=w9())&&(_9(t,n),x9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},E9=function(){var e=b9();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},aT=function(){var e=E9(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},S9={left:0,top:0,right:0,gap:0},By=function(e){return parseInt(e||"",10)||0},k9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[By(n),By(r),By(i)]},C9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return S9;var t=k9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},P9=aT(),Sc="data-scroll-locked",T9=function(e,t,n,r){var i=e.left,s=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(c9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Sc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Qh,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Jh," .").concat(Jh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qh," .").concat(Qh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Sc,`] {
    `).concat(u9,": ").concat(u,`px;
  }
`)},_E=function(){var e=parseInt(document.body.getAttribute(Sc)||"0",10);return isFinite(e)?e:0},N9=function(){C.useEffect(function(){return document.body.setAttribute(Sc,(_E()+1).toString()),function(){var e=_E()-1;e<=0?document.body.removeAttribute(Sc):document.body.setAttribute(Sc,e.toString())}},[])},A9=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;N9();var s=C.useMemo(function(){return C9(i)},[i]);return C.createElement(P9,{styles:T9(s,!t,i,n?"":"!important")})},g0=!1;if(typeof window<"u")try{var Bh=Object.defineProperty({},"passive",{get:function(){return g0=!0,!0}});window.addEventListener("test",Bh,Bh),window.removeEventListener("test",Bh,Bh)}catch{g0=!1}var uc=g0?{passive:!1}:!1,R9=function(e){return e.tagName==="TEXTAREA"},lT=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!R9(e)&&n[t]==="visible")},I9=function(e){return lT(e,"overflowY")},L9=function(e){return lT(e,"overflowX")},xE=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=cT(e,r);if(i){var s=uT(e,r),l=s[1],u=s[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},O9=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},j9=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},cT=function(e,t){return e==="v"?I9(t):L9(t)},uT=function(e,t){return e==="v"?O9(t):j9(t)},M9=function(e,t){return e==="h"&&t==="rtl"?-1:1},z9=function(e,t,n,r,i){var s=M9(e,window.getComputedStyle(t).direction),l=s*r,u=n.target,d=t.contains(u),p=!1,g=l>0,m=0,b=0;do{var w=uT(e,u),S=w[0],v=w[1],E=w[2],k=v-E-s*S;(S||k)&&cT(e,u)&&(m+=k,b+=S),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(g&&Math.abs(m)<1||!g&&Math.abs(b)<1)&&(p=!0),p},Fh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bE=function(e){return[e.deltaX,e.deltaY]},EE=function(e){return e&&"current"in e?e.current:e},D9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},B9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},F9=0,dc=[];function U9(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(F9++)[0],s=C.useState(aT)[0],l=C.useRef(e);C.useEffect(function(){l.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=l9([e.lockRef.current],(e.shards||[]).map(EE),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=C.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var k=Fh(v),N=n.current,A="deltaX"in v?v.deltaX:N[0]-k[0],z="deltaY"in v?v.deltaY:N[1]-k[1],D,$=v.target,H=Math.abs(A)>Math.abs(z)?"h":"v";if("touches"in v&&H==="h"&&$.type==="range")return!1;var V=xE(H,$);if(!V)return!0;if(V?D=H:(D=H==="v"?"h":"v",V=xE(H,$)),!V)return!1;if(!r.current&&"changedTouches"in v&&(A||z)&&(r.current=D),!D)return!0;var F=r.current||D;return z9(F,E,v,F==="h"?A:z)},[]),d=C.useCallback(function(v){var E=v;if(!(!dc.length||dc[dc.length-1]!==s)){var k="deltaY"in E?bE(E):Fh(E),N=t.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&D9(D.delta,k)})[0];if(N&&N.should){E.cancelable&&E.preventDefault();return}if(!N){var A=(l.current.shards||[]).map(EE).filter(Boolean).filter(function(D){return D.contains(E.target)}),z=A.length>0?u(E,A[0]):!l.current.noIsolation;z&&E.cancelable&&E.preventDefault()}}},[]),p=C.useCallback(function(v,E,k,N){var A={name:v,delta:E,target:k,should:N,shadowParent:$9(k)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(z){return z!==A})},1)},[]),g=C.useCallback(function(v){n.current=Fh(v),r.current=void 0},[]),m=C.useCallback(function(v){p(v.type,bE(v),v.target,u(v,e.lockRef.current))},[]),b=C.useCallback(function(v){p(v.type,Fh(v),v.target,u(v,e.lockRef.current))},[]);C.useEffect(function(){return dc.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:b}),document.addEventListener("wheel",d,uc),document.addEventListener("touchmove",d,uc),document.addEventListener("touchstart",g,uc),function(){dc=dc.filter(function(v){return v!==s}),document.removeEventListener("wheel",d,uc),document.removeEventListener("touchmove",d,uc),document.removeEventListener("touchstart",g,uc)}},[]);var w=e.removeScrollBar,S=e.inert;return C.createElement(C.Fragment,null,S?C.createElement(s,{styles:B9(i)}):null,w?C.createElement(A9,{gapMode:e.gapMode}):null)}function $9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Z9=y9(sT,U9);var fm=C.forwardRef(function(e,t){return C.createElement(dm,qi({},e,{ref:t,sideCar:Z9}))});fm.classNames=dm.classNames;var H9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fc=new WeakMap,Uh=new WeakMap,$h={},Fy=0,dT=function(e){return e&&(e.host||dT(e.parentNode))},W9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=dT(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},V9=function(e,t,n,r){var i=W9(t,Array.isArray(e)?e:[e]);$h[n]||($h[n]=new WeakMap);var s=$h[n],l=[],u=new Set,d=new Set(i),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};i.forEach(p);var g=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(b){if(u.has(b))g(b);else try{var w=b.getAttribute(r),S=w!==null&&w!=="false",v=(fc.get(b)||0)+1,E=(s.get(b)||0)+1;fc.set(b,v),s.set(b,E),l.push(b),v===1&&S&&Uh.set(b,!0),E===1&&b.setAttribute(n,"true"),S||b.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",b,k)}})};return g(t),u.clear(),Fy++,function(){l.forEach(function(m){var b=fc.get(m)-1,w=s.get(m)-1;fc.set(m,b),s.set(m,w),b||(Uh.has(m)||m.removeAttribute(r),Uh.delete(m)),w||m.removeAttribute(n)}),Fy--,Fy||(fc=new WeakMap,fc=new WeakMap,Uh=new WeakMap,$h={})}},Jw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=H9(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),V9(r,i,n,"aria-hidden")):function(){return null}},hm="Dialog",[fT,SK]=$n(hm),[q9,ki]=fT(hm),hT=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,u=C.useRef(null),d=C.useRef(null),[p,g]=bi({prop:r,defaultProp:i??!1,onChange:s,caller:hm});return y.jsx(q9,{scope:t,triggerRef:u,contentRef:d,contentId:Jr(),titleId:Jr(),descriptionId:Jr(),open:p,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(m=>!m),[g]),modal:l,children:n})};hT.displayName=hm;var pT="DialogTrigger",K9=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(pT,n),s=mt(t,i.triggerRef);return y.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":t_(i.open),...r,ref:s,onClick:Ue(e.onClick,i.onOpenToggle)})});K9.displayName=pT;var Qw="DialogPortal",[G9,mT]=fT(Qw,{forceMount:void 0}),gT=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=ki(Qw,t);return y.jsx(G9,{scope:t,forceMount:n,children:C.Children.map(r,l=>y.jsx(Zn,{present:n||s.open,children:y.jsx(Yd,{asChild:!0,container:i,children:l})}))})};gT.displayName=Qw;var Ep="DialogOverlay",yT=C.forwardRef((e,t)=>{const n=mT(Ep,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=ki(Ep,e.__scopeDialog);return s.modal?y.jsx(Zn,{present:r||s.open,children:y.jsx(J9,{...i,ref:t})}):null});yT.displayName=Ep;var Y9=ll("DialogOverlay.RemoveScroll"),J9=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(Ep,n);return y.jsx(fm,{as:Y9,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(Ye.div,{"data-state":t_(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ul="DialogContent",vT=C.forwardRef((e,t)=>{const n=mT(ul,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=ki(ul,e.__scopeDialog);return y.jsx(Zn,{present:r||s.open,children:s.modal?y.jsx(Q9,{...i,ref:t}):y.jsx(X9,{...i,ref:t})})});vT.displayName=ul;var Q9=C.forwardRef((e,t)=>{const n=ki(ul,e.__scopeDialog),r=C.useRef(null),i=mt(t,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return Jw(s)},[]),y.jsx(wT,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&s.preventDefault()}),onFocusOutside:Ue(e.onFocusOutside,s=>s.preventDefault())})}),X9=C.forwardRef((e,t)=>{const n=ki(ul,e.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return y.jsx(wT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var d,p;(d=e.onInteractOutside)==null||d.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((p=n.triggerRef.current)==null?void 0:p.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),wT=C.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=e,u=ki(ul,n),d=C.useRef(null),p=mt(t,d);return Yw(),y.jsxs(y.Fragment,{children:[y.jsx(um,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:y.jsx(Xc,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":t_(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(eZ,{titleId:u.titleId}),y.jsx(nZ,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Xw="DialogTitle",e_=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(Xw,n);return y.jsx(Ye.h2,{id:i.titleId,...r,ref:t})});e_.displayName=Xw;var _T="DialogDescription",xT=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(_T,n);return y.jsx(Ye.p,{id:i.descriptionId,...r,ref:t})});xT.displayName=_T;var bT="DialogClose",ET=C.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ki(bT,n);return y.jsx(Ye.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,()=>i.onOpenChange(!1))})});ET.displayName=bT;function t_(e){return e?"open":"closed"}var ST="DialogTitleWarning",[kK,kT]=U6(ST,{contentName:ul,titleName:Xw,docsSlug:"dialog"}),eZ=({titleId:e})=>{const t=kT(ST),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},tZ="DialogDescriptionWarning",nZ=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kT(tZ).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},rZ=hT,iZ=gT,CT=yT,PT=vT,TT=e_,NT=xT,oZ=ET;const pm=rZ,sZ=iZ,AT=C.forwardRef(({className:e,...t},n)=>y.jsx(CT,{ref:n,className:qe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));AT.displayName=CT.displayName;const tf=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(sZ,{children:[y.jsx(AT,{}),y.jsxs(PT,{ref:r,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,y.jsxs(oZ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[y.jsx(XC,{className:"size-5"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tf.displayName=PT.displayName;const nf=({className:e,...t})=>y.jsx("div",{className:qe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});nf.displayName="DialogHeader";const mm=C.forwardRef(({className:e,...t},n)=>y.jsx(TT,{ref:n,className:qe("text-lg font-semibold leading-none tracking-tight",e),...t}));mm.displayName=TT.displayName;const n_=C.forwardRef(({className:e,...t},n)=>y.jsx(NT,{ref:n,className:qe("text-sm text-muted-foreground",e),...t}));n_.displayName=NT.displayName;var aZ=C.createContext(void 0);function ou(e){const t=C.useContext(aZ);return e||t||"ltr"}var Uy="rovingFocusGroup.onEntryFocus",lZ={bubbles:!1,cancelable:!0},rf="RovingFocusGroup",[y0,RT,cZ]=Gd(rf),[uZ,gm]=$n(rf,[cZ]),[dZ,fZ]=uZ(rf),IT=C.forwardRef((e,t)=>y.jsx(y0.Provider,{scope:e.__scopeRovingFocusGroup,children:y.jsx(y0.Slot,{scope:e.__scopeRovingFocusGroup,children:y.jsx(hZ,{...e,ref:t})})}));IT.displayName=rf;var hZ=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=e,b=C.useRef(null),w=mt(t,b),S=ou(s),[v,E]=bi({prop:l,defaultProp:u??null,onChange:d,caller:rf}),[k,N]=C.useState(!1),A=sn(p),z=RT(n),D=C.useRef(!1),[$,H]=C.useState(0);return C.useEffect(()=>{const V=b.current;if(V)return V.addEventListener(Uy,A),()=>V.removeEventListener(Uy,A)},[A]),y.jsx(dZ,{scope:n,orientation:r,dir:S,loop:i,currentTabStopId:v,onItemFocus:C.useCallback(V=>E(V),[E]),onItemShiftTab:C.useCallback(()=>N(!0),[]),onFocusableItemAdd:C.useCallback(()=>H(V=>V+1),[]),onFocusableItemRemove:C.useCallback(()=>H(V=>V-1),[]),children:y.jsx(Ye.div,{tabIndex:k||$===0?-1:0,"data-orientation":r,...m,ref:w,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{D.current=!0}),onFocus:Ue(e.onFocus,V=>{const F=!D.current;if(V.target===V.currentTarget&&F&&!k){const W=new CustomEvent(Uy,lZ);if(V.currentTarget.dispatchEvent(W),!W.defaultPrevented){const J=z().filter(se=>se.focusable),U=J.find(se=>se.active),X=J.find(se=>se.id===v),K=[U,X,...J].filter(Boolean).map(se=>se.ref.current);jT(K,g)}}D.current=!1}),onBlur:Ue(e.onBlur,()=>N(!1))})})}),LT="RovingFocusGroupItem",OT=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:l,...u}=e,d=Jr(),p=s||d,g=fZ(LT,n),m=g.currentTabStopId===p,b=RT(n),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:v}=g;return C.useEffect(()=>{if(r)return w(),()=>S()},[r,w,S]),y.jsx(y0.ItemSlot,{scope:n,id:p,focusable:r,active:i,children:y.jsx(Ye.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:Ue(e.onMouseDown,E=>{r?g.onItemFocus(p):E.preventDefault()}),onFocus:Ue(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:Ue(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const k=gZ(E,g.orientation,g.dir);if(k!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let A=b().filter(z=>z.focusable).map(z=>z.ref.current);if(k==="last")A.reverse();else if(k==="prev"||k==="next"){k==="prev"&&A.reverse();const z=A.indexOf(E.currentTarget);A=g.loop?yZ(A,z+1):A.slice(z+1)}setTimeout(()=>jT(A))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:v!=null}):l})})});OT.displayName=LT;var pZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mZ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function gZ(e,t,n){const r=mZ(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return pZ[r]}function jT(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function yZ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var MT=IT,zT=OT,ym="Tabs",[vZ,CK]=$n(ym,[gm]),DT=gm(),[wZ,r_]=vZ(ym),BT=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:l="horizontal",dir:u,activationMode:d="automatic",...p}=e,g=ou(u),[m,b]=bi({prop:r,onChange:i,defaultProp:s??"",caller:ym});return y.jsx(wZ,{scope:n,baseId:Jr(),value:m,onValueChange:b,orientation:l,dir:g,activationMode:d,children:y.jsx(Ye.div,{dir:g,"data-orientation":l,...p,ref:t})})});BT.displayName=ym;var FT="TabsList",UT=C.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=r_(FT,n),l=DT(n);return y.jsx(MT,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:r,children:y.jsx(Ye.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});UT.displayName=FT;var $T="TabsTrigger",ZT=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,l=r_($T,n),u=DT(n),d=VT(l.baseId,r),p=qT(l.baseId,r),g=r===l.value;return y.jsx(zT,{asChild:!0,...u,focusable:!i,active:g,children:y.jsx(Ye.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...s,ref:t,onMouseDown:Ue(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?l.onValueChange(r):m.preventDefault()}),onKeyDown:Ue(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(r)}),onFocus:Ue(e.onFocus,()=>{const m=l.activationMode!=="manual";!g&&!i&&m&&l.onValueChange(r)})})})});ZT.displayName=$T;var HT="TabsContent",WT=C.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...l}=e,u=r_(HT,n),d=VT(u.baseId,r),p=qT(u.baseId,r),g=r===u.value,m=C.useRef(g);return C.useEffect(()=>{const b=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(b)},[]),y.jsx(Zn,{present:i||g,children:({present:b})=>y.jsx(Ye.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!b,id:p,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:b&&s})})});WT.displayName=HT;function VT(e,t){return`${e}-trigger-${t}`}function qT(e,t){return`${e}-content-${t}`}var _Z=BT,KT=UT,GT=ZT,YT=WT;const xZ=_Z,JT=C.forwardRef(({className:e,...t},n)=>y.jsx(KT,{ref:n,className:qe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));JT.displayName=KT.displayName;const v0=C.forwardRef(({className:e,...t},n)=>y.jsx(GT,{ref:n,className:qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));v0.displayName=GT.displayName;const w0=C.forwardRef(({className:e,...t},n)=>y.jsx(YT,{ref:n,className:qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));w0.displayName=YT.displayName;const bZ=Qd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),QT=C.forwardRef(({className:e,variant:t,...n},r)=>y.jsx("div",{ref:r,role:"alert",className:qe(bZ({variant:t}),e),...n}));QT.displayName="Alert";const EZ=C.forwardRef(({className:e,...t},n)=>y.jsx("h5",{ref:n,className:qe("mb-1 font-medium leading-none tracking-tight",e),...t}));EZ.displayName="AlertTitle";const XT=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:qe("text-sm [&_p]:leading-relaxed",e),...t}));XT.displayName="AlertDescription";var vm="Collapsible",[SZ,PK]=$n(vm),[kZ,i_]=SZ(vm),eN=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:l,...u}=e,[d,p]=bi({prop:r,defaultProp:i??!1,onChange:l,caller:vm});return y.jsx(kZ,{scope:n,disabled:s,contentId:Jr(),open:d,onOpenToggle:C.useCallback(()=>p(g=>!g),[p]),children:y.jsx(Ye.div,{"data-state":s_(d),"data-disabled":s?"":void 0,...u,ref:t})})});eN.displayName=vm;var tN="CollapsibleTrigger",nN=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=i_(tN,n);return y.jsx(Ye.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":s_(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:Ue(e.onClick,i.onOpenToggle)})});nN.displayName=tN;var o_="CollapsibleContent",rN=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=i_(o_,e.__scopeCollapsible);return y.jsx(Zn,{present:n||i.open,children:({present:s})=>y.jsx(CZ,{...r,ref:t,present:s})})});rN.displayName=o_;var CZ=C.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,l=i_(o_,n),[u,d]=C.useState(r),p=C.useRef(null),g=mt(t,p),m=C.useRef(0),b=m.current,w=C.useRef(0),S=w.current,v=l.open||u,E=C.useRef(v),k=C.useRef(void 0);return C.useEffect(()=>{const N=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(N)},[]),cn(()=>{const N=p.current;if(N){k.current=k.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const A=N.getBoundingClientRect();m.current=A.height,w.current=A.width,E.current||(N.style.transitionDuration=k.current.transitionDuration,N.style.animationName=k.current.animationName),d(r)}},[l.open,r]),y.jsx(Ye.div,{"data-state":s_(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...s,ref:g,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style},children:v&&i})});function s_(e){return e?"open":"closed"}var PZ=eN;const TZ=PZ,NZ=nN,AZ=rN;function iN(){const{nostr:e}=gr(),{logins:t,addLogin:n,removeLogin:r}=Sw();return{nsec(i){const s=tl.fromNsec(i);n(s)},async bunker(i){const s=await tl.fromBunker(i,e);n(s)},async extension(){const i=await tl.fromExtension();n(i)},async logout(){const i=t[0];i&&r(i.id)}}}const SE=e=>/^nsec1[a-zA-Z0-9]{58}$/.test(e),RZ=e=>e.startsWith("bunker://"),IZ=({isOpen:e,onClose:t,onLogin:n})=>{const[r,i]=C.useState(!1),[s,l]=C.useState(!1),[u,d]=C.useState(""),[p,g]=C.useState(""),[m,b]=C.useState({}),w=C.useRef(null),S=iN();C.useEffect(()=>{e&&(i(!1),l(!1),d(""),g(""),b({}),w.current&&(w.current.value=""))},[e]);const v=async()=>{i(!0),b(V=>({...V,extension:void 0}));try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");await S.extension(),n(),t()}catch(V){const F=V;console.error("Bunker login failed:",F),console.error("Nsec login failed:",F),console.error("Extension login failed:",F),b(W=>({...W,extension:F instanceof Error?F.message:"Extension login failed"}))}finally{i(!1)}},E=V=>{i(!0),b({}),setTimeout(()=>{try{S.nsec(V),n(),t()}catch{b({nsec:"Failed to login with this key. Please check that it's correct."}),i(!1)}},50)},k=()=>{if(!u.trim()){b(V=>({...V,nsec:"Please enter your secret key"}));return}if(!SE(u)){b(V=>({...V,nsec:"Invalid secret key format. Must be a valid nsec starting with nsec1."}));return}E(u)},N=async()=>{if(!p.trim()){b(V=>({...V,bunker:"Please enter a bunker URI"}));return}if(!RZ(p)){b(V=>({...V,bunker:"Invalid bunker URI format. Must start with bunker://"}));return}i(!0),b(V=>({...V,bunker:void 0}));try{await S.bunker(p),n(),t(),g("")}catch{b(V=>({...V,bunker:"Failed to connect to bunker. Please check the URI."}))}finally{i(!1)}},A=V=>{var J;const F=(J=V.target.files)==null?void 0:J[0];if(!F)return;l(!0),b({});const W=new FileReader;W.onload=U=>{var O;l(!1);const X=(O=U.target)==null?void 0:O.result;if(X){const K=X.trim();SE(K)?E(K):b({file:"File does not contain a valid secret key."})}else b({file:"Could not read file content."})},W.onerror=()=>{l(!1),b({file:"Failed to read file."})},W.readAsText(F)},z="nostr"in window,[D,$]=C.useState(!1),H=()=>y.jsxs(xZ,{defaultValue:"key",className:"w-full",children:[y.jsxs(JT,{className:"grid w-full grid-cols-2 bg-muted/80 rounded-lg mb-4",children:[y.jsx(v0,{value:"key",className:"flex items-center gap-2",children:y.jsx("span",{children:"Secret Key"})}),y.jsx(v0,{value:"bunker",className:"flex items-center gap-2",children:y.jsx("span",{children:"Remote Signer"})})]}),y.jsx(w0,{value:"key",className:"space-y-4",children:y.jsxs("form",{onSubmit:V=>{V.preventDefault(),k()},className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Tn,{id:"nsec",type:"password",value:u,onChange:V=>{d(V.target.value),m.nsec&&b(F=>({...F,nsec:void 0}))},className:`rounded-lg ${m.nsec?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:"nsec1...",autoComplete:"off"}),m.nsec&&y.jsx("p",{className:"text-sm text-red-500",children:m.nsec})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(At,{type:"submit",size:"lg",disabled:r||!u.trim(),className:"flex-1",children:r?"Verifying...":"Log in"}),y.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:w,onChange:A}),y.jsx(At,{type:"button",variant:"outline",size:"lg",onClick:()=>{var V;return(V=w.current)==null?void 0:V.click()},disabled:r||s,className:"px-3",children:y.jsx(QC,{className:"w-4 h-4"})})]}),m.file&&y.jsx("p",{className:"text-sm text-red-500 text-center",children:m.file})]})}),y.jsx(w0,{value:"bunker",className:"space-y-4",children:y.jsxs("form",{onSubmit:V=>{V.preventDefault(),N()},className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Tn,{id:"bunkerUri",value:p,onChange:V=>{g(V.target.value),m.bunker&&b(F=>({...F,bunker:void 0}))},className:`rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary ${m.bunker?"border-red-500":""}`,placeholder:"bunker://",autoComplete:"off"}),m.bunker&&y.jsx("p",{className:"text-sm text-red-500",children:m.bunker})]}),y.jsx(At,{type:"submit",size:"lg",className:"w-full",disabled:r||!p.trim(),children:r?"Connecting...":"Log in"})]})})]});return y.jsx(pm,{open:e,onOpenChange:t,children:y.jsxs(tf,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[y.jsx(nf,{className:"px-6 pt-6",children:y.jsx(e_,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:"Log in"})}),y.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),y.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto",children:[z&&y.jsxs("div",{className:"space-y-4",children:[m.extension&&y.jsxs(QT,{variant:"destructive",children:[y.jsx(Nw,{className:"h-4 w-4"}),y.jsx(XT,{children:m.extension})]}),y.jsx(At,{className:"w-full h-12 px-9",onClick:v,disabled:r,children:r?"Logging in...":"Log in with Extension"})]}),z?y.jsxs(TZ,{className:"space-y-4",open:D,onOpenChange:$,children:[y.jsx(NZ,{asChild:!0,children:y.jsxs("button",{className:"w-full flex items-center justify-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[y.jsx("span",{children:"More Options"}),y.jsx(nm,{className:`w-4 h-4 transition-transform ${D?"rotate-180":""}`})]})}),y.jsx(AZ,{children:H()})]}):H()]})]})})},wm=C.forwardRef(({className:e,...t},n)=>y.jsx("textarea",{className:qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));wm.displayName="Textarea";function a_(){const{nostr:e}=gr(),{user:t}=pl();return D0({mutationFn:async n=>{if(t){const r=n.tags??[];location.protocol==="https:"&&!r.some(([s])=>s==="client")&&r.push(["client",location.hostname]);const i=await t.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await e.event(i,{signal:AbortSignal.timeout(5e3)}),i}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}class l_{constructor(t){He(this,"servers");He(this,"signer");He(this,"fetch");He(this,"expiresIn");this.servers=t.servers,this.signer=t.signer,this.fetch=t.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=t.expiresIn??6e4}async upload(t,n){const r=await crypto.subtle.digest("SHA-256",await t.arrayBuffer()),i=v6(new Uint8Array(r)),s=Date.now(),l=s+this.expiresIn,u=await this.signer.signEvent({kind:24242,content:`Upload ${t.name}`,created_at:Math.floor(s/1e3),tags:[["t","upload"],["x",i],["size",t.size.toString()],["expiration",Math.floor(l/1e3).toString()]]}),d=`Nostr ${S6.encodeEvent(u)}`;return Promise.any(this.servers.map(async p=>{const g=new URL("/upload",p),b=await(await this.fetch(g,{method:"PUT",body:t,headers:{authorization:d,"content-type":t.type},signal:n==null?void 0:n.signal})).json(),w=l_.schema().parse(b),S=[["url",w.url],["x",w.sha256],["ox",w.sha256],["size",w.size.toString()]];return w.type&&S.push(["m",w.type]),S}))}static schema(){return Mo({url:Ot(),sha256:Ot(),size:Po(),type:Ot().optional()})}}function oN(){const{user:e}=pl();return D0({mutationFn:async t=>{if(!e)throw new Error("Must be logged in to upload files");return await new l_({servers:["https://blossom.primal.net/"],signer:e.signer}).upload(t)}})}const LZ=({isOpen:e,onClose:t})=>{const[n,r]=C.useState("generate"),[i,s]=C.useState(""),[l,u]=C.useState(!1),[d,p]=C.useState({name:"",about:"",picture:""}),g=iN(),{mutateAsync:m,isPending:b}=a_(),{mutateAsync:w,isPending:S}=oN(),v=C.useRef(null),E=()=>{const D=Vd();s(er.nsecEncode(D)),r("download")},k=()=>{try{const D=new Blob([i],{type:"text/plain; charset=utf-8"}),$=globalThis.URL.createObjectURL(D),H=er.decode(i);if(H.type!=="nsec")throw new Error("Invalid nsec key");const V=Fo(H.data),F=er.npubEncode(V),W=`nostr-${location.hostname.replaceAll(/\./g,"-")}-${F.slice(5,9)}.nsec.txt`,J=document.createElement("a");J.href=$,J.download=W,J.style.display="none",document.body.appendChild(J),J.click(),globalThis.URL.revokeObjectURL($),document.body.removeChild(J),g.nsec(i),r("profile")}catch{mc({title:"Download failed",description:"Could not download the key file. Please copy it manually.",variant:"destructive"})}},N=async D=>{var H,V;const $=(H=D.target.files)==null?void 0:H[0];if($){if(D.target.value="",!$.type.startsWith("image/")){mc({title:"Invalid file type",description:"Please select an image file for your avatar.",variant:"destructive"});return}if($.size>5*1024*1024){mc({title:"File too large",description:"Avatar image must be smaller than 5MB.",variant:"destructive"});return}try{const W=(V=(await w($))[0])==null?void 0:V[1];W&&p(J=>({...J,picture:W}))}catch{mc({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}}},A=async(D=!1)=>{try{if(!D&&(d.name||d.about||d.picture)){const $={};d.name&&($.name=d.name),d.about&&($.about=d.about),d.picture&&($.picture=d.picture),await m({kind:0,content:JSON.stringify($)})}}catch{mc({title:"Profile Setup Failed",description:"Your account was created but profile setup failed. You can update it later.",variant:"destructive"})}finally{t()}},z=()=>{if(n==="generate")return"Sign up";if(n==="download")return"Secret Key";if(n==="profile")return"Create Your Profile"};return C.useEffect(()=>{e&&(r("generate"),s(""),u(!1),p({name:"",about:"",picture:""}))},[e]),y.jsx(pm,{open:e,onOpenChange:t,children:y.jsxs(tf,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[y.jsx(nf,{className:"px-6 pt-6",children:y.jsx(mm,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:z()})}),y.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto flex-1",children:[n==="generate"&&y.jsxs("div",{className:"text-center space-y-6",children:[y.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),y.jsx(At,{className:"w-full h-12 px-9",onClick:E,children:"Generate key"})]}),n==="download"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"flex size-16 text-4xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),y.jsxs("div",{className:"relative",children:[y.jsx(Tn,{type:l?"text":"password",value:i,readOnly:!0,className:"pr-10 font-mono text-sm"}),y.jsx(At,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>u(!l),children:l?y.jsx(HB,{className:"h-4 w-4 text-muted-foreground"}):y.jsx(WB,{className:"h-4 w-4 text-muted-foreground"})})]}),y.jsxs(At,{className:"w-full h-12 px-9",onClick:k,children:[y.jsx(ZB,{className:"size-4"}),"Download key"]}),y.jsx("div",{className:"mx-auto max-w-sm",children:y.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[y.jsx("div",{className:"flex items-center gap-2 mb-1",children:y.jsx("span",{className:"text-xs font-semibold text-amber-800 dark:text-amber-200",children:"Important Warning"})}),y.jsx("p",{className:"text-xs text-amber-900 dark:text-amber-300",children:"This key is your primary and only means of accessing your account. Store it safely and securely. Please download your key to continue."})]})})]}),n==="profile"&&y.jsxs("div",{className:"text-center space-y-4",children:[b&&y.jsx("div",{className:"p-4 rounded-lg bg-muted border",children:y.jsxs("div",{className:"flex items-center justify-center gap-3",children:[y.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),y.jsx("span",{className:"text-sm font-medium",children:"Publishing your profile..."})]})}),y.jsxs("div",{className:`space-y-4 text-left ${b?"opacity-50 pointer-events-none":""}`,children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{htmlFor:"profile-name",className:"text-sm font-medium",children:"Display Name"}),y.jsx(Tn,{id:"profile-name",value:d.name,onChange:D=>p($=>({...$,name:D.target.value})),placeholder:"Your name",disabled:b})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{htmlFor:"profile-about",className:"text-sm font-medium",children:"Bio"}),y.jsx(wm,{id:"profile-about",value:d.about,onChange:D=>p($=>({...$,about:D.target.value})),placeholder:"Tell others about yourself...",className:"resize-none",rows:3,disabled:b})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{htmlFor:"profile-picture",className:"text-sm font-medium",children:"Avatar"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(Tn,{id:"profile-picture",value:d.picture,onChange:D=>p($=>({...$,picture:D.target.value})),placeholder:"https://example.com/your-avatar.jpg",className:"flex-1",disabled:b}),y.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:v,onChange:N}),y.jsx(At,{type:"button",variant:"outline",size:"icon",onClick:()=>{var D;return(D=v.current)==null?void 0:D.click()},disabled:S||b,title:"Upload avatar image",children:S?y.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):y.jsx(QC,{className:"w-4 h-4"})})]})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(At,{className:"w-full",onClick:()=>A(!1),disabled:b||S,children:b?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):"Create profile"}),y.jsx(At,{variant:"outline",className:"w-full",onClick:()=>A(!0),disabled:b||S,children:b?"Setting up account...":"Skip for now"})]})]})]})]})})};function sN(){const{nostr:e}=gr(),{logins:t,setLogin:n,removeLogin:r}=Sw(),{data:i=[]}=_i({queryKey:["nostr","logins",t.map(u=>u.id).join(";")],queryFn:async({signal:u})=>{const d=await e.query([{kinds:[0],authors:t.map(p=>p.pubkey)}],{signal:AbortSignal.any([u,AbortSignal.timeout(1500)])});return t.map(({id:p,pubkey:g})=>{const m=d.find(b=>b.pubkey===g);try{const b=Et.json().pipe(Et.metadata()).parse(m==null?void 0:m.content);return{id:p,pubkey:g,metadata:b,event:m}}catch{return{id:p,pubkey:g,metadata:{},event:m}}})},retry:3}),s=(()=>{const u=t[0];if(!u)return;const d=i.find(p=>p.id===u.id);return{metadata:{},...d,id:u.id,pubkey:u.pubkey}})(),l=(i||[]).slice(1);return{authors:i,currentUser:s,otherUsers:l,setLogin:n,removeLogin:r}}var _0=["Enter"," "],OZ=["ArrowDown","PageUp","Home"],aN=["ArrowUp","PageDown","End"],jZ=[...OZ,...aN],MZ={ltr:[..._0,"ArrowRight"],rtl:[..._0,"ArrowLeft"]},zZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},of="Menu",[Ld,DZ,BZ]=Gd(of),[vl,lN]=$n(of,[BZ,ru,gm]),_m=ru(),cN=gm(),[FZ,wl]=vl(of),[UZ,sf]=vl(of),uN=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:l=!0}=e,u=_m(t),[d,p]=C.useState(null),g=C.useRef(!1),m=sn(s),b=ou(i);return C.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),y.jsx(Uw,{...u,children:y.jsx(FZ,{scope:t,open:n,onOpenChange:m,content:d,onContentChange:p,children:y.jsx(UZ,{scope:t,onClose:C.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:b,modal:l,children:r})})})};uN.displayName=of;var $Z="MenuAnchor",c_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=_m(n);return y.jsx($w,{...i,...r,ref:t})});c_.displayName=$Z;var u_="MenuPortal",[ZZ,dN]=vl(u_,{forceMount:void 0}),fN=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=wl(u_,t);return y.jsx(ZZ,{scope:t,forceMount:n,children:y.jsx(Zn,{present:n||s.open,children:y.jsx(Yd,{asChild:!0,container:i,children:r})})})};fN.displayName=u_;var Qr="MenuContent",[HZ,d_]=vl(Qr),hN=C.forwardRef((e,t)=>{const n=dN(Qr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=wl(Qr,e.__scopeMenu),l=sf(Qr,e.__scopeMenu);return y.jsx(Ld.Provider,{scope:e.__scopeMenu,children:y.jsx(Zn,{present:r||s.open,children:y.jsx(Ld.Slot,{scope:e.__scopeMenu,children:l.modal?y.jsx(WZ,{...i,ref:t}):y.jsx(VZ,{...i,ref:t})})})})}),WZ=C.forwardRef((e,t)=>{const n=wl(Qr,e.__scopeMenu),r=C.useRef(null),i=mt(t,r);return C.useEffect(()=>{const s=r.current;if(s)return Jw(s)},[]),y.jsx(f_,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ue(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),VZ=C.forwardRef((e,t)=>{const n=wl(Qr,e.__scopeMenu);return y.jsx(f_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),qZ=ll("MenuContent.ScrollLock"),f_=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:b,onDismiss:w,disableOutsideScroll:S,...v}=e,E=wl(Qr,n),k=sf(Qr,n),N=_m(n),A=cN(n),z=DZ(n),[D,$]=C.useState(null),H=C.useRef(null),V=mt(t,H,E.onContentChange),F=C.useRef(0),W=C.useRef(""),J=C.useRef(0),U=C.useRef(null),X=C.useRef("right"),O=C.useRef(0),K=S?fm:C.Fragment,se=S?{as:qZ,allowPinchZoom:!0}:void 0,ie=ee=>{var Te,Ne;const le=W.current+ee,Z=z().filter(je=>!je.disabled),Q=document.activeElement,ke=(Te=Z.find(je=>je.ref.current===Q))==null?void 0:Te.textValue,_e=Z.map(je=>je.textValue),ve=oH(_e,le,ke),Ie=(Ne=Z.find(je=>je.textValue===ve))==null?void 0:Ne.ref.current;(function je(Ze){W.current=Ze,window.clearTimeout(F.current),Ze!==""&&(F.current=window.setTimeout(()=>je(""),1e3))})(le),Ie&&setTimeout(()=>Ie.focus())};C.useEffect(()=>()=>window.clearTimeout(F.current),[]),Yw();const te=C.useCallback(ee=>{var Z,Q;return X.current===((Z=U.current)==null?void 0:Z.side)&&aH(ee,(Q=U.current)==null?void 0:Q.area)},[]);return y.jsx(HZ,{scope:n,searchRef:W,onItemEnter:C.useCallback(ee=>{te(ee)&&ee.preventDefault()},[te]),onItemLeave:C.useCallback(ee=>{var le;te(ee)||((le=H.current)==null||le.focus(),$(null))},[te]),onTriggerLeave:C.useCallback(ee=>{te(ee)&&ee.preventDefault()},[te]),pointerGraceTimerRef:J,onPointerGraceIntentChange:C.useCallback(ee=>{U.current=ee},[]),children:y.jsx(K,{...se,children:y.jsx(um,{asChild:!0,trapped:i,onMountAutoFocus:Ue(s,ee=>{var le;ee.preventDefault(),(le=H.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:y.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:b,onDismiss:w,children:y.jsx(MT,{asChild:!0,...A,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:$,onEntryFocus:Ue(d,ee=>{k.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(Zw,{role:"menu","aria-orientation":"vertical","data-state":NN(E.open),"data-radix-menu-content":"",dir:k.dir,...N,...v,ref:V,style:{outline:"none",...v.style},onKeyDown:Ue(v.onKeyDown,ee=>{const Z=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,Q=ee.ctrlKey||ee.altKey||ee.metaKey,ke=ee.key.length===1;Z&&(ee.key==="Tab"&&ee.preventDefault(),!Q&&ke&&ie(ee.key));const _e=H.current;if(ee.target!==_e||!jZ.includes(ee.key))return;ee.preventDefault();const Ie=z().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);aN.includes(ee.key)&&Ie.reverse(),rH(Ie)}),onBlur:Ue(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(F.current),W.current="")}),onPointerMove:Ue(e.onPointerMove,Od(ee=>{const le=ee.target,Z=O.current!==ee.clientX;if(ee.currentTarget.contains(le)&&Z){const Q=ee.clientX>O.current?"right":"left";X.current=Q,O.current=ee.clientX}}))})})})})})})});hN.displayName=Qr;var KZ="MenuGroup",h_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return y.jsx(Ye.div,{role:"group",...r,ref:t})});h_.displayName=KZ;var GZ="MenuLabel",pN=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return y.jsx(Ye.div,{...r,ref:t})});pN.displayName=GZ;var Sp="MenuItem",kE="menu.itemSelect",xm=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=C.useRef(null),l=sf(Sp,e.__scopeMenu),u=d_(Sp,e.__scopeMenu),d=mt(t,s),p=C.useRef(!1),g=()=>{const m=s.current;if(!n&&m){const b=new CustomEvent(kE,{bubbles:!0,cancelable:!0});m.addEventListener(kE,w=>r==null?void 0:r(w),{once:!0}),kw(m,b),b.defaultPrevented?p.current=!1:l.onClose()}};return y.jsx(mN,{...i,ref:d,disabled:n,onClick:Ue(e.onClick,g),onPointerDown:m=>{var b;(b=e.onPointerDown)==null||b.call(e,m),p.current=!0},onPointerUp:Ue(e.onPointerUp,m=>{var b;p.current||(b=m.currentTarget)==null||b.click()}),onKeyDown:Ue(e.onKeyDown,m=>{const b=u.searchRef.current!=="";n||b&&m.key===" "||_0.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});xm.displayName=Sp;var mN=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,l=d_(Sp,n),u=cN(n),d=C.useRef(null),p=mt(t,d),[g,m]=C.useState(!1),[b,w]=C.useState("");return C.useEffect(()=>{const S=d.current;S&&w((S.textContent??"").trim())},[s.children]),y.jsx(Ld.ItemSlot,{scope:n,disabled:r,textValue:i??b,children:y.jsx(zT,{asChild:!0,...u,focusable:!r,children:y.jsx(Ye.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:p,onPointerMove:Ue(e.onPointerMove,Od(S=>{r?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ue(e.onPointerLeave,Od(S=>l.onItemLeave(S))),onFocus:Ue(e.onFocus,()=>m(!0)),onBlur:Ue(e.onBlur,()=>m(!1))})})})}),YZ="MenuCheckboxItem",gN=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return y.jsx(xN,{scope:e.__scopeMenu,checked:n,children:y.jsx(xm,{role:"menuitemcheckbox","aria-checked":kp(n)?"mixed":n,...i,ref:t,"data-state":m_(n),onSelect:Ue(i.onSelect,()=>r==null?void 0:r(kp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});gN.displayName=YZ;var yN="MenuRadioGroup",[JZ,QZ]=vl(yN,{value:void 0,onValueChange:()=>{}}),vN=C.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=sn(r);return y.jsx(JZ,{scope:e.__scopeMenu,value:n,onValueChange:s,children:y.jsx(h_,{...i,ref:t})})});vN.displayName=yN;var wN="MenuRadioItem",_N=C.forwardRef((e,t)=>{const{value:n,...r}=e,i=QZ(wN,e.__scopeMenu),s=n===i.value;return y.jsx(xN,{scope:e.__scopeMenu,checked:s,children:y.jsx(xm,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":m_(s),onSelect:Ue(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,n)},{checkForDefaultPrevented:!1})})})});_N.displayName=wN;var p_="MenuItemIndicator",[xN,XZ]=vl(p_,{checked:!1}),bN=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=XZ(p_,n);return y.jsx(Zn,{present:r||kp(s.checked)||s.checked===!0,children:y.jsx(Ye.span,{...i,ref:t,"data-state":m_(s.checked)})})});bN.displayName=p_;var eH="MenuSeparator",EN=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return y.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});EN.displayName=eH;var tH="MenuArrow",SN=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=_m(n);return y.jsx(Hw,{...i,...r,ref:t})});SN.displayName=tH;var nH="MenuSub",[TK,kN]=vl(nH),hd="MenuSubTrigger",CN=C.forwardRef((e,t)=>{const n=wl(hd,e.__scopeMenu),r=sf(hd,e.__scopeMenu),i=kN(hd,e.__scopeMenu),s=d_(hd,e.__scopeMenu),l=C.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=s,p={__scopeMenu:e.__scopeMenu},g=C.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return C.useEffect(()=>g,[g]),C.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),d(null)}},[u,d]),y.jsx(c_,{asChild:!0,...p,children:y.jsx(mN,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":NN(n.open),...e,ref:Xp(t,i.onTriggerChange),onClick:m=>{var b;(b=e.onClick)==null||b.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ue(e.onPointerMove,Od(m=>{s.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Ue(e.onPointerLeave,Od(m=>{var w,S;g();const b=(w=n.content)==null?void 0:w.getBoundingClientRect();if(b){const v=(S=n.content)==null?void 0:S.dataset.side,E=v==="right",k=E?-5:5,N=b[E?"left":"right"],A=b[E?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+k,y:m.clientY},{x:N,y:b.top},{x:A,y:b.top},{x:A,y:b.bottom},{x:N,y:b.bottom}],side:v}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ue(e.onKeyDown,m=>{var w;const b=s.searchRef.current!=="";e.disabled||b&&m.key===" "||MZ[r.dir].includes(m.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),m.preventDefault())})})})});CN.displayName=hd;var PN="MenuSubContent",TN=C.forwardRef((e,t)=>{const n=dN(Qr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=wl(Qr,e.__scopeMenu),l=sf(Qr,e.__scopeMenu),u=kN(PN,e.__scopeMenu),d=C.useRef(null),p=mt(t,d);return y.jsx(Ld.Provider,{scope:e.__scopeMenu,children:y.jsx(Zn,{present:r||s.open,children:y.jsx(Ld.Slot,{scope:e.__scopeMenu,children:y.jsx(f_,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var m;l.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Ue(e.onFocusOutside,g=>{g.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ue(e.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:Ue(e.onKeyDown,g=>{var w;const m=g.currentTarget.contains(g.target),b=zZ[l.dir].includes(g.key);m&&b&&(s.onOpenChange(!1),(w=u.trigger)==null||w.focus(),g.preventDefault())})})})})})});TN.displayName=PN;function NN(e){return e?"open":"closed"}function kp(e){return e==="indeterminate"}function m_(e){return kp(e)?"indeterminate":e?"checked":"unchecked"}function rH(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function iH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function oH(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=iH(e,Math.max(s,0));i.length===1&&(l=l.filter(p=>p!==n));const d=l.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function sH(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const u=t[s],d=t[l],p=u.x,g=u.y,m=d.x,b=d.y;g>r!=b>r&&n<(m-p)*(r-g)/(b-g)+p&&(i=!i)}return i}function aH(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return sH(n,t)}function Od(e){return t=>t.pointerType==="mouse"?e(t):void 0}var lH=uN,cH=c_,uH=fN,dH=hN,fH=h_,hH=pN,pH=xm,mH=gN,gH=vN,yH=_N,vH=bN,wH=EN,_H=SN,xH=CN,bH=TN,bm="DropdownMenu",[EH,NK]=$n(bm,[lN]),tr=lN(),[SH,AN]=EH(bm),RN=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:l,modal:u=!0}=e,d=tr(t),p=C.useRef(null),[g,m]=bi({prop:i,defaultProp:s??!1,onChange:l,caller:bm});return y.jsx(SH,{scope:t,triggerId:Jr(),triggerRef:p,contentId:Jr(),open:g,onOpenChange:m,onOpenToggle:C.useCallback(()=>m(b=>!b),[m]),modal:u,children:y.jsx(lH,{...d,open:g,onOpenChange:m,dir:r,modal:u,children:n})})};RN.displayName=bm;var IN="DropdownMenuTrigger",LN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=AN(IN,n),l=tr(n);return y.jsx(cH,{asChild:!0,...l,children:y.jsx(Ye.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Xp(t,s.triggerRef),onPointerDown:Ue(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:Ue(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});LN.displayName=IN;var kH="DropdownMenuPortal",ON=e=>{const{__scopeDropdownMenu:t,...n}=e,r=tr(t);return y.jsx(uH,{...r,...n})};ON.displayName=kH;var jN="DropdownMenuContent",MN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=AN(jN,n),s=tr(n),l=C.useRef(!1);return y.jsx(dH,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:Ue(e.onCloseAutoFocus,u=>{var d;l.current||(d=i.triggerRef.current)==null||d.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Ue(e.onInteractOutside,u=>{const d=u.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,g=d.button===2||p;(!i.modal||g)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MN.displayName=jN;var CH="DropdownMenuGroup",PH=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(fH,{...i,...r,ref:t})});PH.displayName=CH;var TH="DropdownMenuLabel",zN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(hH,{...i,...r,ref:t})});zN.displayName=TH;var NH="DropdownMenuItem",DN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(pH,{...i,...r,ref:t})});DN.displayName=NH;var AH="DropdownMenuCheckboxItem",BN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(mH,{...i,...r,ref:t})});BN.displayName=AH;var RH="DropdownMenuRadioGroup",IH=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(gH,{...i,...r,ref:t})});IH.displayName=RH;var LH="DropdownMenuRadioItem",FN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(yH,{...i,...r,ref:t})});FN.displayName=LH;var OH="DropdownMenuItemIndicator",UN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(vH,{...i,...r,ref:t})});UN.displayName=OH;var jH="DropdownMenuSeparator",$N=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(wH,{...i,...r,ref:t})});$N.displayName=jH;var MH="DropdownMenuArrow",zH=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(_H,{...i,...r,ref:t})});zH.displayName=MH;var DH="DropdownMenuSubTrigger",ZN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(xH,{...i,...r,ref:t})});ZN.displayName=DH;var BH="DropdownMenuSubContent",HN=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return y.jsx(bH,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HN.displayName=BH;var FH=RN,UH=LN,$H=ON,WN=MN,VN=zN,qN=DN,KN=BN,GN=FN,YN=UN,JN=$N,QN=ZN,XN=HN;const ZH=FH,HH=UH,WH=C.forwardRef(({className:e,inset:t,children:n,...r},i)=>y.jsxs(QN,{ref:i,className:qe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,y.jsx(MB,{className:"ml-auto h-4 w-4"})]}));WH.displayName=QN.displayName;const VH=C.forwardRef(({className:e,...t},n)=>y.jsx(XN,{ref:n,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));VH.displayName=XN.displayName;const eA=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>y.jsx($H,{children:y.jsx(WN,{ref:r,sideOffset:t,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));eA.displayName=WN.displayName;const Xh=C.forwardRef(({className:e,inset:t,...n},r)=>y.jsx(qN,{ref:r,className:qe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Xh.displayName=qN.displayName;const qH=C.forwardRef(({className:e,children:t,checked:n,...r},i)=>y.jsxs(KN,{ref:i,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(YN,{children:y.jsx(YC,{className:"h-4 w-4"})})}),t]}));qH.displayName=KN.displayName;const KH=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(GN,{ref:r,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(YN,{children:y.jsx(BB,{className:"h-2 w-2 fill-current"})})}),t]}));KH.displayName=GN.displayName;const GH=C.forwardRef(({className:e,inset:t,...n},r)=>y.jsx(VN,{ref:r,className:qe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));GH.displayName=VN.displayName;const tA=C.forwardRef(({className:e,...t},n)=>y.jsx(JN,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));tA.displayName=JN.displayName;var $y={exports:{}},Zy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function YH(){if(CE)return Zy;CE=1;var e=Lp();function t(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(m,b){var w=b(),S=r({inst:{value:w,getSnapshot:b}}),v=S[0].inst,E=S[1];return s(function(){v.value=w,v.getSnapshot=b,d(v)&&E({inst:v})},[m,w,b]),i(function(){return d(v)&&E({inst:v}),m(function(){d(v)&&E({inst:v})})},[m]),l(w),w}function d(m){var b=m.getSnapshot;m=m.value;try{var w=b();return!n(m,w)}catch{return!0}}function p(m,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return Zy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Zy}var PE;function JH(){return PE||(PE=1,$y.exports=YH()),$y.exports}var QH=JH();function XH(){return QH.useSyncExternalStore(eW,()=>!0,()=>!1)}function eW(){return()=>{}}var g_="Avatar",[tW,AK]=$n(g_),[nW,nA]=tW(g_),rA=C.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=C.useState("idle");return y.jsx(nW,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:y.jsx(Ye.span,{...r,ref:t})})});rA.displayName=g_;var iA="AvatarImage",oA=C.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,l=nA(iA,n),u=rW(r,s),d=sn(p=>{i(p),l.onImageLoadingStatusChange(p)});return cn(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?y.jsx(Ye.img,{...s,ref:t,src:r}):null});oA.displayName=iA;var sA="AvatarFallback",aA=C.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=nA(sA,n),[l,u]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&s.imageLoadingStatus!=="loaded"?y.jsx(Ye.span,{...i,ref:t}):null});aA.displayName=sA;function TE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function rW(e,{referrerPolicy:t,crossOrigin:n}){const r=XH(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[l,u]=C.useState(()=>TE(s,e));return cn(()=>{u(TE(s,e))},[s,e]),cn(()=>{const d=m=>()=>{u(m)};if(!s)return;const p=d("loaded"),g=d("error");return s.addEventListener("load",p),s.addEventListener("error",g),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",p),s.removeEventListener("error",g)}},[s,n,t]),l}var lA=rA,cA=oA,uA=aA;const jd=C.forwardRef(({className:e,...t},n)=>y.jsx(lA,{ref:n,className:qe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));jd.displayName=lA.displayName;const Md=C.forwardRef(({className:e,...t},n)=>y.jsx(cA,{ref:n,className:qe("aspect-square h-full w-full object-cover",e),...t}));Md.displayName=cA.displayName;const zd=C.forwardRef(({className:e,...t},n)=>y.jsx(uA,{ref:n,className:qe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));zd.displayName=uA.displayName;function Em(e){const t=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let l=0;l<e.length;l++){const u=e.charCodeAt(l);r=(r<<5)-r+u,r=r&r}const i=Math.abs(r)%t.length,s=Math.abs(r>>8)%n.length;return[t[i],n[s]].join(" ")}function iW({onAddAccountClick:e}){const{currentUser:t,otherUsers:n,setLogin:r,removeLogin:i}=sN();if(!t)return null;const s=l=>l.metadata.name??Em(l.pubkey);return y.jsxs(ZH,{modal:!1,children:[y.jsx(HH,{asChild:!0,children:y.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[y.jsxs(jd,{className:"w-10 h-10",children:[y.jsx(Md,{src:t.metadata.picture,alt:s(t)}),y.jsx(zd,{children:s(t).charAt(0)})]}),y.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:y.jsx("p",{className:"font-medium text-sm truncate",children:s(t)})}),y.jsx(nm,{className:"w-4 h-4 text-muted-foreground"})]})}),y.jsxs(eA,{className:"w-56 p-2 animate-scale-in",children:[y.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(l=>{var u;return y.jsxs(Xh,{onClick:()=>r(l.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[y.jsxs(jd,{className:"w-8 h-8",children:[y.jsx(Md,{src:l.metadata.picture,alt:s(l)}),y.jsx(zd,{children:((u=s(l))==null?void 0:u.charAt(0))||y.jsx(tF,{})})]}),y.jsx("div",{className:"flex-1 truncate",children:y.jsx("p",{className:"text-sm font-medium",children:s(l)})}),l.id===t.id&&y.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},l.id)}),y.jsx(tA,{}),y.jsxs(Xh,{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[y.jsx(eF,{className:"w-4 h-4"}),y.jsx("span",{children:"Add another account"})]}),y.jsxs(Xh,{onClick:()=>i(t.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[y.jsx(JB,{className:"w-4 h-4"}),y.jsx("span",{children:"Log out"})]})]})]})}function Cp({className:e}){const{currentUser:t}=sN(),[n,r]=C.useState(!1),[i,s]=C.useState(!1),l=()=>{r(!1),s(!1)};return y.jsxs("div",{className:qe("inline-flex items-center justify-center",e),children:[t?y.jsx(iW,{onAddAccountClick:()=>r(!0)}):y.jsxs("div",{className:"flex gap-3 justify-center",children:[y.jsx(At,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:y.jsx("span",{className:"truncate",children:"Log in"})}),y.jsx(At,{onClick:()=>s(!0),variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all",children:y.jsx("span",{children:"Sign up"})})]}),y.jsx(IZ,{isOpen:n,onClose:()=>r(!1),onLogin:l}),y.jsx(LZ,{isOpen:i,onClose:()=>s(!1)})]})}function oW(){const e=yl(),t=n=>e.pathname===n;return y.jsx("nav",{className:"border-b bg-background/80 backdrop-blur sticky top-0 z-50",children:y.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx(hr,{to:"/",className:"text-xl font-bold tracking-tight",children:"DeadDrop"}),y.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[y.jsx(At,{asChild:!0,variant:t("/")?"secondary":"ghost",size:"sm",children:y.jsxs(hr,{to:"/",children:[y.jsx(qB,{className:"h-4 w-4 mr-1"}),"Home"]})}),y.jsx(At,{asChild:!0,variant:t("/marketplace")?"secondary":"ghost",size:"sm",children:y.jsxs(hr,{to:"/marketplace",children:[y.jsx(pp,{className:"h-4 w-4 mr-1"}),"Marketplace"]})}),y.jsx(At,{asChild:!0,variant:t("/dashboard")?"secondary":"ghost",size:"sm",children:y.jsxs(hr,{to:"/dashboard",children:[y.jsx(n0,{className:"h-4 w-4 mr-1"}),"Dashboard"]})}),y.jsx(At,{asChild:!0,variant:t("/messages")?"secondary":"ghost",size:"sm",children:y.jsxs(hr,{to:"/messages",children:[y.jsx(JC,{className:"h-4 w-4 mr-1"}),"Messages"]})})]})]}),y.jsx(Cp,{className:"max-w-60"})]})})}function sW(e,t={},n){e.use(r3);function r(l){if(l._flatMeta)return l;const{title:u,titleTemplate:d,...p}=l||{};return{title:u,titleTemplate:d,_flatMeta:p}}const i=e.push(r(t),n),s=i.patch;return i.__patched||(i.patch=l=>s(r(l)),i.__patched=!0),i}function aW(){const e=C.useContext(U2);if(!e)throw new Error("useHead() was called without provide context.");return e}function lW(e,t,n){const r=t.head||aW(),[i]=C.useState(()=>n(r,e,t));return C.useEffect(()=>{i.patch(e)},[e]),C.useEffect(()=>()=>{i.dispose()},[]),i}function su(e={},t={}){return lW(e,t,sW)}function Sm(e){if(e.kind!==30402)return null;const t=A=>{var z;return(z=e.tags.find(([D])=>D===A))==null?void 0:z[1]};if(!(A=>e.tags.filter(([z])=>z===A).map(([,z])=>z))("t").includes("locker"))return null;const i=t("d");if(!i)return null;const s=t("title")||"Unnamed Locker",l=t("status")||"available",u=t("g")||"",d=t("location"),p=e.tags.find(([A])=>A==="price"),g=p&&parseInt(p[1])||0,m=(p==null?void 0:p[2])||"SATS",b=t("dimensions"),w=parseInt(t("overdue-fee")||"0"),S=parseInt(t("overdue-days")||"7"),v=t("proxy-mode")==="true",E=parseInt(t("proxy-fee")||"0"),k=parseInt(t("abandon-days")||"30"),N=e.tags.filter(([A])=>A==="image").map(([,A])=>A);return{id:e.id,pubkey:e.pubkey,dTag:i,title:s,description:e.content,status:l,geohash:u,location:d,price:g,currency:m,dimensions:b,overdueFee:w,overdueDays:S,proxyMode:v,proxyFee:E,abandonDays:k,images:N,createdAt:e.created_at,event:e}}function cW(e){const t=[["d",crypto.randomUUID()],["title",e.title],["t","locker"],["t","dead-drop"],["g",e.geohash],["price",e.baseFee.toString(),"SATS"],["status","available"],["dimensions",e.dimensions],["overdue-fee",e.overdueFee.toString()],["overdue-days",e.overdueDays.toString()],["proxy-mode",e.proxyMode.toString()],["abandon-days",e.abandonDays.toString()]];return e.location&&t.push(["location",e.location]),e.proxyMode&&e.proxyFee>0&&t.push(["proxy-fee",e.proxyFee.toString()]),t}function uW(e){const{nostr:t}=gr();return _i({queryKey:["trust-score",e],queryFn:async()=>{if(!e)return null;const n=await t.query([{kinds:[7],"#p":[e],limit:500},{kinds:[9735],"#p":[e],limit:200}]);let r=0,i=0,s=0;for(const p of n)p.kind===7?p.content.trim()==="-"?i++:r++:p.kind===9735&&(s+=1e3);const l=Math.floor(s/1e3),u=r+i,d=u>0?Math.round((r+l)/(u+l)*100):50;return{pubkey:e,positiveReactions:r,negativeReactions:i,zapsSats:s,totalReactions:u,score:d}},enabled:!!e,staleTime:6e4})}const an=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:qe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));an.displayName="Card";const Yr=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:qe("flex flex-col space-y-1.5 p-6",e),...t}));Yr.displayName="CardHeader";const wi=C.forwardRef(({className:e,...t},n)=>y.jsx("h3",{ref:n,className:qe("text-2xl font-semibold leading-none tracking-tight",e),...t}));wi.displayName="CardTitle";const Io=C.forwardRef(({className:e,...t},n)=>y.jsx("p",{ref:n,className:qe("text-sm text-muted-foreground",e),...t}));Io.displayName="CardDescription";const xn=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:qe("p-6 pt-0",e),...t}));xn.displayName="CardContent";const dW=C.forwardRef(({className:e,...t},n)=>y.jsx("div",{ref:n,className:qe("flex items-center p-6 pt-0",e),...t}));dW.displayName="CardFooter";function fW(){const{nostr:e}=gr(),{user:t}=pl(),{toast:n}=Kd();return D0({mutationFn:async({recipientPubkey:r,lockerId:i,paymentPreimage:s,rentalInvoice:l})=>{if(!t)throw new Error("User is not logged in");if(!t.signer.nip44)throw new Error("NIP-44 encryption not available. Please use a signer that supports NIP-44.");const u=Math.floor(Date.now()/1e3),d=E=>{const N=-Math.floor(Math.random()*172800);return E+N},p={action:"unlock",locker_id:i,payment_preimage:s,rental_invoice:l},g={kind:14,pubkey:t.pubkey,created_at:u,tags:[["p",r]],content:JSON.stringify(p)},m={kind:13,pubkey:t.pubkey,created_at:u,tags:[],content:await t.signer.nip44.encrypt(r,JSON.stringify(g))},b=Vd(),w=new Cd(b),S=await w.nip44.encrypt(r,JSON.stringify(m)),v=await w.signEvent({kind:1059,created_at:d(u),tags:[["p",r]],content:S});return await e.event(v),v},onSuccess:()=>{n({title:"Unlock command sent",description:"The encrypted unlock command has been published to the network."})},onError:r=>{console.error("[UnlockCommand] Failed to send:",r),n({title:"Failed to send unlock command",description:r.message,variant:"destructive"})}})}const hW=Qd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ki({className:e,variant:t,...n}){return y.jsx("div",{className:qe(hW({variant:t}),e),...n})}var y_="Progress",v_=100,[pW,RK]=$n(y_),[mW,gW]=pW(y_),dA=C.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=yW,...l}=e;(i||i===0)&&!NE(i)&&console.error(vW(`${i}`,"Progress"));const u=NE(i)?i:v_;r!==null&&!AE(r,u)&&console.error(wW(`${r}`,"Progress"));const d=AE(r,u)?r:null,p=Pp(d)?s(d,u):void 0;return y.jsx(mW,{scope:n,value:d,max:u,children:y.jsx(Ye.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Pp(d)?d:void 0,"aria-valuetext":p,role:"progressbar","data-state":pA(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});dA.displayName=y_;var fA="ProgressIndicator",hA=C.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=gW(fA,n);return y.jsx(Ye.div,{"data-state":pA(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});hA.displayName=fA;function yW(e,t){return`${Math.round(e/t*100)}%`}function pA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Pp(e){return typeof e=="number"}function NE(e){return Pp(e)&&!isNaN(e)&&e>0}function AE(e,t){return Pp(e)&&!isNaN(e)&&e<=t&&e>=0}function vW(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${v_}\`.`}function wW(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${v_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var mA=dA,_W=hA;const gA=C.forwardRef(({className:e,value:t,...n},r)=>y.jsx(mA,{ref:r,className:qe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:y.jsx(_W,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));gA.displayName=mA.displayName;var hc={},Hy,RE;function xW(){return RE||(RE=1,Hy=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Hy}var Wy={},Os={},IE;function _l(){if(IE)return Os;IE=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Os.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Os.getSymbolTotalCodewords=function(r){return t[r]},Os.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Os.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Os.isKanjiModeEnabled=function(){return typeof e<"u"},Os.toSJIS=function(r){return e(r)},Os}var Vy={},LE;function w_(){return LE||(LE=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}}(Vy)),Vy}var qy,OE;function bW(){if(OE)return qy;OE=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},qy=e,qy}var Ky,jE;function EW(){if(jE)return Ky;jE=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,i){const s=t*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},Ky=e,Ky}var Gy={},ME;function SW(){return ME||(ME=1,function(e){const t=_l().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),l=s===145?26:Math.ceil((s-13)/(2*i-2))*2,u=[s-7];for(let d=1;d<i-1;d++)u[d]=u[d-1]-l;return u.push(6),u.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),l=s.length;for(let u=0;u<l;u++)for(let d=0;d<l;d++)u===0&&d===0||u===0&&d===l-1||u===l-1&&d===0||i.push([s[u],s[d]]);return i}}(Gy)),Gy}var Yy={},zE;function kW(){if(zE)return Yy;zE=1;const e=_l().getSymbolSize,t=7;return Yy.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},Yy}var Jy={},DE;function CW(){return DE||(DE=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let l=0,u=0,d=0,p=null,g=null;for(let m=0;m<s;m++){u=d=0,p=g=null;for(let b=0;b<s;b++){let w=i.get(m,b);w===p?u++:(u>=5&&(l+=t.N1+(u-5)),p=w,u=1),w=i.get(b,m),w===g?d++:(d>=5&&(l+=t.N1+(d-5)),g=w,d=1)}u>=5&&(l+=t.N1+(u-5)),d>=5&&(l+=t.N1+(d-5))}return l},e.getPenaltyN2=function(i){const s=i.size;let l=0;for(let u=0;u<s-1;u++)for(let d=0;d<s-1;d++){const p=i.get(u,d)+i.get(u,d+1)+i.get(u+1,d)+i.get(u+1,d+1);(p===4||p===0)&&l++}return l*t.N2},e.getPenaltyN3=function(i){const s=i.size;let l=0,u=0,d=0;for(let p=0;p<s;p++){u=d=0;for(let g=0;g<s;g++)u=u<<1&2047|i.get(p,g),g>=10&&(u===1488||u===93)&&l++,d=d<<1&2047|i.get(g,p),g>=10&&(d===1488||d===93)&&l++}return l*t.N3},e.getPenaltyN4=function(i){let s=0;const l=i.data.length;for(let d=0;d<l;d++)s+=i.data[d];return Math.abs(Math.ceil(s*100/l/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const l=s.size;for(let u=0;u<l;u++)for(let d=0;d<l;d++)s.isReserved(d,u)||s.xor(d,u,n(i,d,u))},e.getBestMask=function(i,s){const l=Object.keys(e.Patterns).length;let u=0,d=1/0;for(let p=0;p<l;p++){s(p),e.applyMask(p,i);const g=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(p,i),g<d&&(d=g,u=p)}return u}}(Jy)),Jy}var Zh={},BE;function yA(){if(BE)return Zh;BE=1;const e=w_(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Zh.getBlocksCount=function(i,s){switch(s){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},Zh.getTotalCodewordsCount=function(i,s){switch(s){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},Zh}var Qy={},ld={},FE;function PW(){if(FE)return ld;FE=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]}(),ld.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},ld.exp=function(r){return e[r]},ld.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},ld}var UE;function TW(){return UE||(UE=1,function(e){const t=PW();e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let l=0;l<r.length;l++)for(let u=0;u<i.length;u++)s[l+u]^=t.mul(r[l],i[u]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const l=s[0];for(let d=0;d<i.length;d++)s[d]^=t.mul(i[d],l);let u=0;for(;u<s.length&&s[u]===0;)u++;s=s.slice(u)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}}(Qy)),Qy}var Xy,$E;function NW(){if($E)return Xy;$E=1;const e=TW();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=e.mod(i,this.genPoly),l=this.degree-s.length;if(l>0){const u=new Uint8Array(this.degree);return u.set(s,l),u}return s},Xy=t,Xy}var ev={},tv={},nv={},ZE;function vA(){return ZE||(ZE=1,nv.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),nv}var Ui={},HE;function wA(){if(HE)return Ui;HE=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Ui.KANJI=new RegExp(n,"g"),Ui.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ui.BYTE=new RegExp(r,"g"),Ui.NUMERIC=new RegExp(e,"g"),Ui.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+e+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ui.testKanji=function(d){return i.test(d)},Ui.testNumeric=function(d){return s.test(d)},Ui.testAlphanumeric=function(d){return l.test(d)},Ui}var WE;function xl(){return WE||(WE=1,function(e){const t=vA(),n=wA();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,l){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?s.ccBits[0]:l<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,l){if(e.isValid(s))return s;try{return r(s)}catch{return l}}}(tv)),tv}var VE;function AW(){return VE||(VE=1,function(e){const t=_l(),n=yA(),r=w_(),i=xl(),s=vA(),l=7973,u=t.getBCHDigit(l);function d(b,w,S){for(let v=1;v<=40;v++)if(w<=e.getCapacity(v,S,b))return v}function p(b,w){return i.getCharCountIndicator(b,w)+4}function g(b,w){let S=0;return b.forEach(function(v){const E=p(v.mode,w);S+=E+v.getBitsLength()}),S}function m(b,w){for(let S=1;S<=40;S++)if(g(b,S)<=e.getCapacity(S,w,i.MIXED))return S}e.from=function(w,S){return s.isValid(w)?parseInt(w,10):S},e.getCapacity=function(w,S,v){if(!s.isValid(w))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=i.BYTE);const E=t.getSymbolTotalCodewords(w),k=n.getTotalCodewordsCount(w,S),N=(E-k)*8;if(v===i.MIXED)return N;const A=N-p(v,w);switch(v){case i.NUMERIC:return Math.floor(A/10*3);case i.ALPHANUMERIC:return Math.floor(A/11*2);case i.KANJI:return Math.floor(A/13);case i.BYTE:default:return Math.floor(A/8)}},e.getBestVersionForData=function(w,S){let v;const E=r.from(S,r.M);if(Array.isArray(w)){if(w.length>1)return m(w,E);if(w.length===0)return 1;v=w[0]}else v=w;return d(v.mode,v.getLength(),E)},e.getEncodedBits=function(w){if(!s.isValid(w)||w<7)throw new Error("Invalid QR Code version");let S=w<<12;for(;t.getBCHDigit(S)-u>=0;)S^=l<<t.getBCHDigit(S)-u;return w<<12|S}}(ev)),ev}var rv={},qE;function RW(){if(qE)return rv;qE=1;const e=_l(),t=1335,n=21522,r=e.getBCHDigit(t);return rv.getEncodedBits=function(s,l){const u=s.bit<<3|l;let d=u<<10;for(;e.getBCHDigit(d)-r>=0;)d^=t<<e.getBCHDigit(d)-r;return(u<<10|d)^n},rv}var iv={},ov,KE;function IW(){if(KE)return ov;KE=1;const e=xl();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,s,l;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),l=parseInt(s,10),r.put(l,10);const u=this.data.length-i;u>0&&(s=this.data.substr(i),l=parseInt(s,10),r.put(l,u*3+1))},ov=t,ov}var sv,GE;function LW(){if(GE)return sv;GE=1;const e=xl(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let l=t.indexOf(this.data[s])*45;l+=t.indexOf(this.data[s+1]),i.put(l,11)}this.data.length%2&&i.put(t.indexOf(this.data[s]),6)},sv=n,sv}var av,YE;function OW(){if(YE)return av;YE=1;const e=xl();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},av=t,av}var lv,JE;function jW(){if(JE)return lv;JE=1;const e=xl(),t=_l();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=t.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},lv=n,lv}var cv={exports:{}},QE;function MW(){return QE||(QE=1,function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},l={};l[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var d,p,g,m,b,w,S,v,E;!u.empty();){d=u.pop(),p=d.value,m=d.cost,b=n[p]||{};for(g in b)b.hasOwnProperty(g)&&(w=b[g],S=m+w,v=l[g],E=typeof l[g]>"u",(E||v>S)&&(l[g]=S,u.push(g,S),s[g]=p))}if(typeof i<"u"&&typeof l[i]>"u"){var k=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(k)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t}(cv)),cv.exports}var XE;function zW(){return XE||(XE=1,function(e){const t=xl(),n=IW(),r=LW(),i=OW(),s=jW(),l=wA(),u=_l(),d=MW();function p(k){return unescape(encodeURIComponent(k)).length}function g(k,N,A){const z=[];let D;for(;(D=k.exec(A))!==null;)z.push({data:D[0],index:D.index,mode:N,length:D[0].length});return z}function m(k){const N=g(l.NUMERIC,t.NUMERIC,k),A=g(l.ALPHANUMERIC,t.ALPHANUMERIC,k);let z,D;return u.isKanjiModeEnabled()?(z=g(l.BYTE,t.BYTE,k),D=g(l.KANJI,t.KANJI,k)):(z=g(l.BYTE_KANJI,t.BYTE,k),D=[]),N.concat(A,z,D).sort(function(H,V){return H.index-V.index}).map(function(H){return{data:H.data,mode:H.mode,length:H.length}})}function b(k,N){switch(N){case t.NUMERIC:return n.getBitsLength(k);case t.ALPHANUMERIC:return r.getBitsLength(k);case t.KANJI:return s.getBitsLength(k);case t.BYTE:return i.getBitsLength(k)}}function w(k){return k.reduce(function(N,A){const z=N.length-1>=0?N[N.length-1]:null;return z&&z.mode===A.mode?(N[N.length-1].data+=A.data,N):(N.push(A),N)},[])}function S(k){const N=[];for(let A=0;A<k.length;A++){const z=k[A];switch(z.mode){case t.NUMERIC:N.push([z,{data:z.data,mode:t.ALPHANUMERIC,length:z.length},{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.ALPHANUMERIC:N.push([z,{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.KANJI:N.push([z,{data:z.data,mode:t.BYTE,length:p(z.data)}]);break;case t.BYTE:N.push([{data:z.data,mode:t.BYTE,length:p(z.data)}])}}return N}function v(k,N){const A={},z={start:{}};let D=["start"];for(let $=0;$<k.length;$++){const H=k[$],V=[];for(let F=0;F<H.length;F++){const W=H[F],J=""+$+F;V.push(J),A[J]={node:W,lastCount:0},z[J]={};for(let U=0;U<D.length;U++){const X=D[U];A[X]&&A[X].node.mode===W.mode?(z[X][J]=b(A[X].lastCount+W.length,W.mode)-b(A[X].lastCount,W.mode),A[X].lastCount+=W.length):(A[X]&&(A[X].lastCount=W.length),z[X][J]=b(W.length,W.mode)+4+t.getCharCountIndicator(W.mode,N))}}D=V}for(let $=0;$<D.length;$++)z[D[$]].end=0;return{map:z,table:A}}function E(k,N){let A;const z=t.getBestModeForData(k);if(A=t.from(N,z),A!==t.BYTE&&A.bit<z.bit)throw new Error('"'+k+'" cannot be encoded with mode '+t.toString(A)+`.
 Suggested mode is: `+t.toString(z));switch(A===t.KANJI&&!u.isKanjiModeEnabled()&&(A=t.BYTE),A){case t.NUMERIC:return new n(k);case t.ALPHANUMERIC:return new r(k);case t.KANJI:return new s(k);case t.BYTE:return new i(k)}}e.fromArray=function(N){return N.reduce(function(A,z){return typeof z=="string"?A.push(E(z,null)):z.data&&A.push(E(z.data,z.mode)),A},[])},e.fromString=function(N,A){const z=m(N,u.isKanjiModeEnabled()),D=S(z),$=v(D,A),H=d.find_path($.map,"start","end"),V=[];for(let F=1;F<H.length-1;F++)V.push($.table[H[F]].node);return e.fromArray(w(V))},e.rawSplit=function(N){return e.fromArray(m(N,u.isKanjiModeEnabled()))}}(iv)),iv}var e2;function DW(){if(e2)return Wy;e2=1;const e=_l(),t=w_(),n=bW(),r=EW(),i=SW(),s=kW(),l=CW(),u=yA(),d=NW(),p=AW(),g=RW(),m=xl(),b=zW();function w($,H){const V=$.size,F=s.getPositions(H);for(let W=0;W<F.length;W++){const J=F[W][0],U=F[W][1];for(let X=-1;X<=7;X++)if(!(J+X<=-1||V<=J+X))for(let O=-1;O<=7;O++)U+O<=-1||V<=U+O||(X>=0&&X<=6&&(O===0||O===6)||O>=0&&O<=6&&(X===0||X===6)||X>=2&&X<=4&&O>=2&&O<=4?$.set(J+X,U+O,!0,!0):$.set(J+X,U+O,!1,!0))}}function S($){const H=$.size;for(let V=8;V<H-8;V++){const F=V%2===0;$.set(V,6,F,!0),$.set(6,V,F,!0)}}function v($,H){const V=i.getPositions(H);for(let F=0;F<V.length;F++){const W=V[F][0],J=V[F][1];for(let U=-2;U<=2;U++)for(let X=-2;X<=2;X++)U===-2||U===2||X===-2||X===2||U===0&&X===0?$.set(W+U,J+X,!0,!0):$.set(W+U,J+X,!1,!0)}}function E($,H){const V=$.size,F=p.getEncodedBits(H);let W,J,U;for(let X=0;X<18;X++)W=Math.floor(X/3),J=X%3+V-8-3,U=(F>>X&1)===1,$.set(W,J,U,!0),$.set(J,W,U,!0)}function k($,H,V){const F=$.size,W=g.getEncodedBits(H,V);let J,U;for(J=0;J<15;J++)U=(W>>J&1)===1,J<6?$.set(J,8,U,!0):J<8?$.set(J+1,8,U,!0):$.set(F-15+J,8,U,!0),J<8?$.set(8,F-J-1,U,!0):J<9?$.set(8,15-J-1+1,U,!0):$.set(8,15-J-1,U,!0);$.set(F-8,8,1,!0)}function N($,H){const V=$.size;let F=-1,W=V-1,J=7,U=0;for(let X=V-1;X>0;X-=2)for(X===6&&X--;;){for(let O=0;O<2;O++)if(!$.isReserved(W,X-O)){let K=!1;U<H.length&&(K=(H[U]>>>J&1)===1),$.set(W,X-O,K),J--,J===-1&&(U++,J=7)}if(W+=F,W<0||V<=W){W-=F,F=-F;break}}}function A($,H,V){const F=new n;V.forEach(function(O){F.put(O.mode.bit,4),F.put(O.getLength(),m.getCharCountIndicator(O.mode,$)),O.write(F)});const W=e.getSymbolTotalCodewords($),J=u.getTotalCodewordsCount($,H),U=(W-J)*8;for(F.getLengthInBits()+4<=U&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const X=(U-F.getLengthInBits())/8;for(let O=0;O<X;O++)F.put(O%2?17:236,8);return z(F,$,H)}function z($,H,V){const F=e.getSymbolTotalCodewords(H),W=u.getTotalCodewordsCount(H,V),J=F-W,U=u.getBlocksCount(H,V),X=F%U,O=U-X,K=Math.floor(F/U),se=Math.floor(J/U),ie=se+1,te=K-se,ee=new d(te);let le=0;const Z=new Array(U),Q=new Array(U);let ke=0;const _e=new Uint8Array($.buffer);for(let je=0;je<U;je++){const Ze=je<O?se:ie;Z[je]=_e.slice(le,le+Ze),Q[je]=ee.encode(Z[je]),le+=Ze,ke=Math.max(ke,Ze)}const ve=new Uint8Array(F);let Ie=0,Te,Ne;for(Te=0;Te<ke;Te++)for(Ne=0;Ne<U;Ne++)Te<Z[Ne].length&&(ve[Ie++]=Z[Ne][Te]);for(Te=0;Te<te;Te++)for(Ne=0;Ne<U;Ne++)ve[Ie++]=Q[Ne][Te];return ve}function D($,H,V,F){let W;if(Array.isArray($))W=b.fromArray($);else if(typeof $=="string"){let K=H;if(!K){const se=b.rawSplit($);K=p.getBestVersionForData(se,V)}W=b.fromString($,K||40)}else throw new Error("Invalid data");const J=p.getBestVersionForData(W,V);if(!J)throw new Error("The amount of data is too big to be stored in a QR Code");if(!H)H=J;else if(H<J)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+J+`.
`);const U=A(H,V,W),X=e.getSymbolSize(H),O=new r(X);return w(O,H),S(O),v(O,H),k(O,V,0),H>=7&&E(O,H),N(O,U),isNaN(F)&&(F=l.getBestMask(O,k.bind(null,O,V))),l.applyMask(F,O),k(O,V,F),{modules:O,version:H,errorCorrectionLevel:V,maskPattern:F,segments:W}}return Wy.create=function(H,V){if(typeof H>"u"||H==="")throw new Error("No input text");let F=t.M,W,J;return typeof V<"u"&&(F=t.from(V.errorCorrectionLevel,t.M),W=p.from(V.version),J=l.from(V.maskPattern),V.toSJISFunc&&e.setToSJISFunction(V.toSJISFunc)),D(H,W,F,J)},Wy}var uv={},dv={},t2;function _A(){return t2||(t2=1,function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:s,scale:s?4:l,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const l=i.modules.size,u=i.modules.data,d=e.getScale(l,s),p=Math.floor((l+s.margin*2)*d),g=s.margin*d,m=[s.color.light,s.color.dark];for(let b=0;b<p;b++)for(let w=0;w<p;w++){let S=(b*p+w)*4,v=s.color.light;if(b>=g&&w>=g&&b<p-g&&w<p-g){const E=Math.floor((b-g)/d),k=Math.floor((w-g)/d);v=m[u[E*l+k]?1:0]}r[S++]=v.r,r[S++]=v.g,r[S++]=v.b,r[S]=v.a}}}(dv)),dv}var n2;function BW(){return n2||(n2=1,function(e){const t=_A();function n(i,s,l){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=l,s.width=l,s.style.height=l+"px",s.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,l,u){let d=u,p=l;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),l||(p=r()),d=t.getOptions(d);const g=t.getImageWidth(s.modules.size,d),m=p.getContext("2d"),b=m.createImageData(g,g);return t.qrToImageData(b.data,s,d),n(m,p,g),m.putImageData(b,0,0),p},e.renderToDataURL=function(s,l,u){let d=u;typeof d>"u"&&(!l||!l.getContext)&&(d=l,l=void 0),d||(d={});const p=e.render(s,l,d),g=d.type||"image/png",m=d.rendererOpts||{};return p.toDataURL(g,m.quality)}}(uv)),uv}var fv={},r2;function FW(){if(r2)return fv;r2=1;const e=_A();function t(i,s){const l=i.a/255,u=s+'="'+i.hex+'"';return l<1?u+" "+s+'-opacity="'+l.toFixed(2).slice(1)+'"':u}function n(i,s,l){let u=i+s;return typeof l<"u"&&(u+=" "+l),u}function r(i,s,l){let u="",d=0,p=!1,g=0;for(let m=0;m<i.length;m++){const b=Math.floor(m%s),w=Math.floor(m/s);!b&&!p&&(p=!0),i[m]?(g++,m>0&&b>0&&i[m-1]||(u+=p?n("M",b+l,.5+w+l):n("m",d,0),d=0,p=!1),b+1<s&&i[m+1]||(u+=n("h",g),g=0)):d++}return u}return fv.render=function(s,l,u){const d=e.getOptions(l),p=s.modules.size,g=s.modules.data,m=p+d.margin*2,b=d.color.light.a?"<path "+t(d.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",w="<path "+t(d.color.dark,"stroke")+' d="'+r(g,p,d.margin)+'"/>',S='viewBox="0 0 '+m+" "+m+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(d.width?'width="'+d.width+'" height="'+d.width+'" ':"")+S+' shape-rendering="crispEdges">'+b+w+`</svg>
`;return typeof u=="function"&&u(null,E),E},fv}var i2;function UW(){if(i2)return hc;i2=1;const e=xW(),t=DW(),n=BW(),r=FW();function i(s,l,u,d,p){const g=[].slice.call(arguments,1),m=g.length,b=typeof g[m-1]=="function";if(!b&&!e())throw new Error("Callback required as last argument");if(b){if(m<2)throw new Error("Too few arguments provided");m===2?(p=u,u=l,l=d=void 0):m===3&&(l.getContext&&typeof p>"u"?(p=d,d=void 0):(p=d,d=u,u=l,l=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(u=l,l=d=void 0):m===2&&!l.getContext&&(d=u,u=l,l=void 0),new Promise(function(w,S){try{const v=t.create(u,d);w(s(v,l,d))}catch(v){S(v)}})}try{const w=t.create(u,d);p(null,s(w,l,d))}catch(w){p(w)}}return hc.create=t.create,hc.toCanvas=i.bind(null,n.render),hc.toDataURL=i.bind(null,n.renderToDataURL),hc.toString=i.bind(null,function(s,l,u){return r.render(s,u)}),hc}var $W=UW();const ZW=Ip($W);function HW(e){try{const t=new URL(e.replace("nostr+walletconnect://","https://")),n=t.hostname||t.pathname.replace("//",""),r=t.searchParams.get("secret"),i=[];return t.searchParams.forEach((s,l)=>{l==="relay"&&i.push(s)}),!n||!r||i.length===0?null:{walletPubkey:n,secret:r,relays:i}}catch{return null}}function WW(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.slice(n*2,n*2+2),16);return t}function VW({connectionString:e,onPaymentReceived:t,enabled:n=!0}){const{nostr:r}=gr(),[i,s]=C.useState(!1),[l,u]=C.useState(null),d=C.useRef(null),p=C.useRef(null),g=C.useRef(null),m=e?HW(e):null;C.useEffect(()=>{if(!(m!=null&&m.secret)){p.current=null,g.current=null;return}try{const w=WW(m.secret);p.current=new Cd(w),g.current=Fo(w),console.log("[NWC Notifications] Client pubkey derived:",g.current.slice(0,16)+"...")}catch(w){console.error("[NWC Notifications] Failed to create signer from secret:",w),p.current=null,g.current=null}},[m==null?void 0:m.secret]);const b=C.useCallback(async w=>{var v;if(!((v=p.current)!=null&&v.nip44)||!(m!=null&&m.walletPubkey)||!g.current||w.pubkey!==m.walletPubkey)return;const S=w.tags.find(([E])=>E==="p");if(!(S&&S[1]!==g.current))try{let E;if(w.kind===23197&&p.current.nip44)E=await p.current.nip44.decrypt(m.walletPubkey,w.content);else if(w.kind===23196&&p.current.nip04)E=await p.current.nip04.decrypt(m.walletPubkey,w.content);else return;const k=JSON.parse(E);if(k.notification_type==="payment_received"&&k.notification){const N={type:"incoming",state:k.notification.state,invoice:k.notification.invoice,preimage:k.notification.preimage,payment_hash:k.notification.payment_hash,amount:k.notification.amount,settled_at:k.notification.settled_at};console.log("[NWC Notifications] Payment received:",N),u(N),t==null||t(N)}}catch(E){console.error("[NWC Notifications] Failed to process notification:",E)}},[m==null?void 0:m.walletPubkey,t]);return C.useEffect(()=>{if(!n||!m||!p.current||!g.current){s(!1);return}const{walletPubkey:w,relays:S}=m,v=g.current,E=r.group(S);let k=!1;return(async()=>{try{console.log("[NWC Notifications] Subscribing to relays:",S),console.log("[NWC Notifications] Filter: authors=%s, #p=%s",w.slice(0,16)+"...",v.slice(0,16)+"...");const A=E.req([{kinds:[23196,23197],authors:[w],"#p":[v],limit:50}]);k||s(!0);for await(const z of A){if(k)break;if(z[0]==="EVENT"){const D=z[2];await b(D)}else z[0]==="EOSE"&&console.log("[NWC Notifications] End of stored events, now listening for new notifications")}}catch(A){console.error("[NWC Notifications] Subscription error:",A),k||s(!1)}})(),()=>{var A;k=!0,(A=d.current)==null||A.close(),s(!1)}},[n,m,r,b]),{isConnected:i,lastNotification:l,clientPubkey:g.current}}function qW({open:e,invoice:t,amountSats:n,onClose:r,onPay:i,onSettled:s}){var V;const[l,u]=C.useState(null),[d,p]=C.useState("pending"),[g,m]=C.useState(null),[b,w]=C.useState(!1),[S,v]=C.useState(0),E=HP(),[k,N]=C.useState(!1),A=60;C.useEffect(()=>{e&&(p("pending"),m(null),w(!1),v(0))},[e]),C.useEffect(()=>{if(!t)return;let F=!0;return ZW.toDataURL(t,{width:256,margin:2}).then(W=>{F&&u(W)}).catch(()=>{F&&u(null)}),()=>{F=!1}},[t]);const{isConnected:z}=VW({connectionString:((V=E.getActiveConnection())==null?void 0:V.connectionString)??null,enabled:e&&!!t,onPaymentReceived:async F=>{F.preimage&&(p("success"),m("Payment confirmed!"),s&&await s({preimage:F.preimage}),setTimeout(()=>r(),2e3))}});C.useEffect(()=>{if(!e||!t||z)return;const F=E.getActiveConnection();if(!F)return;let W=!1;const J=3e3,U=async()=>{if(!W){v(O=>O+1);try{const K=await new Ad(F.connectionString).lookupInvoice(t);if(K&&K.state==="settled"&&K.preimage){p("success"),m("Payment confirmed!"),s&&await s({preimage:K.preimage}),setTimeout(()=>{W||r()},2e3);return}}catch{}!W&&S<A?setTimeout(U,J):S>=A&&m("Waiting for payment timed out. You can still pay manually.")}},X=setTimeout(U,J);return()=>{W=!0,clearTimeout(X)}},[e,t,E,r,s,S,z]);const D=async()=>{try{await navigator.clipboard.writeText(t),w(!0),setTimeout(()=>w(!1),2e3)}catch{m("Failed to copy")}},$=async()=>{p("paying"),m(null);try{await i(),p("success"),m("Payment successful!"),setTimeout(()=>r(),1500)}catch(F){p("error"),m((F==null?void 0:F.message)||"Payment failed")}},H=()=>{switch(d){case"pending":return y.jsxs(Ki,{variant:"secondary",className:"gap-1",children:[y.jsx(FB,{className:"h-3 w-3"})," Awaiting Payment"]});case"polling":return y.jsxs(Ki,{variant:"secondary",className:"gap-1",children:[y.jsx(Nr,{className:"h-3 w-3 animate-spin"})," Checking..."]});case"paying":return y.jsxs(Ki,{variant:"default",className:"gap-1",children:[y.jsx(Nr,{className:"h-3 w-3 animate-spin"})," Processing"]});case"success":return y.jsxs(Ki,{variant:"default",className:"gap-1 bg-green-600",children:[y.jsx(fd,{className:"h-3 w-3"})," Paid"]});case"error":return y.jsxs(Ki,{variant:"destructive",className:"gap-1",children:[y.jsx(DB,{className:"h-3 w-3"})," Failed"]})}};return y.jsx(pm,{open:e,onOpenChange:F=>{!F&&d!=="paying"&&r()},children:y.jsxs(tf,{className:"max-w-md",children:[y.jsxs(nf,{children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs(mm,{className:"flex items-center gap-2",children:[y.jsx(r0,{className:"h-5 w-5 text-yellow-500"}),"Pay Invoice"]}),H()]}),y.jsx(n_,{children:"Scan the QR code with any Lightning wallet or pay directly."})]}),y.jsxs("div",{className:"space-y-4",children:[n&&y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"text-3xl font-bold",children:n.toLocaleString()}),y.jsx("span",{className:"text-lg text-muted-foreground ml-2",children:"sats"})]}),y.jsx("div",{className:"flex justify-center p-4 bg-white rounded-lg",children:l?y.jsx("img",{src:l,alt:"Lightning Invoice QR",className:"w-56 h-56"}):y.jsx("div",{className:"w-56 h-56 flex items-center justify-center bg-muted rounded",children:y.jsx(Nr,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}),y.jsxs("div",{className:"relative",children:[y.jsx("textarea",{readOnly:!0,value:t,className:"w-full p-3 pr-12 rounded-lg border bg-muted/50 text-xs font-mono resize-none",rows:3}),y.jsx(At,{size:"icon",variant:"ghost",className:"absolute right-2 top-2",onClick:D,children:b?y.jsx(fd,{className:"h-4 w-4 text-green-500"}):y.jsx(UB,{className:"h-4 w-4"})})]}),d==="pending"&&y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(Nr,{className:"h-3 w-3 animate-spin"}),z?"Listening for payment...":"Waiting for payment..."]}),!z&&S>0&&y.jsxs("span",{children:[Math.floor(S/A*100),"%"]})]}),!z&&S>0&&y.jsx(gA,{value:S/A*100,className:"h-1"}),z&&y.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[y.jsx(fd,{className:"h-3 w-3"}),"Real-time notifications active"]})]}),g&&y.jsx("div",{className:`text-sm text-center p-2 rounded ${d==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":d==="error"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-muted text-muted-foreground"}`,children:g}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(At,{variant:"outline",onClick:r,disabled:d==="paying",className:"flex-1",children:"Cancel"}),y.jsx(At,{onClick:$,disabled:d==="paying"||d==="success",className:"flex-1",children:d==="paying"?y.jsxs(y.Fragment,{children:[y.jsx(Nr,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):d==="success"?y.jsxs(y.Fragment,{children:[y.jsx(fd,{className:"h-4 w-4 mr-2"}),"Paid!"]}):y.jsxs(y.Fragment,{children:[y.jsx(r0,{className:"h-4 w-4 mr-2"}),"Pay Now"]})})]}),y.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Invoice will auto-detect when paid. You can also copy and pay externally."})]})]})})}function KW(){var z;const{nip19:e}=QP();su({title:"Locker Details"});const{nostr:t}=gr(),n=HP();pl();const{mutateAsync:r}=fW(),{data:i}=_i({queryKey:["locker-detail",e],queryFn:async()=>{if(!e)return null;const D=await t.query([{kinds:[30402],"#d":[e],limit:1}]);return!D||D.length===0?null:Sm(D[0])},staleTime:6e4}),s=uW(i==null?void 0:i.pubkey),[l,u]=C.useState(!1),[d,p]=C.useState(""),[g,m]=C.useState(!1),[b,w]=C.useState(""),{connections:S,activeConnection:v,setActiveConnection:E,getActiveConnection:k}=n,N=async()=>{if(!i)return;const D=k();if(!D){p("No wallet connected. Please connect a Nostr Wallet Connect wallet first.");return}u(!0),p("");try{const $=new Ad(D.connectionString),H=i.price*1e3,V=await $.makeInvoice({amount:H,description:`Locker rental ${i.dTag}`});w(V.invoice),m(!0)}catch($){p(($==null?void 0:$.message)??"Failed to create invoice"),u(!1)}},A=async()=>{if(!i)throw new Error("No locker");const D=k();if(!D)throw new Error("No wallet connected");const V=(await new Ad(D.connectionString).pay(b)).preimage;return await r({recipientPubkey:i.pubkey,lockerId:i.dTag,paymentPreimage:V,rentalInvoice:b}),p("Unlock command sent via NIP-17. Locker should open shortly."),u(!1),V};return i?y.jsxs("div",{className:"container mx-auto p-6 space-y-4",children:[S.length>1&&y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsx("span",{className:"text-muted-foreground",children:"Wallet"}),y.jsx("select",{className:"px-2 py-1 border rounded bg-background",value:v??"",onChange:D=>E(D.target.value),children:S.map(D=>y.jsx("option",{value:D.connectionString,children:D.alias??"NWC Wallet"},D.connectionString))})]}),y.jsxs("div",{className:"card",children:[y.jsx(Yr,{children:y.jsx(wi,{children:i.title})}),y.jsxs(xn,{children:[y.jsx("p",{className:"text-sm text-muted-foreground",children:i.location||i.geohash}),y.jsxs("p",{className:"mt-2",children:["Dimensions: ",i.dimensions]}),y.jsxs("p",{children:["Fee: ",i.price," sats"]}),y.jsxs("p",{children:["Owner: ",i.pubkey]}),y.jsxs("p",{children:["Trust Score: ",((z=s==null?void 0:s.data)==null?void 0:z.score)??""]}),y.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:i.description})]})]}),y.jsx("div",{children:y.jsxs(an,{children:[y.jsx(Yr,{children:y.jsx(wi,{children:"Rent this Locker"})}),y.jsxs(xn,{children:[y.jsx("p",{className:"text-sm text-muted-foreground",children:"This will create a rental invoice via your connected wallet and unlock the locker once paid."}),y.jsx(At,{onClick:N,disabled:l,className:"mt-4",children:l?"Creating invoice...":`Rent for ${i.price} sats`}),d&&y.jsx("p",{className:"mt-2 text-sm",children:d})]})]})}),y.jsx(qW,{open:g,invoice:b,onClose:()=>{m(!1),l&&u(!1)},onPay:A,onSettled:async D=>{if(!i)return;const $=D.preimage;if($){try{await r({recipientPubkey:i.pubkey,lockerId:i.dTag,paymentPreimage:$,rentalInvoice:b}),p("Unlock command sent via NIP-17. Locker should open shortly.")}catch(H){p((H==null?void 0:H.message)??"Failed to send unlock command")}u(!1)}}})]}):y.jsx("div",{className:"container mx-auto p-6",children:"Locker not found."})}var GW="Label",xA=C.forwardRef((e,t)=>y.jsx(Ye.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));xA.displayName=GW;var bA=xA;const YW=Qd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xn=C.forwardRef(({className:e,...t},n)=>y.jsx(bA,{ref:n,className:qe(YW(),e),...t}));Xn.displayName=bA.displayName;function Dd(e,[t,n]){return Math.min(n,Math.max(t,e))}function __(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var EA=["PageUp","PageDown"],SA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],kA={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},au="Slider",[x0,JW,QW]=Gd(au),[CA,IK]=$n(au,[QW]),[XW,km]=CA(au),PA=C.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:p=[r],value:g,onValueChange:m=()=>{},onValueCommit:b=()=>{},inverted:w=!1,form:S,...v}=e,E=C.useRef(new Set),k=C.useRef(0),A=l==="horizontal"?eV:tV,[z=[],D]=bi({prop:g,defaultProp:p,onChange:J=>{var X;(X=[...E.current][k.current])==null||X.focus(),m(J)}}),$=C.useRef(z);function H(J){const U=sV(z,J);W(J,U)}function V(J){W(J,k.current)}function F(){const J=$.current[k.current];z[k.current]!==J&&b(z)}function W(J,U,{commit:X}={commit:!1}){const O=uV(s),K=dV(Math.round((J-r)/s)*s+r,O),se=Dd(K,[r,i]);D((ie=[])=>{const te=iV(ie,se,U);if(cV(te,d*s)){k.current=te.indexOf(se);const ee=String(te)!==String(ie);return ee&&X&&b(te),ee?te:ie}else return ie})}return y.jsx(XW,{scope:e.__scopeSlider,name:n,disabled:u,min:r,max:i,valueIndexToChangeRef:k,thumbs:E.current,values:z,orientation:l,form:S,children:y.jsx(x0.Provider,{scope:e.__scopeSlider,children:y.jsx(x0.Slot,{scope:e.__scopeSlider,children:y.jsx(A,{"aria-disabled":u,"data-disabled":u?"":void 0,...v,ref:t,onPointerDown:Ue(v.onPointerDown,()=>{u||($.current=z)}),min:r,max:i,inverted:w,onSlideStart:u?void 0:H,onSlideMove:u?void 0:V,onSlideEnd:u?void 0:F,onHomeKeyDown:()=>!u&&W(r,0,{commit:!0}),onEndKeyDown:()=>!u&&W(i,z.length-1,{commit:!0}),onStepKeyDown:({event:J,direction:U})=>{if(!u){const K=EA.includes(J.key)||J.shiftKey&&SA.includes(J.key)?10:1,se=k.current,ie=z[se],te=s*K*U;W(ie+te,se,{commit:!0})}}})})})})});PA.displayName=au;var[TA,NA]=CA(au,{startEdge:"left",endEdge:"right",size:"width",direction:1}),eV=C.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:l,onSlideMove:u,onSlideEnd:d,onStepKeyDown:p,...g}=e,[m,b]=C.useState(null),w=mt(t,A=>b(A)),S=C.useRef(void 0),v=ou(i),E=v==="ltr",k=E&&!s||!E&&s;function N(A){const z=S.current||m.getBoundingClientRect(),D=[0,z.width],H=x_(D,k?[n,r]:[r,n]);return S.current=z,H(A-z.left)}return y.jsx(TA,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:y.jsx(AA,{dir:v,"data-orientation":"horizontal",...g,ref:w,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const z=N(A.clientX);l==null||l(z)},onSlideMove:A=>{const z=N(A.clientX);u==null||u(z)},onSlideEnd:()=>{S.current=void 0,d==null||d()},onStepKeyDown:A=>{const D=kA[k?"from-left":"from-right"].includes(A.key);p==null||p({event:A,direction:D?-1:1})}})})}),tV=C.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:l,onSlideEnd:u,onStepKeyDown:d,...p}=e,g=C.useRef(null),m=mt(t,g),b=C.useRef(void 0),w=!i;function S(v){const E=b.current||g.current.getBoundingClientRect(),k=[0,E.height],A=x_(k,w?[r,n]:[n,r]);return b.current=E,A(v-E.top)}return y.jsx(TA,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:y.jsx(AA,{"data-orientation":"vertical",...p,ref:m,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const E=S(v.clientY);s==null||s(E)},onSlideMove:v=>{const E=S(v.clientY);l==null||l(E)},onSlideEnd:()=>{b.current=void 0,u==null||u()},onStepKeyDown:v=>{const k=kA[w?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:k?-1:1})}})})}),AA=C.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:d,...p}=e,g=km(au,n);return y.jsx(Ye.span,{...p,ref:t,onKeyDown:Ue(e.onKeyDown,m=>{m.key==="Home"?(l(m),m.preventDefault()):m.key==="End"?(u(m),m.preventDefault()):EA.concat(SA).includes(m.key)&&(d(m),m.preventDefault())}),onPointerDown:Ue(e.onPointerDown,m=>{const b=m.target;b.setPointerCapture(m.pointerId),m.preventDefault(),g.thumbs.has(b)?b.focus():r(m)}),onPointerMove:Ue(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:Ue(e.onPointerUp,m=>{const b=m.target;b.hasPointerCapture(m.pointerId)&&(b.releasePointerCapture(m.pointerId),s(m))})})}),RA="SliderTrack",IA=C.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=km(RA,n);return y.jsx(Ye.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});IA.displayName=RA;var b0="SliderRange",LA=C.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=km(b0,n),s=NA(b0,n),l=C.useRef(null),u=mt(t,l),d=i.values.length,p=i.values.map(b=>MA(b,i.min,i.max)),g=d>1?Math.min(...p):0,m=100-Math.max(...p);return y.jsx(Ye.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:u,style:{...e.style,[s.startEdge]:g+"%",[s.endEdge]:m+"%"}})});LA.displayName=b0;var E0="SliderThumb",OA=C.forwardRef((e,t)=>{const n=JW(e.__scopeSlider),[r,i]=C.useState(null),s=mt(t,u=>i(u)),l=C.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return y.jsx(nV,{...e,ref:s,index:l})}),nV=C.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...s}=e,l=km(E0,n),u=NA(E0,n),[d,p]=C.useState(null),g=mt(t,N=>p(N)),m=d?l.form||!!d.closest("form"):!0,b=Dw(d),w=l.values[r],S=w===void 0?0:MA(w,l.min,l.max),v=oV(r,l.values.length),E=b==null?void 0:b[u.size],k=E?aV(E,S,u.direction):0;return C.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),y.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${S}% + ${k}px)`},children:[y.jsx(x0.ItemSlot,{scope:e.__scopeSlider,children:y.jsx(Ye.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":l.min,"aria-valuenow":w,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...s,ref:g,style:w===void 0?{display:"none"}:e.style,onFocus:Ue(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),m&&y.jsx(jA,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:w},r)]})});OA.displayName=E0;var rV="RadioBubbleInput",jA=C.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=C.useRef(null),s=mt(i,r),l=__(t);return C.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&g){const m=new Event("input",{bubbles:!0});g.call(u,t),u.dispatchEvent(m)}},[l,t]),y.jsx(Ye.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});jA.displayName=rV;function iV(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,s)=>i-s)}function MA(e,t,n){const s=100/(n-t)*(e-t);return Dd(s,[0,100])}function oV(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function sV(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function aV(e,t,n){const r=e/2,s=x_([0,50],[0,r]);return(r-s(t)*n)*n}function lV(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function cV(e,t){if(t>0){const n=lV(e);return Math.min(...n)>=t}return!0}function x_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function uV(e){return(String(e).split(".")[1]||"").length}function dV(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var zA=PA,fV=IA,hV=LA,pV=OA;const S0=C.forwardRef(({className:e,...t},n)=>y.jsxs(zA,{ref:n,className:qe("relative flex w-full touch-none select-none items-center",e),...t,children:[y.jsx(fV,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:y.jsx(hV,{className:"absolute h-full bg-primary"})}),y.jsx(pV,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));S0.displayName=zA.displayName;function DA(e,t){const n=C.useRef(t);C.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const mV=1;function gV(e){return Object.freeze({__version:mV,map:e})}function yV(e,t){return Object.freeze({...e,...t})}const b_=C.createContext(null);function BA(){const e=C.use(b_);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function vV(e){function t(n,r){const{instance:i,context:s}=e(n).current;C.useImperativeHandle(r,()=>i);const{children:l}=n;return l==null?null:yi.createElement(b_,{value:s},l)}return C.forwardRef(t)}function wV(e){function t(n,r){const[i,s]=C.useState(!1),{instance:l}=e(n,s).current;C.useImperativeHandle(r,()=>l),C.useEffect(function(){i&&l.update()},[l,i,n.children]);const u=l._contentNode;return u?ml.createPortal(n.children,u):null}return C.forwardRef(t)}function _V(e){function t(n,r){const{instance:i}=e(n).current;return C.useImperativeHandle(r,()=>i),null}return C.forwardRef(t)}function FA(e,t){const n=C.useRef(void 0);C.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function E_(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function xV(e,t){return function(r,i){const s=BA(),l=e(E_(r,s),s);return DA(s.map,r.attribution),FA(l.current,r.eventHandlers),t(l.current,s,r,i),l}}var pd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var bV=pd.exports,o2;function EV(){return o2||(o2=1,function(e,t){(function(n,r){r(t)})(bV,function(n){var r="1.9.4";function i(a){var f,_,P,M;for(_=1,P=arguments.length;_<P;_++){M=arguments[_];for(f in M)a[f]=M[f]}return a}var s=Object.create||function(){function a(){}return function(f){return a.prototype=f,new a}}();function l(a,f){var _=Array.prototype.slice;if(a.bind)return a.bind.apply(a,_.call(arguments,1));var P=_.call(arguments,2);return function(){return a.apply(f,P.length?P.concat(_.call(arguments)):arguments)}}var u=0;function d(a){return"_leaflet_id"in a||(a._leaflet_id=++u),a._leaflet_id}function p(a,f,_){var P,M,Y,ce;return ce=function(){P=!1,M&&(Y.apply(_,M),M=!1)},Y=function(){P?M=arguments:(a.apply(_,arguments),setTimeout(ce,f),P=!0)},Y}function g(a,f,_){var P=f[1],M=f[0],Y=P-M;return a===P&&_?a:((a-M)%Y+Y)%Y+M}function m(){return!1}function b(a,f){if(f===!1)return a;var _=Math.pow(10,f===void 0?6:f);return Math.round(a*_)/_}function w(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function S(a){return w(a).split(/\s+/)}function v(a,f){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?s(a.options):{});for(var _ in f)a.options[_]=f[_];return a.options}function E(a,f,_){var P=[];for(var M in a)P.push(encodeURIComponent(_?M.toUpperCase():M)+"="+encodeURIComponent(a[M]));return(!f||f.indexOf("?")===-1?"?":"&")+P.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function N(a,f){return a.replace(k,function(_,P){var M=f[P];if(M===void 0)throw new Error("No value provided for variable "+_);return typeof M=="function"&&(M=M(f)),M})}var A=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function z(a,f){for(var _=0;_<a.length;_++)if(a[_]===f)return _;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var H=0;function V(a){var f=+new Date,_=Math.max(0,16-(f-H));return H=f+_,window.setTimeout(a,_)}var F=window.requestAnimationFrame||$("RequestAnimationFrame")||V,W=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function J(a,f,_){if(_&&F===V)a.call(f);else return F.call(window,l(a,f))}function U(a){a&&W.call(window,a)}var X={__proto__:null,extend:i,create:s,bind:l,get lastId(){return u},stamp:d,throttle:p,wrapNum:g,falseFn:m,formatNum:b,trim:w,splitWords:S,setOptions:v,getParamString:E,template:N,isArray:A,indexOf:z,emptyImageUrl:D,requestFn:F,cancelFn:W,requestAnimFrame:J,cancelAnimFrame:U};function O(){}O.extend=function(a){var f=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=f.__super__=this.prototype,P=s(_);P.constructor=f,f.prototype=P;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(f[M]=this[M]);return a.statics&&i(f,a.statics),a.includes&&(K(a.includes),i.apply(null,[P].concat(a.includes))),i(P,a),delete P.statics,delete P.includes,P.options&&(P.options=_.options?s(_.options):{},i(P.options,a.options)),P._initHooks=[],P.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var Y=0,ce=P._initHooks.length;Y<ce;Y++)P._initHooks[Y].call(this)}},f},O.include=function(a){var f=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=f,this.mergeOptions(a.options)),this},O.mergeOptions=function(a){return i(this.prototype.options,a),this},O.addInitHook=function(a){var f=Array.prototype.slice.call(arguments,1),_=typeof a=="function"?a:function(){this[a].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function K(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=A(a)?a:[a];for(var f=0;f<a.length;f++)a[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(a,f,_){if(typeof a=="object")for(var P in a)this._on(P,a[P],f);else{a=S(a);for(var M=0,Y=a.length;M<Y;M++)this._on(a[M],f,_)}return this},off:function(a,f,_){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var P in a)this._off(P,a[P],f);else{a=S(a);for(var M=arguments.length===1,Y=0,ce=a.length;Y<ce;Y++)M?this._off(a[Y]):this._off(a[Y],f,_)}return this},_on:function(a,f,_,P){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(a,f,_)===!1){_===this&&(_=void 0);var M={fn:f,ctx:_};P&&(M.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(M)}},_off:function(a,f,_){var P,M,Y;if(this._events&&(P=this._events[a],!!P)){if(arguments.length===1){if(this._firingCount)for(M=0,Y=P.length;M<Y;M++)P[M].fn=m;delete this._events[a];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var ce=this._listens(a,f,_);if(ce!==!1){var ge=P[ce];this._firingCount&&(ge.fn=m,this._events[a]=P=P.slice()),P.splice(ce,1)}}},fire:function(a,f,_){if(!this.listens(a,_))return this;var P=i({},f,{type:a,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var M=this._events[a];if(M){this._firingCount=this._firingCount+1||1;for(var Y=0,ce=M.length;Y<ce;Y++){var ge=M[Y],Ee=ge.fn;ge.once&&this.off(a,Ee,ge.ctx),Ee.call(ge.ctx||this,P)}this._firingCount--}}return _&&this._propagateEvent(P),this},listens:function(a,f,_,P){typeof a!="string"&&console.warn('"string" type argument expected');var M=f;typeof f!="function"&&(P=!!f,M=void 0,_=void 0);var Y=this._events&&this._events[a];if(Y&&Y.length&&this._listens(a,M,_)!==!1)return!0;if(P){for(var ce in this._eventParents)if(this._eventParents[ce].listens(a,f,_,P))return!0}return!1},_listens:function(a,f,_){if(!this._events)return!1;var P=this._events[a]||[];if(!f)return!!P.length;_===this&&(_=void 0);for(var M=0,Y=P.length;M<Y;M++)if(P[M].fn===f&&P[M].ctx===_)return M;return!1},once:function(a,f,_){if(typeof a=="object")for(var P in a)this._on(P,a[P],f,!0);else{a=S(a);for(var M=0,Y=a.length;M<Y;M++)this._on(a[M],f,_,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[d(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[d(a)],this},_propagateEvent:function(a){for(var f in this._eventParents)this._eventParents[f].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var ie=O.extend(se);function te(a,f,_){this.x=_?Math.round(a):a,this.y=_?Math.round(f):f}var ee=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(a){return this.clone()._add(le(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(le(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new te(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new te(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(a){a=le(a);var f=a.x-this.x,_=a.y-this.y;return Math.sqrt(f*f+_*_)},equals:function(a){return a=le(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=le(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function le(a,f,_){return a instanceof te?a:A(a)?new te(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new te(a.x,a.y):new te(a,f,_)}function Z(a,f){if(a)for(var _=f?[a,f]:a,P=0,M=_.length;P<M;P++)this.extend(_[P])}Z.prototype={extend:function(a){var f,_;if(!a)return this;if(a instanceof te||typeof a[0]=="number"||"x"in a)f=_=le(a);else if(a=Q(a),f=a.min,_=a.max,!f||!_)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=_.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(a){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var f,_;return typeof a[0]=="number"||a instanceof te?a=le(a):a=Q(a),a instanceof Z?(f=a.min,_=a.max):f=_=a,f.x>=this.min.x&&_.x<=this.max.x&&f.y>=this.min.y&&_.y<=this.max.y},intersects:function(a){a=Q(a);var f=this.min,_=this.max,P=a.min,M=a.max,Y=M.x>=f.x&&P.x<=_.x,ce=M.y>=f.y&&P.y<=_.y;return Y&&ce},overlaps:function(a){a=Q(a);var f=this.min,_=this.max,P=a.min,M=a.max,Y=M.x>f.x&&P.x<_.x,ce=M.y>f.y&&P.y<_.y;return Y&&ce},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var f=this.min,_=this.max,P=Math.abs(f.x-_.x)*a,M=Math.abs(f.y-_.y)*a;return Q(le(f.x-P,f.y-M),le(_.x+P,_.y+M))},equals:function(a){return a?(a=Q(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Q(a,f){return!a||a instanceof Z?a:new Z(a,f)}function ke(a,f){if(a)for(var _=f?[a,f]:a,P=0,M=_.length;P<M;P++)this.extend(_[P])}ke.prototype={extend:function(a){var f=this._southWest,_=this._northEast,P,M;if(a instanceof ve)P=a,M=a;else if(a instanceof ke){if(P=a._southWest,M=a._northEast,!P||!M)return this}else return a?this.extend(Ie(a)||_e(a)):this;return!f&&!_?(this._southWest=new ve(P.lat,P.lng),this._northEast=new ve(M.lat,M.lng)):(f.lat=Math.min(P.lat,f.lat),f.lng=Math.min(P.lng,f.lng),_.lat=Math.max(M.lat,_.lat),_.lng=Math.max(M.lng,_.lng)),this},pad:function(a){var f=this._southWest,_=this._northEast,P=Math.abs(f.lat-_.lat)*a,M=Math.abs(f.lng-_.lng)*a;return new ke(new ve(f.lat-P,f.lng-M),new ve(_.lat+P,_.lng+M))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ve||"lat"in a?a=Ie(a):a=_e(a);var f=this._southWest,_=this._northEast,P,M;return a instanceof ke?(P=a.getSouthWest(),M=a.getNorthEast()):P=M=a,P.lat>=f.lat&&M.lat<=_.lat&&P.lng>=f.lng&&M.lng<=_.lng},intersects:function(a){a=_e(a);var f=this._southWest,_=this._northEast,P=a.getSouthWest(),M=a.getNorthEast(),Y=M.lat>=f.lat&&P.lat<=_.lat,ce=M.lng>=f.lng&&P.lng<=_.lng;return Y&&ce},overlaps:function(a){a=_e(a);var f=this._southWest,_=this._northEast,P=a.getSouthWest(),M=a.getNorthEast(),Y=M.lat>f.lat&&P.lat<_.lat,ce=M.lng>f.lng&&P.lng<_.lng;return Y&&ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,f){return a?(a=_e(a),this._southWest.equals(a.getSouthWest(),f)&&this._northEast.equals(a.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(a,f){return a instanceof ke?a:new ke(a,f)}function ve(a,f,_){if(isNaN(a)||isNaN(f))throw new Error("Invalid LatLng object: ("+a+", "+f+")");this.lat=+a,this.lng=+f,_!==void 0&&(this.alt=+_)}ve.prototype={equals:function(a,f){if(!a)return!1;a=Ie(a);var _=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return _<=(f===void 0?1e-9:f)},toString:function(a){return"LatLng("+b(this.lat,a)+", "+b(this.lng,a)+")"},distanceTo:function(a){return Ne.distance(this,Ie(a))},wrap:function(){return Ne.wrapLatLng(this)},toBounds:function(a){var f=180*a/40075017,_=f/Math.cos(Math.PI/180*this.lat);return _e([this.lat-f,this.lng-_],[this.lat+f,this.lng+_])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function Ie(a,f,_){return a instanceof ve?a:A(a)&&typeof a[0]!="object"?a.length===3?new ve(a[0],a[1],a[2]):a.length===2?new ve(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ve(a.lat,"lng"in a?a.lng:a.lon,a.alt):f===void 0?null:new ve(a,f,_)}var Te={latLngToPoint:function(a,f){var _=this.projection.project(a),P=this.scale(f);return this.transformation._transform(_,P)},pointToLatLng:function(a,f){var _=this.scale(f),P=this.transformation.untransform(a,_);return this.projection.unproject(P)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var f=this.projection.bounds,_=this.scale(a),P=this.transformation.transform(f.min,_),M=this.transformation.transform(f.max,_);return new Z(P,M)},infinite:!1,wrapLatLng:function(a){var f=this.wrapLng?g(a.lng,this.wrapLng,!0):a.lng,_=this.wrapLat?g(a.lat,this.wrapLat,!0):a.lat,P=a.alt;return new ve(_,f,P)},wrapLatLngBounds:function(a){var f=a.getCenter(),_=this.wrapLatLng(f),P=f.lat-_.lat,M=f.lng-_.lng;if(P===0&&M===0)return a;var Y=a.getSouthWest(),ce=a.getNorthEast(),ge=new ve(Y.lat-P,Y.lng-M),Ee=new ve(ce.lat-P,ce.lng-M);return new ke(ge,Ee)}},Ne=i({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(a,f){var _=Math.PI/180,P=a.lat*_,M=f.lat*_,Y=Math.sin((f.lat-a.lat)*_/2),ce=Math.sin((f.lng-a.lng)*_/2),ge=Y*Y+Math.cos(P)*Math.cos(M)*ce*ce,Ee=2*Math.atan2(Math.sqrt(ge),Math.sqrt(1-ge));return this.R*Ee}}),je=6378137,Ze={R:je,MAX_LATITUDE:85.0511287798,project:function(a){var f=Math.PI/180,_=this.MAX_LATITUDE,P=Math.max(Math.min(_,a.lat),-_),M=Math.sin(P*f);return new te(this.R*a.lng*f,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(a){var f=180/Math.PI;return new ve((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*f,a.x*f/this.R)},bounds:function(){var a=je*Math.PI;return new Z([-a,-a],[a,a])}()};function Qe(a,f,_,P){if(A(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=f,this._c=_,this._d=P}Qe.prototype={transform:function(a,f){return this._transform(a.clone(),f)},_transform:function(a,f){return f=f||1,a.x=f*(this._a*a.x+this._b),a.y=f*(this._c*a.y+this._d),a},untransform:function(a,f){return f=f||1,new te((a.x/f-this._b)/this._a,(a.y/f-this._d)/this._c)}};function ot(a,f,_,P){return new Qe(a,f,_,P)}var at=i({},Ne,{code:"EPSG:3857",projection:Ze,transformation:function(){var a=.5/(Math.PI*Ze.R);return ot(a,.5,-a,.5)}()}),B=i({},at,{code:"EPSG:900913"});function Pe(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function be(a,f){var _="",P,M,Y,ce,ge,Ee;for(P=0,Y=a.length;P<Y;P++){for(ge=a[P],M=0,ce=ge.length;M<ce;M++)Ee=ge[M],_+=(M?"L":"M")+Ee.x+" "+Ee.y;_+=f?nt.svg?"z":"x":""}return _||"M0 0"}var oe=document.documentElement.style,re="ActiveXObject"in window,pe=re&&!document.addEventListener,Re="msLaunchUri"in navigator&&!("documentMode"in document),Le=An("webkit"),me=An("android"),Be=An("android 2")||An("android 3"),Ve=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),De=me&&An("Google")&&Ve<537&&!("AudioNode"in window),tt=!!window.opera,G=!Re&&An("chrome"),R=An("gecko")&&!Le&&!tt&&!re,j=!G&&An("safari"),ne=An("phantom"),fe="OTransition"in oe,xe=navigator.platform.indexOf("Win")===0,Ce=re&&"transition"in oe,dt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Be,Lt="MozPerspective"in oe,_t=!window.L_DISABLE_3D&&(Ce||dt||Lt)&&!fe&&!ne,St=typeof orientation<"u"||An("mobile"),kt=St&&Le,fa=St&&dt,Vo=!window.PointerEvent&&window.MSPointerEvent,Rr=!!(window.PointerEvent||Vo),Hn="ontouchstart"in window||!!window.TouchEvent,no=!window.L_NO_TOUCH&&(Hn||Rr),lf=St&&tt,cf=St&&R,uf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,df=function(){var a=!1;try{var f=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",m,f),window.removeEventListener("testPassiveEventSupport",m,f)}catch{}return a}(),cu=function(){return!!document.createElement("canvas").getContext}(),bl=!!(document.createElementNS&&Pe("svg").createSVGRect),ha=!!bl&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),uu=!bl&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var f=a.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),pa=navigator.platform.indexOf("Mac")===0,Lm=navigator.platform.indexOf("Linux")===0;function An(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var nt={ie:re,ielt9:pe,edge:Re,webkit:Le,android:me,android23:Be,androidStock:De,opera:tt,chrome:G,gecko:R,safari:j,phantom:ne,opera12:fe,win:xe,ie3d:Ce,webkit3d:dt,gecko3d:Lt,any3d:_t,mobile:St,mobileWebkit:kt,mobileWebkit3d:fa,msPointer:Vo,pointer:Rr,touch:no,touchNative:Hn,mobileOpera:lf,mobileGecko:cf,retina:uf,passiveEvents:df,canvas:cu,svg:bl,vml:uu,inlineSvg:ha,mac:pa,linux:Lm},ma=nt.msPointer?"MSPointerDown":"pointerdown",El=nt.msPointer?"MSPointerMove":"pointermove",ff=nt.msPointer?"MSPointerUp":"pointerup",hf=nt.msPointer?"MSPointerCancel":"pointercancel",du={touchstart:ma,touchmove:El,touchend:ff,touchcancel:hf},Ci={touchstart:Jt,touchmove:Sl,touchend:Sl,touchcancel:Sl},ro={},fu=!1;function Om(a,f,_){return f==="touchstart"&&jm(),Ci[f]?(_=Ci[f].bind(this,_),a.addEventListener(du[f],_,!1),_):(console.warn("wrong event specified:",f),m)}function pf(a,f,_){if(!du[f]){console.warn("wrong event specified:",f);return}a.removeEventListener(du[f],_,!1)}function mf(a){ro[a.pointerId]=a}function gf(a){ro[a.pointerId]&&(ro[a.pointerId]=a)}function hu(a){delete ro[a.pointerId]}function jm(){fu||(document.addEventListener(ma,mf,!0),document.addEventListener(El,gf,!0),document.addEventListener(ff,hu,!0),document.addEventListener(hf,hu,!0),fu=!0)}function Sl(a,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var _ in ro)f.touches.push(ro[_]);f.changedTouches=[f],a(f)}}function Jt(a,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&Qt(f),Sl(a,f)}function Mm(a){var f={},_,P;for(P in a)_=a[P],f[P]=_&&_.bind?_.bind(a):_;return a=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var pu=200;function yf(a,f){a.addEventListener("dblclick",f);var _=0,P;function M(Y){if(Y.detail!==1){P=Y.detail;return}if(!(Y.pointerType==="mouse"||Y.sourceCapabilities&&!Y.sourceCapabilities.firesTouchEvents)){var ce=so(Y);if(!(ce.some(function(Ee){return Ee instanceof HTMLLabelElement&&Ee.attributes.for})&&!ce.some(function(Ee){return Ee instanceof HTMLInputElement||Ee instanceof HTMLSelectElement}))){var ge=Date.now();ge-_<=pu?(P++,P===2&&f(Mm(Y))):P=1,_=ge}}}return a.addEventListener("click",M),{dblclick:f,simDblclick:M}}function kl(a,f){a.removeEventListener("dblclick",f.dblclick),a.removeEventListener("click",f.simDblclick)}var mu=Yo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qo=Yo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ga=qo==="webkitTransition"||qo==="OTransition"?qo+"End":"transitionend";function yr(a){return typeof a=="string"?document.getElementById(a):a}function ya(a,f){var _=a.style[f]||a.currentStyle&&a.currentStyle[f];if((!_||_==="auto")&&document.defaultView){var P=document.defaultView.getComputedStyle(a,null);_=P?P[f]:null}return _==="auto"?null:_}function gt(a,f,_){var P=document.createElement(a);return P.className=f||"",_&&_.appendChild(P),P}function Zt(a){var f=a.parentNode;f&&f.removeChild(a)}function Cl(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ko(a){var f=a.parentNode;f&&f.lastChild!==a&&f.appendChild(a)}function ni(a){var f=a.parentNode;f&&f.firstChild!==a&&f.insertBefore(a,f.firstChild)}function Go(a,f){if(a.classList!==void 0)return a.classList.contains(f);var _=Pl(a);return _.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(_)}function pt(a,f){if(a.classList!==void 0)for(var _=S(f),P=0,M=_.length;P<M;P++)a.classList.add(_[P]);else if(!Go(a,f)){var Y=Pl(a);gu(a,(Y?Y+" ":"")+f)}}function Ut(a,f){a.classList!==void 0?a.classList.remove(f):gu(a,w((" "+Pl(a)+" ").replace(" "+f+" "," ")))}function gu(a,f){a.className.baseVal===void 0?a.className=f:a.className.baseVal=f}function Pl(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Rn(a,f){"opacity"in a.style?a.style.opacity=f:"filter"in a.style&&vf(a,f)}function vf(a,f){var _=!1,P="DXImageTransform.Microsoft.Alpha";try{_=a.filters.item(P)}catch{if(f===1)return}f=Math.round(f*100),_?(_.Enabled=f!==100,_.Opacity=f):a.style.filter+=" progid:"+P+"(opacity="+f+")"}function Yo(a){for(var f=document.documentElement.style,_=0;_<a.length;_++)if(a[_]in f)return a[_];return!1}function vr(a,f,_){var P=f||new te(0,0);a.style[mu]=(nt.ie3d?"translate("+P.x+"px,"+P.y+"px)":"translate3d("+P.x+"px,"+P.y+"px,0)")+(_?" scale("+_+")":"")}function nn(a,f){a._leaflet_pos=f,nt.any3d?vr(a,f):(a.style.left=f.x+"px",a.style.top=f.y+"px")}function ri(a){return a._leaflet_pos||new te(0,0)}var Ct,Jo,Tl;if("onselectstart"in document)Ct=function(){ft(window,"selectstart",Qt)},Jo=function(){Dt(window,"selectstart",Qt)};else{var io=Yo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ct=function(){if(io){var a=document.documentElement.style;Tl=a[io],a[io]="none"}},Jo=function(){io&&(document.documentElement.style[io]=Tl,Tl=void 0)}}function Nl(){ft(window,"dragstart",Qt)}function Al(){Dt(window,"dragstart",Qt)}var va,wa;function Qo(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(wr(),va=a,wa=a.style.outlineStyle,a.style.outlineStyle="none",ft(window,"keydown",wr))}function wr(){va&&(va.style.outlineStyle=wa,va=void 0,wa=void 0,Dt(window,"keydown",wr))}function ii(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Ir(a){var f=a.getBoundingClientRect();return{x:f.width/a.offsetWidth||1,y:f.height/a.offsetHeight||1,boundingClientRect:f}}var _a={__proto__:null,TRANSFORM:mu,TRANSITION:qo,TRANSITION_END:ga,get:yr,getStyle:ya,create:gt,remove:Zt,empty:Cl,toFront:Ko,toBack:ni,hasClass:Go,addClass:pt,removeClass:Ut,setClass:gu,getClass:Pl,setOpacity:Rn,testProp:Yo,setTransform:vr,setPosition:nn,getPosition:ri,get disableTextSelection(){return Ct},get enableTextSelection(){return Jo},disableImageDrag:Nl,enableImageDrag:Al,preventOutline:Qo,restoreOutline:wr,getSizedParentNode:ii,getScale:Ir};function ft(a,f,_,P){if(f&&typeof f=="object")for(var M in f)vu(a,M,f[M],_);else{f=S(f);for(var Y=0,ce=f.length;Y<ce;Y++)vu(a,f[Y],_,P)}return this}var mn="_leaflet_events";function Dt(a,f,_,P){if(arguments.length===1)yu(a),delete a[mn];else if(f&&typeof f=="object")for(var M in f)Rl(a,M,f[M],_);else if(f=S(f),arguments.length===2)yu(a,function(ge){return z(f,ge)!==-1});else for(var Y=0,ce=f.length;Y<ce;Y++)Rl(a,f[Y],_,P);return this}function yu(a,f){for(var _ in a[mn]){var P=_.split(/\d/)[0];(!f||f(P))&&Rl(a,P,null,null,_)}}var oo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function vu(a,f,_,P){var M=f+d(_)+(P?"_"+d(P):"");if(a[mn]&&a[mn][M])return this;var Y=function(ge){return _.call(P||a,ge||window.event)},ce=Y;!nt.touchNative&&nt.pointer&&f.indexOf("touch")===0?Y=Om(a,f,Y):nt.touch&&f==="dblclick"?Y=yf(a,Y):"addEventListener"in a?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?a.addEventListener(oo[f]||f,Y,nt.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(Y=function(ge){ge=ge||window.event,Ea(a,ge)&&ce(ge)},a.addEventListener(oo[f],Y,!1)):a.addEventListener(f,ce,!1):a.attachEvent("on"+f,Y),a[mn]=a[mn]||{},a[mn][M]=Y}function Rl(a,f,_,P,M){M=M||f+d(_)+(P?"_"+d(P):"");var Y=a[mn]&&a[mn][M];if(!Y)return this;!nt.touchNative&&nt.pointer&&f.indexOf("touch")===0?pf(a,f,Y):nt.touch&&f==="dblclick"?kl(a,Y):"removeEventListener"in a?a.removeEventListener(oo[f]||f,Y,!1):a.detachEvent("on"+f,Y),a[mn][M]=null}function Lr(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Il(a){return vu(a,"wheel",Lr),this}function xa(a){return ft(a,"mousedown touchstart dblclick contextmenu",Lr),a._leaflet_disable_click=!0,this}function Qt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function _r(a){return Qt(a),Lr(a),this}function so(a){if(a.composedPath)return a.composedPath();for(var f=[],_=a.target;_;)f.push(_),_=_.parentNode;return f}function ba(a,f){if(!f)return new te(a.clientX,a.clientY);var _=Ir(f),P=_.boundingClientRect;return new te((a.clientX-P.left)/_.x-f.clientLeft,(a.clientY-P.top)/_.y-f.clientTop)}var zm=nt.linux&&nt.chrome?window.devicePixelRatio:nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wf(a){return nt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/zm:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ea(a,f){var _=f.relatedTarget;if(!_)return!0;try{for(;_&&_!==a;)_=_.parentNode}catch{return!1}return _!==a}var Ll={__proto__:null,on:ft,off:Dt,stopPropagation:Lr,disableScrollPropagation:Il,disableClickPropagation:xa,preventDefault:Qt,stop:_r,getPropagationPath:so,getMousePosition:ba,getWheelDelta:wf,isExternalTarget:Ea,addListener:ft,removeListener:Dt},Ol=ie.extend({run:function(a,f,_,P){this.stop(),this._el=a,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(P||.5,.2),this._startPos=ri(a),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(a){var f=+new Date-this._startTime,_=this._duration*1e3;f<_?this._runFrame(this._easeOut(f/_),a):(this._runFrame(1),this._complete())},_runFrame:function(a,f){var _=this._startPos.add(this._offset.multiplyBy(a));f&&_._round(),nn(this._el,_),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),bt=ie.extend({options:{crs:at,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,f){f=v(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(Ie(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qo&&nt.any3d&&!nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ft(this._proxy,ga,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,f,_){if(f=f===void 0?this._zoom:this._limitZoom(f),a=this._limitCenter(Ie(a),f,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=i({animate:_.animate},_.zoom),_.pan=i({animate:_.animate,duration:_.duration},_.pan));var P=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,f,_.zoom):this._tryAnimatedPan(a,_.pan);if(P)return clearTimeout(this._sizeTimer),this}return this._resetView(a,f,_.pan&&_.pan.noMoveStart),this},setZoom:function(a,f){return this._loaded?this.setView(this.getCenter(),a,{zoom:f}):(this._zoom=a,this)},zoomIn:function(a,f){return a=a||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,f)},zoomOut:function(a,f){return a=a||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,f)},setZoomAround:function(a,f,_){var P=this.getZoomScale(f),M=this.getSize().divideBy(2),Y=a instanceof te?a:this.latLngToContainerPoint(a),ce=Y.subtract(M).multiplyBy(1-1/P),ge=this.containerPointToLatLng(M.add(ce));return this.setView(ge,f,{zoom:_})},_getBoundsCenterZoom:function(a,f){f=f||{},a=a.getBounds?a.getBounds():_e(a);var _=le(f.paddingTopLeft||f.padding||[0,0]),P=le(f.paddingBottomRight||f.padding||[0,0]),M=this.getBoundsZoom(a,!1,_.add(P));if(M=typeof f.maxZoom=="number"?Math.min(f.maxZoom,M):M,M===1/0)return{center:a.getCenter(),zoom:M};var Y=P.subtract(_).divideBy(2),ce=this.project(a.getSouthWest(),M),ge=this.project(a.getNorthEast(),M),Ee=this.unproject(ce.add(ge).divideBy(2).add(Y),M);return{center:Ee,zoom:M}},fitBounds:function(a,f){if(a=_e(a),!a.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(a,f);return this.setView(_.center,_.zoom,f)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,f){return this.setView(a,this._zoom,{pan:f})},panBy:function(a,f){if(a=le(a).round(),f=f||{},!a.x&&!a.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ol,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){pt(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,_,f.duration||.25,f.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,f,_){if(_=_||{},_.animate===!1||!nt.any3d)return this.setView(a,f,_);this._stop();var P=this.project(this.getCenter()),M=this.project(a),Y=this.getSize(),ce=this._zoom;a=Ie(a),f=f===void 0?ce:f;var ge=Math.max(Y.x,Y.y),Ee=ge*this.getZoomScale(ce,f),Oe=M.distanceTo(P)||1,We=1.42,lt=We*We;function vt(jt){var hs=jt?-1:1,Jm=jt?Ee:ge,Qm=Ee*Ee-ge*ge+hs*lt*lt*Oe*Oe,po=2*Jm*lt*Oe,mo=Qm/po,go=Math.sqrt(mo*mo+1)-mo,Kl=go<1e-9?-18:Math.log(go);return Kl}function gn(jt){return(Math.exp(jt)-Math.exp(-jt))/2}function fn(jt){return(Math.exp(jt)+Math.exp(-jt))/2}function qn(jt){return gn(jt)/fn(jt)}var Ln=vt(0);function ds(jt){return ge*(fn(Ln)/fn(Ln+We*jt))}function Bu(jt){return ge*(fn(Ln)*qn(Ln+We*jt)-gn(Ln))/lt}function Oi(jt){return 1-Math.pow(1-jt,1.5)}var Ff=Date.now(),ho=(vt(1)-Ln)/We,zr=_.duration?1e3*_.duration:1e3*ho*.8;function fs(){var jt=(Date.now()-Ff)/zr,hs=Oi(jt)*ho;jt<=1?(this._flyToFrame=J(fs,this),this._move(this.unproject(P.add(M.subtract(P).multiplyBy(Bu(hs)/Oe)),ce),this.getScaleZoom(ge/ds(hs),ce),{flyTo:!0})):this._move(a,f)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),fs.call(this),this},flyToBounds:function(a,f){var _=this._getBoundsCenterZoom(a,f);return this.flyTo(_.center,_.zoom,f)},setMaxBounds:function(a){return a=_e(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var f=this.options.minZoom;return this.options.minZoom=a,this._loaded&&f!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var f=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&f!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,f){this._enforcingBounds=!0;var _=this.getCenter(),P=this._limitCenter(_,this._zoom,_e(a));return _.equals(P)||this.panTo(P,f),this._enforcingBounds=!1,this},panInside:function(a,f){f=f||{};var _=le(f.paddingTopLeft||f.padding||[0,0]),P=le(f.paddingBottomRight||f.padding||[0,0]),M=this.project(this.getCenter()),Y=this.project(a),ce=this.getPixelBounds(),ge=Q([ce.min.add(_),ce.max.subtract(P)]),Ee=ge.getSize();if(!ge.contains(Y)){this._enforcingBounds=!0;var Oe=Y.subtract(ge.getCenter()),We=ge.extend(Y).getSize().subtract(Ee);M.x+=Oe.x<0?-We.x:We.x,M.y+=Oe.y<0?-We.y:We.y,this.panTo(this.unproject(M),f),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),P=f.divideBy(2).round(),M=_.divideBy(2).round(),Y=P.subtract(M);return!Y.x&&!Y.y?this:(a.animate&&a.pan?this.panBy(Y):(a.pan&&this._rawPanBy(Y),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=l(this._handleGeolocationResponse,this),_=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,_,a):navigator.geolocation.getCurrentPosition(f,_,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var f=a.code,_=a.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var f=a.coords.latitude,_=a.coords.longitude,P=new ve(f,_),M=P.toBounds(a.coords.accuracy*2),Y=this._locateOptions;if(Y.setView){var ce=this.getBoundsZoom(M);this.setView(P,Y.maxZoom?Math.min(ce,Y.maxZoom):ce)}var ge={latlng:P,bounds:M,timestamp:a.timestamp};for(var Ee in a.coords)typeof a.coords[Ee]=="number"&&(ge[Ee]=a.coords[Ee]);this.fire("locationfound",ge)}},addHandler:function(a,f){if(!f)return this;var _=this[a]=new f(this);return this._handlers.push(_),this.options[a]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Zt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Zt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,f){var _="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),P=gt("div",_,f||this._mapPane);return a&&(this._panes[a]=P),P},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),f=this.unproject(a.getBottomLeft()),_=this.unproject(a.getTopRight());return new ke(f,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,f,_){a=_e(a),_=le(_||[0,0]);var P=this.getZoom()||0,M=this.getMinZoom(),Y=this.getMaxZoom(),ce=a.getNorthWest(),ge=a.getSouthEast(),Ee=this.getSize().subtract(_),Oe=Q(this.project(ge,P),this.project(ce,P)).getSize(),We=nt.any3d?this.options.zoomSnap:1,lt=Ee.x/Oe.x,vt=Ee.y/Oe.y,gn=f?Math.max(lt,vt):Math.min(lt,vt);return P=this.getScaleZoom(gn,P),We&&(P=Math.round(P/(We/100))*(We/100),P=f?Math.ceil(P/We)*We:Math.floor(P/We)*We),Math.max(M,Math.min(Y,P))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,f){var _=this._getTopLeftPoint(a,f);return new Z(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,f){var _=this.options.crs;return f=f===void 0?this._zoom:f,_.scale(a)/_.scale(f)},getScaleZoom:function(a,f){var _=this.options.crs;f=f===void 0?this._zoom:f;var P=_.zoom(a*_.scale(f));return isNaN(P)?1/0:P},project:function(a,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(Ie(a),f)},unproject:function(a,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(le(a),f)},layerPointToLatLng:function(a){var f=le(a).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(a){var f=this.project(Ie(a))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ie(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(_e(a))},distance:function(a,f){return this.options.crs.distance(Ie(a),Ie(f))},containerPointToLayerPoint:function(a){return le(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return le(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var f=this.containerPointToLayerPoint(le(a));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(a)))},mouseEventToContainerPoint:function(a){return ba(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var f=this._container=yr(a);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ft(f,"scroll",this._onScroll,this),this._containerId=d(f)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&nt.any3d,pt(a,"leaflet-container"+(nt.touch?" leaflet-touch":"")+(nt.retina?" leaflet-retina":"")+(nt.ielt9?" leaflet-oldie":"")+(nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=ya(a,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),nn(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(a.markerPane,"leaflet-zoom-hide"),pt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,f,_){nn(this._mapPane,new te(0,0));var P=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var M=this._zoom!==f;this._moveStart(M,_)._move(a,f)._moveEnd(M),this.fire("viewreset"),P&&this.fire("load")},_moveStart:function(a,f){return a&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(a,f,_,P){f===void 0&&(f=this._zoom);var M=this._zoom!==f;return this._zoom=f,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),P?_&&_.pinch&&this.fire("zoom",_):((M||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){nn(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[d(this._container)]=this;var f=a?Dt:ft;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),nt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,f){for(var _=[],P,M=f==="mouseout"||f==="mouseover",Y=a.target||a.srcElement,ce=!1;Y;){if(P=this._targets[d(Y)],P&&(f==="click"||f==="preclick")&&this._draggableMoved(P)){ce=!0;break}if(P&&P.listens(f,!0)&&(M&&!Ea(Y,a)||(_.push(P),M))||Y===this._container)break;Y=Y.parentNode}return!_.length&&!ce&&!M&&this.listens(f,!0)&&(_=[this]),_},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var f=a.target||a.srcElement;if(!(!this._loaded||f._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(f))){var _=a.type;_==="mousedown"&&Qo(f),this._fireDOMEvent(a,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,f,_){if(a.type==="click"){var P=i({},a);P.type="preclick",this._fireDOMEvent(P,P.type,_)}var M=this._findEventTargets(a,f);if(_){for(var Y=[],ce=0;ce<_.length;ce++)_[ce].listens(f,!0)&&Y.push(_[ce]);M=Y.concat(M)}if(M.length){f==="contextmenu"&&Qt(a);var ge=M[0],Ee={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Oe=ge.getLatLng&&(!ge._radius||ge._radius<=10);Ee.containerPoint=Oe?this.latLngToContainerPoint(ge.getLatLng()):this.mouseEventToContainerPoint(a),Ee.layerPoint=this.containerPointToLayerPoint(Ee.containerPoint),Ee.latlng=Oe?ge.getLatLng():this.layerPointToLatLng(Ee.layerPoint)}for(ce=0;ce<M.length;ce++)if(M[ce].fire(f,Ee,!0),Ee.originalEvent._stopped||M[ce].options.bubblingMouseEvents===!1&&z(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,f=this._handlers.length;a<f;a++)this._handlers[a].disable()},whenReady:function(a,f){return this._loaded?a.call(f||this,{target:this}):this.on("load",a,f),this},_getMapPanePos:function(){return ri(this._mapPane)||new te(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,f){var _=a&&f!==void 0?this._getNewPixelOrigin(a,f):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,f){var _=this.getSize()._divideBy(2);return this.project(a,f)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,f,_){var P=this._getNewPixelOrigin(_,f);return this.project(a,f)._subtract(P)},_latLngBoundsToNewLayerBounds:function(a,f,_){var P=this._getNewPixelOrigin(_,f);return Q([this.project(a.getSouthWest(),f)._subtract(P),this.project(a.getNorthWest(),f)._subtract(P),this.project(a.getSouthEast(),f)._subtract(P),this.project(a.getNorthEast(),f)._subtract(P)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,f,_){if(!_)return a;var P=this.project(a,f),M=this.getSize().divideBy(2),Y=new Z(P.subtract(M),P.add(M)),ce=this._getBoundsOffset(Y,_,f);return Math.abs(ce.x)<=1&&Math.abs(ce.y)<=1?a:this.unproject(P.add(ce),f)},_limitOffset:function(a,f){if(!f)return a;var _=this.getPixelBounds(),P=new Z(_.min.add(a),_.max.add(a));return a.add(this._getBoundsOffset(P,f))},_getBoundsOffset:function(a,f,_){var P=Q(this.project(f.getNorthEast(),_),this.project(f.getSouthWest(),_)),M=P.min.subtract(a.min),Y=P.max.subtract(a.max),ce=this._rebound(M.x,-Y.x),ge=this._rebound(M.y,-Y.y);return new te(ce,ge)},_rebound:function(a,f){return a+f>0?Math.round(a-f)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(f))},_limitZoom:function(a){var f=this.getMinZoom(),_=this.getMaxZoom(),P=nt.any3d?this.options.zoomSnap:1;return P&&(a=Math.round(a/P)*P),Math.max(f,Math.min(_,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ut(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,f){var _=this._getCenterOffset(a)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,f),!0)},_createAnimProxy:function(){var a=this._proxy=gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(f){var _=mu,P=this._proxy.style[_];vr(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),P===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Zt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),f=this.getZoom();vr(this._proxy,this.project(a,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,f,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var P=this.getZoomScale(f),M=this._getCenterOffset(a)._divideBy(1-1/P);return _.animate!==!0&&!this.getSize().contains(M)?!1:(J(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(a,f,!0)},this),!0)},_animateZoom:function(a,f,_,P){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=f,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:f,noUpdate:P}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ut(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Pi(a,f){return new bt(a,f)}var Wn=O.extend({options:{position:"topright"},initialize:function(a){v(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var f=this._map;return f&&f.removeControl(this),this.options.position=a,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var f=this._container=this.onAdd(a),_=this.getPosition(),P=a._controlCorners[_];return pt(f,"leaflet-control"),_.indexOf("bottom")!==-1?P.insertBefore(f,P.firstChild):P.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Zt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ti=function(a){return new Wn(a)};bt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},f="leaflet-",_=this._controlContainer=gt("div",f+"control-container",this._container);function P(M,Y){var ce=f+M+" "+f+Y;a[M+Y]=gt("div",ce,_)}P("top","left"),P("top","right"),P("bottom","left"),P("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Zt(this._controlCorners[a]);Zt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var wu=Wn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,f,_,P){return _<P?-1:P<_?1:0}},initialize:function(a,f,_){v(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var P in a)this._addLayer(a[P],P);for(P in f)this._addLayer(f[P],P,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Wn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,f){return this._addLayer(a,f),this._map?this._update():this},addOverlay:function(a,f){return this._addLayer(a,f,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var f=this._getLayer(d(a));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Ut(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ut(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",f=this._container=gt("div",a),_=this.options.collapsed;f.setAttribute("aria-haspopup",!0),xa(f),Il(f);var P=this._section=gt("section",a+"-list");_&&(this._map.on("click",this.collapse,this),ft(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=gt("a",a+"-toggle",f);M.href="#",M.title="Layers",M.setAttribute("role","button"),ft(M,{keydown:function(Y){Y.keyCode===13&&this._expandSafely()},click:function(Y){Qt(Y),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=gt("div",a+"-base",P),this._separator=gt("div",a+"-separator",P),this._overlaysList=gt("div",a+"-overlays",P),f.appendChild(P)},_getLayer:function(a){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&d(this._layers[f].layer)===a)return this._layers[f]},_addLayer:function(a,f,_){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:f,overlay:_}),this.options.sortLayers&&this._layers.sort(l(function(P,M){return this.options.sortFunction(P.layer,M.layer,P.name,M.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Cl(this._baseLayersList),Cl(this._overlaysList),this._layerControlInputs=[];var a,f,_,P,M=0;for(_=0;_<this._layers.length;_++)P=this._layers[_],this._addItem(P),f=f||P.overlay,a=a||!P.overlay,M+=P.overlay?0:1;return this.options.hideSingleBase&&(a=a&&M>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=f&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var f=this._getLayer(d(a.target)),_=f.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;_&&this._map.fire(_,f)},_createRadioElement:function(a,f){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(f?' checked="checked"':"")+"/>",P=document.createElement("div");return P.innerHTML=_,P.firstChild},_addItem:function(a){var f=document.createElement("label"),_=this._map.hasLayer(a.layer),P;a.overlay?(P=document.createElement("input"),P.type="checkbox",P.className="leaflet-control-layers-selector",P.defaultChecked=_):P=this._createRadioElement("leaflet-base-layers_"+d(this),_),this._layerControlInputs.push(P),P.layerId=d(a.layer),ft(P,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+a.name;var Y=document.createElement("span");f.appendChild(Y),Y.appendChild(P),Y.appendChild(M);var ce=a.overlay?this._overlaysList:this._baseLayersList;return ce.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,f,_,P=[],M=[];this._handlingClick=!0;for(var Y=a.length-1;Y>=0;Y--)f=a[Y],_=this._getLayer(f.layerId).layer,f.checked?P.push(_):f.checked||M.push(_);for(Y=0;Y<M.length;Y++)this._map.hasLayer(M[Y])&&this._map.removeLayer(M[Y]);for(Y=0;Y<P.length;Y++)this._map.hasLayer(P[Y])||this._map.addLayer(P[Y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,f,_,P=this._map.getZoom(),M=a.length-1;M>=0;M--)f=a[M],_=this._getLayer(f.layerId).layer,f.disabled=_.options.minZoom!==void 0&&P<_.options.minZoom||_.options.maxZoom!==void 0&&P>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,ft(a,"click",Qt),this.expand();var f=this;setTimeout(function(){Dt(a,"click",Qt),f._preventClick=!1})}}),jl=function(a,f,_){return new wu(a,f,_)},Xo=Wn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var f="leaflet-control-zoom",_=gt("div",f+" leaflet-bar"),P=this.options;return this._zoomInButton=this._createButton(P.zoomInText,P.zoomInTitle,f+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(P.zoomOutText,P.zoomOutTitle,f+"-out",_,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,f,_,P,M){var Y=gt("a",_,P);return Y.innerHTML=a,Y.href="#",Y.title=f,Y.setAttribute("role","button"),Y.setAttribute("aria-label",f),xa(Y),ft(Y,"click",_r),ft(Y,"click",M,this),ft(Y,"click",this._refocusOnMap,this),Y},_updateDisabled:function(){var a=this._map,f="leaflet-disabled";Ut(this._zoomInButton,f),Ut(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(pt(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(pt(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});bt.mergeOptions({zoomControl:!0}),bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xo,this.addControl(this.zoomControl))});var _f=function(a){return new Xo(a)},In=Wn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var f="leaflet-control-scale",_=gt("div",f),P=this.options;return this._addScales(P,f+"-line",_),a.on(P.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),_},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,f,_){a.metric&&(this._mScale=gt("div",f,_)),a.imperial&&(this._iScale=gt("div",f,_))},_update:function(){var a=this._map,f=a.getSize().y/2,_=a.distance(a.containerPointToLatLng([0,f]),a.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(_)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var f=this._getRoundNum(a),_=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,_,f/a)},_updateImperial:function(a){var f=a*3.2808399,_,P,M;f>5280?(_=f/5280,P=this._getRoundNum(_),this._updateScale(this._iScale,P+" mi",P/_)):(M=this._getRoundNum(f),this._updateScale(this._iScale,M+" ft",M/f))},_updateScale:function(a,f,_){a.style.width=Math.round(this.options.maxWidth*_)+"px",a.innerHTML=f},_getRoundNum:function(a){var f=Math.pow(10,(Math.floor(a)+"").length-1),_=a/f;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,f*_}}),es=function(a){return new In(a)},_u='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ao=Wn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(nt.inlineSvg?_u+" ":"")+"Leaflet</a>"},initialize:function(a){v(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=gt("div","leaflet-control-attribution"),xa(this._container);for(var f in a._layers)a._layers[f].getAttribution&&this.addAttribution(a._layers[f].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var f in this._attributions)this._attributions[f]&&a.push(f);var _=[];this.options.prefix&&_.push(this.options.prefix),a.length&&_.push(a.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});bt.mergeOptions({attributionControl:!0}),bt.addInitHook(function(){this.options.attributionControl&&new ao().addTo(this)});var Dm=function(a){return new ao(a)};Wn.Layers=wu,Wn.Zoom=Xo,Wn.Scale=In,Wn.Attribution=ao,Ti.layers=jl,Ti.zoom=_f,Ti.scale=es,Ti.attribution=Dm;var nr=O.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nr.addTo=function(a,f){return a.addHandler(f,this),this};var xu={Events:se},ts=nt.touch?"touchstart mousedown":"mousedown",xr=ie.extend({options:{clickTolerance:3},initialize:function(a,f,_,P){v(this,P),this._element=a,this._dragStartTarget=f||a,this._preventOutline=_},enable:function(){this._enabled||(ft(this._dragStartTarget,ts,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xr._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,ts,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Go(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){xr._dragging===this&&this.finishDrag();return}if(!(xr._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(xr._dragging=this,this._preventOutline&&Qo(this._element),Nl(),Ct(),!this._moving)){this.fire("down");var f=a.touches?a.touches[0]:a,_=ii(this._element);this._startPoint=new te(f.clientX,f.clientY),this._startPos=ri(this._element),this._parentScale=Ir(_);var P=a.type==="mousedown";ft(document,P?"mousemove":"touchmove",this._onMove,this),ft(document,P?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var f=a.touches&&a.touches.length===1?a.touches[0]:a,_=new te(f.clientX,f.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Qt(a),this._moved||(this.fire("dragstart"),this._moved=!0,pt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),nn(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Ut(document.body,"leaflet-dragging"),this._lastTarget&&(Ut(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),Al(),Jo();var f=this._moved&&this._moving;this._moving=!1,xr._dragging=!1,f&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function bu(a,f,_){var P,M=[1,4,2,8],Y,ce,ge,Ee,Oe,We,lt,vt;for(Y=0,We=a.length;Y<We;Y++)a[Y]._code=lo(a[Y],f);for(ge=0;ge<4;ge++){for(lt=M[ge],P=[],Y=0,We=a.length,ce=We-1;Y<We;ce=Y++)Ee=a[Y],Oe=a[ce],Ee._code&lt?Oe._code&lt||(vt=zl(Oe,Ee,lt,f,_),vt._code=lo(vt,f),P.push(vt)):(Oe._code&lt&&(vt=zl(Oe,Ee,lt,f,_),vt._code=lo(vt,f),P.push(vt)),P.push(Ee));a=P}return a}function xf(a,f){var _,P,M,Y,ce,ge,Ee,Oe,We;if(!a||a.length===0)throw new Error("latlngs not passed");rr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var lt=Ie([0,0]),vt=_e(a),gn=vt.getNorthWest().distanceTo(vt.getSouthWest())*vt.getNorthEast().distanceTo(vt.getNorthWest());gn<1700&&(lt=Eu(a));var fn=a.length,qn=[];for(_=0;_<fn;_++){var Ln=Ie(a[_]);qn.push(f.project(Ie([Ln.lat-lt.lat,Ln.lng-lt.lng])))}for(ge=Ee=Oe=0,_=0,P=fn-1;_<fn;P=_++)M=qn[_],Y=qn[P],ce=M.y*Y.x-Y.y*M.x,Ee+=(M.x+Y.x)*ce,Oe+=(M.y+Y.y)*ce,ge+=ce*3;ge===0?We=qn[0]:We=[Ee/ge,Oe/ge];var ds=f.unproject(le(We));return Ie([ds.lat+lt.lat,ds.lng+lt.lng])}function Eu(a){for(var f=0,_=0,P=0,M=0;M<a.length;M++){var Y=Ie(a[M]);f+=Y.lat,_+=Y.lng,P++}return Ie([f/P,_/P])}var Bm={__proto__:null,clipPolygon:bu,polygonCenter:xf,centroid:Eu};function Ml(a,f){if(!f||!a.length)return a.slice();var _=f*f;return a=$m(a,_),a=Um(a,_),a}function bf(a,f,_){return Math.sqrt(co(a,f,_,!0))}function Fm(a,f,_){return co(a,f,_)}function Um(a,f){var _=a.length,P=typeof Uint8Array<"u"?Uint8Array:Array,M=new P(_);M[0]=M[_-1]=1,Su(a,M,f,0,_-1);var Y,ce=[];for(Y=0;Y<_;Y++)M[Y]&&ce.push(a[Y]);return ce}function Su(a,f,_,P,M){var Y=0,ce,ge,Ee;for(ge=P+1;ge<=M-1;ge++)Ee=co(a[ge],a[P],a[M],!0),Ee>Y&&(ce=ge,Y=Ee);Y>_&&(f[ce]=1,Su(a,f,_,P,ce),Su(a,f,_,ce,M))}function $m(a,f){for(var _=[a[0]],P=1,M=0,Y=a.length;P<Y;P++)Zm(a[P],a[M])>f&&(_.push(a[P]),M=P);return M<Y-1&&_.push(a[Y-1]),_}var ku;function Ef(a,f,_,P,M){var Y=P?ku:lo(a,_),ce=lo(f,_),ge,Ee,Oe;for(ku=ce;;){if(!(Y|ce))return[a,f];if(Y&ce)return!1;ge=Y||ce,Ee=zl(a,f,ge,_,M),Oe=lo(Ee,_),ge===Y?(a=Ee,Y=Oe):(f=Ee,ce=Oe)}}function zl(a,f,_,P,M){var Y=f.x-a.x,ce=f.y-a.y,ge=P.min,Ee=P.max,Oe,We;return _&8?(Oe=a.x+Y*(Ee.y-a.y)/ce,We=Ee.y):_&4?(Oe=a.x+Y*(ge.y-a.y)/ce,We=ge.y):_&2?(Oe=Ee.x,We=a.y+ce*(Ee.x-a.x)/Y):_&1&&(Oe=ge.x,We=a.y+ce*(ge.x-a.x)/Y),new te(Oe,We,M)}function lo(a,f){var _=0;return a.x<f.min.x?_|=1:a.x>f.max.x&&(_|=2),a.y<f.min.y?_|=4:a.y>f.max.y&&(_|=8),_}function Zm(a,f){var _=f.x-a.x,P=f.y-a.y;return _*_+P*P}function co(a,f,_,P){var M=f.x,Y=f.y,ce=_.x-M,ge=_.y-Y,Ee=ce*ce+ge*ge,Oe;return Ee>0&&(Oe=((a.x-M)*ce+(a.y-Y)*ge)/Ee,Oe>1?(M=_.x,Y=_.y):Oe>0&&(M+=ce*Oe,Y+=ge*Oe)),ce=a.x-M,ge=a.y-Y,P?ce*ce+ge*ge:new te(M,Y)}function rr(a){return!A(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Sf(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rr(a)}function kf(a,f){var _,P,M,Y,ce,ge,Ee,Oe;if(!a||a.length===0)throw new Error("latlngs not passed");rr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var We=Ie([0,0]),lt=_e(a),vt=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());vt<1700&&(We=Eu(a));var gn=a.length,fn=[];for(_=0;_<gn;_++){var qn=Ie(a[_]);fn.push(f.project(Ie([qn.lat-We.lat,qn.lng-We.lng])))}for(_=0,P=0;_<gn-1;_++)P+=fn[_].distanceTo(fn[_+1])/2;if(P===0)Oe=fn[0];else for(_=0,Y=0;_<gn-1;_++)if(ce=fn[_],ge=fn[_+1],M=ce.distanceTo(ge),Y+=M,Y>P){Ee=(Y-P)/M,Oe=[ge.x-Ee*(ge.x-ce.x),ge.y-Ee*(ge.y-ce.y)];break}var Ln=f.unproject(le(Oe));return Ie([Ln.lat+We.lat,Ln.lng+We.lng])}var Cf={__proto__:null,simplify:Ml,pointToSegmentDistance:bf,closestPointOnSegment:Fm,clipSegment:Ef,_getEdgeIntersection:zl,_getBitCode:lo,_sqClosestPointOnSegment:co,isFlat:rr,_flat:Sf,polylineCenter:kf},Cu={project:function(a){return new te(a.lng,a.lat)},unproject:function(a){return new ve(a.y,a.x)},bounds:new Z([-180,-90],[180,90])},Pu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var f=Math.PI/180,_=this.R,P=a.lat*f,M=this.R_MINOR/_,Y=Math.sqrt(1-M*M),ce=Y*Math.sin(P),ge=Math.tan(Math.PI/4-P/2)/Math.pow((1-ce)/(1+ce),Y/2);return P=-_*Math.log(Math.max(ge,1e-10)),new te(a.lng*f*_,P)},unproject:function(a){for(var f=180/Math.PI,_=this.R,P=this.R_MINOR/_,M=Math.sqrt(1-P*P),Y=Math.exp(-a.y/_),ce=Math.PI/2-2*Math.atan(Y),ge=0,Ee=.1,Oe;ge<15&&Math.abs(Ee)>1e-7;ge++)Oe=M*Math.sin(ce),Oe=Math.pow((1-Oe)/(1+Oe),M/2),Ee=Math.PI/2-2*Math.atan(Y*Oe)-ce,ce+=Ee;return new ve(ce*f,a.x*f/_)}},Hm={__proto__:null,LonLat:Cu,Mercator:Pu,SphericalMercator:Ze},Wm=i({},Ne,{code:"EPSG:3395",projection:Pu,transformation:function(){var a=.5/(Math.PI*Pu.R);return ot(a,.5,-a,.5)}()}),Pf=i({},Ne,{code:"EPSG:4326",projection:Cu,transformation:ot(1/180,1,-1/180,.5)}),Vm=i({},Te,{projection:Cu,transformation:ot(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,f){var _=f.lng-a.lng,P=f.lat-a.lat;return Math.sqrt(_*_+P*P)},infinite:!0});Te.Earth=Ne,Te.EPSG3395=Wm,Te.EPSG3857=at,Te.EPSG900913=B,Te.EPSG4326=Pf,Te.Simple=Vm;var br=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[d(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[d(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var f=a.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var _=this.getEvents();f.on(_,this),this.once("remove",function(){f.off(_,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});bt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var f=d(a);return this._layers[f]?this:(this._layers[f]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var f=d(a);return this._layers[f]?(this._loaded&&a.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return d(a)in this._layers},eachLayer:function(a,f){for(var _ in this._layers)a.call(f,this._layers[_]);return this},_addLayers:function(a){a=a?A(a)?a:[a]:[];for(var f=0,_=a.length;f<_;f++)this.addLayer(a[f])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[d(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var f=d(a);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,f=-1/0,_=this._getZoomSpan();for(var P in this._zoomBoundLayers){var M=this._zoomBoundLayers[P].options;a=M.minZoom===void 0?a:Math.min(a,M.minZoom),f=M.maxZoom===void 0?f:Math.max(f,M.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=a===1/0?void 0:a,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ni=br.extend({initialize:function(a,f){v(this,f),this._layers={};var _,P;if(a)for(_=0,P=a.length;_<P;_++)this.addLayer(a[_])},addLayer:function(a){var f=this.getLayerId(a);return this._layers[f]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var f=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(a){var f=typeof a=="number"?a:this.getLayerId(a);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var f=Array.prototype.slice.call(arguments,1),_,P;for(_ in this._layers)P=this._layers[_],P[a]&&P[a].apply(P,f);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,f){for(var _ in this._layers)a.call(f,this._layers[_]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return d(a)}}),Sa=function(a,f){return new Ni(a,f)},oi=Ni.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ni.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Ni.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ke;for(var f in this._layers){var _=this._layers[f];a.extend(_.getBounds?_.getBounds():_.getLatLng())}return a}}),Tf=function(a,f){return new oi(a,f)},uo=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){v(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,f){var _=this._getIconUrl(a);if(!_){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var P=this._createImg(_,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(P,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),P},_setIconStyles:function(a,f){var _=this.options,P=_[f+"Size"];typeof P=="number"&&(P=[P,P]);var M=le(P),Y=le(f==="shadow"&&_.shadowAnchor||_.iconAnchor||M&&M.divideBy(2,!0));a.className="leaflet-marker-"+f+" "+(_.className||""),Y&&(a.style.marginLeft=-Y.x+"px",a.style.marginTop=-Y.y+"px"),M&&(a.style.width=M.x+"px",a.style.height=M.y+"px")},_createImg:function(a,f){return f=f||document.createElement("img"),f.src=a,f},_getIconUrl:function(a){return nt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Nf(a){return new uo(a)}var ns=uo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ns.imagePath!="string"&&(ns.imagePath=this._detectIconPath()),(this.options.imagePath||ns.imagePath)+uo.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var f=function(_,P,M){var Y=P.exec(_);return Y&&Y[M]};return a=f(a,/^url\((['"])?(.+)\1\)$/,2),a&&f(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=gt("div","leaflet-default-icon-path",document.body),f=ya(a,"background-image")||ya(a,"backgroundImage");if(document.body.removeChild(a),f=this._stripUrl(f),f)return f;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),Tu=nr.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new xr(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ut(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var f=this._marker,_=f._map,P=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,Y=ri(f._icon),ce=_.getPixelBounds(),ge=_.getPixelOrigin(),Ee=Q(ce.min._subtract(ge).add(M),ce.max._subtract(ge).subtract(M));if(!Ee.contains(Y)){var Oe=le((Math.max(Ee.max.x,Y.x)-Ee.max.x)/(ce.max.x-Ee.max.x)-(Math.min(Ee.min.x,Y.x)-Ee.min.x)/(ce.min.x-Ee.min.x),(Math.max(Ee.max.y,Y.y)-Ee.max.y)/(ce.max.y-Ee.max.y)-(Math.min(Ee.min.y,Y.y)-Ee.min.y)/(ce.min.y-Ee.min.y)).multiplyBy(P);_.panBy(Oe,{animate:!1}),this._draggable._newPos._add(Oe),this._draggable._startPos._add(Oe),nn(f._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=J(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,a)))},_onDrag:function(a){var f=this._marker,_=f._shadow,P=ri(f._icon),M=f._map.layerPointToLatLng(P);_&&nn(_,P),f._latlng=M,a.latlng=M,a.oldLatLng=this._oldLatLng,f.fire("move",a).fire("drag",a)},_onDragEnd:function(a){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),si=br.extend({options:{icon:new ns,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,f){v(this,f),this._latlng=Ie(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var f=this._latlng;return this._latlng=Ie(a),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=a.icon.createIcon(this._icon),P=!1;_!==this._icon&&(this._icon&&this._removeIcon(),P=!0,a.title&&(_.title=a.title),_.tagName==="IMG"&&(_.alt=a.alt||"")),pt(_,f),a.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(_,"focus",this._panOnFocus,this);var M=a.icon.createShadow(this._shadow),Y=!1;M!==this._shadow&&(this._removeShadow(),Y=!0),M&&(pt(M,f),M.alt=""),this._shadow=M,a.opacity<1&&this._updateOpacity(),P&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&Y&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),Zt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Zt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&nn(this._icon,a),this._shadow&&nn(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Tu)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Tu(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Rn(this._icon,a),this._shadow&&Rn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var f=this.options.icon.options,_=f.iconSize?le(f.iconSize):le(0,0),P=f.iconAnchor?le(f.iconAnchor):le(0,0);a.panInside(this._latlng,{paddingTopLeft:P,paddingBottomRight:_.subtract(P)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qm(a,f){return new si(a,f)}var Ai=br.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return v(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Dl=Ai.extend({options:{fill:!0,radius:10},initialize:function(a,f){v(this,f),this._latlng=Ie(a),this._radius=this.options.radius},setLatLng:function(a){var f=this._latlng;return this._latlng=Ie(a),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var f=a&&a.radius||this._radius;return Ai.prototype.setStyle.call(this,a),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,f=this._radiusY||a,_=this._clickTolerance(),P=[a+_,f+_];this._pxBounds=new Z(this._point.subtract(P),this._point.add(P))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Af(a,f){return new Dl(a,f)}var Bl=Dl.extend({initialize:function(a,f,_){if(typeof f=="number"&&(f=i({},_,{radius:f})),v(this,f),this._latlng=Ie(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ke(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ai.prototype.setStyle,_project:function(){var a=this._latlng.lng,f=this._latlng.lat,_=this._map,P=_.options.crs;if(P.distance===Ne.distance){var M=Math.PI/180,Y=this._mRadius/Ne.R/M,ce=_.project([f+Y,a]),ge=_.project([f-Y,a]),Ee=ce.add(ge).divideBy(2),Oe=_.unproject(Ee).lat,We=Math.acos((Math.cos(Y*M)-Math.sin(f*M)*Math.sin(Oe*M))/(Math.cos(f*M)*Math.cos(Oe*M)))/M;(isNaN(We)||We===0)&&(We=Y/Math.cos(Math.PI/180*f)),this._point=Ee.subtract(_.getPixelOrigin()),this._radius=isNaN(We)?0:Ee.x-_.project([Oe,a-We]).x,this._radiusY=Ee.y-ce.y}else{var lt=P.unproject(P.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(lt).x}this._updateBounds()}});function ka(a,f,_){return new Bl(a,f,_)}var Vn=Ai.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,f){v(this,f),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var f=1/0,_=null,P=co,M,Y,ce=0,ge=this._parts.length;ce<ge;ce++)for(var Ee=this._parts[ce],Oe=1,We=Ee.length;Oe<We;Oe++){M=Ee[Oe-1],Y=Ee[Oe];var lt=P(a,M,Y,!0);lt<f&&(f=lt,_=P(a,M,Y))}return _&&(_.distance=Math.sqrt(f)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,f){return f=f||this._defaultShape(),a=Ie(a),f.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ke,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return rr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var f=[],_=rr(a),P=0,M=a.length;P<M;P++)_?(f[P]=Ie(a[P]),this._bounds.extend(f[P])):f[P]=this._convertLatLngs(a[P]);return f},_project:function(){var a=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),f=new te(a,a);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(a,f,_){var P=a[0]instanceof ve,M=a.length,Y,ce;if(P){for(ce=[],Y=0;Y<M;Y++)ce[Y]=this._map.latLngToLayerPoint(a[Y]),_.extend(ce[Y]);f.push(ce)}else for(Y=0;Y<M;Y++)this._projectLatlngs(a[Y],f,_)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,_,P,M,Y,ce,ge,Ee;for(_=0,M=0,Y=this._rings.length;_<Y;_++)for(Ee=this._rings[_],P=0,ce=Ee.length;P<ce-1;P++)ge=Ef(Ee[P],Ee[P+1],a,P,!0),ge&&(f[M]=f[M]||[],f[M].push(ge[0]),(ge[1]!==Ee[P+1]||P===ce-2)&&(f[M].push(ge[1]),M++))}},_simplifyPoints:function(){for(var a=this._parts,f=this.options.smoothFactor,_=0,P=a.length;_<P;_++)a[_]=Ml(a[_],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,f){var _,P,M,Y,ce,ge,Ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(_=0,Y=this._parts.length;_<Y;_++)for(ge=this._parts[_],P=0,ce=ge.length,M=ce-1;P<ce;M=P++)if(!(!f&&P===0)&&bf(a,ge[M],ge[P])<=Ee)return!0;return!1}});function Km(a,f){return new Vn(a,f)}Vn._flat=Sf;var ai=Vn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var f=Vn.prototype._convertLatLngs.call(this,a),_=f.length;return _>=2&&f[0]instanceof ve&&f[0].equals(f[_-1])&&f.pop(),f},_setLatLngs:function(a){Vn.prototype._setLatLngs.call(this,a),rr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return rr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,f=this.options.weight,_=new te(f,f);if(a=new Z(a.min.subtract(_),a.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var P=0,M=this._rings.length,Y;P<M;P++)Y=bu(this._rings[P],a,!0),Y.length&&this._parts.push(Y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var f=!1,_,P,M,Y,ce,ge,Ee,Oe;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(Y=0,Ee=this._parts.length;Y<Ee;Y++)for(_=this._parts[Y],ce=0,Oe=_.length,ge=Oe-1;ce<Oe;ge=ce++)P=_[ce],M=_[ge],P.y>a.y!=M.y>a.y&&a.x<(M.x-P.x)*(a.y-P.y)/(M.y-P.y)+P.x&&(f=!f);return f||Vn.prototype._containsPoint.call(this,a,!0)}});function Gm(a,f){return new ai(a,f)}var Or=oi.extend({initialize:function(a,f){v(this,f),this._layers={},a&&this.addData(a)},addData:function(a){var f=A(a)?a:a.features,_,P,M;if(f){for(_=0,P=f.length;_<P;_++)M=f[_],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var Y=this.options;if(Y.filter&&!Y.filter(a))return this;var ce=rs(a,Y);return ce?(ce.feature=Hl(a),ce.defaultOptions=ce.options,this.resetStyle(ce),Y.onEachFeature&&Y.onEachFeature(a,ce),this.addLayer(ce)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(f){this._setLayerStyle(f,a)},this)},_setLayerStyle:function(a,f){a.setStyle&&(typeof f=="function"&&(f=f(a.feature)),a.setStyle(f))}});function rs(a,f){var _=a.type==="Feature"?a.geometry:a,P=_?_.coordinates:null,M=[],Y=f&&f.pointToLayer,ce=f&&f.coordsToLatLng||Ul,ge,Ee,Oe,We;if(!P&&!_)return null;switch(_.type){case"Point":return ge=ce(P),Fl(Y,a,ge,f);case"MultiPoint":for(Oe=0,We=P.length;Oe<We;Oe++)ge=ce(P[Oe]),M.push(Fl(Y,a,ge,f));return new oi(M);case"LineString":case"MultiLineString":return Ee=Ca(P,_.type==="LineString"?0:1,ce),new Vn(Ee,f);case"Polygon":case"MultiPolygon":return Ee=Ca(P,_.type==="Polygon"?1:2,ce),new ai(Ee,f);case"GeometryCollection":for(Oe=0,We=_.geometries.length;Oe<We;Oe++){var lt=rs({geometry:_.geometries[Oe],type:"Feature",properties:a.properties},f);lt&&M.push(lt)}return new oi(M);case"FeatureCollection":for(Oe=0,We=_.features.length;Oe<We;Oe++){var vt=rs(_.features[Oe],f);vt&&M.push(vt)}return new oi(M);default:throw new Error("Invalid GeoJSON object.")}}function Fl(a,f,_,P){return a?a(f,_):new si(_,P&&P.markersInheritOptions&&P)}function Ul(a){return new ve(a[1],a[0],a[2])}function Ca(a,f,_){for(var P=[],M=0,Y=a.length,ce;M<Y;M++)ce=f?Ca(a[M],f-1,_):(_||Ul)(a[M]),P.push(ce);return P}function $l(a,f){return a=Ie(a),a.alt!==void 0?[b(a.lng,f),b(a.lat,f),b(a.alt,f)]:[b(a.lng,f),b(a.lat,f)]}function Zl(a,f,_,P){for(var M=[],Y=0,ce=a.length;Y<ce;Y++)M.push(f?Zl(a[Y],rr(a[Y])?0:f-1,_,P):$l(a[Y],P));return!f&&_&&M.length>0&&M.push(M[0].slice()),M}function is(a,f){return a.feature?i({},a.feature,{geometry:f}):Hl(f)}function Hl(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Nu={toGeoJSON:function(a){return is(this,{type:"Point",coordinates:$l(this.getLatLng(),a)})}};si.include(Nu),Bl.include(Nu),Dl.include(Nu),Vn.include({toGeoJSON:function(a){var f=!rr(this._latlngs),_=Zl(this._latlngs,f?1:0,!1,a);return is(this,{type:(f?"Multi":"")+"LineString",coordinates:_})}}),ai.include({toGeoJSON:function(a){var f=!rr(this._latlngs),_=f&&!rr(this._latlngs[0]),P=Zl(this._latlngs,_?2:f?1:0,!0,a);return f||(P=[P]),is(this,{type:(_?"Multi":"")+"Polygon",coordinates:P})}}),Ni.include({toMultiPoint:function(a){var f=[];return this.eachLayer(function(_){f.push(_.toGeoJSON(a).geometry.coordinates)}),is(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(a){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(a);var _=f==="GeometryCollection",P=[];return this.eachLayer(function(M){if(M.toGeoJSON){var Y=M.toGeoJSON(a);if(_)P.push(Y.geometry);else{var ce=Hl(Y);ce.type==="FeatureCollection"?P.push.apply(P,ce.features):P.push(ce)}}}),_?is(this,{geometries:P,type:"GeometryCollection"}):{type:"FeatureCollection",features:P}}});function Rf(a,f){return new Or(a,f)}var Er=Rf,Ri=br.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,f,_){this._url=a,this._bounds=_e(f),v(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Zt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ko(this._image),this},bringToBack:function(){return this._map&&ni(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=_e(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",f=this._image=a?this._url:gt("img");if(pt(f,"leaflet-image-layer"),this._zoomAnimated&&pt(f,"leaflet-zoom-animated"),this.options.className&&pt(f,this.options.className),f.onselectstart=m,f.onmousemove=m,f.onload=l(this.fire,this,"load"),f.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(a){var f=this._map.getZoomScale(a.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;vr(this._image,_,f)},_reset:function(){var a=this._image,f=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=f.getSize();nn(a,f.min),a.style.width=_.x+"px",a.style.height=_.y+"px"},_updateOpacity:function(){Rn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),If=function(a,f,_){return new Ri(a,f,_)},Au=Ri.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",f=this._image=a?this._url:gt("video");if(pt(f,"leaflet-image-layer"),this._zoomAnimated&&pt(f,"leaflet-zoom-animated"),this.options.className&&pt(f,this.options.className),f.onselectstart=m,f.onmousemove=m,f.onloadeddata=l(this.fire,this,"load"),a){for(var _=f.getElementsByTagName("source"),P=[],M=0;M<_.length;M++)P.push(_[M].src);this._url=_.length>0?P:[f.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var Y=0;Y<this._url.length;Y++){var ce=gt("source");ce.src=this._url[Y],f.appendChild(ce)}}});function Lf(a,f,_){return new Au(a,f,_)}var Ru=Ri.extend({_initImage:function(){var a=this._image=this._url;pt(a,"leaflet-image-layer"),this._zoomAnimated&&pt(a,"leaflet-zoom-animated"),this.options.className&&pt(a,this.options.className),a.onselectstart=m,a.onmousemove=m}});function Iu(a,f,_){return new Ru(a,f,_)}var jr=br.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,f){a&&(a instanceof ve||A(a))?(this._latlng=Ie(a),v(this,f)):(v(this,a),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Rn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Rn(this._container,1),this.bringToFront(),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Rn(this._container,0),this._removeTimeout=setTimeout(l(Zt,void 0,this._container),200)):Zt(this._container),this.options.interactive&&(Ut(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ie(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ko(this._container),this},bringToBack:function(){return this._map&&ni(this._container),this},_prepareOpen:function(a){var f=this._source;if(!f._map)return!1;if(f instanceof oi){f=null;var _=this._source._layers;for(var P in _)if(_[P]._map){f=_[P];break}if(!f)return!1;this._source=f}if(!a)if(f.getCenter)a=f.getCenter();else if(f.getLatLng)a=f.getLatLng();else if(f.getBounds)a=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")a.innerHTML=f;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),f=le(this.options.offset),_=this._getAnchor();this._zoomAnimated?nn(this._container,a.add(_)):f=f.add(a).add(_);var P=this._containerBottom=-f.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=P+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});bt.include({_initOverlay:function(a,f,_,P){var M=f;return M instanceof a||(M=new a(P).setContent(f)),_&&M.setLatLng(_),M}}),br.include({_initOverlay:function(a,f,_,P){var M=_;return M instanceof a?(v(M,P),M._source=this):(M=f&&!P?f:new a(P,this),M.setContent(_)),M}});var Wl=jr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,jr.prototype.openOn.call(this,a)},onAdd:function(a){jr.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ai||this._source.on("preclick",Lr))},onRemove:function(a){jr.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ai||this._source.off("preclick",Lr))},getEvents:function(){var a=jr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",f=this._container=gt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=gt("div",a+"-content-wrapper",f);if(this._contentNode=gt("div",a+"-content",_),xa(f),Il(this._contentNode),ft(f,"contextmenu",Lr),this._tipContainer=gt("div",a+"-tip-container",f),this._tip=gt("div",a+"-tip",this._tipContainer),this.options.closeButton){var P=this._closeButton=gt("a",a+"-close-button",f);P.setAttribute("role","button"),P.setAttribute("aria-label","Close popup"),P.href="#close",P.innerHTML='<span aria-hidden="true">&#215;</span>',ft(P,"click",function(M){Qt(M),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,f=a.style;f.width="",f.whiteSpace="nowrap";var _=a.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),f.width=_+1+"px",f.whiteSpace="",f.height="";var P=a.offsetHeight,M=this.options.maxHeight,Y="leaflet-popup-scrolled";M&&P>M?(f.height=M+"px",pt(a,Y)):Ut(a,Y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),_=this._getAnchor();nn(this._container,f.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,f=parseInt(ya(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+f,P=this._containerWidth,M=new te(this._containerLeft,-_-this._containerBottom);M._add(ri(this._container));var Y=a.layerPointToContainerPoint(M),ce=le(this.options.autoPanPadding),ge=le(this.options.autoPanPaddingTopLeft||ce),Ee=le(this.options.autoPanPaddingBottomRight||ce),Oe=a.getSize(),We=0,lt=0;Y.x+P+Ee.x>Oe.x&&(We=Y.x+P-Oe.x+Ee.x),Y.x-We-ge.x<0&&(We=Y.x-ge.x),Y.y+_+Ee.y>Oe.y&&(lt=Y.y+_-Oe.y+Ee.y),Y.y-lt-ge.y<0&&(lt=Y.y-ge.y),(We||lt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([We,lt]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),os=function(a,f){return new Wl(a,f)};bt.mergeOptions({closePopupOnClick:!0}),bt.include({openPopup:function(a,f,_){return this._initOverlay(Wl,a,f,_).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),br.include({bindPopup:function(a,f){return this._popup=this._initOverlay(Wl,this._popup,a,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof oi||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){_r(a);var f=a.layer||a.target;if(this._popup._source===f&&!(f instanceof Ai)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=f,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var ss=jr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){jr.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){jr.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=jr.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",f=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=gt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var f,_,P=this._map,M=this._container,Y=P.latLngToContainerPoint(P.getCenter()),ce=P.layerPointToContainerPoint(a),ge=this.options.direction,Ee=M.offsetWidth,Oe=M.offsetHeight,We=le(this.options.offset),lt=this._getAnchor();ge==="top"?(f=Ee/2,_=Oe):ge==="bottom"?(f=Ee/2,_=0):ge==="center"?(f=Ee/2,_=Oe/2):ge==="right"?(f=0,_=Oe/2):ge==="left"?(f=Ee,_=Oe/2):ce.x<Y.x?(ge="right",f=0,_=Oe/2):(ge="left",f=Ee+(We.x+lt.x)*2,_=Oe/2),a=a.subtract(le(f,_,!0)).add(We).add(lt),Ut(M,"leaflet-tooltip-right"),Ut(M,"leaflet-tooltip-left"),Ut(M,"leaflet-tooltip-top"),Ut(M,"leaflet-tooltip-bottom"),pt(M,"leaflet-tooltip-"+ge),nn(M,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Rn(this._container,a)},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(f)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Pa=function(a,f){return new ss(a,f)};bt.include({openTooltip:function(a,f,_){return this._initOverlay(ss,a,f,_).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),br.include({bindTooltip:function(a,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ss,this._tooltip,a,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var f=a?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[f](_),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof oi||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var f=typeof a.getElement=="function"&&a.getElement();f&&(ft(f,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),ft(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var f=typeof a.getElement=="function"&&a.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var f=a.latlng,_,P;this._tooltip.options.sticky&&a.originalEvent&&(_=this._map.mouseEventToContainerPoint(a.originalEvent),P=this._map.containerPointToLayerPoint(_),f=this._map.layerPointToLatLng(P)),this._tooltip.setLatLng(f)}});var Vl=uo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var f=a&&a.tagName==="DIV"?a:document.createElement("div"),_=this.options;if(_.html instanceof Element?(Cl(f),f.appendChild(_.html)):f.innerHTML=_.html!==!1?_.html:"",_.bgPos){var P=le(_.bgPos);f.style.backgroundPosition=-P.x+"px "+-P.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Of(a){return new Vl(a)}uo.Default=ns;var Ii=br.extend({options:{tileSize:256,opacity:1,updateWhenIdle:nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){v(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Zt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ko(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ni(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof te?a:new te(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var f=this.getPane().children,_=-a(-1/0,1/0),P=0,M=f.length,Y;P<M;P++)Y=f[P].style.zIndex,f[P]!==this._container&&Y&&(_=a(_,+Y));isFinite(_)&&(this.options.zIndex=_+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nt.ielt9){Rn(this._container,this.options.opacity);var a=+new Date,f=!1,_=!1;for(var P in this._tiles){var M=this._tiles[P];if(!(!M.current||!M.loaded)){var Y=Math.min(1,(a-M.loaded)/200);Rn(M.el,Y),Y<1?f=!0:(M.active?_=!0:this._onOpaqueTile(M),M.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),f&&(U(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,f=this.options.maxZoom;if(a!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===a?(this._levels[_].el.style.zIndex=f-Math.abs(a-_),this._onUpdateLevel(_)):(Zt(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var P=this._levels[a],M=this._map;return P||(P=this._levels[a]={},P.el=gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),P.el.style.zIndex=f,P.origin=M.project(M.unproject(M.getPixelOrigin()),a).round(),P.zoom=a,this._setZoomTransform(P,M.getCenter(),M.getZoom()),m(P.el.offsetWidth),this._onCreateLevel(P)),this._level=P,P}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var a,f,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)f=this._tiles[a],f.retain=f.current;for(a in this._tiles)if(f=this._tiles[a],f.current&&!f.active){var P=f.coords;this._retainParent(P.x,P.y,P.z,P.z-5)||this._retainChildren(P.x,P.y,P.z,P.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var f in this._tiles)this._tiles[f].coords.z===a&&this._removeTile(f)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Zt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,f,_,P){var M=Math.floor(a/2),Y=Math.floor(f/2),ce=_-1,ge=new te(+M,+Y);ge.z=+ce;var Ee=this._tileCoordsToKey(ge),Oe=this._tiles[Ee];return Oe&&Oe.active?(Oe.retain=!0,!0):(Oe&&Oe.loaded&&(Oe.retain=!0),ce>P?this._retainParent(M,Y,ce,P):!1)},_retainChildren:function(a,f,_,P){for(var M=2*a;M<2*a+2;M++)for(var Y=2*f;Y<2*f+2;Y++){var ce=new te(M,Y);ce.z=_+1;var ge=this._tileCoordsToKey(ce),Ee=this._tiles[ge];if(Ee&&Ee.active){Ee.retain=!0;continue}else Ee&&Ee.loaded&&(Ee.retain=!0);_+1<P&&this._retainChildren(M,Y,_+1,P)}},_resetView:function(a){var f=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var f=this.options;return f.minNativeZoom!==void 0&&a<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<a?f.maxNativeZoom:a},_setView:function(a,f,_,P){var M=Math.round(f);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var Y=this.options.updateWhenZooming&&M!==this._tileZoom;(!P||Y)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(a),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(a,f)},_setZoomTransforms:function(a,f){for(var _ in this._levels)this._setZoomTransform(this._levels[_],a,f)},_setZoomTransform:function(a,f,_){var P=this._map.getZoomScale(_,a.zoom),M=a.origin.multiplyBy(P).subtract(this._map._getNewPixelOrigin(f,_)).round();nt.any3d?vr(a.el,M,P):nn(a.el,M)},_resetGrid:function(){var a=this._map,f=a.options.crs,_=this._tileSize=this.getTileSize(),P=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,f.wrapLng[0]],P).x/_.x),Math.ceil(a.project([0,f.wrapLng[1]],P).x/_.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([f.wrapLat[0],0],P).y/_.x),Math.ceil(a.project([f.wrapLat[1],0],P).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var f=this._map,_=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),P=f.getZoomScale(_,this._tileZoom),M=f.project(a,this._tileZoom).floor(),Y=f.getSize().divideBy(P*2);return new Z(M.subtract(Y),M.add(Y))},_update:function(a){var f=this._map;if(f){var _=this._clampZoom(f.getZoom());if(a===void 0&&(a=f.getCenter()),this._tileZoom!==void 0){var P=this._getTiledPixelBounds(a),M=this._pxBoundsToTileRange(P),Y=M.getCenter(),ce=[],ge=this.options.keepBuffer,Ee=new Z(M.getBottomLeft().subtract([ge,-ge]),M.getTopRight().add([ge,-ge]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Oe in this._tiles){var We=this._tiles[Oe].coords;(We.z!==this._tileZoom||!Ee.contains(new te(We.x,We.y)))&&(this._tiles[Oe].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(a,_);return}for(var lt=M.min.y;lt<=M.max.y;lt++)for(var vt=M.min.x;vt<=M.max.x;vt++){var gn=new te(vt,lt);if(gn.z=this._tileZoom,!!this._isValidTile(gn)){var fn=this._tiles[this._tileCoordsToKey(gn)];fn?fn.current=!0:ce.push(gn)}}if(ce.sort(function(Ln,ds){return Ln.distanceTo(Y)-ds.distanceTo(Y)}),ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qn=document.createDocumentFragment();for(vt=0;vt<ce.length;vt++)this._addTile(ce[vt],qn);this._level.el.appendChild(qn)}}}},_isValidTile:function(a){var f=this._map.options.crs;if(!f.infinite){var _=this._globalTileRange;if(!f.wrapLng&&(a.x<_.min.x||a.x>_.max.x)||!f.wrapLat&&(a.y<_.min.y||a.y>_.max.y))return!1}if(!this.options.bounds)return!0;var P=this._tileCoordsToBounds(a);return _e(this.options.bounds).overlaps(P)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var f=this._map,_=this.getTileSize(),P=a.scaleBy(_),M=P.add(_),Y=f.unproject(P,a.z),ce=f.unproject(M,a.z);return[Y,ce]},_tileCoordsToBounds:function(a){var f=this._tileCoordsToNwSe(a),_=new ke(f[0],f[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var f=a.split(":"),_=new te(+f[0],+f[1]);return _.z=+f[2],_},_removeTile:function(a){var f=this._tiles[a];f&&(Zt(f.el),delete this._tiles[a],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){pt(a,"leaflet-tile");var f=this.getTileSize();a.style.width=f.x+"px",a.style.height=f.y+"px",a.onselectstart=m,a.onmousemove=m,nt.ielt9&&this.options.opacity<1&&Rn(a,this.options.opacity)},_addTile:function(a,f){var _=this._getTilePos(a),P=this._tileCoordsToKey(a),M=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(M),this.createTile.length<2&&J(l(this._tileReady,this,a,null,M)),nn(M,_),this._tiles[P]={el:M,coords:a,current:!0},f.appendChild(M),this.fire("tileloadstart",{tile:M,coords:a})},_tileReady:function(a,f,_){f&&this.fire("tileerror",{error:f,tile:_,coords:a});var P=this._tileCoordsToKey(a);_=this._tiles[P],_&&(_.loaded=+new Date,this._map._fadeAnimated?(Rn(_.el,0),U(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),f||(pt(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nt.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var f=new te(this._wrapX?g(a.x,this._wrapX):a.x,this._wrapY?g(a.y,this._wrapY):a.y);return f.z=a.z,f},_pxBoundsToTileRange:function(a){var f=this.getTileSize();return new Z(a.min.unscaleBy(f).floor(),a.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function as(a){return new Ii(a)}var Li=Ii.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,f){this._url=a,f=v(this,f),f.detectRetina&&nt.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,f){return this._url===a&&f===void 0&&(f=!0),this._url=a,f||this.redraw(),this},createTile:function(a,f){var _=document.createElement("img");return ft(_,"load",l(this._tileOnLoad,this,f,_)),ft(_,"error",l(this._tileOnError,this,f,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(a),_},getTileUrl:function(a){var f={r:nt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-a.y;this.options.tms&&(f.y=_),f["-y"]=_}return N(this._url,i(f,this.options))},_tileOnLoad:function(a,f){nt.ielt9?setTimeout(l(a,this,null,f),0):a(null,f)},_tileOnError:function(a,f,_){var P=this.options.errorTileUrl;P&&f.getAttribute("src")!==P&&(f.src=P),a(_,f)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,f=this.options.maxZoom,_=this.options.zoomReverse,P=this.options.zoomOffset;return _&&(a=f-a),a+P},_getSubdomain:function(a){var f=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var a,f;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(f=this._tiles[a].el,f.onload=m,f.onerror=m,!f.complete)){f.src=D;var _=this._tiles[a].coords;Zt(f),delete this._tiles[a],this.fire("tileabort",{tile:f,coords:_})}},_removeTile:function(a){var f=this._tiles[a];if(f)return f.el.setAttribute("src",D),Ii.prototype._removeTile.call(this,a)},_tileReady:function(a,f,_){if(!(!this._map||_&&_.getAttribute("src")===D))return Ii.prototype._tileReady.call(this,a,f,_)}});function Lu(a,f){return new Li(a,f)}var Ta=Li.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,f){this._url=a;var _=i({},this.defaultWmsParams);for(var P in f)P in this.options||(_[P]=f[P]);f=v(this,f);var M=f.detectRetina&&nt.retina?2:1,Y=this.getTileSize();_.width=Y.x*M,_.height=Y.y*M,this.wmsParams=_},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Li.prototype.onAdd.call(this,a)},getTileUrl:function(a){var f=this._tileCoordsToNwSe(a),_=this._crs,P=Q(_.project(f[0]),_.project(f[1])),M=P.min,Y=P.max,ce=(this._wmsVersion>=1.3&&this._crs===Pf?[M.y,M.x,Y.y,Y.x]:[M.x,M.y,Y.x,Y.y]).join(","),ge=Li.prototype.getTileUrl.call(this,a);return ge+E(this.wmsParams,ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ce},setParams:function(a,f){return i(this.wmsParams,a),f||this.redraw(),this}});function jf(a,f){return new Ta(a,f)}Li.WMS=Ta,Lu.wms=jf;var Mr=br.extend({options:{padding:.1},initialize:function(a){v(this,a),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,f){var _=this._map.getZoomScale(f,this._zoom),P=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,f),Y=P.multiplyBy(-_).add(M).subtract(this._map._getNewPixelOrigin(a,f));nt.any3d?vr(this._container,Y,_):nn(this._container,Y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,f=this._map.getSize(),_=this._map.containerPointToLayerPoint(f.multiplyBy(-a)).round();this._bounds=new Z(_,_.add(f.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ou=Mr.extend({options:{tolerance:0},getEvents:function(){var a=Mr.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Mr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");ft(a,"mousemove",this._onMouseMove,this),ft(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ft(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Zt(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var f in this._layers)a=this._layers[f],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Mr.prototype._update.call(this);var a=this._bounds,f=this._container,_=a.getSize(),P=nt.retina?2:1;nn(f,a.min),f.width=P*_.x,f.height=P*_.y,f.style.width=_.x+"px",f.style.height=_.y+"px",nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Mr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[d(a)]=a;var f=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var f=a._order,_=f.next,P=f.prev;_?_.prev=P:this._drawLast=P,P?P.next=_:this._drawFirst=_,delete a._order,delete this._layers[d(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var f=a.options.dashArray.split(/[, ]+/),_=[],P,M;for(M=0;M<f.length;M++){if(P=Number(f[M]),isNaN(P))return;_.push(P)}a.options._dashArray=_}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var f=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(a._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(a._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var f=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,f=this._redrawBounds;if(this._ctx.save(),f){var _=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var P=this._drawFirst;P;P=P.next)a=P.layer,(!f||a._pxBounds&&a._pxBounds.intersects(f))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,f){if(this._drawing){var _,P,M,Y,ce=a._parts,ge=ce.length,Ee=this._ctx;if(ge){for(Ee.beginPath(),_=0;_<ge;_++){for(P=0,M=ce[_].length;P<M;P++)Y=ce[_][P],Ee[P?"lineTo":"moveTo"](Y.x,Y.y);f&&Ee.closePath()}this._fillStroke(Ee,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var f=a._point,_=this._ctx,P=Math.max(Math.round(a._radius),1),M=(Math.max(Math.round(a._radiusY),1)||P)/P;M!==1&&(_.save(),_.scale(1,M)),_.beginPath(),_.arc(f.x,f.y/M,P,0,Math.PI*2,!1),M!==1&&_.restore(),this._fillStroke(_,a)}},_fillStroke:function(a,f){var _=f.options;_.fill&&(a.globalAlpha=_.fillOpacity,a.fillStyle=_.fillColor||_.color,a.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(a.setLineDash&&a.setLineDash(f.options&&f.options._dashArray||[]),a.globalAlpha=_.opacity,a.lineWidth=_.weight,a.strokeStyle=_.color,a.lineCap=_.lineCap,a.lineJoin=_.lineJoin,a.stroke())},_onClick:function(a){for(var f=this._map.mouseEventToLayerPoint(a),_,P,M=this._drawFirst;M;M=M.next)_=M.layer,_.options.interactive&&_._containsPoint(f)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(_))&&(P=_);this._fireEvent(P?[P]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,f)}},_handleMouseOut:function(a){var f=this._hoveredLayer;f&&(Ut(this._container,"leaflet-interactive"),this._fireEvent([f],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,f){if(!this._mouseHoverThrottled){for(var _,P,M=this._drawFirst;M;M=M.next)_=M.layer,_.options.interactive&&_._containsPoint(f)&&(P=_);P!==this._hoveredLayer&&(this._handleMouseOut(a),P&&(pt(this._container,"leaflet-interactive"),this._fireEvent([P],a,"mouseover"),this._hoveredLayer=P)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,f,_){this._map._fireDOMEvent(f,_||f.type,a)},_bringToFront:function(a){var f=a._order;if(f){var _=f.next,P=f.prev;if(_)_.prev=P;else return;P?P.next=_:_&&(this._drawFirst=_),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(a)}},_bringToBack:function(a){var f=a._order;if(f){var _=f.next,P=f.prev;if(P)P.next=_;else return;_?_.prev=P:P&&(this._drawLast=P),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(a)}}});function ju(a){return nt.canvas?new Ou(a):null}var ls=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Mf={_initContainer:function(){this._container=gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Mr.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var f=a._container=ls("shape");pt(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",a._path=ls("path"),f.appendChild(a._path),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){var f=a._container;this._container.appendChild(f),a.options.interactive&&a.addInteractiveTarget(f)},_removePath:function(a){var f=a._container;Zt(f),a.removeInteractiveTarget(f),delete this._layers[d(a)]},_updateStyle:function(a){var f=a._stroke,_=a._fill,P=a.options,M=a._container;M.stroked=!!P.stroke,M.filled=!!P.fill,P.stroke?(f||(f=a._stroke=ls("stroke")),M.appendChild(f),f.weight=P.weight+"px",f.color=P.color,f.opacity=P.opacity,P.dashArray?f.dashStyle=A(P.dashArray)?P.dashArray.join(" "):P.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=P.lineCap.replace("butt","flat"),f.joinstyle=P.lineJoin):f&&(M.removeChild(f),a._stroke=null),P.fill?(_||(_=a._fill=ls("fill")),M.appendChild(_),_.color=P.fillColor||P.color,_.opacity=P.fillOpacity):_&&(M.removeChild(_),a._fill=null)},_updateCircle:function(a){var f=a._point.round(),_=Math.round(a._radius),P=Math.round(a._radiusY||_);this._setPath(a,a._empty()?"M0 0":"AL "+f.x+","+f.y+" "+_+","+P+" 0,"+65535*360)},_setPath:function(a,f){a._path.v=f},_bringToFront:function(a){Ko(a._container)},_bringToBack:function(a){ni(a._container)}},Sr=nt.vml?ls:Pe,fo=Mr.extend({_initContainer:function(){this._container=Sr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Sr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Zt(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Mr.prototype._update.call(this);var a=this._bounds,f=a.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,_.setAttribute("width",f.x),_.setAttribute("height",f.y)),nn(_,a.min),_.setAttribute("viewBox",[a.min.x,a.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(a){var f=a._path=Sr("path");a.options.className&&pt(f,a.options.className),a.options.interactive&&pt(f,"leaflet-interactive"),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Zt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[d(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var f=a._path,_=a.options;f&&(_.stroke?(f.setAttribute("stroke",_.color),f.setAttribute("stroke-opacity",_.opacity),f.setAttribute("stroke-width",_.weight),f.setAttribute("stroke-linecap",_.lineCap),f.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?f.setAttribute("stroke-dasharray",_.dashArray):f.removeAttribute("stroke-dasharray"),_.dashOffset?f.setAttribute("stroke-dashoffset",_.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),_.fill?(f.setAttribute("fill",_.fillColor||_.color),f.setAttribute("fill-opacity",_.fillOpacity),f.setAttribute("fill-rule",_.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(a,f){this._setPath(a,be(a._parts,f))},_updateCircle:function(a){var f=a._point,_=Math.max(Math.round(a._radius),1),P=Math.max(Math.round(a._radiusY),1)||_,M="a"+_+","+P+" 0 1,0 ",Y=a._empty()?"M0 0":"M"+(f.x-_)+","+f.y+M+_*2+",0 "+M+-_*2+",0 ";this._setPath(a,Y)},_setPath:function(a,f){a._path.setAttribute("d",f)},_bringToFront:function(a){Ko(a._path)},_bringToBack:function(a){ni(a._path)}});nt.vml&&fo.include(Mf);function ql(a){return nt.svg||nt.vml?new fo(a):null}bt.include({getRenderer:function(a){var f=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var f=this._paneRenderers[a];return f===void 0&&(f=this._createRenderer({pane:a}),this._paneRenderers[a]=f),f},_createRenderer:function(a){return this.options.preferCanvas&&ju(a)||ql(a)}});var zf=ai.extend({initialize:function(a,f){ai.prototype.initialize.call(this,this._boundsToLatLngs(a),f)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=_e(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Ym(a,f){return new zf(a,f)}fo.create=Sr,fo.pointsToPath=be,Or.geometryToLayer=rs,Or.coordsToLatLng=Ul,Or.coordsToLatLngs=Ca,Or.latLngToCoords=$l,Or.latLngsToCoords=Zl,Or.getFeature=is,Or.asFeature=Hl,bt.mergeOptions({boxZoom:!0});var cs=nr.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Zt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ct(),Nl(),this._startPoint=this._map.mouseEventToContainerPoint(a),ft(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=gt("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var f=new Z(this._point,this._startPoint),_=f.getSize();nn(this._box,f.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(Zt(this._box),Ut(this._container,"leaflet-crosshair")),Jo(),Al(),Dt(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var f=new ke(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});bt.addInitHook("addHandler","boxZoom",cs),bt.mergeOptions({doubleClickZoom:!0});var Df=nr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var f=this._map,_=f.getZoom(),P=f.options.zoomDelta,M=a.originalEvent.shiftKey?_-P:_+P;f.options.doubleClickZoom==="center"?f.setZoom(M):f.setZoomAround(a.containerPoint,M)}});bt.addInitHook("addHandler","doubleClickZoom",Df),bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Mu=nr.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new xr(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ut(this._map._container,"leaflet-grab"),Ut(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=_e(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var f=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(f),this._prunePositions(f)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,f){return a-(a-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;a.x<f.min.x&&(a.x=this._viscousLimit(a.x,f.min.x)),a.y<f.min.y&&(a.y=this._viscousLimit(a.y,f.min.y)),a.x>f.max.x&&(a.x=this._viscousLimit(a.x,f.max.x)),a.y>f.max.y&&(a.y=this._viscousLimit(a.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,f=Math.round(a/2),_=this._initialWorldOffset,P=this._draggable._newPos.x,M=(P-f+_)%a+f-_,Y=(P+f+_)%a-f-_,ce=Math.abs(M+_)<Math.abs(Y+_)?M:Y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ce},_onDragEnd:function(a){var f=this._map,_=f.options,P=!_.inertia||a.noInertia||this._times.length<2;if(f.fire("dragend",a),P)f.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),Y=(this._lastTime-this._times[0])/1e3,ce=_.easeLinearity,ge=M.multiplyBy(ce/Y),Ee=ge.distanceTo([0,0]),Oe=Math.min(_.inertiaMaxSpeed,Ee),We=ge.multiplyBy(Oe/Ee),lt=Oe/(_.inertiaDeceleration*ce),vt=We.multiplyBy(-lt/2).round();!vt.x&&!vt.y?f.fire("moveend"):(vt=f._limitOffset(vt,f.options.maxBounds),J(function(){f.panBy(vt,{duration:lt,easeLinearity:ce,noMoveStart:!0,animate:!0})}))}}});bt.addInitHook("addHandler","dragging",Mu),bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zu=nr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),ft(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,f=document.documentElement,_=a.scrollTop||f.scrollTop,P=a.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(P,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var f=this._panKeys={},_=this.keyCodes,P,M;for(P=0,M=_.left.length;P<M;P++)f[_.left[P]]=[-1*a,0];for(P=0,M=_.right.length;P<M;P++)f[_.right[P]]=[a,0];for(P=0,M=_.down.length;P<M;P++)f[_.down[P]]=[0,a];for(P=0,M=_.up.length;P<M;P++)f[_.up[P]]=[0,-1*a]},_setZoomDelta:function(a){var f=this._zoomKeys={},_=this.keyCodes,P,M;for(P=0,M=_.zoomIn.length;P<M;P++)f[_.zoomIn[P]]=a;for(P=0,M=_.zoomOut.length;P<M;P++)f[_.zoomOut[P]]=-a},_addHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var f=a.keyCode,_=this._map,P;if(f in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(P=this._panKeys[f],a.shiftKey&&(P=le(P).multiplyBy(3)),_.options.maxBounds&&(P=_._limitOffset(le(P),_.options.maxBounds)),_.options.worldCopyJump){var M=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(P)));_.panTo(M)}else _.panBy(P)}else if(f in this._zoomKeys)_.setZoom(_.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;_r(a)}}});bt.addInitHook("addHandler","keyboard",zu),bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bt=nr.extend({addHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var f=wf(a),_=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var P=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),P),_r(a)},_performZoom:function(){var a=this._map,f=a.getZoom(),_=this._map.options.zoomSnap||0;a._stop();var P=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(P))))/Math.LN2,Y=_?Math.ceil(M/_)*_:M,ce=a._limitZoom(f+(this._delta>0?Y:-Y))-f;this._delta=0,this._startTime=null,ce&&(a.options.scrollWheelZoom==="center"?a.setZoom(f+ce):a.setZoomAround(this._lastMousePos,f+ce))}});bt.addInitHook("addHandler","scrollWheelZoom",Bt);var Du=600;bt.mergeOptions({tapHold:nt.touchNative&&nt.safari&&nt.mobile,tapTolerance:15});var Na=nr.extend({addHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var f=a.touches[0];this._startPos=this._newPos=new te(f.clientX,f.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ft(document,"touchend",Qt),ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),Du),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Dt(document,"touchend",Qt),Dt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(a){var f=a.touches[0];this._newPos=new te(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,f){var _=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});_._simulated=!0,f.target.dispatchEvent(_)}});bt.addInitHook("addHandler","tapHold",Na),bt.mergeOptions({touchZoom:nt.touch,bounceAtZoomLimits:!0});var us=nr.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ut(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var f=this._map;if(!(!a.touches||a.touches.length!==2||f._animatingZoom||this._zooming)){var _=f.mouseEventToContainerPoint(a.touches[0]),P=f.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(_.add(P)._divideBy(2))),this._startDist=_.distanceTo(P),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),Qt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var f=this._map,_=f.mouseEventToContainerPoint(a.touches[0]),P=f.mouseEventToContainerPoint(a.touches[1]),M=_.distanceTo(P)/this._startDist;if(this._zoom=f.getScaleZoom(M,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&M<1||this._zoom>f.getMaxZoom()&&M>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var Y=_._add(P)._divideBy(2)._subtract(this._centerPoint);if(M===1&&Y.x===0&&Y.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(Y),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var ce=l(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(ce,this,!0),Qt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});bt.addInitHook("addHandler","touchZoom",us),bt.BoxZoom=cs,bt.DoubleClickZoom=Df,bt.Drag=Mu,bt.Keyboard=zu,bt.ScrollWheelZoom=Bt,bt.TapHold=Na,bt.TouchZoom=us,n.Bounds=Z,n.Browser=nt,n.CRS=Te,n.Canvas=Ou,n.Circle=Bl,n.CircleMarker=Dl,n.Class=O,n.Control=Wn,n.DivIcon=Vl,n.DivOverlay=jr,n.DomEvent=Ll,n.DomUtil=_a,n.Draggable=xr,n.Evented=ie,n.FeatureGroup=oi,n.GeoJSON=Or,n.GridLayer=Ii,n.Handler=nr,n.Icon=uo,n.ImageOverlay=Ri,n.LatLng=ve,n.LatLngBounds=ke,n.Layer=br,n.LayerGroup=Ni,n.LineUtil=Cf,n.Map=bt,n.Marker=si,n.Mixin=xu,n.Path=Ai,n.Point=te,n.PolyUtil=Bm,n.Polygon=ai,n.Polyline=Vn,n.Popup=Wl,n.PosAnimation=Ol,n.Projection=Hm,n.Rectangle=zf,n.Renderer=Mr,n.SVG=fo,n.SVGOverlay=Ru,n.TileLayer=Li,n.Tooltip=ss,n.Transformation=Qe,n.Util=X,n.VideoOverlay=Au,n.bind=l,n.bounds=Q,n.canvas=ju,n.circle=ka,n.circleMarker=Af,n.control=Ti,n.divIcon=Of,n.extend=i,n.featureGroup=Tf,n.geoJSON=Rf,n.geoJson=Er,n.gridLayer=as,n.icon=Nf,n.imageOverlay=If,n.latLng=Ie,n.latLngBounds=_e,n.layerGroup=Sa,n.map=Pi,n.marker=qm,n.point=le,n.polygon=Gm,n.polyline=Km,n.popup=os,n.rectangle=Ym,n.setOptions=v,n.stamp=d,n.svg=ql,n.svgOverlay=Iu,n.tileLayer=Lu,n.tooltip=Pa,n.transformation=ot,n.version=r,n.videoOverlay=Lf;var Bf=window.L;n.noConflict=function(){return window.L=Bf,this},window.L=n})}(pd,pd.exports)),pd.exports}var Cm=EV();function S_(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function k_(e,t){return t==null?function(r,i){const s=C.useRef(void 0);return s.current||(s.current=e(r,i)),s}:function(r,i){const s=C.useRef(void 0);s.current||(s.current=e(r,i));const l=C.useRef(r),{instance:u}=s.current;return C.useEffect(function(){l.current!==r&&(t(u,r,l.current),l.current=r)},[u,r,t]),s}}function SV(e,t){C.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var s;(s=t.layerContainer)==null||s.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function UA(e){return function(n){const r=BA(),i=e(E_(n,r),r);return DA(r.map,n.attribution),FA(i.current,n.eventHandlers),SV(i.current,r),i}}function kV(e,t){const n=k_(e,t),r=UA(n);return vV(r)}function CV(e,t){const n=k_(e),r=xV(n,t);return wV(r)}function PV(e,t){const n=k_(e,t),r=UA(n);return _V(r)}function TV(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function NV({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:s,placeholder:l,style:u,whenReady:d,zoom:p,...g},m){const[b]=C.useState({className:i,id:s,style:u}),[w,S]=C.useState(null),v=C.useRef(void 0);C.useImperativeHandle(m,()=>(w==null?void 0:w.map)??null,[w]);const E=C.useCallback(N=>{if(N!==null&&!v.current){const A=new Cm.Map(N,g);v.current=A,n!=null&&p!=null?A.setView(n,p):e!=null&&A.fitBounds(e,t),d!=null&&A.whenReady(d),S(gV(A))}},[]);C.useEffect(()=>()=>{w==null||w.map.remove()},[w]);const k=w?yi.createElement(b_,{value:w},r):l??null;return yi.createElement("div",{...b,ref:E},k)}const AV=C.forwardRef(NV),RV=kV(function({position:t,...n},r){const i=new Cm.Marker(t,n);return S_(i,yV(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),IV=CV(function(t,n){const r=new Cm.Popup(t,n.overlayContainer);return S_(r,n)},function(t,n,{position:r},i){C.useEffect(function(){const{instance:l}=t;function u(p){p.popup===l&&(l.update(),i(!0))}function d(p){p.popup===l&&i(!1)}return n.map.on({popupopen:u,popupclose:d}),n.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var g;n.map.off({popupopen:u,popupclose:d}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(l)}},[t,n,i,r])}),LV=PV(function({url:t,...n},r){const i=new Cm.TileLayer(t,E_(n,r));return S_(i,r)},function(t,n,r){TV(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),hv="0123456789bcdefghjkmnpqrstuvwxyz";class wn{static encode(t,n,r){if(typeof r>"u"){for(let b=1;b<=12;b++){const w=wn.encode(t,n,b),S=wn.decode(w);if(S.lat==t&&S.lon==n)return w}r=12}if(t=Number(t),n=Number(n),r=Number(r),isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Invalid geohash");let i=0,s=0,l=!0,u="",d=-90,p=90,g=-180,m=180;for(;u.length<r;){if(l){const b=(g+m)/2;n>=b?(i=i*2+1,g=b):(i=i*2,m=b)}else{const b=(d+p)/2;t>=b?(i=i*2+1,d=b):(i=i*2,p=b)}l=!l,++s==5&&(u+=hv.charAt(i),s=0,i=0)}return u}static decode(t){const n=wn.bounds(t),r=n.sw.lat,i=n.sw.lon,s=n.ne.lat,l=n.ne.lon;let u=(r+s)/2,d=(i+l)/2;return u=u.toFixed(Math.floor(2-Math.log(s-r)/Math.LN10)),d=d.toFixed(Math.floor(2-Math.log(l-i)/Math.LN10)),{lat:Number(u),lon:Number(d)}}static bounds(t){if(t.length==0)throw new Error("Invalid geohash");t=t.toLowerCase();let n=!0,r=-90,i=90,s=-180,l=180;for(let d=0;d<t.length;d++){const p=t.charAt(d),g=hv.indexOf(p);if(g==-1)throw new Error("Invalid geohash");for(let m=4;m>=0;m--){const b=g>>m&1;if(n){const w=(s+l)/2;b==1?s=w:l=w}else{const w=(r+i)/2;b==1?r=w:i=w}n=!n}}return{sw:{lat:r,lon:s},ne:{lat:i,lon:l}}}static adjacent(t,n){if(t=t.toLowerCase(),n=n.toLowerCase(),t.length==0)throw new Error("Invalid geohash");if("nsew".indexOf(n)==-1)throw new Error("Invalid direction");const r={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]},i={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]},s=t.slice(-1);let l=t.slice(0,-1);const u=t.length%2;return i[n][u].indexOf(s)!=-1&&l!=""&&(l=wn.adjacent(l,n)),l+hv.charAt(r[n][u].indexOf(s))}static neighbours(t){return{n:wn.adjacent(t,"n"),ne:wn.adjacent(wn.adjacent(t,"n"),"e"),e:wn.adjacent(t,"e"),se:wn.adjacent(wn.adjacent(t,"s"),"e"),s:wn.adjacent(t,"s"),sw:wn.adjacent(wn.adjacent(t,"s"),"w"),w:wn.adjacent(t,"w"),nw:wn.adjacent(wn.adjacent(t,"n"),"w")}}}function OV(e){try{const{latitude:t,longitude:n}=wn.decode(e);return[t,n]}catch{return[0,0]}}async function jV(e){return await e.query([{kinds:[30402],"#t":["locker"],limit:200}])}function MV({lockers:e}){const{nostr:t}=gr(),{data:n}=_i({queryKey:["lockers"],queryFn:()=>jV(t)}),r=e??n??[];return y.jsxs(AV,{center:[51.505,-.09],zoom:13,style:{height:"600px",width:"100%"},children:[y.jsx(LV,{attribution:" OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r==null?void 0:r.map(i=>{var w,S,v,E,k,N,A,z,D,$,H,V;const s=i.geohash||((S=(w=i.tags)==null?void 0:w.find(F=>F[0]==="g"))==null?void 0:S[1]),l=i.title||((E=(v=i.tags)==null?void 0:v.find(F=>F[0]==="title"))==null?void 0:E[1])||"Locker",u=i.dTag||((N=(k=i.tags)==null?void 0:k.find(F=>F[0]==="d"))==null?void 0:N[1]),d=i.status||((z=(A=i.tags)==null?void 0:A.find(F=>F[0]==="status"))==null?void 0:z[1])||"unknown",p=i.price||(($=(D=i.tags)==null?void 0:D.find(F=>F[0]==="price"))==null?void 0:$[1])||"0",g=i.dimensions||((V=(H=i.tags)==null?void 0:H.find(F=>F[0]==="dimensions"))==null?void 0:V[1])||"",m=i.description||i.content||"",b=s?OV(s):[51.505,-.09];return y.jsx(RV,{position:b,children:y.jsx(IV,{children:y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold",children:l}),y.jsxs("p",{children:["Status: ",d]}),y.jsxs("p",{children:["Dimensions: ",g]}),y.jsxs("p",{children:["Fee: ",p," sats"]}),y.jsx("p",{className:"line-clamp-2 text-sm text-gray-600 mt-1",children:m}),u&&y.jsx("a",{href:`/locker/${u}`,className:"block mt-2 text-blue-600 hover:underline",children:"View Details"})]})})},i.id)})]})}function zV(){const{nostr:e}=gr(),[t,n]=C.useState("map"),[r,i]=C.useState(1e4),[s,l]=C.useState(0),[u,d]=C.useState(!1),[p,g]=C.useState(""),{data:m}=_i({queryKey:["locker-listings"],queryFn:async()=>(await e.query([{kinds:[30402],"#t":["locker"],limit:200}])).map(S=>Sm(S)).filter(Boolean),staleTime:6e4}),b=C.useMemo(()=>m?m.filter(w=>{const S=w.title.toLowerCase().includes(p.toLowerCase())||w.description.toLowerCase().includes(p.toLowerCase()),v=w.price<=r;return S&&v}):[],[m,p,r]);return y.jsx("div",{className:"min-h-screen bg-background flex flex-col",children:y.jsxs("div",{className:"container mx-auto p-4 flex-1 flex flex-col gap-4",children:[y.jsxs("header",{className:"flex flex-col gap-4 mb-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Marketplace"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs(At,{variant:t==="map"?"default":"outline",size:"sm",onClick:()=>n("map"),children:[y.jsx(pp,{className:"h-4 w-4 mr-2"}),"Map"]}),y.jsxs(At,{variant:t==="list"?"default":"outline",size:"sm",onClick:()=>n("list"),children:[y.jsx(YB,{className:"h-4 w-4 mr-2"}),"List"]}),y.jsx(At,{variant:"outline",size:"icon",onClick:()=>d(!u),children:y.jsx(VB,{className:"h-4 w-4"})})]})]}),u&&y.jsx(an,{children:y.jsxs(xn,{className:"pt-6 grid gap-4 md:grid-cols-3",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Xn,{children:"Search"}),y.jsx(Tn,{placeholder:"Search lockers...",value:p,onChange:w=>g(w.target.value)})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(Xn,{children:["Max Price: ",r," sats"]}),y.jsx(S0,{min:0,max:5e4,step:100,value:[r],onValueChange:([w])=>i(w)})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(Xn,{children:["Min Trust Score: ",s,"%"]}),y.jsx(S0,{min:0,max:100,step:10,value:[s],onValueChange:([w])=>l(w),disabled:!0})]})]})})]}),y.jsx("div",{className:"flex-1 min-h-[500px] border rounded-lg overflow-hidden relative",children:t==="map"?y.jsx(MV,{lockers:b}):y.jsx("div",{className:"p-4 grid gap-4 md:grid-cols-2 lg:grid-cols-3 overflow-y-auto",children:b.length===0?y.jsx("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:"No lockers match your filters."}):b.map(w=>y.jsx(an,{className:"hover:border-primary transition-colors",children:y.jsxs(xn,{className:"pt-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h3",{className:"font-semibold truncate pr-4",children:w.title}),y.jsxs("span",{className:"text-sm font-medium whitespace-nowrap",children:[w.price," sats"]})]}),y.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4 h-10",children:w.description}),y.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[y.jsx("span",{children:w.dimensions||"No dimensions"}),y.jsx(hr,{to:`/locker/${w.dTag}`,className:"text-primary hover:underline",children:"View Details"})]})]})},w.id))})})]})})}function Hh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pv={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var s2;function DV(){return s2||(s2=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function l(p,g){if(!i[p]){if(!r[p]){var m=typeof Hh=="function"&&Hh;if(!g&&m)return m(p,!0);if(u)return u(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var w=i[p]={exports:{}};r[p][0].call(w.exports,function(S){var v=r[p][1][S];return l(v||S)},w,w.exports,n,r,i,s)}return i[p].exports}for(var u=typeof Hh=="function"&&Hh,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(n,r,i){var s=n("./utils"),l=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var p,g,m,b,w,S,v,E=[],k=0,N=d.length,A=N,z=s.getTypeOf(d)!=="string";k<d.length;)A=N-k,m=z?(p=d[k++],g=k<N?d[k++]:0,k<N?d[k++]:0):(p=d.charCodeAt(k++),g=k<N?d.charCodeAt(k++):0,k<N?d.charCodeAt(k++):0),b=p>>2,w=(3&p)<<4|g>>4,S=1<A?(15&g)<<2|m>>6:64,v=2<A?63&m:64,E.push(u.charAt(b)+u.charAt(w)+u.charAt(S)+u.charAt(v));return E.join("")},i.decode=function(d){var p,g,m,b,w,S,v=0,E=0,k="data:";if(d.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var N,A=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&A--,d.charAt(d.length-2)===u.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=l.uint8array?new Uint8Array(0|A):new Array(0|A);v<d.length;)p=u.indexOf(d.charAt(v++))<<2|(b=u.indexOf(d.charAt(v++)))>>4,g=(15&b)<<4|(w=u.indexOf(d.charAt(v++)))>>2,m=(3&w)<<6|(S=u.indexOf(d.charAt(v++))),N[E++]=p,w!==64&&(N[E++]=g),S!==64&&(N[E++]=m);return N}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),l=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function p(g,m,b,w,S){this.compressedSize=g,this.uncompressedSize=m,this.crc32=b,this.compression=w,this.compressedContent=S}p.prototype={getContentWorker:function(){var g=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return g.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(g,m,b){return g.pipe(new u).pipe(new d("uncompressedSize")).pipe(m.compressWorker(b)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),l=function(){for(var u,d=[],p=0;p<256;p++){u=p;for(var g=0;g<8;g++)u=1&u?3988292384^u>>>1:u>>>1;d[p]=u}return d}();r.exports=function(u,d){return u!==void 0&&u.length?s.getTypeOf(u)!=="string"?function(p,g,m,b){var w=l,S=b+m;p^=-1;for(var v=b;v<S;v++)p=p>>>8^w[255&(p^g[v])];return-1^p}(0|d,u,u.length,0):function(p,g,m,b){var w=l,S=b+m;p^=-1;for(var v=b;v<S;v++)p=p>>>8^w[255&(p^g.charCodeAt(v))];return-1^p}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),u=n("./utils"),d=n("./stream/GenericWorker"),p=s?"uint8array":"array";function g(m,b){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=b,this.meta={}}i.magic="\b\0",u.inherits(g,d),g.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,m.data),!1)},g.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(b){m.push({data:b,meta:m.meta})}},i.compressWorker=function(m){return new g("Deflate",m)},i.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(w,S){var v,E="";for(v=0;v<S;v++)E+=String.fromCharCode(255&w),w>>>=8;return E}function l(w,S,v,E,k,N){var A,z,D=w.file,$=w.compression,H=N!==p.utf8encode,V=u.transformTo("string",N(D.name)),F=u.transformTo("string",p.utf8encode(D.name)),W=D.comment,J=u.transformTo("string",N(W)),U=u.transformTo("string",p.utf8encode(W)),X=F.length!==D.name.length,O=U.length!==W.length,K="",se="",ie="",te=D.dir,ee=D.date,le={crc32:0,compressedSize:0,uncompressedSize:0};S&&!v||(le.crc32=w.crc32,le.compressedSize=w.compressedSize,le.uncompressedSize=w.uncompressedSize);var Z=0;S&&(Z|=8),H||!X&&!O||(Z|=2048);var Q=0,ke=0;te&&(Q|=16),k==="UNIX"?(ke=798,Q|=function(ve,Ie){var Te=ve;return ve||(Te=Ie?16893:33204),(65535&Te)<<16}(D.unixPermissions,te)):(ke=20,Q|=function(ve){return 63&(ve||0)}(D.dosPermissions)),A=ee.getUTCHours(),A<<=6,A|=ee.getUTCMinutes(),A<<=5,A|=ee.getUTCSeconds()/2,z=ee.getUTCFullYear()-1980,z<<=4,z|=ee.getUTCMonth()+1,z<<=5,z|=ee.getUTCDate(),X&&(se=s(1,1)+s(g(V),4)+F,K+="up"+s(se.length,2)+se),O&&(ie=s(1,1)+s(g(J),4)+U,K+="uc"+s(ie.length,2)+ie);var _e="";return _e+=`
\0`,_e+=s(Z,2),_e+=$.magic,_e+=s(A,2),_e+=s(z,2),_e+=s(le.crc32,4),_e+=s(le.compressedSize,4),_e+=s(le.uncompressedSize,4),_e+=s(V.length,2),_e+=s(K.length,2),{fileRecord:m.LOCAL_FILE_HEADER+_e+V+K,dirRecord:m.CENTRAL_FILE_HEADER+s(ke,2)+_e+s(J.length,2)+"\0\0\0\0"+s(Q,4)+s(E,4)+V+K+J}}var u=n("../utils"),d=n("../stream/GenericWorker"),p=n("../utf8"),g=n("../crc32"),m=n("../signature");function b(w,S,v,E){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=v,this.encodeFileName=E,this.streamFiles=w,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,d),b.prototype.push=function(w){var S=w.meta.percent||0,v=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(w):(this.bytesWritten+=w.data.length,d.prototype.push.call(this,{data:w.data,meta:{currentFile:this.currentFile,percent:v?(S+100*(v-E-1))/v:100}}))},b.prototype.openedSource=function(w){this.currentSourceOffset=this.bytesWritten,this.currentFile=w.file.name;var S=this.streamFiles&&!w.file.dir;if(S){var v=l(w,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(w){this.accumulate=!1;var S=this.streamFiles&&!w.file.dir,v=l(w,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),S)this.push({data:function(E){return m.DATA_DESCRIPTOR+s(E.crc32,4)+s(E.compressedSize,4)+s(E.uncompressedSize,4)}(w),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var w=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var v=this.bytesWritten-w,E=function(k,N,A,z,D){var $=u.transformTo("string",D(z));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(k,2)+s(k,2)+s(N,4)+s(A,4)+s($.length,2)+$}(this.dirRecords.length,v,w,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(w){this._sources.push(w);var S=this;return w.on("data",function(v){S.processChunk(v)}),w.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),w.on("error",function(v){S.error(v)}),this},b.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(w){var S=this._sources;if(!d.prototype.error.call(this,w))return!1;for(var v=0;v<S.length;v++)try{S[v].error(w)}catch{}return!0},b.prototype.lock=function(){d.prototype.lock.call(this);for(var w=this._sources,S=0;S<w.length;S++)w[S].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),l=n("./ZipFileWorker");i.generateWorker=function(u,d,p){var g=new l(d.streamFiles,p,d.platform,d.encodeFileName),m=0;try{u.forEach(function(b,w){m++;var S=function(N,A){var z=N||A,D=s[z];if(!D)throw new Error(z+" is not a valid compression method !");return D}(w.options.compression,d.compression),v=w.options.compressionOptions||d.compressionOptions||{},E=w.dir,k=w.date;w._compressWorker(S,v).withStreamInfo("file",{name:b,dir:E,date:k,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(g)}),g.entriesCount=m}catch(b){g.error(b)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var u in this)typeof this[u]!="function"&&(l[u]=this[u]);return l}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(l,u){return new s().loadAsync(l,u)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),l=n("./external"),u=n("./utf8"),d=n("./zipEntries"),p=n("./stream/Crc32Probe"),g=n("./nodejsUtils");function m(b){return new l.Promise(function(w,S){var v=b.decompressed.getContentWorker().pipe(new p);v.on("error",function(E){S(E)}).on("end",function(){v.streamInfo.crc32!==b.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):w()}).resume()})}r.exports=function(b,w){var S=this;return w=s.extend(w||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),g.isNode&&g.isStream(b)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",b,!0,w.optimizedBinaryString,w.base64).then(function(v){var E=new d(w);return E.load(v),E}).then(function(v){var E=[l.Promise.resolve(v)],k=v.files;if(w.checkCRC32)for(var N=0;N<k.length;N++)E.push(m(k[N]));return l.Promise.all(E)}).then(function(v){for(var E=v.shift(),k=E.files,N=0;N<k.length;N++){var A=k[N],z=A.fileNameStr,D=s.resolve(A.fileNameStr);S.file(D,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:w.createFolders}),A.dir||(S.file(D).unsafeOriginalName=z)}return E.zipComment.length&&(S.comment=E.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),l=n("../stream/GenericWorker");function u(d,p){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}s.inherits(u,l),u.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(g){p.push({data:g,meta:{percent:0}})}).on("error",function(g){p.isPaused?this.generatedError=g:p.error(g)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function l(u,d,p){s.call(this,d),this._helper=u;var g=this;u.on("data",function(m,b){g.push(m)||g._helper.pause(),p&&p(b)}).on("error",function(m){g.emit("error",m)}).on("end",function(){g.push(null)})}n("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(D,$,H){var V,F=u.getTypeOf($),W=u.extend(H||{},g);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(D=k(D)),W.createFolders&&(V=E(D))&&N.call(this,V,!0);var J=F==="string"&&W.binary===!1&&W.base64===!1;H&&H.binary!==void 0||(W.binary=!J),($ instanceof m&&$.uncompressedSize===0||W.dir||!$||$.length===0)&&(W.base64=!1,W.binary=!0,$="",W.compression="STORE",F="string");var U=null;U=$ instanceof m||$ instanceof d?$:S.isNode&&S.isStream($)?new v(D,$):u.prepareContent(D,$,W.binary,W.optimizedBinaryString,W.base64);var X=new b(D,U,W);this.files[D]=X}var l=n("./utf8"),u=n("./utils"),d=n("./stream/GenericWorker"),p=n("./stream/StreamHelper"),g=n("./defaults"),m=n("./compressedObject"),b=n("./zipObject"),w=n("./generate"),S=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),E=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var $=D.lastIndexOf("/");return 0<$?D.substring(0,$):""},k=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},N=function(D,$){return $=$!==void 0?$:g.createFolders,D=k(D),this.files[D]||s.call(this,D,null,{dir:!0,createFolders:$}),this.files[D]};function A(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var $,H,V;for($ in this.files)V=this.files[$],(H=$.slice(this.root.length,$.length))&&$.slice(0,this.root.length)===this.root&&D(H,V)},filter:function(D){var $=[];return this.forEach(function(H,V){D(H,V)&&$.push(V)}),$},file:function(D,$,H){if(arguments.length!==1)return D=this.root+D,s.call(this,D,$,H),this;if(A(D)){var V=D;return this.filter(function(W,J){return!J.dir&&V.test(W)})}var F=this.files[this.root+D];return F&&!F.dir?F:null},folder:function(D){if(!D)return this;if(A(D))return this.filter(function(F,W){return W.dir&&D.test(F)});var $=this.root+D,H=N.call(this,$),V=this.clone();return V.root=H.name,V},remove:function(D){D=this.root+D;var $=this.files[D];if($||(D.slice(-1)!=="/"&&(D+="/"),$=this.files[D]),$&&!$.dir)delete this.files[D];else for(var H=this.filter(function(F,W){return W.name.slice(0,D.length)===D}),V=0;V<H.length;V++)delete this.files[H[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var $,H={};try{if((H=u.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=H.type.toLowerCase(),H.compression=H.compression.toUpperCase(),H.type==="binarystring"&&(H.type="string"),!H.type)throw new Error("No output type specified.");u.checkSupport(H.type),H.platform!=="darwin"&&H.platform!=="freebsd"&&H.platform!=="linux"&&H.platform!=="sunos"||(H.platform="UNIX"),H.platform==="win32"&&(H.platform="DOS");var V=H.comment||this.comment||"";$=w.generateWorker(this,H,V)}catch(F){($=new d("error")).error(F)}return new p($,H.type||"string",H.mimeType)},generateAsync:function(D,$){return this.generateInternalStream(D).accumulate($)},generateNodeStream:function(D,$){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream($)}};r.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function l(u){s.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}n("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data[this.zero+u]},l.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),p=u.charCodeAt(1),g=u.charCodeAt(2),m=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===d&&this.data[b+1]===p&&this.data[b+2]===g&&this.data[b+3]===m)return b-this.zero;return-1},l.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),p=u.charCodeAt(1),g=u.charCodeAt(2),m=u.charCodeAt(3),b=this.readData(4);return d===b[0]&&p===b[1]&&g===b[2]&&m===b[3]},l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function l(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,p=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=u,p},readString:function(u){return s.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=l},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},l.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},l.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),l=n("../support"),u=n("./ArrayReader"),d=n("./StringReader"),p=n("./NodeBufferReader"),g=n("./Uint8ArrayReader");r.exports=function(m){var b=s.getTypeOf(m);return s.checkSupport(b),b!=="string"||l.uint8array?b==="nodebuffer"?new p(m):l.uint8array?new g(s.transformTo("uint8array",m)):new u(s.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),l=n("../utils");function u(d){s.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(u,s),u.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),l=n("../crc32");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,s),u.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),l=n("./GenericWorker");function u(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}s.inherits(u,l),u.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}l.prototype.processChunk.call(this,d)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),l=n("./GenericWorker");function u(d){l.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(g){p.dataIsReady=!0,p.data=g,p.max=g&&g.length||0,p.type=s.getTypeOf(g),p.isPaused||p._tickAndRepeat()},function(g){p.error(g)})}s.inherits(u,l),u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,u){return this._listeners[l].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,u){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,u)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var u=this;return l.on("data",function(d){u.processChunk(d)}),l.on("end",function(){u.end()}),l.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,u){return this.extraStreamInfo[l]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),l=n("./ConvertWorker"),u=n("./GenericWorker"),d=n("../base64"),p=n("../support"),g=n("../external"),m=null;if(p.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(S,v){return new g.Promise(function(E,k){var N=[],A=S._internalType,z=S._outputType,D=S._mimeType;S.on("data",function($,H){N.push($),v&&v(H)}).on("error",function($){N=[],k($)}).on("end",function(){try{var $=function(H,V,F){switch(H){case"blob":return s.newBlob(s.transformTo("arraybuffer",V),F);case"base64":return d.encode(V);default:return s.transformTo(H,V)}}(z,function(H,V){var F,W=0,J=null,U=0;for(F=0;F<V.length;F++)U+=V[F].length;switch(H){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(J=new Uint8Array(U),F=0;F<V.length;F++)J.set(V[F],W),W+=V[F].length;return J;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+H+"'")}}(A,N),D);E($)}catch(H){k(H)}N=[]}).resume()})}function w(S,v,E){var k=v;switch(v){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=v,this._mimeType=E,s.checkSupport(k),this._worker=S.pipe(new l(k)),S.lock()}catch(N){this._worker=new u("error"),this._worker.error(N)}}w.prototype={accumulate:function(S){return b(this,S)},on:function(S,v){var E=this;return S==="data"?this._worker.on(S,function(k){v.call(E,k.data,k.meta)}):this._worker.on(S,function(){s.delay(v,arguments,E)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},S)}},r.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),l=n("./support"),u=n("./nodejsUtils"),d=n("./stream/GenericWorker"),p=new Array(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;p[254]=p[254]=1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function b(){d.call(this,"utf-8 encode")}i.utf8encode=function(w){return l.nodebuffer?u.newBufferFrom(w,"utf-8"):function(S){var v,E,k,N,A,z=S.length,D=0;for(N=0;N<z;N++)(64512&(E=S.charCodeAt(N)))==55296&&N+1<z&&(64512&(k=S.charCodeAt(N+1)))==56320&&(E=65536+(E-55296<<10)+(k-56320),N++),D+=E<128?1:E<2048?2:E<65536?3:4;for(v=l.uint8array?new Uint8Array(D):new Array(D),N=A=0;A<D;N++)(64512&(E=S.charCodeAt(N)))==55296&&N+1<z&&(64512&(k=S.charCodeAt(N+1)))==56320&&(E=65536+(E-55296<<10)+(k-56320),N++),E<128?v[A++]=E:(E<2048?v[A++]=192|E>>>6:(E<65536?v[A++]=224|E>>>12:(v[A++]=240|E>>>18,v[A++]=128|E>>>12&63),v[A++]=128|E>>>6&63),v[A++]=128|63&E);return v}(w)},i.utf8decode=function(w){return l.nodebuffer?s.transformTo("nodebuffer",w).toString("utf-8"):function(S){var v,E,k,N,A=S.length,z=new Array(2*A);for(v=E=0;v<A;)if((k=S[v++])<128)z[E++]=k;else if(4<(N=p[k]))z[E++]=65533,v+=N-1;else{for(k&=N===2?31:N===3?15:7;1<N&&v<A;)k=k<<6|63&S[v++],N--;1<N?z[E++]=65533:k<65536?z[E++]=k:(k-=65536,z[E++]=55296|k>>10&1023,z[E++]=56320|1023&k)}return z.length!==E&&(z.subarray?z=z.subarray(0,E):z.length=E),s.applyFromCharCode(z)}(w=s.transformTo(l.uint8array?"uint8array":"array",w))},s.inherits(m,d),m.prototype.processChunk=function(w){var S=s.transformTo(l.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var v=S;(S=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),S.set(v,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var E=function(N,A){var z;for((A=A||N.length)>N.length&&(A=N.length),z=A-1;0<=z&&(192&N[z])==128;)z--;return z<0||z===0?A:z+p[N[z]]>A?z:A}(S),k=S;E!==S.length&&(l.uint8array?(k=S.subarray(0,E),this.leftOver=S.subarray(E,S.length)):(k=S.slice(0,E),this.leftOver=S.slice(E,S.length))),this.push({data:i.utf8decode(k),meta:w.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,s.inherits(b,d),b.prototype.processChunk=function(w){this.push({data:i.utf8encode(w.data),meta:w.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),l=n("./base64"),u=n("./nodejsUtils"),d=n("./external");function p(v){return v}function g(v,E){for(var k=0;k<v.length;++k)E[k]=255&v.charCodeAt(k);return E}n("setimmediate"),i.newBlob=function(v,E){i.checkSupport("blob");try{return new Blob([v],{type:E})}catch{try{var k=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return k.append(v),k.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(v,E,k){var N=[],A=0,z=v.length;if(z<=k)return String.fromCharCode.apply(null,v);for(;A<z;)E==="array"||E==="nodebuffer"?N.push(String.fromCharCode.apply(null,v.slice(A,Math.min(A+k,z)))):N.push(String.fromCharCode.apply(null,v.subarray(A,Math.min(A+k,z)))),A+=k;return N.join("")},stringifyByChar:function(v){for(var E="",k=0;k<v.length;k++)E+=String.fromCharCode(v[k]);return E},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function b(v){var E=65536,k=i.getTypeOf(v),N=!0;if(k==="uint8array"?N=m.applyCanBeUsed.uint8array:k==="nodebuffer"&&(N=m.applyCanBeUsed.nodebuffer),N)for(;1<E;)try{return m.stringifyByChunk(v,k,E)}catch{E=Math.floor(E/2)}return m.stringifyByChar(v)}function w(v,E){for(var k=0;k<v.length;k++)E[k]=v[k];return E}i.applyFromCharCode=b;var S={};S.string={string:p,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return S.string.uint8array(v).buffer},uint8array:function(v){return g(v,new Uint8Array(v.length))},nodebuffer:function(v){return g(v,u.allocBuffer(v.length))}},S.array={string:b,array:p,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(v)}},S.arraybuffer={string:function(v){return b(new Uint8Array(v))},array:function(v){return w(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:p,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(new Uint8Array(v))}},S.uint8array={string:b,array:function(v){return w(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:p,nodebuffer:function(v){return u.newBufferFrom(v)}},S.nodebuffer={string:b,array:function(v){return w(v,new Array(v.length))},arraybuffer:function(v){return S.nodebuffer.uint8array(v).buffer},uint8array:function(v){return w(v,new Uint8Array(v.length))},nodebuffer:p},i.transformTo=function(v,E){if(E=E||"",!v)return E;i.checkSupport(v);var k=i.getTypeOf(E);return S[k][v](E)},i.resolve=function(v){for(var E=v.split("/"),k=[],N=0;N<E.length;N++){var A=E[N];A==="."||A===""&&N!==0&&N!==E.length-1||(A===".."?k.pop():k.push(A))}return k.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&u.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var E,k,N="";for(k=0;k<(v||"").length;k++)N+="\\x"+((E=v.charCodeAt(k))<16?"0":"")+E.toString(16).toUpperCase();return N},i.delay=function(v,E,k){setImmediate(function(){v.apply(k||null,E||[])})},i.inherits=function(v,E){function k(){}k.prototype=E.prototype,v.prototype=new k},i.extend=function(){var v,E,k={};for(v=0;v<arguments.length;v++)for(E in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],E)&&k[E]===void 0&&(k[E]=arguments[v][E]);return k},i.prepareContent=function(v,E,k,N,A){return d.Promise.resolve(E).then(function(z){return s.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new d.Promise(function(D,$){var H=new FileReader;H.onload=function(V){D(V.target.result)},H.onerror=function(V){$(V.target.error)},H.readAsArrayBuffer(z)}):z}).then(function(z){var D=i.getTypeOf(z);return D?(D==="arraybuffer"?z=i.transformTo("uint8array",z):D==="string"&&(A?z=l.decode(z):k&&N!==!0&&(z=function($){return g($,s.uint8array?new Uint8Array($.length):new Array($.length))}(z))),z):d.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),l=n("./utils"),u=n("./signature"),d=n("./zipEntry"),p=n("./support");function g(m){this.files=[],this.loadOptions=m}g.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(b)+", expected "+l.pretty(m)+")")}},isSignature:function(m,b){var w=this.reader.index;this.reader.setIndex(m);var S=this.reader.readString(4)===b;return this.reader.setIndex(w),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),b=p.uint8array?"uint8array":"array",w=l.transformTo(b,m);this.zipComment=this.loadOptions.decodeFileName(w)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,b,w,S=this.zip64EndOfCentralSize-44;0<S;)m=this.reader.readInt(2),b=this.reader.readInt(4),w=this.reader.readData(b),this.zip64ExtensibleData[m]={id:m,length:b,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,b;for(m=0;m<this.files.length;m++)b=this.files[m],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var b=m;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var S=b-w;if(0<S)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(m){this.reader=s(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),l=n("./utils"),u=n("./compressedObject"),d=n("./crc32"),p=n("./utf8"),g=n("./compressions"),m=n("./support");function b(w,S){this.options=w,this.loadOptions=S}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(w){var S,v;if(w.skip(22),this.fileNameLength=w.readInt(2),v=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(E){for(var k in g)if(Object.prototype.hasOwnProperty.call(g,k)&&g[k].magic===E)return g[k];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,S,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var S=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(S),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),w==0&&(this.dosPermissions=63&this.externalFileAttributes),w==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var S,v,E,k=w.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});w.index+4<k;)S=w.readInt(2),v=w.readInt(2),E=w.readData(v),this.extraFields[S]={id:S,length:v,value:E};w.setIndex(k)},handleUTF8:function(){var w=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var v=l.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var k=l.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var S=s(w.value);return S.readInt(1)!==1||d(this.fileName)!==S.readInt(4)?null:p.utf8decode(S.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var S=s(w.value);return S.readInt(1)!==1||d(this.fileComment)!==S.readInt(4)?null:p.utf8decode(S.readData(w.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(S,v,E){this.name=S,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=v,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var l=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),d=n("./utf8"),p=n("./compressedObject"),g=n("./stream/GenericWorker");s.prototype={internalStream:function(S){var v=null,E="string";try{if(!S)throw new Error("No output type specified.");var k=(E=S.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),v=this._decompressWorker();var N=!this._dataBinary;N&&!k&&(v=v.pipe(new d.Utf8EncodeWorker)),!N&&k&&(v=v.pipe(new d.Utf8DecodeWorker))}catch(A){(v=new g("error")).error(A)}return new l(v,E,"")},async:function(S,v){return this.internalStream(S).accumulate(v)},nodeStream:function(S,v){return this.internalStream(S||"nodebuffer").toNodejsStream(v)},_compressWorker:function(S,v){if(this._data instanceof p&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(E,S,v)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof g?this._data:new u(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},w=0;w<m.length;w++)s.prototype[m[w]]=b;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var l,u,d=s.MutationObserver||s.WebKitMutationObserver;if(d){var p=0,g=new d(S),m=s.document.createTextNode("");g.observe(m,{characterData:!0}),l=function(){m.data=p=++p%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){S(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(S,0)};else{var b=new s.MessageChannel;b.port1.onmessage=S,l=function(){b.port2.postMessage(0)}}var w=[];function S(){var v,E;u=!0;for(var k=w.length;k;){for(E=w,w=[],v=-1;++v<k;)E[v]();k=w.length}u=!1}r.exports=function(v){w.push(v)!==1||u||l()}}).call(this,typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function l(){}var u={},d=["REJECTED"],p=["FULFILLED"],g=["PENDING"];function m(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,k!==l&&v(this,k)}function b(k,N,A){this.promise=k,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function w(k,N,A){s(function(){var z;try{z=N(A)}catch(D){return u.reject(k,D)}z===k?u.reject(k,new TypeError("Cannot resolve promise with itself")):u.resolve(k,z)})}function S(k){var N=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof N=="function")return function(){N.apply(k,arguments)}}function v(k,N){var A=!1;function z(H){A||(A=!0,u.reject(k,H))}function D(H){A||(A=!0,u.resolve(k,H))}var $=E(function(){N(D,z)});$.status==="error"&&z($.value)}function E(k,N){var A={};try{A.value=k(N),A.status="success"}catch(z){A.status="error",A.value=z}return A}(r.exports=m).prototype.finally=function(k){if(typeof k!="function")return this;var N=this.constructor;return this.then(function(A){return N.resolve(k()).then(function(){return A})},function(A){return N.resolve(k()).then(function(){throw A})})},m.prototype.catch=function(k){return this.then(null,k)},m.prototype.then=function(k,N){if(typeof k!="function"&&this.state===p||typeof N!="function"&&this.state===d)return this;var A=new this.constructor(l);return this.state!==g?w(A,this.state===p?k:N,this.outcome):this.queue.push(new b(A,k,N)),A},b.prototype.callFulfilled=function(k){u.resolve(this.promise,k)},b.prototype.otherCallFulfilled=function(k){w(this.promise,this.onFulfilled,k)},b.prototype.callRejected=function(k){u.reject(this.promise,k)},b.prototype.otherCallRejected=function(k){w(this.promise,this.onRejected,k)},u.resolve=function(k,N){var A=E(S,N);if(A.status==="error")return u.reject(k,A.value);var z=A.value;if(z)v(k,z);else{k.state=p,k.outcome=N;for(var D=-1,$=k.queue.length;++D<$;)k.queue[D].callFulfilled(N)}return k},u.reject=function(k,N){k.state=d,k.outcome=N;for(var A=-1,z=k.queue.length;++A<z;)k.queue[A].callRejected(N);return k},m.resolve=function(k){return k instanceof this?k:u.resolve(new this(l),k)},m.reject=function(k){var N=new this(l);return u.reject(N,k)},m.all=function(k){var N=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=k.length,z=!1;if(!A)return this.resolve([]);for(var D=new Array(A),$=0,H=-1,V=new this(l);++H<A;)F(k[H],H);return V;function F(W,J){N.resolve(W).then(function(U){D[J]=U,++$!==A||z||(z=!0,u.resolve(V,D))},function(U){z||(z=!0,u.reject(V,U))})}},m.race=function(k){var N=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=k.length,z=!1;if(!A)return this.resolve([]);for(var D=-1,$=new this(l);++D<A;)H=k[D],N.resolve(H).then(function(V){z||(z=!0,u.resolve($,V))},function(V){z||(z=!0,u.reject($,V))});var H;return $}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),l=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/messages"),p=n("./zlib/zstream"),g=Object.prototype.toString,m=0,b=-1,w=0,S=8;function v(k){if(!(this instanceof v))return new v(k);this.options=l.assign({level:b,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},k||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var A=s.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(A!==m)throw new Error(d[A]);if(N.header&&s.deflateSetHeader(this.strm,N.header),N.dictionary){var z;if(z=typeof N.dictionary=="string"?u.string2buf(N.dictionary):g.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(A=s.deflateSetDictionary(this.strm,z))!==m)throw new Error(d[A]);this._dict_set=!0}}function E(k,N){var A=new v(N);if(A.push(k,!0),A.err)throw A.msg||d[A.err];return A.result}v.prototype.push=function(k,N){var A,z,D=this.strm,$=this.options.chunkSize;if(this.ended)return!1;z=N===~~N?N:N===!0?4:0,typeof k=="string"?D.input=u.string2buf(k):g.call(k)==="[object ArrayBuffer]"?D.input=new Uint8Array(k):D.input=k,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new l.Buf8($),D.next_out=0,D.avail_out=$),(A=s.deflate(D,z))!==1&&A!==m)return this.onEnd(A),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(l.shrinkBuf(D.output,D.next_out))):this.onData(l.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&A!==1);return z===4?(A=s.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===m):z!==2||(this.onEnd(m),!(D.avail_out=0))},v.prototype.onData=function(k){this.chunks.push(k)},v.prototype.onEnd=function(k){k===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},i.Deflate=v,i.deflate=E,i.deflateRaw=function(k,N){return(N=N||{}).raw=!0,E(k,N)},i.gzip=function(k,N){return(N=N||{}).gzip=!0,E(k,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),l=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/constants"),p=n("./zlib/messages"),g=n("./zlib/zstream"),m=n("./zlib/gzheader"),b=Object.prototype.toString;function w(v){if(!(this instanceof w))return new w(v);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},v||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||v&&v.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var k=s.inflateInit2(this.strm,E.windowBits);if(k!==d.Z_OK)throw new Error(p[k]);this.header=new m,s.inflateGetHeader(this.strm,this.header)}function S(v,E){var k=new w(E);if(k.push(v,!0),k.err)throw k.msg||p[k.err];return k.result}w.prototype.push=function(v,E){var k,N,A,z,D,$,H=this.strm,V=this.options.chunkSize,F=this.options.dictionary,W=!1;if(this.ended)return!1;N=E===~~E?E:E===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof v=="string"?H.input=u.binstring2buf(v):b.call(v)==="[object ArrayBuffer]"?H.input=new Uint8Array(v):H.input=v,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new l.Buf8(V),H.next_out=0,H.avail_out=V),(k=s.inflate(H,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&F&&($=typeof F=="string"?u.string2buf(F):b.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,k=s.inflateSetDictionary(this.strm,$)),k===d.Z_BUF_ERROR&&W===!0&&(k=d.Z_OK,W=!1),k!==d.Z_STREAM_END&&k!==d.Z_OK)return this.onEnd(k),!(this.ended=!0);H.next_out&&(H.avail_out!==0&&k!==d.Z_STREAM_END&&(H.avail_in!==0||N!==d.Z_FINISH&&N!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=u.utf8border(H.output,H.next_out),z=H.next_out-A,D=u.buf2string(H.output,A),H.next_out=z,H.avail_out=V-z,z&&l.arraySet(H.output,H.output,A,z,0),this.onData(D)):this.onData(l.shrinkBuf(H.output,H.next_out)))),H.avail_in===0&&H.avail_out===0&&(W=!0)}while((0<H.avail_in||H.avail_out===0)&&k!==d.Z_STREAM_END);return k===d.Z_STREAM_END&&(N=d.Z_FINISH),N===d.Z_FINISH?(k=s.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===d.Z_OK):N!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(H.avail_out=0))},w.prototype.onData=function(v){this.chunks.push(v)},w.prototype.onEnd=function(v){v===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=w,i.inflate=S,i.inflateRaw=function(v,E){return(E=E||{}).raw=!0,S(v,E)},i.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var g=p.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var m in g)g.hasOwnProperty(m)&&(d[m]=g[m])}}return d},i.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var l={arraySet:function(d,p,g,m,b){if(p.subarray&&d.subarray)d.set(p.subarray(g,g+m),b);else for(var w=0;w<m;w++)d[b+w]=p[g+w]},flattenChunks:function(d){var p,g,m,b,w,S;for(p=m=0,g=d.length;p<g;p++)m+=d[p].length;for(S=new Uint8Array(m),p=b=0,g=d.length;p<g;p++)w=d[p],S.set(w,b),b+=w.length;return S}},u={arraySet:function(d,p,g,m,b){for(var w=0;w<m;w++)d[b+w]=p[g+w]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),l=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new s.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function g(m,b){if(b<65537&&(m.subarray&&u||!m.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(m,b));for(var w="",S=0;S<b;S++)w+=String.fromCharCode(m[S]);return w}d[254]=d[254]=1,i.string2buf=function(m){var b,w,S,v,E,k=m.length,N=0;for(v=0;v<k;v++)(64512&(w=m.charCodeAt(v)))==55296&&v+1<k&&(64512&(S=m.charCodeAt(v+1)))==56320&&(w=65536+(w-55296<<10)+(S-56320),v++),N+=w<128?1:w<2048?2:w<65536?3:4;for(b=new s.Buf8(N),v=E=0;E<N;v++)(64512&(w=m.charCodeAt(v)))==55296&&v+1<k&&(64512&(S=m.charCodeAt(v+1)))==56320&&(w=65536+(w-55296<<10)+(S-56320),v++),w<128?b[E++]=w:(w<2048?b[E++]=192|w>>>6:(w<65536?b[E++]=224|w>>>12:(b[E++]=240|w>>>18,b[E++]=128|w>>>12&63),b[E++]=128|w>>>6&63),b[E++]=128|63&w);return b},i.buf2binstring=function(m){return g(m,m.length)},i.binstring2buf=function(m){for(var b=new s.Buf8(m.length),w=0,S=b.length;w<S;w++)b[w]=m.charCodeAt(w);return b},i.buf2string=function(m,b){var w,S,v,E,k=b||m.length,N=new Array(2*k);for(w=S=0;w<k;)if((v=m[w++])<128)N[S++]=v;else if(4<(E=d[v]))N[S++]=65533,w+=E-1;else{for(v&=E===2?31:E===3?15:7;1<E&&w<k;)v=v<<6|63&m[w++],E--;1<E?N[S++]=65533:v<65536?N[S++]=v:(v-=65536,N[S++]=55296|v>>10&1023,N[S++]=56320|1023&v)}return g(N,S)},i.utf8border=function(m,b){var w;for((b=b||m.length)>m.length&&(b=m.length),w=b-1;0<=w&&(192&m[w])==128;)w--;return w<0||w===0?b:w+d[m[w]]>b?w:b}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,l,u,d){for(var p=65535&s|0,g=s>>>16&65535|0,m=0;u!==0;){for(u-=m=2e3<u?2e3:u;g=g+(p=p+l[d++]|0)|0,--m;);p%=65521,g%=65521}return p|g<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var l,u=[],d=0;d<256;d++){l=d;for(var p=0;p<8;p++)l=1&l?3988292384^l>>>1:l>>>1;u[d]=l}return u}();r.exports=function(l,u,d,p){var g=s,m=p+d;l^=-1;for(var b=p;b<m;b++)l=l>>>8^g[255&(l^u[b])];return-1^l}},{}],46:[function(n,r,i){var s,l=n("../utils/common"),u=n("./trees"),d=n("./adler32"),p=n("./crc32"),g=n("./messages"),m=0,b=4,w=0,S=-2,v=-1,E=4,k=2,N=8,A=9,z=286,D=30,$=19,H=2*z+1,V=15,F=3,W=258,J=W+F+1,U=42,X=113,O=1,K=2,se=3,ie=4;function te(B,Pe){return B.msg=g[Pe],Pe}function ee(B){return(B<<1)-(4<B?9:0)}function le(B){for(var Pe=B.length;0<=--Pe;)B[Pe]=0}function Z(B){var Pe=B.state,be=Pe.pending;be>B.avail_out&&(be=B.avail_out),be!==0&&(l.arraySet(B.output,Pe.pending_buf,Pe.pending_out,be,B.next_out),B.next_out+=be,Pe.pending_out+=be,B.total_out+=be,B.avail_out-=be,Pe.pending-=be,Pe.pending===0&&(Pe.pending_out=0))}function Q(B,Pe){u._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,Pe),B.block_start=B.strstart,Z(B.strm)}function ke(B,Pe){B.pending_buf[B.pending++]=Pe}function _e(B,Pe){B.pending_buf[B.pending++]=Pe>>>8&255,B.pending_buf[B.pending++]=255&Pe}function ve(B,Pe){var be,oe,re=B.max_chain_length,pe=B.strstart,Re=B.prev_length,Le=B.nice_match,me=B.strstart>B.w_size-J?B.strstart-(B.w_size-J):0,Be=B.window,Ve=B.w_mask,De=B.prev,tt=B.strstart+W,G=Be[pe+Re-1],R=Be[pe+Re];B.prev_length>=B.good_match&&(re>>=2),Le>B.lookahead&&(Le=B.lookahead);do if(Be[(be=Pe)+Re]===R&&Be[be+Re-1]===G&&Be[be]===Be[pe]&&Be[++be]===Be[pe+1]){pe+=2,be++;do;while(Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&Be[++pe]===Be[++be]&&pe<tt);if(oe=W-(tt-pe),pe=tt-W,Re<oe){if(B.match_start=Pe,Le<=(Re=oe))break;G=Be[pe+Re-1],R=Be[pe+Re]}}while((Pe=De[Pe&Ve])>me&&--re!=0);return Re<=B.lookahead?Re:B.lookahead}function Ie(B){var Pe,be,oe,re,pe,Re,Le,me,Be,Ve,De=B.w_size;do{if(re=B.window_size-B.lookahead-B.strstart,B.strstart>=De+(De-J)){for(l.arraySet(B.window,B.window,De,De,0),B.match_start-=De,B.strstart-=De,B.block_start-=De,Pe=be=B.hash_size;oe=B.head[--Pe],B.head[Pe]=De<=oe?oe-De:0,--be;);for(Pe=be=De;oe=B.prev[--Pe],B.prev[Pe]=De<=oe?oe-De:0,--be;);re+=De}if(B.strm.avail_in===0)break;if(Re=B.strm,Le=B.window,me=B.strstart+B.lookahead,Be=re,Ve=void 0,Ve=Re.avail_in,Be<Ve&&(Ve=Be),be=Ve===0?0:(Re.avail_in-=Ve,l.arraySet(Le,Re.input,Re.next_in,Ve,me),Re.state.wrap===1?Re.adler=d(Re.adler,Le,Ve,me):Re.state.wrap===2&&(Re.adler=p(Re.adler,Le,Ve,me)),Re.next_in+=Ve,Re.total_in+=Ve,Ve),B.lookahead+=be,B.lookahead+B.insert>=F)for(pe=B.strstart-B.insert,B.ins_h=B.window[pe],B.ins_h=(B.ins_h<<B.hash_shift^B.window[pe+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[pe+F-1])&B.hash_mask,B.prev[pe&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=pe,pe++,B.insert--,!(B.lookahead+B.insert<F)););}while(B.lookahead<J&&B.strm.avail_in!==0)}function Te(B,Pe){for(var be,oe;;){if(B.lookahead<J){if(Ie(B),B.lookahead<J&&Pe===m)return O;if(B.lookahead===0)break}if(be=0,B.lookahead>=F&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+F-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),be!==0&&B.strstart-be<=B.w_size-J&&(B.match_length=ve(B,be)),B.match_length>=F)if(oe=u._tr_tally(B,B.strstart-B.match_start,B.match_length-F),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=F){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+F-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else oe=u._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(oe&&(Q(B,!1),B.strm.avail_out===0))return O}return B.insert=B.strstart<F-1?B.strstart:F-1,Pe===b?(Q(B,!0),B.strm.avail_out===0?se:ie):B.last_lit&&(Q(B,!1),B.strm.avail_out===0)?O:K}function Ne(B,Pe){for(var be,oe,re;;){if(B.lookahead<J){if(Ie(B),B.lookahead<J&&Pe===m)return O;if(B.lookahead===0)break}if(be=0,B.lookahead>=F&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+F-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=F-1,be!==0&&B.prev_length<B.max_lazy_match&&B.strstart-be<=B.w_size-J&&(B.match_length=ve(B,be),B.match_length<=5&&(B.strategy===1||B.match_length===F&&4096<B.strstart-B.match_start)&&(B.match_length=F-1)),B.prev_length>=F&&B.match_length<=B.prev_length){for(re=B.strstart+B.lookahead-F,oe=u._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-F),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=re&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+F-1])&B.hash_mask,be=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=F-1,B.strstart++,oe&&(Q(B,!1),B.strm.avail_out===0))return O}else if(B.match_available){if((oe=u._tr_tally(B,0,B.window[B.strstart-1]))&&Q(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return O}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(oe=u._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<F-1?B.strstart:F-1,Pe===b?(Q(B,!0),B.strm.avail_out===0?se:ie):B.last_lit&&(Q(B,!1),B.strm.avail_out===0)?O:K}function je(B,Pe,be,oe,re){this.good_length=B,this.max_lazy=Pe,this.nice_length=be,this.max_chain=oe,this.func=re}function Ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*H),this.dyn_dtree=new l.Buf16(2*(2*D+1)),this.bl_tree=new l.Buf16(2*(2*$+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(V+1),this.heap=new l.Buf16(2*z+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*z+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Qe(B){var Pe;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=k,(Pe=B.state).pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap?U:X,B.adler=Pe.wrap===2?0:1,Pe.last_flush=m,u._tr_init(Pe),w):te(B,S)}function ot(B){var Pe=Qe(B);return Pe===w&&function(be){be.window_size=2*be.w_size,le(be.head),be.max_lazy_match=s[be.level].max_lazy,be.good_match=s[be.level].good_length,be.nice_match=s[be.level].nice_length,be.max_chain_length=s[be.level].max_chain,be.strstart=0,be.block_start=0,be.lookahead=0,be.insert=0,be.match_length=be.prev_length=F-1,be.match_available=0,be.ins_h=0}(B.state),Pe}function at(B,Pe,be,oe,re,pe){if(!B)return S;var Re=1;if(Pe===v&&(Pe=6),oe<0?(Re=0,oe=-oe):15<oe&&(Re=2,oe-=16),re<1||A<re||be!==N||oe<8||15<oe||Pe<0||9<Pe||pe<0||E<pe)return te(B,S);oe===8&&(oe=9);var Le=new Ze;return(B.state=Le).strm=B,Le.wrap=Re,Le.gzhead=null,Le.w_bits=oe,Le.w_size=1<<Le.w_bits,Le.w_mask=Le.w_size-1,Le.hash_bits=re+7,Le.hash_size=1<<Le.hash_bits,Le.hash_mask=Le.hash_size-1,Le.hash_shift=~~((Le.hash_bits+F-1)/F),Le.window=new l.Buf8(2*Le.w_size),Le.head=new l.Buf16(Le.hash_size),Le.prev=new l.Buf16(Le.w_size),Le.lit_bufsize=1<<re+6,Le.pending_buf_size=4*Le.lit_bufsize,Le.pending_buf=new l.Buf8(Le.pending_buf_size),Le.d_buf=1*Le.lit_bufsize,Le.l_buf=3*Le.lit_bufsize,Le.level=Pe,Le.strategy=pe,Le.method=be,ot(B)}s=[new je(0,0,0,0,function(B,Pe){var be=65535;for(be>B.pending_buf_size-5&&(be=B.pending_buf_size-5);;){if(B.lookahead<=1){if(Ie(B),B.lookahead===0&&Pe===m)return O;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var oe=B.block_start+be;if((B.strstart===0||B.strstart>=oe)&&(B.lookahead=B.strstart-oe,B.strstart=oe,Q(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-J&&(Q(B,!1),B.strm.avail_out===0))return O}return B.insert=0,Pe===b?(Q(B,!0),B.strm.avail_out===0?se:ie):(B.strstart>B.block_start&&(Q(B,!1),B.strm.avail_out),O)}),new je(4,4,8,4,Te),new je(4,5,16,8,Te),new je(4,6,32,32,Te),new je(4,4,16,16,Ne),new je(8,16,32,32,Ne),new je(8,16,128,128,Ne),new je(8,32,128,256,Ne),new je(32,128,258,1024,Ne),new je(32,258,258,4096,Ne)],i.deflateInit=function(B,Pe){return at(B,Pe,N,15,8,0)},i.deflateInit2=at,i.deflateReset=ot,i.deflateResetKeep=Qe,i.deflateSetHeader=function(B,Pe){return B&&B.state?B.state.wrap!==2?S:(B.state.gzhead=Pe,w):S},i.deflate=function(B,Pe){var be,oe,re,pe;if(!B||!B.state||5<Pe||Pe<0)return B?te(B,S):S;if(oe=B.state,!B.output||!B.input&&B.avail_in!==0||oe.status===666&&Pe!==b)return te(B,B.avail_out===0?-5:S);if(oe.strm=B,be=oe.last_flush,oe.last_flush=Pe,oe.status===U)if(oe.wrap===2)B.adler=0,ke(oe,31),ke(oe,139),ke(oe,8),oe.gzhead?(ke(oe,(oe.gzhead.text?1:0)+(oe.gzhead.hcrc?2:0)+(oe.gzhead.extra?4:0)+(oe.gzhead.name?8:0)+(oe.gzhead.comment?16:0)),ke(oe,255&oe.gzhead.time),ke(oe,oe.gzhead.time>>8&255),ke(oe,oe.gzhead.time>>16&255),ke(oe,oe.gzhead.time>>24&255),ke(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),ke(oe,255&oe.gzhead.os),oe.gzhead.extra&&oe.gzhead.extra.length&&(ke(oe,255&oe.gzhead.extra.length),ke(oe,oe.gzhead.extra.length>>8&255)),oe.gzhead.hcrc&&(B.adler=p(B.adler,oe.pending_buf,oe.pending,0)),oe.gzindex=0,oe.status=69):(ke(oe,0),ke(oe,0),ke(oe,0),ke(oe,0),ke(oe,0),ke(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),ke(oe,3),oe.status=X);else{var Re=N+(oe.w_bits-8<<4)<<8;Re|=(2<=oe.strategy||oe.level<2?0:oe.level<6?1:oe.level===6?2:3)<<6,oe.strstart!==0&&(Re|=32),Re+=31-Re%31,oe.status=X,_e(oe,Re),oe.strstart!==0&&(_e(oe,B.adler>>>16),_e(oe,65535&B.adler)),B.adler=1}if(oe.status===69)if(oe.gzhead.extra){for(re=oe.pending;oe.gzindex<(65535&oe.gzhead.extra.length)&&(oe.pending!==oe.pending_buf_size||(oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),Z(B),re=oe.pending,oe.pending!==oe.pending_buf_size));)ke(oe,255&oe.gzhead.extra[oe.gzindex]),oe.gzindex++;oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),oe.gzindex===oe.gzhead.extra.length&&(oe.gzindex=0,oe.status=73)}else oe.status=73;if(oe.status===73)if(oe.gzhead.name){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),Z(B),re=oe.pending,oe.pending===oe.pending_buf_size)){pe=1;break}pe=oe.gzindex<oe.gzhead.name.length?255&oe.gzhead.name.charCodeAt(oe.gzindex++):0,ke(oe,pe)}while(pe!==0);oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),pe===0&&(oe.gzindex=0,oe.status=91)}else oe.status=91;if(oe.status===91)if(oe.gzhead.comment){re=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),Z(B),re=oe.pending,oe.pending===oe.pending_buf_size)){pe=1;break}pe=oe.gzindex<oe.gzhead.comment.length?255&oe.gzhead.comment.charCodeAt(oe.gzindex++):0,ke(oe,pe)}while(pe!==0);oe.gzhead.hcrc&&oe.pending>re&&(B.adler=p(B.adler,oe.pending_buf,oe.pending-re,re)),pe===0&&(oe.status=103)}else oe.status=103;if(oe.status===103&&(oe.gzhead.hcrc?(oe.pending+2>oe.pending_buf_size&&Z(B),oe.pending+2<=oe.pending_buf_size&&(ke(oe,255&B.adler),ke(oe,B.adler>>8&255),B.adler=0,oe.status=X)):oe.status=X),oe.pending!==0){if(Z(B),B.avail_out===0)return oe.last_flush=-1,w}else if(B.avail_in===0&&ee(Pe)<=ee(be)&&Pe!==b)return te(B,-5);if(oe.status===666&&B.avail_in!==0)return te(B,-5);if(B.avail_in!==0||oe.lookahead!==0||Pe!==m&&oe.status!==666){var Le=oe.strategy===2?function(me,Be){for(var Ve;;){if(me.lookahead===0&&(Ie(me),me.lookahead===0)){if(Be===m)return O;break}if(me.match_length=0,Ve=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,Ve&&(Q(me,!1),me.strm.avail_out===0))return O}return me.insert=0,Be===b?(Q(me,!0),me.strm.avail_out===0?se:ie):me.last_lit&&(Q(me,!1),me.strm.avail_out===0)?O:K}(oe,Pe):oe.strategy===3?function(me,Be){for(var Ve,De,tt,G,R=me.window;;){if(me.lookahead<=W){if(Ie(me),me.lookahead<=W&&Be===m)return O;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=F&&0<me.strstart&&(De=R[tt=me.strstart-1])===R[++tt]&&De===R[++tt]&&De===R[++tt]){G=me.strstart+W;do;while(De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&De===R[++tt]&&tt<G);me.match_length=W-(G-tt),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=F?(Ve=u._tr_tally(me,1,me.match_length-F),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(Ve=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),Ve&&(Q(me,!1),me.strm.avail_out===0))return O}return me.insert=0,Be===b?(Q(me,!0),me.strm.avail_out===0?se:ie):me.last_lit&&(Q(me,!1),me.strm.avail_out===0)?O:K}(oe,Pe):s[oe.level].func(oe,Pe);if(Le!==se&&Le!==ie||(oe.status=666),Le===O||Le===se)return B.avail_out===0&&(oe.last_flush=-1),w;if(Le===K&&(Pe===1?u._tr_align(oe):Pe!==5&&(u._tr_stored_block(oe,0,0,!1),Pe===3&&(le(oe.head),oe.lookahead===0&&(oe.strstart=0,oe.block_start=0,oe.insert=0))),Z(B),B.avail_out===0))return oe.last_flush=-1,w}return Pe!==b?w:oe.wrap<=0?1:(oe.wrap===2?(ke(oe,255&B.adler),ke(oe,B.adler>>8&255),ke(oe,B.adler>>16&255),ke(oe,B.adler>>24&255),ke(oe,255&B.total_in),ke(oe,B.total_in>>8&255),ke(oe,B.total_in>>16&255),ke(oe,B.total_in>>24&255)):(_e(oe,B.adler>>>16),_e(oe,65535&B.adler)),Z(B),0<oe.wrap&&(oe.wrap=-oe.wrap),oe.pending!==0?w:1)},i.deflateEnd=function(B){var Pe;return B&&B.state?(Pe=B.state.status)!==U&&Pe!==69&&Pe!==73&&Pe!==91&&Pe!==103&&Pe!==X&&Pe!==666?te(B,S):(B.state=null,Pe===X?te(B,-3):w):S},i.deflateSetDictionary=function(B,Pe){var be,oe,re,pe,Re,Le,me,Be,Ve=Pe.length;if(!B||!B.state||(pe=(be=B.state).wrap)===2||pe===1&&be.status!==U||be.lookahead)return S;for(pe===1&&(B.adler=d(B.adler,Pe,Ve,0)),be.wrap=0,Ve>=be.w_size&&(pe===0&&(le(be.head),be.strstart=0,be.block_start=0,be.insert=0),Be=new l.Buf8(be.w_size),l.arraySet(Be,Pe,Ve-be.w_size,be.w_size,0),Pe=Be,Ve=be.w_size),Re=B.avail_in,Le=B.next_in,me=B.input,B.avail_in=Ve,B.next_in=0,B.input=Pe,Ie(be);be.lookahead>=F;){for(oe=be.strstart,re=be.lookahead-(F-1);be.ins_h=(be.ins_h<<be.hash_shift^be.window[oe+F-1])&be.hash_mask,be.prev[oe&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=oe,oe++,--re;);be.strstart=oe,be.lookahead=F-1,Ie(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=F-1,be.match_available=0,B.next_in=Le,B.input=me,B.avail_in=Re,be.wrap=pe,w},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,l){var u,d,p,g,m,b,w,S,v,E,k,N,A,z,D,$,H,V,F,W,J,U,X,O,K;u=s.state,d=s.next_in,O=s.input,p=d+(s.avail_in-5),g=s.next_out,K=s.output,m=g-(l-s.avail_out),b=g+(s.avail_out-257),w=u.dmax,S=u.wsize,v=u.whave,E=u.wnext,k=u.window,N=u.hold,A=u.bits,z=u.lencode,D=u.distcode,$=(1<<u.lenbits)-1,H=(1<<u.distbits)-1;e:do{A<15&&(N+=O[d++]<<A,A+=8,N+=O[d++]<<A,A+=8),V=z[N&$];t:for(;;){if(N>>>=F=V>>>24,A-=F,(F=V>>>16&255)===0)K[g++]=65535&V;else{if(!(16&F)){if((64&F)==0){V=z[(65535&V)+(N&(1<<F)-1)];continue t}if(32&F){u.mode=12;break e}s.msg="invalid literal/length code",u.mode=30;break e}W=65535&V,(F&=15)&&(A<F&&(N+=O[d++]<<A,A+=8),W+=N&(1<<F)-1,N>>>=F,A-=F),A<15&&(N+=O[d++]<<A,A+=8,N+=O[d++]<<A,A+=8),V=D[N&H];n:for(;;){if(N>>>=F=V>>>24,A-=F,!(16&(F=V>>>16&255))){if((64&F)==0){V=D[(65535&V)+(N&(1<<F)-1)];continue n}s.msg="invalid distance code",u.mode=30;break e}if(J=65535&V,A<(F&=15)&&(N+=O[d++]<<A,(A+=8)<F&&(N+=O[d++]<<A,A+=8)),w<(J+=N&(1<<F)-1)){s.msg="invalid distance too far back",u.mode=30;break e}if(N>>>=F,A-=F,(F=g-m)<J){if(v<(F=J-F)&&u.sane){s.msg="invalid distance too far back",u.mode=30;break e}if(X=k,(U=0)===E){if(U+=S-F,F<W){for(W-=F;K[g++]=k[U++],--F;);U=g-J,X=K}}else if(E<F){if(U+=S+E-F,(F-=E)<W){for(W-=F;K[g++]=k[U++],--F;);if(U=0,E<W){for(W-=F=E;K[g++]=k[U++],--F;);U=g-J,X=K}}}else if(U+=E-F,F<W){for(W-=F;K[g++]=k[U++],--F;);U=g-J,X=K}for(;2<W;)K[g++]=X[U++],K[g++]=X[U++],K[g++]=X[U++],W-=3;W&&(K[g++]=X[U++],1<W&&(K[g++]=X[U++]))}else{for(U=g-J;K[g++]=K[U++],K[g++]=K[U++],K[g++]=K[U++],2<(W-=3););W&&(K[g++]=K[U++],1<W&&(K[g++]=K[U++]))}break}}break}}while(d<p&&g<b);d-=W=A>>3,N&=(1<<(A-=W<<3))-1,s.next_in=d,s.next_out=g,s.avail_in=d<p?p-d+5:5-(d-p),s.avail_out=g<b?b-g+257:257-(g-b),u.hold=N,u.bits=A}},{}],49:[function(n,r,i){var s=n("../utils/common"),l=n("./adler32"),u=n("./crc32"),d=n("./inffast"),p=n("./inftrees"),g=1,m=2,b=0,w=-2,S=1,v=852,E=592;function k(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(U){var X;return U&&U.state?(X=U.state,U.total_in=U.total_out=X.total=0,U.msg="",X.wrap&&(U.adler=1&X.wrap),X.mode=S,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new s.Buf32(v),X.distcode=X.distdyn=new s.Buf32(E),X.sane=1,X.back=-1,b):w}function z(U){var X;return U&&U.state?((X=U.state).wsize=0,X.whave=0,X.wnext=0,A(U)):w}function D(U,X){var O,K;return U&&U.state?(K=U.state,X<0?(O=0,X=-X):(O=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?w:(K.window!==null&&K.wbits!==X&&(K.window=null),K.wrap=O,K.wbits=X,z(U))):w}function $(U,X){var O,K;return U?(K=new N,(U.state=K).window=null,(O=D(U,X))!==b&&(U.state=null),O):w}var H,V,F=!0;function W(U){if(F){var X;for(H=new s.Buf32(512),V=new s.Buf32(32),X=0;X<144;)U.lens[X++]=8;for(;X<256;)U.lens[X++]=9;for(;X<280;)U.lens[X++]=7;for(;X<288;)U.lens[X++]=8;for(p(g,U.lens,0,288,H,0,U.work,{bits:9}),X=0;X<32;)U.lens[X++]=5;p(m,U.lens,0,32,V,0,U.work,{bits:5}),F=!1}U.lencode=H,U.lenbits=9,U.distcode=V,U.distbits=5}function J(U,X,O,K){var se,ie=U.state;return ie.window===null&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new s.Buf8(ie.wsize)),K>=ie.wsize?(s.arraySet(ie.window,X,O-ie.wsize,ie.wsize,0),ie.wnext=0,ie.whave=ie.wsize):(K<(se=ie.wsize-ie.wnext)&&(se=K),s.arraySet(ie.window,X,O-K,se,ie.wnext),(K-=se)?(s.arraySet(ie.window,X,O-K,K,0),ie.wnext=K,ie.whave=ie.wsize):(ie.wnext+=se,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=se))),0}i.inflateReset=z,i.inflateReset2=D,i.inflateResetKeep=A,i.inflateInit=function(U){return $(U,15)},i.inflateInit2=$,i.inflate=function(U,X){var O,K,se,ie,te,ee,le,Z,Q,ke,_e,ve,Ie,Te,Ne,je,Ze,Qe,ot,at,B,Pe,be,oe,re=0,pe=new s.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return w;(O=U.state).mode===12&&(O.mode=13),te=U.next_out,se=U.output,le=U.avail_out,ie=U.next_in,K=U.input,ee=U.avail_in,Z=O.hold,Q=O.bits,ke=ee,_e=le,Pe=b;e:for(;;)switch(O.mode){case S:if(O.wrap===0){O.mode=13;break}for(;Q<16;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}if(2&O.wrap&&Z===35615){pe[O.check=0]=255&Z,pe[1]=Z>>>8&255,O.check=u(O.check,pe,2,0),Q=Z=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&Z)<<8)+(Z>>8))%31){U.msg="incorrect header check",O.mode=30;break}if((15&Z)!=8){U.msg="unknown compression method",O.mode=30;break}if(Q-=4,B=8+(15&(Z>>>=4)),O.wbits===0)O.wbits=B;else if(B>O.wbits){U.msg="invalid window size",O.mode=30;break}O.dmax=1<<B,U.adler=O.check=1,O.mode=512&Z?10:12,Q=Z=0;break;case 2:for(;Q<16;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}if(O.flags=Z,(255&O.flags)!=8){U.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){U.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=Z>>8&1),512&O.flags&&(pe[0]=255&Z,pe[1]=Z>>>8&255,O.check=u(O.check,pe,2,0)),Q=Z=0,O.mode=3;case 3:for(;Q<32;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}O.head&&(O.head.time=Z),512&O.flags&&(pe[0]=255&Z,pe[1]=Z>>>8&255,pe[2]=Z>>>16&255,pe[3]=Z>>>24&255,O.check=u(O.check,pe,4,0)),Q=Z=0,O.mode=4;case 4:for(;Q<16;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}O.head&&(O.head.xflags=255&Z,O.head.os=Z>>8),512&O.flags&&(pe[0]=255&Z,pe[1]=Z>>>8&255,O.check=u(O.check,pe,2,0)),Q=Z=0,O.mode=5;case 5:if(1024&O.flags){for(;Q<16;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}O.length=Z,O.head&&(O.head.extra_len=Z),512&O.flags&&(pe[0]=255&Z,pe[1]=Z>>>8&255,O.check=u(O.check,pe,2,0)),Q=Z=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(ee<(ve=O.length)&&(ve=ee),ve&&(O.head&&(B=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),s.arraySet(O.head.extra,K,ie,ve,B)),512&O.flags&&(O.check=u(O.check,K,ve,ie)),ee-=ve,ie+=ve,O.length-=ve),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(ee===0)break e;for(ve=0;B=K[ie+ve++],O.head&&B&&O.length<65536&&(O.head.name+=String.fromCharCode(B)),B&&ve<ee;);if(512&O.flags&&(O.check=u(O.check,K,ve,ie)),ee-=ve,ie+=ve,B)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(ee===0)break e;for(ve=0;B=K[ie+ve++],O.head&&B&&O.length<65536&&(O.head.comment+=String.fromCharCode(B)),B&&ve<ee;);if(512&O.flags&&(O.check=u(O.check,K,ve,ie)),ee-=ve,ie+=ve,B)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;Q<16;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}if(Z!==(65535&O.check)){U.msg="header crc mismatch",O.mode=30;break}Q=Z=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),U.adler=O.check=0,O.mode=12;break;case 10:for(;Q<32;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}U.adler=O.check=k(Z),Q=Z=0,O.mode=11;case 11:if(O.havedict===0)return U.next_out=te,U.avail_out=le,U.next_in=ie,U.avail_in=ee,O.hold=Z,O.bits=Q,2;U.adler=O.check=1,O.mode=12;case 12:if(X===5||X===6)break e;case 13:if(O.last){Z>>>=7&Q,Q-=7&Q,O.mode=27;break}for(;Q<3;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}switch(O.last=1&Z,Q-=1,3&(Z>>>=1)){case 0:O.mode=14;break;case 1:if(W(O),O.mode=20,X!==6)break;Z>>>=2,Q-=2;break e;case 2:O.mode=17;break;case 3:U.msg="invalid block type",O.mode=30}Z>>>=2,Q-=2;break;case 14:for(Z>>>=7&Q,Q-=7&Q;Q<32;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}if((65535&Z)!=(Z>>>16^65535)){U.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&Z,Q=Z=0,O.mode=15,X===6)break e;case 15:O.mode=16;case 16:if(ve=O.length){if(ee<ve&&(ve=ee),le<ve&&(ve=le),ve===0)break e;s.arraySet(se,K,ie,ve,te),ee-=ve,ie+=ve,le-=ve,te+=ve,O.length-=ve;break}O.mode=12;break;case 17:for(;Q<14;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}if(O.nlen=257+(31&Z),Z>>>=5,Q-=5,O.ndist=1+(31&Z),Z>>>=5,Q-=5,O.ncode=4+(15&Z),Z>>>=4,Q-=4,286<O.nlen||30<O.ndist){U.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;Q<3;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}O.lens[Re[O.have++]]=7&Z,Z>>>=3,Q-=3}for(;O.have<19;)O.lens[Re[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,be={bits:O.lenbits},Pe=p(0,O.lens,0,19,O.lencode,0,O.work,be),O.lenbits=be.bits,Pe){U.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;je=(re=O.lencode[Z&(1<<O.lenbits)-1])>>>16&255,Ze=65535&re,!((Ne=re>>>24)<=Q);){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}if(Ze<16)Z>>>=Ne,Q-=Ne,O.lens[O.have++]=Ze;else{if(Ze===16){for(oe=Ne+2;Q<oe;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}if(Z>>>=Ne,Q-=Ne,O.have===0){U.msg="invalid bit length repeat",O.mode=30;break}B=O.lens[O.have-1],ve=3+(3&Z),Z>>>=2,Q-=2}else if(Ze===17){for(oe=Ne+3;Q<oe;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}Q-=Ne,B=0,ve=3+(7&(Z>>>=Ne)),Z>>>=3,Q-=3}else{for(oe=Ne+7;Q<oe;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}Q-=Ne,B=0,ve=11+(127&(Z>>>=Ne)),Z>>>=7,Q-=7}if(O.have+ve>O.nlen+O.ndist){U.msg="invalid bit length repeat",O.mode=30;break}for(;ve--;)O.lens[O.have++]=B}}if(O.mode===30)break;if(O.lens[256]===0){U.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,be={bits:O.lenbits},Pe=p(g,O.lens,0,O.nlen,O.lencode,0,O.work,be),O.lenbits=be.bits,Pe){U.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,be={bits:O.distbits},Pe=p(m,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,be),O.distbits=be.bits,Pe){U.msg="invalid distances set",O.mode=30;break}if(O.mode=20,X===6)break e;case 20:O.mode=21;case 21:if(6<=ee&&258<=le){U.next_out=te,U.avail_out=le,U.next_in=ie,U.avail_in=ee,O.hold=Z,O.bits=Q,d(U,_e),te=U.next_out,se=U.output,le=U.avail_out,ie=U.next_in,K=U.input,ee=U.avail_in,Z=O.hold,Q=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;je=(re=O.lencode[Z&(1<<O.lenbits)-1])>>>16&255,Ze=65535&re,!((Ne=re>>>24)<=Q);){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}if(je&&(240&je)==0){for(Qe=Ne,ot=je,at=Ze;je=(re=O.lencode[at+((Z&(1<<Qe+ot)-1)>>Qe)])>>>16&255,Ze=65535&re,!(Qe+(Ne=re>>>24)<=Q);){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}Z>>>=Qe,Q-=Qe,O.back+=Qe}if(Z>>>=Ne,Q-=Ne,O.back+=Ne,O.length=Ze,je===0){O.mode=26;break}if(32&je){O.back=-1,O.mode=12;break}if(64&je){U.msg="invalid literal/length code",O.mode=30;break}O.extra=15&je,O.mode=22;case 22:if(O.extra){for(oe=O.extra;Q<oe;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}O.length+=Z&(1<<O.extra)-1,Z>>>=O.extra,Q-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;je=(re=O.distcode[Z&(1<<O.distbits)-1])>>>16&255,Ze=65535&re,!((Ne=re>>>24)<=Q);){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}if((240&je)==0){for(Qe=Ne,ot=je,at=Ze;je=(re=O.distcode[at+((Z&(1<<Qe+ot)-1)>>Qe)])>>>16&255,Ze=65535&re,!(Qe+(Ne=re>>>24)<=Q);){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}Z>>>=Qe,Q-=Qe,O.back+=Qe}if(Z>>>=Ne,Q-=Ne,O.back+=Ne,64&je){U.msg="invalid distance code",O.mode=30;break}O.offset=Ze,O.extra=15&je,O.mode=24;case 24:if(O.extra){for(oe=O.extra;Q<oe;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}O.offset+=Z&(1<<O.extra)-1,Z>>>=O.extra,Q-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){U.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(le===0)break e;if(ve=_e-le,O.offset>ve){if((ve=O.offset-ve)>O.whave&&O.sane){U.msg="invalid distance too far back",O.mode=30;break}Ie=ve>O.wnext?(ve-=O.wnext,O.wsize-ve):O.wnext-ve,ve>O.length&&(ve=O.length),Te=O.window}else Te=se,Ie=te-O.offset,ve=O.length;for(le<ve&&(ve=le),le-=ve,O.length-=ve;se[te++]=Te[Ie++],--ve;);O.length===0&&(O.mode=21);break;case 26:if(le===0)break e;se[te++]=O.length,le--,O.mode=21;break;case 27:if(O.wrap){for(;Q<32;){if(ee===0)break e;ee--,Z|=K[ie++]<<Q,Q+=8}if(_e-=le,U.total_out+=_e,O.total+=_e,_e&&(U.adler=O.check=O.flags?u(O.check,se,_e,te-_e):l(O.check,se,_e,te-_e)),_e=le,(O.flags?Z:k(Z))!==O.check){U.msg="incorrect data check",O.mode=30;break}Q=Z=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;Q<32;){if(ee===0)break e;ee--,Z+=K[ie++]<<Q,Q+=8}if(Z!==(4294967295&O.total)){U.msg="incorrect length check",O.mode=30;break}Q=Z=0}O.mode=29;case 29:Pe=1;break e;case 30:Pe=-3;break e;case 31:return-4;case 32:default:return w}return U.next_out=te,U.avail_out=le,U.next_in=ie,U.avail_in=ee,O.hold=Z,O.bits=Q,(O.wsize||_e!==U.avail_out&&O.mode<30&&(O.mode<27||X!==4))&&J(U,U.output,U.next_out,_e-U.avail_out)?(O.mode=31,-4):(ke-=U.avail_in,_e-=U.avail_out,U.total_in+=ke,U.total_out+=_e,O.total+=_e,O.wrap&&_e&&(U.adler=O.check=O.flags?u(O.check,se,_e,U.next_out-_e):l(O.check,se,_e,U.next_out-_e)),U.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(ke==0&&_e===0||X===4)&&Pe===b&&(Pe=-5),Pe)},i.inflateEnd=function(U){if(!U||!U.state)return w;var X=U.state;return X.window&&(X.window=null),U.state=null,b},i.inflateGetHeader=function(U,X){var O;return U&&U.state?(2&(O=U.state).wrap)==0?w:((O.head=X).done=!1,b):w},i.inflateSetDictionary=function(U,X){var O,K=X.length;return U&&U.state?(O=U.state).wrap!==0&&O.mode!==11?w:O.mode===11&&l(1,X,K,0)!==O.check?-3:J(U,X,K,K)?(O.mode=31,-4):(O.havedict=1,b):w},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(g,m,b,w,S,v,E,k){var N,A,z,D,$,H,V,F,W,J=k.bits,U=0,X=0,O=0,K=0,se=0,ie=0,te=0,ee=0,le=0,Z=0,Q=null,ke=0,_e=new s.Buf16(16),ve=new s.Buf16(16),Ie=null,Te=0;for(U=0;U<=15;U++)_e[U]=0;for(X=0;X<w;X++)_e[m[b+X]]++;for(se=J,K=15;1<=K&&_e[K]===0;K--);if(K<se&&(se=K),K===0)return S[v++]=20971520,S[v++]=20971520,k.bits=1,0;for(O=1;O<K&&_e[O]===0;O++);for(se<O&&(se=O),U=ee=1;U<=15;U++)if(ee<<=1,(ee-=_e[U])<0)return-1;if(0<ee&&(g===0||K!==1))return-1;for(ve[1]=0,U=1;U<15;U++)ve[U+1]=ve[U]+_e[U];for(X=0;X<w;X++)m[b+X]!==0&&(E[ve[m[b+X]]++]=X);if(H=g===0?(Q=Ie=E,19):g===1?(Q=l,ke-=257,Ie=u,Te-=257,256):(Q=d,Ie=p,-1),U=O,$=v,te=X=Z=0,z=-1,D=(le=1<<(ie=se))-1,g===1&&852<le||g===2&&592<le)return 1;for(;;){for(V=U-te,W=E[X]<H?(F=0,E[X]):E[X]>H?(F=Ie[Te+E[X]],Q[ke+E[X]]):(F=96,0),N=1<<U-te,O=A=1<<ie;S[$+(Z>>te)+(A-=N)]=V<<24|F<<16|W|0,A!==0;);for(N=1<<U-1;Z&N;)N>>=1;if(N!==0?(Z&=N-1,Z+=N):Z=0,X++,--_e[U]==0){if(U===K)break;U=m[b+E[X]]}if(se<U&&(Z&D)!==z){for(te===0&&(te=se),$+=O,ee=1<<(ie=U-te);ie+te<K&&!((ee-=_e[ie+te])<=0);)ie++,ee<<=1;if(le+=1<<ie,g===1&&852<le||g===2&&592<le)return 1;S[z=Z&D]=se<<24|ie<<16|$-v|0}}return Z!==0&&(S[$+Z]=U-te<<24|64<<16|0),k.bits=se,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),l=0,u=1;function d(re){for(var pe=re.length;0<=--pe;)re[pe]=0}var p=0,g=29,m=256,b=m+1+g,w=30,S=19,v=2*b+1,E=15,k=16,N=7,A=256,z=16,D=17,$=18,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(b+2));d(J);var U=new Array(2*w);d(U);var X=new Array(512);d(X);var O=new Array(256);d(O);var K=new Array(g);d(K);var se,ie,te,ee=new Array(w);function le(re,pe,Re,Le,me){this.static_tree=re,this.extra_bits=pe,this.extra_base=Re,this.elems=Le,this.max_length=me,this.has_stree=re&&re.length}function Z(re,pe){this.dyn_tree=re,this.max_code=0,this.stat_desc=pe}function Q(re){return re<256?X[re]:X[256+(re>>>7)]}function ke(re,pe){re.pending_buf[re.pending++]=255&pe,re.pending_buf[re.pending++]=pe>>>8&255}function _e(re,pe,Re){re.bi_valid>k-Re?(re.bi_buf|=pe<<re.bi_valid&65535,ke(re,re.bi_buf),re.bi_buf=pe>>k-re.bi_valid,re.bi_valid+=Re-k):(re.bi_buf|=pe<<re.bi_valid&65535,re.bi_valid+=Re)}function ve(re,pe,Re){_e(re,Re[2*pe],Re[2*pe+1])}function Ie(re,pe){for(var Re=0;Re|=1&re,re>>>=1,Re<<=1,0<--pe;);return Re>>>1}function Te(re,pe,Re){var Le,me,Be=new Array(E+1),Ve=0;for(Le=1;Le<=E;Le++)Be[Le]=Ve=Ve+Re[Le-1]<<1;for(me=0;me<=pe;me++){var De=re[2*me+1];De!==0&&(re[2*me]=Ie(Be[De]++,De))}}function Ne(re){var pe;for(pe=0;pe<b;pe++)re.dyn_ltree[2*pe]=0;for(pe=0;pe<w;pe++)re.dyn_dtree[2*pe]=0;for(pe=0;pe<S;pe++)re.bl_tree[2*pe]=0;re.dyn_ltree[2*A]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function je(re){8<re.bi_valid?ke(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function Ze(re,pe,Re,Le){var me=2*pe,Be=2*Re;return re[me]<re[Be]||re[me]===re[Be]&&Le[pe]<=Le[Re]}function Qe(re,pe,Re){for(var Le=re.heap[Re],me=Re<<1;me<=re.heap_len&&(me<re.heap_len&&Ze(pe,re.heap[me+1],re.heap[me],re.depth)&&me++,!Ze(pe,Le,re.heap[me],re.depth));)re.heap[Re]=re.heap[me],Re=me,me<<=1;re.heap[Re]=Le}function ot(re,pe,Re){var Le,me,Be,Ve,De=0;if(re.last_lit!==0)for(;Le=re.pending_buf[re.d_buf+2*De]<<8|re.pending_buf[re.d_buf+2*De+1],me=re.pending_buf[re.l_buf+De],De++,Le===0?ve(re,me,pe):(ve(re,(Be=O[me])+m+1,pe),(Ve=H[Be])!==0&&_e(re,me-=K[Be],Ve),ve(re,Be=Q(--Le),Re),(Ve=V[Be])!==0&&_e(re,Le-=ee[Be],Ve)),De<re.last_lit;);ve(re,A,pe)}function at(re,pe){var Re,Le,me,Be=pe.dyn_tree,Ve=pe.stat_desc.static_tree,De=pe.stat_desc.has_stree,tt=pe.stat_desc.elems,G=-1;for(re.heap_len=0,re.heap_max=v,Re=0;Re<tt;Re++)Be[2*Re]!==0?(re.heap[++re.heap_len]=G=Re,re.depth[Re]=0):Be[2*Re+1]=0;for(;re.heap_len<2;)Be[2*(me=re.heap[++re.heap_len]=G<2?++G:0)]=1,re.depth[me]=0,re.opt_len--,De&&(re.static_len-=Ve[2*me+1]);for(pe.max_code=G,Re=re.heap_len>>1;1<=Re;Re--)Qe(re,Be,Re);for(me=tt;Re=re.heap[1],re.heap[1]=re.heap[re.heap_len--],Qe(re,Be,1),Le=re.heap[1],re.heap[--re.heap_max]=Re,re.heap[--re.heap_max]=Le,Be[2*me]=Be[2*Re]+Be[2*Le],re.depth[me]=(re.depth[Re]>=re.depth[Le]?re.depth[Re]:re.depth[Le])+1,Be[2*Re+1]=Be[2*Le+1]=me,re.heap[1]=me++,Qe(re,Be,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],function(R,j){var ne,fe,xe,Ce,dt,Lt,_t=j.dyn_tree,St=j.max_code,kt=j.stat_desc.static_tree,fa=j.stat_desc.has_stree,Vo=j.stat_desc.extra_bits,Rr=j.stat_desc.extra_base,Hn=j.stat_desc.max_length,no=0;for(Ce=0;Ce<=E;Ce++)R.bl_count[Ce]=0;for(_t[2*R.heap[R.heap_max]+1]=0,ne=R.heap_max+1;ne<v;ne++)Hn<(Ce=_t[2*_t[2*(fe=R.heap[ne])+1]+1]+1)&&(Ce=Hn,no++),_t[2*fe+1]=Ce,St<fe||(R.bl_count[Ce]++,dt=0,Rr<=fe&&(dt=Vo[fe-Rr]),Lt=_t[2*fe],R.opt_len+=Lt*(Ce+dt),fa&&(R.static_len+=Lt*(kt[2*fe+1]+dt)));if(no!==0){do{for(Ce=Hn-1;R.bl_count[Ce]===0;)Ce--;R.bl_count[Ce]--,R.bl_count[Ce+1]+=2,R.bl_count[Hn]--,no-=2}while(0<no);for(Ce=Hn;Ce!==0;Ce--)for(fe=R.bl_count[Ce];fe!==0;)St<(xe=R.heap[--ne])||(_t[2*xe+1]!==Ce&&(R.opt_len+=(Ce-_t[2*xe+1])*_t[2*xe],_t[2*xe+1]=Ce),fe--)}}(re,pe),Te(Be,G,re.bl_count)}function B(re,pe,Re){var Le,me,Be=-1,Ve=pe[1],De=0,tt=7,G=4;for(Ve===0&&(tt=138,G=3),pe[2*(Re+1)+1]=65535,Le=0;Le<=Re;Le++)me=Ve,Ve=pe[2*(Le+1)+1],++De<tt&&me===Ve||(De<G?re.bl_tree[2*me]+=De:me!==0?(me!==Be&&re.bl_tree[2*me]++,re.bl_tree[2*z]++):De<=10?re.bl_tree[2*D]++:re.bl_tree[2*$]++,Be=me,G=(De=0)===Ve?(tt=138,3):me===Ve?(tt=6,3):(tt=7,4))}function Pe(re,pe,Re){var Le,me,Be=-1,Ve=pe[1],De=0,tt=7,G=4;for(Ve===0&&(tt=138,G=3),Le=0;Le<=Re;Le++)if(me=Ve,Ve=pe[2*(Le+1)+1],!(++De<tt&&me===Ve)){if(De<G)for(;ve(re,me,re.bl_tree),--De!=0;);else me!==0?(me!==Be&&(ve(re,me,re.bl_tree),De--),ve(re,z,re.bl_tree),_e(re,De-3,2)):De<=10?(ve(re,D,re.bl_tree),_e(re,De-3,3)):(ve(re,$,re.bl_tree),_e(re,De-11,7));Be=me,G=(De=0)===Ve?(tt=138,3):me===Ve?(tt=6,3):(tt=7,4)}}d(ee);var be=!1;function oe(re,pe,Re,Le){_e(re,(p<<1)+(Le?1:0),3),function(me,Be,Ve,De){je(me),ke(me,Ve),ke(me,~Ve),s.arraySet(me.pending_buf,me.window,Be,Ve,me.pending),me.pending+=Ve}(re,pe,Re)}i._tr_init=function(re){be||(function(){var pe,Re,Le,me,Be,Ve=new Array(E+1);for(me=Le=0;me<g-1;me++)for(K[me]=Le,pe=0;pe<1<<H[me];pe++)O[Le++]=me;for(O[Le-1]=me,me=Be=0;me<16;me++)for(ee[me]=Be,pe=0;pe<1<<V[me];pe++)X[Be++]=me;for(Be>>=7;me<w;me++)for(ee[me]=Be<<7,pe=0;pe<1<<V[me]-7;pe++)X[256+Be++]=me;for(Re=0;Re<=E;Re++)Ve[Re]=0;for(pe=0;pe<=143;)J[2*pe+1]=8,pe++,Ve[8]++;for(;pe<=255;)J[2*pe+1]=9,pe++,Ve[9]++;for(;pe<=279;)J[2*pe+1]=7,pe++,Ve[7]++;for(;pe<=287;)J[2*pe+1]=8,pe++,Ve[8]++;for(Te(J,b+1,Ve),pe=0;pe<w;pe++)U[2*pe+1]=5,U[2*pe]=Ie(pe,5);se=new le(J,H,m+1,b,E),ie=new le(U,V,0,w,E),te=new le(new Array(0),F,0,S,N)}(),be=!0),re.l_desc=new Z(re.dyn_ltree,se),re.d_desc=new Z(re.dyn_dtree,ie),re.bl_desc=new Z(re.bl_tree,te),re.bi_buf=0,re.bi_valid=0,Ne(re)},i._tr_stored_block=oe,i._tr_flush_block=function(re,pe,Re,Le){var me,Be,Ve=0;0<re.level?(re.strm.data_type===2&&(re.strm.data_type=function(De){var tt,G=4093624447;for(tt=0;tt<=31;tt++,G>>>=1)if(1&G&&De.dyn_ltree[2*tt]!==0)return l;if(De.dyn_ltree[18]!==0||De.dyn_ltree[20]!==0||De.dyn_ltree[26]!==0)return u;for(tt=32;tt<m;tt++)if(De.dyn_ltree[2*tt]!==0)return u;return l}(re)),at(re,re.l_desc),at(re,re.d_desc),Ve=function(De){var tt;for(B(De,De.dyn_ltree,De.l_desc.max_code),B(De,De.dyn_dtree,De.d_desc.max_code),at(De,De.bl_desc),tt=S-1;3<=tt&&De.bl_tree[2*W[tt]+1]===0;tt--);return De.opt_len+=3*(tt+1)+5+5+4,tt}(re),me=re.opt_len+3+7>>>3,(Be=re.static_len+3+7>>>3)<=me&&(me=Be)):me=Be=Re+5,Re+4<=me&&pe!==-1?oe(re,pe,Re,Le):re.strategy===4||Be===me?(_e(re,2+(Le?1:0),3),ot(re,J,U)):(_e(re,4+(Le?1:0),3),function(De,tt,G,R){var j;for(_e(De,tt-257,5),_e(De,G-1,5),_e(De,R-4,4),j=0;j<R;j++)_e(De,De.bl_tree[2*W[j]+1],3);Pe(De,De.dyn_ltree,tt-1),Pe(De,De.dyn_dtree,G-1)}(re,re.l_desc.max_code+1,re.d_desc.max_code+1,Ve+1),ot(re,re.dyn_ltree,re.dyn_dtree)),Ne(re),Le&&je(re)},i._tr_tally=function(re,pe,Re){return re.pending_buf[re.d_buf+2*re.last_lit]=pe>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&pe,re.pending_buf[re.l_buf+re.last_lit]=255&Re,re.last_lit++,pe===0?re.dyn_ltree[2*Re]++:(re.matches++,pe--,re.dyn_ltree[2*(O[Re]+m+1)]++,re.dyn_dtree[2*Q(pe)]++),re.last_lit===re.lit_bufsize-1},i._tr_align=function(re){_e(re,2,3),ve(re,A,J),function(pe){pe.bi_valid===16?(ke(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(re)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(l,u){if(!l.setImmediate){var d,p,g,m,b=1,w={},S=!1,v=l.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(l);E=E&&E.setTimeout?E:l,d={}.toString.call(l.process)==="[object process]"?function(z){process.nextTick(function(){N(z)})}:function(){if(l.postMessage&&!l.importScripts){var z=!0,D=l.onmessage;return l.onmessage=function(){z=!1},l.postMessage("","*"),l.onmessage=D,z}}()?(m="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",A,!1):l.attachEvent("onmessage",A),function(z){l.postMessage(m+z,"*")}):l.MessageChannel?((g=new MessageChannel).port1.onmessage=function(z){N(z.data)},function(z){g.port2.postMessage(z)}):v&&"onreadystatechange"in v.createElement("script")?(p=v.documentElement,function(z){var D=v.createElement("script");D.onreadystatechange=function(){N(z),D.onreadystatechange=null,p.removeChild(D),D=null},p.appendChild(D)}):function(z){setTimeout(N,0,z)},E.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var D=new Array(arguments.length-1),$=0;$<D.length;$++)D[$]=arguments[$+1];var H={callback:z,args:D};return w[b]=H,d(b),b++},E.clearImmediate=k}function k(z){delete w[z]}function N(z){if(S)setTimeout(N,0,z);else{var D=w[z];if(D){S=!0;try{(function($){var H=$.callback,V=$.args;switch(V.length){case 0:H();break;case 1:H(V[0]);break;case 2:H(V[0],V[1]);break;case 3:H(V[0],V[1],V[2]);break;default:H.apply(u,V)}})(D)}finally{k(z),S=!1}}}}function A(z){z.source===l&&typeof z.data=="string"&&z.data.indexOf(m)===0&&N(+z.data.slice(m.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(pv)),pv.exports}DV();const BV=30023,FV="dead-drop-lockers@v1",a2="Dead Drop Lockers Source Snapshot";function UV(){const e=C.useRef(null),[t,n]=C.useState(null),r=oN(),i=a_(),s=u=>{var p;const d=((p=u.target.files)==null?void 0:p[0])??null;n(d)},l=async()=>{if(t)try{const u=await r.mutateAsync(t);await i.mutateAsync({kind:BV,content:`${a2}: snapshot uploaded`,tags:[["d",FV],["title",a2],["t","code-snapshot"],...u]}),alert("Snapshot published to Nostr")}catch(u){alert("Upload or publish failed: "+u.message)}};return y.jsxs("div",{className:"p-4",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Publish Snapshot to Nostr"}),y.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a zip of your project locally and upload it here to publish a Nostr snapshot event."}),y.jsx("input",{type:"file",ref:e,onChange:s,accept:".zip"}),y.jsx("div",{className:"mt-4",children:y.jsx("button",{className:"btn",onClick:l,disabled:!t,children:"Upload & Publish"})})]})}function $V(){return su({title:"Dead Drop Network - Nostr-Native Smart Lockers",description:"A decentralized marketplace for autonomous physical lockers powered by Nostr and Lightning."}),y.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[y.jsxs("header",{className:"relative isolate overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(45%_40%_at_50%_60%,hsl(var(--primary)/0.12),transparent)]"}),y.jsxs("nav",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsx("span",{className:"text-xl font-bold tracking-tight",children:"DeadDrop"}),y.jsx(Cp,{className:"max-w-60"})]}),y.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[y.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:["The ",y.jsx("span",{className:"text-primary",children:"Nostr-Native"})," Dead Drop Network"]}),y.jsx("p",{className:"max-w-2xl mx-auto text-lg text-muted-foreground mb-10",children:"Rent autonomous smart lockers for anonymous P2P exchanges. Pay with Lightning. No middlemen."}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[y.jsx(At,{asChild:!0,size:"lg",className:"text-base",children:y.jsxs(hr,{to:"/marketplace",children:[y.jsx(pp,{className:"mr-2 h-5 w-5"}),"Explore Lockers"]})}),y.jsx(At,{asChild:!0,size:"lg",variant:"outline",className:"text-base",children:y.jsxs(hr,{to:"/dashboard",children:[y.jsx(n0,{className:"mr-2 h-5 w-5"}),"Owner Dashboard"]})})]})]})]}),y.jsxs("section",{className:"container mx-auto px-4 py-16",children:[y.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),y.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsxs(an,{className:"bg-card/60 backdrop-blur",children:[y.jsxs(Yr,{children:[y.jsx(pp,{className:"h-10 w-10 text-primary mb-2"}),y.jsx(wi,{children:"Find a Locker"})]}),y.jsx(xn,{children:y.jsx(Io,{children:"Browse the map to find available smart lockers near you. Filter by size, price, and trust score."})})]}),y.jsxs(an,{className:"bg-card/60 backdrop-blur",children:[y.jsxs(Yr,{children:[y.jsx(r0,{className:"h-10 w-10 text-primary mb-2"}),y.jsx(wi,{children:"Pay with Lightning"})]}),y.jsx(xn,{children:y.jsx(Io,{children:"Rent instantly using Nostr Wallet Connect (NIP-47) or WebLN. The locker unlocks once payment confirms."})})]}),y.jsxs(an,{className:"bg-card/60 backdrop-blur",children:[y.jsxs(Yr,{children:[y.jsx(JC,{className:"h-10 w-10 text-primary mb-2"}),y.jsx(wi,{children:"Negotiate Privately"})]}),y.jsx(xn,{children:y.jsx(Io,{children:"Chat with buyers or sellers via encrypted NIP-17 messages. Goods payment is direct P2P via zaps."})})]}),y.jsxs(an,{className:"bg-card/60 backdrop-blur",children:[y.jsxs(Yr,{children:[y.jsx(n0,{className:"h-10 w-10 text-primary mb-2"}),y.jsx(wi,{children:"Manage Your Box"})]}),y.jsx(xn,{children:y.jsx(Io,{children:"Owners configure fees, overdue penalties, proxy mode, and abandoned property rules from their dashboard."})})]})]})]}),y.jsx("section",{className:"container mx-auto px-4 py-16 text-center",children:y.jsxs(an,{className:"max-w-2xl mx-auto bg-primary/5 border-primary/20",children:[y.jsxs(Yr,{children:[y.jsx(wi,{className:"text-2xl",children:"Ready to Deploy a Locker?"}),y.jsx(Io,{children:"Flash our ESP32 template onto your hardware, configure via the dashboard, and start earning sats."})]}),y.jsx(xn,{children:y.jsx(At,{asChild:!0,size:"lg",children:y.jsx(hr,{to:"/dashboard",children:"Get Started"})})})]})}),y.jsx("footer",{className:"border-t py-8 text-center text-sm text-muted-foreground",children:y.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Vibed with Shakespeare"})})]})}var Pm="Switch",[ZV,LK]=$n(Pm),[HV,WV]=ZV(Pm),$A=C.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:l,disabled:u,value:d="on",onCheckedChange:p,form:g,...m}=e,[b,w]=C.useState(null),S=mt(t,A=>w(A)),v=C.useRef(!1),E=b?g||!!b.closest("form"):!0,[k,N]=bi({prop:i,defaultProp:s??!1,onChange:p,caller:Pm});return y.jsxs(HV,{scope:n,checked:k,disabled:u,children:[y.jsx(Ye.button,{type:"button",role:"switch","aria-checked":k,"aria-required":l,"data-state":VA(k),"data-disabled":u?"":void 0,disabled:u,value:d,...m,ref:S,onClick:Ue(e.onClick,A=>{N(z=>!z),E&&(v.current=A.isPropagationStopped(),v.current||A.stopPropagation())})}),E&&y.jsx(WA,{control:b,bubbles:!v.current,name:r,value:d,checked:k,required:l,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});$A.displayName=Pm;var ZA="SwitchThumb",HA=C.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=WV(ZA,n);return y.jsx(Ye.span,{"data-state":VA(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});HA.displayName=ZA;var VV="SwitchBubbleInput",WA=C.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const l=C.useRef(null),u=mt(l,s),d=__(n),p=Dw(t);return C.useEffect(()=>{const g=l.current;if(!g)return;const m=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&w){const S=new Event("click",{bubbles:r});w.call(g,n),g.dispatchEvent(S)}},[d,n,r]),y.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});WA.displayName=VV;function VA(e){return e?"checked":"unchecked"}var qA=$A,qV=HA;const KA=C.forwardRef(({className:e,...t},n)=>y.jsx(qA,{className:qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:y.jsx(qV,{className:qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));KA.displayName=qA.displayName;function KV(){const{nostr:e}=gr();return _i({queryKey:["my-lockers"],queryFn:async()=>(await e.query([{kinds:[30402],limit:100}])).map(n=>Sm(n)).filter(Boolean),staleTime:3e4})}function Ji({className:e,...t}){return y.jsx("div",{className:qe("animate-pulse rounded-md bg-muted",e),...t})}function GV(){su({title:"Owner Dashboard - Dead Drop Network"});const{user:e}=pl(),{mutateAsync:t,isPending:n}=a_(),{toast:r}=Kd(),{data:i,isLoading:s}=KV(),[l,u]=C.useState(""),[d,p]=C.useState(""),[g,m]=C.useState(""),[b,w]=C.useState(""),[S,v]=C.useState(""),[E,k]=C.useState("1000"),[N,A]=C.useState("10"),[z,D]=C.useState("7"),[$,H]=C.useState(!1),[V,F]=C.useState("500"),[W,J]=C.useState("30"),[U,X]=C.useState("30x30x45"),O=async K=>{if(K.preventDefault(),!!e)try{const se=wn.encode(parseFloat(b),parseFloat(S),7),ie=cW({title:l,description:d,location:g,geohash:se,baseFee:parseInt(E),overdueFee:parseInt(N),overdueDays:parseInt(z),proxyMode:$,proxyFee:parseInt(V),abandonDays:parseInt(W),dimensions:U});await t({kind:30402,content:d,tags:ie}),r({title:"Locker Published",description:"Your locker listing is now live."}),u(""),p("")}catch(se){r({title:"Error",description:se.message,variant:"destructive"})}};return e?y.jsx("div",{className:"min-h-screen bg-background",children:y.jsxs("div",{className:"container mx-auto p-4 space-y-8",children:[y.jsxs("header",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Owner Dashboard"}),y.jsx(Cp,{className:"max-w-60"})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-medium mb-4",children:"My Lockers"}),s?y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(K=>y.jsxs(an,{children:[y.jsxs(Yr,{children:[y.jsx(Ji,{className:"h-5 w-3/4"}),y.jsx(Ji,{className:"h-4 w-1/2"})]}),y.jsxs(xn,{children:[y.jsx(Ji,{className:"h-4 w-full mb-2"}),y.jsx(Ji,{className:"h-4 w-2/3"})]})]},K))}):i&&i.length>0?y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(K=>y.jsxs(an,{children:[y.jsxs(Yr,{children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx(wi,{className:"text-lg",children:K.title}),y.jsx(Ki,{variant:K.status==="available"?"default":"secondary",children:K.status})]}),y.jsx(Io,{children:K.location||K.geohash})]}),y.jsxs(xn,{children:[y.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:K.description}),y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsxs("span",{children:["Fee: ",K.price," sats"]}),K.proxyMode&&y.jsx(Ki,{variant:"outline",children:"Proxy"})]})]})]},K.id))}):y.jsx(an,{className:"border-dashed",children:y.jsx(xn,{className:"py-8 text-center text-muted-foreground",children:"You haven't created any lockers yet."})})]}),y.jsxs(an,{children:[y.jsxs(Yr,{children:[y.jsx(wi,{children:"Create New Locker"}),y.jsx(Io,{children:"Configure your smart locker and publish it to the network."})]}),y.jsx(xn,{children:y.jsxs("form",{onSubmit:O,className:"space-y-6",children:[y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Xn,{htmlFor:"title",children:"Title"}),y.jsx(Tn,{id:"title",value:l,onChange:K=>u(K.target.value),placeholder:"Downtown Dead Drop Box #1",required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Xn,{htmlFor:"dimensions",children:"Dimensions (cm)"}),y.jsx(Tn,{id:"dimensions",value:U,onChange:K=>X(K.target.value),placeholder:"WxHxD e.g. 30x30x45"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Xn,{htmlFor:"description",children:"Description"}),y.jsx(wm,{id:"description",value:d,onChange:K=>p(K.target.value),placeholder:"Describe your locker, its features, and any special instructions...",rows:3})]}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Xn,{htmlFor:"location",children:"Location Address"}),y.jsx(Tn,{id:"location",value:g,onChange:K=>m(K.target.value),placeholder:"123 Main St, City"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Xn,{htmlFor:"lat",children:"Latitude"}),y.jsx(Tn,{id:"lat",type:"number",step:"any",value:b,onChange:K=>w(K.target.value),placeholder:"51.505",required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Xn,{htmlFor:"lng",children:"Longitude"}),y.jsx(Tn,{id:"lng",type:"number",step:"any",value:S,onChange:K=>v(K.target.value),placeholder:"-0.09",required:!0})]})]}),y.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[y.jsx("h3",{className:"font-medium",children:"Fee Structure"}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Xn,{htmlFor:"baseFee",children:"Base Fee (sats)"}),y.jsx(Tn,{id:"baseFee",type:"number",value:E,onChange:K=>k(K.target.value)})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Xn,{htmlFor:"overdueFee",children:"Overdue Fee (%)"}),y.jsx(Tn,{id:"overdueFee",type:"number",value:N,onChange:K=>A(K.target.value)})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Xn,{htmlFor:"overdueDays",children:"Overdue After (days)"}),y.jsx(Tn,{id:"overdueDays",type:"number",value:z,onChange:K=>D(K.target.value)})]})]})]}),y.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium",children:"Proxy Mode"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"You manually receive and stock items for an extra fee."})]}),y.jsx(KA,{checked:$,onCheckedChange:H})]}),$&&y.jsxs("div",{className:"space-y-2",children:[y.jsx(Xn,{htmlFor:"proxyFee",children:"Proxy Fee (sats)"}),y.jsx(Tn,{id:"proxyFee",type:"number",value:V,onChange:K=>F(K.target.value)})]})]}),y.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[y.jsx("h3",{className:"font-medium",children:"Abandoned Property"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"After this period, unclaimed items become owner property or are auctioned."}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Xn,{htmlFor:"abandonDays",children:"Days Until Abandoned"}),y.jsx(Tn,{id:"abandonDays",type:"number",value:W,onChange:K=>J(K.target.value)})]})]}),y.jsx(At,{type:"submit",disabled:n,className:"w-full",children:n?"Publishing...":"Publish Locker"})]})})]}),y.jsx("footer",{className:"text-center text-sm text-muted-foreground pt-8",children:y.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",children:"Vibed with Shakespeare"})})]})}):y.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:y.jsxs(an,{className:"w-full max-w-md",children:[y.jsxs(Yr,{children:[y.jsx(wi,{children:"Owner Dashboard"}),y.jsx(Io,{children:"Please log in to manage your lockers."})]}),y.jsx(xn,{children:y.jsx(Cp,{className:"w-full"})})]})})}const YV=C.createContext(null);function af(){const e=C.useContext(YV);if(!e)throw new Error("useDMContext must be used within DMProvider");return e}function GA(e){const t=new Date(e*1e3),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),i=new Date(r);i.setDate(i.getDate()-1);const s=new Date(r);return s.setDate(s.getDate()-s.getDay()),t>=r?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):t>=i?"Yesterday":t>=s?t.toLocaleDateString(void 0,{weekday:"short"}):t.getFullYear()===n.getFullYear()?t.toLocaleDateString(void 0,{month:"short",day:"numeric"}):t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function YA(e){return new Date(e*1e3).toLocaleString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}function JV(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var C_="ScrollArea",[JA,OK]=$n(C_),[QV,ti]=JA(C_),QA=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...l}=e,[u,d]=C.useState(null),[p,g]=C.useState(null),[m,b]=C.useState(null),[w,S]=C.useState(null),[v,E]=C.useState(null),[k,N]=C.useState(0),[A,z]=C.useState(0),[D,$]=C.useState(!1),[H,V]=C.useState(!1),F=mt(t,J=>d(J)),W=ou(i);return y.jsx(QV,{scope:n,type:r,dir:W,scrollHideDelay:s,scrollArea:u,viewport:p,onViewportChange:g,content:m,onContentChange:b,scrollbarX:w,onScrollbarXChange:S,scrollbarXEnabled:D,onScrollbarXEnabledChange:$,scrollbarY:v,onScrollbarYChange:E,scrollbarYEnabled:H,onScrollbarYEnabledChange:V,onCornerWidthChange:N,onCornerHeightChange:z,children:y.jsx(Ye.div,{dir:W,...l,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});QA.displayName=C_;var XA="ScrollAreaViewport",eR=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=e,l=ti(XA,n),u=C.useRef(null),d=mt(t,u,l.onViewportChange);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...s,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:y.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});eR.displayName=XA;var to="ScrollAreaScrollbar",P_=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ti(to,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:l}=i,u=e.orientation==="horizontal";return C.useEffect(()=>(u?s(!0):l(!0),()=>{u?s(!1):l(!1)}),[u,s,l]),i.type==="hover"?y.jsx(XV,{...r,ref:t,forceMount:n}):i.type==="scroll"?y.jsx(eq,{...r,ref:t,forceMount:n}):i.type==="auto"?y.jsx(tR,{...r,ref:t,forceMount:n}):i.type==="always"?y.jsx(T_,{...r,ref:t}):null});P_.displayName=to;var XV=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ti(to,e.__scopeScrollArea),[s,l]=C.useState(!1);return C.useEffect(()=>{const u=i.scrollArea;let d=0;if(u){const p=()=>{window.clearTimeout(d),l(!0)},g=()=>{d=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",g)}}},[i.scrollArea,i.scrollHideDelay]),y.jsx(Zn,{present:n||s,children:y.jsx(tR,{"data-state":s?"visible":"hidden",...r,ref:t})})}),eq=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ti(to,e.__scopeScrollArea),s=e.orientation==="horizontal",l=Nm(()=>d("SCROLL_END"),100),[u,d]=JV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,i.scrollHideDelay,d]),C.useEffect(()=>{const p=i.viewport,g=s?"scrollLeft":"scrollTop";if(p){let m=p[g];const b=()=>{const w=p[g];m!==w&&(d("SCROLL"),l()),m=w};return p.addEventListener("scroll",b),()=>p.removeEventListener("scroll",b)}},[i.viewport,s,d,l]),y.jsx(Zn,{present:n||u!=="hidden",children:y.jsx(T_,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ue(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ue(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),tR=C.forwardRef((e,t)=>{const n=ti(to,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,l]=C.useState(!1),u=e.orientation==="horizontal",d=Nm(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?p:g)}},10);return qc(n.viewport,d),qc(n.content,d),y.jsx(Zn,{present:r||s,children:y.jsx(T_,{"data-state":s?"visible":"hidden",...i,ref:t})})}),T_=C.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ti(to,e.__scopeScrollArea),s=C.useRef(null),l=C.useRef(0),[u,d]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=sR(u.viewport,u.content),g={...r,sizes:u,onSizesChange:d,hasThumb:p>0&&p<1,onThumbChange:b=>s.current=b,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:b=>l.current=b};function m(b,w){return sq(b,l.current,u,w)}return n==="horizontal"?y.jsx(tq,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const b=i.viewport.scrollLeft,w=l2(b,u,i.dir);s.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:b=>{i.viewport&&(i.viewport.scrollLeft=b)},onDragScroll:b=>{i.viewport&&(i.viewport.scrollLeft=m(b,i.dir))}}):n==="vertical"?y.jsx(nq,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const b=i.viewport.scrollTop,w=l2(b,u);s.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:b=>{i.viewport&&(i.viewport.scrollTop=b)},onDragScroll:b=>{i.viewport&&(i.viewport.scrollTop=m(b))}}):null}),tq=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ti(to,e.__scopeScrollArea),[l,u]=C.useState(),d=C.useRef(null),p=mt(t,d,s.onScrollbarXChange);return C.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),y.jsx(rR,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tm(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(s.viewport){const b=s.viewport.scrollLeft+g.deltaX;e.onWheelScroll(b),lR(b,m)&&g.preventDefault()}},onResize:()=>{d.current&&s.viewport&&l&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Np(l.paddingLeft),paddingEnd:Np(l.paddingRight)}})}})}),nq=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ti(to,e.__scopeScrollArea),[l,u]=C.useState(),d=C.useRef(null),p=mt(t,d,s.onScrollbarYChange);return C.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),y.jsx(rR,{"data-orientation":"vertical",...i,ref:p,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tm(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(s.viewport){const b=s.viewport.scrollTop+g.deltaY;e.onWheelScroll(b),lR(b,m)&&g.preventDefault()}},onResize:()=>{d.current&&s.viewport&&l&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Np(l.paddingTop),paddingEnd:Np(l.paddingBottom)}})}})}),[rq,nR]=JA(to),rR=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:p,onWheelScroll:g,onResize:m,...b}=e,w=ti(to,n),[S,v]=C.useState(null),E=mt(t,F=>v(F)),k=C.useRef(null),N=C.useRef(""),A=w.viewport,z=r.content-r.viewport,D=sn(g),$=sn(d),H=Nm(m,10);function V(F){if(k.current){const W=F.clientX-k.current.left,J=F.clientY-k.current.top;p({x:W,y:J})}}return C.useEffect(()=>{const F=W=>{const J=W.target;(S==null?void 0:S.contains(J))&&D(W,z)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[A,S,z,D]),C.useEffect($,[r,$]),qc(S,H),qc(w.content,H),y.jsx(rq,{scope:n,scrollbar:S,hasThumb:i,onThumbChange:sn(s),onThumbPointerUp:sn(l),onThumbPositionChange:$,onThumbPointerDown:sn(u),children:y.jsx(Ye.div,{...b,ref:E,style:{position:"absolute",...b.style},onPointerDown:Ue(e.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),k.current=S.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),V(F))}),onPointerMove:Ue(e.onPointerMove,V),onPointerUp:Ue(e.onPointerUp,F=>{const W=F.target;W.hasPointerCapture(F.pointerId)&&W.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=N.current,w.viewport&&(w.viewport.style.scrollBehavior=""),k.current=null})})})}),Tp="ScrollAreaThumb",iR=C.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=nR(Tp,e.__scopeScrollArea);return y.jsx(Zn,{present:n||i.hasThumb,children:y.jsx(iq,{ref:t,...r})})}),iq=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=ti(Tp,n),l=nR(Tp,n),{onThumbPositionChange:u}=l,d=mt(t,m=>l.onThumbChange(m)),p=C.useRef(void 0),g=Nm(()=>{p.current&&(p.current(),p.current=void 0)},100);return C.useEffect(()=>{const m=s.viewport;if(m){const b=()=>{if(g(),!p.current){const w=aq(m,u);p.current=w,u()}};return u(),m.addEventListener("scroll",b),()=>m.removeEventListener("scroll",b)}},[s.viewport,g,u]),y.jsx(Ye.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ue(e.onPointerDownCapture,m=>{const w=m.target.getBoundingClientRect(),S=m.clientX-w.left,v=m.clientY-w.top;l.onThumbPointerDown({x:S,y:v})}),onPointerUp:Ue(e.onPointerUp,l.onThumbPointerUp)})});iR.displayName=Tp;var N_="ScrollAreaCorner",oR=C.forwardRef((e,t)=>{const n=ti(N_,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?y.jsx(oq,{...e,ref:t}):null});oR.displayName=N_;var oq=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ti(N_,n),[s,l]=C.useState(0),[u,d]=C.useState(0),p=!!(s&&u);return qc(i.scrollbarX,()=>{var m;const g=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(g),d(g)}),qc(i.scrollbarY,()=>{var m;const g=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(g),l(g)}),p?y.jsx(Ye.div,{...r,ref:t,style:{width:s,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Np(e){return e?parseInt(e,10):0}function sR(e,t){const n=e/t;return isNaN(n)?0:n}function Tm(e){const t=sR(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function sq(e,t,n,r="ltr"){const i=Tm(n),s=i/2,l=t||s,u=i-l,d=n.scrollbar.paddingStart+l,p=n.scrollbar.size-n.scrollbar.paddingEnd-u,g=n.content-n.viewport,m=r==="ltr"?[0,g]:[g*-1,0];return aR([d,p],m)(e)}function l2(e,t,n="ltr"){const r=Tm(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,l=t.content-t.viewport,u=s-r,d=n==="ltr"?[0,l]:[l*-1,0],p=Dd(e,d);return aR([0,l],[0,u])(p)}function aR(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function lR(e,t){return e>0&&e<t}var aq=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},l=n.left!==s.left,u=n.top!==s.top;(l||u)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Nm(e,t){const n=sn(e),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function qc(e,t){const n=sn(t);cn(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var cR=QA,lq=eR,cq=oR;const A_=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(cR,{ref:r,className:qe("relative overflow-hidden",e),...n,children:[y.jsx(lq,{className:"h-full w-full rounded-[inherit] [&>div]:!block [&>div]:!w-full",children:t}),y.jsx(uR,{}),y.jsx(cq,{})]}));A_.displayName=cR.displayName;const uR=C.forwardRef(({className:e,orientation:t="vertical",...n},r)=>y.jsx(P_,{ref:r,orientation:t,className:qe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:y.jsx(iR,{className:"relative flex-1 rounded-full bg-border"})}));uR.displayName=P_.displayName;const pc={NIP04:"nip04",NIP17:"nip17"},Wh={NIP04_ONLY:"nip04_only",NIP17_ONLY:"nip17_only",NIP04_OR_NIP17:"nip04_or_nip17"},fr={IDLE:"idle",CACHE:"cache",RELAYS:"relays",SUBSCRIPTIONS:"subscriptions",READY:"ready"},uq=({pubkey:e,isSelected:t,onClick:n,lastMessage:r,lastActivity:i,hasNIP4Messages:s})=>{var w;const l=Qp(e),u=(w=l.data)==null?void 0:w.metadata,d=(u==null?void 0:u.name)||Em(e),p=u==null?void 0:u.picture,g=d.slice(0,2).toUpperCase(),m=r!=null&&r.error?" Encrypted message":(r==null?void 0:r.decryptedContent)||"No messages yet",b=l.isLoading&&!u;return y.jsx("button",{onClick:n,className:qe("w-full text-left p-3 rounded-lg transition-colors hover:bg-accent block overflow-hidden",t&&"bg-accent"),children:y.jsxs("div",{className:"flex items-start gap-3 max-w-full",children:[b?y.jsx(Ji,{className:"h-10 w-10 rounded-full flex-shrink-0"}):y.jsxs(jd,{className:"h-10 w-10 flex-shrink-0",children:[y.jsx(Md,{src:p,alt:d}),y.jsx(zd,{children:g})]}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[y.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[b?y.jsx(Ji,{className:"h-[1.25rem] w-24"}):y.jsx("span",{className:"font-medium text-sm truncate",children:d}),s&&y.jsx(rl,{children:y.jsxs(Ha,{children:[y.jsx(Wa,{asChild:!0,children:y.jsx("div",{className:"flex-shrink-0",children:y.jsx(Nw,{className:"h-3.5 w-3.5 text-yellow-600 dark:text-yellow-500"})})}),y.jsx(Gs,{side:"left",children:y.jsx("p",{className:"text-xs max-w-[200px]",children:"Some messages use outdated NIP-04 encryption"})})]})})]}),y.jsx(rl,{children:y.jsxs(Ha,{children:[y.jsx(Wa,{asChild:!0,children:y.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap flex-shrink-0 cursor-default",children:GA(i)})}),y.jsx(Gs,{side:"left",children:y.jsx("p",{className:"text-xs",children:YA(i)})})]})})]}),y.jsx("p",{className:"text-sm text-muted-foreground truncate",children:m})]})]})})},dR=C.memo(uq);dR.displayName="ConversationItem";const dq=()=>y.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4,5].map(e=>y.jsxs("div",{className:"flex items-start gap-3 p-3",children:[y.jsx(Ji,{className:"h-10 w-10 rounded-full flex-shrink-0"}),y.jsxs("div",{className:"flex-1 space-y-2",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx(Ji,{className:"h-4 w-24"}),y.jsx(Ji,{className:"h-3 w-12"})]}),y.jsx(Ji,{className:"h-3 w-full"})]})]},e))}),fq=({selectedPubkey:e,onSelectConversation:t,className:n,onStatusClick:r})=>{const{conversations:i,isLoading:s,loadingPhase:l}=af(),[u,d]=C.useState("known"),{knownConversations:p,requestConversations:g}=C.useMemo(()=>({knownConversations:i.filter(w=>w.isKnown),requestConversations:i.filter(w=>w.isRequest)}),[i]),m=u==="known"?p:g,b=(l===fr.CACHE||l===fr.RELAYS)&&i.length===0;return y.jsxs(an,{className:qe("h-full flex flex-col overflow-hidden",n),children:[y.jsxs("div",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h2",{className:"font-semibold text-lg",children:"Messages"}),(l===fr.CACHE||l===fr.RELAYS||l===fr.SUBSCRIPTIONS)&&y.jsx(rl,{children:y.jsxs(Ha,{children:[y.jsx(Wa,{asChild:!0,children:y.jsx("div",{className:"flex items-center",children:y.jsx(Nr,{className:"h-4 w-4 animate-spin text-muted-foreground"})})}),y.jsx(Gs,{children:y.jsxs("p",{className:"text-xs",children:[l===fr.CACHE&&"Loading from cache...",l===fr.RELAYS&&"Querying relays for new messages...",l===fr.SUBSCRIPTIONS&&"Setting up subscriptions..."]})})]})})]}),r&&y.jsx(At,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:r,"aria-label":"View messaging status",children:y.jsx(KB,{className:"h-4 w-4"})})]}),y.jsx("div",{className:"px-2 pt-2 flex-shrink-0",children:y.jsxs("div",{className:"grid grid-cols-2 gap-1 bg-muted p-1 rounded-lg",children:[y.jsxs("button",{onClick:()=>d("known"),className:qe("text-xs py-2 px-3 rounded-md transition-colors",u==="known"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Active ",p.length>0&&`(${p.length})`]}),y.jsxs("button",{onClick:()=>d("requests"),className:qe("text-xs py-2 px-3 rounded-md transition-colors",u==="requests"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Requests ",g.length>0&&`(${g.length})`]})]})}),y.jsx("div",{className:"flex-1 min-h-0 mt-2 overflow-hidden",children:s||b?y.jsx(dq,{}):i.length===0?y.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground px-4",children:y.jsxs("div",{children:[y.jsx("p",{className:"text-sm",children:"No conversations yet"}),y.jsx("p",{className:"text-xs mt-1",children:"Start a new conversation to get started"})]})}):m.length===0?y.jsx("div",{className:"flex items-center justify-center h-32 text-center text-muted-foreground px-4",children:y.jsxs("p",{className:"text-sm",children:["No ",u," conversations"]})}):y.jsx(A_,{className:"h-full block",children:y.jsx("div",{className:"block w-full px-2 py-2 space-y-1",children:m.map(w=>y.jsx(dR,{pubkey:w.pubkey,isSelected:e===w.pubkey,onClick:()=>t(w.pubkey),lastMessage:w.lastMessage,lastActivity:w.lastActivity,hasNIP4Messages:w.hasNIP4Messages},w.pubkey))})})})]})},mv=25;function hq(e){const{messages:t}=af(),[n,r]=C.useState(mv),i=C.useMemo(()=>{const l=t.get(e);if(!l)return{messages:[],hasMoreMessages:!1,totalCount:0,lastMessage:null,lastActivity:0};const u=l.messages.length,d=u>n;return{messages:l.messages.slice(-n),hasMoreMessages:d,totalCount:u,lastMessage:l.lastMessage,lastActivity:l.lastActivity}},[t,e,n]),s=C.useCallback(()=>{r(l=>l+mv)},[]);return C.useEffect(()=>{r(mv)},[e]),{...i,loadEarlierMessages:s}}var pq=[" ","Enter","ArrowUp","ArrowDown"],mq=[" ","Enter"],dl="Select",[Am,Rm,gq]=Gd(dl),[lu,jK]=$n(dl,[gq,ru]),Im=ru(),[yq,ua]=lu(dl),[vq,wq]=lu(dl),fR=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:l,defaultValue:u,onValueChange:d,dir:p,name:g,autoComplete:m,disabled:b,required:w,form:S}=e,v=Im(t),[E,k]=C.useState(null),[N,A]=C.useState(null),[z,D]=C.useState(!1),$=ou(p),[H,V]=bi({prop:r,defaultProp:i??!1,onChange:s,caller:dl}),[F,W]=bi({prop:l,defaultProp:u,onChange:d,caller:dl}),J=C.useRef(null),U=E?S||!!E.closest("form"):!0,[X,O]=C.useState(new Set),K=Array.from(X).map(se=>se.props.value).join(";");return y.jsx(Uw,{...v,children:y.jsxs(yq,{required:w,scope:t,trigger:E,onTriggerChange:k,valueNode:N,onValueNodeChange:A,valueNodeHasChildren:z,onValueNodeHasChildrenChange:D,contentId:Jr(),value:F,onValueChange:W,open:H,onOpenChange:V,dir:$,triggerPointerDownPosRef:J,disabled:b,children:[y.jsx(Am.Provider,{scope:t,children:y.jsx(vq,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(se=>{O(ie=>new Set(ie).add(se))},[]),onNativeOptionRemove:C.useCallback(se=>{O(ie=>{const te=new Set(ie);return te.delete(se),te})},[]),children:n})}),U?y.jsxs(MR,{"aria-hidden":!0,required:w,tabIndex:-1,name:g,autoComplete:m,value:F,onChange:se=>W(se.target.value),disabled:b,form:S,children:[F===void 0?y.jsx("option",{value:""}):null,Array.from(X)]},K):null]})})};fR.displayName=dl;var hR="SelectTrigger",pR=C.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=Im(n),l=ua(hR,n),u=l.disabled||r,d=mt(t,l.onTriggerChange),p=Rm(n),g=C.useRef("touch"),[m,b,w]=DR(v=>{const E=p().filter(A=>!A.disabled),k=E.find(A=>A.value===l.value),N=BR(E,v,k);N!==void 0&&l.onValueChange(N.value)}),S=v=>{u||(l.onOpenChange(!0),w()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return y.jsx($w,{asChild:!0,...s,children:y.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":zR(l.value)?"":void 0,...i,ref:d,onClick:Ue(i.onClick,v=>{v.currentTarget.focus(),g.current!=="mouse"&&S(v)}),onPointerDown:Ue(i.onPointerDown,v=>{g.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:Ue(i.onKeyDown,v=>{const E=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&b(v.key),!(E&&v.key===" ")&&pq.includes(v.key)&&(S(),v.preventDefault())})})})});pR.displayName=hR;var mR="SelectValue",gR=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:l="",...u}=e,d=ua(mR,n),{onValueNodeHasChildrenChange:p}=d,g=s!==void 0,m=mt(t,d.onValueNodeChange);return cn(()=>{p(g)},[p,g]),y.jsx(Ye.span,{...u,ref:m,style:{pointerEvents:"none"},children:zR(d.value)?y.jsx(y.Fragment,{children:l}):s})});gR.displayName=mR;var _q="SelectIcon",yR=C.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return y.jsx(Ye.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});yR.displayName=_q;var xq="SelectPortal",vR=e=>y.jsx(Yd,{asChild:!0,...e});vR.displayName=xq;var fl="SelectContent",wR=C.forwardRef((e,t)=>{const n=ua(fl,e.__scopeSelect),[r,i]=C.useState();if(cn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ml.createPortal(y.jsx(_R,{scope:e.__scopeSelect,children:y.jsx(Am.Slot,{scope:e.__scopeSelect,children:y.jsx("div",{children:e.children})})}),s):null}return y.jsx(xR,{...e,ref:t})});wR.displayName=fl;var pi=10,[_R,da]=lu(fl),bq="SelectContentImpl",Eq=ll("SelectContent.RemoveScroll"),xR=C.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:u,sideOffset:d,align:p,alignOffset:g,arrowPadding:m,collisionBoundary:b,collisionPadding:w,sticky:S,hideWhenDetached:v,avoidCollisions:E,...k}=e,N=ua(fl,n),[A,z]=C.useState(null),[D,$]=C.useState(null),H=mt(t,Te=>z(Te)),[V,F]=C.useState(null),[W,J]=C.useState(null),U=Rm(n),[X,O]=C.useState(!1),K=C.useRef(!1);C.useEffect(()=>{if(A)return Jw(A)},[A]),Yw();const se=C.useCallback(Te=>{const[Ne,...je]=U().map(ot=>ot.ref.current),[Ze]=je.slice(-1),Qe=document.activeElement;for(const ot of Te)if(ot===Qe||(ot==null||ot.scrollIntoView({block:"nearest"}),ot===Ne&&D&&(D.scrollTop=0),ot===Ze&&D&&(D.scrollTop=D.scrollHeight),ot==null||ot.focus(),document.activeElement!==Qe))return},[U,D]),ie=C.useCallback(()=>se([V,A]),[se,V,A]);C.useEffect(()=>{X&&ie()},[X,ie]);const{onOpenChange:te,triggerPointerDownPosRef:ee}=N;C.useEffect(()=>{if(A){let Te={x:0,y:0};const Ne=Ze=>{var Qe,ot;Te={x:Math.abs(Math.round(Ze.pageX)-(((Qe=ee.current)==null?void 0:Qe.x)??0)),y:Math.abs(Math.round(Ze.pageY)-(((ot=ee.current)==null?void 0:ot.y)??0))}},je=Ze=>{Te.x<=10&&Te.y<=10?Ze.preventDefault():A.contains(Ze.target)||te(!1),document.removeEventListener("pointermove",Ne),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",je,{capture:!0})}}},[A,te,ee]),C.useEffect(()=>{const Te=()=>te(!1);return window.addEventListener("blur",Te),window.addEventListener("resize",Te),()=>{window.removeEventListener("blur",Te),window.removeEventListener("resize",Te)}},[te]);const[le,Z]=DR(Te=>{const Ne=U().filter(Qe=>!Qe.disabled),je=Ne.find(Qe=>Qe.ref.current===document.activeElement),Ze=BR(Ne,Te,je);Ze&&setTimeout(()=>Ze.ref.current.focus())}),Q=C.useCallback((Te,Ne,je)=>{const Ze=!K.current&&!je;(N.value!==void 0&&N.value===Ne||Ze)&&(F(Te),Ze&&(K.current=!0))},[N.value]),ke=C.useCallback(()=>A==null?void 0:A.focus(),[A]),_e=C.useCallback((Te,Ne,je)=>{const Ze=!K.current&&!je;(N.value!==void 0&&N.value===Ne||Ze)&&J(Te)},[N.value]),ve=r==="popper"?k0:bR,Ie=ve===k0?{side:u,sideOffset:d,align:p,alignOffset:g,arrowPadding:m,collisionBoundary:b,collisionPadding:w,sticky:S,hideWhenDetached:v,avoidCollisions:E}:{};return y.jsx(_R,{scope:n,content:A,viewport:D,onViewportChange:$,itemRefCallback:Q,selectedItem:V,onItemLeave:ke,itemTextRefCallback:_e,focusSelectedItem:ie,selectedItemText:W,position:r,isPositioned:X,searchRef:le,children:y.jsx(fm,{as:Eq,allowPinchZoom:!0,children:y.jsx(um,{asChild:!0,trapped:N.open,onMountAutoFocus:Te=>{Te.preventDefault()},onUnmountAutoFocus:Ue(i,Te=>{var Ne;(Ne=N.trigger)==null||Ne.focus({preventScroll:!0}),Te.preventDefault()}),children:y.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:Te=>Te.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:y.jsx(ve,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:Te=>Te.preventDefault(),...k,...Ie,onPlaced:()=>O(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ue(k.onKeyDown,Te=>{const Ne=Te.ctrlKey||Te.altKey||Te.metaKey;if(Te.key==="Tab"&&Te.preventDefault(),!Ne&&Te.key.length===1&&Z(Te.key),["ArrowUp","ArrowDown","Home","End"].includes(Te.key)){let Ze=U().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(Te.key)&&(Ze=Ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(Te.key)){const Qe=Te.target,ot=Ze.indexOf(Qe);Ze=Ze.slice(ot+1)}setTimeout(()=>se(Ze)),Te.preventDefault()}})})})})})})});xR.displayName=bq;var Sq="SelectItemAlignedPosition",bR=C.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=ua(fl,n),l=da(fl,n),[u,d]=C.useState(null),[p,g]=C.useState(null),m=mt(t,H=>g(H)),b=Rm(n),w=C.useRef(!1),S=C.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:k,focusSelectedItem:N}=l,A=C.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&p&&v&&E&&k){const H=s.trigger.getBoundingClientRect(),V=p.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),W=k.getBoundingClientRect();if(s.dir!=="rtl"){const Qe=W.left-V.left,ot=F.left-Qe,at=H.left-ot,B=H.width+at,Pe=Math.max(B,V.width),be=window.innerWidth-pi,oe=Dd(ot,[pi,Math.max(pi,be-Pe)]);u.style.minWidth=B+"px",u.style.left=oe+"px"}else{const Qe=V.right-W.right,ot=window.innerWidth-F.right-Qe,at=window.innerWidth-H.right-ot,B=H.width+at,Pe=Math.max(B,V.width),be=window.innerWidth-pi,oe=Dd(ot,[pi,Math.max(pi,be-Pe)]);u.style.minWidth=B+"px",u.style.right=oe+"px"}const J=b(),U=window.innerHeight-pi*2,X=v.scrollHeight,O=window.getComputedStyle(p),K=parseInt(O.borderTopWidth,10),se=parseInt(O.paddingTop,10),ie=parseInt(O.borderBottomWidth,10),te=parseInt(O.paddingBottom,10),ee=K+se+X+te+ie,le=Math.min(E.offsetHeight*5,ee),Z=window.getComputedStyle(v),Q=parseInt(Z.paddingTop,10),ke=parseInt(Z.paddingBottom,10),_e=H.top+H.height/2-pi,ve=U-_e,Ie=E.offsetHeight/2,Te=E.offsetTop+Ie,Ne=K+se+Te,je=ee-Ne;if(Ne<=_e){const Qe=J.length>0&&E===J[J.length-1].ref.current;u.style.bottom="0px";const ot=p.clientHeight-v.offsetTop-v.offsetHeight,at=Math.max(ve,Ie+(Qe?ke:0)+ot+ie),B=Ne+at;u.style.height=B+"px"}else{const Qe=J.length>0&&E===J[0].ref.current;u.style.top="0px";const at=Math.max(_e,K+v.offsetTop+(Qe?Q:0)+Ie)+je;u.style.height=at+"px",v.scrollTop=Ne-_e+v.offsetTop}u.style.margin=`${pi}px 0`,u.style.minHeight=le+"px",u.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[b,s.trigger,s.valueNode,u,p,v,E,k,s.dir,r]);cn(()=>A(),[A]);const[z,D]=C.useState();cn(()=>{p&&D(window.getComputedStyle(p).zIndex)},[p]);const $=C.useCallback(H=>{H&&S.current===!0&&(A(),N==null||N(),S.current=!1)},[A,N]);return y.jsx(Cq,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:w,onScrollButtonChange:$,children:y.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:y.jsx(Ye.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});bR.displayName=Sq;var kq="SelectPopperPosition",k0=C.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=pi,...s}=e,l=Im(n);return y.jsx(Zw,{...l,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});k0.displayName=kq;var[Cq,R_]=lu(fl,{}),C0="SelectViewport",ER=C.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=da(C0,n),l=R_(C0,n),u=mt(t,s.onViewportChange),d=C.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(Am.Slot,{scope:n,children:y.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ue(i.onScroll,p=>{const g=p.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:b}=l;if(b!=null&&b.current&&m){const w=Math.abs(d.current-g.scrollTop);if(w>0){const S=window.innerHeight-pi*2,v=parseFloat(m.style.minHeight),E=parseFloat(m.style.height),k=Math.max(v,E);if(k<S){const N=k+w,A=Math.min(S,N),z=N-A;m.style.height=A+"px",m.style.bottom==="0px"&&(g.scrollTop=z>0?z:0,m.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});ER.displayName=C0;var SR="SelectGroup",[Pq,Tq]=lu(SR),Nq=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Jr();return y.jsx(Pq,{scope:n,id:i,children:y.jsx(Ye.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Nq.displayName=SR;var kR="SelectLabel",CR=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Tq(kR,n);return y.jsx(Ye.div,{id:i.id,...r,ref:t})});CR.displayName=kR;var Ap="SelectItem",[Aq,PR]=lu(Ap),TR=C.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...l}=e,u=ua(Ap,n),d=da(Ap,n),p=u.value===r,[g,m]=C.useState(s??""),[b,w]=C.useState(!1),S=mt(t,N=>{var A;return(A=d.itemRefCallback)==null?void 0:A.call(d,N,r,i)}),v=Jr(),E=C.useRef("touch"),k=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(Aq,{scope:n,value:r,disabled:i,textId:v,isSelected:p,onItemTextChange:C.useCallback(N=>{m(A=>A||((N==null?void 0:N.textContent)??"").trim())},[]),children:y.jsx(Am.ItemSlot,{scope:n,value:r,disabled:i,textValue:g,children:y.jsx(Ye.div,{role:"option","aria-labelledby":v,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:S,onFocus:Ue(l.onFocus,()=>w(!0)),onBlur:Ue(l.onBlur,()=>w(!1)),onClick:Ue(l.onClick,()=>{E.current!=="mouse"&&k()}),onPointerUp:Ue(l.onPointerUp,()=>{E.current==="mouse"&&k()}),onPointerDown:Ue(l.onPointerDown,N=>{E.current=N.pointerType}),onPointerMove:Ue(l.onPointerMove,N=>{var A;E.current=N.pointerType,i?(A=d.onItemLeave)==null||A.call(d):E.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(l.onPointerLeave,N=>{var A;N.currentTarget===document.activeElement&&((A=d.onItemLeave)==null||A.call(d))}),onKeyDown:Ue(l.onKeyDown,N=>{var z;((z=d.searchRef)==null?void 0:z.current)!==""&&N.key===" "||(mq.includes(N.key)&&k(),N.key===" "&&N.preventDefault())})})})})});TR.displayName=Ap;var md="SelectItemText",NR=C.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,l=ua(md,n),u=da(md,n),d=PR(md,n),p=wq(md,n),[g,m]=C.useState(null),b=mt(t,k=>m(k),d.onItemTextChange,k=>{var N;return(N=u.itemTextRefCallback)==null?void 0:N.call(u,k,d.value,d.disabled)}),w=g==null?void 0:g.textContent,S=C.useMemo(()=>y.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=p;return cn(()=>(v(S),()=>E(S)),[v,E,S]),y.jsxs(y.Fragment,{children:[y.jsx(Ye.span,{id:d.textId,...s,ref:b}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?ml.createPortal(s.children,l.valueNode):null]})});NR.displayName=md;var AR="SelectItemIndicator",RR=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return PR(AR,n).isSelected?y.jsx(Ye.span,{"aria-hidden":!0,...r,ref:t}):null});RR.displayName=AR;var P0="SelectScrollUpButton",IR=C.forwardRef((e,t)=>{const n=da(P0,e.__scopeSelect),r=R_(P0,e.__scopeSelect),[i,s]=C.useState(!1),l=mt(t,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=d.scrollTop>0;s(p)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?y.jsx(OR,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});IR.displayName=P0;var T0="SelectScrollDownButton",LR=C.forwardRef((e,t)=>{const n=da(T0,e.__scopeSelect),r=R_(T0,e.__scopeSelect),[i,s]=C.useState(!1),l=mt(t,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<p;s(g)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?y.jsx(OR,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});LR.displayName=T0;var OR=C.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=da("SelectScrollButton",n),l=C.useRef(null),u=Rm(n),d=C.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return C.useEffect(()=>()=>d(),[d]),cn(()=>{var g;const p=u().find(m=>m.ref.current===document.activeElement);(g=p==null?void 0:p.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),y.jsx(Ye.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ue(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ue(i.onPointerMove,()=>{var p;(p=s.onItemLeave)==null||p.call(s),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ue(i.onPointerLeave,()=>{d()})})}),Rq="SelectSeparator",jR=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return y.jsx(Ye.div,{"aria-hidden":!0,...r,ref:t})});jR.displayName=Rq;var N0="SelectArrow",Iq=C.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Im(n),s=ua(N0,n),l=da(N0,n);return s.open&&l.position==="popper"?y.jsx(Hw,{...i,...r,ref:t}):null});Iq.displayName=N0;var Lq="SelectBubbleInput",MR=C.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=C.useRef(null),s=mt(r,i),l=__(t);return C.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&g){const m=new Event("change",{bubbles:!0});g.call(u,t),u.dispatchEvent(m)}},[l,t]),y.jsx(Ye.select,{...n,style:{...PC,...n.style},ref:s,defaultValue:t})});MR.displayName=Lq;function zR(e){return e===""||e===void 0}function DR(e){const t=sn(e),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(l=>{const u=n.current+l;t(u),function d(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(u)},[t]),s=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function BR(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=Oq(e,Math.max(s,0));i.length===1&&(l=l.filter(p=>p!==n));const d=l.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function Oq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var jq=fR,FR=pR,Mq=gR,zq=yR,Dq=vR,UR=wR,Bq=ER,$R=CR,ZR=TR,Fq=NR,Uq=RR,HR=IR,WR=LR,VR=jR;const $q=jq,Zq=Mq,qR=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(FR,{ref:r,className:qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,y.jsx(zq,{asChild:!0,children:y.jsx(nm,{className:"h-4 w-4 opacity-50"})})]}));qR.displayName=FR.displayName;const KR=C.forwardRef(({className:e,...t},n)=>y.jsx(HR,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(zB,{className:"h-4 w-4"})}));KR.displayName=HR.displayName;const GR=C.forwardRef(({className:e,...t},n)=>y.jsx(WR,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(nm,{className:"h-4 w-4"})}));GR.displayName=WR.displayName;const YR=C.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>y.jsx(Dq,{children:y.jsxs(UR,{ref:i,className:qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[y.jsx(KR,{}),y.jsx(Bq,{className:qe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),y.jsx(GR,{})]})}));YR.displayName=UR.displayName;const Hq=C.forwardRef(({className:e,...t},n)=>y.jsx($R,{ref:n,className:qe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Hq.displayName=$R.displayName;const A0=C.forwardRef(({className:e,children:t,...n},r)=>y.jsxs(ZR,{ref:r,className:qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(Uq,{children:y.jsx(YC,{className:"h-4 w-4"})})}),y.jsx(Fq,{children:t})]}));A0.displayName=ZR.displayName;const Wq=C.forwardRef(({className:e,...t},n)=>y.jsx(VR,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));Wq.displayName=VR.displayName;function R0({event:e,className:t}){const n=C.useMemo(()=>{const r=e.content,i=/(https?:\/\/[^\s]+)|nostr:(npub1|note1|nprofile1|nevent1)([023456789acdefghjklmnpqrstuvwxyz]+)|(#\w+)/g,s=[];let l=0,u,d=0;for(;(u=i.exec(r))!==null;){const[p,g,m,b,w]=u,S=u.index;if(S>l&&s.push(r.substring(l,S)),g)s.push(y.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:g},`url-${d++}`));else if(m&&b)try{const v=`${m}${b}`,E=er.decode(v);if(E.type==="npub"){const k=E.data;s.push(y.jsx(c2,{pubkey:k},`mention-${d++}`))}else if(E.type==="nprofile"){const k=E.data.pubkey;s.push(y.jsx(c2,{pubkey:k},`mention-${d++}`))}else s.push(y.jsx(hr,{to:`/${v}`,className:"text-blue-500 hover:underline break-all",children:p},`nostr-${d++}`))}catch{s.push(p)}else if(w){const v=w.slice(1);s.push(y.jsx(hr,{to:`/t/${v}`,className:"text-blue-500 hover:underline",children:w},`hashtag-${d++}`))}l=S+p.length}return l<r.length&&s.push(r.substring(l)),s.length===0&&s.push(r),s},[e]);return y.jsx("div",{className:qe("whitespace-pre-wrap break-words",t),children:n.length>0?n:e.content})}function c2({pubkey:e}){var s,l,u,d;const t=Qp(e),n=er.npubEncode(e),r=!!((l=(s=t.data)==null?void 0:s.metadata)!=null&&l.name),i=((d=(u=t.data)==null?void 0:u.metadata)==null?void 0:d.name)??Em(e);return y.jsxs(hr,{to:`/${n}`,className:qe("font-medium hover:underline",r?"text-blue-500":"text-gray-500 hover:text-gray-700"),children:["@",i]})}const JR=C.memo(({message:e,isFromCurrentUser:t})=>{var l;const n=((l=e.decryptedEvent)==null?void 0:l.kind)||e.kind,r=e.kind===4,i=n===15,s=e.decryptedEvent||{id:e.id,pubkey:e.pubkey,created_at:e.created_at,kind:e.kind,tags:e.tags,content:e.decryptedContent||"",sig:""};return y.jsx("div",{className:qe("flex mb-4",t?"justify-end":"justify-start"),children:y.jsxs("div",{className:qe("max-w-[70%] rounded-lg px-4 py-2",t?"bg-primary text-primary-foreground":"bg-muted"),children:[e.error?y.jsxs(Ha,{delayDuration:200,children:[y.jsx(Wa,{asChild:!0,children:y.jsx("p",{className:"text-sm italic opacity-70 cursor-help",children:" Failed to decrypt"})}),y.jsx(Gs,{children:y.jsx("p",{className:"text-xs",children:e.error})})]}):i?y.jsx("div",{className:"text-sm",children:y.jsx(R0,{event:s,className:"whitespace-pre-wrap break-words"})}):y.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.decryptedContent}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx(rl,{children:y.jsxs(Ha,{delayDuration:200,children:[y.jsx(Wa,{asChild:!0,children:y.jsx("span",{className:qe("text-xs opacity-70 cursor-default",t?"text-primary-foreground":"text-muted-foreground"),children:GA(e.created_at)})}),y.jsx(Gs,{children:y.jsx("p",{className:"text-xs",children:YA(e.created_at)})})]})}),y.jsx(rl,{children:y.jsxs(Ha,{delayDuration:200,children:[y.jsx(Wa,{asChild:!0,children:y.jsx("span",{className:qe("flex-shrink-0 opacity-50",t?"text-primary-foreground":"text-muted-foreground"),children:e.kind===4?y.jsx(GB,{className:"h-3 w-3"}):y.jsx(XB,{className:"h-3 w-3"})})}),y.jsx(Gs,{children:y.jsxs("p",{className:"text-xs",children:[e.kind===4&&"NIP-04 Kind 4 (Legacy DM)",e.kind===14&&"NIP-17 Kind 14 (Private Message)",e.kind===15&&"NIP-17 Kind 15 (Media)",e.kind!==4&&e.kind!==14&&e.kind!==15&&`Kind ${e.kind}`]})})]})}),r&&y.jsx(rl,{children:y.jsxs(Ha,{children:[y.jsx(Wa,{asChild:!0,children:y.jsx("div",{className:"flex-shrink-0",children:y.jsx(Nw,{className:"h-3 w-3 text-yellow-600 dark:text-yellow-500"})})}),y.jsx(Gs,{children:y.jsx("p",{className:"text-xs",children:"Uses outdated NIP-04 encryption"})})]})}),e.isSending&&y.jsx(Nr,{className:"h-3 w-3 animate-spin opacity-70"})]})]})})});JR.displayName="MessageBubble";const Vq=({pubkey:e,onBack:t})=>{var u;const r=(u=Qp(e).data)==null?void 0:u.metadata,i=(r==null?void 0:r.name)||Em(e),s=r==null?void 0:r.picture,l=i.slice(0,2).toUpperCase();return y.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[t&&y.jsx(At,{variant:"ghost",size:"icon",onClick:t,className:"md:hidden",children:y.jsx(jB,{className:"h-5 w-5"})}),y.jsxs(jd,{className:"h-10 w-10",children:[y.jsx(Md,{src:s,alt:i}),y.jsx(zd,{children:l})]}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h2",{className:"font-semibold truncate",children:i}),(r==null?void 0:r.nip05)&&y.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r.nip05})]})]})},qq=({isLoading:e})=>y.jsx("div",{className:"h-full flex items-center justify-center p-8",children:y.jsx("div",{className:"text-center text-muted-foreground max-w-sm",children:e?y.jsxs(y.Fragment,{children:[y.jsx(Nr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),y.jsx("p",{className:"text-sm",children:"Loading conversations..."}),y.jsx("p",{className:"text-xs mt-2",children:"Fetching encrypted messages from relays"})]}):y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"text-sm",children:"Select a conversation to start messaging"}),y.jsx("p",{className:"text-xs mt-2",children:"Your messages are encrypted and stored locally"})]})})}),Kq=({pubkey:e,onBack:t,className:n})=>{const{user:r}=pl(),{sendMessage:i,protocolMode:s,isLoading:l}=af(),{messages:u,hasMoreMessages:d,loadEarlierMessages:p}=hq(e||""),[g,m]=C.useState(""),[b,w]=C.useState(!1),[S,v]=C.useState(!1),E=()=>s===Wh.NIP04_ONLY?pc.NIP04:(s===Wh.NIP17_ONLY||s===Wh.NIP04_OR_NIP17,pc.NIP17),[k,N]=C.useState(E()),A=C.useRef(null),z=s===Wh.NIP04_OR_NIP17;C.useEffect(()=>{if(A.current){const V=A.current.querySelector("[data-radix-scroll-area-viewport]");V&&(V.scrollTop=V.scrollHeight)}},[u.length]);const D=C.useCallback(async()=>{if(!(!g.trim()||!e||!r)){w(!0);try{await i({recipientPubkey:e,content:g.trim(),protocol:k}),m("")}catch(V){console.error("Failed to send message:",V)}finally{w(!1)}}},[g,e,r,i,k]),$=C.useCallback(V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),D())},[D]),H=C.useCallback(async()=>{if(!A.current||S)return;const V=A.current.querySelector("[data-radix-scroll-area-viewport]");if(!V)return;const F=V.scrollHeight,W=V.scrollTop;v(!0),p(),setTimeout(()=>{if(V){const U=V.scrollHeight-F;V.scrollTop=W+U}v(!1)},0)},[p,S]);return e?r?y.jsxs(an,{className:qe("h-full flex flex-col",n),children:[y.jsx(Vq,{pubkey:e,onBack:t}),y.jsx(A_,{ref:A,className:"flex-1 p-4",children:u.length===0?y.jsx("div",{className:"h-full flex items-center justify-center",children:y.jsxs("div",{className:"text-center text-muted-foreground",children:[y.jsx("p",{className:"text-sm",children:"No messages yet"}),y.jsx("p",{className:"text-xs mt-1",children:"Send a message to start the conversation"})]})}):y.jsxs("div",{children:[d&&y.jsx("div",{className:"flex justify-center mb-4",children:y.jsx(At,{variant:"outline",size:"sm",onClick:H,disabled:S,className:"text-xs",children:S?y.jsxs(y.Fragment,{children:[y.jsx(Nr,{className:"h-3 w-3 animate-spin mr-2"}),"Loading..."]}):"Load Earlier Messages"})}),u.map(V=>y.jsx(JR,{message:V,isFromCurrentUser:V.pubkey===r.pubkey},V.id))]})}),y.jsx("div",{className:"p-4 border-t",children:y.jsxs("div",{className:"flex gap-2",children:[y.jsx(wm,{value:g,onChange:V=>m(V.target.value),onKeyDown:$,placeholder:"Type a message... (Enter to send, Shift+Enter for new line)",className:"min-h-[80px] resize-none",disabled:b}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(At,{onClick:D,disabled:!g.trim()||b,size:"icon",className:"h-[44px] w-[90px]",children:b?y.jsx(Nr,{className:"h-5 w-5 animate-spin"}):y.jsx(QB,{className:"h-5 w-5"})}),y.jsxs($q,{value:k,onValueChange:V=>N(V),disabled:!z,children:[y.jsx(qR,{className:"h-[32px] w-[90px] text-xs px-2",children:y.jsx(Zq,{})}),y.jsxs(YR,{children:[y.jsx(A0,{value:pc.NIP17,className:"text-xs",children:"NIP-17"}),y.jsx(A0,{value:pc.NIP04,className:"text-xs",children:"NIP-04"})]})]})]})]})})]}):y.jsx(an,{className:qe("h-full flex items-center justify-center",n),children:y.jsx("div",{className:"text-center text-muted-foreground",children:y.jsx("p",{className:"text-sm",children:"Please log in to view messages"})})}):y.jsx(an,{className:qe("h-full",n),children:y.jsx(qq,{isLoading:l})})};var Gq="Separator",u2="horizontal",Yq=["horizontal","vertical"],QR=C.forwardRef((e,t)=>{const{decorative:n,orientation:r=u2,...i}=e,s=Jq(r)?r:u2,u=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return y.jsx(Ye.div,{"data-orientation":s,...u,...i,ref:t})});QR.displayName=Gq;function Jq(e){return Yq.includes(e)}var XR=QR;const eI=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>y.jsx(XR,{ref:i,decorative:n,orientation:t,className:qe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));eI.displayName=XR.displayName;const Qq=({clearCacheAndRefetch:e})=>{const[t,n]=C.useState(!1),{toast:r}=Kd(),{loadingPhase:i,subscriptions:s,scanProgress:l,isDoingInitialLoad:u,lastSync:d,conversations:p}=af(),g=async()=>{if(e){n(!0);try{await e(),r({title:"Cache cleared",description:"Refetching messages from relays..."}),n(!1)}catch(v){console.error("Error clearing cache:",v),r({title:"Error",description:"Failed to clear cache. Please try again.",variant:"destructive"}),n(!1)}}},b=(()=>{switch(i){case fr.IDLE:return{label:"Idle",description:"Not yet initialized",icon:Nr,color:"text-muted-foreground"};case fr.CACHE:return{label:"Loading from cache",description:"Reading cached messages...",icon:$B,color:"text-blue-500"};case fr.RELAYS:return{label:"Loading from relays",description:"Fetching messages from Nostr relays...",icon:nF,color:"text-yellow-500"};case fr.SUBSCRIPTIONS:return{label:"Connecting subscriptions",description:"Setting up real-time message sync...",icon:O1,color:"text-orange-500"};case fr.READY:return{label:"Ready",description:"All systems operational",icon:fd,color:"text-green-500"};default:return{label:"Unknown",description:"Status unknown",icon:Nr,color:"text-muted-foreground"}}})(),w=b.icon,S=v=>{if(!v)return"Never";const E=new Date(v*1e3),N=new Date().getTime()-E.getTime(),A=Math.floor(N/6e4);return A<1?"Just now":A<60?`${A}m ago`:A<1440?`${Math.floor(A/60)}h ago`:E.toLocaleDateString()};return y.jsxs("div",{className:"space-y-4",children:[y.jsx(an,{children:y.jsx(xn,{className:"pt-6",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(w,{className:`h-5 w-5 ${b.color} ${i!==fr.READY?"animate-pulse":""}`}),y.jsxs("div",{className:"flex-1 space-y-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("p",{className:"font-medium",children:b.label}),u&&y.jsx(Ki,{variant:"secondary",className:"text-xs",children:"Initial Load"})]}),y.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]})]})})}),(l.nip4!==null||l.nip17!==null)&&y.jsx(an,{children:y.jsx(xn,{className:"pt-6",children:y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"text-sm font-medium",children:"Scanning Messages"}),l.nip4!==null&&y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs",children:[y.jsx("span",{className:"text-muted-foreground",children:"NIP-4 (Legacy)"}),y.jsxs("span",{className:"text-muted-foreground",children:[l.nip4.current," events"]})]}),y.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip4.status})]}),l.nip17!==null&&y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex items-center justify-between text-xs",children:[y.jsx("span",{className:"text-muted-foreground",children:"NIP-17 (Private)"}),y.jsxs("span",{className:"text-muted-foreground",children:[l.nip17.current," events"]})]}),y.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip17.status})]})]})})}),y.jsx(an,{children:y.jsx(xn,{className:"pt-6",children:y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"text-sm font-medium",children:"Real-time Subscriptions"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-4 (Legacy DMs)"}),y.jsx(Ki,{variant:s.isNIP4Connected?"default":"secondary",children:s.isNIP4Connected?"Connected":"Disconnected"})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-17 (Private DMs)"}),y.jsx(Ki,{variant:s.isNIP17Connected?"default":"secondary",children:s.isNIP17Connected?"Connected":"Disconnected"})]})]})]})})}),y.jsx(an,{children:y.jsx(xn,{className:"pt-6",children:y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"text-sm font-medium",children:"Cache Information"}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),y.jsx("span",{className:"font-medium",children:p.length})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-muted-foreground",children:"Last NIP-4 sync"}),y.jsx("span",{className:"font-medium",children:S(d.nip4)})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-muted-foreground",children:"Last NIP-17 sync"}),y.jsx("span",{className:"font-medium",children:S(d.nip17)})]})]})]})})}),e&&y.jsxs(y.Fragment,{children:[y.jsx(eI,{}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-sm font-medium",children:"Cache Management"}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"Clear all cached messages and refetch from relays. This will force a fresh sync."})]}),y.jsx(At,{onClick:g,disabled:t,variant:"outline",className:"w-full",children:t?y.jsxs(y.Fragment,{children:[y.jsx(Nr,{className:"mr-2 h-4 w-4 animate-spin"}),"Clearing..."]}):y.jsxs(y.Fragment,{children:[y.jsx(O1,{className:"mr-2 h-4 w-4"}),"Clear Cache & Refetch"]})})]})]})]})},Vh=768;function Xq(){const[e,t]=C.useState(window.innerWidth<Vh);return C.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Vh-1}px)`),r=()=>{t(window.innerWidth<Vh)};return n.addEventListener("change",r),t(window.innerWidth<Vh),()=>n.removeEventListener("change",r)},[]),!!e}const eK=({className:e})=>{const[t,n]=C.useState(null),[r,i]=C.useState(!1),s=Xq(),{clearCacheAndRefetch:l}=af(),u=!s||!t,d=!s||t,p=C.useCallback(m=>{n(m)},[]),g=C.useCallback(()=>{n(null)},[]);return y.jsxs(y.Fragment,{children:[y.jsx(pm,{open:r,onOpenChange:i,children:y.jsxs(tf,{className:"max-w-md",children:[y.jsxs(nf,{children:[y.jsx(mm,{children:"Messaging Status"}),y.jsx(n_,{children:"View loading status, cache info, and connection details"})]}),y.jsx(Qq,{clearCacheAndRefetch:l})]})}),y.jsxs("div",{className:qe("flex gap-4 overflow-hidden",e),children:[y.jsx("div",{className:qe("md:w-80 md:flex-shrink-0",s&&!u&&"hidden",s&&u&&"w-full"),children:y.jsx(fq,{selectedPubkey:t,onSelectConversation:p,className:"h-full",onStatusClick:()=>i(!0)})}),y.jsx("div",{className:qe("flex-1 md:min-w-0",s&&!d&&"hidden",s&&d&&"w-full"),children:y.jsx(Kq,{pubkey:t,onBack:s?g:void 0,className:"h-full"})})]})]})},tK=()=>(su({title:"Messages",description:"Private encrypted messaging on Nostr"}),y.jsx("div",{className:"min-h-screen bg-background",children:y.jsxs("div",{className:"container mx-auto p-4 h-screen flex flex-col",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsx("h1",{className:"text-2xl font-semibold",children:"Messages"})}),y.jsx(eK,{className:"flex-1"})]})}));function nK(){const{nip19:e}=QP();su({title:"NIP-19"});const{nostr:t}=gr();if(!e)return y.jsx("div",{className:"container mx-auto p-6",children:"Invalid identifier"});let n;try{n=er.decode(e)}catch{return y.jsx("div",{className:"container mx-auto p-6",children:"Invalid NIP-19 identifier"})}const{type:r,data:i}=n,s=_i({queryKey:["nip19",e,"profile"],enabled:r==="npub"||r==="nprofile",queryFn:async()=>{const p=(i==null?void 0:i.pubkey)??i;if(!p)return null;const g=await t.query([{kinds:[0],authors:[p],limit:1}]),m=g==null?void 0:g[0];if(!m)return{pubkey:p};try{const b=JSON.parse(m.content||"{}");return{pubkey:p,metadata:b}}catch{return{pubkey:p}}}}),l=_i({queryKey:["nip19",e,"note"],enabled:r==="note",queryFn:async()=>{const p=i;if(!p)return null;const g=await t.query([{ids:[p],kinds:[1],limit:1}]);return(g==null?void 0:g[0])??null}}),u=_i({queryKey:["nip19",e,"event"],enabled:r==="nevent",queryFn:async()=>{const p=(i==null?void 0:i.id)??i;if(!p)return null;const g=await t.query([{ids:[p],limit:1}]);return(g==null?void 0:g[0])??null}}),d=_i({queryKey:["nip19",e,"naddr"],enabled:r==="naddr",queryFn:async()=>{const p=i;if(!p)return null;const g=p.kind,m=p.pubkey,b=p.identifier,w=await t.query([{kinds:[g],authors:[m],"#d":[b],limit:1}]);return(w==null?void 0:w[0])??null}});if(r==="npub"||r==="nprofile"){const p=s.data;return s.isFetched?y.jsx("div",{className:"container mx-auto p-6",children:y.jsxs("div",{className:"max-w-2xl mx-auto",children:[y.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),y.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["pubkey: ",y.jsx("code",{children:p==null?void 0:p.pubkey})]}),p!=null&&p.metadata?y.jsxs("div",{className:"space-y-2",children:[y.jsx("img",{src:p.metadata.picture,alt:"avatar",className:"w-28 h-28 rounded-full"}),y.jsx("h2",{className:"text-xl font-semibold",children:p.metadata.display_name??p.metadata.name}),y.jsx("p",{className:"text-sm text-muted-foreground",children:p.metadata.about}),p.metadata.website&&y.jsx("p",{children:y.jsx("a",{href:p.metadata.website,target:"_blank",rel:"noreferrer",className:"text-primary",children:"Website"})})]}):y.jsx("p",{children:"No metadata available."})]})}):y.jsx("div",{className:"container mx-auto p-6",children:"Loading profile"})}if(r==="note"){const p=l.data;return l.isLoading?y.jsx("div",{className:"container mx-auto p-6",children:"Loading note"}):p?y.jsxs("div",{className:"container mx-auto p-6",children:[y.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Text Note"}),y.jsx("div",{className:"prose max-w-none whitespace-pre-wrap",children:y.jsx(R0,{event:p})}),y.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",y.jsx(hr,{to:`/${er.encode({type:"npub",data:p.pubkey})}`,children:p.pubkey})]})]}):y.jsx("div",{className:"container mx-auto p-6",children:"Note not found"})}if(r==="nevent"){const p=u.data;return u.isLoading?y.jsx("div",{className:"container mx-auto p-6",children:"Loading event"}):p?y.jsxs("div",{className:"container mx-auto p-6",children:[y.jsxs("h1",{className:"text-xl font-semibold",children:["Event (kind: ",p.kind,")"]}),y.jsx("div",{className:"mt-4 prose max-w-none whitespace-pre-wrap",children:p.kind===1?y.jsx(R0,{event:p}):y.jsx("pre",{children:p.content})}),y.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",y.jsx("code",{children:p.pubkey})]})]}):y.jsx("div",{className:"container mx-auto p-6",children:"Event not found"})}if(r==="naddr"){const p=d.data;if(d.isLoading)return y.jsx("div",{className:"container mx-auto p-6",children:"Loading addressable event"});if(!p)return y.jsx("div",{className:"container mx-auto p-6",children:"Addressable event not found"});if(p.kind===30402){const g=Sm(p);return g?y.jsxs("div",{className:"container mx-auto p-6",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:g.title}),y.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",y.jsx("code",{children:g.pubkey})]}),y.jsx("p",{className:"mt-2",children:g.description}),y.jsxs("div",{className:"mt-4",children:[y.jsxs("p",{children:["Dimensions: ",g.dimensions]}),y.jsxs("p",{children:["Fee: ",g.price," ",g.currency]}),y.jsxs("p",{children:["Status: ",g.status]}),y.jsx(hr,{to:`/locker/${e}`,className:"text-primary",children:"Open Locker Page"})]})]}):y.jsx("div",{className:"container mx-auto p-6",children:"Invalid locker event"})}return y.jsxs("div",{className:"container mx-auto p-6",children:[y.jsx("h1",{className:"text-xl font-semibold",children:"Addressable Event"}),y.jsx("pre",{className:"mt-4 whitespace-pre-wrap",children:p.content}),y.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Author: ",y.jsx("code",{children:p.pubkey})]})]})}return y.jsx("div",{className:"container mx-auto p-6",children:"Unsupported identifier type"})}const rK=()=>{const e=yl();return su({title:"404 - Page Not Found",description:"The page you are looking for could not be found. Return to the home page to continue browsing."}),C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"404"}),y.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),y.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})};function iK(){return y.jsxs(G7,{children:[y.jsx(X7,{}),y.jsx(oW,{}),y.jsxs($7,{children:[y.jsx(Co,{path:"/",element:y.jsx($V,{})}),y.jsx(Co,{path:"/marketplace",element:y.jsx(zV,{})}),y.jsx(Co,{path:"/snapshot",element:y.jsx(UV,{})}),y.jsx(Co,{path:"/dashboard",element:y.jsx(GV,{})}),y.jsx(Co,{path:"/messages",element:y.jsx(tK,{})}),y.jsx(Co,{path:"/locker/:nip19",element:y.jsx(KW,{})}),y.jsx(Co,{path:"/:nip19",element:y.jsx(nK,{})}),y.jsx(Co,{path:"*",element:y.jsx(rK,{})})]})]})}const oK=$2({plugins:[i3()]}),sK=new pL({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4,gcTime:1/0}}}),aK={theme:"light",relayMetadata:{relays:[{url:"wss://relay.ditto.pub",read:!0,write:!0},{url:"wss://relay.nostr.band",read:!0,write:!0},{url:"wss://relay.damus.io",read:!0,write:!0}],updatedAt:0}};function lK(){return y.jsx(XL,{head:oK,children:y.jsx(h$,{storageKey:"nostr:app-config",defaultConfig:aK,children:y.jsx(wL,{client:sK,children:y.jsx(L6,{storageKey:"nostr:login",children:y.jsxs(O6,{children:[y.jsx(j6,{}),y.jsx(G$,{children:y.jsxs(rl,{children:[y.jsx(DF,{}),y.jsx(C.Suspense,{children:y.jsx(iK,{})})]})})]})})})})})}VI.createRoot(document.getElementById("root")).render(y.jsx(QI,{children:y.jsx(lK,{})}));
