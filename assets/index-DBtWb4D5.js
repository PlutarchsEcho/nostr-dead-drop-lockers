var ZN=Object.defineProperty;var R_=e=>{throw TypeError(e)};var HN=(e,t,n)=>t in e?ZN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $e=(e,t,n)=>HN(e,typeof t!="symbol"?t+"":t,n),ug=(e,t,n)=>t.has(e)||R_("Cannot "+n);var ue=(e,t,n)=>(ug(e,t,"read from private field"),n?n.call(e):t.get(e)),et=(e,t,n)=>t.has(e)?R_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),We=(e,t,n,r)=>(ug(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),mt=(e,t,n)=>(ug(e,t,"access private method"),n);var qf=(e,t,n,r)=>({set _(i){We(e,t,i,n)},get _(){return ue(e,t,r)}});function WN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dg={exports:{}},Au={},fg={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function VN(){if(I_)return _t;I_=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function E(F,K,Ce){this.props=F,this.context=K,this.refs=_,this.updater=Ce||x}E.prototype.isReactComponent={},E.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},E.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function P(){}P.prototype=E.prototype;function T(F,K,Ce){this.props=F,this.context=K,this.refs=_,this.updater=Ce||x}var I=T.prototype=new P;I.constructor=T,k(I,E.prototype),I.isPureReactComponent=!0;var D=Array.isArray,B=Object.prototype.hasOwnProperty,q={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function J(F,K,Ce){var be,we={},Ie=null,Ue=null;if(K!=null)for(be in K.ref!==void 0&&(Ue=K.ref),K.key!==void 0&&(Ie=""+K.key),K)B.call(K,be)&&!G.hasOwnProperty(be)&&(we[be]=K[be]);var De=arguments.length-2;if(De===1)we.children=Ce;else if(1<De){for(var Fe=Array(De),rt=0;rt<De;rt++)Fe[rt]=arguments[rt+2];we.children=Fe}if(F&&F.defaultProps)for(be in De=F.defaultProps,De)we[be]===void 0&&(we[be]=De[be]);return{$$typeof:e,type:F,key:Ie,ref:Ue,props:we,_owner:q.current}}function V(F,K){return{$$typeof:e,type:F.type,key:K,ref:F.ref,props:F.props,_owner:F._owner}}function Y(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function Q(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Ce){return K[Ce]})}var U=/\/+/g;function re(F,K){return typeof F=="object"&&F!==null&&F.key!=null?Q(""+F.key):K.toString(36)}function M(F,K,Ce,be,we){var Ie=typeof F;(Ie==="undefined"||Ie==="boolean")&&(F=null);var Ue=!1;if(F===null)Ue=!0;else switch(Ie){case"string":case"number":Ue=!0;break;case"object":switch(F.$$typeof){case e:case t:Ue=!0}}if(Ue)return Ue=F,we=we(Ue),F=be===""?"."+re(Ue,0):be,D(we)?(Ce="",F!=null&&(Ce=F.replace(U,"$&/")+"/"),M(we,K,Ce,"",function(rt){return rt})):we!=null&&(Y(we)&&(we=V(we,Ce+(!we.key||Ue&&Ue.key===we.key?"":(""+we.key).replace(U,"$&/")+"/")+F)),K.push(we)),1;if(Ue=0,be=be===""?".":be+":",D(F))for(var De=0;De<F.length;De++){Ie=F[De];var Fe=be+re(Ie,De);Ue+=M(Ie,K,Ce,Fe,we)}else if(Fe=b(F),typeof Fe=="function")for(F=Fe.call(F),De=0;!(Ie=F.next()).done;)Ie=Ie.value,Fe=be+re(Ie,De++),Ue+=M(Ie,K,Ce,Fe,we);else if(Ie==="object")throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ue}function W(F,K,Ce){if(F==null)return F;var be=[],we=0;return M(F,be,"","",function(Ie){return K.call(Ce,Ie,we++)}),be}function ae(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(Ce){(F._status===0||F._status===-1)&&(F._status=1,F._result=Ce)},function(Ce){(F._status===0||F._status===-1)&&(F._status=2,F._result=Ce)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var oe={current:null},ne={transition:null},ee={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:ne,ReactCurrentOwner:q};function le(){throw Error("act(...) is not supported in production builds of React.")}return _t.Children={map:W,forEach:function(F,K,Ce){W(F,function(){K.apply(this,arguments)},Ce)},count:function(F){var K=0;return W(F,function(){K++}),K},toArray:function(F){return W(F,function(K){return K})||[]},only:function(F){if(!Y(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},_t.Component=E,_t.Fragment=n,_t.Profiler=i,_t.PureComponent=T,_t.StrictMode=r,_t.Suspense=f,_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,_t.act=le,_t.cloneElement=function(F,K,Ce){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var be=k({},F.props),we=F.key,Ie=F.ref,Ue=F._owner;if(K!=null){if(K.ref!==void 0&&(Ie=K.ref,Ue=q.current),K.key!==void 0&&(we=""+K.key),F.type&&F.type.defaultProps)var De=F.type.defaultProps;for(Fe in K)B.call(K,Fe)&&!G.hasOwnProperty(Fe)&&(be[Fe]=K[Fe]===void 0&&De!==void 0?De[Fe]:K[Fe])}var Fe=arguments.length-2;if(Fe===1)be.children=Ce;else if(1<Fe){De=Array(Fe);for(var rt=0;rt<Fe;rt++)De[rt]=arguments[rt+2];be.children=De}return{$$typeof:e,type:F.type,key:we,ref:Ie,props:be,_owner:Ue}},_t.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},_t.createElement=J,_t.createFactory=function(F){var K=J.bind(null,F);return K.type=F,K},_t.createRef=function(){return{current:null}},_t.forwardRef=function(F){return{$$typeof:u,render:F}},_t.isValidElement=Y,_t.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:ae}},_t.memo=function(F,K){return{$$typeof:p,type:F,compare:K===void 0?null:K}},_t.startTransition=function(F){var K=ne.transition;ne.transition={};try{F()}finally{ne.transition=K}},_t.unstable_act=le,_t.useCallback=function(F,K){return oe.current.useCallback(F,K)},_t.useContext=function(F){return oe.current.useContext(F)},_t.useDebugValue=function(){},_t.useDeferredValue=function(F){return oe.current.useDeferredValue(F)},_t.useEffect=function(F,K){return oe.current.useEffect(F,K)},_t.useId=function(){return oe.current.useId()},_t.useImperativeHandle=function(F,K,Ce){return oe.current.useImperativeHandle(F,K,Ce)},_t.useInsertionEffect=function(F,K){return oe.current.useInsertionEffect(F,K)},_t.useLayoutEffect=function(F,K){return oe.current.useLayoutEffect(F,K)},_t.useMemo=function(F,K){return oe.current.useMemo(F,K)},_t.useReducer=function(F,K,Ce){return oe.current.useReducer(F,K,Ce)},_t.useRef=function(F){return oe.current.useRef(F)},_t.useState=function(F){return oe.current.useState(F)},_t.useSyncExternalStore=function(F,K,Ce){return oe.current.useSyncExternalStore(F,K,Ce)},_t.useTransition=function(){return oe.current.useTransition()},_t.version="18.3.1",_t}var L_;function Kh(){return L_||(L_=1,fg.exports=VN()),fg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function qN(){if(O_)return Au;O_=1;var e=Kh(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,p){var g,m={},b=null,x=null;p!==void 0&&(b=""+p),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(x=f.ref);for(g in f)r.call(f,g)&&!l.hasOwnProperty(g)&&(m[g]=f[g]);if(u&&u.defaultProps)for(g in f=u.defaultProps,f)m[g]===void 0&&(m[g]=f[g]);return{$$typeof:t,type:u,key:b,ref:x,props:m,_owner:i.current}}return Au.Fragment=n,Au.jsx=c,Au.jsxs=c,Au}var j_;function KN(){return j_||(j_=1,dg.exports=qN()),dg.exports}var v=KN(),Gf={},hg={exports:{}},cr={},pg={exports:{}},mg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function GN(){return M_||(M_=1,function(e){function t(ne,ee){var le=ne.length;ne.push(ee);e:for(;0<le;){var F=le-1>>>1,K=ne[F];if(0<i(K,ee))ne[F]=ee,ne[le]=K,le=F;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var ee=ne[0],le=ne.pop();if(le!==ee){ne[0]=le;e:for(var F=0,K=ne.length,Ce=K>>>1;F<Ce;){var be=2*(F+1)-1,we=ne[be],Ie=be+1,Ue=ne[Ie];if(0>i(we,le))Ie<K&&0>i(Ue,we)?(ne[F]=Ue,ne[Ie]=le,F=Ie):(ne[F]=we,ne[be]=le,F=be);else if(Ie<K&&0>i(Ue,le))ne[F]=Ue,ne[Ie]=le,F=Ie;else break e}}return ee}function i(ne,ee){var le=ne.sortIndex-ee.sortIndex;return le!==0?le:ne.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],p=[],g=1,m=null,b=3,x=!1,k=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ne){for(var ee=n(p);ee!==null;){if(ee.callback===null)r(p);else if(ee.startTime<=ne)r(p),ee.sortIndex=ee.expirationTime,t(f,ee);else break;ee=n(p)}}function D(ne){if(_=!1,I(ne),!k)if(n(f)!==null)k=!0,ae(B);else{var ee=n(p);ee!==null&&oe(D,ee.startTime-ne)}}function B(ne,ee){k=!1,_&&(_=!1,P(J),J=-1),x=!0;var le=b;try{for(I(ee),m=n(f);m!==null&&(!(m.expirationTime>ee)||ne&&!Q());){var F=m.callback;if(typeof F=="function"){m.callback=null,b=m.priorityLevel;var K=F(m.expirationTime<=ee);ee=e.unstable_now(),typeof K=="function"?m.callback=K:m===n(f)&&r(f),I(ee)}else r(f);m=n(f)}if(m!==null)var Ce=!0;else{var be=n(p);be!==null&&oe(D,be.startTime-ee),Ce=!1}return Ce}finally{m=null,b=le,x=!1}}var q=!1,G=null,J=-1,V=5,Y=-1;function Q(){return!(e.unstable_now()-Y<V)}function U(){if(G!==null){var ne=e.unstable_now();Y=ne;var ee=!0;try{ee=G(!0,ne)}finally{ee?re():(q=!1,G=null)}}else q=!1}var re;if(typeof T=="function")re=function(){T(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,W=M.port2;M.port1.onmessage=U,re=function(){W.postMessage(null)}}else re=function(){E(U,0)};function ae(ne){G=ne,q||(q=!0,re())}function oe(ne,ee){J=E(function(){ne(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){k||x||(k=!0,ae(B))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(ne){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var le=b;b=ee;try{return ne()}finally{b=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,ee){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=b;b=ne;try{return ee()}finally{b=le}},e.unstable_scheduleCallback=function(ne,ee,le){var F=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?F+le:F):le=F,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=le+K,ne={id:g++,callback:ee,priorityLevel:ne,startTime:le,expirationTime:K,sortIndex:-1},le>F?(ne.sortIndex=le,t(p,ne),n(f)===null&&ne===n(p)&&(_?(P(J),J=-1):_=!0,oe(D,le-F))):(ne.sortIndex=K,t(f,ne),k||x||(k=!0,ae(B))),ne},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(ne){var ee=b;return function(){var le=b;b=ee;try{return ne.apply(this,arguments)}finally{b=le}}}}(mg)),mg}var z_;function YN(){return z_||(z_=1,pg.exports=GN()),pg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function JN(){if(D_)return cr;D_=1;var e=Kh(),t=YN();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function l(o,a){c(o,a),c(o+"Capture",a)}function c(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function b(o){return f.call(m,o)?!0:f.call(g,o)?!1:p.test(o)?m[o]=!0:(g[o]=!0,!1)}function x(o,a,h,w){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return w?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,a,h,w){if(a===null||typeof a>"u"||x(o,a,h,w))return!0;if(w)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function _(o,a,h,w,C,A,$){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=w,this.attributeNamespace=C,this.mustUseProperty=h,this.propertyName=o,this.type=a,this.sanitizeURL=A,this.removeEmptyString=$}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new _(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];E[a]=new _(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new _(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new _(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new _(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new _(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new _(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new _(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new _(o,5,!1,o.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function T(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(P,T);E[a]=new _(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(P,T);E[a]=new _(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(P,T);E[a]=new _(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new _(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new _(o,1,!1,o.toLowerCase(),null,!0,!0)});function I(o,a,h,w){var C=E.hasOwnProperty(a)?E[a]:null;(C!==null?C.type!==0:w||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,h,C,w)&&(h=null),w||C===null?b(a)&&(h===null?o.removeAttribute(a):o.setAttribute(a,""+h)):C.mustUseProperty?o[C.propertyName]=h===null?C.type===3?!1:"":h:(a=C.attributeName,w=C.attributeNamespace,h===null?o.removeAttribute(a):(C=C.type,h=C===3||C===4&&h===!0?"":""+h,w?o.setAttributeNS(w,a,h):o.setAttribute(a,h))))}var D=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),q=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Q=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ee(o){return o===null||typeof o!="object"?null:(o=ne&&o[ne]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,F;function K(o){if(F===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+o}var Ce=!1;function be(o,a){if(!o||Ce)return"";Ce=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Ee){var w=Ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(Ee){w=Ee}o.call(a.prototype)}else{try{throw Error()}catch(Ee){w=Ee}o()}}catch(Ee){if(Ee&&w&&typeof Ee.stack=="string"){for(var C=Ee.stack.split(`
`),A=w.stack.split(`
`),$=C.length-1,se=A.length-1;1<=$&&0<=se&&C[$]!==A[se];)se--;for(;1<=$&&0<=se;$--,se--)if(C[$]!==A[se]){if($!==1||se!==1)do if($--,se--,0>se||C[$]!==A[se]){var de=`
`+C[$].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=$&&0<=se);break}}}finally{Ce=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?K(o):""}function we(o){switch(o.tag){case 5:return K(o.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return o=be(o.type,!1),o;case 11:return o=be(o.type.render,!1),o;case 1:return o=be(o.type,!0),o;default:return""}}function Ie(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case G:return"Fragment";case q:return"Portal";case V:return"Profiler";case J:return"StrictMode";case re:return"Suspense";case M:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Q:return(o.displayName||"Context")+".Consumer";case Y:return(o._context.displayName||"Context")+".Provider";case U:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case W:return a=o.displayName||null,a!==null?a:Ie(o.type)||"Memo";case ae:a=o._payload,o=o._init;try{return Ie(o(a))}catch{}}return null}function Ue(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(a);case 8:return a===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function De(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Fe(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rt(o){var a=Fe(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),w=""+o[a];if(!o.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var C=h.get,A=h.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return C.call(this)},set:function($){w=""+$,A.call(this,$)}}),Object.defineProperty(o,a,{enumerable:h.enumerable}),{getValue:function(){return w},setValue:function($){w=""+$},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function wt(o){o._valueTracker||(o._valueTracker=rt(o))}function At(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var h=a.getValue(),w="";return o&&(w=Fe(o)?o.checked?"true":"false":o.value),o=w,o!==h?(a.setValue(o),!0):!1}function ht(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function z(o,a){var h=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Pe(o,a){var h=a.defaultValue==null?"":a.defaultValue,w=a.checked!=null?a.checked:a.defaultChecked;h=De(a.value!=null?a.value:h),o._wrapperState={initialChecked:w,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ke(o,a){a=a.checked,a!=null&&I(o,"checked",a,!1)}function ie(o,a){ke(o,a);var h=De(a.value),w=a.type;if(h!=null)w==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(w==="submit"||w==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?pe(o,a.type,h):a.hasOwnProperty("defaultValue")&&pe(o,a.type,De(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function te(o,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var w=a.type;if(!(w!=="submit"&&w!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,h||a===o.value||(o.value=a),o.defaultValue=a}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function pe(o,a,h){(a!=="number"||ht(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Ne=Array.isArray;function Ae(o,a,h,w){if(o=o.options,a){a={};for(var C=0;C<h.length;C++)a["$"+h[C]]=!0;for(h=0;h<o.length;h++)C=a.hasOwnProperty("$"+o[h].value),o[h].selected!==C&&(o[h].selected=C),C&&w&&(o[h].defaultSelected=!0)}else{for(h=""+De(h),a=null,C=0;C<o.length;C++){if(o[C].value===h){o[C].selected=!0,w&&(o[C].defaultSelected=!0);return}a!==null||o[C].disabled||(a=o[C])}a!==null&&(a.selected=!0)}}function me(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Me(o,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(n(92));if(Ne(h)){if(1<h.length)throw Error(n(93));h=h[0]}a=h}a==null&&(a=""),h=a}o._wrapperState={initialValue:De(h)}}function He(o,a){var h=De(a.value),w=De(a.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),a.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),w!=null&&(o.defaultValue=""+w)}function je(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Je(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Je(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var N,O=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,w,C){MSApp.execUnsafeLocalFunction(function(){return o(a,h,w,C)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(N=N||document.createElement("div"),N.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=N.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function X(o,a){if(a){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=a;return}}o.textContent=a}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];Object.keys(fe).forEach(function(o){_e.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),fe[a]=fe[o]})});function Se(o,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||fe.hasOwnProperty(o)&&fe[o]?(""+a).trim():a+"px"}function lt(o,a){o=o.style;for(var h in a)if(a.hasOwnProperty(h)){var w=h.indexOf("--")===0,C=Se(h,a[h],w);h==="float"&&(h="cssFloat"),w?o.setProperty(h,C):o[h]=C}}var Lt=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(o,a){if(a){if(Lt[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Et(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=null;function ea(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var jo=null,Rr=null,Hn=null;function Wi(o){if(o=ro(o)){if(typeof jo!="function")throw Error(n(280));var a=o.stateNode;a&&(a=Tl(a),jo(o.stateNode,o.type,a))}}function Nd(o){Rr?Hn?Hn.push(o):Hn=[o]:Rr=o}function Ad(){if(Rr){var o=Rr,a=Hn;if(Hn=Rr=null,Wi(o),a)for(o=0;o<a.length;o++)Wi(a[o])}}function Rd(o,a){return o(a)}function Id(){}var Bc=!1;function nl(o,a,h){if(Bc)return o(a,h);Bc=!0;try{return Rd(o,a,h)}finally{Bc=!1,(Rr!==null||Hn!==null)&&(Id(),Ad())}}function ta(o,a){var h=o.stateNode;if(h===null)return null;var w=Tl(h);if(w===null)return null;h=w[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(o=o.type,w=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!w;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,a,typeof h));return h}var Fc=!1;if(u)try{var na={};Object.defineProperty(na,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{Fc=!1}function Up(o,a,h,w,C,A,$,se,de){var Ee=Array.prototype.slice.call(arguments,3);try{a.apply(h,Ee)}catch(Oe){this.onError(Oe)}}var Rn=!1,Qe=null,ra=!1,rl=null,Ld={onError:function(o){Rn=!0,Qe=o}};function Od(o,a,h,w,C,A,$,se,de){Rn=!1,Qe=null,Up.apply(Ld,arguments)}function Uc(o,a,h,w,C,A,$,se,de){if(Od.apply(this,arguments),Rn){if(Rn){var Ee=Qe;Rn=!1,Qe=null}else throw Error(n(198));ra||(ra=!0,rl=Ee)}}function vi(o){var a=o,h=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(h=a.return),o=a.return;while(o)}return a.tag===3?h:null}function Vi(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function $c(o){if(vi(o)!==o)throw Error(n(188))}function $p(o){var a=o.alternate;if(!a){if(a=vi(o),a===null)throw Error(n(188));return a!==o?null:o}for(var h=o,w=a;;){var C=h.return;if(C===null)break;var A=C.alternate;if(A===null){if(w=C.return,w!==null){h=w;continue}break}if(C.child===A.child){for(A=C.child;A;){if(A===h)return $c(C),o;if(A===w)return $c(C),a;A=A.sibling}throw Error(n(188))}if(h.return!==w.return)h=C,w=A;else{for(var $=!1,se=C.child;se;){if(se===h){$=!0,h=C,w=A;break}if(se===w){$=!0,w=C,h=A;break}se=se.sibling}if(!$){for(se=A.child;se;){if(se===h){$=!0,h=A,w=C;break}if(se===w){$=!0,w=A,h=C;break}se=se.sibling}if(!$)throw Error(n(189))}}if(h.alternate!==w)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:a}function jd(o){return o=$p(o),o!==null?Md(o):null}function Md(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Md(o);if(a!==null)return a;o=o.sibling}return null}var zd=t.unstable_scheduleCallback,Zc=t.unstable_cancelCallback,Zp=t.unstable_shouldYield,il=t.unstable_requestPaint,Xt=t.unstable_now,Hp=t.unstable_getCurrentPriorityLevel,Hc=t.unstable_ImmediatePriority,Dd=t.unstable_UserBlockingPriority,ol=t.unstable_NormalPriority,Wc=t.unstable_LowPriority,Mo=t.unstable_IdlePriority,ia=null,mr=null;function oa(o){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(ia,o,void 0,(o.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:zo,Zt=Math.log,sl=Math.LN2;function zo(o){return o>>>=0,o===0?32:31-(Zt(o)/sl|0)|0}var Xr=64,Do=4194304;function ft(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ut(o,a){var h=o.pendingLanes;if(h===0)return 0;var w=0,C=o.suspendedLanes,A=o.pingedLanes,$=h&268435455;if($!==0){var se=$&~C;se!==0?w=ft(se):(A&=$,A!==0&&(w=ft(A)))}else $=h&~C,$!==0?w=ft($):A!==0&&(w=ft(A));if(w===0)return 0;if(a!==0&&a!==w&&(a&C)===0&&(C=w&-w,A=a&-a,C>=A||C===16&&(A&4194240)!==0))return a;if((w&4)!==0&&(w|=h&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=w;0<a;)h=31-pt(a),C=1<<h,w|=o[h],a&=~C;return w}function Vc(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(o,a){for(var h=o.suspendedLanes,w=o.pingedLanes,C=o.expirationTimes,A=o.pendingLanes;0<A;){var $=31-pt(A),se=1<<$,de=C[$];de===-1?((se&h)===0||(se&w)!==0)&&(C[$]=Vc(se,a)):de<=a&&(o.expiredLanes|=se),A&=~se}}function In(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Bd(){var o=Xr;return Xr<<=1,(Xr&4194240)===0&&(Xr=64),o}function Bo(o){for(var a=[],h=0;31>h;h++)a.push(o);return a}function gr(o,a,h){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-pt(a),o[a]=h}function on(o,a){var h=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var w=o.eventTimes;for(o=o.expirationTimes;0<h;){var C=31-pt(h),A=1<<C;a[C]=0,w[C]=-1,o[C]=-1,h&=~A}}function ei(o,a){var h=o.entangledLanes|=a;for(o=o.entanglements;h;){var w=31-pt(h),C=1<<w;C&a|o[w]&a&&(o[w]|=a),h&=~C}}var St=0;function Fo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ll,qi,cl,ul,sa,aa=!1,Uo=[],yr=null,ti=null,Ir=null,la=new Map,ct=new Map,pn=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qc(o,a){switch(o){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":la.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(a.pointerId)}}function Ki(o,a,h,w,C,A){return o===null||o.nativeEvent!==A?(o={blockedOn:a,domEventName:h,eventSystemFlags:w,nativeEvent:A,targetContainers:[C]},a!==null&&(a=ro(a),a!==null&&qi(a)),o):(o.eventSystemFlags|=w,a=o.targetContainers,C!==null&&a.indexOf(C)===-1&&a.push(C),o)}function Kc(o,a,h,w,C){switch(a){case"focusin":return yr=Ki(yr,o,a,h,w,C),!0;case"dragenter":return ti=Ki(ti,o,a,h,w,C),!0;case"mouseover":return Ir=Ki(Ir,o,a,h,w,C),!0;case"pointerover":var A=C.pointerId;return la.set(A,Ki(la.get(A)||null,o,a,h,w,C)),!0;case"gotpointercapture":return A=C.pointerId,ct.set(A,Ki(ct.get(A)||null,o,a,h,w,C)),!0}return!1}function dl(o){var a=no(o.target);if(a!==null){var h=vi(a);if(h!==null){if(a=h.tag,a===13){if(a=Vi(h),a!==null){o.blockedOn=a,sa(o.priority,function(){cl(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Lr(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var h=pl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var w=new h.constructor(h.type,h);kt=w,h.target.dispatchEvent(w),kt=null}else return a=ro(h),a!==null&&qi(a),o.blockedOn=h,!1;a.shift()}return!0}function fl(o,a,h){Lr(o)&&h.delete(a)}function ca(){aa=!1,yr!==null&&Lr(yr)&&(yr=null),ti!==null&&Lr(ti)&&(ti=null),Ir!==null&&Lr(Ir)&&(Ir=null),la.forEach(fl),ct.forEach(fl)}function en(o,a){o.blockedOn===a&&(o.blockedOn=null,aa||(aa=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ca)))}function vr(o){function a(C){return en(C,o)}if(0<Uo.length){en(Uo[0],o);for(var h=1;h<Uo.length;h++){var w=Uo[h];w.blockedOn===o&&(w.blockedOn=null)}}for(yr!==null&&en(yr,o),ti!==null&&en(ti,o),Ir!==null&&en(Ir,o),la.forEach(a),ct.forEach(a),h=0;h<pn.length;h++)w=pn[h],w.blockedOn===o&&(w.blockedOn=null);for(;0<pn.length&&(h=pn[0],h.blockedOn===null);)dl(h),h.blockedOn===null&&pn.shift()}var Gi=D.ReactCurrentBatchConfig,ua=!0;function Wp(o,a,h,w){var C=St,A=Gi.transition;Gi.transition=null;try{St=1,da(o,a,h,w)}finally{St=C,Gi.transition=A}}function Fd(o,a,h,w){var C=St,A=Gi.transition;Gi.transition=null;try{St=4,da(o,a,h,w)}finally{St=C,Gi.transition=A}}function da(o,a,h,w){if(ua){var C=pl(o,a,h,w);if(C===null)s(o,a,w,hl,h),qc(o,w);else if(Kc(C,o,a,h,w))w.stopPropagation();else if(qc(o,w),a&4&&-1<Dt.indexOf(o)){for(;C!==null;){var A=ro(C);if(A!==null&&ll(A),A=pl(o,a,h,w),A===null&&s(o,a,w,hl,h),A===C)break;C=A}C!==null&&w.stopPropagation()}else s(o,a,w,null,h)}}var hl=null;function pl(o,a,h,w){if(hl=null,o=ea(w),o=no(o),o!==null)if(a=vi(o),a===null)o=null;else if(h=a.tag,h===13){if(o=Vi(a),o!==null)return o;o=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return hl=o,null}function xt(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hp()){case Hc:return 1;case Dd:return 4;case ol:case Wc:return 16;case Mo:return 536870912;default:return 16}default:return 16}}var wi=null,Wn=null,_i=null;function Gc(){if(_i)return _i;var o,a=Wn,h=a.length,w,C="value"in wi?wi.value:wi.textContent,A=C.length;for(o=0;o<h&&a[o]===C[o];o++);var $=h-o;for(w=1;w<=$&&a[h-w]===C[A-w];w++);return _i=C.slice(o,1<w?1-w:void 0)}function ml(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function $o(){return!0}function Ud(){return!1}function Ln(o){function a(h,w,C,A,$){this._reactName=h,this._targetInst=C,this.type=w,this.nativeEvent=A,this.target=$,this.currentTarget=null;for(var se in o)o.hasOwnProperty(se)&&(h=o[se],this[se]=h?h(A):A[se]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?$o:Ud,this.isPropagationStopped=Ud,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),a}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yc=Ln(Zo),Yi=le({},Zo,{view:0,detail:0}),Vp=Ln(Yi),nr,Jc,Ho,wr=le({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ho&&(Ho&&o.type==="mousemove"?(nr=o.screenX-Ho.screenX,Jc=o.screenY-Ho.screenY):Jc=nr=0,Ho=o),nr)},movementY:function(o){return"movementY"in o?o.movementY:Jc}}),Qc=Ln(wr),$d=le({},wr,{dataTransfer:0}),Xc=Ln($d),qp=le({},Yi,{relatedTarget:0}),gl=Ln(qp),Zd=le({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),Kp=Ln(Zd),Gp=le({},Zo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),eu=Ln(Gp),Yp=le({},Zo,{data:0}),tu=Ln(Yp),Hd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ji={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jp(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Ji[o])?!!a[o]:!1}function Qi(){return Jp}var rr=le({},Yi,{key:function(o){if(o.key){var a=Hd[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=ml(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?yl[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qi,charCode:function(o){return o.type==="keypress"?ml(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ml(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Wd=Ln(rr),Vd=le({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qd=Ln(Vd),nu=le({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qi}),ru=Ln(nu),Qp=le({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xp=Ln(Qp),Kd=le({},wr,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),em=Ln(Kd),_r=[9,13,27,32],xi=u&&"CompositionEvent"in window,fa=null;u&&"documentMode"in document&&(fa=document.documentMode);var ni=u&&"TextEvent"in window&&!fa,Gd=u&&(!xi||fa&&8<fa&&11>=fa),Xi=" ",Yd=!1;function Wo(o,a){switch(o){case"keyup":return _r.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ri=!1;function tm(o,a){switch(o){case"compositionend":return iu(a);case"keypress":return a.which!==32?null:(Yd=!0,Xi);case"textInput":return o=a.data,o===Xi&&Yd?null:o;default:return null}}function bi(o,a){if(ri)return o==="compositionend"||!xi&&Wo(o,a)?(o=Gc(),_i=Wn=wi=null,ri=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Gd&&a.locale!=="ko"?null:a.data;default:return null}}var vl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!vl[o.type]:a==="textarea"}function wl(o,a,h,w){Nd(w),a=y(a,"onChange"),0<a.length&&(h=new Yc("onChange","change",null,h,w),o.push({event:h,listeners:a}))}var ha=null,Vn=null;function nm(o){hu(o,0)}function ii(o){var a=io(o);if(At(a))return o}function rm(o,a){if(o==="change")return a}var Or=!1;if(u){var Vo;if(u){var _l="oninput"in document;if(!_l){var xl=document.createElement("div");xl.setAttribute("oninput","return;"),_l=typeof xl.oninput=="function"}Vo=_l}else Vo=!1;Or=Vo&&(!document.documentMode||9<document.documentMode)}function pa(){ha&&(ha.detachEvent("onpropertychange",bl),Vn=ha=null)}function bl(o){if(o.propertyName==="value"&&ii(Vn)){var a=[];wl(a,Vn,o,ea(o)),nl(nm,a)}}function El(o,a,h){o==="focusin"?(pa(),ha=a,Vn=h,ha.attachEvent("onpropertychange",bl)):o==="focusout"&&pa()}function qo(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ii(Vn)}function kl(o,a){if(o==="click")return ii(a)}function ou(o,a){if(o==="input"||o==="change")return ii(a)}function Qd(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var xr=typeof Object.is=="function"?Object.is:Qd;function Ei(o,a){if(xr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var h=Object.keys(o),w=Object.keys(a);if(h.length!==w.length)return!1;for(w=0;w<h.length;w++){var C=h[w];if(!f.call(a,C)||!xr(o[C],a[C]))return!1}return!0}function Xd(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function su(o,a){var h=Xd(o);o=0;for(var w;h;){if(h.nodeType===3){if(w=o+h.textContent.length,o<=a&&w>=a)return{node:h,offset:a-o};o=w}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Xd(h)}}function ef(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?ef(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function au(){for(var o=window,a=ht();a instanceof o.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)o=a.contentWindow;else break;a=ht(o.document)}return a}function lu(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function jr(o){var a=au(),h=o.focusedElem,w=o.selectionRange;if(a!==h&&h&&h.ownerDocument&&ef(h.ownerDocument.documentElement,h)){if(w!==null&&lu(h)){if(a=w.start,o=w.end,o===void 0&&(o=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(o,h.value.length);else if(o=(a=h.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var C=h.textContent.length,A=Math.min(w.start,C);w=w.end===void 0?A:Math.min(w.end,C),!o.extend&&A>w&&(C=w,w=A,A=C),C=su(h,A);var $=su(h,w);C&&$&&(o.rangeCount!==1||o.anchorNode!==C.node||o.anchorOffset!==C.offset||o.focusNode!==$.node||o.focusOffset!==$.offset)&&(a=a.createRange(),a.setStart(C.node,C.offset),o.removeAllRanges(),A>w?(o.addRange(a),o.extend($.node,$.offset)):(a.setEnd($.node,$.offset),o.addRange(a)))}}for(a=[],o=h;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)o=a[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Sl=u&&"documentMode"in document&&11>=document.documentMode,Ko=null,Go=null,ma=null,Cl=!1;function tf(o,a,h){var w=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Cl||Ko==null||Ko!==ht(w)||(w=Ko,"selectionStart"in w&&lu(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),ma&&Ei(ma,w)||(ma=w,w=y(Go,"onSelect"),0<w.length&&(a=new Yc("onSelect","select",null,a,h),o.push({event:a,listeners:w}),a.target=Ko)))}function ki(o,a){var h={};return h[o.toLowerCase()]=a.toLowerCase(),h["Webkit"+o]="webkit"+a,h["Moz"+o]="moz"+a,h}var Yo={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},Si={},cu={};u&&(cu=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function ga(o){if(Si[o])return Si[o];if(!Yo[o])return o;var a=Yo[o],h;for(h in a)if(a.hasOwnProperty(h)&&h in cu)return Si[o]=a[h];return o}var nf=ga("animationend"),Mr=ga("animationiteration"),uu=ga("animationstart"),du=ga("transitionend"),Jo=new Map,rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(o,a){Jo.set(o,a),l(a,[o])}for(var eo=0;eo<rf.length;eo++){var Pl=rf[eo],of=Pl.toLowerCase(),im=Pl[0].toUpperCase()+Pl.slice(1);br(of,"on"+im)}br(nf,"onAnimationEnd"),br(Mr,"onAnimationIteration"),br(uu,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(du,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function fu(o,a,h){var w=o.type||"unknown-event";o.currentTarget=h,Uc(w,a,void 0,o),o.currentTarget=null}function hu(o,a){a=(a&4)!==0;for(var h=0;h<o.length;h++){var w=o[h],C=w.event;w=w.listeners;e:{var A=void 0;if(a)for(var $=w.length-1;0<=$;$--){var se=w[$],de=se.instance,Ee=se.currentTarget;if(se=se.listener,de!==A&&C.isPropagationStopped())break e;fu(C,se,Ee),A=de}else for($=0;$<w.length;$++){if(se=w[$],de=se.instance,Ee=se.currentTarget,se=se.listener,de!==A&&C.isPropagationStopped())break e;fu(C,se,Ee),A=de}}}if(ra)throw o=rl,ra=!1,rl=null,o}function Bt(o,a){var h=a[ns];h===void 0&&(h=a[ns]=new Set);var w=o+"__bubble";h.has(w)||(af(a,o,2,!1),h.add(w))}function pu(o,a,h){var w=0;a&&(w|=4),af(h,o,w,a)}var ya="_reactListening"+Math.random().toString(36).slice(2);function Xo(o){if(!o[ya]){o[ya]=!0,r.forEach(function(h){h!=="selectionchange"&&(sf.has(h)||pu(h,!1,o),pu(h,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[ya]||(a[ya]=!0,pu("selectionchange",!1,a))}}function af(o,a,h,w){switch(xt(a)){case 1:var C=Wp;break;case 4:C=Fd;break;default:C=da}h=C.bind(null,a,h,o),C=void 0,!Fc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(C=!0),w?C!==void 0?o.addEventListener(a,h,{capture:!0,passive:C}):o.addEventListener(a,h,!0):C!==void 0?o.addEventListener(a,h,{passive:C}):o.addEventListener(a,h,!1)}function s(o,a,h,w,C){var A=w;if((a&1)===0&&(a&2)===0&&w!==null)e:for(;;){if(w===null)return;var $=w.tag;if($===3||$===4){var se=w.stateNode.containerInfo;if(se===C||se.nodeType===8&&se.parentNode===C)break;if($===4)for($=w.return;$!==null;){var de=$.tag;if((de===3||de===4)&&(de=$.stateNode.containerInfo,de===C||de.nodeType===8&&de.parentNode===C))return;$=$.return}for(;se!==null;){if($=no(se),$===null)return;if(de=$.tag,de===5||de===6){w=A=$;continue e}se=se.parentNode}}w=w.return}nl(function(){var Ee=A,Oe=ea(h),ze=[];e:{var Le=Jo.get(o);if(Le!==void 0){var Ve=Yc,Ge=o;switch(o){case"keypress":if(ml(h)===0)break e;case"keydown":case"keyup":Ve=Wd;break;case"focusin":Ge="focus",Ve=gl;break;case"focusout":Ge="blur",Ve=gl;break;case"beforeblur":case"afterblur":Ve=gl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=Xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=ru;break;case nf:case Mr:case uu:Ve=Kp;break;case du:Ve=Xp;break;case"scroll":Ve=Vp;break;case"wheel":Ve=em;break;case"copy":case"cut":case"paste":Ve=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=qd}var Ye=(a&4)!==0,cn=!Ye&&o==="scroll",ye=Ye?Le!==null?Le+"Capture":null:Le;Ye=[];for(var he=Ee,ve;he!==null;){ve=he;var Be=ve.stateNode;if(ve.tag===5&&Be!==null&&(ve=Be,ye!==null&&(Be=ta(he,ye),Be!=null&&Ye.push(d(he,Be,ve)))),cn)break;he=he.return}0<Ye.length&&(Le=new Ve(Le,Ge,null,h,Oe),ze.push({event:Le,listeners:Ye}))}}if((a&7)===0){e:{if(Le=o==="mouseover"||o==="pointerover",Ve=o==="mouseout"||o==="pointerout",Le&&h!==kt&&(Ge=h.relatedTarget||h.fromElement)&&(no(Ge)||Ge[jt]))break e;if((Ve||Le)&&(Le=Oe.window===Oe?Oe:(Le=Oe.ownerDocument)?Le.defaultView||Le.parentWindow:window,Ve?(Ge=h.relatedTarget||h.toElement,Ve=Ee,Ge=Ge?no(Ge):null,Ge!==null&&(cn=vi(Ge),Ge!==cn||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Ve=null,Ge=Ee),Ve!==Ge)){if(Ye=Qc,Be="onMouseLeave",ye="onMouseEnter",he="mouse",(o==="pointerout"||o==="pointerover")&&(Ye=qd,Be="onPointerLeave",ye="onPointerEnter",he="pointer"),cn=Ve==null?Le:io(Ve),ve=Ge==null?Le:io(Ge),Le=new Ye(Be,he+"leave",Ve,h,Oe),Le.target=cn,Le.relatedTarget=ve,Be=null,no(Oe)===Ee&&(Ye=new Ye(ye,he+"enter",Ge,h,Oe),Ye.target=ve,Ye.relatedTarget=cn,Be=Ye),cn=Be,Ve&&Ge)t:{for(Ye=Ve,ye=Ge,he=0,ve=Ye;ve;ve=S(ve))he++;for(ve=0,Be=ye;Be;Be=S(Be))ve++;for(;0<he-ve;)Ye=S(Ye),he--;for(;0<ve-he;)ye=S(ye),ve--;for(;he--;){if(Ye===ye||ye!==null&&Ye===ye.alternate)break t;Ye=S(Ye),ye=S(ye)}Ye=null}else Ye=null;Ve!==null&&j(ze,Le,Ve,Ye,!1),Ge!==null&&cn!==null&&j(ze,cn,Ge,Ye,!0)}}e:{if(Le=Ee?io(Ee):window,Ve=Le.nodeName&&Le.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Le.type==="file")var Xe=rm;else if(Jd(Le))if(Or)Xe=ou;else{Xe=qo;var it=El}else(Ve=Le.nodeName)&&Ve.toLowerCase()==="input"&&(Le.type==="checkbox"||Le.type==="radio")&&(Xe=kl);if(Xe&&(Xe=Xe(o,Ee))){wl(ze,Xe,h,Oe);break e}it&&it(o,Le,Ee),o==="focusout"&&(it=Le._wrapperState)&&it.controlled&&Le.type==="number"&&pe(Le,"number",Le.value)}switch(it=Ee?io(Ee):window,o){case"focusin":(Jd(it)||it.contentEditable==="true")&&(Ko=it,Go=Ee,ma=null);break;case"focusout":ma=Go=Ko=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,tf(ze,h,Oe);break;case"selectionchange":if(Sl)break;case"keydown":case"keyup":tf(ze,h,Oe)}var ot;if(xi)e:{switch(o){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else ri?Wo(o,h)&&(dt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(dt="onCompositionStart");dt&&(Gd&&h.locale!=="ko"&&(ri||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&ri&&(ot=Gc()):(wi=Oe,Wn="value"in wi?wi.value:wi.textContent,ri=!0)),it=y(Ee,dt),0<it.length&&(dt=new tu(dt,o,null,h,Oe),ze.push({event:dt,listeners:it}),ot?dt.data=ot:(ot=iu(h),ot!==null&&(dt.data=ot)))),(ot=ni?tm(o,h):bi(o,h))&&(Ee=y(Ee,"onBeforeInput"),0<Ee.length&&(Oe=new tu("onBeforeInput","beforeinput",null,h,Oe),ze.push({event:Oe,listeners:Ee}),Oe.data=ot))}hu(ze,a)})}function d(o,a,h){return{instance:o,listener:a,currentTarget:h}}function y(o,a){for(var h=a+"Capture",w=[];o!==null;){var C=o,A=C.stateNode;C.tag===5&&A!==null&&(C=A,A=ta(o,h),A!=null&&w.unshift(d(o,A,C)),A=ta(o,a),A!=null&&w.push(d(o,A,C))),o=o.return}return w}function S(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function j(o,a,h,w,C){for(var A=a._reactName,$=[];h!==null&&h!==w;){var se=h,de=se.alternate,Ee=se.stateNode;if(de!==null&&de===w)break;se.tag===5&&Ee!==null&&(se=Ee,C?(de=ta(h,A),de!=null&&$.unshift(d(h,de,se))):C||(de=ta(h,A),de!=null&&$.push(d(h,de,se)))),h=h.return}$.length!==0&&o.push({event:a,listeners:$})}var H=/\r\n?/g,ce=/\u0000|\uFFFD/g;function ge(o){return(typeof o=="string"?o:""+o).replace(H,`
`).replace(ce,"")}function xe(o,a,h){if(a=ge(a),ge(o)!==a&&h)throw Error(n(425))}function Re(){}var Ze=null,nt=null;function gt(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mn=typeof setTimeout=="function"?setTimeout:void 0,dn=typeof clearTimeout=="function"?clearTimeout:void 0,qn=typeof Promise=="function"?Promise:void 0,On=typeof queueMicrotask=="function"?queueMicrotask:typeof qn<"u"?function(o){return qn.resolve(null).then(o).catch(es)}:mn;function es(o){setTimeout(function(){throw o})}function mu(o,a){var h=a,w=0;do{var C=h.nextSibling;if(o.removeChild(h),C&&C.nodeType===8)if(h=C.data,h==="/$"){if(w===0){o.removeChild(C),vr(a);return}w--}else h!=="$"&&h!=="$?"&&h!=="$!"||w++;h=C}while(h);vr(a)}function Ci(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function lf(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return o;a--}else h==="/$"&&a++}o=o.previousSibling}return null}var to=Math.random().toString(36).slice(2),zr="__reactFiber$"+to,ts="__reactProps$"+to,jt="__reactContainer$"+to,ns="__reactEvents$"+to,om="__reactListeners$"+to,sm="__reactHandles$"+to;function no(o){var a=o[zr];if(a)return a;for(var h=o.parentNode;h;){if(a=h[jt]||h[zr]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(o=lf(o);o!==null;){if(h=o[zr])return h;o=lf(o)}return a}o=h,h=o.parentNode}return null}function ro(o){return o=o[zr]||o[jt],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function io(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Tl(o){return o[ts]||null}var am=[],Nl=-1;function rs(o){return{current:o}}function Ht(o){0>Nl||(o.current=am[Nl],am[Nl]=null,Nl--)}function $t(o,a){Nl++,am[Nl]=o.current,o.current=a}var is={},jn=rs(is),ir=rs(!1),va=is;function Al(o,a){var h=o.type.contextTypes;if(!h)return is;var w=o.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===a)return w.__reactInternalMemoizedMaskedChildContext;var C={},A;for(A in h)C[A]=a[A];return w&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=C),C}function or(o){return o=o.childContextTypes,o!=null}function cf(){Ht(ir),Ht(jn)}function X0(o,a,h){if(jn.current!==is)throw Error(n(168));$t(jn,a),$t(ir,h)}function ew(o,a,h){var w=o.stateNode;if(a=a.childContextTypes,typeof w.getChildContext!="function")return h;w=w.getChildContext();for(var C in w)if(!(C in a))throw Error(n(108,Ue(o)||"Unknown",C));return le({},h,w)}function uf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||is,va=jn.current,$t(jn,o),$t(ir,ir.current),!0}function tw(o,a,h){var w=o.stateNode;if(!w)throw Error(n(169));h?(o=ew(o,a,va),w.__reactInternalMemoizedMergedChildContext=o,Ht(ir),Ht(jn),$t(jn,o)):Ht(ir),$t(ir,h)}var oo=null,df=!1,lm=!1;function nw(o){oo===null?oo=[o]:oo.push(o)}function lN(o){df=!0,nw(o)}function os(){if(!lm&&oo!==null){lm=!0;var o=0,a=St;try{var h=oo;for(St=1;o<h.length;o++){var w=h[o];do w=w(!0);while(w!==null)}oo=null,df=!1}catch(C){throw oo!==null&&(oo=oo.slice(o+1)),zd(Hc,os),C}finally{St=a,lm=!1}}return null}var Rl=[],Il=0,ff=null,hf=0,Dr=[],Br=0,wa=null,so=1,ao="";function _a(o,a){Rl[Il++]=hf,Rl[Il++]=ff,ff=o,hf=a}function rw(o,a,h){Dr[Br++]=so,Dr[Br++]=ao,Dr[Br++]=wa,wa=o;var w=so;o=ao;var C=32-pt(w)-1;w&=~(1<<C),h+=1;var A=32-pt(a)+C;if(30<A){var $=C-C%5;A=(w&(1<<$)-1).toString(32),w>>=$,C-=$,so=1<<32-pt(a)+C|h<<C|w,ao=A+o}else so=1<<A|h<<C|w,ao=o}function cm(o){o.return!==null&&(_a(o,1),rw(o,1,0))}function um(o){for(;o===ff;)ff=Rl[--Il],Rl[Il]=null,hf=Rl[--Il],Rl[Il]=null;for(;o===wa;)wa=Dr[--Br],Dr[Br]=null,ao=Dr[--Br],Dr[Br]=null,so=Dr[--Br],Dr[Br]=null}var Er=null,kr=null,Kt=!1,oi=null;function iw(o,a){var h=Zr(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=o,a=o.deletions,a===null?(o.deletions=[h],o.flags|=16):a.push(h)}function ow(o,a){switch(o.tag){case 5:var h=o.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Er=o,kr=Ci(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Er=o,kr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=wa!==null?{id:so,overflow:ao}:null,o.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=Zr(18,null,null,0),h.stateNode=a,h.return=o,o.child=h,Er=o,kr=null,!0):!1;default:return!1}}function dm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function fm(o){if(Kt){var a=kr;if(a){var h=a;if(!ow(o,a)){if(dm(o))throw Error(n(418));a=Ci(h.nextSibling);var w=Er;a&&ow(o,a)?iw(w,h):(o.flags=o.flags&-4097|2,Kt=!1,Er=o)}}else{if(dm(o))throw Error(n(418));o.flags=o.flags&-4097|2,Kt=!1,Er=o}}}function sw(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Er=o}function pf(o){if(o!==Er)return!1;if(!Kt)return sw(o),Kt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!gt(o.type,o.memoizedProps)),a&&(a=kr)){if(dm(o))throw aw(),Error(n(418));for(;a;)iw(o,a),a=Ci(a.nextSibling)}if(sw(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(a===0){kr=Ci(o.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}o=o.nextSibling}kr=null}}else kr=Er?Ci(o.stateNode.nextSibling):null;return!0}function aw(){for(var o=kr;o;)o=Ci(o.nextSibling)}function Ll(){kr=Er=null,Kt=!1}function hm(o){oi===null?oi=[o]:oi.push(o)}var cN=D.ReactCurrentBatchConfig;function gu(o,a,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var w=h.stateNode}if(!w)throw Error(n(147,o));var C=w,A=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===A?a.ref:(a=function($){var se=C.refs;$===null?delete se[A]:se[A]=$},a._stringRef=A,a)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function mf(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function lw(o){var a=o._init;return a(o._payload)}function cw(o){function a(ye,he){if(o){var ve=ye.deletions;ve===null?(ye.deletions=[he],ye.flags|=16):ve.push(he)}}function h(ye,he){if(!o)return null;for(;he!==null;)a(ye,he),he=he.sibling;return null}function w(ye,he){for(ye=new Map;he!==null;)he.key!==null?ye.set(he.key,he):ye.set(he.index,he),he=he.sibling;return ye}function C(ye,he){return ye=hs(ye,he),ye.index=0,ye.sibling=null,ye}function A(ye,he,ve){return ye.index=ve,o?(ve=ye.alternate,ve!==null?(ve=ve.index,ve<he?(ye.flags|=2,he):ve):(ye.flags|=2,he)):(ye.flags|=1048576,he)}function $(ye){return o&&ye.alternate===null&&(ye.flags|=2),ye}function se(ye,he,ve,Be){return he===null||he.tag!==6?(he=ig(ve,ye.mode,Be),he.return=ye,he):(he=C(he,ve),he.return=ye,he)}function de(ye,he,ve,Be){var Xe=ve.type;return Xe===G?Oe(ye,he,ve.props.children,Be,ve.key):he!==null&&(he.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===ae&&lw(Xe)===he.type)?(Be=C(he,ve.props),Be.ref=gu(ye,he,ve),Be.return=ye,Be):(Be=Bf(ve.type,ve.key,ve.props,null,ye.mode,Be),Be.ref=gu(ye,he,ve),Be.return=ye,Be)}function Ee(ye,he,ve,Be){return he===null||he.tag!==4||he.stateNode.containerInfo!==ve.containerInfo||he.stateNode.implementation!==ve.implementation?(he=og(ve,ye.mode,Be),he.return=ye,he):(he=C(he,ve.children||[]),he.return=ye,he)}function Oe(ye,he,ve,Be,Xe){return he===null||he.tag!==7?(he=Ta(ve,ye.mode,Be,Xe),he.return=ye,he):(he=C(he,ve),he.return=ye,he)}function ze(ye,he,ve){if(typeof he=="string"&&he!==""||typeof he=="number")return he=ig(""+he,ye.mode,ve),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case B:return ve=Bf(he.type,he.key,he.props,null,ye.mode,ve),ve.ref=gu(ye,null,he),ve.return=ye,ve;case q:return he=og(he,ye.mode,ve),he.return=ye,he;case ae:var Be=he._init;return ze(ye,Be(he._payload),ve)}if(Ne(he)||ee(he))return he=Ta(he,ye.mode,ve,null),he.return=ye,he;mf(ye,he)}return null}function Le(ye,he,ve,Be){var Xe=he!==null?he.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return Xe!==null?null:se(ye,he,""+ve,Be);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case B:return ve.key===Xe?de(ye,he,ve,Be):null;case q:return ve.key===Xe?Ee(ye,he,ve,Be):null;case ae:return Xe=ve._init,Le(ye,he,Xe(ve._payload),Be)}if(Ne(ve)||ee(ve))return Xe!==null?null:Oe(ye,he,ve,Be,null);mf(ye,ve)}return null}function Ve(ye,he,ve,Be,Xe){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return ye=ye.get(ve)||null,se(he,ye,""+Be,Xe);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case B:return ye=ye.get(Be.key===null?ve:Be.key)||null,de(he,ye,Be,Xe);case q:return ye=ye.get(Be.key===null?ve:Be.key)||null,Ee(he,ye,Be,Xe);case ae:var it=Be._init;return Ve(ye,he,ve,it(Be._payload),Xe)}if(Ne(Be)||ee(Be))return ye=ye.get(ve)||null,Oe(he,ye,Be,Xe,null);mf(he,Be)}return null}function Ge(ye,he,ve,Be){for(var Xe=null,it=null,ot=he,dt=he=0,bn=null;ot!==null&&dt<ve.length;dt++){ot.index>dt?(bn=ot,ot=null):bn=ot.sibling;var Rt=Le(ye,ot,ve[dt],Be);if(Rt===null){ot===null&&(ot=bn);break}o&&ot&&Rt.alternate===null&&a(ye,ot),he=A(Rt,he,dt),it===null?Xe=Rt:it.sibling=Rt,it=Rt,ot=bn}if(dt===ve.length)return h(ye,ot),Kt&&_a(ye,dt),Xe;if(ot===null){for(;dt<ve.length;dt++)ot=ze(ye,ve[dt],Be),ot!==null&&(he=A(ot,he,dt),it===null?Xe=ot:it.sibling=ot,it=ot);return Kt&&_a(ye,dt),Xe}for(ot=w(ye,ot);dt<ve.length;dt++)bn=Ve(ot,ye,dt,ve[dt],Be),bn!==null&&(o&&bn.alternate!==null&&ot.delete(bn.key===null?dt:bn.key),he=A(bn,he,dt),it===null?Xe=bn:it.sibling=bn,it=bn);return o&&ot.forEach(function(ps){return a(ye,ps)}),Kt&&_a(ye,dt),Xe}function Ye(ye,he,ve,Be){var Xe=ee(ve);if(typeof Xe!="function")throw Error(n(150));if(ve=Xe.call(ve),ve==null)throw Error(n(151));for(var it=Xe=null,ot=he,dt=he=0,bn=null,Rt=ve.next();ot!==null&&!Rt.done;dt++,Rt=ve.next()){ot.index>dt?(bn=ot,ot=null):bn=ot.sibling;var ps=Le(ye,ot,Rt.value,Be);if(ps===null){ot===null&&(ot=bn);break}o&&ot&&ps.alternate===null&&a(ye,ot),he=A(ps,he,dt),it===null?Xe=ps:it.sibling=ps,it=ps,ot=bn}if(Rt.done)return h(ye,ot),Kt&&_a(ye,dt),Xe;if(ot===null){for(;!Rt.done;dt++,Rt=ve.next())Rt=ze(ye,Rt.value,Be),Rt!==null&&(he=A(Rt,he,dt),it===null?Xe=Rt:it.sibling=Rt,it=Rt);return Kt&&_a(ye,dt),Xe}for(ot=w(ye,ot);!Rt.done;dt++,Rt=ve.next())Rt=Ve(ot,ye,dt,Rt.value,Be),Rt!==null&&(o&&Rt.alternate!==null&&ot.delete(Rt.key===null?dt:Rt.key),he=A(Rt,he,dt),it===null?Xe=Rt:it.sibling=Rt,it=Rt);return o&&ot.forEach(function($N){return a(ye,$N)}),Kt&&_a(ye,dt),Xe}function cn(ye,he,ve,Be){if(typeof ve=="object"&&ve!==null&&ve.type===G&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case B:e:{for(var Xe=ve.key,it=he;it!==null;){if(it.key===Xe){if(Xe=ve.type,Xe===G){if(it.tag===7){h(ye,it.sibling),he=C(it,ve.props.children),he.return=ye,ye=he;break e}}else if(it.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===ae&&lw(Xe)===it.type){h(ye,it.sibling),he=C(it,ve.props),he.ref=gu(ye,it,ve),he.return=ye,ye=he;break e}h(ye,it);break}else a(ye,it);it=it.sibling}ve.type===G?(he=Ta(ve.props.children,ye.mode,Be,ve.key),he.return=ye,ye=he):(Be=Bf(ve.type,ve.key,ve.props,null,ye.mode,Be),Be.ref=gu(ye,he,ve),Be.return=ye,ye=Be)}return $(ye);case q:e:{for(it=ve.key;he!==null;){if(he.key===it)if(he.tag===4&&he.stateNode.containerInfo===ve.containerInfo&&he.stateNode.implementation===ve.implementation){h(ye,he.sibling),he=C(he,ve.children||[]),he.return=ye,ye=he;break e}else{h(ye,he);break}else a(ye,he);he=he.sibling}he=og(ve,ye.mode,Be),he.return=ye,ye=he}return $(ye);case ae:return it=ve._init,cn(ye,he,it(ve._payload),Be)}if(Ne(ve))return Ge(ye,he,ve,Be);if(ee(ve))return Ye(ye,he,ve,Be);mf(ye,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,he!==null&&he.tag===6?(h(ye,he.sibling),he=C(he,ve),he.return=ye,ye=he):(h(ye,he),he=ig(ve,ye.mode,Be),he.return=ye,ye=he),$(ye)):h(ye,he)}return cn}var Ol=cw(!0),uw=cw(!1),gf=rs(null),yf=null,jl=null,pm=null;function mm(){pm=jl=yf=null}function gm(o){var a=gf.current;Ht(gf),o._currentValue=a}function ym(o,a,h){for(;o!==null;){var w=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,w!==null&&(w.childLanes|=a)):w!==null&&(w.childLanes&a)!==a&&(w.childLanes|=a),o===h)break;o=o.return}}function Ml(o,a){yf=o,pm=jl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(sr=!0),o.firstContext=null)}function Fr(o){var a=o._currentValue;if(pm!==o)if(o={context:o,memoizedValue:a,next:null},jl===null){if(yf===null)throw Error(n(308));jl=o,yf.dependencies={lanes:0,firstContext:o}}else jl=jl.next=o;return a}var xa=null;function vm(o){xa===null?xa=[o]:xa.push(o)}function dw(o,a,h,w){var C=a.interleaved;return C===null?(h.next=h,vm(a)):(h.next=C.next,C.next=h),a.interleaved=h,lo(o,w)}function lo(o,a){o.lanes|=a;var h=o.alternate;for(h!==null&&(h.lanes|=a),h=o,o=o.return;o!==null;)o.childLanes|=a,h=o.alternate,h!==null&&(h.childLanes|=a),h=o,o=o.return;return h.tag===3?h.stateNode:null}var ss=!1;function wm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fw(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function co(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function as(o,a,h){var w=o.updateQueue;if(w===null)return null;if(w=w.shared,(Pt&2)!==0){var C=w.pending;return C===null?a.next=a:(a.next=C.next,C.next=a),w.pending=a,lo(o,h)}return C=w.interleaved,C===null?(a.next=a,vm(w)):(a.next=C.next,C.next=a),w.interleaved=a,lo(o,h)}function vf(o,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var w=a.lanes;w&=o.pendingLanes,h|=w,a.lanes=h,ei(o,h)}}function hw(o,a){var h=o.updateQueue,w=o.alternate;if(w!==null&&(w=w.updateQueue,h===w)){var C=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var $={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};A===null?C=A=$:A=A.next=$,h=h.next}while(h!==null);A===null?C=A=a:A=A.next=a}else C=A=a;h={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:A,shared:w.shared,effects:w.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=a:o.next=a,h.lastBaseUpdate=a}function wf(o,a,h,w){var C=o.updateQueue;ss=!1;var A=C.firstBaseUpdate,$=C.lastBaseUpdate,se=C.shared.pending;if(se!==null){C.shared.pending=null;var de=se,Ee=de.next;de.next=null,$===null?A=Ee:$.next=Ee,$=de;var Oe=o.alternate;Oe!==null&&(Oe=Oe.updateQueue,se=Oe.lastBaseUpdate,se!==$&&(se===null?Oe.firstBaseUpdate=Ee:se.next=Ee,Oe.lastBaseUpdate=de))}if(A!==null){var ze=C.baseState;$=0,Oe=Ee=de=null,se=A;do{var Le=se.lane,Ve=se.eventTime;if((w&Le)===Le){Oe!==null&&(Oe=Oe.next={eventTime:Ve,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var Ge=o,Ye=se;switch(Le=a,Ve=h,Ye.tag){case 1:if(Ge=Ye.payload,typeof Ge=="function"){ze=Ge.call(Ve,ze,Le);break e}ze=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Ye.payload,Le=typeof Ge=="function"?Ge.call(Ve,ze,Le):Ge,Le==null)break e;ze=le({},ze,Le);break e;case 2:ss=!0}}se.callback!==null&&se.lane!==0&&(o.flags|=64,Le=C.effects,Le===null?C.effects=[se]:Le.push(se))}else Ve={eventTime:Ve,lane:Le,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Oe===null?(Ee=Oe=Ve,de=ze):Oe=Oe.next=Ve,$|=Le;if(se=se.next,se===null){if(se=C.shared.pending,se===null)break;Le=se,se=Le.next,Le.next=null,C.lastBaseUpdate=Le,C.shared.pending=null}}while(!0);if(Oe===null&&(de=ze),C.baseState=de,C.firstBaseUpdate=Ee,C.lastBaseUpdate=Oe,a=C.shared.interleaved,a!==null){C=a;do $|=C.lane,C=C.next;while(C!==a)}else A===null&&(C.shared.lanes=0);ka|=$,o.lanes=$,o.memoizedState=ze}}function pw(o,a,h){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var w=o[a],C=w.callback;if(C!==null){if(w.callback=null,w=h,typeof C!="function")throw Error(n(191,C));C.call(w)}}}var yu={},Pi=rs(yu),vu=rs(yu),wu=rs(yu);function ba(o){if(o===yu)throw Error(n(174));return o}function _m(o,a){switch($t(wu,a),$t(vu,o),$t(Pi,yu),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Z(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Z(a,o)}Ht(Pi),$t(Pi,a)}function zl(){Ht(Pi),Ht(vu),Ht(wu)}function mw(o){ba(wu.current);var a=ba(Pi.current),h=Z(a,o.type);a!==h&&($t(vu,o),$t(Pi,h))}function xm(o){vu.current===o&&(Ht(Pi),Ht(vu))}var tn=rs(0);function _f(o){for(var a=o;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var bm=[];function Em(){for(var o=0;o<bm.length;o++)bm[o]._workInProgressVersionPrimary=null;bm.length=0}var xf=D.ReactCurrentDispatcher,km=D.ReactCurrentBatchConfig,Ea=0,nn=null,gn=null,_n=null,bf=!1,_u=!1,xu=0,uN=0;function Mn(){throw Error(n(321))}function Sm(o,a){if(a===null)return!1;for(var h=0;h<a.length&&h<o.length;h++)if(!xr(o[h],a[h]))return!1;return!0}function Cm(o,a,h,w,C,A){if(Ea=A,nn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,xf.current=o===null||o.memoizedState===null?pN:mN,o=h(w,C),_u){A=0;do{if(_u=!1,xu=0,25<=A)throw Error(n(301));A+=1,_n=gn=null,a.updateQueue=null,xf.current=gN,o=h(w,C)}while(_u)}if(xf.current=Sf,a=gn!==null&&gn.next!==null,Ea=0,_n=gn=nn=null,bf=!1,a)throw Error(n(300));return o}function Pm(){var o=xu!==0;return xu=0,o}function Ti(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?nn.memoizedState=_n=o:_n=_n.next=o,_n}function Ur(){if(gn===null){var o=nn.alternate;o=o!==null?o.memoizedState:null}else o=gn.next;var a=_n===null?nn.memoizedState:_n.next;if(a!==null)_n=a,gn=o;else{if(o===null)throw Error(n(310));gn=o,o={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},_n===null?nn.memoizedState=_n=o:_n=_n.next=o}return _n}function bu(o,a){return typeof a=="function"?a(o):a}function Tm(o){var a=Ur(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var w=gn,C=w.baseQueue,A=h.pending;if(A!==null){if(C!==null){var $=C.next;C.next=A.next,A.next=$}w.baseQueue=C=A,h.pending=null}if(C!==null){A=C.next,w=w.baseState;var se=$=null,de=null,Ee=A;do{var Oe=Ee.lane;if((Ea&Oe)===Oe)de!==null&&(de=de.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),w=Ee.hasEagerState?Ee.eagerState:o(w,Ee.action);else{var ze={lane:Oe,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};de===null?(se=de=ze,$=w):de=de.next=ze,nn.lanes|=Oe,ka|=Oe}Ee=Ee.next}while(Ee!==null&&Ee!==A);de===null?$=w:de.next=se,xr(w,a.memoizedState)||(sr=!0),a.memoizedState=w,a.baseState=$,a.baseQueue=de,h.lastRenderedState=w}if(o=h.interleaved,o!==null){C=o;do A=C.lane,nn.lanes|=A,ka|=A,C=C.next;while(C!==o)}else C===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Nm(o){var a=Ur(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var w=h.dispatch,C=h.pending,A=a.memoizedState;if(C!==null){h.pending=null;var $=C=C.next;do A=o(A,$.action),$=$.next;while($!==C);xr(A,a.memoizedState)||(sr=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),h.lastRenderedState=A}return[A,w]}function gw(){}function yw(o,a){var h=nn,w=Ur(),C=a(),A=!xr(w.memoizedState,C);if(A&&(w.memoizedState=C,sr=!0),w=w.queue,Am(_w.bind(null,h,w,o),[o]),w.getSnapshot!==a||A||_n!==null&&_n.memoizedState.tag&1){if(h.flags|=2048,Eu(9,ww.bind(null,h,w,C,a),void 0,null),xn===null)throw Error(n(349));(Ea&30)!==0||vw(h,a,C)}return C}function vw(o,a,h){o.flags|=16384,o={getSnapshot:a,value:h},a=nn.updateQueue,a===null?(a={lastEffect:null,stores:null},nn.updateQueue=a,a.stores=[o]):(h=a.stores,h===null?a.stores=[o]:h.push(o))}function ww(o,a,h,w){a.value=h,a.getSnapshot=w,xw(a)&&bw(o)}function _w(o,a,h){return h(function(){xw(a)&&bw(o)})}function xw(o){var a=o.getSnapshot;o=o.value;try{var h=a();return!xr(o,h)}catch{return!0}}function bw(o){var a=lo(o,1);a!==null&&ci(a,o,1,-1)}function Ew(o){var a=Ti();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:o},a.queue=o,o=o.dispatch=hN.bind(null,nn,o),[a.memoizedState,o]}function Eu(o,a,h,w){return o={tag:o,create:a,destroy:h,deps:w,next:null},a=nn.updateQueue,a===null?(a={lastEffect:null,stores:null},nn.updateQueue=a,a.lastEffect=o.next=o):(h=a.lastEffect,h===null?a.lastEffect=o.next=o:(w=h.next,h.next=o,o.next=w,a.lastEffect=o)),o}function kw(){return Ur().memoizedState}function Ef(o,a,h,w){var C=Ti();nn.flags|=o,C.memoizedState=Eu(1|a,h,void 0,w===void 0?null:w)}function kf(o,a,h,w){var C=Ur();w=w===void 0?null:w;var A=void 0;if(gn!==null){var $=gn.memoizedState;if(A=$.destroy,w!==null&&Sm(w,$.deps)){C.memoizedState=Eu(a,h,A,w);return}}nn.flags|=o,C.memoizedState=Eu(1|a,h,A,w)}function Sw(o,a){return Ef(8390656,8,o,a)}function Am(o,a){return kf(2048,8,o,a)}function Cw(o,a){return kf(4,2,o,a)}function Pw(o,a){return kf(4,4,o,a)}function Tw(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Nw(o,a,h){return h=h!=null?h.concat([o]):null,kf(4,4,Tw.bind(null,a,o),h)}function Rm(){}function Aw(o,a){var h=Ur();a=a===void 0?null:a;var w=h.memoizedState;return w!==null&&a!==null&&Sm(a,w[1])?w[0]:(h.memoizedState=[o,a],o)}function Rw(o,a){var h=Ur();a=a===void 0?null:a;var w=h.memoizedState;return w!==null&&a!==null&&Sm(a,w[1])?w[0]:(o=o(),h.memoizedState=[o,a],o)}function Iw(o,a,h){return(Ea&21)===0?(o.baseState&&(o.baseState=!1,sr=!0),o.memoizedState=h):(xr(h,a)||(h=Bd(),nn.lanes|=h,ka|=h,o.baseState=!0),a)}function dN(o,a){var h=St;St=h!==0&&4>h?h:4,o(!0);var w=km.transition;km.transition={};try{o(!1),a()}finally{St=h,km.transition=w}}function Lw(){return Ur().memoizedState}function fN(o,a,h){var w=ds(o);if(h={lane:w,action:h,hasEagerState:!1,eagerState:null,next:null},Ow(o))jw(a,h);else if(h=dw(o,a,h,w),h!==null){var C=Gn();ci(h,o,w,C),Mw(h,a,w)}}function hN(o,a,h){var w=ds(o),C={lane:w,action:h,hasEagerState:!1,eagerState:null,next:null};if(Ow(o))jw(a,C);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var $=a.lastRenderedState,se=A($,h);if(C.hasEagerState=!0,C.eagerState=se,xr(se,$)){var de=a.interleaved;de===null?(C.next=C,vm(a)):(C.next=de.next,de.next=C),a.interleaved=C;return}}catch{}finally{}h=dw(o,a,C,w),h!==null&&(C=Gn(),ci(h,o,w,C),Mw(h,a,w))}}function Ow(o){var a=o.alternate;return o===nn||a!==null&&a===nn}function jw(o,a){_u=bf=!0;var h=o.pending;h===null?a.next=a:(a.next=h.next,h.next=a),o.pending=a}function Mw(o,a,h){if((h&4194240)!==0){var w=a.lanes;w&=o.pendingLanes,h|=w,a.lanes=h,ei(o,h)}}var Sf={readContext:Fr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},pN={readContext:Fr,useCallback:function(o,a){return Ti().memoizedState=[o,a===void 0?null:a],o},useContext:Fr,useEffect:Sw,useImperativeHandle:function(o,a,h){return h=h!=null?h.concat([o]):null,Ef(4194308,4,Tw.bind(null,a,o),h)},useLayoutEffect:function(o,a){return Ef(4194308,4,o,a)},useInsertionEffect:function(o,a){return Ef(4,2,o,a)},useMemo:function(o,a){var h=Ti();return a=a===void 0?null:a,o=o(),h.memoizedState=[o,a],o},useReducer:function(o,a,h){var w=Ti();return a=h!==void 0?h(a):a,w.memoizedState=w.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},w.queue=o,o=o.dispatch=fN.bind(null,nn,o),[w.memoizedState,o]},useRef:function(o){var a=Ti();return o={current:o},a.memoizedState=o},useState:Ew,useDebugValue:Rm,useDeferredValue:function(o){return Ti().memoizedState=o},useTransition:function(){var o=Ew(!1),a=o[0];return o=dN.bind(null,o[1]),Ti().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,h){var w=nn,C=Ti();if(Kt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=a(),xn===null)throw Error(n(349));(Ea&30)!==0||vw(w,a,h)}C.memoizedState=h;var A={value:h,getSnapshot:a};return C.queue=A,Sw(_w.bind(null,w,A,o),[o]),w.flags|=2048,Eu(9,ww.bind(null,w,A,h,a),void 0,null),h},useId:function(){var o=Ti(),a=xn.identifierPrefix;if(Kt){var h=ao,w=so;h=(w&~(1<<32-pt(w)-1)).toString(32)+h,a=":"+a+"R"+h,h=xu++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=uN++,a=":"+a+"r"+h.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},mN={readContext:Fr,useCallback:Aw,useContext:Fr,useEffect:Am,useImperativeHandle:Nw,useInsertionEffect:Cw,useLayoutEffect:Pw,useMemo:Rw,useReducer:Tm,useRef:kw,useState:function(){return Tm(bu)},useDebugValue:Rm,useDeferredValue:function(o){var a=Ur();return Iw(a,gn.memoizedState,o)},useTransition:function(){var o=Tm(bu)[0],a=Ur().memoizedState;return[o,a]},useMutableSource:gw,useSyncExternalStore:yw,useId:Lw,unstable_isNewReconciler:!1},gN={readContext:Fr,useCallback:Aw,useContext:Fr,useEffect:Am,useImperativeHandle:Nw,useInsertionEffect:Cw,useLayoutEffect:Pw,useMemo:Rw,useReducer:Nm,useRef:kw,useState:function(){return Nm(bu)},useDebugValue:Rm,useDeferredValue:function(o){var a=Ur();return gn===null?a.memoizedState=o:Iw(a,gn.memoizedState,o)},useTransition:function(){var o=Nm(bu)[0],a=Ur().memoizedState;return[o,a]},useMutableSource:gw,useSyncExternalStore:yw,useId:Lw,unstable_isNewReconciler:!1};function si(o,a){if(o&&o.defaultProps){a=le({},a),o=o.defaultProps;for(var h in o)a[h]===void 0&&(a[h]=o[h]);return a}return a}function Im(o,a,h,w){a=o.memoizedState,h=h(w,a),h=h==null?a:le({},a,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Cf={isMounted:function(o){return(o=o._reactInternals)?vi(o)===o:!1},enqueueSetState:function(o,a,h){o=o._reactInternals;var w=Gn(),C=ds(o),A=co(w,C);A.payload=a,h!=null&&(A.callback=h),a=as(o,A,C),a!==null&&(ci(a,o,C,w),vf(a,o,C))},enqueueReplaceState:function(o,a,h){o=o._reactInternals;var w=Gn(),C=ds(o),A=co(w,C);A.tag=1,A.payload=a,h!=null&&(A.callback=h),a=as(o,A,C),a!==null&&(ci(a,o,C,w),vf(a,o,C))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var h=Gn(),w=ds(o),C=co(h,w);C.tag=2,a!=null&&(C.callback=a),a=as(o,C,w),a!==null&&(ci(a,o,w,h),vf(a,o,w))}};function zw(o,a,h,w,C,A,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(w,A,$):a.prototype&&a.prototype.isPureReactComponent?!Ei(h,w)||!Ei(C,A):!0}function Dw(o,a,h){var w=!1,C=is,A=a.contextType;return typeof A=="object"&&A!==null?A=Fr(A):(C=or(a)?va:jn.current,w=a.contextTypes,A=(w=w!=null)?Al(o,C):is),a=new a(h,A),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Cf,o.stateNode=a,a._reactInternals=o,w&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=C,o.__reactInternalMemoizedMaskedChildContext=A),a}function Bw(o,a,h,w){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,w),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,w),a.state!==o&&Cf.enqueueReplaceState(a,a.state,null)}function Lm(o,a,h,w){var C=o.stateNode;C.props=h,C.state=o.memoizedState,C.refs={},wm(o);var A=a.contextType;typeof A=="object"&&A!==null?C.context=Fr(A):(A=or(a)?va:jn.current,C.context=Al(o,A)),C.state=o.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Im(o,a,A,h),C.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(a=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),a!==C.state&&Cf.enqueueReplaceState(C,C.state,null),wf(o,h,C,w),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308)}function Dl(o,a){try{var h="",w=a;do h+=we(w),w=w.return;while(w);var C=h}catch(A){C=`
Error generating stack: `+A.message+`
`+A.stack}return{value:o,source:a,stack:C,digest:null}}function Om(o,a,h){return{value:o,source:null,stack:h??null,digest:a??null}}function jm(o,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var yN=typeof WeakMap=="function"?WeakMap:Map;function Fw(o,a,h){h=co(-1,h),h.tag=3,h.payload={element:null};var w=a.value;return h.callback=function(){Lf||(Lf=!0,Ym=w),jm(o,a)},h}function Uw(o,a,h){h=co(-1,h),h.tag=3;var w=o.type.getDerivedStateFromError;if(typeof w=="function"){var C=a.value;h.payload=function(){return w(C)},h.callback=function(){jm(o,a)}}var A=o.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(h.callback=function(){jm(o,a),typeof w!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var $=a.stack;this.componentDidCatch(a.value,{componentStack:$!==null?$:""})}),h}function $w(o,a,h){var w=o.pingCache;if(w===null){w=o.pingCache=new yN;var C=new Set;w.set(a,C)}else C=w.get(a),C===void 0&&(C=new Set,w.set(a,C));C.has(h)||(C.add(h),o=RN.bind(null,o,a,h),a.then(o,o))}function Zw(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function Hw(o,a,h,w,C){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=co(-1,1),a.tag=2,as(h,a,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=C,o)}var vN=D.ReactCurrentOwner,sr=!1;function Kn(o,a,h,w){a.child=o===null?uw(a,null,h,w):Ol(a,o.child,h,w)}function Ww(o,a,h,w,C){h=h.render;var A=a.ref;return Ml(a,C),w=Cm(o,a,h,w,A,C),h=Pm(),o!==null&&!sr?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~C,uo(o,a,C)):(Kt&&h&&cm(a),a.flags|=1,Kn(o,a,w,C),a.child)}function Vw(o,a,h,w,C){if(o===null){var A=h.type;return typeof A=="function"&&!rg(A)&&A.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=A,qw(o,a,A,w,C)):(o=Bf(h.type,null,w,a,a.mode,C),o.ref=a.ref,o.return=a,a.child=o)}if(A=o.child,(o.lanes&C)===0){var $=A.memoizedProps;if(h=h.compare,h=h!==null?h:Ei,h($,w)&&o.ref===a.ref)return uo(o,a,C)}return a.flags|=1,o=hs(A,w),o.ref=a.ref,o.return=a,a.child=o}function qw(o,a,h,w,C){if(o!==null){var A=o.memoizedProps;if(Ei(A,w)&&o.ref===a.ref)if(sr=!1,a.pendingProps=w=A,(o.lanes&C)!==0)(o.flags&131072)!==0&&(sr=!0);else return a.lanes=o.lanes,uo(o,a,C)}return Mm(o,a,h,w,C)}function Kw(o,a,h){var w=a.pendingProps,C=w.children,A=o!==null?o.memoizedState:null;if(w.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Fl,Sr),Sr|=h;else{if((h&1073741824)===0)return o=A!==null?A.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,$t(Fl,Sr),Sr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=A!==null?A.baseLanes:h,$t(Fl,Sr),Sr|=w}else A!==null?(w=A.baseLanes|h,a.memoizedState=null):w=h,$t(Fl,Sr),Sr|=w;return Kn(o,a,C,h),a.child}function Gw(o,a){var h=a.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function Mm(o,a,h,w,C){var A=or(h)?va:jn.current;return A=Al(a,A),Ml(a,C),h=Cm(o,a,h,w,A,C),w=Pm(),o!==null&&!sr?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~C,uo(o,a,C)):(Kt&&w&&cm(a),a.flags|=1,Kn(o,a,h,C),a.child)}function Yw(o,a,h,w,C){if(or(h)){var A=!0;uf(a)}else A=!1;if(Ml(a,C),a.stateNode===null)Tf(o,a),Dw(a,h,w),Lm(a,h,w,C),w=!0;else if(o===null){var $=a.stateNode,se=a.memoizedProps;$.props=se;var de=$.context,Ee=h.contextType;typeof Ee=="object"&&Ee!==null?Ee=Fr(Ee):(Ee=or(h)?va:jn.current,Ee=Al(a,Ee));var Oe=h.getDerivedStateFromProps,ze=typeof Oe=="function"||typeof $.getSnapshotBeforeUpdate=="function";ze||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(se!==w||de!==Ee)&&Bw(a,$,w,Ee),ss=!1;var Le=a.memoizedState;$.state=Le,wf(a,w,$,C),de=a.memoizedState,se!==w||Le!==de||ir.current||ss?(typeof Oe=="function"&&(Im(a,h,Oe,w),de=a.memoizedState),(se=ss||zw(a,h,se,w,Le,de,Ee))?(ze||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(a.flags|=4194308)):(typeof $.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=w,a.memoizedState=de),$.props=w,$.state=de,$.context=Ee,w=se):(typeof $.componentDidMount=="function"&&(a.flags|=4194308),w=!1)}else{$=a.stateNode,fw(o,a),se=a.memoizedProps,Ee=a.type===a.elementType?se:si(a.type,se),$.props=Ee,ze=a.pendingProps,Le=$.context,de=h.contextType,typeof de=="object"&&de!==null?de=Fr(de):(de=or(h)?va:jn.current,de=Al(a,de));var Ve=h.getDerivedStateFromProps;(Oe=typeof Ve=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(se!==ze||Le!==de)&&Bw(a,$,w,de),ss=!1,Le=a.memoizedState,$.state=Le,wf(a,w,$,C);var Ge=a.memoizedState;se!==ze||Le!==Ge||ir.current||ss?(typeof Ve=="function"&&(Im(a,h,Ve,w),Ge=a.memoizedState),(Ee=ss||zw(a,h,Ee,w,Le,Ge,de)||!1)?(Oe||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(w,Ge,de),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(w,Ge,de)),typeof $.componentDidUpdate=="function"&&(a.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof $.componentDidUpdate!="function"||se===o.memoizedProps&&Le===o.memoizedState||(a.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||se===o.memoizedProps&&Le===o.memoizedState||(a.flags|=1024),a.memoizedProps=w,a.memoizedState=Ge),$.props=w,$.state=Ge,$.context=de,w=Ee):(typeof $.componentDidUpdate!="function"||se===o.memoizedProps&&Le===o.memoizedState||(a.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||se===o.memoizedProps&&Le===o.memoizedState||(a.flags|=1024),w=!1)}return zm(o,a,h,w,A,C)}function zm(o,a,h,w,C,A){Gw(o,a);var $=(a.flags&128)!==0;if(!w&&!$)return C&&tw(a,h,!1),uo(o,a,A);w=a.stateNode,vN.current=a;var se=$&&typeof h.getDerivedStateFromError!="function"?null:w.render();return a.flags|=1,o!==null&&$?(a.child=Ol(a,o.child,null,A),a.child=Ol(a,null,se,A)):Kn(o,a,se,A),a.memoizedState=w.state,C&&tw(a,h,!0),a.child}function Jw(o){var a=o.stateNode;a.pendingContext?X0(o,a.pendingContext,a.pendingContext!==a.context):a.context&&X0(o,a.context,!1),_m(o,a.containerInfo)}function Qw(o,a,h,w,C){return Ll(),hm(C),a.flags|=256,Kn(o,a,h,w),a.child}var Dm={dehydrated:null,treeContext:null,retryLane:0};function Bm(o){return{baseLanes:o,cachePool:null,transitions:null}}function Xw(o,a,h){var w=a.pendingProps,C=tn.current,A=!1,$=(a.flags&128)!==0,se;if((se=$)||(se=o!==null&&o.memoizedState===null?!1:(C&2)!==0),se?(A=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(C|=1),$t(tn,C&1),o===null)return fm(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):($=w.children,o=w.fallback,A?(w=a.mode,A=a.child,$={mode:"hidden",children:$},(w&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=$):A=Ff($,w,0,null),o=Ta(o,w,h,null),A.return=a,o.return=a,A.sibling=o,a.child=A,a.child.memoizedState=Bm(h),a.memoizedState=Dm,o):Fm(a,$));if(C=o.memoizedState,C!==null&&(se=C.dehydrated,se!==null))return wN(o,a,$,w,se,C,h);if(A){A=w.fallback,$=a.mode,C=o.child,se=C.sibling;var de={mode:"hidden",children:w.children};return($&1)===0&&a.child!==C?(w=a.child,w.childLanes=0,w.pendingProps=de,a.deletions=null):(w=hs(C,de),w.subtreeFlags=C.subtreeFlags&14680064),se!==null?A=hs(se,A):(A=Ta(A,$,h,null),A.flags|=2),A.return=a,w.return=a,w.sibling=A,a.child=w,w=A,A=a.child,$=o.child.memoizedState,$=$===null?Bm(h):{baseLanes:$.baseLanes|h,cachePool:null,transitions:$.transitions},A.memoizedState=$,A.childLanes=o.childLanes&~h,a.memoizedState=Dm,w}return A=o.child,o=A.sibling,w=hs(A,{mode:"visible",children:w.children}),(a.mode&1)===0&&(w.lanes=h),w.return=a,w.sibling=null,o!==null&&(h=a.deletions,h===null?(a.deletions=[o],a.flags|=16):h.push(o)),a.child=w,a.memoizedState=null,w}function Fm(o,a){return a=Ff({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Pf(o,a,h,w){return w!==null&&hm(w),Ol(a,o.child,null,h),o=Fm(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function wN(o,a,h,w,C,A,$){if(h)return a.flags&256?(a.flags&=-257,w=Om(Error(n(422))),Pf(o,a,$,w)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(A=w.fallback,C=a.mode,w=Ff({mode:"visible",children:w.children},C,0,null),A=Ta(A,C,$,null),A.flags|=2,w.return=a,A.return=a,w.sibling=A,a.child=w,(a.mode&1)!==0&&Ol(a,o.child,null,$),a.child.memoizedState=Bm($),a.memoizedState=Dm,A);if((a.mode&1)===0)return Pf(o,a,$,null);if(C.data==="$!"){if(w=C.nextSibling&&C.nextSibling.dataset,w)var se=w.dgst;return w=se,A=Error(n(419)),w=Om(A,w,void 0),Pf(o,a,$,w)}if(se=($&o.childLanes)!==0,sr||se){if(w=xn,w!==null){switch($&-$){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(w.suspendedLanes|$))!==0?0:C,C!==0&&C!==A.retryLane&&(A.retryLane=C,lo(o,C),ci(w,o,C,-1))}return ng(),w=Om(Error(n(421))),Pf(o,a,$,w)}return C.data==="$?"?(a.flags|=128,a.child=o.child,a=IN.bind(null,o),C._reactRetry=a,null):(o=A.treeContext,kr=Ci(C.nextSibling),Er=a,Kt=!0,oi=null,o!==null&&(Dr[Br++]=so,Dr[Br++]=ao,Dr[Br++]=wa,so=o.id,ao=o.overflow,wa=a),a=Fm(a,w.children),a.flags|=4096,a)}function e_(o,a,h){o.lanes|=a;var w=o.alternate;w!==null&&(w.lanes|=a),ym(o.return,a,h)}function Um(o,a,h,w,C){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:w,tail:h,tailMode:C}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=w,A.tail=h,A.tailMode=C)}function t_(o,a,h){var w=a.pendingProps,C=w.revealOrder,A=w.tail;if(Kn(o,a,w.children,h),w=tn.current,(w&2)!==0)w=w&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&e_(o,h,a);else if(o.tag===19)e_(o,h,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}w&=1}if($t(tn,w),(a.mode&1)===0)a.memoizedState=null;else switch(C){case"forwards":for(h=a.child,C=null;h!==null;)o=h.alternate,o!==null&&_f(o)===null&&(C=h),h=h.sibling;h=C,h===null?(C=a.child,a.child=null):(C=h.sibling,h.sibling=null),Um(a,!1,C,h,A);break;case"backwards":for(h=null,C=a.child,a.child=null;C!==null;){if(o=C.alternate,o!==null&&_f(o)===null){a.child=C;break}o=C.sibling,C.sibling=h,h=C,C=o}Um(a,!0,h,null,A);break;case"together":Um(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Tf(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function uo(o,a,h){if(o!==null&&(a.dependencies=o.dependencies),ka|=a.lanes,(h&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,h=hs(o,o.pendingProps),a.child=h,h.return=a;o.sibling!==null;)o=o.sibling,h=h.sibling=hs(o,o.pendingProps),h.return=a;h.sibling=null}return a.child}function _N(o,a,h){switch(a.tag){case 3:Jw(a),Ll();break;case 5:mw(a);break;case 1:or(a.type)&&uf(a);break;case 4:_m(a,a.stateNode.containerInfo);break;case 10:var w=a.type._context,C=a.memoizedProps.value;$t(gf,w._currentValue),w._currentValue=C;break;case 13:if(w=a.memoizedState,w!==null)return w.dehydrated!==null?($t(tn,tn.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?Xw(o,a,h):($t(tn,tn.current&1),o=uo(o,a,h),o!==null?o.sibling:null);$t(tn,tn.current&1);break;case 19:if(w=(h&a.childLanes)!==0,(o.flags&128)!==0){if(w)return t_(o,a,h);a.flags|=128}if(C=a.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),$t(tn,tn.current),w)break;return null;case 22:case 23:return a.lanes=0,Kw(o,a,h)}return uo(o,a,h)}var n_,$m,r_,i_;n_=function(o,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},$m=function(){},r_=function(o,a,h,w){var C=o.memoizedProps;if(C!==w){o=a.stateNode,ba(Pi.current);var A=null;switch(h){case"input":C=z(o,C),w=z(o,w),A=[];break;case"select":C=le({},C,{value:void 0}),w=le({},w,{value:void 0}),A=[];break;case"textarea":C=me(o,C),w=me(o,w),A=[];break;default:typeof C.onClick!="function"&&typeof w.onClick=="function"&&(o.onclick=Re)}vt(h,w);var $;h=null;for(Ee in C)if(!w.hasOwnProperty(Ee)&&C.hasOwnProperty(Ee)&&C[Ee]!=null)if(Ee==="style"){var se=C[Ee];for($ in se)se.hasOwnProperty($)&&(h||(h={}),h[$]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?A||(A=[]):(A=A||[]).push(Ee,null));for(Ee in w){var de=w[Ee];if(se=C!=null?C[Ee]:void 0,w.hasOwnProperty(Ee)&&de!==se&&(de!=null||se!=null))if(Ee==="style")if(se){for($ in se)!se.hasOwnProperty($)||de&&de.hasOwnProperty($)||(h||(h={}),h[$]="");for($ in de)de.hasOwnProperty($)&&se[$]!==de[$]&&(h||(h={}),h[$]=de[$])}else h||(A||(A=[]),A.push(Ee,h)),h=de;else Ee==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,se=se?se.__html:void 0,de!=null&&se!==de&&(A=A||[]).push(Ee,de)):Ee==="children"?typeof de!="string"&&typeof de!="number"||(A=A||[]).push(Ee,""+de):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(de!=null&&Ee==="onScroll"&&Bt("scroll",o),A||se===de||(A=[])):(A=A||[]).push(Ee,de))}h&&(A=A||[]).push("style",h);var Ee=A;(a.updateQueue=Ee)&&(a.flags|=4)}},i_=function(o,a,h,w){h!==w&&(a.flags|=4)};function ku(o,a){if(!Kt)switch(o.tailMode){case"hidden":a=o.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var w=null;h!==null;)h.alternate!==null&&(w=h),h=h.sibling;w===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:w.sibling=null}}function zn(o){var a=o.alternate!==null&&o.alternate.child===o.child,h=0,w=0;if(a)for(var C=o.child;C!==null;)h|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)h|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=w,o.childLanes=h,a}function xN(o,a,h){var w=a.pendingProps;switch(um(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(a),null;case 1:return or(a.type)&&cf(),zn(a),null;case 3:return w=a.stateNode,zl(),Ht(ir),Ht(jn),Em(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(o===null||o.child===null)&&(pf(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,oi!==null&&(Xm(oi),oi=null))),$m(o,a),zn(a),null;case 5:xm(a);var C=ba(wu.current);if(h=a.type,o!==null&&a.stateNode!=null)r_(o,a,h,w,C),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!w){if(a.stateNode===null)throw Error(n(166));return zn(a),null}if(o=ba(Pi.current),pf(a)){w=a.stateNode,h=a.type;var A=a.memoizedProps;switch(w[zr]=a,w[ts]=A,o=(a.mode&1)!==0,h){case"dialog":Bt("cancel",w),Bt("close",w);break;case"iframe":case"object":case"embed":Bt("load",w);break;case"video":case"audio":for(C=0;C<Qo.length;C++)Bt(Qo[C],w);break;case"source":Bt("error",w);break;case"img":case"image":case"link":Bt("error",w),Bt("load",w);break;case"details":Bt("toggle",w);break;case"input":Pe(w,A),Bt("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!A.multiple},Bt("invalid",w);break;case"textarea":Me(w,A),Bt("invalid",w)}vt(h,A),C=null;for(var $ in A)if(A.hasOwnProperty($)){var se=A[$];$==="children"?typeof se=="string"?w.textContent!==se&&(A.suppressHydrationWarning!==!0&&xe(w.textContent,se,o),C=["children",se]):typeof se=="number"&&w.textContent!==""+se&&(A.suppressHydrationWarning!==!0&&xe(w.textContent,se,o),C=["children",""+se]):i.hasOwnProperty($)&&se!=null&&$==="onScroll"&&Bt("scroll",w)}switch(h){case"input":wt(w),te(w,A,!0);break;case"textarea":wt(w),je(w);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(w.onclick=Re)}w=C,a.updateQueue=w,w!==null&&(a.flags|=4)}else{$=C.nodeType===9?C:C.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Je(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=$.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof w.is=="string"?o=$.createElement(h,{is:w.is}):(o=$.createElement(h),h==="select"&&($=o,w.multiple?$.multiple=!0:w.size&&($.size=w.size))):o=$.createElementNS(o,h),o[zr]=a,o[ts]=w,n_(o,a,!1,!1),a.stateNode=o;e:{switch($=Et(h,w),h){case"dialog":Bt("cancel",o),Bt("close",o),C=w;break;case"iframe":case"object":case"embed":Bt("load",o),C=w;break;case"video":case"audio":for(C=0;C<Qo.length;C++)Bt(Qo[C],o);C=w;break;case"source":Bt("error",o),C=w;break;case"img":case"image":case"link":Bt("error",o),Bt("load",o),C=w;break;case"details":Bt("toggle",o),C=w;break;case"input":Pe(o,w),C=z(o,w),Bt("invalid",o);break;case"option":C=w;break;case"select":o._wrapperState={wasMultiple:!!w.multiple},C=le({},w,{value:void 0}),Bt("invalid",o);break;case"textarea":Me(o,w),C=me(o,w),Bt("invalid",o);break;default:C=w}vt(h,C),se=C;for(A in se)if(se.hasOwnProperty(A)){var de=se[A];A==="style"?lt(o,de):A==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&O(o,de)):A==="children"?typeof de=="string"?(h!=="textarea"||de!=="")&&X(o,de):typeof de=="number"&&X(o,""+de):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?de!=null&&A==="onScroll"&&Bt("scroll",o):de!=null&&I(o,A,de,$))}switch(h){case"input":wt(o),te(o,w,!1);break;case"textarea":wt(o),je(o);break;case"option":w.value!=null&&o.setAttribute("value",""+De(w.value));break;case"select":o.multiple=!!w.multiple,A=w.value,A!=null?Ae(o,!!w.multiple,A,!1):w.defaultValue!=null&&Ae(o,!!w.multiple,w.defaultValue,!0);break;default:typeof C.onClick=="function"&&(o.onclick=Re)}switch(h){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return zn(a),null;case 6:if(o&&a.stateNode!=null)i_(o,a,o.memoizedProps,w);else{if(typeof w!="string"&&a.stateNode===null)throw Error(n(166));if(h=ba(wu.current),ba(Pi.current),pf(a)){if(w=a.stateNode,h=a.memoizedProps,w[zr]=a,(A=w.nodeValue!==h)&&(o=Er,o!==null))switch(o.tag){case 3:xe(w.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&xe(w.nodeValue,h,(o.mode&1)!==0)}A&&(a.flags|=4)}else w=(h.nodeType===9?h:h.ownerDocument).createTextNode(w),w[zr]=a,a.stateNode=w}return zn(a),null;case 13:if(Ht(tn),w=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Kt&&kr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)aw(),Ll(),a.flags|=98560,A=!1;else if(A=pf(a),w!==null&&w.dehydrated!==null){if(o===null){if(!A)throw Error(n(318));if(A=a.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[zr]=a}else Ll(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;zn(a),A=!1}else oi!==null&&(Xm(oi),oi=null),A=!0;if(!A)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(w=w!==null,w!==(o!==null&&o.memoizedState!==null)&&w&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(tn.current&1)!==0?yn===0&&(yn=3):ng())),a.updateQueue!==null&&(a.flags|=4),zn(a),null);case 4:return zl(),$m(o,a),o===null&&Xo(a.stateNode.containerInfo),zn(a),null;case 10:return gm(a.type._context),zn(a),null;case 17:return or(a.type)&&cf(),zn(a),null;case 19:if(Ht(tn),A=a.memoizedState,A===null)return zn(a),null;if(w=(a.flags&128)!==0,$=A.rendering,$===null)if(w)ku(A,!1);else{if(yn!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if($=_f(o),$!==null){for(a.flags|=128,ku(A,!1),w=$.updateQueue,w!==null&&(a.updateQueue=w,a.flags|=4),a.subtreeFlags=0,w=h,h=a.child;h!==null;)A=h,o=w,A.flags&=14680066,$=A.alternate,$===null?(A.childLanes=0,A.lanes=o,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=$.childLanes,A.lanes=$.lanes,A.child=$.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=$.memoizedProps,A.memoizedState=$.memoizedState,A.updateQueue=$.updateQueue,A.type=$.type,o=$.dependencies,A.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return $t(tn,tn.current&1|2),a.child}o=o.sibling}A.tail!==null&&Xt()>Ul&&(a.flags|=128,w=!0,ku(A,!1),a.lanes=4194304)}else{if(!w)if(o=_f($),o!==null){if(a.flags|=128,w=!0,h=o.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),ku(A,!0),A.tail===null&&A.tailMode==="hidden"&&!$.alternate&&!Kt)return zn(a),null}else 2*Xt()-A.renderingStartTime>Ul&&h!==1073741824&&(a.flags|=128,w=!0,ku(A,!1),a.lanes=4194304);A.isBackwards?($.sibling=a.child,a.child=$):(h=A.last,h!==null?h.sibling=$:a.child=$,A.last=$)}return A.tail!==null?(a=A.tail,A.rendering=a,A.tail=a.sibling,A.renderingStartTime=Xt(),a.sibling=null,h=tn.current,$t(tn,w?h&1|2:h&1),a):(zn(a),null);case 22:case 23:return tg(),w=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==w&&(a.flags|=8192),w&&(a.mode&1)!==0?(Sr&1073741824)!==0&&(zn(a),a.subtreeFlags&6&&(a.flags|=8192)):zn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function bN(o,a){switch(um(a),a.tag){case 1:return or(a.type)&&cf(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return zl(),Ht(ir),Ht(jn),Em(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return xm(a),null;case 13:if(Ht(tn),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ll()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Ht(tn),null;case 4:return zl(),null;case 10:return gm(a.type._context),null;case 22:case 23:return tg(),null;case 24:return null;default:return null}}var Nf=!1,Dn=!1,EN=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Bl(o,a){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(w){sn(o,a,w)}else h.current=null}function Zm(o,a,h){try{h()}catch(w){sn(o,a,w)}}var o_=!1;function kN(o,a){if(Ze=ua,o=au(),lu(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var w=h.getSelection&&h.getSelection();if(w&&w.rangeCount!==0){h=w.anchorNode;var C=w.anchorOffset,A=w.focusNode;w=w.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var $=0,se=-1,de=-1,Ee=0,Oe=0,ze=o,Le=null;t:for(;;){for(var Ve;ze!==h||C!==0&&ze.nodeType!==3||(se=$+C),ze!==A||w!==0&&ze.nodeType!==3||(de=$+w),ze.nodeType===3&&($+=ze.nodeValue.length),(Ve=ze.firstChild)!==null;)Le=ze,ze=Ve;for(;;){if(ze===o)break t;if(Le===h&&++Ee===C&&(se=$),Le===A&&++Oe===w&&(de=$),(Ve=ze.nextSibling)!==null)break;ze=Le,Le=ze.parentNode}ze=Ve}h=se===-1||de===-1?null:{start:se,end:de}}else h=null}h=h||{start:0,end:0}}else h=null;for(nt={focusedElem:o,selectionRange:h},ua=!1,Ke=a;Ke!==null;)if(a=Ke,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ke=o;else for(;Ke!==null;){a=Ke;try{var Ge=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Ye=Ge.memoizedProps,cn=Ge.memoizedState,ye=a.stateNode,he=ye.getSnapshotBeforeUpdate(a.elementType===a.type?Ye:si(a.type,Ye),cn);ye.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var ve=a.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Be){sn(a,a.return,Be)}if(o=a.sibling,o!==null){o.return=a.return,Ke=o;break}Ke=a.return}return Ge=o_,o_=!1,Ge}function Su(o,a,h){var w=a.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&o)===o){var A=C.destroy;C.destroy=void 0,A!==void 0&&Zm(a,h,A)}C=C.next}while(C!==w)}}function Af(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&o)===o){var w=h.create;h.destroy=w()}h=h.next}while(h!==a)}}function Hm(o){var a=o.ref;if(a!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof a=="function"?a(o):a.current=o}}function s_(o){var a=o.alternate;a!==null&&(o.alternate=null,s_(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[zr],delete a[ts],delete a[ns],delete a[om],delete a[sm])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function a_(o){return o.tag===5||o.tag===3||o.tag===4}function l_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||a_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wm(o,a,h){var w=o.tag;if(w===5||w===6)o=o.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(o,a):h.insertBefore(o,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(o,h)):(a=h,a.appendChild(o)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=Re));else if(w!==4&&(o=o.child,o!==null))for(Wm(o,a,h),o=o.sibling;o!==null;)Wm(o,a,h),o=o.sibling}function Vm(o,a,h){var w=o.tag;if(w===5||w===6)o=o.stateNode,a?h.insertBefore(o,a):h.appendChild(o);else if(w!==4&&(o=o.child,o!==null))for(Vm(o,a,h),o=o.sibling;o!==null;)Vm(o,a,h),o=o.sibling}var Sn=null,ai=!1;function ls(o,a,h){for(h=h.child;h!==null;)c_(o,a,h),h=h.sibling}function c_(o,a,h){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(ia,h)}catch{}switch(h.tag){case 5:Dn||Bl(h,a);case 6:var w=Sn,C=ai;Sn=null,ls(o,a,h),Sn=w,ai=C,Sn!==null&&(ai?(o=Sn,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Sn.removeChild(h.stateNode));break;case 18:Sn!==null&&(ai?(o=Sn,h=h.stateNode,o.nodeType===8?mu(o.parentNode,h):o.nodeType===1&&mu(o,h),vr(o)):mu(Sn,h.stateNode));break;case 4:w=Sn,C=ai,Sn=h.stateNode.containerInfo,ai=!0,ls(o,a,h),Sn=w,ai=C;break;case 0:case 11:case 14:case 15:if(!Dn&&(w=h.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){C=w=w.next;do{var A=C,$=A.destroy;A=A.tag,$!==void 0&&((A&2)!==0||(A&4)!==0)&&Zm(h,a,$),C=C.next}while(C!==w)}ls(o,a,h);break;case 1:if(!Dn&&(Bl(h,a),w=h.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=h.memoizedProps,w.state=h.memoizedState,w.componentWillUnmount()}catch(se){sn(h,a,se)}ls(o,a,h);break;case 21:ls(o,a,h);break;case 22:h.mode&1?(Dn=(w=Dn)||h.memoizedState!==null,ls(o,a,h),Dn=w):ls(o,a,h);break;default:ls(o,a,h)}}function u_(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new EN),a.forEach(function(w){var C=LN.bind(null,o,w);h.has(w)||(h.add(w),w.then(C,C))})}}function li(o,a){var h=a.deletions;if(h!==null)for(var w=0;w<h.length;w++){var C=h[w];try{var A=o,$=a,se=$;e:for(;se!==null;){switch(se.tag){case 5:Sn=se.stateNode,ai=!1;break e;case 3:Sn=se.stateNode.containerInfo,ai=!0;break e;case 4:Sn=se.stateNode.containerInfo,ai=!0;break e}se=se.return}if(Sn===null)throw Error(n(160));c_(A,$,C),Sn=null,ai=!1;var de=C.alternate;de!==null&&(de.return=null),C.return=null}catch(Ee){sn(C,a,Ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)d_(a,o),a=a.sibling}function d_(o,a){var h=o.alternate,w=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(li(a,o),Ni(o),w&4){try{Su(3,o,o.return),Af(3,o)}catch(Ye){sn(o,o.return,Ye)}try{Su(5,o,o.return)}catch(Ye){sn(o,o.return,Ye)}}break;case 1:li(a,o),Ni(o),w&512&&h!==null&&Bl(h,h.return);break;case 5:if(li(a,o),Ni(o),w&512&&h!==null&&Bl(h,h.return),o.flags&32){var C=o.stateNode;try{X(C,"")}catch(Ye){sn(o,o.return,Ye)}}if(w&4&&(C=o.stateNode,C!=null)){var A=o.memoizedProps,$=h!==null?h.memoizedProps:A,se=o.type,de=o.updateQueue;if(o.updateQueue=null,de!==null)try{se==="input"&&A.type==="radio"&&A.name!=null&&ke(C,A),Et(se,$);var Ee=Et(se,A);for($=0;$<de.length;$+=2){var Oe=de[$],ze=de[$+1];Oe==="style"?lt(C,ze):Oe==="dangerouslySetInnerHTML"?O(C,ze):Oe==="children"?X(C,ze):I(C,Oe,ze,Ee)}switch(se){case"input":ie(C,A);break;case"textarea":He(C,A);break;case"select":var Le=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!A.multiple;var Ve=A.value;Ve!=null?Ae(C,!!A.multiple,Ve,!1):Le!==!!A.multiple&&(A.defaultValue!=null?Ae(C,!!A.multiple,A.defaultValue,!0):Ae(C,!!A.multiple,A.multiple?[]:"",!1))}C[ts]=A}catch(Ye){sn(o,o.return,Ye)}}break;case 6:if(li(a,o),Ni(o),w&4){if(o.stateNode===null)throw Error(n(162));C=o.stateNode,A=o.memoizedProps;try{C.nodeValue=A}catch(Ye){sn(o,o.return,Ye)}}break;case 3:if(li(a,o),Ni(o),w&4&&h!==null&&h.memoizedState.isDehydrated)try{vr(a.containerInfo)}catch(Ye){sn(o,o.return,Ye)}break;case 4:li(a,o),Ni(o);break;case 13:li(a,o),Ni(o),C=o.child,C.flags&8192&&(A=C.memoizedState!==null,C.stateNode.isHidden=A,!A||C.alternate!==null&&C.alternate.memoizedState!==null||(Gm=Xt())),w&4&&u_(o);break;case 22:if(Oe=h!==null&&h.memoizedState!==null,o.mode&1?(Dn=(Ee=Dn)||Oe,li(a,o),Dn=Ee):li(a,o),Ni(o),w&8192){if(Ee=o.memoizedState!==null,(o.stateNode.isHidden=Ee)&&!Oe&&(o.mode&1)!==0)for(Ke=o,Oe=o.child;Oe!==null;){for(ze=Ke=Oe;Ke!==null;){switch(Le=Ke,Ve=Le.child,Le.tag){case 0:case 11:case 14:case 15:Su(4,Le,Le.return);break;case 1:Bl(Le,Le.return);var Ge=Le.stateNode;if(typeof Ge.componentWillUnmount=="function"){w=Le,h=Le.return;try{a=w,Ge.props=a.memoizedProps,Ge.state=a.memoizedState,Ge.componentWillUnmount()}catch(Ye){sn(w,h,Ye)}}break;case 5:Bl(Le,Le.return);break;case 22:if(Le.memoizedState!==null){p_(ze);continue}}Ve!==null?(Ve.return=Le,Ke=Ve):p_(ze)}Oe=Oe.sibling}e:for(Oe=null,ze=o;;){if(ze.tag===5){if(Oe===null){Oe=ze;try{C=ze.stateNode,Ee?(A=C.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(se=ze.stateNode,de=ze.memoizedProps.style,$=de!=null&&de.hasOwnProperty("display")?de.display:null,se.style.display=Se("display",$))}catch(Ye){sn(o,o.return,Ye)}}}else if(ze.tag===6){if(Oe===null)try{ze.stateNode.nodeValue=Ee?"":ze.memoizedProps}catch(Ye){sn(o,o.return,Ye)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===o)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===o)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===o)break e;Oe===ze&&(Oe=null),ze=ze.return}Oe===ze&&(Oe=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:li(a,o),Ni(o),w&4&&u_(o);break;case 21:break;default:li(a,o),Ni(o)}}function Ni(o){var a=o.flags;if(a&2){try{e:{for(var h=o.return;h!==null;){if(a_(h)){var w=h;break e}h=h.return}throw Error(n(160))}switch(w.tag){case 5:var C=w.stateNode;w.flags&32&&(X(C,""),w.flags&=-33);var A=l_(o);Vm(o,A,C);break;case 3:case 4:var $=w.stateNode.containerInfo,se=l_(o);Wm(o,se,$);break;default:throw Error(n(161))}}catch(de){sn(o,o.return,de)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function SN(o,a,h){Ke=o,f_(o)}function f_(o,a,h){for(var w=(o.mode&1)!==0;Ke!==null;){var C=Ke,A=C.child;if(C.tag===22&&w){var $=C.memoizedState!==null||Nf;if(!$){var se=C.alternate,de=se!==null&&se.memoizedState!==null||Dn;se=Nf;var Ee=Dn;if(Nf=$,(Dn=de)&&!Ee)for(Ke=C;Ke!==null;)$=Ke,de=$.child,$.tag===22&&$.memoizedState!==null?m_(C):de!==null?(de.return=$,Ke=de):m_(C);for(;A!==null;)Ke=A,f_(A),A=A.sibling;Ke=C,Nf=se,Dn=Ee}h_(o)}else(C.subtreeFlags&8772)!==0&&A!==null?(A.return=C,Ke=A):h_(o)}}function h_(o){for(;Ke!==null;){var a=Ke;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Dn||Af(5,a);break;case 1:var w=a.stateNode;if(a.flags&4&&!Dn)if(h===null)w.componentDidMount();else{var C=a.elementType===a.type?h.memoizedProps:si(a.type,h.memoizedProps);w.componentDidUpdate(C,h.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var A=a.updateQueue;A!==null&&pw(a,A,w);break;case 3:var $=a.updateQueue;if($!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}pw(a,$,h)}break;case 5:var se=a.stateNode;if(h===null&&a.flags&4){h=se;var de=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&h.focus();break;case"img":de.src&&(h.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Ee=a.alternate;if(Ee!==null){var Oe=Ee.memoizedState;if(Oe!==null){var ze=Oe.dehydrated;ze!==null&&vr(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dn||a.flags&512&&Hm(a)}catch(Le){sn(a,a.return,Le)}}if(a===o){Ke=null;break}if(h=a.sibling,h!==null){h.return=a.return,Ke=h;break}Ke=a.return}}function p_(o){for(;Ke!==null;){var a=Ke;if(a===o){Ke=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Ke=h;break}Ke=a.return}}function m_(o){for(;Ke!==null;){var a=Ke;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{Af(4,a)}catch(de){sn(a,h,de)}break;case 1:var w=a.stateNode;if(typeof w.componentDidMount=="function"){var C=a.return;try{w.componentDidMount()}catch(de){sn(a,C,de)}}var A=a.return;try{Hm(a)}catch(de){sn(a,A,de)}break;case 5:var $=a.return;try{Hm(a)}catch(de){sn(a,$,de)}}}catch(de){sn(a,a.return,de)}if(a===o){Ke=null;break}var se=a.sibling;if(se!==null){se.return=a.return,Ke=se;break}Ke=a.return}}var CN=Math.ceil,Rf=D.ReactCurrentDispatcher,qm=D.ReactCurrentOwner,$r=D.ReactCurrentBatchConfig,Pt=0,xn=null,fn=null,Cn=0,Sr=0,Fl=rs(0),yn=0,Cu=null,ka=0,If=0,Km=0,Pu=null,ar=null,Gm=0,Ul=1/0,fo=null,Lf=!1,Ym=null,cs=null,Of=!1,us=null,jf=0,Tu=0,Jm=null,Mf=-1,zf=0;function Gn(){return(Pt&6)!==0?Xt():Mf!==-1?Mf:Mf=Xt()}function ds(o){return(o.mode&1)===0?1:(Pt&2)!==0&&Cn!==0?Cn&-Cn:cN.transition!==null?(zf===0&&(zf=Bd()),zf):(o=St,o!==0||(o=window.event,o=o===void 0?16:xt(o.type)),o)}function ci(o,a,h,w){if(50<Tu)throw Tu=0,Jm=null,Error(n(185));gr(o,h,w),((Pt&2)===0||o!==xn)&&(o===xn&&((Pt&2)===0&&(If|=h),yn===4&&fs(o,Cn)),lr(o,w),h===1&&Pt===0&&(a.mode&1)===0&&(Ul=Xt()+500,df&&os()))}function lr(o,a){var h=o.callbackNode;al(o,a);var w=Ut(o,o===xn?Cn:0);if(w===0)h!==null&&Zc(h),o.callbackNode=null,o.callbackPriority=0;else if(a=w&-w,o.callbackPriority!==a){if(h!=null&&Zc(h),a===1)o.tag===0?lN(y_.bind(null,o)):nw(y_.bind(null,o)),On(function(){(Pt&6)===0&&os()}),h=null;else{switch(Fo(w)){case 1:h=Hc;break;case 4:h=Dd;break;case 16:h=ol;break;case 536870912:h=Mo;break;default:h=ol}h=S_(h,g_.bind(null,o))}o.callbackPriority=a,o.callbackNode=h}}function g_(o,a){if(Mf=-1,zf=0,(Pt&6)!==0)throw Error(n(327));var h=o.callbackNode;if($l()&&o.callbackNode!==h)return null;var w=Ut(o,o===xn?Cn:0);if(w===0)return null;if((w&30)!==0||(w&o.expiredLanes)!==0||a)a=Df(o,w);else{a=w;var C=Pt;Pt|=2;var A=w_();(xn!==o||Cn!==a)&&(fo=null,Ul=Xt()+500,Ca(o,a));do try{NN();break}catch(se){v_(o,se)}while(!0);mm(),Rf.current=A,Pt=C,fn!==null?a=0:(xn=null,Cn=0,a=yn)}if(a!==0){if(a===2&&(C=In(o),C!==0&&(w=C,a=Qm(o,C))),a===1)throw h=Cu,Ca(o,0),fs(o,w),lr(o,Xt()),h;if(a===6)fs(o,w);else{if(C=o.current.alternate,(w&30)===0&&!PN(C)&&(a=Df(o,w),a===2&&(A=In(o),A!==0&&(w=A,a=Qm(o,A))),a===1))throw h=Cu,Ca(o,0),fs(o,w),lr(o,Xt()),h;switch(o.finishedWork=C,o.finishedLanes=w,a){case 0:case 1:throw Error(n(345));case 2:Pa(o,ar,fo);break;case 3:if(fs(o,w),(w&130023424)===w&&(a=Gm+500-Xt(),10<a)){if(Ut(o,0)!==0)break;if(C=o.suspendedLanes,(C&w)!==w){Gn(),o.pingedLanes|=o.suspendedLanes&C;break}o.timeoutHandle=mn(Pa.bind(null,o,ar,fo),a);break}Pa(o,ar,fo);break;case 4:if(fs(o,w),(w&4194240)===w)break;for(a=o.eventTimes,C=-1;0<w;){var $=31-pt(w);A=1<<$,$=a[$],$>C&&(C=$),w&=~A}if(w=C,w=Xt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*CN(w/1960))-w,10<w){o.timeoutHandle=mn(Pa.bind(null,o,ar,fo),w);break}Pa(o,ar,fo);break;case 5:Pa(o,ar,fo);break;default:throw Error(n(329))}}}return lr(o,Xt()),o.callbackNode===h?g_.bind(null,o):null}function Qm(o,a){var h=Pu;return o.current.memoizedState.isDehydrated&&(Ca(o,a).flags|=256),o=Df(o,a),o!==2&&(a=ar,ar=h,a!==null&&Xm(a)),o}function Xm(o){ar===null?ar=o:ar.push.apply(ar,o)}function PN(o){for(var a=o;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var w=0;w<h.length;w++){var C=h[w],A=C.getSnapshot;C=C.value;try{if(!xr(A(),C))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fs(o,a){for(a&=~Km,a&=~If,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var h=31-pt(a),w=1<<h;o[h]=-1,a&=~w}}function y_(o){if((Pt&6)!==0)throw Error(n(327));$l();var a=Ut(o,0);if((a&1)===0)return lr(o,Xt()),null;var h=Df(o,a);if(o.tag!==0&&h===2){var w=In(o);w!==0&&(a=w,h=Qm(o,w))}if(h===1)throw h=Cu,Ca(o,0),fs(o,a),lr(o,Xt()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Pa(o,ar,fo),lr(o,Xt()),null}function eg(o,a){var h=Pt;Pt|=1;try{return o(a)}finally{Pt=h,Pt===0&&(Ul=Xt()+500,df&&os())}}function Sa(o){us!==null&&us.tag===0&&(Pt&6)===0&&$l();var a=Pt;Pt|=1;var h=$r.transition,w=St;try{if($r.transition=null,St=1,o)return o()}finally{St=w,$r.transition=h,Pt=a,(Pt&6)===0&&os()}}function tg(){Sr=Fl.current,Ht(Fl)}function Ca(o,a){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,dn(h)),fn!==null)for(h=fn.return;h!==null;){var w=h;switch(um(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&cf();break;case 3:zl(),Ht(ir),Ht(jn),Em();break;case 5:xm(w);break;case 4:zl();break;case 13:Ht(tn);break;case 19:Ht(tn);break;case 10:gm(w.type._context);break;case 22:case 23:tg()}h=h.return}if(xn=o,fn=o=hs(o.current,null),Cn=Sr=a,yn=0,Cu=null,Km=If=ka=0,ar=Pu=null,xa!==null){for(a=0;a<xa.length;a++)if(h=xa[a],w=h.interleaved,w!==null){h.interleaved=null;var C=w.next,A=h.pending;if(A!==null){var $=A.next;A.next=C,w.next=$}h.pending=w}xa=null}return o}function v_(o,a){do{var h=fn;try{if(mm(),xf.current=Sf,bf){for(var w=nn.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}bf=!1}if(Ea=0,_n=gn=nn=null,_u=!1,xu=0,qm.current=null,h===null||h.return===null){yn=1,Cu=a,fn=null;break}e:{var A=o,$=h.return,se=h,de=a;if(a=Cn,se.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ee=de,Oe=se,ze=Oe.tag;if((Oe.mode&1)===0&&(ze===0||ze===11||ze===15)){var Le=Oe.alternate;Le?(Oe.updateQueue=Le.updateQueue,Oe.memoizedState=Le.memoizedState,Oe.lanes=Le.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var Ve=Zw($);if(Ve!==null){Ve.flags&=-257,Hw(Ve,$,se,A,a),Ve.mode&1&&$w(A,Ee,a),a=Ve,de=Ee;var Ge=a.updateQueue;if(Ge===null){var Ye=new Set;Ye.add(de),a.updateQueue=Ye}else Ge.add(de);break e}else{if((a&1)===0){$w(A,Ee,a),ng();break e}de=Error(n(426))}}else if(Kt&&se.mode&1){var cn=Zw($);if(cn!==null){(cn.flags&65536)===0&&(cn.flags|=256),Hw(cn,$,se,A,a),hm(Dl(de,se));break e}}A=de=Dl(de,se),yn!==4&&(yn=2),Pu===null?Pu=[A]:Pu.push(A),A=$;do{switch(A.tag){case 3:A.flags|=65536,a&=-a,A.lanes|=a;var ye=Fw(A,de,a);hw(A,ye);break e;case 1:se=de;var he=A.type,ve=A.stateNode;if((A.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(cs===null||!cs.has(ve)))){A.flags|=65536,a&=-a,A.lanes|=a;var Be=Uw(A,se,a);hw(A,Be);break e}}A=A.return}while(A!==null)}x_(h)}catch(Xe){a=Xe,fn===h&&h!==null&&(fn=h=h.return);continue}break}while(!0)}function w_(){var o=Rf.current;return Rf.current=Sf,o===null?Sf:o}function ng(){(yn===0||yn===3||yn===2)&&(yn=4),xn===null||(ka&268435455)===0&&(If&268435455)===0||fs(xn,Cn)}function Df(o,a){var h=Pt;Pt|=2;var w=w_();(xn!==o||Cn!==a)&&(fo=null,Ca(o,a));do try{TN();break}catch(C){v_(o,C)}while(!0);if(mm(),Pt=h,Rf.current=w,fn!==null)throw Error(n(261));return xn=null,Cn=0,yn}function TN(){for(;fn!==null;)__(fn)}function NN(){for(;fn!==null&&!Zp();)__(fn)}function __(o){var a=k_(o.alternate,o,Sr);o.memoizedProps=o.pendingProps,a===null?x_(o):fn=a,qm.current=null}function x_(o){var a=o;do{var h=a.alternate;if(o=a.return,(a.flags&32768)===0){if(h=xN(h,a,Sr),h!==null){fn=h;return}}else{if(h=bN(h,a),h!==null){h.flags&=32767,fn=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{yn=6,fn=null;return}}if(a=a.sibling,a!==null){fn=a;return}fn=a=o}while(a!==null);yn===0&&(yn=5)}function Pa(o,a,h){var w=St,C=$r.transition;try{$r.transition=null,St=1,AN(o,a,h,w)}finally{$r.transition=C,St=w}return null}function AN(o,a,h,w){do $l();while(us!==null);if((Pt&6)!==0)throw Error(n(327));h=o.finishedWork;var C=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var A=h.lanes|h.childLanes;if(on(o,A),o===xn&&(fn=xn=null,Cn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Of||(Of=!0,S_(ol,function(){return $l(),null})),A=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||A){A=$r.transition,$r.transition=null;var $=St;St=1;var se=Pt;Pt|=4,qm.current=null,kN(o,h),d_(h,o),jr(nt),ua=!!Ze,nt=Ze=null,o.current=h,SN(h),il(),Pt=se,St=$,$r.transition=A}else o.current=h;if(Of&&(Of=!1,us=o,jf=C),A=o.pendingLanes,A===0&&(cs=null),oa(h.stateNode),lr(o,Xt()),a!==null)for(w=o.onRecoverableError,h=0;h<a.length;h++)C=a[h],w(C.value,{componentStack:C.stack,digest:C.digest});if(Lf)throw Lf=!1,o=Ym,Ym=null,o;return(jf&1)!==0&&o.tag!==0&&$l(),A=o.pendingLanes,(A&1)!==0?o===Jm?Tu++:(Tu=0,Jm=o):Tu=0,os(),null}function $l(){if(us!==null){var o=Fo(jf),a=$r.transition,h=St;try{if($r.transition=null,St=16>o?16:o,us===null)var w=!1;else{if(o=us,us=null,jf=0,(Pt&6)!==0)throw Error(n(331));var C=Pt;for(Pt|=4,Ke=o.current;Ke!==null;){var A=Ke,$=A.child;if((Ke.flags&16)!==0){var se=A.deletions;if(se!==null){for(var de=0;de<se.length;de++){var Ee=se[de];for(Ke=Ee;Ke!==null;){var Oe=Ke;switch(Oe.tag){case 0:case 11:case 15:Su(8,Oe,A)}var ze=Oe.child;if(ze!==null)ze.return=Oe,Ke=ze;else for(;Ke!==null;){Oe=Ke;var Le=Oe.sibling,Ve=Oe.return;if(s_(Oe),Oe===Ee){Ke=null;break}if(Le!==null){Le.return=Ve,Ke=Le;break}Ke=Ve}}}var Ge=A.alternate;if(Ge!==null){var Ye=Ge.child;if(Ye!==null){Ge.child=null;do{var cn=Ye.sibling;Ye.sibling=null,Ye=cn}while(Ye!==null)}}Ke=A}}if((A.subtreeFlags&2064)!==0&&$!==null)$.return=A,Ke=$;else e:for(;Ke!==null;){if(A=Ke,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Su(9,A,A.return)}var ye=A.sibling;if(ye!==null){ye.return=A.return,Ke=ye;break e}Ke=A.return}}var he=o.current;for(Ke=he;Ke!==null;){$=Ke;var ve=$.child;if(($.subtreeFlags&2064)!==0&&ve!==null)ve.return=$,Ke=ve;else e:for($=he;Ke!==null;){if(se=Ke,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:Af(9,se)}}catch(Xe){sn(se,se.return,Xe)}if(se===$){Ke=null;break e}var Be=se.sibling;if(Be!==null){Be.return=se.return,Ke=Be;break e}Ke=se.return}}if(Pt=C,os(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(ia,o)}catch{}w=!0}return w}finally{St=h,$r.transition=a}}return!1}function b_(o,a,h){a=Dl(h,a),a=Fw(o,a,1),o=as(o,a,1),a=Gn(),o!==null&&(gr(o,1,a),lr(o,a))}function sn(o,a,h){if(o.tag===3)b_(o,o,h);else for(;a!==null;){if(a.tag===3){b_(a,o,h);break}else if(a.tag===1){var w=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(cs===null||!cs.has(w))){o=Dl(h,o),o=Uw(a,o,1),a=as(a,o,1),o=Gn(),a!==null&&(gr(a,1,o),lr(a,o));break}}a=a.return}}function RN(o,a,h){var w=o.pingCache;w!==null&&w.delete(a),a=Gn(),o.pingedLanes|=o.suspendedLanes&h,xn===o&&(Cn&h)===h&&(yn===4||yn===3&&(Cn&130023424)===Cn&&500>Xt()-Gm?Ca(o,0):Km|=h),lr(o,a)}function E_(o,a){a===0&&((o.mode&1)===0?a=1:(a=Do,Do<<=1,(Do&130023424)===0&&(Do=4194304)));var h=Gn();o=lo(o,a),o!==null&&(gr(o,a,h),lr(o,h))}function IN(o){var a=o.memoizedState,h=0;a!==null&&(h=a.retryLane),E_(o,h)}function LN(o,a){var h=0;switch(o.tag){case 13:var w=o.stateNode,C=o.memoizedState;C!==null&&(h=C.retryLane);break;case 19:w=o.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(a),E_(o,h)}var k_;k_=function(o,a,h){if(o!==null)if(o.memoizedProps!==a.pendingProps||ir.current)sr=!0;else{if((o.lanes&h)===0&&(a.flags&128)===0)return sr=!1,_N(o,a,h);sr=(o.flags&131072)!==0}else sr=!1,Kt&&(a.flags&1048576)!==0&&rw(a,hf,a.index);switch(a.lanes=0,a.tag){case 2:var w=a.type;Tf(o,a),o=a.pendingProps;var C=Al(a,jn.current);Ml(a,h),C=Cm(null,a,w,o,C,h);var A=Pm();return a.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,or(w)?(A=!0,uf(a)):A=!1,a.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,wm(a),C.updater=Cf,a.stateNode=C,C._reactInternals=a,Lm(a,w,o,h),a=zm(null,a,w,!0,A,h)):(a.tag=0,Kt&&A&&cm(a),Kn(null,a,C,h),a=a.child),a;case 16:w=a.elementType;e:{switch(Tf(o,a),o=a.pendingProps,C=w._init,w=C(w._payload),a.type=w,C=a.tag=jN(w),o=si(w,o),C){case 0:a=Mm(null,a,w,o,h);break e;case 1:a=Yw(null,a,w,o,h);break e;case 11:a=Ww(null,a,w,o,h);break e;case 14:a=Vw(null,a,w,si(w.type,o),h);break e}throw Error(n(306,w,""))}return a;case 0:return w=a.type,C=a.pendingProps,C=a.elementType===w?C:si(w,C),Mm(o,a,w,C,h);case 1:return w=a.type,C=a.pendingProps,C=a.elementType===w?C:si(w,C),Yw(o,a,w,C,h);case 3:e:{if(Jw(a),o===null)throw Error(n(387));w=a.pendingProps,A=a.memoizedState,C=A.element,fw(o,a),wf(a,w,null,h);var $=a.memoizedState;if(w=$.element,A.isDehydrated)if(A={element:w,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){C=Dl(Error(n(423)),a),a=Qw(o,a,w,h,C);break e}else if(w!==C){C=Dl(Error(n(424)),a),a=Qw(o,a,w,h,C);break e}else for(kr=Ci(a.stateNode.containerInfo.firstChild),Er=a,Kt=!0,oi=null,h=uw(a,null,w,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ll(),w===C){a=uo(o,a,h);break e}Kn(o,a,w,h)}a=a.child}return a;case 5:return mw(a),o===null&&fm(a),w=a.type,C=a.pendingProps,A=o!==null?o.memoizedProps:null,$=C.children,gt(w,C)?$=null:A!==null&&gt(w,A)&&(a.flags|=32),Gw(o,a),Kn(o,a,$,h),a.child;case 6:return o===null&&fm(a),null;case 13:return Xw(o,a,h);case 4:return _m(a,a.stateNode.containerInfo),w=a.pendingProps,o===null?a.child=Ol(a,null,w,h):Kn(o,a,w,h),a.child;case 11:return w=a.type,C=a.pendingProps,C=a.elementType===w?C:si(w,C),Ww(o,a,w,C,h);case 7:return Kn(o,a,a.pendingProps,h),a.child;case 8:return Kn(o,a,a.pendingProps.children,h),a.child;case 12:return Kn(o,a,a.pendingProps.children,h),a.child;case 10:e:{if(w=a.type._context,C=a.pendingProps,A=a.memoizedProps,$=C.value,$t(gf,w._currentValue),w._currentValue=$,A!==null)if(xr(A.value,$)){if(A.children===C.children&&!ir.current){a=uo(o,a,h);break e}}else for(A=a.child,A!==null&&(A.return=a);A!==null;){var se=A.dependencies;if(se!==null){$=A.child;for(var de=se.firstContext;de!==null;){if(de.context===w){if(A.tag===1){de=co(-1,h&-h),de.tag=2;var Ee=A.updateQueue;if(Ee!==null){Ee=Ee.shared;var Oe=Ee.pending;Oe===null?de.next=de:(de.next=Oe.next,Oe.next=de),Ee.pending=de}}A.lanes|=h,de=A.alternate,de!==null&&(de.lanes|=h),ym(A.return,h,a),se.lanes|=h;break}de=de.next}}else if(A.tag===10)$=A.type===a.type?null:A.child;else if(A.tag===18){if($=A.return,$===null)throw Error(n(341));$.lanes|=h,se=$.alternate,se!==null&&(se.lanes|=h),ym($,h,a),$=A.sibling}else $=A.child;if($!==null)$.return=A;else for($=A;$!==null;){if($===a){$=null;break}if(A=$.sibling,A!==null){A.return=$.return,$=A;break}$=$.return}A=$}Kn(o,a,C.children,h),a=a.child}return a;case 9:return C=a.type,w=a.pendingProps.children,Ml(a,h),C=Fr(C),w=w(C),a.flags|=1,Kn(o,a,w,h),a.child;case 14:return w=a.type,C=si(w,a.pendingProps),C=si(w.type,C),Vw(o,a,w,C,h);case 15:return qw(o,a,a.type,a.pendingProps,h);case 17:return w=a.type,C=a.pendingProps,C=a.elementType===w?C:si(w,C),Tf(o,a),a.tag=1,or(w)?(o=!0,uf(a)):o=!1,Ml(a,h),Dw(a,w,C),Lm(a,w,C,h),zm(null,a,w,!0,o,h);case 19:return t_(o,a,h);case 22:return Kw(o,a,h)}throw Error(n(156,a.tag))};function S_(o,a){return zd(o,a)}function ON(o,a,h,w){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(o,a,h,w){return new ON(o,a,h,w)}function rg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function jN(o){if(typeof o=="function")return rg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===U)return 11;if(o===W)return 14}return 2}function hs(o,a){var h=o.alternate;return h===null?(h=Zr(o.tag,a,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=a,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,a=o.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function Bf(o,a,h,w,C,A){var $=2;if(w=o,typeof o=="function")rg(o)&&($=1);else if(typeof o=="string")$=5;else e:switch(o){case G:return Ta(h.children,C,A,a);case J:$=8,C|=8;break;case V:return o=Zr(12,h,a,C|2),o.elementType=V,o.lanes=A,o;case re:return o=Zr(13,h,a,C),o.elementType=re,o.lanes=A,o;case M:return o=Zr(19,h,a,C),o.elementType=M,o.lanes=A,o;case oe:return Ff(h,C,A,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Y:$=10;break e;case Q:$=9;break e;case U:$=11;break e;case W:$=14;break e;case ae:$=16,w=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=Zr($,h,a,C),a.elementType=o,a.type=w,a.lanes=A,a}function Ta(o,a,h,w){return o=Zr(7,o,w,a),o.lanes=h,o}function Ff(o,a,h,w){return o=Zr(22,o,w,a),o.elementType=oe,o.lanes=h,o.stateNode={isHidden:!1},o}function ig(o,a,h){return o=Zr(6,o,null,a),o.lanes=h,o}function og(o,a,h){return a=Zr(4,o.children!==null?o.children:[],o.key,a),a.lanes=h,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function MN(o,a,h,w,C){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bo(0),this.expirationTimes=Bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bo(0),this.identifierPrefix=w,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function sg(o,a,h,w,C,A,$,se,de){return o=new MN(o,a,h,se,de),a===1?(a=1,A===!0&&(a|=8)):a=0,A=Zr(3,null,null,a),o.current=A,A.stateNode=o,A.memoizedState={element:w,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},wm(A),o}function zN(o,a,h){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:w==null?null:""+w,children:o,containerInfo:a,implementation:h}}function C_(o){if(!o)return is;o=o._reactInternals;e:{if(vi(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(or(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(or(h))return ew(o,h,a)}return a}function P_(o,a,h,w,C,A,$,se,de){return o=sg(h,w,!0,o,C,A,$,se,de),o.context=C_(null),h=o.current,w=Gn(),C=ds(h),A=co(w,C),A.callback=a??null,as(h,A,C),o.current.lanes=C,gr(o,C,w),lr(o,w),o}function Uf(o,a,h,w){var C=a.current,A=Gn(),$=ds(C);return h=C_(h),a.context===null?a.context=h:a.pendingContext=h,a=co(A,$),a.payload={element:o},w=w===void 0?null:w,w!==null&&(a.callback=w),o=as(C,a,$),o!==null&&(ci(o,C,$,A),vf(o,C,$)),$}function $f(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function T_(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<a?h:a}}function ag(o,a){T_(o,a),(o=o.alternate)&&T_(o,a)}function DN(){return null}var N_=typeof reportError=="function"?reportError:function(o){console.error(o)};function lg(o){this._internalRoot=o}Zf.prototype.render=lg.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));Uf(o,a,null,null)},Zf.prototype.unmount=lg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Sa(function(){Uf(null,o,null,null)}),a[jt]=null}};function Zf(o){this._internalRoot=o}Zf.prototype.unstable_scheduleHydration=function(o){if(o){var a=ul();o={blockedOn:null,target:o,priority:a};for(var h=0;h<pn.length&&a!==0&&a<pn[h].priority;h++);pn.splice(h,0,o),h===0&&dl(o)}};function cg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Hf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function A_(){}function BN(o,a,h,w,C){if(C){if(typeof w=="function"){var A=w;w=function(){var Ee=$f($);A.call(Ee)}}var $=P_(a,w,o,0,null,!1,!1,"",A_);return o._reactRootContainer=$,o[jt]=$.current,Xo(o.nodeType===8?o.parentNode:o),Sa(),$}for(;C=o.lastChild;)o.removeChild(C);if(typeof w=="function"){var se=w;w=function(){var Ee=$f(de);se.call(Ee)}}var de=sg(o,0,!1,null,null,!1,!1,"",A_);return o._reactRootContainer=de,o[jt]=de.current,Xo(o.nodeType===8?o.parentNode:o),Sa(function(){Uf(a,de,h,w)}),de}function Wf(o,a,h,w,C){var A=h._reactRootContainer;if(A){var $=A;if(typeof C=="function"){var se=C;C=function(){var de=$f($);se.call(de)}}Uf(a,$,o,C)}else $=BN(h,a,o,C,w);return $f($)}ll=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var h=ft(a.pendingLanes);h!==0&&(ei(a,h|1),lr(a,Xt()),(Pt&6)===0&&(Ul=Xt()+500,os()))}break;case 13:Sa(function(){var w=lo(o,1);if(w!==null){var C=Gn();ci(w,o,1,C)}}),ag(o,1)}},qi=function(o){if(o.tag===13){var a=lo(o,134217728);if(a!==null){var h=Gn();ci(a,o,134217728,h)}ag(o,134217728)}},cl=function(o){if(o.tag===13){var a=ds(o),h=lo(o,a);if(h!==null){var w=Gn();ci(h,o,a,w)}ag(o,a)}},ul=function(){return St},sa=function(o,a){var h=St;try{return St=o,a()}finally{St=h}},jo=function(o,a,h){switch(a){case"input":if(ie(o,h),a=h.name,h.type==="radio"&&a!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var w=h[a];if(w!==o&&w.form===o.form){var C=Tl(w);if(!C)throw Error(n(90));At(w),ie(w,C)}}}break;case"textarea":He(o,h);break;case"select":a=h.value,a!=null&&Ae(o,!!h.multiple,a,!1)}},Rd=eg,Id=Sa;var FN={usingClientEntryPoint:!1,Events:[ro,io,Tl,Nd,Ad,eg]},Nu={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UN={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=jd(o),o===null?null:o.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||DN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vf.isDisabled&&Vf.supportsFiber)try{ia=Vf.inject(UN),mr=Vf}catch{}}return cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FN,cr.createPortal=function(o,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cg(a))throw Error(n(200));return zN(o,a,null,h)},cr.createRoot=function(o,a){if(!cg(o))throw Error(n(299));var h=!1,w="",C=N_;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(w=a.identifierPrefix),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=sg(o,1,!1,null,null,h,!1,w,C),o[jt]=a.current,Xo(o.nodeType===8?o.parentNode:o),new lg(a)},cr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=jd(a),o=o===null?null:o.stateNode,o},cr.flushSync=function(o){return Sa(o)},cr.hydrate=function(o,a,h){if(!Hf(a))throw Error(n(200));return Wf(null,o,a,!0,h)},cr.hydrateRoot=function(o,a,h){if(!cg(o))throw Error(n(405));var w=h!=null&&h.hydratedSources||null,C=!1,A="",$=N_;if(h!=null&&(h.unstable_strictMode===!0&&(C=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&($=h.onRecoverableError)),a=P_(a,null,o,1,h??null,C,!1,A,$),o[jt]=a.current,Xo(o),w)for(o=0;o<w.length;o++)h=w[o],C=h._getVersion,C=C(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,C]:a.mutableSourceEagerHydrationData.push(h,C);return new Zf(a)},cr.render=function(o,a,h){if(!Hf(a))throw Error(n(200));return Wf(null,o,a,!1,h)},cr.unmountComponentAtNode=function(o){if(!Hf(o))throw Error(n(40));return o._reactRootContainer?(Sa(function(){Wf(null,null,o,!1,function(){o._reactRootContainer=null,o[jt]=null})}),!0):!1},cr.unstable_batchedUpdates=eg,cr.unstable_renderSubtreeIntoContainer=function(o,a,h,w){if(!Hf(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Wf(o,a,h,!1,w)},cr.version="18.3.1-next-f1338f8080-20240426",cr}var B_;function b1(){if(B_)return hg.exports;B_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hg.exports=JN(),hg.exports}var F_;function QN(){if(F_)return Gf;F_=1;var e=b1();return Gf.createRoot=e.createRoot,Gf.hydrateRoot=e.hydrateRoot,Gf}var XN=QN(),gg={},Ru={},U_;function eA(){if(U_)return Ru;U_=1,Ru.byteLength=u,Ru.toByteArray=p,Ru.fromByteArray=b;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,l=r.length;i<l;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function c(x){var k=x.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=x.indexOf("=");_===-1&&(_=k);var E=_===k?0:4-_%4;return[_,E]}function u(x){var k=c(x),_=k[0],E=k[1];return(_+E)*3/4-E}function f(x,k,_){return(k+_)*3/4-_}function p(x){var k,_=c(x),E=_[0],P=_[1],T=new n(f(x,E,P)),I=0,D=P>0?E-4:E,B;for(B=0;B<D;B+=4)k=t[x.charCodeAt(B)]<<18|t[x.charCodeAt(B+1)]<<12|t[x.charCodeAt(B+2)]<<6|t[x.charCodeAt(B+3)],T[I++]=k>>16&255,T[I++]=k>>8&255,T[I++]=k&255;return P===2&&(k=t[x.charCodeAt(B)]<<2|t[x.charCodeAt(B+1)]>>4,T[I++]=k&255),P===1&&(k=t[x.charCodeAt(B)]<<10|t[x.charCodeAt(B+1)]<<4|t[x.charCodeAt(B+2)]>>2,T[I++]=k>>8&255,T[I++]=k&255),T}function g(x){return e[x>>18&63]+e[x>>12&63]+e[x>>6&63]+e[x&63]}function m(x,k,_){for(var E,P=[],T=k;T<_;T+=3)E=(x[T]<<16&16711680)+(x[T+1]<<8&65280)+(x[T+2]&255),P.push(g(E));return P.join("")}function b(x){for(var k,_=x.length,E=_%3,P=[],T=16383,I=0,D=_-E;I<D;I+=T)P.push(m(x,I,I+T>D?D:I+T));return E===1?(k=x[_-1],P.push(e[k>>2]+e[k<<4&63]+"==")):E===2&&(k=(x[_-2]<<8)+x[_-1],P.push(e[k>>10]+e[k>>4&63]+e[k<<2&63]+"=")),P.join("")}return Ru}var Yf={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var $_;function tA(){return $_||($_=1,Yf.read=function(e,t,n,r,i){var l,c,u=i*8-r-1,f=(1<<u)-1,p=f>>1,g=-7,m=n?i-1:0,b=n?-1:1,x=e[t+m];for(m+=b,l=x&(1<<-g)-1,x>>=-g,g+=u;g>0;l=l*256+e[t+m],m+=b,g-=8);for(c=l&(1<<-g)-1,l>>=-g,g+=r;g>0;c=c*256+e[t+m],m+=b,g-=8);if(l===0)l=1-p;else{if(l===f)return c?NaN:(x?-1:1)*(1/0);c=c+Math.pow(2,r),l=l-p}return(x?-1:1)*c*Math.pow(2,l-r)},Yf.write=function(e,t,n,r,i,l){var c,u,f,p=l*8-i-1,g=(1<<p)-1,m=g>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:l-1,k=r?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,c=g):(c=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-c))<1&&(c--,f*=2),c+m>=1?t+=b/f:t+=b*Math.pow(2,1-m),t*f>=2&&(c++,f/=2),c+m>=g?(u=0,c=g):c+m>=1?(u=(t*f-1)*Math.pow(2,i),c=c+m):(u=t*Math.pow(2,m-1)*Math.pow(2,i),c=0));i>=8;e[n+x]=u&255,x+=k,u/=256,i-=8);for(c=c<<i|u,p+=i;p>0;e[n+x]=c&255,x+=k,c/=256,p-=8);e[n+x-k]|=_*128}),Yf}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Z_;function nA(){return Z_||(Z_=1,function(e){const t=eA(),n=tA(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=T,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const Z=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(Z,N),Z.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(Z){if(Z>i)throw new RangeError('The value "'+Z+'" is invalid for option "size"');const N=new Uint8Array(Z);return Object.setPrototypeOf(N,u.prototype),N}function u(Z,N,O){if(typeof Z=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(Z)}return f(Z,N,O)}u.poolSize=8192;function f(Z,N,O){if(typeof Z=="string")return b(Z,N);if(ArrayBuffer.isView(Z))return k(Z);if(Z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z);if(me(Z,ArrayBuffer)||Z&&me(Z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(Z,SharedArrayBuffer)||Z&&me(Z.buffer,SharedArrayBuffer)))return _(Z,N,O);if(typeof Z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const X=Z.valueOf&&Z.valueOf();if(X!=null&&X!==Z)return u.from(X,N,O);const fe=E(Z);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Z[Symbol.toPrimitive]=="function")return u.from(Z[Symbol.toPrimitive]("string"),N,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}u.from=function(Z,N,O){return f(Z,N,O)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(Z){if(typeof Z!="number")throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function g(Z,N,O){return p(Z),Z<=0?c(Z):N!==void 0?typeof O=="string"?c(Z).fill(N,O):c(Z).fill(N):c(Z)}u.alloc=function(Z,N,O){return g(Z,N,O)};function m(Z){return p(Z),c(Z<0?0:P(Z)|0)}u.allocUnsafe=function(Z){return m(Z)},u.allocUnsafeSlow=function(Z){return m(Z)};function b(Z,N){if((typeof N!="string"||N==="")&&(N="utf8"),!u.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const O=I(Z,N)|0;let X=c(O);const fe=X.write(Z,N);return fe!==O&&(X=X.slice(0,fe)),X}function x(Z){const N=Z.length<0?0:P(Z.length)|0,O=c(N);for(let X=0;X<N;X+=1)O[X]=Z[X]&255;return O}function k(Z){if(me(Z,Uint8Array)){const N=new Uint8Array(Z);return _(N.buffer,N.byteOffset,N.byteLength)}return x(Z)}function _(Z,N,O){if(N<0||Z.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<N+(O||0))throw new RangeError('"length" is outside of buffer bounds');let X;return N===void 0&&O===void 0?X=new Uint8Array(Z):O===void 0?X=new Uint8Array(Z,N):X=new Uint8Array(Z,N,O),Object.setPrototypeOf(X,u.prototype),X}function E(Z){if(u.isBuffer(Z)){const N=P(Z.length)|0,O=c(N);return O.length===0||Z.copy(O,0,0,N),O}if(Z.length!==void 0)return typeof Z.length!="number"||Me(Z.length)?c(0):x(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return x(Z.data)}function P(Z){if(Z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Z|0}function T(Z){return+Z!=Z&&(Z=0),u.alloc(+Z)}u.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==u.prototype},u.compare=function(N,O){if(me(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),me(O,Uint8Array)&&(O=u.from(O,O.offset,O.byteLength)),!u.isBuffer(N)||!u.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===O)return 0;let X=N.length,fe=O.length;for(let _e=0,Se=Math.min(X,fe);_e<Se;++_e)if(N[_e]!==O[_e]){X=N[_e],fe=O[_e];break}return X<fe?-1:fe<X?1:0},u.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(N,O){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return u.alloc(0);let X;if(O===void 0)for(O=0,X=0;X<N.length;++X)O+=N[X].length;const fe=u.allocUnsafe(O);let _e=0;for(X=0;X<N.length;++X){let Se=N[X];if(me(Se,Uint8Array))_e+Se.length>fe.length?(u.isBuffer(Se)||(Se=u.from(Se)),Se.copy(fe,_e)):Uint8Array.prototype.set.call(fe,Se,_e);else if(u.isBuffer(Se))Se.copy(fe,_e);else throw new TypeError('"list" argument must be an Array of Buffers');_e+=Se.length}return fe};function I(Z,N){if(u.isBuffer(Z))return Z.length;if(ArrayBuffer.isView(Z)||me(Z,ArrayBuffer))return Z.byteLength;if(typeof Z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);const O=Z.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&O===0)return 0;let fe=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return ie(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return Ne(Z).length;default:if(fe)return X?-1:ie(Z).length;N=(""+N).toLowerCase(),fe=!0}}u.byteLength=I;function D(Z,N,O){let X=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,N>>>=0,O<=N))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return ee(this,N,O);case"utf8":case"utf-8":return M(this,N,O);case"ascii":return oe(this,N,O);case"latin1":case"binary":return ne(this,N,O);case"base64":return re(this,N,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,N,O);default:if(X)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),X=!0}}u.prototype._isBuffer=!0;function B(Z,N,O){const X=Z[N];Z[N]=Z[O],Z[O]=X}u.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<N;O+=2)B(this,O,O+1);return this},u.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<N;O+=4)B(this,O,O+3),B(this,O+1,O+2);return this},u.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<N;O+=8)B(this,O,O+7),B(this,O+1,O+6),B(this,O+2,O+5),B(this,O+3,O+4);return this},u.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?M(this,0,N):D.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(N){if(!u.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:u.compare(this,N)===0},u.prototype.inspect=function(){let N="";const O=e.INSPECT_MAX_BYTES;return N=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(N+=" ... "),"<Buffer "+N+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(N,O,X,fe,_e){if(me(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),!u.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(O===void 0&&(O=0),X===void 0&&(X=N?N.length:0),fe===void 0&&(fe=0),_e===void 0&&(_e=this.length),O<0||X>N.length||fe<0||_e>this.length)throw new RangeError("out of range index");if(fe>=_e&&O>=X)return 0;if(fe>=_e)return-1;if(O>=X)return 1;if(O>>>=0,X>>>=0,fe>>>=0,_e>>>=0,this===N)return 0;let Se=_e-fe,lt=X-O;const Lt=Math.min(Se,lt),vt=this.slice(fe,_e),Et=N.slice(O,X);for(let kt=0;kt<Lt;++kt)if(vt[kt]!==Et[kt]){Se=vt[kt],lt=Et[kt];break}return Se<lt?-1:lt<Se?1:0};function q(Z,N,O,X,fe){if(Z.length===0)return-1;if(typeof O=="string"?(X=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,Me(O)&&(O=fe?0:Z.length-1),O<0&&(O=Z.length+O),O>=Z.length){if(fe)return-1;O=Z.length-1}else if(O<0)if(fe)O=0;else return-1;if(typeof N=="string"&&(N=u.from(N,X)),u.isBuffer(N))return N.length===0?-1:G(Z,N,O,X,fe);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(Z,N,O):Uint8Array.prototype.lastIndexOf.call(Z,N,O):G(Z,[N],O,X,fe);throw new TypeError("val must be string, number or Buffer")}function G(Z,N,O,X,fe){let _e=1,Se=Z.length,lt=N.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(Z.length<2||N.length<2)return-1;_e=2,Se/=2,lt/=2,O/=2}function Lt(Et,kt){return _e===1?Et[kt]:Et.readUInt16BE(kt*_e)}let vt;if(fe){let Et=-1;for(vt=O;vt<Se;vt++)if(Lt(Z,vt)===Lt(N,Et===-1?0:vt-Et)){if(Et===-1&&(Et=vt),vt-Et+1===lt)return Et*_e}else Et!==-1&&(vt-=vt-Et),Et=-1}else for(O+lt>Se&&(O=Se-lt),vt=O;vt>=0;vt--){let Et=!0;for(let kt=0;kt<lt;kt++)if(Lt(Z,vt+kt)!==Lt(N,kt)){Et=!1;break}if(Et)return vt}return-1}u.prototype.includes=function(N,O,X){return this.indexOf(N,O,X)!==-1},u.prototype.indexOf=function(N,O,X){return q(this,N,O,X,!0)},u.prototype.lastIndexOf=function(N,O,X){return q(this,N,O,X,!1)};function J(Z,N,O,X){O=Number(O)||0;const fe=Z.length-O;X?(X=Number(X),X>fe&&(X=fe)):X=fe;const _e=N.length;X>_e/2&&(X=_e/2);let Se;for(Se=0;Se<X;++Se){const lt=parseInt(N.substr(Se*2,2),16);if(Me(lt))return Se;Z[O+Se]=lt}return Se}function V(Z,N,O,X){return Ae(ie(N,Z.length-O),Z,O,X)}function Y(Z,N,O,X){return Ae(te(N),Z,O,X)}function Q(Z,N,O,X){return Ae(Ne(N),Z,O,X)}function U(Z,N,O,X){return Ae(pe(N,Z.length-O),Z,O,X)}u.prototype.write=function(N,O,X,fe){if(O===void 0)fe="utf8",X=this.length,O=0;else if(X===void 0&&typeof O=="string")fe=O,X=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(X)?(X=X>>>0,fe===void 0&&(fe="utf8")):(fe=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _e=this.length-O;if((X===void 0||X>_e)&&(X=_e),N.length>0&&(X<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Se=!1;for(;;)switch(fe){case"hex":return J(this,N,O,X);case"utf8":case"utf-8":return V(this,N,O,X);case"ascii":case"latin1":case"binary":return Y(this,N,O,X);case"base64":return Q(this,N,O,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,N,O,X);default:if(Se)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Se=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(Z,N,O){return N===0&&O===Z.length?t.fromByteArray(Z):t.fromByteArray(Z.slice(N,O))}function M(Z,N,O){O=Math.min(Z.length,O);const X=[];let fe=N;for(;fe<O;){const _e=Z[fe];let Se=null,lt=_e>239?4:_e>223?3:_e>191?2:1;if(fe+lt<=O){let Lt,vt,Et,kt;switch(lt){case 1:_e<128&&(Se=_e);break;case 2:Lt=Z[fe+1],(Lt&192)===128&&(kt=(_e&31)<<6|Lt&63,kt>127&&(Se=kt));break;case 3:Lt=Z[fe+1],vt=Z[fe+2],(Lt&192)===128&&(vt&192)===128&&(kt=(_e&15)<<12|(Lt&63)<<6|vt&63,kt>2047&&(kt<55296||kt>57343)&&(Se=kt));break;case 4:Lt=Z[fe+1],vt=Z[fe+2],Et=Z[fe+3],(Lt&192)===128&&(vt&192)===128&&(Et&192)===128&&(kt=(_e&15)<<18|(Lt&63)<<12|(vt&63)<<6|Et&63,kt>65535&&kt<1114112&&(Se=kt))}}Se===null?(Se=65533,lt=1):Se>65535&&(Se-=65536,X.push(Se>>>10&1023|55296),Se=56320|Se&1023),X.push(Se),fe+=lt}return ae(X)}const W=4096;function ae(Z){const N=Z.length;if(N<=W)return String.fromCharCode.apply(String,Z);let O="",X=0;for(;X<N;)O+=String.fromCharCode.apply(String,Z.slice(X,X+=W));return O}function oe(Z,N,O){let X="";O=Math.min(Z.length,O);for(let fe=N;fe<O;++fe)X+=String.fromCharCode(Z[fe]&127);return X}function ne(Z,N,O){let X="";O=Math.min(Z.length,O);for(let fe=N;fe<O;++fe)X+=String.fromCharCode(Z[fe]);return X}function ee(Z,N,O){const X=Z.length;(!N||N<0)&&(N=0),(!O||O<0||O>X)&&(O=X);let fe="";for(let _e=N;_e<O;++_e)fe+=He[Z[_e]];return fe}function le(Z,N,O){const X=Z.slice(N,O);let fe="";for(let _e=0;_e<X.length-1;_e+=2)fe+=String.fromCharCode(X[_e]+X[_e+1]*256);return fe}u.prototype.slice=function(N,O){const X=this.length;N=~~N,O=O===void 0?X:~~O,N<0?(N+=X,N<0&&(N=0)):N>X&&(N=X),O<0?(O+=X,O<0&&(O=0)):O>X&&(O=X),O<N&&(O=N);const fe=this.subarray(N,O);return Object.setPrototypeOf(fe,u.prototype),fe};function F(Z,N,O){if(Z%1!==0||Z<0)throw new RangeError("offset is not uint");if(Z+N>O)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(N,O,X){N=N>>>0,O=O>>>0,X||F(N,O,this.length);let fe=this[N],_e=1,Se=0;for(;++Se<O&&(_e*=256);)fe+=this[N+Se]*_e;return fe},u.prototype.readUintBE=u.prototype.readUIntBE=function(N,O,X){N=N>>>0,O=O>>>0,X||F(N,O,this.length);let fe=this[N+--O],_e=1;for(;O>0&&(_e*=256);)fe+=this[N+--O]*_e;return fe},u.prototype.readUint8=u.prototype.readUInt8=function(N,O){return N=N>>>0,O||F(N,1,this.length),this[N]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(N,O){return N=N>>>0,O||F(N,2,this.length),this[N]|this[N+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(N,O){return N=N>>>0,O||F(N,2,this.length),this[N]<<8|this[N+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(N,O){return N=N>>>0,O||F(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(N,O){return N=N>>>0,O||F(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},u.prototype.readBigUInt64LE=je(function(N){N=N>>>0,ht(N,"offset");const O=this[N],X=this[N+7];(O===void 0||X===void 0)&&z(N,this.length-8);const fe=O+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,_e=this[++N]+this[++N]*2**8+this[++N]*2**16+X*2**24;return BigInt(fe)+(BigInt(_e)<<BigInt(32))}),u.prototype.readBigUInt64BE=je(function(N){N=N>>>0,ht(N,"offset");const O=this[N],X=this[N+7];(O===void 0||X===void 0)&&z(N,this.length-8);const fe=O*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],_e=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+X;return(BigInt(fe)<<BigInt(32))+BigInt(_e)}),u.prototype.readIntLE=function(N,O,X){N=N>>>0,O=O>>>0,X||F(N,O,this.length);let fe=this[N],_e=1,Se=0;for(;++Se<O&&(_e*=256);)fe+=this[N+Se]*_e;return _e*=128,fe>=_e&&(fe-=Math.pow(2,8*O)),fe},u.prototype.readIntBE=function(N,O,X){N=N>>>0,O=O>>>0,X||F(N,O,this.length);let fe=O,_e=1,Se=this[N+--fe];for(;fe>0&&(_e*=256);)Se+=this[N+--fe]*_e;return _e*=128,Se>=_e&&(Se-=Math.pow(2,8*O)),Se},u.prototype.readInt8=function(N,O){return N=N>>>0,O||F(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},u.prototype.readInt16LE=function(N,O){N=N>>>0,O||F(N,2,this.length);const X=this[N]|this[N+1]<<8;return X&32768?X|4294901760:X},u.prototype.readInt16BE=function(N,O){N=N>>>0,O||F(N,2,this.length);const X=this[N+1]|this[N]<<8;return X&32768?X|4294901760:X},u.prototype.readInt32LE=function(N,O){return N=N>>>0,O||F(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},u.prototype.readInt32BE=function(N,O){return N=N>>>0,O||F(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},u.prototype.readBigInt64LE=je(function(N){N=N>>>0,ht(N,"offset");const O=this[N],X=this[N+7];(O===void 0||X===void 0)&&z(N,this.length-8);const fe=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(X<<24);return(BigInt(fe)<<BigInt(32))+BigInt(O+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),u.prototype.readBigInt64BE=je(function(N){N=N>>>0,ht(N,"offset");const O=this[N],X=this[N+7];(O===void 0||X===void 0)&&z(N,this.length-8);const fe=(O<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(fe)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+X)}),u.prototype.readFloatLE=function(N,O){return N=N>>>0,O||F(N,4,this.length),n.read(this,N,!0,23,4)},u.prototype.readFloatBE=function(N,O){return N=N>>>0,O||F(N,4,this.length),n.read(this,N,!1,23,4)},u.prototype.readDoubleLE=function(N,O){return N=N>>>0,O||F(N,8,this.length),n.read(this,N,!0,52,8)},u.prototype.readDoubleBE=function(N,O){return N=N>>>0,O||F(N,8,this.length),n.read(this,N,!1,52,8)};function K(Z,N,O,X,fe,_e){if(!u.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>fe||N<_e)throw new RangeError('"value" argument is out of bounds');if(O+X>Z.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(N,O,X,fe){if(N=+N,O=O>>>0,X=X>>>0,!fe){const lt=Math.pow(2,8*X)-1;K(this,N,O,X,lt,0)}let _e=1,Se=0;for(this[O]=N&255;++Se<X&&(_e*=256);)this[O+Se]=N/_e&255;return O+X},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(N,O,X,fe){if(N=+N,O=O>>>0,X=X>>>0,!fe){const lt=Math.pow(2,8*X)-1;K(this,N,O,X,lt,0)}let _e=X-1,Se=1;for(this[O+_e]=N&255;--_e>=0&&(Se*=256);)this[O+_e]=N/Se&255;return O+X},u.prototype.writeUint8=u.prototype.writeUInt8=function(N,O,X){return N=+N,O=O>>>0,X||K(this,N,O,1,255,0),this[O]=N&255,O+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(N,O,X){return N=+N,O=O>>>0,X||K(this,N,O,2,65535,0),this[O]=N&255,this[O+1]=N>>>8,O+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(N,O,X){return N=+N,O=O>>>0,X||K(this,N,O,2,65535,0),this[O]=N>>>8,this[O+1]=N&255,O+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(N,O,X){return N=+N,O=O>>>0,X||K(this,N,O,4,4294967295,0),this[O+3]=N>>>24,this[O+2]=N>>>16,this[O+1]=N>>>8,this[O]=N&255,O+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(N,O,X){return N=+N,O=O>>>0,X||K(this,N,O,4,4294967295,0),this[O]=N>>>24,this[O+1]=N>>>16,this[O+2]=N>>>8,this[O+3]=N&255,O+4};function Ce(Z,N,O,X,fe){At(N,X,fe,Z,O,7);let _e=Number(N&BigInt(4294967295));Z[O++]=_e,_e=_e>>8,Z[O++]=_e,_e=_e>>8,Z[O++]=_e,_e=_e>>8,Z[O++]=_e;let Se=Number(N>>BigInt(32)&BigInt(4294967295));return Z[O++]=Se,Se=Se>>8,Z[O++]=Se,Se=Se>>8,Z[O++]=Se,Se=Se>>8,Z[O++]=Se,O}function be(Z,N,O,X,fe){At(N,X,fe,Z,O,7);let _e=Number(N&BigInt(4294967295));Z[O+7]=_e,_e=_e>>8,Z[O+6]=_e,_e=_e>>8,Z[O+5]=_e,_e=_e>>8,Z[O+4]=_e;let Se=Number(N>>BigInt(32)&BigInt(4294967295));return Z[O+3]=Se,Se=Se>>8,Z[O+2]=Se,Se=Se>>8,Z[O+1]=Se,Se=Se>>8,Z[O]=Se,O+8}u.prototype.writeBigUInt64LE=je(function(N,O=0){return Ce(this,N,O,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=je(function(N,O=0){return be(this,N,O,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(N,O,X,fe){if(N=+N,O=O>>>0,!fe){const Lt=Math.pow(2,8*X-1);K(this,N,O,X,Lt-1,-Lt)}let _e=0,Se=1,lt=0;for(this[O]=N&255;++_e<X&&(Se*=256);)N<0&&lt===0&&this[O+_e-1]!==0&&(lt=1),this[O+_e]=(N/Se>>0)-lt&255;return O+X},u.prototype.writeIntBE=function(N,O,X,fe){if(N=+N,O=O>>>0,!fe){const Lt=Math.pow(2,8*X-1);K(this,N,O,X,Lt-1,-Lt)}let _e=X-1,Se=1,lt=0;for(this[O+_e]=N&255;--_e>=0&&(Se*=256);)N<0&&lt===0&&this[O+_e+1]!==0&&(lt=1),this[O+_e]=(N/Se>>0)-lt&255;return O+X},u.prototype.writeInt8=function(N,O,X){return N=+N,O=O>>>0,X||K(this,N,O,1,127,-128),N<0&&(N=255+N+1),this[O]=N&255,O+1},u.prototype.writeInt16LE=function(N,O,X){return N=+N,O=O>>>0,X||K(this,N,O,2,32767,-32768),this[O]=N&255,this[O+1]=N>>>8,O+2},u.prototype.writeInt16BE=function(N,O,X){return N=+N,O=O>>>0,X||K(this,N,O,2,32767,-32768),this[O]=N>>>8,this[O+1]=N&255,O+2},u.prototype.writeInt32LE=function(N,O,X){return N=+N,O=O>>>0,X||K(this,N,O,4,2147483647,-2147483648),this[O]=N&255,this[O+1]=N>>>8,this[O+2]=N>>>16,this[O+3]=N>>>24,O+4},u.prototype.writeInt32BE=function(N,O,X){return N=+N,O=O>>>0,X||K(this,N,O,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[O]=N>>>24,this[O+1]=N>>>16,this[O+2]=N>>>8,this[O+3]=N&255,O+4},u.prototype.writeBigInt64LE=je(function(N,O=0){return Ce(this,N,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=je(function(N,O=0){return be(this,N,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function we(Z,N,O,X,fe,_e){if(O+X>Z.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function Ie(Z,N,O,X,fe){return N=+N,O=O>>>0,fe||we(Z,N,O,4),n.write(Z,N,O,X,23,4),O+4}u.prototype.writeFloatLE=function(N,O,X){return Ie(this,N,O,!0,X)},u.prototype.writeFloatBE=function(N,O,X){return Ie(this,N,O,!1,X)};function Ue(Z,N,O,X,fe){return N=+N,O=O>>>0,fe||we(Z,N,O,8),n.write(Z,N,O,X,52,8),O+8}u.prototype.writeDoubleLE=function(N,O,X){return Ue(this,N,O,!0,X)},u.prototype.writeDoubleBE=function(N,O,X){return Ue(this,N,O,!1,X)},u.prototype.copy=function(N,O,X,fe){if(!u.isBuffer(N))throw new TypeError("argument should be a Buffer");if(X||(X=0),!fe&&fe!==0&&(fe=this.length),O>=N.length&&(O=N.length),O||(O=0),fe>0&&fe<X&&(fe=X),fe===X||N.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),N.length-O<fe-X&&(fe=N.length-O+X);const _e=fe-X;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(O,X,fe):Uint8Array.prototype.set.call(N,this.subarray(X,fe),O),_e},u.prototype.fill=function(N,O,X,fe){if(typeof N=="string"){if(typeof O=="string"?(fe=O,O=0,X=this.length):typeof X=="string"&&(fe=X,X=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!u.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(N.length===1){const Se=N.charCodeAt(0);(fe==="utf8"&&Se<128||fe==="latin1")&&(N=Se)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(O<0||this.length<O||this.length<X)throw new RangeError("Out of range index");if(X<=O)return this;O=O>>>0,X=X===void 0?this.length:X>>>0,N||(N=0);let _e;if(typeof N=="number")for(_e=O;_e<X;++_e)this[_e]=N;else{const Se=u.isBuffer(N)?N:u.from(N,fe),lt=Se.length;if(lt===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(_e=0;_e<X-O;++_e)this[_e+O]=Se[_e%lt]}return this};const De={};function Fe(Z,N,O){De[Z]=class extends O{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Z}]`,this.stack,delete this.name}get code(){return Z}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${Z}]: ${this.message}`}}}Fe("ERR_BUFFER_OUT_OF_BOUNDS",function(Z){return Z?`${Z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Fe("ERR_INVALID_ARG_TYPE",function(Z,N){return`The "${Z}" argument must be of type number. Received type ${typeof N}`},TypeError),Fe("ERR_OUT_OF_RANGE",function(Z,N,O){let X=`The value of "${Z}" is out of range.`,fe=O;return Number.isInteger(O)&&Math.abs(O)>2**32?fe=rt(String(O)):typeof O=="bigint"&&(fe=String(O),(O>BigInt(2)**BigInt(32)||O<-(BigInt(2)**BigInt(32)))&&(fe=rt(fe)),fe+="n"),X+=` It must be ${N}. Received ${fe}`,X},RangeError);function rt(Z){let N="",O=Z.length;const X=Z[0]==="-"?1:0;for(;O>=X+4;O-=3)N=`_${Z.slice(O-3,O)}${N}`;return`${Z.slice(0,O)}${N}`}function wt(Z,N,O){ht(N,"offset"),(Z[N]===void 0||Z[N+O]===void 0)&&z(N,Z.length-(O+1))}function At(Z,N,O,X,fe,_e){if(Z>O||Z<N){const Se=typeof N=="bigint"?"n":"";let lt;throw N===0||N===BigInt(0)?lt=`>= 0${Se} and < 2${Se} ** ${(_e+1)*8}${Se}`:lt=`>= -(2${Se} ** ${(_e+1)*8-1}${Se}) and < 2 ** ${(_e+1)*8-1}${Se}`,new De.ERR_OUT_OF_RANGE("value",lt,Z)}wt(X,fe,_e)}function ht(Z,N){if(typeof Z!="number")throw new De.ERR_INVALID_ARG_TYPE(N,"number",Z)}function z(Z,N,O){throw Math.floor(Z)!==Z?(ht(Z,O),new De.ERR_OUT_OF_RANGE("offset","an integer",Z)):N<0?new De.ERR_BUFFER_OUT_OF_BOUNDS:new De.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,Z)}const Pe=/[^+/0-9A-Za-z-_]/g;function ke(Z){if(Z=Z.split("=")[0],Z=Z.trim().replace(Pe,""),Z.length<2)return"";for(;Z.length%4!==0;)Z=Z+"=";return Z}function ie(Z,N){N=N||1/0;let O;const X=Z.length;let fe=null;const _e=[];for(let Se=0;Se<X;++Se){if(O=Z.charCodeAt(Se),O>55295&&O<57344){if(!fe){if(O>56319){(N-=3)>-1&&_e.push(239,191,189);continue}else if(Se+1===X){(N-=3)>-1&&_e.push(239,191,189);continue}fe=O;continue}if(O<56320){(N-=3)>-1&&_e.push(239,191,189),fe=O;continue}O=(fe-55296<<10|O-56320)+65536}else fe&&(N-=3)>-1&&_e.push(239,191,189);if(fe=null,O<128){if((N-=1)<0)break;_e.push(O)}else if(O<2048){if((N-=2)<0)break;_e.push(O>>6|192,O&63|128)}else if(O<65536){if((N-=3)<0)break;_e.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((N-=4)<0)break;_e.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return _e}function te(Z){const N=[];for(let O=0;O<Z.length;++O)N.push(Z.charCodeAt(O)&255);return N}function pe(Z,N){let O,X,fe;const _e=[];for(let Se=0;Se<Z.length&&!((N-=2)<0);++Se)O=Z.charCodeAt(Se),X=O>>8,fe=O%256,_e.push(fe),_e.push(X);return _e}function Ne(Z){return t.toByteArray(ke(Z))}function Ae(Z,N,O,X){let fe;for(fe=0;fe<X&&!(fe+O>=N.length||fe>=Z.length);++fe)N[fe+O]=Z[fe];return fe}function me(Z,N){return Z instanceof N||Z!=null&&Z.constructor!=null&&Z.constructor.name!=null&&Z.constructor.name===N.name}function Me(Z){return Z!==Z}const He=function(){const Z="0123456789abcdef",N=new Array(256);for(let O=0;O<16;++O){const X=O*16;for(let fe=0;fe<16;++fe)N[X+fe]=Z[O]+Z[fe]}return N}();function je(Z){return typeof BigInt>"u"?Je:Z}function Je(){throw new Error("BigInt not supported")}}(gg)),gg}var rA=nA();const iA=qh(rA);globalThis.Buffer||(globalThis.Buffer=iA.Buffer);AbortSignal.any||(AbortSignal.any=function(e){if(e.length===0)return new AbortController().signal;if(e.length===1)return e[0];for(const r of e)if(r.aborted){const i=new AbortController;return i.abort(r.reason),i.signal}const t=new AbortController,n=r=>{const i=r.target;t.abort(i.reason)};for(const r of e)r.addEventListener("abort",n,{once:!0});return t.signal.addEventListener("abort",()=>{for(const r of e)r.removeEventListener("abort",n)},{once:!0}),t.signal});AbortSignal.timeout||(AbortSignal.timeout=function(e){const t=new AbortController;return setTimeout(()=>{t.abort(new DOMException("The operation was aborted due to timeout","TimeoutError"))},e),t.signal});var R=Kh();const Es=qh(R),pv=WN({__proto__:null,default:Es},[R]);class oA extends R.Component{constructor(n){super(n);$e(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n,r;return this.state.hasError?this.props.fallback?this.props.fallback:v.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:v.jsxs("div",{className:"max-w-md w-full space-y-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),v.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. The error has been reported."})]}),v.jsx("div",{className:"bg-muted p-4 rounded-lg",children:v.jsxs("details",{className:"text-sm",children:[v.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Error details"}),v.jsxs("div",{className:"mt-2 space-y-2",children:[v.jsxs("div",{children:[v.jsx("strong",{className:"text-foreground",children:"Message:"}),v.jsx("p",{className:"text-muted-foreground mt-1",children:(n=this.state.error)==null?void 0:n.message})]}),((r=this.state.error)==null?void 0:r.stack)&&v.jsxs("div",{children:[v.jsx("strong",{className:"text-foreground",children:"Stack trace:"}),v.jsx("pre",{className:"text-xs text-muted-foreground mt-1 overflow-auto max-h-32",children:this.state.error.stack})]})]})]})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try again"}),v.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload page"})]})]})}):this.props.children}}var Tc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wa=typeof window>"u"||"Deno"in globalThis;function Kr(){}function sA(e,t){return typeof e=="function"?e(t):e}function ry(e){return typeof e=="number"&&e>=0&&e!==1/0}function E1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ql(e,t){return typeof e=="function"?e(t):e}function hi(e,t){return typeof e=="function"?e(t):e}function H_(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:l,queryKey:c,stale:u}=e;if(c){if(r){if(t.queryHash!==mv(c,t.options))return!1}else if(!qu(t.queryKey,c))return!1}if(n!=="all"){const f=t.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||l&&!l(t))}function W_(e,t){const{exact:n,status:r,predicate:i,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Va(t.options.mutationKey)!==Va(l))return!1}else if(!qu(t.options.mutationKey,l))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function mv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Va)(e)}function Va(e){return JSON.stringify(e,(t,n)=>iy(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function qu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>qu(e[n],t[n])):!1}function k1(e,t){if(e===t)return e;const n=V_(e)&&V_(t);if(n||iy(e)&&iy(t)){const r=n?e:Object.keys(e),i=r.length,l=n?t:Object.keys(t),c=l.length,u=n?[]:{};let f=0;for(let p=0;p<c;p++){const g=n?p:l[p];(!n&&r.includes(g)||n)&&e[g]===void 0&&t[g]===void 0?(u[g]=void 0,f++):(u[g]=k1(e[g],t[g]),u[g]===e[g]&&e[g]!==void 0&&f++)}return i===c&&f===i?e:u}return t}function _h(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function V_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function iy(e){if(!q_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!q_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function q_(e){return Object.prototype.toString.call(e)==="[object Object]"}function aA(e){return new Promise(t=>{setTimeout(t,e)})}function oy(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?k1(e,t):t}function lA(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function cA(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var gv=Symbol();function S1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===gv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Oa,Cs,oc,u1,uA=(u1=class extends Tc{constructor(){super();et(this,Oa);et(this,Cs);et(this,oc);We(this,oc,t=>{if(!Wa&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,Cs)||this.setEventListener(ue(this,oc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Cs))==null||t.call(this),We(this,Cs,void 0))}setEventListener(t){var n;We(this,oc,t),(n=ue(this,Cs))==null||n.call(this),We(this,Cs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ue(this,Oa)!==t&&(We(this,Oa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ue(this,Oa)=="boolean"?ue(this,Oa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Oa=new WeakMap,Cs=new WeakMap,oc=new WeakMap,u1),yv=new uA,sc,Ps,ac,d1,dA=(d1=class extends Tc{constructor(){super();et(this,sc,!0);et(this,Ps);et(this,ac);We(this,ac,t=>{if(!Wa&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ue(this,Ps)||this.setEventListener(ue(this,ac))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Ps))==null||t.call(this),We(this,Ps,void 0))}setEventListener(t){var n;We(this,ac,t),(n=ue(this,Ps))==null||n.call(this),We(this,Ps,t(this.setOnline.bind(this)))}setOnline(t){ue(this,sc)!==t&&(We(this,sc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ue(this,sc)}},sc=new WeakMap,Ps=new WeakMap,ac=new WeakMap,d1),xh=new dA;function sy(){let e,t;const n=new Promise((i,l)=>{e=i,t=l});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function fA(e){return Math.min(1e3*2**e,3e4)}function C1(e){return(e??"online")==="online"?xh.isOnline():!0}var P1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function yg(e){return e instanceof P1}function T1(e){let t=!1,n=0,r=!1,i;const l=sy(),c=_=>{var E;r||(b(new P1(_)),(E=e.abort)==null||E.call(e))},u=()=>{t=!0},f=()=>{t=!1},p=()=>yv.isFocused()&&(e.networkMode==="always"||xh.isOnline())&&e.canRun(),g=()=>C1(e.networkMode)&&e.canRun(),m=_=>{var E;r||(r=!0,(E=e.onSuccess)==null||E.call(e,_),i==null||i(),l.resolve(_))},b=_=>{var E;r||(r=!0,(E=e.onError)==null||E.call(e,_),i==null||i(),l.reject(_))},x=()=>new Promise(_=>{var E;i=P=>{(r||p())&&_(P)},(E=e.onPause)==null||E.call(e)}).then(()=>{var _;i=void 0,r||(_=e.onContinue)==null||_.call(e)}),k=()=>{if(r)return;let _;const E=n===0?e.initialPromise:void 0;try{_=E??e.fn()}catch(P){_=Promise.reject(P)}Promise.resolve(_).then(m).catch(P=>{var q;if(r)return;const T=e.retry??(Wa?0:3),I=e.retryDelay??fA,D=typeof I=="function"?I(n,P):I,B=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,P);if(t||!B){b(P);return}n++,(q=e.onFail)==null||q.call(e,n,P),aA(D).then(()=>p()?void 0:x()).then(()=>{t?b(P):k()})})};return{promise:l,cancel:c,continue:()=>(i==null||i(),l),cancelRetry:u,continueRetry:f,canStart:g,start:()=>(g()?k():x().then(k),l)}}var hA=e=>setTimeout(e,0);function pA(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=hA;const l=u=>{t?e.push(u):i(()=>{n(u)})},c=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(f=>{n(f)})})})};return{batch:u=>{let f;t++;try{f=u()}finally{t--,t||c()}return f},batchCalls:u=>(...f)=>{l(()=>{u(...f)})},schedule:l,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var wn=pA(),ja,f1,N1=(f1=class{constructor(){et(this,ja)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ry(this.gcTime)&&We(this,ja,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wa?1/0:5*60*1e3))}clearGcTimeout(){ue(this,ja)&&(clearTimeout(ue(this,ja)),We(this,ja,void 0))}},ja=new WeakMap,f1),lc,cc,qr,Ma,Bn,ld,za,di,po,h1,mA=(h1=class extends N1{constructor(t){super();et(this,di);et(this,lc);et(this,cc);et(this,qr);et(this,Ma);et(this,Bn);et(this,ld);et(this,za);We(this,za,!1),We(this,ld,t.defaultOptions),this.setOptions(t.options),this.observers=[],We(this,Ma,t.client),We(this,qr,ue(this,Ma).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,We(this,lc,gA(this.options)),this.state=t.state??ue(this,lc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,Bn))==null?void 0:t.promise}setOptions(t){this.options={...ue(this,ld),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,qr).remove(this)}setData(t,n){const r=oy(this.state.data,t,this.options);return mt(this,di,po).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){mt(this,di,po).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ue(this,Bn))==null?void 0:r.promise;return(i=ue(this,Bn))==null||i.cancel(t),n?n.then(Kr).catch(Kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,lc))}isActive(){return this.observers.some(t=>hi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!E1(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Bn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Bn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,qr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ue(this,Bn)&&(ue(this,za)?ue(this,Bn).cancel({revert:!0}):ue(this,Bn).cancelRetry()),this.scheduleGc()),ue(this,qr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,di,po).call(this,{type:"invalidate"})}fetch(t,n){var f,p,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Bn))return ue(this,Bn).continueRetry(),ue(this,Bn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(b=>b.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(We(this,za,!0),r.signal)})},l=()=>{const m=S1(this.options,n),b={client:ue(this,Ma),queryKey:this.queryKey,meta:this.meta};return i(b),We(this,za,!1),this.options.persister?this.options.persister(m,b,this):m(b)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,Ma),state:this.state,fetchFn:l};i(c),(f=this.options.behavior)==null||f.onFetch(c,this),We(this,cc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&mt(this,di,po).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta});const u=m=>{var b,x,k,_;yg(m)&&m.silent||mt(this,di,po).call(this,{type:"error",error:m}),yg(m)||((x=(b=ue(this,qr).config).onError)==null||x.call(b,m,this),(_=(k=ue(this,qr).config).onSettled)==null||_.call(k,this.state.data,m,this)),this.scheduleGc()};return We(this,Bn,T1({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var b,x,k,_;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(E){u(E);return}(x=(b=ue(this,qr).config).onSuccess)==null||x.call(b,m,this),(_=(k=ue(this,qr).config).onSettled)==null||_.call(k,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,b)=>{mt(this,di,po).call(this,{type:"failed",failureCount:m,error:b})},onPause:()=>{mt(this,di,po).call(this,{type:"pause"})},onContinue:()=>{mt(this,di,po).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),ue(this,Bn).start()}},lc=new WeakMap,cc=new WeakMap,qr=new WeakMap,Ma=new WeakMap,Bn=new WeakMap,ld=new WeakMap,za=new WeakMap,di=new WeakSet,po=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...A1(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return yg(i)&&i.revert&&ue(this,cc)?{...ue(this,cc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),wn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ue(this,qr).notify({query:this,type:"updated",action:t})})},h1);function A1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:C1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Mi,p1,yA=(p1=class extends Tc{constructor(t={}){super();et(this,Mi);this.config=t,We(this,Mi,new Map)}build(t,n,r){const i=n.queryKey,l=n.queryHash??mv(i,n);let c=this.get(l);return c||(c=new mA({client:t,queryKey:i,queryHash:l,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(c)),c}add(t){ue(this,Mi).has(t.queryHash)||(ue(this,Mi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ue(this,Mi).get(t.queryHash);n&&(t.destroy(),n===t&&ue(this,Mi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,Mi).get(t)}getAll(){return[...ue(this,Mi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>H_(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>H_(t,r)):n}notify(t){wn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mi=new WeakMap,p1),zi,Jn,Da,Di,ks,m1,vA=(m1=class extends N1{constructor(t){super();et(this,Di);et(this,zi);et(this,Jn);et(this,Da);this.mutationId=t.mutationId,We(this,Jn,t.mutationCache),We(this,zi,[]),this.state=t.state||R1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,zi).includes(t)||(ue(this,zi).push(t),this.clearGcTimeout(),ue(this,Jn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){We(this,zi,ue(this,zi).filter(n=>n!==t)),this.scheduleGc(),ue(this,Jn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,zi).length||(this.state.status==="pending"?this.scheduleGc():ue(this,Jn).remove(this))}continue(){var t;return((t=ue(this,Da))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,c,u,f,p,g,m,b,x,k,_,E,P,T,I,D,B,q,G,J;const n=()=>{mt(this,Di,ks).call(this,{type:"continue"})};We(this,Da,T1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(V,Y)=>{mt(this,Di,ks).call(this,{type:"failed",failureCount:V,error:Y})},onPause:()=>{mt(this,Di,ks).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,Jn).canRun(this)}));const r=this.state.status==="pending",i=!ue(this,Da).canStart();try{if(r)n();else{mt(this,Di,ks).call(this,{type:"pending",variables:t,isPaused:i}),await((c=(l=ue(this,Jn).config).onMutate)==null?void 0:c.call(l,t,this));const Y=await((f=(u=this.options).onMutate)==null?void 0:f.call(u,t));Y!==this.state.context&&mt(this,Di,ks).call(this,{type:"pending",context:Y,variables:t,isPaused:i})}const V=await ue(this,Da).start();return await((g=(p=ue(this,Jn).config).onSuccess)==null?void 0:g.call(p,V,t,this.state.context,this)),await((b=(m=this.options).onSuccess)==null?void 0:b.call(m,V,t,this.state.context)),await((k=(x=ue(this,Jn).config).onSettled)==null?void 0:k.call(x,V,null,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,V,null,t,this.state.context)),mt(this,Di,ks).call(this,{type:"success",data:V}),V}catch(V){try{throw await((T=(P=ue(this,Jn).config).onError)==null?void 0:T.call(P,V,t,this.state.context,this)),await((D=(I=this.options).onError)==null?void 0:D.call(I,V,t,this.state.context)),await((q=(B=ue(this,Jn).config).onSettled)==null?void 0:q.call(B,void 0,V,this.state.variables,this.state.context,this)),await((J=(G=this.options).onSettled)==null?void 0:J.call(G,void 0,V,t,this.state.context)),V}finally{mt(this,Di,ks).call(this,{type:"error",error:V})}}finally{ue(this,Jn).runNext(this)}}},zi=new WeakMap,Jn=new WeakMap,Da=new WeakMap,Di=new WeakSet,ks=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wn.batch(()=>{ue(this,zi).forEach(r=>{r.onMutationUpdate(t)}),ue(this,Jn).notify({mutation:this,type:"updated",action:t})})},m1);function R1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var go,fi,cd,g1,wA=(g1=class extends Tc{constructor(t={}){super();et(this,go);et(this,fi);et(this,cd);this.config=t,We(this,go,new Set),We(this,fi,new Map),We(this,cd,0)}build(t,n,r){const i=new vA({mutationCache:this,mutationId:++qf(this,cd)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ue(this,go).add(t);const n=Jf(t);if(typeof n=="string"){const r=ue(this,fi).get(n);r?r.push(t):ue(this,fi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,go).delete(t)){const n=Jf(t);if(typeof n=="string"){const r=ue(this,fi).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ue(this,fi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Jf(t);if(typeof n=="string"){const r=ue(this,fi).get(n),i=r==null?void 0:r.find(l=>l.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Jf(t);if(typeof n=="string"){const i=(r=ue(this,fi).get(n))==null?void 0:r.find(l=>l!==t&&l.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){wn.batch(()=>{ue(this,go).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,go).clear(),ue(this,fi).clear()})}getAll(){return Array.from(ue(this,go))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>W_(n,r))}findAll(t={}){return this.getAll().filter(n=>W_(t,n))}notify(t){wn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return wn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Kr))))}},go=new WeakMap,fi=new WeakMap,cd=new WeakMap,g1);function Jf(e){var t;return(t=e.options.scope)==null?void 0:t.id}function K_(e){return{onFetch:(t,n)=>{var g,m,b,x,k;const r=t.options,i=(b=(m=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:b.direction,l=((x=t.state.data)==null?void 0:x.pages)||[],c=((k=t.state.data)==null?void 0:k.pageParams)||[];let u={pages:[],pageParams:[]},f=0;const p=async()=>{let _=!1;const E=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},P=S1(t.options,t.fetchOptions),T=async(I,D,B)=>{if(_)return Promise.reject();if(D==null&&I.pages.length)return Promise.resolve(I);const q={client:t.client,queryKey:t.queryKey,pageParam:D,direction:B?"backward":"forward",meta:t.options.meta};E(q);const G=await P(q),{maxPages:J}=t.options,V=B?cA:lA;return{pages:V(I.pages,G,J),pageParams:V(I.pageParams,D,J)}};if(i&&l.length){const I=i==="backward",D=I?_A:G_,B={pages:l,pageParams:c},q=D(r,B);u=await T(B,q,I)}else{const I=e??l.length;do{const D=f===0?c[0]??r.initialPageParam:G_(r,u);if(f>0&&D==null)break;u=await T(u,D),f++}while(f<I)}return u};t.options.persister?t.fetchFn=()=>{var _,E;return(E=(_=t.options).persister)==null?void 0:E.call(_,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function G_(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function _A(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var an,Ts,Ns,uc,dc,As,fc,hc,y1,xA=(y1=class{constructor(e={}){et(this,an);et(this,Ts);et(this,Ns);et(this,uc);et(this,dc);et(this,As);et(this,fc);et(this,hc);We(this,an,e.queryCache||new yA),We(this,Ts,e.mutationCache||new wA),We(this,Ns,e.defaultOptions||{}),We(this,uc,new Map),We(this,dc,new Map),We(this,As,0)}mount(){qf(this,As)._++,ue(this,As)===1&&(We(this,fc,yv.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,an).onFocus())})),We(this,hc,xh.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,an).onOnline())})))}unmount(){var e,t;qf(this,As)._--,ue(this,As)===0&&((e=ue(this,fc))==null||e.call(this),We(this,fc,void 0),(t=ue(this,hc))==null||t.call(this),We(this,hc,void 0))}isFetching(e){return ue(this,an).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,Ts).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,an).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ue(this,an).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ql(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ue(this,an).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ue(this,an).get(r.queryHash),l=i==null?void 0:i.state.data,c=sA(t,l);if(c!==void 0)return ue(this,an).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return wn.batch(()=>ue(this,an).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,an).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ue(this,an);wn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ue(this,an);return wn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=wn.batch(()=>ue(this,an).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Kr).catch(Kr)}invalidateQueries(e,t={}){return wn.batch(()=>(ue(this,an).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=wn.batch(()=>ue(this,an).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let l=i.fetch(void 0,n);return n.throwOnError||(l=l.catch(Kr)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(Kr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ue(this,an).build(this,t);return n.isStaleByTime(Ql(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Kr).catch(Kr)}fetchInfiniteQuery(e){return e.behavior=K_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Kr).catch(Kr)}ensureInfiniteQueryData(e){return e.behavior=K_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xh.isOnline()?ue(this,Ts).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,an)}getMutationCache(){return ue(this,Ts)}getDefaultOptions(){return ue(this,Ns)}setDefaultOptions(e){We(this,Ns,e)}setQueryDefaults(e,t){ue(this,uc).set(Va(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,uc).values()],n={};return t.forEach(r=>{qu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ue(this,dc).set(Va(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,dc).values()],n={};return t.forEach(r=>{qu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,Ns).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=mv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===gv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,Ns).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,an).clear(),ue(this,Ts).clear()}},an=new WeakMap,Ts=new WeakMap,Ns=new WeakMap,uc=new WeakMap,dc=new WeakMap,As=new WeakMap,fc=new WeakMap,hc=new WeakMap,y1),ur,Ct,ud,Qn,Ba,pc,Rs,Is,dd,mc,gc,Fa,Ua,Ls,yc,Mt,Du,ay,ly,cy,uy,dy,fy,hy,I1,v1,bA=(v1=class extends Tc{constructor(t,n){super();et(this,Mt);et(this,ur);et(this,Ct);et(this,ud);et(this,Qn);et(this,Ba);et(this,pc);et(this,Rs);et(this,Is);et(this,dd);et(this,mc);et(this,gc);et(this,Fa);et(this,Ua);et(this,Ls);et(this,yc,new Set);this.options=n,We(this,ur,t),We(this,Is,null),We(this,Rs,sy()),this.options.experimental_prefetchInRender||ue(this,Rs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,Ct).addObserver(this),Y_(ue(this,Ct),this.options)?mt(this,Mt,Du).call(this):this.updateResult(),mt(this,Mt,uy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return py(ue(this,Ct),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return py(ue(this,Ct),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,Mt,dy).call(this),mt(this,Mt,fy).call(this),ue(this,Ct).removeObserver(this)}setOptions(t){const n=this.options,r=ue(this,Ct);if(this.options=ue(this,ur).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hi(this.options.enabled,ue(this,Ct))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,Mt,hy).call(this),ue(this,Ct).setOptions(this.options),n._defaulted&&!_h(this.options,n)&&ue(this,ur).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,Ct),observer:this});const i=this.hasListeners();i&&J_(ue(this,Ct),r,this.options,n)&&mt(this,Mt,Du).call(this),this.updateResult(),i&&(ue(this,Ct)!==r||hi(this.options.enabled,ue(this,Ct))!==hi(n.enabled,ue(this,Ct))||Ql(this.options.staleTime,ue(this,Ct))!==Ql(n.staleTime,ue(this,Ct)))&&mt(this,Mt,ay).call(this);const l=mt(this,Mt,ly).call(this);i&&(ue(this,Ct)!==r||hi(this.options.enabled,ue(this,Ct))!==hi(n.enabled,ue(this,Ct))||l!==ue(this,Ls))&&mt(this,Mt,cy).call(this,l)}getOptimisticResult(t){const n=ue(this,ur).getQueryCache().build(ue(this,ur),t),r=this.createResult(n,t);return kA(this,r)&&(We(this,Qn,r),We(this,pc,this.options),We(this,Ba,ue(this,Ct).state)),r}getCurrentResult(){return ue(this,Qn)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(t){ue(this,yc).add(t)}getCurrentQuery(){return ue(this,Ct)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ue(this,ur).defaultQueryOptions(t),r=ue(this,ur).getQueryCache().build(ue(this,ur),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return mt(this,Mt,Du).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,Qn)))}createResult(t,n){var V;const r=ue(this,Ct),i=this.options,l=ue(this,Qn),c=ue(this,Ba),u=ue(this,pc),p=t!==r?t.state:ue(this,ud),{state:g}=t;let m={...g},b=!1,x;if(n._optimisticResults){const Y=this.hasListeners(),Q=!Y&&Y_(t,n),U=Y&&J_(t,r,n,i);(Q||U)&&(m={...m,...A1(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:k,errorUpdatedAt:_,status:E}=m;x=m.data;let P=!1;if(n.placeholderData!==void 0&&x===void 0&&E==="pending"){let Y;l!=null&&l.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(Y=l.data,P=!0):Y=typeof n.placeholderData=="function"?n.placeholderData((V=ue(this,gc))==null?void 0:V.state.data,ue(this,gc)):n.placeholderData,Y!==void 0&&(E="success",x=oy(l==null?void 0:l.data,Y,n),b=!0)}if(n.select&&x!==void 0&&!P)if(l&&x===(c==null?void 0:c.data)&&n.select===ue(this,dd))x=ue(this,mc);else try{We(this,dd,n.select),x=n.select(x),x=oy(l==null?void 0:l.data,x,n),We(this,mc,x),We(this,Is,null)}catch(Y){We(this,Is,Y)}ue(this,Is)&&(k=ue(this,Is),x=ue(this,mc),_=Date.now(),E="error");const T=m.fetchStatus==="fetching",I=E==="pending",D=E==="error",B=I&&T,q=x!==void 0,J={status:E,fetchStatus:m.fetchStatus,isPending:I,isSuccess:E==="success",isError:D,isInitialLoading:B,isLoading:B,data:x,dataUpdatedAt:m.dataUpdatedAt,error:k,errorUpdatedAt:_,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>p.dataUpdateCount||m.errorUpdateCount>p.errorUpdateCount,isFetching:T,isRefetching:T&&!I,isLoadingError:D&&!q,isPaused:m.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:D&&q,isStale:vv(t,n),refetch:this.refetch,promise:ue(this,Rs)};if(this.options.experimental_prefetchInRender){const Y=re=>{J.status==="error"?re.reject(J.error):J.data!==void 0&&re.resolve(J.data)},Q=()=>{const re=We(this,Rs,J.promise=sy());Y(re)},U=ue(this,Rs);switch(U.status){case"pending":t.queryHash===r.queryHash&&Y(U);break;case"fulfilled":(J.status==="error"||J.data!==U.value)&&Q();break;case"rejected":(J.status!=="error"||J.error!==U.reason)&&Q();break}}return J}updateResult(){const t=ue(this,Qn),n=this.createResult(ue(this,Ct),this.options);if(We(this,Ba,ue(this,Ct).state),We(this,pc,this.options),ue(this,Ba).data!==void 0&&We(this,gc,ue(this,Ct)),_h(n,t))return;We(this,Qn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!ue(this,yc).size)return!0;const c=new Set(l??ue(this,yc));return this.options.throwOnError&&c.add("error"),Object.keys(ue(this,Qn)).some(u=>{const f=u;return ue(this,Qn)[f]!==t[f]&&c.has(f)})};mt(this,Mt,I1).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,Mt,uy).call(this)}},ur=new WeakMap,Ct=new WeakMap,ud=new WeakMap,Qn=new WeakMap,Ba=new WeakMap,pc=new WeakMap,Rs=new WeakMap,Is=new WeakMap,dd=new WeakMap,mc=new WeakMap,gc=new WeakMap,Fa=new WeakMap,Ua=new WeakMap,Ls=new WeakMap,yc=new WeakMap,Mt=new WeakSet,Du=function(t){mt(this,Mt,hy).call(this);let n=ue(this,Ct).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Kr)),n},ay=function(){mt(this,Mt,dy).call(this);const t=Ql(this.options.staleTime,ue(this,Ct));if(Wa||ue(this,Qn).isStale||!ry(t))return;const r=E1(ue(this,Qn).dataUpdatedAt,t)+1;We(this,Fa,setTimeout(()=>{ue(this,Qn).isStale||this.updateResult()},r))},ly=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,Ct)):this.options.refetchInterval)??!1},cy=function(t){mt(this,Mt,fy).call(this),We(this,Ls,t),!(Wa||hi(this.options.enabled,ue(this,Ct))===!1||!ry(ue(this,Ls))||ue(this,Ls)===0)&&We(this,Ua,setInterval(()=>{(this.options.refetchIntervalInBackground||yv.isFocused())&&mt(this,Mt,Du).call(this)},ue(this,Ls)))},uy=function(){mt(this,Mt,ay).call(this),mt(this,Mt,cy).call(this,mt(this,Mt,ly).call(this))},dy=function(){ue(this,Fa)&&(clearTimeout(ue(this,Fa)),We(this,Fa,void 0))},fy=function(){ue(this,Ua)&&(clearInterval(ue(this,Ua)),We(this,Ua,void 0))},hy=function(){const t=ue(this,ur).getQueryCache().build(ue(this,ur),this.options);if(t===ue(this,Ct))return;const n=ue(this,Ct);We(this,Ct,t),We(this,ud,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},I1=function(t){wn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ue(this,Qn))}),ue(this,ur).getQueryCache().notify({query:ue(this,Ct),type:"observerResultsUpdated"})})},v1);function EA(e,t){return hi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Y_(e,t){return EA(e,t)||e.state.data!==void 0&&py(e,t,t.refetchOnMount)}function py(e,t,n){if(hi(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&vv(e,t)}return!1}function J_(e,t,n,r){return(e!==t||hi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&vv(e,n)}function vv(e,t){return hi(t.enabled,e)!==!1&&e.isStaleByTime(Ql(t.staleTime,e))}function kA(e,t){return!_h(e.getCurrentResult(),t)}var Os,js,dr,yo,Co,hh,my,w1,SA=(w1=class extends Tc{constructor(n,r){super();et(this,Co);et(this,Os);et(this,js);et(this,dr);et(this,yo);We(this,Os,n),this.setOptions(r),this.bindMethods(),mt(this,Co,hh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ue(this,Os).defaultMutationOptions(n),_h(this.options,r)||ue(this,Os).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,dr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Va(r.mutationKey)!==Va(this.options.mutationKey)?this.reset():((i=ue(this,dr))==null?void 0:i.state.status)==="pending"&&ue(this,dr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,dr))==null||n.removeObserver(this)}onMutationUpdate(n){mt(this,Co,hh).call(this),mt(this,Co,my).call(this,n)}getCurrentResult(){return ue(this,js)}reset(){var n;(n=ue(this,dr))==null||n.removeObserver(this),We(this,dr,void 0),mt(this,Co,hh).call(this),mt(this,Co,my).call(this)}mutate(n,r){var i;return We(this,yo,r),(i=ue(this,dr))==null||i.removeObserver(this),We(this,dr,ue(this,Os).getMutationCache().build(ue(this,Os),this.options)),ue(this,dr).addObserver(this),ue(this,dr).execute(n)}},Os=new WeakMap,js=new WeakMap,dr=new WeakMap,yo=new WeakMap,Co=new WeakSet,hh=function(){var r;const n=((r=ue(this,dr))==null?void 0:r.state)??R1();We(this,js,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},my=function(n){wn.batch(()=>{var r,i,l,c,u,f,p,g;if(ue(this,yo)&&this.hasListeners()){const m=ue(this,js).variables,b=ue(this,js).context;(n==null?void 0:n.type)==="success"?((i=(r=ue(this,yo)).onSuccess)==null||i.call(r,n.data,m,b),(c=(l=ue(this,yo)).onSettled)==null||c.call(l,n.data,null,m,b)):(n==null?void 0:n.type)==="error"&&((f=(u=ue(this,yo)).onError)==null||f.call(u,n.error,m,b),(g=(p=ue(this,yo)).onSettled)==null||g.call(p,void 0,n.error,m,b))}this.listeners.forEach(m=>{m(ue(this,js))})})},w1),L1=R.createContext(void 0),wv=e=>{const t=R.useContext(L1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},CA=({client:e,children:t})=>(R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),v.jsx(L1.Provider,{value:e,children:t})),O1=R.createContext(!1),PA=()=>R.useContext(O1);O1.Provider;function TA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var NA=R.createContext(TA()),AA=()=>R.useContext(NA);function j1(e,t){return typeof e=="function"?e(...t):!!e}function gy(){}var RA=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},IA=e=>{R.useEffect(()=>{e.clearReset()},[e])},LA=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||j1(n,[e.error,r])),OA=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},jA=(e,t)=>e.isLoading&&e.isFetching&&!t,MA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Q_=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function zA(e,t,n){var m,b,x,k,_;const r=wv(),i=PA(),l=AA(),c=r.defaultQueryOptions(e);(b=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||b.call(m,c),c._optimisticResults=i?"isRestoring":"optimistic",OA(c),RA(c,l),IA(l);const u=!r.getQueryCache().get(c.queryHash),[f]=R.useState(()=>new t(r,c)),p=f.getOptimisticResult(c),g=!i&&e.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(E=>{const P=g?f.subscribe(wn.batchCalls(E)):gy;return f.updateResult(),P},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),R.useEffect(()=>{f.setOptions(c)},[c,f]),MA(c,p))throw Q_(c,f,l);if(LA({result:p,errorResetBoundary:l,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if((k=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||k.call(x,c,p),c.experimental_prefetchInRender&&!Wa&&jA(p,i)){const E=u?Q_(c,f,l):(_=r.getQueryCache().get(c.queryHash))==null?void 0:_.promise;E==null||E.catch(gy).finally(()=>{f.updateResult()})}return c.notifyOnChangeProps?p:f.trackResult(p)}function Ra(e,t){return zA(e,bA)}function M1(e,t){const n=wv(),[r]=R.useState(()=>new SA(n,e));R.useEffect(()=>{r.setOptions(e)},[r,e]);const i=R.useSyncExternalStore(R.useCallback(c=>r.subscribe(wn.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=R.useCallback((c,u)=>{r.mutate(c,u).catch(gy)},[r]);if(i.error&&j1(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}function yy(e,t={},n){for(const r in e){const i=e[r],l=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?yy(i,t,l):typeof i=="function"&&(t[l]=i)}return t}const DA={run:e=>e()},BA=()=>DA,z1=typeof console.createTask<"u"?console.createTask:BA;function FA(e,t){const n=t.shift(),r=z1(n);return e.reduce((i,l)=>i.then(()=>r.run(()=>l(...t))),Promise.resolve())}function UA(e,t){const n=t.shift(),r=z1(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function vg(e,t){for(const n of[...e])n(t)}class $A{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let l;for(;this._deprecatedHooks[t];)l=this._deprecatedHooks[t],t=l.to;if(l&&!r.allowDeprecated){let c=l.message;c||(c=`${i} hook has been deprecated`+(l.to?`, please use ${l.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(c)||(console.warn(c),this._deprecatedMessages.add(c))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...l)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...l));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=yy(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=yy(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(FA,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(UA,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&vg(this._before,i);const l=t(n in this._hooks?[...this._hooks[n]]:[],r);return l instanceof Promise?l.finally(()=>{this._after&&i&&vg(this._after,i)}):(this._after&&i&&vg(this._after,i),l)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function ZA(){return new $A}const HA=new Set(["link","style","script","noscript"]),WA=new Set(["title","titleTemplate","script","style","noscript"]),X_=new Set(["base","meta","link","style","script","noscript"]),VA=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),qA=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),KA=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),GA=new Set(["templateParams","htmlAttrs","bodyAttrs"]),_v=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),YA=["name","property","http-equiv"];function D1(e){const t=e.split(":");return t.length?_v.has(t[1]):!1}function vy(e){const{props:t,tag:n}=e;if(qA.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of YA)if(t[r]!==void 0)return`${n}:${t[r]}`}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(WA.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function ex(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,i])=>`${r}:${String(i)}`).join(",")}`}function wy(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let i;if(t&&(i=t(n,e)),Array.isArray(i))return i.map(l=>wy(l,t));if((i==null?void 0:i.constructor)===Object){const l={};for(const c of Object.keys(i))l[c]=wy(i[c],t,c);return l}return i}function JA(e,t){const n=e==="style"?new Map:new Set;function r(i){const l=i.trim();if(l)if(e==="style"){const[c,...u]=l.split(":").map(f=>f.trim());c&&u.length&&n.set(c,u.join(":"))}else l.split(" ").filter(Boolean).forEach(c=>n.add(c))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(i=>r(i)):t&&typeof t=="object"&&Object.entries(t).forEach(([i,l])=>{l&&l!=="false"&&(e==="style"?n.set(i.trim(),l):r(i))}),n}function B1(e,t){return e.props=e.props||{},t&&Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=JA(n,r);return}if(KA.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let c=t.type;if(t.type||(c="application/json"),!(c!=null&&c.endsWith("json"))&&c!=="speculationrules")return;t.type=c,e.props.type=c,e[n]=JSON.stringify(r)}else e[n]=r;return}const i=String(r),l=n.startsWith("data-");i==="true"||i===""?e.props[n]=l?i:!0:!r&&l&&i==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e}function QA(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=B1({tag:e,props:{}},n);return r.key&&HA.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(i=>({...r,props:{...r.props,content:i}})):r}function XA(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(i,l)=>{for(let c=0;c<t.length;c++)l=t[c](i,l);return l};e=n(void 0,e);const r=[];return e=wy(e,n),Object.entries(e||{}).forEach(([i,l])=>{if(l!==void 0)for(const c of Array.isArray(l)?l:[l])r.push(QA(i,c))}),r.flat()}const tx=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,nx={base:-10,title:10},eR={critical:-8,high:-1,low:2},rx={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},tR=/@import/,Iu=e=>e===""||e===!0;function nR(e,t){var l;if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=eR[t.tagPriority]||0,i=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:rx;if(t.tag in nx)n=nx[t.tag];else if(t.tag==="meta"){const c=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;c&&(n=rx.meta[c])}else t.tag==="link"&&t.props.rel?n=i.link[t.props.rel]:t.tag==="script"?Iu(t.props.async)?n=i.script.async:t.props.src&&!Iu(t.props.defer)&&!Iu(t.props.async)&&t.props.type!=="module"&&!((l=t.props.type)!=null&&l.endsWith("json"))?n=i.script.sync:Iu(t.props.defer)&&t.props.src&&!Iu(t.props.async)&&(n=i.script.defer):t.tag==="style"&&(n=t.innerHTML&&tR.test(t.innerHTML)?i.style.imported:i.style.sync);return(n||100)+r}function ix(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function rR(e={}){var u;const t=ZA();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,i=new Map,l=[],c={_entryCount:1,plugins:i,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:f=>ix(c,f),push(f,p){const g={...p||{}};delete g.head;const m=g._index??c._entryCount++,b={_i:m,input:f,options:g},x={_poll(k=!1){c.dirty=!0,!k&&l.push(m),t.callHook("entries:updated",c)},dispose(){r.delete(m)&&x._poll(!0)},patch(k){(!g.mode||g.mode==="server"&&n||g.mode==="client"&&!n)&&(b.input=k,r.set(m,b),x._poll())}};return x.patch(f),x},async resolveTags(){var x;const f={tagMap:new Map,tags:[],entries:[...c.entries.values()]};for(await t.callHook("entries:resolve",f);l.length;){const k=l.shift(),_=r.get(k);if(_){const E={tags:XA(_.input,e.propResolvers||[]).map(P=>Object.assign(P,_.options)),entry:_};await t.callHook("entries:normalize",E),_._tags=E.tags.map((P,T)=>(P._w=nR(c,P),P._p=(_._i<<10)+T,P._d=vy(P),P))}}let p=!1;f.entries.flatMap(k=>(k._tags||[]).map(_=>({..._,props:{..._.props}}))).sort(tx).reduce((k,_)=>{const E=String(_._d||_._p);if(!k.has(E))return k.set(E,_);const P=k.get(E);if(((_==null?void 0:_.tagDuplicateStrategy)||(GA.has(_.tag)?"merge":null)||(_.key&&_.key===P.key?"merge":null))==="merge"){const I={...P.props};Object.entries(_.props).forEach(([D,B])=>I[D]=D==="style"?new Map([...P.props.style||new Map,...B]):D==="class"?new Set([...P.props.class||new Set,...B]):B),k.set(E,{..._,props:I})}else _._p>>10===P._p>>10&&_.tag==="meta"&&D1(E)?(k.set(E,Object.assign([...Array.isArray(P)?P:[P],_],_)),p=!0):(_._w===P._w?_._p>P._p:(_==null?void 0:_._w)<(P==null?void 0:P._w))&&k.set(E,_);return k},f.tagMap);const g=f.tagMap.get("title"),m=f.tagMap.get("titleTemplate");if(c._title=g==null?void 0:g.textContent,m){const k=m==null?void 0:m.textContent;if(c._titleTemplate=k,k){let _=typeof k=="function"?k(g==null?void 0:g.textContent):k;typeof _=="string"&&!c.plugins.has("template-params")&&(_=_.replace("%s",(g==null?void 0:g.textContent)||"")),g?_===null?f.tagMap.delete("title"):f.tagMap.set("title",{...g,textContent:_}):(m.tag="title",m.textContent=_)}}f.tags=Array.from(f.tagMap.values()),p&&(f.tags=f.tags.flat().sort(tx)),await t.callHook("tags:beforeResolve",f),await t.callHook("tags:resolve",f),await t.callHook("tags:afterResolve",f);const b=[];for(const k of f.tags){const{innerHTML:_,tag:E,props:P}=k;if(VA.has(E)&&!(Object.keys(P).length===0&&!k.innerHTML&&!k.textContent)&&!(E==="meta"&&!P.content&&!P["http-equiv"]&&!P.charset)){if(E==="script"&&_){if((x=P.type)!=null&&x.endsWith("json")){const T=typeof _=="string"?_:JSON.stringify(_);k.innerHTML=T.replace(/</g,"\\u003C")}else typeof _=="string"&&(k.innerHTML=_.replace(new RegExp(`</${E}`,"g"),`<\\/${E}`));k._d=vy(k)}b.push(k)}}return b}};return((e==null?void 0:e.plugins)||[]).forEach(f=>ix(c,f)),c.hooks.callHook("init",c),(u=e.init)==null||u.forEach(f=>f&&c.push(f)),c}async function F1(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async i=>{var x;const l=new Map,c=new Promise(k=>{e.resolveTags().then(_=>{k(_.map(E=>{const P=l.get(E._d)||0,T={tag:E,id:(P?`${E._d}:${P}`:E._d)||ex(E),shouldRender:!0};return E._d&&D1(E._d)&&l.set(E._d,P+1),T}))})});let u=e._dom;if(!u){u={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const k of["body","head"]){const _=(x=n[k])==null?void 0:x.children;for(const E of _){const P=E.tagName.toLowerCase();if(!X_.has(P))continue;const T=B1({tag:P,props:{}},{innerHTML:E.innerHTML,...E.getAttributeNames().reduce((I,D)=>(I[D]=E.getAttribute(D),I),{})||{}});if(T.key=E.getAttribute("data-hid")||void 0,T._d=vy(T)||ex(T),u.elMap.has(T._d)){let I=1,D=T._d;for(;u.elMap.has(D);)D=`${T._d}:${I++}`;u.elMap.set(D,E)}else u.elMap.set(T._d,E)}}}u.pendingSideEffects={...u.sideEffects},u.sideEffects={};function f(k,_,E){const P=`${k}:${_}`;u.sideEffects[P]=E,delete u.pendingSideEffects[P]}function p({id:k,$el:_,tag:E}){const P=E.tag.endsWith("Attrs");u.elMap.set(k,_),P||(E.textContent&&E.textContent!==_.textContent&&(_.textContent=E.textContent),E.innerHTML&&E.innerHTML!==_.innerHTML&&(_.innerHTML=E.innerHTML),f(k,"el",()=>{_==null||_.remove(),u.elMap.delete(k)}));for(const T in E.props){if(!Object.prototype.hasOwnProperty.call(E.props,T))continue;const I=E.props[T];if(T.startsWith("on")&&typeof I=="function"){const B=_==null?void 0:_.dataset;if(B&&B[`${T}fired`]){const q=T.slice(0,-5);I.call(_,new Event(q.substring(2)))}_.getAttribute(`data-${T}`)!==""&&((E.tag==="bodyAttrs"?n.defaultView:_).addEventListener(T.substring(2),I.bind(_)),_.setAttribute(`data-${T}`,""));continue}const D=`attr:${T}`;if(T==="class"){if(!I)continue;for(const B of I)P&&f(k,`${D}:${B}`,()=>_.classList.remove(B)),!_.classList.contains(B)&&_.classList.add(B)}else if(T==="style"){if(!I)continue;for(const[B,q]of I)f(k,`${D}:${B}`,()=>{_.style.removeProperty(B)}),_.style.setProperty(B,q)}else I!==!1&&I!==null&&(_.getAttribute(T)!==I&&_.setAttribute(T,I===!0?"":String(I)),P&&f(k,D,()=>_.removeAttribute(T)))}}const g=[],m={bodyClose:void 0,bodyOpen:void 0,head:void 0},b=await c;for(const k of b){const{tag:_,shouldRender:E,id:P}=k;if(E){if(_.tag==="title"){n.title=_.textContent,f("title","",()=>n.title=u.title);continue}k.$el=k.$el||u.elMap.get(P),k.$el?p(k):X_.has(_.tag)&&g.push(k)}}for(const k of g){const _=k.tag.tagPosition||"head";k.$el=n.createElement(k.tag.tag),p(k),m[_]=m[_]||n.createDocumentFragment(),m[_].appendChild(k.$el)}for(const k of b)await e.hooks.callHook("dom:renderTag",k,n,f);m.head&&n.head.appendChild(m.head),m.bodyOpen&&n.body.insertBefore(m.bodyOpen,n.body.firstChild),m.bodyClose&&n.body.appendChild(m.bodyClose);for(const k in u.pendingSideEffects)u.pendingSideEffects[k]();e._dom=u,await e.hooks.callHook("dom:rendered",{renders:b}),i()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function iR(e={}){var r,i,l;const t=((r=e.domOptions)==null?void 0:r.render)||F1;e.document=e.document||(typeof window<"u"?document:void 0);const n=((l=(i=e.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:l.innerHTML)||!1;return rR({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function oR(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}const U1=R.createContext(null);function $1(e={}){const t=iR({domOptions:{render:oR(()=>F1(t),n=>setTimeout(n,0))},...e});return t}function sR({children:e,head:t}){return R.createElement(U1.Provider,{value:t||$1()},e)}const Ku={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},aR={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},Z1={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>`${xo(e)}=${t}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:e,value:t})=>e==="seconds"?`${t}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>typeof t=="boolean"?xo(e):`${xo(e)}:${t}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:e,value:t})=>`${xo(e)} ${t}`}},charset:{}};function xo(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t.indexOf("-");return n===-1?t:Ku.META.has(t.slice(0,n))||Ku.OG.has(t.slice(0,n))?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function H1(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>String(n)!=="false"&&t))}function _y(e){return Array.isArray(e)?e.map(_y):!e||typeof e!="object"?e:Object.fromEntries(Object.entries(e).map(([t,n])=>[xo(t),_y(n)]))}function W1(e,t={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:i,resolve:l}=t;return Object.entries(e).map(([c,u])=>{if(l){const p=l({key:c,value:u});if(p!==void 0)return p}const f=typeof u=="object"?W1(u,t):typeof u=="number"?u.toString():typeof u=="string"&&i?`${i}${u.replace(new RegExp(i,"g"),`\\${i}`)}${i}`:u;return`${c}${r}${f}`}).join(n)}function ox(e,t){const n=H1(t),r=xo(e),i=V1(r);if(!_v.has(r))return[{[i]:r,...n}];const l=Object.fromEntries(Object.entries(n).map(([c,u])=>[`${e}${c==="url"?"":`${c[0].toUpperCase()}${c.slice(1)}`}`,u]));return bh(l||{}).sort((c,u)=>{var f,p;return(((f=c[i])==null?void 0:f.length)||0)-(((p=u[i])==null?void 0:p.length)||0)})}function V1(e){var r;if(((r=Z1[e])==null?void 0:r.metaKey)==="http-equiv"||Ku.HTTP_EQUIV.has(e))return"http-equiv";const t=xo(e),n=t.indexOf(":");return n===-1?"name":Ku.OG.has(t.slice(0,n))?"property":"name"}function lR(e){return aR[e]||xo(e)}function cR(e,t){var n;return t==="refresh"?`${e.seconds};url=${e.url}`:W1(_y(e),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:i})=>r===null?"":typeof r=="boolean"?i:void 0,...(n=Z1[t])==null?void 0:n.unpack})}function bh(e){const t=[],n={};for(const[i,l]of Object.entries(e)){if(Array.isArray(l)){if(i==="themeColor"){l.forEach(c=>{typeof c=="object"&&c!==null&&t.push({name:"theme-color",...c})});continue}for(const c of l)if(typeof c=="object"&&c!==null){const u=[],f=[];for(const[p,g]of Object.entries(c)){const m=`${i}${p==="url"?"":`:${p}`}`,b=bh({[m]:g});(p==="url"?u:f).push(...b)}t.push(...u,...f)}else t.push(...typeof c=="string"?bh({[i]:c}):ox(i,c));continue}if(typeof l=="object"&&l)if(Ku.MEDIA.has(i)){const c=i.startsWith("twitter")?"twitter":"og",u=i.replace(/^(og|twitter)/,"").toLowerCase(),f=c==="twitter"?"name":"property";l.url&&t.push({[f]:`${c}:${u}`,content:l.url}),l.secureUrl&&t.push({[f]:`${c}:${u}:secure_url`,content:l.secureUrl});for(const[p,g]of Object.entries(l))p!=="url"&&p!=="secureUrl"&&t.push({[f]:`${c}:${u}:${p}`,content:g})}else _v.has(xo(i))?t.push(...ox(i,l)):n[i]=H1(l);else n[i]=l}const r=Object.entries(n).map(([i,l])=>{if(i==="charset")return{charset:l===null?"_null":l};const c=V1(i),u=lR(i),f=l===null?"_null":typeof l=="object"?cR(l,i):typeof l=="number"?l.toString():l;return c==="http-equiv"?{"http-equiv":u,content:f}:{[c]:u,content:f}});return[...t,...r].map(i=>"content"in i&&i.content==="_null"?{...i,content:null}:i)}const uR={key:"flatMeta",hooks:{"entries:normalize":e=>{const t=[];e.tags=e.tags.map(n=>n.tag!=="_flatMeta"?n:(t.push(bh(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...t)}}};function dR(e={}){return t=>(t.push({meta:[{name:"twitter:card",content:e.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:n})=>{var u,f;let r=t._titleTemplate||t._title;const i=n.get("meta:og:title");typeof(i==null?void 0:i.props["data-infer"])<"u"&&(typeof r=="function"&&(r=r(t._title)),i.props.content=e.ogTitle?e.ogTitle(r):r||"",i.processTemplateParams=!0);const l=(f=(u=n.get("meta:description"))==null?void 0:u.props)==null?void 0:f.content,c=n.get("meta:og:description");typeof(c==null?void 0:c.props["data-infer"])<"u"&&(c.props.content=e.ogDescription?e.ogDescription(l):l||"",c.processTemplateParams=!0)}}})}class Zu{constructor(t){$e(this,"pubkey");$e(this,"relays");$e(this,"secret");const n=new URL(t),r=new URLSearchParams(n.search),i=n.hostname||n.pathname.slice(2),l=r.getAll("relay"),c=r.get("secret")??void 0;if(!i)throw new Error("Invalid bunker URI");this.pubkey=i,this.relays=l,this.secret=c}get href(){return this.toString()}toString(){return Zu.toString(this)}static fromJSON(t){const n=Zu.toString(t);return new Zu(n)}static toString(t){const n=new URLSearchParams;for(const r of t.relays)n.append("relay",r);return t.secret&&n.set("secret",t.secret),`bunker://${t.pubkey}?${n.toString()}`}}class fR{get nostr(){const t=globalThis.nostr;if(!t)throw new Error("Browser extension not available");return t}async getPublicKey(){const t=await this.nostr.getPublicKey();if(typeof t!="string")throw new Error(`Nostr public key retrieval failed: expected string, got ${JSON.stringify(t)}`);return t}async signEvent(t){const n=await this.nostr.signEvent(t);if(typeof n!="object"||!n.id||!n.pubkey||!n.sig)throw new Error(`Nostr event signing failed: expected object with id, pubkey, and sig, got ${JSON.stringify(n)}`);return n}async getRelays(){if(!this.nostr.getRelays)return{};const t=await this.nostr.getRelays();if(typeof t!="object"||t===null)throw new Error(`Nostr getRelays failed: expected object, got ${JSON.stringify(t)}`);return this.nostr.getRelays()}get nip04(){const t=this.nostr;if(t.nip04)return{encrypt:async(n,r)=>{const i=await t.nip04.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip04.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}get nip44(){const t=this.nostr;if(t.nip44)return{encrypt:async(n,r)=>{const i=await t.nip44.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip44.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}}function sx(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function q1(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function hR(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");sx(e.outputLen),sx(e.blockLen)}function Eh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function pR(e,t){q1(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const wg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const K1=e=>e instanceof Uint8Array,_g=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ai=(e,t)=>e<<32-t|e>>>t,mR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!mR)throw new Error("Non little-endian hardware is not supported");function gR(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function xv(e){if(typeof e=="string"&&(e=gR(e)),!K1(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function yR(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!K1(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let G1=class{clone(){return this._cloneInto()}};function vR(e){const t=r=>e().update(xv(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Y1(e=32){if(wg&&typeof wg.getRandomValues=="function")return wg.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function wR(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),l=BigInt(4294967295),c=Number(n>>i&l),u=Number(n&l),f=r?4:0,p=r?0:4;e.setUint32(t+f,c,r),e.setUint32(t+p,u,r)}let _R=class extends G1{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=_g(this.buffer)}update(t){Eh(this);const{view:n,buffer:r,blockLen:i}=this;t=xv(t);const l=t.length;for(let c=0;c<l;){const u=Math.min(i-this.pos,l-c);if(u===i){const f=_g(t);for(;i<=l-c;c+=i)this.process(f,c);continue}r.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Eh(this),pR(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:l}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let m=c;m<i;m++)n[m]=0;wR(r,i-8,BigInt(this.length*8),l),this.process(r,0);const u=_g(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=f/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)u.setUint32(4*m,g[m],l)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:l,destroyed:c,pos:u}=this;return t.length=i,t.pos=u,t.finished=l,t.destroyed=c,i%n&&t.buffer.set(r),t}};const xR=(e,t,n)=>e&t^~e&n,bR=(e,t,n)=>e&t^e&n^t&n,ER=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ms=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gs=new Uint32Array(64);let kR=class extends _R{constructor(){super(64,32,8,!1),this.A=ms[0]|0,this.B=ms[1]|0,this.C=ms[2]|0,this.D=ms[3]|0,this.E=ms[4]|0,this.F=ms[5]|0,this.G=ms[6]|0,this.H=ms[7]|0}get(){const{A:t,B:n,C:r,D:i,E:l,F:c,G:u,H:f}=this;return[t,n,r,i,l,c,u,f]}set(t,n,r,i,l,c,u,f){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=l|0,this.F=c|0,this.G=u|0,this.H=f|0}process(t,n){for(let m=0;m<16;m++,n+=4)gs[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const b=gs[m-15],x=gs[m-2],k=Ai(b,7)^Ai(b,18)^b>>>3,_=Ai(x,17)^Ai(x,19)^x>>>10;gs[m]=_+gs[m-7]+k+gs[m-16]|0}let{A:r,B:i,C:l,D:c,E:u,F:f,G:p,H:g}=this;for(let m=0;m<64;m++){const b=Ai(u,6)^Ai(u,11)^Ai(u,25),x=g+b+xR(u,f,p)+ER[m]+gs[m]|0,_=(Ai(r,2)^Ai(r,13)^Ai(r,22))+bR(r,i,l)|0;g=p,p=f,f=u,u=c+x|0,c=l,l=i,i=r,r=x+_|0}r=r+this.A|0,i=i+this.B|0,l=l+this.C|0,c=c+this.D|0,u=u+this.E|0,f=f+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,i,l,c,u,f,p,g)}roundClean(){gs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const xy=vR(()=>new kR);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J1=BigInt(0),Gh=BigInt(1),SR=BigInt(2),Yh=e=>e instanceof Uint8Array,CR=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _c(e){if(!Yh(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=CR[e[n]];return t}function Q1(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function bv(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function xc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,l=e.slice(i,i+2),c=Number.parseInt(l,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}function fr(e){return bv(_c(e))}function Ev(e){if(!Yh(e))throw new Error("Uint8Array expected");return bv(_c(Uint8Array.from(e).reverse()))}function Zs(e,t){return xc(e.toString(16).padStart(t*2,"0"))}function kv(e,t){return Zs(e,t).reverse()}function PR(e){return xc(Q1(e))}function Fn(e,t,n){let r;if(typeof t=="string")try{r=xc(t)}catch(l){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${l}`)}else if(Yh(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function qa(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!Yh(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function TR(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function NR(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function AR(e){let t;for(t=0;e>J1;e>>=Gh,t+=1);return t}function RR(e,t){return e>>BigInt(t)&Gh}const IR=(e,t,n)=>e|(n?Gh:J1)<<BigInt(t),Sv=e=>(SR<<BigInt(e-1))-Gh,xg=e=>new Uint8Array(e),ax=e=>Uint8Array.from(e);function X1(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=xg(e),i=xg(e),l=0;const c=()=>{r.fill(1),i.fill(0),l=0},u=(...m)=>n(i,r,...m),f=(m=xg())=>{i=u(ax([0]),m),r=u(),m.length!==0&&(i=u(ax([1]),m),r=u())},p=()=>{if(l++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const b=[];for(;m<t;){r=u();const x=r.slice();b.push(x),m+=r.length}return qa(...b)};return(m,b)=>{c(),f(m);let x;for(;!(x=b(p()));)f();return c(),x}}const LR={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function pd(e,t,n={}){const r=(i,l,c)=>{const u=LR[l];if(typeof u!="function")throw new Error(`Invalid validator "${l}", expected function`);const f=e[i];if(!(c&&f===void 0)&&!u(f,e))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${l}`)};for(const[i,l]of Object.entries(t))r(i,l,!1);for(const[i,l]of Object.entries(n))r(i,l,!0);return e}const OR=Object.freeze(Object.defineProperty({__proto__:null,bitGet:RR,bitLen:AR,bitMask:Sv,bitSet:IR,bytesToHex:_c,bytesToNumberBE:fr,bytesToNumberLE:Ev,concatBytes:qa,createHmacDrbg:X1,ensureBytes:Fn,equalBytes:TR,hexToBytes:xc,hexToNumber:bv,numberToBytesBE:Zs,numberToBytesLE:kv,numberToHexUnpadded:Q1,numberToVarBytesBE:PR,utf8ToBytes:NR,validateObject:pd},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kn=BigInt(0),un=BigInt(1),Aa=BigInt(2),jR=BigInt(3),by=BigInt(4),lx=BigInt(5),cx=BigInt(8);BigInt(9);BigInt(16);function Tn(e,t){const n=e%t;return n>=kn?n:t+n}function MR(e,t,n){if(n<=kn||t<kn)throw new Error("Expected power/modulo > 0");if(n===un)return kn;let r=un;for(;t>kn;)t&un&&(r=r*e%n),e=e*e%n,t>>=un;return r}function Hr(e,t,n){let r=e;for(;t-- >kn;)r*=r,r%=n;return r}function Ey(e,t){if(e===kn||t<=kn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Tn(e,t),r=t,i=kn,l=un;for(;n!==kn;){const u=r/n,f=r%n,p=i-l*u;r=n,n=f,i=l,l=p}if(r!==un)throw new Error("invert: does not exist");return Tn(i,t)}function zR(e){const t=(e-un)/Aa;let n,r,i;for(n=e-un,r=0;n%Aa===kn;n/=Aa,r++);for(i=Aa;i<e&&MR(i,t,e)!==e-un;i++);if(r===1){const c=(e+un)/by;return function(f,p){const g=f.pow(p,c);if(!f.eql(f.sqr(g),p))throw new Error("Cannot find square root");return g}}const l=(n+un)/Aa;return function(u,f){if(u.pow(f,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let p=r,g=u.pow(u.mul(u.ONE,i),n),m=u.pow(f,l),b=u.pow(f,n);for(;!u.eql(b,u.ONE);){if(u.eql(b,u.ZERO))return u.ZERO;let x=1;for(let _=u.sqr(b);x<p&&!u.eql(_,u.ONE);x++)_=u.sqr(_);const k=u.pow(g,un<<BigInt(p-x-1));g=u.sqr(k),m=u.mul(m,k),b=u.mul(b,g),p=x}return m}}function DR(e){if(e%by===jR){const t=(e+un)/by;return function(r,i){const l=r.pow(i,t);if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}if(e%cx===lx){const t=(e-lx)/cx;return function(r,i){const l=r.mul(i,Aa),c=r.pow(l,t),u=r.mul(i,c),f=r.mul(r.mul(u,Aa),c),p=r.mul(u,r.sub(f,r.ONE));if(!r.eql(r.sqr(p),i))throw new Error("Cannot find square root");return p}}return zR(e)}const BR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function FR(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=BR.reduce((r,i)=>(r[i]="function",r),t);return pd(e,n)}function UR(e,t,n){if(n<kn)throw new Error("Expected power > 0");if(n===kn)return e.ONE;if(n===un)return t;let r=e.ONE,i=t;for(;n>kn;)n&un&&(r=e.mul(r,i)),i=e.sqr(i),n>>=un;return r}function $R(e,t){const n=new Array(t.length),r=t.reduce((l,c,u)=>e.is0(c)?l:(n[u]=l,e.mul(l,c)),e.ONE),i=e.inv(r);return t.reduceRight((l,c,u)=>e.is0(c)?l:(n[u]=e.mul(l,n[u]),e.mul(l,c)),i),n}function e2(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ZR(e,t,n=!1,r={}){if(e<=kn)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:l}=e2(e,t);if(l>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=DR(e),u=Object.freeze({ORDER:e,BITS:i,BYTES:l,MASK:Sv(i),ZERO:kn,ONE:un,create:f=>Tn(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return kn<=f&&f<e},is0:f=>f===kn,isOdd:f=>(f&un)===un,neg:f=>Tn(-f,e),eql:(f,p)=>f===p,sqr:f=>Tn(f*f,e),add:(f,p)=>Tn(f+p,e),sub:(f,p)=>Tn(f-p,e),mul:(f,p)=>Tn(f*p,e),pow:(f,p)=>UR(u,f,p),div:(f,p)=>Tn(f*Ey(p,e),e),sqrN:f=>f*f,addN:(f,p)=>f+p,subN:(f,p)=>f-p,mulN:(f,p)=>f*p,inv:f=>Ey(f,e),sqrt:r.sqrt||(f=>c(u,f)),invertBatch:f=>$R(u,f),cmov:(f,p,g)=>g?p:f,toBytes:f=>n?kv(f,l):Zs(f,l),fromBytes:f=>{if(f.length!==l)throw new Error(`Fp.fromBytes: expected ${l}, got ${f.length}`);return n?Ev(f):fr(f)}});return Object.freeze(u)}function t2(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function n2(e){const t=t2(e);return t+Math.ceil(t/2)}function HR(e,t,n=!1){const r=e.length,i=t2(t),l=n2(t);if(r<16||r<l||r>1024)throw new Error(`expected ${l}-1024 bytes of input, got ${r}`);const c=n?fr(e):Ev(e),u=Tn(c,t-un)+un;return n?kv(u,i):Zs(u,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const WR=BigInt(0),bg=BigInt(1);function VR(e,t){const n=(i,l)=>{const c=l.negate();return i?c:l},r=i=>{const l=Math.ceil(t/i)+1,c=2**(i-1);return{windows:l,windowSize:c}};return{constTimeNegate:n,unsafeLadder(i,l){let c=e.ZERO,u=i;for(;l>WR;)l&bg&&(c=c.add(u)),u=u.double(),l>>=bg;return c},precomputeWindow(i,l){const{windows:c,windowSize:u}=r(l),f=[];let p=i,g=p;for(let m=0;m<c;m++){g=p,f.push(g);for(let b=1;b<u;b++)g=g.add(p),f.push(g);p=g.double()}return f},wNAF(i,l,c){const{windows:u,windowSize:f}=r(i);let p=e.ZERO,g=e.BASE;const m=BigInt(2**i-1),b=2**i,x=BigInt(i);for(let k=0;k<u;k++){const _=k*f;let E=Number(c&m);c>>=x,E>f&&(E-=b,c+=bg);const P=_,T=_+Math.abs(E)-1,I=k%2!==0,D=E<0;E===0?g=g.add(n(I,l[P])):p=p.add(n(D,l[T]))}return{p,f:g}},wNAFCached(i,l,c,u){const f=i._WINDOW_SIZE||1;let p=l.get(i);return p||(p=this.precomputeWindow(i,f),f!==1&&l.set(i,u(p))),this.wNAF(f,p,c)}}}function r2(e){return FR(e.Fp),pd(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...e2(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qR(e){const t=r2(e);pd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:KR,hexToBytes:GR}=OR,Ia={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Ia;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:KR(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Ia,n=typeof e=="string"?GR(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l}=Ia._parseInt(n.subarray(2)),{d:c,l:u}=Ia._parseInt(l);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:c}},hexFromSig(e){const t=p=>Number.parseInt(p[0],16)&8?"00"+p:p,n=p=>{const g=p.toString(16);return g.length&1?`0${g}`:g},r=t(n(e.s)),i=t(n(e.r)),l=r.length/2,c=i.length/2,u=n(l),f=n(c);return`30${n(c+l+4)}02${f}${i}02${u}${r}`}},wo=BigInt(0),Gr=BigInt(1);BigInt(2);const ux=BigInt(3);BigInt(4);function YR(e){const t=qR(e),{Fp:n}=t,r=t.toBytes||((k,_,E)=>{const P=_.toAffine();return qa(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),i=t.fromBytes||(k=>{const _=k.subarray(1),E=n.fromBytes(_.subarray(0,n.BYTES)),P=n.fromBytes(_.subarray(n.BYTES,2*n.BYTES));return{x:E,y:P}});function l(k){const{a:_,b:E}=t,P=n.sqr(k),T=n.mul(P,k);return n.add(n.add(T,n.mul(k,_)),E)}if(!n.eql(n.sqr(t.Gy),l(t.Gx)))throw new Error("bad generator point: equation left != right");function c(k){return typeof k=="bigint"&&wo<k&&k<t.n}function u(k){if(!c(k))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(k){const{allowedPrivateKeyLengths:_,nByteLength:E,wrapPrivateKey:P,n:T}=t;if(_&&typeof k!="bigint"){if(k instanceof Uint8Array&&(k=_c(k)),typeof k!="string"||!_.includes(k.length))throw new Error("Invalid key");k=k.padStart(E*2,"0")}let I;try{I=typeof k=="bigint"?k:fr(Fn("private key",k,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof k}`)}return P&&(I=Tn(I,T)),u(I),I}const p=new Map;function g(k){if(!(k instanceof m))throw new Error("ProjectivePoint expected")}class m{constructor(_,E,P){if(this.px=_,this.py=E,this.pz=P,_==null||!n.isValid(_))throw new Error("x required");if(E==null||!n.isValid(E))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required")}static fromAffine(_){const{x:E,y:P}=_||{};if(!_||!n.isValid(E)||!n.isValid(P))throw new Error("invalid affine point");if(_ instanceof m)throw new Error("projective point not allowed");const T=I=>n.eql(I,n.ZERO);return T(E)&&T(P)?m.ZERO:new m(E,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){const E=n.invertBatch(_.map(P=>P.pz));return _.map((P,T)=>P.toAffine(E[T])).map(m.fromAffine)}static fromHex(_){const E=m.fromAffine(i(Fn("pointHex",_)));return E.assertValidity(),E}static fromPrivateKey(_){return m.BASE.multiply(f(_))}_setWindowSize(_){this._WINDOW_SIZE=_,p.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:_,y:E}=this.toAffine();if(!n.isValid(_)||!n.isValid(E))throw new Error("bad point: x or y not FE");const P=n.sqr(E),T=l(_);if(!n.eql(P,T))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:_}=this.toAffine();if(n.isOdd)return!n.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){g(_);const{px:E,py:P,pz:T}=this,{px:I,py:D,pz:B}=_,q=n.eql(n.mul(E,B),n.mul(I,T)),G=n.eql(n.mul(P,B),n.mul(D,T));return q&&G}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:_,b:E}=t,P=n.mul(E,ux),{px:T,py:I,pz:D}=this;let B=n.ZERO,q=n.ZERO,G=n.ZERO,J=n.mul(T,T),V=n.mul(I,I),Y=n.mul(D,D),Q=n.mul(T,I);return Q=n.add(Q,Q),G=n.mul(T,D),G=n.add(G,G),B=n.mul(_,G),q=n.mul(P,Y),q=n.add(B,q),B=n.sub(V,q),q=n.add(V,q),q=n.mul(B,q),B=n.mul(Q,B),G=n.mul(P,G),Y=n.mul(_,Y),Q=n.sub(J,Y),Q=n.mul(_,Q),Q=n.add(Q,G),G=n.add(J,J),J=n.add(G,J),J=n.add(J,Y),J=n.mul(J,Q),q=n.add(q,J),Y=n.mul(I,D),Y=n.add(Y,Y),J=n.mul(Y,Q),B=n.sub(B,J),G=n.mul(Y,V),G=n.add(G,G),G=n.add(G,G),new m(B,q,G)}add(_){g(_);const{px:E,py:P,pz:T}=this,{px:I,py:D,pz:B}=_;let q=n.ZERO,G=n.ZERO,J=n.ZERO;const V=t.a,Y=n.mul(t.b,ux);let Q=n.mul(E,I),U=n.mul(P,D),re=n.mul(T,B),M=n.add(E,P),W=n.add(I,D);M=n.mul(M,W),W=n.add(Q,U),M=n.sub(M,W),W=n.add(E,T);let ae=n.add(I,B);return W=n.mul(W,ae),ae=n.add(Q,re),W=n.sub(W,ae),ae=n.add(P,T),q=n.add(D,B),ae=n.mul(ae,q),q=n.add(U,re),ae=n.sub(ae,q),J=n.mul(V,W),q=n.mul(Y,re),J=n.add(q,J),q=n.sub(U,J),J=n.add(U,J),G=n.mul(q,J),U=n.add(Q,Q),U=n.add(U,Q),re=n.mul(V,re),W=n.mul(Y,W),U=n.add(U,re),re=n.sub(Q,re),re=n.mul(V,re),W=n.add(W,re),Q=n.mul(U,W),G=n.add(G,Q),Q=n.mul(ae,W),q=n.mul(M,q),q=n.sub(q,Q),Q=n.mul(M,U),J=n.mul(ae,J),J=n.add(J,Q),new m(q,G,J)}subtract(_){return this.add(_.negate())}is0(){return this.equals(m.ZERO)}wNAF(_){return x.wNAFCached(this,p,_,E=>{const P=n.invertBatch(E.map(T=>T.pz));return E.map((T,I)=>T.toAffine(P[I])).map(m.fromAffine)})}multiplyUnsafe(_){const E=m.ZERO;if(_===wo)return E;if(u(_),_===Gr)return this;const{endo:P}=t;if(!P)return x.unsafeLadder(this,_);let{k1neg:T,k1:I,k2neg:D,k2:B}=P.splitScalar(_),q=E,G=E,J=this;for(;I>wo||B>wo;)I&Gr&&(q=q.add(J)),B&Gr&&(G=G.add(J)),J=J.double(),I>>=Gr,B>>=Gr;return T&&(q=q.negate()),D&&(G=G.negate()),G=new m(n.mul(G.px,P.beta),G.py,G.pz),q.add(G)}multiply(_){u(_);let E=_,P,T;const{endo:I}=t;if(I){const{k1neg:D,k1:B,k2neg:q,k2:G}=I.splitScalar(E);let{p:J,f:V}=this.wNAF(B),{p:Y,f:Q}=this.wNAF(G);J=x.constTimeNegate(D,J),Y=x.constTimeNegate(q,Y),Y=new m(n.mul(Y.px,I.beta),Y.py,Y.pz),P=J.add(Y),T=V.add(Q)}else{const{p:D,f:B}=this.wNAF(E);P=D,T=B}return m.normalizeZ([P,T])[0]}multiplyAndAddUnsafe(_,E,P){const T=m.BASE,I=(B,q)=>q===wo||q===Gr||!B.equals(T)?B.multiplyUnsafe(q):B.multiply(q),D=I(this,E).add(I(_,P));return D.is0()?void 0:D}toAffine(_){const{px:E,py:P,pz:T}=this,I=this.is0();_==null&&(_=I?n.ONE:n.inv(T));const D=n.mul(E,_),B=n.mul(P,_),q=n.mul(T,_);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(q,n.ONE))throw new Error("invZ was invalid");return{x:D,y:B}}isTorsionFree(){const{h:_,isTorsionFree:E}=t;if(_===Gr)return!0;if(E)return E(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:_,clearCofactor:E}=t;return _===Gr?this:E?E(m,this):this.multiplyUnsafe(t.h)}toRawBytes(_=!0){return this.assertValidity(),r(m,this,_)}toHex(_=!0){return _c(this.toRawBytes(_))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,x=VR(m,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:f,weierstrassEquation:l,isWithinCurveOrder:c}}function JR(e){const t=r2(e);return pd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function QR(e){const t=JR(e),{Fp:n,n:r}=t,i=n.BYTES+1,l=2*n.BYTES+1;function c(W){return wo<W&&W<n.ORDER}function u(W){return Tn(W,r)}function f(W){return Ey(W,r)}const{ProjectivePoint:p,normPrivateKeyToScalar:g,weierstrassEquation:m,isWithinCurveOrder:b}=YR({...t,toBytes(W,ae,oe){const ne=ae.toAffine(),ee=n.toBytes(ne.x),le=qa;return oe?le(Uint8Array.from([ae.hasEvenY()?2:3]),ee):le(Uint8Array.from([4]),ee,n.toBytes(ne.y))},fromBytes(W){const ae=W.length,oe=W[0],ne=W.subarray(1);if(ae===i&&(oe===2||oe===3)){const ee=fr(ne);if(!c(ee))throw new Error("Point is not on curve");const le=m(ee);let F=n.sqrt(le);const K=(F&Gr)===Gr;return(oe&1)===1!==K&&(F=n.neg(F)),{x:ee,y:F}}else if(ae===l&&oe===4){const ee=n.fromBytes(ne.subarray(0,n.BYTES)),le=n.fromBytes(ne.subarray(n.BYTES,2*n.BYTES));return{x:ee,y:le}}else throw new Error(`Point of length ${ae} was invalid. Expected ${i} compressed bytes or ${l} uncompressed bytes`)}}),x=W=>_c(Zs(W,t.nByteLength));function k(W){const ae=r>>Gr;return W>ae}function _(W){return k(W)?u(-W):W}const E=(W,ae,oe)=>fr(W.slice(ae,oe));class P{constructor(ae,oe,ne){this.r=ae,this.s=oe,this.recovery=ne,this.assertValidity()}static fromCompact(ae){const oe=t.nByteLength;return ae=Fn("compactSignature",ae,oe*2),new P(E(ae,0,oe),E(ae,oe,2*oe))}static fromDER(ae){const{r:oe,s:ne}=Ia.toSig(Fn("DER",ae));return new P(oe,ne)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(ae){return new P(this.r,this.s,ae)}recoverPublicKey(ae){const{r:oe,s:ne,recovery:ee}=this,le=G(Fn("msgHash",ae));if(ee==null||![0,1,2,3].includes(ee))throw new Error("recovery id invalid");const F=ee===2||ee===3?oe+t.n:oe;if(F>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=(ee&1)===0?"02":"03",Ce=p.fromHex(K+x(F)),be=f(F),we=u(-le*be),Ie=u(ne*be),Ue=p.BASE.multiplyAndAddUnsafe(Ce,we,Ie);if(!Ue)throw new Error("point at infinify");return Ue.assertValidity(),Ue}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new P(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return xc(this.toDERHex())}toDERHex(){return Ia.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return xc(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const T={isValidPrivateKey(W){try{return g(W),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const W=n2(t.n);return HR(t.randomBytes(W),t.n)},precompute(W=8,ae=p.BASE){return ae._setWindowSize(W),ae.multiply(BigInt(3)),ae}};function I(W,ae=!0){return p.fromPrivateKey(W).toRawBytes(ae)}function D(W){const ae=W instanceof Uint8Array,oe=typeof W=="string",ne=(ae||oe)&&W.length;return ae?ne===i||ne===l:oe?ne===2*i||ne===2*l:W instanceof p}function B(W,ae,oe=!0){if(D(W))throw new Error("first arg must be private key");if(!D(ae))throw new Error("second arg must be public key");return p.fromHex(ae).multiply(g(W)).toRawBytes(oe)}const q=t.bits2int||function(W){const ae=fr(W),oe=W.length*8-t.nBitLength;return oe>0?ae>>BigInt(oe):ae},G=t.bits2int_modN||function(W){return u(q(W))},J=Sv(t.nBitLength);function V(W){if(typeof W!="bigint")throw new Error("bigint expected");if(!(wo<=W&&W<J))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Zs(W,t.nByteLength)}function Y(W,ae,oe=Q){if(["recovered","canonical"].some(Fe=>Fe in oe))throw new Error("sign() legacy options not supported");const{hash:ne,randomBytes:ee}=t;let{lowS:le,prehash:F,extraEntropy:K}=oe;le==null&&(le=!0),W=Fn("msgHash",W),F&&(W=Fn("prehashed msgHash",ne(W)));const Ce=G(W),be=g(ae),we=[V(be),V(Ce)];if(K!=null){const Fe=K===!0?ee(n.BYTES):K;we.push(Fn("extraEntropy",Fe))}const Ie=qa(...we),Ue=Ce;function De(Fe){const rt=q(Fe);if(!b(rt))return;const wt=f(rt),At=p.BASE.multiply(rt).toAffine(),ht=u(At.x);if(ht===wo)return;const z=u(wt*u(Ue+ht*be));if(z===wo)return;let Pe=(At.x===ht?0:2)|Number(At.y&Gr),ke=z;return le&&k(z)&&(ke=_(z),Pe^=1),new P(ht,ke,Pe)}return{seed:Ie,k2sig:De}}const Q={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};function re(W,ae,oe=Q){const{seed:ne,k2sig:ee}=Y(W,ae,oe),le=t;return X1(le.hash.outputLen,le.nByteLength,le.hmac)(ne,ee)}p.BASE._setWindowSize(8);function M(W,ae,oe,ne=U){var At;const ee=W;if(ae=Fn("msgHash",ae),oe=Fn("publicKey",oe),"strict"in ne)throw new Error("options.strict was renamed to lowS");const{lowS:le,prehash:F}=ne;let K,Ce;try{if(typeof ee=="string"||ee instanceof Uint8Array)try{K=P.fromDER(ee)}catch(ht){if(!(ht instanceof Ia.Err))throw ht;K=P.fromCompact(ee)}else if(typeof ee=="object"&&typeof ee.r=="bigint"&&typeof ee.s=="bigint"){const{r:ht,s:z}=ee;K=new P(ht,z)}else throw new Error("PARSE");Ce=p.fromHex(oe)}catch(ht){if(ht.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(le&&K.hasHighS())return!1;F&&(ae=t.hash(ae));const{r:be,s:we}=K,Ie=G(ae),Ue=f(we),De=u(Ie*Ue),Fe=u(be*Ue),rt=(At=p.BASE.multiplyAndAddUnsafe(Ce,De,Fe))==null?void 0:At.toAffine();return rt?u(rt.x)===be:!1}return{CURVE:t,getPublicKey:I,getSharedSecret:B,sign:re,verify:M,ProjectivePoint:p,Signature:P,utils:T}}let i2=class extends G1{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,hR(t);const r=xv(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,l=new Uint8Array(i);l.set(r.length>i?t.create().update(r).digest():r);for(let c=0;c<l.length;c++)l[c]^=54;this.iHash.update(l),this.oHash=t.create();for(let c=0;c<l.length;c++)l[c]^=106;this.oHash.update(l),l.fill(0)}update(t){return Eh(this),this.iHash.update(t),this}digestInto(t){Eh(this),q1(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:l,blockLen:c,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=l,t.blockLen=c,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const o2=(e,t,n)=>new i2(e,t).update(n).digest();o2.create=(e,t)=>new i2(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function XR(e){return{hash:e,hmac:(t,...n)=>o2(e,t,yR(...n)),randomBytes:Y1}}function e3(e,t){const n=r=>QR({...e,...XR(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),kh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),s2=BigInt(1),Sh=BigInt(2),dx=(e,t)=>(e+t/Sh)/t;function a2(e){const t=Jh,n=BigInt(3),r=BigInt(6),i=BigInt(11),l=BigInt(22),c=BigInt(23),u=BigInt(44),f=BigInt(88),p=e*e*e%t,g=p*p*e%t,m=Hr(g,n,t)*g%t,b=Hr(m,n,t)*g%t,x=Hr(b,Sh,t)*p%t,k=Hr(x,i,t)*x%t,_=Hr(k,l,t)*k%t,E=Hr(_,u,t)*_%t,P=Hr(E,f,t)*E%t,T=Hr(P,u,t)*_%t,I=Hr(T,n,t)*g%t,D=Hr(I,c,t)*k%t,B=Hr(D,r,t)*p%t,q=Hr(B,Sh,t);if(!ky.eql(ky.sqr(q),e))throw new Error("Cannot find square root");return q}const ky=ZR(Jh,void 0,void 0,{sqrt:a2}),Nc=e3({a:BigInt(0),b:BigInt(7),Fp:ky,n:kh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=kh,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-s2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),l=n,c=BigInt("0x100000000000000000000000000000000"),u=dx(l*e,t),f=dx(-r*e,t);let p=Tn(e-u*n-f*i,t),g=Tn(-u*r-f*l,t);const m=p>c,b=g>c;if(m&&(p=t-p),b&&(g=t-g),p>c||g>c)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:p,k2neg:b,k2:g}}}},xy),Qh=BigInt(0),l2=e=>typeof e=="bigint"&&Qh<e&&e<Jh,t3=e=>typeof e=="bigint"&&Qh<e&&e<kh,fx={};function Ch(e,...t){let n=fx[e];if(n===void 0){const r=xy(Uint8Array.from(e,i=>i.charCodeAt(0)));n=qa(r,r),fx[e]=n}return xy(qa(n,...t))}const Cv=e=>e.toRawBytes(!0).slice(1),Sy=e=>Zs(e,32),Eg=e=>Tn(e,Jh),Gu=e=>Tn(e,kh),Pv=Nc.ProjectivePoint,n3=(e,t,n)=>Pv.BASE.multiplyAndAddUnsafe(e,t,n);function Cy(e){let t=Nc.utils.normPrivateKeyToScalar(e),n=Pv.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Gu(-t),bytes:Cv(n)}}function c2(e){if(!l2(e))throw new Error("bad x: need 0 < x < p");const t=Eg(e*e),n=Eg(t*e+BigInt(7));let r=a2(n);r%Sh!==Qh&&(r=Eg(-r));const i=new Pv(e,r,s2);return i.assertValidity(),i}function u2(...e){return Gu(fr(Ch("BIP0340/challenge",...e)))}function r3(e){return Cy(e).bytes}function i3(e,t,n=Y1(32)){const r=Fn("message",e),{bytes:i,scalar:l}=Cy(t),c=Fn("auxRand",n,32),u=Sy(l^fr(Ch("BIP0340/aux",c))),f=Ch("BIP0340/nonce",u,i,r),p=Gu(fr(f));if(p===Qh)throw new Error("sign failed: k is zero");const{bytes:g,scalar:m}=Cy(p),b=u2(g,i,r),x=new Uint8Array(64);if(x.set(g,0),x.set(Sy(Gu(m+b*l)),32),!d2(x,r,i))throw new Error("sign: Invalid signature produced");return x}function d2(e,t,n){const r=Fn("signature",e,64),i=Fn("message",t),l=Fn("publicKey",n,32);try{const c=c2(fr(l)),u=fr(r.subarray(0,32));if(!l2(u))return!1;const f=fr(r.subarray(32,64));if(!t3(f))return!1;const p=u2(Sy(u),Cv(c),i),g=n3(c,f,Gu(-p));return!(!g||!g.hasEvenY()||g.toAffine().x!==u)}catch{return!1}}const Lu={getPublicKey:r3,sign:i3,verify:d2,utils:{randomPrivateKey:Nc.utils.randomPrivateKey,lift_x:c2,pointToBytes:Cv,numberToBytesBE:Zs,bytesToNumberBE:fr,taggedHash:Ch,mod:Tn}},kg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tv=e=>e instanceof Uint8Array,Sg=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ri=(e,t)=>e<<32-t|e>>>t,o3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!o3)throw new Error("Non little-endian hardware is not supported");const s3=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Un(e){if(!Tv(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=s3[e[n]];return t}function Ka(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,l=e.slice(i,i+2),c=Number.parseInt(l,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}function a3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Yu(e){if(typeof e=="string"&&(e=a3(e)),!Tv(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Xh(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!Tv(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class f2{clone(){return this._cloneInto()}}function h2(e){const t=r=>e().update(Yu(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function p2(e=32){if(kg&&typeof kg.getRandomValues=="function")return kg.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Py(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function l3(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function m2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function c3(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Py(e.outputLen),Py(e.blockLen)}function u3(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function d3(e,t){m2(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Fi={number:Py,bool:l3,bytes:m2,hash:c3,exists:u3,output:d3};function f3(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),l=BigInt(4294967295),c=Number(n>>i&l),u=Number(n&l),f=r?4:0,p=r?0:4;e.setUint32(t+f,c,r),e.setUint32(t+p,u,r)}class h3 extends f2{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Sg(this.buffer)}update(t){Fi.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=Yu(t);const l=t.length;for(let c=0;c<l;){const u=Math.min(i-this.pos,l-c);if(u===i){const f=Sg(t);for(;i<=l-c;c+=i)this.process(f,c);continue}r.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Fi.exists(this),Fi.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:l}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let m=c;m<i;m++)n[m]=0;f3(r,i-8,BigInt(this.length*8),l),this.process(r,0);const u=Sg(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=f/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)u.setUint32(4*m,g[m],l)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:l,destroyed:c,pos:u}=this;return t.length=i,t.pos=u,t.finished=l,t.destroyed=c,i%n&&t.buffer.set(r),t}}const p3=(e,t,n)=>e&t^~e&n,m3=(e,t,n)=>e&t^e&n^t&n,g3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ys=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vs=new Uint32Array(64);class g2 extends h3{constructor(){super(64,32,8,!1),this.A=ys[0]|0,this.B=ys[1]|0,this.C=ys[2]|0,this.D=ys[3]|0,this.E=ys[4]|0,this.F=ys[5]|0,this.G=ys[6]|0,this.H=ys[7]|0}get(){const{A:t,B:n,C:r,D:i,E:l,F:c,G:u,H:f}=this;return[t,n,r,i,l,c,u,f]}set(t,n,r,i,l,c,u,f){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=l|0,this.F=c|0,this.G=u|0,this.H=f|0}process(t,n){for(let m=0;m<16;m++,n+=4)vs[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const b=vs[m-15],x=vs[m-2],k=Ri(b,7)^Ri(b,18)^b>>>3,_=Ri(x,17)^Ri(x,19)^x>>>10;vs[m]=_+vs[m-7]+k+vs[m-16]|0}let{A:r,B:i,C:l,D:c,E:u,F:f,G:p,H:g}=this;for(let m=0;m<64;m++){const b=Ri(u,6)^Ri(u,11)^Ri(u,25),x=g+b+p3(u,f,p)+g3[m]+vs[m]|0,_=(Ri(r,2)^Ri(r,13)^Ri(r,22))+m3(r,i,l)|0;g=p,p=f,f=u,u=c+x|0,c=l,l=i,i=r,r=x+_|0}r=r+this.A|0,i=i+this.B|0,l=l+this.C|0,c=c+this.D|0,u=u+this.E|0,f=f+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,i,l,c,u,f,p,g)}roundClean(){vs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class y3 extends g2{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Ac=h2(()=>new g2);h2(()=>new y3);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rc(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Ao(...e){const t=(i,l)=>c=>i(l(c)),n=Array.from(e).reverse().reduce((i,l)=>i?t(i,l.encode):l.encode,void 0),r=e.reduce((i,l)=>i?t(i,l.decode):l.decode,void 0);return{encode:n,decode:r}}function Ro(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Rc(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function Io(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function ep(e,t="="){if(Rc(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of n)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function y2(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function hx(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],l=Array.from(e);for(l.forEach(c=>{if(Rc(c),c<0||c>=t)throw new Error(`Wrong integer: ${c}`)});;){let c=0,u=!0;for(let f=r;f<l.length;f++){const p=l[f],g=t*c+p;if(!Number.isSafeInteger(g)||t*c/t!==c||g-p!==t*c)throw new Error("convertRadix: carry overflow");if(c=g%n,l[f]=Math.floor(g/n),!Number.isSafeInteger(l[f])||l[f]*n+c!==g)throw new Error("convertRadix: carry overflow");if(u)l[f]?u=!1:r=f;else continue}if(i.push(c),u)break}for(let c=0;c<e.length-1&&e[c]===0;c++)i.push(0);return i.reverse()}const v2=(e,t)=>t?v2(t,e%t):e,Ph=(e,t)=>e+(t-v2(e,t));function Ty(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Ph(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Ph(t,n)}`);let i=0,l=0;const c=2**n-1,u=[];for(const f of e){if(Rc(f),f>=2**t)throw new Error(`convertRadix2: invalid data word=${f} from=${t}`);if(i=i<<t|f,l+t>32)throw new Error(`convertRadix2: carry overflow pos=${l} from=${t}`);for(l+=t;l>=n;l-=n)u.push((i>>l-n&c)>>>0);i&=2**l-1}if(i=i<<n-l&c,!r&&l>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&l>0&&u.push(i>>>0),u}function v3(e){return Rc(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return hx(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(hx(t,e,2**8))}}}function Gs(e,t=!1){if(Rc(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Ph(8,e)>32||Ph(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Ty(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Ty(n,e,8,t))}}}function px(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const w3=Ao(Gs(4),Ro("0123456789ABCDEF"),Io("")),_3=Ao(Gs(5),Ro("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ep(5),Io(""));Ao(Gs(5),Ro("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ep(5),Io(""));Ao(Gs(5),Ro("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Io(""),y2(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Po=Ao(Gs(6),Ro("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ep(6),Io("")),x3=Ao(Gs(6),Ro("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ep(6),Io("")),Nv=e=>Ao(v3(58),Ro(e),Io("")),Ny=Nv("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Nv("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Nv("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const mx=[0,2,3,5,6,7,9,10,11],b3={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Ny.encode(r).padStart(mx[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=mx.indexOf(r.length),l=Ny.decode(r);for(let c=0;c<l.length-i;c++)if(l[c]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(l.slice(l.length-i)))}return Uint8Array.from(t)}},Ay=Ao(Ro("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Io("")),gx=[996825010,642813549,513874426,1027748829,705979059];function Ou(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<gx.length;r++)(t>>r&1)===1&&(n^=gx[r]);return n}function yx(e,t,n=1){const r=e.length;let i=1;for(let l=0;l<r;l++){const c=e.charCodeAt(l);if(c<33||c>126)throw new Error(`Invalid prefix (${e})`);i=Ou(i)^c>>5}i=Ou(i);for(let l=0;l<r;l++)i=Ou(i)^e.charCodeAt(l)&31;for(let l of t)i=Ou(i)^l;for(let l=0;l<6;l++)i=Ou(i);return i^=n,Ay.encode(Ty([i%2**30],30,5,!1))}function w2(e){const t=e==="bech32"?1:734539939,n=Gs(5),r=n.decode,i=n.encode,l=px(r);function c(g,m,b=90){if(typeof g!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof g}`);if(!Array.isArray(m)||m.length&&typeof m[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof m}`);const x=g.length+7+m.length;if(b!==!1&&x>b)throw new TypeError(`Length ${x} exceeds limit ${b}`);return g=g.toLowerCase(),`${g}1${Ay.encode(m)}${yx(g,m,t)}`}function u(g,m=90){if(typeof g!="string")throw new Error(`bech32.decode input should be string, not ${typeof g}`);if(g.length<8||m!==!1&&g.length>m)throw new TypeError(`Wrong string length: ${g.length} (${g}). Expected (8..${m})`);const b=g.toLowerCase();if(g!==b&&g!==g.toUpperCase())throw new Error("String must be lowercase or uppercase");g=b;const x=g.lastIndexOf("1");if(x===0||x===-1)throw new Error('Letter "1" must be present between prefix and data only');const k=g.slice(0,x),_=g.slice(x+1);if(_.length<6)throw new Error("Data must be at least 6 characters long");const E=Ay.decode(_).slice(0,-6),P=yx(k,E,t);if(!_.endsWith(P))throw new Error(`Invalid checksum in ${g}: expected "${P}"`);return{prefix:k,words:E}}const f=px(u);function p(g){const{prefix:m,words:b}=u(g,!1);return{prefix:m,words:b,bytes:r(b)}}return{encode:c,decode:u,decodeToBytes:p,decodeUnsafe:f,fromWords:r,fromWordsUnsafe:l,toWords:i}}const bc=w2("bech32");w2("bech32m");const E3={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},k3=Ao(Gs(4),Ro("0123456789abcdef"),Io(""),y2(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),S3={utf8:E3,hex:k3,base16:w3,base32:_3,base64:Po,base64url:x3,base58:Ny,base58xmr:b3};`${Object.keys(S3).join(", ")}`;function Cg(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function vx(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function C3(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function bo(e,...t){if(!C3(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Zn=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),P3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!P3)throw new Error("Non little-endian hardware is not supported");function T3(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function N3(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const A3=(e,t)=>(Object.assign(t,e),t),Bs=16,R3=283;function Av(e){return e<<1^R3&-(e>>7)}function Kl(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Av(e);return n}const Ry=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=Av(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),I3=Ry.map((e,t)=>Ry.indexOf(t)),L3=e=>e<<24|e>>>8,Pg=e=>e<<8|e>>>24;function _2(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((p,g)=>t(e[g])),r=n.map(Pg),i=r.map(Pg),l=i.map(Pg),c=new Uint32Array(256*256),u=new Uint32Array(256*256),f=new Uint16Array(256*256);for(let p=0;p<256;p++)for(let g=0;g<256;g++){const m=p*256+g;c[m]=n[p]^r[g],u[m]=i[p]^l[g],f[m]=e[p]<<8|e[g]}return{sbox:e,sbox2:f,T0:n,T1:r,T2:i,T3:l,T01:c,T23:u}}const Rv=_2(Ry,e=>Kl(e,3)<<24|e<<16|e<<8|Kl(e,2)),x2=_2(I3,e=>Kl(e,11)<<24|Kl(e,13)<<16|Kl(e,9)<<8|Kl(e,14)),O3=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Av(n))e[t]=n;return e})();function b2(e){bo(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Rv,r=Zn(e),i=r.length,l=u=>Ui(n,u,u,u,u),c=new Uint32Array(t+28);c.set(r);for(let u=i;u<c.length;u++){let f=c[u-1];u%i===0?f=l(L3(f))^O3[u/i-1]:i>6&&u%i===4&&(f=l(f)),c[u]=c[u-i]^f}return c}function j3(e){const t=b2(e),n=t.slice(),r=t.length,{sbox2:i}=Rv,{T0:l,T1:c,T2:u,T3:f}=x2;for(let p=0;p<r;p+=4)for(let g=0;g<4;g++)n[p+g]=t[r-p-4+g];t.fill(0);for(let p=4;p<r-4;p++){const g=n[p],m=Ui(i,g,g,g,g);n[p]=l[m&255]^c[m>>>8&255]^u[m>>>16&255]^f[m>>>24]}return n}function Ms(e,t,n,r,i,l){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|l>>>24&255]}function Ui(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function wx(e,t,n,r,i){const{sbox2:l,T01:c,T23:u}=Rv;let f=0;t^=e[f++],n^=e[f++],r^=e[f++],i^=e[f++];const p=e.length/4-2;for(let k=0;k<p;k++){const _=e[f++]^Ms(c,u,t,n,r,i),E=e[f++]^Ms(c,u,n,r,i,t),P=e[f++]^Ms(c,u,r,i,t,n),T=e[f++]^Ms(c,u,i,t,n,r);t=_,n=E,r=P,i=T}const g=e[f++]^Ui(l,t,n,r,i),m=e[f++]^Ui(l,n,r,i,t),b=e[f++]^Ui(l,r,i,t,n),x=e[f++]^Ui(l,i,t,n,r);return{s0:g,s1:m,s2:b,s3:x}}function M3(e,t,n,r,i){const{sbox2:l,T01:c,T23:u}=x2;let f=0;t^=e[f++],n^=e[f++],r^=e[f++],i^=e[f++];const p=e.length/4-2;for(let k=0;k<p;k++){const _=e[f++]^Ms(c,u,t,i,r,n),E=e[f++]^Ms(c,u,n,t,i,r),P=e[f++]^Ms(c,u,r,n,t,i),T=e[f++]^Ms(c,u,i,r,n,t);t=_,n=E,r=P,i=T}const g=e[f++]^Ui(l,t,i,r,n),m=e[f++]^Ui(l,n,t,i,r),b=e[f++]^Ui(l,r,n,t,i),x=e[f++]^Ui(l,i,r,n,t);return{s0:g,s1:m,s2:b,s3:x}}function E2(e,t){if(!t)return new Uint8Array(e);if(bo(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function z3(e){if(bo(e),e.length%Bs!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Bs}`)}function D3(e,t,n){let r=e.length;const i=r%Bs;if(!t&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const l=Zn(e);if(t){let f=Bs-i;f||(f=Bs),r=r+f}const c=E2(r,n),u=Zn(c);return{b:l,o:u,out:c}}function B3(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const i=e.subarray(0,-r);for(let l=0;l<r;l++)if(e[n-l-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function F3(e){const t=new Uint8Array(16),n=Zn(t);t.set(e);const r=Bs-e.length;for(let i=Bs-r;i<Bs;i++)t[i]=r;return n}const k2=A3({blockSize:16,nonceLength:16},function(t,n,r={}){bo(t),bo(n,16);const i=!r.disablePadding;return{encrypt:(l,c)=>{const u=b2(t),{b:f,o:p,out:g}=D3(l,i,c),m=Zn(n);let b=m[0],x=m[1],k=m[2],_=m[3],E=0;for(;E+4<=f.length;)b^=f[E+0],x^=f[E+1],k^=f[E+2],_^=f[E+3],{s0:b,s1:x,s2:k,s3:_}=wx(u,b,x,k,_),p[E++]=b,p[E++]=x,p[E++]=k,p[E++]=_;if(i){const P=F3(l.subarray(E*4));b^=P[0],x^=P[1],k^=P[2],_^=P[3],{s0:b,s1:x,s2:k,s3:_}=wx(u,b,x,k,_),p[E++]=b,p[E++]=x,p[E++]=k,p[E++]=_}return u.fill(0),g},decrypt:(l,c)=>{z3(l);const u=j3(t),f=Zn(n),p=E2(l.length,c),g=Zn(l),m=Zn(p);let b=f[0],x=f[1],k=f[2],_=f[3];for(let E=0;E+4<=g.length;){const P=b,T=x,I=k,D=_;b=g[E+0],x=g[E+1],k=g[E+2],_=g[E+3];const{s0:B,s1:q,s2:G,s3:J}=M3(u,b,x,k,_);m[E++]=B^P,m[E++]=q^T,m[E++]=G^I,m[E++]=J^D}return u.fill(0),B3(p,i)}}}),S2=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),U3=S2("expand 16-byte k"),$3=S2("expand 32-byte k"),Z3=Zn(U3),C2=Zn($3);C2.slice();function It(e,t){return e<<t|e>>>32-t}function Iy(e){return e.byteOffset%4===0}const Qf=64,H3=16,P2=2**32-1,_x=new Uint32Array;function W3(e,t,n,r,i,l,c,u){const f=i.length,p=new Uint8Array(Qf),g=Zn(p),m=Iy(i)&&Iy(l),b=m?Zn(i):_x,x=m?Zn(l):_x;for(let k=0;k<f;c++){if(e(t,n,r,g,c,u),c>=P2)throw new Error("arx: counter overflow");const _=Math.min(Qf,f-k);if(m&&_===Qf){const E=k/4;if(k%4!==0)throw new Error("arx: invalid block position");for(let P=0,T;P<H3;P++)T=E+P,x[T]=b[T]^g[P];k+=Qf;continue}for(let E=0,P;E<_;E++)P=k+E,l[P]=i[P]^p[E];k+=_}}function V3(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:l,rounds:c}=T3({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Cg(i),Cg(c),vx(l),vx(n),(u,f,p,g,m=0)=>{bo(u),bo(f),bo(p);const b=p.length;if(g||(g=new Uint8Array(b)),bo(g),Cg(m),m<0||m>=P2)throw new Error("arx: counter overflow");if(g.length<b)throw new Error(`arx: output (${g.length}) is shorter than data (${b})`);const x=[];let k=u.length,_,E;if(k===32)_=u.slice(),x.push(_),E=C2;else if(k===16&&n)_=new Uint8Array(32),_.set(u),_.set(u,16),E=Z3,x.push(_);else throw new Error(`arx: invalid 32-byte key, got length=${k}`);Iy(f)||(f=f.slice(),x.push(f));const P=Zn(_);if(r){if(f.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,P,Zn(f.subarray(0,16)),P),f=f.subarray(16)}const T=16-i;if(T!==f.length)throw new Error(`arx: nonce must be ${T} or 16 bytes`);if(T!==12){const D=new Uint8Array(12);D.set(f,l?0:12-f.length),f=D,x.push(f)}const I=Zn(f);for(W3(e,E,P,I,p,g,m,c);x.length>0;)x.pop().fill(0);return g}}function q3(e,t,n,r,i,l=20){let c=e[0],u=e[1],f=e[2],p=e[3],g=t[0],m=t[1],b=t[2],x=t[3],k=t[4],_=t[5],E=t[6],P=t[7],T=i,I=n[0],D=n[1],B=n[2],q=c,G=u,J=f,V=p,Y=g,Q=m,U=b,re=x,M=k,W=_,ae=E,oe=P,ne=T,ee=I,le=D,F=B;for(let Ce=0;Ce<l;Ce+=2)q=q+Y|0,ne=It(ne^q,16),M=M+ne|0,Y=It(Y^M,12),q=q+Y|0,ne=It(ne^q,8),M=M+ne|0,Y=It(Y^M,7),G=G+Q|0,ee=It(ee^G,16),W=W+ee|0,Q=It(Q^W,12),G=G+Q|0,ee=It(ee^G,8),W=W+ee|0,Q=It(Q^W,7),J=J+U|0,le=It(le^J,16),ae=ae+le|0,U=It(U^ae,12),J=J+U|0,le=It(le^J,8),ae=ae+le|0,U=It(U^ae,7),V=V+re|0,F=It(F^V,16),oe=oe+F|0,re=It(re^oe,12),V=V+re|0,F=It(F^V,8),oe=oe+F|0,re=It(re^oe,7),q=q+Q|0,F=It(F^q,16),ae=ae+F|0,Q=It(Q^ae,12),q=q+Q|0,F=It(F^q,8),ae=ae+F|0,Q=It(Q^ae,7),G=G+U|0,ne=It(ne^G,16),oe=oe+ne|0,U=It(U^oe,12),G=G+U|0,ne=It(ne^G,8),oe=oe+ne|0,U=It(U^oe,7),J=J+re|0,ee=It(ee^J,16),M=M+ee|0,re=It(re^M,12),J=J+re|0,ee=It(ee^J,8),M=M+ee|0,re=It(re^M,7),V=V+Y|0,le=It(le^V,16),W=W+le|0,Y=It(Y^W,12),V=V+Y|0,le=It(le^V,8),W=W+le|0,Y=It(Y^W,7);let K=0;r[K++]=c+q|0,r[K++]=u+G|0,r[K++]=f+J|0,r[K++]=p+V|0,r[K++]=g+Y|0,r[K++]=m+Q|0,r[K++]=b+U|0,r[K++]=x+re|0,r[K++]=k+M|0,r[K++]=_+W|0,r[K++]=E+ae|0,r[K++]=P+oe|0,r[K++]=T+ne|0,r[K++]=I+ee|0,r[K++]=D+le|0,r[K++]=B+F|0}const T2=V3(q3,{counterRight:!1,counterLength:4,allowShortKeys:!1});class N2 extends f2{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Fi.hash(t);const r=Yu(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,l=new Uint8Array(i);l.set(r.length>i?t.create().update(r).digest():r);for(let c=0;c<l.length;c++)l[c]^=54;this.iHash.update(l),this.oHash=t.create();for(let c=0;c<l.length;c++)l[c]^=106;this.oHash.update(l),l.fill(0)}update(t){return Fi.exists(this),this.iHash.update(t),this}digestInto(t){Fi.exists(this),Fi.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:l,blockLen:c,outputLen:u}=this;return t=t,t.finished=i,t.destroyed=l,t.blockLen=c,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const tp=(e,t,n)=>new N2(e,t).update(n).digest();tp.create=(e,t)=>new N2(e,t);function K3(e,t,n){return Fi.hash(e),tp(e,Yu(n),Yu(t))}const Tg=new Uint8Array([0]),xx=new Uint8Array;function G3(e,t,n,r=32){if(Fi.hash(e),Fi.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);n===void 0&&(n=xx);const l=new Uint8Array(i*e.outputLen),c=tp.create(e,t),u=c._cloneInto(),f=new Uint8Array(c.outputLen);for(let p=0;p<i;p++)Tg[0]=p+1,u.update(p===0?xx:f).update(n).update(Tg).digestInto(f),l.set(f,e.outputLen*p),c._cloneInto(u);return c.destroy(),u.destroy(),f.fill(0),Tg.fill(0),l.slice(0,r)}var Y3=Object.defineProperty,Yt=(e,t)=>{for(var n in t)Y3(e,n,{get:t[n],enumerable:!0})},Zl=Symbol("verified"),J3=e=>e instanceof Object;function Iv(e){if(!J3(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var Q3={};Yt(Q3,{Queue:()=>I2,QueueNode:()=>R2,binarySearch:()=>Lv,bytesToHex:()=>Un,hexToBytes:()=>Ka,insertEventIntoAscendingList:()=>eI,insertEventIntoDescendingList:()=>X3,normalizeURL:()=>A2,utf8Decoder:()=>Eo,utf8Encoder:()=>pi});var Eo=new TextDecoder("utf-8"),pi=new TextEncoder;function A2(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch{throw new Error(`Invalid URL: ${e}`)}}function X3(e,t){const[n,r]=Lv(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:i.created_at-t.created_at);return r||e.splice(n,0,t),e}function eI(e,t){const[n,r]=Lv(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:t.created_at-i.created_at);return r||e.splice(n,0,t),e}function Lv(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),l=t(e[i]);if(l===0)return[i,!0];l<0?r=i-1:n=i+1}return[n,!1]}var R2=class{constructor(e){$e(this,"value");$e(this,"next",null);$e(this,"prev",null);this.value=e}},I2=class{constructor(){$e(this,"first");$e(this,"last");this.first=null,this.last=null}enqueue(e){const t=new R2(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},tI=class{generateSecretKey(){return Lu.utils.randomPrivateKey()}getPublicKey(e){return Un(Lu.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Un(Lu.getPublicKey(t)),n.id=Hu(n),n.sig=Un(Lu.sign(Hu(n),t)),n[Zl]=!0,n}verifyEvent(e){if(typeof e[Zl]=="boolean")return e[Zl];const t=Hu(e);if(t!==e.id)return e[Zl]=!1,!1;try{const n=Lu.verify(e.sig,t,e.pubkey);return e[Zl]=n,n}catch{return e[Zl]=!1,!1}}};function nI(e){if(!Iv(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Hu(e){let t=Ac(pi.encode(nI(e)));return Un(t)}var np=new tI,rp=np.generateSecretKey,Hs=np.getPublicKey,Jr=np.finalizeEvent,md=np.verifyEvent,rI={};Yt(rI,{Application:()=>n4,BadgeAward:()=>dI,BadgeDefinition:()=>GI,BlockedRelaysList:()=>LI,BookmarkList:()=>AI,Bookmarksets:()=>VI,Calendar:()=>c4,CalendarEventRSVP:()=>u4,ChannelCreation:()=>D2,ChannelHideMessage:()=>U2,ChannelMessage:()=>F2,ChannelMetadata:()=>B2,ChannelMuteUser:()=>$2,ClassifiedListing:()=>o4,ClientAuth:()=>H2,CommunitiesList:()=>RI,CommunityDefinition:()=>h4,CommunityPostApproval:()=>wI,Contacts:()=>lI,CreateOrUpdateProduct:()=>QI,CreateOrUpdateStall:()=>JI,Curationsets:()=>qI,Date:()=>a4,DirectMessageRelaysList:()=>zI,DraftClassifiedListing:()=>s4,DraftLong:()=>e4,Emojisets:()=>t4,EncryptedDirectMessage:()=>cI,EventDeletion:()=>uI,FileMetadata:()=>hI,FileServerPreference:()=>DI,Followsets:()=>ZI,GenericRepost:()=>Mv,Genericlists:()=>HI,GiftWrap:()=>Z2,HTTPAuth:()=>zv,Handlerinformation:()=>f4,Handlerrecommendation:()=>d4,Highlights:()=>CI,InterestsList:()=>jI,Interestsets:()=>YI,JobFeedback:()=>bI,JobRequest:()=>_I,JobResult:()=>xI,Label:()=>vI,LightningPubRPC:()=>FI,LiveChatMessage:()=>pI,LiveEvent:()=>r4,LongFormArticle:()=>XI,Metadata:()=>sI,Mutelist:()=>PI,NWCWalletInfo:()=>BI,NWCWalletRequest:()=>W2,NWCWalletResponse:()=>UI,NostrConnect:()=>$I,OpenTimestamps:()=>fI,Pinlist:()=>TI,PrivateDirectMessage:()=>z2,ProblemTracker:()=>mI,ProfileBadges:()=>KI,PublicChatsList:()=>II,Reaction:()=>jv,RecommendRelay:()=>aI,RelayList:()=>NI,Relaysets:()=>WI,Report:()=>gI,Reporting:()=>yI,Repost:()=>Ov,Seal:()=>M2,SearchRelaysList:()=>OI,ShortTextNote:()=>j2,Time:()=>l4,UserEmojiList:()=>MI,UserStatuses:()=>i4,Zap:()=>SI,ZapGoal:()=>EI,ZapRequest:()=>kI,classifyKind:()=>iI,isAddressableKind:()=>op,isEphemeralKind:()=>O2,isKind:()=>oI,isRegularKind:()=>L2,isReplaceableKind:()=>ip});function L2(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function ip(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function O2(e){return 2e4<=e&&e<3e4}function op(e){return 3e4<=e&&e<4e4}function iI(e){return L2(e)?"regular":ip(e)?"replaceable":O2(e)?"ephemeral":op(e)?"parameterized":"unknown"}function oI(e,t){const n=t instanceof Array?t:[t];return Iv(e)&&n.includes(e.kind)||!1}var sI=0,j2=1,aI=2,lI=3,cI=4,uI=5,Ov=6,jv=7,dI=8,M2=13,z2=14,Mv=16,D2=40,B2=41,F2=42,U2=43,$2=44,fI=1040,Z2=1059,hI=1063,pI=1311,mI=1971,gI=1984,yI=1984,vI=1985,wI=4550,_I=5999,xI=6999,bI=7e3,EI=9041,kI=9734,SI=9735,CI=9802,PI=1e4,TI=10001,NI=10002,AI=10003,RI=10004,II=10005,LI=10006,OI=10007,jI=10015,MI=10030,zI=10050,DI=10096,BI=13194,FI=21e3,H2=22242,W2=23194,UI=23195,$I=24133,zv=27235,ZI=3e4,HI=30001,WI=30002,VI=30003,qI=30004,KI=30008,GI=30009,YI=30015,JI=30017,QI=30018,XI=30023,e4=30024,t4=30030,n4=30078,r4=30311,i4=30315,o4=30402,s4=30403,a4=31922,l4=31923,c4=31924,u4=31925,d4=31989,f4=31990,h4=34550;function p4(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),i=e[`#${r}`];if(i&&!t.tags.find(([l,c])=>l===n.slice(1)&&i.indexOf(c)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function V2(e,t){for(let n=0;n<e.length;n++)if(p4(e[n],t))return!0;return!1}function q2(e){var t,n,r,i,l,c;if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[u,f]of Object.entries(e))if(u[0]==="#"&&Array.isArray(f)&&!f.length)return 0;return Math.min(Math.max(0,e.limit??1/0),((t=e.ids)==null?void 0:t.length)??1/0,(n=e.authors)!=null&&n.length&&((r=e.kinds)!=null&&r.every(u=>ip(u)))?e.authors.length*e.kinds.length:1/0,(i=e.authors)!=null&&i.length&&((l=e.kinds)!=null&&l.every(u=>op(u)))&&((c=e["#d"])!=null&&c.length)?e.authors.length*e.kinds.length*e["#d"].length:1/0)}var m4={};Yt(m4,{getHex64:()=>sp,getInt:()=>K2,getSubscriptionId:()=>G2,matchEventId:()=>g4,matchEventKind:()=>v4,matchEventPubkey:()=>y4});function sp(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function K2(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),l=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,l),10)}function G2(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(i===-1)return null;let l=r+1+i;return e.slice(r+1,l)}function g4(e,t){return t===sp(e,"id")}function y4(e,t){return t===sp(e,"pubkey")}function v4(e,t){return t===K2(e,"kind")}var w4={};Yt(w4,{makeAuthEvent:()=>Y2});function Y2(e,t){return{kind:H2,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function _4(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var J2=class extends Error{constructor(e,t){super(`Tried to send message '${e} on a closed connection to ${t}.`),this.name="SendingOnClosedConnection"}},Q2=class{constructor(e,t){$e(this,"url");$e(this,"_connected",!1);$e(this,"onclose",null);$e(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));$e(this,"baseEoseTimeout",4400);$e(this,"connectionTimeout",4400);$e(this,"publishTimeout",4400);$e(this,"openSubs",new Map);$e(this,"connectionTimeoutHandle");$e(this,"connectionPromise");$e(this,"openCountRequests",new Map);$e(this,"openEventPublishes",new Map);$e(this,"ws");$e(this,"incomingMessageQueue",new I2);$e(this,"queueRunning",!1);$e(this,"challenge");$e(this,"authPromise");$e(this,"serial",0);$e(this,"verifyEvent");$e(this,"_WebSocket");this.url=A2(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){const n=new Q2(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket closed"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await _4();this.queueRunning=!1}handleNext(){var n,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=G2(e);if(t){const i=this.openSubs.get(t);if(!i)return;const l=sp(e,"id"),c=(n=i.alreadyHaveEvent)==null?void 0:n.call(i,l);if((r=i.receivedEvent)==null||r.call(i,this,l),c)return}try{let i=JSON.parse(e);switch(i[0]){case"EVENT":{const l=this.openSubs.get(i[1]),c=i[2];this.verifyEvent(c)&&V2(l.filters,c)&&l.onevent(c);return}case"COUNT":{const l=i[1],c=i[2],u=this.openCountRequests.get(l);u&&(u.resolve(c.count),this.openCountRequests.delete(l));return}case"EOSE":{const l=this.openSubs.get(i[1]);if(!l)return;l.receivedEose();return}case"OK":{const l=i[1],c=i[2],u=i[3],f=this.openEventPublishes.get(l);f&&(clearTimeout(f.timeout),c?f.resolve(u):f.reject(new Error(u)),this.openEventPublishes.delete(l));return}case"CLOSED":{const l=i[1],c=this.openSubs.get(l);if(!c)return;c.closed=!0,c.close(i[2]);return}case"NOTICE":this.onnotice(i[1]);return;case"AUTH":{this.challenge=i[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new J2(e,this.url);this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){const t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let i=await e(Y2(this.url,t)),l=setTimeout(()=>{let c=this.openEventPublishes.get(i.id);c&&(c.reject(new Error("auth timed out")),this.openEventPublishes.delete(i.id))},this.publishTimeout);this.openEventPublishes.set(i.id,{resolve:n,reject:r,timeout:l}),this.send('["AUTH",'+JSON.stringify(i)+"]")}catch(i){console.warn("subscribe auth function failed:",i)}}),this.authPromise)}async publish(e){const t=new Promise((n,r)=>{const i=setTimeout(()=>{const l=this.openEventPublishes.get(e.id);l&&(l.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:n,reject:r,timeout:i})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((i,l)=>{this.openCountRequests.set(n,{resolve:i,reject:l})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||(t.label?t.label+":":"sub:")+this.serial,r=new x4(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},x4=class{constructor(e,t,n,r){$e(this,"relay");$e(this,"id");$e(this,"closed",!1);$e(this,"eosed",!1);$e(this,"filters");$e(this,"alreadyHaveEvent");$e(this,"receivedEvent");$e(this,"onevent");$e(this,"oneose");$e(this,"onclose");$e(this,"eoseTimeout");$e(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(i=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,i)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof J2))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},X2;try{X2=WebSocket}catch{}var eE=class extends Q2{constructor(e){super(e,{verifyEvent:md,websocketImplementation:X2})}static async connect(e){const t=new eE(e);return await t.connect(),t}},b4;try{b4=WebSocket}catch{}var Xn={};Yt(Xn,{BECH32_REGEX:()=>tE,Bech32MaxSize:()=>Dv,NostrTypeGuard:()=>E4,decode:()=>ap,decodeNostrURI:()=>S4,encodeBytes:()=>cp,naddrEncode:()=>R4,neventEncode:()=>A4,noteEncode:()=>T4,nprofileEncode:()=>N4,npubEncode:()=>P4,nsecEncode:()=>C4});var E4={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},Dv=5e3,tE=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function k4(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function S4(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),ap(e)}catch{return{type:"invalid",data:null}}}function ap(e){var i,l,c,u,f,p,g;let{prefix:t,words:n}=bc.decode(e,Dv),r=new Uint8Array(bc.fromWords(n));switch(t){case"nprofile":{let m=Ng(r);if(!((i=m[0])!=null&&i[0]))throw new Error("missing TLV 0 for nprofile");if(m[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Un(m[0][0]),relays:m[1]?m[1].map(b=>Eo.decode(b)):[]}}}case"nevent":{let m=Ng(r);if(!((l=m[0])!=null&&l[0]))throw new Error("missing TLV 0 for nevent");if(m[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(m[2]&&m[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(m[3]&&m[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Un(m[0][0]),relays:m[1]?m[1].map(b=>Eo.decode(b)):[],author:(c=m[2])!=null&&c[0]?Un(m[2][0]):void 0,kind:(u=m[3])!=null&&u[0]?parseInt(Un(m[3][0]),16):void 0}}}case"naddr":{let m=Ng(r);if(!((f=m[0])!=null&&f[0]))throw new Error("missing TLV 0 for naddr");if(!((p=m[2])!=null&&p[0]))throw new Error("missing TLV 2 for naddr");if(m[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((g=m[3])!=null&&g[0]))throw new Error("missing TLV 3 for naddr");if(m[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Eo.decode(m[0][0]),pubkey:Un(m[2][0]),kind:parseInt(Un(m[3][0]),16),relays:m[1]?m[1].map(b=>Eo.decode(b)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Un(r)};default:throw new Error(`unknown prefix ${t}`)}}function Ng(e){let t={},n=e;for(;n.length>0;){let r=n[0],i=n[1],l=n.slice(2,2+i);if(n=n.slice(2+i),l.length<i)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(l)}return t}function C4(e){return cp("nsec",e)}function P4(e){return cp("npub",Ka(e))}function T4(e){return cp("note",Ka(e))}function lp(e,t){let n=bc.toWords(t);return bc.encode(e,n,Dv)}function cp(e,t){return lp(e,t)}function N4(e){let t=Bv({0:[Ka(e.pubkey)],1:(e.relays||[]).map(n=>pi.encode(n))});return lp("nprofile",t)}function A4(e){let t;e.kind!==void 0&&(t=k4(e.kind));let n=Bv({0:[Ka(e.id)],1:(e.relays||[]).map(r=>pi.encode(r)),2:e.author?[Ka(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return lp("nevent",n)}function R4(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Bv({0:[pi.encode(e.identifier)],1:(e.relays||[]).map(r=>pi.encode(r)),2:[Ka(e.pubkey)],3:[new Uint8Array(t)]});return lp("naddr",n)}function Bv(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(i=>{let l=new Uint8Array(i.length+2);l.set([parseInt(n)],0),l.set([i.length],1),l.set(i,2),t.push(l)})}),Xh(...t)}var Ju={};Yt(Ju,{decrypt:()=>I4,encrypt:()=>nE});function nE(e,t,n){const r=e instanceof Uint8Array?Un(e):e,i=Nc.getSharedSecret(r,"02"+t),l=rE(i);let c=Uint8Array.from(p2(16)),u=pi.encode(n),f=k2(l,c).encrypt(u),p=Po.encode(new Uint8Array(f)),g=Po.encode(new Uint8Array(c.buffer));return`${p}?iv=${g}`}function I4(e,t,n){const r=e instanceof Uint8Array?Un(e):e;let[i,l]=n.split("?iv="),c=Nc.getSharedSecret(r,"02"+t),u=rE(c),f=Po.decode(l),p=Po.decode(i),g=k2(u,f).decrypt(p);return Eo.decode(g)}function rE(e){return e.slice(1,33)}var L4={};Yt(L4,{NIP05_REGEX:()=>Fv,isNip05:()=>O4,isValid:()=>z4,queryProfile:()=>iE,searchDomain:()=>M4,useFetchImplementation:()=>j4});var Fv=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,O4=e=>Fv.test(e||""),up;try{up=fetch}catch{}function j4(e){up=e}async function M4(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await up(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function iE(e){var i;const t=e.match(Fv);if(!t)return null;const[,n="_",r]=t;try{const l=`https://${r}/.well-known/nostr.json?name=${n}`,c=await up(l,{redirect:"manual"});if(c.status!==200)throw Error("Wrong response code");const u=await c.json(),f=u.names[n];return f?{pubkey:f,relays:(i=u.relays)==null?void 0:i[f]}:null}catch{return null}}async function z4(e,t){const n=await iE(t);return n?n.pubkey===e:!1}var D4={};Yt(D4,{parse:()=>B4});function B4(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let i=e.tags.length-1;i>=0;i--){const l=e.tags[i];if(l[0]==="e"&&l[1]){const[c,u,f,p,g]=l,m={id:u,relays:f?[f]:[],author:g};if(p==="root"){t.root=m;continue}if(p==="reply"){t.reply=m;continue}if(p==="mention"){t.mentions.push(m);continue}n?r=m:n=m,t.mentions.push(m);continue}if(l[0]==="q"&&l[1]){const[c,u,f]=l;t.quotes.push({id:u,relays:f?[f]:[]})}if(l[0]==="p"&&l[1]){t.profiles.push({pubkey:l[1],relays:l[2]?[l[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(i=>{if(!i)return;let l=t.mentions.indexOf(i);if(l!==-1&&t.mentions.splice(l,1),i.author){let c=t.profiles.find(u=>u.pubkey===i.author);c&&c.relays&&(i.relays||(i.relays=[]),c.relays.forEach(u=>{var f;((f=i.relays)==null?void 0:f.indexOf(u))===-1&&i.relays.push(u)}),c.relays=i.relays)}}),t.mentions.forEach(i=>{if(i.author){let l=t.profiles.find(c=>c.pubkey===i.author);l&&l.relays&&(i.relays||(i.relays=[]),l.relays.forEach(c=>{i.relays.indexOf(c)===-1&&i.relays.push(c)}),l.relays=i.relays)}}),t}var F4={};Yt(F4,{fetchRelayInformation:()=>$4,useFetchImplementation:()=>U4});var oE;try{oE=fetch}catch{}function U4(e){oE=e}async function $4(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var Z4={};Yt(Z4,{fastEventHash:()=>aE,getPow:()=>sE,minePow:()=>H4});function sE(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function H4(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const l=Math.floor(new Date().getTime()/1e3);if(l!==r.created_at&&(n=0,r.created_at=l),i[1]=(++n).toString(),r.id=aE(r),sE(r.id)>=t)break}return r}function aE(e){return Un(Ac(pi.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var W4={};Yt(W4,{unwrapEvent:()=>nL,unwrapManyEvents:()=>rL,wrapEvent:()=>_E,wrapManyEvents:()=>tL});var V4={};Yt(V4,{createRumor:()=>gE,createSeal:()=>yE,createWrap:()=>vE,unwrapEvent:()=>Wv,unwrapManyEvents:()=>wE,wrapEvent:()=>Th,wrapManyEvents:()=>X4});var zs={};Yt(zs,{decrypt:()=>Hv,encrypt:()=>Zv,getConversationKey:()=>Uv,v2:()=>J4});var lE=1,cE=65535;function Uv(e,t){const n=Nc.getSharedSecret(e,"02"+t).subarray(1,33);return K3(Ac,n,"nip44-v2")}function uE(e,t){const n=G3(Ac,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function $v(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function q4(e){if(!Number.isSafeInteger(e)||e<lE||e>cE)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function K4(e){const t=pi.encode(e),n=t.length,r=q4(n),i=new Uint8Array($v(n)-n);return Xh(r,t,i)}function G4(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<lE||t>cE||n.length!==t||e.length!==2+$v(t))throw new Error("invalid padding");return Eo.decode(n)}function dE(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=Xh(n,t);return tp(Ac,e,r)}function Y4(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Po.decode(e)}catch(l){throw new Error("invalid base64: "+l.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(i!==2)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function Zv(e,t,n=p2(32)){const{chacha_key:r,chacha_nonce:i,hmac_key:l}=uE(t,n),c=K4(e),u=T2(r,i,c),f=dE(l,u,n);return Po.encode(Xh(new Uint8Array([2]),n,u,f))}function Hv(e,t){const{nonce:n,ciphertext:r,mac:i}=Y4(e),{chacha_key:l,chacha_nonce:c,hmac_key:u}=uE(t,n),f=dE(u,r,n);if(!N3(f,i))throw new Error("invalid MAC");const p=T2(l,c,r);return G4(p)}var J4={utils:{getConversationKey:Uv,calcPaddedLen:$v},encrypt:Zv,decrypt:Hv},Q4=2*24*60*60,fE=()=>Math.round(Date.now()/1e3),hE=()=>Math.round(fE()-Math.random()*Q4),pE=(e,t)=>Uv(e,t),mE=(e,t,n)=>Zv(JSON.stringify(e),pE(t,n)),bx=(e,t)=>JSON.parse(Hv(e.content,pE(t,e.pubkey)));function gE(e,t){const n={created_at:fE(),content:"",tags:[],...e,pubkey:Hs(t)};return n.id=Hu(n),n}function yE(e,t,n){return Jr({kind:M2,content:mE(e,t,n),created_at:hE(),tags:[]},t)}function vE(e,t){const n=rp();return Jr({kind:Z2,content:mE(e,n,t),created_at:hE(),tags:[["p",t]]},n)}function Th(e,t,n){const r=gE(e,t),i=yE(r,t,n);return vE(i,n)}function X4(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=Hs(t),i=[Th(e,t,r)];return n.forEach(l=>{i.push(Th(e,t,l))}),i}function Wv(e,t){const n=bx(e,t);return bx(n,t)}function wE(e,t){let n=[];return e.forEach(r=>{n.push(Wv(r,t))}),n.sort((r,i)=>r.created_at-i.created_at),n}function eL(e,t,n,r){const i={created_at:Math.ceil(Date.now()/1e3),kind:z2,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:c,relayUrl:u})=>{i.tags.push(u?["p",c,u]:["p",c])}),r&&i.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&i.tags.push(["subject",n]),i}function _E(e,t,n,r,i){const l=eL(t,n,r,i);return Th(l,e,t.publicKey)}function tL(e,t,n,r,i){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Hs(e)},...t].map(c=>_E(e,c,n,r,i))}var nL=Wv,rL=wE,iL={};Yt(iL,{finishRepostEvent:()=>oL,getRepostedEvent:()=>sL,getRepostedEventPointer:()=>xE});function oL(e,t,n,r){var c;let i;const l=[...e.tags??[],["e",t.id,n],["p",t.pubkey]];return t.kind===j2?i=Ov:(i=Mv,l.push(["k",String(t.kind)])),Jr({kind:i,tags:l,content:e.content===""||(c=t.tags)!=null&&c.find(u=>u[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function xE(e){if(![Ov,Mv].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function sL(e,{skipVerification:t}={}){const n=xE(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!md(r)))return r}var aL={};Yt(aL,{NOSTR_URI_REGEX:()=>Vv,parse:()=>cL,test:()=>lL});var Vv=new RegExp(`nostr:(${tE.source})`);function lL(e){return typeof e=="string"&&new RegExp(`^${Vv.source}$`).test(e)}function cL(e){const t=e.match(new RegExp(`^${Vv.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:ap(t[1])}}var uL={};Yt(uL,{finishReactionEvent:()=>dL,getReactedEventPointer:()=>fL});function dL(e,t,n){const r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return Jr({...e,kind:jv,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function fL(e){if(e.kind!==jv)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var hL={};Yt(hL,{parse:()=>mL});var pL=/\W/m,Ex=/\W |\W$|$|,| /m;function*mL(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.indexOf(":",r);if(i===-1)break;if(e.substring(i-5,i)==="nostr"){const l=e.substring(i+60).match(pL),c=l?i+60+l.index:t;try{let u,{data:f,type:p}=ap(e.substring(i+1,c));switch(p){case"npub":u={pubkey:f};break;case"nsec":case"note":r=c+1;continue;default:u=f}n!==i-5&&(yield{type:"text",text:e.substring(n,i-5)}),yield{type:"reference",pointer:u},r=c,n=r;continue}catch{r=i+1;continue}}else if(e.substring(i-5,i)==="https"||e.substring(i-4,i)==="http"){const l=e.substring(i+4).match(Ex),c=l?i+4+l.index:t,u=e[i-1]==="s"?5:4;try{let f=new URL(e.substring(i-u,c));if(f.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),f.pathname.endsWith(".png")||f.pathname.endsWith(".jpg")||f.pathname.endsWith(".jpeg")||f.pathname.endsWith(".gif")||f.pathname.endsWith(".webp")){yield{type:"image",url:f.toString()},r=c,n=r;continue}if(f.pathname.endsWith(".mp4")||f.pathname.endsWith(".avi")||f.pathname.endsWith(".webm")||f.pathname.endsWith(".mkv")){yield{type:"video",url:f.toString()},r=c,n=r;continue}if(f.pathname.endsWith(".mp3")||f.pathname.endsWith(".aac")||f.pathname.endsWith(".ogg")||f.pathname.endsWith(".opus")){yield{type:"audio",url:f.toString()},r=c,n=r;continue}yield{type:"url",url:f.toString()},r=c,n=r;continue}catch{r=c+1;continue}}else if(e.substring(i-3,i)==="wss"||e.substring(i-2,i)==="ws"){const l=e.substring(i+4).match(Ex),c=l?i+4+l.index:t,u=e[i-1]==="s"?3:2;try{let f=new URL(e.substring(i-u,c));if(f.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==i-u&&(yield{type:"text",text:e.substring(n,i-u)}),yield{type:"relay",url:f.toString()},r=c,n=r;continue}catch{r=c+1;continue}}else{r=i+1;continue}}n!==t&&(yield{type:"text",text:e.substring(n)})}var gL={};Yt(gL,{channelCreateEvent:()=>yL,channelHideMessageEvent:()=>_L,channelMessageEvent:()=>wL,channelMetadataEvent:()=>vL,channelMuteUserEvent:()=>xL});var yL=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Jr({kind:D2,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},vL=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Jr({kind:B2,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},wL=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Jr({kind:F2,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},_L=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Jr({kind:U2,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},xL=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Jr({kind:$2,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},bL={};Yt(bL,{EMOJI_SHORTCODE_REGEX:()=>bE,matchAll:()=>EL,regex:()=>qv,replaceAll:()=>kL});var bE=/:(\w+):/,qv=()=>new RegExp(`\\B${bE.source}\\B`,"g");function*EL(e){const t=e.matchAll(qv());for(const n of t)try{const[r,i]=n;yield{shortcode:r,name:i,start:n.index,end:n.index+r.length}}catch{}}function kL(e,t){return e.replaceAll(qv(),(n,r)=>t({shortcode:n,name:r}))}var SL={};Yt(SL,{useFetchImplementation:()=>CL,validateGithub:()=>PL});var Kv;try{Kv=fetch}catch{}function CL(e){Kv=e}async function PL(e,t,n){try{return await(await Kv(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var TL={};Yt(TL,{makeNwcRequestEvent:()=>AL,parseConnectionString:()=>NL});function NL(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),l=n.get("secret");if(!r||!i||!l)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:l}}async function AL(e,t,n){const i=nE(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),l={kind:W2,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return Jr(l,t)}var RL={};Yt(RL,{normalizeIdentifier:()=>IL});function IL(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var LL={};Yt(LL,{getSatoshisAmountFromBolt11:()=>BL,getZapEndpoint:()=>jL,makeZapReceipt:()=>DL,makeZapRequest:()=>ML,useFetchImplementation:()=>OL,validateZapRequest:()=>zL});var Gv;try{Gv=fetch}catch{}function OL(e){Gv=e}async function jL(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:c}=bc.decode(n,1e3),u=bc.fromWords(c);t=Eo.decode(u)}else if(r){let[c,u]=r.split("@");t=new URL(`/.well-known/lnurlp/${c}`,`https://${u}`).toString()}else return null;let l=await(await Gv(t)).json();if(l.allowsNostr&&l.nostrPubkey)return l.callback}catch{}return null}function ML({profile:e,event:t,amount:n,relays:r,comment:i=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let l={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",n.toString()],["relays",...r]]};if(t&&typeof t=="string"&&l.tags.push(["e",t]),t&&typeof t=="object"){if(ip(t.kind)){const c=["a",`${t.kind}:${t.pubkey}:`];l.tags.push(c)}else if(op(t.kind)){let c=t.tags.find(([f,p])=>f==="d"&&p);if(!c)throw new Error("d tag not found or is empty");const u=["a",`${t.kind}:${t.pubkey}:${c[1]}`];l.tags.push(u)}}return l}function zL(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!Iv(t))return"Zap request is not a valid Nostr event.";if(!md(t))return"Invalid signature on zap request.";let n=t.tags.find(([l,c])=>l==="p"&&c);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([l,c])=>l==="e"&&c);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([l,c])=>l==="relays"&&c)?null:"Zap request doesn't have a 'relays' tag."}function DL({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e),l=i.tags.filter(([u])=>u==="e"||u==="p"||u==="a"),c={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...l,["P",i.pubkey],["bolt11",n],["description",e]]};return t&&c.tags.push(["preimage",t]),c}function BL(e){if(e.length<50)return 0;e=e.substring(0,50);const t=e.lastIndexOf("1");if(t===-1)return 0;const n=e.substring(0,t);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const i=r[r.length-1],l=i.charCodeAt(0)-48,c=l>=0&&l<=9;let u=r.length-1;if(c&&u++,u<1)return 0;const f=parseInt(r.substring(0,u));switch(i){case"m":return f*1e5;case"u":return f*100;case"n":return f/10;case"p":return f/1e4;default:return f*1e8}}var FL={};Yt(FL,{getToken:()=>UL,hashPayload:()=>Yv,unpackEventFromToken:()=>kE,validateEvent:()=>AE,validateEventKind:()=>CE,validateEventMethodTag:()=>TE,validateEventPayloadTag:()=>NE,validateEventTimestamp:()=>SE,validateEventUrlTag:()=>PE,validateToken:()=>$L});var EE="Nostr ";async function UL(e,t,n,r=!1,i){const l={kind:zv,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};i&&l.tags.push(["payload",Yv(i)]);const c=await n(l);return(r?EE:"")+Po.encode(pi.encode(JSON.stringify(c)))}async function $L(e,t,n){const r=await kE(e).catch(l=>{throw l});return await AE(r,t,n).catch(l=>{throw l})}async function kE(e){if(!e)throw new Error("Missing token");e=e.replace(EE,"");const t=Eo.decode(Po.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function SE(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function CE(e){return e.kind===zv}function PE(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function TE(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Yv(e){const t=Ac(pi.encode(JSON.stringify(e)));return Un(t)}function NE(e,t){const n=e.tags.find(i=>i[0]==="payload");if(!n)return!1;const r=Yv(t);return n.length>0&&n[1]===r}async function AE(e,t,n,r){if(!md(e))throw new Error("Invalid nostr event, signature invalid");if(!CE(e))throw new Error("Invalid nostr event, kind invalid");if(!SE(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!PE(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!TE(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!NE(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var _1,x1,Vh,RE;const Oi=class Oi{constructor(t){et(this,Vh);$e(this,"cache");$e(this,_1,"NSet");this.cache=t??new Map}get size(){return this.cache.size}add(t){mt(this,Vh,RE).call(this,t);for(const n of this){if(Oi.deletes(n,t)||Oi.replaces(n,t))return this;Oi.replaces(t,n)&&this.delete(n)}return this.cache.set(t.id,t),this}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,n){return this.cache.forEach((r,i)=>t(r,r,this),n)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of Oi.sortEvents([...this.cache.values()]))yield t}[(x1=Symbol.iterator,_1=Symbol.toStringTag,x1)](){return this.values()}static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isAddressable(t){return 3e4<=t&&t<4e4}static replaces(t,n){var l,c;const{kind:r,pubkey:i}=t;if(Oi.isReplaceable(r))return r===n.kind&&i===n.pubkey&&Oi.sortEvents([t,n])[0]===t;if(Oi.isAddressable(r)){const u=((l=t.tags.find(([p])=>p==="d"))==null?void 0:l[1])||"",f=((c=n.tags.find(([p])=>p==="d"))==null?void 0:c[1])||"";return r===n.kind&&i===n.pubkey&&Oi.sortEvents([t,n])[0]===t&&u===f}return!1}static deletes(t,n){const{kind:r,pubkey:i,tags:l}=t;if(r===5&&i===n.pubkey){for(const[c,u]of l)if(c==="e"&&u===n.id)return!0}return!1}static sortEvents(t){return t.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}};Vh=new WeakSet,RE=function(t){if(t.kind===5){for(const n of t.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===t.pubkey&&this.delete(r)}}};let Nh=Oi;const ZL=Object.freeze({status:"aborted"});function Te(e,t,n){function r(u,f){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:f,constr:c,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,f);const p=c.prototype,g=Object.keys(p);for(let m=0;m<g.length;m++){const b=g[m];b in u||(u[b]=p[b].bind(u))}}const i=(n==null?void 0:n.Parent)??Object;class l extends i{}Object.defineProperty(l,"name",{value:e});function c(u){var f;const p=n!=null&&n.Parent?new l:this;r(p,u),(f=p._zod).deferred??(f.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:u=>{var f,p;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(p=(f=u==null?void 0:u._zod)==null?void 0:f.traits)==null?void 0:p.has(e)}}),Object.defineProperty(c,"name",{value:e}),c}class Xl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class IE extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const LE={};function Ws(e){return LE}function OE(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Ly(e,t){return typeof t=="bigint"?t.toString():t}function Jv(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Qv(e){return e==null}function Xv(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function HL(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f!=null&&f[1]&&(i=Number.parseInt(f[1]))}const l=n>i?n:i,c=Number.parseInt(e.toFixed(l).replace(".","")),u=Number.parseInt(t.toFixed(l).replace(".",""));return c%u/10**l}const kx=Symbol("evaluating");function zt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==kx)return r===void 0&&(r=kx,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Ja(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ys(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Sx(e){return JSON.stringify(e)}function WL(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const jE="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Ah(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const VL=Jv(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ec(e){if(Ah(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Ah(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function ME(e){return Ec(e)?{...e}:Array.isArray(e)?[...e]:e}const qL=new Set(["string","number","symbol"]);function kc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Js(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function tt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function KL(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const GL={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function YL(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const l=Ys(e._zod.def,{get shape(){const c={};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&(c[u]=n.shape[u])}return Ja(this,"shape",c),c},checks:[]});return Js(e,l)}function JL(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const l=Ys(e._zod.def,{get shape(){const c={...e._zod.def.shape};for(const u in t){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);t[u]&&delete c[u]}return Ja(this,"shape",c),c},checks:[]});return Js(e,l)}function QL(e,t){if(!Ec(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const l=e._zod.def.shape;for(const c in t)if(Object.getOwnPropertyDescriptor(l,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=Ys(e._zod.def,{get shape(){const l={...e._zod.def.shape,...t};return Ja(this,"shape",l),l}});return Js(e,i)}function XL(e,t){if(!Ec(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Ys(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Ja(this,"shape",r),r}});return Js(e,n)}function eO(e,t){const n=Ys(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Ja(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Js(e,n)}function tO(e,t,n){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=Ys(t._zod.def,{get shape(){const u=t._zod.def.shape,f={...u};if(n)for(const p in n){if(!(p in u))throw new Error(`Unrecognized key: "${p}"`);n[p]&&(f[p]=e?new e({type:"optional",innerType:u[p]}):u[p])}else for(const p in u)f[p]=e?new e({type:"optional",innerType:u[p]}):u[p];return Ja(this,"shape",f),f},checks:[]});return Js(t,c)}function nO(e,t,n){const r=Ys(t._zod.def,{get shape(){const i=t._zod.def.shape,l={...i};if(n)for(const c in n){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=new e({type:"nonoptional",innerType:i[c]}))}else for(const c in i)l[c]=new e({type:"nonoptional",innerType:i[c]});return Ja(this,"shape",l),l}});return Js(t,r)}function Gl(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function La(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Xf(e){return typeof e=="string"?e:e==null?void 0:e.message}function Vs(e,t,n){var i,l,c,u,f,p;const r={...e,path:e.path??[]};if(!e.message){const g=Xf((c=(l=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:l.error)==null?void 0:c.call(l,e))??Xf((u=t==null?void 0:t.error)==null?void 0:u.call(t,e))??Xf((f=n.customError)==null?void 0:f.call(n,e))??Xf((p=n.localeError)==null?void 0:p.call(n,e))??"Invalid input";r.message=g}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function e0(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Qu(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const zE=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ly,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},DE=Te("$ZodError",zE),BE=Te("$ZodError",zE,{Parent:Error});function rO(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function iO(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>r({issues:c}));else if(l.code==="invalid_key")r({issues:l.issues});else if(l.code==="invalid_element")r({issues:l.issues});else if(l.path.length===0)n._errors.push(t(l));else{let c=n,u=0;for(;u<l.path.length;){const f=l.path[u];u===l.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(t(l))):c[f]=c[f]||{_errors:[]},c=c[f],u++}}};return r(e),n}const t0=e=>(t,n,r,i)=>{const l=r?Object.assign(r,{async:!1}):{async:!1},c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise)throw new Xl;if(c.issues.length){const u=new((i==null?void 0:i.Err)??e)(c.issues.map(f=>Vs(f,l,Ws())));throw jE(u,i==null?void 0:i.callee),u}return c.value},n0=e=>async(t,n,r,i)=>{const l=r?Object.assign(r,{async:!0}):{async:!0};let c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const u=new((i==null?void 0:i.Err)??e)(c.issues.map(f=>Vs(f,l,Ws())));throw jE(u,i==null?void 0:i.callee),u}return c.value},dp=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},l=t._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new Xl;return l.issues.length?{success:!1,error:new(e??DE)(l.issues.map(c=>Vs(c,i,Ws())))}:{success:!0,data:l.value}},oO=dp(BE),fp=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new e(l.issues.map(c=>Vs(c,i,Ws())))}:{success:!0,data:l.value}},sO=fp(BE),aO=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return t0(e)(t,n,i)},lO=e=>(t,n,r)=>t0(e)(t,n,r),cO=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return n0(e)(t,n,i)},uO=e=>async(t,n,r)=>n0(e)(t,n,r),dO=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return dp(e)(t,n,i)},fO=e=>(t,n,r)=>dp(e)(t,n,r),hO=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fp(e)(t,n,i)},pO=e=>async(t,n,r)=>fp(e)(t,n,r),mO=/^[cC][^\s-]{8,}$/,gO=/^[0-9a-z]+$/,yO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,vO=/^[0-9a-vA-V]{20}$/,wO=/^[A-Za-z0-9]{27}$/,_O=/^[a-zA-Z0-9_-]{21}$/,xO=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,bO=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Cx=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,EO=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,kO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function SO(){return new RegExp(kO,"u")}const CO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,TO=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,NO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AO=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,FE=/^[A-Za-z0-9_-]*$/,RO=/^\+[1-9]\d{6,14}$/,UE="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",IO=new RegExp(`^${UE}$`);function $E(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function LO(e){return new RegExp(`^${$E(e)}$`)}function OO(e){const t=$E({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${UE}T(?:${r})$`)}const jO=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},MO=/^-?\d+$/,ZE=/^-?\d+(?:\.\d+)?$/,zO=/^(?:true|false)$/i,DO=/^[^A-Z]*$/,BO=/^[^a-z]*$/,pr=Te("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),HE={number:"number",bigint:"bigint",object:"date"},WE=Te("$ZodCheckLessThan",(e,t)=>{pr.init(e,t);const n=HE[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,l=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<l&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),VE=Te("$ZodCheckGreaterThan",(e,t)=>{pr.init(e,t);const n=HE[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,l=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>l&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),FO=Te("$ZodCheckMultipleOf",(e,t)=>{pr.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):HL(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),UO=Te("$ZodCheckNumberFormat",(e,t)=>{var c;pr.init(e,t),t.format=t.format||"float64";const n=(c=t.format)==null?void 0:c.includes("int"),r=n?"int":"number",[i,l]=GL[t.format];e._zod.onattach.push(u=>{const f=u._zod.bag;f.format=t.format,f.minimum=i,f.maximum=l,n&&(f.pattern=MO)}),e._zod.check=u=>{const f=u.value;if(n){if(!Number.isInteger(f)){u.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:f,inst:e});return}if(!Number.isSafeInteger(f)){f>0?u.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):u.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}f<i&&u.issues.push({origin:"number",input:f,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),f>l&&u.issues.push({origin:"number",input:f,code:"too_big",maximum:l,inclusive:!0,inst:e,continue:!t.abort})}}),$O=Te("$ZodCheckMaxLength",(e,t)=>{var n;pr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Qv(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const c=e0(i);r.issues.push({origin:c,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),ZO=Te("$ZodCheckMinLength",(e,t)=>{var n;pr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Qv(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const c=e0(i);r.issues.push({origin:c,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),HO=Te("$ZodCheckLengthEquals",(e,t)=>{var n;pr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Qv(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,l=i.length;if(l===t.length)return;const c=e0(i),u=l>t.length;r.issues.push({origin:c,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),hp=Te("$ZodCheckStringFormat",(e,t)=>{var n,r;pr.init(e,t),e._zod.onattach.push(i=>{const l=i._zod.bag;l.format=t.format,t.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),WO=Te("$ZodCheckRegex",(e,t)=>{hp.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),VO=Te("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=DO),hp.init(e,t)}),qO=Te("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=BO),hp.init(e,t)}),KO=Te("$ZodCheckIncludes",(e,t)=>{pr.init(e,t);const n=kc(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),GO=Te("$ZodCheckStartsWith",(e,t)=>{pr.init(e,t);const n=new RegExp(`^${kc(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),YO=Te("$ZodCheckEndsWith",(e,t)=>{pr.init(e,t);const n=new RegExp(`.*${kc(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),JO=Te("$ZodCheckOverwrite",(e,t)=>{pr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class QO{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(c=>c),i=Math.min(...r.map(c=>c.length-c.trimStart().length)),l=r.map(c=>c.slice(i)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(l=>`  ${l}`)];return new t(...n,i.join(`
`))}}const XO={major:4,minor:3,patch:6},qt=Te("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=XO;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const l of r)for(const c of l._zod.onattach)c(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const l=(u,f,p)=>{let g=Gl(u),m;for(const b of f){if(b._zod.def.when){if(!b._zod.def.when(u))continue}else if(g)continue;const x=u.issues.length,k=b._zod.check(u);if(k instanceof Promise&&(p==null?void 0:p.async)===!1)throw new Xl;if(m||k instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await k,u.issues.length!==x&&(g||(g=Gl(u,x)))});else{if(u.issues.length===x)continue;g||(g=Gl(u,x))}}return m?m.then(()=>u):u},c=(u,f,p)=>{if(Gl(u))return u.aborted=!0,u;const g=l(f,r,p);if(g instanceof Promise){if(p.async===!1)throw new Xl;return g.then(m=>e._zod.parse(m,p))}return e._zod.parse(g,p)};e._zod.run=(u,f)=>{if(f.skipChecks)return e._zod.parse(u,f);if(f.direction==="backward"){const g=e._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return g instanceof Promise?g.then(m=>c(m,u,f)):c(g,u,f)}const p=e._zod.parse(u,f);if(p instanceof Promise){if(f.async===!1)throw new Xl;return p.then(g=>l(g,r,f))}return l(p,r,f)}}zt(e,"~standard",()=>({validate:l=>{var c;try{const u=oO(e,l);return u.success?{value:u.data}:{issues:(c=u.error)==null?void 0:c.issues}}catch{return sO(e,l).then(f=>{var p;return f.success?{value:f.data}:{issues:(p=f.error)==null?void 0:p.issues}})}},vendor:"zod",version:1}))}),r0=Te("$ZodString",(e,t)=>{var n;qt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??jO(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Jt=Te("$ZodStringFormat",(e,t)=>{hp.init(e,t),r0.init(e,t)}),ej=Te("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=bO),Jt.init(e,t)}),tj=Te("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Cx(r))}else t.pattern??(t.pattern=Cx());Jt.init(e,t)}),nj=Te("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=EO),Jt.init(e,t)}),rj=Te("$ZodURL",(e,t)=>{Jt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),ij=Te("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=SO()),Jt.init(e,t)}),oj=Te("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=_O),Jt.init(e,t)}),sj=Te("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=mO),Jt.init(e,t)}),aj=Te("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=gO),Jt.init(e,t)}),lj=Te("$ZodULID",(e,t)=>{t.pattern??(t.pattern=yO),Jt.init(e,t)}),cj=Te("$ZodXID",(e,t)=>{t.pattern??(t.pattern=vO),Jt.init(e,t)}),uj=Te("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=wO),Jt.init(e,t)}),dj=Te("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=OO(t)),Jt.init(e,t)}),fj=Te("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=IO),Jt.init(e,t)}),hj=Te("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=LO(t)),Jt.init(e,t)}),pj=Te("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=xO),Jt.init(e,t)}),mj=Te("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=CO),Jt.init(e,t),e._zod.bag.format="ipv4"}),gj=Te("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=PO),Jt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),yj=Te("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=TO),Jt.init(e,t)}),vj=Te("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=NO),Jt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,l]=r;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function qE(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const wj=Te("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=AO),Jt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{qE(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function _j(e){if(!FE.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return qE(n)}const xj=Te("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=FE),Jt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{_j(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),bj=Te("$ZodE164",(e,t)=>{t.pattern??(t.pattern=RO),Jt.init(e,t)});function Ej(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const kj=Te("$ZodJWT",(e,t)=>{Jt.init(e,t),e._zod.check=n=>{Ej(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),KE=Te("$ZodNumber",(e,t)=>{qt.init(e,t),e._zod.pattern=e._zod.bag.pattern??ZE,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const l=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...l?{received:l}:{}}),n}}),Sj=Te("$ZodNumberFormat",(e,t)=>{UO.init(e,t),KE.init(e,t)}),Cj=Te("$ZodBoolean",(e,t)=>{qt.init(e,t),e._zod.pattern=zO,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),Pj=Te("$ZodUnknown",(e,t)=>{qt.init(e,t),e._zod.parse=n=>n}),Tj=Te("$ZodNever",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Px(e,t,n){e.issues.length&&t.issues.push(...La(n,e.issues)),t.value[n]=e.value}const Nj=Te("$ZodArray",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const l=[];for(let c=0;c<i.length;c++){const u=i[c],f=t.element._zod.run({value:u,issues:[]},r);f instanceof Promise?l.push(f.then(p=>Px(p,n,c))):Px(f,n,c)}return l.length?Promise.all(l).then(()=>n):n}});function Rh(e,t,n,r,i){if(e.issues.length){if(i&&!(n in r))return;t.issues.push(...La(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function GE(e){var r,i,l,c;const t=Object.keys(e.shape);for(const u of t)if(!((c=(l=(i=(r=e.shape)==null?void 0:r[u])==null?void 0:i._zod)==null?void 0:l.traits)!=null&&c.has("$ZodType")))throw new Error(`Invalid element at key "${u}": expected a Zod schema`);const n=KL(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function YE(e,t,n,r,i,l){const c=[],u=i.keySet,f=i.catchall._zod,p=f.def.type,g=f.optout==="optional";for(const m in t){if(u.has(m))continue;if(p==="never"){c.push(m);continue}const b=f.run({value:t[m],issues:[]},r);b instanceof Promise?e.push(b.then(x=>Rh(x,n,m,t,g))):Rh(b,n,m,t,g)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:t,inst:l}),e.length?Promise.all(e).then(()=>n):n}const Aj=Te("$ZodObject",(e,t)=>{qt.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const f={...u};return Object.defineProperty(t,"shape",{value:f}),f}})}const r=Jv(()=>GE(t));zt(e._zod,"propValues",()=>{const u=t.shape,f={};for(const p in u){const g=u[p]._zod;if(g.values){f[p]??(f[p]=new Set);for(const m of g.values)f[p].add(m)}}return f});const i=Ah,l=t.catchall;let c;e._zod.parse=(u,f)=>{c??(c=r.value);const p=u.value;if(!i(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),u;u.value={};const g=[],m=c.shape;for(const b of c.keys){const x=m[b],k=x._zod.optout==="optional",_=x._zod.run({value:p[b],issues:[]},f);_ instanceof Promise?g.push(_.then(E=>Rh(E,u,b,p,k))):Rh(_,u,b,p,k)}return l?YE(g,p,u,f,r.value,e):g.length?Promise.all(g).then(()=>u):u}}),Rj=Te("$ZodObjectJIT",(e,t)=>{Aj.init(e,t);const n=e._zod.parse,r=Jv(()=>GE(t)),i=b=>{var I;const x=new QO(["shape","payload","ctx"]),k=r.value,_=D=>{const B=Sx(D);return`shape[${B}]._zod.run({ value: input[${B}], issues: [] }, ctx)`};x.write("const input = payload.value;");const E=Object.create(null);let P=0;for(const D of k.keys)E[D]=`key_${P++}`;x.write("const newResult = {};");for(const D of k.keys){const B=E[D],q=Sx(D),G=b[D],J=((I=G==null?void 0:G._zod)==null?void 0:I.optout)==="optional";x.write(`const ${B} = ${_(D)};`),J?x.write(`
        if (${B}.issues.length) {
          if (${q} in input) {
            payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${q}, ...iss.path] : [${q}]
            })));
          }
        }
        
        if (${B}.value === undefined) {
          if (${q} in input) {
            newResult[${q}] = undefined;
          }
        } else {
          newResult[${q}] = ${B}.value;
        }
        
      `):x.write(`
        if (${B}.issues.length) {
          payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${q}, ...iss.path] : [${q}]
          })));
        }
        
        if (${B}.value === undefined) {
          if (${q} in input) {
            newResult[${q}] = undefined;
          }
        } else {
          newResult[${q}] = ${B}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const T=x.compile();return(D,B)=>T(b,D,B)};let l;const c=Ah,u=!LE.jitless,p=u&&VL.value,g=t.catchall;let m;e._zod.parse=(b,x)=>{m??(m=r.value);const k=b.value;return c(k)?u&&p&&(x==null?void 0:x.async)===!1&&x.jitless!==!0?(l||(l=i(t.shape)),b=l(b,x),g?YE([],k,b,x,m,e):b):n(b,x):(b.issues.push({expected:"object",code:"invalid_type",input:k,inst:e}),b)}});function Tx(e,t,n,r){for(const l of e)if(l.issues.length===0)return t.value=l.value,t;const i=e.filter(l=>!Gl(l));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(l=>l.issues.map(c=>Vs(c,r,Ws())))}),t)}const Ij=Te("$ZodUnion",(e,t)=>{qt.init(e,t),zt(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),zt(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),zt(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),zt(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>Xv(l.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,l)=>{if(n)return r(i,l);let c=!1;const u=[];for(const f of t.options){const p=f._zod.run({value:i.value,issues:[]},l);if(p instanceof Promise)u.push(p),c=!0;else{if(p.issues.length===0)return p;u.push(p)}}return c?Promise.all(u).then(f=>Tx(f,i,e,l)):Tx(u,i,e,l)}}),Lj=Te("$ZodIntersection",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,l=t.left._zod.run({value:i,issues:[]},r),c=t.right._zod.run({value:i,issues:[]},r);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([f,p])=>Nx(n,f,p)):Nx(n,l,c)}});function Oy(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ec(e)&&Ec(t)){const n=Object.keys(t),r=Object.keys(e).filter(l=>n.indexOf(l)!==-1),i={...e,...t};for(const l of r){const c=Oy(e[l],t[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};i[l]=c.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],l=t[r],c=Oy(i,l);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Nx(e,t,n){const r=new Map;let i;for(const u of t.issues)if(u.code==="unrecognized_keys"){i??(i=u);for(const f of u.keys)r.has(f)||r.set(f,{}),r.get(f).l=!0}else e.issues.push(u);for(const u of n.issues)if(u.code==="unrecognized_keys")for(const f of u.keys)r.has(f)||r.set(f,{}),r.get(f).r=!0;else e.issues.push(u);const l=[...r].filter(([,u])=>u.l&&u.r).map(([u])=>u);if(l.length&&i&&e.issues.push({...i,keys:l}),Gl(e))return e;const c=Oy(t.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return e.value=c.data,e}const Oj=Te("$ZodTuple",(e,t)=>{qt.init(e,t);const n=t.items;e._zod.parse=(r,i)=>{const l=r.value;if(!Array.isArray(l))return r.issues.push({input:l,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const c=[],u=[...n].reverse().findIndex(g=>g._zod.optin!=="optional"),f=u===-1?0:n.length-u;if(!t.rest){const g=l.length>n.length,m=l.length<f-1;if(g||m)return r.issues.push({...g?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:l,inst:e,origin:"array"}),r}let p=-1;for(const g of n){if(p++,p>=l.length&&p>=f)continue;const m=g._zod.run({value:l[p],issues:[]},i);m instanceof Promise?c.push(m.then(b=>eh(b,r,p))):eh(m,r,p)}if(t.rest){const g=l.slice(n.length);for(const m of g){p++;const b=t.rest._zod.run({value:m,issues:[]},i);b instanceof Promise?c.push(b.then(x=>eh(x,r,p))):eh(b,r,p)}}return c.length?Promise.all(c).then(()=>r):r}});function eh(e,t,n){e.issues.length&&t.issues.push(...La(n,e.issues)),t.value[n]=e.value}const jj=Te("$ZodRecord",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Ec(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const l=[],c=t.keyType._zod.values;if(c){n.value={};const u=new Set;for(const p of c)if(typeof p=="string"||typeof p=="number"||typeof p=="symbol"){u.add(typeof p=="number"?p.toString():p);const g=t.valueType._zod.run({value:i[p],issues:[]},r);g instanceof Promise?l.push(g.then(m=>{m.issues.length&&n.issues.push(...La(p,m.issues)),n.value[p]=m.value})):(g.issues.length&&n.issues.push(...La(p,g.issues)),n.value[p]=g.value)}let f;for(const p in i)u.has(p)||(f=f??[],f.push(p));f&&f.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:f})}else{n.value={};for(const u of Reflect.ownKeys(i)){if(u==="__proto__")continue;let f=t.keyType._zod.run({value:u,issues:[]},r);if(f instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof u=="string"&&ZE.test(u)&&f.issues.length){const m=t.keyType._zod.run({value:Number(u),issues:[]},r);if(m instanceof Promise)throw new Error("Async schemas not supported in object keys currently");m.issues.length===0&&(f=m)}if(f.issues.length){t.mode==="loose"?n.value[u]=i[u]:n.issues.push({code:"invalid_key",origin:"record",issues:f.issues.map(m=>Vs(m,r,Ws())),input:u,path:[u],inst:e});continue}const g=t.valueType._zod.run({value:i[u],issues:[]},r);g instanceof Promise?l.push(g.then(m=>{m.issues.length&&n.issues.push(...La(u,m.issues)),n.value[f.value]=m.value})):(g.issues.length&&n.issues.push(...La(u,g.issues)),n.value[f.value]=g.value)}}return l.length?Promise.all(l).then(()=>n):n}}),Mj=Te("$ZodEnum",(e,t)=>{qt.init(e,t);const n=OE(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>qL.has(typeof i)).map(i=>typeof i=="string"?kc(i):i.toString()).join("|")})$`),e._zod.parse=(i,l)=>{const c=i.value;return r.has(c)||i.issues.push({code:"invalid_value",values:n,input:c,inst:e}),i}}),zj=Te("$ZodLiteral",(e,t)=>{if(qt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?kc(r):r?kc(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const l=r.value;return n.has(l)||r.issues.push({code:"invalid_value",values:t.values,input:l,inst:e}),r}}),Dj=Te("$ZodTransform",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new IE(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(c=>(n.value=c,n));if(i instanceof Promise)throw new Xl;return n.value=i,n}});function Ax(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const JE=Te("$ZodOptional",(e,t)=>{qt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",zt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),zt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Xv(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>Ax(l,n.value)):Ax(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),Bj=Te("$ZodExactOptional",(e,t)=>{JE.init(e,t),zt(e._zod,"values",()=>t.innerType._zod.values),zt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),Fj=Te("$ZodNullable",(e,t)=>{qt.init(e,t),zt(e._zod,"optin",()=>t.innerType._zod.optin),zt(e._zod,"optout",()=>t.innerType._zod.optout),zt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Xv(n.source)}|null)$`):void 0}),zt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Uj=Te("$ZodDefault",(e,t)=>{qt.init(e,t),e._zod.optin="optional",zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>Rx(l,t)):Rx(i,t)}});function Rx(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const $j=Te("$ZodPrefault",(e,t)=>{qt.init(e,t),e._zod.optin="optional",zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Zj=Te("$ZodNonOptional",(e,t)=>{qt.init(e,t),zt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>Ix(l,e)):Ix(i,e)}});function Ix(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Hj=Te("$ZodCatch",(e,t)=>{qt.init(e,t),zt(e._zod,"optin",()=>t.innerType._zod.optin),zt(e._zod,"optout",()=>t.innerType._zod.optout),zt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=t.catchValue({...n,error:{issues:l.issues.map(c=>Vs(c,r,Ws()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(l=>Vs(l,r,Ws()))},input:n.value}),n.issues=[]),n)}}),Wj=Te("$ZodPipe",(e,t)=>{qt.init(e,t),zt(e._zod,"values",()=>t.in._zod.values),zt(e._zod,"optin",()=>t.in._zod.optin),zt(e._zod,"optout",()=>t.out._zod.optout),zt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const l=t.out._zod.run(n,r);return l instanceof Promise?l.then(c=>th(c,t.in,r)):th(l,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(l=>th(l,t.out,r)):th(i,t.out,r)}});function th(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Vj=Te("$ZodReadonly",(e,t)=>{qt.init(e,t),zt(e._zod,"propValues",()=>t.innerType._zod.propValues),zt(e._zod,"values",()=>t.innerType._zod.values),zt(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),zt(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(Lx):Lx(i)}});function Lx(e){return e.value=Object.freeze(e.value),e}const qj=Te("$ZodCustom",(e,t)=>{pr.init(e,t),qt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(l=>Ox(l,n,r,e));Ox(i,n,r,e)}});function Ox(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(Qu(i))}}var jx;class Kj{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Gj(){return new Kj}(jx=globalThis).__zod_globalRegistry??(jx.__zod_globalRegistry=Gj());const Bu=globalThis.__zod_globalRegistry;function Yj(e,t){return new e({type:"string",...tt(t)})}function QE(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...tt(t)})}function Mx(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...tt(t)})}function Jj(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...tt(t)})}function Qj(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...tt(t)})}function Xj(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...tt(t)})}function eM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...tt(t)})}function XE(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...tt(t)})}function tM(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...tt(t)})}function nM(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...tt(t)})}function rM(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...tt(t)})}function iM(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...tt(t)})}function oM(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...tt(t)})}function sM(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...tt(t)})}function aM(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...tt(t)})}function lM(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...tt(t)})}function cM(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...tt(t)})}function uM(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...tt(t)})}function dM(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...tt(t)})}function fM(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...tt(t)})}function hM(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...tt(t)})}function pM(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...tt(t)})}function mM(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...tt(t)})}function gM(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...tt(t)})}function yM(e,t){return new e({type:"string",format:"date",check:"string_format",...tt(t)})}function vM(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...tt(t)})}function wM(e,t){return new e({type:"string",format:"duration",check:"string_format",...tt(t)})}function _M(e,t){return new e({type:"number",checks:[],...tt(t)})}function xM(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...tt(t)})}function bM(e,t){return new e({type:"boolean",...tt(t)})}function EM(e){return new e({type:"unknown"})}function kM(e,t){return new e({type:"never",...tt(t)})}function zx(e,t){return new WE({check:"less_than",...tt(t),value:e,inclusive:!1})}function Ag(e,t){return new WE({check:"less_than",...tt(t),value:e,inclusive:!0})}function Dx(e,t){return new VE({check:"greater_than",...tt(t),value:e,inclusive:!1})}function Rg(e,t){return new VE({check:"greater_than",...tt(t),value:e,inclusive:!0})}function Bx(e,t){return new FO({check:"multiple_of",...tt(t),value:e})}function ek(e,t){return new $O({check:"max_length",...tt(t),maximum:e})}function Ih(e,t){return new ZO({check:"min_length",...tt(t),minimum:e})}function tk(e,t){return new HO({check:"length_equals",...tt(t),length:e})}function SM(e,t){return new WO({check:"string_format",format:"regex",...tt(t),pattern:e})}function CM(e){return new VO({check:"string_format",format:"lowercase",...tt(e)})}function PM(e){return new qO({check:"string_format",format:"uppercase",...tt(e)})}function TM(e,t){return new KO({check:"string_format",format:"includes",...tt(t),includes:e})}function NM(e,t){return new GO({check:"string_format",format:"starts_with",...tt(t),prefix:e})}function AM(e,t){return new YO({check:"string_format",format:"ends_with",...tt(t),suffix:e})}function Ic(e){return new JO({check:"overwrite",tx:e})}function RM(e){return Ic(t=>t.normalize(e))}function IM(){return Ic(e=>e.trim())}function LM(){return Ic(e=>e.toLowerCase())}function OM(){return Ic(e=>e.toUpperCase())}function jM(){return Ic(e=>WL(e))}function MM(e,t,n){return new e({type:"array",element:t,...tt(n)})}function zM(e,t,n){return new e({type:"custom",check:"custom",fn:t,...tt(n)})}function DM(e){const t=BM(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Qu(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Qu(i))}},e(n.value,n)));return t}function BM(e,t){const n=new pr({check:"custom",...tt(t)});return n._zod.check=e,n}function nk(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??Bu,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function ln(e,t,n={path:[],schemaPath:[]}){var g,m;var r;const i=e._zod.def,l=t.seen.get(e);if(l)return l.count++,n.schemaPath.includes(e)&&(l.cycle=n.path),l.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,c);const u=(m=(g=e._zod).toJSONSchema)==null?void 0:m.call(g);if(u)c.schema=u;else{const b={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,c.schema,b);else{const k=c.schema,_=t.processors[i.type];if(!_)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);_(e,t,k,b)}const x=e._zod.parent;x&&(c.ref||(c.ref=x),ln(x,t,b),t.seen.get(x).isParent=!0)}const f=t.metadataRegistry.get(e);return f&&Object.assign(c.schema,f),t.io==="input"&&Yn(e)&&(delete c.schema.examples,delete c.schema.default),t.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,t.seen.get(e).schema}function rk(e,t){var c,u,f,p;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const g of e.seen.entries()){const m=(c=e.metadataRegistry.get(g[0]))==null?void 0:c.id;if(m){const b=r.get(m);if(b&&b!==g[0])throw new Error(`Duplicate schema id "${m}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(m,g[0])}}const i=g=>{var _;const m=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const E=(_=e.external.registry.get(g[0]))==null?void 0:_.id,P=e.external.uri??(I=>I);if(E)return{ref:P(E)};const T=g[1].defId??g[1].schema.id??`schema${e.counter++}`;return g[1].defId=T,{defId:T,ref:`${P("__shared")}#/${m}/${T}`}}if(g[1]===n)return{ref:"#"};const x=`#/${m}/`,k=g[1].schema.id??`__schema${e.counter++}`;return{defId:k,ref:x+k}},l=g=>{if(g[1].schema.$ref)return;const m=g[1],{ref:b,defId:x}=i(g);m.def={...m.schema},x&&(m.defId=x);const k=m.schema;for(const _ in k)delete k[_];k.$ref=b};if(e.cycles==="throw")for(const g of e.seen.entries()){const m=g[1];if(m.cycle)throw new Error(`Cycle detected: #/${(u=m.cycle)==null?void 0:u.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const g of e.seen.entries()){const m=g[1];if(t===g[0]){l(g);continue}if(e.external){const x=(f=e.external.registry.get(g[0]))==null?void 0:f.id;if(t!==g[0]&&x){l(g);continue}}if((p=e.metadataRegistry.get(g[0]))==null?void 0:p.id){l(g);continue}if(m.cycle){l(g);continue}if(m.count>1&&e.reused==="ref"){l(g);continue}}}function ik(e,t){var c,u,f;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=p=>{const g=e.seen.get(p);if(g.ref===null)return;const m=g.def??g.schema,b={...m},x=g.ref;if(g.ref=null,x){r(x);const _=e.seen.get(x),E=_.schema;if(E.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(E)):Object.assign(m,E),Object.assign(m,b),p._zod.parent===x)for(const T in m)T==="$ref"||T==="allOf"||T in b||delete m[T];if(E.$ref&&_.def)for(const T in m)T==="$ref"||T==="allOf"||T in _.def&&JSON.stringify(m[T])===JSON.stringify(_.def[T])&&delete m[T]}const k=p._zod.parent;if(k&&k!==x){r(k);const _=e.seen.get(k);if(_!=null&&_.schema.$ref&&(m.$ref=_.schema.$ref,_.def))for(const E in m)E==="$ref"||E==="allOf"||E in _.def&&JSON.stringify(m[E])===JSON.stringify(_.def[E])&&delete m[E]}e.override({zodSchema:p,jsonSchema:m,path:g.path??[]})};for(const p of[...e.seen.entries()].reverse())r(p[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,(c=e.external)!=null&&c.uri){const p=(u=e.external.registry.get(t))==null?void 0:u.id;if(!p)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(p)}Object.assign(i,n.def??n.schema);const l=((f=e.external)==null?void 0:f.defs)??{};for(const p of e.seen.entries()){const g=p[1];g.def&&g.defId&&(l[g.defId]=g.def)}e.external||Object.keys(l).length>0&&(e.target==="draft-2020-12"?i.$defs=l:i.definitions=l);try{const p=JSON.parse(JSON.stringify(i));return Object.defineProperty(p,"~standard",{value:{...t["~standard"],jsonSchema:{input:Lh(t,"input",e.processors),output:Lh(t,"output",e.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function Yn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Yn(r.element,n);if(r.type==="set")return Yn(r.valueType,n);if(r.type==="lazy")return Yn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Yn(r.innerType,n);if(r.type==="intersection")return Yn(r.left,n)||Yn(r.right,n);if(r.type==="record"||r.type==="map")return Yn(r.keyType,n)||Yn(r.valueType,n);if(r.type==="pipe")return Yn(r.in,n)||Yn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Yn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Yn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Yn(i,n))return!0;return!!(r.rest&&Yn(r.rest,n))}return!1}const FM=(e,t={})=>n=>{const r=nk({...n,processors:t});return ln(e,r),rk(r,e),ik(r,e)},Lh=(e,t,n={})=>r=>{const{libraryOptions:i,target:l}=r??{},c=nk({...i??{},target:l,io:t,processors:n});return ln(e,c),rk(c,e),ik(c,e)},UM={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},$M=(e,t,n,r)=>{const i=n;i.type="string";const{minimum:l,maximum:c,format:u,patterns:f,contentEncoding:p}=e._zod.bag;if(typeof l=="number"&&(i.minLength=l),typeof c=="number"&&(i.maxLength=c),u&&(i.format=UM[u]??u,i.format===""&&delete i.format,u==="time"&&delete i.format),p&&(i.contentEncoding=p),f&&f.size>0){const g=[...f];g.length===1?i.pattern=g[0].source:g.length>1&&(i.allOf=[...g.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},ZM=(e,t,n,r)=>{const i=n,{minimum:l,maximum:c,format:u,multipleOf:f,exclusiveMaximum:p,exclusiveMinimum:g}=e._zod.bag;typeof u=="string"&&u.includes("int")?i.type="integer":i.type="number",typeof g=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=g,i.exclusiveMinimum=!0):i.exclusiveMinimum=g),typeof l=="number"&&(i.minimum=l,typeof g=="number"&&t.target!=="draft-04"&&(g>=l?delete i.minimum:delete i.exclusiveMinimum)),typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=p,i.exclusiveMaximum=!0):i.exclusiveMaximum=p),typeof c=="number"&&(i.maximum=c,typeof p=="number"&&t.target!=="draft-04"&&(p<=c?delete i.maximum:delete i.exclusiveMaximum)),typeof f=="number"&&(i.multipleOf=f)},HM=(e,t,n,r)=>{n.type="boolean"},WM=(e,t,n,r)=>{n.not={}},VM=(e,t,n,r)=>{},qM=(e,t,n,r)=>{const i=e._zod.def,l=OE(i.entries);l.every(c=>typeof c=="number")&&(n.type="number"),l.every(c=>typeof c=="string")&&(n.type="string"),n.enum=l},KM=(e,t,n,r)=>{const i=e._zod.def,l=[];for(const c of i.values)if(c===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof c=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");l.push(Number(c))}else l.push(c);if(l.length!==0)if(l.length===1){const c=l[0];n.type=c===null?"null":typeof c,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[c]:n.const=c}else l.every(c=>typeof c=="number")&&(n.type="number"),l.every(c=>typeof c=="string")&&(n.type="string"),l.every(c=>typeof c=="boolean")&&(n.type="boolean"),l.every(c=>c===null)&&(n.type="null"),n.enum=l},GM=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},YM=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},JM=(e,t,n,r)=>{const i=n,l=e._zod.def,{minimum:c,maximum:u}=e._zod.bag;typeof c=="number"&&(i.minItems=c),typeof u=="number"&&(i.maxItems=u),i.type="array",i.items=ln(l.element,t,{...r,path:[...r.path,"items"]})},QM=(e,t,n,r)=>{var p;const i=n,l=e._zod.def;i.type="object",i.properties={};const c=l.shape;for(const g in c)i.properties[g]=ln(c[g],t,{...r,path:[...r.path,"properties",g]});const u=new Set(Object.keys(c)),f=new Set([...u].filter(g=>{const m=l.shape[g]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));f.size>0&&(i.required=Array.from(f)),((p=l.catchall)==null?void 0:p._zod.def.type)==="never"?i.additionalProperties=!1:l.catchall?l.catchall&&(i.additionalProperties=ln(l.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},XM=(e,t,n,r)=>{const i=e._zod.def,l=i.inclusive===!1,c=i.options.map((u,f)=>ln(u,t,{...r,path:[...r.path,l?"oneOf":"anyOf",f]}));l?n.oneOf=c:n.anyOf=c},ez=(e,t,n,r)=>{const i=e._zod.def,l=ln(i.left,t,{...r,path:[...r.path,"allOf",0]}),c=ln(i.right,t,{...r,path:[...r.path,"allOf",1]}),u=p=>"allOf"in p&&Object.keys(p).length===1,f=[...u(l)?l.allOf:[l],...u(c)?c.allOf:[c]];n.allOf=f},tz=(e,t,n,r)=>{const i=n,l=e._zod.def;i.type="array";const c=t.target==="draft-2020-12"?"prefixItems":"items",u=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",f=l.items.map((b,x)=>ln(b,t,{...r,path:[...r.path,c,x]})),p=l.rest?ln(l.rest,t,{...r,path:[...r.path,u,...t.target==="openapi-3.0"?[l.items.length]:[]]}):null;t.target==="draft-2020-12"?(i.prefixItems=f,p&&(i.items=p)):t.target==="openapi-3.0"?(i.items={anyOf:f},p&&i.items.anyOf.push(p),i.minItems=f.length,p||(i.maxItems=f.length)):(i.items=f,p&&(i.additionalItems=p));const{minimum:g,maximum:m}=e._zod.bag;typeof g=="number"&&(i.minItems=g),typeof m=="number"&&(i.maxItems=m)},nz=(e,t,n,r)=>{const i=n,l=e._zod.def;i.type="object";const c=l.keyType,u=c._zod.bag,f=u==null?void 0:u.patterns;if(l.mode==="loose"&&f&&f.size>0){const g=ln(l.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});i.patternProperties={};for(const m of f)i.patternProperties[m.source]=g}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(i.propertyNames=ln(l.keyType,t,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=ln(l.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const p=c._zod.values;if(p){const g=[...p].filter(m=>typeof m=="string"||typeof m=="number");g.length>0&&(i.required=g)}},rz=(e,t,n,r)=>{const i=e._zod.def,l=ln(i.innerType,t,r),c=t.seen.get(e);t.target==="openapi-3.0"?(c.ref=i.innerType,n.nullable=!0):n.anyOf=[l,{type:"null"}]},iz=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType},oz=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},sz=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},az=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType;let c;try{c=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},lz=(e,t,n,r)=>{const i=e._zod.def,l=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;ln(l,t,r);const c=t.seen.get(e);c.ref=l},cz=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType,n.readOnly=!0},ok=(e,t,n,r)=>{const i=e._zod.def;ln(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType},uz=Te("ZodISODateTime",(e,t)=>{dj.init(e,t),rn.init(e,t)});function dz(e){return gM(uz,e)}const fz=Te("ZodISODate",(e,t)=>{fj.init(e,t),rn.init(e,t)});function hz(e){return yM(fz,e)}const pz=Te("ZodISOTime",(e,t)=>{hj.init(e,t),rn.init(e,t)});function mz(e){return vM(pz,e)}const gz=Te("ZodISODuration",(e,t)=>{pj.init(e,t),rn.init(e,t)});function yz(e){return wM(gz,e)}const vz=(e,t)=>{DE.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>iO(e,n)},flatten:{value:n=>rO(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Ly,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Ly,2)}},isEmpty:{get(){return e.issues.length===0}}})},Qr=Te("ZodError",vz,{Parent:Error}),wz=t0(Qr),_z=n0(Qr),xz=dp(Qr),bz=fp(Qr),Ez=aO(Qr),kz=lO(Qr),Sz=cO(Qr),Cz=uO(Qr),Pz=dO(Qr),Tz=fO(Qr),Nz=hO(Qr),Az=pO(Qr),Qt=Te("ZodType",(e,t)=>(qt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Lh(e,"input"),output:Lh(e,"output")}}),e.toJSONSchema=FM(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Ys(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Js(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>wz(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>xz(e,n,r),e.parseAsync=async(n,r)=>_z(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>bz(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>Ez(e,n,r),e.decode=(n,r)=>kz(e,n,r),e.encodeAsync=async(n,r)=>Sz(e,n,r),e.decodeAsync=async(n,r)=>Cz(e,n,r),e.safeEncode=(n,r)=>Pz(e,n,r),e.safeDecode=(n,r)=>Tz(e,n,r),e.safeEncodeAsync=async(n,r)=>Nz(e,n,r),e.safeDecodeAsync=async(n,r)=>Az(e,n,r),e.refine=(n,r)=>e.check(b8(n,r)),e.superRefine=n=>e.check(E8(n)),e.overwrite=n=>e.check(Ic(n)),e.optional=()=>Hx(e),e.exactOptional=()=>c8(e),e.nullable=()=>Wx(e),e.nullish=()=>Hx(Wx(e)),e.nonoptional=n=>m8(e,n),e.array=()=>uk(e),e.or=n=>My([e,n]),e.and=n=>t8(e,n),e.transform=n=>Vx(e,a8(n)),e.default=n=>f8(e,n),e.prefault=n=>p8(e,n),e.catch=n=>y8(e,n),e.pipe=n=>Vx(e,n),e.readonly=()=>_8(e),e.describe=n=>{const r=e.clone();return Bu.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Bu.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Bu.get(e);const r=e.clone();return Bu.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),sk=Te("_ZodString",(e,t)=>{r0.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(r,i,l)=>$M(e,r,i);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(SM(...r)),e.includes=(...r)=>e.check(TM(...r)),e.startsWith=(...r)=>e.check(NM(...r)),e.endsWith=(...r)=>e.check(AM(...r)),e.min=(...r)=>e.check(Ih(...r)),e.max=(...r)=>e.check(ek(...r)),e.length=(...r)=>e.check(tk(...r)),e.nonempty=(...r)=>e.check(Ih(1,...r)),e.lowercase=r=>e.check(CM(r)),e.uppercase=r=>e.check(PM(r)),e.trim=()=>e.check(IM()),e.normalize=(...r)=>e.check(RM(...r)),e.toLowerCase=()=>e.check(LM()),e.toUpperCase=()=>e.check(OM()),e.slugify=()=>e.check(jM())}),Rz=Te("ZodString",(e,t)=>{r0.init(e,t),sk.init(e,t),e.email=n=>e.check(QE(ak,n)),e.url=n=>e.check(XE(lk,n)),e.jwt=n=>e.check(mM(Vz,n)),e.emoji=n=>e.check(tM(Iz,n)),e.guid=n=>e.check(Mx(Ux,n)),e.uuid=n=>e.check(Jj(nh,n)),e.uuidv4=n=>e.check(Qj(nh,n)),e.uuidv6=n=>e.check(Xj(nh,n)),e.uuidv7=n=>e.check(eM(nh,n)),e.nanoid=n=>e.check(nM(Lz,n)),e.guid=n=>e.check(Mx(Ux,n)),e.cuid=n=>e.check(rM(Oz,n)),e.cuid2=n=>e.check(iM(jz,n)),e.ulid=n=>e.check(oM(Mz,n)),e.base64=n=>e.check(fM(Zz,n)),e.base64url=n=>e.check(hM(Hz,n)),e.xid=n=>e.check(sM(zz,n)),e.ksuid=n=>e.check(aM(Dz,n)),e.ipv4=n=>e.check(lM(Bz,n)),e.ipv6=n=>e.check(cM(Fz,n)),e.cidrv4=n=>e.check(uM(Uz,n)),e.cidrv6=n=>e.check(dM($z,n)),e.e164=n=>e.check(pM(Wz,n)),e.datetime=n=>e.check(dz(n)),e.date=n=>e.check(hz(n)),e.time=n=>e.check(mz(n)),e.duration=n=>e.check(yz(n))});function Ot(e){return Yj(Rz,e)}const rn=Te("ZodStringFormat",(e,t)=>{Jt.init(e,t),sk.init(e,t)}),ak=Te("ZodEmail",(e,t)=>{nj.init(e,t),rn.init(e,t)});function Fx(e){return QE(ak,e)}const Ux=Te("ZodGUID",(e,t)=>{ej.init(e,t),rn.init(e,t)}),nh=Te("ZodUUID",(e,t)=>{tj.init(e,t),rn.init(e,t)}),lk=Te("ZodURL",(e,t)=>{rj.init(e,t),rn.init(e,t)});function Fu(e){return XE(lk,e)}const Iz=Te("ZodEmoji",(e,t)=>{ij.init(e,t),rn.init(e,t)}),Lz=Te("ZodNanoID",(e,t)=>{oj.init(e,t),rn.init(e,t)}),Oz=Te("ZodCUID",(e,t)=>{sj.init(e,t),rn.init(e,t)}),jz=Te("ZodCUID2",(e,t)=>{aj.init(e,t),rn.init(e,t)}),Mz=Te("ZodULID",(e,t)=>{lj.init(e,t),rn.init(e,t)}),zz=Te("ZodXID",(e,t)=>{cj.init(e,t),rn.init(e,t)}),Dz=Te("ZodKSUID",(e,t)=>{uj.init(e,t),rn.init(e,t)}),Bz=Te("ZodIPv4",(e,t)=>{mj.init(e,t),rn.init(e,t)}),Fz=Te("ZodIPv6",(e,t)=>{gj.init(e,t),rn.init(e,t)}),Uz=Te("ZodCIDRv4",(e,t)=>{yj.init(e,t),rn.init(e,t)}),$z=Te("ZodCIDRv6",(e,t)=>{vj.init(e,t),rn.init(e,t)}),Zz=Te("ZodBase64",(e,t)=>{wj.init(e,t),rn.init(e,t)}),Hz=Te("ZodBase64URL",(e,t)=>{xj.init(e,t),rn.init(e,t)}),Wz=Te("ZodE164",(e,t)=>{bj.init(e,t),rn.init(e,t)}),Vz=Te("ZodJWT",(e,t)=>{kj.init(e,t),rn.init(e,t)}),ck=Te("ZodNumber",(e,t)=>{KE.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(r,i,l)=>ZM(e,r,i),e.gt=(r,i)=>e.check(Dx(r,i)),e.gte=(r,i)=>e.check(Rg(r,i)),e.min=(r,i)=>e.check(Rg(r,i)),e.lt=(r,i)=>e.check(zx(r,i)),e.lte=(r,i)=>e.check(Ag(r,i)),e.max=(r,i)=>e.check(Ag(r,i)),e.int=r=>e.check($x(r)),e.safe=r=>e.check($x(r)),e.positive=r=>e.check(Dx(0,r)),e.nonnegative=r=>e.check(Rg(0,r)),e.negative=r=>e.check(zx(0,r)),e.nonpositive=r=>e.check(Ag(0,r)),e.multipleOf=(r,i)=>e.check(Bx(r,i)),e.step=(r,i)=>e.check(Bx(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function mo(e){return _M(ck,e)}const qz=Te("ZodNumberFormat",(e,t)=>{Sj.init(e,t),ck.init(e,t)});function $x(e){return xM(qz,e)}const Kz=Te("ZodBoolean",(e,t)=>{Cj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>HM(e,n,r)});function $a(e){return bM(Kz,e)}const Gz=Te("ZodUnknown",(e,t)=>{Pj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>VM()});function jy(){return EM(Gz)}const Yz=Te("ZodNever",(e,t)=>{Tj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>WM(e,n,r)});function Jz(e){return kM(Yz,e)}const Qz=Te("ZodArray",(e,t)=>{Nj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>JM(e,n,r,i),e.element=t.element,e.min=(n,r)=>e.check(Ih(n,r)),e.nonempty=n=>e.check(Ih(1,n)),e.max=(n,r)=>e.check(ek(n,r)),e.length=(n,r)=>e.check(tk(n,r)),e.unwrap=()=>e.element});function uk(e,t){return MM(Qz,e,t)}const dk=Te("ZodObject",(e,t)=>{Rj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>QM(e,n,r,i),zt(e,"shape",()=>t.shape),e.keyof=()=>fk(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:jy()}),e.loose=()=>e.clone({...e._zod.def,catchall:jy()}),e.strict=()=>e.clone({...e._zod.def,catchall:Jz()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>QL(e,n),e.safeExtend=n=>XL(e,n),e.merge=n=>eO(e,n),e.pick=n=>YL(e,n),e.omit=n=>JL(e,n),e.partial=(...n)=>tO(hk,e,n[0]),e.required=(...n)=>nO(pk,e,n[0])});function ko(e,t){const n={type:"object",shape:e??{},...tt(t)};return new dk(n)}function Zx(e,t){return new dk({type:"object",shape:e,catchall:jy(),...tt(t)})}const Xz=Te("ZodUnion",(e,t)=>{Ij.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>XM(e,n,r,i),e.options=t.options});function My(e,t){return new Xz({type:"union",options:e,...tt(t)})}const e8=Te("ZodIntersection",(e,t)=>{Lj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>ez(e,n,r,i)});function t8(e,t){return new e8({type:"intersection",left:e,right:t})}const n8=Te("ZodTuple",(e,t)=>{Oj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>tz(e,n,r,i),e.rest=n=>e.clone({...e._zod.def,rest:n})});function Wr(e,t,n){const r=t instanceof qt,i=r?n:t,l=r?t:null;return new n8({type:"tuple",items:e,rest:l,...tt(i)})}const r8=Te("ZodRecord",(e,t)=>{jj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>nz(e,n,r,i),e.keyType=t.keyType,e.valueType=t.valueType});function i8(e,t,n){return new r8({type:"record",keyType:e,valueType:t,...tt(n)})}const zy=Te("ZodEnum",(e,t)=>{Mj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(r,i,l)=>qM(e,r,i),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const l={};for(const c of r)if(n.has(c))l[c]=t.entries[c];else throw new Error(`Key ${c} not found in enum`);return new zy({...t,checks:[],...tt(i),entries:l})},e.exclude=(r,i)=>{const l={...t.entries};for(const c of r)if(n.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new zy({...t,checks:[],...tt(i),entries:l})}});function fk(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new zy({type:"enum",entries:n,...tt(t)})}const o8=Te("ZodLiteral",(e,t)=>{zj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>KM(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Vr(e,t){return new o8({type:"literal",values:Array.isArray(e)?e:[e],...tt(t)})}const s8=Te("ZodTransform",(e,t)=>{Dj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>YM(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new IE(e.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Qu(l,n.value,t));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=e),n.issues.push(Qu(c))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function a8(e){return new s8({type:"transform",transform:e})}const hk=Te("ZodOptional",(e,t)=>{JE.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>ok(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function Hx(e){return new hk({type:"optional",innerType:e})}const l8=Te("ZodExactOptional",(e,t)=>{Bj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>ok(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function c8(e){return new l8({type:"optional",innerType:e})}const u8=Te("ZodNullable",(e,t)=>{Fj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>rz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function Wx(e){return new u8({type:"nullable",innerType:e})}const d8=Te("ZodDefault",(e,t)=>{Uj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>oz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function f8(e,t){return new d8({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():ME(t)}})}const h8=Te("ZodPrefault",(e,t)=>{$j.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>sz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function p8(e,t){return new h8({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():ME(t)}})}const pk=Te("ZodNonOptional",(e,t)=>{Zj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>iz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function m8(e,t){return new pk({type:"nonoptional",innerType:e,...tt(t)})}const g8=Te("ZodCatch",(e,t)=>{Hj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>az(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function y8(e,t){return new g8({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const v8=Te("ZodPipe",(e,t)=>{Wj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>lz(e,n,r,i),e.in=t.in,e.out=t.out});function Vx(e,t){return new v8({type:"pipe",in:e,out:t})}const w8=Te("ZodReadonly",(e,t)=>{Vj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>cz(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function _8(e){return new w8({type:"readonly",innerType:e})}const x8=Te("ZodCustom",(e,t)=>{qj.init(e,t),Qt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>GM(e,n)});function b8(e,t={}){return zM(x8,e,t)}function E8(e){return DM(e)}const k8={custom:"custom"};class bt{static id(){return Ot().regex(/^[0-9a-f]{64}$/)}static event(){return ko({id:bt.id(),kind:mo().int().nonnegative(),pubkey:bt.id(),tags:Ot().array().array(),content:Ot(),created_at:mo().int().nonnegative(),sig:Ot()}).required({id:!0,kind:!0,pubkey:!0,tags:!0,content:!0,created_at:!0,sig:!0})}static filter(){return Zx({kinds:mo().int().nonnegative().array().optional(),ids:bt.id().array().optional(),authors:bt.id().array().optional(),since:mo().int().nonnegative().optional(),until:mo().int().nonnegative().optional(),limit:mo().int().nonnegative().optional(),search:Ot().optional()}).transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[i,l])=>((n.includes(i)||i.startsWith("#"))&&(r[i]=l),r),{})})}static bech32(t){return Ot().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return Fu().regex(/^wss?:\/\//)}static clientEVENT(){return Wr([Vr("EVENT"),bt.event()])}static clientREQ(){return Wr([Vr("REQ"),Ot()]).rest(bt.filter())}static clientCOUNT(){return Wr([Vr("COUNT"),Ot()]).rest(bt.filter())}static clientCLOSE(){return Wr([Vr("CLOSE"),Ot()])}static clientAUTH(){return Wr([Vr("AUTH"),bt.event()])}static clientMsg(){return My([bt.clientEVENT(),bt.clientREQ(),bt.clientCOUNT(),bt.clientCLOSE(),bt.clientAUTH()])}static relayEVENT(){return Wr([Vr("EVENT"),Ot(),bt.event()])}static relayOK(){return Wr([Vr("OK"),bt.id(),$a(),Ot()])}static relayEOSE(){return Wr([Vr("EOSE"),Ot()])}static relayNOTICE(){return Wr([Vr("NOTICE"),Ot()])}static relayCLOSED(){return Wr([Vr("CLOSED"),Ot(),Ot()])}static relayAUTH(){return Wr([Vr("AUTH"),Ot()])}static relayCOUNT(){return Wr([Vr("COUNT"),Ot(),ko({count:mo().int().nonnegative(),approximate:$a().optional()})])}static relayMsg(){return My([bt.relayEVENT(),bt.relayOK(),bt.relayEOSE(),bt.relayNOTICE(),bt.relayCLOSED(),bt.relayAUTH(),bt.relayCOUNT()])}static metadata(){return Zx({about:Ot().optional().catch(void 0),banner:Fu().optional().catch(void 0),bot:$a().optional().catch(void 0),display_name:Ot().optional().catch(void 0),lud06:bt.bech32("lnurl").optional().catch(void 0),lud16:Fx().optional().catch(void 0),name:Ot().optional().catch(void 0),nip05:Fx().optional().catch(void 0),picture:Fu().optional().catch(void 0),website:Fu().optional().catch(void 0)})}static connectRequest(){return ko({id:Ot(),method:Ot(),params:Ot().array()})}static connectResponse(){return ko({id:Ot(),result:Ot(),error:Ot().optional()})}static json(){return Ot().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:k8.custom,message:"Invalid JSON"}),ZL}})}}class mk{constructor({relay:t,pubkey:n,signer:r,timeout:i,encryption:l="nip44"}){$e(this,"relay");$e(this,"pubkey");$e(this,"signer");$e(this,"timeout");$e(this,"encryption");$e(this,"nip04",{encrypt:async(t,n)=>this.cmd("nip04_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip04_decrypt",[t,n])});$e(this,"nip44",{encrypt:async(t,n)=>this.cmd("nip44_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip44_decrypt",[t,n])});this.relay=t,this.pubkey=n,this.signer=r,this.timeout=i,this.encryption=l}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(t){const n=await this.cmd("sign_event",[JSON.stringify(t)]);return bt.json().pipe(bt.event()).parse(n)}async getRelays(){const t=await this.cmd("get_relays",[]);return bt.json().pipe(i8(Ot(),ko({read:$a(),write:$a()}))).parse(t)}async connect(t){const n=[this.pubkey];return t&&n.push(t),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(t,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:i,error:l}=await this.send({id:crypto.randomUUID(),method:t,params:n},{signal:r});if(l)throw new Error(l);return i}async send(t,n={}){const{signal:r}=n,i=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(t)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),l=await this.signer.getPublicKey(),c=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[l]}],{signal:r}),u=new Promise((f,p)=>{(async()=>{try{for await(const g of c){if(g[0]==="CLOSED")throw new Error("Subscription closed");if(g[0]==="EVENT"){const m=g[2],b=await this.decrypt(this.pubkey,m.content),x=bt.json().pipe(bt.connectResponse()).parse(b);if(x.id===t.id){f(x);return}}}}catch(g){p(g)}})()});return await this.relay.event(i,{signal:r}),u}async encrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(t,n);case"nip44":return this.signer.nip44.encrypt(t,n)}}async decrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(t,n);case"nip44":return this.signer.nip44.decrypt(t,n)}}}const gk={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),gk[e]=t}function S8(e){let t="";for(let n=0;n<e.byteLength;n++)t+=gk[e[n]];return t}const yk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qx=Object.entries(yk).reduce((e,[t,n])=>(e[n]=Number(t),e),{}),C8=yk.split(""),ec=6,Wu=8,P8=63,T8=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let i=0;i<e.length;i+=4){let l=0,c=0;for(let p=i,g=i+3;p<=g;p++)if(e[p]!=="="){if(!(e[p]in qx))throw new TypeError(`Invalid character ${e[p]} in base64 string.`);l|=qx[e[p]]<<(g-p)*ec,c+=ec}else l>>=ec;const u=i/4*3;l>>=c%Wu;const f=Math.floor(c/Wu);for(let p=0;p<f;p++){const g=(f-p-1)*Wu;r.setUint8(u+p,(l&255<<g)>>g)}}return new Uint8Array(n)},N8=e=>new TextEncoder().encode(e);function A8(e){let t;typeof e=="string"?t=N8(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",r=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let l=0;l<t.length;l+=3){let c=0,u=0;for(let p=l,g=Math.min(l+3,t.length);p<g;p++)c|=t[p]<<(g-p-1)*Wu,u+=Wu;const f=Math.ceil(u/ec);c<<=f*ec-u;for(let p=1;p<=f;p++){const g=(f-p)*ec;i+=C8[(c&P8<<g)>>g]}i+="==".slice(0,4-f)}return i}class R8{static encodeEvent(t){return A8(JSON.stringify(t))}static decodeEvent(t){const n=T8(t),r=new TextDecoder().decode(n);return bt.json().pipe(bt.event()).parse(r)}}class I8{constructor(t){$e(this,"set");$e(this,"capacity");this.set=new Set,this.capacity=t}add(t){if(!this.set.has(t)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}[Symbol.iterator](){return this.set.values()}}var vc,wc,fd;class vk{constructor(t){et(this,vc,[]);et(this,wc);et(this,fd,!1);t!=null&&t.aborted?this.abort():t==null||t.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Symbol.asyncIterator](){for(;!ue(this,fd);){if(ue(this,vc).length){yield ue(this,vc).shift();continue}await new Promise(t=>{We(this,wc,t)})}throw new DOMException("The signal has been aborted","AbortError")}push(t){var n;ue(this,vc).push(t),(n=ue(this,wc))==null||n.call(this)}abort(){var t;We(this,fd,!0),(t=ue(this,wc))==null||t.call(this)}}vc=new WeakMap,wc=new WeakMap,fd=new WeakMap;class i0{constructor(t){$e(this,"_relays",new Map);$e(this,"opts");this.opts=t}relay(t){const n=this._relays.get(t);if(n)return n;{const r=this.opts.open(t);return this._relays.set(t,r),r}}group(t){return new i0({open:n=>this.relay(n),reqRouter:n=>new Map(t.map(r=>[r,n])),eventRouter:()=>t})}get relays(){return this._relays}async*req(t,n){const r=new AbortController,i=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,l=n!=null&&n.relays?new Map(n.relays.map(x=>[x,t])):await this.opts.reqRouter(t);if(l.size<1)return;const c=new vk(i),u=new Set,f=new Set,p=new I8(1e3),g=this.opts.eoseTimeout??1e3;let m;const b=[];for(const[x,k]of l.entries()){const _=this.relay(x),E=(async()=>{try{for await(const P of _.req(k,{signal:i}))if(P[0]==="EOSE"&&(u.add(x),u.size===1&&g>0&&m===void 0&&(m=setTimeout(()=>{r.abort()},g)),u.size===l.size&&c.push(P)),P[0]==="CLOSED"&&(f.add(x),f.size===l.size&&c.push(P)),P[0]==="EVENT"){const[,,T]=P;p.has(T.id)||(p.add(T.id),c.push(P))}}catch{}})();b.push(E)}try{for await(const x of c)yield x}finally{m!==void 0&&clearTimeout(m),r.abort(),await Promise.allSettled(b)}}async event(t,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(t);r.length&&await Promise.any(r.map(i=>this.relay(i).event(t,n)))}async query(t,n){const r=new Map,i=new Nh(r);if(t.reduce((c,u)=>c+q2(u),0)===0)return[];try{for await(const c of this.req(t,n))if(c[0]==="EOSE"||(c[0]==="EVENT"&&i.add(c[2]),c[0]==="CLOSED"))break}catch{}return t.some(c=>typeof c.search=="string")?[...r.values()]:[...i]}async close(){await Promise.all([...this._relays.values()].map(t=>t.close()))}async[Symbol.asyncDispose](){await this.close()}}class L8{constructor(t,n){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class O8{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var Ft;(function(e){e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect"})(Ft||(Ft={}));class j8{constructor(t,n,r){var i,l,c,u,f,p,g,m,b,x,k,_,E,P,T;this._closedByUser=!1,this.handleOpenEvent=I=>this.handleEvent(Ft.open,I),this.handleErrorEvent=I=>this.handleEvent(Ft.error,I),this.handleCloseEvent=I=>this.handleEvent(Ft.close,I),this.handleMessageEvent=I=>this.handleEvent(Ft.message,I),this._url=t,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.maxRetries,instantReconnect:(l=r==null?void 0:r.retry)===null||l===void 0?void 0:l.instantReconnect,backoff:(c=r==null?void 0:r.retry)===null||c===void 0?void 0:c.backoff},listeners:{open:[...(f=(u=r==null?void 0:r.listeners)===null||u===void 0?void 0:u.open)!==null&&f!==void 0?f:[]],close:[...(g=(p=r==null?void 0:r.listeners)===null||p===void 0?void 0:p.close)!==null&&g!==void 0?g:[]],error:[...(b=(m=r==null?void 0:r.listeners)===null||m===void 0?void 0:m.error)!==null&&b!==void 0?b:[]],message:[...(k=(x=r==null?void 0:r.listeners)===null||x===void 0?void 0:x.message)!==null&&k!==void 0?k:[]],retry:[...(E=(_=r==null?void 0:r.listeners)===null||_===void 0?void 0:_.retry)!==null&&E!==void 0?E:[]],reconnect:[...(T=(P=r==null?void 0:r.listeners)===null||P===void 0?void 0:P.reconnect)!==null&&T!==void 0?T:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):this.buffer!==void 0&&this.buffer.add(t))}close(t,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,n)}addEventListener(t,n,r){this._options.listeners[t].push({listener:n,options:r})}removeEventListener(t,n,r){const i=l=>l.listener!==n||l.options!==r;this._options.listeners[t]=this._options.listeners[t].filter(i)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(Ft.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(Ft.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(Ft.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(Ft.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(Ft.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(Ft.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(Ft.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(Ft.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,n){const r=this._options.listeners[t],i=[];r.forEach(({listener:l,options:c})=>{l(this,n),(c===void 0||c.once===void 0||!c.once)&&i.push({listener:l,options:c})}),this._options.listeners[t]=i}handleEvent(t,n){switch(t){case Ft.close:this.dispatchEvent(t,n),this.scheduleConnectionRetryIfNeeded();break;case Ft.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},i=new CustomEvent(Ft.reconnect,{detail:r});this.dispatchEvent(Ft.reconnect,i),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,n),this.sendBufferedData();break;case Ft.retry:this.dispatchEvent(t,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let t=this.buffer.read();t!==void 0;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const t=r=>{const i=new CustomEvent(Ft.retry,{detail:r});this.handleEvent(Ft.retry,i)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class M8{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:t})}),this}get maxRetries(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:t})}),this}get backoff(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return(t=this._options)===null||t===void 0?void 0:t.buffer}onOpen(t,n){return this.addListener(Ft.open,t,n),this}onClose(t,n){return this.addListener(Ft.close,t,n),this}onError(t,n){return this.addListener(Ft.error,t,n),this}onMessage(t,n){return this.addListener(Ft.message,t,n),this}onRetry(t,n){return this.addListener(Ft.retry,t,n),this}onReconnect(t,n){return this.addListener(Ft.reconnect,t,n),this}build(){return new j8(this._url,this._protocols,this._options)}addListener(t,n,r){var i,l,c,u,f,p,g,m,b,x,k,_,E,P,T,I,D,B,q,G,J;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(c=(l=(i=this._options)===null||i===void 0?void 0:i.listeners)===null||l===void 0?void 0:l.open)!==null&&c!==void 0?c:[],close:(p=(f=(u=this._options)===null||u===void 0?void 0:u.listeners)===null||f===void 0?void 0:f.close)!==null&&p!==void 0?p:[],error:(b=(m=(g=this._options)===null||g===void 0?void 0:g.listeners)===null||m===void 0?void 0:m.error)!==null&&b!==void 0?b:[],message:(_=(k=(x=this._options)===null||x===void 0?void 0:x.listeners)===null||k===void 0?void 0:k.message)!==null&&_!==void 0?_:[],retry:(T=(P=(E=this._options)===null||E===void 0?void 0:E.listeners)===null||P===void 0?void 0:P.retry)!==null&&T!==void 0?T:[],reconnect:(B=(D=(I=this._options)===null||I===void 0?void 0:I.listeners)===null||D===void 0?void 0:D.reconnect)!==null&&B!==void 0?B:[],[t]:[...(J=(G=(q=this._options)===null||q===void 0?void 0:q.listeners)===null||G===void 0?void 0:G[t])!==null&&J!==void 0?J:[],{listener:n,options:r}]}}),this}}class z8{constructor(t,n={}){$e(this,"socket");$e(this,"subs",new Map);$e(this,"closedByUser",!1);$e(this,"idleTimer");$e(this,"controller",new AbortController);$e(this,"url");$e(this,"opts");$e(this,"ee",new EventTarget);this.url=t,this.opts=n,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(t){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...t,url:this.url})}createSocket(){const{backoff:t=new L8(1e3)}=this.opts;return new M8(this.url).withBuffer(new O8).withBackoff(t===!1?void 0:t).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const i=bt.json().pipe(bt.relayMsg()).safeParse(r.data);i.success?(this.log({level:"trace",ns:"relay.ws.message",data:i.data}),this.receive(i.data)):this.log({level:"warn",ns:"relay.ws.message",error:i.error})}).build()}receive(t){const{auth:n,verifyEvent:r=md}=this.opts;switch(t[0]){case"EVENT":if(!r(t[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"CLOSED":this.subs.delete(t[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t})),this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${t[1]}`,{detail:t}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:t}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"AUTH":n==null||n(t[1]).then(i=>this.send(["AUTH",i])).catch(()=>{})}}send(t){switch(this.log({level:"trace",ns:"relay.ws.send",data:t}),this.wake(),t[0]){case"REQ":this.subs.set(t[1],t);break;case"CLOSE":this.subs.delete(t[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}async*req(t,n={}){const{signal:r}=n,i=crypto.randomUUID(),l=this.on(`sub:${i}`,r),c=["REQ",i,...t];this.send(c);try{for await(const u of l){if(u[0]==="EOSE"&&(yield u),u[0]==="CLOSED")break;if(u[0]==="EVENT")if(V2(t,u[2]))yield u;else continue}}finally{this.send(["CLOSE",i])}}async query(t,n){const r=new Nh,i=t.reduce((l,c)=>l+q2(c),0);if(i===0)return[];for await(const l of this.req(t,n)){if(l[0]==="EOSE")break;if(l[0]==="EVENT"&&r.add(l[2]),l[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=i)break}return[...r]}async event(t,n){const r=this.once(`ok:${t.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",t])}catch(c){throw r.catch(()=>{}),c}const[,,i,l]=await r;if(!i)throw new Error(l)}async count(t,n){const r=crypto.randomUUID(),i=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...t])}catch(c){throw i.catch(()=>{}),c}const l=await i;switch(l[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,c]=l;return c}}throw new Error("Count ended -- this should never happen")}async*on(t,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const i=new vk(r),l=c=>i.push(c.detail);this.ee.addEventListener(t,l);try{for await(const c of i)yield c}finally{this.ee.removeEventListener(t,l)}}async once(t,n){for await(const r of this.on(t,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:t=3e4}=this.opts;t!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:t}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:t}),this.socket.close()},t)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(t=>{this.socket.addEventListener(Ft.close,t,{once:!0})})}async[Symbol.asyncDispose](){await this.close()}}var vo,hd,By;class Dy{constructor(t){et(this,hd);et(this,vo);$e(this,"pubkey");$e(this,"nip04",{encrypt:async(t,n)=>Ju.encrypt(ue(this,vo),t,n),decrypt:async(t,n)=>Ju.decrypt(ue(this,vo),t,n)});$e(this,"nip44",{encrypt:async(t,n)=>{const r=mt(this,hd,By).call(this,t);return zs.v2.encrypt(n,r)},decrypt:async(t,n)=>{const r=mt(this,hd,By).call(this,t);return zs.v2.decrypt(n,r)}});We(this,vo,t)}async getPublicKey(){return this.pubkey??(this.pubkey=Hs(ue(this,vo)))}async signEvent(t){return Jr(t,ue(this,vo))}}vo=new WeakMap,hd=new WeakSet,By=function(t){return zs.v2.utils.getConversationKey(ue(this,vo),t)};const wk=R.createContext(void 0);function Lo(){const e=R.useContext(wk);if(!e)throw new Error("useNostr must be used within a NostrProvider");return e}class Za{constructor(t,n,r){$e(this,"id");$e(this,"type");$e(this,"pubkey");$e(this,"createdAt");$e(this,"data");this.id=`${t}:${n}`,this.type=t,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(t){const n=Xn.decode(t);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,i=Hs(r);return new Za("nsec",i,{nsec:Xn.nsecEncode(r)})}static async fromBunker(t,n){const{pubkey:r,secret:i,relays:l}=new Zu(t);if(!l.length)throw new Error("No relay provided");const c=rp(),u=Xn.nsecEncode(c),f=new Dy(c),p=new mk({relay:n.group(l),pubkey:r,signer:f,timeout:6e4});await p.connect(i);const g=await p.getPublicKey();return new Za("bunker",g,{bunkerPubkey:r,clientNsec:u,relays:l})}static async fromExtension(){const t=globalThis.nostr;if(!t)throw new Error("Nostr extension is not available");const n=await t.getPublicKey();return new Za("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const _k=R.createContext(void 0);function D8(e,t){switch(t.type){case"login.add":{const n=e.filter(r=>r.id!==t.login.id);return t.set?[t.login,...n]:[...n,t.login]}case"login.remove":return e.filter(n=>n.id!==t.id);case"login.set":{const n=e.find(i=>i.id===t.id);if(!n)return e;const r=e.filter(i=>i.id!==t.id);return[n,...r]}case"login.clear":return[];default:return e}}function B8(e){const[t,n]=R.useReducer(D8,[],()=>{const r=localStorage.getItem(e);return r?JSON.parse(r):[]});return R.useEffect(()=>{localStorage.setItem(e,JSON.stringify(t))},[t]),[t,n]}const F8=({children:e,storageKey:t})=>{const[n,r]=B8(t),i={logins:n,addLogin:l=>r({type:"login.add",login:l}),removeLogin:l=>r({type:"login.remove",id:l}),setLogin:l=>r({type:"login.set",id:l}),clearLogins:()=>r({type:"login.clear"})};return v.jsx(_k.Provider,{value:i,children:e})};class Ha{constructor(t,n,r){this.method=t,this.pubkey=n,this.signer=r}static fromNsecLogin(t){const n=Xn.decode(t.data.nsec);return new Ha(t.type,t.pubkey,new Dy(n.data))}static fromBunkerLogin(t,n){const r=Xn.decode(t.data.clientNsec),i=new Dy(r.data);return new Ha(t.type,t.pubkey,new mk({relay:n.group(t.data.relays),pubkey:t.pubkey,signer:i,timeout:6e4}))}static fromExtensionLogin(t){return new Ha(t.type,t.pubkey,new fR)}}function o0(){const e=R.useContext(_k);if(!e)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return e}const xk=R.createContext(void 0);function bk(){const e=R.useContext(xk);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const U8=e=>{const{children:t}=e,{config:n}=bk(),r=wv(),i=R.useRef(void 0),l=R.useRef(n.relayMetadata);return R.useEffect(()=>{l.current=n.relayMetadata,r.invalidateQueries({queryKey:["nostr"]})},[n.relayMetadata,r]),i.current||(i.current=new i0({open(c){return new z8(c)},reqRouter(c){const u=new Map,f=l.current.relays.filter(p=>p.read).map(p=>p.url);for(const p of f)u.set(p,c);return u},eventRouter(c){const u=l.current.relays.filter(p=>p.write).map(p=>p.url);return[...new Set(u)]}})),v.jsx(wk.Provider,{value:{nostr:i.current},children:t})};function Ek(e){const{nostr:t}=Lo();return Ra({queryKey:["author",e??""],queryFn:async({signal:n})=>{if(!e)return{};const[r]=await t.query([{kinds:[0],authors:[e],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!r)throw new Error("No event found");try{return{metadata:bt.json().pipe(bt.metadata()).parse(r.content),event:r}}catch{return{event:r}}},staleTime:5*60*1e3,retry:3})}function pp(){const{nostr:e}=Lo(),{logins:t}=o0(),n=R.useCallback(c=>{switch(c.type){case"nsec":return Ha.fromNsecLogin(c);case"bunker":return Ha.fromBunkerLogin(c,e);case"extension":return Ha.fromExtensionLogin(c);default:throw new Error(`Unsupported login type: ${c.type}`)}},[e]),r=R.useMemo(()=>{const c=[];for(const u of t)try{const f=n(u);c.push(f)}catch(f){console.warn("Skipped invalid login",u.id,f)}return c},[t,n]),i=r[0],l=Ek(i==null?void 0:i.pubkey);return{user:i,users:r,...l.data}}function $8(){const{nostr:e}=Lo(),{user:t}=pp(),{config:n,updateConfig:r}=bk();return R.useEffect(()=>{if(!t)return;(async()=>{try{const l=await e.query([{kinds:[10002],authors:[t.pubkey],limit:1}],{signal:AbortSignal.timeout(5e3)});if(l.length>0){const c=l[0];if(c.created_at>n.relayMetadata.updatedAt){const u=c.tags.filter(([f])=>f==="r").map(([f,p,g])=>({url:p,read:!g||g==="read",write:!g||g==="write"}));u.length>0&&(console.log("Syncing relay list from Nostr:",u),r(f=>({...f,relayMetadata:{relays:u,updatedAt:c.created_at}})))}}}catch(l){console.error("Failed to sync relays from Nostr:",l)}})()},[t,n.relayMetadata.updatedAt,e,r]),null}const Z8=1,H8=1e6;let Ig=0;function W8(){return Ig=(Ig+1)%Number.MAX_SAFE_INTEGER,Ig.toString()}const Lg=new Map,Kx=e=>{if(Lg.has(e))return;const t=setTimeout(()=>{Lg.delete(e),Vu({type:"REMOVE_TOAST",toastId:e})},H8);Lg.set(e,t)},V8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Z8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Kx(n):e.toasts.forEach(r=>{Kx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ph=[];let mh={toasts:[]};function Vu(e){mh=V8(mh,e),ph.forEach(t=>{t(mh)})}function ql({...e}){const t=W8(),n=i=>Vu({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Vu({type:"DISMISS_TOAST",toastId:t});return Vu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function gd(){const[e,t]=R.useState(mh);return R.useEffect(()=>(ph.push(t),()=>{const n=ph.indexOf(t);n>-1&&ph.splice(n,1)}),[e]),{...e,toast:ql,dismiss:n=>Vu({type:"DISMISS_TOAST",toastId:n})}}var mp=b1();const q8=qh(mp);function qe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Gx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gp(...e){return t=>{let n=!1;const r=e.map(i=>{const l=Gx(i,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<r.length;i++){const l=r[i];typeof l=="function"?l():Gx(e[i],null)}}}}function Tt(...e){return R.useCallback(gp(...e),e)}function K8(e,t){const n=R.createContext(t),r=l=>{const{children:c,...u}=l,f=R.useMemo(()=>u,Object.values(u));return v.jsx(n.Provider,{value:f,children:c})};r.displayName=e+"Provider";function i(l){const c=R.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[r,i]}function er(e,t=[]){let n=[];function r(l,c){const u=R.createContext(c),f=n.length;n=[...n,c];const p=m=>{var P;const{scope:b,children:x,...k}=m,_=((P=b==null?void 0:b[e])==null?void 0:P[f])||u,E=R.useMemo(()=>k,Object.values(k));return v.jsx(_.Provider,{value:E,children:x})};p.displayName=l+"Provider";function g(m,b){var _;const x=((_=b==null?void 0:b[e])==null?void 0:_[f])||u,k=R.useContext(x);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${l}\``)}return[p,g]}const i=()=>{const l=n.map(c=>R.createContext(c));return function(u){const f=(u==null?void 0:u[e])||l;return R.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return i.scopeName=e,[r,G8(i,...t)]}function G8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=r.reduce((u,{useScope:f,scopeName:p})=>{const m=f(l)[`__scope${p}`];return{...u,...m}},{});return R.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function Sc(e){const t=J8(e),n=R.forwardRef((r,i)=>{const{children:l,...c}=r,u=R.Children.toArray(l),f=u.find(X8);if(f){const p=f.props.children,g=u.map(m=>m===f?R.Children.count(p)>1?R.Children.only(null):R.isValidElement(p)?p.props.children:null:m);return v.jsx(t,{...c,ref:i,children:R.isValidElement(p)?R.cloneElement(p,void 0,g):null})}return v.jsx(t,{...c,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}var Y8=Sc("Slot");function J8(e){const t=R.forwardRef((n,r)=>{const{children:i,...l}=n;if(R.isValidElement(i)){const c=t5(i),u=e5(l,i.props);return i.type!==R.Fragment&&(u.ref=r?gp(r,c):c),R.cloneElement(i,u)}return R.Children.count(i)>1?R.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kk=Symbol("radix.slottable");function Q8(e){const t=({children:n})=>v.jsx(v.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=kk,t}function X8(e){return R.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kk}function e5(e,t){const n={...t};for(const r in t){const i=e[r],l=t[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...u)=>{l(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function t5(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function yp(e){const t=e+"CollectionProvider",[n,r]=er(t),[i,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=_=>{const{scope:E,children:P}=_,T=Es.useRef(null),I=Es.useRef(new Map).current;return v.jsx(i,{scope:E,itemMap:I,collectionRef:T,children:P})};c.displayName=t;const u=e+"CollectionSlot",f=Sc(u),p=Es.forwardRef((_,E)=>{const{scope:P,children:T}=_,I=l(u,P),D=Tt(E,I.collectionRef);return v.jsx(f,{ref:D,children:T})});p.displayName=u;const g=e+"CollectionItemSlot",m="data-radix-collection-item",b=Sc(g),x=Es.forwardRef((_,E)=>{const{scope:P,children:T,...I}=_,D=Es.useRef(null),B=Tt(E,D),q=l(g,P);return Es.useEffect(()=>(q.itemMap.set(D,{ref:D,...I}),()=>void q.itemMap.delete(D))),v.jsx(b,{[m]:"",ref:B,children:T})});x.displayName=g;function k(_){const E=l(e+"CollectionConsumer",_);return Es.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const I=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((q,G)=>I.indexOf(q.ref.current)-I.indexOf(G.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:c,Slot:p,ItemSlot:x},k,r]}var n5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=n5.reduce((e,t)=>{const n=Sc(`Primitive.${t}`),r=R.forwardRef((i,l)=>{const{asChild:c,...u}=i,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(f,{...u,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function s0(e,t){e&&mp.flushSync(()=>e.dispatchEvent(t))}function hr(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),R.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function r5(e,t=globalThis==null?void 0:globalThis.document){const n=hr(e);R.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var i5="DismissableLayer",Fy="dismissableLayer.update",o5="dismissableLayer.pointerDownOutside",s5="dismissableLayer.focusOutside",Yx,Sk=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yd=R.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...f}=e,p=R.useContext(Sk),[g,m]=R.useState(null),b=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=R.useState({}),k=Tt(t,G=>m(G)),_=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),P=_.indexOf(E),T=g?_.indexOf(g):-1,I=p.layersWithOutsidePointerEventsDisabled.size>0,D=T>=P,B=l5(G=>{const J=G.target,V=[...p.branches].some(Y=>Y.contains(J));!D||V||(i==null||i(G),c==null||c(G),G.defaultPrevented||u==null||u())},b),q=c5(G=>{const J=G.target;[...p.branches].some(Y=>Y.contains(J))||(l==null||l(G),c==null||c(G),G.defaultPrevented||u==null||u())},b);return r5(G=>{T===p.layers.size-1&&(r==null||r(G),!G.defaultPrevented&&u&&(G.preventDefault(),u()))},b),R.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Yx=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Jx(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Yx)}},[g,b,n,p]),R.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Jx())},[g,p]),R.useEffect(()=>{const G=()=>x({});return document.addEventListener(Fy,G),()=>document.removeEventListener(Fy,G)},[]),v.jsx(st.div,{...f,ref:k,style:{pointerEvents:I?D?"auto":"none":void 0,...e.style},onFocusCapture:qe(e.onFocusCapture,q.onFocusCapture),onBlurCapture:qe(e.onBlurCapture,q.onBlurCapture),onPointerDownCapture:qe(e.onPointerDownCapture,B.onPointerDownCapture)})});yd.displayName=i5;var a5="DismissableLayerBranch",Ck=R.forwardRef((e,t)=>{const n=R.useContext(Sk),r=R.useRef(null),i=Tt(t,r);return R.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),v.jsx(st.div,{...e,ref:i})});Ck.displayName=a5;function l5(e,t=globalThis==null?void 0:globalThis.document){const n=hr(e),r=R.useRef(!1),i=R.useRef(()=>{});return R.useEffect(()=>{const l=u=>{if(u.target&&!r.current){let f=function(){Pk(o5,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}else t.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function c5(e,t=globalThis==null?void 0:globalThis.document){const n=hr(e),r=R.useRef(!1);return R.useEffect(()=>{const i=l=>{l.target&&!r.current&&Pk(s5,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jx(){const e=new CustomEvent(Fy);document.dispatchEvent(e)}function Pk(e,t,n,{discrete:r}){const i=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?s0(i,l):i.dispatchEvent(l)}var u5=yd,d5=Ck,Nr=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},f5="Portal",vp=R.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,l]=R.useState(!1);Nr(()=>l(!0),[]);const c=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?q8.createPortal(v.jsx(st.div,{...r,ref:t}),c):null});vp.displayName=f5;function h5(e,t){return R.useReducer((n,r)=>t[n][r]??n,e)}var Ar=e=>{const{present:t,children:n}=e,r=p5(t),i=typeof n=="function"?n({present:r.isPresent}):R.Children.only(n),l=Tt(r.ref,m5(i));return typeof n=="function"||r.isPresent?R.cloneElement(i,{ref:l}):null};Ar.displayName="Presence";function p5(e){const[t,n]=R.useState(),r=R.useRef(null),i=R.useRef(e),l=R.useRef("none"),c=e?"mounted":"unmounted",[u,f]=h5(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const p=rh(r.current);l.current=u==="mounted"?p:"none"},[u]),Nr(()=>{const p=r.current,g=i.current;if(g!==e){const b=l.current,x=rh(p);e?f("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(g&&b!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),Nr(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,m=x=>{const _=rh(r.current).includes(x.animationName);if(x.target===t&&_&&(f("ANIMATION_END"),!i.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},b=x=>{x.target===t&&(l.current=rh(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:R.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function rh(e){return(e==null?void 0:e.animationName)||"none"}function m5(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var g5=pv[" useInsertionEffect ".trim().toString()]||Nr;function Oo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,l,c]=y5({defaultProp:t,onChange:n}),u=e!==void 0,f=u?e:i;{const g=R.useRef(e!==void 0);R.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const p=R.useCallback(g=>{var m;if(u){const b=v5(g)?g(e):g;b!==e&&((m=c.current)==null||m.call(c,b))}else l(g)},[u,e,l,c]);return[f,p]}function y5({defaultProp:e,onChange:t}){const[n,r]=R.useState(e),i=R.useRef(n),l=R.useRef(t);return g5(()=>{l.current=t},[t]),R.useEffect(()=>{var c;i.current!==n&&((c=l.current)==null||c.call(l,n),i.current=n)},[n,i]),[n,r,l]}function v5(e){return typeof e=="function"}var w5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_5="VisuallyHidden",wp=R.forwardRef((e,t)=>v.jsx(st.span,{...e,ref:t,style:{...w5,...e.style}}));wp.displayName=_5;var x5=wp,a0="ToastProvider",[l0,b5,E5]=yp("Toast"),[Tk,MZ]=er("Toast",[E5]),[k5,_p]=Tk(a0),Nk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:l=50,children:c}=e,[u,f]=R.useState(null),[p,g]=R.useState(0),m=R.useRef(!1),b=R.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${a0}\`. Expected non-empty \`string\`.`),v.jsx(l0.Provider,{scope:t,children:v.jsx(k5,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:l,toastCount:p,viewport:u,onViewportChange:f,onToastAdd:R.useCallback(()=>g(x=>x+1),[]),onToastRemove:R.useCallback(()=>g(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:b,children:c})})};Nk.displayName=a0;var Ak="ToastViewport",S5=["F8"],Uy="toast.viewportPause",$y="toast.viewportResume",Rk=R.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=S5,label:i="Notifications ({hotkey})",...l}=e,c=_p(Ak,n),u=b5(n),f=R.useRef(null),p=R.useRef(null),g=R.useRef(null),m=R.useRef(null),b=Tt(t,m,c.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=c.toastCount>0;R.useEffect(()=>{const E=P=>{var I;r.length!==0&&r.every(D=>P[D]||P.code===D)&&((I=m.current)==null||I.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),R.useEffect(()=>{const E=f.current,P=m.current;if(k&&E&&P){const T=()=>{if(!c.isClosePausedRef.current){const q=new CustomEvent(Uy);P.dispatchEvent(q),c.isClosePausedRef.current=!0}},I=()=>{if(c.isClosePausedRef.current){const q=new CustomEvent($y);P.dispatchEvent(q),c.isClosePausedRef.current=!1}},D=q=>{!E.contains(q.relatedTarget)&&I()},B=()=>{E.contains(document.activeElement)||I()};return E.addEventListener("focusin",T),E.addEventListener("focusout",D),E.addEventListener("pointermove",T),E.addEventListener("pointerleave",B),window.addEventListener("blur",T),window.addEventListener("focus",I),()=>{E.removeEventListener("focusin",T),E.removeEventListener("focusout",D),E.removeEventListener("pointermove",T),E.removeEventListener("pointerleave",B),window.removeEventListener("blur",T),window.removeEventListener("focus",I)}}},[k,c.isClosePausedRef]);const _=R.useCallback(({tabbingDirection:E})=>{const T=u().map(I=>{const D=I.ref.current,B=[D,...D5(D)];return E==="forwards"?B:B.reverse()});return(E==="forwards"?T.reverse():T).flat()},[u]);return R.useEffect(()=>{const E=m.current;if(E){const P=T=>{var B,q,G;const I=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!I){const J=document.activeElement,V=T.shiftKey;if(T.target===E&&V){(B=p.current)==null||B.focus();return}const U=_({tabbingDirection:V?"backwards":"forwards"}),re=U.findIndex(M=>M===J);Og(U.slice(re+1))?T.preventDefault():V?(q=p.current)==null||q.focus():(G=g.current)==null||G.focus()}};return E.addEventListener("keydown",P),()=>E.removeEventListener("keydown",P)}},[u,_]),v.jsxs(d5,{ref:f,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&v.jsx(Zy,{ref:p,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"forwards"});Og(E)}}),v.jsx(l0.Slot,{scope:n,children:v.jsx(st.ol,{tabIndex:-1,...l,ref:b})}),k&&v.jsx(Zy,{ref:g,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"backwards"});Og(E)}})]})});Rk.displayName=Ak;var Ik="ToastFocusProxy",Zy=R.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,l=_p(Ik,n);return v.jsx(wp,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:c=>{var p;const u=c.relatedTarget;!((p=l.viewport)!=null&&p.contains(u))&&r()}})});Zy.displayName=Ik;var vd="Toast",C5="toast.swipeStart",P5="toast.swipeMove",T5="toast.swipeCancel",N5="toast.swipeEnd",Lk=R.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:l,...c}=e,[u,f]=Oo({prop:r,defaultProp:i??!0,onChange:l,caller:vd});return v.jsx(Ar,{present:n||u,children:v.jsx(I5,{open:u,...c,ref:t,onClose:()=>f(!1),onPause:hr(e.onPause),onResume:hr(e.onResume),onSwipeStart:qe(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(e.onSwipeMove,p=>{const{x:g,y:m}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:qe(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(e.onSwipeEnd,p=>{const{x:g,y:m}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),f(!1)})})})});Lk.displayName=vd;var[A5,R5]=Tk(vd,{onClose(){}}),I5=R.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:l,onClose:c,onEscapeKeyDown:u,onPause:f,onResume:p,onSwipeStart:g,onSwipeMove:m,onSwipeCancel:b,onSwipeEnd:x,...k}=e,_=_p(vd,n),[E,P]=R.useState(null),T=Tt(t,M=>P(M)),I=R.useRef(null),D=R.useRef(null),B=i||_.duration,q=R.useRef(0),G=R.useRef(B),J=R.useRef(0),{onToastAdd:V,onToastRemove:Y}=_,Q=hr(()=>{var W;(E==null?void 0:E.contains(document.activeElement))&&((W=_.viewport)==null||W.focus()),c()}),U=R.useCallback(M=>{!M||M===1/0||(window.clearTimeout(J.current),q.current=new Date().getTime(),J.current=window.setTimeout(Q,M))},[Q]);R.useEffect(()=>{const M=_.viewport;if(M){const W=()=>{U(G.current),p==null||p()},ae=()=>{const oe=new Date().getTime()-q.current;G.current=G.current-oe,window.clearTimeout(J.current),f==null||f()};return M.addEventListener(Uy,ae),M.addEventListener($y,W),()=>{M.removeEventListener(Uy,ae),M.removeEventListener($y,W)}}},[_.viewport,B,f,p,U]),R.useEffect(()=>{l&&!_.isClosePausedRef.current&&U(B)},[l,B,_.isClosePausedRef,U]),R.useEffect(()=>(V(),()=>Y()),[V,Y]);const re=R.useMemo(()=>E?Fk(E):null,[E]);return _.viewport?v.jsxs(v.Fragment,{children:[re&&v.jsx(L5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:re}),v.jsx(A5,{scope:n,onClose:Q,children:mp.createPortal(v.jsx(l0.ItemSlot,{scope:n,children:v.jsx(u5,{asChild:!0,onEscapeKeyDown:qe(u,()=>{_.isFocusedToastEscapeKeyDownRef.current||Q(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(st.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":_.swipeDirection,...k,ref:T,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:qe(e.onKeyDown,M=>{M.key==="Escape"&&(u==null||u(M.nativeEvent),M.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:qe(e.onPointerDown,M=>{M.button===0&&(I.current={x:M.clientX,y:M.clientY})}),onPointerMove:qe(e.onPointerMove,M=>{if(!I.current)return;const W=M.clientX-I.current.x,ae=M.clientY-I.current.y,oe=!!D.current,ne=["left","right"].includes(_.swipeDirection),ee=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,le=ne?ee(0,W):0,F=ne?0:ee(0,ae),K=M.pointerType==="touch"?10:2,Ce={x:le,y:F},be={originalEvent:M,delta:Ce};oe?(D.current=Ce,ih(P5,m,be,{discrete:!1})):Qx(Ce,_.swipeDirection,K)?(D.current=Ce,ih(C5,g,be,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(W)>K||Math.abs(ae)>K)&&(I.current=null)}),onPointerUp:qe(e.onPointerUp,M=>{const W=D.current,ae=M.target;if(ae.hasPointerCapture(M.pointerId)&&ae.releasePointerCapture(M.pointerId),D.current=null,I.current=null,W){const oe=M.currentTarget,ne={originalEvent:M,delta:W};Qx(W,_.swipeDirection,_.swipeThreshold)?ih(N5,x,ne,{discrete:!0}):ih(T5,b,ne,{discrete:!0}),oe.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),L5=e=>{const{__scopeToast:t,children:n,...r}=e,i=_p(vd,t),[l,c]=R.useState(!1),[u,f]=R.useState(!1);return M5(()=>c(!0)),R.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),u?null:v.jsx(vp,{asChild:!0,children:v.jsx(wp,{...r,children:l&&v.jsxs(v.Fragment,{children:[i.label," ",n]})})})},O5="ToastTitle",Ok=R.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return v.jsx(st.div,{...r,ref:t})});Ok.displayName=O5;var j5="ToastDescription",jk=R.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return v.jsx(st.div,{...r,ref:t})});jk.displayName=j5;var Mk="ToastAction",zk=R.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?v.jsx(Bk,{altText:n,asChild:!0,children:v.jsx(c0,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Mk}\`. Expected non-empty \`string\`.`),null)});zk.displayName=Mk;var Dk="ToastClose",c0=R.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=R5(Dk,n);return v.jsx(Bk,{asChild:!0,children:v.jsx(st.button,{type:"button",...r,ref:t,onClick:qe(e.onClick,i.onClose)})})});c0.displayName=Dk;var Bk=R.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return v.jsx(st.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Fk(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),z5(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!i)if(l){const c=r.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...Fk(r))}}),t}function ih(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?s0(i,l):i.dispatchEvent(l)}var Qx=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),l=r>i;return t==="left"||t==="right"?l&&r>n:!l&&i>n};function M5(e=()=>{}){const t=hr(e);Nr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function z5(e){return e.nodeType===e.ELEMENT_NODE}function D5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Og(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var B5=Nk,Uk=Rk,$k=Lk,Zk=Ok,Hk=jk,Wk=zk,Vk=c0;function qk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=qk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Kk(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=qk(e))&&(r&&(r+=" "),r+=t);return r}const Xx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,eb=Kk,wd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return eb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:l}=t,c=Object.keys(i).map(p=>{const g=n==null?void 0:n[p],m=l==null?void 0:l[p];if(g===null)return null;const b=Xx(g)||Xx(m);return i[p][b]}),u=n&&Object.entries(n).reduce((p,g)=>{let[m,b]=g;return b===void 0||(p[m]=b),p},{}),f=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:m,className:b,...x}=g;return Object.entries(x).every(k=>{let[_,E]=k;return Array.isArray(E)?E.includes({...l,...u}[_]):{...l,...u}[_]===E})?[...p,m,b]:p},[]);return eb(e,c,f,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=R.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:c,...u},f)=>R.createElement("svg",{ref:f,...U5,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Gk("lucide",i),...u},[...c.map(([p,g])=>R.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(e,t)=>{const n=R.forwardRef(({className:r,...i},l)=>R.createElement($5,{ref:l,iconNode:t,className:Gk(`lucide-${F5(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=Nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=Nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=Nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Nt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=Nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=Nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=Nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=Nt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=Nt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=Nt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=Nt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=Nt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=Nt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=Nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Nt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=Nt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=Nt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Nt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Nt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=Nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Nt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=Nt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=Nt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=Nt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Nt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=Nt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=Nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Nt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),u0="-",a6=e=>{const t=c6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{const u=c.split(u0);return u[0]===""&&u.length!==1&&u.shift(),rS(u,t)||l6(c)},getConflictingClassGroupIds:(c,u)=>{const f=n[c]||[];return u&&r[c]?[...f,...r[c]]:f}}},rS=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?rS(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const l=e.join(u0);return(c=t.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},nb=/^\[(.+)\]$/,l6=e=>{if(nb.test(e)){const t=nb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},c6=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return d6(Object.entries(e.classGroups),n).forEach(([l,c])=>{qy(c,r,l,t)}),r},qy=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const l=i===""?t:rb(t,i);l.classGroupId=n;return}if(typeof i=="function"){if(u6(i)){qy(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,c])=>{qy(c,rb(t,l),n,r)})})},rb=(e,t)=>{let n=e;return t.split(u0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},u6=e=>e.isThemeGetter,d6=(e,t)=>t?e.map(([n,r])=>{const i=r.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,u])=>[t+c,u])):l);return[n,i]}):e,f6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(l,c)=>{n.set(l,c),t++,t>e&&(t=0,r=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return i(l,c),c},set(l,c){n.has(l)?n.set(l,c):i(l,c)}}},iS="!",h6=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],l=t.length,c=u=>{const f=[];let p=0,g=0,m;for(let E=0;E<u.length;E++){let P=u[E];if(p===0){if(P===i&&(r||u.slice(E,E+l)===t)){f.push(u.slice(g,E)),g=E+l;continue}if(P==="/"){m=E;continue}}P==="["?p++:P==="]"&&p--}const b=f.length===0?u:u.substring(g),x=b.startsWith(iS),k=x?b.substring(1):b,_=m&&m>g?m-g:void 0;return{modifiers:f,hasImportantModifier:x,baseClassName:k,maybePostfixModifierPosition:_}};return n?u=>n({className:u,parseClassName:c}):c},p6=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},m6=e=>({cache:f6(e.cacheSize),parseClassName:h6(e),...a6(e)}),g6=/\s+/,y6=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,l=[],c=e.trim().split(g6);let u="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{modifiers:g,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:x}=n(p);let k=!!x,_=r(k?b.substring(0,x):b);if(!_){if(!k){u=p+(u.length>0?" "+u:u);continue}if(_=r(b),!_){u=p+(u.length>0?" "+u:u);continue}k=!1}const E=p6(g).join(":"),P=m?E+iS:E,T=P+_;if(l.includes(T))continue;l.push(T);const I=i(_,k);for(let D=0;D<I.length;++D){const B=I[D];l.push(P+B)}u=p+(u.length>0?" "+u:u)}return u};function v6(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=oS(t))&&(r&&(r+=" "),r+=n);return r}const oS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=oS(e[r]))&&(n&&(n+=" "),n+=t);return n};function w6(e,...t){let n,r,i,l=c;function c(f){const p=t.reduce((g,m)=>m(g),e());return n=m6(p),r=n.cache.get,i=n.cache.set,l=u,u(f)}function u(f){const p=r(f);if(p)return p;const g=y6(f,n);return i(f,g),g}return function(){return l(v6.apply(null,arguments))}}const Wt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},sS=/^\[(?:([a-z-]+):)?(.+)\]$/i,_6=/^\d+\/\d+$/,x6=new Set(["px","full","screen"]),b6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,S6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,C6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ho=e=>tc(e)||x6.has(e)||_6.test(e),ws=e=>Lc(e,"length",O6),tc=e=>!!e&&!Number.isNaN(Number(e)),Mg=e=>Lc(e,"number",tc),ju=e=>!!e&&Number.isInteger(Number(e)),P6=e=>e.endsWith("%")&&tc(e.slice(0,-1)),yt=e=>sS.test(e),_s=e=>b6.test(e),T6=new Set(["length","size","percentage"]),N6=e=>Lc(e,T6,aS),A6=e=>Lc(e,"position",aS),R6=new Set(["image","url"]),I6=e=>Lc(e,R6,M6),L6=e=>Lc(e,"",j6),Mu=()=>!0,Lc=(e,t,n)=>{const r=sS.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},O6=e=>E6.test(e)&&!k6.test(e),aS=()=>!1,j6=e=>S6.test(e),M6=e=>C6.test(e),z6=()=>{const e=Wt("colors"),t=Wt("spacing"),n=Wt("blur"),r=Wt("brightness"),i=Wt("borderColor"),l=Wt("borderRadius"),c=Wt("borderSpacing"),u=Wt("borderWidth"),f=Wt("contrast"),p=Wt("grayscale"),g=Wt("hueRotate"),m=Wt("invert"),b=Wt("gap"),x=Wt("gradientColorStops"),k=Wt("gradientColorStopPositions"),_=Wt("inset"),E=Wt("margin"),P=Wt("opacity"),T=Wt("padding"),I=Wt("saturate"),D=Wt("scale"),B=Wt("sepia"),q=Wt("skew"),G=Wt("space"),J=Wt("translate"),V=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",yt,t],U=()=>[yt,t],re=()=>["",ho,ws],M=()=>["auto",tc,yt],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",yt],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[tc,yt];return{cacheSize:500,separator:":",theme:{colors:[Mu],spacing:[ho,ws],blur:["none","",_s,yt],brightness:F(),borderColor:[e],borderRadius:["none","","full",_s,yt],borderSpacing:U(),borderWidth:re(),contrast:F(),grayscale:ee(),hueRotate:F(),invert:ee(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[P6,ws],inset:Q(),margin:Q(),opacity:F(),padding:U(),saturate:F(),scale:F(),sepia:ee(),skew:F(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",yt]}],container:["container"],columns:[{columns:[_s]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),yt]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ju,yt]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yt]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",ju,yt]}],"grid-cols":[{"grid-cols":[Mu]}],"col-start-end":[{col:["auto",{span:["full",ju,yt]},yt]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Mu]}],"row-start-end":[{row:["auto",{span:[ju,yt]},yt]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yt]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[G]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[G]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yt,t]}],"min-w":[{"min-w":[yt,t,"min","max","fit"]}],"max-w":[{"max-w":[yt,t,"none","full","min","max","fit","prose",{screen:[_s]},_s]}],h:[{h:[yt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",_s,ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mg]}],"font-family":[{font:[Mu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yt]}],"line-clamp":[{"line-clamp":["none",tc,Mg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ho,yt]}],"list-image":[{"list-image":["none",yt]}],"list-style-type":[{list:["none","disc","decimal",yt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ho,ws]}],"underline-offset":[{"underline-offset":["auto",ho,yt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),A6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",N6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},I6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:ae()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[ho,yt]}],"outline-w":[{outline:[ho,ws]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[ho,ws]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_s,L6]}],"shadow-color":[{shadow:[Mu]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",_s,yt]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[m]}],saturate:[{saturate:[I]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yt]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",yt]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",yt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[ju,yt]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[q]}],"skew-y":[{"skew-y":[q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ho,ws,Mg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},D6=w6(z6);function at(...e){return D6(Kk(e))}const B6=B5,lS=R.forwardRef(({className:e,...t},n)=>v.jsx(Uk,{ref:n,className:at("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));lS.displayName=Uk.displayName;const F6=wd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cS=R.forwardRef(({className:e,variant:t,...n},r)=>v.jsx($k,{ref:r,className:at(F6({variant:t}),e),...n}));cS.displayName=$k.displayName;const U6=R.forwardRef(({className:e,...t},n)=>v.jsx(Wk,{ref:n,className:at("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));U6.displayName=Wk.displayName;const uS=R.forwardRef(({className:e,...t},n)=>v.jsx(Vk,{ref:n,className:at("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:v.jsx(tS,{className:"h-4 w-4"})}));uS.displayName=Vk.displayName;const dS=R.forwardRef(({className:e,...t},n)=>v.jsx(Zk,{ref:n,className:at("text-sm font-semibold",e),...t}));dS.displayName=Zk.displayName;const fS=R.forwardRef(({className:e,...t},n)=>v.jsx(Hk,{ref:n,className:at("text-sm opacity-90",e),...t}));fS.displayName=Hk.displayName;function $6(){const{toasts:e}=gd();return v.jsxs(B6,{children:[e.map(function({id:t,title:n,description:r,action:i,...l}){return v.jsxs(cS,{...l,children:[v.jsxs("div",{className:"grid gap-1",children:[n&&v.jsx(dS,{children:n}),r&&v.jsx(fS,{children:r})]}),i,v.jsx(uS,{})]},t)}),v.jsx(lS,{})]})}var Z6=pv[" useId ".trim().toString()]||(()=>{}),H6=0;function Fs(e){const[t,n]=R.useState(Z6());return Nr(()=>{n(r=>r??String(H6++))},[e]),t?`radix-${t}`:""}const W6=["top","right","bottom","left"],qs=Math.min,Cr=Math.max,jh=Math.round,oh=Math.floor,$i=e=>({x:e,y:e}),V6={left:"right",right:"left",bottom:"top",top:"bottom"},q6={start:"end",end:"start"};function Ky(e,t,n){return Cr(e,qs(t,n))}function To(e,t){return typeof e=="function"?e(t):e}function No(e){return e.split("-")[0]}function Oc(e){return e.split("-")[1]}function d0(e){return e==="x"?"y":"x"}function f0(e){return e==="y"?"height":"width"}function So(e){return["top","bottom"].includes(No(e))?"y":"x"}function h0(e){return d0(So(e))}function K6(e,t,n){n===void 0&&(n=!1);const r=Oc(e),i=h0(e),l=f0(i);let c=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=Mh(c)),[c,Mh(c)]}function G6(e){const t=Mh(e);return[Gy(e),t,Gy(t)]}function Gy(e){return e.replace(/start|end/g,t=>q6[t])}function Y6(e,t,n){const r=["left","right"],i=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?l:c;default:return[]}}function J6(e,t,n,r){const i=Oc(e);let l=Y6(No(e),n==="start",r);return i&&(l=l.map(c=>c+"-"+i),t&&(l=l.concat(l.map(Gy)))),l}function Mh(e){return e.replace(/left|right|bottom|top/g,t=>V6[t])}function Q6(e){return{top:0,right:0,bottom:0,left:0,...e}}function hS(e){return typeof e!="number"?Q6(e):{top:e,right:e,bottom:e,left:e}}function zh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function ib(e,t,n){let{reference:r,floating:i}=e;const l=So(t),c=h0(t),u=f0(c),f=No(t),p=l==="y",g=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,b=r[u]/2-i[u]/2;let x;switch(f){case"top":x={x:g,y:r.y-i.height};break;case"bottom":x={x:g,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-i.width,y:m};break;default:x={x:r.x,y:r.y}}switch(Oc(t)){case"start":x[c]-=b*(n&&p?-1:1);break;case"end":x[c]+=b*(n&&p?-1:1);break}return x}const X6=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:l=[],platform:c}=n,u=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:m}=ib(p,r,f),b=r,x={},k=0;for(let _=0;_<u.length;_++){const{name:E,fn:P}=u[_],{x:T,y:I,data:D,reset:B}=await P({x:g,y:m,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:p,platform:c,elements:{reference:e,floating:t}});g=T??g,m=I??m,x={...x,[E]:{...x[E],...D}},B&&k<=50&&(k++,typeof B=="object"&&(B.placement&&(b=B.placement),B.rects&&(p=B.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):B.rects),{x:g,y:m}=ib(p,b,f)),_=-1)}return{x:g,y:m,placement:b,strategy:i,middlewareData:x}};async function ed(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:l,rects:c,elements:u,strategy:f}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:b=!1,padding:x=0}=To(t,e),k=hS(x),E=u[b?m==="floating"?"reference":"floating":m],P=zh(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(E)))==null||n?E:E.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:f})),T=m==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),D=await(l.isElement==null?void 0:l.isElement(I))?await(l.getScale==null?void 0:l.getScale(I))||{x:1,y:1}:{x:1,y:1},B=zh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:I,strategy:f}):T);return{top:(P.top-B.top+k.top)/D.y,bottom:(B.bottom-P.bottom+k.bottom)/D.y,left:(P.left-B.left+k.left)/D.x,right:(B.right-P.right+k.right)/D.x}}const eD=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:l,platform:c,elements:u,middlewareData:f}=t,{element:p,padding:g=0}=To(e,t)||{};if(p==null)return{};const m=hS(g),b={x:n,y:r},x=h0(i),k=f0(x),_=await c.getDimensions(p),E=x==="y",P=E?"top":"left",T=E?"bottom":"right",I=E?"clientHeight":"clientWidth",D=l.reference[k]+l.reference[x]-b[x]-l.floating[k],B=b[x]-l.reference[x],q=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let G=q?q[I]:0;(!G||!await(c.isElement==null?void 0:c.isElement(q)))&&(G=u.floating[I]||l.floating[k]);const J=D/2-B/2,V=G/2-_[k]/2-1,Y=qs(m[P],V),Q=qs(m[T],V),U=Y,re=G-_[k]-Q,M=G/2-_[k]/2+J,W=Ky(U,M,re),ae=!f.arrow&&Oc(i)!=null&&M!==W&&l.reference[k]/2-(M<U?Y:Q)-_[k]/2<0,oe=ae?M<U?M-U:M-re:0;return{[x]:b[x]+oe,data:{[x]:W,centerOffset:M-W-oe,...ae&&{alignmentOffset:oe}},reset:ae}}}),tD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:l,rects:c,initialPlacement:u,platform:f,elements:p}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:_=!0,...E}=To(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const P=No(i),T=So(u),I=No(u)===u,D=await(f.isRTL==null?void 0:f.isRTL(p.floating)),B=b||(I||!_?[Mh(u)]:G6(u)),q=k!=="none";!b&&q&&B.push(...J6(u,_,k,D));const G=[u,...B],J=await ed(t,E),V=[];let Y=((r=l.flip)==null?void 0:r.overflows)||[];if(g&&V.push(J[P]),m){const W=K6(i,c,D);V.push(J[W[0]],J[W[1]])}if(Y=[...Y,{placement:i,overflows:V}],!V.every(W=>W<=0)){var Q,U;const W=(((Q=l.flip)==null?void 0:Q.index)||0)+1,ae=G[W];if(ae){var re;const ne=m==="alignment"?T!==So(ae):!1,ee=((re=Y[0])==null?void 0:re.overflows[0])>0;if(!ne||ee)return{data:{index:W,overflows:Y},reset:{placement:ae}}}let oe=(U=Y.filter(ne=>ne.overflows[0]<=0).sort((ne,ee)=>ne.overflows[1]-ee.overflows[1])[0])==null?void 0:U.placement;if(!oe)switch(x){case"bestFit":{var M;const ne=(M=Y.filter(ee=>{if(q){const le=So(ee.placement);return le===T||le==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(le=>le>0).reduce((le,F)=>le+F,0)]).sort((ee,le)=>ee[1]-le[1])[0])==null?void 0:M[0];ne&&(oe=ne);break}case"initialPlacement":oe=u;break}if(i!==oe)return{reset:{placement:oe}}}return{}}}};function ob(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sb(e){return W6.some(t=>e[t]>=0)}const nD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=To(e,t);switch(r){case"referenceHidden":{const l=await ed(t,{...i,elementContext:"reference"}),c=ob(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:sb(c)}}}case"escaped":{const l=await ed(t,{...i,altBoundary:!0}),c=ob(l,n.floating);return{data:{escapedOffsets:c,escaped:sb(c)}}}default:return{}}}}};async function rD(e,t){const{placement:n,platform:r,elements:i}=e,l=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=No(n),u=Oc(n),f=So(n)==="y",p=["left","top"].includes(c)?-1:1,g=l&&f?-1:1,m=To(t,e);let{mainAxis:b,crossAxis:x,alignmentAxis:k}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof k=="number"&&(x=u==="end"?k*-1:k),f?{x:x*g,y:b*p}:{x:b*p,y:x*g}}const iD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:l,placement:c,middlewareData:u}=t,f=await rD(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:l+f.y,data:{...f,placement:c}}}}},oD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:E=>{let{x:P,y:T}=E;return{x:P,y:T}}},...f}=To(e,t),p={x:n,y:r},g=await ed(t,f),m=So(No(i)),b=d0(m);let x=p[b],k=p[m];if(l){const E=b==="y"?"top":"left",P=b==="y"?"bottom":"right",T=x+g[E],I=x-g[P];x=Ky(T,x,I)}if(c){const E=m==="y"?"top":"left",P=m==="y"?"bottom":"right",T=k+g[E],I=k-g[P];k=Ky(T,k,I)}const _=u.fn({...t,[b]:x,[m]:k});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[b]:l,[m]:c}}}}}},sD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:l,middlewareData:c}=t,{offset:u=0,mainAxis:f=!0,crossAxis:p=!0}=To(e,t),g={x:n,y:r},m=So(i),b=d0(m);let x=g[b],k=g[m];const _=To(u,t),E=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(f){const I=b==="y"?"height":"width",D=l.reference[b]-l.floating[I]+E.mainAxis,B=l.reference[b]+l.reference[I]-E.mainAxis;x<D?x=D:x>B&&(x=B)}if(p){var P,T;const I=b==="y"?"width":"height",D=["top","left"].includes(No(i)),B=l.reference[m]-l.floating[I]+(D&&((P=c.offset)==null?void 0:P[m])||0)+(D?0:E.crossAxis),q=l.reference[m]+l.reference[I]+(D?0:((T=c.offset)==null?void 0:T[m])||0)-(D?E.crossAxis:0);k<B?k=B:k>q&&(k=q)}return{[b]:x,[m]:k}}}},aD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:l,platform:c,elements:u}=t,{apply:f=()=>{},...p}=To(e,t),g=await ed(t,p),m=No(i),b=Oc(i),x=So(i)==="y",{width:k,height:_}=l.floating;let E,P;m==="top"||m==="bottom"?(E=m,P=b===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(P=m,E=b==="end"?"top":"bottom");const T=_-g.top-g.bottom,I=k-g.left-g.right,D=qs(_-g[E],T),B=qs(k-g[P],I),q=!t.middlewareData.shift;let G=D,J=B;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(J=I),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(G=T),q&&!b){const Y=Cr(g.left,0),Q=Cr(g.right,0),U=Cr(g.top,0),re=Cr(g.bottom,0);x?J=k-2*(Y!==0||Q!==0?Y+Q:Cr(g.left,g.right)):G=_-2*(U!==0||re!==0?U+re:Cr(g.top,g.bottom))}await f({...t,availableWidth:J,availableHeight:G});const V=await c.getDimensions(u.floating);return k!==V.width||_!==V.height?{reset:{rects:!0}}:{}}}};function xp(){return typeof window<"u"}function jc(e){return pS(e)?(e.nodeName||"").toLowerCase():"#document"}function Tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hi(e){var t;return(t=(pS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pS(e){return xp()?e instanceof Node||e instanceof Tr(e).Node:!1}function mi(e){return xp()?e instanceof Element||e instanceof Tr(e).Element:!1}function Zi(e){return xp()?e instanceof HTMLElement||e instanceof Tr(e).HTMLElement:!1}function ab(e){return!xp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tr(e).ShadowRoot}function xd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=gi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function lD(e){return["table","td","th"].includes(jc(e))}function bp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function p0(e){const t=m0(),n=mi(e)?gi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function cD(e){let t=Ks(e);for(;Zi(t)&&!Cc(t);){if(p0(t))return t;if(bp(t))return null;t=Ks(t)}return null}function m0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cc(e){return["html","body","#document"].includes(jc(e))}function gi(e){return Tr(e).getComputedStyle(e)}function Ep(e){return mi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ks(e){if(jc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ab(e)&&e.host||Hi(e);return ab(t)?t.host:t}function mS(e){const t=Ks(e);return Cc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zi(t)&&xd(t)?t:mS(t)}function td(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=mS(e),l=i===((r=e.ownerDocument)==null?void 0:r.body),c=Tr(i);if(l){const u=Yy(c);return t.concat(c,c.visualViewport||[],xd(i)?i:[],u&&n?td(u):[])}return t.concat(i,td(i,[],n))}function Yy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gS(e){const t=gi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Zi(e),l=i?e.offsetWidth:n,c=i?e.offsetHeight:r,u=jh(n)!==l||jh(r)!==c;return u&&(n=l,r=c),{width:n,height:r,$:u}}function g0(e){return mi(e)?e:e.contextElement}function nc(e){const t=g0(e);if(!Zi(t))return $i(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:l}=gS(t);let c=(l?jh(n.width):n.width)/r,u=(l?jh(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const uD=$i(0);function yS(e){const t=Tr(e);return!m0()||!t.visualViewport?uD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dD(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tr(e)?!1:t}function Ga(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),l=g0(e);let c=$i(1);t&&(r?mi(r)&&(c=nc(r)):c=nc(e));const u=dD(l,n,r)?yS(l):$i(0);let f=(i.left+u.x)/c.x,p=(i.top+u.y)/c.y,g=i.width/c.x,m=i.height/c.y;if(l){const b=Tr(l),x=r&&mi(r)?Tr(r):r;let k=b,_=Yy(k);for(;_&&r&&x!==k;){const E=nc(_),P=_.getBoundingClientRect(),T=gi(_),I=P.left+(_.clientLeft+parseFloat(T.paddingLeft))*E.x,D=P.top+(_.clientTop+parseFloat(T.paddingTop))*E.y;f*=E.x,p*=E.y,g*=E.x,m*=E.y,f+=I,p+=D,k=Tr(_),_=Yy(k)}}return zh({width:g,height:m,x:f,y:p})}function y0(e,t){const n=Ep(e).scrollLeft;return t?t.left+n:Ga(Hi(e)).left+n}function vS(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:y0(e,r)),l=r.top+t.scrollTop;return{x:i,y:l}}function fD(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const l=i==="fixed",c=Hi(r),u=t?bp(t.floating):!1;if(r===c||u&&l)return n;let f={scrollLeft:0,scrollTop:0},p=$i(1);const g=$i(0),m=Zi(r);if((m||!m&&!l)&&((jc(r)!=="body"||xd(c))&&(f=Ep(r)),Zi(r))){const x=Ga(r);p=nc(r),g.x=x.x+r.clientLeft,g.y=x.y+r.clientTop}const b=c&&!m&&!l?vS(c,f,!0):$i(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+g.x+b.x,y:n.y*p.y-f.scrollTop*p.y+g.y+b.y}}function hD(e){return Array.from(e.getClientRects())}function pD(e){const t=Hi(e),n=Ep(e),r=e.ownerDocument.body,i=Cr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=Cr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+y0(e);const u=-n.scrollTop;return gi(r).direction==="rtl"&&(c+=Cr(t.clientWidth,r.clientWidth)-i),{width:i,height:l,x:c,y:u}}function mD(e,t){const n=Tr(e),r=Hi(e),i=n.visualViewport;let l=r.clientWidth,c=r.clientHeight,u=0,f=0;if(i){l=i.width,c=i.height;const p=m0();(!p||p&&t==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:l,height:c,x:u,y:f}}function gD(e,t){const n=Ga(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,l=Zi(e)?nc(e):$i(1),c=e.clientWidth*l.x,u=e.clientHeight*l.y,f=i*l.x,p=r*l.y;return{width:c,height:u,x:f,y:p}}function lb(e,t,n){let r;if(t==="viewport")r=mD(e,n);else if(t==="document")r=pD(Hi(e));else if(mi(t))r=gD(t,n);else{const i=yS(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return zh(r)}function wS(e,t){const n=Ks(e);return n===t||!mi(n)||Cc(n)?!1:gi(n).position==="fixed"||wS(n,t)}function yD(e,t){const n=t.get(e);if(n)return n;let r=td(e,[],!1).filter(u=>mi(u)&&jc(u)!=="body"),i=null;const l=gi(e).position==="fixed";let c=l?Ks(e):e;for(;mi(c)&&!Cc(c);){const u=gi(c),f=p0(c);!f&&u.position==="fixed"&&(i=null),(l?!f&&!i:!f&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||xd(c)&&!f&&wS(e,c))?r=r.filter(g=>g!==c):i=u,c=Ks(c)}return t.set(e,r),r}function vD(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const c=[...n==="clippingAncestors"?bp(t)?[]:yD(t,this._c):[].concat(n),r],u=c[0],f=c.reduce((p,g)=>{const m=lb(t,g,i);return p.top=Cr(m.top,p.top),p.right=qs(m.right,p.right),p.bottom=qs(m.bottom,p.bottom),p.left=Cr(m.left,p.left),p},lb(t,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function wD(e){const{width:t,height:n}=gS(e);return{width:t,height:n}}function _D(e,t,n){const r=Zi(t),i=Hi(t),l=n==="fixed",c=Ga(e,!0,l,t);let u={scrollLeft:0,scrollTop:0};const f=$i(0);function p(){f.x=y0(i)}if(r||!r&&!l)if((jc(t)!=="body"||xd(i))&&(u=Ep(t)),r){const x=Ga(t,!0,l,t);f.x=x.x+t.clientLeft,f.y=x.y+t.clientTop}else i&&p();l&&!r&&i&&p();const g=i&&!r&&!l?vS(i,u):$i(0),m=c.left+u.scrollLeft-f.x-g.x,b=c.top+u.scrollTop-f.y-g.y;return{x:m,y:b,width:c.width,height:c.height}}function zg(e){return gi(e).position==="static"}function cb(e,t){if(!Zi(e)||gi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Hi(e)===n&&(n=n.ownerDocument.body),n}function _S(e,t){const n=Tr(e);if(bp(e))return n;if(!Zi(e)){let i=Ks(e);for(;i&&!Cc(i);){if(mi(i)&&!zg(i))return i;i=Ks(i)}return n}let r=cb(e,t);for(;r&&lD(r)&&zg(r);)r=cb(r,t);return r&&Cc(r)&&zg(r)&&!p0(r)?n:r||cD(e)||n}const xD=async function(e){const t=this.getOffsetParent||_S,n=this.getDimensions,r=await n(e.floating);return{reference:_D(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bD(e){return gi(e).direction==="rtl"}const ED={convertOffsetParentRelativeRectToViewportRelativeRect:fD,getDocumentElement:Hi,getClippingRect:vD,getOffsetParent:_S,getElementRects:xD,getClientRects:hD,getDimensions:wD,getScale:nc,isElement:mi,isRTL:bD};function xS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function kD(e,t){let n=null,r;const i=Hi(e);function l(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const p=e.getBoundingClientRect(),{left:g,top:m,width:b,height:x}=p;if(u||t(),!b||!x)return;const k=oh(m),_=oh(i.clientWidth-(g+b)),E=oh(i.clientHeight-(m+x)),P=oh(g),I={rootMargin:-k+"px "+-_+"px "+-E+"px "+-P+"px",threshold:Cr(0,qs(1,f))||1};let D=!0;function B(q){const G=q[0].intersectionRatio;if(G!==f){if(!D)return c();G?c(!1,G):r=setTimeout(()=>{c(!1,1e-7)},1e3)}G===1&&!xS(p,e.getBoundingClientRect())&&c(),D=!1}try{n=new IntersectionObserver(B,{...I,root:i.ownerDocument})}catch{n=new IntersectionObserver(B,I)}n.observe(e)}return c(!0),l}function SD(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=g0(e),g=i||l?[...p?td(p):[],...td(t)]:[];g.forEach(P=>{i&&P.addEventListener("scroll",n,{passive:!0}),l&&P.addEventListener("resize",n)});const m=p&&u?kD(p,n):null;let b=-1,x=null;c&&(x=new ResizeObserver(P=>{let[T]=P;T&&T.target===p&&x&&(x.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var I;(I=x)==null||I.observe(t)})),n()}),p&&!f&&x.observe(p),x.observe(t));let k,_=f?Ga(e):null;f&&E();function E(){const P=Ga(e);_&&!xS(_,P)&&n(),_=P,k=requestAnimationFrame(E)}return n(),()=>{var P;g.forEach(T=>{i&&T.removeEventListener("scroll",n),l&&T.removeEventListener("resize",n)}),m==null||m(),(P=x)==null||P.disconnect(),x=null,f&&cancelAnimationFrame(k)}}const CD=iD,PD=oD,TD=tD,ND=aD,AD=nD,ub=eD,RD=sD,ID=(e,t,n)=>{const r=new Map,i={platform:ED,...n},l={...i.platform,_c:r};return X6(e,t,{...i,platform:l})};var gh=typeof document<"u"?R.useLayoutEffect:R.useEffect;function Dh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Dh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const l=i[r];if(!(l==="_owner"&&e.$$typeof)&&!Dh(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function bS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function db(e,t){const n=bS(e);return Math.round(t*n)/n}function Dg(e){const t=R.useRef(e);return gh(()=>{t.current=e}),t}function LD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:l,floating:c}={},transform:u=!0,whileElementsMounted:f,open:p}=e,[g,m]=R.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,x]=R.useState(r);Dh(b,r)||x(r);const[k,_]=R.useState(null),[E,P]=R.useState(null),T=R.useCallback(ne=>{ne!==q.current&&(q.current=ne,_(ne))},[]),I=R.useCallback(ne=>{ne!==G.current&&(G.current=ne,P(ne))},[]),D=l||k,B=c||E,q=R.useRef(null),G=R.useRef(null),J=R.useRef(g),V=f!=null,Y=Dg(f),Q=Dg(i),U=Dg(p),re=R.useCallback(()=>{if(!q.current||!G.current)return;const ne={placement:t,strategy:n,middleware:b};Q.current&&(ne.platform=Q.current),ID(q.current,G.current,ne).then(ee=>{const le={...ee,isPositioned:U.current!==!1};M.current&&!Dh(J.current,le)&&(J.current=le,mp.flushSync(()=>{m(le)}))})},[b,t,n,Q,U]);gh(()=>{p===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,m(ne=>({...ne,isPositioned:!1})))},[p]);const M=R.useRef(!1);gh(()=>(M.current=!0,()=>{M.current=!1}),[]),gh(()=>{if(D&&(q.current=D),B&&(G.current=B),D&&B){if(Y.current)return Y.current(D,B,re);re()}},[D,B,re,Y,V]);const W=R.useMemo(()=>({reference:q,floating:G,setReference:T,setFloating:I}),[T,I]),ae=R.useMemo(()=>({reference:D,floating:B}),[D,B]),oe=R.useMemo(()=>{const ne={position:n,left:0,top:0};if(!ae.floating)return ne;const ee=db(ae.floating,g.x),le=db(ae.floating,g.y);return u?{...ne,transform:"translate("+ee+"px, "+le+"px)",...bS(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:le}},[n,u,ae.floating,g.x,g.y]);return R.useMemo(()=>({...g,update:re,refs:W,elements:ae,floatingStyles:oe}),[g,re,W,ae,oe])}const OD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ub({element:r.current,padding:i}).fn(n):{}:r?ub({element:r,padding:i}).fn(n):{}}}},jD=(e,t)=>({...CD(e),options:[e,t]}),MD=(e,t)=>({...PD(e),options:[e,t]}),zD=(e,t)=>({...RD(e),options:[e,t]}),DD=(e,t)=>({...TD(e),options:[e,t]}),BD=(e,t)=>({...ND(e),options:[e,t]}),FD=(e,t)=>({...AD(e),options:[e,t]}),UD=(e,t)=>({...OD(e),options:[e,t]});var $D="Arrow",ES=R.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...l}=e;return v.jsx(st.svg,{...l,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});ES.displayName=$D;var ZD=ES;function kp(e){const[t,n]=R.useState(void 0);return Nr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let c,u;if("borderBoxSize"in l){const f=l.borderBoxSize,p=Array.isArray(f)?f[0]:f;c=p.inlineSize,u=p.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var v0="Popper",[kS,Sp]=er(v0),[HD,SS]=kS(v0),CS=e=>{const{__scopePopper:t,children:n}=e,[r,i]=R.useState(null);return v.jsx(HD,{scope:t,anchor:r,onAnchorChange:i,children:n})};CS.displayName=v0;var PS="PopperAnchor",TS=R.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,l=SS(PS,n),c=R.useRef(null),u=Tt(t,c);return R.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:v.jsx(st.div,{...i,ref:u})});TS.displayName=PS;var w0="PopperContent",[WD,VD]=kS(w0),NS=R.forwardRef((e,t)=>{var Ue,De,Fe,rt,wt,At;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:l="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:k,..._}=e,E=SS(w0,n),[P,T]=R.useState(null),I=Tt(t,ht=>T(ht)),[D,B]=R.useState(null),q=kp(D),G=(q==null?void 0:q.width)??0,J=(q==null?void 0:q.height)??0,V=r+(l!=="center"?"-"+l:""),Y=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},Q=Array.isArray(p)?p:[p],U=Q.length>0,re={padding:Y,boundary:Q.filter(KD),altBoundary:U},{refs:M,floatingStyles:W,placement:ae,isPositioned:oe,middlewareData:ne}=LD({strategy:"fixed",placement:V,whileElementsMounted:(...ht)=>SD(...ht,{animationFrame:x==="always"}),elements:{reference:E.anchor},middleware:[jD({mainAxis:i+J,alignmentAxis:c}),f&&MD({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?zD():void 0,...re}),f&&DD({...re}),BD({...re,apply:({elements:ht,rects:z,availableWidth:Pe,availableHeight:ke})=>{const{width:ie,height:te}=z.reference,pe=ht.floating.style;pe.setProperty("--radix-popper-available-width",`${Pe}px`),pe.setProperty("--radix-popper-available-height",`${ke}px`),pe.setProperty("--radix-popper-anchor-width",`${ie}px`),pe.setProperty("--radix-popper-anchor-height",`${te}px`)}}),D&&UD({element:D,padding:u}),GD({arrowWidth:G,arrowHeight:J}),b&&FD({strategy:"referenceHidden",...re})]}),[ee,le]=IS(ae),F=hr(k);Nr(()=>{oe&&(F==null||F())},[oe,F]);const K=(Ue=ne.arrow)==null?void 0:Ue.x,Ce=(De=ne.arrow)==null?void 0:De.y,be=((Fe=ne.arrow)==null?void 0:Fe.centerOffset)!==0,[we,Ie]=R.useState();return Nr(()=>{P&&Ie(window.getComputedStyle(P).zIndex)},[P]),v.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:oe?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(rt=ne.transformOrigin)==null?void 0:rt.x,(wt=ne.transformOrigin)==null?void 0:wt.y].join(" "),...((At=ne.hide)==null?void 0:At.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:v.jsx(WD,{scope:n,placedSide:ee,onArrowChange:B,arrowX:K,arrowY:Ce,shouldHideArrow:be,children:v.jsx(st.div,{"data-side":ee,"data-align":le,..._,ref:I,style:{..._.style,animation:oe?void 0:"none"}})})})});NS.displayName=w0;var AS="PopperArrow",qD={top:"bottom",right:"left",bottom:"top",left:"right"},RS=R.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,l=VD(AS,r),c=qD[l.placedSide];return v.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:v.jsx(ZD,{...i,ref:n,style:{...i.style,display:"block"}})})});RS.displayName=AS;function KD(e){return e!==null}var GD=e=>({name:"transformOrigin",options:e,fn(t){var E,P,T;const{placement:n,rects:r,middlewareData:i}=t,c=((E=i.arrow)==null?void 0:E.centerOffset)!==0,u=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[p,g]=IS(n),m={start:"0%",center:"50%",end:"100%"}[g],b=(((P=i.arrow)==null?void 0:P.x)??0)+u/2,x=(((T=i.arrow)==null?void 0:T.y)??0)+f/2;let k="",_="";return p==="bottom"?(k=c?m:`${b}px`,_=`${-f}px`):p==="top"?(k=c?m:`${b}px`,_=`${r.floating.height+f}px`):p==="right"?(k=`${-f}px`,_=c?m:`${x}px`):p==="left"&&(k=`${r.floating.width+f}px`,_=c?m:`${x}px`),{data:{x:k,y:_}}}});function IS(e){const[t,n="center"]=e.split("-");return[t,n]}var YD=CS,LS=TS,OS=NS,jS=RS,[Cp,zZ]=er("Tooltip",[Sp]),_0=Sp(),MS="TooltipProvider",JD=700,fb="tooltip.open",[QD,zS]=Cp(MS),DS=e=>{const{__scopeTooltip:t,delayDuration:n=JD,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:l}=e,c=R.useRef(!0),u=R.useRef(!1),f=R.useRef(0);return R.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),v.jsx(QD,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:R.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:R.useCallback(p=>{u.current=p},[]),disableHoverableContent:i,children:l})};DS.displayName=MS;var BS="Tooltip",[DZ,Pp]=Cp(BS),Jy="TooltipTrigger",XD=R.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Pp(Jy,n),l=zS(Jy,n),c=_0(n),u=R.useRef(null),f=Tt(t,u,i.onTriggerChange),p=R.useRef(!1),g=R.useRef(!1),m=R.useCallback(()=>p.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),v.jsx(LS,{asChild:!0,...c,children:v.jsx(st.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:f,onPointerMove:qe(e.onPointerMove,b=>{b.pointerType!=="touch"&&!g.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:qe(e.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:qe(e.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:qe(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:qe(e.onBlur,i.onClose),onClick:qe(e.onClick,i.onClose)})})});XD.displayName=Jy;var eB="TooltipPortal",[BZ,tB]=Cp(eB,{forceMount:void 0}),Pc="TooltipContent",FS=R.forwardRef((e,t)=>{const n=tB(Pc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...l}=e,c=Pp(Pc,e.__scopeTooltip);return v.jsx(Ar,{present:r||c.open,children:c.disableHoverableContent?v.jsx(US,{side:i,...l,ref:t}):v.jsx(nB,{side:i,...l,ref:t})})}),nB=R.forwardRef((e,t)=>{const n=Pp(Pc,e.__scopeTooltip),r=zS(Pc,e.__scopeTooltip),i=R.useRef(null),l=Tt(t,i),[c,u]=R.useState(null),{trigger:f,onClose:p}=n,g=i.current,{onPointerInTransitChange:m}=r,b=R.useCallback(()=>{u(null),m(!1)},[m]),x=R.useCallback((k,_)=>{const E=k.currentTarget,P={x:k.clientX,y:k.clientY},T=aB(P,E.getBoundingClientRect()),I=lB(P,T),D=cB(_.getBoundingClientRect()),B=dB([...I,...D]);u(B),m(!0)},[m]);return R.useEffect(()=>()=>b(),[b]),R.useEffect(()=>{if(f&&g){const k=E=>x(E,g),_=E=>x(E,f);return f.addEventListener("pointerleave",k),g.addEventListener("pointerleave",_),()=>{f.removeEventListener("pointerleave",k),g.removeEventListener("pointerleave",_)}}},[f,g,x,b]),R.useEffect(()=>{if(c){const k=_=>{const E=_.target,P={x:_.clientX,y:_.clientY},T=(f==null?void 0:f.contains(E))||(g==null?void 0:g.contains(E)),I=!uB(P,c);T?b():I&&(b(),p())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[f,g,c,p,b]),v.jsx(US,{...e,ref:l})}),[rB,iB]=Cp(BS,{isInside:!1}),oB=Q8("TooltipContent"),US=R.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:c,...u}=e,f=Pp(Pc,n),p=_0(n),{onClose:g}=f;return R.useEffect(()=>(document.addEventListener(fb,g),()=>document.removeEventListener(fb,g)),[g]),R.useEffect(()=>{if(f.trigger){const m=b=>{const x=b.target;x!=null&&x.contains(f.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[f.trigger,g]),v.jsx(yd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:v.jsxs(OS,{"data-state":f.stateAttribute,...p,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(oB,{children:r}),v.jsx(rB,{scope:n,isInside:!0,children:v.jsx(x5,{id:f.contentId,role:"tooltip",children:i||r})})]})})});FS.displayName=Pc;var $S="TooltipArrow",sB=R.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=_0(n);return iB($S,n).isInside?null:v.jsx(jS,{...i,...r,ref:t})});sB.displayName=$S;function aB(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,r,i,l)){case l:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function lB(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function cB(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function uB(e,t){const{x:n,y:r}=e;let i=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const u=t[l],f=t[c],p=u.x,g=u.y,m=f.x,b=f.y;g>r!=b>r&&n<(m-p)*(r-g)/(b-g)+p&&(i=!i)}return i}function dB(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),fB(t)}function fB(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(i.y-c.y)>=(l.y-c.y)*(i.x-c.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const l=n[n.length-1],c=n[n.length-2];if((l.x-c.x)*(i.y-c.y)>=(l.y-c.y)*(i.x-c.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var hB=DS,ZS=FS;const pB=hB,mB=R.forwardRef(({className:e,sideOffset:t=4,...n},r)=>v.jsx(ZS,{ref:r,sideOffset:t,className:at("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));mB.displayName=ZS.displayName;function Qy(e,t,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,i=(n==null?void 0:n.deserialize)||JSON.parse,[l,c]=R.useState(()=>{try{const f=localStorage.getItem(e);return f?i(f):t}catch(f){return console.warn(`Failed to load ${e} from localStorage:`,f),t}}),u=f=>{try{const p=f instanceof Function?f(l):f;c(p),localStorage.setItem(e,r(p))}catch(p){console.warn(`Failed to save ${e} to localStorage:`,p)}};return R.useEffect(()=>{const f=p=>{if(p.key===e&&p.newValue!==null)try{c(i(p.newValue))}catch(g){console.warn(`Failed to sync ${e} from localStorage:`,g)}};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)},[e,i]),[l,u]}const gB=ko({relays:uk(ko({url:Fu(),read:$a(),write:$a()})),updatedAt:mo()}),yB=ko({theme:fk(["dark","light","system"]),relayMetadata:gB});function vB(e){const{children:t,storageKey:n,defaultConfig:r}=e,[i,l]=Qy(n,{},{serialize:JSON.stringify,deserialize:p=>{const g=JSON.parse(p);return yB.partial().parse(g)}}),c=p=>{l(p)},u={...r,...i},f={config:u,updateConfig:c};return wB(u.theme),v.jsx(xk.Provider,{value:f,children:t})}function wB(e){R.useEffect(()=>{const t=window.document.documentElement;if(t.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(n);return}t.classList.add(e)},[e]),R.useEffect(()=>{if(e!=="system")return;const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{const r=window.document.documentElement;r.classList.remove("light","dark");const i=t.matches?"dark":"light";r.classList.add(i)};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[e])}var hb,Bg,_B=(hb=function(e,t){function n(V){if(!Number.isSafeInteger(V))throw new Error(`Wrong integer: ${V}`)}function r(...V){const Y=(Q,U)=>re=>Q(U(re));return{encode:Array.from(V).reverse().reduce((Q,U)=>Q?Y(Q,U.encode):U.encode,void 0),decode:V.reduce((Q,U)=>Q?Y(Q,U.decode):U.decode,void 0)}}function i(V){return{encode:Y=>{if(!Array.isArray(Y)||Y.length&&typeof Y[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return Y.map(Q=>{if(n(Q),Q<0||Q>=V.length)throw new Error(`Digit index outside alphabet: ${Q} (alphabet: ${V.length})`);return V[Q]})},decode:Y=>{if(!Array.isArray(Y)||Y.length&&typeof Y[0]!="string")throw new Error("alphabet.decode input should be array of strings");return Y.map(Q=>{if(typeof Q!="string")throw new Error(`alphabet.decode: not string element=${Q}`);const U=V.indexOf(Q);if(U===-1)throw new Error(`Unknown letter: "${Q}". Allowed: ${V}`);return U})}}}function l(V=""){if(typeof V!="string")throw new Error("join separator should be string");return{encode:Y=>{if(!Array.isArray(Y)||Y.length&&typeof Y[0]!="string")throw new Error("join.encode input should be array of strings");for(let Q of Y)if(typeof Q!="string")throw new Error(`join.encode: non-string input=${Q}`);return Y.join(V)},decode:Y=>{if(typeof Y!="string")throw new Error("join.decode input should be string");return Y.split(V)}}}function c(V,Y="="){if(n(V),typeof Y!="string")throw new Error("padding chr should be string");return{encode(Q){if(!Array.isArray(Q)||Q.length&&typeof Q[0]!="string")throw new Error("padding.encode input should be array of strings");for(let U of Q)if(typeof U!="string")throw new Error(`padding.encode: non-string input=${U}`);for(;Q.length*V%8;)Q.push(Y);return Q},decode(Q){if(!Array.isArray(Q)||Q.length&&typeof Q[0]!="string")throw new Error("padding.encode input should be array of strings");for(let re of Q)if(typeof re!="string")throw new Error(`padding.decode: non-string input=${re}`);let U=Q.length;if(U*V%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;U>0&&Q[U-1]===Y;U--)if(!((U-1)*V%8))throw new Error("Invalid padding: string has too much padding");return Q.slice(0,U)}}}function u(V){if(typeof V!="function")throw new Error("normalize fn should be function");return{encode:Y=>Y,decode:Y=>V(Y)}}function f(V,Y,Q){if(Y<2)throw new Error(`convertRadix: wrong from=${Y}, base cannot be less than 2`);if(Q<2)throw new Error(`convertRadix: wrong to=${Q}, base cannot be less than 2`);if(!Array.isArray(V))throw new Error("convertRadix: data should be array");if(!V.length)return[];let U=0;const re=[],M=Array.from(V);for(M.forEach(W=>{if(n(W),W<0||W>=Y)throw new Error(`Wrong integer: ${W}`)});;){let W=0,ae=!0;for(let oe=U;oe<M.length;oe++){const ne=M[oe],ee=Y*W+ne;if(!Number.isSafeInteger(ee)||Y*W/Y!==W||ee-ne!=Y*W)throw new Error("convertRadix: carry overflow");if(W=ee%Q,M[oe]=Math.floor(ee/Q),!Number.isSafeInteger(M[oe])||M[oe]*Q+W!==ee)throw new Error("convertRadix: carry overflow");ae&&(M[oe]?ae=!1:U=oe)}if(re.push(W),ae)break}for(let W=0;W<V.length-1&&V[W]===0;W++)re.push(0);return re.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const p=(V,Y)=>Y?p(Y,V%Y):V,g=(V,Y)=>V+(Y-p(V,Y));function m(V,Y,Q,U){if(!Array.isArray(V))throw new Error("convertRadix2: data should be array");if(Y<=0||Y>32)throw new Error(`convertRadix2: wrong from=${Y}`);if(Q<=0||Q>32)throw new Error(`convertRadix2: wrong to=${Q}`);if(g(Y,Q)>32)throw new Error(`convertRadix2: carry overflow from=${Y} to=${Q} carryBits=${g(Y,Q)}`);let re=0,M=0;const W=2**Q-1,ae=[];for(const oe of V){if(n(oe),oe>=2**Y)throw new Error(`convertRadix2: invalid data word=${oe} from=${Y}`);if(re=re<<Y|oe,M+Y>32)throw new Error(`convertRadix2: carry overflow pos=${M} from=${Y}`);for(M+=Y;M>=Q;M-=Q)ae.push((re>>M-Q&W)>>>0);re&=2**M-1}if(re=re<<Q-M&W,!U&&M>=Y)throw new Error("Excess padding");if(!U&&re)throw new Error(`Non-zero padding: ${re}`);return U&&M>0&&ae.push(re>>>0),ae}function b(V){return n(V),{encode:Y=>{if(!(Y instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return f(Array.from(Y),256,V)},decode:Y=>{if(!Array.isArray(Y)||Y.length&&typeof Y[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(f(Y,V,256))}}}function x(V,Y=!1){if(n(V),V<=0||V>32)throw new Error("radix2: bits should be in (0..32]");if(g(8,V)>32||g(V,8)>32)throw new Error("radix2: carry overflow");return{encode:Q=>{if(!(Q instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return m(Array.from(Q),8,V,!Y)},decode:Q=>{if(!Array.isArray(Q)||Q.length&&typeof Q[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(m(Q,V,8,Y))}}}function k(V){if(typeof V!="function")throw new Error("unsafeWrapper fn should be function");return function(...Y){try{return V.apply(null,Y)}catch{}}}function _(V,Y){if(n(V),typeof Y!="function")throw new Error("checksum fn should be function");return{encode(Q){if(!(Q instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const U=Y(Q).slice(0,V),re=new Uint8Array(Q.length+V);return re.set(Q),re.set(U,Q.length),re},decode(Q){if(!(Q instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const U=Q.slice(0,-V),re=Y(U).slice(0,V),M=Q.slice(-V);for(let W=0;W<V;W++)if(re[W]!==M[W])throw new Error("Invalid checksum");return U}}}t.utils={alphabet:i,chain:r,checksum:_,radix:b,radix2:x,join:l,padding:c},t.base16=r(x(4),i("0123456789ABCDEF"),l("")),t.base32=r(x(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),c(5),l("")),t.base32hex=r(x(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),c(5),l("")),t.base32crockford=r(x(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),l(""),u(V=>V.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=r(x(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),c(6),l("")),t.base64url=r(x(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),c(6),l(""));const E=V=>r(b(58),i(V),l(""));t.base58=E("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=E("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=E("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const P=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(V){let Y="";for(let Q=0;Q<V.length;Q+=8){const U=V.subarray(Q,Q+8);Y+=t.base58.encode(U).padStart(P[U.length],"1")}return Y},decode(V){let Y=[];for(let Q=0;Q<V.length;Q+=11){const U=V.slice(Q,Q+11),re=P.indexOf(U.length),M=t.base58.decode(U);for(let W=0;W<M.length-re;W++)if(M[W]!==0)throw new Error("base58xmr: wrong padding");Y=Y.concat(Array.from(M.slice(M.length-re)))}return Uint8Array.from(Y)}},t.base58check=V=>r(_(4,Y=>V(V(Y))),t.base58);const T=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),l("")),I=[996825010,642813549,513874426,1027748829,705979059];function D(V){const Y=V>>25;let Q=(33554431&V)<<5;for(let U=0;U<I.length;U++)(Y>>U&1)==1&&(Q^=I[U]);return Q}function B(V,Y,Q=1){const U=V.length;let re=1;for(let M=0;M<U;M++){const W=V.charCodeAt(M);if(W<33||W>126)throw new Error(`Invalid prefix (${V})`);re=D(re)^W>>5}re=D(re);for(let M=0;M<U;M++)re=D(re)^31&V.charCodeAt(M);for(let M of Y)re=D(re)^M;for(let M=0;M<6;M++)re=D(re);return re^=Q,T.encode(m([re%2**30],30,5,!1))}function q(V){const Y=V==="bech32"?1:734539939,Q=x(5),U=Q.decode,re=Q.encode,M=k(U);function W(ae,oe=90){if(typeof ae!="string")throw new Error("bech32.decode input should be string, not "+typeof ae);if(ae.length<8||oe!==!1&&ae.length>oe)throw new TypeError(`Wrong string length: ${ae.length} (${ae}). Expected (8..${oe})`);const ne=ae.toLowerCase();if(ae!==ne&&ae!==ae.toUpperCase())throw new Error("String must be lowercase or uppercase");const ee=(ae=ne).lastIndexOf("1");if(ee===0||ee===-1)throw new Error('Letter "1" must be present between prefix and data only');const le=ae.slice(0,ee),F=ae.slice(ee+1);if(F.length<6)throw new Error("Data must be at least 6 characters long");const K=T.decode(F).slice(0,-6),Ce=B(le,K,Y);if(!F.endsWith(Ce))throw new Error(`Invalid checksum in ${ae}: expected "${Ce}"`);return{prefix:le,words:K}}return{encode:function(ae,oe,ne=90){if(typeof ae!="string")throw new Error("bech32.encode prefix should be string, not "+typeof ae);if(!Array.isArray(oe)||oe.length&&typeof oe[0]!="number")throw new Error("bech32.encode words should be array of numbers, not "+typeof oe);const ee=ae.length+7+oe.length;if(ne!==!1&&ee>ne)throw new TypeError(`Length ${ee} exceeds limit ${ne}`);return`${ae=ae.toLowerCase()}1${T.encode(oe)}${B(ae,oe,Y)}`},decode:W,decodeToBytes:function(ae){const{prefix:oe,words:ne}=W(ae,!1);return{prefix:oe,words:ne,bytes:U(ne)}},decodeUnsafe:k(W),fromWords:U,fromWordsUnsafe:M,toWords:re}}t.bech32=q("bech32"),t.bech32m=q("bech32m"),t.utf8={encode:V=>new TextDecoder().decode(V),decode:V=>new TextEncoder().encode(V)},t.hex=r(x(4),i("0123456789abcdef"),l(""),u(V=>{if(typeof V!="string"||V.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof V} with length ${V.length}`);return V.toLowerCase()}));const G={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},J=`Invalid encoding type. Available types: ${Object.keys(G).join(", ")}`;t.bytesToString=(V,Y)=>{if(typeof V!="string"||!G.hasOwnProperty(V))throw new TypeError(J);if(!(Y instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return G[V].encode(Y)},t.str=t.bytesToString,t.stringToBytes=(V,Y)=>{if(!G.hasOwnProperty(V))throw new TypeError(J);if(typeof Y!="string")throw new TypeError("stringToBytes() expects string");return G[V].decode(Y)},t.bytes=t.stringToBytes},hb(Bg={exports:{}},Bg.exports),Bg.exports);const{bech32:ji,hex:ui,utf8:xB}=_B,pb={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},mb={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},gb={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},yb={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},vb={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},sh=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],bB={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},EB=BigInt("2100000000000000000"),wb=BigInt(1e11),Xy={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},HS={};for(let e=0,t=Object.keys(Xy);e<t.length;e++){const n=t[e],r=Xy[t[e]].toString();HS[r]=n}const kB={1:e=>ui.encode(ji.fromWordsUnsafe(e)),16:e=>ui.encode(ji.fromWordsUnsafe(e)),13:e=>xB.encode(ji.fromWordsUnsafe(e)),19:e=>ui.encode(ji.fromWordsUnsafe(e)),23:e=>ui.encode(ji.fromWordsUnsafe(e)),27:e=>ui.encode(ji.fromWordsUnsafe(e)),6:Bh,24:Bh,3:function(e){const t=[];let n,r,i,l,c,u=ji.fromWordsUnsafe(e);for(;u.length>0;)n=ui.encode(u.slice(0,33)),r=ui.encode(u.slice(33,41)),i=parseInt(ui.encode(u.slice(41,45)),16),l=parseInt(ui.encode(u.slice(45,49)),16),c=parseInt(ui.encode(u.slice(49,51)),16),u=u.slice(51),t.push({pubkey:n,short_channel_id:r,fee_base_msat:i,fee_proportional_millionths:l,cltv_expiry_delta:c});return t},5:function(e){const t=e.slice().reverse().map(i=>[!!(1&i),!!(2&i),!!(4&i),!!(8&i),!!(16&i)]).reduce((i,l)=>i.concat(l),[]);for(;t.length<2*sh.length;)t.push(!1);const n={};sh.forEach((i,l)=>{let c;c=t[2*l]?"required":t[2*l+1]?"supported":"unsupported",n[i]=c});const r=t.slice(2*sh.length);return n.extra_bits={start_bit:2*sh.length,bits:r,has_required:r.reduce((i,l,c)=>c%2!=0?i||!1:i||l,!1)},n}};function SB(e){return t=>({tagCode:parseInt(e),words:ji.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function Bh(e){return e.reverse().reduce((t,n,r)=>t+n*Math.pow(32,r),0)}const CB=e=>Uint8Array.from(e.match(/.{1,2}/g).map(t=>parseInt(t,16))),PB=e=>{if(!e)return null;try{const t=function(m,b){if(typeof m!="string")throw new Error("Lightning Payment Request must be string");if(m.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const x=[],k=ji.decode(m,Number.MAX_SAFE_INTEGER);m=m.toLowerCase();const _=k.prefix;let E=k.words,P=m.slice(_.length+1),T=E.slice(-104);E=E.slice(0,-104);let I=_.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(I&&!I[2]&&(I=_.match(/^ln(\S+)$/)),!I)throw new Error("Not a proper lightning payment request");x.push({name:"lightning_network",letters:"ln"});const D=I[1];let B;switch(D){case pb.bech32:B=pb;break;case mb.bech32:B=mb;break;case gb.bech32:B=gb;break;case yb.bech32:B=yb;break;case vb.bech32:B=vb}if(!B||B.bech32!==D)throw new Error("Unknown coin bech32 prefix");x.push({name:"coin_network",letters:D,value:B});const q=I[2];let G;q?(G=function(W,ae){let oe,ne;if(W.slice(-1).match(/^[munp]$/))oe=W.slice(-1),ne=W.slice(0,-1);else{if(W.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");ne=W}if(!ne.match(/^\d+$/))throw new Error("Not a valid human readable amount");const ee=BigInt(ne),le=oe?ee*wb/bB[oe]:ee*wb;if(oe==="p"&&ee%BigInt(10)!==BigInt(0)||le>EB)throw new Error("Amount is outside of valid range");return le.toString()}(q+I[3]),x.push({name:"amount",letters:I[2]+I[3],value:G})):G=null,x.push({name:"separator",letters:"1"});const J=Bh(E.slice(0,7));let V,Y,Q,U;for(E=E.slice(7),x.push({name:"timestamp",letters:P.slice(0,7),value:J}),P=P.slice(7);E.length>0;){const W=E[0].toString();V=HS[W]||"unknown_tag",Y=kB[W]||SB(W),E=E.slice(1),Q=Bh(E.slice(0,2)),E=E.slice(2),U=E.slice(0,Q),E=E.slice(Q),x.push({name:V,tag:P[0],letters:P.slice(0,3+Q),value:Y(U)}),P=P.slice(3+Q)}x.push({name:"signature",letters:P.slice(0,104),value:ui.encode(ji.fromWordsUnsafe(T))}),P=P.slice(104),x.push({name:"checksum",letters:P});let re={paymentRequest:m,sections:x,get expiry(){let W=x.find(ae=>ae.name==="expiry");if(W)return M("timestamp")+W.value},get route_hints(){return x.filter(W=>W.name==="route_hint").map(W=>W.value)}};for(let W in Xy)W!=="route_hint"&&Object.defineProperty(re,W,{get:()=>M(W)});return re;function M(W){let ae=x.find(oe=>oe.name===W);return ae?ae.value:void 0}}(e);if(!t||!t.sections)return null;const n=t.sections.find(m=>m.name==="payment_hash");if((n==null?void 0:n.name)!=="payment_hash"||!n.value)return null;const r=n.value;let i=0;const l=t.sections.find(m=>m.name==="amount");(l==null?void 0:l.name)==="amount"&&l.value&&(i=parseInt(l.value)/1e3);const c=t.sections.find(m=>m.name==="timestamp");if((c==null?void 0:c.name)!=="timestamp"||!c.value)return null;const u=c.value;let f;const p=t.sections.find(m=>m.name==="expiry");(p==null?void 0:p.name)==="expiry"&&(f=p.value);const g=t.sections.find(m=>m.name==="description");return{paymentHash:r,satoshi:i,timestamp:u,expiry:f,description:(g==null?void 0:g.name)==="description"?g==null?void 0:g.value:void 0}}catch{return null}};function _b(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const WS=e=>e instanceof Uint8Array,Fg=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ii=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const TB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fh(e){if(!WS(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=TB[e[n]];return t}function VS(e){if(typeof e=="string"&&(e=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(e)),!WS(e))throw new Error("expected Uint8Array, got "+typeof e);return e}let NB=class{clone(){return this._cloneInto()}};function AB(e){const t=r=>e().update(VS(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class RB extends NB{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Fg(this.buffer)}update(t){_b(this);const{view:n,buffer:r,blockLen:i}=this,l=(t=VS(t)).length;for(let c=0;c<l;){const u=Math.min(i-this.pos,l-c);if(u!==i)r.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0);else{const f=Fg(t);for(;i<=l-c;c+=i)this.process(f,c)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){_b(this),function(m,b){(function(k,..._){if(!(k instanceof Uint8Array))throw new Error("Expected Uint8Array");if(_.length>0&&!_.includes(k.length))throw new Error(`Expected Uint8Array of length ${_}, not of length=${k.length}`)})(m);const x=b.outputLen;if(m.length<x)throw new Error(`digestInto() expects output buffer of length at least ${x}`)}(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:l}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let m=c;m<i;m++)n[m]=0;(function(m,b,x,k){if(typeof m.setBigUint64=="function")return m.setBigUint64(b,x,k);const _=BigInt(32),E=BigInt(4294967295),P=Number(x>>_&E),T=Number(x&E),I=k?0:4;m.setUint32(b+(k?4:0),P,k),m.setUint32(b+I,T,k)})(r,i-8,BigInt(8*this.length),l),this.process(r,0);const u=Fg(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=f/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<p;m++)u.setUint32(4*m,g[m],l)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:l,destroyed:c,pos:u}=this;return t.length=i,t.pos=u,t.finished=l,t.destroyed=c,i%n&&t.buffer.set(r),t}}const IB=(e,t,n)=>e&t^e&n^t&n,LB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bs=new Uint32Array(64);let OB=class extends RB{constructor(){super(64,32,8,!1),this.A=0|xs[0],this.B=0|xs[1],this.C=0|xs[2],this.D=0|xs[3],this.E=0|xs[4],this.F=0|xs[5],this.G=0|xs[6],this.H=0|xs[7]}get(){const{A:t,B:n,C:r,D:i,E:l,F:c,G:u,H:f}=this;return[t,n,r,i,l,c,u,f]}set(t,n,r,i,l,c,u,f){this.A=0|t,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|l,this.F=0|c,this.G=0|u,this.H=0|f}process(t,n){for(let b=0;b<16;b++,n+=4)bs[b]=t.getUint32(n,!1);for(let b=16;b<64;b++){const x=bs[b-15],k=bs[b-2],_=Ii(x,7)^Ii(x,18)^x>>>3,E=Ii(k,17)^Ii(k,19)^k>>>10;bs[b]=E+bs[b-7]+_+bs[b-16]|0}let{A:r,B:i,C:l,D:c,E:u,F:f,G:p,H:g}=this;for(let b=0;b<64;b++){const x=g+(Ii(u,6)^Ii(u,11)^Ii(u,25))+((m=u)&f^~m&p)+LB[b]+bs[b]|0,k=(Ii(r,2)^Ii(r,13)^Ii(r,22))+IB(r,i,l)|0;g=p,p=f,f=u,u=c+x|0,c=l,l=i,i=r,r=x+k|0}var m;r=r+this.A|0,i=i+this.B|0,l=l+this.C|0,c=c+this.D|0,u=u+this.E|0,f=f+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,i,l,c,u,f,p,g)}roundClean(){bs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Uh=AB(()=>new OB);let x0=class{constructor(t){var n,r,i,l;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=t.pr,!this.paymentRequest)throw new Error("Invalid payment request");const c=PB(this.paymentRequest);if(!c)throw new Error("Failed to decode payment request");this.paymentHash=c.paymentHash,this.satoshi=c.satoshi,this.timestamp=c.timestamp,this.expiry=c.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=(n=c.description)!=null?n:null,this.verify=(r=t.verify)!=null?r:null,this.preimage=(i=t.preimage)!=null?i:null,this.successAction=(l=t.successAction)!=null?l:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(t){if(!t||!this.paymentHash)return!1;try{const n=Fh(Uh(CB(t)));return this.paymentHash===n}catch{return!1}}async verifyPayment(){try{if(!this.verify)throw new Error("LNURL verify not available");const t=await fetch(this.verify);if(!t.ok)throw new Error(`Verification request failed: ${t.status} ${t.statusText}`);const n=await t.json();return n.preimage&&(this.preimage=n.preimage),n.settled}catch(t){return console.error("Failed to check LNURL-verify",t),!1}}hasExpired(){const{expiryDate:t}=this;return!!t&&t.getTime()<Date.now()}};const jB=e=>{if(e.tag!=="keysend")throw new Error("Invalid keysend params");if(e.status!=="OK")throw new Error("Keysend status not OK");if(!e.pubkey)throw new Error("Pubkey does not exist");let t,n;return e.customData&&e.customData[0]&&(t=e.customData[0].customKey,n=e.customData[0].customValue),{destination:e.pubkey,customKey:t,customValue:n}};async function MB({satoshi:e,comment:t,p:n,e:r,relays:i},l={}){const c=l.nostr||globalThis.nostr;if(!c)throw new Error("nostr option or window.nostr is not available");const u=[["relays",...i],["amount",e.toString()]];n&&u.push(["p",n]),r&&u.push(["e",r]);const f={pubkey:await c.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:u,content:t??""};return f.id=BB(f),await c.signEvent(f)}function zB(e){if(typeof e.content!="string"||typeof e.created_at!="number"||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function DB(e){if(!zB(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function BB(e){return Fh(Uh(DB(e)))}function FB(e,t){let n,r;var i,l;return t&&e&&(n=(i=e.names)==null?void 0:i[t],r=n?(l=e.relays)==null?void 0:l[n]:void 0),[e,n,r]}const UB=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/,qS=e=>!!e&&UB.test(e),xb=({amount:e,min:t,max:n})=>e>0&&e>=t&&e<=n,$B=async e=>{if(e.tag!=="payRequest")throw new Error("Invalid pay service params");const t=(e.callback+"").trim();if(!qS(t))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(e.minSendable||0)),r=Math.floor(Number(e.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let i,l;try{i=JSON.parse(e.metadata+""),l=Fh(Uh(e.metadata+""))}catch{i=[],l=Fh(Uh("[]"))}let c="",u="",f="",p="";for(let b=0;b<i.length;b++){const[x,k]=i[b];switch(x){case"text/plain":f=k;break;case"text/identifier":p=k;break;case"text/email":c=k;break;case"image/png;base64":case"image/jpeg;base64":u="data:"+x+","+k}}const g=e.payerData;let m;try{m=new URL(t).hostname}catch{}return{callback:t,fixed:n===r,min:n,max:r,domain:m,metadata:i,metadataHash:l,identifier:p,email:c,description:f,image:u,payerData:g,commentAllowed:Number(e.commentAllowed)||0,rawData:e,allowsNostr:e.allowsNostr||!1}};function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ev.apply(this,arguments)}const ZB=async(e,t)=>{const{boost:n}=e;t||(t={});const r=t.webln||globalThis.webln;if(!r)throw new Error("WebLN not available");if(!r.keysend)throw new Error("Keysend not available in current WebLN provider");const i=e.amount||Math.floor(n.value_msat/1e3),l={destination:e.destination,amount:i,customRecords:{7629169:JSON.stringify(n)}};return e.customKey&&e.customValue&&(l.customRecords[e.customKey]=e.customValue),await r.enable(),await r.keysend(l)},HB=/^((?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;class WB{constructor(t,n){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=t,this.options={proxy:"https://api.getalby.com/lnurl"},this.options=Object.assign(this.options,n),this.parse(),this.webln=this.options.webln}parse(){const t=HB.exec(this.address.toLowerCase());t&&(this.username=t[1],this.domain=t[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const t=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!t.ok)throw new Error(`Failed to fetch lnurl info: ${t.status} ${t.statusText}`);const n=await t.json();await this.parseLnUrlPayResponse(n.lnurlp),this.parseKeysendResponse(n.keysend),this.parseNostrResponse(n.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const t=await fetch(this.lnurlpUrl());if(t.ok){const n=await t.json();await this.parseLnUrlPayResponse(n)}}async fetchKeysendData(){const t=await fetch(this.keysendUrl());if(t.ok){const n=await t.json();this.parseKeysendResponse(n)}}async fetchNostrData(){const t=await fetch(this.nostrUrl());if(t.ok){const n=await t.json();this.parseNostrResponse(n)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(t){let n;if(this.options.proxy){const l=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(ev({ln:this.address},t)).toString()}`);if(!l.ok)throw new Error(`Failed to generate invoice: ${l.status} ${l.statusText}`);n=(await l.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!qS(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const l=new URL(this.lnurlpData.callback);l.search=new URLSearchParams(t).toString();const c=await fetch(l.toString());if(!c.ok)throw new Error(`Failed to generate invoice: ${c.status} ${c.statusText}`);n=await c.json()}const r=n&&n.pr&&n.pr.toString();if(!r)throw new Error("Invalid pay service invoice");const i={pr:r};if(n&&n.verify&&(i.verify=n.verify.toString()),n&&n.successAction&&typeof n.successAction=="object"){const{tag:l,message:c,description:u,url:f}=n.successAction;l==="message"?i.successAction={tag:l,message:c}:l==="url"&&(i.successAction={tag:l,description:u,url:f})}return new x0(i)}async requestInvoice(t){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const n=1e3*t.satoshi,{commentAllowed:r,min:i,max:l}=this.lnurlpData;if(!xb({amount:n,min:i,max:l}))throw new Error("Invalid amount");if(t.comment&&r&&r>0&&t.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const c={amount:n.toString()};return t.comment&&(c.comment=t.comment),t.payerdata&&(c.payerdata=JSON.stringify(t.payerdata)),this.generateInvoice(c)}async boost(t,n=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:r,customKey:i,customValue:l}=this.keysendData,c=this.getWebLN();if(!c)throw new Error("WebLN not available");return ZB({destination:r,customKey:i,customValue:l,amount:n,boost:t},{webln:c})}async zapInvoice({satoshi:t,comment:n,relays:r,e:i},l={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const c=this.nostrPubkey,u=1e3*t,{allowsNostr:f,min:p,max:g}=this.lnurlpData;if(!xb({amount:u,min:p,max:g}))throw new Error("Invalid amount");if(!f)throw new Error("Your provider does not support zaps");const m=await MB({satoshi:u,comment:n,p:c,e:i,relays:r},l),b={amount:u.toString(),nostr:JSON.stringify(m)};return await this.generateInvoice(b)}async zap(t,n={}){const r=this.zapInvoice(t,n),i=this.getWebLN();if(!i)throw new Error("WebLN not available");return await i.enable(),i.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(t){t&&(this.lnurlpData=await $B(t))}parseKeysendResponse(t){t&&(this.keysendData=jB(t))}parseNostrResponse(t){t&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=FB(t,this.username))}}function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Us.apply(this,arguments)}if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const VB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function qB(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=VB[e[n]];return t}function zu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=2*r,l=e.slice(i,i+2),c=Number.parseInt(l,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}class Qs extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n}}class KB extends Qs{}class GB extends Qs{}class KS extends Qs{}let bb=class extends KS{};class Eb extends KS{}class kb extends Qs{}class Sb extends Qs{}class Ug extends Qs{}class YB extends Qs{}class JB extends Qs{}class rc{static parseWalletConnectUrl(t){t=t.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://").replace("nostrwalletconnect:","http://").replace("nostr+walletconnect:","http://");const n=new URL(t),r=n.searchParams.get("relay");if(!r)throw new Error("No relay URL found in connection string");const i={walletPubkey:n.host,relayUrl:r},l=n.searchParams.get("secret");l&&(i.secret=l);const c=n.searchParams.get("lud16");return c&&(i.lud16=c),i}constructor(t){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,t&&t.nostrWalletConnectUrl&&(t=Us({},rc.parseWalletConnectUrl(t.nostrWalletConnectUrl),t)),this.options=Us({},t||{}),this.relayUrl=this.options.relayUrl,this.relay=new eE(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?Xn.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?Xn.decode(this.options.walletPubkey).data:this.options.walletPubkey,globalThis.WebSocket===void 0&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(t=!0){let n=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return t&&(n=`${n}&secret=${this.secret}`),n}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return Hs(zu(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error("Missing encryption or version");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(t){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(Jr(t,zu(this.secret)))}getEventHash(t){return Hu(t)}close(){return this.relay.close()}async encrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await Ju.encrypt(this.secret,t,n);else{const i=zs.getConversationKey(zu(this.secret),t);r=zs.encrypt(n,i)}return r}async decrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await Ju.decrypt(this.secret,t,n);else{const i=zs.getConversationKey(zu(this.secret),t);r=zs.decrypt(n,i)}return r}static getAuthorizationUrl(t,n={},r){if(t.indexOf("/#/")>-1)throw new Error("hash router paths not supported");const i=new URL(t);return n.name&&i.searchParams.set("name",n.name),i.searchParams.set("pubkey",r),n.returnTo&&i.searchParams.set("return_to",n.returnTo),n.budgetRenewal&&i.searchParams.set("budget_renewal",n.budgetRenewal),n.expiresAt&&i.searchParams.set("expires_at",Math.floor(n.expiresAt.getTime()/1e3).toString()),n.maxAmount&&i.searchParams.set("max_amount",n.maxAmount.toString()),n.requestMethods&&i.searchParams.set("request_methods",n.requestMethods.join(" ")),n.notificationTypes&&i.searchParams.set("notification_types",n.notificationTypes.join(" ")),n.isolated&&i.searchParams.set("isolated","true"),n.metadata&&i.searchParams.set("metadata",JSON.stringify(n.metadata)),i}static fromAuthorizationUrl(t,n={},r){r=r||qB(rp()),n.name||(n.name=document.location.host);const i=this.getAuthorizationUrl(t,n,Hs(zu(r))),l=window.outerHeight/2+window.screenY-300,c=window.outerWidth/2+window.screenX-200;return new Promise((u,f)=>{const p=window.open(i.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${l},left=${c}`);if(!p)return void f(new Error("failed to execute window.open"));const g=b=>{const x=b.data;x&&x.type==="nwc:success"&&b.origin===`${i.protocol}//${i.host}`&&(x.relayUrl||f(new Error("no relayUrl in response")),x.walletPubkey||f(new Error("no walletPubkey in response")),u(new rc({relayUrl:x.relayUrl,walletPubkey:x.walletPubkey,secret:r,lud16:x.lud16})),clearInterval(m),window.removeEventListener("message",g),p&&p.close())},m=setInterval(()=>{p&&p.closed&&(clearInterval(m),window.removeEventListener("message",g),f(new Error("Popup closed")))},500);window.addEventListener("message",g)})}async getWalletServiceInfo(){var t;await this._checkConnected();const n=await new Promise((f,p)=>{const g=[],m=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});m.onevent=b=>{g.push(b)},m.oneose=()=>{m.close(),f(g)}});if(!n.length)throw new Error("no info event (kind 13194) returned from relay");const r=n[0].content,i=n[0].tags.find(f=>f[0]==="notifications"),l=n[0].tags.find(f=>f[0]==="v"),c=n[0].tags.find(f=>f[0]==="encryption");let u=["nip04"];return l&&l[1].includes("1.0")&&u.push("nip44_v2"),c&&(u=c[1].split(" ")),{encryptions:u,capabilities:r.split(/[ |,]/g),notifications:(i==null||(t=i[1])==null?void 0:t.split(" "))||[]}}async getInfo(){try{return await this.executeNip47Request("get_info",{},t=>!!t.methods,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_info",t),t}}async getBudget(){try{return await this.executeNip47Request("get_budget",{},t=>t!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_budget",t),t}}async getBalance(){try{return await this.executeNip47Request("get_balance",{},t=>t.balance!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_balance",t),t}}async payInvoice(t){try{return await this.executeNip47Request("pay_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request pay_invoice",n),n}}async payKeysend(t){try{return await this.executeNip47Request("pay_keysend",t,n=>!!n.preimage)}catch(n){throw console.error("Failed to request pay_keysend",n),n}}async signMessage(t){try{return await this.executeNip47Request("sign_message",t,n=>n.message===t.message&&!!n.signature)}catch(n){throw console.error("Failed to request sign_message",n),n}}async createConnection(t){try{return await this.executeNip47Request("create_connection",t,n=>!!n.wallet_pubkey)}catch(n){throw console.error("Failed to request create_connection",n),n}}async multiPayInvoice(t){try{return{invoices:await this.executeMultiNip47Request("multi_pay_invoice",t,t.invoices.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_invoice",n),n}}async multiPayKeysend(t){try{return{keysends:await this.executeMultiNip47Request("multi_pay_keysend",t,t.keysends.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_keysend",n),n}}async makeInvoice(t){try{if(!t.amount)throw new Error("No amount specified");return await this.executeNip47Request("make_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_invoice",n),n}}async makeHoldInvoice(t){try{if(!t.amount)throw new Error("No amount specified");if(!t.payment_hash)throw new Error("No payment hash specified");return await this.executeNip47Request("make_hold_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_hold_invoice",n),n}}async settleHoldInvoice(t){try{return await this.executeNip47Request("settle_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request settle_hold_invoice",n),n}}async cancelHoldInvoice(t){try{return await this.executeNip47Request("cancel_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request cancel_hold_invoice",n),n}}async lookupInvoice(t){try{return await this.executeNip47Request("lookup_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request lookup_invoice",n),n}}async listTransactions(t){try{return await this.executeNip47Request("list_transactions",t,n=>!!n.transactions,{replyTimeout:1e4})}catch(n){throw console.error("Failed to request list_transactions",n),n}}async subscribeNotifications(t,n){var r=this;let i,l,c,u=!0;return async function(){for(;u;){try{await r._checkConnected(),await r._selectEncryptionType(),c=r.relay.subscribe([{kinds:[...r.encryptionType==="nip04"?[23196]:[23197]],authors:[r.walletPubkey],"#p":[r.publicKey]}],{}),console.info("subscribed to relay"),c.onevent=async function(f){const p=await r.decrypt(r.walletPubkey,f.content);let g;try{g=JSON.parse(p)}catch(m){return void console.error("Failed to parse decrypted event content",m)}g.notification?(!n||n.indexOf(g.notification_type)>-1)&&t(g):console.error("No notification in response",g)},await new Promise(f=>{i=()=>{f()},l=()=>{console.info("relay disconnected"),i==null||i()},r.relay.onclose=l}),l!==void 0&&(r.relay.onclose=null)}catch(f){console.error("error subscribing to notifications",f||"unknown relay error")}u&&await new Promise(f=>setTimeout(f,1e3))}}(),()=>{var f;u=!1,i==null||i(),(f=c)==null||f.close()}}async executeNip47Request(t,n,r,i){var l=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((c,u)=>{(async function(){const f={method:t,params:n},p=await l.encrypt(l.walletPubkey,JSON.stringify(f)),g={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",l.walletPubkey],["v",l.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",l.encryptionType]],content:p},m=await l.signEvent(g),b=l.relay.subscribe([{kinds:[23195],authors:[l.walletPubkey],"#e":[m.id]}],{}),x=setTimeout(function(){b.close(),u(new Eb(`reply timeout: event ${m.id}`,"INTERNAL"))},(i==null?void 0:i.replyTimeout)||6e4);b.onevent=async function(_){clearTimeout(x),b.close();const E=await l.decrypt(l.walletPubkey,_.content);let P;try{P=JSON.parse(E)}catch{return clearTimeout(x),b.close(),void u(new Sb("failed to deserialize response","INTERNAL"))}var T,I;P.result?r(P.result)?c(P.result):(clearTimeout(x),b.close(),u(new Ug("response from NWC failed validation: "+JSON.stringify(P.result),"INTERNAL"))):(clearTimeout(x),b.close(),u(new GB(((T=P.error)==null?void 0:T.message)||"unknown Error",((I=P.error)==null?void 0:I.code)||"INTERNAL")))};const k=setTimeout(function(){b.close(),u(new bb(`publish timeout: ${m.id}`,"INTERNAL"))},(i==null?void 0:i.publishTimeout)||5e3);try{await l.relay.publish(m),clearTimeout(k)}catch(_){clearTimeout(k),u(new kb(`failed to publish: ${_}`,"INTERNAL"))}})()})}async executeMultiNip47Request(t,n,r,i,l){var c=this;await this._checkConnected(),await this._selectEncryptionType();const u=[];return new Promise((f,p)=>{(async function(){const g={method:t,params:n},m=await c.encrypt(c.walletPubkey,JSON.stringify(g)),b={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",c.walletPubkey],["v",c.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",c.encryptionType]],content:m},x=await c.signEvent(b),k=c.relay.subscribe([{kinds:[23195],authors:[c.walletPubkey],"#e":[x.id]}],{}),_=setTimeout(function(){k.close(),p(new Eb(`reply timeout: event ${x.id}`,"INTERNAL"))},(l==null?void 0:l.replyTimeout)||6e4);k.onevent=async function(P){const T=await c.decrypt(c.walletPubkey,P.content);let I;try{I=JSON.parse(T)}catch{clearTimeout(_),k.close(),p(new Sb("failed to deserialize response","INTERNAL"))}if(I.result){var D;if(!i(I.result))return clearTimeout(_),k.close(),void p(new Ug("Response from NWC failed validation: "+JSON.stringify(I.result),"INTERNAL"));const G=(D=P.tags.find(J=>J[0]==="d"))==null?void 0:D[1];if(G===void 0)return clearTimeout(_),k.close(),void p(new Ug("No d tag found in response event","INTERNAL"));u.push(Us({},I.result,{dTag:G})),u.length===r&&(clearTimeout(_),k.close(),f(u))}else{var B,q;clearTimeout(_),k.close(),p(new YB((B=I.error)==null?void 0:B.message,(q=I.error)==null?void 0:q.code))}};const E=setTimeout(function(){k.close(),p(new bb(`Publish timeout: ${x.id}`,"INTERNAL"))},(l==null?void 0:l.publishTimeout)||5e3);try{await c.relay.publish(x),clearTimeout(E)}catch(P){clearTimeout(E),p(new kb(`Failed to publish: ${P}`,"INTERNAL"))}})()})}async _checkConnected(){if(!this.secret)throw new Error("Missing secret key");if(!this.relayUrl)throw new Error("Missing relay url");try{this.relay.connected||await this.relay.connect()}catch{throw console.error("failed to connect to relay",this.relayUrl),new KB("Failed to connect to "+this.relayUrl,"OTHER")}}async _selectEncryptionType(){if(!this._encryptionType){const t=await this.getWalletServiceInfo(),n=this._findPreferredEncryptionType(t.encryptions);if(!n)throw new JB("no compatible encryption or version found between wallet and client","UNSUPPORTED_ENCRYPTION");n==="nip04"&&console.warn("NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead."),this._encryptionType=n}}_findPreferredEncryptionType(t){return t.includes("nip44_v2")?"nip44_v2":t.includes("nip04")?"nip04":null}}class QB{constructor(t,n){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=n,this.invoice=new x0({pr:n.invoice}),this._nwcClient=t}onPaid(t){var n=this;return async function(){let r;try{var i;r=(i=(await n._nwcClient.getInfo()).notifications)==null?void 0:i.includes("payment_received")}catch{console.error("failed to fetch info, falling back to polling")}const l=u=>{n._unsubscribeFunc==null||n._unsubscribeFunc(),t(u)},c=u=>()=>{n._timeoutFunc=void 0,clearTimeout(n._timeoutId),u()};if(r){const u=f=>{f.notification.payment_hash===n.transaction.payment_hash&&l(f.notification)};n._unsubscribeFunc=c(await n._nwcClient.subscribeNotifications(u,["payment_received"]))}else console.warn("current connection does not support notifications, falling back to polling"),n._unsubscribeFunc=c(n._onPaidPollingFallback(l))}(),this}onTimeout(t,n){return this._timeoutFunc=()=>{var r;(r=this._unsubscribeFunc)==null||r.call(this),n()},this._timeoutId=setTimeout(()=>{var r;(r=this._timeoutFunc)==null||r.call(this)},1e3*t),this}unsubscribe(){var t;(t=this._unsubscribeFunc)==null||t.call(this)}_onPaidPollingFallback(t){var n=this;let r=!0;return async function(){for(;r;){const i=await n._nwcClient.lookupInvoice({payment_hash:n.transaction.payment_hash});if(i.settled_at&&i.preimage){t(i),r=!1;break}await new Promise(l=>setTimeout(l,3e3))}}(),()=>{r=!1}}}async function Cb(e){if(typeof e=="number")return{satoshi:e,millisat:1e3*e};const t=await Promise.resolve(e.satoshi);return{satoshi:t,millisat:1e3*t}}class Pb{constructor(t){this.nwcClient=void 0,this.nwcClient=typeof t=="string"?new rc({nostrWalletConnectUrl:t}):t instanceof rc?t:new rc(t)}async pay(t,n,r){let i=t;const l=n?await Cb(n):void 0;if(i.indexOf("@")>-1){var c,u;if(!l)throw new Error("Amount must be provided when paying to a lightning address");const p=new WB(t);await p.fetch(),i=(await p.requestInvoice({satoshi:l.satoshi,comment:r==null||(c=r.metadata)==null?void 0:c.comment,payerdata:r==null||(u=r.metadata)==null?void 0:u.payer_data})).paymentRequest}const f=await this.nwcClient.payInvoice(Us({},r||{},{invoice:i,amount:l==null?void 0:l.millisat}));return Us({},f,{invoice:new x0({pr:i})})}async requestPayment(t,n){const r=await Cb(t),i=await this.nwcClient.makeInvoice(Us({},n||{},{amount:r.millisat}));return new QB(this.nwcClient,i)}close(){this.nwcClient.close()}}function XB(){const{toast:e}=gd(),[t,n]=Qy("nwc-connections",[]),[r,i]=Qy("nwc-active-connection",null),[l,c]=R.useState({}),u=async(m,b)=>{const k=(E=>{try{return!E.startsWith("nostr+walletconnect://")&&!E.startsWith("nostrwalletconnect://")?(console.error("Invalid NWC URI protocol:",{protocol:E.split("://")[0]}),null):{connectionString:E}}catch(P){return console.error("Failed to parse NWC URI:",P),null}})(m);if(!k)return e({title:"Invalid NWC URI",description:"Please check the connection string and try again.",variant:"destructive"}),!1;if(t.find(E=>E.connectionString===k.connectionString))return e({title:"Connection already exists",description:"This wallet is already connected.",variant:"destructive"}),!1;try{let E;const P=new Promise((B,q)=>{try{const G=new Pb(k.connectionString);B(G)}catch(G){q(G)}}),T=new Promise((B,q)=>{E=setTimeout(()=>q(new Error("Connection test timeout")),1e4)});try{await Promise.race([P,T]),E&&clearTimeout(E)}catch(B){throw E&&clearTimeout(E),B}const I={connectionString:k.connectionString,alias:b||"NWC Wallet",isConnected:!0};c(B=>({...B,[k.connectionString]:{alias:I.alias,methods:["pay_invoice"]}}));const D=[...t,I];return n(D),(t.length===0||!r)&&i(k.connectionString),e({title:"Wallet connected",description:`Successfully connected to ${I.alias}.`}),!0}catch(E){console.error("NWC connection failed:",E);const P=E instanceof Error?E.message:"Unknown error occurred";return e({title:"Connection failed",description:`Could not connect to the wallet: ${P}`,variant:"destructive"}),!1}},f=m=>{const b=t.filter(x=>x.connectionString!==m);if(n(b),r===m){const x=b.length>0?b[0].connectionString:null;i(x)}c(x=>{const k={...x};return delete k[m],k}),e({title:"Wallet disconnected",description:"The wallet connection has been removed."})},p=R.useCallback(()=>!r&&t.length>0?(i(t[0].connectionString),t[0]):r&&t.find(b=>b.connectionString===r)||null,[r,t,i]),g=R.useCallback(async(m,b)=>{if(!m.connectionString)throw new Error("Invalid connection: missing connection string");let x;try{x=new Pb(m.connectionString)}catch(k){throw console.error("Failed to create NWC client:",k),new Error(`Failed to create NWC client: ${k instanceof Error?k.message:"Unknown error"}`)}try{let k;const _=new Promise((P,T)=>{k=setTimeout(()=>T(new Error("Payment timeout after 15 seconds")),15e3)}),E=x.pay(b);try{const P=await Promise.race([E,_]);return k&&clearTimeout(k),P}catch(P){throw k&&clearTimeout(k),P}}catch(k){throw console.error("NWC payment failed:",k),k instanceof Error?k.message.includes("timeout")?new Error("Payment timed out. Please try again."):k.message.includes("insufficient")?new Error("Insufficient balance in connected wallet."):k.message.includes("invalid")?new Error("Invalid invoice or connection. Please check your wallet."):new Error(`Payment failed: ${k.message}`):new Error("Payment failed with unknown error")}},[]);return{connections:t,activeConnection:r,connectionInfo:l,addConnection:u,removeConnection:f,setActiveConnection:i,getActiveConnection:p,sendPayment:g}}const eF=R.createContext(null);function tF({children:e}){const t=XB();return v.jsx(eF.Provider,{value:t,children:e})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd.apply(this,arguments)}var Ds;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ds||(Ds={}));const Tb="popstate";function nF(e){e===void 0&&(e={});function t(r,i){let{pathname:l,search:c,hash:u}=r.location;return tv("",{pathname:l,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$h(i)}return iF(t,n,null,e)}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function b0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rF(){return Math.random().toString(36).substr(2,8)}function Nb(e,t){return{usr:e.state,key:e.key,idx:t}}function tv(e,t,n,r){return n===void 0&&(n=null),nd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mc(t):t,{state:n,key:t&&t.key||r||rF()})}function $h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Mc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function iF(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:l=!1}=r,c=i.history,u=Ds.Pop,f=null,p=g();p==null&&(p=0,c.replaceState(nd({},c.state,{idx:p}),""));function g(){return(c.state||{idx:null}).idx}function m(){u=Ds.Pop;let E=g(),P=E==null?null:E-p;p=E,f&&f({action:u,location:_.location,delta:P})}function b(E,P){u=Ds.Push;let T=tv(_.location,E,P);p=g()+1;let I=Nb(T,p),D=_.createHref(T);try{c.pushState(I,"",D)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(D)}l&&f&&f({action:u,location:_.location,delta:1})}function x(E,P){u=Ds.Replace;let T=tv(_.location,E,P);p=g();let I=Nb(T,p),D=_.createHref(T);c.replaceState(I,"",D),l&&f&&f({action:u,location:_.location,delta:0})}function k(E){let P=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof E=="string"?E:$h(E);return T=T.replace(/ $/,"%20"),hn(P,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,P)}let _={get action(){return u},get location(){return e(i,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Tb,m),f=E,()=>{i.removeEventListener(Tb,m),f=null}},createHref(E){return t(i,E)},createURL:k,encodeLocation(E){let P=k(E);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:b,replace:x,go(E){return c.go(E)}};return _}var Ab;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ab||(Ab={}));function oF(e,t,n){return n===void 0&&(n="/"),sF(e,t,n)}function sF(e,t,n,r){let i=typeof t=="string"?Mc(t):t,l=E0(i.pathname||"/",n);if(l==null)return null;let c=GS(e);aF(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let p=wF(l);u=gF(c[f],p)}return u}function GS(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(l,c,u)=>{let f={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(hn(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=$s([r,f.relativePath]),g=n.concat(f);l.children&&l.children.length>0&&(hn(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),GS(l.children,t,g,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:pF(p,l.index),routesMeta:g})};return e.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))i(l,c);else for(let f of YS(l.path))i(l,c,f)}),t}function YS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let c=YS(r.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function aF(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mF(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lF=/^:[\w-]+$/,cF=3,uF=2,dF=1,fF=10,hF=-2,Rb=e=>e==="*";function pF(e,t){let n=e.split("/"),r=n.length;return n.some(Rb)&&(r+=hF),t&&(r+=uF),n.filter(i=>!Rb(i)).reduce((i,l)=>i+(lF.test(l)?cF:l===""?dF:fF),r)}function mF(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function gF(e,t,n){let{routesMeta:r}=e,i={},l="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],p=u===r.length-1,g=l==="/"?t:t.slice(l.length)||"/",m=yF({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),b=f.route;if(!m)return null;Object.assign(i,m.params),c.push({params:i,pathname:$s([l,m.pathname]),pathnameBase:kF($s([l,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(l=$s([l,m.pathnameBase]))}return c}function yF(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=vF(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,g,m)=>{let{paramName:b,isOptional:x}=g;if(b==="*"){let _=u[m]||"";c=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const k=u[m];return x&&!k?p[b]=void 0:p[b]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function vF(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),b0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function wF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return b0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function E0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const _F=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xF=e=>_F.test(e);function bF(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Mc(e):e,l;if(n)if(xF(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),b0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?l=Ib(n.substring(1),"/"):l=Ib(n,t)}else l=t;return{pathname:l,search:SF(r),hash:CF(i)}}function Ib(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $g(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EF(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function JS(e,t){let n=EF(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function QS(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Mc(e):(i=nd({},e),hn(!i.pathname||!i.pathname.includes("?"),$g("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),$g("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),$g("#","search","hash",i)));let l=e===""||i.pathname==="",c=l?"/":i.pathname,u;if(c==null)u=n;else{let m=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}u=m>=0?t[m]:"/"}let f=bF(i,u),p=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const $s=e=>e.join("/").replace(/\/\/+/g,"/"),kF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const XS=["post","put","patch","delete"];new Set(XS);const TF=["get",...XS];new Set(TF);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rd.apply(this,arguments)}const k0=R.createContext(null),NF=R.createContext(null),Qa=R.createContext(null),Tp=R.createContext(null),Xs=R.createContext({outlet:null,matches:[],isDataRoute:!1}),eC=R.createContext(null);function AF(e,t){let{relative:n}=t===void 0?{}:t;bd()||hn(!1);let{basename:r,navigator:i}=R.useContext(Qa),{hash:l,pathname:c,search:u}=rC(e,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:$s([r,c])),i.createHref({pathname:f,search:u,hash:l})}function bd(){return R.useContext(Tp)!=null}function Xa(){return bd()||hn(!1),R.useContext(Tp).location}function tC(e){R.useContext(Qa).static||R.useLayoutEffect(e)}function nC(){let{isDataRoute:e}=R.useContext(Xs);return e?ZF():RF()}function RF(){bd()||hn(!1);let e=R.useContext(k0),{basename:t,future:n,navigator:r}=R.useContext(Qa),{matches:i}=R.useContext(Xs),{pathname:l}=Xa(),c=JSON.stringify(JS(i,n.v7_relativeSplatPath)),u=R.useRef(!1);return tC(()=>{u.current=!0}),R.useCallback(function(p,g){if(g===void 0&&(g={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let m=QS(p,JSON.parse(c),l,g.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:$s([t,m.pathname])),(g.replace?r.replace:r.push)(m,g.state,g)},[t,r,c,l,e])}function S0(){let{matches:e}=R.useContext(Xs),t=e[e.length-1];return t?t.params:{}}function rC(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=R.useContext(Qa),{matches:i}=R.useContext(Xs),{pathname:l}=Xa(),c=JSON.stringify(JS(i,r.v7_relativeSplatPath));return R.useMemo(()=>QS(e,JSON.parse(c),l,n==="path"),[e,c,l,n])}function IF(e,t){return LF(e,t)}function LF(e,t,n,r){bd()||hn(!1);let{navigator:i}=R.useContext(Qa),{matches:l}=R.useContext(Xs),c=l[l.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let p=Xa(),g;if(t){var m;let E=typeof t=="string"?Mc(t):t;f==="/"||(m=E.pathname)!=null&&m.startsWith(f)||hn(!1),g=E}else g=p;let b=g.pathname||"/",x=b;if(f!=="/"){let E=f.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=oF(e,{pathname:x}),_=DF(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:$s([f,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:$s([f,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,n,r);return t&&_?R.createElement(Tp.Provider,{value:{location:rd({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ds.Pop}},_):_}function OF(){let e=$F(),t=PF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:i},n):null,null)}const jF=R.createElement(OF,null);class MF extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(Xs.Provider,{value:this.props.routeContext},R.createElement(eC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zF(e){let{routeContext:t,match:n,children:r}=e,i=R.useContext(k0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Xs.Provider,{value:t},r)}function DF(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=c.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);g>=0||hn(!1),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<c.length;g++){let m=c[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=g),m.route.id){let{loaderData:b,errors:x}=n,k=m.route.loader&&b[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||k){f=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((g,m,b)=>{let x,k=!1,_=null,E=null;n&&(x=u&&m.route.id?u[m.route.id]:void 0,_=m.route.errorElement||jF,f&&(p<0&&b===0?(HF("route-fallback"),k=!0,E=null):p===b&&(k=!0,E=m.route.hydrateFallbackElement||null)));let P=t.concat(c.slice(0,b+1)),T=()=>{let I;return x?I=_:k?I=E:m.route.Component?I=R.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=g,R.createElement(zF,{match:m,routeContext:{outlet:g,matches:P,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?R.createElement(MF,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:T(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):T()},null)}var iC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iC||{}),oC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oC||{});function BF(e){let t=R.useContext(k0);return t||hn(!1),t}function FF(e){let t=R.useContext(NF);return t||hn(!1),t}function UF(e){let t=R.useContext(Xs);return t||hn(!1),t}function sC(e){let t=UF(),n=t.matches[t.matches.length-1];return n.route.id||hn(!1),n.route.id}function $F(){var e;let t=R.useContext(eC),n=FF(),r=sC();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ZF(){let{router:e}=BF(iC.UseNavigateStable),t=sC(oC.UseNavigateStable),n=R.useRef(!1);return tC(()=>{n.current=!0}),R.useCallback(function(i,l){l===void 0&&(l={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,rd({fromRouteId:t},l)))},[e,t])}const Lb={};function HF(e,t,n){Lb[e]||(Lb[e]=!0)}function WF(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Li(e){hn(!1)}function VF(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ds.Pop,navigator:l,static:c=!1,future:u}=e;bd()&&hn(!1);let f=t.replace(/^\/*/,"/"),p=R.useMemo(()=>({basename:f,navigator:l,static:c,future:rd({v7_relativeSplatPath:!1},u)}),[f,u,l,c]);typeof r=="string"&&(r=Mc(r));let{pathname:g="/",search:m="",hash:b="",state:x=null,key:k="default"}=r,_=R.useMemo(()=>{let E=E0(g,f);return E==null?null:{location:{pathname:E,search:m,hash:b,state:x,key:k},navigationType:i}},[f,g,m,b,x,k,i]);return _==null?null:R.createElement(Qa.Provider,{value:p},R.createElement(Tp.Provider,{children:n,value:_}))}function qF(e){let{children:t,location:n}=e;return IF(nv(t),n)}new Promise(()=>{});function nv(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(r,i)=>{if(!R.isValidElement(r))return;let l=[...t,i];if(r.type===R.Fragment){n.push.apply(n,nv(r.props.children,l));return}r.type!==Li&&hn(!1),!r.props.index||!r.props.children||hn(!1);let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=nv(r.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(this,arguments)}function KF(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,l;for(l=0;l<r.length;l++)i=r[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function GF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YF(e,t){return e.button===0&&(!t||t==="_self")&&!GF(e)}const JF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QF="6";try{window.__reactRouterVersion=QF}catch{}const XF="startTransition",Ob=pv[XF];function eU(e){let{basename:t,children:n,future:r,window:i}=e,l=R.useRef();l.current==null&&(l.current=nF({window:i,v5Compat:!0}));let c=l.current,[u,f]=R.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},g=R.useCallback(m=>{p&&Ob?Ob(()=>f(m)):f(m)},[f,p]);return R.useLayoutEffect(()=>c.listen(g),[c,g]),R.useEffect(()=>WF(r),[r]),R.createElement(VF,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const tU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nn=R.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:l,replace:c,state:u,target:f,to:p,preventScrollReset:g,viewTransition:m}=t,b=KF(t,JF),{basename:x}=R.useContext(Qa),k,_=!1;if(typeof p=="string"&&nU.test(p)&&(k=p,tU))try{let I=new URL(window.location.href),D=p.startsWith("//")?new URL(I.protocol+p):new URL(p),B=E0(D.pathname,x);D.origin===I.origin&&B!=null?p=B+D.search+D.hash:_=!0}catch{}let E=AF(p,{relative:i}),P=rU(p,{replace:c,state:u,target:f,preventScrollReset:g,relative:i,viewTransition:m});function T(I){r&&r(I),I.defaultPrevented||P(I)}return R.createElement("a",rv({},b,{href:k||E,onClick:_||l?r:T,ref:n,target:f}))});var jb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jb||(jb={}));var Mb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Mb||(Mb={}));function rU(e,t){let{target:n,replace:r,state:i,preventScrollReset:l,relative:c,viewTransition:u}=t===void 0?{}:t,f=nC(),p=Xa(),g=rC(e,{relative:c});return R.useCallback(m=>{if(YF(m,n)){m.preventDefault();let b=r!==void 0?r:$h(p)===$h(g);f(e,{replace:b,state:i,preventScrollReset:l,relative:c,viewTransition:u})}},[p,f,g,r,i,n,e,l,c,u])}function iU(){const{pathname:e}=Xa();return R.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const oU=wd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ut=R.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},l)=>{const c=r?Y8:"button";return v.jsx(c,{className:at(oU({variant:t,size:n,className:e})),ref:l,...i})});ut.displayName="Button";const vn=R.forwardRef(({className:e,type:t,...n},r)=>v.jsx("input",{type:t,className:at("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));vn.displayName="Input";var Zg="focusScope.autoFocusOnMount",Hg="focusScope.autoFocusOnUnmount",zb={bubbles:!1,cancelable:!0},sU="FocusScope",C0=R.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=e,[u,f]=R.useState(null),p=hr(i),g=hr(l),m=R.useRef(null),b=Tt(t,_=>f(_)),x=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(r){let _=function(I){if(x.paused||!u)return;const D=I.target;u.contains(D)?m.current=D:Ss(m.current,{select:!0})},E=function(I){if(x.paused||!u)return;const D=I.relatedTarget;D!==null&&(u.contains(D)||Ss(m.current,{select:!0}))},P=function(I){if(document.activeElement===document.body)for(const B of I)B.removedNodes.length>0&&Ss(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",E);const T=new MutationObserver(P);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",E),T.disconnect()}}},[r,u,x.paused]),R.useEffect(()=>{if(u){Bb.add(x);const _=document.activeElement;if(!u.contains(_)){const P=new CustomEvent(Zg,zb);u.addEventListener(Zg,p),u.dispatchEvent(P),P.defaultPrevented||(aU(fU(aC(u)),{select:!0}),document.activeElement===_&&Ss(u))}return()=>{u.removeEventListener(Zg,p),setTimeout(()=>{const P=new CustomEvent(Hg,zb);u.addEventListener(Hg,g),u.dispatchEvent(P),P.defaultPrevented||Ss(_??document.body,{select:!0}),u.removeEventListener(Hg,g),Bb.remove(x)},0)}}},[u,p,g,x]);const k=R.useCallback(_=>{if(!n&&!r||x.paused)return;const E=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,P=document.activeElement;if(E&&P){const T=_.currentTarget,[I,D]=lU(T);I&&D?!_.shiftKey&&P===D?(_.preventDefault(),n&&Ss(I,{select:!0})):_.shiftKey&&P===I&&(_.preventDefault(),n&&Ss(D,{select:!0})):P===T&&_.preventDefault()}},[n,r,x.paused]);return v.jsx(st.div,{tabIndex:-1,...c,ref:b,onKeyDown:k})});C0.displayName=sU;function aU(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ss(r,{select:t}),document.activeElement!==n)return}function lU(e){const t=aC(e),n=Db(t,e),r=Db(t.reverse(),e);return[n,r]}function aC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Db(e,t){for(const n of e)if(!cU(n,{upTo:t}))return n}function cU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uU(e){return e instanceof HTMLInputElement&&"select"in e}function Ss(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&uU(e)&&t&&e.select()}}var Bb=dU();function dU(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Fb(e,t),e.unshift(t)},remove(t){var n;e=Fb(e,t),(n=e[0])==null||n.resume()}}}function Fb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function fU(e){return e.filter(t=>t.tagName!=="A")}var Wg=0;function lC(){R.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ub()),document.body.insertAdjacentElement("beforeend",e[1]??Ub()),Wg++,()=>{Wg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wg--}},[])}function Ub(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Bi=function(){return Bi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Bi.apply(this,arguments)};function cC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function hU(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,l;r<i;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}var yh="right-scroll-bar-position",vh="width-before-scroll-bar",pU="with-scroll-bars-hidden",mU="--removed-body-scroll-bar-size";function Vg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function gU(e,t){var n=R.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var yU=typeof window<"u"?R.useLayoutEffect:R.useEffect,$b=new WeakMap;function vU(e,t){var n=gU(null,function(r){return e.forEach(function(i){return Vg(i,r)})});return yU(function(){var r=$b.get(n);if(r){var i=new Set(r),l=new Set(e),c=n.current;i.forEach(function(u){l.has(u)||Vg(u,null)}),l.forEach(function(u){i.has(u)||Vg(u,c)})}$b.set(n,e)},[e]),n}function wU(e){return e}function _U(e,t){t===void 0&&(t=wU);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var c=t(l,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(r=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(u){return l(u)},filter:function(){return n}}},assignMedium:function(l){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(l),c=n}var f=function(){var g=c;c=[],g.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(g){c.push(g),p()},filter:function(g){return c=c.filter(g),n}}}};return i}function xU(e){e===void 0&&(e={});var t=_U(null);return t.options=Bi({async:!0,ssr:!1},e),t}var uC=function(e){var t=e.sideCar,n=cC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return R.createElement(r,Bi({},n))};uC.isSideCarExport=!0;function bU(e,t){return e.useMedium(t),uC}var dC=xU(),qg=function(){},Np=R.forwardRef(function(e,t){var n=R.useRef(null),r=R.useState({onScrollCapture:qg,onWheelCapture:qg,onTouchMoveCapture:qg}),i=r[0],l=r[1],c=e.forwardProps,u=e.children,f=e.className,p=e.removeScrollBar,g=e.enabled,m=e.shards,b=e.sideCar,x=e.noIsolation,k=e.inert,_=e.allowPinchZoom,E=e.as,P=E===void 0?"div":E,T=e.gapMode,I=cC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=b,B=vU([n,t]),q=Bi(Bi({},I),i);return R.createElement(R.Fragment,null,g&&R.createElement(D,{sideCar:dC,removeScrollBar:p,shards:m,noIsolation:x,inert:k,setCallbacks:l,allowPinchZoom:!!_,lockRef:n,gapMode:T}),c?R.cloneElement(R.Children.only(u),Bi(Bi({},q),{ref:B})):R.createElement(P,Bi({},q,{className:f,ref:B}),u))});Np.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Np.classNames={fullWidth:vh,zeroRight:yh};var EU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=EU();return t&&e.setAttribute("nonce",t),e}function SU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function CU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var PU=function(){var e=0,t=null;return{add:function(n){e==0&&(t=kU())&&(SU(t,n),CU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TU=function(){var e=PU();return function(t,n){R.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},fC=function(){var e=TU(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},NU={left:0,top:0,right:0,gap:0},Kg=function(e){return parseInt(e||"",10)||0},AU=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Kg(n),Kg(r),Kg(i)]},RU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return NU;var t=AU(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},IU=fC(),ic="data-scroll-locked",LU=function(e,t,n,r){var i=e.left,l=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(pU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(ic,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(vh,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(yh," .").concat(yh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vh," .").concat(vh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ic,`] {
    `).concat(mU,": ").concat(u,`px;
  }
`)},Zb=function(){var e=parseInt(document.body.getAttribute(ic)||"0",10);return isFinite(e)?e:0},OU=function(){R.useEffect(function(){return document.body.setAttribute(ic,(Zb()+1).toString()),function(){var e=Zb()-1;e<=0?document.body.removeAttribute(ic):document.body.setAttribute(ic,e.toString())}},[])},jU=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;OU();var l=R.useMemo(function(){return RU(i)},[i]);return R.createElement(IU,{styles:LU(l,!t,i,n?"":"!important")})},iv=!1;if(typeof window<"u")try{var ah=Object.defineProperty({},"passive",{get:function(){return iv=!0,!0}});window.addEventListener("test",ah,ah),window.removeEventListener("test",ah,ah)}catch{iv=!1}var Hl=iv?{passive:!1}:!1,MU=function(e){return e.tagName==="TEXTAREA"},hC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!MU(e)&&n[t]==="visible")},zU=function(e){return hC(e,"overflowY")},DU=function(e){return hC(e,"overflowX")},Hb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=pC(e,r);if(i){var l=mC(e,r),c=l[1],u=l[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},BU=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},FU=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},pC=function(e,t){return e==="v"?zU(t):DU(t)},mC=function(e,t){return e==="v"?BU(t):FU(t)},UU=function(e,t){return e==="h"&&t==="rtl"?-1:1},$U=function(e,t,n,r,i){var l=UU(e,window.getComputedStyle(t).direction),c=l*r,u=n.target,f=t.contains(u),p=!1,g=c>0,m=0,b=0;do{var x=mC(e,u),k=x[0],_=x[1],E=x[2],P=_-E-l*k;(k||P)&&pC(e,u)&&(m+=P,b+=k),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(g&&Math.abs(m)<1||!g&&Math.abs(b)<1)&&(p=!0),p},lh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Wb=function(e){return[e.deltaX,e.deltaY]},Vb=function(e){return e&&"current"in e?e.current:e},ZU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},HU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},WU=0,Wl=[];function VU(e){var t=R.useRef([]),n=R.useRef([0,0]),r=R.useRef(),i=R.useState(WU++)[0],l=R.useState(fC)[0],c=R.useRef(e);R.useEffect(function(){c.current=e},[e]),R.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=hU([e.lockRef.current],(e.shards||[]).map(Vb),!0).filter(Boolean);return _.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=R.useCallback(function(_,E){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!c.current.allowPinchZoom;var P=lh(_),T=n.current,I="deltaX"in _?_.deltaX:T[0]-P[0],D="deltaY"in _?_.deltaY:T[1]-P[1],B,q=_.target,G=Math.abs(I)>Math.abs(D)?"h":"v";if("touches"in _&&G==="h"&&q.type==="range")return!1;var J=Hb(G,q);if(!J)return!0;if(J?B=G:(B=G==="v"?"h":"v",J=Hb(G,q)),!J)return!1;if(!r.current&&"changedTouches"in _&&(I||D)&&(r.current=B),!B)return!0;var V=r.current||B;return $U(V,E,_,V==="h"?I:D)},[]),f=R.useCallback(function(_){var E=_;if(!(!Wl.length||Wl[Wl.length-1]!==l)){var P="deltaY"in E?Wb(E):lh(E),T=t.current.filter(function(B){return B.name===E.type&&(B.target===E.target||E.target===B.shadowParent)&&ZU(B.delta,P)})[0];if(T&&T.should){E.cancelable&&E.preventDefault();return}if(!T){var I=(c.current.shards||[]).map(Vb).filter(Boolean).filter(function(B){return B.contains(E.target)}),D=I.length>0?u(E,I[0]):!c.current.noIsolation;D&&E.cancelable&&E.preventDefault()}}},[]),p=R.useCallback(function(_,E,P,T){var I={name:_,delta:E,target:P,should:T,shadowParent:qU(P)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(D){return D!==I})},1)},[]),g=R.useCallback(function(_){n.current=lh(_),r.current=void 0},[]),m=R.useCallback(function(_){p(_.type,Wb(_),_.target,u(_,e.lockRef.current))},[]),b=R.useCallback(function(_){p(_.type,lh(_),_.target,u(_,e.lockRef.current))},[]);R.useEffect(function(){return Wl.push(l),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Hl),document.addEventListener("touchmove",f,Hl),document.addEventListener("touchstart",g,Hl),function(){Wl=Wl.filter(function(_){return _!==l}),document.removeEventListener("wheel",f,Hl),document.removeEventListener("touchmove",f,Hl),document.removeEventListener("touchstart",g,Hl)}},[]);var x=e.removeScrollBar,k=e.inert;return R.createElement(R.Fragment,null,k?R.createElement(l,{styles:HU(i)}):null,x?R.createElement(jU,{gapMode:e.gapMode}):null)}function qU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const KU=bU(dC,VU);var P0=R.forwardRef(function(e,t){return R.createElement(Np,Bi({},e,{ref:t,sideCar:KU}))});P0.classNames=Np.classNames;var GU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vl=new WeakMap,ch=new WeakMap,uh={},Gg=0,gC=function(e){return e&&(e.host||gC(e.parentNode))},YU=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=gC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},JU=function(e,t,n,r){var i=YU(t,Array.isArray(e)?e:[e]);uh[n]||(uh[n]=new WeakMap);var l=uh[n],c=[],u=new Set,f=new Set(i),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};i.forEach(p);var g=function(m){!m||f.has(m)||Array.prototype.forEach.call(m.children,function(b){if(u.has(b))g(b);else try{var x=b.getAttribute(r),k=x!==null&&x!=="false",_=(Vl.get(b)||0)+1,E=(l.get(b)||0)+1;Vl.set(b,_),l.set(b,E),c.push(b),_===1&&k&&ch.set(b,!0),E===1&&b.setAttribute(n,"true"),k||b.setAttribute(r,"true")}catch(P){console.error("aria-hidden: cannot operate on ",b,P)}})};return g(t),u.clear(),Gg++,function(){c.forEach(function(m){var b=Vl.get(m)-1,x=l.get(m)-1;Vl.set(m,b),l.set(m,x),b||(ch.has(m)||m.removeAttribute(r),ch.delete(m)),x||m.removeAttribute(n)}),Gg--,Gg||(Vl=new WeakMap,Vl=new WeakMap,ch=new WeakMap,uh={})}},yC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=GU(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),JU(r,i,n,"aria-hidden")):function(){return null}},Ap="Dialog",[vC,HZ]=er(Ap),[QU,yi]=vC(Ap),wC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:l,modal:c=!0}=e,u=R.useRef(null),f=R.useRef(null),[p,g]=Oo({prop:r,defaultProp:i??!1,onChange:l,caller:Ap});return v.jsx(QU,{scope:t,triggerRef:u,contentRef:f,contentId:Fs(),titleId:Fs(),descriptionId:Fs(),open:p,onOpenChange:g,onOpenToggle:R.useCallback(()=>g(m=>!m),[g]),modal:c,children:n})};wC.displayName=Ap;var _C="DialogTrigger",XU=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=yi(_C,n),l=Tt(t,i.triggerRef);return v.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":R0(i.open),...r,ref:l,onClick:qe(e.onClick,i.onOpenToggle)})});XU.displayName=_C;var T0="DialogPortal",[e$,xC]=vC(T0,{forceMount:void 0}),bC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,l=yi(T0,t);return v.jsx(e$,{scope:t,forceMount:n,children:R.Children.map(r,c=>v.jsx(Ar,{present:n||l.open,children:v.jsx(vp,{asChild:!0,container:i,children:c})}))})};bC.displayName=T0;var Zh="DialogOverlay",EC=R.forwardRef((e,t)=>{const n=xC(Zh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,l=yi(Zh,e.__scopeDialog);return l.modal?v.jsx(Ar,{present:r||l.open,children:v.jsx(n$,{...i,ref:t})}):null});EC.displayName=Zh;var t$=Sc("DialogOverlay.RemoveScroll"),n$=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=yi(Zh,n);return v.jsx(P0,{as:t$,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(st.div,{"data-state":R0(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ya="DialogContent",kC=R.forwardRef((e,t)=>{const n=xC(Ya,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,l=yi(Ya,e.__scopeDialog);return v.jsx(Ar,{present:r||l.open,children:l.modal?v.jsx(r$,{...i,ref:t}):v.jsx(i$,{...i,ref:t})})});kC.displayName=Ya;var r$=R.forwardRef((e,t)=>{const n=yi(Ya,e.__scopeDialog),r=R.useRef(null),i=Tt(t,n.contentRef,r);return R.useEffect(()=>{const l=r.current;if(l)return yC(l)},[]),v.jsx(SC,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:qe(e.onFocusOutside,l=>l.preventDefault())})}),i$=R.forwardRef((e,t)=>{const n=yi(Ya,e.__scopeDialog),r=R.useRef(!1),i=R.useRef(!1);return v.jsx(SC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),l.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:l=>{var f,p;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),SC=R.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=e,u=yi(Ya,n),f=R.useRef(null),p=Tt(t,f);return lC(),v.jsxs(v.Fragment,{children:[v.jsx(C0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:v.jsx(yd,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":R0(u.open),...c,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(o$,{titleId:u.titleId}),v.jsx(a$,{contentRef:f,descriptionId:u.descriptionId})]})]})}),N0="DialogTitle",A0=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=yi(N0,n);return v.jsx(st.h2,{id:i.titleId,...r,ref:t})});A0.displayName=N0;var CC="DialogDescription",PC=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=yi(CC,n);return v.jsx(st.p,{id:i.descriptionId,...r,ref:t})});PC.displayName=CC;var TC="DialogClose",NC=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=yi(TC,n);return v.jsx(st.button,{type:"button",...r,ref:t,onClick:qe(e.onClick,()=>i.onOpenChange(!1))})});NC.displayName=TC;function R0(e){return e?"open":"closed"}var AC="DialogTitleWarning",[WZ,RC]=K8(AC,{contentName:Ya,titleName:N0,docsSlug:"dialog"}),o$=({titleId:e})=>{const t=RC(AC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return R.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},s$="DialogDescriptionWarning",a$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RC(s$).contentName}}.`;return R.useEffect(()=>{var l;const i=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},l$=wC,c$=bC,IC=EC,LC=kC,OC=A0,jC=PC,u$=NC;const Rp=l$,d$=c$,MC=R.forwardRef(({className:e,...t},n)=>v.jsx(IC,{ref:n,className:at("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));MC.displayName=IC.displayName;const Ed=R.forwardRef(({className:e,children:t,...n},r)=>v.jsxs(d$,{children:[v.jsx(MC,{}),v.jsxs(LC,{ref:r,className:at("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,v.jsxs(u$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[v.jsx(tS,{className:"size-5"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ed.displayName=LC.displayName;const Ip=({className:e,...t})=>v.jsx("div",{className:at("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ip.displayName="DialogHeader";const I0=R.forwardRef(({className:e,...t},n)=>v.jsx(OC,{ref:n,className:at("text-lg font-semibold leading-none tracking-tight",e),...t}));I0.displayName=OC.displayName;const zC=R.forwardRef(({className:e,...t},n)=>v.jsx(jC,{ref:n,className:at("text-sm text-muted-foreground",e),...t}));zC.displayName=jC.displayName;var f$=R.createContext(void 0);function kd(e){const t=R.useContext(f$);return e||t||"ltr"}var Yg="rovingFocusGroup.onEntryFocus",h$={bubbles:!1,cancelable:!0},Sd="RovingFocusGroup",[ov,DC,p$]=yp(Sd),[m$,zc]=er(Sd,[p$]),[g$,y$]=m$(Sd),BC=R.forwardRef((e,t)=>v.jsx(ov.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(ov.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(v$,{...e,ref:t})})}));BC.displayName=Sd;var v$=R.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=e,b=R.useRef(null),x=Tt(t,b),k=kd(l),[_,E]=Oo({prop:c,defaultProp:u??null,onChange:f,caller:Sd}),[P,T]=R.useState(!1),I=hr(p),D=DC(n),B=R.useRef(!1),[q,G]=R.useState(0);return R.useEffect(()=>{const J=b.current;if(J)return J.addEventListener(Yg,I),()=>J.removeEventListener(Yg,I)},[I]),v.jsx(g$,{scope:n,orientation:r,dir:k,loop:i,currentTabStopId:_,onItemFocus:R.useCallback(J=>E(J),[E]),onItemShiftTab:R.useCallback(()=>T(!0),[]),onFocusableItemAdd:R.useCallback(()=>G(J=>J+1),[]),onFocusableItemRemove:R.useCallback(()=>G(J=>J-1),[]),children:v.jsx(st.div,{tabIndex:P||q===0?-1:0,"data-orientation":r,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:qe(e.onMouseDown,()=>{B.current=!0}),onFocus:qe(e.onFocus,J=>{const V=!B.current;if(J.target===J.currentTarget&&V&&!P){const Y=new CustomEvent(Yg,h$);if(J.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const Q=D().filter(ae=>ae.focusable),U=Q.find(ae=>ae.active),re=Q.find(ae=>ae.id===_),W=[U,re,...Q].filter(Boolean).map(ae=>ae.ref.current);$C(W,g)}}B.current=!1}),onBlur:qe(e.onBlur,()=>T(!1))})})}),FC="RovingFocusGroupItem",UC=R.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:l,children:c,...u}=e,f=Fs(),p=l||f,g=y$(FC,n),m=g.currentTabStopId===p,b=DC(n),{onFocusableItemAdd:x,onFocusableItemRemove:k,currentTabStopId:_}=g;return R.useEffect(()=>{if(r)return x(),()=>k()},[r,x,k]),v.jsx(ov.ItemSlot,{scope:n,id:p,focusable:r,active:i,children:v.jsx(st.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:qe(e.onMouseDown,E=>{r?g.onItemFocus(p):E.preventDefault()}),onFocus:qe(e.onFocus,()=>g.onItemFocus(p)),onKeyDown:qe(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const P=x$(E,g.orientation,g.dir);if(P!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let I=b().filter(D=>D.focusable).map(D=>D.ref.current);if(P==="last")I.reverse();else if(P==="prev"||P==="next"){P==="prev"&&I.reverse();const D=I.indexOf(E.currentTarget);I=g.loop?b$(I,D+1):I.slice(D+1)}setTimeout(()=>$C(I))}}),children:typeof c=="function"?c({isCurrentTabStop:m,hasTabStop:_!=null}):c})})});UC.displayName=FC;var w$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function x$(e,t,n){const r=_$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return w$[r]}function $C(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function b$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var L0=BC,O0=UC,Lp="Tabs",[E$,VZ]=er(Lp,[zc]),ZC=zc(),[k$,j0]=E$(Lp),HC=R.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:l,orientation:c="horizontal",dir:u,activationMode:f="automatic",...p}=e,g=kd(u),[m,b]=Oo({prop:r,onChange:i,defaultProp:l??"",caller:Lp});return v.jsx(k$,{scope:n,baseId:Fs(),value:m,onValueChange:b,orientation:c,dir:g,activationMode:f,children:v.jsx(st.div,{dir:g,"data-orientation":c,...p,ref:t})})});HC.displayName=Lp;var WC="TabsList",VC=R.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,l=j0(WC,n),c=ZC(n);return v.jsx(L0,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:r,children:v.jsx(st.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:t})})});VC.displayName=WC;var qC="TabsTrigger",KC=R.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...l}=e,c=j0(qC,n),u=ZC(n),f=JC(c.baseId,r),p=QC(c.baseId,r),g=r===c.value;return v.jsx(O0,{asChild:!0,...u,focusable:!i,active:g,children:v.jsx(st.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...l,ref:t,onMouseDown:qe(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?c.onValueChange(r):m.preventDefault()}),onKeyDown:qe(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&c.onValueChange(r)}),onFocus:qe(e.onFocus,()=>{const m=c.activationMode!=="manual";!g&&!i&&m&&c.onValueChange(r)})})})});KC.displayName=qC;var GC="TabsContent",YC=R.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:l,...c}=e,u=j0(GC,n),f=JC(u.baseId,r),p=QC(u.baseId,r),g=r===u.value,m=R.useRef(g);return R.useEffect(()=>{const b=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(b)},[]),v.jsx(Ar,{present:i||g,children:({present:b})=>v.jsx(st.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!b,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:b&&l})})});YC.displayName=GC;function JC(e,t){return`${e}-trigger-${t}`}function QC(e,t){return`${e}-content-${t}`}var S$=HC,XC=VC,eP=KC,tP=YC;const C$=S$,nP=R.forwardRef(({className:e,...t},n)=>v.jsx(XC,{ref:n,className:at("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));nP.displayName=XC.displayName;const sv=R.forwardRef(({className:e,...t},n)=>v.jsx(eP,{ref:n,className:at("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));sv.displayName=eP.displayName;const av=R.forwardRef(({className:e,...t},n)=>v.jsx(tP,{ref:n,className:at("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));av.displayName=tP.displayName;const P$=wd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rP=R.forwardRef(({className:e,variant:t,...n},r)=>v.jsx("div",{ref:r,role:"alert",className:at(P$({variant:t}),e),...n}));rP.displayName="Alert";const T$=R.forwardRef(({className:e,...t},n)=>v.jsx("h5",{ref:n,className:at("mb-1 font-medium leading-none tracking-tight",e),...t}));T$.displayName="AlertTitle";const iP=R.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:at("text-sm [&_p]:leading-relaxed",e),...t}));iP.displayName="AlertDescription";var Op="Collapsible",[N$,qZ]=er(Op),[A$,M0]=N$(Op),oP=R.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:l,onOpenChange:c,...u}=e,[f,p]=Oo({prop:r,defaultProp:i??!1,onChange:c,caller:Op});return v.jsx(A$,{scope:n,disabled:l,contentId:Fs(),open:f,onOpenToggle:R.useCallback(()=>p(g=>!g),[p]),children:v.jsx(st.div,{"data-state":D0(f),"data-disabled":l?"":void 0,...u,ref:t})})});oP.displayName=Op;var sP="CollapsibleTrigger",aP=R.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=M0(sP,n);return v.jsx(st.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":D0(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:qe(e.onClick,i.onOpenToggle)})});aP.displayName=sP;var z0="CollapsibleContent",lP=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=M0(z0,e.__scopeCollapsible);return v.jsx(Ar,{present:n||i.open,children:({present:l})=>v.jsx(R$,{...r,ref:t,present:l})})});lP.displayName=z0;var R$=R.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...l}=e,c=M0(z0,n),[u,f]=R.useState(r),p=R.useRef(null),g=Tt(t,p),m=R.useRef(0),b=m.current,x=R.useRef(0),k=x.current,_=c.open||u,E=R.useRef(_),P=R.useRef(void 0);return R.useEffect(()=>{const T=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(T)},[]),Nr(()=>{const T=p.current;if(T){P.current=P.current||{transitionDuration:T.style.transitionDuration,animationName:T.style.animationName},T.style.transitionDuration="0s",T.style.animationName="none";const I=T.getBoundingClientRect();m.current=I.height,x.current=I.width,E.current||(T.style.transitionDuration=P.current.transitionDuration,T.style.animationName=P.current.animationName),f(r)}},[c.open,r]),v.jsx(st.div,{"data-state":D0(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!_,...l,ref:g,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...e.style},children:_&&i})});function D0(e){return e?"open":"closed"}var I$=oP;const L$=I$,O$=aP,j$=lP;function cP(){const{nostr:e}=Lo(),{logins:t,addLogin:n,removeLogin:r}=o0();return{nsec(i){const l=Za.fromNsec(i);n(l)},async bunker(i){const l=await Za.fromBunker(i,e);n(l)},async extension(){const i=await Za.fromExtension();n(i)},async logout(){const i=t[0];i&&r(i.id)}}}const qb=e=>/^nsec1[a-zA-Z0-9]{58}$/.test(e),M$=e=>e.startsWith("bunker://"),z$=({isOpen:e,onClose:t,onLogin:n})=>{const[r,i]=R.useState(!1),[l,c]=R.useState(!1),[u,f]=R.useState(""),[p,g]=R.useState(""),[m,b]=R.useState({}),x=R.useRef(null),k=cP();R.useEffect(()=>{e&&(i(!1),c(!1),f(""),g(""),b({}),x.current&&(x.current.value=""))},[e]);const _=async()=>{i(!0),b(J=>({...J,extension:void 0}));try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");await k.extension(),n(),t()}catch(J){const V=J;console.error("Bunker login failed:",V),console.error("Nsec login failed:",V),console.error("Extension login failed:",V),b(Y=>({...Y,extension:V instanceof Error?V.message:"Extension login failed"}))}finally{i(!1)}},E=J=>{i(!0),b({}),setTimeout(()=>{try{k.nsec(J),n(),t()}catch{b({nsec:"Failed to login with this key. Please check that it's correct."}),i(!1)}},50)},P=()=>{if(!u.trim()){b(J=>({...J,nsec:"Please enter your secret key"}));return}if(!qb(u)){b(J=>({...J,nsec:"Invalid secret key format. Must be a valid nsec starting with nsec1."}));return}E(u)},T=async()=>{if(!p.trim()){b(J=>({...J,bunker:"Please enter a bunker URI"}));return}if(!M$(p)){b(J=>({...J,bunker:"Invalid bunker URI format. Must start with bunker://"}));return}i(!0),b(J=>({...J,bunker:void 0}));try{await k.bunker(p),n(),t(),g("")}catch{b(J=>({...J,bunker:"Failed to connect to bunker. Please check the URI."}))}finally{i(!1)}},I=J=>{var Q;const V=(Q=J.target.files)==null?void 0:Q[0];if(!V)return;c(!0),b({});const Y=new FileReader;Y.onload=U=>{var M;c(!1);const re=(M=U.target)==null?void 0:M.result;if(re){const W=re.trim();qb(W)?E(W):b({file:"File does not contain a valid secret key."})}else b({file:"Could not read file content."})},Y.onerror=()=>{c(!1),b({file:"Failed to read file."})},Y.readAsText(V)},D="nostr"in window,[B,q]=R.useState(!1),G=()=>v.jsxs(C$,{defaultValue:"key",className:"w-full",children:[v.jsxs(nP,{className:"grid w-full grid-cols-2 bg-muted/80 rounded-lg mb-4",children:[v.jsx(sv,{value:"key",className:"flex items-center gap-2",children:v.jsx("span",{children:"Secret Key"})}),v.jsx(sv,{value:"bunker",className:"flex items-center gap-2",children:v.jsx("span",{children:"Remote Signer"})})]}),v.jsx(av,{value:"key",className:"space-y-4",children:v.jsxs("form",{onSubmit:J=>{J.preventDefault(),P()},className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(vn,{id:"nsec",type:"password",value:u,onChange:J=>{f(J.target.value),m.nsec&&b(V=>({...V,nsec:void 0}))},className:`rounded-lg ${m.nsec?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:"nsec1...",autoComplete:"off"}),m.nsec&&v.jsx("p",{className:"text-sm text-red-500",children:m.nsec})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx(ut,{type:"submit",size:"lg",disabled:r||!u.trim(),className:"flex-1",children:r?"Verifying...":"Log in"}),v.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:x,onChange:I}),v.jsx(ut,{type:"button",variant:"outline",size:"lg",onClick:()=>{var J;return(J=x.current)==null?void 0:J.click()},disabled:r||l,className:"px-3",children:v.jsx(eS,{className:"w-4 h-4"})})]}),m.file&&v.jsx("p",{className:"text-sm text-red-500 text-center",children:m.file})]})}),v.jsx(av,{value:"bunker",className:"space-y-4",children:v.jsxs("form",{onSubmit:J=>{J.preventDefault(),T()},className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(vn,{id:"bunkerUri",value:p,onChange:J=>{g(J.target.value),m.bunker&&b(V=>({...V,bunker:void 0}))},className:`rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary ${m.bunker?"border-red-500":""}`,placeholder:"bunker://",autoComplete:"off"}),m.bunker&&v.jsx("p",{className:"text-sm text-red-500",children:m.bunker})]}),v.jsx(ut,{type:"submit",size:"lg",className:"w-full",disabled:r||!p.trim(),children:r?"Connecting...":"Log in"})]})})]});return v.jsx(Rp,{open:e,onOpenChange:t,children:v.jsxs(Ed,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[v.jsx(Ip,{className:"px-6 pt-6",children:v.jsx(A0,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:"Log in"})}),v.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),v.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto",children:[D&&v.jsxs("div",{className:"space-y-4",children:[m.extension&&v.jsxs(rP,{variant:"destructive",children:[v.jsx(i6,{className:"h-4 w-4"}),v.jsx(iP,{children:m.extension})]}),v.jsx(ut,{className:"w-full h-12 px-9",onClick:_,disabled:r,children:r?"Logging in...":"Log in with Extension"})]}),D?v.jsxs(L$,{className:"space-y-4",open:B,onOpenChange:q,children:[v.jsx(O$,{asChild:!0,children:v.jsxs("button",{className:"w-full flex items-center justify-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[v.jsx("span",{children:"More Options"}),v.jsx(Jk,{className:`w-4 h-4 transition-transform ${B?"rotate-180":""}`})]})}),v.jsx(j$,{children:G()})]}):G()]})]})})},B0=R.forwardRef(({className:e,...t},n)=>v.jsx("textarea",{className:at("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));B0.displayName="Textarea";function F0(){const{nostr:e}=Lo(),{user:t}=pp();return M1({mutationFn:async n=>{if(t){const r=n.tags??[];location.protocol==="https:"&&!r.some(([l])=>l==="client")&&r.push(["client",location.hostname]);const i=await t.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await e.event(i,{signal:AbortSignal.timeout(5e3)}),i}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}class U0{constructor(t){$e(this,"servers");$e(this,"signer");$e(this,"fetch");$e(this,"expiresIn");this.servers=t.servers,this.signer=t.signer,this.fetch=t.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=t.expiresIn??6e4}async upload(t,n){const r=await crypto.subtle.digest("SHA-256",await t.arrayBuffer()),i=S8(new Uint8Array(r)),l=Date.now(),c=l+this.expiresIn,u=await this.signer.signEvent({kind:24242,content:`Upload ${t.name}`,created_at:Math.floor(l/1e3),tags:[["t","upload"],["x",i],["size",t.size.toString()],["expiration",Math.floor(c/1e3).toString()]]}),f=`Nostr ${R8.encodeEvent(u)}`;return Promise.any(this.servers.map(async p=>{const g=new URL("/upload",p),b=await(await this.fetch(g,{method:"PUT",body:t,headers:{authorization:f,"content-type":t.type},signal:n==null?void 0:n.signal})).json(),x=U0.schema().parse(b),k=[["url",x.url],["x",x.sha256],["ox",x.sha256],["size",x.size.toString()]];return x.type&&k.push(["m",x.type]),k}))}static schema(){return ko({url:Ot(),sha256:Ot(),size:mo(),type:Ot().optional()})}}function uP(){const{user:e}=pp();return M1({mutationFn:async t=>{if(!e)throw new Error("Must be logged in to upload files");return await new U0({servers:["https://blossom.primal.net/"],signer:e.signer}).upload(t)}})}const D$=({isOpen:e,onClose:t})=>{const[n,r]=R.useState("generate"),[i,l]=R.useState(""),[c,u]=R.useState(!1),[f,p]=R.useState({name:"",about:"",picture:""}),g=cP(),{mutateAsync:m,isPending:b}=F0(),{mutateAsync:x,isPending:k}=uP(),_=R.useRef(null),E=()=>{const B=rp();l(Xn.nsecEncode(B)),r("download")},P=()=>{try{const B=new Blob([i],{type:"text/plain; charset=utf-8"}),q=globalThis.URL.createObjectURL(B),G=Xn.decode(i);if(G.type!=="nsec")throw new Error("Invalid nsec key");const J=Hs(G.data),V=Xn.npubEncode(J),Y=`nostr-${location.hostname.replaceAll(/\./g,"-")}-${V.slice(5,9)}.nsec.txt`,Q=document.createElement("a");Q.href=q,Q.download=Y,Q.style.display="none",document.body.appendChild(Q),Q.click(),globalThis.URL.revokeObjectURL(q),document.body.removeChild(Q),g.nsec(i),r("profile")}catch{ql({title:"Download failed",description:"Could not download the key file. Please copy it manually.",variant:"destructive"})}},T=async B=>{var G,J;const q=(G=B.target.files)==null?void 0:G[0];if(q){if(B.target.value="",!q.type.startsWith("image/")){ql({title:"Invalid file type",description:"Please select an image file for your avatar.",variant:"destructive"});return}if(q.size>5*1024*1024){ql({title:"File too large",description:"Avatar image must be smaller than 5MB.",variant:"destructive"});return}try{const Y=(J=(await x(q))[0])==null?void 0:J[1];Y&&p(Q=>({...Q,picture:Y}))}catch{ql({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}}},I=async(B=!1)=>{try{if(!B&&(f.name||f.about||f.picture)){const q={};f.name&&(q.name=f.name),f.about&&(q.about=f.about),f.picture&&(q.picture=f.picture),await m({kind:0,content:JSON.stringify(q)})}}catch{ql({title:"Profile Setup Failed",description:"Your account was created but profile setup failed. You can update it later.",variant:"destructive"})}finally{t()}},D=()=>{if(n==="generate")return"Sign up";if(n==="download")return"Secret Key";if(n==="profile")return"Create Your Profile"};return R.useEffect(()=>{e&&(r("generate"),l(""),u(!1),p({name:"",about:"",picture:""}))},[e]),v.jsx(Rp,{open:e,onOpenChange:t,children:v.jsxs(Ed,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[v.jsx(Ip,{className:"px-6 pt-6",children:v.jsx(I0,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:D()})}),v.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto flex-1",children:[n==="generate"&&v.jsxs("div",{className:"text-center space-y-6",children:[v.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),v.jsx(ut,{className:"w-full h-12 px-9",onClick:E,children:"Generate key"})]}),n==="download"&&v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"flex size-16 text-4xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),v.jsxs("div",{className:"relative",children:[v.jsx(vn,{type:c?"text":"password",value:i,readOnly:!0,className:"pr-10 font-mono text-sm"}),v.jsx(ut,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>u(!c),children:c?v.jsx(q5,{className:"h-4 w-4 text-muted-foreground"}):v.jsx(K5,{className:"h-4 w-4 text-muted-foreground"})})]}),v.jsxs(ut,{className:"w-full h-12 px-9",onClick:P,children:[v.jsx(V5,{className:"size-4"}),"Download key"]}),v.jsx("div",{className:"mx-auto max-w-sm",children:v.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[v.jsx("div",{className:"flex items-center gap-2 mb-1",children:v.jsx("span",{className:"text-xs font-semibold text-amber-800 dark:text-amber-200",children:"Important Warning"})}),v.jsx("p",{className:"text-xs text-amber-900 dark:text-amber-300",children:"This key is your primary and only means of accessing your account. Store it safely and securely. Please download your key to continue."})]})})]}),n==="profile"&&v.jsxs("div",{className:"text-center space-y-4",children:[b&&v.jsx("div",{className:"p-4 rounded-lg bg-muted border",children:v.jsxs("div",{className:"flex items-center justify-center gap-3",children:[v.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),v.jsx("span",{className:"text-sm font-medium",children:"Publishing your profile..."})]})}),v.jsxs("div",{className:`space-y-4 text-left ${b?"opacity-50 pointer-events-none":""}`,children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"profile-name",className:"text-sm font-medium",children:"Display Name"}),v.jsx(vn,{id:"profile-name",value:f.name,onChange:B=>p(q=>({...q,name:B.target.value})),placeholder:"Your name",disabled:b})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"profile-about",className:"text-sm font-medium",children:"Bio"}),v.jsx(B0,{id:"profile-about",value:f.about,onChange:B=>p(q=>({...q,about:B.target.value})),placeholder:"Tell others about yourself...",className:"resize-none",rows:3,disabled:b})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"profile-picture",className:"text-sm font-medium",children:"Avatar"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(vn,{id:"profile-picture",value:f.picture,onChange:B=>p(q=>({...q,picture:B.target.value})),placeholder:"https://example.com/your-avatar.jpg",className:"flex-1",disabled:b}),v.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:_,onChange:T}),v.jsx(ut,{type:"button",variant:"outline",size:"icon",onClick:()=>{var B;return(B=_.current)==null?void 0:B.click()},disabled:k||b,title:"Upload avatar image",children:k?v.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):v.jsx(eS,{className:"w-4 h-4"})})]})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(ut,{className:"w-full",onClick:()=>I(!1),disabled:b||k,children:b?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):"Create profile"}),v.jsx(ut,{variant:"outline",className:"w-full",onClick:()=>I(!0),disabled:b||k,children:b?"Setting up account...":"Skip for now"})]})]})]})]})})};function dP(){const{nostr:e}=Lo(),{logins:t,setLogin:n,removeLogin:r}=o0(),{data:i=[]}=Ra({queryKey:["nostr","logins",t.map(u=>u.id).join(";")],queryFn:async({signal:u})=>{const f=await e.query([{kinds:[0],authors:t.map(p=>p.pubkey)}],{signal:AbortSignal.any([u,AbortSignal.timeout(1500)])});return t.map(({id:p,pubkey:g})=>{const m=f.find(b=>b.pubkey===g);try{const b=bt.json().pipe(bt.metadata()).parse(m==null?void 0:m.content);return{id:p,pubkey:g,metadata:b,event:m}}catch{return{id:p,pubkey:g,metadata:{},event:m}}})},retry:3}),l=(()=>{const u=t[0];if(!u)return;const f=i.find(p=>p.id===u.id);return{metadata:{},...f,id:u.id,pubkey:u.pubkey}})(),c=(i||[]).slice(1);return{authors:i,currentUser:l,otherUsers:c,setLogin:n,removeLogin:r}}var lv=["Enter"," "],B$=["ArrowDown","PageUp","Home"],fP=["ArrowUp","PageDown","End"],F$=[...B$,...fP],U$={ltr:[...lv,"ArrowRight"],rtl:[...lv,"ArrowLeft"]},$$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cd="Menu",[id,Z$,H$]=yp(Cd),[el,hP]=er(Cd,[H$,Sp,zc]),jp=Sp(),pP=zc(),[W$,tl]=el(Cd),[V$,Pd]=el(Cd),mP=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:l,modal:c=!0}=e,u=jp(t),[f,p]=R.useState(null),g=R.useRef(!1),m=hr(l),b=kd(i);return R.useEffect(()=>{const x=()=>{g.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>g.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),v.jsx(YD,{...u,children:v.jsx(W$,{scope:t,open:n,onOpenChange:m,content:f,onContentChange:p,children:v.jsx(V$,{scope:t,onClose:R.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:b,modal:c,children:r})})})};mP.displayName=Cd;var q$="MenuAnchor",$0=R.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=jp(n);return v.jsx(LS,{...i,...r,ref:t})});$0.displayName=q$;var Z0="MenuPortal",[K$,gP]=el(Z0,{forceMount:void 0}),yP=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,l=tl(Z0,t);return v.jsx(K$,{scope:t,forceMount:n,children:v.jsx(Ar,{present:n||l.open,children:v.jsx(vp,{asChild:!0,container:i,children:r})})})};yP.displayName=Z0;var Yr="MenuContent",[G$,H0]=el(Yr),vP=R.forwardRef((e,t)=>{const n=gP(Yr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,l=tl(Yr,e.__scopeMenu),c=Pd(Yr,e.__scopeMenu);return v.jsx(id.Provider,{scope:e.__scopeMenu,children:v.jsx(Ar,{present:r||l.open,children:v.jsx(id.Slot,{scope:e.__scopeMenu,children:c.modal?v.jsx(Y$,{...i,ref:t}):v.jsx(J$,{...i,ref:t})})})})}),Y$=R.forwardRef((e,t)=>{const n=tl(Yr,e.__scopeMenu),r=R.useRef(null),i=Tt(t,r);return R.useEffect(()=>{const l=r.current;if(l)return yC(l)},[]),v.jsx(W0,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:qe(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),J$=R.forwardRef((e,t)=>{const n=tl(Yr,e.__scopeMenu);return v.jsx(W0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Q$=Sc("MenuContent.ScrollLock"),W0=R.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:b,onDismiss:x,disableOutsideScroll:k,..._}=e,E=tl(Yr,n),P=Pd(Yr,n),T=jp(n),I=pP(n),D=Z$(n),[B,q]=R.useState(null),G=R.useRef(null),J=Tt(t,G,E.onContentChange),V=R.useRef(0),Y=R.useRef(""),Q=R.useRef(0),U=R.useRef(null),re=R.useRef("right"),M=R.useRef(0),W=k?P0:R.Fragment,ae=k?{as:Q$,allowPinchZoom:!0}:void 0,oe=ee=>{var Ue,De;const le=Y.current+ee,F=D().filter(Fe=>!Fe.disabled),K=document.activeElement,Ce=(Ue=F.find(Fe=>Fe.ref.current===K))==null?void 0:Ue.textValue,be=F.map(Fe=>Fe.textValue),we=u7(be,le,Ce),Ie=(De=F.find(Fe=>Fe.textValue===we))==null?void 0:De.ref.current;(function Fe(rt){Y.current=rt,window.clearTimeout(V.current),rt!==""&&(V.current=window.setTimeout(()=>Fe(""),1e3))})(le),Ie&&setTimeout(()=>Ie.focus())};R.useEffect(()=>()=>window.clearTimeout(V.current),[]),lC();const ne=R.useCallback(ee=>{var F,K;return re.current===((F=U.current)==null?void 0:F.side)&&f7(ee,(K=U.current)==null?void 0:K.area)},[]);return v.jsx(G$,{scope:n,searchRef:Y,onItemEnter:R.useCallback(ee=>{ne(ee)&&ee.preventDefault()},[ne]),onItemLeave:R.useCallback(ee=>{var le;ne(ee)||((le=G.current)==null||le.focus(),q(null))},[ne]),onTriggerLeave:R.useCallback(ee=>{ne(ee)&&ee.preventDefault()},[ne]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:R.useCallback(ee=>{U.current=ee},[]),children:v.jsx(W,{...ae,children:v.jsx(C0,{asChild:!0,trapped:i,onMountAutoFocus:qe(l,ee=>{var le;ee.preventDefault(),(le=G.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:v.jsx(yd,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:b,onDismiss:x,children:v.jsx(L0,{asChild:!0,...I,dir:P.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:q,onEntryFocus:qe(f,ee=>{P.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(OS,{role:"menu","aria-orientation":"vertical","data-state":OP(E.open),"data-radix-menu-content":"",dir:P.dir,...T,..._,ref:J,style:{outline:"none",..._.style},onKeyDown:qe(_.onKeyDown,ee=>{const F=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,K=ee.ctrlKey||ee.altKey||ee.metaKey,Ce=ee.key.length===1;F&&(ee.key==="Tab"&&ee.preventDefault(),!K&&Ce&&oe(ee.key));const be=G.current;if(ee.target!==be||!F$.includes(ee.key))return;ee.preventDefault();const Ie=D().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);fP.includes(ee.key)&&Ie.reverse(),l7(Ie)}),onBlur:qe(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(V.current),Y.current="")}),onPointerMove:qe(e.onPointerMove,od(ee=>{const le=ee.target,F=M.current!==ee.clientX;if(ee.currentTarget.contains(le)&&F){const K=ee.clientX>M.current?"right":"left";re.current=K,M.current=ee.clientX}}))})})})})})})});vP.displayName=Yr;var X$="MenuGroup",V0=R.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return v.jsx(st.div,{role:"group",...r,ref:t})});V0.displayName=X$;var e7="MenuLabel",wP=R.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return v.jsx(st.div,{...r,ref:t})});wP.displayName=e7;var Hh="MenuItem",Kb="menu.itemSelect",Mp=R.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,l=R.useRef(null),c=Pd(Hh,e.__scopeMenu),u=H0(Hh,e.__scopeMenu),f=Tt(t,l),p=R.useRef(!1),g=()=>{const m=l.current;if(!n&&m){const b=new CustomEvent(Kb,{bubbles:!0,cancelable:!0});m.addEventListener(Kb,x=>r==null?void 0:r(x),{once:!0}),s0(m,b),b.defaultPrevented?p.current=!1:c.onClose()}};return v.jsx(_P,{...i,ref:f,disabled:n,onClick:qe(e.onClick,g),onPointerDown:m=>{var b;(b=e.onPointerDown)==null||b.call(e,m),p.current=!0},onPointerUp:qe(e.onPointerUp,m=>{var b;p.current||(b=m.currentTarget)==null||b.click()}),onKeyDown:qe(e.onKeyDown,m=>{const b=u.searchRef.current!=="";n||b&&m.key===" "||lv.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Mp.displayName=Hh;var _P=R.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...l}=e,c=H0(Hh,n),u=pP(n),f=R.useRef(null),p=Tt(t,f),[g,m]=R.useState(!1),[b,x]=R.useState("");return R.useEffect(()=>{const k=f.current;k&&x((k.textContent??"").trim())},[l.children]),v.jsx(id.ItemSlot,{scope:n,disabled:r,textValue:i??b,children:v.jsx(O0,{asChild:!0,...u,focusable:!r,children:v.jsx(st.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:p,onPointerMove:qe(e.onPointerMove,od(k=>{r?c.onItemLeave(k):(c.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:qe(e.onPointerLeave,od(k=>c.onItemLeave(k))),onFocus:qe(e.onFocus,()=>m(!0)),onBlur:qe(e.onBlur,()=>m(!1))})})})}),t7="MenuCheckboxItem",xP=R.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return v.jsx(CP,{scope:e.__scopeMenu,checked:n,children:v.jsx(Mp,{role:"menuitemcheckbox","aria-checked":Wh(n)?"mixed":n,...i,ref:t,"data-state":K0(n),onSelect:qe(i.onSelect,()=>r==null?void 0:r(Wh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});xP.displayName=t7;var bP="MenuRadioGroup",[n7,r7]=el(bP,{value:void 0,onValueChange:()=>{}}),EP=R.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,l=hr(r);return v.jsx(n7,{scope:e.__scopeMenu,value:n,onValueChange:l,children:v.jsx(V0,{...i,ref:t})})});EP.displayName=bP;var kP="MenuRadioItem",SP=R.forwardRef((e,t)=>{const{value:n,...r}=e,i=r7(kP,e.__scopeMenu),l=n===i.value;return v.jsx(CP,{scope:e.__scopeMenu,checked:l,children:v.jsx(Mp,{role:"menuitemradio","aria-checked":l,...r,ref:t,"data-state":K0(l),onSelect:qe(r.onSelect,()=>{var c;return(c=i.onValueChange)==null?void 0:c.call(i,n)},{checkForDefaultPrevented:!1})})})});SP.displayName=kP;var q0="MenuItemIndicator",[CP,i7]=el(q0,{checked:!1}),PP=R.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,l=i7(q0,n);return v.jsx(Ar,{present:r||Wh(l.checked)||l.checked===!0,children:v.jsx(st.span,{...i,ref:t,"data-state":K0(l.checked)})})});PP.displayName=q0;var o7="MenuSeparator",TP=R.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return v.jsx(st.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});TP.displayName=o7;var s7="MenuArrow",NP=R.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=jp(n);return v.jsx(jS,{...i,...r,ref:t})});NP.displayName=s7;var a7="MenuSub",[KZ,AP]=el(a7),Uu="MenuSubTrigger",RP=R.forwardRef((e,t)=>{const n=tl(Uu,e.__scopeMenu),r=Pd(Uu,e.__scopeMenu),i=AP(Uu,e.__scopeMenu),l=H0(Uu,e.__scopeMenu),c=R.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=l,p={__scopeMenu:e.__scopeMenu},g=R.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return R.useEffect(()=>g,[g]),R.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),f(null)}},[u,f]),v.jsx($0,{asChild:!0,...p,children:v.jsx(_P,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":OP(n.open),...e,ref:gp(t,i.onTriggerChange),onClick:m=>{var b;(b=e.onClick)==null||b.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:qe(e.onPointerMove,od(m=>{l.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:qe(e.onPointerLeave,od(m=>{var x,k;g();const b=(x=n.content)==null?void 0:x.getBoundingClientRect();if(b){const _=(k=n.content)==null?void 0:k.dataset.side,E=_==="right",P=E?-5:5,T=b[E?"left":"right"],I=b[E?"right":"left"];l.onPointerGraceIntentChange({area:[{x:m.clientX+P,y:m.clientY},{x:T,y:b.top},{x:I,y:b.top},{x:I,y:b.bottom},{x:T,y:b.bottom}],side:_}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(m),m.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:qe(e.onKeyDown,m=>{var x;const b=l.searchRef.current!=="";e.disabled||b&&m.key===" "||U$[r.dir].includes(m.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),m.preventDefault())})})})});RP.displayName=Uu;var IP="MenuSubContent",LP=R.forwardRef((e,t)=>{const n=gP(Yr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,l=tl(Yr,e.__scopeMenu),c=Pd(Yr,e.__scopeMenu),u=AP(IP,e.__scopeMenu),f=R.useRef(null),p=Tt(t,f);return v.jsx(id.Provider,{scope:e.__scopeMenu,children:v.jsx(Ar,{present:r||l.open,children:v.jsx(id.Slot,{scope:e.__scopeMenu,children:v.jsx(W0,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:p,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var m;c.isUsingKeyboardRef.current&&((m=f.current)==null||m.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:qe(e.onFocusOutside,g=>{g.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:qe(e.onEscapeKeyDown,g=>{c.onClose(),g.preventDefault()}),onKeyDown:qe(e.onKeyDown,g=>{var x;const m=g.currentTarget.contains(g.target),b=$$[c.dir].includes(g.key);m&&b&&(l.onOpenChange(!1),(x=u.trigger)==null||x.focus(),g.preventDefault())})})})})})});LP.displayName=IP;function OP(e){return e?"open":"closed"}function Wh(e){return e==="indeterminate"}function K0(e){return Wh(e)?"indeterminate":e?"checked":"unchecked"}function l7(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function c7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function u7(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=c7(e,Math.max(l,0));i.length===1&&(c=c.filter(p=>p!==n));const f=c.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function d7(e,t){const{x:n,y:r}=e;let i=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const u=t[l],f=t[c],p=u.x,g=u.y,m=f.x,b=f.y;g>r!=b>r&&n<(m-p)*(r-g)/(b-g)+p&&(i=!i)}return i}function f7(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return d7(n,t)}function od(e){return t=>t.pointerType==="mouse"?e(t):void 0}var h7=mP,p7=$0,m7=yP,g7=vP,y7=V0,v7=wP,w7=Mp,_7=xP,x7=EP,b7=SP,E7=PP,k7=TP,S7=NP,C7=RP,P7=LP,zp="DropdownMenu",[T7,GZ]=er(zp,[hP]),tr=hP(),[N7,jP]=T7(zp),MP=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:l,onOpenChange:c,modal:u=!0}=e,f=tr(t),p=R.useRef(null),[g,m]=Oo({prop:i,defaultProp:l??!1,onChange:c,caller:zp});return v.jsx(N7,{scope:t,triggerId:Fs(),triggerRef:p,contentId:Fs(),open:g,onOpenChange:m,onOpenToggle:R.useCallback(()=>m(b=>!b),[m]),modal:u,children:v.jsx(h7,{...f,open:g,onOpenChange:m,dir:r,modal:u,children:n})})};MP.displayName=zp;var zP="DropdownMenuTrigger",DP=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,l=jP(zP,n),c=tr(n);return v.jsx(p7,{asChild:!0,...c,children:v.jsx(st.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:gp(t,l.triggerRef),onPointerDown:qe(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(l.onOpenToggle(),l.open||u.preventDefault())}),onKeyDown:qe(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&l.onOpenToggle(),u.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});DP.displayName=zP;var A7="DropdownMenuPortal",BP=e=>{const{__scopeDropdownMenu:t,...n}=e,r=tr(t);return v.jsx(m7,{...r,...n})};BP.displayName=A7;var FP="DropdownMenuContent",UP=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=jP(FP,n),l=tr(n),c=R.useRef(!1);return v.jsx(g7,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...r,ref:t,onCloseAutoFocus:qe(e.onCloseAutoFocus,u=>{var f;c.current||(f=i.triggerRef.current)==null||f.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:qe(e.onInteractOutside,u=>{const f=u.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,g=f.button===2||p;(!i.modal||g)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UP.displayName=FP;var R7="DropdownMenuGroup",I7=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return v.jsx(y7,{...i,...r,ref:t})});I7.displayName=R7;var L7="DropdownMenuLabel",$P=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return v.jsx(v7,{...i,...r,ref:t})});$P.displayName=L7;var O7="DropdownMenuItem",ZP=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return v.jsx(w7,{...i,...r,ref:t})});ZP.displayName=O7;var j7="DropdownMenuCheckboxItem",HP=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return v.jsx(_7,{...i,...r,ref:t})});HP.displayName=j7;var M7="DropdownMenuRadioGroup",z7=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return v.jsx(x7,{...i,...r,ref:t})});z7.displayName=M7;var D7="DropdownMenuRadioItem",WP=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return v.jsx(b7,{...i,...r,ref:t})});WP.displayName=D7;var B7="DropdownMenuItemIndicator",VP=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return v.jsx(E7,{...i,...r,ref:t})});VP.displayName=B7;var F7="DropdownMenuSeparator",qP=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return v.jsx(k7,{...i,...r,ref:t})});qP.displayName=F7;var U7="DropdownMenuArrow",$7=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return v.jsx(S7,{...i,...r,ref:t})});$7.displayName=U7;var Z7="DropdownMenuSubTrigger",KP=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return v.jsx(C7,{...i,...r,ref:t})});KP.displayName=Z7;var H7="DropdownMenuSubContent",GP=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tr(n);return v.jsx(P7,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GP.displayName=H7;var W7=MP,V7=DP,q7=BP,YP=UP,JP=$P,QP=ZP,XP=HP,eT=WP,tT=VP,nT=qP,rT=KP,iT=GP;const K7=W7,G7=V7,Y7=R.forwardRef(({className:e,inset:t,children:n,...r},i)=>v.jsxs(rT,{ref:i,className:at("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,v.jsx(H5,{className:"ml-auto h-4 w-4"})]}));Y7.displayName=rT.displayName;const J7=R.forwardRef(({className:e,...t},n)=>v.jsx(iT,{ref:n,className:at("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));J7.displayName=iT.displayName;const oT=R.forwardRef(({className:e,sideOffset:t=4,...n},r)=>v.jsx(q7,{children:v.jsx(YP,{ref:r,sideOffset:t,className:at("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));oT.displayName=YP.displayName;const wh=R.forwardRef(({className:e,inset:t,...n},r)=>v.jsx(QP,{ref:r,className:at("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));wh.displayName=QP.displayName;const Q7=R.forwardRef(({className:e,children:t,checked:n,...r},i)=>v.jsxs(XP,{ref:i,className:at("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(tT,{children:v.jsx(Z5,{className:"h-4 w-4"})})}),t]}));Q7.displayName=XP.displayName;const X7=R.forwardRef(({className:e,children:t,...n},r)=>v.jsxs(eT,{ref:r,className:at("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(tT,{children:v.jsx(Qk,{className:"h-2 w-2 fill-current"})})}),t]}));X7.displayName=eT.displayName;const e9=R.forwardRef(({className:e,inset:t,...n},r)=>v.jsx(JP,{ref:r,className:at("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));e9.displayName=JP.displayName;const sT=R.forwardRef(({className:e,...t},n)=>v.jsx(nT,{ref:n,className:at("-mx-1 my-1 h-px bg-muted",e),...t}));sT.displayName=nT.displayName;var Jg={exports:{}},Qg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function t9(){if(Gb)return Qg;Gb=1;var e=Kh();function t(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(m,b){var x=b(),k=r({inst:{value:x,getSnapshot:b}}),_=k[0].inst,E=k[1];return l(function(){_.value=x,_.getSnapshot=b,f(_)&&E({inst:_})},[m,x,b]),i(function(){return f(_)&&E({inst:_}),m(function(){f(_)&&E({inst:_})})},[m]),c(x),x}function f(m){var b=m.getSnapshot;m=m.value;try{var x=b();return!n(m,x)}catch{return!0}}function p(m,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return Qg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Qg}var Yb;function n9(){return Yb||(Yb=1,Jg.exports=t9()),Jg.exports}var r9=n9();function i9(){return r9.useSyncExternalStore(o9,()=>!0,()=>!1)}function o9(){return()=>{}}var G0="Avatar",[s9,YZ]=er(G0),[a9,aT]=s9(G0),lT=R.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,l]=R.useState("idle");return v.jsx(a9,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:v.jsx(st.span,{...r,ref:t})})});lT.displayName=G0;var cT="AvatarImage",uT=R.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...l}=e,c=aT(cT,n),u=l9(r,l),f=hr(p=>{i(p),c.onImageLoadingStatusChange(p)});return Nr(()=>{u!=="idle"&&f(u)},[u,f]),u==="loaded"?v.jsx(st.img,{...l,ref:t,src:r}):null});uT.displayName=cT;var dT="AvatarFallback",fT=R.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,l=aT(dT,n),[c,u]=R.useState(r===void 0);return R.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(f)}},[r]),c&&l.imageLoadingStatus!=="loaded"?v.jsx(st.span,{...i,ref:t}):null});fT.displayName=dT;function Jb(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function l9(e,{referrerPolicy:t,crossOrigin:n}){const r=i9(),i=R.useRef(null),l=r?(i.current||(i.current=new window.Image),i.current):null,[c,u]=R.useState(()=>Jb(l,e));return Nr(()=>{u(Jb(l,e))},[l,e]),Nr(()=>{const f=m=>()=>{u(m)};if(!l)return;const p=f("loaded"),g=f("error");return l.addEventListener("load",p),l.addEventListener("error",g),t&&(l.referrerPolicy=t),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",p),l.removeEventListener("error",g)}},[l,n,t]),c}var hT=lT,pT=uT,mT=fT;const sd=R.forwardRef(({className:e,...t},n)=>v.jsx(hT,{ref:n,className:at("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));sd.displayName=hT.displayName;const cv=R.forwardRef(({className:e,...t},n)=>v.jsx(pT,{ref:n,className:at("aspect-square h-full w-full object-cover",e),...t}));cv.displayName=pT.displayName;const ad=R.forwardRef(({className:e,...t},n)=>v.jsx(mT,{ref:n,className:at("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ad.displayName=mT.displayName;function gT(e){const t=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let c=0;c<e.length;c++){const u=e.charCodeAt(c);r=(r<<5)-r+u,r=r&r}const i=Math.abs(r)%t.length,l=Math.abs(r>>8)%n.length;return[t[i],n[l]].join(" ")}function c9({onAddAccountClick:e}){const{currentUser:t,otherUsers:n,setLogin:r,removeLogin:i}=dP();if(!t)return null;const l=c=>c.metadata.name??gT(c.pubkey);return v.jsxs(K7,{modal:!1,children:[v.jsx(G7,{asChild:!0,children:v.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[v.jsxs(sd,{className:"w-10 h-10",children:[v.jsx(cv,{src:t.metadata.picture,alt:l(t)}),v.jsx(ad,{children:l(t).charAt(0)})]}),v.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:v.jsx("p",{className:"font-medium text-sm truncate",children:l(t)})}),v.jsx(Jk,{className:"w-4 h-4 text-muted-foreground"})]})}),v.jsxs(oT,{className:"w-56 p-2 animate-scale-in",children:[v.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(c=>{var u;return v.jsxs(wh,{onClick:()=>r(c.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[v.jsxs(sd,{className:"w-8 h-8",children:[v.jsx(cv,{src:c.metadata.picture,alt:l(c)}),v.jsx(ad,{children:((u=l(c))==null?void 0:u.charAt(0))||v.jsx(Vy,{})})]}),v.jsx("div",{className:"flex-1 truncate",children:v.jsx("p",{className:"text-sm font-medium",children:l(c)})}),c.id===t.id&&v.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},c.id)}),v.jsx(sT,{}),v.jsxs(wh,{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[v.jsx(s6,{className:"w-4 h-4"}),v.jsx("span",{children:"Add another account"})]}),v.jsxs(wh,{onClick:()=>i(t.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[v.jsx(X5,{className:"w-4 h-4"}),v.jsx("span",{children:"Log out"})]})]})]})}function uv({className:e}){const{currentUser:t}=dP(),[n,r]=R.useState(!1),[i,l]=R.useState(!1),c=()=>{r(!1),l(!1)};return v.jsxs("div",{className:at("inline-flex items-center justify-center",e),children:[t?v.jsx(c9,{onAddAccountClick:()=>r(!0)}):v.jsxs("div",{className:"flex gap-3 justify-center",children:[v.jsx(ut,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:v.jsx("span",{className:"truncate",children:"Log in"})}),v.jsx(ut,{onClick:()=>l(!0),variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all",children:v.jsx("span",{children:"Sign up"})})]}),v.jsx(z$,{isOpen:n,onClose:()=>r(!1),onLogin:c}),v.jsx(D$,{isOpen:i,onClose:()=>l(!1)})]})}function u9(){const e=Xa(),t=n=>e.pathname===n;return v.jsx("nav",{className:"border-b bg-background/80 backdrop-blur sticky top-0 z-50",children:v.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx(Nn,{to:"/",className:"text-xl font-bold tracking-tight",children:"DeadDropstr"}),v.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[v.jsx(ut,{asChild:!0,variant:t("/")?"secondary":"ghost",size:"sm",children:v.jsxs(Nn,{to:"/",children:[v.jsx(Y5,{className:"h-4 w-4 mr-1"}),"Home"]})}),v.jsx(ut,{asChild:!0,variant:t("/marketplace")?"secondary":"ghost",size:"sm",children:v.jsxs(Nn,{to:"/marketplace",children:[v.jsx(Xu,{className:"h-4 w-4 mr-1"}),"Marketplace"]})}),v.jsx(ut,{asChild:!0,variant:t("/dashboard")?"secondary":"ghost",size:"sm",children:v.jsxs(Nn,{to:"/dashboard",children:[v.jsx(Hy,{className:"h-4 w-4 mr-1"}),"Dashboard"]})}),v.jsx(ut,{asChild:!0,variant:t("/messages")?"secondary":"ghost",size:"sm",children:v.jsxs(Nn,{to:"/messages",children:[v.jsx(Xk,{className:"h-4 w-4 mr-1"}),"Messages"]})})]})]}),v.jsx(uv,{className:"max-w-60"})]})})}const Vt=R.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:at("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Vt.displayName="Card";const An=R.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:at("flex flex-col space-y-1.5 p-6",e),...t}));An.displayName="CardHeader";const $n=R.forwardRef(({className:e,...t},n)=>v.jsx("h3",{ref:n,className:at("text-2xl font-semibold leading-none tracking-tight",e),...t}));$n.displayName="CardTitle";const _o=R.forwardRef(({className:e,...t},n)=>v.jsx("p",{ref:n,className:at("text-sm text-muted-foreground",e),...t}));_o.displayName="CardDescription";const Gt=R.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:at("p-6 pt-0",e),...t}));Gt.displayName="CardContent";const Yl=R.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:at("flex items-center p-6 pt-0",e),...t}));Yl.displayName="CardFooter";const d9=wd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pr({className:e,variant:t,...n}){return v.jsx("div",{className:at(d9({variant:t}),e),...n})}var f9="Label",yT=R.forwardRef((e,t)=>v.jsx(st.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));yT.displayName=f9;var vT=yT;const h9=wd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pn=R.forwardRef(({className:e,...t},n)=>v.jsx(vT,{ref:n,className:at(h9(),e),...t}));Pn.displayName=vT.displayName;var p9="Separator",Qb="horizontal",m9=["horizontal","vertical"],wT=R.forwardRef((e,t)=>{const{decorative:n,orientation:r=Qb,...i}=e,l=g9(r)?r:Qb,u=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return v.jsx(st.div,{"data-orientation":l,...u,...i,ref:t})});wT.displayName=p9;function g9(e){return m9.includes(e)}var _T=wT;const Na=R.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>v.jsx(_T,{ref:i,decorative:n,orientation:t,className:at("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Na.displayName=_T.displayName;const Xb=[{id:"1",dTag:"locker-sf-001",name:"Mission District Secure Box",description:"24/7 accessible smart locker in secure building. Camera monitored. Perfect for package exchanges and dead drops. Located in a well-lit area with foot traffic.",price:500,geohash:"9q8yyz",address:"2490 Mission St, San Francisco, CA 94110",city:"San Francisco",state:"CA",owner:"npub1owner1...",dimensions:"40x50x60 cm",features:["24/7 Access","Camera Monitored","Climate Controlled","NFC Unlock"],availability:"Available now"},{id:"2",dTag:"locker-nyc-001",name:"Brooklyn Heights Drop",description:"Street-level locker in residential neighborhood. Well-lit and discreet. Great for quick exchanges.",price:750,geohash:"9q8yyk",address:"145 Columbia Heights, Brooklyn, NY 11201",city:"New York",state:"NY",owner:"npub1owner2...",dimensions:"35x45x55 cm",features:["Ground Floor","Discreet Location","QR Code Access"],availability:"Available now"}];function y9(){const{dTag:e}=S0(),t=nC(),{toast:n}=gd(),[r,i]=R.useState("details"),[l,c]=R.useState(24),[u,f]=R.useState(!1),p=Xb.find(k=>k.dTag===e)||Xb[0],g=p.price*l,m=()=>{n({title:"Payment received!",description:"Generating your access credentials..."}),setTimeout(()=>i("confirmation"),1500)},b=k=>{navigator.clipboard.writeText(k),f(!0),setTimeout(()=>f(!1),2e3),n({title:"Copied to clipboard"})},x=Math.random().toString(36).substring(2,8).toUpperCase();return v.jsx("div",{className:"min-h-screen bg-background",children:v.jsxs("div",{className:"container mx-auto p-4 max-w-2xl",children:[v.jsxs(ut,{variant:"ghost",className:"mb-4 -ml-4",onClick:()=>t(-1),children:[v.jsx(Yk,{className:"h-4 w-4 mr-2"}),"Back"]}),r==="details"&&v.jsx(v.Fragment,{children:v.jsxs(Vt,{children:[v.jsx(An,{children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsx($n,{className:"text-2xl",children:p.name}),v.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[v.jsx(_d,{className:"h-4 w-4"}),v.jsxs("span",{children:[p.city,", ",p.state]})]})]}),v.jsx(Pr,{variant:"secondary",children:p.availability})]})}),v.jsxs(Gt,{className:"space-y-6",children:[v.jsx("p",{className:"text-muted-foreground",children:p.description}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[v.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[v.jsx(Oh,{className:"h-4 w-4"}),v.jsx("span",{className:"text-sm",children:"Dimensions"})]}),v.jsx("p",{className:"font-medium",children:p.dimensions})]}),v.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[v.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[v.jsx(W5,{className:"h-4 w-4"}),v.jsx("span",{className:"text-sm",children:"Hourly Rate"})]}),v.jsxs("p",{className:"font-medium",children:[p.price," sats"]})]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium mb-2",children:"Features"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:p.features.map(k=>v.jsx(Pr,{variant:"outline",children:k},k))})]}),v.jsx(Na,{}),v.jsxs("div",{className:"bg-primary/5 border border-primary/20 p-4 rounded-lg",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(n6,{className:"h-5 w-5 text-primary"}),v.jsx("span",{className:"font-medium",children:"Secure Dead Drop"})]}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"This locker uses end-to-end encryption. Only you and the recipient (if specified) will have access to the contents."})]})]}),v.jsx(Yl,{children:v.jsx(ut,{size:"lg",className:"w-full",onClick:()=>i("duration"),children:"Rent This Locker"})})]})}),r==="duration"&&v.jsxs(Vt,{children:[v.jsx(An,{children:v.jsx($n,{children:"Select Rental Duration"})}),v.jsxs(Gt,{className:"space-y-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs(Pn,{children:["Rental Hours: ",l," hrs"]}),v.jsx("input",{type:"range",min:"1",max:"168",value:l,onChange:k=>c(parseInt(k.target.value)),className:"w-full"}),v.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[v.jsx("span",{children:"1 hour"}),v.jsx("span",{children:"1 week (168 hrs)"})]})]}),v.jsx(Na,{}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Hourly rate"}),v.jsxs("span",{children:[p.price," sats"]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Duration"}),v.jsxs("span",{children:[l," hours"]})]}),v.jsx(Na,{}),v.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[v.jsx("span",{children:"Total"}),v.jsxs("span",{children:[g.toLocaleString()," sats"]})]}),v.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[" $",(g/5e4).toFixed(2)," USD"]})]})]}),v.jsxs(Yl,{className:"flex gap-2",children:[v.jsx(ut,{variant:"outline",className:"flex-1",onClick:()=>i("details"),children:"Back"}),v.jsx(ut,{className:"flex-1",onClick:()=>i("payment"),children:"Continue to Payment"})]})]}),r==="payment"&&v.jsxs(Vt,{children:[v.jsx(An,{children:v.jsx($n,{children:"Complete Payment"})}),v.jsxs(Gt,{className:"space-y-6",children:[v.jsxs("div",{className:"text-center space-y-4",children:[v.jsx("div",{className:"w-48 h-48 bg-muted mx-auto rounded-lg flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx(nS,{className:"h-12 w-12 mx-auto text-primary mb-2"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Mock Payment"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"(Placeholder)"})]})}),v.jsxs("div",{children:[v.jsxs("p",{className:"text-2xl font-bold",children:[g.toLocaleString()," sats"]}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan to pay with Lightning"})]})]}),v.jsx(Na,{}),v.jsx("div",{className:"bg-muted p-4 rounded-lg",children:v.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'This is a demo. Click "Simulate Payment" to see the confirmation flow.'})})]}),v.jsxs(Yl,{className:"flex gap-2",children:[v.jsx(ut,{variant:"outline",className:"flex-1",onClick:()=>i("duration"),children:"Back"}),v.jsx(ut,{className:"flex-1",onClick:m,children:"Simulate Payment"})]})]}),r==="confirmation"&&v.jsxs(Vt,{className:"border-green-500/50 bg-green-50/50",children:[v.jsx(An,{children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:v.jsx(jg,{className:"h-6 w-6 text-white"})}),v.jsxs("div",{children:[v.jsx($n,{children:"Rental Confirmed!"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Your locker is ready"})]})]})}),v.jsxs(Gt,{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-4",children:[v.jsxs("div",{children:[v.jsx(Pn,{className:"text-muted-foreground",children:"Locker Address"}),v.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.jsx("p",{className:"font-mono text-sm",children:p.address}),v.jsx(ut,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>b(p.address),children:u?v.jsx(jg,{className:"h-4 w-4"}):v.jsx(tb,{className:"h-4 w-4"})})]})]}),v.jsx(Na,{}),v.jsxs("div",{children:[v.jsx(Pn,{className:"text-muted-foreground",children:"Access Code"}),v.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.jsx("div",{className:"bg-black text-white px-4 py-2 rounded font-mono text-lg tracking-widest",children:x}),v.jsx(ut,{size:"icon",variant:"ghost",className:"h-10 w-10",onClick:()=>b(x),children:u?v.jsx(jg,{className:"h-4 w-4"}):v.jsx(tb,{className:"h-4 w-4"})})]}),v.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Enter this code on the locker keypad or scan NFC"})]}),v.jsx(Na,{}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(J5,{className:"h-4 w-4"}),v.jsxs("span",{children:["Valid for ",l," hours from now"]})]})]}),v.jsx("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:v.jsxs("p",{className:"text-sm text-blue-800",children:[v.jsx("strong",{children:"Next Steps:"})," Go to the locker location and enter your access code. You can share this code with someone else for a dead drop exchange."]})})]}),v.jsx(Yl,{children:v.jsx(ut,{className:"w-full",onClick:()=>t("/marketplace"),children:"Back to Marketplace"})})]})]})})}function xT(e,[t,n]){return Math.min(n,Math.max(t,e))}function Y0(e){const t=R.useRef({value:e,previous:e});return R.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var bT=["PageUp","PageDown"],ET=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],kT={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Dc="Slider",[dv,v9,w9]=yp(Dc),[ST,JZ]=er(Dc,[w9]),[_9,Dp]=ST(Dc),CT=R.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:l=1,orientation:c="horizontal",disabled:u=!1,minStepsBetweenThumbs:f=0,defaultValue:p=[r],value:g,onValueChange:m=()=>{},onValueCommit:b=()=>{},inverted:x=!1,form:k,..._}=e,E=R.useRef(new Set),P=R.useRef(0),I=c==="horizontal"?x9:b9,[D=[],B]=Oo({prop:g,defaultProp:p,onChange:Q=>{var re;(re=[...E.current][P.current])==null||re.focus(),m(Q)}}),q=R.useRef(D);function G(Q){const U=P9(D,Q);Y(Q,U)}function J(Q){Y(Q,P.current)}function V(){const Q=q.current[P.current];D[P.current]!==Q&&b(D)}function Y(Q,U,{commit:re}={commit:!1}){const M=R9(l),W=I9(Math.round((Q-r)/l)*l+r,M),ae=xT(W,[r,i]);B((oe=[])=>{const ne=S9(oe,ae,U);if(A9(ne,f*l)){P.current=ne.indexOf(ae);const ee=String(ne)!==String(oe);return ee&&re&&b(ne),ee?ne:oe}else return oe})}return v.jsx(_9,{scope:e.__scopeSlider,name:n,disabled:u,min:r,max:i,valueIndexToChangeRef:P,thumbs:E.current,values:D,orientation:c,form:k,children:v.jsx(dv.Provider,{scope:e.__scopeSlider,children:v.jsx(dv.Slot,{scope:e.__scopeSlider,children:v.jsx(I,{"aria-disabled":u,"data-disabled":u?"":void 0,..._,ref:t,onPointerDown:qe(_.onPointerDown,()=>{u||(q.current=D)}),min:r,max:i,inverted:x,onSlideStart:u?void 0:G,onSlideMove:u?void 0:J,onSlideEnd:u?void 0:V,onHomeKeyDown:()=>!u&&Y(r,0,{commit:!0}),onEndKeyDown:()=>!u&&Y(i,D.length-1,{commit:!0}),onStepKeyDown:({event:Q,direction:U})=>{if(!u){const W=bT.includes(Q.key)||Q.shiftKey&&ET.includes(Q.key)?10:1,ae=P.current,oe=D[ae],ne=l*W*U;Y(oe+ne,ae,{commit:!0})}}})})})})});CT.displayName=Dc;var[PT,TT]=ST(Dc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),x9=R.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:l,onSlideStart:c,onSlideMove:u,onSlideEnd:f,onStepKeyDown:p,...g}=e,[m,b]=R.useState(null),x=Tt(t,I=>b(I)),k=R.useRef(void 0),_=kd(i),E=_==="ltr",P=E&&!l||!E&&l;function T(I){const D=k.current||m.getBoundingClientRect(),B=[0,D.width],G=J0(B,P?[n,r]:[r,n]);return k.current=D,G(I-D.left)}return v.jsx(PT,{scope:e.__scopeSlider,startEdge:P?"left":"right",endEdge:P?"right":"left",direction:P?1:-1,size:"width",children:v.jsx(NT,{dir:_,"data-orientation":"horizontal",...g,ref:x,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:I=>{const D=T(I.clientX);c==null||c(D)},onSlideMove:I=>{const D=T(I.clientX);u==null||u(D)},onSlideEnd:()=>{k.current=void 0,f==null||f()},onStepKeyDown:I=>{const B=kT[P?"from-left":"from-right"].includes(I.key);p==null||p({event:I,direction:B?-1:1})}})})}),b9=R.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:f,...p}=e,g=R.useRef(null),m=Tt(t,g),b=R.useRef(void 0),x=!i;function k(_){const E=b.current||g.current.getBoundingClientRect(),P=[0,E.height],I=J0(P,x?[r,n]:[n,r]);return b.current=E,I(_-E.top)}return v.jsx(PT,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:v.jsx(NT,{"data-orientation":"vertical",...p,ref:m,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:_=>{const E=k(_.clientY);l==null||l(E)},onSlideMove:_=>{const E=k(_.clientY);c==null||c(E)},onSlideEnd:()=>{b.current=void 0,u==null||u()},onStepKeyDown:_=>{const P=kT[x?"from-bottom":"from-top"].includes(_.key);f==null||f({event:_,direction:P?-1:1})}})})}),NT=R.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:u,onStepKeyDown:f,...p}=e,g=Dp(Dc,n);return v.jsx(st.span,{...p,ref:t,onKeyDown:qe(e.onKeyDown,m=>{m.key==="Home"?(c(m),m.preventDefault()):m.key==="End"?(u(m),m.preventDefault()):bT.concat(ET).includes(m.key)&&(f(m),m.preventDefault())}),onPointerDown:qe(e.onPointerDown,m=>{const b=m.target;b.setPointerCapture(m.pointerId),m.preventDefault(),g.thumbs.has(b)?b.focus():r(m)}),onPointerMove:qe(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:qe(e.onPointerUp,m=>{const b=m.target;b.hasPointerCapture(m.pointerId)&&(b.releasePointerCapture(m.pointerId),l(m))})})}),AT="SliderTrack",RT=R.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Dp(AT,n);return v.jsx(st.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});RT.displayName=AT;var fv="SliderRange",IT=R.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Dp(fv,n),l=TT(fv,n),c=R.useRef(null),u=Tt(t,c),f=i.values.length,p=i.values.map(b=>jT(b,i.min,i.max)),g=f>1?Math.min(...p):0,m=100-Math.max(...p);return v.jsx(st.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:u,style:{...e.style,[l.startEdge]:g+"%",[l.endEdge]:m+"%"}})});IT.displayName=fv;var hv="SliderThumb",LT=R.forwardRef((e,t)=>{const n=v9(e.__scopeSlider),[r,i]=R.useState(null),l=Tt(t,u=>i(u)),c=R.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return v.jsx(E9,{...e,ref:l,index:c})}),E9=R.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...l}=e,c=Dp(hv,n),u=TT(hv,n),[f,p]=R.useState(null),g=Tt(t,T=>p(T)),m=f?c.form||!!f.closest("form"):!0,b=kp(f),x=c.values[r],k=x===void 0?0:jT(x,c.min,c.max),_=C9(r,c.values.length),E=b==null?void 0:b[u.size],P=E?T9(E,k,u.direction):0;return R.useEffect(()=>{if(f)return c.thumbs.add(f),()=>{c.thumbs.delete(f)}},[f,c.thumbs]),v.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${k}% + ${P}px)`},children:[v.jsx(dv.ItemSlot,{scope:e.__scopeSlider,children:v.jsx(st.span,{role:"slider","aria-label":e["aria-label"]||_,"aria-valuemin":c.min,"aria-valuenow":x,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:g,style:x===void 0?{display:"none"}:e.style,onFocus:qe(e.onFocus,()=>{c.valueIndexToChangeRef.current=r})})}),m&&v.jsx(OT,{name:i??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:x},r)]})});LT.displayName=hv;var k9="RadioBubbleInput",OT=R.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=R.useRef(null),l=Tt(i,r),c=Y0(t);return R.useEffect(()=>{const u=i.current;if(!u)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&g){const m=new Event("input",{bubbles:!0});g.call(u,t),u.dispatchEvent(m)}},[c,t]),v.jsx(st.input,{style:{display:"none"},...n,ref:l,defaultValue:t})});OT.displayName=k9;function S9(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,l)=>i-l)}function jT(e,t,n){const l=100/(n-t)*(e-t);return xT(l,[0,100])}function C9(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function P9(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function T9(e,t,n){const r=e/2,l=J0([0,50],[0,r]);return(r-l(t)*n)*n}function N9(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function A9(e,t){if(t>0){const n=N9(e);return Math.min(...n)>=t}return!0}function J0(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function R9(e){return(String(e).split(".")[1]||"").length}function I9(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var MT=CT,L9=RT,O9=IT,j9=LT;const zT=R.forwardRef(({className:e,...t},n)=>v.jsxs(MT,{ref:n,className:at("relative flex w-full touch-none select-none items-center",e),...t,children:[v.jsx(L9,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:v.jsx(O9,{className:"absolute h-full bg-primary"})}),v.jsx(j9,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));zT.displayName=MT.displayName;var $u={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var M9=$u.exports,e1;function z9(){return e1||(e1=1,function(e,t){(function(n,r){r(t)})(M9,function(n){var r="1.9.4";function i(s){var d,y,S,j;for(y=1,S=arguments.length;y<S;y++){j=arguments[y];for(d in j)s[d]=j[d]}return s}var l=Object.create||function(){function s(){}return function(d){return s.prototype=d,new s}}();function c(s,d){var y=Array.prototype.slice;if(s.bind)return s.bind.apply(s,y.call(arguments,1));var S=y.call(arguments,2);return function(){return s.apply(d,S.length?S.concat(y.call(arguments)):arguments)}}var u=0;function f(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function p(s,d,y){var S,j,H,ce;return ce=function(){S=!1,j&&(H.apply(y,j),j=!1)},H=function(){S?j=arguments:(s.apply(y,arguments),setTimeout(ce,d),S=!0)},H}function g(s,d,y){var S=d[1],j=d[0],H=S-j;return s===S&&y?s:((s-j)%H+H)%H+j}function m(){return!1}function b(s,d){if(d===!1)return s;var y=Math.pow(10,d===void 0?6:d);return Math.round(s*y)/y}function x(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function k(s){return x(s).split(/\s+/)}function _(s,d){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?l(s.options):{});for(var y in d)s.options[y]=d[y];return s.options}function E(s,d,y){var S=[];for(var j in s)S.push(encodeURIComponent(y?j.toUpperCase():j)+"="+encodeURIComponent(s[j]));return(!d||d.indexOf("?")===-1?"?":"&")+S.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function T(s,d){return s.replace(P,function(y,S){var j=d[S];if(j===void 0)throw new Error("No value provided for variable "+y);return typeof j=="function"&&(j=j(d)),j})}var I=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function D(s,d){for(var y=0;y<s.length;y++)if(s[y]===d)return y;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var G=0;function J(s){var d=+new Date,y=Math.max(0,16-(d-G));return G=d+y,window.setTimeout(s,y)}var V=window.requestAnimationFrame||q("RequestAnimationFrame")||J,Y=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Q(s,d,y){if(y&&V===J)s.call(d);else return V.call(window,c(s,d))}function U(s){s&&Y.call(window,s)}var re={__proto__:null,extend:i,create:l,bind:c,get lastId(){return u},stamp:f,throttle:p,wrapNum:g,falseFn:m,formatNum:b,trim:x,splitWords:k,setOptions:_,getParamString:E,template:T,isArray:I,indexOf:D,emptyImageUrl:B,requestFn:V,cancelFn:Y,requestAnimFrame:Q,cancelAnimFrame:U};function M(){}M.extend=function(s){var d=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=d.__super__=this.prototype,S=l(y);S.constructor=d,d.prototype=S;for(var j in this)Object.prototype.hasOwnProperty.call(this,j)&&j!=="prototype"&&j!=="__super__"&&(d[j]=this[j]);return s.statics&&i(d,s.statics),s.includes&&(W(s.includes),i.apply(null,[S].concat(s.includes))),i(S,s),delete S.statics,delete S.includes,S.options&&(S.options=y.options?l(y.options):{},i(S.options,s.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var H=0,ce=S._initHooks.length;H<ce;H++)S._initHooks[H].call(this)}},d},M.include=function(s){var d=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=d,this.mergeOptions(s.options)),this},M.mergeOptions=function(s){return i(this.prototype.options,s),this},M.addInitHook=function(s){var d=Array.prototype.slice.call(arguments,1),y=typeof s=="function"?s:function(){this[s].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function W(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=I(s)?s:[s];for(var d=0;d<s.length;d++)s[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(s,d,y){if(typeof s=="object")for(var S in s)this._on(S,s[S],d);else{s=k(s);for(var j=0,H=s.length;j<H;j++)this._on(s[j],d,y)}return this},off:function(s,d,y){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var S in s)this._off(S,s[S],d);else{s=k(s);for(var j=arguments.length===1,H=0,ce=s.length;H<ce;H++)j?this._off(s[H]):this._off(s[H],d,y)}return this},_on:function(s,d,y,S){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(s,d,y)===!1){y===this&&(y=void 0);var j={fn:d,ctx:y};S&&(j.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(j)}},_off:function(s,d,y){var S,j,H;if(this._events&&(S=this._events[s],!!S)){if(arguments.length===1){if(this._firingCount)for(j=0,H=S.length;j<H;j++)S[j].fn=m;delete this._events[s];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var ce=this._listens(s,d,y);if(ce!==!1){var ge=S[ce];this._firingCount&&(ge.fn=m,this._events[s]=S=S.slice()),S.splice(ce,1)}}},fire:function(s,d,y){if(!this.listens(s,y))return this;var S=i({},d,{type:s,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var j=this._events[s];if(j){this._firingCount=this._firingCount+1||1;for(var H=0,ce=j.length;H<ce;H++){var ge=j[H],xe=ge.fn;ge.once&&this.off(s,xe,ge.ctx),xe.call(ge.ctx||this,S)}this._firingCount--}}return y&&this._propagateEvent(S),this},listens:function(s,d,y,S){typeof s!="string"&&console.warn('"string" type argument expected');var j=d;typeof d!="function"&&(S=!!d,j=void 0,y=void 0);var H=this._events&&this._events[s];if(H&&H.length&&this._listens(s,j,y)!==!1)return!0;if(S){for(var ce in this._eventParents)if(this._eventParents[ce].listens(s,d,y,S))return!0}return!1},_listens:function(s,d,y){if(!this._events)return!1;var S=this._events[s]||[];if(!d)return!!S.length;y===this&&(y=void 0);for(var j=0,H=S.length;j<H;j++)if(S[j].fn===d&&S[j].ctx===y)return j;return!1},once:function(s,d,y){if(typeof s=="object")for(var S in s)this._on(S,s[S],d,!0);else{s=k(s);for(var j=0,H=s.length;j<H;j++)this._on(s[j],d,y,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[f(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[f(s)],this},_propagateEvent:function(s){for(var d in this._eventParents)this._eventParents[d].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var oe=M.extend(ae);function ne(s,d,y){this.x=y?Math.round(s):s,this.y=y?Math.round(d):d}var ee=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(s){return this.clone()._add(le(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(le(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ne(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ne(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(s){s=le(s);var d=s.x-this.x,y=s.y-this.y;return Math.sqrt(d*d+y*y)},equals:function(s){return s=le(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=le(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function le(s,d,y){return s instanceof ne?s:I(s)?new ne(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ne(s.x,s.y):new ne(s,d,y)}function F(s,d){if(s)for(var y=d?[s,d]:s,S=0,j=y.length;S<j;S++)this.extend(y[S])}F.prototype={extend:function(s){var d,y;if(!s)return this;if(s instanceof ne||typeof s[0]=="number"||"x"in s)d=y=le(s);else if(s=K(s),d=s.min,y=s.max,!d||!y)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=y.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(s){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var d,y;return typeof s[0]=="number"||s instanceof ne?s=le(s):s=K(s),s instanceof F?(d=s.min,y=s.max):d=y=s,d.x>=this.min.x&&y.x<=this.max.x&&d.y>=this.min.y&&y.y<=this.max.y},intersects:function(s){s=K(s);var d=this.min,y=this.max,S=s.min,j=s.max,H=j.x>=d.x&&S.x<=y.x,ce=j.y>=d.y&&S.y<=y.y;return H&&ce},overlaps:function(s){s=K(s);var d=this.min,y=this.max,S=s.min,j=s.max,H=j.x>d.x&&S.x<y.x,ce=j.y>d.y&&S.y<y.y;return H&&ce},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var d=this.min,y=this.max,S=Math.abs(d.x-y.x)*s,j=Math.abs(d.y-y.y)*s;return K(le(d.x-S,d.y-j),le(y.x+S,y.y+j))},equals:function(s){return s?(s=K(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function K(s,d){return!s||s instanceof F?s:new F(s,d)}function Ce(s,d){if(s)for(var y=d?[s,d]:s,S=0,j=y.length;S<j;S++)this.extend(y[S])}Ce.prototype={extend:function(s){var d=this._southWest,y=this._northEast,S,j;if(s instanceof we)S=s,j=s;else if(s instanceof Ce){if(S=s._southWest,j=s._northEast,!S||!j)return this}else return s?this.extend(Ie(s)||be(s)):this;return!d&&!y?(this._southWest=new we(S.lat,S.lng),this._northEast=new we(j.lat,j.lng)):(d.lat=Math.min(S.lat,d.lat),d.lng=Math.min(S.lng,d.lng),y.lat=Math.max(j.lat,y.lat),y.lng=Math.max(j.lng,y.lng)),this},pad:function(s){var d=this._southWest,y=this._northEast,S=Math.abs(d.lat-y.lat)*s,j=Math.abs(d.lng-y.lng)*s;return new Ce(new we(d.lat-S,d.lng-j),new we(y.lat+S,y.lng+j))},getCenter:function(){return new we((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new we(this.getNorth(),this.getWest())},getSouthEast:function(){return new we(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof we||"lat"in s?s=Ie(s):s=be(s);var d=this._southWest,y=this._northEast,S,j;return s instanceof Ce?(S=s.getSouthWest(),j=s.getNorthEast()):S=j=s,S.lat>=d.lat&&j.lat<=y.lat&&S.lng>=d.lng&&j.lng<=y.lng},intersects:function(s){s=be(s);var d=this._southWest,y=this._northEast,S=s.getSouthWest(),j=s.getNorthEast(),H=j.lat>=d.lat&&S.lat<=y.lat,ce=j.lng>=d.lng&&S.lng<=y.lng;return H&&ce},overlaps:function(s){s=be(s);var d=this._southWest,y=this._northEast,S=s.getSouthWest(),j=s.getNorthEast(),H=j.lat>d.lat&&S.lat<y.lat,ce=j.lng>d.lng&&S.lng<y.lng;return H&&ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,d){return s?(s=be(s),this._southWest.equals(s.getSouthWest(),d)&&this._northEast.equals(s.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function be(s,d){return s instanceof Ce?s:new Ce(s,d)}function we(s,d,y){if(isNaN(s)||isNaN(d))throw new Error("Invalid LatLng object: ("+s+", "+d+")");this.lat=+s,this.lng=+d,y!==void 0&&(this.alt=+y)}we.prototype={equals:function(s,d){if(!s)return!1;s=Ie(s);var y=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return y<=(d===void 0?1e-9:d)},toString:function(s){return"LatLng("+b(this.lat,s)+", "+b(this.lng,s)+")"},distanceTo:function(s){return De.distance(this,Ie(s))},wrap:function(){return De.wrapLatLng(this)},toBounds:function(s){var d=180*s/40075017,y=d/Math.cos(Math.PI/180*this.lat);return be([this.lat-d,this.lng-y],[this.lat+d,this.lng+y])},clone:function(){return new we(this.lat,this.lng,this.alt)}};function Ie(s,d,y){return s instanceof we?s:I(s)&&typeof s[0]!="object"?s.length===3?new we(s[0],s[1],s[2]):s.length===2?new we(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new we(s.lat,"lng"in s?s.lng:s.lon,s.alt):d===void 0?null:new we(s,d,y)}var Ue={latLngToPoint:function(s,d){var y=this.projection.project(s),S=this.scale(d);return this.transformation._transform(y,S)},pointToLatLng:function(s,d){var y=this.scale(d),S=this.transformation.untransform(s,y);return this.projection.unproject(S)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var d=this.projection.bounds,y=this.scale(s),S=this.transformation.transform(d.min,y),j=this.transformation.transform(d.max,y);return new F(S,j)},infinite:!1,wrapLatLng:function(s){var d=this.wrapLng?g(s.lng,this.wrapLng,!0):s.lng,y=this.wrapLat?g(s.lat,this.wrapLat,!0):s.lat,S=s.alt;return new we(y,d,S)},wrapLatLngBounds:function(s){var d=s.getCenter(),y=this.wrapLatLng(d),S=d.lat-y.lat,j=d.lng-y.lng;if(S===0&&j===0)return s;var H=s.getSouthWest(),ce=s.getNorthEast(),ge=new we(H.lat-S,H.lng-j),xe=new we(ce.lat-S,ce.lng-j);return new Ce(ge,xe)}},De=i({},Ue,{wrapLng:[-180,180],R:6371e3,distance:function(s,d){var y=Math.PI/180,S=s.lat*y,j=d.lat*y,H=Math.sin((d.lat-s.lat)*y/2),ce=Math.sin((d.lng-s.lng)*y/2),ge=H*H+Math.cos(S)*Math.cos(j)*ce*ce,xe=2*Math.atan2(Math.sqrt(ge),Math.sqrt(1-ge));return this.R*xe}}),Fe=6378137,rt={R:Fe,MAX_LATITUDE:85.0511287798,project:function(s){var d=Math.PI/180,y=this.MAX_LATITUDE,S=Math.max(Math.min(y,s.lat),-y),j=Math.sin(S*d);return new ne(this.R*s.lng*d,this.R*Math.log((1+j)/(1-j))/2)},unproject:function(s){var d=180/Math.PI;return new we((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*d,s.x*d/this.R)},bounds:function(){var s=Fe*Math.PI;return new F([-s,-s],[s,s])}()};function wt(s,d,y,S){if(I(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=d,this._c=y,this._d=S}wt.prototype={transform:function(s,d){return this._transform(s.clone(),d)},_transform:function(s,d){return d=d||1,s.x=d*(this._a*s.x+this._b),s.y=d*(this._c*s.y+this._d),s},untransform:function(s,d){return d=d||1,new ne((s.x/d-this._b)/this._a,(s.y/d-this._d)/this._c)}};function At(s,d,y,S){return new wt(s,d,y,S)}var ht=i({},De,{code:"EPSG:3857",projection:rt,transformation:function(){var s=.5/(Math.PI*rt.R);return At(s,.5,-s,.5)}()}),z=i({},ht,{code:"EPSG:900913"});function Pe(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function ke(s,d){var y="",S,j,H,ce,ge,xe;for(S=0,H=s.length;S<H;S++){for(ge=s[S],j=0,ce=ge.length;j<ce;j++)xe=ge[j],y+=(j?"L":"M")+xe.x+" "+xe.y;y+=d?Qe.svg?"z":"x":""}return y||"M0 0"}var ie=document.documentElement.style,te="ActiveXObject"in window,pe=te&&!document.addEventListener,Ne="msLaunchUri"in navigator&&!("documentMode"in document),Ae=Rn("webkit"),me=Rn("android"),Me=Rn("android 2")||Rn("android 3"),He=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),je=me&&Rn("Google")&&He<537&&!("AudioNode"in window),Je=!!window.opera,Z=!Ne&&Rn("chrome"),N=Rn("gecko")&&!Ae&&!Je&&!te,O=!Z&&Rn("safari"),X=Rn("phantom"),fe="OTransition"in ie,_e=navigator.platform.indexOf("Win")===0,Se=te&&"transition"in ie,lt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Me,Lt="MozPerspective"in ie,vt=!window.L_DISABLE_3D&&(Se||lt||Lt)&&!fe&&!X,Et=typeof orientation<"u"||Rn("mobile"),kt=Et&&Ae,ea=Et&&lt,jo=!window.PointerEvent&&window.MSPointerEvent,Rr=!!(window.PointerEvent||jo),Hn="ontouchstart"in window||!!window.TouchEvent,Wi=!window.L_NO_TOUCH&&(Hn||Rr),Nd=Et&&Je,Ad=Et&&N,Rd=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Id=function(){var s=!1;try{var d=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",m,d),window.removeEventListener("testPassiveEventSupport",m,d)}catch{}return s}(),Bc=function(){return!!document.createElement("canvas").getContext}(),nl=!!(document.createElementNS&&Pe("svg").createSVGRect),ta=!!nl&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Fc=!nl&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var d=s.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),na=navigator.platform.indexOf("Mac")===0,Up=navigator.platform.indexOf("Linux")===0;function Rn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Qe={ie:te,ielt9:pe,edge:Ne,webkit:Ae,android:me,android23:Me,androidStock:je,opera:Je,chrome:Z,gecko:N,safari:O,phantom:X,opera12:fe,win:_e,ie3d:Se,webkit3d:lt,gecko3d:Lt,any3d:vt,mobile:Et,mobileWebkit:kt,mobileWebkit3d:ea,msPointer:jo,pointer:Rr,touch:Wi,touchNative:Hn,mobileOpera:Nd,mobileGecko:Ad,retina:Rd,passiveEvents:Id,canvas:Bc,svg:nl,vml:Fc,inlineSvg:ta,mac:na,linux:Up},ra=Qe.msPointer?"MSPointerDown":"pointerdown",rl=Qe.msPointer?"MSPointerMove":"pointermove",Ld=Qe.msPointer?"MSPointerUp":"pointerup",Od=Qe.msPointer?"MSPointerCancel":"pointercancel",Uc={touchstart:ra,touchmove:rl,touchend:Ld,touchcancel:Od},vi={touchstart:Xt,touchmove:il,touchend:il,touchcancel:il},Vi={},$c=!1;function $p(s,d,y){return d==="touchstart"&&Zp(),vi[d]?(y=vi[d].bind(this,y),s.addEventListener(Uc[d],y,!1),y):(console.warn("wrong event specified:",d),m)}function jd(s,d,y){if(!Uc[d]){console.warn("wrong event specified:",d);return}s.removeEventListener(Uc[d],y,!1)}function Md(s){Vi[s.pointerId]=s}function zd(s){Vi[s.pointerId]&&(Vi[s.pointerId]=s)}function Zc(s){delete Vi[s.pointerId]}function Zp(){$c||(document.addEventListener(ra,Md,!0),document.addEventListener(rl,zd,!0),document.addEventListener(Ld,Zc,!0),document.addEventListener(Od,Zc,!0),$c=!0)}function il(s,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var y in Vi)d.touches.push(Vi[y]);d.changedTouches=[d],s(d)}}function Xt(s,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&en(d),il(s,d)}function Hp(s){var d={},y,S;for(S in s)y=s[S],d[S]=y&&y.bind?y.bind(s):y;return s=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Hc=200;function Dd(s,d){s.addEventListener("dblclick",d);var y=0,S;function j(H){if(H.detail!==1){S=H.detail;return}if(!(H.pointerType==="mouse"||H.sourceCapabilities&&!H.sourceCapabilities.firesTouchEvents)){var ce=Gi(H);if(!(ce.some(function(xe){return xe instanceof HTMLLabelElement&&xe.attributes.for})&&!ce.some(function(xe){return xe instanceof HTMLInputElement||xe instanceof HTMLSelectElement}))){var ge=Date.now();ge-y<=Hc?(S++,S===2&&d(Hp(H))):S=1,y=ge}}}return s.addEventListener("click",j),{dblclick:d,simDblclick:j}}function ol(s,d){s.removeEventListener("dblclick",d.dblclick),s.removeEventListener("click",d.simDblclick)}var Wc=Bo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Mo=Bo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ia=Mo==="webkitTransition"||Mo==="OTransition"?Mo+"End":"transitionend";function mr(s){return typeof s=="string"?document.getElementById(s):s}function oa(s,d){var y=s.style[d]||s.currentStyle&&s.currentStyle[d];if((!y||y==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(s,null);y=S?S[d]:null}return y==="auto"?null:y}function pt(s,d,y){var S=document.createElement(s);return S.className=d||"",y&&y.appendChild(S),S}function Zt(s){var d=s.parentNode;d&&d.removeChild(s)}function sl(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function zo(s){var d=s.parentNode;d&&d.lastChild!==s&&d.appendChild(s)}function Xr(s){var d=s.parentNode;d&&d.firstChild!==s&&d.insertBefore(s,d.firstChild)}function Do(s,d){if(s.classList!==void 0)return s.classList.contains(d);var y=al(s);return y.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(y)}function ft(s,d){if(s.classList!==void 0)for(var y=k(d),S=0,j=y.length;S<j;S++)s.classList.add(y[S]);else if(!Do(s,d)){var H=al(s);Vc(s,(H?H+" ":"")+d)}}function Ut(s,d){s.classList!==void 0?s.classList.remove(d):Vc(s,x((" "+al(s)+" ").replace(" "+d+" "," ")))}function Vc(s,d){s.className.baseVal===void 0?s.className=d:s.className.baseVal=d}function al(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function In(s,d){"opacity"in s.style?s.style.opacity=d:"filter"in s.style&&Bd(s,d)}function Bd(s,d){var y=!1,S="DXImageTransform.Microsoft.Alpha";try{y=s.filters.item(S)}catch{if(d===1)return}d=Math.round(d*100),y?(y.Enabled=d!==100,y.Opacity=d):s.style.filter+=" progid:"+S+"(opacity="+d+")"}function Bo(s){for(var d=document.documentElement.style,y=0;y<s.length;y++)if(s[y]in d)return s[y];return!1}function gr(s,d,y){var S=d||new ne(0,0);s.style[Wc]=(Qe.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(y?" scale("+y+")":"")}function on(s,d){s._leaflet_pos=d,Qe.any3d?gr(s,d):(s.style.left=d.x+"px",s.style.top=d.y+"px")}function ei(s){return s._leaflet_pos||new ne(0,0)}var St,Fo,ll;if("onselectstart"in document)St=function(){ct(window,"selectstart",en)},Fo=function(){Dt(window,"selectstart",en)};else{var qi=Bo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);St=function(){if(qi){var s=document.documentElement.style;ll=s[qi],s[qi]="none"}},Fo=function(){qi&&(document.documentElement.style[qi]=ll,ll=void 0)}}function cl(){ct(window,"dragstart",en)}function ul(){Dt(window,"dragstart",en)}var sa,aa;function Uo(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(yr(),sa=s,aa=s.style.outlineStyle,s.style.outlineStyle="none",ct(window,"keydown",yr))}function yr(){sa&&(sa.style.outlineStyle=aa,sa=void 0,aa=void 0,Dt(window,"keydown",yr))}function ti(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ir(s){var d=s.getBoundingClientRect();return{x:d.width/s.offsetWidth||1,y:d.height/s.offsetHeight||1,boundingClientRect:d}}var la={__proto__:null,TRANSFORM:Wc,TRANSITION:Mo,TRANSITION_END:ia,get:mr,getStyle:oa,create:pt,remove:Zt,empty:sl,toFront:zo,toBack:Xr,hasClass:Do,addClass:ft,removeClass:Ut,setClass:Vc,getClass:al,setOpacity:In,testProp:Bo,setTransform:gr,setPosition:on,getPosition:ei,get disableTextSelection(){return St},get enableTextSelection(){return Fo},disableImageDrag:cl,enableImageDrag:ul,preventOutline:Uo,restoreOutline:yr,getSizedParentNode:ti,getScale:Ir};function ct(s,d,y,S){if(d&&typeof d=="object")for(var j in d)Kc(s,j,d[j],y);else{d=k(d);for(var H=0,ce=d.length;H<ce;H++)Kc(s,d[H],y,S)}return this}var pn="_leaflet_events";function Dt(s,d,y,S){if(arguments.length===1)qc(s),delete s[pn];else if(d&&typeof d=="object")for(var j in d)dl(s,j,d[j],y);else if(d=k(d),arguments.length===2)qc(s,function(ge){return D(d,ge)!==-1});else for(var H=0,ce=d.length;H<ce;H++)dl(s,d[H],y,S);return this}function qc(s,d){for(var y in s[pn]){var S=y.split(/\d/)[0];(!d||d(S))&&dl(s,S,null,null,y)}}var Ki={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Kc(s,d,y,S){var j=d+f(y)+(S?"_"+f(S):"");if(s[pn]&&s[pn][j])return this;var H=function(ge){return y.call(S||s,ge||window.event)},ce=H;!Qe.touchNative&&Qe.pointer&&d.indexOf("touch")===0?H=$p(s,d,H):Qe.touch&&d==="dblclick"?H=Dd(s,H):"addEventListener"in s?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?s.addEventListener(Ki[d]||d,H,Qe.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(H=function(ge){ge=ge||window.event,da(s,ge)&&ce(ge)},s.addEventListener(Ki[d],H,!1)):s.addEventListener(d,ce,!1):s.attachEvent("on"+d,H),s[pn]=s[pn]||{},s[pn][j]=H}function dl(s,d,y,S,j){j=j||d+f(y)+(S?"_"+f(S):"");var H=s[pn]&&s[pn][j];if(!H)return this;!Qe.touchNative&&Qe.pointer&&d.indexOf("touch")===0?jd(s,d,H):Qe.touch&&d==="dblclick"?ol(s,H):"removeEventListener"in s?s.removeEventListener(Ki[d]||d,H,!1):s.detachEvent("on"+d,H),s[pn][j]=null}function Lr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function fl(s){return Kc(s,"wheel",Lr),this}function ca(s){return ct(s,"mousedown touchstart dblclick contextmenu",Lr),s._leaflet_disable_click=!0,this}function en(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function vr(s){return en(s),Lr(s),this}function Gi(s){if(s.composedPath)return s.composedPath();for(var d=[],y=s.target;y;)d.push(y),y=y.parentNode;return d}function ua(s,d){if(!d)return new ne(s.clientX,s.clientY);var y=Ir(d),S=y.boundingClientRect;return new ne((s.clientX-S.left)/y.x-d.clientLeft,(s.clientY-S.top)/y.y-d.clientTop)}var Wp=Qe.linux&&Qe.chrome?window.devicePixelRatio:Qe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Fd(s){return Qe.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Wp:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function da(s,d){var y=d.relatedTarget;if(!y)return!0;try{for(;y&&y!==s;)y=y.parentNode}catch{return!1}return y!==s}var hl={__proto__:null,on:ct,off:Dt,stopPropagation:Lr,disableScrollPropagation:fl,disableClickPropagation:ca,preventDefault:en,stop:vr,getPropagationPath:Gi,getMousePosition:ua,getWheelDelta:Fd,isExternalTarget:da,addListener:ct,removeListener:Dt},pl=oe.extend({run:function(s,d,y,S){this.stop(),this._el=s,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=ei(s),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Q(this._animate,this),this._step()},_step:function(s){var d=+new Date-this._startTime,y=this._duration*1e3;d<y?this._runFrame(this._easeOut(d/y),s):(this._runFrame(1),this._complete())},_runFrame:function(s,d){var y=this._startPos.add(this._offset.multiplyBy(s));d&&y._round(),on(this._el,y),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),xt=oe.extend({options:{crs:ht,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,d){d=_(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(Ie(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Mo&&Qe.any3d&&!Qe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ct(this._proxy,ia,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,d,y){if(d=d===void 0?this._zoom:this._limitZoom(d),s=this._limitCenter(Ie(s),d,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=i({animate:y.animate},y.zoom),y.pan=i({animate:y.animate,duration:y.duration},y.pan));var S=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,d,y.zoom):this._tryAnimatedPan(s,y.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(s,d,y.pan&&y.pan.noMoveStart),this},setZoom:function(s,d){return this._loaded?this.setView(this.getCenter(),s,{zoom:d}):(this._zoom=s,this)},zoomIn:function(s,d){return s=s||(Qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,d)},zoomOut:function(s,d){return s=s||(Qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,d)},setZoomAround:function(s,d,y){var S=this.getZoomScale(d),j=this.getSize().divideBy(2),H=s instanceof ne?s:this.latLngToContainerPoint(s),ce=H.subtract(j).multiplyBy(1-1/S),ge=this.containerPointToLatLng(j.add(ce));return this.setView(ge,d,{zoom:y})},_getBoundsCenterZoom:function(s,d){d=d||{},s=s.getBounds?s.getBounds():be(s);var y=le(d.paddingTopLeft||d.padding||[0,0]),S=le(d.paddingBottomRight||d.padding||[0,0]),j=this.getBoundsZoom(s,!1,y.add(S));if(j=typeof d.maxZoom=="number"?Math.min(d.maxZoom,j):j,j===1/0)return{center:s.getCenter(),zoom:j};var H=S.subtract(y).divideBy(2),ce=this.project(s.getSouthWest(),j),ge=this.project(s.getNorthEast(),j),xe=this.unproject(ce.add(ge).divideBy(2).add(H),j);return{center:xe,zoom:j}},fitBounds:function(s,d){if(s=be(s),!s.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(s,d);return this.setView(y.center,y.zoom,d)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,d){return this.setView(s,this._zoom,{pan:d})},panBy:function(s,d){if(s=le(s).round(),d=d||{},!s.x&&!s.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new pl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){ft(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,y,d.duration||.25,d.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,d,y){if(y=y||{},y.animate===!1||!Qe.any3d)return this.setView(s,d,y);this._stop();var S=this.project(this.getCenter()),j=this.project(s),H=this.getSize(),ce=this._zoom;s=Ie(s),d=d===void 0?ce:d;var ge=Math.max(H.x,H.y),xe=ge*this.getZoomScale(ce,d),Re=j.distanceTo(S)||1,Ze=1.42,nt=Ze*Ze;function gt(jt){var ns=jt?-1:1,om=jt?xe:ge,sm=xe*xe-ge*ge+ns*nt*nt*Re*Re,no=2*om*nt*Re,ro=sm/no,io=Math.sqrt(ro*ro+1)-ro,Tl=io<1e-9?-18:Math.log(io);return Tl}function mn(jt){return(Math.exp(jt)-Math.exp(-jt))/2}function dn(jt){return(Math.exp(jt)+Math.exp(-jt))/2}function qn(jt){return mn(jt)/dn(jt)}var On=gt(0);function es(jt){return ge*(dn(On)/dn(On+Ze*jt))}function mu(jt){return ge*(dn(On)*qn(On+Ze*jt)-mn(On))/nt}function Ci(jt){return 1-Math.pow(1-jt,1.5)}var lf=Date.now(),to=(gt(1)-On)/Ze,zr=y.duration?1e3*y.duration:1e3*to*.8;function ts(){var jt=(Date.now()-lf)/zr,ns=Ci(jt)*to;jt<=1?(this._flyToFrame=Q(ts,this),this._move(this.unproject(S.add(j.subtract(S).multiplyBy(mu(ns)/Re)),ce),this.getScaleZoom(ge/es(ns),ce),{flyTo:!0})):this._move(s,d)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),ts.call(this),this},flyToBounds:function(s,d){var y=this._getBoundsCenterZoom(s,d);return this.flyTo(y.center,y.zoom,d)},setMaxBounds:function(s){return s=be(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var d=this.options.minZoom;return this.options.minZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var d=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,d){this._enforcingBounds=!0;var y=this.getCenter(),S=this._limitCenter(y,this._zoom,be(s));return y.equals(S)||this.panTo(S,d),this._enforcingBounds=!1,this},panInside:function(s,d){d=d||{};var y=le(d.paddingTopLeft||d.padding||[0,0]),S=le(d.paddingBottomRight||d.padding||[0,0]),j=this.project(this.getCenter()),H=this.project(s),ce=this.getPixelBounds(),ge=K([ce.min.add(y),ce.max.subtract(S)]),xe=ge.getSize();if(!ge.contains(H)){this._enforcingBounds=!0;var Re=H.subtract(ge.getCenter()),Ze=ge.extend(H).getSize().subtract(xe);j.x+=Re.x<0?-Ze.x:Ze.x,j.y+=Re.y<0?-Ze.y:Ze.y,this.panTo(this.unproject(j),d),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),S=d.divideBy(2).round(),j=y.divideBy(2).round(),H=S.subtract(j);return!H.x&&!H.y?this:(s.animate&&s.pan?this.panBy(H):(s.pan&&this._rawPanBy(H),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=c(this._handleGeolocationResponse,this),y=c(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,y,s):navigator.geolocation.getCurrentPosition(d,y,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var d=s.code,y=s.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var d=s.coords.latitude,y=s.coords.longitude,S=new we(d,y),j=S.toBounds(s.coords.accuracy*2),H=this._locateOptions;if(H.setView){var ce=this.getBoundsZoom(j);this.setView(S,H.maxZoom?Math.min(ce,H.maxZoom):ce)}var ge={latlng:S,bounds:j,timestamp:s.timestamp};for(var xe in s.coords)typeof s.coords[xe]=="number"&&(ge[xe]=s.coords[xe]);this.fire("locationfound",ge)}},addHandler:function(s,d){if(!d)return this;var y=this[s]=new d(this);return this._handlers.push(y),this.options[s]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Zt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Zt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,d){var y="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),S=pt("div",y,d||this._mapPane);return s&&(this._panes[s]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),d=this.unproject(s.getBottomLeft()),y=this.unproject(s.getTopRight());return new Ce(d,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,d,y){s=be(s),y=le(y||[0,0]);var S=this.getZoom()||0,j=this.getMinZoom(),H=this.getMaxZoom(),ce=s.getNorthWest(),ge=s.getSouthEast(),xe=this.getSize().subtract(y),Re=K(this.project(ge,S),this.project(ce,S)).getSize(),Ze=Qe.any3d?this.options.zoomSnap:1,nt=xe.x/Re.x,gt=xe.y/Re.y,mn=d?Math.max(nt,gt):Math.min(nt,gt);return S=this.getScaleZoom(mn,S),Ze&&(S=Math.round(S/(Ze/100))*(Ze/100),S=d?Math.ceil(S/Ze)*Ze:Math.floor(S/Ze)*Ze),Math.max(j,Math.min(H,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,d){var y=this._getTopLeftPoint(s,d);return new F(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,d){var y=this.options.crs;return d=d===void 0?this._zoom:d,y.scale(s)/y.scale(d)},getScaleZoom:function(s,d){var y=this.options.crs;d=d===void 0?this._zoom:d;var S=y.zoom(s*y.scale(d));return isNaN(S)?1/0:S},project:function(s,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(Ie(s),d)},unproject:function(s,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(le(s),d)},layerPointToLatLng:function(s){var d=le(s).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(s){var d=this.project(Ie(s))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Ie(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(be(s))},distance:function(s,d){return this.options.crs.distance(Ie(s),Ie(d))},containerPointToLayerPoint:function(s){return le(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return le(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var d=this.containerPointToLayerPoint(le(s));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(s)))},mouseEventToContainerPoint:function(s){return ua(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var d=this._container=mr(s);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ct(d,"scroll",this._onScroll,this),this._containerId=f(d)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Qe.any3d,ft(s,"leaflet-container"+(Qe.touch?" leaflet-touch":"")+(Qe.retina?" leaflet-retina":"")+(Qe.ielt9?" leaflet-oldie":"")+(Qe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=oa(s,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),on(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ft(s.markerPane,"leaflet-zoom-hide"),ft(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,d,y){on(this._mapPane,new ne(0,0));var S=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var j=this._zoom!==d;this._moveStart(j,y)._move(s,d)._moveEnd(j),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(s,d){return s&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(s,d,y,S){d===void 0&&(d=this._zoom);var j=this._zoom!==d;return this._zoom=d,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),S?y&&y.pinch&&this.fire("zoom",y):((j||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){on(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[f(this._container)]=this;var d=s?Dt:ct;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Qe.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=Q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,d){for(var y=[],S,j=d==="mouseout"||d==="mouseover",H=s.target||s.srcElement,ce=!1;H;){if(S=this._targets[f(H)],S&&(d==="click"||d==="preclick")&&this._draggableMoved(S)){ce=!0;break}if(S&&S.listens(d,!0)&&(j&&!da(H,s)||(y.push(S),j))||H===this._container)break;H=H.parentNode}return!y.length&&!ce&&!j&&this.listens(d,!0)&&(y=[this]),y},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var d=s.target||s.srcElement;if(!(!this._loaded||d._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(d))){var y=s.type;y==="mousedown"&&Uo(d),this._fireDOMEvent(s,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,d,y){if(s.type==="click"){var S=i({},s);S.type="preclick",this._fireDOMEvent(S,S.type,y)}var j=this._findEventTargets(s,d);if(y){for(var H=[],ce=0;ce<y.length;ce++)y[ce].listens(d,!0)&&H.push(y[ce]);j=H.concat(j)}if(j.length){d==="contextmenu"&&en(s);var ge=j[0],xe={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Re=ge.getLatLng&&(!ge._radius||ge._radius<=10);xe.containerPoint=Re?this.latLngToContainerPoint(ge.getLatLng()):this.mouseEventToContainerPoint(s),xe.layerPoint=this.containerPointToLayerPoint(xe.containerPoint),xe.latlng=Re?ge.getLatLng():this.layerPointToLatLng(xe.layerPoint)}for(ce=0;ce<j.length;ce++)if(j[ce].fire(d,xe,!0),xe.originalEvent._stopped||j[ce].options.bubblingMouseEvents===!1&&D(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,d=this._handlers.length;s<d;s++)this._handlers[s].disable()},whenReady:function(s,d){return this._loaded?s.call(d||this,{target:this}):this.on("load",s,d),this},_getMapPanePos:function(){return ei(this._mapPane)||new ne(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,d){var y=s&&d!==void 0?this._getNewPixelOrigin(s,d):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,d){var y=this.getSize()._divideBy(2);return this.project(s,d)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,d,y){var S=this._getNewPixelOrigin(y,d);return this.project(s,d)._subtract(S)},_latLngBoundsToNewLayerBounds:function(s,d,y){var S=this._getNewPixelOrigin(y,d);return K([this.project(s.getSouthWest(),d)._subtract(S),this.project(s.getNorthWest(),d)._subtract(S),this.project(s.getSouthEast(),d)._subtract(S),this.project(s.getNorthEast(),d)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,d,y){if(!y)return s;var S=this.project(s,d),j=this.getSize().divideBy(2),H=new F(S.subtract(j),S.add(j)),ce=this._getBoundsOffset(H,y,d);return Math.abs(ce.x)<=1&&Math.abs(ce.y)<=1?s:this.unproject(S.add(ce),d)},_limitOffset:function(s,d){if(!d)return s;var y=this.getPixelBounds(),S=new F(y.min.add(s),y.max.add(s));return s.add(this._getBoundsOffset(S,d))},_getBoundsOffset:function(s,d,y){var S=K(this.project(d.getNorthEast(),y),this.project(d.getSouthWest(),y)),j=S.min.subtract(s.min),H=S.max.subtract(s.max),ce=this._rebound(j.x,-H.x),ge=this._rebound(j.y,-H.y);return new ne(ce,ge)},_rebound:function(s,d){return s+d>0?Math.round(s-d)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(d))},_limitZoom:function(s){var d=this.getMinZoom(),y=this.getMaxZoom(),S=Qe.any3d?this.options.zoomSnap:1;return S&&(s=Math.round(s/S)*S),Math.max(d,Math.min(y,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ut(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,d){var y=this._getCenterOffset(s)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,d),!0)},_createAnimProxy:function(){var s=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(d){var y=Wc,S=this._proxy.style[y];gr(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),S===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Zt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),d=this.getZoom();gr(this._proxy,this.project(s,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,d,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(d),j=this._getCenterOffset(s)._divideBy(1-1/S);return y.animate!==!0&&!this.getSize().contains(j)?!1:(Q(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(s,d,!0)},this),!0)},_animateZoom:function(s,d,y,S){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=d,ft(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:d,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ut(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function wi(s,d){return new xt(s,d)}var Wn=M.extend({options:{position:"topright"},initialize:function(s){_(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var d=this._map;return d&&d.removeControl(this),this.options.position=s,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var d=this._container=this.onAdd(s),y=this.getPosition(),S=s._controlCorners[y];return ft(d,"leaflet-control"),y.indexOf("bottom")!==-1?S.insertBefore(d,S.firstChild):S.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Zt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),_i=function(s){return new Wn(s)};xt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},d="leaflet-",y=this._controlContainer=pt("div",d+"control-container",this._container);function S(j,H){var ce=d+j+" "+d+H;s[j+H]=pt("div",ce,y)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Zt(this._controlCorners[s]);Zt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gc=Wn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,d,y,S){return y<S?-1:S<y?1:0}},initialize:function(s,d,y){_(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in s)this._addLayer(s[S],S);for(S in d)this._addLayer(d[S],S,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Wn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,d){return this._addLayer(s,d),this._map?this._update():this},addOverlay:function(s,d){return this._addLayer(s,d,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var d=this._getLayer(f(s));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){ft(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ft(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Ut(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ut(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",d=this._container=pt("div",s),y=this.options.collapsed;d.setAttribute("aria-haspopup",!0),ca(d),fl(d);var S=this._section=pt("section",s+"-list");y&&(this._map.on("click",this.collapse,this),ct(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var j=this._layersLink=pt("a",s+"-toggle",d);j.href="#",j.title="Layers",j.setAttribute("role","button"),ct(j,{keydown:function(H){H.keyCode===13&&this._expandSafely()},click:function(H){en(H),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=pt("div",s+"-base",S),this._separator=pt("div",s+"-separator",S),this._overlaysList=pt("div",s+"-overlays",S),d.appendChild(S)},_getLayer:function(s){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&f(this._layers[d].layer)===s)return this._layers[d]},_addLayer:function(s,d,y){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:d,overlay:y}),this.options.sortLayers&&this._layers.sort(c(function(S,j){return this.options.sortFunction(S.layer,j.layer,S.name,j.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;sl(this._baseLayersList),sl(this._overlaysList),this._layerControlInputs=[];var s,d,y,S,j=0;for(y=0;y<this._layers.length;y++)S=this._layers[y],this._addItem(S),d=d||S.overlay,s=s||!S.overlay,j+=S.overlay?0:1;return this.options.hideSingleBase&&(s=s&&j>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=d&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var d=this._getLayer(f(s.target)),y=d.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;y&&this._map.fire(y,d)},_createRadioElement:function(s,d){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(d?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=y,S.firstChild},_addItem:function(s){var d=document.createElement("label"),y=this._map.hasLayer(s.layer),S;s.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=y):S=this._createRadioElement("leaflet-base-layers_"+f(this),y),this._layerControlInputs.push(S),S.layerId=f(s.layer),ct(S,"click",this._onInputClick,this);var j=document.createElement("span");j.innerHTML=" "+s.name;var H=document.createElement("span");d.appendChild(H),H.appendChild(S),H.appendChild(j);var ce=s.overlay?this._overlaysList:this._baseLayersList;return ce.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,d,y,S=[],j=[];this._handlingClick=!0;for(var H=s.length-1;H>=0;H--)d=s[H],y=this._getLayer(d.layerId).layer,d.checked?S.push(y):d.checked||j.push(y);for(H=0;H<j.length;H++)this._map.hasLayer(j[H])&&this._map.removeLayer(j[H]);for(H=0;H<S.length;H++)this._map.hasLayer(S[H])||this._map.addLayer(S[H]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,d,y,S=this._map.getZoom(),j=s.length-1;j>=0;j--)d=s[j],y=this._getLayer(d.layerId).layer,d.disabled=y.options.minZoom!==void 0&&S<y.options.minZoom||y.options.maxZoom!==void 0&&S>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ct(s,"click",en),this.expand();var d=this;setTimeout(function(){Dt(s,"click",en),d._preventClick=!1})}}),ml=function(s,d,y){return new Gc(s,d,y)},$o=Wn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var d="leaflet-control-zoom",y=pt("div",d+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,d+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,d+"-out",y,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,d,y,S,j){var H=pt("a",y,S);return H.innerHTML=s,H.href="#",H.title=d,H.setAttribute("role","button"),H.setAttribute("aria-label",d),ca(H),ct(H,"click",vr),ct(H,"click",j,this),ct(H,"click",this._refocusOnMap,this),H},_updateDisabled:function(){var s=this._map,d="leaflet-disabled";Ut(this._zoomInButton,d),Ut(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ft(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ft(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $o,this.addControl(this.zoomControl))});var Ud=function(s){return new $o(s)},Ln=Wn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var d="leaflet-control-scale",y=pt("div",d),S=this.options;return this._addScales(S,d+"-line",y),s.on(S.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),y},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,d,y){s.metric&&(this._mScale=pt("div",d,y)),s.imperial&&(this._iScale=pt("div",d,y))},_update:function(){var s=this._map,d=s.getSize().y/2,y=s.distance(s.containerPointToLatLng([0,d]),s.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(y)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var d=this._getRoundNum(s),y=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,y,d/s)},_updateImperial:function(s){var d=s*3.2808399,y,S,j;d>5280?(y=d/5280,S=this._getRoundNum(y),this._updateScale(this._iScale,S+" mi",S/y)):(j=this._getRoundNum(d),this._updateScale(this._iScale,j+" ft",j/d))},_updateScale:function(s,d,y){s.style.width=Math.round(this.options.maxWidth*y)+"px",s.innerHTML=d},_getRoundNum:function(s){var d=Math.pow(10,(Math.floor(s)+"").length-1),y=s/d;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,d*y}}),Zo=function(s){return new Ln(s)},Yc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Yi=Wn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Qe.inlineSvg?Yc+" ":"")+"Leaflet</a>"},initialize:function(s){_(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),ca(this._container);for(var d in s._layers)s._layers[d].getAttribution&&this.addAttribution(s._layers[d].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var d in this._attributions)this._attributions[d]&&s.push(d);var y=[];this.options.prefix&&y.push(this.options.prefix),s.length&&y.push(s.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new Yi().addTo(this)});var Vp=function(s){return new Yi(s)};Wn.Layers=Gc,Wn.Zoom=$o,Wn.Scale=Ln,Wn.Attribution=Yi,_i.layers=ml,_i.zoom=Ud,_i.scale=Zo,_i.attribution=Vp;var nr=M.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nr.addTo=function(s,d){return s.addHandler(d,this),this};var Jc={Events:ae},Ho=Qe.touch?"touchstart mousedown":"mousedown",wr=oe.extend({options:{clickTolerance:3},initialize:function(s,d,y,S){_(this,S),this._element=s,this._dragStartTarget=d||s,this._preventOutline=y},enable:function(){this._enabled||(ct(this._dragStartTarget,Ho,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wr._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,Ho,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Do(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){wr._dragging===this&&this.finishDrag();return}if(!(wr._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(wr._dragging=this,this._preventOutline&&Uo(this._element),cl(),St(),!this._moving)){this.fire("down");var d=s.touches?s.touches[0]:s,y=ti(this._element);this._startPoint=new ne(d.clientX,d.clientY),this._startPos=ei(this._element),this._parentScale=Ir(y);var S=s.type==="mousedown";ct(document,S?"mousemove":"touchmove",this._onMove,this),ct(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var d=s.touches&&s.touches.length===1?s.touches[0]:s,y=new ne(d.clientX,d.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,en(s),this._moved||(this.fire("dragstart"),this._moved=!0,ft(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ft(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),on(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Ut(document.body,"leaflet-dragging"),this._lastTarget&&(Ut(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),ul(),Fo();var d=this._moved&&this._moving;this._moving=!1,wr._dragging=!1,d&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Qc(s,d,y){var S,j=[1,4,2,8],H,ce,ge,xe,Re,Ze,nt,gt;for(H=0,Ze=s.length;H<Ze;H++)s[H]._code=Ji(s[H],d);for(ge=0;ge<4;ge++){for(nt=j[ge],S=[],H=0,Ze=s.length,ce=Ze-1;H<Ze;ce=H++)xe=s[H],Re=s[ce],xe._code&nt?Re._code&nt||(gt=yl(Re,xe,nt,d,y),gt._code=Ji(gt,d),S.push(gt)):(Re._code&nt&&(gt=yl(Re,xe,nt,d,y),gt._code=Ji(gt,d),S.push(gt)),S.push(xe));s=S}return s}function $d(s,d){var y,S,j,H,ce,ge,xe,Re,Ze;if(!s||s.length===0)throw new Error("latlngs not passed");rr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var nt=Ie([0,0]),gt=be(s),mn=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());mn<1700&&(nt=Xc(s));var dn=s.length,qn=[];for(y=0;y<dn;y++){var On=Ie(s[y]);qn.push(d.project(Ie([On.lat-nt.lat,On.lng-nt.lng])))}for(ge=xe=Re=0,y=0,S=dn-1;y<dn;S=y++)j=qn[y],H=qn[S],ce=j.y*H.x-H.y*j.x,xe+=(j.x+H.x)*ce,Re+=(j.y+H.y)*ce,ge+=ce*3;ge===0?Ze=qn[0]:Ze=[xe/ge,Re/ge];var es=d.unproject(le(Ze));return Ie([es.lat+nt.lat,es.lng+nt.lng])}function Xc(s){for(var d=0,y=0,S=0,j=0;j<s.length;j++){var H=Ie(s[j]);d+=H.lat,y+=H.lng,S++}return Ie([d/S,y/S])}var qp={__proto__:null,clipPolygon:Qc,polygonCenter:$d,centroid:Xc};function gl(s,d){if(!d||!s.length)return s.slice();var y=d*d;return s=Yp(s,y),s=Gp(s,y),s}function Zd(s,d,y){return Math.sqrt(Qi(s,d,y,!0))}function Kp(s,d,y){return Qi(s,d,y)}function Gp(s,d){var y=s.length,S=typeof Uint8Array<"u"?Uint8Array:Array,j=new S(y);j[0]=j[y-1]=1,eu(s,j,d,0,y-1);var H,ce=[];for(H=0;H<y;H++)j[H]&&ce.push(s[H]);return ce}function eu(s,d,y,S,j){var H=0,ce,ge,xe;for(ge=S+1;ge<=j-1;ge++)xe=Qi(s[ge],s[S],s[j],!0),xe>H&&(ce=ge,H=xe);H>y&&(d[ce]=1,eu(s,d,y,S,ce),eu(s,d,y,ce,j))}function Yp(s,d){for(var y=[s[0]],S=1,j=0,H=s.length;S<H;S++)Jp(s[S],s[j])>d&&(y.push(s[S]),j=S);return j<H-1&&y.push(s[H-1]),y}var tu;function Hd(s,d,y,S,j){var H=S?tu:Ji(s,y),ce=Ji(d,y),ge,xe,Re;for(tu=ce;;){if(!(H|ce))return[s,d];if(H&ce)return!1;ge=H||ce,xe=yl(s,d,ge,y,j),Re=Ji(xe,y),ge===H?(s=xe,H=Re):(d=xe,ce=Re)}}function yl(s,d,y,S,j){var H=d.x-s.x,ce=d.y-s.y,ge=S.min,xe=S.max,Re,Ze;return y&8?(Re=s.x+H*(xe.y-s.y)/ce,Ze=xe.y):y&4?(Re=s.x+H*(ge.y-s.y)/ce,Ze=ge.y):y&2?(Re=xe.x,Ze=s.y+ce*(xe.x-s.x)/H):y&1&&(Re=ge.x,Ze=s.y+ce*(ge.x-s.x)/H),new ne(Re,Ze,j)}function Ji(s,d){var y=0;return s.x<d.min.x?y|=1:s.x>d.max.x&&(y|=2),s.y<d.min.y?y|=4:s.y>d.max.y&&(y|=8),y}function Jp(s,d){var y=d.x-s.x,S=d.y-s.y;return y*y+S*S}function Qi(s,d,y,S){var j=d.x,H=d.y,ce=y.x-j,ge=y.y-H,xe=ce*ce+ge*ge,Re;return xe>0&&(Re=((s.x-j)*ce+(s.y-H)*ge)/xe,Re>1?(j=y.x,H=y.y):Re>0&&(j+=ce*Re,H+=ge*Re)),ce=s.x-j,ge=s.y-H,S?ce*ce+ge*ge:new ne(j,H)}function rr(s){return!I(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Wd(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rr(s)}function Vd(s,d){var y,S,j,H,ce,ge,xe,Re;if(!s||s.length===0)throw new Error("latlngs not passed");rr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ze=Ie([0,0]),nt=be(s),gt=nt.getNorthWest().distanceTo(nt.getSouthWest())*nt.getNorthEast().distanceTo(nt.getNorthWest());gt<1700&&(Ze=Xc(s));var mn=s.length,dn=[];for(y=0;y<mn;y++){var qn=Ie(s[y]);dn.push(d.project(Ie([qn.lat-Ze.lat,qn.lng-Ze.lng])))}for(y=0,S=0;y<mn-1;y++)S+=dn[y].distanceTo(dn[y+1])/2;if(S===0)Re=dn[0];else for(y=0,H=0;y<mn-1;y++)if(ce=dn[y],ge=dn[y+1],j=ce.distanceTo(ge),H+=j,H>S){xe=(H-S)/j,Re=[ge.x-xe*(ge.x-ce.x),ge.y-xe*(ge.y-ce.y)];break}var On=d.unproject(le(Re));return Ie([On.lat+Ze.lat,On.lng+Ze.lng])}var qd={__proto__:null,simplify:gl,pointToSegmentDistance:Zd,closestPointOnSegment:Kp,clipSegment:Hd,_getEdgeIntersection:yl,_getBitCode:Ji,_sqClosestPointOnSegment:Qi,isFlat:rr,_flat:Wd,polylineCenter:Vd},nu={project:function(s){return new ne(s.lng,s.lat)},unproject:function(s){return new we(s.y,s.x)},bounds:new F([-180,-90],[180,90])},ru={R:6378137,R_MINOR:6356752314245179e-9,bounds:new F([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var d=Math.PI/180,y=this.R,S=s.lat*d,j=this.R_MINOR/y,H=Math.sqrt(1-j*j),ce=H*Math.sin(S),ge=Math.tan(Math.PI/4-S/2)/Math.pow((1-ce)/(1+ce),H/2);return S=-y*Math.log(Math.max(ge,1e-10)),new ne(s.lng*d*y,S)},unproject:function(s){for(var d=180/Math.PI,y=this.R,S=this.R_MINOR/y,j=Math.sqrt(1-S*S),H=Math.exp(-s.y/y),ce=Math.PI/2-2*Math.atan(H),ge=0,xe=.1,Re;ge<15&&Math.abs(xe)>1e-7;ge++)Re=j*Math.sin(ce),Re=Math.pow((1-Re)/(1+Re),j/2),xe=Math.PI/2-2*Math.atan(H*Re)-ce,ce+=xe;return new we(ce*d,s.x*d/y)}},Qp={__proto__:null,LonLat:nu,Mercator:ru,SphericalMercator:rt},Xp=i({},De,{code:"EPSG:3395",projection:ru,transformation:function(){var s=.5/(Math.PI*ru.R);return At(s,.5,-s,.5)}()}),Kd=i({},De,{code:"EPSG:4326",projection:nu,transformation:At(1/180,1,-1/180,.5)}),em=i({},Ue,{projection:nu,transformation:At(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,d){var y=d.lng-s.lng,S=d.lat-s.lat;return Math.sqrt(y*y+S*S)},infinite:!0});Ue.Earth=De,Ue.EPSG3395=Xp,Ue.EPSG3857=ht,Ue.EPSG900913=z,Ue.EPSG4326=Kd,Ue.Simple=em;var _r=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[f(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[f(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var d=s.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var y=this.getEvents();d.on(y,this),this.once("remove",function(){d.off(y,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var d=f(s);return this._layers[d]?this:(this._layers[d]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var d=f(s);return this._layers[d]?(this._loaded&&s.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return f(s)in this._layers},eachLayer:function(s,d){for(var y in this._layers)s.call(d,this._layers[y]);return this},_addLayers:function(s){s=s?I(s)?s:[s]:[];for(var d=0,y=s.length;d<y;d++)this.addLayer(s[d])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[f(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var d=f(s);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,d=-1/0,y=this._getZoomSpan();for(var S in this._zoomBoundLayers){var j=this._zoomBoundLayers[S].options;s=j.minZoom===void 0?s:Math.min(s,j.minZoom),d=j.maxZoom===void 0?d:Math.max(d,j.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=s===1/0?void 0:s,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xi=_r.extend({initialize:function(s,d){_(this,d),this._layers={};var y,S;if(s)for(y=0,S=s.length;y<S;y++)this.addLayer(s[y])},addLayer:function(s){var d=this.getLayerId(s);return this._layers[d]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var d=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(s){var d=typeof s=="number"?s:this.getLayerId(s);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var d=Array.prototype.slice.call(arguments,1),y,S;for(y in this._layers)S=this._layers[y],S[s]&&S[s].apply(S,d);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,d){for(var y in this._layers)s.call(d,this._layers[y]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return f(s)}}),fa=function(s,d){return new xi(s,d)},ni=xi.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),xi.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),xi.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ce;for(var d in this._layers){var y=this._layers[d];s.extend(y.getBounds?y.getBounds():y.getLatLng())}return s}}),Gd=function(s,d){return new ni(s,d)},Xi=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){_(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,d){var y=this._getIconUrl(s);if(!y){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(y,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(S,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(s,d){var y=this.options,S=y[d+"Size"];typeof S=="number"&&(S=[S,S]);var j=le(S),H=le(d==="shadow"&&y.shadowAnchor||y.iconAnchor||j&&j.divideBy(2,!0));s.className="leaflet-marker-"+d+" "+(y.className||""),H&&(s.style.marginLeft=-H.x+"px",s.style.marginTop=-H.y+"px"),j&&(s.style.width=j.x+"px",s.style.height=j.y+"px")},_createImg:function(s,d){return d=d||document.createElement("img"),d.src=s,d},_getIconUrl:function(s){return Qe.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Yd(s){return new Xi(s)}var Wo=Xi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Wo.imagePath!="string"&&(Wo.imagePath=this._detectIconPath()),(this.options.imagePath||Wo.imagePath)+Xi.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var d=function(y,S,j){var H=S.exec(y);return H&&H[j]};return s=d(s,/^url\((['"])?(.+)\1\)$/,2),s&&d(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=pt("div","leaflet-default-icon-path",document.body),d=oa(s,"background-image")||oa(s,"backgroundImage");if(document.body.removeChild(s),d=this._stripUrl(d),d)return d;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),iu=nr.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new wr(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ft(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ut(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var d=this._marker,y=d._map,S=this._marker.options.autoPanSpeed,j=this._marker.options.autoPanPadding,H=ei(d._icon),ce=y.getPixelBounds(),ge=y.getPixelOrigin(),xe=K(ce.min._subtract(ge).add(j),ce.max._subtract(ge).subtract(j));if(!xe.contains(H)){var Re=le((Math.max(xe.max.x,H.x)-xe.max.x)/(ce.max.x-xe.max.x)-(Math.min(xe.min.x,H.x)-xe.min.x)/(ce.min.x-xe.min.x),(Math.max(xe.max.y,H.y)-xe.max.y)/(ce.max.y-xe.max.y)-(Math.min(xe.min.y,H.y)-xe.min.y)/(ce.min.y-xe.min.y)).multiplyBy(S);y.panBy(Re,{animate:!1}),this._draggable._newPos._add(Re),this._draggable._startPos._add(Re),on(d._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Q(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=Q(this._adjustPan.bind(this,s)))},_onDrag:function(s){var d=this._marker,y=d._shadow,S=ei(d._icon),j=d._map.layerPointToLatLng(S);y&&on(y,S),d._latlng=j,s.latlng=j,s.oldLatLng=this._oldLatLng,d.fire("move",s).fire("drag",s)},_onDragEnd:function(s){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ri=_r.extend({options:{icon:new Wo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,d){_(this,d),this._latlng=Ie(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var d=this._latlng;return this._latlng=Ie(s),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=s.icon.createIcon(this._icon),S=!1;y!==this._icon&&(this._icon&&this._removeIcon(),S=!0,s.title&&(y.title=s.title),y.tagName==="IMG"&&(y.alt=s.alt||"")),ft(y,d),s.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ct(y,"focus",this._panOnFocus,this);var j=s.icon.createShadow(this._shadow),H=!1;j!==this._shadow&&(this._removeShadow(),H=!0),j&&(ft(j,d),j.alt=""),this._shadow=j,s.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),j&&H&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),Zt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Zt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&on(this._icon,s),this._shadow&&on(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(ft(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),iu)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new iu(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&In(this._icon,s),this._shadow&&In(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var d=this.options.icon.options,y=d.iconSize?le(d.iconSize):le(0,0),S=d.iconAnchor?le(d.iconAnchor):le(0,0);s.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:y.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tm(s,d){return new ri(s,d)}var bi=_r.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return _(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vl=bi.extend({options:{fill:!0,radius:10},initialize:function(s,d){_(this,d),this._latlng=Ie(s),this._radius=this.options.radius},setLatLng:function(s){var d=this._latlng;return this._latlng=Ie(s),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var d=s&&s.radius||this._radius;return bi.prototype.setStyle.call(this,s),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,d=this._radiusY||s,y=this._clickTolerance(),S=[s+y,d+y];this._pxBounds=new F(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jd(s,d){return new vl(s,d)}var wl=vl.extend({initialize:function(s,d,y){if(typeof d=="number"&&(d=i({},y,{radius:d})),_(this,d),this._latlng=Ie(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:bi.prototype.setStyle,_project:function(){var s=this._latlng.lng,d=this._latlng.lat,y=this._map,S=y.options.crs;if(S.distance===De.distance){var j=Math.PI/180,H=this._mRadius/De.R/j,ce=y.project([d+H,s]),ge=y.project([d-H,s]),xe=ce.add(ge).divideBy(2),Re=y.unproject(xe).lat,Ze=Math.acos((Math.cos(H*j)-Math.sin(d*j)*Math.sin(Re*j))/(Math.cos(d*j)*Math.cos(Re*j)))/j;(isNaN(Ze)||Ze===0)&&(Ze=H/Math.cos(Math.PI/180*d)),this._point=xe.subtract(y.getPixelOrigin()),this._radius=isNaN(Ze)?0:xe.x-y.project([Re,s-Ze]).x,this._radiusY=xe.y-ce.y}else{var nt=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(nt).x}this._updateBounds()}});function ha(s,d,y){return new wl(s,d,y)}var Vn=bi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,d){_(this,d),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var d=1/0,y=null,S=Qi,j,H,ce=0,ge=this._parts.length;ce<ge;ce++)for(var xe=this._parts[ce],Re=1,Ze=xe.length;Re<Ze;Re++){j=xe[Re-1],H=xe[Re];var nt=S(s,j,H,!0);nt<d&&(d=nt,y=S(s,j,H))}return y&&(y.distance=Math.sqrt(d)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,d){return d=d||this._defaultShape(),s=Ie(s),d.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ce,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return rr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var d=[],y=rr(s),S=0,j=s.length;S<j;S++)y?(d[S]=Ie(s[S]),this._bounds.extend(d[S])):d[S]=this._convertLatLngs(s[S]);return d},_project:function(){var s=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),d=new ne(s,s);this._rawPxBounds&&(this._pxBounds=new F([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(s,d,y){var S=s[0]instanceof we,j=s.length,H,ce;if(S){for(ce=[],H=0;H<j;H++)ce[H]=this._map.latLngToLayerPoint(s[H]),y.extend(ce[H]);d.push(ce)}else for(H=0;H<j;H++)this._projectLatlngs(s[H],d,y)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,y,S,j,H,ce,ge,xe;for(y=0,j=0,H=this._rings.length;y<H;y++)for(xe=this._rings[y],S=0,ce=xe.length;S<ce-1;S++)ge=Hd(xe[S],xe[S+1],s,S,!0),ge&&(d[j]=d[j]||[],d[j].push(ge[0]),(ge[1]!==xe[S+1]||S===ce-2)&&(d[j].push(ge[1]),j++))}},_simplifyPoints:function(){for(var s=this._parts,d=this.options.smoothFactor,y=0,S=s.length;y<S;y++)s[y]=gl(s[y],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,d){var y,S,j,H,ce,ge,xe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(y=0,H=this._parts.length;y<H;y++)for(ge=this._parts[y],S=0,ce=ge.length,j=ce-1;S<ce;j=S++)if(!(!d&&S===0)&&Zd(s,ge[j],ge[S])<=xe)return!0;return!1}});function nm(s,d){return new Vn(s,d)}Vn._flat=Wd;var ii=Vn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $d(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var d=Vn.prototype._convertLatLngs.call(this,s),y=d.length;return y>=2&&d[0]instanceof we&&d[0].equals(d[y-1])&&d.pop(),d},_setLatLngs:function(s){Vn.prototype._setLatLngs.call(this,s),rr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return rr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,d=this.options.weight,y=new ne(d,d);if(s=new F(s.min.subtract(y),s.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,j=this._rings.length,H;S<j;S++)H=Qc(this._rings[S],s,!0),H.length&&this._parts.push(H)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var d=!1,y,S,j,H,ce,ge,xe,Re;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(H=0,xe=this._parts.length;H<xe;H++)for(y=this._parts[H],ce=0,Re=y.length,ge=Re-1;ce<Re;ge=ce++)S=y[ce],j=y[ge],S.y>s.y!=j.y>s.y&&s.x<(j.x-S.x)*(s.y-S.y)/(j.y-S.y)+S.x&&(d=!d);return d||Vn.prototype._containsPoint.call(this,s,!0)}});function rm(s,d){return new ii(s,d)}var Or=ni.extend({initialize:function(s,d){_(this,d),this._layers={},s&&this.addData(s)},addData:function(s){var d=I(s)?s:s.features,y,S,j;if(d){for(y=0,S=d.length;y<S;y++)j=d[y],(j.geometries||j.geometry||j.features||j.coordinates)&&this.addData(j);return this}var H=this.options;if(H.filter&&!H.filter(s))return this;var ce=Vo(s,H);return ce?(ce.feature=kl(s),ce.defaultOptions=ce.options,this.resetStyle(ce),H.onEachFeature&&H.onEachFeature(s,ce),this.addLayer(ce)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(d){this._setLayerStyle(d,s)},this)},_setLayerStyle:function(s,d){s.setStyle&&(typeof d=="function"&&(d=d(s.feature)),s.setStyle(d))}});function Vo(s,d){var y=s.type==="Feature"?s.geometry:s,S=y?y.coordinates:null,j=[],H=d&&d.pointToLayer,ce=d&&d.coordsToLatLng||xl,ge,xe,Re,Ze;if(!S&&!y)return null;switch(y.type){case"Point":return ge=ce(S),_l(H,s,ge,d);case"MultiPoint":for(Re=0,Ze=S.length;Re<Ze;Re++)ge=ce(S[Re]),j.push(_l(H,s,ge,d));return new ni(j);case"LineString":case"MultiLineString":return xe=pa(S,y.type==="LineString"?0:1,ce),new Vn(xe,d);case"Polygon":case"MultiPolygon":return xe=pa(S,y.type==="Polygon"?1:2,ce),new ii(xe,d);case"GeometryCollection":for(Re=0,Ze=y.geometries.length;Re<Ze;Re++){var nt=Vo({geometry:y.geometries[Re],type:"Feature",properties:s.properties},d);nt&&j.push(nt)}return new ni(j);case"FeatureCollection":for(Re=0,Ze=y.features.length;Re<Ze;Re++){var gt=Vo(y.features[Re],d);gt&&j.push(gt)}return new ni(j);default:throw new Error("Invalid GeoJSON object.")}}function _l(s,d,y,S){return s?s(d,y):new ri(y,S&&S.markersInheritOptions&&S)}function xl(s){return new we(s[1],s[0],s[2])}function pa(s,d,y){for(var S=[],j=0,H=s.length,ce;j<H;j++)ce=d?pa(s[j],d-1,y):(y||xl)(s[j]),S.push(ce);return S}function bl(s,d){return s=Ie(s),s.alt!==void 0?[b(s.lng,d),b(s.lat,d),b(s.alt,d)]:[b(s.lng,d),b(s.lat,d)]}function El(s,d,y,S){for(var j=[],H=0,ce=s.length;H<ce;H++)j.push(d?El(s[H],rr(s[H])?0:d-1,y,S):bl(s[H],S));return!d&&y&&j.length>0&&j.push(j[0].slice()),j}function qo(s,d){return s.feature?i({},s.feature,{geometry:d}):kl(d)}function kl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ou={toGeoJSON:function(s){return qo(this,{type:"Point",coordinates:bl(this.getLatLng(),s)})}};ri.include(ou),wl.include(ou),vl.include(ou),Vn.include({toGeoJSON:function(s){var d=!rr(this._latlngs),y=El(this._latlngs,d?1:0,!1,s);return qo(this,{type:(d?"Multi":"")+"LineString",coordinates:y})}}),ii.include({toGeoJSON:function(s){var d=!rr(this._latlngs),y=d&&!rr(this._latlngs[0]),S=El(this._latlngs,y?2:d?1:0,!0,s);return d||(S=[S]),qo(this,{type:(y?"Multi":"")+"Polygon",coordinates:S})}}),xi.include({toMultiPoint:function(s){var d=[];return this.eachLayer(function(y){d.push(y.toGeoJSON(s).geometry.coordinates)}),qo(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(s){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(s);var y=d==="GeometryCollection",S=[];return this.eachLayer(function(j){if(j.toGeoJSON){var H=j.toGeoJSON(s);if(y)S.push(H.geometry);else{var ce=kl(H);ce.type==="FeatureCollection"?S.push.apply(S,ce.features):S.push(ce)}}}),y?qo(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function Qd(s,d){return new Or(s,d)}var xr=Qd,Ei=_r.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,d,y){this._url=s,this._bounds=be(d),_(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ft(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Zt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&zo(this._image),this},bringToBack:function(){return this._map&&Xr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=be(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",d=this._image=s?this._url:pt("img");if(ft(d,"leaflet-image-layer"),this._zoomAnimated&&ft(d,"leaflet-zoom-animated"),this.options.className&&ft(d,this.options.className),d.onselectstart=m,d.onmousemove=m,d.onload=c(this.fire,this,"load"),d.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(s){var d=this._map.getZoomScale(s.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;gr(this._image,y,d)},_reset:function(){var s=this._image,d=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=d.getSize();on(s,d.min),s.style.width=y.x+"px",s.style.height=y.y+"px"},_updateOpacity:function(){In(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Xd=function(s,d,y){return new Ei(s,d,y)},su=Ei.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",d=this._image=s?this._url:pt("video");if(ft(d,"leaflet-image-layer"),this._zoomAnimated&&ft(d,"leaflet-zoom-animated"),this.options.className&&ft(d,this.options.className),d.onselectstart=m,d.onmousemove=m,d.onloadeddata=c(this.fire,this,"load"),s){for(var y=d.getElementsByTagName("source"),S=[],j=0;j<y.length;j++)S.push(y[j].src);this._url=y.length>0?S:[d.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var H=0;H<this._url.length;H++){var ce=pt("source");ce.src=this._url[H],d.appendChild(ce)}}});function ef(s,d,y){return new su(s,d,y)}var au=Ei.extend({_initImage:function(){var s=this._image=this._url;ft(s,"leaflet-image-layer"),this._zoomAnimated&&ft(s,"leaflet-zoom-animated"),this.options.className&&ft(s,this.options.className),s.onselectstart=m,s.onmousemove=m}});function lu(s,d,y){return new au(s,d,y)}var jr=_r.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,d){s&&(s instanceof we||I(s))?(this._latlng=Ie(s),_(this,d)):(_(this,s),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&In(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&In(this._container,1),this.bringToFront(),this.options.interactive&&(ft(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(In(this._container,0),this._removeTimeout=setTimeout(c(Zt,void 0,this._container),200)):Zt(this._container),this.options.interactive&&(Ut(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Ie(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zo(this._container),this},bringToBack:function(){return this._map&&Xr(this._container),this},_prepareOpen:function(s){var d=this._source;if(!d._map)return!1;if(d instanceof ni){d=null;var y=this._source._layers;for(var S in y)if(y[S]._map){d=y[S];break}if(!d)return!1;this._source=d}if(!s)if(d.getCenter)s=d.getCenter();else if(d.getLatLng)s=d.getLatLng();else if(d.getBounds)s=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")s.innerHTML=d;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),d=le(this.options.offset),y=this._getAnchor();this._zoomAnimated?on(this._container,s.add(y)):d=d.add(s).add(y);var S=this._containerBottom=-d.y,j=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=S+"px",this._container.style.left=j+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(s,d,y,S){var j=d;return j instanceof s||(j=new s(S).setContent(d)),y&&j.setLatLng(y),j}}),_r.include({_initOverlay:function(s,d,y,S){var j=y;return j instanceof s?(_(j,S),j._source=this):(j=d&&!S?d:new s(S,this),j.setContent(y)),j}});var Sl=jr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,jr.prototype.openOn.call(this,s)},onAdd:function(s){jr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof bi||this._source.on("preclick",Lr))},onRemove:function(s){jr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof bi||this._source.off("preclick",Lr))},getEvents:function(){var s=jr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",d=this._container=pt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=pt("div",s+"-content-wrapper",d);if(this._contentNode=pt("div",s+"-content",y),ca(d),fl(this._contentNode),ct(d,"contextmenu",Lr),this._tipContainer=pt("div",s+"-tip-container",d),this._tip=pt("div",s+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=pt("a",s+"-close-button",d);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',ct(S,"click",function(j){en(j),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,d=s.style;d.width="",d.whiteSpace="nowrap";var y=s.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),d.width=y+1+"px",d.whiteSpace="",d.height="";var S=s.offsetHeight,j=this.options.maxHeight,H="leaflet-popup-scrolled";j&&S>j?(d.height=j+"px",ft(s,H)):Ut(s,H),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),y=this._getAnchor();on(this._container,d.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,d=parseInt(oa(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+d,S=this._containerWidth,j=new ne(this._containerLeft,-y-this._containerBottom);j._add(ei(this._container));var H=s.layerPointToContainerPoint(j),ce=le(this.options.autoPanPadding),ge=le(this.options.autoPanPaddingTopLeft||ce),xe=le(this.options.autoPanPaddingBottomRight||ce),Re=s.getSize(),Ze=0,nt=0;H.x+S+xe.x>Re.x&&(Ze=H.x+S-Re.x+xe.x),H.x-Ze-ge.x<0&&(Ze=H.x-ge.x),H.y+y+xe.y>Re.y&&(nt=H.y+y-Re.y+xe.y),H.y-nt-ge.y<0&&(nt=H.y-ge.y),(Ze||nt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Ze,nt]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ko=function(s,d){return new Sl(s,d)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(s,d,y){return this._initOverlay(Sl,s,d,y).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),_r.include({bindPopup:function(s,d){return this._popup=this._initOverlay(Sl,this._popup,s,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ni||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){vr(s);var d=s.layer||s.target;if(this._popup._source===d&&!(d instanceof bi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=d,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Go=jr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){jr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){jr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=jr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",d=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var d,y,S=this._map,j=this._container,H=S.latLngToContainerPoint(S.getCenter()),ce=S.layerPointToContainerPoint(s),ge=this.options.direction,xe=j.offsetWidth,Re=j.offsetHeight,Ze=le(this.options.offset),nt=this._getAnchor();ge==="top"?(d=xe/2,y=Re):ge==="bottom"?(d=xe/2,y=0):ge==="center"?(d=xe/2,y=Re/2):ge==="right"?(d=0,y=Re/2):ge==="left"?(d=xe,y=Re/2):ce.x<H.x?(ge="right",d=0,y=Re/2):(ge="left",d=xe+(Ze.x+nt.x)*2,y=Re/2),s=s.subtract(le(d,y,!0)).add(Ze).add(nt),Ut(j,"leaflet-tooltip-right"),Ut(j,"leaflet-tooltip-left"),Ut(j,"leaflet-tooltip-top"),Ut(j,"leaflet-tooltip-bottom"),ft(j,"leaflet-tooltip-"+ge),on(j,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&In(this._container,s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(d)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ma=function(s,d){return new Go(s,d)};xt.include({openTooltip:function(s,d,y){return this._initOverlay(Go,s,d,y).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),_r.include({bindTooltip:function(s,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Go,this._tooltip,s,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var d=s?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[d](y),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ni||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var d=typeof s.getElement=="function"&&s.getElement();d&&(ct(d,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ct(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var d=typeof s.getElement=="function"&&s.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var d=s.latlng,y,S;this._tooltip.options.sticky&&s.originalEvent&&(y=this._map.mouseEventToContainerPoint(s.originalEvent),S=this._map.containerPointToLayerPoint(y),d=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(d)}});var Cl=Xi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var d=s&&s.tagName==="DIV"?s:document.createElement("div"),y=this.options;if(y.html instanceof Element?(sl(d),d.appendChild(y.html)):d.innerHTML=y.html!==!1?y.html:"",y.bgPos){var S=le(y.bgPos);d.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function tf(s){return new Cl(s)}Xi.Default=Wo;var ki=_r.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Qe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){_(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Zt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ne?s:new ne(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var d=this.getPane().children,y=-s(-1/0,1/0),S=0,j=d.length,H;S<j;S++)H=d[S].style.zIndex,d[S]!==this._container&&H&&(y=s(y,+H));isFinite(y)&&(this.options.zIndex=y+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Qe.ielt9){In(this._container,this.options.opacity);var s=+new Date,d=!1,y=!1;for(var S in this._tiles){var j=this._tiles[S];if(!(!j.current||!j.loaded)){var H=Math.min(1,(s-j.loaded)/200);In(j.el,H),H<1?d=!0:(j.active?y=!0:this._onOpaqueTile(j),j.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),d&&(U(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,d=this.options.maxZoom;if(s!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===s?(this._levels[y].el.style.zIndex=d-Math.abs(s-y),this._onUpdateLevel(y)):(Zt(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var S=this._levels[s],j=this._map;return S||(S=this._levels[s]={},S.el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=d,S.origin=j.project(j.unproject(j.getPixelOrigin()),s).round(),S.zoom=s,this._setZoomTransform(S,j.getCenter(),j.getZoom()),m(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var s,d,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)d=this._tiles[s],d.retain=d.current;for(s in this._tiles)if(d=this._tiles[s],d.current&&!d.active){var S=d.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var d in this._tiles)this._tiles[d].coords.z===s&&this._removeTile(d)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Zt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,d,y,S){var j=Math.floor(s/2),H=Math.floor(d/2),ce=y-1,ge=new ne(+j,+H);ge.z=+ce;var xe=this._tileCoordsToKey(ge),Re=this._tiles[xe];return Re&&Re.active?(Re.retain=!0,!0):(Re&&Re.loaded&&(Re.retain=!0),ce>S?this._retainParent(j,H,ce,S):!1)},_retainChildren:function(s,d,y,S){for(var j=2*s;j<2*s+2;j++)for(var H=2*d;H<2*d+2;H++){var ce=new ne(j,H);ce.z=y+1;var ge=this._tileCoordsToKey(ce),xe=this._tiles[ge];if(xe&&xe.active){xe.retain=!0;continue}else xe&&xe.loaded&&(xe.retain=!0);y+1<S&&this._retainChildren(j,H,y+1,S)}},_resetView:function(s){var d=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var d=this.options;return d.minNativeZoom!==void 0&&s<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<s?d.maxNativeZoom:s},_setView:function(s,d,y,S){var j=Math.round(d);this.options.maxZoom!==void 0&&j>this.options.maxZoom||this.options.minZoom!==void 0&&j<this.options.minZoom?j=void 0:j=this._clampZoom(j);var H=this.options.updateWhenZooming&&j!==this._tileZoom;(!S||H)&&(this._tileZoom=j,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),j!==void 0&&this._update(s),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(s,d)},_setZoomTransforms:function(s,d){for(var y in this._levels)this._setZoomTransform(this._levels[y],s,d)},_setZoomTransform:function(s,d,y){var S=this._map.getZoomScale(y,s.zoom),j=s.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(d,y)).round();Qe.any3d?gr(s.el,j,S):on(s.el,j)},_resetGrid:function(){var s=this._map,d=s.options.crs,y=this._tileSize=this.getTileSize(),S=this._tileZoom,j=this._map.getPixelWorldBounds(this._tileZoom);j&&(this._globalTileRange=this._pxBoundsToTileRange(j)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,d.wrapLng[0]],S).x/y.x),Math.ceil(s.project([0,d.wrapLng[1]],S).x/y.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([d.wrapLat[0],0],S).y/y.x),Math.ceil(s.project([d.wrapLat[1],0],S).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var d=this._map,y=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),S=d.getZoomScale(y,this._tileZoom),j=d.project(s,this._tileZoom).floor(),H=d.getSize().divideBy(S*2);return new F(j.subtract(H),j.add(H))},_update:function(s){var d=this._map;if(d){var y=this._clampZoom(d.getZoom());if(s===void 0&&(s=d.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(s),j=this._pxBoundsToTileRange(S),H=j.getCenter(),ce=[],ge=this.options.keepBuffer,xe=new F(j.getBottomLeft().subtract([ge,-ge]),j.getTopRight().add([ge,-ge]));if(!(isFinite(j.min.x)&&isFinite(j.min.y)&&isFinite(j.max.x)&&isFinite(j.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Re in this._tiles){var Ze=this._tiles[Re].coords;(Ze.z!==this._tileZoom||!xe.contains(new ne(Ze.x,Ze.y)))&&(this._tiles[Re].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(s,y);return}for(var nt=j.min.y;nt<=j.max.y;nt++)for(var gt=j.min.x;gt<=j.max.x;gt++){var mn=new ne(gt,nt);if(mn.z=this._tileZoom,!!this._isValidTile(mn)){var dn=this._tiles[this._tileCoordsToKey(mn)];dn?dn.current=!0:ce.push(mn)}}if(ce.sort(function(On,es){return On.distanceTo(H)-es.distanceTo(H)}),ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qn=document.createDocumentFragment();for(gt=0;gt<ce.length;gt++)this._addTile(ce[gt],qn);this._level.el.appendChild(qn)}}}},_isValidTile:function(s){var d=this._map.options.crs;if(!d.infinite){var y=this._globalTileRange;if(!d.wrapLng&&(s.x<y.min.x||s.x>y.max.x)||!d.wrapLat&&(s.y<y.min.y||s.y>y.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(s);return be(this.options.bounds).overlaps(S)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var d=this._map,y=this.getTileSize(),S=s.scaleBy(y),j=S.add(y),H=d.unproject(S,s.z),ce=d.unproject(j,s.z);return[H,ce]},_tileCoordsToBounds:function(s){var d=this._tileCoordsToNwSe(s),y=new Ce(d[0],d[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var d=s.split(":"),y=new ne(+d[0],+d[1]);return y.z=+d[2],y},_removeTile:function(s){var d=this._tiles[s];d&&(Zt(d.el),delete this._tiles[s],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ft(s,"leaflet-tile");var d=this.getTileSize();s.style.width=d.x+"px",s.style.height=d.y+"px",s.onselectstart=m,s.onmousemove=m,Qe.ielt9&&this.options.opacity<1&&In(s,this.options.opacity)},_addTile:function(s,d){var y=this._getTilePos(s),S=this._tileCoordsToKey(s),j=this.createTile(this._wrapCoords(s),c(this._tileReady,this,s));this._initTile(j),this.createTile.length<2&&Q(c(this._tileReady,this,s,null,j)),on(j,y),this._tiles[S]={el:j,coords:s,current:!0},d.appendChild(j),this.fire("tileloadstart",{tile:j,coords:s})},_tileReady:function(s,d,y){d&&this.fire("tileerror",{error:d,tile:y,coords:s});var S=this._tileCoordsToKey(s);y=this._tiles[S],y&&(y.loaded=+new Date,this._map._fadeAnimated?(In(y.el,0),U(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),d||(ft(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Qe.ielt9||!this._map._fadeAnimated?Q(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var d=new ne(this._wrapX?g(s.x,this._wrapX):s.x,this._wrapY?g(s.y,this._wrapY):s.y);return d.z=s.z,d},_pxBoundsToTileRange:function(s){var d=this.getTileSize();return new F(s.min.unscaleBy(d).floor(),s.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Yo(s){return new ki(s)}var Si=ki.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,d){this._url=s,d=_(this,d),d.detectRetina&&Qe.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,d){return this._url===s&&d===void 0&&(d=!0),this._url=s,d||this.redraw(),this},createTile:function(s,d){var y=document.createElement("img");return ct(y,"load",c(this._tileOnLoad,this,d,y)),ct(y,"error",c(this._tileOnError,this,d,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(s),y},getTileUrl:function(s){var d={r:Qe.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-s.y;this.options.tms&&(d.y=y),d["-y"]=y}return T(this._url,i(d,this.options))},_tileOnLoad:function(s,d){Qe.ielt9?setTimeout(c(s,this,null,d),0):s(null,d)},_tileOnError:function(s,d,y){var S=this.options.errorTileUrl;S&&d.getAttribute("src")!==S&&(d.src=S),s(y,d)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,d=this.options.maxZoom,y=this.options.zoomReverse,S=this.options.zoomOffset;return y&&(s=d-s),s+S},_getSubdomain:function(s){var d=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var s,d;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(d=this._tiles[s].el,d.onload=m,d.onerror=m,!d.complete)){d.src=B;var y=this._tiles[s].coords;Zt(d),delete this._tiles[s],this.fire("tileabort",{tile:d,coords:y})}},_removeTile:function(s){var d=this._tiles[s];if(d)return d.el.setAttribute("src",B),ki.prototype._removeTile.call(this,s)},_tileReady:function(s,d,y){if(!(!this._map||y&&y.getAttribute("src")===B))return ki.prototype._tileReady.call(this,s,d,y)}});function cu(s,d){return new Si(s,d)}var ga=Si.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,d){this._url=s;var y=i({},this.defaultWmsParams);for(var S in d)S in this.options||(y[S]=d[S]);d=_(this,d);var j=d.detectRetina&&Qe.retina?2:1,H=this.getTileSize();y.width=H.x*j,y.height=H.y*j,this.wmsParams=y},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Si.prototype.onAdd.call(this,s)},getTileUrl:function(s){var d=this._tileCoordsToNwSe(s),y=this._crs,S=K(y.project(d[0]),y.project(d[1])),j=S.min,H=S.max,ce=(this._wmsVersion>=1.3&&this._crs===Kd?[j.y,j.x,H.y,H.x]:[j.x,j.y,H.x,H.y]).join(","),ge=Si.prototype.getTileUrl.call(this,s);return ge+E(this.wmsParams,ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ce},setParams:function(s,d){return i(this.wmsParams,s),d||this.redraw(),this}});function nf(s,d){return new ga(s,d)}Si.WMS=ga,cu.wms=nf;var Mr=_r.extend({options:{padding:.1},initialize:function(s){_(this,s),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ft(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,d){var y=this._map.getZoomScale(d,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),j=this._map.project(this._center,d),H=S.multiplyBy(-y).add(j).subtract(this._map._getNewPixelOrigin(s,d));Qe.any3d?gr(this._container,H,y):on(this._container,H)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,d=this._map.getSize(),y=this._map.containerPointToLayerPoint(d.multiplyBy(-s)).round();this._bounds=new F(y,y.add(d.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),uu=Mr.extend({options:{tolerance:0},getEvents:function(){var s=Mr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Mr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ct(s,"mousemove",this._onMouseMove,this),ct(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ct(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Zt(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var d in this._layers)s=this._layers[d],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Mr.prototype._update.call(this);var s=this._bounds,d=this._container,y=s.getSize(),S=Qe.retina?2:1;on(d,s.min),d.width=S*y.x,d.height=S*y.y,d.style.width=y.x+"px",d.style.height=y.y+"px",Qe.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Mr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[f(s)]=s;var d=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var d=s._order,y=d.next,S=d.prev;y?y.prev=S:this._drawLast=S,S?S.next=y:this._drawFirst=y,delete s._order,delete this._layers[f(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var d=s.options.dashArray.split(/[, ]+/),y=[],S,j;for(j=0;j<d.length;j++){if(S=Number(d[j]),isNaN(S))return;y.push(S)}s.options._dashArray=y}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Q(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var d=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(s._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(s._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var d=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,d=this._redrawBounds;if(this._ctx.save(),d){var y=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)s=S.layer,(!d||s._pxBounds&&s._pxBounds.intersects(d))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,d){if(this._drawing){var y,S,j,H,ce=s._parts,ge=ce.length,xe=this._ctx;if(ge){for(xe.beginPath(),y=0;y<ge;y++){for(S=0,j=ce[y].length;S<j;S++)H=ce[y][S],xe[S?"lineTo":"moveTo"](H.x,H.y);d&&xe.closePath()}this._fillStroke(xe,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var d=s._point,y=this._ctx,S=Math.max(Math.round(s._radius),1),j=(Math.max(Math.round(s._radiusY),1)||S)/S;j!==1&&(y.save(),y.scale(1,j)),y.beginPath(),y.arc(d.x,d.y/j,S,0,Math.PI*2,!1),j!==1&&y.restore(),this._fillStroke(y,s)}},_fillStroke:function(s,d){var y=d.options;y.fill&&(s.globalAlpha=y.fillOpacity,s.fillStyle=y.fillColor||y.color,s.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(s.setLineDash&&s.setLineDash(d.options&&d.options._dashArray||[]),s.globalAlpha=y.opacity,s.lineWidth=y.weight,s.strokeStyle=y.color,s.lineCap=y.lineCap,s.lineJoin=y.lineJoin,s.stroke())},_onClick:function(s){for(var d=this._map.mouseEventToLayerPoint(s),y,S,j=this._drawFirst;j;j=j.next)y=j.layer,y.options.interactive&&y._containsPoint(d)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(y))&&(S=y);this._fireEvent(S?[S]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,d)}},_handleMouseOut:function(s){var d=this._hoveredLayer;d&&(Ut(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,d){if(!this._mouseHoverThrottled){for(var y,S,j=this._drawFirst;j;j=j.next)y=j.layer,y.options.interactive&&y._containsPoint(d)&&(S=y);S!==this._hoveredLayer&&(this._handleMouseOut(s),S&&(ft(this._container,"leaflet-interactive"),this._fireEvent([S],s,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,d,y){this._map._fireDOMEvent(d,y||d.type,s)},_bringToFront:function(s){var d=s._order;if(d){var y=d.next,S=d.prev;if(y)y.prev=S;else return;S?S.next=y:y&&(this._drawFirst=y),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(s)}},_bringToBack:function(s){var d=s._order;if(d){var y=d.next,S=d.prev;if(S)S.next=y;else return;y?y.prev=S:S&&(this._drawLast=S),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(s)}}});function du(s){return Qe.canvas?new uu(s):null}var Jo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),rf={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Mr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var d=s._container=Jo("shape");ft(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",s._path=Jo("path"),d.appendChild(s._path),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){var d=s._container;this._container.appendChild(d),s.options.interactive&&s.addInteractiveTarget(d)},_removePath:function(s){var d=s._container;Zt(d),s.removeInteractiveTarget(d),delete this._layers[f(s)]},_updateStyle:function(s){var d=s._stroke,y=s._fill,S=s.options,j=s._container;j.stroked=!!S.stroke,j.filled=!!S.fill,S.stroke?(d||(d=s._stroke=Jo("stroke")),j.appendChild(d),d.weight=S.weight+"px",d.color=S.color,d.opacity=S.opacity,S.dashArray?d.dashStyle=I(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=S.lineCap.replace("butt","flat"),d.joinstyle=S.lineJoin):d&&(j.removeChild(d),s._stroke=null),S.fill?(y||(y=s._fill=Jo("fill")),j.appendChild(y),y.color=S.fillColor||S.color,y.opacity=S.fillOpacity):y&&(j.removeChild(y),s._fill=null)},_updateCircle:function(s){var d=s._point.round(),y=Math.round(s._radius),S=Math.round(s._radiusY||y);this._setPath(s,s._empty()?"M0 0":"AL "+d.x+","+d.y+" "+y+","+S+" 0,"+65535*360)},_setPath:function(s,d){s._path.v=d},_bringToFront:function(s){zo(s._container)},_bringToBack:function(s){Xr(s._container)}},br=Qe.vml?Jo:Pe,eo=Mr.extend({_initContainer:function(){this._container=br("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=br("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Zt(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Mr.prototype._update.call(this);var s=this._bounds,d=s.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,y.setAttribute("width",d.x),y.setAttribute("height",d.y)),on(y,s.min),y.setAttribute("viewBox",[s.min.x,s.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(s){var d=s._path=br("path");s.options.className&&ft(d,s.options.className),s.options.interactive&&ft(d,"leaflet-interactive"),this._updateStyle(s),this._layers[f(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Zt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[f(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var d=s._path,y=s.options;d&&(y.stroke?(d.setAttribute("stroke",y.color),d.setAttribute("stroke-opacity",y.opacity),d.setAttribute("stroke-width",y.weight),d.setAttribute("stroke-linecap",y.lineCap),d.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?d.setAttribute("stroke-dasharray",y.dashArray):d.removeAttribute("stroke-dasharray"),y.dashOffset?d.setAttribute("stroke-dashoffset",y.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),y.fill?(d.setAttribute("fill",y.fillColor||y.color),d.setAttribute("fill-opacity",y.fillOpacity),d.setAttribute("fill-rule",y.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(s,d){this._setPath(s,ke(s._parts,d))},_updateCircle:function(s){var d=s._point,y=Math.max(Math.round(s._radius),1),S=Math.max(Math.round(s._radiusY),1)||y,j="a"+y+","+S+" 0 1,0 ",H=s._empty()?"M0 0":"M"+(d.x-y)+","+d.y+j+y*2+",0 "+j+-y*2+",0 ";this._setPath(s,H)},_setPath:function(s,d){s._path.setAttribute("d",d)},_bringToFront:function(s){zo(s._path)},_bringToBack:function(s){Xr(s._path)}});Qe.vml&&eo.include(rf);function Pl(s){return Qe.svg||Qe.vml?new eo(s):null}xt.include({getRenderer:function(s){var d=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var d=this._paneRenderers[s];return d===void 0&&(d=this._createRenderer({pane:s}),this._paneRenderers[s]=d),d},_createRenderer:function(s){return this.options.preferCanvas&&du(s)||Pl(s)}});var of=ii.extend({initialize:function(s,d){ii.prototype.initialize.call(this,this._boundsToLatLngs(s),d)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=be(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function im(s,d){return new of(s,d)}eo.create=br,eo.pointsToPath=ke,Or.geometryToLayer=Vo,Or.coordsToLatLng=xl,Or.coordsToLatLngs=pa,Or.latLngToCoords=bl,Or.latLngsToCoords=El,Or.getFeature=qo,Or.asFeature=kl,xt.mergeOptions({boxZoom:!0});var Qo=nr.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Zt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),St(),cl(),this._startPoint=this._map.mouseEventToContainerPoint(s),ct(document,{contextmenu:vr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),ft(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var d=new F(this._point,this._startPoint),y=d.getSize();on(this._box,d.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(Zt(this._box),Ut(this._container,"leaflet-crosshair")),Fo(),ul(),Dt(document,{contextmenu:vr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var d=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",Qo),xt.mergeOptions({doubleClickZoom:!0});var sf=nr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var d=this._map,y=d.getZoom(),S=d.options.zoomDelta,j=s.originalEvent.shiftKey?y-S:y+S;d.options.doubleClickZoom==="center"?d.setZoom(j):d.setZoomAround(s.containerPoint,j)}});xt.addInitHook("addHandler","doubleClickZoom",sf),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fu=nr.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new wr(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ft(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ut(this._map._container,"leaflet-grab"),Ut(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=be(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var d=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(d),this._prunePositions(d)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,d){return s-(s-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;s.x<d.min.x&&(s.x=this._viscousLimit(s.x,d.min.x)),s.y<d.min.y&&(s.y=this._viscousLimit(s.y,d.min.y)),s.x>d.max.x&&(s.x=this._viscousLimit(s.x,d.max.x)),s.y>d.max.y&&(s.y=this._viscousLimit(s.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,d=Math.round(s/2),y=this._initialWorldOffset,S=this._draggable._newPos.x,j=(S-d+y)%s+d-y,H=(S+d+y)%s-d-y,ce=Math.abs(j+y)<Math.abs(H+y)?j:H;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ce},_onDragEnd:function(s){var d=this._map,y=d.options,S=!y.inertia||s.noInertia||this._times.length<2;if(d.fire("dragend",s),S)d.fire("moveend");else{this._prunePositions(+new Date);var j=this._lastPos.subtract(this._positions[0]),H=(this._lastTime-this._times[0])/1e3,ce=y.easeLinearity,ge=j.multiplyBy(ce/H),xe=ge.distanceTo([0,0]),Re=Math.min(y.inertiaMaxSpeed,xe),Ze=ge.multiplyBy(Re/xe),nt=Re/(y.inertiaDeceleration*ce),gt=Ze.multiplyBy(-nt/2).round();!gt.x&&!gt.y?d.fire("moveend"):(gt=d._limitOffset(gt,d.options.maxBounds),Q(function(){d.panBy(gt,{duration:nt,easeLinearity:ce,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",fu),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hu=nr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ct(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,d=document.documentElement,y=s.scrollTop||d.scrollTop,S=s.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(S,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var d=this._panKeys={},y=this.keyCodes,S,j;for(S=0,j=y.left.length;S<j;S++)d[y.left[S]]=[-1*s,0];for(S=0,j=y.right.length;S<j;S++)d[y.right[S]]=[s,0];for(S=0,j=y.down.length;S<j;S++)d[y.down[S]]=[0,s];for(S=0,j=y.up.length;S<j;S++)d[y.up[S]]=[0,-1*s]},_setZoomDelta:function(s){var d=this._zoomKeys={},y=this.keyCodes,S,j;for(S=0,j=y.zoomIn.length;S<j;S++)d[y.zoomIn[S]]=s;for(S=0,j=y.zoomOut.length;S<j;S++)d[y.zoomOut[S]]=-s},_addHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var d=s.keyCode,y=this._map,S;if(d in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(S=this._panKeys[d],s.shiftKey&&(S=le(S).multiplyBy(3)),y.options.maxBounds&&(S=y._limitOffset(le(S),y.options.maxBounds)),y.options.worldCopyJump){var j=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(S)));y.panTo(j)}else y.panBy(S)}else if(d in this._zoomKeys)y.setZoom(y.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;vr(s)}}});xt.addInitHook("addHandler","keyboard",hu),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bt=nr.extend({addHooks:function(){ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var d=Fd(s),y=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var S=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),S),vr(s)},_performZoom:function(){var s=this._map,d=s.getZoom(),y=this._map.options.zoomSnap||0;s._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),j=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,H=y?Math.ceil(j/y)*y:j,ce=s._limitZoom(d+(this._delta>0?H:-H))-d;this._delta=0,this._startTime=null,ce&&(s.options.scrollWheelZoom==="center"?s.setZoom(d+ce):s.setZoomAround(this._lastMousePos,d+ce))}});xt.addInitHook("addHandler","scrollWheelZoom",Bt);var pu=600;xt.mergeOptions({tapHold:Qe.touchNative&&Qe.safari&&Qe.mobile,tapTolerance:15});var ya=nr.extend({addHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var d=s.touches[0];this._startPos=this._newPos=new ne(d.clientX,d.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ct(document,"touchend",en),ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),pu),ct(document,"touchend touchcancel contextmenu",this._cancel,this),ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Dt(document,"touchend",en),Dt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(s){var d=s.touches[0];this._newPos=new ne(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,d){var y=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});y._simulated=!0,d.target.dispatchEvent(y)}});xt.addInitHook("addHandler","tapHold",ya),xt.mergeOptions({touchZoom:Qe.touch,bounceAtZoomLimits:!0});var Xo=nr.extend({addHooks:function(){ft(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ut(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var d=this._map;if(!(!s.touches||s.touches.length!==2||d._animatingZoom||this._zooming)){var y=d.mouseEventToContainerPoint(s.touches[0]),S=d.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(y.add(S)._divideBy(2))),this._startDist=y.distanceTo(S),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend touchcancel",this._onTouchEnd,this),en(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var d=this._map,y=d.mouseEventToContainerPoint(s.touches[0]),S=d.mouseEventToContainerPoint(s.touches[1]),j=y.distanceTo(S)/this._startDist;if(this._zoom=d.getScaleZoom(j,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&j<1||this._zoom>d.getMaxZoom()&&j>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,j===1)return}else{var H=y._add(S)._divideBy(2)._subtract(this._centerPoint);if(j===1&&H.x===0&&H.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(H),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var ce=c(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Q(ce,this,!0),en(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",Xo),xt.BoxZoom=Qo,xt.DoubleClickZoom=sf,xt.Drag=fu,xt.Keyboard=hu,xt.ScrollWheelZoom=Bt,xt.TapHold=ya,xt.TouchZoom=Xo,n.Bounds=F,n.Browser=Qe,n.CRS=Ue,n.Canvas=uu,n.Circle=wl,n.CircleMarker=vl,n.Class=M,n.Control=Wn,n.DivIcon=Cl,n.DivOverlay=jr,n.DomEvent=hl,n.DomUtil=la,n.Draggable=wr,n.Evented=oe,n.FeatureGroup=ni,n.GeoJSON=Or,n.GridLayer=ki,n.Handler=nr,n.Icon=Xi,n.ImageOverlay=Ei,n.LatLng=we,n.LatLngBounds=Ce,n.Layer=_r,n.LayerGroup=xi,n.LineUtil=qd,n.Map=xt,n.Marker=ri,n.Mixin=Jc,n.Path=bi,n.Point=ne,n.PolyUtil=qp,n.Polygon=ii,n.Polyline=Vn,n.Popup=Sl,n.PosAnimation=pl,n.Projection=Qp,n.Rectangle=of,n.Renderer=Mr,n.SVG=eo,n.SVGOverlay=au,n.TileLayer=Si,n.Tooltip=Go,n.Transformation=wt,n.Util=re,n.VideoOverlay=su,n.bind=c,n.bounds=K,n.canvas=du,n.circle=ha,n.circleMarker=Jd,n.control=_i,n.divIcon=tf,n.extend=i,n.featureGroup=Gd,n.geoJSON=Qd,n.geoJson=xr,n.gridLayer=Yo,n.icon=Yd,n.imageOverlay=Xd,n.latLng=Ie,n.latLngBounds=be,n.layerGroup=fa,n.map=wi,n.marker=tm,n.point=le,n.polygon=rm,n.polyline=nm,n.popup=Ko,n.rectangle=im,n.setOptions=_,n.stamp=f,n.svg=Pl,n.svgOverlay=lu,n.tileLayer=cu,n.tooltip=ma,n.transformation=At,n.version=r,n.videoOverlay=ef;var af=window.L;n.noConflict=function(){return window.L=af,this},window.L=n})}($u,$u.exports)),$u.exports}var D9=z9();const Jl=qh(D9),B9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",F9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let U9=Jl.icon({iconUrl:B9,shadowUrl:F9,iconSize:[25,41],iconAnchor:[12,41]});Jl.Marker.prototype.options.icon=U9;const Xg={"9q8yyz":[37.7749,-122.4194],"9q8yym":[34.0522,-118.2437],"9q8yyk":[40.7128,-74.006],"9q8yyf":[41.8781,-87.6298],dpwh:[47.6062,-122.3321],dqcjq:[39.7392,-104.9903]};function $9(e){if(Xg[e])return Xg[e];for(const[t,n]of Object.entries(Xg))if(e.startsWith(t))return n;return[25+Math.random()*35,-125+Math.random()*55]}function t1({lockers:e=[],onLockerClick:t,center:n=[45,-100],zoom:r=3}){const i=R.useRef(null),l=R.useRef(null),c=R.useRef([]);return R.useEffect(()=>{if(!l.current)return;const u=Jl.map(l.current).setView(n,r);return Jl.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(u),i.current=u,()=>{u.remove(),i.current=null}},[n,r]),R.useEffect(()=>{if(i.current&&(c.current.forEach(u=>u.remove()),c.current=[],e.forEach(u=>{if(!u.geohash)return;const f=$9(u.geohash);if(!f)return;const p=u.price>0&&u.price<1e3?`<div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${u.title}</h3>
            <p style="margin: 0; color: #666;">${u.description||""}</p>
            <p style="margin: 5px 0 0 0; font-size: 14px; font-weight: bold;">
              ${u.price} products
            </p>
          </div>`:`<div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${u.title}</h3>
            <p style="margin: 0; color: #666;">${u.description||""}</p>
          </div>`,g=Jl.marker(f).addTo(i.current).bindPopup(p);t&&g.on("click",()=>t(u)),c.current.push(g)}),c.current.length>0&&c.current.length<10)){const u=new Jl.FeatureGroup(c.current);i.current.fitBounds(u.getBounds().pad(.1))}},[e,t]),v.jsx("div",{ref:l,style:{height:"100%",width:"100%",minHeight:"400px"}})}const ey=[{id:"1",dTag:"locker-sf-001",name:"Mission District Secure Box",description:"24/7 accessible smart locker in secure building. Camera monitored.",price:500,geohash:"9q8yyz",city:"San Francisco",state:"CA",owner:"npub1owner1...",dimensions:"40x50x60 cm",features:["24/7 Access","Camera","Climate Controlled"]},{id:"2",dTag:"locker-nyc-001",name:"Brooklyn Heights Drop",description:"Street-level locker. Well-lit area, residential neighborhood.",price:750,geohash:"9q8yyk",city:"New York",state:"NY",owner:"npub1owner2...",dimensions:"35x45x55 cm",features:["Ground Floor","Discreet"]},{id:"3",dTag:"locker-sea-001",name:"Capitol Hill Tech Hub",description:"Indoor location near coffee shops. NFC + QR unlock.",price:400,geohash:"dpwh",city:"Seattle",state:"WA",owner:"npub1owner3...",dimensions:"50x60x70 cm",features:["NFC Unlock","Indoor","WiFi"]},{id:"4",dTag:"locker-la-001",name:"Silverlake Community Box",description:"Community-run locker. Local volunteers maintain.",price:300,geohash:"9q8yym",city:"Los Angeles",state:"CA",owner:"npub1owner4...",dimensions:"30x40x50 cm",features:["Community Run","Cheap"]}],Z9=[{id:"seller-1",name:"CryptoVault",npub:"npub1vault...",tagline:"Premium hardware wallets & security devices",items:["ColdCard","SeedSigner","Faraday bags"],trustScore:4.9,sales:156,servicesAreas:["9q8yyz","9q8yyk","dpwh"],isPremium:!0},{id:"seller-2",name:"PrivacyFirst",npub:"npub1priv...",tagline:"De-googled phones & privacy tools",items:["Pixel w/ GrapheneOS","VPN subs"," anon SIMs"],trustScore:4.7,sales:89,servicesAreas:["9q8yyz","9q8yym","dpwh"],isPremium:!0},{id:"seller-3",name:"SatStacker",npub:"npub1sat...",tagline:"Bitcoin merchandise & educational kits",items:["Metal seeds","Books","Stickers"],trustScore:5,sales:234,servicesAreas:["9q8yyk","dqcjq"],isPremium:!1}],H9={"san francisco":["9q8yyz"],sf:["9q8yyz"],94102:["9q8yyz"],94103:["9q8yyz"],"new york":["9q8yyk"],nyc:["9q8yyk"],10001:["9q8yyk"],seattle:["dpwh"],98101:["dpwh"],"los angeles":["9q8yym"],la:["9q8yym"],90001:["9q8yym"],denver:["dqcjq"],80201:["dqcjq"],chicago:["9q8yyf"],60601:["9q8yyf"]};function W9(){const{nostr:e}=Lo(),[t,n]=R.useState("grid"),[r,i]=R.useState(2e3),[l,c]=R.useState(!1),[u,f]=R.useState(""),[p,g]=R.useState(""),[m,b]=R.useState(!1),x=R.useMemo(()=>{if(!p.trim())return null;const T=p.toLowerCase().trim();return H9[T]||null},[p]),k=R.useMemo(()=>ey.filter(T=>{const I=!u||T.name.toLowerCase().includes(u.toLowerCase())||T.description.toLowerCase().includes(u.toLowerCase())||T.city.toLowerCase().includes(u.toLowerCase()),D=T.price<=r,B=!x||x.some(q=>T.geohash.startsWith(q));return I&&D&&B}),[u,r,x]),_=R.useMemo(()=>x?Z9.filter(T=>T.servicesAreas.some(I=>x.some(D=>I.startsWith(D)))):[],[x]),E=T=>T>=1e3?`${(T/1e3).toFixed(1)}k`:`${T}`,P=p&&!x;return _.length>0,v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[v.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[v.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Locker Marketplace"}),v.jsx("p",{className:"text-muted-foreground",children:"Find secure drop boxes for anonymous exchanges"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(ut,{variant:"outline",onClick:()=>b(!0),children:[v.jsx(Xu,{className:"h-4 w-4 mr-2"}),"Browse Map"]}),v.jsx(ut,{asChild:!0,children:v.jsxs(Nn,{to:"/dashboard",children:[v.jsx(Oh,{className:"h-4 w-4 mr-2"}),"List Your Locker"]})})]})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx(e6,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),v.jsx(vn,{placeholder:"Search lockers...",value:u,onChange:T=>f(T.target.value),className:"pl-10"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(_d,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),v.jsx(vn,{placeholder:"Enter city or zip code...",value:p,onChange:T=>g(T.target.value),className:"pl-10"})]})]}),v.jsx("div",{className:"flex flex-wrap items-center gap-3",children:v.jsxs("div",{className:"flex gap-2 flex-1",children:[v.jsxs(ut,{variant:t==="grid"?"default":"outline",size:"sm",onClick:()=>n("grid"),children:[v.jsx(Q5,{className:"h-4 w-4 mr-2"}),"Grid"]}),v.jsxs(ut,{variant:t==="map"?"default":"outline",size:"sm",onClick:()=>n("map"),children:[v.jsx(Xu,{className:"h-4 w-4 mr-2"}),"Map"]}),v.jsxs(ut,{variant:"outline",size:"sm",onClick:()=>c(!l),children:[v.jsx(G5,{className:"h-4 w-4 mr-2"}),"Filters"]})]})}),l&&v.jsx(Vt,{children:v.jsx(Gt,{className:"pt-6",children:v.jsxs("div",{className:"space-y-2",children:[v.jsxs(Pn,{children:["Max Hourly Rate: ",E(r)," sats"]}),v.jsx(zT,{min:0,max:5e3,step:100,value:[r],onValueChange:([T])=>i(T)})]})})})]}),P?v.jsx(V9,{location:p,onClear:()=>g("")}):v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(Oh,{className:"h-4 w-4"}),k.length," locker",k.length!==1?"s":""," found",p&&v.jsxs("span",{children:["near ",p]})]}),t==="map"?v.jsxs("div",{className:"grid lg:grid-cols-3 gap-4",children:[v.jsx(Vt,{className:"lg:col-span-2 min-h-[500px]",children:v.jsx(t1,{lockers:k.map(T=>({id:T.id,dTag:T.dTag,title:T.name,price:T.price,geohash:T.geohash,status:"available",description:`${T.city}, ${T.state}`}))})}),v.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:k.map(T=>v.jsx(n1,{locker:T,compact:!0},T.id))})]}):v.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:k.map(T=>v.jsx(n1,{locker:T},T.id))}),k.length>0&&v.jsxs("div",{className:"border-t border-dashed pt-6 mt-8",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Featured from the circular economy"}),v.jsx(Pr,{variant:"outline",className:"text-xs",children:"P2P Network"})]}),v.jsx(Vt,{className:"bg-muted/30",children:v.jsx(Gt,{className:"p-4",children:v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[v.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center shrink-0",children:v.jsx(Wy,{className:"h-6 w-6 text-primary"})}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.jsx("h4",{className:"font-semibold",children:"CryptoVault"}),v.jsx(Pr,{variant:"secondary",className:"text-xs",children:" 4.9 Trust"}),v.jsx(Pr,{variant:"outline",className:"text-xs",children:"156 sales"})]}),v.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Premium hardware wallets & security devices. Ships to any locker or local drop-off."}),v.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[v.jsx(Pr,{variant:"outline",className:"text-xs",children:"ColdCard"}),v.jsx(Pr,{variant:"outline",className:"text-xs",children:"SeedSigner"}),v.jsx(Pr,{variant:"outline",className:"text-xs",children:"Faraday Bags"})]})]}),v.jsxs("div",{className:"flex gap-2 shrink-0",children:[v.jsx(ut,{size:"sm",variant:"outline",children:"Message"}),v.jsx(ut,{size:"sm",children:"View Store"})]})]})})}),v.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[_.map(T=>v.jsxs(ut,{variant:"outline",size:"sm",className:"h-auto py-1.5",children:[v.jsx(Wy,{className:"h-3 w-3 mr-1.5"}),T.name]},T.id)),v.jsx(ut,{variant:"ghost",size:"sm",className:"h-auto py-1.5 text-muted-foreground",children:"Join network "})]})]})]})]}),v.jsx(Rp,{open:m,onOpenChange:b,children:v.jsx(Ed,{className:"max-w-6xl h-[80vh] p-0",children:v.jsxs("div",{className:"grid md:grid-cols-3 h-full",children:[v.jsx("div",{className:"md:col-span-2 h-full min-h-[400px]",children:v.jsx(t1,{lockers:ey.map(T=>({id:T.id,dTag:T.dTag,title:T.name,price:T.price,geohash:T.geohash,status:"available",description:`${T.city}, ${T.state}`}))})}),v.jsxs("div",{className:"p-4 overflow-y-auto border-l",children:[v.jsx("h3",{className:"font-semibold text-lg mb-4",children:"All Locations"}),v.jsx("div",{className:"space-y-2",children:ey.map(T=>v.jsx(Vt,{className:"cursor-pointer hover:border-primary",children:v.jsxs(Gt,{className:"p-3",children:[v.jsx("p",{className:"font-medium text-sm",children:T.name}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[T.city,", ",T.state]}),v.jsxs("p",{className:"text-sm font-medium mt-1",children:[E(T.price)," sats/hr"]})]})},T.id))})]})]})})})]})}function n1({locker:e,compact:t=!1}){return t?v.jsx(Vt,{className:"hover:border-primary transition-colors",children:v.jsxs(Gt,{className:"p-3",children:[v.jsx("p",{className:"font-medium text-sm",children:e.name}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.city,", ",e.state]}),v.jsxs("p",{className:"text-sm font-medium mt-1",children:[e.price," sats/hr"]})]})}):v.jsxs(Vt,{className:"hover:border-primary transition-colors group",children:[v.jsxs(An,{className:"pb-3",children:[v.jsx("div",{className:"flex items-start justify-between",children:v.jsx($n,{className:"text-base group-hover:text-primary transition-colors",children:e.name})}),v.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[v.jsx(_d,{className:"h-3 w-3"}),v.jsxs("span",{children:[e.city,", ",e.state]})]})]}),v.jsxs(Gt,{className:"space-y-3",children:[v.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),v.jsx("div",{className:"flex flex-wrap gap-1",children:e.features.map(n=>v.jsx(Pr,{variant:"secondary",className:"text-xs",children:n},n))}),e.dimensions&&v.jsx("p",{className:"text-xs text-muted-foreground",children:e.dimensions})]}),v.jsxs(Yl,{className:"pt-0 flex items-center justify-between",children:[v.jsxs("span",{className:"text-lg font-bold",children:[e.price," ",v.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"sats/hr"})]}),v.jsx(ut,{asChild:!0,size:"sm",children:v.jsx(Nn,{to:`/locker/${e.dTag}`,children:"Rent"})})]})]})}function V9({location:e,onClear:t}){return v.jsx(Vt,{className:"text-center py-12",children:v.jsxs(Gt,{className:"space-y-4",children:[v.jsx(_d,{className:"h-12 w-12 mx-auto text-muted-foreground"}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-bold mb-2",children:["No lockers in ",e]}),v.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Be the first to host a locker and enable local P2P trades."})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4",children:[v.jsx(ut,{asChild:!0,children:v.jsxs(Nn,{to:"/dashboard",children:[v.jsx(Oh,{className:"h-4 w-4 mr-2"}),"Host a Locker"]})}),v.jsx(ut,{variant:"outline",onClick:t,children:"Clear Search"})]})]})})}var Q0="Radio",[q9,DT]=er(Q0),[K9,G9]=q9(Q0),BT=R.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:l,disabled:c,value:u="on",onCheck:f,form:p,...g}=e,[m,b]=R.useState(null),x=Tt(t,E=>b(E)),k=R.useRef(!1),_=m?p||!!m.closest("form"):!0;return v.jsxs(K9,{scope:n,checked:i,disabled:c,children:[v.jsx(st.button,{type:"button",role:"radio","aria-checked":i,"data-state":ZT(i),"data-disabled":c?"":void 0,disabled:c,value:u,...g,ref:x,onClick:qe(e.onClick,E=>{i||f==null||f(),_&&(k.current=E.isPropagationStopped(),k.current||E.stopPropagation())})}),_&&v.jsx($T,{control:m,bubbles:!k.current,name:r,value:u,checked:i,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});BT.displayName=Q0;var FT="RadioIndicator",UT=R.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,l=G9(FT,n);return v.jsx(Ar,{present:r||l.checked,children:v.jsx(st.span,{"data-state":ZT(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t})})});UT.displayName=FT;var Y9="RadioBubbleInput",$T=R.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},l)=>{const c=R.useRef(null),u=Tt(c,l),f=Y0(n),p=kp(t);return R.useEffect(()=>{const g=c.current;if(!g)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(f!==n&&x){const k=new Event("click",{bubbles:r});x.call(g,n),g.dispatchEvent(k)}},[f,n,r]),v.jsx(st.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$T.displayName=Y9;function ZT(e){return e?"checked":"unchecked"}var J9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Bp="RadioGroup",[Q9,QZ]=er(Bp,[zc,DT]),HT=zc(),WT=DT(),[X9,eZ]=Q9(Bp),VT=R.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:l,required:c=!1,disabled:u=!1,orientation:f,dir:p,loop:g=!0,onValueChange:m,...b}=e,x=HT(n),k=kd(p),[_,E]=Oo({prop:l,defaultProp:i??"",onChange:m,caller:Bp});return v.jsx(X9,{scope:n,name:r,required:c,disabled:u,value:_,onValueChange:E,children:v.jsx(L0,{asChild:!0,...x,orientation:f,dir:k,loop:g,children:v.jsx(st.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":u?"":void 0,dir:k,...b,ref:t})})})});VT.displayName=Bp;var qT="RadioGroupItem",KT=R.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,l=eZ(qT,n),c=l.disabled||r,u=HT(n),f=WT(n),p=R.useRef(null),g=Tt(t,p),m=l.value===i.value,b=R.useRef(!1);return R.useEffect(()=>{const x=_=>{J9.includes(_.key)&&(b.current=!0)},k=()=>b.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",k)}},[]),v.jsx(O0,{asChild:!0,...u,focusable:!c,active:m,children:v.jsx(BT,{disabled:c,required:l.required,checked:m,...f,...i,name:l.name,ref:g,onCheck:()=>l.onValueChange(i.value),onKeyDown:qe(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:qe(i.onFocus,()=>{var x;b.current&&((x=p.current)==null||x.click())})})})});KT.displayName=qT;var tZ="RadioGroupIndicator",GT=R.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=WT(n);return v.jsx(UT,{...i,...r,ref:t})});GT.displayName=tZ;var YT=VT,JT=KT,nZ=GT;const QT=R.forwardRef(({className:e,...t},n)=>v.jsx(YT,{className:at("grid gap-2",e),...t,ref:n}));QT.displayName=YT.displayName;const XT=R.forwardRef(({className:e,...t},n)=>v.jsx(JT,{ref:n,className:at("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:v.jsx(nZ,{className:"flex items-center justify-center",children:v.jsx(Qk,{className:"h-2.5 w-2.5 fill-current text-current"})})}));XT.displayName=JT.displayName;const r1=[{id:"1",dTag:"prod-001",title:"Privacy-First Smartphone",description:"De-googled Android phone with GrapheneOS pre-installed. Full privacy setup including hardened browser, encrypted messaging, and no Google services. Perfect for those who value their digital privacy.",price:899e3,category:"Electronics",vendor:"PrivacyTech Co",vendorNpub:"npub1abc...",inStock:!0},{id:"2",dTag:"prod-002",title:"Faraday Phone Pouch",description:"Military-grade signal blocking pouch. Protects against tracking, surveillance, and unauthorized access to your device.",price:45e3,category:"Accessories",vendor:"SignalSafe",vendorNpub:"npub1def...",inStock:!0}],i1=[{id:"1",name:"Downtown SF",location:"San Francisco, CA",geohash:"9q8yyz"},{id:"2",name:"Union Square",location:"New York, NY",geohash:"9q8yyk"},{id:"3",name:"Tech Hub",location:"Seattle, WA",geohash:"dpwh"},{id:"4",name:"LAX Area",location:"Los Angeles, CA",geohash:"9q8yym"}];function rZ(){var m;const{dTag:e}=S0(),{toast:t}=gd(),[n,r]=R.useState(!1),[i,l]=R.useState(""),[c,u]=R.useState("locker"),f=r1.find(b=>b.dTag===e)||r1[0],p=b=>b>=1e8?` ${(b/1e8).toFixed(3)}`:b>=1e6?`${(b/1e6).toFixed(2)}M sats`:b>=1e3?`${(b/1e3).toFixed(1)}k sats`:`${b} sats`,g=()=>{t({title:"Order placed!",description:"The vendor has been notified. You'll receive a pickup code once they ship to your selected locker."}),r(!1),u("locker"),l("")};return v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[v.jsx(ut,{variant:"ghost",asChild:!0,className:"mb-4",children:v.jsxs(Nn,{to:"/marketplace",children:[v.jsx(Yk,{className:"h-4 w-4 mr-2"}),"Back to Marketplace"]})}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:v.jsx(r6,{className:"h-32 w-32 text-muted-foreground"})}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx(Pr,{className:"mb-2",children:f.category}),v.jsx("h1",{className:"text-3xl font-bold mb-2",children:f.title}),v.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[v.jsx(Wy,{className:"h-4 w-4"}),v.jsx("span",{children:f.vendor})]})]}),v.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:f.description}),v.jsxs("div",{className:"flex items-center justify-between py-4 border-y",children:[v.jsx("span",{className:"text-3xl font-bold",children:p(f.price)}),v.jsx(Pr,{variant:f.inStock?"default":"secondary",children:f.inStock?"In Stock":"Out of Stock"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[v.jsx(o6,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"Ships to DeadDropstr Lockers"}),v.jsx("p",{className:"text-muted-foreground",children:"Pick up anonymously at a location near you"})]})]}),v.jsx(ut,{size:"lg",className:"w-full",disabled:!f.inStock,onClick:()=>r(!0),children:f.inStock?"Buy Now":"Out of Stock"})]})]})]}),v.jsxs(Vt,{className:"mt-12",children:[v.jsx(An,{children:v.jsx($n,{children:"How DeadDropstr Delivery Works"})}),v.jsx(Gt,{children:v.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-center",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:v.jsx("span",{className:"font-bold",children:"1"})}),v.jsx("p",{className:"font-medium",children:"Choose Locker"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a convenient pickup location"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:v.jsx("span",{className:"font-bold",children:"2"})}),v.jsx("p",{className:"font-medium",children:"Pay with Bitcoin"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Lightning or on-chain"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:v.jsx("span",{className:"font-bold",children:"3"})}),v.jsx("p",{className:"font-medium",children:"Vendor Ships"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Product delivered to your locker"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:v.jsx("span",{className:"font-bold",children:"4"})}),v.jsx("p",{className:"font-medium",children:"Pick Up"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive code & collect anonymously"})]})]})})]})]}),v.jsx(Rp,{open:n,onOpenChange:r,children:v.jsxs(Ed,{className:"max-w-lg",children:[v.jsxs(Ip,{children:[v.jsx(I0,{children:"Complete Your Order"}),v.jsx(zC,{children:"Choose a locker location for pickup"})]}),c==="locker"&&v.jsxs("div",{className:"space-y-4",children:[v.jsx(QT,{value:i,onValueChange:l,children:v.jsx("div",{className:"space-y-2",children:i1.map(b=>v.jsxs("div",{children:[v.jsx(XT,{value:b.id,id:b.id,className:"peer sr-only"}),v.jsx(Pn,{htmlFor:b.id,className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-muted peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(_d,{className:"h-5 w-5 text-muted-foreground"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:b.name}),v.jsx("p",{className:"text-sm text-muted-foreground",children:b.location})]})]})})]},b.id))})}),v.jsx(ut,{className:"w-full",disabled:!i,onClick:()=>u("confirm"),children:"Continue"})]}),c==="confirm"&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Summary"}),v.jsx("p",{className:"font-medium",children:f.title}),v.jsx("p",{className:"text-lg font-bold",children:p(f.price)}),v.jsxs("div",{className:"pt-2 border-t",children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Deliver to:"}),v.jsx("p",{className:"font-medium",children:(m=i1.find(b=>b.id===i))==null?void 0:m.name})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(ut,{variant:"outline",onClick:()=>u("locker"),children:"Back"}),v.jsx(ut,{className:"flex-1",onClick:g,children:"Pay & Place Order"})]})]})]})})]})}function dh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ty={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var o1;function iZ(){return o1||(o1=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,l){function c(p,g){if(!i[p]){if(!r[p]){var m=typeof dh=="function"&&dh;if(!g&&m)return m(p,!0);if(u)return u(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var x=i[p]={exports:{}};r[p][0].call(x.exports,function(k){var _=r[p][1][k];return c(_||k)},x,x.exports,n,r,i,l)}return i[p].exports}for(var u=typeof dh=="function"&&dh,f=0;f<l.length;f++)c(l[f]);return c}({1:[function(n,r,i){var l=n("./utils"),c=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(f){for(var p,g,m,b,x,k,_,E=[],P=0,T=f.length,I=T,D=l.getTypeOf(f)!=="string";P<f.length;)I=T-P,m=D?(p=f[P++],g=P<T?f[P++]:0,P<T?f[P++]:0):(p=f.charCodeAt(P++),g=P<T?f.charCodeAt(P++):0,P<T?f.charCodeAt(P++):0),b=p>>2,x=(3&p)<<4|g>>4,k=1<I?(15&g)<<2|m>>6:64,_=2<I?63&m:64,E.push(u.charAt(b)+u.charAt(x)+u.charAt(k)+u.charAt(_));return E.join("")},i.decode=function(f){var p,g,m,b,x,k,_=0,E=0,P="data:";if(f.substr(0,P.length)===P)throw new Error("Invalid base64 input, it looks like a data url.");var T,I=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===u.charAt(64)&&I--,f.charAt(f.length-2)===u.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=c.uint8array?new Uint8Array(0|I):new Array(0|I);_<f.length;)p=u.indexOf(f.charAt(_++))<<2|(b=u.indexOf(f.charAt(_++)))>>4,g=(15&b)<<4|(x=u.indexOf(f.charAt(_++)))>>2,m=(3&x)<<6|(k=u.indexOf(f.charAt(_++))),T[E++]=p,x!==64&&(T[E++]=g),k!==64&&(T[E++]=m);return T}},{"./support":30,"./utils":32}],2:[function(n,r,i){var l=n("./external"),c=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),f=n("./stream/DataLengthProbe");function p(g,m,b,x,k){this.compressedSize=g,this.uncompressedSize=m,this.crc32=b,this.compression=x,this.compressedContent=k}p.prototype={getContentWorker:function(){var g=new c(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),m=this;return g.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new c(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(g,m,b){return g.pipe(new u).pipe(new f("uncompressedSize")).pipe(m.compressWorker(b)).pipe(new f("compressedSize")).withStreamInfo("compression",m)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var l=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var l=n("./utils"),c=function(){for(var u,f=[],p=0;p<256;p++){u=p;for(var g=0;g<8;g++)u=1&u?3988292384^u>>>1:u>>>1;f[p]=u}return f}();r.exports=function(u,f){return u!==void 0&&u.length?l.getTypeOf(u)!=="string"?function(p,g,m,b){var x=c,k=b+m;p^=-1;for(var _=b;_<k;_++)p=p>>>8^x[255&(p^g[_])];return-1^p}(0|f,u,u.length,0):function(p,g,m,b){var x=c,k=b+m;p^=-1;for(var _=b;_<k;_++)p=p>>>8^x[255&(p^g.charCodeAt(_))];return-1^p}(0|f,u,u.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var l=null;l=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:l}},{lie:37}],7:[function(n,r,i){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=n("pako"),u=n("./utils"),f=n("./stream/GenericWorker"),p=l?"uint8array":"array";function g(m,b){f.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=b,this.meta={}}i.magic="\b\0",u.inherits(g,f),g.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,m.data),!1)},g.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(b){m.push({data:b,meta:m.meta})}},i.compressWorker=function(m){return new g("Deflate",m)},i.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function l(x,k){var _,E="";for(_=0;_<k;_++)E+=String.fromCharCode(255&x),x>>>=8;return E}function c(x,k,_,E,P,T){var I,D,B=x.file,q=x.compression,G=T!==p.utf8encode,J=u.transformTo("string",T(B.name)),V=u.transformTo("string",p.utf8encode(B.name)),Y=B.comment,Q=u.transformTo("string",T(Y)),U=u.transformTo("string",p.utf8encode(Y)),re=V.length!==B.name.length,M=U.length!==Y.length,W="",ae="",oe="",ne=B.dir,ee=B.date,le={crc32:0,compressedSize:0,uncompressedSize:0};k&&!_||(le.crc32=x.crc32,le.compressedSize=x.compressedSize,le.uncompressedSize=x.uncompressedSize);var F=0;k&&(F|=8),G||!re&&!M||(F|=2048);var K=0,Ce=0;ne&&(K|=16),P==="UNIX"?(Ce=798,K|=function(we,Ie){var Ue=we;return we||(Ue=Ie?16893:33204),(65535&Ue)<<16}(B.unixPermissions,ne)):(Ce=20,K|=function(we){return 63&(we||0)}(B.dosPermissions)),I=ee.getUTCHours(),I<<=6,I|=ee.getUTCMinutes(),I<<=5,I|=ee.getUTCSeconds()/2,D=ee.getUTCFullYear()-1980,D<<=4,D|=ee.getUTCMonth()+1,D<<=5,D|=ee.getUTCDate(),re&&(ae=l(1,1)+l(g(J),4)+V,W+="up"+l(ae.length,2)+ae),M&&(oe=l(1,1)+l(g(Q),4)+U,W+="uc"+l(oe.length,2)+oe);var be="";return be+=`
\0`,be+=l(F,2),be+=q.magic,be+=l(I,2),be+=l(D,2),be+=l(le.crc32,4),be+=l(le.compressedSize,4),be+=l(le.uncompressedSize,4),be+=l(J.length,2),be+=l(W.length,2),{fileRecord:m.LOCAL_FILE_HEADER+be+J+W,dirRecord:m.CENTRAL_FILE_HEADER+l(Ce,2)+be+l(Q.length,2)+"\0\0\0\0"+l(K,4)+l(E,4)+J+W+Q}}var u=n("../utils"),f=n("../stream/GenericWorker"),p=n("../utf8"),g=n("../crc32"),m=n("../signature");function b(x,k,_,E){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=_,this.encodeFileName=E,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,f),b.prototype.push=function(x){var k=x.meta.percent||0,_=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,f.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:_?(k+100*(_-E-1))/_:100}}))},b.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var k=this.streamFiles&&!x.file.dir;if(k){var _=c(x,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(x){this.accumulate=!1;var k=this.streamFiles&&!x.file.dir,_=c(x,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),k)this.push({data:function(E){return m.DATA_DESCRIPTOR+l(E.crc32,4)+l(E.compressedSize,4)+l(E.uncompressedSize,4)}(x),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var x=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var _=this.bytesWritten-x,E=function(P,T,I,D,B){var q=u.transformTo("string",B(D));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(P,2)+l(P,2)+l(T,4)+l(I,4)+l(q.length,2)+q}(this.dirRecords.length,_,x,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(x){this._sources.push(x);var k=this;return x.on("data",function(_){k.processChunk(_)}),x.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),x.on("error",function(_){k.error(_)}),this},b.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(x){var k=this._sources;if(!f.prototype.error.call(this,x))return!1;for(var _=0;_<k.length;_++)try{k[_].error(x)}catch{}return!0},b.prototype.lock=function(){f.prototype.lock.call(this);for(var x=this._sources,k=0;k<x.length;k++)x[k].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var l=n("../compressions"),c=n("./ZipFileWorker");i.generateWorker=function(u,f,p){var g=new c(f.streamFiles,p,f.platform,f.encodeFileName),m=0;try{u.forEach(function(b,x){m++;var k=function(T,I){var D=T||I,B=l[D];if(!B)throw new Error(D+" is not a valid compression method !");return B}(x.options.compression,f.compression),_=x.options.compressionOptions||f.compressionOptions||{},E=x.dir,P=x.date;x._compressWorker(k,_).withStreamInfo("file",{name:b,dir:E,date:P,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(g)}),g.entriesCount=m}catch(b){g.error(b)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new l;for(var u in this)typeof this[u]!="function"&&(c[u]=this[u]);return c}}(l.prototype=n("./object")).loadAsync=n("./load"),l.support=n("./support"),l.defaults=n("./defaults"),l.version="3.10.1",l.loadAsync=function(c,u){return new l().loadAsync(c,u)},l.external=n("./external"),r.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var l=n("./utils"),c=n("./external"),u=n("./utf8"),f=n("./zipEntries"),p=n("./stream/Crc32Probe"),g=n("./nodejsUtils");function m(b){return new c.Promise(function(x,k){var _=b.decompressed.getContentWorker().pipe(new p);_.on("error",function(E){k(E)}).on("end",function(){_.streamInfo.crc32!==b.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}r.exports=function(b,x){var k=this;return x=l.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),g.isNode&&g.isStream(b)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",b,!0,x.optimizedBinaryString,x.base64).then(function(_){var E=new f(x);return E.load(_),E}).then(function(_){var E=[c.Promise.resolve(_)],P=_.files;if(x.checkCRC32)for(var T=0;T<P.length;T++)E.push(m(P[T]));return c.Promise.all(E)}).then(function(_){for(var E=_.shift(),P=E.files,T=0;T<P.length;T++){var I=P[T],D=I.fileNameStr,B=l.resolve(I.fileNameStr);k.file(B,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:x.createFolders}),I.dir||(k.file(B).unsafeOriginalName=D)}return E.zipComment.length&&(k.comment=E.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var l=n("../utils"),c=n("../stream/GenericWorker");function u(f,p){c.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(p)}l.inherits(u,c),u.prototype._bindStream=function(f){var p=this;(this._stream=f).pause(),f.on("data",function(g){p.push({data:g,meta:{percent:0}})}).on("error",function(g){p.isPaused?this.generatedError=g:p.error(g)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var l=n("readable-stream").Readable;function c(u,f,p){l.call(this,f),this._helper=u;var g=this;u.on("data",function(m,b){g.push(m)||g._helper.pause(),p&&p(b)}).on("error",function(m){g.emit("error",m)}).on("end",function(){g.push(null)})}n("../utils").inherits(c,l),c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,c);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,c)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var c=new Buffer(l);return c.fill(0),c},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(n,r,i){function l(B,q,G){var J,V=u.getTypeOf(q),Y=u.extend(G||{},g);Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),typeof Y.unixPermissions=="string"&&(Y.unixPermissions=parseInt(Y.unixPermissions,8)),Y.unixPermissions&&16384&Y.unixPermissions&&(Y.dir=!0),Y.dosPermissions&&16&Y.dosPermissions&&(Y.dir=!0),Y.dir&&(B=P(B)),Y.createFolders&&(J=E(B))&&T.call(this,J,!0);var Q=V==="string"&&Y.binary===!1&&Y.base64===!1;G&&G.binary!==void 0||(Y.binary=!Q),(q instanceof m&&q.uncompressedSize===0||Y.dir||!q||q.length===0)&&(Y.base64=!1,Y.binary=!0,q="",Y.compression="STORE",V="string");var U=null;U=q instanceof m||q instanceof f?q:k.isNode&&k.isStream(q)?new _(B,q):u.prepareContent(B,q,Y.binary,Y.optimizedBinaryString,Y.base64);var re=new b(B,U,Y);this.files[B]=re}var c=n("./utf8"),u=n("./utils"),f=n("./stream/GenericWorker"),p=n("./stream/StreamHelper"),g=n("./defaults"),m=n("./compressedObject"),b=n("./zipObject"),x=n("./generate"),k=n("./nodejsUtils"),_=n("./nodejs/NodejsStreamInputAdapter"),E=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var q=B.lastIndexOf("/");return 0<q?B.substring(0,q):""},P=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},T=function(B,q){return q=q!==void 0?q:g.createFolders,B=P(B),this.files[B]||l.call(this,B,null,{dir:!0,createFolders:q}),this.files[B]};function I(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var q,G,J;for(q in this.files)J=this.files[q],(G=q.slice(this.root.length,q.length))&&q.slice(0,this.root.length)===this.root&&B(G,J)},filter:function(B){var q=[];return this.forEach(function(G,J){B(G,J)&&q.push(J)}),q},file:function(B,q,G){if(arguments.length!==1)return B=this.root+B,l.call(this,B,q,G),this;if(I(B)){var J=B;return this.filter(function(Y,Q){return!Q.dir&&J.test(Y)})}var V=this.files[this.root+B];return V&&!V.dir?V:null},folder:function(B){if(!B)return this;if(I(B))return this.filter(function(V,Y){return Y.dir&&B.test(V)});var q=this.root+B,G=T.call(this,q),J=this.clone();return J.root=G.name,J},remove:function(B){B=this.root+B;var q=this.files[B];if(q||(B.slice(-1)!=="/"&&(B+="/"),q=this.files[B]),q&&!q.dir)delete this.files[B];else for(var G=this.filter(function(V,Y){return Y.name.slice(0,B.length)===B}),J=0;J<G.length;J++)delete this.files[G[J].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var q,G={};try{if((G=u.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=G.type.toLowerCase(),G.compression=G.compression.toUpperCase(),G.type==="binarystring"&&(G.type="string"),!G.type)throw new Error("No output type specified.");u.checkSupport(G.type),G.platform!=="darwin"&&G.platform!=="freebsd"&&G.platform!=="linux"&&G.platform!=="sunos"||(G.platform="UNIX"),G.platform==="win32"&&(G.platform="DOS");var J=G.comment||this.comment||"";q=x.generateWorker(this,G,J)}catch(V){(q=new f("error")).error(V)}return new p(q,G.type||"string",G.mimeType)},generateAsync:function(B,q){return this.generateInternalStream(B).accumulate(q)},generateNodeStream:function(B,q){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(q)}};r.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var l=n("./DataReader");function c(u){l.call(this,u);for(var f=0;f<this.data.length;f++)u[f]=255&u[f]}n("../utils").inherits(c,l),c.prototype.byteAt=function(u){return this.data[this.zero+u]},c.prototype.lastIndexOfSignature=function(u){for(var f=u.charCodeAt(0),p=u.charCodeAt(1),g=u.charCodeAt(2),m=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===f&&this.data[b+1]===p&&this.data[b+2]===g&&this.data[b+3]===m)return b-this.zero;return-1},c.prototype.readAndCheckSignature=function(u){var f=u.charCodeAt(0),p=u.charCodeAt(1),g=u.charCodeAt(2),m=u.charCodeAt(3),b=this.readData(4);return f===b[0]&&p===b[1]&&g===b[2]&&m===b[3]},c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var l=n("../utils");function c(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var f,p=0;for(this.checkOffset(u),f=this.index+u-1;f>=this.index;f--)p=(p<<8)+this.byteAt(f);return this.index+=u,p},readString:function(u){return l.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=c},{"../utils":32}],19:[function(n,r,i){var l=n("./Uint8ArrayReader");function c(u){l.call(this,u)}n("../utils").inherits(c,l),c.prototype.readData=function(u){this.checkOffset(u);var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var l=n("./DataReader");function c(u){l.call(this,u)}n("../utils").inherits(c,l),c.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},c.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},c.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},c.prototype.readData=function(u){this.checkOffset(u);var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var l=n("./ArrayReader");function c(u){l.call(this,u)}n("../utils").inherits(c,l),c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var l=n("../utils"),c=n("../support"),u=n("./ArrayReader"),f=n("./StringReader"),p=n("./NodeBufferReader"),g=n("./Uint8ArrayReader");r.exports=function(m){var b=l.getTypeOf(m);return l.checkSupport(b),b!=="string"||c.uint8array?b==="nodebuffer"?new p(m):c.uint8array?new g(l.transformTo("uint8array",m)):new u(l.transformTo("array",m)):new f(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var l=n("./GenericWorker"),c=n("../utils");function u(f){l.call(this,"ConvertWorker to "+f),this.destType=f}c.inherits(u,l),u.prototype.processChunk=function(f){this.push({data:c.transformTo(this.destType,f.data),meta:f.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var l=n("./GenericWorker"),c=n("../crc32");function u(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,l),u.prototype.processChunk=function(f){this.streamInfo.crc32=c(f.data,this.streamInfo.crc32||0),this.push(f)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var l=n("../utils"),c=n("./GenericWorker");function u(f){c.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}l.inherits(u,c),u.prototype.processChunk=function(f){if(f){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+f.data.length}c.prototype.processChunk.call(this,f)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var l=n("../utils"),c=n("./GenericWorker");function u(f){c.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(g){p.dataIsReady=!0,p.data=g,p.max=g&&g.length||0,p.type=l.getTypeOf(g),p.isPaused||p._tickAndRepeat()},function(g){p.error(g)})}l.inherits(u,c),u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,p);break;case"uint8array":f=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":f=this.data.slice(this.index,p)}return this.index=p,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function l(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,u){return this._listeners[c].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,u){if(this._listeners[c])for(var f=0;f<this._listeners[c].length;f++)this._listeners[c][f].call(this,u)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var u=this;return c.on("data",function(f){u.processChunk(f)}),c.on("end",function(){u.end()}),c.on("error",function(f){u.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,u){return this.extraStreamInfo[c]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},r.exports=l},{}],29:[function(n,r,i){var l=n("../utils"),c=n("./ConvertWorker"),u=n("./GenericWorker"),f=n("../base64"),p=n("../support"),g=n("../external"),m=null;if(p.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(k,_){return new g.Promise(function(E,P){var T=[],I=k._internalType,D=k._outputType,B=k._mimeType;k.on("data",function(q,G){T.push(q),_&&_(G)}).on("error",function(q){T=[],P(q)}).on("end",function(){try{var q=function(G,J,V){switch(G){case"blob":return l.newBlob(l.transformTo("arraybuffer",J),V);case"base64":return f.encode(J);default:return l.transformTo(G,J)}}(D,function(G,J){var V,Y=0,Q=null,U=0;for(V=0;V<J.length;V++)U+=J[V].length;switch(G){case"string":return J.join("");case"array":return Array.prototype.concat.apply([],J);case"uint8array":for(Q=new Uint8Array(U),V=0;V<J.length;V++)Q.set(J[V],Y),Y+=J[V].length;return Q;case"nodebuffer":return Buffer.concat(J);default:throw new Error("concat : unsupported type '"+G+"'")}}(I,T),B);E(q)}catch(G){P(G)}T=[]}).resume()})}function x(k,_,E){var P=_;switch(_){case"blob":case"arraybuffer":P="uint8array";break;case"base64":P="string"}try{this._internalType=P,this._outputType=_,this._mimeType=E,l.checkSupport(P),this._worker=k.pipe(new c(P)),k.lock()}catch(T){this._worker=new u("error"),this._worker.error(T)}}x.prototype={accumulate:function(k){return b(this,k)},on:function(k,_){var E=this;return k==="data"?this._worker.on(k,function(P){_.call(E,P.data,P.meta)}):this._worker.on(k,function(){l.delay(_,arguments,E)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},k)}},r.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var l=new ArrayBuffer(0);try{i.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(l),i.blob=c.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var l=n("./utils"),c=n("./support"),u=n("./nodejsUtils"),f=n("./stream/GenericWorker"),p=new Array(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;p[254]=p[254]=1;function m(){f.call(this,"utf-8 decode"),this.leftOver=null}function b(){f.call(this,"utf-8 encode")}i.utf8encode=function(x){return c.nodebuffer?u.newBufferFrom(x,"utf-8"):function(k){var _,E,P,T,I,D=k.length,B=0;for(T=0;T<D;T++)(64512&(E=k.charCodeAt(T)))==55296&&T+1<D&&(64512&(P=k.charCodeAt(T+1)))==56320&&(E=65536+(E-55296<<10)+(P-56320),T++),B+=E<128?1:E<2048?2:E<65536?3:4;for(_=c.uint8array?new Uint8Array(B):new Array(B),T=I=0;I<B;T++)(64512&(E=k.charCodeAt(T)))==55296&&T+1<D&&(64512&(P=k.charCodeAt(T+1)))==56320&&(E=65536+(E-55296<<10)+(P-56320),T++),E<128?_[I++]=E:(E<2048?_[I++]=192|E>>>6:(E<65536?_[I++]=224|E>>>12:(_[I++]=240|E>>>18,_[I++]=128|E>>>12&63),_[I++]=128|E>>>6&63),_[I++]=128|63&E);return _}(x)},i.utf8decode=function(x){return c.nodebuffer?l.transformTo("nodebuffer",x).toString("utf-8"):function(k){var _,E,P,T,I=k.length,D=new Array(2*I);for(_=E=0;_<I;)if((P=k[_++])<128)D[E++]=P;else if(4<(T=p[P]))D[E++]=65533,_+=T-1;else{for(P&=T===2?31:T===3?15:7;1<T&&_<I;)P=P<<6|63&k[_++],T--;1<T?D[E++]=65533:P<65536?D[E++]=P:(P-=65536,D[E++]=55296|P>>10&1023,D[E++]=56320|1023&P)}return D.length!==E&&(D.subarray?D=D.subarray(0,E):D.length=E),l.applyFromCharCode(D)}(x=l.transformTo(c.uint8array?"uint8array":"array",x))},l.inherits(m,f),m.prototype.processChunk=function(x){var k=l.transformTo(c.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var _=k;(k=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),k.set(_,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var E=function(T,I){var D;for((I=I||T.length)>T.length&&(I=T.length),D=I-1;0<=D&&(192&T[D])==128;)D--;return D<0||D===0?I:D+p[T[D]]>I?D:I}(k),P=k;E!==k.length&&(c.uint8array?(P=k.subarray(0,E),this.leftOver=k.subarray(E,k.length)):(P=k.slice(0,E),this.leftOver=k.slice(E,k.length))),this.push({data:i.utf8decode(P),meta:x.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,l.inherits(b,f),b.prototype.processChunk=function(x){this.push({data:i.utf8encode(x.data),meta:x.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var l=n("./support"),c=n("./base64"),u=n("./nodejsUtils"),f=n("./external");function p(_){return _}function g(_,E){for(var P=0;P<_.length;++P)E[P]=255&_.charCodeAt(P);return E}n("setimmediate"),i.newBlob=function(_,E){i.checkSupport("blob");try{return new Blob([_],{type:E})}catch{try{var P=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return P.append(_),P.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(_,E,P){var T=[],I=0,D=_.length;if(D<=P)return String.fromCharCode.apply(null,_);for(;I<D;)E==="array"||E==="nodebuffer"?T.push(String.fromCharCode.apply(null,_.slice(I,Math.min(I+P,D)))):T.push(String.fromCharCode.apply(null,_.subarray(I,Math.min(I+P,D)))),I+=P;return T.join("")},stringifyByChar:function(_){for(var E="",P=0;P<_.length;P++)E+=String.fromCharCode(_[P]);return E},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function b(_){var E=65536,P=i.getTypeOf(_),T=!0;if(P==="uint8array"?T=m.applyCanBeUsed.uint8array:P==="nodebuffer"&&(T=m.applyCanBeUsed.nodebuffer),T)for(;1<E;)try{return m.stringifyByChunk(_,P,E)}catch{E=Math.floor(E/2)}return m.stringifyByChar(_)}function x(_,E){for(var P=0;P<_.length;P++)E[P]=_[P];return E}i.applyFromCharCode=b;var k={};k.string={string:p,array:function(_){return g(_,new Array(_.length))},arraybuffer:function(_){return k.string.uint8array(_).buffer},uint8array:function(_){return g(_,new Uint8Array(_.length))},nodebuffer:function(_){return g(_,u.allocBuffer(_.length))}},k.array={string:b,array:p,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return u.newBufferFrom(_)}},k.arraybuffer={string:function(_){return b(new Uint8Array(_))},array:function(_){return x(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:p,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return u.newBufferFrom(new Uint8Array(_))}},k.uint8array={string:b,array:function(_){return x(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:p,nodebuffer:function(_){return u.newBufferFrom(_)}},k.nodebuffer={string:b,array:function(_){return x(_,new Array(_.length))},arraybuffer:function(_){return k.nodebuffer.uint8array(_).buffer},uint8array:function(_){return x(_,new Uint8Array(_.length))},nodebuffer:p},i.transformTo=function(_,E){if(E=E||"",!_)return E;i.checkSupport(_);var P=i.getTypeOf(E);return k[P][_](E)},i.resolve=function(_){for(var E=_.split("/"),P=[],T=0;T<E.length;T++){var I=E[T];I==="."||I===""&&T!==0&&T!==E.length-1||(I===".."?P.pop():P.push(I))}return P.join("/")},i.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":l.nodebuffer&&u.isBuffer(_)?"nodebuffer":l.uint8array&&_ instanceof Uint8Array?"uint8array":l.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(_){if(!l[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(_){var E,P,T="";for(P=0;P<(_||"").length;P++)T+="\\x"+((E=_.charCodeAt(P))<16?"0":"")+E.toString(16).toUpperCase();return T},i.delay=function(_,E,P){setImmediate(function(){_.apply(P||null,E||[])})},i.inherits=function(_,E){function P(){}P.prototype=E.prototype,_.prototype=new P},i.extend=function(){var _,E,P={};for(_=0;_<arguments.length;_++)for(E in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],E)&&P[E]===void 0&&(P[E]=arguments[_][E]);return P},i.prepareContent=function(_,E,P,T,I){return f.Promise.resolve(E).then(function(D){return l.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new f.Promise(function(B,q){var G=new FileReader;G.onload=function(J){B(J.target.result)},G.onerror=function(J){q(J.target.error)},G.readAsArrayBuffer(D)}):D}).then(function(D){var B=i.getTypeOf(D);return B?(B==="arraybuffer"?D=i.transformTo("uint8array",D):B==="string"&&(I?D=c.decode(D):P&&T!==!0&&(D=function(q){return g(q,l.uint8array?new Uint8Array(q.length):new Array(q.length))}(D))),D):f.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var l=n("./reader/readerFor"),c=n("./utils"),u=n("./signature"),f=n("./zipEntry"),p=n("./support");function g(m){this.files=[],this.loadOptions=m}g.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(b)+", expected "+c.pretty(m)+")")}},isSignature:function(m,b){var x=this.reader.index;this.reader.setIndex(m);var k=this.reader.readString(4)===b;return this.reader.setIndex(x),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),b=p.uint8array?"uint8array":"array",x=c.transformTo(b,m);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,b,x,k=this.zip64EndOfCentralSize-44;0<k;)m=this.reader.readInt(2),b=this.reader.readInt(4),x=this.reader.readData(b),this.zip64ExtensibleData[m]={id:m,length:b,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,b;for(m=0;m<this.files.length;m++)b=this.files[m],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(m=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var b=m;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var k=b-x;if(0<k)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(m){this.reader=l(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var l=n("./reader/readerFor"),c=n("./utils"),u=n("./compressedObject"),f=n("./crc32"),p=n("./utf8"),g=n("./compressions"),m=n("./support");function b(x,k){this.options=x,this.loadOptions=k}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(x){var k,_;if(x.skip(22),this.fileNameLength=x.readInt(2),_=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=function(E){for(var P in g)if(Object.prototype.hasOwnProperty.call(g,P)&&g[P].magic===E)return g[P];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,k,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var k=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(k),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),x==0&&(this.dosPermissions=63&this.externalFileAttributes),x==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var x=l(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=x.readInt(4))}},readExtraFields:function(x){var k,_,E,P=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<P;)k=x.readInt(2),_=x.readInt(2),E=x.readData(_),this.extraFields[k]={id:k,length:_,value:E};x.setIndex(P)},handleUTF8:function(){var x=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var _=c.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var P=c.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(P)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var k=l(x.value);return k.readInt(1)!==1||f(this.fileName)!==k.readInt(4)?null:p.utf8decode(k.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var k=l(x.value);return k.readInt(1)!==1||f(this.fileComment)!==k.readInt(4)?null:p.utf8decode(k.readData(x.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function l(k,_,E){this.name=k,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=_,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var c=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),f=n("./utf8"),p=n("./compressedObject"),g=n("./stream/GenericWorker");l.prototype={internalStream:function(k){var _=null,E="string";try{if(!k)throw new Error("No output type specified.");var P=(E=k.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),_=this._decompressWorker();var T=!this._dataBinary;T&&!P&&(_=_.pipe(new f.Utf8EncodeWorker)),!T&&P&&(_=_.pipe(new f.Utf8DecodeWorker))}catch(I){(_=new g("error")).error(I)}return new c(_,E,"")},async:function(k,_){return this.internalStream(k).accumulate(_)},nodeStream:function(k,_){return this.internalStream(k||"nodebuffer").toNodejsStream(_)},_compressWorker:function(k,_){if(this._data instanceof p&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new f.Utf8EncodeWorker)),p.createWorkerFrom(E,k,_)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof g?this._data:new u(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<m.length;x++)l.prototype[m[x]]=b;r.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(l){var c,u,f=l.MutationObserver||l.WebKitMutationObserver;if(f){var p=0,g=new f(k),m=l.document.createTextNode("");g.observe(m,{characterData:!0}),c=function(){m.data=p=++p%2}}else if(l.setImmediate||l.MessageChannel===void 0)c="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var _=l.document.createElement("script");_.onreadystatechange=function(){k(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},l.document.documentElement.appendChild(_)}:function(){setTimeout(k,0)};else{var b=new l.MessageChannel;b.port1.onmessage=k,c=function(){b.port2.postMessage(0)}}var x=[];function k(){var _,E;u=!0;for(var P=x.length;P;){for(E=x,x=[],_=-1;++_<P;)E[_]();P=x.length}u=!1}r.exports=function(_){x.push(_)!==1||u||c()}}).call(this,typeof Kf<"u"?Kf:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var l=n("immediate");function c(){}var u={},f=["REJECTED"],p=["FULFILLED"],g=["PENDING"];function m(P){if(typeof P!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,P!==c&&_(this,P)}function b(P,T,I){this.promise=P,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function x(P,T,I){l(function(){var D;try{D=T(I)}catch(B){return u.reject(P,B)}D===P?u.reject(P,new TypeError("Cannot resolve promise with itself")):u.resolve(P,D)})}function k(P){var T=P&&P.then;if(P&&(typeof P=="object"||typeof P=="function")&&typeof T=="function")return function(){T.apply(P,arguments)}}function _(P,T){var I=!1;function D(G){I||(I=!0,u.reject(P,G))}function B(G){I||(I=!0,u.resolve(P,G))}var q=E(function(){T(B,D)});q.status==="error"&&D(q.value)}function E(P,T){var I={};try{I.value=P(T),I.status="success"}catch(D){I.status="error",I.value=D}return I}(r.exports=m).prototype.finally=function(P){if(typeof P!="function")return this;var T=this.constructor;return this.then(function(I){return T.resolve(P()).then(function(){return I})},function(I){return T.resolve(P()).then(function(){throw I})})},m.prototype.catch=function(P){return this.then(null,P)},m.prototype.then=function(P,T){if(typeof P!="function"&&this.state===p||typeof T!="function"&&this.state===f)return this;var I=new this.constructor(c);return this.state!==g?x(I,this.state===p?P:T,this.outcome):this.queue.push(new b(I,P,T)),I},b.prototype.callFulfilled=function(P){u.resolve(this.promise,P)},b.prototype.otherCallFulfilled=function(P){x(this.promise,this.onFulfilled,P)},b.prototype.callRejected=function(P){u.reject(this.promise,P)},b.prototype.otherCallRejected=function(P){x(this.promise,this.onRejected,P)},u.resolve=function(P,T){var I=E(k,T);if(I.status==="error")return u.reject(P,I.value);var D=I.value;if(D)_(P,D);else{P.state=p,P.outcome=T;for(var B=-1,q=P.queue.length;++B<q;)P.queue[B].callFulfilled(T)}return P},u.reject=function(P,T){P.state=f,P.outcome=T;for(var I=-1,D=P.queue.length;++I<D;)P.queue[I].callRejected(T);return P},m.resolve=function(P){return P instanceof this?P:u.resolve(new this(c),P)},m.reject=function(P){var T=new this(c);return u.reject(T,P)},m.all=function(P){var T=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=P.length,D=!1;if(!I)return this.resolve([]);for(var B=new Array(I),q=0,G=-1,J=new this(c);++G<I;)V(P[G],G);return J;function V(Y,Q){T.resolve(Y).then(function(U){B[Q]=U,++q!==I||D||(D=!0,u.resolve(J,B))},function(U){D||(D=!0,u.reject(J,U))})}},m.race=function(P){var T=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=P.length,D=!1;if(!I)return this.resolve([]);for(var B=-1,q=new this(c);++B<I;)G=P[B],T.resolve(G).then(function(J){D||(D=!0,u.resolve(q,J))},function(J){D||(D=!0,u.reject(q,J))});var G;return q}},{immediate:36}],38:[function(n,r,i){var l={};(0,n("./lib/utils/common").assign)(l,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var l=n("./zlib/deflate"),c=n("./utils/common"),u=n("./utils/strings"),f=n("./zlib/messages"),p=n("./zlib/zstream"),g=Object.prototype.toString,m=0,b=-1,x=0,k=8;function _(P){if(!(this instanceof _))return new _(P);this.options=c.assign({level:b,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},P||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var I=l.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(I!==m)throw new Error(f[I]);if(T.header&&l.deflateSetHeader(this.strm,T.header),T.dictionary){var D;if(D=typeof T.dictionary=="string"?u.string2buf(T.dictionary):g.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(I=l.deflateSetDictionary(this.strm,D))!==m)throw new Error(f[I]);this._dict_set=!0}}function E(P,T){var I=new _(T);if(I.push(P,!0),I.err)throw I.msg||f[I.err];return I.result}_.prototype.push=function(P,T){var I,D,B=this.strm,q=this.options.chunkSize;if(this.ended)return!1;D=T===~~T?T:T===!0?4:0,typeof P=="string"?B.input=u.string2buf(P):g.call(P)==="[object ArrayBuffer]"?B.input=new Uint8Array(P):B.input=P,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new c.Buf8(q),B.next_out=0,B.avail_out=q),(I=l.deflate(B,D))!==1&&I!==m)return this.onEnd(I),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(c.shrinkBuf(B.output,B.next_out))):this.onData(c.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&I!==1);return D===4?(I=l.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===m):D!==2||(this.onEnd(m),!(B.avail_out=0))},_.prototype.onData=function(P){this.chunks.push(P)},_.prototype.onEnd=function(P){P===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=P,this.msg=this.strm.msg},i.Deflate=_,i.deflate=E,i.deflateRaw=function(P,T){return(T=T||{}).raw=!0,E(P,T)},i.gzip=function(P,T){return(T=T||{}).gzip=!0,E(P,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var l=n("./zlib/inflate"),c=n("./utils/common"),u=n("./utils/strings"),f=n("./zlib/constants"),p=n("./zlib/messages"),g=n("./zlib/zstream"),m=n("./zlib/gzheader"),b=Object.prototype.toString;function x(_){if(!(this instanceof x))return new x(_);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},_||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||_&&_.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var P=l.inflateInit2(this.strm,E.windowBits);if(P!==f.Z_OK)throw new Error(p[P]);this.header=new m,l.inflateGetHeader(this.strm,this.header)}function k(_,E){var P=new x(E);if(P.push(_,!0),P.err)throw P.msg||p[P.err];return P.result}x.prototype.push=function(_,E){var P,T,I,D,B,q,G=this.strm,J=this.options.chunkSize,V=this.options.dictionary,Y=!1;if(this.ended)return!1;T=E===~~E?E:E===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof _=="string"?G.input=u.binstring2buf(_):b.call(_)==="[object ArrayBuffer]"?G.input=new Uint8Array(_):G.input=_,G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0&&(G.output=new c.Buf8(J),G.next_out=0,G.avail_out=J),(P=l.inflate(G,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&V&&(q=typeof V=="string"?u.string2buf(V):b.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,P=l.inflateSetDictionary(this.strm,q)),P===f.Z_BUF_ERROR&&Y===!0&&(P=f.Z_OK,Y=!1),P!==f.Z_STREAM_END&&P!==f.Z_OK)return this.onEnd(P),!(this.ended=!0);G.next_out&&(G.avail_out!==0&&P!==f.Z_STREAM_END&&(G.avail_in!==0||T!==f.Z_FINISH&&T!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=u.utf8border(G.output,G.next_out),D=G.next_out-I,B=u.buf2string(G.output,I),G.next_out=D,G.avail_out=J-D,D&&c.arraySet(G.output,G.output,I,D,0),this.onData(B)):this.onData(c.shrinkBuf(G.output,G.next_out)))),G.avail_in===0&&G.avail_out===0&&(Y=!0)}while((0<G.avail_in||G.avail_out===0)&&P!==f.Z_STREAM_END);return P===f.Z_STREAM_END&&(T=f.Z_FINISH),T===f.Z_FINISH?(P=l.inflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===f.Z_OK):T!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(G.avail_out=0))},x.prototype.onData=function(_){this.chunks.push(_)},x.prototype.onEnd=function(_){_===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Inflate=x,i.inflate=k,i.inflateRaw=function(_,E){return(E=E||{}).raw=!0,k(_,E)},i.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(f){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var g=p.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var m in g)g.hasOwnProperty(m)&&(f[m]=g[m])}}return f},i.shrinkBuf=function(f,p){return f.length===p?f:f.subarray?f.subarray(0,p):(f.length=p,f)};var c={arraySet:function(f,p,g,m,b){if(p.subarray&&f.subarray)f.set(p.subarray(g,g+m),b);else for(var x=0;x<m;x++)f[b+x]=p[g+x]},flattenChunks:function(f){var p,g,m,b,x,k;for(p=m=0,g=f.length;p<g;p++)m+=f[p].length;for(k=new Uint8Array(m),p=b=0,g=f.length;p<g;p++)x=f[p],k.set(x,b),b+=x.length;return k}},u={arraySet:function(f,p,g,m,b){for(var x=0;x<m;x++)f[b+x]=p[g+x]},flattenChunks:function(f){return[].concat.apply([],f)}};i.setTyped=function(f){f?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,c)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(l)},{}],42:[function(n,r,i){var l=n("./common"),c=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var f=new l.Buf8(256),p=0;p<256;p++)f[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function g(m,b){if(b<65537&&(m.subarray&&u||!m.subarray&&c))return String.fromCharCode.apply(null,l.shrinkBuf(m,b));for(var x="",k=0;k<b;k++)x+=String.fromCharCode(m[k]);return x}f[254]=f[254]=1,i.string2buf=function(m){var b,x,k,_,E,P=m.length,T=0;for(_=0;_<P;_++)(64512&(x=m.charCodeAt(_)))==55296&&_+1<P&&(64512&(k=m.charCodeAt(_+1)))==56320&&(x=65536+(x-55296<<10)+(k-56320),_++),T+=x<128?1:x<2048?2:x<65536?3:4;for(b=new l.Buf8(T),_=E=0;E<T;_++)(64512&(x=m.charCodeAt(_)))==55296&&_+1<P&&(64512&(k=m.charCodeAt(_+1)))==56320&&(x=65536+(x-55296<<10)+(k-56320),_++),x<128?b[E++]=x:(x<2048?b[E++]=192|x>>>6:(x<65536?b[E++]=224|x>>>12:(b[E++]=240|x>>>18,b[E++]=128|x>>>12&63),b[E++]=128|x>>>6&63),b[E++]=128|63&x);return b},i.buf2binstring=function(m){return g(m,m.length)},i.binstring2buf=function(m){for(var b=new l.Buf8(m.length),x=0,k=b.length;x<k;x++)b[x]=m.charCodeAt(x);return b},i.buf2string=function(m,b){var x,k,_,E,P=b||m.length,T=new Array(2*P);for(x=k=0;x<P;)if((_=m[x++])<128)T[k++]=_;else if(4<(E=f[_]))T[k++]=65533,x+=E-1;else{for(_&=E===2?31:E===3?15:7;1<E&&x<P;)_=_<<6|63&m[x++],E--;1<E?T[k++]=65533:_<65536?T[k++]=_:(_-=65536,T[k++]=55296|_>>10&1023,T[k++]=56320|1023&_)}return g(T,k)},i.utf8border=function(m,b){var x;for((b=b||m.length)>m.length&&(b=m.length),x=b-1;0<=x&&(192&m[x])==128;)x--;return x<0||x===0?b:x+f[m[x]]>b?x:b}},{"./common":41}],43:[function(n,r,i){r.exports=function(l,c,u,f){for(var p=65535&l|0,g=l>>>16&65535|0,m=0;u!==0;){for(u-=m=2e3<u?2e3:u;g=g+(p=p+c[f++]|0)|0,--m;);p%=65521,g%=65521}return p|g<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var l=function(){for(var c,u=[],f=0;f<256;f++){c=f;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;u[f]=c}return u}();r.exports=function(c,u,f,p){var g=l,m=p+f;c^=-1;for(var b=p;b<m;b++)c=c>>>8^g[255&(c^u[b])];return-1^c}},{}],46:[function(n,r,i){var l,c=n("../utils/common"),u=n("./trees"),f=n("./adler32"),p=n("./crc32"),g=n("./messages"),m=0,b=4,x=0,k=-2,_=-1,E=4,P=2,T=8,I=9,D=286,B=30,q=19,G=2*D+1,J=15,V=3,Y=258,Q=Y+V+1,U=42,re=113,M=1,W=2,ae=3,oe=4;function ne(z,Pe){return z.msg=g[Pe],Pe}function ee(z){return(z<<1)-(4<z?9:0)}function le(z){for(var Pe=z.length;0<=--Pe;)z[Pe]=0}function F(z){var Pe=z.state,ke=Pe.pending;ke>z.avail_out&&(ke=z.avail_out),ke!==0&&(c.arraySet(z.output,Pe.pending_buf,Pe.pending_out,ke,z.next_out),z.next_out+=ke,Pe.pending_out+=ke,z.total_out+=ke,z.avail_out-=ke,Pe.pending-=ke,Pe.pending===0&&(Pe.pending_out=0))}function K(z,Pe){u._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,Pe),z.block_start=z.strstart,F(z.strm)}function Ce(z,Pe){z.pending_buf[z.pending++]=Pe}function be(z,Pe){z.pending_buf[z.pending++]=Pe>>>8&255,z.pending_buf[z.pending++]=255&Pe}function we(z,Pe){var ke,ie,te=z.max_chain_length,pe=z.strstart,Ne=z.prev_length,Ae=z.nice_match,me=z.strstart>z.w_size-Q?z.strstart-(z.w_size-Q):0,Me=z.window,He=z.w_mask,je=z.prev,Je=z.strstart+Y,Z=Me[pe+Ne-1],N=Me[pe+Ne];z.prev_length>=z.good_match&&(te>>=2),Ae>z.lookahead&&(Ae=z.lookahead);do if(Me[(ke=Pe)+Ne]===N&&Me[ke+Ne-1]===Z&&Me[ke]===Me[pe]&&Me[++ke]===Me[pe+1]){pe+=2,ke++;do;while(Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&pe<Je);if(ie=Y-(Je-pe),pe=Je-Y,Ne<ie){if(z.match_start=Pe,Ae<=(Ne=ie))break;Z=Me[pe+Ne-1],N=Me[pe+Ne]}}while((Pe=je[Pe&He])>me&&--te!=0);return Ne<=z.lookahead?Ne:z.lookahead}function Ie(z){var Pe,ke,ie,te,pe,Ne,Ae,me,Me,He,je=z.w_size;do{if(te=z.window_size-z.lookahead-z.strstart,z.strstart>=je+(je-Q)){for(c.arraySet(z.window,z.window,je,je,0),z.match_start-=je,z.strstart-=je,z.block_start-=je,Pe=ke=z.hash_size;ie=z.head[--Pe],z.head[Pe]=je<=ie?ie-je:0,--ke;);for(Pe=ke=je;ie=z.prev[--Pe],z.prev[Pe]=je<=ie?ie-je:0,--ke;);te+=je}if(z.strm.avail_in===0)break;if(Ne=z.strm,Ae=z.window,me=z.strstart+z.lookahead,Me=te,He=void 0,He=Ne.avail_in,Me<He&&(He=Me),ke=He===0?0:(Ne.avail_in-=He,c.arraySet(Ae,Ne.input,Ne.next_in,He,me),Ne.state.wrap===1?Ne.adler=f(Ne.adler,Ae,He,me):Ne.state.wrap===2&&(Ne.adler=p(Ne.adler,Ae,He,me)),Ne.next_in+=He,Ne.total_in+=He,He),z.lookahead+=ke,z.lookahead+z.insert>=V)for(pe=z.strstart-z.insert,z.ins_h=z.window[pe],z.ins_h=(z.ins_h<<z.hash_shift^z.window[pe+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[pe+V-1])&z.hash_mask,z.prev[pe&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=pe,pe++,z.insert--,!(z.lookahead+z.insert<V)););}while(z.lookahead<Q&&z.strm.avail_in!==0)}function Ue(z,Pe){for(var ke,ie;;){if(z.lookahead<Q){if(Ie(z),z.lookahead<Q&&Pe===m)return M;if(z.lookahead===0)break}if(ke=0,z.lookahead>=V&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+V-1])&z.hash_mask,ke=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),ke!==0&&z.strstart-ke<=z.w_size-Q&&(z.match_length=we(z,ke)),z.match_length>=V)if(ie=u._tr_tally(z,z.strstart-z.match_start,z.match_length-V),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=V){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+V-1])&z.hash_mask,ke=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else ie=u._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(ie&&(K(z,!1),z.strm.avail_out===0))return M}return z.insert=z.strstart<V-1?z.strstart:V-1,Pe===b?(K(z,!0),z.strm.avail_out===0?ae:oe):z.last_lit&&(K(z,!1),z.strm.avail_out===0)?M:W}function De(z,Pe){for(var ke,ie,te;;){if(z.lookahead<Q){if(Ie(z),z.lookahead<Q&&Pe===m)return M;if(z.lookahead===0)break}if(ke=0,z.lookahead>=V&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+V-1])&z.hash_mask,ke=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=V-1,ke!==0&&z.prev_length<z.max_lazy_match&&z.strstart-ke<=z.w_size-Q&&(z.match_length=we(z,ke),z.match_length<=5&&(z.strategy===1||z.match_length===V&&4096<z.strstart-z.match_start)&&(z.match_length=V-1)),z.prev_length>=V&&z.match_length<=z.prev_length){for(te=z.strstart+z.lookahead-V,ie=u._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-V),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=te&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+V-1])&z.hash_mask,ke=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=V-1,z.strstart++,ie&&(K(z,!1),z.strm.avail_out===0))return M}else if(z.match_available){if((ie=u._tr_tally(z,0,z.window[z.strstart-1]))&&K(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return M}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(ie=u._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<V-1?z.strstart:V-1,Pe===b?(K(z,!0),z.strm.avail_out===0?ae:oe):z.last_lit&&(K(z,!1),z.strm.avail_out===0)?M:W}function Fe(z,Pe,ke,ie,te){this.good_length=z,this.max_lazy=Pe,this.nice_length=ke,this.max_chain=ie,this.func=te}function rt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*G),this.dyn_dtree=new c.Buf16(2*(2*B+1)),this.bl_tree=new c.Buf16(2*(2*q+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(J+1),this.heap=new c.Buf16(2*D+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*D+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function wt(z){var Pe;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=P,(Pe=z.state).pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap?U:re,z.adler=Pe.wrap===2?0:1,Pe.last_flush=m,u._tr_init(Pe),x):ne(z,k)}function At(z){var Pe=wt(z);return Pe===x&&function(ke){ke.window_size=2*ke.w_size,le(ke.head),ke.max_lazy_match=l[ke.level].max_lazy,ke.good_match=l[ke.level].good_length,ke.nice_match=l[ke.level].nice_length,ke.max_chain_length=l[ke.level].max_chain,ke.strstart=0,ke.block_start=0,ke.lookahead=0,ke.insert=0,ke.match_length=ke.prev_length=V-1,ke.match_available=0,ke.ins_h=0}(z.state),Pe}function ht(z,Pe,ke,ie,te,pe){if(!z)return k;var Ne=1;if(Pe===_&&(Pe=6),ie<0?(Ne=0,ie=-ie):15<ie&&(Ne=2,ie-=16),te<1||I<te||ke!==T||ie<8||15<ie||Pe<0||9<Pe||pe<0||E<pe)return ne(z,k);ie===8&&(ie=9);var Ae=new rt;return(z.state=Ae).strm=z,Ae.wrap=Ne,Ae.gzhead=null,Ae.w_bits=ie,Ae.w_size=1<<Ae.w_bits,Ae.w_mask=Ae.w_size-1,Ae.hash_bits=te+7,Ae.hash_size=1<<Ae.hash_bits,Ae.hash_mask=Ae.hash_size-1,Ae.hash_shift=~~((Ae.hash_bits+V-1)/V),Ae.window=new c.Buf8(2*Ae.w_size),Ae.head=new c.Buf16(Ae.hash_size),Ae.prev=new c.Buf16(Ae.w_size),Ae.lit_bufsize=1<<te+6,Ae.pending_buf_size=4*Ae.lit_bufsize,Ae.pending_buf=new c.Buf8(Ae.pending_buf_size),Ae.d_buf=1*Ae.lit_bufsize,Ae.l_buf=3*Ae.lit_bufsize,Ae.level=Pe,Ae.strategy=pe,Ae.method=ke,At(z)}l=[new Fe(0,0,0,0,function(z,Pe){var ke=65535;for(ke>z.pending_buf_size-5&&(ke=z.pending_buf_size-5);;){if(z.lookahead<=1){if(Ie(z),z.lookahead===0&&Pe===m)return M;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var ie=z.block_start+ke;if((z.strstart===0||z.strstart>=ie)&&(z.lookahead=z.strstart-ie,z.strstart=ie,K(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-Q&&(K(z,!1),z.strm.avail_out===0))return M}return z.insert=0,Pe===b?(K(z,!0),z.strm.avail_out===0?ae:oe):(z.strstart>z.block_start&&(K(z,!1),z.strm.avail_out),M)}),new Fe(4,4,8,4,Ue),new Fe(4,5,16,8,Ue),new Fe(4,6,32,32,Ue),new Fe(4,4,16,16,De),new Fe(8,16,32,32,De),new Fe(8,16,128,128,De),new Fe(8,32,128,256,De),new Fe(32,128,258,1024,De),new Fe(32,258,258,4096,De)],i.deflateInit=function(z,Pe){return ht(z,Pe,T,15,8,0)},i.deflateInit2=ht,i.deflateReset=At,i.deflateResetKeep=wt,i.deflateSetHeader=function(z,Pe){return z&&z.state?z.state.wrap!==2?k:(z.state.gzhead=Pe,x):k},i.deflate=function(z,Pe){var ke,ie,te,pe;if(!z||!z.state||5<Pe||Pe<0)return z?ne(z,k):k;if(ie=z.state,!z.output||!z.input&&z.avail_in!==0||ie.status===666&&Pe!==b)return ne(z,z.avail_out===0?-5:k);if(ie.strm=z,ke=ie.last_flush,ie.last_flush=Pe,ie.status===U)if(ie.wrap===2)z.adler=0,Ce(ie,31),Ce(ie,139),Ce(ie,8),ie.gzhead?(Ce(ie,(ie.gzhead.text?1:0)+(ie.gzhead.hcrc?2:0)+(ie.gzhead.extra?4:0)+(ie.gzhead.name?8:0)+(ie.gzhead.comment?16:0)),Ce(ie,255&ie.gzhead.time),Ce(ie,ie.gzhead.time>>8&255),Ce(ie,ie.gzhead.time>>16&255),Ce(ie,ie.gzhead.time>>24&255),Ce(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),Ce(ie,255&ie.gzhead.os),ie.gzhead.extra&&ie.gzhead.extra.length&&(Ce(ie,255&ie.gzhead.extra.length),Ce(ie,ie.gzhead.extra.length>>8&255)),ie.gzhead.hcrc&&(z.adler=p(z.adler,ie.pending_buf,ie.pending,0)),ie.gzindex=0,ie.status=69):(Ce(ie,0),Ce(ie,0),Ce(ie,0),Ce(ie,0),Ce(ie,0),Ce(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),Ce(ie,3),ie.status=re);else{var Ne=T+(ie.w_bits-8<<4)<<8;Ne|=(2<=ie.strategy||ie.level<2?0:ie.level<6?1:ie.level===6?2:3)<<6,ie.strstart!==0&&(Ne|=32),Ne+=31-Ne%31,ie.status=re,be(ie,Ne),ie.strstart!==0&&(be(ie,z.adler>>>16),be(ie,65535&z.adler)),z.adler=1}if(ie.status===69)if(ie.gzhead.extra){for(te=ie.pending;ie.gzindex<(65535&ie.gzhead.extra.length)&&(ie.pending!==ie.pending_buf_size||(ie.gzhead.hcrc&&ie.pending>te&&(z.adler=p(z.adler,ie.pending_buf,ie.pending-te,te)),F(z),te=ie.pending,ie.pending!==ie.pending_buf_size));)Ce(ie,255&ie.gzhead.extra[ie.gzindex]),ie.gzindex++;ie.gzhead.hcrc&&ie.pending>te&&(z.adler=p(z.adler,ie.pending_buf,ie.pending-te,te)),ie.gzindex===ie.gzhead.extra.length&&(ie.gzindex=0,ie.status=73)}else ie.status=73;if(ie.status===73)if(ie.gzhead.name){te=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>te&&(z.adler=p(z.adler,ie.pending_buf,ie.pending-te,te)),F(z),te=ie.pending,ie.pending===ie.pending_buf_size)){pe=1;break}pe=ie.gzindex<ie.gzhead.name.length?255&ie.gzhead.name.charCodeAt(ie.gzindex++):0,Ce(ie,pe)}while(pe!==0);ie.gzhead.hcrc&&ie.pending>te&&(z.adler=p(z.adler,ie.pending_buf,ie.pending-te,te)),pe===0&&(ie.gzindex=0,ie.status=91)}else ie.status=91;if(ie.status===91)if(ie.gzhead.comment){te=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>te&&(z.adler=p(z.adler,ie.pending_buf,ie.pending-te,te)),F(z),te=ie.pending,ie.pending===ie.pending_buf_size)){pe=1;break}pe=ie.gzindex<ie.gzhead.comment.length?255&ie.gzhead.comment.charCodeAt(ie.gzindex++):0,Ce(ie,pe)}while(pe!==0);ie.gzhead.hcrc&&ie.pending>te&&(z.adler=p(z.adler,ie.pending_buf,ie.pending-te,te)),pe===0&&(ie.status=103)}else ie.status=103;if(ie.status===103&&(ie.gzhead.hcrc?(ie.pending+2>ie.pending_buf_size&&F(z),ie.pending+2<=ie.pending_buf_size&&(Ce(ie,255&z.adler),Ce(ie,z.adler>>8&255),z.adler=0,ie.status=re)):ie.status=re),ie.pending!==0){if(F(z),z.avail_out===0)return ie.last_flush=-1,x}else if(z.avail_in===0&&ee(Pe)<=ee(ke)&&Pe!==b)return ne(z,-5);if(ie.status===666&&z.avail_in!==0)return ne(z,-5);if(z.avail_in!==0||ie.lookahead!==0||Pe!==m&&ie.status!==666){var Ae=ie.strategy===2?function(me,Me){for(var He;;){if(me.lookahead===0&&(Ie(me),me.lookahead===0)){if(Me===m)return M;break}if(me.match_length=0,He=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,He&&(K(me,!1),me.strm.avail_out===0))return M}return me.insert=0,Me===b?(K(me,!0),me.strm.avail_out===0?ae:oe):me.last_lit&&(K(me,!1),me.strm.avail_out===0)?M:W}(ie,Pe):ie.strategy===3?function(me,Me){for(var He,je,Je,Z,N=me.window;;){if(me.lookahead<=Y){if(Ie(me),me.lookahead<=Y&&Me===m)return M;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=V&&0<me.strstart&&(je=N[Je=me.strstart-1])===N[++Je]&&je===N[++Je]&&je===N[++Je]){Z=me.strstart+Y;do;while(je===N[++Je]&&je===N[++Je]&&je===N[++Je]&&je===N[++Je]&&je===N[++Je]&&je===N[++Je]&&je===N[++Je]&&je===N[++Je]&&Je<Z);me.match_length=Y-(Z-Je),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=V?(He=u._tr_tally(me,1,me.match_length-V),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(He=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),He&&(K(me,!1),me.strm.avail_out===0))return M}return me.insert=0,Me===b?(K(me,!0),me.strm.avail_out===0?ae:oe):me.last_lit&&(K(me,!1),me.strm.avail_out===0)?M:W}(ie,Pe):l[ie.level].func(ie,Pe);if(Ae!==ae&&Ae!==oe||(ie.status=666),Ae===M||Ae===ae)return z.avail_out===0&&(ie.last_flush=-1),x;if(Ae===W&&(Pe===1?u._tr_align(ie):Pe!==5&&(u._tr_stored_block(ie,0,0,!1),Pe===3&&(le(ie.head),ie.lookahead===0&&(ie.strstart=0,ie.block_start=0,ie.insert=0))),F(z),z.avail_out===0))return ie.last_flush=-1,x}return Pe!==b?x:ie.wrap<=0?1:(ie.wrap===2?(Ce(ie,255&z.adler),Ce(ie,z.adler>>8&255),Ce(ie,z.adler>>16&255),Ce(ie,z.adler>>24&255),Ce(ie,255&z.total_in),Ce(ie,z.total_in>>8&255),Ce(ie,z.total_in>>16&255),Ce(ie,z.total_in>>24&255)):(be(ie,z.adler>>>16),be(ie,65535&z.adler)),F(z),0<ie.wrap&&(ie.wrap=-ie.wrap),ie.pending!==0?x:1)},i.deflateEnd=function(z){var Pe;return z&&z.state?(Pe=z.state.status)!==U&&Pe!==69&&Pe!==73&&Pe!==91&&Pe!==103&&Pe!==re&&Pe!==666?ne(z,k):(z.state=null,Pe===re?ne(z,-3):x):k},i.deflateSetDictionary=function(z,Pe){var ke,ie,te,pe,Ne,Ae,me,Me,He=Pe.length;if(!z||!z.state||(pe=(ke=z.state).wrap)===2||pe===1&&ke.status!==U||ke.lookahead)return k;for(pe===1&&(z.adler=f(z.adler,Pe,He,0)),ke.wrap=0,He>=ke.w_size&&(pe===0&&(le(ke.head),ke.strstart=0,ke.block_start=0,ke.insert=0),Me=new c.Buf8(ke.w_size),c.arraySet(Me,Pe,He-ke.w_size,ke.w_size,0),Pe=Me,He=ke.w_size),Ne=z.avail_in,Ae=z.next_in,me=z.input,z.avail_in=He,z.next_in=0,z.input=Pe,Ie(ke);ke.lookahead>=V;){for(ie=ke.strstart,te=ke.lookahead-(V-1);ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[ie+V-1])&ke.hash_mask,ke.prev[ie&ke.w_mask]=ke.head[ke.ins_h],ke.head[ke.ins_h]=ie,ie++,--te;);ke.strstart=ie,ke.lookahead=V-1,Ie(ke)}return ke.strstart+=ke.lookahead,ke.block_start=ke.strstart,ke.insert=ke.lookahead,ke.lookahead=0,ke.match_length=ke.prev_length=V-1,ke.match_available=0,z.next_in=Ae,z.input=me,z.avail_in=Ne,ke.wrap=pe,x},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(l,c){var u,f,p,g,m,b,x,k,_,E,P,T,I,D,B,q,G,J,V,Y,Q,U,re,M,W;u=l.state,f=l.next_in,M=l.input,p=f+(l.avail_in-5),g=l.next_out,W=l.output,m=g-(c-l.avail_out),b=g+(l.avail_out-257),x=u.dmax,k=u.wsize,_=u.whave,E=u.wnext,P=u.window,T=u.hold,I=u.bits,D=u.lencode,B=u.distcode,q=(1<<u.lenbits)-1,G=(1<<u.distbits)-1;e:do{I<15&&(T+=M[f++]<<I,I+=8,T+=M[f++]<<I,I+=8),J=D[T&q];t:for(;;){if(T>>>=V=J>>>24,I-=V,(V=J>>>16&255)===0)W[g++]=65535&J;else{if(!(16&V)){if((64&V)==0){J=D[(65535&J)+(T&(1<<V)-1)];continue t}if(32&V){u.mode=12;break e}l.msg="invalid literal/length code",u.mode=30;break e}Y=65535&J,(V&=15)&&(I<V&&(T+=M[f++]<<I,I+=8),Y+=T&(1<<V)-1,T>>>=V,I-=V),I<15&&(T+=M[f++]<<I,I+=8,T+=M[f++]<<I,I+=8),J=B[T&G];n:for(;;){if(T>>>=V=J>>>24,I-=V,!(16&(V=J>>>16&255))){if((64&V)==0){J=B[(65535&J)+(T&(1<<V)-1)];continue n}l.msg="invalid distance code",u.mode=30;break e}if(Q=65535&J,I<(V&=15)&&(T+=M[f++]<<I,(I+=8)<V&&(T+=M[f++]<<I,I+=8)),x<(Q+=T&(1<<V)-1)){l.msg="invalid distance too far back",u.mode=30;break e}if(T>>>=V,I-=V,(V=g-m)<Q){if(_<(V=Q-V)&&u.sane){l.msg="invalid distance too far back",u.mode=30;break e}if(re=P,(U=0)===E){if(U+=k-V,V<Y){for(Y-=V;W[g++]=P[U++],--V;);U=g-Q,re=W}}else if(E<V){if(U+=k+E-V,(V-=E)<Y){for(Y-=V;W[g++]=P[U++],--V;);if(U=0,E<Y){for(Y-=V=E;W[g++]=P[U++],--V;);U=g-Q,re=W}}}else if(U+=E-V,V<Y){for(Y-=V;W[g++]=P[U++],--V;);U=g-Q,re=W}for(;2<Y;)W[g++]=re[U++],W[g++]=re[U++],W[g++]=re[U++],Y-=3;Y&&(W[g++]=re[U++],1<Y&&(W[g++]=re[U++]))}else{for(U=g-Q;W[g++]=W[U++],W[g++]=W[U++],W[g++]=W[U++],2<(Y-=3););Y&&(W[g++]=W[U++],1<Y&&(W[g++]=W[U++]))}break}}break}}while(f<p&&g<b);f-=Y=I>>3,T&=(1<<(I-=Y<<3))-1,l.next_in=f,l.next_out=g,l.avail_in=f<p?p-f+5:5-(f-p),l.avail_out=g<b?b-g+257:257-(g-b),u.hold=T,u.bits=I}},{}],49:[function(n,r,i){var l=n("../utils/common"),c=n("./adler32"),u=n("./crc32"),f=n("./inffast"),p=n("./inftrees"),g=1,m=2,b=0,x=-2,k=1,_=852,E=592;function P(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(U){var re;return U&&U.state?(re=U.state,U.total_in=U.total_out=re.total=0,U.msg="",re.wrap&&(U.adler=1&re.wrap),re.mode=k,re.last=0,re.havedict=0,re.dmax=32768,re.head=null,re.hold=0,re.bits=0,re.lencode=re.lendyn=new l.Buf32(_),re.distcode=re.distdyn=new l.Buf32(E),re.sane=1,re.back=-1,b):x}function D(U){var re;return U&&U.state?((re=U.state).wsize=0,re.whave=0,re.wnext=0,I(U)):x}function B(U,re){var M,W;return U&&U.state?(W=U.state,re<0?(M=0,re=-re):(M=1+(re>>4),re<48&&(re&=15)),re&&(re<8||15<re)?x:(W.window!==null&&W.wbits!==re&&(W.window=null),W.wrap=M,W.wbits=re,D(U))):x}function q(U,re){var M,W;return U?(W=new T,(U.state=W).window=null,(M=B(U,re))!==b&&(U.state=null),M):x}var G,J,V=!0;function Y(U){if(V){var re;for(G=new l.Buf32(512),J=new l.Buf32(32),re=0;re<144;)U.lens[re++]=8;for(;re<256;)U.lens[re++]=9;for(;re<280;)U.lens[re++]=7;for(;re<288;)U.lens[re++]=8;for(p(g,U.lens,0,288,G,0,U.work,{bits:9}),re=0;re<32;)U.lens[re++]=5;p(m,U.lens,0,32,J,0,U.work,{bits:5}),V=!1}U.lencode=G,U.lenbits=9,U.distcode=J,U.distbits=5}function Q(U,re,M,W){var ae,oe=U.state;return oe.window===null&&(oe.wsize=1<<oe.wbits,oe.wnext=0,oe.whave=0,oe.window=new l.Buf8(oe.wsize)),W>=oe.wsize?(l.arraySet(oe.window,re,M-oe.wsize,oe.wsize,0),oe.wnext=0,oe.whave=oe.wsize):(W<(ae=oe.wsize-oe.wnext)&&(ae=W),l.arraySet(oe.window,re,M-W,ae,oe.wnext),(W-=ae)?(l.arraySet(oe.window,re,M-W,W,0),oe.wnext=W,oe.whave=oe.wsize):(oe.wnext+=ae,oe.wnext===oe.wsize&&(oe.wnext=0),oe.whave<oe.wsize&&(oe.whave+=ae))),0}i.inflateReset=D,i.inflateReset2=B,i.inflateResetKeep=I,i.inflateInit=function(U){return q(U,15)},i.inflateInit2=q,i.inflate=function(U,re){var M,W,ae,oe,ne,ee,le,F,K,Ce,be,we,Ie,Ue,De,Fe,rt,wt,At,ht,z,Pe,ke,ie,te=0,pe=new l.Buf8(4),Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return x;(M=U.state).mode===12&&(M.mode=13),ne=U.next_out,ae=U.output,le=U.avail_out,oe=U.next_in,W=U.input,ee=U.avail_in,F=M.hold,K=M.bits,Ce=ee,be=le,Pe=b;e:for(;;)switch(M.mode){case k:if(M.wrap===0){M.mode=13;break}for(;K<16;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(2&M.wrap&&F===35615){pe[M.check=0]=255&F,pe[1]=F>>>8&255,M.check=u(M.check,pe,2,0),K=F=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&F)<<8)+(F>>8))%31){U.msg="incorrect header check",M.mode=30;break}if((15&F)!=8){U.msg="unknown compression method",M.mode=30;break}if(K-=4,z=8+(15&(F>>>=4)),M.wbits===0)M.wbits=z;else if(z>M.wbits){U.msg="invalid window size",M.mode=30;break}M.dmax=1<<z,U.adler=M.check=1,M.mode=512&F?10:12,K=F=0;break;case 2:for(;K<16;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(M.flags=F,(255&M.flags)!=8){U.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){U.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=F>>8&1),512&M.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,M.check=u(M.check,pe,2,0)),K=F=0,M.mode=3;case 3:for(;K<32;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}M.head&&(M.head.time=F),512&M.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,pe[2]=F>>>16&255,pe[3]=F>>>24&255,M.check=u(M.check,pe,4,0)),K=F=0,M.mode=4;case 4:for(;K<16;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}M.head&&(M.head.xflags=255&F,M.head.os=F>>8),512&M.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,M.check=u(M.check,pe,2,0)),K=F=0,M.mode=5;case 5:if(1024&M.flags){for(;K<16;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}M.length=F,M.head&&(M.head.extra_len=F),512&M.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,M.check=u(M.check,pe,2,0)),K=F=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(ee<(we=M.length)&&(we=ee),we&&(M.head&&(z=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),l.arraySet(M.head.extra,W,oe,we,z)),512&M.flags&&(M.check=u(M.check,W,we,oe)),ee-=we,oe+=we,M.length-=we),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(ee===0)break e;for(we=0;z=W[oe+we++],M.head&&z&&M.length<65536&&(M.head.name+=String.fromCharCode(z)),z&&we<ee;);if(512&M.flags&&(M.check=u(M.check,W,we,oe)),ee-=we,oe+=we,z)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(ee===0)break e;for(we=0;z=W[oe+we++],M.head&&z&&M.length<65536&&(M.head.comment+=String.fromCharCode(z)),z&&we<ee;);if(512&M.flags&&(M.check=u(M.check,W,we,oe)),ee-=we,oe+=we,z)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;K<16;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(F!==(65535&M.check)){U.msg="header crc mismatch",M.mode=30;break}K=F=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),U.adler=M.check=0,M.mode=12;break;case 10:for(;K<32;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}U.adler=M.check=P(F),K=F=0,M.mode=11;case 11:if(M.havedict===0)return U.next_out=ne,U.avail_out=le,U.next_in=oe,U.avail_in=ee,M.hold=F,M.bits=K,2;U.adler=M.check=1,M.mode=12;case 12:if(re===5||re===6)break e;case 13:if(M.last){F>>>=7&K,K-=7&K,M.mode=27;break}for(;K<3;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}switch(M.last=1&F,K-=1,3&(F>>>=1)){case 0:M.mode=14;break;case 1:if(Y(M),M.mode=20,re!==6)break;F>>>=2,K-=2;break e;case 2:M.mode=17;break;case 3:U.msg="invalid block type",M.mode=30}F>>>=2,K-=2;break;case 14:for(F>>>=7&K,K-=7&K;K<32;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if((65535&F)!=(F>>>16^65535)){U.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&F,K=F=0,M.mode=15,re===6)break e;case 15:M.mode=16;case 16:if(we=M.length){if(ee<we&&(we=ee),le<we&&(we=le),we===0)break e;l.arraySet(ae,W,oe,we,ne),ee-=we,oe+=we,le-=we,ne+=we,M.length-=we;break}M.mode=12;break;case 17:for(;K<14;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(M.nlen=257+(31&F),F>>>=5,K-=5,M.ndist=1+(31&F),F>>>=5,K-=5,M.ncode=4+(15&F),F>>>=4,K-=4,286<M.nlen||30<M.ndist){U.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;K<3;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}M.lens[Ne[M.have++]]=7&F,F>>>=3,K-=3}for(;M.have<19;)M.lens[Ne[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,ke={bits:M.lenbits},Pe=p(0,M.lens,0,19,M.lencode,0,M.work,ke),M.lenbits=ke.bits,Pe){U.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;Fe=(te=M.lencode[F&(1<<M.lenbits)-1])>>>16&255,rt=65535&te,!((De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(rt<16)F>>>=De,K-=De,M.lens[M.have++]=rt;else{if(rt===16){for(ie=De+2;K<ie;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(F>>>=De,K-=De,M.have===0){U.msg="invalid bit length repeat",M.mode=30;break}z=M.lens[M.have-1],we=3+(3&F),F>>>=2,K-=2}else if(rt===17){for(ie=De+3;K<ie;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}K-=De,z=0,we=3+(7&(F>>>=De)),F>>>=3,K-=3}else{for(ie=De+7;K<ie;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}K-=De,z=0,we=11+(127&(F>>>=De)),F>>>=7,K-=7}if(M.have+we>M.nlen+M.ndist){U.msg="invalid bit length repeat",M.mode=30;break}for(;we--;)M.lens[M.have++]=z}}if(M.mode===30)break;if(M.lens[256]===0){U.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,ke={bits:M.lenbits},Pe=p(g,M.lens,0,M.nlen,M.lencode,0,M.work,ke),M.lenbits=ke.bits,Pe){U.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,ke={bits:M.distbits},Pe=p(m,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,ke),M.distbits=ke.bits,Pe){U.msg="invalid distances set",M.mode=30;break}if(M.mode=20,re===6)break e;case 20:M.mode=21;case 21:if(6<=ee&&258<=le){U.next_out=ne,U.avail_out=le,U.next_in=oe,U.avail_in=ee,M.hold=F,M.bits=K,f(U,be),ne=U.next_out,ae=U.output,le=U.avail_out,oe=U.next_in,W=U.input,ee=U.avail_in,F=M.hold,K=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;Fe=(te=M.lencode[F&(1<<M.lenbits)-1])>>>16&255,rt=65535&te,!((De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(Fe&&(240&Fe)==0){for(wt=De,At=Fe,ht=rt;Fe=(te=M.lencode[ht+((F&(1<<wt+At)-1)>>wt)])>>>16&255,rt=65535&te,!(wt+(De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}F>>>=wt,K-=wt,M.back+=wt}if(F>>>=De,K-=De,M.back+=De,M.length=rt,Fe===0){M.mode=26;break}if(32&Fe){M.back=-1,M.mode=12;break}if(64&Fe){U.msg="invalid literal/length code",M.mode=30;break}M.extra=15&Fe,M.mode=22;case 22:if(M.extra){for(ie=M.extra;K<ie;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}M.length+=F&(1<<M.extra)-1,F>>>=M.extra,K-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;Fe=(te=M.distcode[F&(1<<M.distbits)-1])>>>16&255,rt=65535&te,!((De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if((240&Fe)==0){for(wt=De,At=Fe,ht=rt;Fe=(te=M.distcode[ht+((F&(1<<wt+At)-1)>>wt)])>>>16&255,rt=65535&te,!(wt+(De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}F>>>=wt,K-=wt,M.back+=wt}if(F>>>=De,K-=De,M.back+=De,64&Fe){U.msg="invalid distance code",M.mode=30;break}M.offset=rt,M.extra=15&Fe,M.mode=24;case 24:if(M.extra){for(ie=M.extra;K<ie;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}M.offset+=F&(1<<M.extra)-1,F>>>=M.extra,K-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){U.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(le===0)break e;if(we=be-le,M.offset>we){if((we=M.offset-we)>M.whave&&M.sane){U.msg="invalid distance too far back",M.mode=30;break}Ie=we>M.wnext?(we-=M.wnext,M.wsize-we):M.wnext-we,we>M.length&&(we=M.length),Ue=M.window}else Ue=ae,Ie=ne-M.offset,we=M.length;for(le<we&&(we=le),le-=we,M.length-=we;ae[ne++]=Ue[Ie++],--we;);M.length===0&&(M.mode=21);break;case 26:if(le===0)break e;ae[ne++]=M.length,le--,M.mode=21;break;case 27:if(M.wrap){for(;K<32;){if(ee===0)break e;ee--,F|=W[oe++]<<K,K+=8}if(be-=le,U.total_out+=be,M.total+=be,be&&(U.adler=M.check=M.flags?u(M.check,ae,be,ne-be):c(M.check,ae,be,ne-be)),be=le,(M.flags?F:P(F))!==M.check){U.msg="incorrect data check",M.mode=30;break}K=F=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;K<32;){if(ee===0)break e;ee--,F+=W[oe++]<<K,K+=8}if(F!==(4294967295&M.total)){U.msg="incorrect length check",M.mode=30;break}K=F=0}M.mode=29;case 29:Pe=1;break e;case 30:Pe=-3;break e;case 31:return-4;case 32:default:return x}return U.next_out=ne,U.avail_out=le,U.next_in=oe,U.avail_in=ee,M.hold=F,M.bits=K,(M.wsize||be!==U.avail_out&&M.mode<30&&(M.mode<27||re!==4))&&Q(U,U.output,U.next_out,be-U.avail_out)?(M.mode=31,-4):(Ce-=U.avail_in,be-=U.avail_out,U.total_in+=Ce,U.total_out+=be,M.total+=be,M.wrap&&be&&(U.adler=M.check=M.flags?u(M.check,ae,be,U.next_out-be):c(M.check,ae,be,U.next_out-be)),U.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(Ce==0&&be===0||re===4)&&Pe===b&&(Pe=-5),Pe)},i.inflateEnd=function(U){if(!U||!U.state)return x;var re=U.state;return re.window&&(re.window=null),U.state=null,b},i.inflateGetHeader=function(U,re){var M;return U&&U.state?(2&(M=U.state).wrap)==0?x:((M.head=re).done=!1,b):x},i.inflateSetDictionary=function(U,re){var M,W=re.length;return U&&U.state?(M=U.state).wrap!==0&&M.mode!==11?x:M.mode===11&&c(1,re,W,0)!==M.check?-3:Q(U,re,W,W)?(M.mode=31,-4):(M.havedict=1,b):x},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var l=n("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(g,m,b,x,k,_,E,P){var T,I,D,B,q,G,J,V,Y,Q=P.bits,U=0,re=0,M=0,W=0,ae=0,oe=0,ne=0,ee=0,le=0,F=0,K=null,Ce=0,be=new l.Buf16(16),we=new l.Buf16(16),Ie=null,Ue=0;for(U=0;U<=15;U++)be[U]=0;for(re=0;re<x;re++)be[m[b+re]]++;for(ae=Q,W=15;1<=W&&be[W]===0;W--);if(W<ae&&(ae=W),W===0)return k[_++]=20971520,k[_++]=20971520,P.bits=1,0;for(M=1;M<W&&be[M]===0;M++);for(ae<M&&(ae=M),U=ee=1;U<=15;U++)if(ee<<=1,(ee-=be[U])<0)return-1;if(0<ee&&(g===0||W!==1))return-1;for(we[1]=0,U=1;U<15;U++)we[U+1]=we[U]+be[U];for(re=0;re<x;re++)m[b+re]!==0&&(E[we[m[b+re]]++]=re);if(G=g===0?(K=Ie=E,19):g===1?(K=c,Ce-=257,Ie=u,Ue-=257,256):(K=f,Ie=p,-1),U=M,q=_,ne=re=F=0,D=-1,B=(le=1<<(oe=ae))-1,g===1&&852<le||g===2&&592<le)return 1;for(;;){for(J=U-ne,Y=E[re]<G?(V=0,E[re]):E[re]>G?(V=Ie[Ue+E[re]],K[Ce+E[re]]):(V=96,0),T=1<<U-ne,M=I=1<<oe;k[q+(F>>ne)+(I-=T)]=J<<24|V<<16|Y|0,I!==0;);for(T=1<<U-1;F&T;)T>>=1;if(T!==0?(F&=T-1,F+=T):F=0,re++,--be[U]==0){if(U===W)break;U=m[b+E[re]]}if(ae<U&&(F&B)!==D){for(ne===0&&(ne=ae),q+=M,ee=1<<(oe=U-ne);oe+ne<W&&!((ee-=be[oe+ne])<=0);)oe++,ee<<=1;if(le+=1<<oe,g===1&&852<le||g===2&&592<le)return 1;k[D=F&B]=ae<<24|oe<<16|q-_|0}}return F!==0&&(k[q+F]=U-ne<<24|64<<16|0),P.bits=ae,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var l=n("../utils/common"),c=0,u=1;function f(te){for(var pe=te.length;0<=--pe;)te[pe]=0}var p=0,g=29,m=256,b=m+1+g,x=30,k=19,_=2*b+1,E=15,P=16,T=7,I=256,D=16,B=17,q=18,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],J=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(b+2));f(Q);var U=new Array(2*x);f(U);var re=new Array(512);f(re);var M=new Array(256);f(M);var W=new Array(g);f(W);var ae,oe,ne,ee=new Array(x);function le(te,pe,Ne,Ae,me){this.static_tree=te,this.extra_bits=pe,this.extra_base=Ne,this.elems=Ae,this.max_length=me,this.has_stree=te&&te.length}function F(te,pe){this.dyn_tree=te,this.max_code=0,this.stat_desc=pe}function K(te){return te<256?re[te]:re[256+(te>>>7)]}function Ce(te,pe){te.pending_buf[te.pending++]=255&pe,te.pending_buf[te.pending++]=pe>>>8&255}function be(te,pe,Ne){te.bi_valid>P-Ne?(te.bi_buf|=pe<<te.bi_valid&65535,Ce(te,te.bi_buf),te.bi_buf=pe>>P-te.bi_valid,te.bi_valid+=Ne-P):(te.bi_buf|=pe<<te.bi_valid&65535,te.bi_valid+=Ne)}function we(te,pe,Ne){be(te,Ne[2*pe],Ne[2*pe+1])}function Ie(te,pe){for(var Ne=0;Ne|=1&te,te>>>=1,Ne<<=1,0<--pe;);return Ne>>>1}function Ue(te,pe,Ne){var Ae,me,Me=new Array(E+1),He=0;for(Ae=1;Ae<=E;Ae++)Me[Ae]=He=He+Ne[Ae-1]<<1;for(me=0;me<=pe;me++){var je=te[2*me+1];je!==0&&(te[2*me]=Ie(Me[je]++,je))}}function De(te){var pe;for(pe=0;pe<b;pe++)te.dyn_ltree[2*pe]=0;for(pe=0;pe<x;pe++)te.dyn_dtree[2*pe]=0;for(pe=0;pe<k;pe++)te.bl_tree[2*pe]=0;te.dyn_ltree[2*I]=1,te.opt_len=te.static_len=0,te.last_lit=te.matches=0}function Fe(te){8<te.bi_valid?Ce(te,te.bi_buf):0<te.bi_valid&&(te.pending_buf[te.pending++]=te.bi_buf),te.bi_buf=0,te.bi_valid=0}function rt(te,pe,Ne,Ae){var me=2*pe,Me=2*Ne;return te[me]<te[Me]||te[me]===te[Me]&&Ae[pe]<=Ae[Ne]}function wt(te,pe,Ne){for(var Ae=te.heap[Ne],me=Ne<<1;me<=te.heap_len&&(me<te.heap_len&&rt(pe,te.heap[me+1],te.heap[me],te.depth)&&me++,!rt(pe,Ae,te.heap[me],te.depth));)te.heap[Ne]=te.heap[me],Ne=me,me<<=1;te.heap[Ne]=Ae}function At(te,pe,Ne){var Ae,me,Me,He,je=0;if(te.last_lit!==0)for(;Ae=te.pending_buf[te.d_buf+2*je]<<8|te.pending_buf[te.d_buf+2*je+1],me=te.pending_buf[te.l_buf+je],je++,Ae===0?we(te,me,pe):(we(te,(Me=M[me])+m+1,pe),(He=G[Me])!==0&&be(te,me-=W[Me],He),we(te,Me=K(--Ae),Ne),(He=J[Me])!==0&&be(te,Ae-=ee[Me],He)),je<te.last_lit;);we(te,I,pe)}function ht(te,pe){var Ne,Ae,me,Me=pe.dyn_tree,He=pe.stat_desc.static_tree,je=pe.stat_desc.has_stree,Je=pe.stat_desc.elems,Z=-1;for(te.heap_len=0,te.heap_max=_,Ne=0;Ne<Je;Ne++)Me[2*Ne]!==0?(te.heap[++te.heap_len]=Z=Ne,te.depth[Ne]=0):Me[2*Ne+1]=0;for(;te.heap_len<2;)Me[2*(me=te.heap[++te.heap_len]=Z<2?++Z:0)]=1,te.depth[me]=0,te.opt_len--,je&&(te.static_len-=He[2*me+1]);for(pe.max_code=Z,Ne=te.heap_len>>1;1<=Ne;Ne--)wt(te,Me,Ne);for(me=Je;Ne=te.heap[1],te.heap[1]=te.heap[te.heap_len--],wt(te,Me,1),Ae=te.heap[1],te.heap[--te.heap_max]=Ne,te.heap[--te.heap_max]=Ae,Me[2*me]=Me[2*Ne]+Me[2*Ae],te.depth[me]=(te.depth[Ne]>=te.depth[Ae]?te.depth[Ne]:te.depth[Ae])+1,Me[2*Ne+1]=Me[2*Ae+1]=me,te.heap[1]=me++,wt(te,Me,1),2<=te.heap_len;);te.heap[--te.heap_max]=te.heap[1],function(N,O){var X,fe,_e,Se,lt,Lt,vt=O.dyn_tree,Et=O.max_code,kt=O.stat_desc.static_tree,ea=O.stat_desc.has_stree,jo=O.stat_desc.extra_bits,Rr=O.stat_desc.extra_base,Hn=O.stat_desc.max_length,Wi=0;for(Se=0;Se<=E;Se++)N.bl_count[Se]=0;for(vt[2*N.heap[N.heap_max]+1]=0,X=N.heap_max+1;X<_;X++)Hn<(Se=vt[2*vt[2*(fe=N.heap[X])+1]+1]+1)&&(Se=Hn,Wi++),vt[2*fe+1]=Se,Et<fe||(N.bl_count[Se]++,lt=0,Rr<=fe&&(lt=jo[fe-Rr]),Lt=vt[2*fe],N.opt_len+=Lt*(Se+lt),ea&&(N.static_len+=Lt*(kt[2*fe+1]+lt)));if(Wi!==0){do{for(Se=Hn-1;N.bl_count[Se]===0;)Se--;N.bl_count[Se]--,N.bl_count[Se+1]+=2,N.bl_count[Hn]--,Wi-=2}while(0<Wi);for(Se=Hn;Se!==0;Se--)for(fe=N.bl_count[Se];fe!==0;)Et<(_e=N.heap[--X])||(vt[2*_e+1]!==Se&&(N.opt_len+=(Se-vt[2*_e+1])*vt[2*_e],vt[2*_e+1]=Se),fe--)}}(te,pe),Ue(Me,Z,te.bl_count)}function z(te,pe,Ne){var Ae,me,Me=-1,He=pe[1],je=0,Je=7,Z=4;for(He===0&&(Je=138,Z=3),pe[2*(Ne+1)+1]=65535,Ae=0;Ae<=Ne;Ae++)me=He,He=pe[2*(Ae+1)+1],++je<Je&&me===He||(je<Z?te.bl_tree[2*me]+=je:me!==0?(me!==Me&&te.bl_tree[2*me]++,te.bl_tree[2*D]++):je<=10?te.bl_tree[2*B]++:te.bl_tree[2*q]++,Me=me,Z=(je=0)===He?(Je=138,3):me===He?(Je=6,3):(Je=7,4))}function Pe(te,pe,Ne){var Ae,me,Me=-1,He=pe[1],je=0,Je=7,Z=4;for(He===0&&(Je=138,Z=3),Ae=0;Ae<=Ne;Ae++)if(me=He,He=pe[2*(Ae+1)+1],!(++je<Je&&me===He)){if(je<Z)for(;we(te,me,te.bl_tree),--je!=0;);else me!==0?(me!==Me&&(we(te,me,te.bl_tree),je--),we(te,D,te.bl_tree),be(te,je-3,2)):je<=10?(we(te,B,te.bl_tree),be(te,je-3,3)):(we(te,q,te.bl_tree),be(te,je-11,7));Me=me,Z=(je=0)===He?(Je=138,3):me===He?(Je=6,3):(Je=7,4)}}f(ee);var ke=!1;function ie(te,pe,Ne,Ae){be(te,(p<<1)+(Ae?1:0),3),function(me,Me,He,je){Fe(me),Ce(me,He),Ce(me,~He),l.arraySet(me.pending_buf,me.window,Me,He,me.pending),me.pending+=He}(te,pe,Ne)}i._tr_init=function(te){ke||(function(){var pe,Ne,Ae,me,Me,He=new Array(E+1);for(me=Ae=0;me<g-1;me++)for(W[me]=Ae,pe=0;pe<1<<G[me];pe++)M[Ae++]=me;for(M[Ae-1]=me,me=Me=0;me<16;me++)for(ee[me]=Me,pe=0;pe<1<<J[me];pe++)re[Me++]=me;for(Me>>=7;me<x;me++)for(ee[me]=Me<<7,pe=0;pe<1<<J[me]-7;pe++)re[256+Me++]=me;for(Ne=0;Ne<=E;Ne++)He[Ne]=0;for(pe=0;pe<=143;)Q[2*pe+1]=8,pe++,He[8]++;for(;pe<=255;)Q[2*pe+1]=9,pe++,He[9]++;for(;pe<=279;)Q[2*pe+1]=7,pe++,He[7]++;for(;pe<=287;)Q[2*pe+1]=8,pe++,He[8]++;for(Ue(Q,b+1,He),pe=0;pe<x;pe++)U[2*pe+1]=5,U[2*pe]=Ie(pe,5);ae=new le(Q,G,m+1,b,E),oe=new le(U,J,0,x,E),ne=new le(new Array(0),V,0,k,T)}(),ke=!0),te.l_desc=new F(te.dyn_ltree,ae),te.d_desc=new F(te.dyn_dtree,oe),te.bl_desc=new F(te.bl_tree,ne),te.bi_buf=0,te.bi_valid=0,De(te)},i._tr_stored_block=ie,i._tr_flush_block=function(te,pe,Ne,Ae){var me,Me,He=0;0<te.level?(te.strm.data_type===2&&(te.strm.data_type=function(je){var Je,Z=4093624447;for(Je=0;Je<=31;Je++,Z>>>=1)if(1&Z&&je.dyn_ltree[2*Je]!==0)return c;if(je.dyn_ltree[18]!==0||je.dyn_ltree[20]!==0||je.dyn_ltree[26]!==0)return u;for(Je=32;Je<m;Je++)if(je.dyn_ltree[2*Je]!==0)return u;return c}(te)),ht(te,te.l_desc),ht(te,te.d_desc),He=function(je){var Je;for(z(je,je.dyn_ltree,je.l_desc.max_code),z(je,je.dyn_dtree,je.d_desc.max_code),ht(je,je.bl_desc),Je=k-1;3<=Je&&je.bl_tree[2*Y[Je]+1]===0;Je--);return je.opt_len+=3*(Je+1)+5+5+4,Je}(te),me=te.opt_len+3+7>>>3,(Me=te.static_len+3+7>>>3)<=me&&(me=Me)):me=Me=Ne+5,Ne+4<=me&&pe!==-1?ie(te,pe,Ne,Ae):te.strategy===4||Me===me?(be(te,2+(Ae?1:0),3),At(te,Q,U)):(be(te,4+(Ae?1:0),3),function(je,Je,Z,N){var O;for(be(je,Je-257,5),be(je,Z-1,5),be(je,N-4,4),O=0;O<N;O++)be(je,je.bl_tree[2*Y[O]+1],3);Pe(je,je.dyn_ltree,Je-1),Pe(je,je.dyn_dtree,Z-1)}(te,te.l_desc.max_code+1,te.d_desc.max_code+1,He+1),At(te,te.dyn_ltree,te.dyn_dtree)),De(te),Ae&&Fe(te)},i._tr_tally=function(te,pe,Ne){return te.pending_buf[te.d_buf+2*te.last_lit]=pe>>>8&255,te.pending_buf[te.d_buf+2*te.last_lit+1]=255&pe,te.pending_buf[te.l_buf+te.last_lit]=255&Ne,te.last_lit++,pe===0?te.dyn_ltree[2*Ne]++:(te.matches++,pe--,te.dyn_ltree[2*(M[Ne]+m+1)]++,te.dyn_dtree[2*K(pe)]++),te.last_lit===te.lit_bufsize-1},i._tr_align=function(te){be(te,2,3),we(te,I,Q),function(pe){pe.bi_valid===16?(Ce(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(te)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(l){(function(c,u){if(!c.setImmediate){var f,p,g,m,b=1,x={},k=!1,_=c.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(c);E=E&&E.setTimeout?E:c,f={}.toString.call(c.process)==="[object process]"?function(D){process.nextTick(function(){T(D)})}:function(){if(c.postMessage&&!c.importScripts){var D=!0,B=c.onmessage;return c.onmessage=function(){D=!1},c.postMessage("","*"),c.onmessage=B,D}}()?(m="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",I,!1):c.attachEvent("onmessage",I),function(D){c.postMessage(m+D,"*")}):c.MessageChannel?((g=new MessageChannel).port1.onmessage=function(D){T(D.data)},function(D){g.port2.postMessage(D)}):_&&"onreadystatechange"in _.createElement("script")?(p=_.documentElement,function(D){var B=_.createElement("script");B.onreadystatechange=function(){T(D),B.onreadystatechange=null,p.removeChild(B),B=null},p.appendChild(B)}):function(D){setTimeout(T,0,D)},E.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var B=new Array(arguments.length-1),q=0;q<B.length;q++)B[q]=arguments[q+1];var G={callback:D,args:B};return x[b]=G,f(b),b++},E.clearImmediate=P}function P(D){delete x[D]}function T(D){if(k)setTimeout(T,0,D);else{var B=x[D];if(B){k=!0;try{(function(q){var G=q.callback,J=q.args;switch(J.length){case 0:G();break;case 1:G(J[0]);break;case 2:G(J[0],J[1]);break;case 3:G(J[0],J[1],J[2]);break;default:G.apply(u,J)}})(B)}finally{P(D),k=!1}}}}function I(D){D.source===c&&typeof D.data=="string"&&D.data.indexOf(m)===0&&T(+D.data.slice(m.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Kf<"u"?Kf:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(ty)),ty.exports}iZ();const oZ=30023,sZ="dead-drop-lockers@v1",s1="Dead Drop Lockers Source Snapshot";function aZ(){const e=R.useRef(null),[t,n]=R.useState(null),r=uP(),i=F0(),l=u=>{var p;const f=((p=u.target.files)==null?void 0:p[0])??null;n(f)},c=async()=>{if(t)try{const u=await r.mutateAsync(t);await i.mutateAsync({kind:oZ,content:`${s1}: snapshot uploaded`,tags:[["d",sZ],["title",s1],["t","code-snapshot"],...u]}),alert("Snapshot published to Nostr")}catch(u){alert("Upload or publish failed: "+u.message)}};return v.jsxs("div",{className:"p-4",children:[v.jsx("h2",{className:"text-lg font-semibold",children:"Publish Snapshot to Nostr"}),v.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a zip of your project locally and upload it here to publish a Nostr snapshot event."}),v.jsx("input",{type:"file",ref:e,onChange:l,accept:".zip"}),v.jsx("div",{className:"mt-4",children:v.jsx("button",{className:"btn",onClick:c,disabled:!t,children:"Upload & Publish"})})]})}function lZ(e,t={},n){e.use(uR);function r(c){if(c._flatMeta)return c;const{title:u,titleTemplate:f,...p}=c||{};return{title:u,titleTemplate:f,_flatMeta:p}}const i=e.push(r(t),n),l=i.patch;return i.__patched||(i.patch=c=>l(r(c)),i.__patched=!0),i}function cZ(){const e=R.useContext(U1);if(!e)throw new Error("useHead() was called without provide context.");return e}function uZ(e,t,n){const r=t.head||cZ(),[i]=R.useState(()=>n(r,e,t));return R.useEffect(()=>{i.patch(e)},[e]),R.useEffect(()=>()=>{i.dispose()},[]),i}function Td(e={},t={}){return uZ(e,t,lZ)}function dZ(){return Td({title:"DeadDropstr - Nostr-Native Smart Lockers",description:"A decentralized marketplace for autonomous physical lockers powered by Nostr and Lightning."}),v.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[v.jsxs("header",{className:"relative isolate overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(45%_40%_at_50%_60%,hsl(var(--primary)/0.12),transparent)]"}),v.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[v.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:["The ",v.jsx("span",{className:"text-primary",children:"Nostr-Native"})," Dead Drop Network"]}),v.jsx("p",{className:"max-w-2xl mx-auto text-lg text-muted-foreground mb-10",children:"Rent autonomous smart lockers for anonymous P2P exchanges. Pay with Lightning. No middlemen."}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[v.jsx(ut,{asChild:!0,size:"lg",className:"text-base",children:v.jsxs(Nn,{to:"/marketplace",children:[v.jsx(Xu,{className:"mr-2 h-5 w-5"}),"Explore Lockers"]})}),v.jsx(ut,{asChild:!0,size:"lg",variant:"outline",className:"text-base",children:v.jsxs(Nn,{to:"/dashboard",children:[v.jsx(Hy,{className:"mr-2 h-5 w-5"}),"Owner Dashboard"]})})]})]})]}),v.jsxs("section",{className:"container mx-auto px-4 py-16",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),v.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[v.jsxs(Vt,{className:"bg-card/60 backdrop-blur",children:[v.jsxs(An,{children:[v.jsx(Xu,{className:"h-10 w-10 text-primary mb-2"}),v.jsx($n,{children:"Find a Locker"})]}),v.jsx(Gt,{children:v.jsx(_o,{children:"Browse the map to find available smart lockers near you. Filter by size, price, and trust score."})})]}),v.jsxs(Vt,{className:"bg-card/60 backdrop-blur",children:[v.jsxs(An,{children:[v.jsx(nS,{className:"h-10 w-10 text-primary mb-2"}),v.jsx($n,{children:"Pay with Lightning"})]}),v.jsx(Gt,{children:v.jsx(_o,{children:"Rent instantly using Nostr Wallet Connect (NIP-47) or WebLN. The locker unlocks once payment confirms."})})]}),v.jsxs(Vt,{className:"bg-card/60 backdrop-blur",children:[v.jsxs(An,{children:[v.jsx(Xk,{className:"h-10 w-10 text-primary mb-2"}),v.jsx($n,{children:"Negotiate Privately"})]}),v.jsx(Gt,{children:v.jsx(_o,{children:"Chat with buyers or sellers via encrypted NIP-17 messages. Goods payment is direct P2P via zaps."})})]}),v.jsxs(Vt,{className:"bg-card/60 backdrop-blur",children:[v.jsxs(An,{children:[v.jsx(Hy,{className:"h-10 w-10 text-primary mb-2"}),v.jsx($n,{children:"Manage Your Box"})]}),v.jsx(Gt,{children:v.jsx(_o,{children:"Owners configure fees, overdue penalties, proxy mode, and abandoned property rules from their dashboard."})})]})]})]}),v.jsx("section",{className:"container mx-auto px-4 py-16 text-center",children:v.jsxs(Vt,{className:"max-w-2xl mx-auto bg-primary/5 border-primary/20",children:[v.jsxs(An,{children:[v.jsx($n,{className:"text-2xl",children:"Ready to Deploy a Locker?"}),v.jsx(_o,{children:"Flash our ESP32 template onto your hardware, configure via the dashboard, and start earning sats."})]}),v.jsx(Gt,{children:v.jsx(ut,{asChild:!0,size:"lg",children:v.jsx(Nn,{to:"/dashboard",children:"Get Started"})})})]})}),v.jsx("footer",{className:"border-t py-8 text-center text-sm text-muted-foreground",children:v.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Vibed with Shakespeare"})})]})}var Fp="Switch",[fZ,XZ]=er(Fp),[hZ,pZ]=fZ(Fp),eN=R.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:l,required:c,disabled:u,value:f="on",onCheckedChange:p,form:g,...m}=e,[b,x]=R.useState(null),k=Tt(t,I=>x(I)),_=R.useRef(!1),E=b?g||!!b.closest("form"):!0,[P,T]=Oo({prop:i,defaultProp:l??!1,onChange:p,caller:Fp});return v.jsxs(hZ,{scope:n,checked:P,disabled:u,children:[v.jsx(st.button,{type:"button",role:"switch","aria-checked":P,"aria-required":c,"data-state":iN(P),"data-disabled":u?"":void 0,disabled:u,value:f,...m,ref:k,onClick:qe(e.onClick,I=>{T(D=>!D),E&&(_.current=I.isPropagationStopped(),_.current||I.stopPropagation())})}),E&&v.jsx(rN,{control:b,bubbles:!_.current,name:r,value:f,checked:P,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});eN.displayName=Fp;var tN="SwitchThumb",nN=R.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=pZ(tN,n);return v.jsx(st.span,{"data-state":iN(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});nN.displayName=tN;var mZ="SwitchBubbleInput",rN=R.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},l)=>{const c=R.useRef(null),u=Tt(c,l),f=Y0(n),p=kp(t);return R.useEffect(()=>{const g=c.current;if(!g)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(f!==n&&x){const k=new Event("click",{bubbles:r});x.call(g,n),g.dispatchEvent(k)}},[f,n,r]),v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rN.displayName=mZ;function iN(e){return e?"checked":"unchecked"}var oN=eN,gZ=nN;const sN=R.forwardRef(({className:e,...t},n)=>v.jsx(oN,{className:at("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:v.jsx(gZ,{className:at("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));sN.displayName=oN.displayName;function aN(e){if(e.kind!==30402)return null;const t=I=>{var D;return(D=e.tags.find(([B])=>B===I))==null?void 0:D[1]};if(!(I=>e.tags.filter(([D])=>D===I).map(([,D])=>D))("t").includes("locker"))return null;const i=t("d");if(!i)return null;const l=t("title")||"Unnamed Locker",c=t("status")||"available",u=t("g")||"",f=t("location"),p=e.tags.find(([I])=>I==="price"),g=p&&parseInt(p[1])||0,m=(p==null?void 0:p[2])||"SATS",b=t("dimensions"),x=parseInt(t("overdue-fee")||"0"),k=parseInt(t("overdue-days")||"7"),_=t("proxy-mode")==="true",E=parseInt(t("proxy-fee")||"0"),P=parseInt(t("abandon-days")||"30"),T=e.tags.filter(([I])=>I==="image").map(([,I])=>I);return{id:e.id,pubkey:e.pubkey,dTag:i,title:l,description:e.content,status:c,geohash:u,location:f,price:g,currency:m,dimensions:b,overdueFee:x,overdueDays:k,proxyMode:_,proxyFee:E,abandonDays:P,images:T,createdAt:e.created_at,event:e}}function yZ(e){const t=[["d",crypto.randomUUID()],["title",e.title],["t","locker"],["t","dead-drop"],["g",e.geohash],["price",e.baseFee.toString(),"SATS"],["status","available"],["dimensions",e.dimensions],["overdue-fee",e.overdueFee.toString()],["overdue-days",e.overdueDays.toString()],["proxy-mode",e.proxyMode.toString()],["abandon-days",e.abandonDays.toString()]];return e.location&&t.push(["location",e.location]),e.proxyMode&&e.proxyFee>0&&t.push(["proxy-fee",e.proxyFee.toString()]),t}const ny="0123456789bcdefghjkmnpqrstuvwxyz";class En{static encode(t,n,r){if(typeof r>"u"){for(let b=1;b<=12;b++){const x=En.encode(t,n,b),k=En.decode(x);if(k.lat==t&&k.lon==n)return x}r=12}if(t=Number(t),n=Number(n),r=Number(r),isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Invalid geohash");let i=0,l=0,c=!0,u="",f=-90,p=90,g=-180,m=180;for(;u.length<r;){if(c){const b=(g+m)/2;n>=b?(i=i*2+1,g=b):(i=i*2,m=b)}else{const b=(f+p)/2;t>=b?(i=i*2+1,f=b):(i=i*2,p=b)}c=!c,++l==5&&(u+=ny.charAt(i),l=0,i=0)}return u}static decode(t){const n=En.bounds(t),r=n.sw.lat,i=n.sw.lon,l=n.ne.lat,c=n.ne.lon;let u=(r+l)/2,f=(i+c)/2;return u=u.toFixed(Math.floor(2-Math.log(l-r)/Math.LN10)),f=f.toFixed(Math.floor(2-Math.log(c-i)/Math.LN10)),{lat:Number(u),lon:Number(f)}}static bounds(t){if(t.length==0)throw new Error("Invalid geohash");t=t.toLowerCase();let n=!0,r=-90,i=90,l=-180,c=180;for(let f=0;f<t.length;f++){const p=t.charAt(f),g=ny.indexOf(p);if(g==-1)throw new Error("Invalid geohash");for(let m=4;m>=0;m--){const b=g>>m&1;if(n){const x=(l+c)/2;b==1?l=x:c=x}else{const x=(r+i)/2;b==1?r=x:i=x}n=!n}}return{sw:{lat:r,lon:l},ne:{lat:i,lon:c}}}static adjacent(t,n){if(t=t.toLowerCase(),n=n.toLowerCase(),t.length==0)throw new Error("Invalid geohash");if("nsew".indexOf(n)==-1)throw new Error("Invalid direction");const r={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]},i={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]},l=t.slice(-1);let c=t.slice(0,-1);const u=t.length%2;return i[n][u].indexOf(l)!=-1&&c!=""&&(c=En.adjacent(c,n)),c+ny.charAt(r[n][u].indexOf(l))}static neighbours(t){return{n:En.adjacent(t,"n"),ne:En.adjacent(En.adjacent(t,"n"),"e"),e:En.adjacent(t,"e"),se:En.adjacent(En.adjacent(t,"s"),"e"),s:En.adjacent(t,"s"),sw:En.adjacent(En.adjacent(t,"s"),"w"),w:En.adjacent(t,"w"),nw:En.adjacent(En.adjacent(t,"n"),"w")}}}function vZ(){const{nostr:e}=Lo();return Ra({queryKey:["my-lockers"],queryFn:async()=>(await e.query([{kinds:[30402],limit:100}])).map(n=>aN(n)).filter(Boolean),staleTime:3e4})}function fh({className:e,...t}){return v.jsx("div",{className:at("animate-pulse rounded-md bg-muted",e),...t})}function wZ(){Td({title:"Owner Dashboard - Dead Drop Network"});const{user:e}=pp(),{mutateAsync:t,isPending:n}=F0(),{toast:r}=gd(),{data:i,isLoading:l}=vZ(),[c,u]=R.useState(""),[f,p]=R.useState(""),[g,m]=R.useState(""),[b,x]=R.useState(""),[k,_]=R.useState(""),[E,P]=R.useState("1000"),[T,I]=R.useState("10"),[D,B]=R.useState("7"),[q,G]=R.useState(!1),[J,V]=R.useState("500"),[Y,Q]=R.useState("30"),[U,re]=R.useState("30x30x45"),M=async W=>{if(W.preventDefault(),!!e)try{const ae=En.encode(parseFloat(b),parseFloat(k),7),oe=yZ({title:c,description:f,location:g,geohash:ae,baseFee:parseInt(E),overdueFee:parseInt(T),overdueDays:parseInt(D),proxyMode:q,proxyFee:parseInt(J),abandonDays:parseInt(Y),dimensions:U});await t({kind:30402,content:f,tags:oe}),r({title:"Locker Published",description:"Your locker listing is now live."}),u(""),p("")}catch(ae){r({title:"Error",description:ae.message,variant:"destructive"})}};return e?v.jsx("div",{className:"min-h-screen bg-background",children:v.jsxs("div",{className:"container mx-auto p-4 space-y-8",children:[v.jsxs("header",{className:"flex items-center justify-between",children:[v.jsx("h1",{className:"text-2xl font-semibold",children:"Owner Dashboard"}),v.jsx(uv,{className:"max-w-60"})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-medium mb-4",children:"My Lockers"}),l?v.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(W=>v.jsxs(Vt,{children:[v.jsxs(An,{children:[v.jsx(fh,{className:"h-5 w-3/4"}),v.jsx(fh,{className:"h-4 w-1/2"})]}),v.jsxs(Gt,{children:[v.jsx(fh,{className:"h-4 w-full mb-2"}),v.jsx(fh,{className:"h-4 w-2/3"})]})]},W))}):i&&i.length>0?v.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(W=>v.jsxs(Vt,{children:[v.jsxs(An,{children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx($n,{className:"text-lg",children:W.title}),v.jsx(Pr,{variant:W.status==="available"?"default":"secondary",children:W.status})]}),v.jsx(_o,{children:W.location||W.geohash})]}),v.jsxs(Gt,{children:[v.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:W.description}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsxs("span",{children:["Fee: ",W.price," sats"]}),W.proxyMode&&v.jsx(Pr,{variant:"outline",children:"Proxy"})]})]})]},W.id))}):v.jsx(Vt,{className:"border-dashed",children:v.jsx(Gt,{className:"py-8 text-center text-muted-foreground",children:"You haven't created any lockers yet."})})]}),v.jsxs(Vt,{children:[v.jsxs(An,{children:[v.jsx($n,{children:"Create New Locker"}),v.jsx(_o,{children:"Configure your smart locker and publish it to the network."})]}),v.jsx(Gt,{children:v.jsxs("form",{onSubmit:M,className:"space-y-6",children:[v.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Pn,{htmlFor:"title",children:"Title"}),v.jsx(vn,{id:"title",value:c,onChange:W=>u(W.target.value),placeholder:"Downtown Dead Drop Box #1",required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Pn,{htmlFor:"dimensions",children:"Dimensions (cm)"}),v.jsx(vn,{id:"dimensions",value:U,onChange:W=>re(W.target.value),placeholder:"WxHxD e.g. 30x30x45"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Pn,{htmlFor:"description",children:"Description"}),v.jsx(B0,{id:"description",value:f,onChange:W=>p(W.target.value),placeholder:"Describe your locker, its features, and any special instructions...",rows:3})]}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Pn,{htmlFor:"location",children:"Location Address"}),v.jsx(vn,{id:"location",value:g,onChange:W=>m(W.target.value),placeholder:"123 Main St, City"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Pn,{htmlFor:"lat",children:"Latitude"}),v.jsx(vn,{id:"lat",type:"number",step:"any",value:b,onChange:W=>x(W.target.value),placeholder:"51.505",required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Pn,{htmlFor:"lng",children:"Longitude"}),v.jsx(vn,{id:"lng",type:"number",step:"any",value:k,onChange:W=>_(W.target.value),placeholder:"-0.09",required:!0})]})]}),v.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[v.jsx("h3",{className:"font-medium",children:"Fee Structure"}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Pn,{htmlFor:"baseFee",children:"Base Fee (sats)"}),v.jsx(vn,{id:"baseFee",type:"number",value:E,onChange:W=>P(W.target.value)})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Pn,{htmlFor:"overdueFee",children:"Overdue Fee (%)"}),v.jsx(vn,{id:"overdueFee",type:"number",value:T,onChange:W=>I(W.target.value)})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Pn,{htmlFor:"overdueDays",children:"Overdue After (days)"}),v.jsx(vn,{id:"overdueDays",type:"number",value:D,onChange:W=>B(W.target.value)})]})]})]}),v.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium",children:"Proxy Mode"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"You manually receive and stock items for an extra fee."})]}),v.jsx(sN,{checked:q,onCheckedChange:G})]}),q&&v.jsxs("div",{className:"space-y-2",children:[v.jsx(Pn,{htmlFor:"proxyFee",children:"Proxy Fee (sats)"}),v.jsx(vn,{id:"proxyFee",type:"number",value:J,onChange:W=>V(W.target.value)})]})]}),v.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[v.jsx("h3",{className:"font-medium",children:"Abandoned Property"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"After this period, unclaimed items become owner property or are auctioned."}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Pn,{htmlFor:"abandonDays",children:"Days Until Abandoned"}),v.jsx(vn,{id:"abandonDays",type:"number",value:Y,onChange:W=>Q(W.target.value)})]})]}),v.jsx(ut,{type:"submit",disabled:n,className:"w-full",children:n?"Publishing...":"Publish Locker"})]})})]}),v.jsx("footer",{className:"text-center text-sm text-muted-foreground pt-8",children:v.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",children:"Vibed with Shakespeare"})})]})}):v.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:v.jsxs(Vt,{className:"w-full max-w-md",children:[v.jsxs(An,{children:[v.jsx($n,{children:"Owner Dashboard"}),v.jsx(_o,{children:"Please log in to manage your lockers."})]}),v.jsx(Gt,{children:v.jsx(uv,{className:"w-full"})})]})})}const a1=[{id:"1",pubkey:"npub1abc123...",name:"CryptoMike",lastMessage:"Can you drop the package at the SF locker?",timestamp:"2 min ago",unread:!0},{id:"2",pubkey:"npub1def456...",name:"PrivacyPam",lastMessage:"Thanks for the quick delivery!",timestamp:"1 hour ago",unread:!1},{id:"3",pubkey:"npub1ghi789...",name:"BitcoinBill",lastMessage:"Locker code is 8472",timestamp:"Yesterday",unread:!1}],_Z=()=>{Td({title:"Messages",description:"Private encrypted messaging on Nostr"});const[e,t]=R.useState(a1[0]),[n,r]=R.useState("");return v.jsx("div",{className:"min-h-screen bg-background",children:v.jsxs("div",{className:"container mx-auto p-4 h-[calc(100vh-80px)]",children:[v.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Messages"}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-4 h-full",children:[v.jsx("div",{className:"space-y-2",children:a1.map(i=>v.jsx(Vt,{className:`cursor-pointer transition-colors ${(e==null?void 0:e.id)===i.id?"border-primary":"hover:border-primary/50"}`,onClick:()=>t(i),children:v.jsxs(Gt,{className:"p-3 flex items-center gap-3",children:[v.jsx(sd,{className:"h-10 w-10",children:v.jsx(ad,{children:v.jsx(Vy,{className:"h-5 w-5"})})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("p",{className:"font-medium truncate",children:i.name}),i.unread&&v.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"})]}),v.jsx("p",{className:"text-sm text-muted-foreground truncate",children:i.lastMessage}),v.jsx("p",{className:"text-xs text-muted-foreground",children:i.timestamp})]})]})},i.id))}),v.jsxs(Vt,{className:"md:col-span-2 flex flex-col",children:[v.jsx(An,{className:"border-b",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(sd,{className:"h-8 w-8",children:v.jsx(ad,{children:v.jsx(Vy,{className:"h-4 w-4"})})}),v.jsx($n,{className:"text-base",children:e==null?void 0:e.name})]})}),v.jsxs(Gt,{className:"flex-1 flex flex-col p-4",children:[v.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto",children:[v.jsx("div",{className:"flex justify-start",children:v.jsx("div",{className:"bg-muted rounded-lg px-4 py-2 max-w-[80%]",children:v.jsx("p",{className:"text-sm",children:"Hey, I saw your locker listing."})})}),v.jsx("div",{className:"flex justify-end",children:v.jsx("div",{className:"bg-primary text-primary-foreground rounded-lg px-4 py-2 max-w-[80%]",children:v.jsx("p",{className:"text-sm",children:"Hi! Yes, it's available. What do you need to store?"})})}),v.jsx("div",{className:"flex justify-start",children:v.jsx("div",{className:"bg-muted rounded-lg px-4 py-2 max-w-[80%]",children:v.jsx("p",{className:"text-sm",children:e==null?void 0:e.lastMessage})})})]}),v.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[v.jsx(vn,{placeholder:"Type a message...",value:n,onChange:i=>r(i.target.value),onKeyDown:i=>{i.key==="Enter"&&r("")}}),v.jsx(ut,{size:"icon",onClick:()=>r(""),children:v.jsx(t6,{className:"h-4 w-4"})})]})]})]})]})]})})};function l1({event:e,className:t}){const n=R.useMemo(()=>{const r=e.content,i=/(https?:\/\/[^\s]+)|nostr:(npub1|note1|nprofile1|nevent1)([023456789acdefghjklmnpqrstuvwxyz]+)|(#\w+)/g,l=[];let c=0,u,f=0;for(;(u=i.exec(r))!==null;){const[p,g,m,b,x]=u,k=u.index;if(k>c&&l.push(r.substring(c,k)),g)l.push(v.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:g},`url-${f++}`));else if(m&&b)try{const _=`${m}${b}`,E=Xn.decode(_);if(E.type==="npub"){const P=E.data;l.push(v.jsx(c1,{pubkey:P},`mention-${f++}`))}else if(E.type==="nprofile"){const P=E.data.pubkey;l.push(v.jsx(c1,{pubkey:P},`mention-${f++}`))}else l.push(v.jsx(Nn,{to:`/${_}`,className:"text-blue-500 hover:underline break-all",children:p},`nostr-${f++}`))}catch{l.push(p)}else if(x){const _=x.slice(1);l.push(v.jsx(Nn,{to:`/t/${_}`,className:"text-blue-500 hover:underline",children:x},`hashtag-${f++}`))}c=k+p.length}return c<r.length&&l.push(r.substring(c)),l.length===0&&l.push(r),l},[e]);return v.jsx("div",{className:at("whitespace-pre-wrap break-words",t),children:n.length>0?n:e.content})}function c1({pubkey:e}){var l,c,u,f;const t=Ek(e),n=Xn.npubEncode(e),r=!!((c=(l=t.data)==null?void 0:l.metadata)!=null&&c.name),i=((f=(u=t.data)==null?void 0:u.metadata)==null?void 0:f.name)??gT(e);return v.jsxs(Nn,{to:`/${n}`,className:at("font-medium hover:underline",r?"text-blue-500":"text-gray-500 hover:text-gray-700"),children:["@",i]})}function xZ(){const{nip19:e}=S0();Td({title:"NIP-19"});const{nostr:t}=Lo();if(!e)return v.jsx("div",{className:"container mx-auto p-6",children:"Invalid identifier"});let n;try{n=Xn.decode(e)}catch{return v.jsx("div",{className:"container mx-auto p-6",children:"Invalid NIP-19 identifier"})}const{type:r,data:i}=n,l=Ra({queryKey:["nip19",e,"profile"],enabled:r==="npub"||r==="nprofile",queryFn:async()=>{const p=(i==null?void 0:i.pubkey)??i;if(!p)return null;const g=await t.query([{kinds:[0],authors:[p],limit:1}]),m=g==null?void 0:g[0];if(!m)return{pubkey:p};try{const b=JSON.parse(m.content||"{}");return{pubkey:p,metadata:b}}catch{return{pubkey:p}}}}),c=Ra({queryKey:["nip19",e,"note"],enabled:r==="note",queryFn:async()=>{const p=i;if(!p)return null;const g=await t.query([{ids:[p],kinds:[1],limit:1}]);return(g==null?void 0:g[0])??null}}),u=Ra({queryKey:["nip19",e,"event"],enabled:r==="nevent",queryFn:async()=>{const p=(i==null?void 0:i.id)??i;if(!p)return null;const g=await t.query([{ids:[p],limit:1}]);return(g==null?void 0:g[0])??null}}),f=Ra({queryKey:["nip19",e,"naddr"],enabled:r==="naddr",queryFn:async()=>{const p=i;if(!p)return null;const g=p.kind,m=p.pubkey,b=p.identifier,x=await t.query([{kinds:[g],authors:[m],"#d":[b],limit:1}]);return(x==null?void 0:x[0])??null}});if(r==="npub"||r==="nprofile"){const p=l.data;return l.isFetched?v.jsx("div",{className:"container mx-auto p-6",children:v.jsxs("div",{className:"max-w-2xl mx-auto",children:[v.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),v.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["pubkey: ",v.jsx("code",{children:p==null?void 0:p.pubkey})]}),p!=null&&p.metadata?v.jsxs("div",{className:"space-y-2",children:[v.jsx("img",{src:p.metadata.picture,alt:"avatar",className:"w-28 h-28 rounded-full"}),v.jsx("h2",{className:"text-xl font-semibold",children:p.metadata.display_name??p.metadata.name}),v.jsx("p",{className:"text-sm text-muted-foreground",children:p.metadata.about}),p.metadata.website&&v.jsx("p",{children:v.jsx("a",{href:p.metadata.website,target:"_blank",rel:"noreferrer",className:"text-primary",children:"Website"})})]}):v.jsx("p",{children:"No metadata available."})]})}):v.jsx("div",{className:"container mx-auto p-6",children:"Loading profile"})}if(r==="note"){const p=c.data;return c.isLoading?v.jsx("div",{className:"container mx-auto p-6",children:"Loading note"}):p?v.jsxs("div",{className:"container mx-auto p-6",children:[v.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Text Note"}),v.jsx("div",{className:"prose max-w-none whitespace-pre-wrap",children:v.jsx(l1,{event:p})}),v.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",v.jsx(Nn,{to:`/${Xn.encode({type:"npub",data:p.pubkey})}`,children:p.pubkey})]})]}):v.jsx("div",{className:"container mx-auto p-6",children:"Note not found"})}if(r==="nevent"){const p=u.data;return u.isLoading?v.jsx("div",{className:"container mx-auto p-6",children:"Loading event"}):p?v.jsxs("div",{className:"container mx-auto p-6",children:[v.jsxs("h1",{className:"text-xl font-semibold",children:["Event (kind: ",p.kind,")"]}),v.jsx("div",{className:"mt-4 prose max-w-none whitespace-pre-wrap",children:p.kind===1?v.jsx(l1,{event:p}):v.jsx("pre",{children:p.content})}),v.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",v.jsx("code",{children:p.pubkey})]})]}):v.jsx("div",{className:"container mx-auto p-6",children:"Event not found"})}if(r==="naddr"){const p=f.data;if(f.isLoading)return v.jsx("div",{className:"container mx-auto p-6",children:"Loading addressable event"});if(!p)return v.jsx("div",{className:"container mx-auto p-6",children:"Addressable event not found"});if(p.kind===30402){const g=aN(p);return g?v.jsxs("div",{className:"container mx-auto p-6",children:[v.jsx("h1",{className:"text-2xl font-semibold",children:g.title}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",v.jsx("code",{children:g.pubkey})]}),v.jsx("p",{className:"mt-2",children:g.description}),v.jsxs("div",{className:"mt-4",children:[v.jsxs("p",{children:["Dimensions: ",g.dimensions]}),v.jsxs("p",{children:["Fee: ",g.price," ",g.currency]}),v.jsxs("p",{children:["Status: ",g.status]}),v.jsx(Nn,{to:`/locker/${e}`,className:"text-primary",children:"Open Locker Page"})]})]}):v.jsx("div",{className:"container mx-auto p-6",children:"Invalid locker event"})}return v.jsxs("div",{className:"container mx-auto p-6",children:[v.jsx("h1",{className:"text-xl font-semibold",children:"Addressable Event"}),v.jsx("pre",{className:"mt-4 whitespace-pre-wrap",children:p.content}),v.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Author: ",v.jsx("code",{children:p.pubkey})]})]})}return v.jsx("div",{className:"container mx-auto p-6",children:"Unsupported identifier type"})}const bZ=()=>{const e=Xa();return Td({title:"404 - Page Not Found",description:"The page you are looking for could not be found. Return to the home page to continue browsing."}),R.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"404"}),v.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),v.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})};function EZ(){return v.jsxs(eU,{basename:"/nostr-dead-drop-lockers",children:[v.jsx(iU,{}),v.jsx(u9,{}),v.jsxs(qF,{children:[v.jsx(Li,{path:"/",element:v.jsx(dZ,{})}),v.jsx(Li,{path:"/marketplace",element:v.jsx(W9,{})}),v.jsx(Li,{path:"/product/:dTag",element:v.jsx(rZ,{})}),v.jsx(Li,{path:"/snapshot",element:v.jsx(aZ,{})}),v.jsx(Li,{path:"/dashboard",element:v.jsx(wZ,{})}),v.jsx(Li,{path:"/messages",element:v.jsx(_Z,{})}),v.jsx(Li,{path:"/locker/:nip19",element:v.jsx(y9,{})}),v.jsx(Li,{path:"/:nip19",element:v.jsx(xZ,{})}),v.jsx(Li,{path:"*",element:v.jsx(bZ,{})})]})]})}const kZ=$1({plugins:[dR()]}),SZ=new xA({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4,gcTime:1/0}}}),CZ={theme:"light",relayMetadata:{relays:[{url:"wss://relay.ditto.pub",read:!0,write:!0},{url:"wss://relay.nostr.band",read:!0,write:!0},{url:"wss://relay.damus.io",read:!0,write:!0}],updatedAt:0}};function PZ(){return v.jsx(sR,{head:kZ,children:v.jsx(vB,{storageKey:"nostr:app-config",defaultConfig:CZ,children:v.jsx(CA,{client:SZ,children:v.jsx(F8,{storageKey:"nostr:login",children:v.jsxs(U8,{children:[v.jsx($8,{}),v.jsx(tF,{children:v.jsxs(pB,{children:[v.jsx($6,{}),v.jsx(R.Suspense,{children:v.jsx(EZ,{})})]})})]})})})})})}XN.createRoot(document.getElementById("root")).render(v.jsx(oA,{children:v.jsx(PZ,{})}));
