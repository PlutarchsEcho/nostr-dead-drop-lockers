var k4=Object.defineProperty;var Hx=e=>{throw TypeError(e)};var C4=(e,t,n)=>t in e?k4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var je=(e,t,n)=>C4(e,typeof t!="symbol"?t+"":t,n),jp=(e,t,n)=>t.has(e)||Hx("Cannot "+n);var te=(e,t,n)=>(jp(e,t,"read from private field"),n?n.call(e):t.get(e)),We=(e,t,n)=>t.has(e)?Hx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Me=(e,t,n,r)=>(jp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),et=(e,t,n)=>(jp(e,t,"access private method"),n);var Vu=(e,t,n,r)=>({set _(o){Me(e,t,o,n)},get _(){return te(e,t,r)}});function N4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Op={exports:{}},Il={},Mp={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function T4(){if(Wx)return rt;Wx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=h&&D[h]||D["@@iterator"],typeof D=="function"?D:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,g={};function x(D,Z,ge){this.props=D,this.context=Z,this.refs=g,this.updater=ge||y}x.prototype.isReactComponent={},x.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},x.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=x.prototype;function k(D,Z,ge){this.props=D,this.context=Z,this.refs=g,this.updater=ge||y}var C=k.prototype=new E;C.constructor=k,b(C,x.prototype),C.isPureReactComponent=!0;var A=Array.isArray,I=Object.prototype.hasOwnProperty,L={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function $(D,Z,ge){var pe,me={},Ae=null,we=null;if(Z!=null)for(pe in Z.ref!==void 0&&(we=Z.ref),Z.key!==void 0&&(Ae=""+Z.key),Z)I.call(Z,pe)&&!z.hasOwnProperty(pe)&&(me[pe]=Z[pe]);var xe=arguments.length-2;if(xe===1)me.children=ge;else if(1<xe){for(var Se=Array(xe),Ie=0;Ie<xe;Ie++)Se[Ie]=arguments[Ie+2];me.children=Se}if(D&&D.defaultProps)for(pe in xe=D.defaultProps,xe)me[pe]===void 0&&(me[pe]=xe[pe]);return{$$typeof:e,type:D,key:Ae,ref:we,props:me,_owner:L.current}}function O(D,Z){return{$$typeof:e,type:D.type,key:Z,ref:D.ref,props:D.props,_owner:D._owner}}function B(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function W(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ge){return Z[ge]})}var M=/\/+/g;function V(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?W(""+D.key):Z.toString(36)}function P(D,Z,ge,pe,me){var Ae=typeof D;(Ae==="undefined"||Ae==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(Ae){case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case e:case t:we=!0}}if(we)return we=D,me=me(we),D=pe===""?"."+V(we,0):pe,A(me)?(ge="",D!=null&&(ge=D.replace(M,"$&/")+"/"),P(me,Z,ge,"",function(Ie){return Ie})):me!=null&&(B(me)&&(me=O(me,ge+(!me.key||we&&we.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+D)),Z.push(me)),1;if(we=0,pe=pe===""?".":pe+":",A(D))for(var xe=0;xe<D.length;xe++){Ae=D[xe];var Se=pe+V(Ae,xe);we+=P(Ae,Z,ge,Se,me)}else if(Se=w(D),typeof Se=="function")for(D=Se.call(D),xe=0;!(Ae=D.next()).done;)Ae=Ae.value,Se=pe+V(Ae,xe++),we+=P(Ae,Z,ge,Se,me);else if(Ae==="object")throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return we}function U(D,Z,ge){if(D==null)return D;var pe=[],me=0;return P(D,pe,"","",function(Ae){return Z.call(ge,Ae,me++)}),pe}function X(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(ge){(D._status===0||D._status===-1)&&(D._status=1,D._result=ge)},function(ge){(D._status===0||D._status===-1)&&(D._status=2,D._result=ge)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var J={current:null},ee={transition:null},q={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:ee,ReactCurrentOwner:L};function oe(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:U,forEach:function(D,Z,ge){U(D,function(){Z.apply(this,arguments)},ge)},count:function(D){var Z=0;return U(D,function(){Z++}),Z},toArray:function(D){return U(D,function(Z){return Z})||[]},only:function(D){if(!B(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},rt.Component=x,rt.Fragment=n,rt.Profiler=o,rt.PureComponent=k,rt.StrictMode=r,rt.Suspense=u,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,rt.act=oe,rt.cloneElement=function(D,Z,ge){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var pe=b({},D.props),me=D.key,Ae=D.ref,we=D._owner;if(Z!=null){if(Z.ref!==void 0&&(Ae=Z.ref,we=L.current),Z.key!==void 0&&(me=""+Z.key),D.type&&D.type.defaultProps)var xe=D.type.defaultProps;for(Se in Z)I.call(Z,Se)&&!z.hasOwnProperty(Se)&&(pe[Se]=Z[Se]===void 0&&xe!==void 0?xe[Se]:Z[Se])}var Se=arguments.length-2;if(Se===1)pe.children=ge;else if(1<Se){xe=Array(Se);for(var Ie=0;Ie<Se;Ie++)xe[Ie]=arguments[Ie+2];pe.children=xe}return{$$typeof:e,type:D.type,key:me,ref:Ae,props:pe,_owner:we}},rt.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:i,_context:D},D.Consumer=D},rt.createElement=$,rt.createFactory=function(D){var Z=$.bind(null,D);return Z.type=D,Z},rt.createRef=function(){return{current:null}},rt.forwardRef=function(D){return{$$typeof:c,render:D}},rt.isValidElement=B,rt.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:X}},rt.memo=function(D,Z){return{$$typeof:f,type:D,compare:Z===void 0?null:Z}},rt.startTransition=function(D){var Z=ee.transition;ee.transition={};try{D()}finally{ee.transition=Z}},rt.unstable_act=oe,rt.useCallback=function(D,Z){return J.current.useCallback(D,Z)},rt.useContext=function(D){return J.current.useContext(D)},rt.useDebugValue=function(){},rt.useDeferredValue=function(D){return J.current.useDeferredValue(D)},rt.useEffect=function(D,Z){return J.current.useEffect(D,Z)},rt.useId=function(){return J.current.useId()},rt.useImperativeHandle=function(D,Z,ge){return J.current.useImperativeHandle(D,Z,ge)},rt.useInsertionEffect=function(D,Z){return J.current.useInsertionEffect(D,Z)},rt.useLayoutEffect=function(D,Z){return J.current.useLayoutEffect(D,Z)},rt.useMemo=function(D,Z){return J.current.useMemo(D,Z)},rt.useReducer=function(D,Z,ge){return J.current.useReducer(D,Z,ge)},rt.useRef=function(D){return J.current.useRef(D)},rt.useState=function(D){return J.current.useState(D)},rt.useSyncExternalStore=function(D,Z,ge){return J.current.useSyncExternalStore(D,Z,ge)},rt.useTransition=function(){return J.current.useTransition()},rt.version="18.3.1",rt}var Vx;function Jd(){return Vx||(Vx=1,Mp.exports=T4()),Mp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function P4(){if(Zx)return Il;Zx=1;var e=Jd(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,f){var p,h={},w=null,y=null;f!==void 0&&(w=""+f),u.key!==void 0&&(w=""+u.key),u.ref!==void 0&&(y=u.ref);for(p in u)r.call(u,p)&&!i.hasOwnProperty(p)&&(h[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)h[p]===void 0&&(h[p]=u[p]);return{$$typeof:t,type:c,key:w,ref:y,props:h,_owner:o.current}}return Il.Fragment=n,Il.jsx=l,Il.jsxs=l,Il}var qx;function R4(){return qx||(qx=1,Op.exports=P4()),Op.exports}var m=R4(),qu={},Lp={exports:{}},Sn={},Dp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function A4(){return Kx||(Kx=1,function(e){function t(ee,q){var oe=ee.length;ee.push(q);e:for(;0<oe;){var D=oe-1>>>1,Z=ee[D];if(0<o(Z,q))ee[D]=q,ee[oe]=Z,oe=D;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var q=ee[0],oe=ee.pop();if(oe!==q){ee[0]=oe;e:for(var D=0,Z=ee.length,ge=Z>>>1;D<ge;){var pe=2*(D+1)-1,me=ee[pe],Ae=pe+1,we=ee[Ae];if(0>o(me,oe))Ae<Z&&0>o(we,me)?(ee[D]=we,ee[Ae]=oe,D=Ae):(ee[D]=me,ee[pe]=oe,D=pe);else if(Ae<Z&&0>o(we,oe))ee[D]=we,ee[Ae]=oe,D=Ae;else break e}}return q}function o(ee,q){var oe=ee.sortIndex-q.sortIndex;return oe!==0?oe:ee.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var u=[],f=[],p=1,h=null,w=3,y=!1,b=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(ee){for(var q=n(f);q!==null;){if(q.callback===null)r(f);else if(q.startTime<=ee)r(f),q.sortIndex=q.expirationTime,t(u,q);else break;q=n(f)}}function A(ee){if(g=!1,C(ee),!b)if(n(u)!==null)b=!0,X(I);else{var q=n(f);q!==null&&J(A,q.startTime-ee)}}function I(ee,q){b=!1,g&&(g=!1,E($),$=-1),y=!0;var oe=w;try{for(C(q),h=n(u);h!==null&&(!(h.expirationTime>q)||ee&&!W());){var D=h.callback;if(typeof D=="function"){h.callback=null,w=h.priorityLevel;var Z=D(h.expirationTime<=q);q=e.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(u)&&r(u),C(q)}else r(u);h=n(u)}if(h!==null)var ge=!0;else{var pe=n(f);pe!==null&&J(A,pe.startTime-q),ge=!1}return ge}finally{h=null,w=oe,y=!1}}var L=!1,z=null,$=-1,O=5,B=-1;function W(){return!(e.unstable_now()-B<O)}function M(){if(z!==null){var ee=e.unstable_now();B=ee;var q=!0;try{q=z(!0,ee)}finally{q?V():(L=!1,z=null)}}else L=!1}var V;if(typeof k=="function")V=function(){k(M)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,U=P.port2;P.port1.onmessage=M,V=function(){U.postMessage(null)}}else V=function(){x(M,0)};function X(ee){z=ee,L||(L=!0,V())}function J(ee,q){$=x(function(){ee(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,X(I))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ee){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var oe=w;w=q;try{return ee()}finally{w=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,q){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var oe=w;w=ee;try{return q()}finally{w=oe}},e.unstable_scheduleCallback=function(ee,q,oe){var D=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?D+oe:D):oe=D,ee){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=oe+Z,ee={id:p++,callback:q,priorityLevel:ee,startTime:oe,expirationTime:Z,sortIndex:-1},oe>D?(ee.sortIndex=oe,t(f,ee),n(u)===null&&ee===n(f)&&(g?(E($),$=-1):g=!0,J(A,oe-D))):(ee.sortIndex=Z,t(u,ee),b||y||(b=!0,X(I))),ee},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(ee){var q=w;return function(){var oe=w;w=q;try{return ee.apply(this,arguments)}finally{w=oe}}}}(zp)),zp}var Gx;function I4(){return Gx||(Gx=1,Dp.exports=A4()),Dp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function j4(){if(Yx)return Sn;Yx=1;var e=Jd(),t=I4();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(o[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function w(s){return u.call(h,s)?!0:u.call(p,s)?!1:f.test(s)?h[s]=!0:(p[s]=!0,!1)}function y(s,a,d,v){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return v?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,a,d,v){if(a===null||typeof a>"u"||y(s,a,d,v))return!0;if(v)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function g(s,a,d,v,S,T,F){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=T,this.removeEmptyString=F}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new g(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];x[a]=new g(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new g(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new g(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new g(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new g(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new g(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new g(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new g(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(E,k);x[a]=new g(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(E,k);x[a]=new g(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(E,k);x[a]=new g(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new g(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new g(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,a,d,v){var S=x.hasOwnProperty(a)?x[a]:null;(S!==null?S.type!==0:v||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,d,S,v)&&(d=null),v||S===null?w(a)&&(d===null?s.removeAttribute(a):s.setAttribute(a,""+d)):S.mustUseProperty?s[S.propertyName]=d===null?S.type===3?!1:"":d:(a=S.attributeName,v=S.attributeNamespace,d===null?s.removeAttribute(a):(S=S.type,d=S===3||S===4&&d===!0?"":""+d,v?s.setAttributeNS(v,a,d):s.setAttribute(a,d))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),W=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ee=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=ee&&s[ee]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,D;function Z(s){if(D===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);D=a&&a[1]||""}return`
`+D+s}var ge=!1;function pe(s,a){if(!s||ge)return"";ge=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(fe){var v=fe}Reflect.construct(s,[],a)}else{try{a.call()}catch(fe){v=fe}s.call(a.prototype)}else{try{throw Error()}catch(fe){v=fe}s()}}catch(fe){if(fe&&v&&typeof fe.stack=="string"){for(var S=fe.stack.split(`
`),T=v.stack.split(`
`),F=S.length-1,Q=T.length-1;1<=F&&0<=Q&&S[F]!==T[Q];)Q--;for(;1<=F&&0<=Q;F--,Q--)if(S[F]!==T[Q]){if(F!==1||Q!==1)do if(F--,Q--,0>Q||S[F]!==T[Q]){var ne=`
`+S[F].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=F&&0<=Q);break}}}finally{ge=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?Z(s):""}function me(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=pe(s.type,!1),s;case 11:return s=pe(s.type.render,!1),s;case 1:return s=pe(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case L:return"Portal";case O:return"Profiler";case $:return"StrictMode";case V:return"Suspense";case P:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case W:return(s.displayName||"Context")+".Consumer";case B:return(s._context.displayName||"Context")+".Provider";case M:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return a=s.displayName||null,a!==null?a:Ae(s.type)||"Memo";case X:a=s._payload,s=s._init;try{return Ae(s(a))}catch{}}return null}function we(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(a);case 8:return a===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function xe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Se(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ie(s){var a=Se(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),v=""+s[a];if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var S=d.get,T=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return S.call(this)},set:function(F){v=""+F,T.call(this,F)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return v},setValue:function(F){v=""+F},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ue(s){s._valueTracker||(s._valueTracker=Ie(s))}function qe(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var d=a.getValue(),v="";return s&&(v=Se(s)?s.checked?"true":"false":s.value),s=v,s!==d?(a.setValue(s),!0):!1}function Ye(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function j(s,a){var d=a.checked;return oe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function ye(s,a){var d=a.defaultValue==null?"":a.defaultValue,v=a.checked!=null?a.checked:a.defaultChecked;d=xe(a.value!=null?a.value:d),s._wrapperState={initialChecked:v,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function de(s,a){a=a.checked,a!=null&&C(s,"checked",a,!1)}function Y(s,a){de(s,a);var d=xe(a.value),v=a.type;if(d!=null)v==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ie(s,a.type,d):a.hasOwnProperty("defaultValue")&&ie(s,a.type,xe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function G(s,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var v=a.type;if(!(v!=="submit"&&v!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,d||a===s.value||(s.value=a),s.defaultValue=a}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function ie(s,a,d){(a!=="number"||Ye(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var be=Array.isArray;function Ee(s,a,d,v){if(s=s.options,a){a={};for(var S=0;S<d.length;S++)a["$"+d[S]]=!0;for(d=0;d<s.length;d++)S=a.hasOwnProperty("$"+s[d].value),s[d].selected!==S&&(s[d].selected=S),S&&v&&(s[d].defaultSelected=!0)}else{for(d=""+xe(d),a=null,S=0;S<s.length;S++){if(s[S].value===d){s[S].selected=!0,v&&(s[S].defaultSelected=!0);return}a!==null||s[S].disabled||(a=s[S])}a!==null&&(a.selected=!0)}}function ae(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Te(s,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(be(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}s._wrapperState={initialValue:xe(d)}}function Le(s,a){var d=xe(a.value),v=xe(a.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),a.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),v!=null&&(s.defaultValue=""+v)}function Ne(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Ze(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Ze(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var N,R=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,v,S){MSApp.execUnsafeLocalFunction(function(){return s(a,d,v,S)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(N=N||document.createElement("div"),N.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=N.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function K(s,a){if(a){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=a;return}}s.textContent=a}var re={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ue=["Webkit","ms","Moz","O"];Object.keys(re).forEach(function(s){ue.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),re[a]=re[s]})});function he(s,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||re.hasOwnProperty(s)&&re[s]?(""+a).trim():a+"px"}function Xe(s,a){s=s.style;for(var d in a)if(a.hasOwnProperty(d)){var v=d.indexOf("--")===0,S=he(d,a[d],v);d==="float"&&(d="cssFloat"),v?s.setProperty(d,S):s[d]=S}}var yt=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nt(s,a){if(a){if(yt[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function pt(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var at=null;function Ka(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ga=null,qr=null,Un=null;function As(s){if(s=yl(s)){if(typeof Ga!="function")throw Error(n(280));var a=s.stateNode;a&&(a=iu(a),Ga(s.stateNode,s.type,a))}}function a0(s){qr?Un?Un.push(s):Un=[s]:qr=s}function l0(){if(qr){var s=qr,a=Un;if(Un=qr=null,As(s),a)for(s=0;s<a.length;s++)As(a[s])}}function c0(s,a){return s(a)}function u0(){}var Yf=!1;function d0(s,a,d){if(Yf)return s(a,d);Yf=!0;try{return c0(s,a,d)}finally{Yf=!1,(qr!==null||Un!==null)&&(u0(),l0())}}function Ya(s,a){var d=s.stateNode;if(d===null)return null;var v=iu(d);if(v===null)return null;d=v[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Jf=!1;if(c)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){Jf=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{Jf=!1}function AR(s,a,d,v,S,T,F,Q,ne){var fe=Array.prototype.slice.call(arguments,3);try{a.apply(d,fe)}catch(ke){this.onError(ke)}}var Qa=!1,zc=null,Bc=!1,Qf=null,IR={onError:function(s){Qa=!0,zc=s}};function jR(s,a,d,v,S,T,F,Q,ne){Qa=!1,zc=null,AR.apply(IR,arguments)}function OR(s,a,d,v,S,T,F,Q,ne){if(jR.apply(this,arguments),Qa){if(Qa){var fe=zc;Qa=!1,zc=null}else throw Error(n(198));Bc||(Bc=!0,Qf=fe)}}function Is(s){var a=s,d=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(d=a.return),s=a.return;while(s)}return a.tag===3?d:null}function f0(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h0(s){if(Is(s)!==s)throw Error(n(188))}function MR(s){var a=s.alternate;if(!a){if(a=Is(s),a===null)throw Error(n(188));return a!==s?null:s}for(var d=s,v=a;;){var S=d.return;if(S===null)break;var T=S.alternate;if(T===null){if(v=S.return,v!==null){d=v;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===d)return h0(S),s;if(T===v)return h0(S),a;T=T.sibling}throw Error(n(188))}if(d.return!==v.return)d=S,v=T;else{for(var F=!1,Q=S.child;Q;){if(Q===d){F=!0,d=S,v=T;break}if(Q===v){F=!0,v=S,d=T;break}Q=Q.sibling}if(!F){for(Q=T.child;Q;){if(Q===d){F=!0,d=T,v=S;break}if(Q===v){F=!0,v=T,d=S;break}Q=Q.sibling}if(!F)throw Error(n(189))}}if(d.alternate!==v)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:a}function p0(s){return s=MR(s),s!==null?m0(s):null}function m0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=m0(s);if(a!==null)return a;s=s.sibling}return null}var g0=t.unstable_scheduleCallback,y0=t.unstable_cancelCallback,LR=t.unstable_shouldYield,DR=t.unstable_requestPaint,Dt=t.unstable_now,zR=t.unstable_getCurrentPriorityLevel,Xf=t.unstable_ImmediatePriority,v0=t.unstable_UserBlockingPriority,Fc=t.unstable_NormalPriority,BR=t.unstable_LowPriority,w0=t.unstable_IdlePriority,$c=null,kr=null;function FR(s){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot($c,s,void 0,(s.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:HR,$R=Math.log,UR=Math.LN2;function HR(s){return s>>>=0,s===0?32:31-($R(s)/UR|0)|0}var Uc=64,Hc=4194304;function Xa(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Wc(s,a){var d=s.pendingLanes;if(d===0)return 0;var v=0,S=s.suspendedLanes,T=s.pingedLanes,F=d&268435455;if(F!==0){var Q=F&~S;Q!==0?v=Xa(Q):(T&=F,T!==0&&(v=Xa(T)))}else F=d&~S,F!==0?v=Xa(F):T!==0&&(v=Xa(T));if(v===0)return 0;if(a!==0&&a!==v&&(a&S)===0&&(S=v&-v,T=a&-a,S>=T||S===16&&(T&4194240)!==0))return a;if((v&4)!==0&&(v|=d&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=v;0<a;)d=31-ar(a),S=1<<d,v|=s[d],a&=~S;return v}function WR(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VR(s,a){for(var d=s.suspendedLanes,v=s.pingedLanes,S=s.expirationTimes,T=s.pendingLanes;0<T;){var F=31-ar(T),Q=1<<F,ne=S[F];ne===-1?((Q&d)===0||(Q&v)!==0)&&(S[F]=WR(Q,a)):ne<=a&&(s.expiredLanes|=Q),T&=~Q}}function eh(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function x0(){var s=Uc;return Uc<<=1,(Uc&4194240)===0&&(Uc=64),s}function th(s){for(var a=[],d=0;31>d;d++)a.push(s);return a}function el(s,a,d){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-ar(a),s[a]=d}function ZR(s,a){var d=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<d;){var S=31-ar(d),T=1<<S;a[S]=0,v[S]=-1,s[S]=-1,d&=~T}}function nh(s,a){var d=s.entangledLanes|=a;for(s=s.entanglements;d;){var v=31-ar(d),S=1<<v;S&a|s[v]&a&&(s[v]|=a),d&=~S}}var mt=0;function b0(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var E0,rh,_0,S0,k0,oh=!1,Vc=[],ko=null,Co=null,No=null,tl=new Map,nl=new Map,To=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C0(s,a){switch(s){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":tl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(a.pointerId)}}function rl(s,a,d,v,S,T){return s===null||s.nativeEvent!==T?(s={blockedOn:a,domEventName:d,eventSystemFlags:v,nativeEvent:T,targetContainers:[S]},a!==null&&(a=yl(a),a!==null&&rh(a)),s):(s.eventSystemFlags|=v,a=s.targetContainers,S!==null&&a.indexOf(S)===-1&&a.push(S),s)}function KR(s,a,d,v,S){switch(a){case"focusin":return ko=rl(ko,s,a,d,v,S),!0;case"dragenter":return Co=rl(Co,s,a,d,v,S),!0;case"mouseover":return No=rl(No,s,a,d,v,S),!0;case"pointerover":var T=S.pointerId;return tl.set(T,rl(tl.get(T)||null,s,a,d,v,S)),!0;case"gotpointercapture":return T=S.pointerId,nl.set(T,rl(nl.get(T)||null,s,a,d,v,S)),!0}return!1}function N0(s){var a=js(s.target);if(a!==null){var d=Is(a);if(d!==null){if(a=d.tag,a===13){if(a=f0(d),a!==null){s.blockedOn=a,k0(s.priority,function(){_0(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var d=ih(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var v=new d.constructor(d.type,d);at=v,d.target.dispatchEvent(v),at=null}else return a=yl(d),a!==null&&rh(a),s.blockedOn=d,!1;a.shift()}return!0}function T0(s,a,d){Zc(s)&&d.delete(a)}function GR(){oh=!1,ko!==null&&Zc(ko)&&(ko=null),Co!==null&&Zc(Co)&&(Co=null),No!==null&&Zc(No)&&(No=null),tl.forEach(T0),nl.forEach(T0)}function ol(s,a){s.blockedOn===a&&(s.blockedOn=null,oh||(oh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GR)))}function sl(s){function a(S){return ol(S,s)}if(0<Vc.length){ol(Vc[0],s);for(var d=1;d<Vc.length;d++){var v=Vc[d];v.blockedOn===s&&(v.blockedOn=null)}}for(ko!==null&&ol(ko,s),Co!==null&&ol(Co,s),No!==null&&ol(No,s),tl.forEach(a),nl.forEach(a),d=0;d<To.length;d++)v=To[d],v.blockedOn===s&&(v.blockedOn=null);for(;0<To.length&&(d=To[0],d.blockedOn===null);)N0(d),d.blockedOn===null&&To.shift()}var ki=A.ReactCurrentBatchConfig,qc=!0;function YR(s,a,d,v){var S=mt,T=ki.transition;ki.transition=null;try{mt=1,sh(s,a,d,v)}finally{mt=S,ki.transition=T}}function JR(s,a,d,v){var S=mt,T=ki.transition;ki.transition=null;try{mt=4,sh(s,a,d,v)}finally{mt=S,ki.transition=T}}function sh(s,a,d,v){if(qc){var S=ih(s,a,d,v);if(S===null)_h(s,a,v,Kc,d),C0(s,v);else if(KR(S,s,a,d,v))v.stopPropagation();else if(C0(s,v),a&4&&-1<qR.indexOf(s)){for(;S!==null;){var T=yl(S);if(T!==null&&E0(T),T=ih(s,a,d,v),T===null&&_h(s,a,v,Kc,d),T===S)break;S=T}S!==null&&v.stopPropagation()}else _h(s,a,v,null,d)}}var Kc=null;function ih(s,a,d,v){if(Kc=null,s=Ka(v),s=js(s),s!==null)if(a=Is(s),a===null)s=null;else if(d=a.tag,d===13){if(s=f0(a),s!==null)return s;s=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Kc=s,null}function P0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zR()){case Xf:return 1;case v0:return 4;case Fc:case BR:return 16;case w0:return 536870912;default:return 16}default:return 16}}var Po=null,ah=null,Gc=null;function R0(){if(Gc)return Gc;var s,a=ah,d=a.length,v,S="value"in Po?Po.value:Po.textContent,T=S.length;for(s=0;s<d&&a[s]===S[s];s++);var F=d-s;for(v=1;v<=F&&a[d-v]===S[T-v];v++);return Gc=S.slice(s,1<v?1-v:void 0)}function Yc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Jc(){return!0}function A0(){return!1}function jn(s){function a(d,v,S,T,F){this._reactName=d,this._targetInst=S,this.type=v,this.nativeEvent=T,this.target=F,this.currentTarget=null;for(var Q in s)s.hasOwnProperty(Q)&&(d=s[Q],this[Q]=d?d(T):T[Q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Jc:A0,this.isPropagationStopped=A0,this}return oe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),a}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lh=jn(Ci),il=oe({},Ci,{view:0,detail:0}),QR=jn(il),ch,uh,al,Qc=oe({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==al&&(al&&s.type==="mousemove"?(ch=s.screenX-al.screenX,uh=s.screenY-al.screenY):uh=ch=0,al=s),ch)},movementY:function(s){return"movementY"in s?s.movementY:uh}}),I0=jn(Qc),XR=oe({},Qc,{dataTransfer:0}),eA=jn(XR),tA=oe({},il,{relatedTarget:0}),dh=jn(tA),nA=oe({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),rA=jn(nA),oA=oe({},Ci,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),sA=jn(oA),iA=oe({},Ci,{data:0}),j0=jn(iA),aA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uA(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=cA[s])?!!a[s]:!1}function fh(){return uA}var dA=oe({},il,{key:function(s){if(s.key){var a=aA[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Yc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?lA[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fh,charCode:function(s){return s.type==="keypress"?Yc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Yc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fA=jn(dA),hA=oe({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O0=jn(hA),pA=oe({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fh}),mA=jn(pA),gA=oe({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),yA=jn(gA),vA=oe({},Qc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),wA=jn(vA),xA=[9,13,27,32],hh=c&&"CompositionEvent"in window,ll=null;c&&"documentMode"in document&&(ll=document.documentMode);var bA=c&&"TextEvent"in window&&!ll,M0=c&&(!hh||ll&&8<ll&&11>=ll),L0=" ",D0=!1;function z0(s,a){switch(s){case"keyup":return xA.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ni=!1;function EA(s,a){switch(s){case"compositionend":return B0(a);case"keypress":return a.which!==32?null:(D0=!0,L0);case"textInput":return s=a.data,s===L0&&D0?null:s;default:return null}}function _A(s,a){if(Ni)return s==="compositionend"||!hh&&z0(s,a)?(s=R0(),Gc=ah=Po=null,Ni=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return M0&&a.locale!=="ko"?null:a.data;default:return null}}var SA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!SA[s.type]:a==="textarea"}function $0(s,a,d,v){a0(v),a=ru(a,"onChange"),0<a.length&&(d=new lh("onChange","change",null,d,v),s.push({event:d,listeners:a}))}var cl=null,ul=null;function kA(s){sw(s,0)}function Xc(s){var a=Ii(s);if(qe(a))return s}function CA(s,a){if(s==="change")return a}var U0=!1;if(c){var ph;if(c){var mh="oninput"in document;if(!mh){var H0=document.createElement("div");H0.setAttribute("oninput","return;"),mh=typeof H0.oninput=="function"}ph=mh}else ph=!1;U0=ph&&(!document.documentMode||9<document.documentMode)}function W0(){cl&&(cl.detachEvent("onpropertychange",V0),ul=cl=null)}function V0(s){if(s.propertyName==="value"&&Xc(ul)){var a=[];$0(a,ul,s,Ka(s)),d0(kA,a)}}function NA(s,a,d){s==="focusin"?(W0(),cl=a,ul=d,cl.attachEvent("onpropertychange",V0)):s==="focusout"&&W0()}function TA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xc(ul)}function PA(s,a){if(s==="click")return Xc(a)}function RA(s,a){if(s==="input"||s==="change")return Xc(a)}function AA(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var lr=typeof Object.is=="function"?Object.is:AA;function dl(s,a){if(lr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var d=Object.keys(s),v=Object.keys(a);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var S=d[v];if(!u.call(a,S)||!lr(s[S],a[S]))return!1}return!0}function Z0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function q0(s,a){var d=Z0(s);s=0;for(var v;d;){if(d.nodeType===3){if(v=s+d.textContent.length,s<=a&&v>=a)return{node:d,offset:a-s};s=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Z0(d)}}function K0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?K0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function G0(){for(var s=window,a=Ye();a instanceof s.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)s=a.contentWindow;else break;a=Ye(s.document)}return a}function gh(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function IA(s){var a=G0(),d=s.focusedElem,v=s.selectionRange;if(a!==d&&d&&d.ownerDocument&&K0(d.ownerDocument.documentElement,d)){if(v!==null&&gh(d)){if(a=v.start,s=v.end,s===void 0&&(s=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(s,d.value.length);else if(s=(a=d.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var S=d.textContent.length,T=Math.min(v.start,S);v=v.end===void 0?T:Math.min(v.end,S),!s.extend&&T>v&&(S=v,v=T,T=S),S=q0(d,T);var F=q0(d,v);S&&F&&(s.rangeCount!==1||s.anchorNode!==S.node||s.anchorOffset!==S.offset||s.focusNode!==F.node||s.focusOffset!==F.offset)&&(a=a.createRange(),a.setStart(S.node,S.offset),s.removeAllRanges(),T>v?(s.addRange(a),s.extend(F.node,F.offset)):(a.setEnd(F.node,F.offset),s.addRange(a)))}}for(a=[],s=d;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)s=a[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jA=c&&"documentMode"in document&&11>=document.documentMode,Ti=null,yh=null,fl=null,vh=!1;function Y0(s,a,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;vh||Ti==null||Ti!==Ye(v)||(v=Ti,"selectionStart"in v&&gh(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),fl&&dl(fl,v)||(fl=v,v=ru(yh,"onSelect"),0<v.length&&(a=new lh("onSelect","select",null,a,d),s.push({event:a,listeners:v}),a.target=Ti)))}function eu(s,a){var d={};return d[s.toLowerCase()]=a.toLowerCase(),d["Webkit"+s]="webkit"+a,d["Moz"+s]="moz"+a,d}var Pi={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},wh={},J0={};c&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function tu(s){if(wh[s])return wh[s];if(!Pi[s])return s;var a=Pi[s],d;for(d in a)if(a.hasOwnProperty(d)&&d in J0)return wh[s]=a[d];return s}var Q0=tu("animationend"),X0=tu("animationiteration"),ew=tu("animationstart"),tw=tu("transitionend"),nw=new Map,rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(s,a){nw.set(s,a),i(a,[s])}for(var xh=0;xh<rw.length;xh++){var bh=rw[xh],OA=bh.toLowerCase(),MA=bh[0].toUpperCase()+bh.slice(1);Ro(OA,"on"+MA)}Ro(Q0,"onAnimationEnd"),Ro(X0,"onAnimationIteration"),Ro(ew,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(tw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LA=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function ow(s,a,d){var v=s.type||"unknown-event";s.currentTarget=d,OR(v,a,void 0,s),s.currentTarget=null}function sw(s,a){a=(a&4)!==0;for(var d=0;d<s.length;d++){var v=s[d],S=v.event;v=v.listeners;e:{var T=void 0;if(a)for(var F=v.length-1;0<=F;F--){var Q=v[F],ne=Q.instance,fe=Q.currentTarget;if(Q=Q.listener,ne!==T&&S.isPropagationStopped())break e;ow(S,Q,fe),T=ne}else for(F=0;F<v.length;F++){if(Q=v[F],ne=Q.instance,fe=Q.currentTarget,Q=Q.listener,ne!==T&&S.isPropagationStopped())break e;ow(S,Q,fe),T=ne}}}if(Bc)throw s=Qf,Bc=!1,Qf=null,s}function xt(s,a){var d=a[Ph];d===void 0&&(d=a[Ph]=new Set);var v=s+"__bubble";d.has(v)||(iw(a,s,2,!1),d.add(v))}function Eh(s,a,d){var v=0;a&&(v|=4),iw(d,s,v,a)}var nu="_reactListening"+Math.random().toString(36).slice(2);function pl(s){if(!s[nu]){s[nu]=!0,r.forEach(function(d){d!=="selectionchange"&&(LA.has(d)||Eh(d,!1,s),Eh(d,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[nu]||(a[nu]=!0,Eh("selectionchange",!1,a))}}function iw(s,a,d,v){switch(P0(a)){case 1:var S=YR;break;case 4:S=JR;break;default:S=sh}d=S.bind(null,a,d,s),S=void 0,!Jf||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(S=!0),v?S!==void 0?s.addEventListener(a,d,{capture:!0,passive:S}):s.addEventListener(a,d,!0):S!==void 0?s.addEventListener(a,d,{passive:S}):s.addEventListener(a,d,!1)}function _h(s,a,d,v,S){var T=v;if((a&1)===0&&(a&2)===0&&v!==null)e:for(;;){if(v===null)return;var F=v.tag;if(F===3||F===4){var Q=v.stateNode.containerInfo;if(Q===S||Q.nodeType===8&&Q.parentNode===S)break;if(F===4)for(F=v.return;F!==null;){var ne=F.tag;if((ne===3||ne===4)&&(ne=F.stateNode.containerInfo,ne===S||ne.nodeType===8&&ne.parentNode===S))return;F=F.return}for(;Q!==null;){if(F=js(Q),F===null)return;if(ne=F.tag,ne===5||ne===6){v=T=F;continue e}Q=Q.parentNode}}v=v.return}d0(function(){var fe=T,ke=Ka(d),Ce=[];e:{var _e=nw.get(s);if(_e!==void 0){var De=lh,Fe=s;switch(s){case"keypress":if(Yc(d)===0)break e;case"keydown":case"keyup":De=fA;break;case"focusin":Fe="focus",De=dh;break;case"focusout":Fe="blur",De=dh;break;case"beforeblur":case"afterblur":De=dh;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=eA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=mA;break;case Q0:case X0:case ew:De=rA;break;case tw:De=yA;break;case"scroll":De=QR;break;case"wheel":De=wA;break;case"copy":case"cut":case"paste":De=sA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=O0}var $e=(a&4)!==0,zt=!$e&&s==="scroll",le=$e?_e!==null?_e+"Capture":null:_e;$e=[];for(var se=fe,ce;se!==null;){ce=se;var Re=ce.stateNode;if(ce.tag===5&&Re!==null&&(ce=Re,le!==null&&(Re=Ya(se,le),Re!=null&&$e.push(ml(se,Re,ce)))),zt)break;se=se.return}0<$e.length&&(_e=new De(_e,Fe,null,d,ke),Ce.push({event:_e,listeners:$e}))}}if((a&7)===0){e:{if(_e=s==="mouseover"||s==="pointerover",De=s==="mouseout"||s==="pointerout",_e&&d!==at&&(Fe=d.relatedTarget||d.fromElement)&&(js(Fe)||Fe[Kr]))break e;if((De||_e)&&(_e=ke.window===ke?ke:(_e=ke.ownerDocument)?_e.defaultView||_e.parentWindow:window,De?(Fe=d.relatedTarget||d.toElement,De=fe,Fe=Fe?js(Fe):null,Fe!==null&&(zt=Is(Fe),Fe!==zt||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(De=null,Fe=fe),De!==Fe)){if($e=I0,Re="onMouseLeave",le="onMouseEnter",se="mouse",(s==="pointerout"||s==="pointerover")&&($e=O0,Re="onPointerLeave",le="onPointerEnter",se="pointer"),zt=De==null?_e:Ii(De),ce=Fe==null?_e:Ii(Fe),_e=new $e(Re,se+"leave",De,d,ke),_e.target=zt,_e.relatedTarget=ce,Re=null,js(ke)===fe&&($e=new $e(le,se+"enter",Fe,d,ke),$e.target=ce,$e.relatedTarget=zt,Re=$e),zt=Re,De&&Fe)t:{for($e=De,le=Fe,se=0,ce=$e;ce;ce=Ri(ce))se++;for(ce=0,Re=le;Re;Re=Ri(Re))ce++;for(;0<se-ce;)$e=Ri($e),se--;for(;0<ce-se;)le=Ri(le),ce--;for(;se--;){if($e===le||le!==null&&$e===le.alternate)break t;$e=Ri($e),le=Ri(le)}$e=null}else $e=null;De!==null&&aw(Ce,_e,De,$e,!1),Fe!==null&&zt!==null&&aw(Ce,zt,Fe,$e,!0)}}e:{if(_e=fe?Ii(fe):window,De=_e.nodeName&&_e.nodeName.toLowerCase(),De==="select"||De==="input"&&_e.type==="file")var He=CA;else if(F0(_e))if(U0)He=RA;else{He=TA;var Ke=NA}else(De=_e.nodeName)&&De.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(He=PA);if(He&&(He=He(s,fe))){$0(Ce,He,d,ke);break e}Ke&&Ke(s,_e,fe),s==="focusout"&&(Ke=_e._wrapperState)&&Ke.controlled&&_e.type==="number"&&ie(_e,"number",_e.value)}switch(Ke=fe?Ii(fe):window,s){case"focusin":(F0(Ke)||Ke.contentEditable==="true")&&(Ti=Ke,yh=fe,fl=null);break;case"focusout":fl=yh=Ti=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Y0(Ce,d,ke);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":Y0(Ce,d,ke)}var Ge;if(hh)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ni?z0(s,d)&&(Je="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Je="onCompositionStart");Je&&(M0&&d.locale!=="ko"&&(Ni||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ni&&(Ge=R0()):(Po=ke,ah="value"in Po?Po.value:Po.textContent,Ni=!0)),Ke=ru(fe,Je),0<Ke.length&&(Je=new j0(Je,s,null,d,ke),Ce.push({event:Je,listeners:Ke}),Ge?Je.data=Ge:(Ge=B0(d),Ge!==null&&(Je.data=Ge)))),(Ge=bA?EA(s,d):_A(s,d))&&(fe=ru(fe,"onBeforeInput"),0<fe.length&&(ke=new j0("onBeforeInput","beforeinput",null,d,ke),Ce.push({event:ke,listeners:fe}),ke.data=Ge))}sw(Ce,a)})}function ml(s,a,d){return{instance:s,listener:a,currentTarget:d}}function ru(s,a){for(var d=a+"Capture",v=[];s!==null;){var S=s,T=S.stateNode;S.tag===5&&T!==null&&(S=T,T=Ya(s,d),T!=null&&v.unshift(ml(s,T,S)),T=Ya(s,a),T!=null&&v.push(ml(s,T,S))),s=s.return}return v}function Ri(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function aw(s,a,d,v,S){for(var T=a._reactName,F=[];d!==null&&d!==v;){var Q=d,ne=Q.alternate,fe=Q.stateNode;if(ne!==null&&ne===v)break;Q.tag===5&&fe!==null&&(Q=fe,S?(ne=Ya(d,T),ne!=null&&F.unshift(ml(d,ne,Q))):S||(ne=Ya(d,T),ne!=null&&F.push(ml(d,ne,Q)))),d=d.return}F.length!==0&&s.push({event:a,listeners:F})}var DA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function lw(s){return(typeof s=="string"?s:""+s).replace(DA,`
`).replace(zA,"")}function ou(s,a,d){if(a=lw(a),lw(s)!==a&&d)throw Error(n(425))}function su(){}var Sh=null,kh=null;function Ch(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Nh=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,cw=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof cw<"u"?function(s){return cw.resolve(null).then(s).catch($A)}:Nh;function $A(s){setTimeout(function(){throw s})}function Th(s,a){var d=a,v=0;do{var S=d.nextSibling;if(s.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(v===0){s.removeChild(S),sl(a);return}v--}else d!=="$"&&d!=="$?"&&d!=="$!"||v++;d=S}while(d);sl(a)}function Ao(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function uw(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return s;a--}else d==="/$"&&a++}s=s.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Ai,gl="__reactProps$"+Ai,Kr="__reactContainer$"+Ai,Ph="__reactEvents$"+Ai,UA="__reactListeners$"+Ai,HA="__reactHandles$"+Ai;function js(s){var a=s[Cr];if(a)return a;for(var d=s.parentNode;d;){if(a=d[Kr]||d[Cr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(s=uw(s);s!==null;){if(d=s[Cr])return d;s=uw(s)}return a}s=d,d=s.parentNode}return null}function yl(s){return s=s[Cr]||s[Kr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ii(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function iu(s){return s[gl]||null}var Rh=[],ji=-1;function Io(s){return{current:s}}function bt(s){0>ji||(s.current=Rh[ji],Rh[ji]=null,ji--)}function wt(s,a){ji++,Rh[ji]=s.current,s.current=a}var jo={},tn=Io(jo),wn=Io(!1),Os=jo;function Oi(s,a){var d=s.type.contextTypes;if(!d)return jo;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===a)return v.__reactInternalMemoizedMaskedChildContext;var S={},T;for(T in d)S[T]=a[T];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=S),S}function xn(s){return s=s.childContextTypes,s!=null}function au(){bt(wn),bt(tn)}function dw(s,a,d){if(tn.current!==jo)throw Error(n(168));wt(tn,a),wt(wn,d)}function fw(s,a,d){var v=s.stateNode;if(a=a.childContextTypes,typeof v.getChildContext!="function")return d;v=v.getChildContext();for(var S in v)if(!(S in a))throw Error(n(108,we(s)||"Unknown",S));return oe({},d,v)}function lu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||jo,Os=tn.current,wt(tn,s),wt(wn,wn.current),!0}function hw(s,a,d){var v=s.stateNode;if(!v)throw Error(n(169));d?(s=fw(s,a,Os),v.__reactInternalMemoizedMergedChildContext=s,bt(wn),bt(tn),wt(tn,s)):bt(wn),wt(wn,d)}var Gr=null,cu=!1,Ah=!1;function pw(s){Gr===null?Gr=[s]:Gr.push(s)}function WA(s){cu=!0,pw(s)}function Oo(){if(!Ah&&Gr!==null){Ah=!0;var s=0,a=mt;try{var d=Gr;for(mt=1;s<d.length;s++){var v=d[s];do v=v(!0);while(v!==null)}Gr=null,cu=!1}catch(S){throw Gr!==null&&(Gr=Gr.slice(s+1)),g0(Xf,Oo),S}finally{mt=a,Ah=!1}}return null}var Mi=[],Li=0,uu=null,du=0,Hn=[],Wn=0,Ms=null,Yr=1,Jr="";function Ls(s,a){Mi[Li++]=du,Mi[Li++]=uu,uu=s,du=a}function mw(s,a,d){Hn[Wn++]=Yr,Hn[Wn++]=Jr,Hn[Wn++]=Ms,Ms=s;var v=Yr;s=Jr;var S=32-ar(v)-1;v&=~(1<<S),d+=1;var T=32-ar(a)+S;if(30<T){var F=S-S%5;T=(v&(1<<F)-1).toString(32),v>>=F,S-=F,Yr=1<<32-ar(a)+S|d<<S|v,Jr=T+s}else Yr=1<<T|d<<S|v,Jr=s}function Ih(s){s.return!==null&&(Ls(s,1),mw(s,1,0))}function jh(s){for(;s===uu;)uu=Mi[--Li],Mi[Li]=null,du=Mi[--Li],Mi[Li]=null;for(;s===Ms;)Ms=Hn[--Wn],Hn[Wn]=null,Jr=Hn[--Wn],Hn[Wn]=null,Yr=Hn[--Wn],Hn[Wn]=null}var On=null,Mn=null,St=!1,cr=null;function gw(s,a){var d=Kn(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=s,a=s.deletions,a===null?(s.deletions=[d],s.flags|=16):a.push(d)}function yw(s,a){switch(s.tag){case 5:var d=s.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,On=s,Mn=Ao(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,On=s,Mn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Ms!==null?{id:Yr,overflow:Jr}:null,s.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Kn(18,null,null,0),d.stateNode=a,d.return=s,s.child=d,On=s,Mn=null,!0):!1;default:return!1}}function Oh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Mh(s){if(St){var a=Mn;if(a){var d=a;if(!yw(s,a)){if(Oh(s))throw Error(n(418));a=Ao(d.nextSibling);var v=On;a&&yw(s,a)?gw(v,d):(s.flags=s.flags&-4097|2,St=!1,On=s)}}else{if(Oh(s))throw Error(n(418));s.flags=s.flags&-4097|2,St=!1,On=s}}}function vw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;On=s}function fu(s){if(s!==On)return!1;if(!St)return vw(s),St=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Ch(s.type,s.memoizedProps)),a&&(a=Mn)){if(Oh(s))throw ww(),Error(n(418));for(;a;)gw(s,a),a=Ao(a.nextSibling)}if(vw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(a===0){Mn=Ao(s.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}s=s.nextSibling}Mn=null}}else Mn=On?Ao(s.stateNode.nextSibling):null;return!0}function ww(){for(var s=Mn;s;)s=Ao(s.nextSibling)}function Di(){Mn=On=null,St=!1}function Lh(s){cr===null?cr=[s]:cr.push(s)}var VA=A.ReactCurrentBatchConfig;function vl(s,a,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var v=d.stateNode}if(!v)throw Error(n(147,s));var S=v,T=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===T?a.ref:(a=function(F){var Q=S.refs;F===null?delete Q[T]:Q[T]=F},a._stringRef=T,a)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function hu(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function xw(s){var a=s._init;return a(s._payload)}function bw(s){function a(le,se){if(s){var ce=le.deletions;ce===null?(le.deletions=[se],le.flags|=16):ce.push(se)}}function d(le,se){if(!s)return null;for(;se!==null;)a(le,se),se=se.sibling;return null}function v(le,se){for(le=new Map;se!==null;)se.key!==null?le.set(se.key,se):le.set(se.index,se),se=se.sibling;return le}function S(le,se){return le=Uo(le,se),le.index=0,le.sibling=null,le}function T(le,se,ce){return le.index=ce,s?(ce=le.alternate,ce!==null?(ce=ce.index,ce<se?(le.flags|=2,se):ce):(le.flags|=2,se)):(le.flags|=1048576,se)}function F(le){return s&&le.alternate===null&&(le.flags|=2),le}function Q(le,se,ce,Re){return se===null||se.tag!==6?(se=Np(ce,le.mode,Re),se.return=le,se):(se=S(se,ce),se.return=le,se)}function ne(le,se,ce,Re){var He=ce.type;return He===z?ke(le,se,ce.props.children,Re,ce.key):se!==null&&(se.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===X&&xw(He)===se.type)?(Re=S(se,ce.props),Re.ref=vl(le,se,ce),Re.return=le,Re):(Re=Du(ce.type,ce.key,ce.props,null,le.mode,Re),Re.ref=vl(le,se,ce),Re.return=le,Re)}function fe(le,se,ce,Re){return se===null||se.tag!==4||se.stateNode.containerInfo!==ce.containerInfo||se.stateNode.implementation!==ce.implementation?(se=Tp(ce,le.mode,Re),se.return=le,se):(se=S(se,ce.children||[]),se.return=le,se)}function ke(le,se,ce,Re,He){return se===null||se.tag!==7?(se=Ws(ce,le.mode,Re,He),se.return=le,se):(se=S(se,ce),se.return=le,se)}function Ce(le,se,ce){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Np(""+se,le.mode,ce),se.return=le,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case I:return ce=Du(se.type,se.key,se.props,null,le.mode,ce),ce.ref=vl(le,null,se),ce.return=le,ce;case L:return se=Tp(se,le.mode,ce),se.return=le,se;case X:var Re=se._init;return Ce(le,Re(se._payload),ce)}if(be(se)||q(se))return se=Ws(se,le.mode,ce,null),se.return=le,se;hu(le,se)}return null}function _e(le,se,ce,Re){var He=se!==null?se.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return He!==null?null:Q(le,se,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case I:return ce.key===He?ne(le,se,ce,Re):null;case L:return ce.key===He?fe(le,se,ce,Re):null;case X:return He=ce._init,_e(le,se,He(ce._payload),Re)}if(be(ce)||q(ce))return He!==null?null:ke(le,se,ce,Re,null);hu(le,ce)}return null}function De(le,se,ce,Re,He){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return le=le.get(ce)||null,Q(se,le,""+Re,He);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case I:return le=le.get(Re.key===null?ce:Re.key)||null,ne(se,le,Re,He);case L:return le=le.get(Re.key===null?ce:Re.key)||null,fe(se,le,Re,He);case X:var Ke=Re._init;return De(le,se,ce,Ke(Re._payload),He)}if(be(Re)||q(Re))return le=le.get(ce)||null,ke(se,le,Re,He,null);hu(se,Re)}return null}function Fe(le,se,ce,Re){for(var He=null,Ke=null,Ge=se,Je=se=0,Kt=null;Ge!==null&&Je<ce.length;Je++){Ge.index>Je?(Kt=Ge,Ge=null):Kt=Ge.sibling;var ct=_e(le,Ge,ce[Je],Re);if(ct===null){Ge===null&&(Ge=Kt);break}s&&Ge&&ct.alternate===null&&a(le,Ge),se=T(ct,se,Je),Ke===null?He=ct:Ke.sibling=ct,Ke=ct,Ge=Kt}if(Je===ce.length)return d(le,Ge),St&&Ls(le,Je),He;if(Ge===null){for(;Je<ce.length;Je++)Ge=Ce(le,ce[Je],Re),Ge!==null&&(se=T(Ge,se,Je),Ke===null?He=Ge:Ke.sibling=Ge,Ke=Ge);return St&&Ls(le,Je),He}for(Ge=v(le,Ge);Je<ce.length;Je++)Kt=De(Ge,le,Je,ce[Je],Re),Kt!==null&&(s&&Kt.alternate!==null&&Ge.delete(Kt.key===null?Je:Kt.key),se=T(Kt,se,Je),Ke===null?He=Kt:Ke.sibling=Kt,Ke=Kt);return s&&Ge.forEach(function(Ho){return a(le,Ho)}),St&&Ls(le,Je),He}function $e(le,se,ce,Re){var He=q(ce);if(typeof He!="function")throw Error(n(150));if(ce=He.call(ce),ce==null)throw Error(n(151));for(var Ke=He=null,Ge=se,Je=se=0,Kt=null,ct=ce.next();Ge!==null&&!ct.done;Je++,ct=ce.next()){Ge.index>Je?(Kt=Ge,Ge=null):Kt=Ge.sibling;var Ho=_e(le,Ge,ct.value,Re);if(Ho===null){Ge===null&&(Ge=Kt);break}s&&Ge&&Ho.alternate===null&&a(le,Ge),se=T(Ho,se,Je),Ke===null?He=Ho:Ke.sibling=Ho,Ke=Ho,Ge=Kt}if(ct.done)return d(le,Ge),St&&Ls(le,Je),He;if(Ge===null){for(;!ct.done;Je++,ct=ce.next())ct=Ce(le,ct.value,Re),ct!==null&&(se=T(ct,se,Je),Ke===null?He=ct:Ke.sibling=ct,Ke=ct);return St&&Ls(le,Je),He}for(Ge=v(le,Ge);!ct.done;Je++,ct=ce.next())ct=De(Ge,le,Je,ct.value,Re),ct!==null&&(s&&ct.alternate!==null&&Ge.delete(ct.key===null?Je:ct.key),se=T(ct,se,Je),Ke===null?He=ct:Ke.sibling=ct,Ke=ct);return s&&Ge.forEach(function(S4){return a(le,S4)}),St&&Ls(le,Je),He}function zt(le,se,ce,Re){if(typeof ce=="object"&&ce!==null&&ce.type===z&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case I:e:{for(var He=ce.key,Ke=se;Ke!==null;){if(Ke.key===He){if(He=ce.type,He===z){if(Ke.tag===7){d(le,Ke.sibling),se=S(Ke,ce.props.children),se.return=le,le=se;break e}}else if(Ke.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===X&&xw(He)===Ke.type){d(le,Ke.sibling),se=S(Ke,ce.props),se.ref=vl(le,Ke,ce),se.return=le,le=se;break e}d(le,Ke);break}else a(le,Ke);Ke=Ke.sibling}ce.type===z?(se=Ws(ce.props.children,le.mode,Re,ce.key),se.return=le,le=se):(Re=Du(ce.type,ce.key,ce.props,null,le.mode,Re),Re.ref=vl(le,se,ce),Re.return=le,le=Re)}return F(le);case L:e:{for(Ke=ce.key;se!==null;){if(se.key===Ke)if(se.tag===4&&se.stateNode.containerInfo===ce.containerInfo&&se.stateNode.implementation===ce.implementation){d(le,se.sibling),se=S(se,ce.children||[]),se.return=le,le=se;break e}else{d(le,se);break}else a(le,se);se=se.sibling}se=Tp(ce,le.mode,Re),se.return=le,le=se}return F(le);case X:return Ke=ce._init,zt(le,se,Ke(ce._payload),Re)}if(be(ce))return Fe(le,se,ce,Re);if(q(ce))return $e(le,se,ce,Re);hu(le,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,se!==null&&se.tag===6?(d(le,se.sibling),se=S(se,ce),se.return=le,le=se):(d(le,se),se=Np(ce,le.mode,Re),se.return=le,le=se),F(le)):d(le,se)}return zt}var zi=bw(!0),Ew=bw(!1),pu=Io(null),mu=null,Bi=null,Dh=null;function zh(){Dh=Bi=mu=null}function Bh(s){var a=pu.current;bt(pu),s._currentValue=a}function Fh(s,a,d){for(;s!==null;){var v=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,v!==null&&(v.childLanes|=a)):v!==null&&(v.childLanes&a)!==a&&(v.childLanes|=a),s===d)break;s=s.return}}function Fi(s,a){mu=s,Dh=Bi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(bn=!0),s.firstContext=null)}function Vn(s){var a=s._currentValue;if(Dh!==s)if(s={context:s,memoizedValue:a,next:null},Bi===null){if(mu===null)throw Error(n(308));Bi=s,mu.dependencies={lanes:0,firstContext:s}}else Bi=Bi.next=s;return a}var Ds=null;function $h(s){Ds===null?Ds=[s]:Ds.push(s)}function _w(s,a,d,v){var S=a.interleaved;return S===null?(d.next=d,$h(a)):(d.next=S.next,S.next=d),a.interleaved=d,Qr(s,v)}function Qr(s,a){s.lanes|=a;var d=s.alternate;for(d!==null&&(d.lanes|=a),d=s,s=s.return;s!==null;)s.childLanes|=a,d=s.alternate,d!==null&&(d.childLanes|=a),d=s,s=s.return;return d.tag===3?d.stateNode:null}var Mo=!1;function Uh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sw(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Xr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Lo(s,a,d){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(lt&2)!==0){var S=v.pending;return S===null?a.next=a:(a.next=S.next,S.next=a),v.pending=a,Qr(s,d)}return S=v.interleaved,S===null?(a.next=a,$h(v)):(a.next=S.next,S.next=a),v.interleaved=a,Qr(s,d)}function gu(s,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var v=a.lanes;v&=s.pendingLanes,d|=v,a.lanes=d,nh(s,d)}}function kw(s,a){var d=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var S=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var F={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?S=T=F:T=T.next=F,d=d.next}while(d!==null);T===null?S=T=a:T=T.next=a}else S=T=a;d={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:v.shared,effects:v.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=a:s.next=a,d.lastBaseUpdate=a}function yu(s,a,d,v){var S=s.updateQueue;Mo=!1;var T=S.firstBaseUpdate,F=S.lastBaseUpdate,Q=S.shared.pending;if(Q!==null){S.shared.pending=null;var ne=Q,fe=ne.next;ne.next=null,F===null?T=fe:F.next=fe,F=ne;var ke=s.alternate;ke!==null&&(ke=ke.updateQueue,Q=ke.lastBaseUpdate,Q!==F&&(Q===null?ke.firstBaseUpdate=fe:Q.next=fe,ke.lastBaseUpdate=ne))}if(T!==null){var Ce=S.baseState;F=0,ke=fe=ne=null,Q=T;do{var _e=Q.lane,De=Q.eventTime;if((v&_e)===_e){ke!==null&&(ke=ke.next={eventTime:De,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Fe=s,$e=Q;switch(_e=a,De=d,$e.tag){case 1:if(Fe=$e.payload,typeof Fe=="function"){Ce=Fe.call(De,Ce,_e);break e}Ce=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=$e.payload,_e=typeof Fe=="function"?Fe.call(De,Ce,_e):Fe,_e==null)break e;Ce=oe({},Ce,_e);break e;case 2:Mo=!0}}Q.callback!==null&&Q.lane!==0&&(s.flags|=64,_e=S.effects,_e===null?S.effects=[Q]:_e.push(Q))}else De={eventTime:De,lane:_e,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},ke===null?(fe=ke=De,ne=Ce):ke=ke.next=De,F|=_e;if(Q=Q.next,Q===null){if(Q=S.shared.pending,Q===null)break;_e=Q,Q=_e.next,_e.next=null,S.lastBaseUpdate=_e,S.shared.pending=null}}while(!0);if(ke===null&&(ne=Ce),S.baseState=ne,S.firstBaseUpdate=fe,S.lastBaseUpdate=ke,a=S.shared.interleaved,a!==null){S=a;do F|=S.lane,S=S.next;while(S!==a)}else T===null&&(S.shared.lanes=0);Fs|=F,s.lanes=F,s.memoizedState=Ce}}function Cw(s,a,d){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var v=s[a],S=v.callback;if(S!==null){if(v.callback=null,v=d,typeof S!="function")throw Error(n(191,S));S.call(v)}}}var wl={},Nr=Io(wl),xl=Io(wl),bl=Io(wl);function zs(s){if(s===wl)throw Error(n(174));return s}function Hh(s,a){switch(wt(bl,a),wt(xl,s),wt(Nr,wl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:H(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=H(a,s)}bt(Nr),wt(Nr,a)}function $i(){bt(Nr),bt(xl),bt(bl)}function Nw(s){zs(bl.current);var a=zs(Nr.current),d=H(a,s.type);a!==d&&(wt(xl,s),wt(Nr,d))}function Wh(s){xl.current===s&&(bt(Nr),bt(xl))}var Pt=Io(0);function vu(s){for(var a=s;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Vh=[];function Zh(){for(var s=0;s<Vh.length;s++)Vh[s]._workInProgressVersionPrimary=null;Vh.length=0}var wu=A.ReactCurrentDispatcher,qh=A.ReactCurrentBatchConfig,Bs=0,Rt=null,Ht=null,Zt=null,xu=!1,El=!1,_l=0,ZA=0;function nn(){throw Error(n(321))}function Kh(s,a){if(a===null)return!1;for(var d=0;d<a.length&&d<s.length;d++)if(!lr(s[d],a[d]))return!1;return!0}function Gh(s,a,d,v,S,T){if(Bs=T,Rt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,wu.current=s===null||s.memoizedState===null?YA:JA,s=d(v,S),El){T=0;do{if(El=!1,_l=0,25<=T)throw Error(n(301));T+=1,Zt=Ht=null,a.updateQueue=null,wu.current=QA,s=d(v,S)}while(El)}if(wu.current=_u,a=Ht!==null&&Ht.next!==null,Bs=0,Zt=Ht=Rt=null,xu=!1,a)throw Error(n(300));return s}function Yh(){var s=_l!==0;return _l=0,s}function Tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Rt.memoizedState=Zt=s:Zt=Zt.next=s,Zt}function Zn(){if(Ht===null){var s=Rt.alternate;s=s!==null?s.memoizedState:null}else s=Ht.next;var a=Zt===null?Rt.memoizedState:Zt.next;if(a!==null)Zt=a,Ht=s;else{if(s===null)throw Error(n(310));Ht=s,s={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Zt===null?Rt.memoizedState=Zt=s:Zt=Zt.next=s}return Zt}function Sl(s,a){return typeof a=="function"?a(s):a}function Jh(s){var a=Zn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var v=Ht,S=v.baseQueue,T=d.pending;if(T!==null){if(S!==null){var F=S.next;S.next=T.next,T.next=F}v.baseQueue=S=T,d.pending=null}if(S!==null){T=S.next,v=v.baseState;var Q=F=null,ne=null,fe=T;do{var ke=fe.lane;if((Bs&ke)===ke)ne!==null&&(ne=ne.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),v=fe.hasEagerState?fe.eagerState:s(v,fe.action);else{var Ce={lane:ke,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};ne===null?(Q=ne=Ce,F=v):ne=ne.next=Ce,Rt.lanes|=ke,Fs|=ke}fe=fe.next}while(fe!==null&&fe!==T);ne===null?F=v:ne.next=Q,lr(v,a.memoizedState)||(bn=!0),a.memoizedState=v,a.baseState=F,a.baseQueue=ne,d.lastRenderedState=v}if(s=d.interleaved,s!==null){S=s;do T=S.lane,Rt.lanes|=T,Fs|=T,S=S.next;while(S!==s)}else S===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function Qh(s){var a=Zn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var v=d.dispatch,S=d.pending,T=a.memoizedState;if(S!==null){d.pending=null;var F=S=S.next;do T=s(T,F.action),F=F.next;while(F!==S);lr(T,a.memoizedState)||(bn=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),d.lastRenderedState=T}return[T,v]}function Tw(){}function Pw(s,a){var d=Rt,v=Zn(),S=a(),T=!lr(v.memoizedState,S);if(T&&(v.memoizedState=S,bn=!0),v=v.queue,Xh(Iw.bind(null,d,v,s),[s]),v.getSnapshot!==a||T||Zt!==null&&Zt.memoizedState.tag&1){if(d.flags|=2048,kl(9,Aw.bind(null,d,v,S,a),void 0,null),qt===null)throw Error(n(349));(Bs&30)!==0||Rw(d,a,S)}return S}function Rw(s,a,d){s.flags|=16384,s={getSnapshot:a,value:d},a=Rt.updateQueue,a===null?(a={lastEffect:null,stores:null},Rt.updateQueue=a,a.stores=[s]):(d=a.stores,d===null?a.stores=[s]:d.push(s))}function Aw(s,a,d,v){a.value=d,a.getSnapshot=v,jw(a)&&Ow(s)}function Iw(s,a,d){return d(function(){jw(a)&&Ow(s)})}function jw(s){var a=s.getSnapshot;s=s.value;try{var d=a();return!lr(s,d)}catch{return!0}}function Ow(s){var a=Qr(s,1);a!==null&&hr(a,s,1,-1)}function Mw(s){var a=Tr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:s},a.queue=s,s=s.dispatch=GA.bind(null,Rt,s),[a.memoizedState,s]}function kl(s,a,d,v){return s={tag:s,create:a,destroy:d,deps:v,next:null},a=Rt.updateQueue,a===null?(a={lastEffect:null,stores:null},Rt.updateQueue=a,a.lastEffect=s.next=s):(d=a.lastEffect,d===null?a.lastEffect=s.next=s:(v=d.next,d.next=s,s.next=v,a.lastEffect=s)),s}function Lw(){return Zn().memoizedState}function bu(s,a,d,v){var S=Tr();Rt.flags|=s,S.memoizedState=kl(1|a,d,void 0,v===void 0?null:v)}function Eu(s,a,d,v){var S=Zn();v=v===void 0?null:v;var T=void 0;if(Ht!==null){var F=Ht.memoizedState;if(T=F.destroy,v!==null&&Kh(v,F.deps)){S.memoizedState=kl(a,d,T,v);return}}Rt.flags|=s,S.memoizedState=kl(1|a,d,T,v)}function Dw(s,a){return bu(8390656,8,s,a)}function Xh(s,a){return Eu(2048,8,s,a)}function zw(s,a){return Eu(4,2,s,a)}function Bw(s,a){return Eu(4,4,s,a)}function Fw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function $w(s,a,d){return d=d!=null?d.concat([s]):null,Eu(4,4,Fw.bind(null,a,s),d)}function ep(){}function Uw(s,a){var d=Zn();a=a===void 0?null:a;var v=d.memoizedState;return v!==null&&a!==null&&Kh(a,v[1])?v[0]:(d.memoizedState=[s,a],s)}function Hw(s,a){var d=Zn();a=a===void 0?null:a;var v=d.memoizedState;return v!==null&&a!==null&&Kh(a,v[1])?v[0]:(s=s(),d.memoizedState=[s,a],s)}function Ww(s,a,d){return(Bs&21)===0?(s.baseState&&(s.baseState=!1,bn=!0),s.memoizedState=d):(lr(d,a)||(d=x0(),Rt.lanes|=d,Fs|=d,s.baseState=!0),a)}function qA(s,a){var d=mt;mt=d!==0&&4>d?d:4,s(!0);var v=qh.transition;qh.transition={};try{s(!1),a()}finally{mt=d,qh.transition=v}}function Vw(){return Zn().memoizedState}function KA(s,a,d){var v=Fo(s);if(d={lane:v,action:d,hasEagerState:!1,eagerState:null,next:null},Zw(s))qw(a,d);else if(d=_w(s,a,d,v),d!==null){var S=hn();hr(d,s,v,S),Kw(d,a,v)}}function GA(s,a,d){var v=Fo(s),S={lane:v,action:d,hasEagerState:!1,eagerState:null,next:null};if(Zw(s))qw(a,S);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var F=a.lastRenderedState,Q=T(F,d);if(S.hasEagerState=!0,S.eagerState=Q,lr(Q,F)){var ne=a.interleaved;ne===null?(S.next=S,$h(a)):(S.next=ne.next,ne.next=S),a.interleaved=S;return}}catch{}finally{}d=_w(s,a,S,v),d!==null&&(S=hn(),hr(d,s,v,S),Kw(d,a,v))}}function Zw(s){var a=s.alternate;return s===Rt||a!==null&&a===Rt}function qw(s,a){El=xu=!0;var d=s.pending;d===null?a.next=a:(a.next=d.next,d.next=a),s.pending=a}function Kw(s,a,d){if((d&4194240)!==0){var v=a.lanes;v&=s.pendingLanes,d|=v,a.lanes=d,nh(s,d)}}var _u={readContext:Vn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},YA={readContext:Vn,useCallback:function(s,a){return Tr().memoizedState=[s,a===void 0?null:a],s},useContext:Vn,useEffect:Dw,useImperativeHandle:function(s,a,d){return d=d!=null?d.concat([s]):null,bu(4194308,4,Fw.bind(null,a,s),d)},useLayoutEffect:function(s,a){return bu(4194308,4,s,a)},useInsertionEffect:function(s,a){return bu(4,2,s,a)},useMemo:function(s,a){var d=Tr();return a=a===void 0?null:a,s=s(),d.memoizedState=[s,a],s},useReducer:function(s,a,d){var v=Tr();return a=d!==void 0?d(a):a,v.memoizedState=v.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},v.queue=s,s=s.dispatch=KA.bind(null,Rt,s),[v.memoizedState,s]},useRef:function(s){var a=Tr();return s={current:s},a.memoizedState=s},useState:Mw,useDebugValue:ep,useDeferredValue:function(s){return Tr().memoizedState=s},useTransition:function(){var s=Mw(!1),a=s[0];return s=qA.bind(null,s[1]),Tr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,d){var v=Rt,S=Tr();if(St){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),qt===null)throw Error(n(349));(Bs&30)!==0||Rw(v,a,d)}S.memoizedState=d;var T={value:d,getSnapshot:a};return S.queue=T,Dw(Iw.bind(null,v,T,s),[s]),v.flags|=2048,kl(9,Aw.bind(null,v,T,d,a),void 0,null),d},useId:function(){var s=Tr(),a=qt.identifierPrefix;if(St){var d=Jr,v=Yr;d=(v&~(1<<32-ar(v)-1)).toString(32)+d,a=":"+a+"R"+d,d=_l++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=ZA++,a=":"+a+"r"+d.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},JA={readContext:Vn,useCallback:Uw,useContext:Vn,useEffect:Xh,useImperativeHandle:$w,useInsertionEffect:zw,useLayoutEffect:Bw,useMemo:Hw,useReducer:Jh,useRef:Lw,useState:function(){return Jh(Sl)},useDebugValue:ep,useDeferredValue:function(s){var a=Zn();return Ww(a,Ht.memoizedState,s)},useTransition:function(){var s=Jh(Sl)[0],a=Zn().memoizedState;return[s,a]},useMutableSource:Tw,useSyncExternalStore:Pw,useId:Vw,unstable_isNewReconciler:!1},QA={readContext:Vn,useCallback:Uw,useContext:Vn,useEffect:Xh,useImperativeHandle:$w,useInsertionEffect:zw,useLayoutEffect:Bw,useMemo:Hw,useReducer:Qh,useRef:Lw,useState:function(){return Qh(Sl)},useDebugValue:ep,useDeferredValue:function(s){var a=Zn();return Ht===null?a.memoizedState=s:Ww(a,Ht.memoizedState,s)},useTransition:function(){var s=Qh(Sl)[0],a=Zn().memoizedState;return[s,a]},useMutableSource:Tw,useSyncExternalStore:Pw,useId:Vw,unstable_isNewReconciler:!1};function ur(s,a){if(s&&s.defaultProps){a=oe({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function tp(s,a,d,v){a=s.memoizedState,d=d(v,a),d=d==null?a:oe({},a,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Su={isMounted:function(s){return(s=s._reactInternals)?Is(s)===s:!1},enqueueSetState:function(s,a,d){s=s._reactInternals;var v=hn(),S=Fo(s),T=Xr(v,S);T.payload=a,d!=null&&(T.callback=d),a=Lo(s,T,S),a!==null&&(hr(a,s,S,v),gu(a,s,S))},enqueueReplaceState:function(s,a,d){s=s._reactInternals;var v=hn(),S=Fo(s),T=Xr(v,S);T.tag=1,T.payload=a,d!=null&&(T.callback=d),a=Lo(s,T,S),a!==null&&(hr(a,s,S,v),gu(a,s,S))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var d=hn(),v=Fo(s),S=Xr(d,v);S.tag=2,a!=null&&(S.callback=a),a=Lo(s,S,v),a!==null&&(hr(a,s,v,d),gu(a,s,v))}};function Gw(s,a,d,v,S,T,F){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,T,F):a.prototype&&a.prototype.isPureReactComponent?!dl(d,v)||!dl(S,T):!0}function Yw(s,a,d){var v=!1,S=jo,T=a.contextType;return typeof T=="object"&&T!==null?T=Vn(T):(S=xn(a)?Os:tn.current,v=a.contextTypes,T=(v=v!=null)?Oi(s,S):jo),a=new a(d,T),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Su,s.stateNode=a,a._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=S,s.__reactInternalMemoizedMaskedChildContext=T),a}function Jw(s,a,d,v){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,v),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,v),a.state!==s&&Su.enqueueReplaceState(a,a.state,null)}function np(s,a,d,v){var S=s.stateNode;S.props=d,S.state=s.memoizedState,S.refs={},Uh(s);var T=a.contextType;typeof T=="object"&&T!==null?S.context=Vn(T):(T=xn(a)?Os:tn.current,S.context=Oi(s,T)),S.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(tp(s,a,T,d),S.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(a=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),a!==S.state&&Su.enqueueReplaceState(S,S.state,null),yu(s,d,S,v),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308)}function Ui(s,a){try{var d="",v=a;do d+=me(v),v=v.return;while(v);var S=d}catch(T){S=`
Error generating stack: `+T.message+`
`+T.stack}return{value:s,source:a,stack:S,digest:null}}function rp(s,a,d){return{value:s,source:null,stack:d??null,digest:a??null}}function op(s,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var XA=typeof WeakMap=="function"?WeakMap:Map;function Qw(s,a,d){d=Xr(-1,d),d.tag=3,d.payload={element:null};var v=a.value;return d.callback=function(){Au||(Au=!0,wp=v),op(s,a)},d}function Xw(s,a,d){d=Xr(-1,d),d.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var S=a.value;d.payload=function(){return v(S)},d.callback=function(){op(s,a)}}var T=s.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){op(s,a),typeof v!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var F=a.stack;this.componentDidCatch(a.value,{componentStack:F!==null?F:""})}),d}function ex(s,a,d){var v=s.pingCache;if(v===null){v=s.pingCache=new XA;var S=new Set;v.set(a,S)}else S=v.get(a),S===void 0&&(S=new Set,v.set(a,S));S.has(d)||(S.add(d),s=h4.bind(null,s,a,d),a.then(s,s))}function tx(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function nx(s,a,d,v,S){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Xr(-1,1),a.tag=2,Lo(d,a,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=S,s)}var e4=A.ReactCurrentOwner,bn=!1;function fn(s,a,d,v){a.child=s===null?Ew(a,null,d,v):zi(a,s.child,d,v)}function rx(s,a,d,v,S){d=d.render;var T=a.ref;return Fi(a,S),v=Gh(s,a,d,v,T,S),d=Yh(),s!==null&&!bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~S,eo(s,a,S)):(St&&d&&Ih(a),a.flags|=1,fn(s,a,v,S),a.child)}function ox(s,a,d,v,S){if(s===null){var T=d.type;return typeof T=="function"&&!Cp(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=T,sx(s,a,T,v,S)):(s=Du(d.type,null,v,a,a.mode,S),s.ref=a.ref,s.return=a,a.child=s)}if(T=s.child,(s.lanes&S)===0){var F=T.memoizedProps;if(d=d.compare,d=d!==null?d:dl,d(F,v)&&s.ref===a.ref)return eo(s,a,S)}return a.flags|=1,s=Uo(T,v),s.ref=a.ref,s.return=a,a.child=s}function sx(s,a,d,v,S){if(s!==null){var T=s.memoizedProps;if(dl(T,v)&&s.ref===a.ref)if(bn=!1,a.pendingProps=v=T,(s.lanes&S)!==0)(s.flags&131072)!==0&&(bn=!0);else return a.lanes=s.lanes,eo(s,a,S)}return sp(s,a,d,v,S)}function ix(s,a,d){var v=a.pendingProps,S=v.children,T=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Wi,Ln),Ln|=d;else{if((d&1073741824)===0)return s=T!==null?T.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,wt(Wi,Ln),Ln|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:d,wt(Wi,Ln),Ln|=v}else T!==null?(v=T.baseLanes|d,a.memoizedState=null):v=d,wt(Wi,Ln),Ln|=v;return fn(s,a,S,d),a.child}function ax(s,a){var d=a.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function sp(s,a,d,v,S){var T=xn(d)?Os:tn.current;return T=Oi(a,T),Fi(a,S),d=Gh(s,a,d,v,T,S),v=Yh(),s!==null&&!bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~S,eo(s,a,S)):(St&&v&&Ih(a),a.flags|=1,fn(s,a,d,S),a.child)}function lx(s,a,d,v,S){if(xn(d)){var T=!0;lu(a)}else T=!1;if(Fi(a,S),a.stateNode===null)Cu(s,a),Yw(a,d,v),np(a,d,v,S),v=!0;else if(s===null){var F=a.stateNode,Q=a.memoizedProps;F.props=Q;var ne=F.context,fe=d.contextType;typeof fe=="object"&&fe!==null?fe=Vn(fe):(fe=xn(d)?Os:tn.current,fe=Oi(a,fe));var ke=d.getDerivedStateFromProps,Ce=typeof ke=="function"||typeof F.getSnapshotBeforeUpdate=="function";Ce||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Q!==v||ne!==fe)&&Jw(a,F,v,fe),Mo=!1;var _e=a.memoizedState;F.state=_e,yu(a,v,F,S),ne=a.memoizedState,Q!==v||_e!==ne||wn.current||Mo?(typeof ke=="function"&&(tp(a,d,ke,v),ne=a.memoizedState),(Q=Mo||Gw(a,d,Q,v,_e,ne,fe))?(Ce||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(a.flags|=4194308)):(typeof F.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=v,a.memoizedState=ne),F.props=v,F.state=ne,F.context=fe,v=Q):(typeof F.componentDidMount=="function"&&(a.flags|=4194308),v=!1)}else{F=a.stateNode,Sw(s,a),Q=a.memoizedProps,fe=a.type===a.elementType?Q:ur(a.type,Q),F.props=fe,Ce=a.pendingProps,_e=F.context,ne=d.contextType,typeof ne=="object"&&ne!==null?ne=Vn(ne):(ne=xn(d)?Os:tn.current,ne=Oi(a,ne));var De=d.getDerivedStateFromProps;(ke=typeof De=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Q!==Ce||_e!==ne)&&Jw(a,F,v,ne),Mo=!1,_e=a.memoizedState,F.state=_e,yu(a,v,F,S);var Fe=a.memoizedState;Q!==Ce||_e!==Fe||wn.current||Mo?(typeof De=="function"&&(tp(a,d,De,v),Fe=a.memoizedState),(fe=Mo||Gw(a,d,fe,v,_e,Fe,ne)||!1)?(ke||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,Fe,ne),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,Fe,ne)),typeof F.componentDidUpdate=="function"&&(a.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof F.componentDidUpdate!="function"||Q===s.memoizedProps&&_e===s.memoizedState||(a.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Q===s.memoizedProps&&_e===s.memoizedState||(a.flags|=1024),a.memoizedProps=v,a.memoizedState=Fe),F.props=v,F.state=Fe,F.context=ne,v=fe):(typeof F.componentDidUpdate!="function"||Q===s.memoizedProps&&_e===s.memoizedState||(a.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Q===s.memoizedProps&&_e===s.memoizedState||(a.flags|=1024),v=!1)}return ip(s,a,d,v,T,S)}function ip(s,a,d,v,S,T){ax(s,a);var F=(a.flags&128)!==0;if(!v&&!F)return S&&hw(a,d,!1),eo(s,a,T);v=a.stateNode,e4.current=a;var Q=F&&typeof d.getDerivedStateFromError!="function"?null:v.render();return a.flags|=1,s!==null&&F?(a.child=zi(a,s.child,null,T),a.child=zi(a,null,Q,T)):fn(s,a,Q,T),a.memoizedState=v.state,S&&hw(a,d,!0),a.child}function cx(s){var a=s.stateNode;a.pendingContext?dw(s,a.pendingContext,a.pendingContext!==a.context):a.context&&dw(s,a.context,!1),Hh(s,a.containerInfo)}function ux(s,a,d,v,S){return Di(),Lh(S),a.flags|=256,fn(s,a,d,v),a.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function lp(s){return{baseLanes:s,cachePool:null,transitions:null}}function dx(s,a,d){var v=a.pendingProps,S=Pt.current,T=!1,F=(a.flags&128)!==0,Q;if((Q=F)||(Q=s!==null&&s.memoizedState===null?!1:(S&2)!==0),Q?(T=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(S|=1),wt(Pt,S&1),s===null)return Mh(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(F=v.children,s=v.fallback,T?(v=a.mode,T=a.child,F={mode:"hidden",children:F},(v&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=F):T=zu(F,v,0,null),s=Ws(s,v,d,null),T.return=a,s.return=a,T.sibling=s,a.child=T,a.child.memoizedState=lp(d),a.memoizedState=ap,s):cp(a,F));if(S=s.memoizedState,S!==null&&(Q=S.dehydrated,Q!==null))return t4(s,a,F,v,Q,S,d);if(T){T=v.fallback,F=a.mode,S=s.child,Q=S.sibling;var ne={mode:"hidden",children:v.children};return(F&1)===0&&a.child!==S?(v=a.child,v.childLanes=0,v.pendingProps=ne,a.deletions=null):(v=Uo(S,ne),v.subtreeFlags=S.subtreeFlags&14680064),Q!==null?T=Uo(Q,T):(T=Ws(T,F,d,null),T.flags|=2),T.return=a,v.return=a,v.sibling=T,a.child=v,v=T,T=a.child,F=s.child.memoizedState,F=F===null?lp(d):{baseLanes:F.baseLanes|d,cachePool:null,transitions:F.transitions},T.memoizedState=F,T.childLanes=s.childLanes&~d,a.memoizedState=ap,v}return T=s.child,s=T.sibling,v=Uo(T,{mode:"visible",children:v.children}),(a.mode&1)===0&&(v.lanes=d),v.return=a,v.sibling=null,s!==null&&(d=a.deletions,d===null?(a.deletions=[s],a.flags|=16):d.push(s)),a.child=v,a.memoizedState=null,v}function cp(s,a){return a=zu({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function ku(s,a,d,v){return v!==null&&Lh(v),zi(a,s.child,null,d),s=cp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function t4(s,a,d,v,S,T,F){if(d)return a.flags&256?(a.flags&=-257,v=rp(Error(n(422))),ku(s,a,F,v)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(T=v.fallback,S=a.mode,v=zu({mode:"visible",children:v.children},S,0,null),T=Ws(T,S,F,null),T.flags|=2,v.return=a,T.return=a,v.sibling=T,a.child=v,(a.mode&1)!==0&&zi(a,s.child,null,F),a.child.memoizedState=lp(F),a.memoizedState=ap,T);if((a.mode&1)===0)return ku(s,a,F,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var Q=v.dgst;return v=Q,T=Error(n(419)),v=rp(T,v,void 0),ku(s,a,F,v)}if(Q=(F&s.childLanes)!==0,bn||Q){if(v=qt,v!==null){switch(F&-F){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|F))!==0?0:S,S!==0&&S!==T.retryLane&&(T.retryLane=S,Qr(s,S),hr(v,s,S,-1))}return kp(),v=rp(Error(n(421))),ku(s,a,F,v)}return S.data==="$?"?(a.flags|=128,a.child=s.child,a=p4.bind(null,s),S._reactRetry=a,null):(s=T.treeContext,Mn=Ao(S.nextSibling),On=a,St=!0,cr=null,s!==null&&(Hn[Wn++]=Yr,Hn[Wn++]=Jr,Hn[Wn++]=Ms,Yr=s.id,Jr=s.overflow,Ms=a),a=cp(a,v.children),a.flags|=4096,a)}function fx(s,a,d){s.lanes|=a;var v=s.alternate;v!==null&&(v.lanes|=a),Fh(s.return,a,d)}function up(s,a,d,v,S){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:S}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=d,T.tailMode=S)}function hx(s,a,d){var v=a.pendingProps,S=v.revealOrder,T=v.tail;if(fn(s,a,v.children,d),v=Pt.current,(v&2)!==0)v=v&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&fx(s,d,a);else if(s.tag===19)fx(s,d,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(wt(Pt,v),(a.mode&1)===0)a.memoizedState=null;else switch(S){case"forwards":for(d=a.child,S=null;d!==null;)s=d.alternate,s!==null&&vu(s)===null&&(S=d),d=d.sibling;d=S,d===null?(S=a.child,a.child=null):(S=d.sibling,d.sibling=null),up(a,!1,S,d,T);break;case"backwards":for(d=null,S=a.child,a.child=null;S!==null;){if(s=S.alternate,s!==null&&vu(s)===null){a.child=S;break}s=S.sibling,S.sibling=d,d=S,S=s}up(a,!0,d,null,T);break;case"together":up(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Cu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function eo(s,a,d){if(s!==null&&(a.dependencies=s.dependencies),Fs|=a.lanes,(d&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,d=Uo(s,s.pendingProps),a.child=d,d.return=a;s.sibling!==null;)s=s.sibling,d=d.sibling=Uo(s,s.pendingProps),d.return=a;d.sibling=null}return a.child}function n4(s,a,d){switch(a.tag){case 3:cx(a),Di();break;case 5:Nw(a);break;case 1:xn(a.type)&&lu(a);break;case 4:Hh(a,a.stateNode.containerInfo);break;case 10:var v=a.type._context,S=a.memoizedProps.value;wt(pu,v._currentValue),v._currentValue=S;break;case 13:if(v=a.memoizedState,v!==null)return v.dehydrated!==null?(wt(Pt,Pt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?dx(s,a,d):(wt(Pt,Pt.current&1),s=eo(s,a,d),s!==null?s.sibling:null);wt(Pt,Pt.current&1);break;case 19:if(v=(d&a.childLanes)!==0,(s.flags&128)!==0){if(v)return hx(s,a,d);a.flags|=128}if(S=a.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),wt(Pt,Pt.current),v)break;return null;case 22:case 23:return a.lanes=0,ix(s,a,d)}return eo(s,a,d)}var px,dp,mx,gx;px=function(s,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},dp=function(){},mx=function(s,a,d,v){var S=s.memoizedProps;if(S!==v){s=a.stateNode,zs(Nr.current);var T=null;switch(d){case"input":S=j(s,S),v=j(s,v),T=[];break;case"select":S=oe({},S,{value:void 0}),v=oe({},v,{value:void 0}),T=[];break;case"textarea":S=ae(s,S),v=ae(s,v),T=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=su)}nt(d,v);var F;d=null;for(fe in S)if(!v.hasOwnProperty(fe)&&S.hasOwnProperty(fe)&&S[fe]!=null)if(fe==="style"){var Q=S[fe];for(F in Q)Q.hasOwnProperty(F)&&(d||(d={}),d[F]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(o.hasOwnProperty(fe)?T||(T=[]):(T=T||[]).push(fe,null));for(fe in v){var ne=v[fe];if(Q=S!=null?S[fe]:void 0,v.hasOwnProperty(fe)&&ne!==Q&&(ne!=null||Q!=null))if(fe==="style")if(Q){for(F in Q)!Q.hasOwnProperty(F)||ne&&ne.hasOwnProperty(F)||(d||(d={}),d[F]="");for(F in ne)ne.hasOwnProperty(F)&&Q[F]!==ne[F]&&(d||(d={}),d[F]=ne[F])}else d||(T||(T=[]),T.push(fe,d)),d=ne;else fe==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,Q=Q?Q.__html:void 0,ne!=null&&Q!==ne&&(T=T||[]).push(fe,ne)):fe==="children"?typeof ne!="string"&&typeof ne!="number"||(T=T||[]).push(fe,""+ne):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(o.hasOwnProperty(fe)?(ne!=null&&fe==="onScroll"&&xt("scroll",s),T||Q===ne||(T=[])):(T=T||[]).push(fe,ne))}d&&(T=T||[]).push("style",d);var fe=T;(a.updateQueue=fe)&&(a.flags|=4)}},gx=function(s,a,d,v){d!==v&&(a.flags|=4)};function Cl(s,a){if(!St)switch(s.tailMode){case"hidden":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function rn(s){var a=s.alternate!==null&&s.alternate.child===s.child,d=0,v=0;if(a)for(var S=s.child;S!==null;)d|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)d|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=v,s.childLanes=d,a}function r4(s,a,d){var v=a.pendingProps;switch(jh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(a),null;case 1:return xn(a.type)&&au(),rn(a),null;case 3:return v=a.stateNode,$i(),bt(wn),bt(tn),Zh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(fu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,cr!==null&&(Ep(cr),cr=null))),dp(s,a),rn(a),null;case 5:Wh(a);var S=zs(bl.current);if(d=a.type,s!==null&&a.stateNode!=null)mx(s,a,d,v,S),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!v){if(a.stateNode===null)throw Error(n(166));return rn(a),null}if(s=zs(Nr.current),fu(a)){v=a.stateNode,d=a.type;var T=a.memoizedProps;switch(v[Cr]=a,v[gl]=T,s=(a.mode&1)!==0,d){case"dialog":xt("cancel",v),xt("close",v);break;case"iframe":case"object":case"embed":xt("load",v);break;case"video":case"audio":for(S=0;S<hl.length;S++)xt(hl[S],v);break;case"source":xt("error",v);break;case"img":case"image":case"link":xt("error",v),xt("load",v);break;case"details":xt("toggle",v);break;case"input":ye(v,T),xt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!T.multiple},xt("invalid",v);break;case"textarea":Te(v,T),xt("invalid",v)}nt(d,T),S=null;for(var F in T)if(T.hasOwnProperty(F)){var Q=T[F];F==="children"?typeof Q=="string"?v.textContent!==Q&&(T.suppressHydrationWarning!==!0&&ou(v.textContent,Q,s),S=["children",Q]):typeof Q=="number"&&v.textContent!==""+Q&&(T.suppressHydrationWarning!==!0&&ou(v.textContent,Q,s),S=["children",""+Q]):o.hasOwnProperty(F)&&Q!=null&&F==="onScroll"&&xt("scroll",v)}switch(d){case"input":Ue(v),G(v,T,!0);break;case"textarea":Ue(v),Ne(v);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(v.onclick=su)}v=S,a.updateQueue=v,v!==null&&(a.flags|=4)}else{F=S.nodeType===9?S:S.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ze(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=F.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=F.createElement(d,{is:v.is}):(s=F.createElement(d),d==="select"&&(F=s,v.multiple?F.multiple=!0:v.size&&(F.size=v.size))):s=F.createElementNS(s,d),s[Cr]=a,s[gl]=v,px(s,a,!1,!1),a.stateNode=s;e:{switch(F=pt(d,v),d){case"dialog":xt("cancel",s),xt("close",s),S=v;break;case"iframe":case"object":case"embed":xt("load",s),S=v;break;case"video":case"audio":for(S=0;S<hl.length;S++)xt(hl[S],s);S=v;break;case"source":xt("error",s),S=v;break;case"img":case"image":case"link":xt("error",s),xt("load",s),S=v;break;case"details":xt("toggle",s),S=v;break;case"input":ye(s,v),S=j(s,v),xt("invalid",s);break;case"option":S=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},S=oe({},v,{value:void 0}),xt("invalid",s);break;case"textarea":Te(s,v),S=ae(s,v),xt("invalid",s);break;default:S=v}nt(d,S),Q=S;for(T in Q)if(Q.hasOwnProperty(T)){var ne=Q[T];T==="style"?Xe(s,ne):T==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&R(s,ne)):T==="children"?typeof ne=="string"?(d!=="textarea"||ne!=="")&&K(s,ne):typeof ne=="number"&&K(s,""+ne):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(o.hasOwnProperty(T)?ne!=null&&T==="onScroll"&&xt("scroll",s):ne!=null&&C(s,T,ne,F))}switch(d){case"input":Ue(s),G(s,v,!1);break;case"textarea":Ue(s),Ne(s);break;case"option":v.value!=null&&s.setAttribute("value",""+xe(v.value));break;case"select":s.multiple=!!v.multiple,T=v.value,T!=null?Ee(s,!!v.multiple,T,!1):v.defaultValue!=null&&Ee(s,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(s.onclick=su)}switch(d){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return rn(a),null;case 6:if(s&&a.stateNode!=null)gx(s,a,s.memoizedProps,v);else{if(typeof v!="string"&&a.stateNode===null)throw Error(n(166));if(d=zs(bl.current),zs(Nr.current),fu(a)){if(v=a.stateNode,d=a.memoizedProps,v[Cr]=a,(T=v.nodeValue!==d)&&(s=On,s!==null))switch(s.tag){case 3:ou(v.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ou(v.nodeValue,d,(s.mode&1)!==0)}T&&(a.flags|=4)}else v=(d.nodeType===9?d:d.ownerDocument).createTextNode(v),v[Cr]=a,a.stateNode=v}return rn(a),null;case 13:if(bt(Pt),v=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(St&&Mn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)ww(),Di(),a.flags|=98560,T=!1;else if(T=fu(a),v!==null&&v.dehydrated!==null){if(s===null){if(!T)throw Error(n(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Cr]=a}else Di(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rn(a),T=!1}else cr!==null&&(Ep(cr),cr=null),T=!0;if(!T)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Pt.current&1)!==0?Wt===0&&(Wt=3):kp())),a.updateQueue!==null&&(a.flags|=4),rn(a),null);case 4:return $i(),dp(s,a),s===null&&pl(a.stateNode.containerInfo),rn(a),null;case 10:return Bh(a.type._context),rn(a),null;case 17:return xn(a.type)&&au(),rn(a),null;case 19:if(bt(Pt),T=a.memoizedState,T===null)return rn(a),null;if(v=(a.flags&128)!==0,F=T.rendering,F===null)if(v)Cl(T,!1);else{if(Wt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(F=vu(s),F!==null){for(a.flags|=128,Cl(T,!1),v=F.updateQueue,v!==null&&(a.updateQueue=v,a.flags|=4),a.subtreeFlags=0,v=d,d=a.child;d!==null;)T=d,s=v,T.flags&=14680066,F=T.alternate,F===null?(T.childLanes=0,T.lanes=s,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=F.childLanes,T.lanes=F.lanes,T.child=F.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=F.memoizedProps,T.memoizedState=F.memoizedState,T.updateQueue=F.updateQueue,T.type=F.type,s=F.dependencies,T.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return wt(Pt,Pt.current&1|2),a.child}s=s.sibling}T.tail!==null&&Dt()>Vi&&(a.flags|=128,v=!0,Cl(T,!1),a.lanes=4194304)}else{if(!v)if(s=vu(F),s!==null){if(a.flags|=128,v=!0,d=s.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),Cl(T,!0),T.tail===null&&T.tailMode==="hidden"&&!F.alternate&&!St)return rn(a),null}else 2*Dt()-T.renderingStartTime>Vi&&d!==1073741824&&(a.flags|=128,v=!0,Cl(T,!1),a.lanes=4194304);T.isBackwards?(F.sibling=a.child,a.child=F):(d=T.last,d!==null?d.sibling=F:a.child=F,T.last=F)}return T.tail!==null?(a=T.tail,T.rendering=a,T.tail=a.sibling,T.renderingStartTime=Dt(),a.sibling=null,d=Pt.current,wt(Pt,v?d&1|2:d&1),a):(rn(a),null);case 22:case 23:return Sp(),v=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(a.flags|=8192),v&&(a.mode&1)!==0?(Ln&1073741824)!==0&&(rn(a),a.subtreeFlags&6&&(a.flags|=8192)):rn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function o4(s,a){switch(jh(a),a.tag){case 1:return xn(a.type)&&au(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return $i(),bt(wn),bt(tn),Zh(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Wh(a),null;case 13:if(bt(Pt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Di()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return bt(Pt),null;case 4:return $i(),null;case 10:return Bh(a.type._context),null;case 22:case 23:return Sp(),null;case 24:return null;default:return null}}var Nu=!1,on=!1,s4=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Hi(s,a){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(v){It(s,a,v)}else d.current=null}function fp(s,a,d){try{d()}catch(v){It(s,a,v)}}var yx=!1;function i4(s,a){if(Sh=qc,s=G0(),gh(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var S=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var F=0,Q=-1,ne=-1,fe=0,ke=0,Ce=s,_e=null;t:for(;;){for(var De;Ce!==d||S!==0&&Ce.nodeType!==3||(Q=F+S),Ce!==T||v!==0&&Ce.nodeType!==3||(ne=F+v),Ce.nodeType===3&&(F+=Ce.nodeValue.length),(De=Ce.firstChild)!==null;)_e=Ce,Ce=De;for(;;){if(Ce===s)break t;if(_e===d&&++fe===S&&(Q=F),_e===T&&++ke===v&&(ne=F),(De=Ce.nextSibling)!==null)break;Ce=_e,_e=Ce.parentNode}Ce=De}d=Q===-1||ne===-1?null:{start:Q,end:ne}}else d=null}d=d||{start:0,end:0}}else d=null;for(kh={focusedElem:s,selectionRange:d},qc=!1,Be=a;Be!==null;)if(a=Be,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Be=s;else for(;Be!==null;){a=Be;try{var Fe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var $e=Fe.memoizedProps,zt=Fe.memoizedState,le=a.stateNode,se=le.getSnapshotBeforeUpdate(a.elementType===a.type?$e:ur(a.type,$e),zt);le.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var ce=a.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Re){It(a,a.return,Re)}if(s=a.sibling,s!==null){s.return=a.return,Be=s;break}Be=a.return}return Fe=yx,yx=!1,Fe}function Nl(s,a,d){var v=a.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&s)===s){var T=S.destroy;S.destroy=void 0,T!==void 0&&fp(a,d,T)}S=S.next}while(S!==v)}}function Tu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&s)===s){var v=d.create;d.destroy=v()}d=d.next}while(d!==a)}}function hp(s){var a=s.ref;if(a!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof a=="function"?a(s):a.current=s}}function vx(s){var a=s.alternate;a!==null&&(s.alternate=null,vx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Cr],delete a[gl],delete a[Ph],delete a[UA],delete a[HA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function wx(s){return s.tag===5||s.tag===3||s.tag===4}function xx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pp(s,a,d){var v=s.tag;if(v===5||v===6)s=s.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(s,a):d.insertBefore(s,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(s,d)):(a=d,a.appendChild(s)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=su));else if(v!==4&&(s=s.child,s!==null))for(pp(s,a,d),s=s.sibling;s!==null;)pp(s,a,d),s=s.sibling}function mp(s,a,d){var v=s.tag;if(v===5||v===6)s=s.stateNode,a?d.insertBefore(s,a):d.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(mp(s,a,d),s=s.sibling;s!==null;)mp(s,a,d),s=s.sibling}var Jt=null,dr=!1;function Do(s,a,d){for(d=d.child;d!==null;)bx(s,a,d),d=d.sibling}function bx(s,a,d){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount($c,d)}catch{}switch(d.tag){case 5:on||Hi(d,a);case 6:var v=Jt,S=dr;Jt=null,Do(s,a,d),Jt=v,dr=S,Jt!==null&&(dr?(s=Jt,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Jt.removeChild(d.stateNode));break;case 18:Jt!==null&&(dr?(s=Jt,d=d.stateNode,s.nodeType===8?Th(s.parentNode,d):s.nodeType===1&&Th(s,d),sl(s)):Th(Jt,d.stateNode));break;case 4:v=Jt,S=dr,Jt=d.stateNode.containerInfo,dr=!0,Do(s,a,d),Jt=v,dr=S;break;case 0:case 11:case 14:case 15:if(!on&&(v=d.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var T=S,F=T.destroy;T=T.tag,F!==void 0&&((T&2)!==0||(T&4)!==0)&&fp(d,a,F),S=S.next}while(S!==v)}Do(s,a,d);break;case 1:if(!on&&(Hi(d,a),v=d.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=d.memoizedProps,v.state=d.memoizedState,v.componentWillUnmount()}catch(Q){It(d,a,Q)}Do(s,a,d);break;case 21:Do(s,a,d);break;case 22:d.mode&1?(on=(v=on)||d.memoizedState!==null,Do(s,a,d),on=v):Do(s,a,d);break;default:Do(s,a,d)}}function Ex(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new s4),a.forEach(function(v){var S=m4.bind(null,s,v);d.has(v)||(d.add(v),v.then(S,S))})}}function fr(s,a){var d=a.deletions;if(d!==null)for(var v=0;v<d.length;v++){var S=d[v];try{var T=s,F=a,Q=F;e:for(;Q!==null;){switch(Q.tag){case 5:Jt=Q.stateNode,dr=!1;break e;case 3:Jt=Q.stateNode.containerInfo,dr=!0;break e;case 4:Jt=Q.stateNode.containerInfo,dr=!0;break e}Q=Q.return}if(Jt===null)throw Error(n(160));bx(T,F,S),Jt=null,dr=!1;var ne=S.alternate;ne!==null&&(ne.return=null),S.return=null}catch(fe){It(S,a,fe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)_x(a,s),a=a.sibling}function _x(s,a){var d=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(fr(a,s),Pr(s),v&4){try{Nl(3,s,s.return),Tu(3,s)}catch($e){It(s,s.return,$e)}try{Nl(5,s,s.return)}catch($e){It(s,s.return,$e)}}break;case 1:fr(a,s),Pr(s),v&512&&d!==null&&Hi(d,d.return);break;case 5:if(fr(a,s),Pr(s),v&512&&d!==null&&Hi(d,d.return),s.flags&32){var S=s.stateNode;try{K(S,"")}catch($e){It(s,s.return,$e)}}if(v&4&&(S=s.stateNode,S!=null)){var T=s.memoizedProps,F=d!==null?d.memoizedProps:T,Q=s.type,ne=s.updateQueue;if(s.updateQueue=null,ne!==null)try{Q==="input"&&T.type==="radio"&&T.name!=null&&de(S,T),pt(Q,F);var fe=pt(Q,T);for(F=0;F<ne.length;F+=2){var ke=ne[F],Ce=ne[F+1];ke==="style"?Xe(S,Ce):ke==="dangerouslySetInnerHTML"?R(S,Ce):ke==="children"?K(S,Ce):C(S,ke,Ce,fe)}switch(Q){case"input":Y(S,T);break;case"textarea":Le(S,T);break;case"select":var _e=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!T.multiple;var De=T.value;De!=null?Ee(S,!!T.multiple,De,!1):_e!==!!T.multiple&&(T.defaultValue!=null?Ee(S,!!T.multiple,T.defaultValue,!0):Ee(S,!!T.multiple,T.multiple?[]:"",!1))}S[gl]=T}catch($e){It(s,s.return,$e)}}break;case 6:if(fr(a,s),Pr(s),v&4){if(s.stateNode===null)throw Error(n(162));S=s.stateNode,T=s.memoizedProps;try{S.nodeValue=T}catch($e){It(s,s.return,$e)}}break;case 3:if(fr(a,s),Pr(s),v&4&&d!==null&&d.memoizedState.isDehydrated)try{sl(a.containerInfo)}catch($e){It(s,s.return,$e)}break;case 4:fr(a,s),Pr(s);break;case 13:fr(a,s),Pr(s),S=s.child,S.flags&8192&&(T=S.memoizedState!==null,S.stateNode.isHidden=T,!T||S.alternate!==null&&S.alternate.memoizedState!==null||(vp=Dt())),v&4&&Ex(s);break;case 22:if(ke=d!==null&&d.memoizedState!==null,s.mode&1?(on=(fe=on)||ke,fr(a,s),on=fe):fr(a,s),Pr(s),v&8192){if(fe=s.memoizedState!==null,(s.stateNode.isHidden=fe)&&!ke&&(s.mode&1)!==0)for(Be=s,ke=s.child;ke!==null;){for(Ce=Be=ke;Be!==null;){switch(_e=Be,De=_e.child,_e.tag){case 0:case 11:case 14:case 15:Nl(4,_e,_e.return);break;case 1:Hi(_e,_e.return);var Fe=_e.stateNode;if(typeof Fe.componentWillUnmount=="function"){v=_e,d=_e.return;try{a=v,Fe.props=a.memoizedProps,Fe.state=a.memoizedState,Fe.componentWillUnmount()}catch($e){It(v,d,$e)}}break;case 5:Hi(_e,_e.return);break;case 22:if(_e.memoizedState!==null){Cx(Ce);continue}}De!==null?(De.return=_e,Be=De):Cx(Ce)}ke=ke.sibling}e:for(ke=null,Ce=s;;){if(Ce.tag===5){if(ke===null){ke=Ce;try{S=Ce.stateNode,fe?(T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(Q=Ce.stateNode,ne=Ce.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,Q.style.display=he("display",F))}catch($e){It(s,s.return,$e)}}}else if(Ce.tag===6){if(ke===null)try{Ce.stateNode.nodeValue=fe?"":Ce.memoizedProps}catch($e){It(s,s.return,$e)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===s)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===s)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===s)break e;ke===Ce&&(ke=null),Ce=Ce.return}ke===Ce&&(ke=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:fr(a,s),Pr(s),v&4&&Ex(s);break;case 21:break;default:fr(a,s),Pr(s)}}function Pr(s){var a=s.flags;if(a&2){try{e:{for(var d=s.return;d!==null;){if(wx(d)){var v=d;break e}d=d.return}throw Error(n(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(K(S,""),v.flags&=-33);var T=xx(s);mp(s,T,S);break;case 3:case 4:var F=v.stateNode.containerInfo,Q=xx(s);pp(s,Q,F);break;default:throw Error(n(161))}}catch(ne){It(s,s.return,ne)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function a4(s,a,d){Be=s,Sx(s)}function Sx(s,a,d){for(var v=(s.mode&1)!==0;Be!==null;){var S=Be,T=S.child;if(S.tag===22&&v){var F=S.memoizedState!==null||Nu;if(!F){var Q=S.alternate,ne=Q!==null&&Q.memoizedState!==null||on;Q=Nu;var fe=on;if(Nu=F,(on=ne)&&!fe)for(Be=S;Be!==null;)F=Be,ne=F.child,F.tag===22&&F.memoizedState!==null?Nx(S):ne!==null?(ne.return=F,Be=ne):Nx(S);for(;T!==null;)Be=T,Sx(T),T=T.sibling;Be=S,Nu=Q,on=fe}kx(s)}else(S.subtreeFlags&8772)!==0&&T!==null?(T.return=S,Be=T):kx(s)}}function kx(s){for(;Be!==null;){var a=Be;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:on||Tu(5,a);break;case 1:var v=a.stateNode;if(a.flags&4&&!on)if(d===null)v.componentDidMount();else{var S=a.elementType===a.type?d.memoizedProps:ur(a.type,d.memoizedProps);v.componentDidUpdate(S,d.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=a.updateQueue;T!==null&&Cw(a,T,v);break;case 3:var F=a.updateQueue;if(F!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Cw(a,F,d)}break;case 5:var Q=a.stateNode;if(d===null&&a.flags&4){d=Q;var ne=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&d.focus();break;case"img":ne.src&&(d.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var fe=a.alternate;if(fe!==null){var ke=fe.memoizedState;if(ke!==null){var Ce=ke.dehydrated;Ce!==null&&sl(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}on||a.flags&512&&hp(a)}catch(_e){It(a,a.return,_e)}}if(a===s){Be=null;break}if(d=a.sibling,d!==null){d.return=a.return,Be=d;break}Be=a.return}}function Cx(s){for(;Be!==null;){var a=Be;if(a===s){Be=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Be=d;break}Be=a.return}}function Nx(s){for(;Be!==null;){var a=Be;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Tu(4,a)}catch(ne){It(a,d,ne)}break;case 1:var v=a.stateNode;if(typeof v.componentDidMount=="function"){var S=a.return;try{v.componentDidMount()}catch(ne){It(a,S,ne)}}var T=a.return;try{hp(a)}catch(ne){It(a,T,ne)}break;case 5:var F=a.return;try{hp(a)}catch(ne){It(a,F,ne)}}}catch(ne){It(a,a.return,ne)}if(a===s){Be=null;break}var Q=a.sibling;if(Q!==null){Q.return=a.return,Be=Q;break}Be=a.return}}var l4=Math.ceil,Pu=A.ReactCurrentDispatcher,gp=A.ReactCurrentOwner,qn=A.ReactCurrentBatchConfig,lt=0,qt=null,$t=null,Qt=0,Ln=0,Wi=Io(0),Wt=0,Tl=null,Fs=0,Ru=0,yp=0,Pl=null,En=null,vp=0,Vi=1/0,to=null,Au=!1,wp=null,zo=null,Iu=!1,Bo=null,ju=0,Rl=0,xp=null,Ou=-1,Mu=0;function hn(){return(lt&6)!==0?Dt():Ou!==-1?Ou:Ou=Dt()}function Fo(s){return(s.mode&1)===0?1:(lt&2)!==0&&Qt!==0?Qt&-Qt:VA.transition!==null?(Mu===0&&(Mu=x0()),Mu):(s=mt,s!==0||(s=window.event,s=s===void 0?16:P0(s.type)),s)}function hr(s,a,d,v){if(50<Rl)throw Rl=0,xp=null,Error(n(185));el(s,d,v),((lt&2)===0||s!==qt)&&(s===qt&&((lt&2)===0&&(Ru|=d),Wt===4&&$o(s,Qt)),_n(s,v),d===1&&lt===0&&(a.mode&1)===0&&(Vi=Dt()+500,cu&&Oo()))}function _n(s,a){var d=s.callbackNode;VR(s,a);var v=Wc(s,s===qt?Qt:0);if(v===0)d!==null&&y0(d),s.callbackNode=null,s.callbackPriority=0;else if(a=v&-v,s.callbackPriority!==a){if(d!=null&&y0(d),a===1)s.tag===0?WA(Px.bind(null,s)):pw(Px.bind(null,s)),FA(function(){(lt&6)===0&&Oo()}),d=null;else{switch(b0(v)){case 1:d=Xf;break;case 4:d=v0;break;case 16:d=Fc;break;case 536870912:d=w0;break;default:d=Fc}d=Dx(d,Tx.bind(null,s))}s.callbackPriority=a,s.callbackNode=d}}function Tx(s,a){if(Ou=-1,Mu=0,(lt&6)!==0)throw Error(n(327));var d=s.callbackNode;if(Zi()&&s.callbackNode!==d)return null;var v=Wc(s,s===qt?Qt:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||a)a=Lu(s,v);else{a=v;var S=lt;lt|=2;var T=Ax();(qt!==s||Qt!==a)&&(to=null,Vi=Dt()+500,Us(s,a));do try{d4();break}catch(Q){Rx(s,Q)}while(!0);zh(),Pu.current=T,lt=S,$t!==null?a=0:(qt=null,Qt=0,a=Wt)}if(a!==0){if(a===2&&(S=eh(s),S!==0&&(v=S,a=bp(s,S))),a===1)throw d=Tl,Us(s,0),$o(s,v),_n(s,Dt()),d;if(a===6)$o(s,v);else{if(S=s.current.alternate,(v&30)===0&&!c4(S)&&(a=Lu(s,v),a===2&&(T=eh(s),T!==0&&(v=T,a=bp(s,T))),a===1))throw d=Tl,Us(s,0),$o(s,v),_n(s,Dt()),d;switch(s.finishedWork=S,s.finishedLanes=v,a){case 0:case 1:throw Error(n(345));case 2:Hs(s,En,to);break;case 3:if($o(s,v),(v&130023424)===v&&(a=vp+500-Dt(),10<a)){if(Wc(s,0)!==0)break;if(S=s.suspendedLanes,(S&v)!==v){hn(),s.pingedLanes|=s.suspendedLanes&S;break}s.timeoutHandle=Nh(Hs.bind(null,s,En,to),a);break}Hs(s,En,to);break;case 4:if($o(s,v),(v&4194240)===v)break;for(a=s.eventTimes,S=-1;0<v;){var F=31-ar(v);T=1<<F,F=a[F],F>S&&(S=F),v&=~T}if(v=S,v=Dt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*l4(v/1960))-v,10<v){s.timeoutHandle=Nh(Hs.bind(null,s,En,to),v);break}Hs(s,En,to);break;case 5:Hs(s,En,to);break;default:throw Error(n(329))}}}return _n(s,Dt()),s.callbackNode===d?Tx.bind(null,s):null}function bp(s,a){var d=Pl;return s.current.memoizedState.isDehydrated&&(Us(s,a).flags|=256),s=Lu(s,a),s!==2&&(a=En,En=d,a!==null&&Ep(a)),s}function Ep(s){En===null?En=s:En.push.apply(En,s)}function c4(s){for(var a=s;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var v=0;v<d.length;v++){var S=d[v],T=S.getSnapshot;S=S.value;try{if(!lr(T(),S))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $o(s,a){for(a&=~yp,a&=~Ru,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var d=31-ar(a),v=1<<d;s[d]=-1,a&=~v}}function Px(s){if((lt&6)!==0)throw Error(n(327));Zi();var a=Wc(s,0);if((a&1)===0)return _n(s,Dt()),null;var d=Lu(s,a);if(s.tag!==0&&d===2){var v=eh(s);v!==0&&(a=v,d=bp(s,v))}if(d===1)throw d=Tl,Us(s,0),$o(s,a),_n(s,Dt()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Hs(s,En,to),_n(s,Dt()),null}function _p(s,a){var d=lt;lt|=1;try{return s(a)}finally{lt=d,lt===0&&(Vi=Dt()+500,cu&&Oo())}}function $s(s){Bo!==null&&Bo.tag===0&&(lt&6)===0&&Zi();var a=lt;lt|=1;var d=qn.transition,v=mt;try{if(qn.transition=null,mt=1,s)return s()}finally{mt=v,qn.transition=d,lt=a,(lt&6)===0&&Oo()}}function Sp(){Ln=Wi.current,bt(Wi)}function Us(s,a){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,BA(d)),$t!==null)for(d=$t.return;d!==null;){var v=d;switch(jh(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&au();break;case 3:$i(),bt(wn),bt(tn),Zh();break;case 5:Wh(v);break;case 4:$i();break;case 13:bt(Pt);break;case 19:bt(Pt);break;case 10:Bh(v.type._context);break;case 22:case 23:Sp()}d=d.return}if(qt=s,$t=s=Uo(s.current,null),Qt=Ln=a,Wt=0,Tl=null,yp=Ru=Fs=0,En=Pl=null,Ds!==null){for(a=0;a<Ds.length;a++)if(d=Ds[a],v=d.interleaved,v!==null){d.interleaved=null;var S=v.next,T=d.pending;if(T!==null){var F=T.next;T.next=S,v.next=F}d.pending=v}Ds=null}return s}function Rx(s,a){do{var d=$t;try{if(zh(),wu.current=_u,xu){for(var v=Rt.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}xu=!1}if(Bs=0,Zt=Ht=Rt=null,El=!1,_l=0,gp.current=null,d===null||d.return===null){Wt=1,Tl=a,$t=null;break}e:{var T=s,F=d.return,Q=d,ne=a;if(a=Qt,Q.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var fe=ne,ke=Q,Ce=ke.tag;if((ke.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var _e=ke.alternate;_e?(ke.updateQueue=_e.updateQueue,ke.memoizedState=_e.memoizedState,ke.lanes=_e.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var De=tx(F);if(De!==null){De.flags&=-257,nx(De,F,Q,T,a),De.mode&1&&ex(T,fe,a),a=De,ne=fe;var Fe=a.updateQueue;if(Fe===null){var $e=new Set;$e.add(ne),a.updateQueue=$e}else Fe.add(ne);break e}else{if((a&1)===0){ex(T,fe,a),kp();break e}ne=Error(n(426))}}else if(St&&Q.mode&1){var zt=tx(F);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),nx(zt,F,Q,T,a),Lh(Ui(ne,Q));break e}}T=ne=Ui(ne,Q),Wt!==4&&(Wt=2),Pl===null?Pl=[T]:Pl.push(T),T=F;do{switch(T.tag){case 3:T.flags|=65536,a&=-a,T.lanes|=a;var le=Qw(T,ne,a);kw(T,le);break e;case 1:Q=ne;var se=T.type,ce=T.stateNode;if((T.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(zo===null||!zo.has(ce)))){T.flags|=65536,a&=-a,T.lanes|=a;var Re=Xw(T,Q,a);kw(T,Re);break e}}T=T.return}while(T!==null)}jx(d)}catch(He){a=He,$t===d&&d!==null&&($t=d=d.return);continue}break}while(!0)}function Ax(){var s=Pu.current;return Pu.current=_u,s===null?_u:s}function kp(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),qt===null||(Fs&268435455)===0&&(Ru&268435455)===0||$o(qt,Qt)}function Lu(s,a){var d=lt;lt|=2;var v=Ax();(qt!==s||Qt!==a)&&(to=null,Us(s,a));do try{u4();break}catch(S){Rx(s,S)}while(!0);if(zh(),lt=d,Pu.current=v,$t!==null)throw Error(n(261));return qt=null,Qt=0,Wt}function u4(){for(;$t!==null;)Ix($t)}function d4(){for(;$t!==null&&!LR();)Ix($t)}function Ix(s){var a=Lx(s.alternate,s,Ln);s.memoizedProps=s.pendingProps,a===null?jx(s):$t=a,gp.current=null}function jx(s){var a=s;do{var d=a.alternate;if(s=a.return,(a.flags&32768)===0){if(d=r4(d,a,Ln),d!==null){$t=d;return}}else{if(d=o4(d,a),d!==null){d.flags&=32767,$t=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Wt=6,$t=null;return}}if(a=a.sibling,a!==null){$t=a;return}$t=a=s}while(a!==null);Wt===0&&(Wt=5)}function Hs(s,a,d){var v=mt,S=qn.transition;try{qn.transition=null,mt=1,f4(s,a,d,v)}finally{qn.transition=S,mt=v}return null}function f4(s,a,d,v){do Zi();while(Bo!==null);if((lt&6)!==0)throw Error(n(327));d=s.finishedWork;var S=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var T=d.lanes|d.childLanes;if(ZR(s,T),s===qt&&($t=qt=null,Qt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Iu||(Iu=!0,Dx(Fc,function(){return Zi(),null})),T=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||T){T=qn.transition,qn.transition=null;var F=mt;mt=1;var Q=lt;lt|=4,gp.current=null,i4(s,d),_x(d,s),IA(kh),qc=!!Sh,kh=Sh=null,s.current=d,a4(d),DR(),lt=Q,mt=F,qn.transition=T}else s.current=d;if(Iu&&(Iu=!1,Bo=s,ju=S),T=s.pendingLanes,T===0&&(zo=null),FR(d.stateNode),_n(s,Dt()),a!==null)for(v=s.onRecoverableError,d=0;d<a.length;d++)S=a[d],v(S.value,{componentStack:S.stack,digest:S.digest});if(Au)throw Au=!1,s=wp,wp=null,s;return(ju&1)!==0&&s.tag!==0&&Zi(),T=s.pendingLanes,(T&1)!==0?s===xp?Rl++:(Rl=0,xp=s):Rl=0,Oo(),null}function Zi(){if(Bo!==null){var s=b0(ju),a=qn.transition,d=mt;try{if(qn.transition=null,mt=16>s?16:s,Bo===null)var v=!1;else{if(s=Bo,Bo=null,ju=0,(lt&6)!==0)throw Error(n(331));var S=lt;for(lt|=4,Be=s.current;Be!==null;){var T=Be,F=T.child;if((Be.flags&16)!==0){var Q=T.deletions;if(Q!==null){for(var ne=0;ne<Q.length;ne++){var fe=Q[ne];for(Be=fe;Be!==null;){var ke=Be;switch(ke.tag){case 0:case 11:case 15:Nl(8,ke,T)}var Ce=ke.child;if(Ce!==null)Ce.return=ke,Be=Ce;else for(;Be!==null;){ke=Be;var _e=ke.sibling,De=ke.return;if(vx(ke),ke===fe){Be=null;break}if(_e!==null){_e.return=De,Be=_e;break}Be=De}}}var Fe=T.alternate;if(Fe!==null){var $e=Fe.child;if($e!==null){Fe.child=null;do{var zt=$e.sibling;$e.sibling=null,$e=zt}while($e!==null)}}Be=T}}if((T.subtreeFlags&2064)!==0&&F!==null)F.return=T,Be=F;else e:for(;Be!==null;){if(T=Be,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Nl(9,T,T.return)}var le=T.sibling;if(le!==null){le.return=T.return,Be=le;break e}Be=T.return}}var se=s.current;for(Be=se;Be!==null;){F=Be;var ce=F.child;if((F.subtreeFlags&2064)!==0&&ce!==null)ce.return=F,Be=ce;else e:for(F=se;Be!==null;){if(Q=Be,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:Tu(9,Q)}}catch(He){It(Q,Q.return,He)}if(Q===F){Be=null;break e}var Re=Q.sibling;if(Re!==null){Re.return=Q.return,Be=Re;break e}Be=Q.return}}if(lt=S,Oo(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot($c,s)}catch{}v=!0}return v}finally{mt=d,qn.transition=a}}return!1}function Ox(s,a,d){a=Ui(d,a),a=Qw(s,a,1),s=Lo(s,a,1),a=hn(),s!==null&&(el(s,1,a),_n(s,a))}function It(s,a,d){if(s.tag===3)Ox(s,s,d);else for(;a!==null;){if(a.tag===3){Ox(a,s,d);break}else if(a.tag===1){var v=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(zo===null||!zo.has(v))){s=Ui(d,s),s=Xw(a,s,1),a=Lo(a,s,1),s=hn(),a!==null&&(el(a,1,s),_n(a,s));break}}a=a.return}}function h4(s,a,d){var v=s.pingCache;v!==null&&v.delete(a),a=hn(),s.pingedLanes|=s.suspendedLanes&d,qt===s&&(Qt&d)===d&&(Wt===4||Wt===3&&(Qt&130023424)===Qt&&500>Dt()-vp?Us(s,0):yp|=d),_n(s,a)}function Mx(s,a){a===0&&((s.mode&1)===0?a=1:(a=Hc,Hc<<=1,(Hc&130023424)===0&&(Hc=4194304)));var d=hn();s=Qr(s,a),s!==null&&(el(s,a,d),_n(s,d))}function p4(s){var a=s.memoizedState,d=0;a!==null&&(d=a.retryLane),Mx(s,d)}function m4(s,a){var d=0;switch(s.tag){case 13:var v=s.stateNode,S=s.memoizedState;S!==null&&(d=S.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(a),Mx(s,d)}var Lx;Lx=function(s,a,d){if(s!==null)if(s.memoizedProps!==a.pendingProps||wn.current)bn=!0;else{if((s.lanes&d)===0&&(a.flags&128)===0)return bn=!1,n4(s,a,d);bn=(s.flags&131072)!==0}else bn=!1,St&&(a.flags&1048576)!==0&&mw(a,du,a.index);switch(a.lanes=0,a.tag){case 2:var v=a.type;Cu(s,a),s=a.pendingProps;var S=Oi(a,tn.current);Fi(a,d),S=Gh(null,a,v,s,S,d);var T=Yh();return a.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,xn(v)?(T=!0,lu(a)):T=!1,a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Uh(a),S.updater=Su,a.stateNode=S,S._reactInternals=a,np(a,v,s,d),a=ip(null,a,v,!0,T,d)):(a.tag=0,St&&T&&Ih(a),fn(null,a,S,d),a=a.child),a;case 16:v=a.elementType;e:{switch(Cu(s,a),s=a.pendingProps,S=v._init,v=S(v._payload),a.type=v,S=a.tag=y4(v),s=ur(v,s),S){case 0:a=sp(null,a,v,s,d);break e;case 1:a=lx(null,a,v,s,d);break e;case 11:a=rx(null,a,v,s,d);break e;case 14:a=ox(null,a,v,ur(v.type,s),d);break e}throw Error(n(306,v,""))}return a;case 0:return v=a.type,S=a.pendingProps,S=a.elementType===v?S:ur(v,S),sp(s,a,v,S,d);case 1:return v=a.type,S=a.pendingProps,S=a.elementType===v?S:ur(v,S),lx(s,a,v,S,d);case 3:e:{if(cx(a),s===null)throw Error(n(387));v=a.pendingProps,T=a.memoizedState,S=T.element,Sw(s,a),yu(a,v,null,d);var F=a.memoizedState;if(v=F.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){S=Ui(Error(n(423)),a),a=ux(s,a,v,d,S);break e}else if(v!==S){S=Ui(Error(n(424)),a),a=ux(s,a,v,d,S);break e}else for(Mn=Ao(a.stateNode.containerInfo.firstChild),On=a,St=!0,cr=null,d=Ew(a,null,v,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Di(),v===S){a=eo(s,a,d);break e}fn(s,a,v,d)}a=a.child}return a;case 5:return Nw(a),s===null&&Mh(a),v=a.type,S=a.pendingProps,T=s!==null?s.memoizedProps:null,F=S.children,Ch(v,S)?F=null:T!==null&&Ch(v,T)&&(a.flags|=32),ax(s,a),fn(s,a,F,d),a.child;case 6:return s===null&&Mh(a),null;case 13:return dx(s,a,d);case 4:return Hh(a,a.stateNode.containerInfo),v=a.pendingProps,s===null?a.child=zi(a,null,v,d):fn(s,a,v,d),a.child;case 11:return v=a.type,S=a.pendingProps,S=a.elementType===v?S:ur(v,S),rx(s,a,v,S,d);case 7:return fn(s,a,a.pendingProps,d),a.child;case 8:return fn(s,a,a.pendingProps.children,d),a.child;case 12:return fn(s,a,a.pendingProps.children,d),a.child;case 10:e:{if(v=a.type._context,S=a.pendingProps,T=a.memoizedProps,F=S.value,wt(pu,v._currentValue),v._currentValue=F,T!==null)if(lr(T.value,F)){if(T.children===S.children&&!wn.current){a=eo(s,a,d);break e}}else for(T=a.child,T!==null&&(T.return=a);T!==null;){var Q=T.dependencies;if(Q!==null){F=T.child;for(var ne=Q.firstContext;ne!==null;){if(ne.context===v){if(T.tag===1){ne=Xr(-1,d&-d),ne.tag=2;var fe=T.updateQueue;if(fe!==null){fe=fe.shared;var ke=fe.pending;ke===null?ne.next=ne:(ne.next=ke.next,ke.next=ne),fe.pending=ne}}T.lanes|=d,ne=T.alternate,ne!==null&&(ne.lanes|=d),Fh(T.return,d,a),Q.lanes|=d;break}ne=ne.next}}else if(T.tag===10)F=T.type===a.type?null:T.child;else if(T.tag===18){if(F=T.return,F===null)throw Error(n(341));F.lanes|=d,Q=F.alternate,Q!==null&&(Q.lanes|=d),Fh(F,d,a),F=T.sibling}else F=T.child;if(F!==null)F.return=T;else for(F=T;F!==null;){if(F===a){F=null;break}if(T=F.sibling,T!==null){T.return=F.return,F=T;break}F=F.return}T=F}fn(s,a,S.children,d),a=a.child}return a;case 9:return S=a.type,v=a.pendingProps.children,Fi(a,d),S=Vn(S),v=v(S),a.flags|=1,fn(s,a,v,d),a.child;case 14:return v=a.type,S=ur(v,a.pendingProps),S=ur(v.type,S),ox(s,a,v,S,d);case 15:return sx(s,a,a.type,a.pendingProps,d);case 17:return v=a.type,S=a.pendingProps,S=a.elementType===v?S:ur(v,S),Cu(s,a),a.tag=1,xn(v)?(s=!0,lu(a)):s=!1,Fi(a,d),Yw(a,v,S),np(a,v,S,d),ip(null,a,v,!0,s,d);case 19:return hx(s,a,d);case 22:return ix(s,a,d)}throw Error(n(156,a.tag))};function Dx(s,a){return g0(s,a)}function g4(s,a,d,v){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(s,a,d,v){return new g4(s,a,d,v)}function Cp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function y4(s){if(typeof s=="function")return Cp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===M)return 11;if(s===U)return 14}return 2}function Uo(s,a){var d=s.alternate;return d===null?(d=Kn(s.tag,a,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=a,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,a=s.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function Du(s,a,d,v,S,T){var F=2;if(v=s,typeof s=="function")Cp(s)&&(F=1);else if(typeof s=="string")F=5;else e:switch(s){case z:return Ws(d.children,S,T,a);case $:F=8,S|=8;break;case O:return s=Kn(12,d,a,S|2),s.elementType=O,s.lanes=T,s;case V:return s=Kn(13,d,a,S),s.elementType=V,s.lanes=T,s;case P:return s=Kn(19,d,a,S),s.elementType=P,s.lanes=T,s;case J:return zu(d,S,T,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:F=10;break e;case W:F=9;break e;case M:F=11;break e;case U:F=14;break e;case X:F=16,v=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Kn(F,d,a,S),a.elementType=s,a.type=v,a.lanes=T,a}function Ws(s,a,d,v){return s=Kn(7,s,v,a),s.lanes=d,s}function zu(s,a,d,v){return s=Kn(22,s,v,a),s.elementType=J,s.lanes=d,s.stateNode={isHidden:!1},s}function Np(s,a,d){return s=Kn(6,s,null,a),s.lanes=d,s}function Tp(s,a,d){return a=Kn(4,s.children!==null?s.children:[],s.key,a),a.lanes=d,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function v4(s,a,d,v,S){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=th(0),this.expirationTimes=th(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=th(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Pp(s,a,d,v,S,T,F,Q,ne){return s=new v4(s,a,d,Q,ne),a===1?(a=1,T===!0&&(a|=8)):a=0,T=Kn(3,null,null,a),s.current=T,T.stateNode=s,T.memoizedState={element:v,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uh(T),s}function w4(s,a,d){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:v==null?null:""+v,children:s,containerInfo:a,implementation:d}}function zx(s){if(!s)return jo;s=s._reactInternals;e:{if(Is(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(xn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(xn(d))return fw(s,d,a)}return a}function Bx(s,a,d,v,S,T,F,Q,ne){return s=Pp(d,v,!0,s,S,T,F,Q,ne),s.context=zx(null),d=s.current,v=hn(),S=Fo(d),T=Xr(v,S),T.callback=a??null,Lo(d,T,S),s.current.lanes=S,el(s,S,v),_n(s,v),s}function Bu(s,a,d,v){var S=a.current,T=hn(),F=Fo(S);return d=zx(d),a.context===null?a.context=d:a.pendingContext=d,a=Xr(T,F),a.payload={element:s},v=v===void 0?null:v,v!==null&&(a.callback=v),s=Lo(S,a,F),s!==null&&(hr(s,S,F,T),gu(s,S,F)),F}function Fu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Fx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<a?d:a}}function Rp(s,a){Fx(s,a),(s=s.alternate)&&Fx(s,a)}function x4(){return null}var $x=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ap(s){this._internalRoot=s}$u.prototype.render=Ap.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Bu(s,a,null,null)},$u.prototype.unmount=Ap.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;$s(function(){Bu(null,s,null,null)}),a[Kr]=null}};function $u(s){this._internalRoot=s}$u.prototype.unstable_scheduleHydration=function(s){if(s){var a=S0();s={blockedOn:null,target:s,priority:a};for(var d=0;d<To.length&&a!==0&&a<To[d].priority;d++);To.splice(d,0,s),d===0&&N0(s)}};function Ip(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Uu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ux(){}function b4(s,a,d,v,S){if(S){if(typeof v=="function"){var T=v;v=function(){var fe=Fu(F);T.call(fe)}}var F=Bx(a,v,s,0,null,!1,!1,"",Ux);return s._reactRootContainer=F,s[Kr]=F.current,pl(s.nodeType===8?s.parentNode:s),$s(),F}for(;S=s.lastChild;)s.removeChild(S);if(typeof v=="function"){var Q=v;v=function(){var fe=Fu(ne);Q.call(fe)}}var ne=Pp(s,0,!1,null,null,!1,!1,"",Ux);return s._reactRootContainer=ne,s[Kr]=ne.current,pl(s.nodeType===8?s.parentNode:s),$s(function(){Bu(a,ne,d,v)}),ne}function Hu(s,a,d,v,S){var T=d._reactRootContainer;if(T){var F=T;if(typeof S=="function"){var Q=S;S=function(){var ne=Fu(F);Q.call(ne)}}Bu(a,F,s,S)}else F=b4(d,a,s,S,v);return Fu(F)}E0=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var d=Xa(a.pendingLanes);d!==0&&(nh(a,d|1),_n(a,Dt()),(lt&6)===0&&(Vi=Dt()+500,Oo()))}break;case 13:$s(function(){var v=Qr(s,1);if(v!==null){var S=hn();hr(v,s,1,S)}}),Rp(s,1)}},rh=function(s){if(s.tag===13){var a=Qr(s,134217728);if(a!==null){var d=hn();hr(a,s,134217728,d)}Rp(s,134217728)}},_0=function(s){if(s.tag===13){var a=Fo(s),d=Qr(s,a);if(d!==null){var v=hn();hr(d,s,a,v)}Rp(s,a)}},S0=function(){return mt},k0=function(s,a){var d=mt;try{return mt=s,a()}finally{mt=d}},Ga=function(s,a,d){switch(a){case"input":if(Y(s,d),a=d.name,d.type==="radio"&&a!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var v=d[a];if(v!==s&&v.form===s.form){var S=iu(v);if(!S)throw Error(n(90));qe(v),Y(v,S)}}}break;case"textarea":Le(s,d);break;case"select":a=d.value,a!=null&&Ee(s,!!d.multiple,a,!1)}},c0=_p,u0=$s;var E4={usingClientEntryPoint:!1,Events:[yl,Ii,iu,a0,l0,_p]},Al={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_4={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=p0(s),s===null?null:s.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||x4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{$c=Wu.inject(_4),kr=Wu}catch{}}return Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E4,Sn.createPortal=function(s,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ip(a))throw Error(n(200));return w4(s,a,null,d)},Sn.createRoot=function(s,a){if(!Ip(s))throw Error(n(299));var d=!1,v="",S=$x;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),a=Pp(s,1,!1,null,null,d,!1,v,S),s[Kr]=a.current,pl(s.nodeType===8?s.parentNode:s),new Ap(a)},Sn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=p0(a),s=s===null?null:s.stateNode,s},Sn.flushSync=function(s){return $s(s)},Sn.hydrate=function(s,a,d){if(!Uu(a))throw Error(n(200));return Hu(null,s,a,!0,d)},Sn.hydrateRoot=function(s,a,d){if(!Ip(s))throw Error(n(405));var v=d!=null&&d.hydratedSources||null,S=!1,T="",F=$x;if(d!=null&&(d.unstable_strictMode===!0&&(S=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(F=d.onRecoverableError)),a=Bx(a,null,s,1,d??null,S,!1,T,F),s[Kr]=a.current,pl(s),v)for(s=0;s<v.length;s++)d=v[s],S=d._getVersion,S=S(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,S]:a.mutableSourceEagerHydrationData.push(d,S);return new $u(a)},Sn.render=function(s,a,d){if(!Uu(a))throw Error(n(200));return Hu(null,s,a,!1,d)},Sn.unmountComponentAtNode=function(s){if(!Uu(s))throw Error(n(40));return s._reactRootContainer?($s(function(){Hu(null,null,s,!1,function(){s._reactRootContainer=null,s[Kr]=null})}),!0):!1},Sn.unstable_batchedUpdates=_p,Sn.unstable_renderSubtreeIntoContainer=function(s,a,d,v){if(!Uu(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Hu(s,a,d,!1,v)},Sn.version="18.3.1-next-f1338f8080-20240426",Sn}var Jx;function n2(){if(Jx)return Lp.exports;Jx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lp.exports=j4(),Lp.exports}var Qx;function O4(){if(Qx)return qu;Qx=1;var e=n2();return qu.createRoot=e.createRoot,qu.hydrateRoot=e.hydrateRoot,qu}var M4=O4(),Bp={},jl={},Xx;function L4(){if(Xx)return jl;Xx=1,jl.byteLength=c,jl.toByteArray=f,jl.fromByteArray=w;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=r.length;o<i;++o)e[o]=r[o],t[r.charCodeAt(o)]=o;t[45]=62,t[95]=63;function l(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=y.indexOf("=");g===-1&&(g=b);var x=g===b?0:4-g%4;return[g,x]}function c(y){var b=l(y),g=b[0],x=b[1];return(g+x)*3/4-x}function u(y,b,g){return(b+g)*3/4-g}function f(y){var b,g=l(y),x=g[0],E=g[1],k=new n(u(y,x,E)),C=0,A=E>0?x-4:x,I;for(I=0;I<A;I+=4)b=t[y.charCodeAt(I)]<<18|t[y.charCodeAt(I+1)]<<12|t[y.charCodeAt(I+2)]<<6|t[y.charCodeAt(I+3)],k[C++]=b>>16&255,k[C++]=b>>8&255,k[C++]=b&255;return E===2&&(b=t[y.charCodeAt(I)]<<2|t[y.charCodeAt(I+1)]>>4,k[C++]=b&255),E===1&&(b=t[y.charCodeAt(I)]<<10|t[y.charCodeAt(I+1)]<<4|t[y.charCodeAt(I+2)]>>2,k[C++]=b>>8&255,k[C++]=b&255),k}function p(y){return e[y>>18&63]+e[y>>12&63]+e[y>>6&63]+e[y&63]}function h(y,b,g){for(var x,E=[],k=b;k<g;k+=3)x=(y[k]<<16&16711680)+(y[k+1]<<8&65280)+(y[k+2]&255),E.push(p(x));return E.join("")}function w(y){for(var b,g=y.length,x=g%3,E=[],k=16383,C=0,A=g-x;C<A;C+=k)E.push(h(y,C,C+k>A?A:C+k));return x===1?(b=y[g-1],E.push(e[b>>2]+e[b<<4&63]+"==")):x===2&&(b=(y[g-2]<<8)+y[g-1],E.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),E.join("")}return jl}var Ku={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var e1;function D4(){return e1||(e1=1,Ku.read=function(e,t,n,r,o){var i,l,c=o*8-r-1,u=(1<<c)-1,f=u>>1,p=-7,h=n?o-1:0,w=n?-1:1,y=e[t+h];for(h+=w,i=y&(1<<-p)-1,y>>=-p,p+=c;p>0;i=i*256+e[t+h],h+=w,p-=8);for(l=i&(1<<-p)-1,i>>=-p,p+=r;p>0;l=l*256+e[t+h],h+=w,p-=8);if(i===0)i=1-f;else{if(i===u)return l?NaN:(y?-1:1)*(1/0);l=l+Math.pow(2,r),i=i-f}return(y?-1:1)*l*Math.pow(2,i-r)},Ku.write=function(e,t,n,r,o,i){var l,c,u,f=i*8-o-1,p=(1<<f)-1,h=p>>1,w=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:i-1,b=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,l=p):(l=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-l))<1&&(l--,u*=2),l+h>=1?t+=w/u:t+=w*Math.pow(2,1-h),t*u>=2&&(l++,u/=2),l+h>=p?(c=0,l=p):l+h>=1?(c=(t*u-1)*Math.pow(2,o),l=l+h):(c=t*Math.pow(2,h-1)*Math.pow(2,o),l=0));o>=8;e[n+y]=c&255,y+=b,c/=256,o-=8);for(l=l<<o|c,f+=o;f>0;e[n+y]=l&255,y+=b,l/=256,f-=8);e[n+y-b]|=g*128}),Ku}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var t1;function z4(){return t1||(t1=1,function(e){const t=L4(),n=D4(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=k,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const H=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(H,N),H.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function l(H){if(H>o)throw new RangeError('The value "'+H+'" is invalid for option "size"');const N=new Uint8Array(H);return Object.setPrototypeOf(N,c.prototype),N}function c(H,N,R){if(typeof H=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(H)}return u(H,N,R)}c.poolSize=8192;function u(H,N,R){if(typeof H=="string")return w(H,N);if(ArrayBuffer.isView(H))return b(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(ae(H,ArrayBuffer)||H&&ae(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(H,SharedArrayBuffer)||H&&ae(H.buffer,SharedArrayBuffer)))return g(H,N,R);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const K=H.valueOf&&H.valueOf();if(K!=null&&K!==H)return c.from(K,N,R);const re=x(H);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return c.from(H[Symbol.toPrimitive]("string"),N,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}c.from=function(H,N,R){return u(H,N,R)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function f(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function p(H,N,R){return f(H),H<=0?l(H):N!==void 0?typeof R=="string"?l(H).fill(N,R):l(H).fill(N):l(H)}c.alloc=function(H,N,R){return p(H,N,R)};function h(H){return f(H),l(H<0?0:E(H)|0)}c.allocUnsafe=function(H){return h(H)},c.allocUnsafeSlow=function(H){return h(H)};function w(H,N){if((typeof N!="string"||N==="")&&(N="utf8"),!c.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const R=C(H,N)|0;let K=l(R);const re=K.write(H,N);return re!==R&&(K=K.slice(0,re)),K}function y(H){const N=H.length<0?0:E(H.length)|0,R=l(N);for(let K=0;K<N;K+=1)R[K]=H[K]&255;return R}function b(H){if(ae(H,Uint8Array)){const N=new Uint8Array(H);return g(N.buffer,N.byteOffset,N.byteLength)}return y(H)}function g(H,N,R){if(N<0||H.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<N+(R||0))throw new RangeError('"length" is outside of buffer bounds');let K;return N===void 0&&R===void 0?K=new Uint8Array(H):R===void 0?K=new Uint8Array(H,N):K=new Uint8Array(H,N,R),Object.setPrototypeOf(K,c.prototype),K}function x(H){if(c.isBuffer(H)){const N=E(H.length)|0,R=l(N);return R.length===0||H.copy(R,0,0,N),R}if(H.length!==void 0)return typeof H.length!="number"||Te(H.length)?l(0):y(H);if(H.type==="Buffer"&&Array.isArray(H.data))return y(H.data)}function E(H){if(H>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return H|0}function k(H){return+H!=H&&(H=0),c.alloc(+H)}c.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==c.prototype},c.compare=function(N,R){if(ae(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),ae(R,Uint8Array)&&(R=c.from(R,R.offset,R.byteLength)),!c.isBuffer(N)||!c.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===R)return 0;let K=N.length,re=R.length;for(let ue=0,he=Math.min(K,re);ue<he;++ue)if(N[ue]!==R[ue]){K=N[ue],re=R[ue];break}return K<re?-1:re<K?1:0},c.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(N,R){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return c.alloc(0);let K;if(R===void 0)for(R=0,K=0;K<N.length;++K)R+=N[K].length;const re=c.allocUnsafe(R);let ue=0;for(K=0;K<N.length;++K){let he=N[K];if(ae(he,Uint8Array))ue+he.length>re.length?(c.isBuffer(he)||(he=c.from(he)),he.copy(re,ue)):Uint8Array.prototype.set.call(re,he,ue);else if(c.isBuffer(he))he.copy(re,ue);else throw new TypeError('"list" argument must be an Array of Buffers');ue+=he.length}return re};function C(H,N){if(c.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||ae(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const R=H.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&R===0)return 0;let re=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return Y(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return be(H).length;default:if(re)return K?-1:Y(H).length;N=(""+N).toLowerCase(),re=!0}}c.byteLength=C;function A(H,N,R){let K=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,N>>>=0,R<=N))return"";for(H||(H="utf8");;)switch(H){case"hex":return q(this,N,R);case"utf8":case"utf-8":return P(this,N,R);case"ascii":return J(this,N,R);case"latin1":case"binary":return ee(this,N,R);case"base64":return V(this,N,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,N,R);default:if(K)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),K=!0}}c.prototype._isBuffer=!0;function I(H,N,R){const K=H[N];H[N]=H[R],H[R]=K}c.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let R=0;R<N;R+=2)I(this,R,R+1);return this},c.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let R=0;R<N;R+=4)I(this,R,R+3),I(this,R+1,R+2);return this},c.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let R=0;R<N;R+=8)I(this,R,R+7),I(this,R+1,R+6),I(this,R+2,R+5),I(this,R+3,R+4);return this},c.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?P(this,0,N):A.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(N){if(!c.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:c.compare(this,N)===0},c.prototype.inspect=function(){let N="";const R=e.INSPECT_MAX_BYTES;return N=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(N+=" ... "),"<Buffer "+N+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(N,R,K,re,ue){if(ae(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),!c.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(R===void 0&&(R=0),K===void 0&&(K=N?N.length:0),re===void 0&&(re=0),ue===void 0&&(ue=this.length),R<0||K>N.length||re<0||ue>this.length)throw new RangeError("out of range index");if(re>=ue&&R>=K)return 0;if(re>=ue)return-1;if(R>=K)return 1;if(R>>>=0,K>>>=0,re>>>=0,ue>>>=0,this===N)return 0;let he=ue-re,Xe=K-R;const yt=Math.min(he,Xe),nt=this.slice(re,ue),pt=N.slice(R,K);for(let at=0;at<yt;++at)if(nt[at]!==pt[at]){he=nt[at],Xe=pt[at];break}return he<Xe?-1:Xe<he?1:0};function L(H,N,R,K,re){if(H.length===0)return-1;if(typeof R=="string"?(K=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,Te(R)&&(R=re?0:H.length-1),R<0&&(R=H.length+R),R>=H.length){if(re)return-1;R=H.length-1}else if(R<0)if(re)R=0;else return-1;if(typeof N=="string"&&(N=c.from(N,K)),c.isBuffer(N))return N.length===0?-1:z(H,N,R,K,re);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(H,N,R):Uint8Array.prototype.lastIndexOf.call(H,N,R):z(H,[N],R,K,re);throw new TypeError("val must be string, number or Buffer")}function z(H,N,R,K,re){let ue=1,he=H.length,Xe=N.length;if(K!==void 0&&(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(H.length<2||N.length<2)return-1;ue=2,he/=2,Xe/=2,R/=2}function yt(pt,at){return ue===1?pt[at]:pt.readUInt16BE(at*ue)}let nt;if(re){let pt=-1;for(nt=R;nt<he;nt++)if(yt(H,nt)===yt(N,pt===-1?0:nt-pt)){if(pt===-1&&(pt=nt),nt-pt+1===Xe)return pt*ue}else pt!==-1&&(nt-=nt-pt),pt=-1}else for(R+Xe>he&&(R=he-Xe),nt=R;nt>=0;nt--){let pt=!0;for(let at=0;at<Xe;at++)if(yt(H,nt+at)!==yt(N,at)){pt=!1;break}if(pt)return nt}return-1}c.prototype.includes=function(N,R,K){return this.indexOf(N,R,K)!==-1},c.prototype.indexOf=function(N,R,K){return L(this,N,R,K,!0)},c.prototype.lastIndexOf=function(N,R,K){return L(this,N,R,K,!1)};function $(H,N,R,K){R=Number(R)||0;const re=H.length-R;K?(K=Number(K),K>re&&(K=re)):K=re;const ue=N.length;K>ue/2&&(K=ue/2);let he;for(he=0;he<K;++he){const Xe=parseInt(N.substr(he*2,2),16);if(Te(Xe))return he;H[R+he]=Xe}return he}function O(H,N,R,K){return Ee(Y(N,H.length-R),H,R,K)}function B(H,N,R,K){return Ee(G(N),H,R,K)}function W(H,N,R,K){return Ee(be(N),H,R,K)}function M(H,N,R,K){return Ee(ie(N,H.length-R),H,R,K)}c.prototype.write=function(N,R,K,re){if(R===void 0)re="utf8",K=this.length,R=0;else if(K===void 0&&typeof R=="string")re=R,K=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(K)?(K=K>>>0,re===void 0&&(re="utf8")):(re=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ue=this.length-R;if((K===void 0||K>ue)&&(K=ue),N.length>0&&(K<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");let he=!1;for(;;)switch(re){case"hex":return $(this,N,R,K);case"utf8":case"utf-8":return O(this,N,R,K);case"ascii":case"latin1":case"binary":return B(this,N,R,K);case"base64":return W(this,N,R,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,N,R,K);default:if(he)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),he=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(H,N,R){return N===0&&R===H.length?t.fromByteArray(H):t.fromByteArray(H.slice(N,R))}function P(H,N,R){R=Math.min(H.length,R);const K=[];let re=N;for(;re<R;){const ue=H[re];let he=null,Xe=ue>239?4:ue>223?3:ue>191?2:1;if(re+Xe<=R){let yt,nt,pt,at;switch(Xe){case 1:ue<128&&(he=ue);break;case 2:yt=H[re+1],(yt&192)===128&&(at=(ue&31)<<6|yt&63,at>127&&(he=at));break;case 3:yt=H[re+1],nt=H[re+2],(yt&192)===128&&(nt&192)===128&&(at=(ue&15)<<12|(yt&63)<<6|nt&63,at>2047&&(at<55296||at>57343)&&(he=at));break;case 4:yt=H[re+1],nt=H[re+2],pt=H[re+3],(yt&192)===128&&(nt&192)===128&&(pt&192)===128&&(at=(ue&15)<<18|(yt&63)<<12|(nt&63)<<6|pt&63,at>65535&&at<1114112&&(he=at))}}he===null?(he=65533,Xe=1):he>65535&&(he-=65536,K.push(he>>>10&1023|55296),he=56320|he&1023),K.push(he),re+=Xe}return X(K)}const U=4096;function X(H){const N=H.length;if(N<=U)return String.fromCharCode.apply(String,H);let R="",K=0;for(;K<N;)R+=String.fromCharCode.apply(String,H.slice(K,K+=U));return R}function J(H,N,R){let K="";R=Math.min(H.length,R);for(let re=N;re<R;++re)K+=String.fromCharCode(H[re]&127);return K}function ee(H,N,R){let K="";R=Math.min(H.length,R);for(let re=N;re<R;++re)K+=String.fromCharCode(H[re]);return K}function q(H,N,R){const K=H.length;(!N||N<0)&&(N=0),(!R||R<0||R>K)&&(R=K);let re="";for(let ue=N;ue<R;++ue)re+=Le[H[ue]];return re}function oe(H,N,R){const K=H.slice(N,R);let re="";for(let ue=0;ue<K.length-1;ue+=2)re+=String.fromCharCode(K[ue]+K[ue+1]*256);return re}c.prototype.slice=function(N,R){const K=this.length;N=~~N,R=R===void 0?K:~~R,N<0?(N+=K,N<0&&(N=0)):N>K&&(N=K),R<0?(R+=K,R<0&&(R=0)):R>K&&(R=K),R<N&&(R=N);const re=this.subarray(N,R);return Object.setPrototypeOf(re,c.prototype),re};function D(H,N,R){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+N>R)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(N,R,K){N=N>>>0,R=R>>>0,K||D(N,R,this.length);let re=this[N],ue=1,he=0;for(;++he<R&&(ue*=256);)re+=this[N+he]*ue;return re},c.prototype.readUintBE=c.prototype.readUIntBE=function(N,R,K){N=N>>>0,R=R>>>0,K||D(N,R,this.length);let re=this[N+--R],ue=1;for(;R>0&&(ue*=256);)re+=this[N+--R]*ue;return re},c.prototype.readUint8=c.prototype.readUInt8=function(N,R){return N=N>>>0,R||D(N,1,this.length),this[N]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(N,R){return N=N>>>0,R||D(N,2,this.length),this[N]|this[N+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(N,R){return N=N>>>0,R||D(N,2,this.length),this[N]<<8|this[N+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(N,R){return N=N>>>0,R||D(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(N,R){return N=N>>>0,R||D(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},c.prototype.readBigUInt64LE=Ne(function(N){N=N>>>0,Ye(N,"offset");const R=this[N],K=this[N+7];(R===void 0||K===void 0)&&j(N,this.length-8);const re=R+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,ue=this[++N]+this[++N]*2**8+this[++N]*2**16+K*2**24;return BigInt(re)+(BigInt(ue)<<BigInt(32))}),c.prototype.readBigUInt64BE=Ne(function(N){N=N>>>0,Ye(N,"offset");const R=this[N],K=this[N+7];(R===void 0||K===void 0)&&j(N,this.length-8);const re=R*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],ue=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+K;return(BigInt(re)<<BigInt(32))+BigInt(ue)}),c.prototype.readIntLE=function(N,R,K){N=N>>>0,R=R>>>0,K||D(N,R,this.length);let re=this[N],ue=1,he=0;for(;++he<R&&(ue*=256);)re+=this[N+he]*ue;return ue*=128,re>=ue&&(re-=Math.pow(2,8*R)),re},c.prototype.readIntBE=function(N,R,K){N=N>>>0,R=R>>>0,K||D(N,R,this.length);let re=R,ue=1,he=this[N+--re];for(;re>0&&(ue*=256);)he+=this[N+--re]*ue;return ue*=128,he>=ue&&(he-=Math.pow(2,8*R)),he},c.prototype.readInt8=function(N,R){return N=N>>>0,R||D(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},c.prototype.readInt16LE=function(N,R){N=N>>>0,R||D(N,2,this.length);const K=this[N]|this[N+1]<<8;return K&32768?K|4294901760:K},c.prototype.readInt16BE=function(N,R){N=N>>>0,R||D(N,2,this.length);const K=this[N+1]|this[N]<<8;return K&32768?K|4294901760:K},c.prototype.readInt32LE=function(N,R){return N=N>>>0,R||D(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},c.prototype.readInt32BE=function(N,R){return N=N>>>0,R||D(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},c.prototype.readBigInt64LE=Ne(function(N){N=N>>>0,Ye(N,"offset");const R=this[N],K=this[N+7];(R===void 0||K===void 0)&&j(N,this.length-8);const re=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(K<<24);return(BigInt(re)<<BigInt(32))+BigInt(R+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),c.prototype.readBigInt64BE=Ne(function(N){N=N>>>0,Ye(N,"offset");const R=this[N],K=this[N+7];(R===void 0||K===void 0)&&j(N,this.length-8);const re=(R<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(re)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+K)}),c.prototype.readFloatLE=function(N,R){return N=N>>>0,R||D(N,4,this.length),n.read(this,N,!0,23,4)},c.prototype.readFloatBE=function(N,R){return N=N>>>0,R||D(N,4,this.length),n.read(this,N,!1,23,4)},c.prototype.readDoubleLE=function(N,R){return N=N>>>0,R||D(N,8,this.length),n.read(this,N,!0,52,8)},c.prototype.readDoubleBE=function(N,R){return N=N>>>0,R||D(N,8,this.length),n.read(this,N,!1,52,8)};function Z(H,N,R,K,re,ue){if(!c.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>re||N<ue)throw new RangeError('"value" argument is out of bounds');if(R+K>H.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(N,R,K,re){if(N=+N,R=R>>>0,K=K>>>0,!re){const Xe=Math.pow(2,8*K)-1;Z(this,N,R,K,Xe,0)}let ue=1,he=0;for(this[R]=N&255;++he<K&&(ue*=256);)this[R+he]=N/ue&255;return R+K},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(N,R,K,re){if(N=+N,R=R>>>0,K=K>>>0,!re){const Xe=Math.pow(2,8*K)-1;Z(this,N,R,K,Xe,0)}let ue=K-1,he=1;for(this[R+ue]=N&255;--ue>=0&&(he*=256);)this[R+ue]=N/he&255;return R+K},c.prototype.writeUint8=c.prototype.writeUInt8=function(N,R,K){return N=+N,R=R>>>0,K||Z(this,N,R,1,255,0),this[R]=N&255,R+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(N,R,K){return N=+N,R=R>>>0,K||Z(this,N,R,2,65535,0),this[R]=N&255,this[R+1]=N>>>8,R+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(N,R,K){return N=+N,R=R>>>0,K||Z(this,N,R,2,65535,0),this[R]=N>>>8,this[R+1]=N&255,R+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(N,R,K){return N=+N,R=R>>>0,K||Z(this,N,R,4,4294967295,0),this[R+3]=N>>>24,this[R+2]=N>>>16,this[R+1]=N>>>8,this[R]=N&255,R+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(N,R,K){return N=+N,R=R>>>0,K||Z(this,N,R,4,4294967295,0),this[R]=N>>>24,this[R+1]=N>>>16,this[R+2]=N>>>8,this[R+3]=N&255,R+4};function ge(H,N,R,K,re){qe(N,K,re,H,R,7);let ue=Number(N&BigInt(4294967295));H[R++]=ue,ue=ue>>8,H[R++]=ue,ue=ue>>8,H[R++]=ue,ue=ue>>8,H[R++]=ue;let he=Number(N>>BigInt(32)&BigInt(4294967295));return H[R++]=he,he=he>>8,H[R++]=he,he=he>>8,H[R++]=he,he=he>>8,H[R++]=he,R}function pe(H,N,R,K,re){qe(N,K,re,H,R,7);let ue=Number(N&BigInt(4294967295));H[R+7]=ue,ue=ue>>8,H[R+6]=ue,ue=ue>>8,H[R+5]=ue,ue=ue>>8,H[R+4]=ue;let he=Number(N>>BigInt(32)&BigInt(4294967295));return H[R+3]=he,he=he>>8,H[R+2]=he,he=he>>8,H[R+1]=he,he=he>>8,H[R]=he,R+8}c.prototype.writeBigUInt64LE=Ne(function(N,R=0){return ge(this,N,R,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Ne(function(N,R=0){return pe(this,N,R,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(N,R,K,re){if(N=+N,R=R>>>0,!re){const yt=Math.pow(2,8*K-1);Z(this,N,R,K,yt-1,-yt)}let ue=0,he=1,Xe=0;for(this[R]=N&255;++ue<K&&(he*=256);)N<0&&Xe===0&&this[R+ue-1]!==0&&(Xe=1),this[R+ue]=(N/he>>0)-Xe&255;return R+K},c.prototype.writeIntBE=function(N,R,K,re){if(N=+N,R=R>>>0,!re){const yt=Math.pow(2,8*K-1);Z(this,N,R,K,yt-1,-yt)}let ue=K-1,he=1,Xe=0;for(this[R+ue]=N&255;--ue>=0&&(he*=256);)N<0&&Xe===0&&this[R+ue+1]!==0&&(Xe=1),this[R+ue]=(N/he>>0)-Xe&255;return R+K},c.prototype.writeInt8=function(N,R,K){return N=+N,R=R>>>0,K||Z(this,N,R,1,127,-128),N<0&&(N=255+N+1),this[R]=N&255,R+1},c.prototype.writeInt16LE=function(N,R,K){return N=+N,R=R>>>0,K||Z(this,N,R,2,32767,-32768),this[R]=N&255,this[R+1]=N>>>8,R+2},c.prototype.writeInt16BE=function(N,R,K){return N=+N,R=R>>>0,K||Z(this,N,R,2,32767,-32768),this[R]=N>>>8,this[R+1]=N&255,R+2},c.prototype.writeInt32LE=function(N,R,K){return N=+N,R=R>>>0,K||Z(this,N,R,4,2147483647,-2147483648),this[R]=N&255,this[R+1]=N>>>8,this[R+2]=N>>>16,this[R+3]=N>>>24,R+4},c.prototype.writeInt32BE=function(N,R,K){return N=+N,R=R>>>0,K||Z(this,N,R,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[R]=N>>>24,this[R+1]=N>>>16,this[R+2]=N>>>8,this[R+3]=N&255,R+4},c.prototype.writeBigInt64LE=Ne(function(N,R=0){return ge(this,N,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Ne(function(N,R=0){return pe(this,N,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function me(H,N,R,K,re,ue){if(R+K>H.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function Ae(H,N,R,K,re){return N=+N,R=R>>>0,re||me(H,N,R,4),n.write(H,N,R,K,23,4),R+4}c.prototype.writeFloatLE=function(N,R,K){return Ae(this,N,R,!0,K)},c.prototype.writeFloatBE=function(N,R,K){return Ae(this,N,R,!1,K)};function we(H,N,R,K,re){return N=+N,R=R>>>0,re||me(H,N,R,8),n.write(H,N,R,K,52,8),R+8}c.prototype.writeDoubleLE=function(N,R,K){return we(this,N,R,!0,K)},c.prototype.writeDoubleBE=function(N,R,K){return we(this,N,R,!1,K)},c.prototype.copy=function(N,R,K,re){if(!c.isBuffer(N))throw new TypeError("argument should be a Buffer");if(K||(K=0),!re&&re!==0&&(re=this.length),R>=N.length&&(R=N.length),R||(R=0),re>0&&re<K&&(re=K),re===K||N.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),N.length-R<re-K&&(re=N.length-R+K);const ue=re-K;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,K,re):Uint8Array.prototype.set.call(N,this.subarray(K,re),R),ue},c.prototype.fill=function(N,R,K,re){if(typeof N=="string"){if(typeof R=="string"?(re=R,R=0,K=this.length):typeof K=="string"&&(re=K,K=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!c.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(N.length===1){const he=N.charCodeAt(0);(re==="utf8"&&he<128||re==="latin1")&&(N=he)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(R<0||this.length<R||this.length<K)throw new RangeError("Out of range index");if(K<=R)return this;R=R>>>0,K=K===void 0?this.length:K>>>0,N||(N=0);let ue;if(typeof N=="number")for(ue=R;ue<K;++ue)this[ue]=N;else{const he=c.isBuffer(N)?N:c.from(N,re),Xe=he.length;if(Xe===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(ue=0;ue<K-R;++ue)this[ue+R]=he[ue%Xe]}return this};const xe={};function Se(H,N,R){xe[H]=class extends R{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(re){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:re,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(H,N){return`The "${H}" argument must be of type number. Received type ${typeof N}`},TypeError),Se("ERR_OUT_OF_RANGE",function(H,N,R){let K=`The value of "${H}" is out of range.`,re=R;return Number.isInteger(R)&&Math.abs(R)>2**32?re=Ie(String(R)):typeof R=="bigint"&&(re=String(R),(R>BigInt(2)**BigInt(32)||R<-(BigInt(2)**BigInt(32)))&&(re=Ie(re)),re+="n"),K+=` It must be ${N}. Received ${re}`,K},RangeError);function Ie(H){let N="",R=H.length;const K=H[0]==="-"?1:0;for(;R>=K+4;R-=3)N=`_${H.slice(R-3,R)}${N}`;return`${H.slice(0,R)}${N}`}function Ue(H,N,R){Ye(N,"offset"),(H[N]===void 0||H[N+R]===void 0)&&j(N,H.length-(R+1))}function qe(H,N,R,K,re,ue){if(H>R||H<N){const he=typeof N=="bigint"?"n":"";let Xe;throw N===0||N===BigInt(0)?Xe=`>= 0${he} and < 2${he} ** ${(ue+1)*8}${he}`:Xe=`>= -(2${he} ** ${(ue+1)*8-1}${he}) and < 2 ** ${(ue+1)*8-1}${he}`,new xe.ERR_OUT_OF_RANGE("value",Xe,H)}Ue(K,re,ue)}function Ye(H,N){if(typeof H!="number")throw new xe.ERR_INVALID_ARG_TYPE(N,"number",H)}function j(H,N,R){throw Math.floor(H)!==H?(Ye(H,R),new xe.ERR_OUT_OF_RANGE("offset","an integer",H)):N<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,H)}const ye=/[^+/0-9A-Za-z-_]/g;function de(H){if(H=H.split("=")[0],H=H.trim().replace(ye,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function Y(H,N){N=N||1/0;let R;const K=H.length;let re=null;const ue=[];for(let he=0;he<K;++he){if(R=H.charCodeAt(he),R>55295&&R<57344){if(!re){if(R>56319){(N-=3)>-1&&ue.push(239,191,189);continue}else if(he+1===K){(N-=3)>-1&&ue.push(239,191,189);continue}re=R;continue}if(R<56320){(N-=3)>-1&&ue.push(239,191,189),re=R;continue}R=(re-55296<<10|R-56320)+65536}else re&&(N-=3)>-1&&ue.push(239,191,189);if(re=null,R<128){if((N-=1)<0)break;ue.push(R)}else if(R<2048){if((N-=2)<0)break;ue.push(R>>6|192,R&63|128)}else if(R<65536){if((N-=3)<0)break;ue.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((N-=4)<0)break;ue.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return ue}function G(H){const N=[];for(let R=0;R<H.length;++R)N.push(H.charCodeAt(R)&255);return N}function ie(H,N){let R,K,re;const ue=[];for(let he=0;he<H.length&&!((N-=2)<0);++he)R=H.charCodeAt(he),K=R>>8,re=R%256,ue.push(re),ue.push(K);return ue}function be(H){return t.toByteArray(de(H))}function Ee(H,N,R,K){let re;for(re=0;re<K&&!(re+R>=N.length||re>=H.length);++re)N[re+R]=H[re];return re}function ae(H,N){return H instanceof N||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===N.name}function Te(H){return H!==H}const Le=function(){const H="0123456789abcdef",N=new Array(256);for(let R=0;R<16;++R){const K=R*16;for(let re=0;re<16;++re)N[K+re]=H[R]+H[re]}return N}();function Ne(H){return typeof BigInt>"u"?Ze:H}function Ze(){throw new Error("BigInt not supported")}}(Bp)),Bp}var B4=z4();const F4=Yd(B4);globalThis.Buffer||(globalThis.Buffer=F4.Buffer);AbortSignal.any||(AbortSignal.any=function(e){if(e.length===0)return new AbortController().signal;if(e.length===1)return e[0];for(const r of e)if(r.aborted){const o=new AbortController;return o.abort(r.reason),o.signal}const t=new AbortController,n=r=>{const o=r.target;t.abort(o.reason)};for(const r of e)r.addEventListener("abort",n,{once:!0});return t.signal.addEventListener("abort",()=>{for(const r of e)r.removeEventListener("abort",n)},{once:!0}),t.signal});AbortSignal.timeout||(AbortSignal.timeout=function(e){const t=new AbortController;return setTimeout(()=>{t.abort(new DOMException("The operation was aborted due to timeout","TimeoutError"))},e),t.signal});var _=Jd();const Xo=Yd(_),uy=N4({__proto__:null,default:Xo},[_]);class $4 extends _.Component{constructor(n){super(n);je(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n,r;return this.state.hasError?this.props.fallback?this.props.fallback:m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:m.jsxs("div",{className:"max-w-md w-full space-y-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),m.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. The error has been reported."})]}),m.jsx("div",{className:"bg-muted p-4 rounded-lg",children:m.jsxs("details",{className:"text-sm",children:[m.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Error details"}),m.jsxs("div",{className:"mt-2 space-y-2",children:[m.jsxs("div",{children:[m.jsx("strong",{className:"text-foreground",children:"Message:"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:(n=this.state.error)==null?void 0:n.message})]}),((r=this.state.error)==null?void 0:r.stack)&&m.jsxs("div",{children:[m.jsx("strong",{className:"text-foreground",children:"Stack trace:"}),m.jsx("pre",{className:"text-xs text-muted-foreground mt-1 overflow-auto max-h-32",children:this.state.error.stack})]})]})]})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try again"}),m.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload page"})]})]})}):this.props.children}}var Ia=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},li=typeof window>"u"||"Deno"in globalThis;function Xn(){}function U4(e,t){return typeof e=="function"?e(t):e}function qm(e){return typeof e=="number"&&e>=0&&e!==1/0}function r2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function na(e,t){return typeof e=="function"?e(t):e}function vr(e,t){return typeof e=="function"?e(t):e}function n1(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:l,stale:c}=e;if(l){if(r){if(t.queryHash!==dy(l,t.options))return!1}else if(!Jl(t.queryKey,l))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||o&&o!==t.state.fetchStatus||i&&!i(t))}function r1(e,t){const{exact:n,status:r,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(ci(t.options.mutationKey)!==ci(i))return!1}else if(!Jl(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function dy(e,t){return((t==null?void 0:t.queryKeyHashFn)||ci)(e)}function ci(e){return JSON.stringify(e,(t,n)=>Km(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Jl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Jl(e[n],t[n])):!1}function o2(e,t){if(e===t)return e;const n=o1(e)&&o1(t);if(n||Km(e)&&Km(t)){const r=n?e:Object.keys(e),o=r.length,i=n?t:Object.keys(t),l=i.length,c=n?[]:{};let u=0;for(let f=0;f<l;f++){const p=n?f:i[f];(!n&&r.includes(p)||n)&&e[p]===void 0&&t[p]===void 0?(c[p]=void 0,u++):(c[p]=o2(e[p],t[p]),c[p]===e[p]&&e[p]!==void 0&&u++)}return o===l&&u===o?e:c}return t}function xd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function o1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Km(e){if(!s1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!s1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function s1(e){return Object.prototype.toString.call(e)==="[object Object]"}function H4(e){return new Promise(t=>{setTimeout(t,e)})}function Gm(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?o2(e,t):t}function W4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function V4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var fy=Symbol();function s2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===fy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ys,ns,ca,WE,Z4=(WE=class extends Ia{constructor(){super();We(this,Ys);We(this,ns);We(this,ca);Me(this,ca,t=>{if(!li&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){te(this,ns)||this.setEventListener(te(this,ca))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,ns))==null||t.call(this),Me(this,ns,void 0))}setEventListener(t){var n;Me(this,ca,t),(n=te(this,ns))==null||n.call(this),Me(this,ns,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){te(this,Ys)!==t&&(Me(this,Ys,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof te(this,Ys)=="boolean"?te(this,Ys):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ys=new WeakMap,ns=new WeakMap,ca=new WeakMap,WE),hy=new Z4,ua,rs,da,VE,q4=(VE=class extends Ia{constructor(){super();We(this,ua,!0);We(this,rs);We(this,da);Me(this,da,t=>{if(!li&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){te(this,rs)||this.setEventListener(te(this,da))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,rs))==null||t.call(this),Me(this,rs,void 0))}setEventListener(t){var n;Me(this,da,t),(n=te(this,rs))==null||n.call(this),Me(this,rs,t(this.setOnline.bind(this)))}setOnline(t){te(this,ua)!==t&&(Me(this,ua,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return te(this,ua)}},ua=new WeakMap,rs=new WeakMap,da=new WeakMap,VE),bd=new q4;function Ym(){let e,t;const n=new Promise((o,i)=>{e=o,t=i});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function K4(e){return Math.min(1e3*2**e,3e4)}function i2(e){return(e??"online")==="online"?bd.isOnline():!0}var a2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Fp(e){return e instanceof a2}function l2(e){let t=!1,n=0,r=!1,o;const i=Ym(),l=g=>{var x;r||(w(new a2(g)),(x=e.abort)==null||x.call(e))},c=()=>{t=!0},u=()=>{t=!1},f=()=>hy.isFocused()&&(e.networkMode==="always"||bd.isOnline())&&e.canRun(),p=()=>i2(e.networkMode)&&e.canRun(),h=g=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,g),o==null||o(),i.resolve(g))},w=g=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,g),o==null||o(),i.reject(g))},y=()=>new Promise(g=>{var x;o=E=>{(r||f())&&g(E)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;o=void 0,r||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(r)return;let g;const x=n===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(E){g=Promise.reject(E)}Promise.resolve(g).then(h).catch(E=>{var L;if(r)return;const k=e.retry??(li?0:3),C=e.retryDelay??K4,A=typeof C=="function"?C(n,E):C,I=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,E);if(t||!I){w(E);return}n++,(L=e.onFail)==null||L.call(e,n,E),H4(A).then(()=>f()?void 0:y()).then(()=>{t?w(E):b()})})};return{promise:i,cancel:l,continue:()=>(o==null||o(),i),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?b():y().then(b),i)}}var G4=e=>setTimeout(e,0);function Y4(){let e=[],t=0,n=c=>{c()},r=c=>{c()},o=G4;const i=c=>{t?e.push(c):o(()=>{n(c)})},l=()=>{const c=e;e=[],c.length&&o(()=>{r(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||l()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{o=c}}}var Vt=Y4(),Js,ZE,c2=(ZE=class{constructor(){We(this,Js)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qm(this.gcTime)&&Me(this,Js,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(li?1/0:5*60*1e3))}clearGcTimeout(){te(this,Js)&&(clearTimeout(te(this,Js)),Me(this,Js,void 0))}},Js=new WeakMap,ZE),fa,ha,Qn,Qs,sn,gc,Xs,gr,ro,qE,J4=(qE=class extends c2{constructor(t){super();We(this,gr);We(this,fa);We(this,ha);We(this,Qn);We(this,Qs);We(this,sn);We(this,gc);We(this,Xs);Me(this,Xs,!1),Me(this,gc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Me(this,Qs,t.client),Me(this,Qn,te(this,Qs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Me(this,fa,Q4(this.options)),this.state=t.state??te(this,fa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,sn))==null?void 0:t.promise}setOptions(t){this.options={...te(this,gc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,Qn).remove(this)}setData(t,n){const r=Gm(this.state.data,t,this.options);return et(this,gr,ro).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){et(this,gr,ro).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=te(this,sn))==null?void 0:r.promise;return(o=te(this,sn))==null||o.cancel(t),n?n.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,fa))}isActive(){return this.observers.some(t=>vr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!r2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=te(this,sn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=te(this,sn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,Qn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(te(this,sn)&&(te(this,Xs)?te(this,sn).cancel({revert:!0}):te(this,sn).cancelRetry()),this.scheduleGc()),te(this,Qn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||et(this,gr,ro).call(this,{type:"invalidate"})}fetch(t,n){var u,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(te(this,sn))return te(this,sn).continueRetry(),te(this,sn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(w=>w.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,o=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Me(this,Xs,!0),r.signal)})},i=()=>{const h=s2(this.options,n),w={client:te(this,Qs),queryKey:this.queryKey,meta:this.meta};return o(w),Me(this,Xs,!1),this.options.persister?this.options.persister(h,w,this):h(w)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:te(this,Qs),state:this.state,fetchFn:i};o(l),(u=this.options.behavior)==null||u.onFetch(l,this),Me(this,ha,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&et(this,gr,ro).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=h=>{var w,y,b,g;Fp(h)&&h.silent||et(this,gr,ro).call(this,{type:"error",error:h}),Fp(h)||((y=(w=te(this,Qn).config).onError)==null||y.call(w,h,this),(g=(b=te(this,Qn).config).onSettled)==null||g.call(b,this.state.data,h,this)),this.scheduleGc()};return Me(this,sn,l2({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var w,y,b,g;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){c(x);return}(y=(w=te(this,Qn).config).onSuccess)==null||y.call(w,h,this),(g=(b=te(this,Qn).config).onSettled)==null||g.call(b,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,w)=>{et(this,gr,ro).call(this,{type:"failed",failureCount:h,error:w})},onPause:()=>{et(this,gr,ro).call(this,{type:"pause"})},onContinue:()=>{et(this,gr,ro).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),te(this,sn).start()}},fa=new WeakMap,ha=new WeakMap,Qn=new WeakMap,Qs=new WeakMap,sn=new WeakMap,gc=new WeakMap,Xs=new WeakMap,gr=new WeakSet,ro=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...u2(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Fp(o)&&o.revert&&te(this,ha)?{...te(this,ha),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Vt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),te(this,Qn).notify({query:this,type:"updated",action:t})})},qE);function u2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:i2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Q4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Lr,KE,X4=(KE=class extends Ia{constructor(t={}){super();We(this,Lr);this.config=t,Me(this,Lr,new Map)}build(t,n,r){const o=n.queryKey,i=n.queryHash??dy(o,n);let l=this.get(i);return l||(l=new J4({client:t,queryKey:o,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(l)),l}add(t){te(this,Lr).has(t.queryHash)||(te(this,Lr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=te(this,Lr).get(t.queryHash);n&&(t.destroy(),n===t&&te(this,Lr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Vt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,Lr).get(t)}getAll(){return[...te(this,Lr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>n1(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>n1(t,r)):n}notify(t){Vt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Lr=new WeakMap,KE),Dr,mn,ei,zr,es,GE,eI=(GE=class extends c2{constructor(t){super();We(this,zr);We(this,Dr);We(this,mn);We(this,ei);this.mutationId=t.mutationId,Me(this,mn,t.mutationCache),Me(this,Dr,[]),this.state=t.state||d2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,Dr).includes(t)||(te(this,Dr).push(t),this.clearGcTimeout(),te(this,mn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Me(this,Dr,te(this,Dr).filter(n=>n!==t)),this.scheduleGc(),te(this,mn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,Dr).length||(this.state.status==="pending"?this.scheduleGc():te(this,mn).remove(this))}continue(){var t;return((t=te(this,ei))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,f,p,h,w,y,b,g,x,E,k,C,A,I,L,z,$;const n=()=>{et(this,zr,es).call(this,{type:"continue"})};Me(this,ei,l2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,B)=>{et(this,zr,es).call(this,{type:"failed",failureCount:O,error:B})},onPause:()=>{et(this,zr,es).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,mn).canRun(this)}));const r=this.state.status==="pending",o=!te(this,ei).canStart();try{if(r)n();else{et(this,zr,es).call(this,{type:"pending",variables:t,isPaused:o}),await((l=(i=te(this,mn).config).onMutate)==null?void 0:l.call(i,t,this));const B=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t));B!==this.state.context&&et(this,zr,es).call(this,{type:"pending",context:B,variables:t,isPaused:o})}const O=await te(this,ei).start();return await((p=(f=te(this,mn).config).onSuccess)==null?void 0:p.call(f,O,t,this.state.context,this)),await((w=(h=this.options).onSuccess)==null?void 0:w.call(h,O,t,this.state.context)),await((b=(y=te(this,mn).config).onSettled)==null?void 0:b.call(y,O,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,O,null,t,this.state.context)),et(this,zr,es).call(this,{type:"success",data:O}),O}catch(O){try{throw await((k=(E=te(this,mn).config).onError)==null?void 0:k.call(E,O,t,this.state.context,this)),await((A=(C=this.options).onError)==null?void 0:A.call(C,O,t,this.state.context)),await((L=(I=te(this,mn).config).onSettled)==null?void 0:L.call(I,void 0,O,this.state.variables,this.state.context,this)),await(($=(z=this.options).onSettled)==null?void 0:$.call(z,void 0,O,t,this.state.context)),O}finally{et(this,zr,es).call(this,{type:"error",error:O})}}finally{te(this,mn).runNext(this)}}},Dr=new WeakMap,mn=new WeakMap,ei=new WeakMap,zr=new WeakSet,es=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Vt.batch(()=>{te(this,Dr).forEach(r=>{r.onMutationUpdate(t)}),te(this,mn).notify({mutation:this,type:"updated",action:t})})},GE);function d2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var io,yr,yc,YE,tI=(YE=class extends Ia{constructor(t={}){super();We(this,io);We(this,yr);We(this,yc);this.config=t,Me(this,io,new Set),Me(this,yr,new Map),Me(this,yc,0)}build(t,n,r){const o=new eI({mutationCache:this,mutationId:++Vu(this,yc)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){te(this,io).add(t);const n=Gu(t);if(typeof n=="string"){const r=te(this,yr).get(n);r?r.push(t):te(this,yr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(te(this,io).delete(t)){const n=Gu(t);if(typeof n=="string"){const r=te(this,yr).get(n);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&te(this,yr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Gu(t);if(typeof n=="string"){const r=te(this,yr).get(n),o=r==null?void 0:r.find(i=>i.state.status==="pending");return!o||o===t}else return!0}runNext(t){var r;const n=Gu(t);if(typeof n=="string"){const o=(r=te(this,yr).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vt.batch(()=>{te(this,io).forEach(t=>{this.notify({type:"removed",mutation:t})}),te(this,io).clear(),te(this,yr).clear()})}getAll(){return Array.from(te(this,io))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>r1(n,r))}findAll(t={}){return this.getAll().filter(n=>r1(t,n))}notify(t){Vt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Vt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Xn))))}},io=new WeakMap,yr=new WeakMap,yc=new WeakMap,YE);function Gu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function i1(e){return{onFetch:(t,n)=>{var p,h,w,y,b;const r=t.options,o=(w=(h=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:h.fetchMore)==null?void 0:w.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],l=((b=t.state.data)==null?void 0:b.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const f=async()=>{let g=!1;const x=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},E=s2(t.options,t.fetchOptions),k=async(C,A,I)=>{if(g)return Promise.reject();if(A==null&&C.pages.length)return Promise.resolve(C);const L={client:t.client,queryKey:t.queryKey,pageParam:A,direction:I?"backward":"forward",meta:t.options.meta};x(L);const z=await E(L),{maxPages:$}=t.options,O=I?V4:W4;return{pages:O(C.pages,z,$),pageParams:O(C.pageParams,A,$)}};if(o&&i.length){const C=o==="backward",A=C?nI:a1,I={pages:i,pageParams:l},L=A(r,I);c=await k(I,L,C)}else{const C=e??i.length;do{const A=u===0?l[0]??r.initialPageParam:a1(r,c);if(u>0&&A==null)break;c=await k(c,A),u++}while(u<C)}return c};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function a1(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function nI(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var jt,os,ss,pa,ma,is,ga,ya,JE,rI=(JE=class{constructor(e={}){We(this,jt);We(this,os);We(this,ss);We(this,pa);We(this,ma);We(this,is);We(this,ga);We(this,ya);Me(this,jt,e.queryCache||new X4),Me(this,os,e.mutationCache||new tI),Me(this,ss,e.defaultOptions||{}),Me(this,pa,new Map),Me(this,ma,new Map),Me(this,is,0)}mount(){Vu(this,is)._++,te(this,is)===1&&(Me(this,ga,hy.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,jt).onFocus())})),Me(this,ya,bd.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,jt).onOnline())})))}unmount(){var e,t;Vu(this,is)._--,te(this,is)===0&&((e=te(this,ga))==null||e.call(this),Me(this,ga,void 0),(t=te(this,ya))==null||t.call(this),Me(this,ya,void 0))}isFetching(e){return te(this,jt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,os).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=te(this,jt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=te(this,jt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(na(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return te(this,jt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=te(this,jt).get(r.queryHash),i=o==null?void 0:o.state.data,l=U4(t,i);if(l!==void 0)return te(this,jt).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Vt.batch(()=>te(this,jt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=te(this,jt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=te(this,jt);Vt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=te(this,jt);return Vt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Vt.batch(()=>te(this,jt).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(Xn).catch(Xn)}invalidateQueries(e,t={}){return Vt.batch(()=>(te(this,jt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Vt.batch(()=>te(this,jt).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let i=o.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xn)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=te(this,jt).build(this,t);return n.isStaleByTime(na(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xn).catch(Xn)}fetchInfiniteQuery(e){return e.behavior=i1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xn).catch(Xn)}ensureInfiniteQueryData(e){return e.behavior=i1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bd.isOnline()?te(this,os).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,jt)}getMutationCache(){return te(this,os)}getDefaultOptions(){return te(this,ss)}setDefaultOptions(e){Me(this,ss,e)}setQueryDefaults(e,t){te(this,pa).set(ci(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,pa).values()],n={};return t.forEach(r=>{Jl(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){te(this,ma).set(ci(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,ma).values()],n={};return t.forEach(r=>{Jl(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,ss).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===fy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,ss).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,jt).clear(),te(this,os).clear()}},jt=new WeakMap,os=new WeakMap,ss=new WeakMap,pa=new WeakMap,ma=new WeakMap,is=new WeakMap,ga=new WeakMap,ya=new WeakMap,JE),Cn,it,vc,gn,ti,va,as,ls,wc,wa,xa,ni,ri,cs,ba,ht,$l,Jm,Qm,Xm,eg,tg,ng,rg,f2,QE,oI=(QE=class extends Ia{constructor(t,n){super();We(this,ht);We(this,Cn);We(this,it);We(this,vc);We(this,gn);We(this,ti);We(this,va);We(this,as);We(this,ls);We(this,wc);We(this,wa);We(this,xa);We(this,ni);We(this,ri);We(this,cs);We(this,ba,new Set);this.options=n,Me(this,Cn,t),Me(this,ls,null),Me(this,as,Ym()),this.options.experimental_prefetchInRender||te(this,as).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,it).addObserver(this),l1(te(this,it),this.options)?et(this,ht,$l).call(this):this.updateResult(),et(this,ht,eg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return og(te(this,it),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return og(te(this,it),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,et(this,ht,tg).call(this),et(this,ht,ng).call(this),te(this,it).removeObserver(this)}setOptions(t){const n=this.options,r=te(this,it);if(this.options=te(this,Cn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vr(this.options.enabled,te(this,it))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");et(this,ht,rg).call(this),te(this,it).setOptions(this.options),n._defaulted&&!xd(this.options,n)&&te(this,Cn).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,it),observer:this});const o=this.hasListeners();o&&c1(te(this,it),r,this.options,n)&&et(this,ht,$l).call(this),this.updateResult(),o&&(te(this,it)!==r||vr(this.options.enabled,te(this,it))!==vr(n.enabled,te(this,it))||na(this.options.staleTime,te(this,it))!==na(n.staleTime,te(this,it)))&&et(this,ht,Jm).call(this);const i=et(this,ht,Qm).call(this);o&&(te(this,it)!==r||vr(this.options.enabled,te(this,it))!==vr(n.enabled,te(this,it))||i!==te(this,cs))&&et(this,ht,Xm).call(this,i)}getOptimisticResult(t){const n=te(this,Cn).getQueryCache().build(te(this,Cn),t),r=this.createResult(n,t);return iI(this,r)&&(Me(this,gn,r),Me(this,va,this.options),Me(this,ti,te(this,it).state)),r}getCurrentResult(){return te(this,gn)}trackResult(t,n){return new Proxy(t,{get:(r,o)=>(this.trackProp(o),n==null||n(o),Reflect.get(r,o))})}trackProp(t){te(this,ba).add(t)}getCurrentQuery(){return te(this,it)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=te(this,Cn).defaultQueryOptions(t),r=te(this,Cn).getQueryCache().build(te(this,Cn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return et(this,ht,$l).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,gn)))}createResult(t,n){var O;const r=te(this,it),o=this.options,i=te(this,gn),l=te(this,ti),c=te(this,va),f=t!==r?t.state:te(this,vc),{state:p}=t;let h={...p},w=!1,y;if(n._optimisticResults){const B=this.hasListeners(),W=!B&&l1(t,n),M=B&&c1(t,r,n,o);(W||M)&&(h={...h,...u2(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:x}=h;y=h.data;let E=!1;if(n.placeholderData!==void 0&&y===void 0&&x==="pending"){let B;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(B=i.data,E=!0):B=typeof n.placeholderData=="function"?n.placeholderData((O=te(this,xa))==null?void 0:O.state.data,te(this,xa)):n.placeholderData,B!==void 0&&(x="success",y=Gm(i==null?void 0:i.data,B,n),w=!0)}if(n.select&&y!==void 0&&!E)if(i&&y===(l==null?void 0:l.data)&&n.select===te(this,wc))y=te(this,wa);else try{Me(this,wc,n.select),y=n.select(y),y=Gm(i==null?void 0:i.data,y,n),Me(this,wa,y),Me(this,ls,null)}catch(B){Me(this,ls,B)}te(this,ls)&&(b=te(this,ls),y=te(this,wa),g=Date.now(),x="error");const k=h.fetchStatus==="fetching",C=x==="pending",A=x==="error",I=C&&k,L=y!==void 0,$={status:x,fetchStatus:h.fetchStatus,isPending:C,isSuccess:x==="success",isError:A,isInitialLoading:I,isLoading:I,data:y,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>f.dataUpdateCount||h.errorUpdateCount>f.errorUpdateCount,isFetching:k,isRefetching:k&&!C,isLoadingError:A&&!L,isPaused:h.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:A&&L,isStale:py(t,n),refetch:this.refetch,promise:te(this,as)};if(this.options.experimental_prefetchInRender){const B=V=>{$.status==="error"?V.reject($.error):$.data!==void 0&&V.resolve($.data)},W=()=>{const V=Me(this,as,$.promise=Ym());B(V)},M=te(this,as);switch(M.status){case"pending":t.queryHash===r.queryHash&&B(M);break;case"fulfilled":($.status==="error"||$.data!==M.value)&&W();break;case"rejected":($.status!=="error"||$.error!==M.reason)&&W();break}}return $}updateResult(){const t=te(this,gn),n=this.createResult(te(this,it),this.options);if(Me(this,ti,te(this,it).state),Me(this,va,this.options),te(this,ti).data!==void 0&&Me(this,xa,te(this,it)),xd(n,t))return;Me(this,gn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,i=typeof o=="function"?o():o;if(i==="all"||!i&&!te(this,ba).size)return!0;const l=new Set(i??te(this,ba));return this.options.throwOnError&&l.add("error"),Object.keys(te(this,gn)).some(c=>{const u=c;return te(this,gn)[u]!==t[u]&&l.has(u)})};et(this,ht,f2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&et(this,ht,eg).call(this)}},Cn=new WeakMap,it=new WeakMap,vc=new WeakMap,gn=new WeakMap,ti=new WeakMap,va=new WeakMap,as=new WeakMap,ls=new WeakMap,wc=new WeakMap,wa=new WeakMap,xa=new WeakMap,ni=new WeakMap,ri=new WeakMap,cs=new WeakMap,ba=new WeakMap,ht=new WeakSet,$l=function(t){et(this,ht,rg).call(this);let n=te(this,it).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Xn)),n},Jm=function(){et(this,ht,tg).call(this);const t=na(this.options.staleTime,te(this,it));if(li||te(this,gn).isStale||!qm(t))return;const r=r2(te(this,gn).dataUpdatedAt,t)+1;Me(this,ni,setTimeout(()=>{te(this,gn).isStale||this.updateResult()},r))},Qm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,it)):this.options.refetchInterval)??!1},Xm=function(t){et(this,ht,ng).call(this),Me(this,cs,t),!(li||vr(this.options.enabled,te(this,it))===!1||!qm(te(this,cs))||te(this,cs)===0)&&Me(this,ri,setInterval(()=>{(this.options.refetchIntervalInBackground||hy.isFocused())&&et(this,ht,$l).call(this)},te(this,cs)))},eg=function(){et(this,ht,Jm).call(this),et(this,ht,Xm).call(this,et(this,ht,Qm).call(this))},tg=function(){te(this,ni)&&(clearTimeout(te(this,ni)),Me(this,ni,void 0))},ng=function(){te(this,ri)&&(clearInterval(te(this,ri)),Me(this,ri,void 0))},rg=function(){const t=te(this,Cn).getQueryCache().build(te(this,Cn),this.options);if(t===te(this,it))return;const n=te(this,it);Me(this,it,t),Me(this,vc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},f2=function(t){Vt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(te(this,gn))}),te(this,Cn).getQueryCache().notify({query:te(this,it),type:"observerResultsUpdated"})})},QE);function sI(e,t){return vr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function l1(e,t){return sI(e,t)||e.state.data!==void 0&&og(e,t,t.refetchOnMount)}function og(e,t,n){if(vr(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&py(e,t)}return!1}function c1(e,t,n,r){return(e!==t||vr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&py(e,n)}function py(e,t){return vr(t.enabled,e)!==!1&&e.isStaleByTime(na(t.staleTime,e))}function iI(e,t){return!xd(e.getCurrentResult(),t)}var us,ds,Nn,ao,yo,hd,sg,XE,aI=(XE=class extends Ia{constructor(n,r){super();We(this,yo);We(this,us);We(this,ds);We(this,Nn);We(this,ao);Me(this,us,n),this.setOptions(r),this.bindMethods(),et(this,yo,hd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const r=this.options;this.options=te(this,us).defaultMutationOptions(n),xd(this.options,r)||te(this,us).getMutationCache().notify({type:"observerOptionsUpdated",mutation:te(this,Nn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ci(r.mutationKey)!==ci(this.options.mutationKey)?this.reset():((o=te(this,Nn))==null?void 0:o.state.status)==="pending"&&te(this,Nn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=te(this,Nn))==null||n.removeObserver(this)}onMutationUpdate(n){et(this,yo,hd).call(this),et(this,yo,sg).call(this,n)}getCurrentResult(){return te(this,ds)}reset(){var n;(n=te(this,Nn))==null||n.removeObserver(this),Me(this,Nn,void 0),et(this,yo,hd).call(this),et(this,yo,sg).call(this)}mutate(n,r){var o;return Me(this,ao,r),(o=te(this,Nn))==null||o.removeObserver(this),Me(this,Nn,te(this,us).getMutationCache().build(te(this,us),this.options)),te(this,Nn).addObserver(this),te(this,Nn).execute(n)}},us=new WeakMap,ds=new WeakMap,Nn=new WeakMap,ao=new WeakMap,yo=new WeakSet,hd=function(){var r;const n=((r=te(this,Nn))==null?void 0:r.state)??d2();Me(this,ds,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},sg=function(n){Vt.batch(()=>{var r,o,i,l,c,u,f,p;if(te(this,ao)&&this.hasListeners()){const h=te(this,ds).variables,w=te(this,ds).context;(n==null?void 0:n.type)==="success"?((o=(r=te(this,ao)).onSuccess)==null||o.call(r,n.data,h,w),(l=(i=te(this,ao)).onSettled)==null||l.call(i,n.data,null,h,w)):(n==null?void 0:n.type)==="error"&&((u=(c=te(this,ao)).onError)==null||u.call(c,n.error,h,w),(p=(f=te(this,ao)).onSettled)==null||p.call(f,void 0,n.error,h,w))}this.listeners.forEach(h=>{h(te(this,ds))})})},XE),h2=_.createContext(void 0),my=e=>{const t=_.useContext(h2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},lI=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),m.jsx(h2.Provider,{value:e,children:t})),p2=_.createContext(!1),cI=()=>_.useContext(p2);p2.Provider;function uI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var dI=_.createContext(uI()),fI=()=>_.useContext(dI);function m2(e,t){return typeof e=="function"?e(...t):!!e}function ig(){}var hI=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},pI=e=>{_.useEffect(()=>{e.clearReset()},[e])},mI=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(o&&e.data===void 0||m2(n,[e.error,r])),gI=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},yI=(e,t)=>e.isLoading&&e.isFetching&&!t,vI=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,u1=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function wI(e,t,n){var h,w,y,b,g;const r=my(),o=cI(),i=fI(),l=r.defaultQueryOptions(e);(w=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||w.call(h,l),l._optimisticResults=o?"isRestoring":"optimistic",gI(l),hI(l,i),pI(i);const c=!r.getQueryCache().get(l.queryHash),[u]=_.useState(()=>new t(r,l)),f=u.getOptimisticResult(l),p=!o&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(x=>{const E=p?u.subscribe(Vt.batchCalls(x)):ig;return u.updateResult(),E},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),_.useEffect(()=>{u.setOptions(l)},[l,u]),vI(l,f))throw u1(l,u,i);if(mI({result:f,errorResetBoundary:i,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;if((b=(y=r.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||b.call(y,l,f),l.experimental_prefetchInRender&&!li&&yI(f,o)){const x=c?u1(l,u,i):(g=r.getQueryCache().get(l.queryHash))==null?void 0:g.promise;x==null||x.catch(ig).finally(()=>{u.updateResult()})}return l.notifyOnChangeProps?f:u.trackResult(f)}function Fr(e,t){return wI(e,oI)}function gy(e,t){const n=my(),[r]=_.useState(()=>new aI(n,e));_.useEffect(()=>{r.setOptions(e)},[r,e]);const o=_.useSyncExternalStore(_.useCallback(l=>r.subscribe(Vt.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=_.useCallback((l,c)=>{r.mutate(l,c).catch(ig)},[r]);if(o.error&&m2(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:i,mutateAsync:o.mutate}}function ag(e,t={},n){for(const r in e){const o=e[r],i=n?`${n}:${r}`:r;typeof o=="object"&&o!==null?ag(o,t,i):typeof o=="function"&&(t[i]=o)}return t}const xI={run:e=>e()},bI=()=>xI,g2=typeof console.createTask<"u"?console.createTask:bI;function EI(e,t){const n=t.shift(),r=g2(n);return e.reduce((o,i)=>o.then(()=>r.run(()=>i(...t))),Promise.resolve())}function _I(e,t){const n=t.shift(),r=g2(n);return Promise.all(e.map(o=>r.run(()=>o(...t))))}function $p(e,t){for(const n of[...e])n(t)}class SI{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const o=t;let i;for(;this._deprecatedHooks[t];)i=this._deprecatedHooks[t],t=i.to;if(i&&!r.allowDeprecated){let l=i.message;l||(l=`${o} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(l)||(console.warn(l),this._deprecatedMessages.add(l))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,o=(...i)=>(typeof r=="function"&&r(),r=void 0,o=void 0,n(...i));return r=this.hook(t,o),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const o of r)this.hook(t,o)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=ag(t),r=Object.keys(n).map(o=>this.hook(o,n[o]));return()=>{for(const o of r.splice(0,r.length))o()}}removeHooks(t){const n=ag(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(EI,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(_I,t,...n)}callHookWith(t,n,...r){const o=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&$p(this._before,o);const i=t(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&o&&$p(this._after,o)}):(this._after&&o&&$p(this._after,o),i)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function kI(){return new SI}const CI=new Set(["link","style","script","noscript"]),NI=new Set(["title","titleTemplate","script","style","noscript"]),d1=new Set(["base","meta","link","style","script","noscript"]),TI=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),PI=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),RI=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),AI=new Set(["templateParams","htmlAttrs","bodyAttrs"]),yy=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),II=["name","property","http-equiv"];function y2(e){const t=e.split(":");return t.length?yy.has(t[1]):!1}function lg(e){const{props:t,tag:n}=e;if(PI.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of II)if(t[r]!==void 0)return`${n}:${t[r]}`}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(NI.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function f1(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,o])=>`${r}:${String(o)}`).join(",")}`}function cg(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let o;if(t&&(o=t(n,e)),Array.isArray(o))return o.map(i=>cg(i,t));if((o==null?void 0:o.constructor)===Object){const i={};for(const l of Object.keys(o))i[l]=cg(o[l],t,l);return i}return o}function jI(e,t){const n=e==="style"?new Map:new Set;function r(o){const i=o.trim();if(i)if(e==="style"){const[l,...c]=i.split(":").map(u=>u.trim());l&&c.length&&n.set(l,c.join(":"))}else i.split(" ").filter(Boolean).forEach(l=>n.add(l))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(o=>r(o)):t&&typeof t=="object"&&Object.entries(t).forEach(([o,i])=>{i&&i!=="false"&&(e==="style"?n.set(o.trim(),i):r(o))}),n}function v2(e,t){return e.props=e.props||{},t&&Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=jI(n,r);return}if(RI.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let l=t.type;if(t.type||(l="application/json"),!(l!=null&&l.endsWith("json"))&&l!=="speculationrules")return;t.type=l,e.props.type=l,e[n]=JSON.stringify(r)}else e[n]=r;return}const o=String(r),i=n.startsWith("data-");o==="true"||o===""?e.props[n]=i?o:!0:!r&&i&&o==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e}function OI(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=v2({tag:e,props:{}},n);return r.key&&CI.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(o=>({...r,props:{...r.props,content:o}})):r}function MI(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(o,i)=>{for(let l=0;l<t.length;l++)i=t[l](o,i);return i};e=n(void 0,e);const r=[];return e=cg(e,n),Object.entries(e||{}).forEach(([o,i])=>{if(i!==void 0)for(const l of Array.isArray(i)?i:[i])r.push(OI(o,l))}),r.flat()}const h1=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,p1={base:-10,title:10},LI={critical:-8,high:-1,low:2},m1={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},DI=/@import/,Ol=e=>e===""||e===!0;function zI(e,t){var i;if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=LI[t.tagPriority]||0,o=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:m1;if(t.tag in p1)n=p1[t.tag];else if(t.tag==="meta"){const l=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;l&&(n=m1.meta[l])}else t.tag==="link"&&t.props.rel?n=o.link[t.props.rel]:t.tag==="script"?Ol(t.props.async)?n=o.script.async:t.props.src&&!Ol(t.props.defer)&&!Ol(t.props.async)&&t.props.type!=="module"&&!((i=t.props.type)!=null&&i.endsWith("json"))?n=o.script.sync:Ol(t.props.defer)&&t.props.src&&!Ol(t.props.async)&&(n=o.script.defer):t.tag==="style"&&(n=t.innerHTML&&DI.test(t.innerHTML)?o.style.imported:o.style.sync);return(n||100)+r}function g1(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function BI(e={}){var c;const t=kI();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,o=new Map,i=[],l={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:u=>g1(l,u),push(u,f){const p={...f||{}};delete p.head;const h=p._index??l._entryCount++,w={_i:h,input:u,options:p},y={_poll(b=!1){l.dirty=!0,!b&&i.push(h),t.callHook("entries:updated",l)},dispose(){r.delete(h)&&y._poll(!0)},patch(b){(!p.mode||p.mode==="server"&&n||p.mode==="client"&&!n)&&(w.input=b,r.set(h,w),y._poll())}};return y.patch(u),y},async resolveTags(){var y;const u={tagMap:new Map,tags:[],entries:[...l.entries.values()]};for(await t.callHook("entries:resolve",u);i.length;){const b=i.shift(),g=r.get(b);if(g){const x={tags:MI(g.input,e.propResolvers||[]).map(E=>Object.assign(E,g.options)),entry:g};await t.callHook("entries:normalize",x),g._tags=x.tags.map((E,k)=>(E._w=zI(l,E),E._p=(g._i<<10)+k,E._d=lg(E),E))}}let f=!1;u.entries.flatMap(b=>(b._tags||[]).map(g=>({...g,props:{...g.props}}))).sort(h1).reduce((b,g)=>{const x=String(g._d||g._p);if(!b.has(x))return b.set(x,g);const E=b.get(x);if(((g==null?void 0:g.tagDuplicateStrategy)||(AI.has(g.tag)?"merge":null)||(g.key&&g.key===E.key?"merge":null))==="merge"){const C={...E.props};Object.entries(g.props).forEach(([A,I])=>C[A]=A==="style"?new Map([...E.props.style||new Map,...I]):A==="class"?new Set([...E.props.class||new Set,...I]):I),b.set(x,{...g,props:C})}else g._p>>10===E._p>>10&&g.tag==="meta"&&y2(x)?(b.set(x,Object.assign([...Array.isArray(E)?E:[E],g],g)),f=!0):(g._w===E._w?g._p>E._p:(g==null?void 0:g._w)<(E==null?void 0:E._w))&&b.set(x,g);return b},u.tagMap);const p=u.tagMap.get("title"),h=u.tagMap.get("titleTemplate");if(l._title=p==null?void 0:p.textContent,h){const b=h==null?void 0:h.textContent;if(l._titleTemplate=b,b){let g=typeof b=="function"?b(p==null?void 0:p.textContent):b;typeof g=="string"&&!l.plugins.has("template-params")&&(g=g.replace("%s",(p==null?void 0:p.textContent)||"")),p?g===null?u.tagMap.delete("title"):u.tagMap.set("title",{...p,textContent:g}):(h.tag="title",h.textContent=g)}}u.tags=Array.from(u.tagMap.values()),f&&(u.tags=u.tags.flat().sort(h1)),await t.callHook("tags:beforeResolve",u),await t.callHook("tags:resolve",u),await t.callHook("tags:afterResolve",u);const w=[];for(const b of u.tags){const{innerHTML:g,tag:x,props:E}=b;if(TI.has(x)&&!(Object.keys(E).length===0&&!b.innerHTML&&!b.textContent)&&!(x==="meta"&&!E.content&&!E["http-equiv"]&&!E.charset)){if(x==="script"&&g){if((y=E.type)!=null&&y.endsWith("json")){const k=typeof g=="string"?g:JSON.stringify(g);b.innerHTML=k.replace(/</g,"\\u003C")}else typeof g=="string"&&(b.innerHTML=g.replace(new RegExp(`</${x}`,"g"),`<\\/${x}`));b._d=lg(b)}w.push(b)}}return w}};return((e==null?void 0:e.plugins)||[]).forEach(u=>g1(l,u)),l.hooks.callHook("init",l),(c=e.init)==null||c.forEach(u=>u&&l.push(u)),l}async function w2(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async o=>{var y;const i=new Map,l=new Promise(b=>{e.resolveTags().then(g=>{b(g.map(x=>{const E=i.get(x._d)||0,k={tag:x,id:(E?`${x._d}:${E}`:x._d)||f1(x),shouldRender:!0};return x._d&&y2(x._d)&&i.set(x._d,E+1),k}))})});let c=e._dom;if(!c){c={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const b of["body","head"]){const g=(y=n[b])==null?void 0:y.children;for(const x of g){const E=x.tagName.toLowerCase();if(!d1.has(E))continue;const k=v2({tag:E,props:{}},{innerHTML:x.innerHTML,...x.getAttributeNames().reduce((C,A)=>(C[A]=x.getAttribute(A),C),{})||{}});if(k.key=x.getAttribute("data-hid")||void 0,k._d=lg(k)||f1(k),c.elMap.has(k._d)){let C=1,A=k._d;for(;c.elMap.has(A);)A=`${k._d}:${C++}`;c.elMap.set(A,x)}else c.elMap.set(k._d,x)}}}c.pendingSideEffects={...c.sideEffects},c.sideEffects={};function u(b,g,x){const E=`${b}:${g}`;c.sideEffects[E]=x,delete c.pendingSideEffects[E]}function f({id:b,$el:g,tag:x}){const E=x.tag.endsWith("Attrs");c.elMap.set(b,g),E||(x.textContent&&x.textContent!==g.textContent&&(g.textContent=x.textContent),x.innerHTML&&x.innerHTML!==g.innerHTML&&(g.innerHTML=x.innerHTML),u(b,"el",()=>{g==null||g.remove(),c.elMap.delete(b)}));for(const k in x.props){if(!Object.prototype.hasOwnProperty.call(x.props,k))continue;const C=x.props[k];if(k.startsWith("on")&&typeof C=="function"){const I=g==null?void 0:g.dataset;if(I&&I[`${k}fired`]){const L=k.slice(0,-5);C.call(g,new Event(L.substring(2)))}g.getAttribute(`data-${k}`)!==""&&((x.tag==="bodyAttrs"?n.defaultView:g).addEventListener(k.substring(2),C.bind(g)),g.setAttribute(`data-${k}`,""));continue}const A=`attr:${k}`;if(k==="class"){if(!C)continue;for(const I of C)E&&u(b,`${A}:${I}`,()=>g.classList.remove(I)),!g.classList.contains(I)&&g.classList.add(I)}else if(k==="style"){if(!C)continue;for(const[I,L]of C)u(b,`${A}:${I}`,()=>{g.style.removeProperty(I)}),g.style.setProperty(I,L)}else C!==!1&&C!==null&&(g.getAttribute(k)!==C&&g.setAttribute(k,C===!0?"":String(C)),E&&u(b,A,()=>g.removeAttribute(k)))}}const p=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0},w=await l;for(const b of w){const{tag:g,shouldRender:x,id:E}=b;if(x){if(g.tag==="title"){n.title=g.textContent,u("title","",()=>n.title=c.title);continue}b.$el=b.$el||c.elMap.get(E),b.$el?f(b):d1.has(g.tag)&&p.push(b)}}for(const b of p){const g=b.tag.tagPosition||"head";b.$el=n.createElement(b.tag.tag),f(b),h[g]=h[g]||n.createDocumentFragment(),h[g].appendChild(b.$el)}for(const b of w)await e.hooks.callHook("dom:renderTag",b,n,u);h.head&&n.head.appendChild(h.head),h.bodyOpen&&n.body.insertBefore(h.bodyOpen,n.body.firstChild),h.bodyClose&&n.body.appendChild(h.bodyClose);for(const b in c.pendingSideEffects)c.pendingSideEffects[b]();e._dom=c,await e.hooks.callHook("dom:rendered",{renders:w}),o()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function FI(e={}){var r,o,i;const t=((r=e.domOptions)==null?void 0:r.render)||w2;e.document=e.document||(typeof window<"u"?document:void 0);const n=((i=(o=e.document)==null?void 0:o.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return BI({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function $I(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}const x2=_.createContext(null);function b2(e={}){const t=FI({domOptions:{render:$I(()=>w2(t),n=>setTimeout(n,0))},...e});return t}function UI({children:e,head:t}){return _.createElement(x2.Provider,{value:t||b2()},e)}const Ql={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},HI={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},E2={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>`${fo(e)}=${t}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:e,value:t})=>e==="seconds"?`${t}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>typeof t=="boolean"?fo(e):`${fo(e)}:${t}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:e,value:t})=>`${fo(e)} ${t}`}},charset:{}};function fo(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t.indexOf("-");return n===-1?t:Ql.META.has(t.slice(0,n))||Ql.OG.has(t.slice(0,n))?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function _2(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>String(n)!=="false"&&t))}function ug(e){return Array.isArray(e)?e.map(ug):!e||typeof e!="object"?e:Object.fromEntries(Object.entries(e).map(([t,n])=>[fo(t),ug(n)]))}function S2(e,t={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:o,resolve:i}=t;return Object.entries(e).map(([l,c])=>{if(i){const f=i({key:l,value:c});if(f!==void 0)return f}const u=typeof c=="object"?S2(c,t):typeof c=="number"?c.toString():typeof c=="string"&&o?`${o}${c.replace(new RegExp(o,"g"),`\\${o}`)}${o}`:c;return`${l}${r}${u}`}).join(n)}function y1(e,t){const n=_2(t),r=fo(e),o=k2(r);if(!yy.has(r))return[{[o]:r,...n}];const i=Object.fromEntries(Object.entries(n).map(([l,c])=>[`${e}${l==="url"?"":`${l[0].toUpperCase()}${l.slice(1)}`}`,c]));return Ed(i||{}).sort((l,c)=>{var u,f;return(((u=l[o])==null?void 0:u.length)||0)-(((f=c[o])==null?void 0:f.length)||0)})}function k2(e){var r;if(((r=E2[e])==null?void 0:r.metaKey)==="http-equiv"||Ql.HTTP_EQUIV.has(e))return"http-equiv";const t=fo(e),n=t.indexOf(":");return n===-1?"name":Ql.OG.has(t.slice(0,n))?"property":"name"}function WI(e){return HI[e]||fo(e)}function VI(e,t){var n;return t==="refresh"?`${e.seconds};url=${e.url}`:S2(ug(e),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:o})=>r===null?"":typeof r=="boolean"?o:void 0,...(n=E2[t])==null?void 0:n.unpack})}function Ed(e){const t=[],n={};for(const[o,i]of Object.entries(e)){if(Array.isArray(i)){if(o==="themeColor"){i.forEach(l=>{typeof l=="object"&&l!==null&&t.push({name:"theme-color",...l})});continue}for(const l of i)if(typeof l=="object"&&l!==null){const c=[],u=[];for(const[f,p]of Object.entries(l)){const h=`${o}${f==="url"?"":`:${f}`}`,w=Ed({[h]:p});(f==="url"?c:u).push(...w)}t.push(...c,...u)}else t.push(...typeof l=="string"?Ed({[o]:l}):y1(o,l));continue}if(typeof i=="object"&&i)if(Ql.MEDIA.has(o)){const l=o.startsWith("twitter")?"twitter":"og",c=o.replace(/^(og|twitter)/,"").toLowerCase(),u=l==="twitter"?"name":"property";i.url&&t.push({[u]:`${l}:${c}`,content:i.url}),i.secureUrl&&t.push({[u]:`${l}:${c}:secure_url`,content:i.secureUrl});for(const[f,p]of Object.entries(i))f!=="url"&&f!=="secureUrl"&&t.push({[u]:`${l}:${c}:${f}`,content:p})}else yy.has(fo(o))?t.push(...y1(o,i)):n[o]=_2(i);else n[o]=i}const r=Object.entries(n).map(([o,i])=>{if(o==="charset")return{charset:i===null?"_null":i};const l=k2(o),c=WI(o),u=i===null?"_null":typeof i=="object"?VI(i,o):typeof i=="number"?i.toString():i;return l==="http-equiv"?{"http-equiv":c,content:u}:{[l]:c,content:u}});return[...t,...r].map(o=>"content"in o&&o.content==="_null"?{...o,content:null}:o)}const ZI={key:"flatMeta",hooks:{"entries:normalize":e=>{const t=[];e.tags=e.tags.map(n=>n.tag!=="_flatMeta"?n:(t.push(Ed(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...t)}}};function qI(e={}){return t=>(t.push({meta:[{name:"twitter:card",content:e.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:n})=>{var c,u;let r=t._titleTemplate||t._title;const o=n.get("meta:og:title");typeof(o==null?void 0:o.props["data-infer"])<"u"&&(typeof r=="function"&&(r=r(t._title)),o.props.content=e.ogTitle?e.ogTitle(r):r||"",o.processTemplateParams=!0);const i=(u=(c=n.get("meta:description"))==null?void 0:c.props)==null?void 0:u.content,l=n.get("meta:og:description");typeof(l==null?void 0:l.props["data-infer"])<"u"&&(l.props.content=e.ogDescription?e.ogDescription(i):i||"",l.processTemplateParams=!0)}}})}class ql{constructor(t){je(this,"pubkey");je(this,"relays");je(this,"secret");const n=new URL(t),r=new URLSearchParams(n.search),o=n.hostname||n.pathname.slice(2),i=r.getAll("relay"),l=r.get("secret")??void 0;if(!o)throw new Error("Invalid bunker URI");this.pubkey=o,this.relays=i,this.secret=l}get href(){return this.toString()}toString(){return ql.toString(this)}static fromJSON(t){const n=ql.toString(t);return new ql(n)}static toString(t){const n=new URLSearchParams;for(const r of t.relays)n.append("relay",r);return t.secret&&n.set("secret",t.secret),`bunker://${t.pubkey}?${n.toString()}`}}class KI{get nostr(){const t=globalThis.nostr;if(!t)throw new Error("Browser extension not available");return t}async getPublicKey(){const t=await this.nostr.getPublicKey();if(typeof t!="string")throw new Error(`Nostr public key retrieval failed: expected string, got ${JSON.stringify(t)}`);return t}async signEvent(t){const n=await this.nostr.signEvent(t);if(typeof n!="object"||!n.id||!n.pubkey||!n.sig)throw new Error(`Nostr event signing failed: expected object with id, pubkey, and sig, got ${JSON.stringify(n)}`);return n}async getRelays(){if(!this.nostr.getRelays)return{};const t=await this.nostr.getRelays();if(typeof t!="object"||t===null)throw new Error(`Nostr getRelays failed: expected object, got ${JSON.stringify(t)}`);return this.nostr.getRelays()}get nip04(){const t=this.nostr;if(t.nip04)return{encrypt:async(n,r)=>{const o=await t.nip04.encrypt(n,r);if(typeof o!="string")throw new Error(`NIP-04 encryption failed: expected string result, got ${JSON.stringify(o)}`);return o},decrypt:async(n,r)=>{const o=await t.nip04.decrypt(n,r);if(typeof o!="string")throw new Error(`NIP-04 decryption failed: expected string result, got ${JSON.stringify(o)}`);return o}}}get nip44(){const t=this.nostr;if(t.nip44)return{encrypt:async(n,r)=>{const o=await t.nip44.encrypt(n,r);if(typeof o!="string")throw new Error(`NIP-44 encryption failed: expected string result, got ${JSON.stringify(o)}`);return o},decrypt:async(n,r)=>{const o=await t.nip44.decrypt(n,r);if(typeof o!="string")throw new Error(`NIP-44 decryption failed: expected string result, got ${JSON.stringify(o)}`);return o}}}}function v1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function C2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function GI(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");v1(e.outputLen),v1(e.blockLen)}function _d(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function YI(e,t){C2(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Up=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N2=e=>e instanceof Uint8Array,Hp=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Rr=(e,t)=>e<<32-t|e>>>t,JI=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!JI)throw new Error("Non little-endian hardware is not supported");function QI(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function vy(e){if(typeof e=="string"&&(e=QI(e)),!N2(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function XI(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!N2(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let T2=class{clone(){return this._cloneInto()}};function e3(e){const t=r=>e().update(vy(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function P2(e=32){if(Up&&typeof Up.getRandomValues=="function")return Up.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function t3(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),l=Number(n>>o&i),c=Number(n&i),u=r?4:0,f=r?0:4;e.setUint32(t+u,l,r),e.setUint32(t+f,c,r)}let n3=class extends T2{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Hp(this.buffer)}update(t){_d(this);const{view:n,buffer:r,blockLen:o}=this;t=vy(t);const i=t.length;for(let l=0;l<i;){const c=Math.min(o-this.pos,i-l);if(c===o){const u=Hp(t);for(;o<=i-l;l+=o)this.process(u,l);continue}r.set(t.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){_d(this),YI(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>o-l&&(this.process(r,0),l=0);for(let h=l;h<o;h++)n[h]=0;t3(r,o-8,BigInt(this.length*8),i),this.process(r,0);const c=Hp(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<f;h++)c.setUint32(4*h,p[h],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:l,pos:c}=this;return t.length=o,t.pos=c,t.finished=i,t.destroyed=l,o%n&&t.buffer.set(r),t}};const r3=(e,t,n)=>e&t^~e&n,o3=(e,t,n)=>e&t^e&n^t&n,s3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vo=new Uint32Array(64);let i3=class extends n3{constructor(){super(64,32,8,!1),this.A=Wo[0]|0,this.B=Wo[1]|0,this.C=Wo[2]|0,this.D=Wo[3]|0,this.E=Wo[4]|0,this.F=Wo[5]|0,this.G=Wo[6]|0,this.H=Wo[7]|0}get(){const{A:t,B:n,C:r,D:o,E:i,F:l,G:c,H:u}=this;return[t,n,r,o,i,l,c,u]}set(t,n,r,o,i,l,c,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=l|0,this.G=c|0,this.H=u|0}process(t,n){for(let h=0;h<16;h++,n+=4)Vo[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const w=Vo[h-15],y=Vo[h-2],b=Rr(w,7)^Rr(w,18)^w>>>3,g=Rr(y,17)^Rr(y,19)^y>>>10;Vo[h]=g+Vo[h-7]+b+Vo[h-16]|0}let{A:r,B:o,C:i,D:l,E:c,F:u,G:f,H:p}=this;for(let h=0;h<64;h++){const w=Rr(c,6)^Rr(c,11)^Rr(c,25),y=p+w+r3(c,u,f)+s3[h]+Vo[h]|0,g=(Rr(r,2)^Rr(r,13)^Rr(r,22))+o3(r,o,i)|0;p=f,f=u,u=c,c=l+y|0,l=i,i=o,o=r,r=y+g|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,l=l+this.D|0,c=c+this.E|0,u=u+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(r,o,i,l,c,u,f,p)}roundClean(){Vo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const dg=e3(()=>new i3);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const R2=BigInt(0),Qd=BigInt(1),a3=BigInt(2),Xd=e=>e instanceof Uint8Array,l3=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Sa(e){if(!Xd(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=l3[e[n]];return t}function A2(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function wy(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function ka(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const o=r*2,i=e.slice(o,o+2),l=Number.parseInt(i,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function An(e){return wy(Sa(e))}function xy(e){if(!Xd(e))throw new Error("Uint8Array expected");return wy(Sa(Uint8Array.from(e).reverse()))}function ws(e,t){return ka(e.toString(16).padStart(t*2,"0"))}function by(e,t){return ws(e,t).reverse()}function c3(e){return ka(A2(e))}function an(e,t,n){let r;if(typeof t=="string")try{r=ka(t)}catch(i){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${i}`)}else if(Xd(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function ui(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!Xd(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function u3(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function d3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function f3(e){let t;for(t=0;e>R2;e>>=Qd,t+=1);return t}function h3(e,t){return e>>BigInt(t)&Qd}const p3=(e,t,n)=>e|(n?Qd:R2)<<BigInt(t),Ey=e=>(a3<<BigInt(e-1))-Qd,Wp=e=>new Uint8Array(e),w1=e=>Uint8Array.from(e);function I2(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Wp(e),o=Wp(e),i=0;const l=()=>{r.fill(1),o.fill(0),i=0},c=(...h)=>n(o,r,...h),u=(h=Wp())=>{o=c(w1([0]),h),r=c(),h.length!==0&&(o=c(w1([1]),h),r=c())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const w=[];for(;h<t;){r=c();const y=r.slice();w.push(y),h+=r.length}return ui(...w)};return(h,w)=>{l(),u(h);let y;for(;!(y=w(f()));)u();return l(),y}}const m3={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ec(e,t,n={}){const r=(o,i,l)=>{const c=m3[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const u=e[o];if(!(l&&u===void 0)&&!c(u,e))throw new Error(`Invalid param ${String(o)}=${u} (${typeof u}), expected ${i}`)};for(const[o,i]of Object.entries(t))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return e}const g3=Object.freeze(Object.defineProperty({__proto__:null,bitGet:h3,bitLen:f3,bitMask:Ey,bitSet:p3,bytesToHex:Sa,bytesToNumberBE:An,bytesToNumberLE:xy,concatBytes:ui,createHmacDrbg:I2,ensureBytes:an,equalBytes:u3,hexToBytes:ka,hexToNumber:wy,numberToBytesBE:ws,numberToBytesLE:by,numberToHexUnpadded:A2,numberToVarBytesBE:c3,utf8ToBytes:d3,validateObject:Ec},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yt=BigInt(0),Bt=BigInt(1),Vs=BigInt(2),y3=BigInt(3),fg=BigInt(4),x1=BigInt(5),b1=BigInt(8);BigInt(9);BigInt(16);function en(e,t){const n=e%t;return n>=Yt?n:t+n}function v3(e,t,n){if(n<=Yt||t<Yt)throw new Error("Expected power/modulo > 0");if(n===Bt)return Yt;let r=Bt;for(;t>Yt;)t&Bt&&(r=r*e%n),e=e*e%n,t>>=Bt;return r}function Gn(e,t,n){let r=e;for(;t-- >Yt;)r*=r,r%=n;return r}function hg(e,t){if(e===Yt||t<=Yt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=en(e,t),r=t,o=Yt,i=Bt;for(;n!==Yt;){const c=r/n,u=r%n,f=o-i*c;r=n,n=u,o=i,i=f}if(r!==Bt)throw new Error("invert: does not exist");return en(o,t)}function w3(e){const t=(e-Bt)/Vs;let n,r,o;for(n=e-Bt,r=0;n%Vs===Yt;n/=Vs,r++);for(o=Vs;o<e&&v3(o,t,e)!==e-Bt;o++);if(r===1){const l=(e+Bt)/fg;return function(u,f){const p=u.pow(f,l);if(!u.eql(u.sqr(p),f))throw new Error("Cannot find square root");return p}}const i=(n+Bt)/Vs;return function(c,u){if(c.pow(u,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let f=r,p=c.pow(c.mul(c.ONE,o),n),h=c.pow(u,i),w=c.pow(u,n);for(;!c.eql(w,c.ONE);){if(c.eql(w,c.ZERO))return c.ZERO;let y=1;for(let g=c.sqr(w);y<f&&!c.eql(g,c.ONE);y++)g=c.sqr(g);const b=c.pow(p,Bt<<BigInt(f-y-1));p=c.sqr(b),h=c.mul(h,b),w=c.mul(w,p),f=y}return h}}function x3(e){if(e%fg===y3){const t=(e+Bt)/fg;return function(r,o){const i=r.pow(o,t);if(!r.eql(r.sqr(i),o))throw new Error("Cannot find square root");return i}}if(e%b1===x1){const t=(e-x1)/b1;return function(r,o){const i=r.mul(o,Vs),l=r.pow(i,t),c=r.mul(o,l),u=r.mul(r.mul(c,Vs),l),f=r.mul(c,r.sub(u,r.ONE));if(!r.eql(r.sqr(f),o))throw new Error("Cannot find square root");return f}}return w3(e)}const b3=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function E3(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=b3.reduce((r,o)=>(r[o]="function",r),t);return Ec(e,n)}function _3(e,t,n){if(n<Yt)throw new Error("Expected power > 0");if(n===Yt)return e.ONE;if(n===Bt)return t;let r=e.ONE,o=t;for(;n>Yt;)n&Bt&&(r=e.mul(r,o)),o=e.sqr(o),n>>=Bt;return r}function S3(e,t){const n=new Array(t.length),r=t.reduce((i,l,c)=>e.is0(l)?i:(n[c]=i,e.mul(i,l)),e.ONE),o=e.inv(r);return t.reduceRight((i,l,c)=>e.is0(l)?i:(n[c]=e.mul(i,n[c]),e.mul(i,l)),o),n}function j2(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function k3(e,t,n=!1,r={}){if(e<=Yt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:i}=j2(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=x3(e),c=Object.freeze({ORDER:e,BITS:o,BYTES:i,MASK:Ey(o),ZERO:Yt,ONE:Bt,create:u=>en(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Yt<=u&&u<e},is0:u=>u===Yt,isOdd:u=>(u&Bt)===Bt,neg:u=>en(-u,e),eql:(u,f)=>u===f,sqr:u=>en(u*u,e),add:(u,f)=>en(u+f,e),sub:(u,f)=>en(u-f,e),mul:(u,f)=>en(u*f,e),pow:(u,f)=>_3(c,u,f),div:(u,f)=>en(u*hg(f,e),e),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>hg(u,e),sqrt:r.sqrt||(u=>l(c,u)),invertBatch:u=>S3(c,u),cmov:(u,f,p)=>p?f:u,toBytes:u=>n?by(u,i):ws(u,i),fromBytes:u=>{if(u.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${u.length}`);return n?xy(u):An(u)}});return Object.freeze(c)}function O2(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function M2(e){const t=O2(e);return t+Math.ceil(t/2)}function C3(e,t,n=!1){const r=e.length,o=O2(t),i=M2(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const l=n?An(e):xy(e),c=en(l,t-Bt)+Bt;return n?by(c,o):ws(c,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N3=BigInt(0),Vp=BigInt(1);function T3(e,t){const n=(o,i)=>{const l=i.negate();return o?l:i},r=o=>{const i=Math.ceil(t/o)+1,l=2**(o-1);return{windows:i,windowSize:l}};return{constTimeNegate:n,unsafeLadder(o,i){let l=e.ZERO,c=o;for(;i>N3;)i&Vp&&(l=l.add(c)),c=c.double(),i>>=Vp;return l},precomputeWindow(o,i){const{windows:l,windowSize:c}=r(i),u=[];let f=o,p=f;for(let h=0;h<l;h++){p=f,u.push(p);for(let w=1;w<c;w++)p=p.add(f),u.push(p);f=p.double()}return u},wNAF(o,i,l){const{windows:c,windowSize:u}=r(o);let f=e.ZERO,p=e.BASE;const h=BigInt(2**o-1),w=2**o,y=BigInt(o);for(let b=0;b<c;b++){const g=b*u;let x=Number(l&h);l>>=y,x>u&&(x-=w,l+=Vp);const E=g,k=g+Math.abs(x)-1,C=b%2!==0,A=x<0;x===0?p=p.add(n(C,i[E])):f=f.add(n(A,i[k]))}return{p:f,f:p}},wNAFCached(o,i,l,c){const u=o._WINDOW_SIZE||1;let f=i.get(o);return f||(f=this.precomputeWindow(o,u),u!==1&&i.set(o,c(f))),this.wNAF(u,f,l)}}}function L2(e){return E3(e.Fp),Ec(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...j2(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function P3(e){const t=L2(e);Ec(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:R3,hexToBytes:A3}=g3,Zs={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Zs;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:R3(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Zs,n=typeof e=="string"?A3(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:o,l:i}=Zs._parseInt(n.subarray(2)),{d:l,l:c}=Zs._parseInt(i);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:l}},hexFromSig(e){const t=f=>Number.parseInt(f[0],16)&8?"00"+f:f,n=f=>{const p=f.toString(16);return p.length&1?`0${p}`:p},r=t(n(e.s)),o=t(n(e.r)),i=r.length/2,l=o.length/2,c=n(i),u=n(l);return`30${n(l+i+4)}02${u}${o}02${c}${r}`}},co=BigInt(0),er=BigInt(1);BigInt(2);const E1=BigInt(3);BigInt(4);function I3(e){const t=P3(e),{Fp:n}=t,r=t.toBytes||((b,g,x)=>{const E=g.toAffine();return ui(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),o=t.fromBytes||(b=>{const g=b.subarray(1),x=n.fromBytes(g.subarray(0,n.BYTES)),E=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x,y:E}});function i(b){const{a:g,b:x}=t,E=n.sqr(b),k=n.mul(E,b);return n.add(n.add(k,n.mul(b,g)),x)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function l(b){return typeof b=="bigint"&&co<b&&b<t.n}function c(b){if(!l(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(b){const{allowedPrivateKeyLengths:g,nByteLength:x,wrapPrivateKey:E,n:k}=t;if(g&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=Sa(b)),typeof b!="string"||!g.includes(b.length))throw new Error("Invalid key");b=b.padStart(x*2,"0")}let C;try{C=typeof b=="bigint"?b:An(an("private key",b,x))}catch{throw new Error(`private key must be ${x} bytes, hex or bigint, not ${typeof b}`)}return E&&(C=en(C,k)),c(C),C}const f=new Map;function p(b){if(!(b instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(g,x,E){if(this.px=g,this.py=x,this.pz=E,g==null||!n.isValid(g))throw new Error("x required");if(x==null||!n.isValid(x))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required")}static fromAffine(g){const{x,y:E}=g||{};if(!g||!n.isValid(x)||!n.isValid(E))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const k=C=>n.eql(C,n.ZERO);return k(x)&&k(E)?h.ZERO:new h(x,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const x=n.invertBatch(g.map(E=>E.pz));return g.map((E,k)=>E.toAffine(x[k])).map(h.fromAffine)}static fromHex(g){const x=h.fromAffine(o(an("pointHex",g)));return x.assertValidity(),x}static fromPrivateKey(g){return h.BASE.multiply(u(g))}_setWindowSize(g){this._WINDOW_SIZE=g,f.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:x}=this.toAffine();if(!n.isValid(g)||!n.isValid(x))throw new Error("bad point: x or y not FE");const E=n.sqr(x),k=i(g);if(!n.eql(E,k))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){p(g);const{px:x,py:E,pz:k}=this,{px:C,py:A,pz:I}=g,L=n.eql(n.mul(x,I),n.mul(C,k)),z=n.eql(n.mul(E,I),n.mul(A,k));return L&&z}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:x}=t,E=n.mul(x,E1),{px:k,py:C,pz:A}=this;let I=n.ZERO,L=n.ZERO,z=n.ZERO,$=n.mul(k,k),O=n.mul(C,C),B=n.mul(A,A),W=n.mul(k,C);return W=n.add(W,W),z=n.mul(k,A),z=n.add(z,z),I=n.mul(g,z),L=n.mul(E,B),L=n.add(I,L),I=n.sub(O,L),L=n.add(O,L),L=n.mul(I,L),I=n.mul(W,I),z=n.mul(E,z),B=n.mul(g,B),W=n.sub($,B),W=n.mul(g,W),W=n.add(W,z),z=n.add($,$),$=n.add(z,$),$=n.add($,B),$=n.mul($,W),L=n.add(L,$),B=n.mul(C,A),B=n.add(B,B),$=n.mul(B,W),I=n.sub(I,$),z=n.mul(B,O),z=n.add(z,z),z=n.add(z,z),new h(I,L,z)}add(g){p(g);const{px:x,py:E,pz:k}=this,{px:C,py:A,pz:I}=g;let L=n.ZERO,z=n.ZERO,$=n.ZERO;const O=t.a,B=n.mul(t.b,E1);let W=n.mul(x,C),M=n.mul(E,A),V=n.mul(k,I),P=n.add(x,E),U=n.add(C,A);P=n.mul(P,U),U=n.add(W,M),P=n.sub(P,U),U=n.add(x,k);let X=n.add(C,I);return U=n.mul(U,X),X=n.add(W,V),U=n.sub(U,X),X=n.add(E,k),L=n.add(A,I),X=n.mul(X,L),L=n.add(M,V),X=n.sub(X,L),$=n.mul(O,U),L=n.mul(B,V),$=n.add(L,$),L=n.sub(M,$),$=n.add(M,$),z=n.mul(L,$),M=n.add(W,W),M=n.add(M,W),V=n.mul(O,V),U=n.mul(B,U),M=n.add(M,V),V=n.sub(W,V),V=n.mul(O,V),U=n.add(U,V),W=n.mul(M,U),z=n.add(z,W),W=n.mul(X,U),L=n.mul(P,L),L=n.sub(L,W),W=n.mul(P,M),$=n.mul(X,$),$=n.add($,W),new h(L,z,$)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return y.wNAFCached(this,f,g,x=>{const E=n.invertBatch(x.map(k=>k.pz));return x.map((k,C)=>k.toAffine(E[C])).map(h.fromAffine)})}multiplyUnsafe(g){const x=h.ZERO;if(g===co)return x;if(c(g),g===er)return this;const{endo:E}=t;if(!E)return y.unsafeLadder(this,g);let{k1neg:k,k1:C,k2neg:A,k2:I}=E.splitScalar(g),L=x,z=x,$=this;for(;C>co||I>co;)C&er&&(L=L.add($)),I&er&&(z=z.add($)),$=$.double(),C>>=er,I>>=er;return k&&(L=L.negate()),A&&(z=z.negate()),z=new h(n.mul(z.px,E.beta),z.py,z.pz),L.add(z)}multiply(g){c(g);let x=g,E,k;const{endo:C}=t;if(C){const{k1neg:A,k1:I,k2neg:L,k2:z}=C.splitScalar(x);let{p:$,f:O}=this.wNAF(I),{p:B,f:W}=this.wNAF(z);$=y.constTimeNegate(A,$),B=y.constTimeNegate(L,B),B=new h(n.mul(B.px,C.beta),B.py,B.pz),E=$.add(B),k=O.add(W)}else{const{p:A,f:I}=this.wNAF(x);E=A,k=I}return h.normalizeZ([E,k])[0]}multiplyAndAddUnsafe(g,x,E){const k=h.BASE,C=(I,L)=>L===co||L===er||!I.equals(k)?I.multiplyUnsafe(L):I.multiply(L),A=C(this,x).add(C(g,E));return A.is0()?void 0:A}toAffine(g){const{px:x,py:E,pz:k}=this,C=this.is0();g==null&&(g=C?n.ONE:n.inv(k));const A=n.mul(x,g),I=n.mul(E,g),L=n.mul(k,g);if(C)return{x:n.ZERO,y:n.ZERO};if(!n.eql(L,n.ONE))throw new Error("invZ was invalid");return{x:A,y:I}}isTorsionFree(){const{h:g,isTorsionFree:x}=t;if(g===er)return!0;if(x)return x(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:x}=t;return g===er?this:x?x(h,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return this.assertValidity(),r(h,this,g)}toHex(g=!0){return Sa(this.toRawBytes(g))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const w=t.nBitLength,y=T3(h,t.endo?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:u,weierstrassEquation:i,isWithinCurveOrder:l}}function j3(e){const t=L2(e);return Ec(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function O3(e){const t=j3(e),{Fp:n,n:r}=t,o=n.BYTES+1,i=2*n.BYTES+1;function l(U){return co<U&&U<n.ORDER}function c(U){return en(U,r)}function u(U){return hg(U,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:p,weierstrassEquation:h,isWithinCurveOrder:w}=I3({...t,toBytes(U,X,J){const ee=X.toAffine(),q=n.toBytes(ee.x),oe=ui;return J?oe(Uint8Array.from([X.hasEvenY()?2:3]),q):oe(Uint8Array.from([4]),q,n.toBytes(ee.y))},fromBytes(U){const X=U.length,J=U[0],ee=U.subarray(1);if(X===o&&(J===2||J===3)){const q=An(ee);if(!l(q))throw new Error("Point is not on curve");const oe=h(q);let D=n.sqrt(oe);const Z=(D&er)===er;return(J&1)===1!==Z&&(D=n.neg(D)),{x:q,y:D}}else if(X===i&&J===4){const q=n.fromBytes(ee.subarray(0,n.BYTES)),oe=n.fromBytes(ee.subarray(n.BYTES,2*n.BYTES));return{x:q,y:oe}}else throw new Error(`Point of length ${X} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),y=U=>Sa(ws(U,t.nByteLength));function b(U){const X=r>>er;return U>X}function g(U){return b(U)?c(-U):U}const x=(U,X,J)=>An(U.slice(X,J));class E{constructor(X,J,ee){this.r=X,this.s=J,this.recovery=ee,this.assertValidity()}static fromCompact(X){const J=t.nByteLength;return X=an("compactSignature",X,J*2),new E(x(X,0,J),x(X,J,2*J))}static fromDER(X){const{r:J,s:ee}=Zs.toSig(an("DER",X));return new E(J,ee)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(X){return new E(this.r,this.s,X)}recoverPublicKey(X){const{r:J,s:ee,recovery:q}=this,oe=z(an("msgHash",X));if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");const D=q===2||q===3?J+t.n:J;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Z=(q&1)===0?"02":"03",ge=f.fromHex(Z+y(D)),pe=u(D),me=c(-oe*pe),Ae=c(ee*pe),we=f.BASE.multiplyAndAddUnsafe(ge,me,Ae);if(!we)throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ka(this.toDERHex())}toDERHex(){return Zs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ka(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const k={isValidPrivateKey(U){try{return p(U),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const U=M2(t.n);return C3(t.randomBytes(U),t.n)},precompute(U=8,X=f.BASE){return X._setWindowSize(U),X.multiply(BigInt(3)),X}};function C(U,X=!0){return f.fromPrivateKey(U).toRawBytes(X)}function A(U){const X=U instanceof Uint8Array,J=typeof U=="string",ee=(X||J)&&U.length;return X?ee===o||ee===i:J?ee===2*o||ee===2*i:U instanceof f}function I(U,X,J=!0){if(A(U))throw new Error("first arg must be private key");if(!A(X))throw new Error("second arg must be public key");return f.fromHex(X).multiply(p(U)).toRawBytes(J)}const L=t.bits2int||function(U){const X=An(U),J=U.length*8-t.nBitLength;return J>0?X>>BigInt(J):X},z=t.bits2int_modN||function(U){return c(L(U))},$=Ey(t.nBitLength);function O(U){if(typeof U!="bigint")throw new Error("bigint expected");if(!(co<=U&&U<$))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ws(U,t.nByteLength)}function B(U,X,J=W){if(["recovered","canonical"].some(Se=>Se in J))throw new Error("sign() legacy options not supported");const{hash:ee,randomBytes:q}=t;let{lowS:oe,prehash:D,extraEntropy:Z}=J;oe==null&&(oe=!0),U=an("msgHash",U),D&&(U=an("prehashed msgHash",ee(U)));const ge=z(U),pe=p(X),me=[O(pe),O(ge)];if(Z!=null){const Se=Z===!0?q(n.BYTES):Z;me.push(an("extraEntropy",Se))}const Ae=ui(...me),we=ge;function xe(Se){const Ie=L(Se);if(!w(Ie))return;const Ue=u(Ie),qe=f.BASE.multiply(Ie).toAffine(),Ye=c(qe.x);if(Ye===co)return;const j=c(Ue*c(we+Ye*pe));if(j===co)return;let ye=(qe.x===Ye?0:2)|Number(qe.y&er),de=j;return oe&&b(j)&&(de=g(j),ye^=1),new E(Ye,de,ye)}return{seed:Ae,k2sig:xe}}const W={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};function V(U,X,J=W){const{seed:ee,k2sig:q}=B(U,X,J),oe=t;return I2(oe.hash.outputLen,oe.nByteLength,oe.hmac)(ee,q)}f.BASE._setWindowSize(8);function P(U,X,J,ee=M){var qe;const q=U;if(X=an("msgHash",X),J=an("publicKey",J),"strict"in ee)throw new Error("options.strict was renamed to lowS");const{lowS:oe,prehash:D}=ee;let Z,ge;try{if(typeof q=="string"||q instanceof Uint8Array)try{Z=E.fromDER(q)}catch(Ye){if(!(Ye instanceof Zs.Err))throw Ye;Z=E.fromCompact(q)}else if(typeof q=="object"&&typeof q.r=="bigint"&&typeof q.s=="bigint"){const{r:Ye,s:j}=q;Z=new E(Ye,j)}else throw new Error("PARSE");ge=f.fromHex(J)}catch(Ye){if(Ye.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(oe&&Z.hasHighS())return!1;D&&(X=t.hash(X));const{r:pe,s:me}=Z,Ae=z(X),we=u(me),xe=c(Ae*we),Se=c(pe*we),Ie=(qe=f.BASE.multiplyAndAddUnsafe(ge,xe,Se))==null?void 0:qe.toAffine();return Ie?c(Ie.x)===pe:!1}return{CURVE:t,getPublicKey:C,getSharedSecret:I,sign:V,verify:P,ProjectivePoint:f,Signature:E,utils:k}}let D2=class extends T2{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,GI(t);const r=vy(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let l=0;l<i.length;l++)i[l]^=54;this.iHash.update(i),this.oHash=t.create();for(let l=0;l<i.length;l++)i[l]^=106;this.oHash.update(i),i.fill(0)}update(t){return _d(this),this.iHash.update(t),this}digestInto(t){_d(this),C2(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:l,outputLen:c}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=l,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const z2=(e,t,n)=>new D2(e,t).update(n).digest();z2.create=(e,t)=>new D2(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function M3(e){return{hash:e,hmac:(t,...n)=>z2(e,t,XI(...n)),randomBytes:P2}}function L3(e,t){const n=r=>O3({...e,...M3(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ef=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Sd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),B2=BigInt(1),kd=BigInt(2),_1=(e,t)=>(e+t/kd)/t;function F2(e){const t=ef,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),l=BigInt(23),c=BigInt(44),u=BigInt(88),f=e*e*e%t,p=f*f*e%t,h=Gn(p,n,t)*p%t,w=Gn(h,n,t)*p%t,y=Gn(w,kd,t)*f%t,b=Gn(y,o,t)*y%t,g=Gn(b,i,t)*b%t,x=Gn(g,c,t)*g%t,E=Gn(x,u,t)*x%t,k=Gn(E,c,t)*g%t,C=Gn(k,n,t)*p%t,A=Gn(C,l,t)*b%t,I=Gn(A,r,t)*f%t,L=Gn(I,kd,t);if(!pg.eql(pg.sqr(L),e))throw new Error("Cannot find square root");return L}const pg=k3(ef,void 0,void 0,{sqrt:F2}),ja=L3({a:BigInt(0),b:BigInt(7),Fp:pg,n:Sd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Sd,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-B2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,l=BigInt("0x100000000000000000000000000000000"),c=_1(i*e,t),u=_1(-r*e,t);let f=en(e-c*n-u*o,t),p=en(-c*r-u*i,t);const h=f>l,w=p>l;if(h&&(f=t-f),w&&(p=t-p),f>l||p>l)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:f,k2neg:w,k2:p}}}},dg),tf=BigInt(0),$2=e=>typeof e=="bigint"&&tf<e&&e<ef,D3=e=>typeof e=="bigint"&&tf<e&&e<Sd,S1={};function Cd(e,...t){let n=S1[e];if(n===void 0){const r=dg(Uint8Array.from(e,o=>o.charCodeAt(0)));n=ui(r,r),S1[e]=n}return dg(ui(n,...t))}const _y=e=>e.toRawBytes(!0).slice(1),mg=e=>ws(e,32),Zp=e=>en(e,ef),Xl=e=>en(e,Sd),Sy=ja.ProjectivePoint,z3=(e,t,n)=>Sy.BASE.multiplyAndAddUnsafe(e,t,n);function gg(e){let t=ja.utils.normPrivateKeyToScalar(e),n=Sy.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Xl(-t),bytes:_y(n)}}function U2(e){if(!$2(e))throw new Error("bad x: need 0 < x < p");const t=Zp(e*e),n=Zp(t*e+BigInt(7));let r=F2(n);r%kd!==tf&&(r=Zp(-r));const o=new Sy(e,r,B2);return o.assertValidity(),o}function H2(...e){return Xl(An(Cd("BIP0340/challenge",...e)))}function B3(e){return gg(e).bytes}function F3(e,t,n=P2(32)){const r=an("message",e),{bytes:o,scalar:i}=gg(t),l=an("auxRand",n,32),c=mg(i^An(Cd("BIP0340/aux",l))),u=Cd("BIP0340/nonce",c,o,r),f=Xl(An(u));if(f===tf)throw new Error("sign failed: k is zero");const{bytes:p,scalar:h}=gg(f),w=H2(p,o,r),y=new Uint8Array(64);if(y.set(p,0),y.set(mg(Xl(h+w*i)),32),!W2(y,r,o))throw new Error("sign: Invalid signature produced");return y}function W2(e,t,n){const r=an("signature",e,64),o=an("message",t),i=an("publicKey",n,32);try{const l=U2(An(i)),c=An(r.subarray(0,32));if(!$2(c))return!1;const u=An(r.subarray(32,64));if(!D3(u))return!1;const f=H2(mg(c),_y(l),o),p=z3(l,u,Xl(-f));return!(!p||!p.hasEvenY()||p.toAffine().x!==c)}catch{return!1}}const Ml={getPublicKey:B3,sign:F3,verify:W2,utils:{randomPrivateKey:ja.utils.randomPrivateKey,lift_x:U2,pointToBytes:_y,numberToBytesBE:ws,bytesToNumberBE:An,taggedHash:Cd,mod:en}},qp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ky=e=>e instanceof Uint8Array,Kp=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ar=(e,t)=>e<<32-t|e>>>t,$3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$3)throw new Error("Non little-endian hardware is not supported");const U3=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ln(e){if(!ky(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=U3[e[n]];return t}function di(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const o=r*2,i=e.slice(o,o+2),l=Number.parseInt(i,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function H3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ec(e){if(typeof e=="string"&&(e=H3(e)),!ky(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function nf(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!ky(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class V2{clone(){return this._cloneInto()}}function Z2(e){const t=r=>e().update(ec(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function q2(e=32){if(qp&&typeof qp.getRandomValues=="function")return qp.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function yg(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function W3(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function K2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function V3(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");yg(e.outputLen),yg(e.blockLen)}function Z3(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function q3(e,t){K2(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const $r={number:yg,bool:W3,bytes:K2,hash:V3,exists:Z3,output:q3};function K3(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),l=Number(n>>o&i),c=Number(n&i),u=r?4:0,f=r?0:4;e.setUint32(t+u,l,r),e.setUint32(t+f,c,r)}class G3 extends V2{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Kp(this.buffer)}update(t){$r.exists(this);const{view:n,buffer:r,blockLen:o}=this;t=ec(t);const i=t.length;for(let l=0;l<i;){const c=Math.min(o-this.pos,i-l);if(c===o){const u=Kp(t);for(;o<=i-l;l+=o)this.process(u,l);continue}r.set(t.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){$r.exists(this),$r.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>o-l&&(this.process(r,0),l=0);for(let h=l;h<o;h++)n[h]=0;K3(r,o-8,BigInt(this.length*8),i),this.process(r,0);const c=Kp(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<f;h++)c.setUint32(4*h,p[h],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:l,pos:c}=this;return t.length=o,t.pos=c,t.finished=i,t.destroyed=l,o%n&&t.buffer.set(r),t}}const Y3=(e,t,n)=>e&t^~e&n,J3=(e,t,n)=>e&t^e&n^t&n,Q3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qo=new Uint32Array(64);class G2 extends G3{constructor(){super(64,32,8,!1),this.A=Zo[0]|0,this.B=Zo[1]|0,this.C=Zo[2]|0,this.D=Zo[3]|0,this.E=Zo[4]|0,this.F=Zo[5]|0,this.G=Zo[6]|0,this.H=Zo[7]|0}get(){const{A:t,B:n,C:r,D:o,E:i,F:l,G:c,H:u}=this;return[t,n,r,o,i,l,c,u]}set(t,n,r,o,i,l,c,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=l|0,this.G=c|0,this.H=u|0}process(t,n){for(let h=0;h<16;h++,n+=4)qo[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const w=qo[h-15],y=qo[h-2],b=Ar(w,7)^Ar(w,18)^w>>>3,g=Ar(y,17)^Ar(y,19)^y>>>10;qo[h]=g+qo[h-7]+b+qo[h-16]|0}let{A:r,B:o,C:i,D:l,E:c,F:u,G:f,H:p}=this;for(let h=0;h<64;h++){const w=Ar(c,6)^Ar(c,11)^Ar(c,25),y=p+w+Y3(c,u,f)+Q3[h]+qo[h]|0,g=(Ar(r,2)^Ar(r,13)^Ar(r,22))+J3(r,o,i)|0;p=f,f=u,u=c,c=l+y|0,l=i,i=o,o=r,r=y+g|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,l=l+this.D|0,c=c+this.E|0,u=u+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(r,o,i,l,c,u,f,p)}roundClean(){qo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class X3 extends G2{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Oa=Z2(()=>new G2);Z2(()=>new X3);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ma(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Eo(...e){const t=(o,i)=>l=>o(i(l)),n=Array.from(e).reverse().reduce((o,i)=>o?t(o,i.encode):i.encode,void 0),r=e.reduce((o,i)=>o?t(o,i.decode):i.decode,void 0);return{encode:n,decode:r}}function _o(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Ma(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function So(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function rf(e,t="="){if(Ma(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let o of n)if(typeof o!="string")throw new Error(`padding.decode: non-string input=${o}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function Y2(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function k1(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach(l=>{if(Ma(l),l<0||l>=t)throw new Error(`Wrong integer: ${l}`)});;){let l=0,c=!0;for(let u=r;u<i.length;u++){const f=i[u],p=t*l+f;if(!Number.isSafeInteger(p)||t*l/t!==l||p-f!==t*l)throw new Error("convertRadix: carry overflow");if(l=p%n,i[u]=Math.floor(p/n),!Number.isSafeInteger(i[u])||i[u]*n+l!==p)throw new Error("convertRadix: carry overflow");if(c)i[u]?c=!1:r=u;else continue}if(o.push(l),c)break}for(let l=0;l<e.length-1&&e[l]===0;l++)o.push(0);return o.reverse()}const J2=(e,t)=>t?J2(t,e%t):e,Nd=(e,t)=>e+(t-J2(e,t));function vg(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Nd(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Nd(t,n)}`);let o=0,i=0;const l=2**n-1,c=[];for(const u of e){if(Ma(u),u>=2**t)throw new Error(`convertRadix2: invalid data word=${u} from=${t}`);if(o=o<<t|u,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((o>>i-n&l)>>>0);o&=2**i-1}if(o=o<<n-i&l,!r&&i>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&c.push(o>>>0),c}function ej(e){return Ma(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return k1(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(k1(t,e,2**8))}}}function Ss(e,t=!1){if(Ma(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Nd(8,e)>32||Nd(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return vg(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(vg(n,e,8,t))}}}function C1(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const tj=Eo(Ss(4),_o("0123456789ABCDEF"),So("")),nj=Eo(Ss(5),_o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),rf(5),So(""));Eo(Ss(5),_o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),rf(5),So(""));Eo(Ss(5),_o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),So(""),Y2(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const vo=Eo(Ss(6),_o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),rf(6),So("")),rj=Eo(Ss(6),_o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),rf(6),So("")),Cy=e=>Eo(ej(58),_o(e),So("")),wg=Cy("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Cy("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Cy("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const N1=[0,2,3,5,6,7,9,10,11],oj={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=wg.encode(r).padStart(N1[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),o=N1.indexOf(r.length),i=wg.decode(r);for(let l=0;l<i.length-o;l++)if(i[l]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}},xg=Eo(_o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),So("")),T1=[996825010,642813549,513874426,1027748829,705979059];function Ll(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<T1.length;r++)(t>>r&1)===1&&(n^=T1[r]);return n}function P1(e,t,n=1){const r=e.length;let o=1;for(let i=0;i<r;i++){const l=e.charCodeAt(i);if(l<33||l>126)throw new Error(`Invalid prefix (${e})`);o=Ll(o)^l>>5}o=Ll(o);for(let i=0;i<r;i++)o=Ll(o)^e.charCodeAt(i)&31;for(let i of t)o=Ll(o)^i;for(let i=0;i<6;i++)o=Ll(o);return o^=n,xg.encode(vg([o%2**30],30,5,!1))}function Q2(e){const t=e==="bech32"?1:734539939,n=Ss(5),r=n.decode,o=n.encode,i=C1(r);function l(p,h,w=90){if(typeof p!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof p}`);if(!Array.isArray(h)||h.length&&typeof h[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof h}`);const y=p.length+7+h.length;if(w!==!1&&y>w)throw new TypeError(`Length ${y} exceeds limit ${w}`);return p=p.toLowerCase(),`${p}1${xg.encode(h)}${P1(p,h,t)}`}function c(p,h=90){if(typeof p!="string")throw new Error(`bech32.decode input should be string, not ${typeof p}`);if(p.length<8||h!==!1&&p.length>h)throw new TypeError(`Wrong string length: ${p.length} (${p}). Expected (8..${h})`);const w=p.toLowerCase();if(p!==w&&p!==p.toUpperCase())throw new Error("String must be lowercase or uppercase");p=w;const y=p.lastIndexOf("1");if(y===0||y===-1)throw new Error('Letter "1" must be present between prefix and data only');const b=p.slice(0,y),g=p.slice(y+1);if(g.length<6)throw new Error("Data must be at least 6 characters long");const x=xg.decode(g).slice(0,-6),E=P1(b,x,t);if(!g.endsWith(E))throw new Error(`Invalid checksum in ${p}: expected "${E}"`);return{prefix:b,words:x}}const u=C1(c);function f(p){const{prefix:h,words:w}=c(p,!1);return{prefix:h,words:w,bytes:r(w)}}return{encode:l,decode:c,decodeToBytes:f,decodeUnsafe:u,fromWords:r,fromWordsUnsafe:i,toWords:o}}const Ca=Q2("bech32");Q2("bech32m");const sj={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},ij=Eo(Ss(4),_o("0123456789abcdef"),So(""),Y2(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),aj={utf8:sj,hex:ij,base16:tj,base32:nj,base64:vo,base64url:rj,base58:wg,base58xmr:oj};`${Object.keys(aj).join(", ")}`;function Gp(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function R1(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function lj(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function ho(e,...t){if(!lj(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const cn=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),cj=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!cj)throw new Error("Non little-endian hardware is not supported");function uj(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function dj(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const fj=(e,t)=>(Object.assign(t,e),t),gs=16,hj=283;function Ny(e){return e<<1^hj&-(e>>7)}function ea(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Ny(e);return n}const bg=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=Ny(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),pj=bg.map((e,t)=>bg.indexOf(t)),mj=e=>e<<24|e>>>8,Yp=e=>e<<8|e>>>24;function X2(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((f,p)=>t(e[p])),r=n.map(Yp),o=r.map(Yp),i=o.map(Yp),l=new Uint32Array(256*256),c=new Uint32Array(256*256),u=new Uint16Array(256*256);for(let f=0;f<256;f++)for(let p=0;p<256;p++){const h=f*256+p;l[h]=n[f]^r[p],c[h]=o[f]^i[p],u[h]=e[f]<<8|e[p]}return{sbox:e,sbox2:u,T0:n,T1:r,T2:o,T3:i,T01:l,T23:c}}const Ty=X2(bg,e=>ea(e,3)<<24|e<<16|e<<8|ea(e,2)),e_=X2(pj,e=>ea(e,11)<<24|ea(e,13)<<16|ea(e,9)<<8|ea(e,14)),gj=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Ny(n))e[t]=n;return e})();function t_(e){ho(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Ty,r=cn(e),o=r.length,i=c=>Ur(n,c,c,c,c),l=new Uint32Array(t+28);l.set(r);for(let c=o;c<l.length;c++){let u=l[c-1];c%o===0?u=i(mj(u))^gj[c/o-1]:o>6&&c%o===4&&(u=i(u)),l[c]=l[c-o]^u}return l}function yj(e){const t=t_(e),n=t.slice(),r=t.length,{sbox2:o}=Ty,{T0:i,T1:l,T2:c,T3:u}=e_;for(let f=0;f<r;f+=4)for(let p=0;p<4;p++)n[f+p]=t[r-f-4+p];t.fill(0);for(let f=4;f<r-4;f++){const p=n[f],h=Ur(o,p,p,p,p);n[f]=i[h&255]^l[h>>>8&255]^c[h>>>16&255]^u[h>>>24]}return n}function fs(e,t,n,r,o,i){return e[n<<8&65280|r>>>8&255]^t[o>>>8&65280|i>>>24&255]}function Ur(e,t,n,r,o){return e[t&255|n&65280]|e[r>>>16&255|o>>>16&65280]<<16}function A1(e,t,n,r,o){const{sbox2:i,T01:l,T23:c}=Ty;let u=0;t^=e[u++],n^=e[u++],r^=e[u++],o^=e[u++];const f=e.length/4-2;for(let b=0;b<f;b++){const g=e[u++]^fs(l,c,t,n,r,o),x=e[u++]^fs(l,c,n,r,o,t),E=e[u++]^fs(l,c,r,o,t,n),k=e[u++]^fs(l,c,o,t,n,r);t=g,n=x,r=E,o=k}const p=e[u++]^Ur(i,t,n,r,o),h=e[u++]^Ur(i,n,r,o,t),w=e[u++]^Ur(i,r,o,t,n),y=e[u++]^Ur(i,o,t,n,r);return{s0:p,s1:h,s2:w,s3:y}}function vj(e,t,n,r,o){const{sbox2:i,T01:l,T23:c}=e_;let u=0;t^=e[u++],n^=e[u++],r^=e[u++],o^=e[u++];const f=e.length/4-2;for(let b=0;b<f;b++){const g=e[u++]^fs(l,c,t,o,r,n),x=e[u++]^fs(l,c,n,t,o,r),E=e[u++]^fs(l,c,r,n,t,o),k=e[u++]^fs(l,c,o,r,n,t);t=g,n=x,r=E,o=k}const p=e[u++]^Ur(i,t,o,r,n),h=e[u++]^Ur(i,n,t,o,r),w=e[u++]^Ur(i,r,n,t,o),y=e[u++]^Ur(i,o,r,n,t);return{s0:p,s1:h,s2:w,s3:y}}function n_(e,t){if(!t)return new Uint8Array(e);if(ho(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function wj(e){if(ho(e),e.length%gs!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${gs}`)}function xj(e,t,n){let r=e.length;const o=r%gs;if(!t&&o!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const i=cn(e);if(t){let u=gs-o;u||(u=gs),r=r+u}const l=n_(r,n),c=cn(l);return{b:i,o:c,out:l}}function bj(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const o=e.subarray(0,-r);for(let i=0;i<r;i++)if(e[n-i-1]!==r)throw new Error("aes/pcks5: wrong padding");return o}function Ej(e){const t=new Uint8Array(16),n=cn(t);t.set(e);const r=gs-e.length;for(let o=gs-r;o<gs;o++)t[o]=r;return n}const r_=fj({blockSize:16,nonceLength:16},function(t,n,r={}){ho(t),ho(n,16);const o=!r.disablePadding;return{encrypt:(i,l)=>{const c=t_(t),{b:u,o:f,out:p}=xj(i,o,l),h=cn(n);let w=h[0],y=h[1],b=h[2],g=h[3],x=0;for(;x+4<=u.length;)w^=u[x+0],y^=u[x+1],b^=u[x+2],g^=u[x+3],{s0:w,s1:y,s2:b,s3:g}=A1(c,w,y,b,g),f[x++]=w,f[x++]=y,f[x++]=b,f[x++]=g;if(o){const E=Ej(i.subarray(x*4));w^=E[0],y^=E[1],b^=E[2],g^=E[3],{s0:w,s1:y,s2:b,s3:g}=A1(c,w,y,b,g),f[x++]=w,f[x++]=y,f[x++]=b,f[x++]=g}return c.fill(0),p},decrypt:(i,l)=>{wj(i);const c=yj(t),u=cn(n),f=n_(i.length,l),p=cn(i),h=cn(f);let w=u[0],y=u[1],b=u[2],g=u[3];for(let x=0;x+4<=p.length;){const E=w,k=y,C=b,A=g;w=p[x+0],y=p[x+1],b=p[x+2],g=p[x+3];const{s0:I,s1:L,s2:z,s3:$}=vj(c,w,y,b,g);h[x++]=I^E,h[x++]=L^k,h[x++]=z^C,h[x++]=$^A}return c.fill(0),bj(f,o)}}}),o_=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),_j=o_("expand 16-byte k"),Sj=o_("expand 32-byte k"),kj=cn(_j),s_=cn(Sj);s_.slice();function ut(e,t){return e<<t|e>>>32-t}function Eg(e){return e.byteOffset%4===0}const Yu=64,Cj=16,i_=2**32-1,I1=new Uint32Array;function Nj(e,t,n,r,o,i,l,c){const u=o.length,f=new Uint8Array(Yu),p=cn(f),h=Eg(o)&&Eg(i),w=h?cn(o):I1,y=h?cn(i):I1;for(let b=0;b<u;l++){if(e(t,n,r,p,l,c),l>=i_)throw new Error("arx: counter overflow");const g=Math.min(Yu,u-b);if(h&&g===Yu){const x=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let E=0,k;E<Cj;E++)k=x+E,y[k]=w[k]^p[E];b+=Yu;continue}for(let x=0,E;x<g;x++)E=b+x,i[E]=o[E]^f[x];b+=g}}function Tj(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:l}=uj({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Gp(o),Gp(l),R1(i),R1(n),(c,u,f,p,h=0)=>{ho(c),ho(u),ho(f);const w=f.length;if(p||(p=new Uint8Array(w)),ho(p),Gp(h),h<0||h>=i_)throw new Error("arx: counter overflow");if(p.length<w)throw new Error(`arx: output (${p.length}) is shorter than data (${w})`);const y=[];let b=c.length,g,x;if(b===32)g=c.slice(),y.push(g),x=s_;else if(b===16&&n)g=new Uint8Array(32),g.set(c),g.set(c,16),x=kj,y.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);Eg(u)||(u=u.slice(),y.push(u));const E=cn(g);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(x,E,cn(u.subarray(0,16)),E),u=u.subarray(16)}const k=16-o;if(k!==u.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const A=new Uint8Array(12);A.set(u,i?0:12-u.length),u=A,y.push(u)}const C=cn(u);for(Nj(e,x,E,C,f,p,h,l);y.length>0;)y.pop().fill(0);return p}}function Pj(e,t,n,r,o,i=20){let l=e[0],c=e[1],u=e[2],f=e[3],p=t[0],h=t[1],w=t[2],y=t[3],b=t[4],g=t[5],x=t[6],E=t[7],k=o,C=n[0],A=n[1],I=n[2],L=l,z=c,$=u,O=f,B=p,W=h,M=w,V=y,P=b,U=g,X=x,J=E,ee=k,q=C,oe=A,D=I;for(let ge=0;ge<i;ge+=2)L=L+B|0,ee=ut(ee^L,16),P=P+ee|0,B=ut(B^P,12),L=L+B|0,ee=ut(ee^L,8),P=P+ee|0,B=ut(B^P,7),z=z+W|0,q=ut(q^z,16),U=U+q|0,W=ut(W^U,12),z=z+W|0,q=ut(q^z,8),U=U+q|0,W=ut(W^U,7),$=$+M|0,oe=ut(oe^$,16),X=X+oe|0,M=ut(M^X,12),$=$+M|0,oe=ut(oe^$,8),X=X+oe|0,M=ut(M^X,7),O=O+V|0,D=ut(D^O,16),J=J+D|0,V=ut(V^J,12),O=O+V|0,D=ut(D^O,8),J=J+D|0,V=ut(V^J,7),L=L+W|0,D=ut(D^L,16),X=X+D|0,W=ut(W^X,12),L=L+W|0,D=ut(D^L,8),X=X+D|0,W=ut(W^X,7),z=z+M|0,ee=ut(ee^z,16),J=J+ee|0,M=ut(M^J,12),z=z+M|0,ee=ut(ee^z,8),J=J+ee|0,M=ut(M^J,7),$=$+V|0,q=ut(q^$,16),P=P+q|0,V=ut(V^P,12),$=$+V|0,q=ut(q^$,8),P=P+q|0,V=ut(V^P,7),O=O+B|0,oe=ut(oe^O,16),U=U+oe|0,B=ut(B^U,12),O=O+B|0,oe=ut(oe^O,8),U=U+oe|0,B=ut(B^U,7);let Z=0;r[Z++]=l+L|0,r[Z++]=c+z|0,r[Z++]=u+$|0,r[Z++]=f+O|0,r[Z++]=p+B|0,r[Z++]=h+W|0,r[Z++]=w+M|0,r[Z++]=y+V|0,r[Z++]=b+P|0,r[Z++]=g+U|0,r[Z++]=x+X|0,r[Z++]=E+J|0,r[Z++]=k+ee|0,r[Z++]=C+q|0,r[Z++]=A+oe|0,r[Z++]=I+D|0}const a_=Tj(Pj,{counterRight:!1,counterLength:4,allowShortKeys:!1});class l_ extends V2{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,$r.hash(t);const r=ec(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let l=0;l<i.length;l++)i[l]^=54;this.iHash.update(i),this.oHash=t.create();for(let l=0;l<i.length;l++)i[l]^=106;this.oHash.update(i),i.fill(0)}update(t){return $r.exists(this),this.iHash.update(t),this}digestInto(t){$r.exists(this),$r.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:l,outputLen:c}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=l,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const of=(e,t,n)=>new l_(e,t).update(n).digest();of.create=(e,t)=>new l_(e,t);function Rj(e,t,n){return $r.hash(e),of(e,ec(n),ec(t))}const Jp=new Uint8Array([0]),j1=new Uint8Array;function Aj(e,t,n,r=32){if($r.hash(e),$r.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/e.outputLen);n===void 0&&(n=j1);const i=new Uint8Array(o*e.outputLen),l=of.create(e,t),c=l._cloneInto(),u=new Uint8Array(l.outputLen);for(let f=0;f<o;f++)Jp[0]=f+1,c.update(f===0?j1:u).update(n).update(Jp).digestInto(u),i.set(u,e.outputLen*f),l._cloneInto(c);return l.destroy(),c.destroy(),u.fill(0),Jp.fill(0),i.slice(0,r)}var Ij=Object.defineProperty,Ct=(e,t)=>{for(var n in t)Ij(e,n,{get:t[n],enumerable:!0})},qi=Symbol("verified"),jj=e=>e instanceof Object;function Py(e){if(!jj(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var Oj={};Ct(Oj,{Queue:()=>d_,QueueNode:()=>u_,binarySearch:()=>Ry,bytesToHex:()=>ln,hexToBytes:()=>di,insertEventIntoAscendingList:()=>Lj,insertEventIntoDescendingList:()=>Mj,normalizeURL:()=>c_,utf8Decoder:()=>po,utf8Encoder:()=>xr});var po=new TextDecoder("utf-8"),xr=new TextEncoder;function c_(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch{throw new Error(`Invalid URL: ${e}`)}}function Mj(e,t){const[n,r]=Ry(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:o.created_at-t.created_at);return r||e.splice(n,0,t),e}function Lj(e,t){const[n,r]=Ry(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:t.created_at-o.created_at);return r||e.splice(n,0,t),e}function Ry(e,t){let n=0,r=e.length-1;for(;n<=r;){const o=Math.floor((n+r)/2),i=t(e[o]);if(i===0)return[o,!0];i<0?r=o-1:n=o+1}return[n,!1]}var u_=class{constructor(e){je(this,"value");je(this,"next",null);je(this,"prev",null);this.value=e}},d_=class{constructor(){je(this,"first");je(this,"last");this.first=null,this.last=null}enqueue(e){const t=new u_(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},Dj=class{generateSecretKey(){return Ml.utils.randomPrivateKey()}getPublicKey(e){return ln(Ml.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=ln(Ml.getPublicKey(t)),n.id=Kl(n),n.sig=ln(Ml.sign(Kl(n),t)),n[qi]=!0,n}verifyEvent(e){if(typeof e[qi]=="boolean")return e[qi];const t=Kl(e);if(t!==e.id)return e[qi]=!1,!1;try{const n=Ml.verify(e.sig,t,e.pubkey);return e[qi]=n,n}catch{return e[qi]=!1,!1}}};function zj(e){if(!Py(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Kl(e){let t=Oa(xr.encode(zj(e)));return ln(t)}var sf=new Dj,_c=sf.generateSecretKey,wo=sf.getPublicKey,or=sf.finalizeEvent,Sc=sf.verifyEvent,Bj={};Ct(Bj,{Application:()=>zO,BadgeAward:()=>qj,BadgeDefinition:()=>AO,BlockedRelaysList:()=>mO,BookmarkList:()=>fO,Bookmarksets:()=>TO,Calendar:()=>VO,CalendarEventRSVP:()=>ZO,ChannelCreation:()=>y_,ChannelHideMessage:()=>x_,ChannelMessage:()=>w_,ChannelMetadata:()=>v_,ChannelMuteUser:()=>b_,ClassifiedListing:()=>$O,ClientAuth:()=>__,CommunitiesList:()=>hO,CommunityDefinition:()=>GO,CommunityPostApproval:()=>tO,Contacts:()=>Wj,CreateOrUpdateProduct:()=>OO,CreateOrUpdateStall:()=>jO,Curationsets:()=>PO,Date:()=>HO,DirectMessageRelaysList:()=>wO,DraftClassifiedListing:()=>UO,DraftLong:()=>LO,Emojisets:()=>DO,EncryptedDirectMessage:()=>Vj,EventDeletion:()=>Zj,FileMetadata:()=>Gj,FileServerPreference:()=>xO,Followsets:()=>kO,GenericRepost:()=>jy,Genericlists:()=>CO,GiftWrap:()=>E_,HTTPAuth:()=>Oy,Handlerinformation:()=>KO,Handlerrecommendation:()=>qO,Highlights:()=>lO,InterestsList:()=>yO,Interestsets:()=>IO,JobFeedback:()=>oO,JobRequest:()=>nO,JobResult:()=>rO,Label:()=>eO,LightningPubRPC:()=>EO,LiveChatMessage:()=>Yj,LiveEvent:()=>BO,LongFormArticle:()=>MO,Metadata:()=>Uj,Mutelist:()=>cO,NWCWalletInfo:()=>bO,NWCWalletRequest:()=>S_,NWCWalletResponse:()=>_O,NostrConnect:()=>SO,OpenTimestamps:()=>Kj,Pinlist:()=>uO,PrivateDirectMessage:()=>g_,ProblemTracker:()=>Jj,ProfileBadges:()=>RO,PublicChatsList:()=>pO,Reaction:()=>Iy,RecommendRelay:()=>Hj,RelayList:()=>dO,Relaysets:()=>NO,Report:()=>Qj,Reporting:()=>Xj,Repost:()=>Ay,Seal:()=>m_,SearchRelaysList:()=>gO,ShortTextNote:()=>p_,Time:()=>WO,UserEmojiList:()=>vO,UserStatuses:()=>FO,Zap:()=>aO,ZapGoal:()=>sO,ZapRequest:()=>iO,classifyKind:()=>Fj,isAddressableKind:()=>lf,isEphemeralKind:()=>h_,isKind:()=>$j,isRegularKind:()=>f_,isReplaceableKind:()=>af});function f_(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function af(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function h_(e){return 2e4<=e&&e<3e4}function lf(e){return 3e4<=e&&e<4e4}function Fj(e){return f_(e)?"regular":af(e)?"replaceable":h_(e)?"ephemeral":lf(e)?"parameterized":"unknown"}function $j(e,t){const n=t instanceof Array?t:[t];return Py(e)&&n.includes(e.kind)||!1}var Uj=0,p_=1,Hj=2,Wj=3,Vj=4,Zj=5,Ay=6,Iy=7,qj=8,m_=13,g_=14,jy=16,y_=40,v_=41,w_=42,x_=43,b_=44,Kj=1040,E_=1059,Gj=1063,Yj=1311,Jj=1971,Qj=1984,Xj=1984,eO=1985,tO=4550,nO=5999,rO=6999,oO=7e3,sO=9041,iO=9734,aO=9735,lO=9802,cO=1e4,uO=10001,dO=10002,fO=10003,hO=10004,pO=10005,mO=10006,gO=10007,yO=10015,vO=10030,wO=10050,xO=10096,bO=13194,EO=21e3,__=22242,S_=23194,_O=23195,SO=24133,Oy=27235,kO=3e4,CO=30001,NO=30002,TO=30003,PO=30004,RO=30008,AO=30009,IO=30015,jO=30017,OO=30018,MO=30023,LO=30024,DO=30030,zO=30078,BO=30311,FO=30315,$O=30402,UO=30403,HO=31922,WO=31923,VO=31924,ZO=31925,qO=31989,KO=31990,GO=34550;function YO(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),o=e[`#${r}`];if(o&&!t.tags.find(([i,l])=>i===n.slice(1)&&o.indexOf(l)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function k_(e,t){for(let n=0;n<e.length;n++)if(YO(e[n],t))return!0;return!1}function C_(e){var t,n,r,o,i,l;if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[c,u]of Object.entries(e))if(c[0]==="#"&&Array.isArray(u)&&!u.length)return 0;return Math.min(Math.max(0,e.limit??1/0),((t=e.ids)==null?void 0:t.length)??1/0,(n=e.authors)!=null&&n.length&&((r=e.kinds)!=null&&r.every(c=>af(c)))?e.authors.length*e.kinds.length:1/0,(o=e.authors)!=null&&o.length&&((i=e.kinds)!=null&&i.every(c=>lf(c)))&&((l=e["#d"])!=null&&l.length)?e.authors.length*e.kinds.length*e["#d"].length:1/0)}var JO={};Ct(JO,{getHex64:()=>cf,getInt:()=>N_,getSubscriptionId:()=>T_,matchEventId:()=>QO,matchEventKind:()=>e5,matchEventPubkey:()=>XO});function cf(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function N_(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,o=e.slice(r),i=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,i),10)}function T_(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,o=e.slice(r+1,80).indexOf('"');if(o===-1)return null;let i=r+1+o;return e.slice(r+1,i)}function QO(e,t){return t===cf(e,"id")}function XO(e,t){return t===cf(e,"pubkey")}function e5(e,t){return t===N_(e,"kind")}var t5={};Ct(t5,{makeAuthEvent:()=>P_});function P_(e,t){return{kind:__,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function n5(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var R_=class extends Error{constructor(e,t){super(`Tried to send message '${e} on a closed connection to ${t}.`),this.name="SendingOnClosedConnection"}},A_=class{constructor(e,t){je(this,"url");je(this,"_connected",!1);je(this,"onclose",null);je(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));je(this,"baseEoseTimeout",4400);je(this,"connectionTimeout",4400);je(this,"publishTimeout",4400);je(this,"openSubs",new Map);je(this,"connectionTimeoutHandle");je(this,"connectionPromise");je(this,"openCountRequests",new Map);je(this,"openEventPublishes",new Map);je(this,"ws");je(this,"incomingMessageQueue",new d_);je(this,"queueRunning",!1);je(this,"challenge");je(this,"authPromise");je(this,"serial",0);je(this,"verifyEvent");je(this,"_WebSocket");this.url=c_(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){const n=new A_(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket closed"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await n5();this.queueRunning=!1}handleNext(){var n,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=T_(e);if(t){const o=this.openSubs.get(t);if(!o)return;const i=cf(e,"id"),l=(n=o.alreadyHaveEvent)==null?void 0:n.call(o,i);if((r=o.receivedEvent)==null||r.call(o,this,i),l)return}try{let o=JSON.parse(e);switch(o[0]){case"EVENT":{const i=this.openSubs.get(o[1]),l=o[2];this.verifyEvent(l)&&k_(i.filters,l)&&i.onevent(l);return}case"COUNT":{const i=o[1],l=o[2],c=this.openCountRequests.get(i);c&&(c.resolve(l.count),this.openCountRequests.delete(i));return}case"EOSE":{const i=this.openSubs.get(o[1]);if(!i)return;i.receivedEose();return}case"OK":{const i=o[1],l=o[2],c=o[3],u=this.openEventPublishes.get(i);u&&(clearTimeout(u.timeout),l?u.resolve(c):u.reject(new Error(c)),this.openEventPublishes.delete(i));return}case"CLOSED":{const i=o[1],l=this.openSubs.get(i);if(!l)return;l.closed=!0,l.close(o[2]);return}case"NOTICE":this.onnotice(o[1]);return;case"AUTH":{this.challenge=o[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new R_(e,this.url);this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){const t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let o=await e(P_(this.url,t)),i=setTimeout(()=>{let l=this.openEventPublishes.get(o.id);l&&(l.reject(new Error("auth timed out")),this.openEventPublishes.delete(o.id))},this.publishTimeout);this.openEventPublishes.set(o.id,{resolve:n,reject:r,timeout:i}),this.send('["AUTH",'+JSON.stringify(o)+"]")}catch(o){console.warn("subscribe auth function failed:",o)}}),this.authPromise)}async publish(e){const t=new Promise((n,r)=>{const o=setTimeout(()=>{const i=this.openEventPublishes.get(e.id);i&&(i.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:n,reject:r,timeout:o})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((o,i)=>{this.openCountRequests.set(n,{resolve:o,reject:i})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||(t.label?t.label+":":"sub:")+this.serial,r=new r5(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},r5=class{constructor(e,t,n,r){je(this,"relay");je(this,"id");je(this,"closed",!1);je(this,"eosed",!1);je(this,"filters");je(this,"alreadyHaveEvent");je(this,"receivedEvent");je(this,"onevent");je(this,"oneose");je(this,"onclose");je(this,"eoseTimeout");je(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(o=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,o)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof R_))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},I_;try{I_=WebSocket}catch{}var j_=class extends A_{constructor(e){super(e,{verifyEvent:Sc,websocketImplementation:I_})}static async connect(e){const t=new j_(e);return await t.connect(),t}},o5;try{o5=WebSocket}catch{}var yn={};Ct(yn,{BECH32_REGEX:()=>O_,Bech32MaxSize:()=>My,NostrTypeGuard:()=>s5,decode:()=>uf,decodeNostrURI:()=>a5,encodeBytes:()=>ff,naddrEncode:()=>h5,neventEncode:()=>f5,noteEncode:()=>u5,nprofileEncode:()=>d5,npubEncode:()=>c5,nsecEncode:()=>l5});var s5={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},My=5e3,O_=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function i5(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function a5(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),uf(e)}catch{return{type:"invalid",data:null}}}function uf(e){var o,i,l,c,u,f,p;let{prefix:t,words:n}=Ca.decode(e,My),r=new Uint8Array(Ca.fromWords(n));switch(t){case"nprofile":{let h=Qp(r);if(!((o=h[0])!=null&&o[0]))throw new Error("missing TLV 0 for nprofile");if(h[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:ln(h[0][0]),relays:h[1]?h[1].map(w=>po.decode(w)):[]}}}case"nevent":{let h=Qp(r);if(!((i=h[0])!=null&&i[0]))throw new Error("missing TLV 0 for nevent");if(h[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(h[2]&&h[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(h[3]&&h[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:ln(h[0][0]),relays:h[1]?h[1].map(w=>po.decode(w)):[],author:(l=h[2])!=null&&l[0]?ln(h[2][0]):void 0,kind:(c=h[3])!=null&&c[0]?parseInt(ln(h[3][0]),16):void 0}}}case"naddr":{let h=Qp(r);if(!((u=h[0])!=null&&u[0]))throw new Error("missing TLV 0 for naddr");if(!((f=h[2])!=null&&f[0]))throw new Error("missing TLV 2 for naddr");if(h[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((p=h[3])!=null&&p[0]))throw new Error("missing TLV 3 for naddr");if(h[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:po.decode(h[0][0]),pubkey:ln(h[2][0]),kind:parseInt(ln(h[3][0]),16),relays:h[1]?h[1].map(w=>po.decode(w)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:ln(r)};default:throw new Error(`unknown prefix ${t}`)}}function Qp(e){let t={},n=e;for(;n.length>0;){let r=n[0],o=n[1],i=n.slice(2,2+o);if(n=n.slice(2+o),i.length<o)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(i)}return t}function l5(e){return ff("nsec",e)}function c5(e){return ff("npub",di(e))}function u5(e){return ff("note",di(e))}function df(e,t){let n=Ca.toWords(t);return Ca.encode(e,n,My)}function ff(e,t){return df(e,t)}function d5(e){let t=Ly({0:[di(e.pubkey)],1:(e.relays||[]).map(n=>xr.encode(n))});return df("nprofile",t)}function f5(e){let t;e.kind!==void 0&&(t=i5(e.kind));let n=Ly({0:[di(e.id)],1:(e.relays||[]).map(r=>xr.encode(r)),2:e.author?[di(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return df("nevent",n)}function h5(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Ly({0:[xr.encode(e.identifier)],1:(e.relays||[]).map(r=>xr.encode(r)),2:[di(e.pubkey)],3:[new Uint8Array(t)]});return df("naddr",n)}function Ly(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(o=>{let i=new Uint8Array(o.length+2);i.set([parseInt(n)],0),i.set([o.length],1),i.set(o,2),t.push(i)})}),nf(...t)}var tc={};Ct(tc,{decrypt:()=>p5,encrypt:()=>M_});function M_(e,t,n){const r=e instanceof Uint8Array?ln(e):e,o=ja.getSharedSecret(r,"02"+t),i=L_(o);let l=Uint8Array.from(q2(16)),c=xr.encode(n),u=r_(i,l).encrypt(c),f=vo.encode(new Uint8Array(u)),p=vo.encode(new Uint8Array(l.buffer));return`${f}?iv=${p}`}function p5(e,t,n){const r=e instanceof Uint8Array?ln(e):e;let[o,i]=n.split("?iv="),l=ja.getSharedSecret(r,"02"+t),c=L_(l),u=vo.decode(i),f=vo.decode(o),p=r_(c,u).decrypt(f);return po.decode(p)}function L_(e){return e.slice(1,33)}var m5={};Ct(m5,{NIP05_REGEX:()=>Dy,isNip05:()=>g5,isValid:()=>w5,queryProfile:()=>D_,searchDomain:()=>v5,useFetchImplementation:()=>y5});var Dy=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,g5=e=>Dy.test(e||""),hf;try{hf=fetch}catch{}function y5(e){hf=e}async function v5(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await hf(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function D_(e){var o;const t=e.match(Dy);if(!t)return null;const[,n="_",r]=t;try{const i=`https://${r}/.well-known/nostr.json?name=${n}`,l=await hf(i,{redirect:"manual"});if(l.status!==200)throw Error("Wrong response code");const c=await l.json(),u=c.names[n];return u?{pubkey:u,relays:(o=c.relays)==null?void 0:o[u]}:null}catch{return null}}async function w5(e,t){const n=await D_(t);return n?n.pubkey===e:!1}var x5={};Ct(x5,{parse:()=>b5});function b5(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let o=e.tags.length-1;o>=0;o--){const i=e.tags[o];if(i[0]==="e"&&i[1]){const[l,c,u,f,p]=i,h={id:c,relays:u?[u]:[],author:p};if(f==="root"){t.root=h;continue}if(f==="reply"){t.reply=h;continue}if(f==="mention"){t.mentions.push(h);continue}n?r=h:n=h,t.mentions.push(h);continue}if(i[0]==="q"&&i[1]){const[l,c,u]=i;t.quotes.push({id:c,relays:u?[u]:[]})}if(i[0]==="p"&&i[1]){t.profiles.push({pubkey:i[1],relays:i[2]?[i[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(o=>{if(!o)return;let i=t.mentions.indexOf(o);if(i!==-1&&t.mentions.splice(i,1),o.author){let l=t.profiles.find(c=>c.pubkey===o.author);l&&l.relays&&(o.relays||(o.relays=[]),l.relays.forEach(c=>{var u;((u=o.relays)==null?void 0:u.indexOf(c))===-1&&o.relays.push(c)}),l.relays=o.relays)}}),t.mentions.forEach(o=>{if(o.author){let i=t.profiles.find(l=>l.pubkey===o.author);i&&i.relays&&(o.relays||(o.relays=[]),i.relays.forEach(l=>{o.relays.indexOf(l)===-1&&o.relays.push(l)}),i.relays=o.relays)}}),t}var E5={};Ct(E5,{fetchRelayInformation:()=>S5,useFetchImplementation:()=>_5});var z_;try{z_=fetch}catch{}function _5(e){z_=e}async function S5(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var k5={};Ct(k5,{fastEventHash:()=>F_,getPow:()=>B_,minePow:()=>C5});function B_(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function C5(e,t){let n=0;const r=e,o=["nonce",n.toString(),t.toString()];for(r.tags.push(o);;){const i=Math.floor(new Date().getTime()/1e3);if(i!==r.created_at&&(n=0,r.created_at=i),o[1]=(++n).toString(),r.id=F_(r),B_(r.id)>=t)break}return r}function F_(e){return ln(Oa(xr.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var N5={};Ct(N5,{unwrapEvent:()=>z5,unwrapManyEvents:()=>B5,wrapEvent:()=>X_,wrapManyEvents:()=>D5});var T5={};Ct(T5,{createRumor:()=>G_,createSeal:()=>Y_,createWrap:()=>J_,unwrapEvent:()=>Uy,unwrapManyEvents:()=>Q_,wrapEvent:()=>Td,wrapManyEvents:()=>M5});var hs={};Ct(hs,{decrypt:()=>$y,encrypt:()=>Fy,getConversationKey:()=>zy,v2:()=>j5});var $_=1,U_=65535;function zy(e,t){const n=ja.getSharedSecret(e,"02"+t).subarray(1,33);return Rj(Oa,n,"nip44-v2")}function H_(e,t){const n=Aj(Oa,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function By(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function P5(e){if(!Number.isSafeInteger(e)||e<$_||e>U_)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function R5(e){const t=xr.encode(e),n=t.length,r=P5(n),o=new Uint8Array(By(n)-n);return nf(r,t,o)}function A5(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<$_||t>U_||n.length!==t||e.length!==2+By(t))throw new Error("invalid padding");return po.decode(n)}function W_(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=nf(n,t);return of(Oa,e,r)}function I5(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=vo.decode(e)}catch(i){throw new Error("invalid base64: "+i.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const o=n[0];if(o!==2)throw new Error("unknown encryption version "+o);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function Fy(e,t,n=q2(32)){const{chacha_key:r,chacha_nonce:o,hmac_key:i}=H_(t,n),l=R5(e),c=a_(r,o,l),u=W_(i,c,n);return vo.encode(nf(new Uint8Array([2]),n,c,u))}function $y(e,t){const{nonce:n,ciphertext:r,mac:o}=I5(e),{chacha_key:i,chacha_nonce:l,hmac_key:c}=H_(t,n),u=W_(c,r,n);if(!dj(u,o))throw new Error("invalid MAC");const f=a_(i,l,r);return A5(f)}var j5={utils:{getConversationKey:zy,calcPaddedLen:By},encrypt:Fy,decrypt:$y},O5=2*24*60*60,V_=()=>Math.round(Date.now()/1e3),Z_=()=>Math.round(V_()-Math.random()*O5),q_=(e,t)=>zy(e,t),K_=(e,t,n)=>Fy(JSON.stringify(e),q_(t,n)),O1=(e,t)=>JSON.parse($y(e.content,q_(t,e.pubkey)));function G_(e,t){const n={created_at:V_(),content:"",tags:[],...e,pubkey:wo(t)};return n.id=Kl(n),n}function Y_(e,t,n){return or({kind:m_,content:K_(e,t,n),created_at:Z_(),tags:[]},t)}function J_(e,t){const n=_c();return or({kind:E_,content:K_(e,n,t),created_at:Z_(),tags:[["p",t]]},n)}function Td(e,t,n){const r=G_(e,t),o=Y_(r,t,n);return J_(o,n)}function M5(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=wo(t),o=[Td(e,t,r)];return n.forEach(i=>{o.push(Td(e,t,i))}),o}function Uy(e,t){const n=O1(e,t);return O1(n,t)}function Q_(e,t){let n=[];return e.forEach(r=>{n.push(Uy(r,t))}),n.sort((r,o)=>r.created_at-o.created_at),n}function L5(e,t,n,r){const o={created_at:Math.ceil(Date.now()/1e3),kind:g_,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:l,relayUrl:c})=>{o.tags.push(c?["p",l,c]:["p",l])}),r&&o.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&o.tags.push(["subject",n]),o}function X_(e,t,n,r,o){const i=L5(t,n,r,o);return Td(i,e,t.publicKey)}function D5(e,t,n,r,o){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:wo(e)},...t].map(l=>X_(e,l,n,r,o))}var z5=Uy,B5=Q_,F5={};Ct(F5,{finishRepostEvent:()=>$5,getRepostedEvent:()=>U5,getRepostedEventPointer:()=>eS});function $5(e,t,n,r){var l;let o;const i=[...e.tags??[],["e",t.id,n],["p",t.pubkey]];return t.kind===p_?o=Ay:(o=jy,i.push(["k",String(t.kind)])),or({kind:o,tags:i,content:e.content===""||(l=t.tags)!=null&&l.find(c=>c[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function eS(e){if(![Ay,jy].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function U5(e,{skipVerification:t}={}){const n=eS(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!Sc(r)))return r}var H5={};Ct(H5,{NOSTR_URI_REGEX:()=>Hy,parse:()=>V5,test:()=>W5});var Hy=new RegExp(`nostr:(${O_.source})`);function W5(e){return typeof e=="string"&&new RegExp(`^${Hy.source}$`).test(e)}function V5(e){const t=e.match(new RegExp(`^${Hy.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:uf(t[1])}}var Z5={};Ct(Z5,{finishReactionEvent:()=>q5,getReactedEventPointer:()=>K5});function q5(e,t,n){const r=t.tags.filter(o=>o.length>=2&&(o[0]==="e"||o[0]==="p"));return or({...e,kind:Iy,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function K5(e){if(e.kind!==Iy)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var G5={};Ct(G5,{parse:()=>J5});var Y5=/\W/m,M1=/\W |\W$|$|,| /m;function*J5(e){const t=e.length;let n=0,r=0;for(;r<t;){let o=e.indexOf(":",r);if(o===-1)break;if(e.substring(o-5,o)==="nostr"){const i=e.substring(o+60).match(Y5),l=i?o+60+i.index:t;try{let c,{data:u,type:f}=uf(e.substring(o+1,l));switch(f){case"npub":c={pubkey:u};break;case"nsec":case"note":r=l+1;continue;default:c=u}n!==o-5&&(yield{type:"text",text:e.substring(n,o-5)}),yield{type:"reference",pointer:c},r=l,n=r;continue}catch{r=o+1;continue}}else if(e.substring(o-5,o)==="https"||e.substring(o-4,o)==="http"){const i=e.substring(o+4).match(M1),l=i?o+4+i.index:t,c=e[o-1]==="s"?5:4;try{let u=new URL(e.substring(o-c,l));if(u.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==o-c&&(yield{type:"text",text:e.substring(n,o-c)}),u.pathname.endsWith(".png")||u.pathname.endsWith(".jpg")||u.pathname.endsWith(".jpeg")||u.pathname.endsWith(".gif")||u.pathname.endsWith(".webp")){yield{type:"image",url:u.toString()},r=l,n=r;continue}if(u.pathname.endsWith(".mp4")||u.pathname.endsWith(".avi")||u.pathname.endsWith(".webm")||u.pathname.endsWith(".mkv")){yield{type:"video",url:u.toString()},r=l,n=r;continue}if(u.pathname.endsWith(".mp3")||u.pathname.endsWith(".aac")||u.pathname.endsWith(".ogg")||u.pathname.endsWith(".opus")){yield{type:"audio",url:u.toString()},r=l,n=r;continue}yield{type:"url",url:u.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else if(e.substring(o-3,o)==="wss"||e.substring(o-2,o)==="ws"){const i=e.substring(o+4).match(M1),l=i?o+4+i.index:t,c=e[o-1]==="s"?3:2;try{let u=new URL(e.substring(o-c,l));if(u.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==o-c&&(yield{type:"text",text:e.substring(n,o-c)}),yield{type:"relay",url:u.toString()},r=l,n=r;continue}catch{r=l+1;continue}}else{r=o+1;continue}}n!==t&&(yield{type:"text",text:e.substring(n)})}var Q5={};Ct(Q5,{channelCreateEvent:()=>X5,channelHideMessageEvent:()=>nM,channelMessageEvent:()=>tM,channelMetadataEvent:()=>eM,channelMuteUserEvent:()=>rM});var X5=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return or({kind:y_,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},eM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return or({kind:v_,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},tM=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),or({kind:w_,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},nM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return or({kind:x_,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},rM=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return or({kind:b_,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},oM={};Ct(oM,{EMOJI_SHORTCODE_REGEX:()=>tS,matchAll:()=>sM,regex:()=>Wy,replaceAll:()=>iM});var tS=/:(\w+):/,Wy=()=>new RegExp(`\\B${tS.source}\\B`,"g");function*sM(e){const t=e.matchAll(Wy());for(const n of t)try{const[r,o]=n;yield{shortcode:r,name:o,start:n.index,end:n.index+r.length}}catch{}}function iM(e,t){return e.replaceAll(Wy(),(n,r)=>t({shortcode:n,name:r}))}var aM={};Ct(aM,{useFetchImplementation:()=>lM,validateGithub:()=>cM});var Vy;try{Vy=fetch}catch{}function lM(e){Vy=e}async function cM(e,t,n){try{return await(await Vy(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var uM={};Ct(uM,{makeNwcRequestEvent:()=>fM,parseConnectionString:()=>dM});function dM(e){const{pathname:t,searchParams:n}=new URL(e),r=t,o=n.get("relay"),i=n.get("secret");if(!r||!o||!i)throw new Error("invalid connection string");return{pubkey:r,relay:o,secret:i}}async function fM(e,t,n){const o=M_(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),i={kind:S_,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e]]};return or(i,t)}var hM={};Ct(hM,{normalizeIdentifier:()=>pM});function pM(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var mM={};Ct(mM,{getSatoshisAmountFromBolt11:()=>bM,getZapEndpoint:()=>yM,makeZapReceipt:()=>xM,makeZapRequest:()=>vM,useFetchImplementation:()=>gM,validateZapRequest:()=>wM});var Zy;try{Zy=fetch}catch{}function gM(e){Zy=e}async function yM(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:l}=Ca.decode(n,1e3),c=Ca.fromWords(l);t=po.decode(c)}else if(r){let[l,c]=r.split("@");t=new URL(`/.well-known/lnurlp/${l}`,`https://${c}`).toString()}else return null;let i=await(await Zy(t)).json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch{}return null}function vM({profile:e,event:t,amount:n,relays:r,comment:o=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",n.toString()],["relays",...r]]};if(t&&typeof t=="string"&&i.tags.push(["e",t]),t&&typeof t=="object"){if(af(t.kind)){const l=["a",`${t.kind}:${t.pubkey}:`];i.tags.push(l)}else if(lf(t.kind)){let l=t.tags.find(([u,f])=>u==="d"&&f);if(!l)throw new Error("d tag not found or is empty");const c=["a",`${t.kind}:${t.pubkey}:${l[1]}`];i.tags.push(c)}}return i}function wM(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!Py(t))return"Zap request is not a valid Nostr event.";if(!Sc(t))return"Invalid signature on zap request.";let n=t.tags.find(([i,l])=>i==="p"&&l);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([i,l])=>i==="e"&&l);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([i,l])=>i==="relays"&&l)?null:"Zap request doesn't have a 'relays' tag."}function xM({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let o=JSON.parse(e),i=o.tags.filter(([c])=>c==="e"||c==="p"||c==="a"),l={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...i,["P",o.pubkey],["bolt11",n],["description",e]]};return t&&l.tags.push(["preimage",t]),l}function bM(e){if(e.length<50)return 0;e=e.substring(0,50);const t=e.lastIndexOf("1");if(t===-1)return 0;const n=e.substring(0,t);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const o=r[r.length-1],i=o.charCodeAt(0)-48,l=i>=0&&i<=9;let c=r.length-1;if(l&&c++,c<1)return 0;const u=parseInt(r.substring(0,c));switch(o){case"m":return u*1e5;case"u":return u*100;case"n":return u/10;case"p":return u/1e4;default:return u*1e8}}var EM={};Ct(EM,{getToken:()=>_M,hashPayload:()=>qy,unpackEventFromToken:()=>rS,validateEvent:()=>cS,validateEventKind:()=>sS,validateEventMethodTag:()=>aS,validateEventPayloadTag:()=>lS,validateEventTimestamp:()=>oS,validateEventUrlTag:()=>iS,validateToken:()=>SM});var nS="Nostr ";async function _M(e,t,n,r=!1,o){const i={kind:Oy,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};o&&i.tags.push(["payload",qy(o)]);const l=await n(i);return(r?nS:"")+vo.encode(xr.encode(JSON.stringify(l)))}async function SM(e,t,n){const r=await rS(e).catch(i=>{throw i});return await cS(r,t,n).catch(i=>{throw i})}async function rS(e){if(!e)throw new Error("Missing token");e=e.replace(nS,"");const t=po.decode(vo.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function oS(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function sS(e){return e.kind===Oy}function iS(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function aS(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function qy(e){const t=Oa(xr.encode(JSON.stringify(e)));return ln(t)}function lS(e,t){const n=e.tags.find(o=>o[0]==="payload");if(!n)return!1;const r=qy(t);return n.length>0&&n[1]===r}async function cS(e,t,n,r){if(!Sc(e))throw new Error("Invalid nostr event, signature invalid");if(!sS(e))throw new Error("Invalid nostr event, kind invalid");if(!oS(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!iS(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!aS(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!lS(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var e2,t2,Gd,uS;const Or=class Or{constructor(t){We(this,Gd);je(this,"cache");je(this,e2,"NSet");this.cache=t??new Map}get size(){return this.cache.size}add(t){et(this,Gd,uS).call(this,t);for(const n of this){if(Or.deletes(n,t)||Or.replaces(n,t))return this;Or.replaces(t,n)&&this.delete(n)}return this.cache.set(t.id,t),this}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,n){return this.cache.forEach((r,o)=>t(r,r,this),n)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of Or.sortEvents([...this.cache.values()]))yield t}[(t2=Symbol.iterator,e2=Symbol.toStringTag,t2)](){return this.values()}static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isAddressable(t){return 3e4<=t&&t<4e4}static replaces(t,n){var i,l;const{kind:r,pubkey:o}=t;if(Or.isReplaceable(r))return r===n.kind&&o===n.pubkey&&Or.sortEvents([t,n])[0]===t;if(Or.isAddressable(r)){const c=((i=t.tags.find(([f])=>f==="d"))==null?void 0:i[1])||"",u=((l=n.tags.find(([f])=>f==="d"))==null?void 0:l[1])||"";return r===n.kind&&o===n.pubkey&&Or.sortEvents([t,n])[0]===t&&c===u}return!1}static deletes(t,n){const{kind:r,pubkey:o,tags:i}=t;if(r===5&&o===n.pubkey){for(const[l,c]of i)if(l==="e"&&c===n.id)return!0}return!1}static sortEvents(t){return t.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}};Gd=new WeakSet,uS=function(t){if(t.kind===5){for(const n of t.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===t.pubkey&&this.delete(r)}}};let Pd=Or;const kM=Object.freeze({status:"aborted"});function ve(e,t,n){function r(c,u){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:u,constr:l,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,u);const f=l.prototype,p=Object.keys(f);for(let h=0;h<p.length;h++){const w=p[h];w in c||(c[w]=f[w].bind(c))}}const o=(n==null?void 0:n.Parent)??Object;class i extends o{}Object.defineProperty(i,"name",{value:e});function l(c){var u;const f=n!=null&&n.Parent?new i:this;r(f,c),(u=f._zod).deferred??(u.deferred=[]);for(const p of f._zod.deferred)p();return f}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>{var u,f;return n!=null&&n.Parent&&c instanceof n.Parent?!0:(f=(u=c==null?void 0:c._zod)==null?void 0:u.traits)==null?void 0:f.has(e)}}),Object.defineProperty(l,"name",{value:e}),l}class ra extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class dS extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const fS={};function xs(e){return fS}function hS(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function _g(e,t){return typeof t=="bigint"?t.toString():t}function Ky(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Gy(e){return e==null}function Yy(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function CM(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u!=null&&u[1]&&(o=Number.parseInt(u[1]))}const i=n>o?n:o,l=Number.parseInt(e.toFixed(i).replace(".","")),c=Number.parseInt(t.toFixed(i).replace(".",""));return l%c/10**i}const L1=Symbol("evaluating");function gt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==L1)return r===void 0&&(r=L1,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function yi(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ks(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function D1(e){return JSON.stringify(e)}function NM(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const pS="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Rd(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const TM=Ky(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Na(e){if(Rd(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Rd(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function mS(e){return Na(e)?{...e}:Array.isArray(e)?[...e]:e}const PM=new Set(["string","number","symbol"]);function Ta(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Cs(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function Ve(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function RM(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const AM={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function IM(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=ks(e._zod.def,{get shape(){const l={};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(l[c]=n.shape[c])}return yi(this,"shape",l),l},checks:[]});return Cs(e,i)}function jM(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=ks(e._zod.def,{get shape(){const l={...e._zod.def.shape};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&delete l[c]}return yi(this,"shape",l),l},checks:[]});return Cs(e,i)}function OM(e,t){if(!Na(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const i=e._zod.def.shape;for(const l in t)if(Object.getOwnPropertyDescriptor(i,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=ks(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return yi(this,"shape",i),i}});return Cs(e,o)}function MM(e,t){if(!Na(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=ks(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return yi(this,"shape",r),r}});return Cs(e,n)}function LM(e,t){const n=ks(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return yi(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Cs(e,n)}function DM(e,t,n){const o=t._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=ks(t._zod.def,{get shape(){const c=t._zod.def.shape,u={...c};if(n)for(const f in n){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(u[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)u[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return yi(this,"shape",u),u},checks:[]});return Cs(t,l)}function zM(e,t,n){const r=ks(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const l in n){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(i[l]=new e({type:"nonoptional",innerType:o[l]}))}else for(const l in o)i[l]=new e({type:"nonoptional",innerType:o[l]});return yi(this,"shape",i),i}});return Cs(t,r)}function ta(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function qs(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ju(e){return typeof e=="string"?e:e==null?void 0:e.message}function bs(e,t,n){var o,i,l,c,u,f;const r={...e,path:e.path??[]};if(!e.message){const p=Ju((l=(i=(o=e.inst)==null?void 0:o._zod.def)==null?void 0:i.error)==null?void 0:l.call(i,e))??Ju((c=t==null?void 0:t.error)==null?void 0:c.call(t,e))??Ju((u=n.customError)==null?void 0:u.call(n,e))??Ju((f=n.localeError)==null?void 0:f.call(n,e))??"Invalid input";r.message=p}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Jy(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function nc(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const gS=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,_g,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},yS=ve("$ZodError",gS),vS=ve("$ZodError",gS,{Parent:Error});function BM(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function FM(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(l=>r({issues:l}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(t(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(t(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return r(e),n}const Qy=e=>(t,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new ra;if(l.issues.length){const c=new((o==null?void 0:o.Err)??e)(l.issues.map(u=>bs(u,i,xs())));throw pS(c,o==null?void 0:o.callee),c}return l.value},Xy=e=>async(t,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new((o==null?void 0:o.Err)??e)(l.issues.map(u=>bs(u,i,xs())));throw pS(c,o==null?void 0:o.callee),c}return l.value},pf=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new ra;return i.issues.length?{success:!1,error:new(e??yS)(i.issues.map(l=>bs(l,o,xs())))}:{success:!0,data:i.value}},$M=pf(vS),mf=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(l=>bs(l,o,xs())))}:{success:!0,data:i.value}},UM=mf(vS),HM=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Qy(e)(t,n,o)},WM=e=>(t,n,r)=>Qy(e)(t,n,r),VM=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Xy(e)(t,n,o)},ZM=e=>async(t,n,r)=>Xy(e)(t,n,r),qM=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return pf(e)(t,n,o)},KM=e=>(t,n,r)=>pf(e)(t,n,r),GM=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return mf(e)(t,n,o)},YM=e=>async(t,n,r)=>mf(e)(t,n,r),JM=/^[cC][^\s-]{8,}$/,QM=/^[0-9a-z]+$/,XM=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,e6=/^[0-9a-vA-V]{20}$/,t6=/^[A-Za-z0-9]{27}$/,n6=/^[a-zA-Z0-9_-]{21}$/,r6=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,o6=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,z1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,s6=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,i6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function a6(){return new RegExp(i6,"u")}const l6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,c6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,u6=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,d6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,f6=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,wS=/^[A-Za-z0-9_-]*$/,h6=/^\+[1-9]\d{6,14}$/,xS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",p6=new RegExp(`^${xS}$`);function bS(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function m6(e){return new RegExp(`^${bS(e)}$`)}function g6(e){const t=bS({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${xS}T(?:${r})$`)}const y6=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},v6=/^-?\d+$/,ES=/^-?\d+(?:\.\d+)?$/,w6=/^(?:true|false)$/i,x6=/^[^A-Z]*$/,b6=/^[^a-z]*$/,In=ve("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),_S={number:"number",bigint:"bigint",object:"date"},SS=ve("$ZodCheckLessThan",(e,t)=>{In.init(e,t);const n=_S[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),kS=ve("$ZodCheckGreaterThan",(e,t)=>{In.init(e,t);const n=_S[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),E6=ve("$ZodCheckMultipleOf",(e,t)=>{In.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):CM(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),_6=ve("$ZodCheckNumberFormat",(e,t)=>{var l;In.init(e,t),t.format=t.format||"float64";const n=(l=t.format)==null?void 0:l.includes("int"),r=n?"int":"number",[o,i]=AM[t.format];e._zod.onattach.push(c=>{const u=c._zod.bag;u.format=t.format,u.minimum=o,u.maximum=i,n&&(u.pattern=v6)}),e._zod.check=c=>{const u=c.value;if(n){if(!Number.isInteger(u)){c.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?c.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):c.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}u<o&&c.issues.push({origin:"number",input:u,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),u>i&&c.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!t.abort})}}),S6=ve("$ZodCheckMaxLength",(e,t)=>{var n;In.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Gy(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const l=Jy(o);r.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),k6=ve("$ZodCheckMinLength",(e,t)=>{var n;In.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Gy(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const l=Jy(o);r.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),C6=ve("$ZodCheckLengthEquals",(e,t)=>{var n;In.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Gy(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,i=o.length;if(i===t.length)return;const l=Jy(o),c=i>t.length;r.issues.push({origin:l,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),gf=ve("$ZodCheckStringFormat",(e,t)=>{var n,r;In.init(e,t),e._zod.onattach.push(o=>{const i=o._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),N6=ve("$ZodCheckRegex",(e,t)=>{gf.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),T6=ve("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=x6),gf.init(e,t)}),P6=ve("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=b6),gf.init(e,t)}),R6=ve("$ZodCheckIncludes",(e,t)=>{In.init(e,t);const n=Ta(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),A6=ve("$ZodCheckStartsWith",(e,t)=>{In.init(e,t);const n=new RegExp(`^${Ta(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),I6=ve("$ZodCheckEndsWith",(e,t)=>{In.init(e,t);const n=new RegExp(`.*${Ta(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),j6=ve("$ZodCheckOverwrite",(e,t)=>{In.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class O6{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(l=>l),o=Math.min(...r.map(l=>l.length-l.trimStart().length)),i=r.map(l=>l.slice(o)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const t=Function,n=this==null?void 0:this.args,o=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...n,o.join(`
`))}}const M6={major:4,minor:3,patch:6},_t=ve("$ZodType",(e,t)=>{var o;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=M6;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const l of i._zod.onattach)l(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(o=e._zod.deferred)==null||o.push(()=>{e._zod.run=e._zod.parse});else{const i=(c,u,f)=>{let p=ta(c),h;for(const w of u){if(w._zod.def.when){if(!w._zod.def.when(c))continue}else if(p)continue;const y=c.issues.length,b=w._zod.check(c);if(b instanceof Promise&&(f==null?void 0:f.async)===!1)throw new ra;if(h||b instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await b,c.issues.length!==y&&(p||(p=ta(c,y)))});else{if(c.issues.length===y)continue;p||(p=ta(c,y))}}return h?h.then(()=>c):c},l=(c,u,f)=>{if(ta(c))return c.aborted=!0,c;const p=i(u,r,f);if(p instanceof Promise){if(f.async===!1)throw new ra;return p.then(h=>e._zod.parse(h,f))}return e._zod.parse(p,f)};e._zod.run=(c,u)=>{if(u.skipChecks)return e._zod.parse(c,u);if(u.direction==="backward"){const p=e._zod.parse({value:c.value,issues:[]},{...u,skipChecks:!0});return p instanceof Promise?p.then(h=>l(h,c,u)):l(p,c,u)}const f=e._zod.parse(c,u);if(f instanceof Promise){if(u.async===!1)throw new ra;return f.then(p=>i(p,r,u))}return i(f,r,u)}}gt(e,"~standard",()=>({validate:i=>{var l;try{const c=$M(e,i);return c.success?{value:c.data}:{issues:(l=c.error)==null?void 0:l.issues}}catch{return UM(e,i).then(u=>{var f;return u.success?{value:u.data}:{issues:(f=u.error)==null?void 0:f.issues}})}},vendor:"zod",version:1}))}),ev=ve("$ZodString",(e,t)=>{var n;_t.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??y6(e._zod.bag),e._zod.parse=(r,o)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Nt=ve("$ZodStringFormat",(e,t)=>{gf.init(e,t),ev.init(e,t)}),L6=ve("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=o6),Nt.init(e,t)}),D6=ve("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=z1(r))}else t.pattern??(t.pattern=z1());Nt.init(e,t)}),z6=ve("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=s6),Nt.init(e,t)}),B6=ve("$ZodURL",(e,t)=>{Nt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),F6=ve("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=a6()),Nt.init(e,t)}),$6=ve("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=n6),Nt.init(e,t)}),U6=ve("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=JM),Nt.init(e,t)}),H6=ve("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=QM),Nt.init(e,t)}),W6=ve("$ZodULID",(e,t)=>{t.pattern??(t.pattern=XM),Nt.init(e,t)}),V6=ve("$ZodXID",(e,t)=>{t.pattern??(t.pattern=e6),Nt.init(e,t)}),Z6=ve("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=t6),Nt.init(e,t)}),q6=ve("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=g6(t)),Nt.init(e,t)}),K6=ve("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=p6),Nt.init(e,t)}),G6=ve("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=m6(t)),Nt.init(e,t)}),Y6=ve("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=r6),Nt.init(e,t)}),J6=ve("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=l6),Nt.init(e,t),e._zod.bag.format="ipv4"}),Q6=ve("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=c6),Nt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),X6=ve("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=u6),Nt.init(e,t)}),e8=ve("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=d6),Nt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,i]=r;if(!i)throw new Error;const l=Number(i);if(`${l}`!==i)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function CS(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const t8=ve("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=f6),Nt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{CS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function n8(e){if(!wS.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return CS(n)}const r8=ve("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=wS),Nt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{n8(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),o8=ve("$ZodE164",(e,t)=>{t.pattern??(t.pattern=h6),Nt.init(e,t)});function s8(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const i8=ve("$ZodJWT",(e,t)=>{Nt.init(e,t),e._zod.check=n=>{s8(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),NS=ve("$ZodNumber",(e,t)=>{_t.init(e,t),e._zod.pattern=e._zod.bag.pattern??ES,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),n}}),a8=ve("$ZodNumberFormat",(e,t)=>{_6.init(e,t),NS.init(e,t)}),l8=ve("$ZodBoolean",(e,t)=>{_t.init(e,t),e._zod.pattern=w6,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),c8=ve("$ZodUnknown",(e,t)=>{_t.init(e,t),e._zod.parse=n=>n}),u8=ve("$ZodNever",(e,t)=>{_t.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function B1(e,t,n){e.issues.length&&t.issues.push(...qs(n,e.issues)),t.value[n]=e.value}const d8=ve("$ZodArray",(e,t)=>{_t.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const i=[];for(let l=0;l<o.length;l++){const c=o[l],u=t.element._zod.run({value:c,issues:[]},r);u instanceof Promise?i.push(u.then(f=>B1(f,n,l))):B1(u,n,l)}return i.length?Promise.all(i).then(()=>n):n}});function Ad(e,t,n,r,o){if(e.issues.length){if(o&&!(n in r))return;t.issues.push(...qs(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function TS(e){var r,o,i,l;const t=Object.keys(e.shape);for(const c of t)if(!((l=(i=(o=(r=e.shape)==null?void 0:r[c])==null?void 0:o._zod)==null?void 0:i.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${c}": expected a Zod schema`);const n=RM(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function PS(e,t,n,r,o,i){const l=[],c=o.keySet,u=o.catchall._zod,f=u.def.type,p=u.optout==="optional";for(const h in t){if(c.has(h))continue;if(f==="never"){l.push(h);continue}const w=u.run({value:t[h],issues:[]},r);w instanceof Promise?e.push(w.then(y=>Ad(y,n,h,t,p))):Ad(w,n,h,t,p)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const f8=ve("$ZodObject",(e,t)=>{_t.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...c};return Object.defineProperty(t,"shape",{value:u}),u}})}const r=Ky(()=>TS(t));gt(e._zod,"propValues",()=>{const c=t.shape,u={};for(const f in c){const p=c[f]._zod;if(p.values){u[f]??(u[f]=new Set);for(const h of p.values)u[f].add(h)}}return u});const o=Rd,i=t.catchall;let l;e._zod.parse=(c,u)=>{l??(l=r.value);const f=c.value;if(!o(f))return c.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),c;c.value={};const p=[],h=l.shape;for(const w of l.keys){const y=h[w],b=y._zod.optout==="optional",g=y._zod.run({value:f[w],issues:[]},u);g instanceof Promise?p.push(g.then(x=>Ad(x,c,w,f,b))):Ad(g,c,w,f,b)}return i?PS(p,f,c,u,r.value,e):p.length?Promise.all(p).then(()=>c):c}}),h8=ve("$ZodObjectJIT",(e,t)=>{f8.init(e,t);const n=e._zod.parse,r=Ky(()=>TS(t)),o=w=>{var C;const y=new O6(["shape","payload","ctx"]),b=r.value,g=A=>{const I=D1(A);return`shape[${I}]._zod.run({ value: input[${I}], issues: [] }, ctx)`};y.write("const input = payload.value;");const x=Object.create(null);let E=0;for(const A of b.keys)x[A]=`key_${E++}`;y.write("const newResult = {};");for(const A of b.keys){const I=x[A],L=D1(A),z=w[A],$=((C=z==null?void 0:z._zod)==null?void 0:C.optout)==="optional";y.write(`const ${I} = ${g(A)};`),$?y.write(`
        if (${I}.issues.length) {
          if (${L} in input) {
            payload.issues = payload.issues.concat(${I}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${L}, ...iss.path] : [${L}]
            })));
          }
        }
        
        if (${I}.value === undefined) {
          if (${L} in input) {
            newResult[${L}] = undefined;
          }
        } else {
          newResult[${L}] = ${I}.value;
        }
        
      `):y.write(`
        if (${I}.issues.length) {
          payload.issues = payload.issues.concat(${I}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${L}, ...iss.path] : [${L}]
          })));
        }
        
        if (${I}.value === undefined) {
          if (${L} in input) {
            newResult[${L}] = undefined;
          }
        } else {
          newResult[${L}] = ${I}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const k=y.compile();return(A,I)=>k(w,A,I)};let i;const l=Rd,c=!fS.jitless,f=c&&TM.value,p=t.catchall;let h;e._zod.parse=(w,y)=>{h??(h=r.value);const b=w.value;return l(b)?c&&f&&(y==null?void 0:y.async)===!1&&y.jitless!==!0?(i||(i=o(t.shape)),w=i(w,y),p?PS([],b,w,y,h,e):w):n(w,y):(w.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),w)}});function F1(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const o=e.filter(i=>!ta(i));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(l=>bs(l,r,xs())))}),t)}const p8=ve("$ZodUnion",(e,t)=>{_t.init(e,t),gt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),gt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),gt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),gt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>Yy(i.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let l=!1;const c=[];for(const u of t.options){const f=u._zod.run({value:o.value,issues:[]},i);if(f instanceof Promise)c.push(f),l=!0;else{if(f.issues.length===0)return f;c.push(f)}}return l?Promise.all(c).then(u=>F1(u,o,e,i)):F1(c,o,e,i)}}),m8=ve("$ZodIntersection",(e,t)=>{_t.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,i=t.left._zod.run({value:o,issues:[]},r),l=t.right._zod.run({value:o,issues:[]},r);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([u,f])=>$1(n,u,f)):$1(n,i,l)}});function Sg(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Na(e)&&Na(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),o={...e,...t};for(const i of r){const l=Sg(e[i],t[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};o[i]=l.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=t[r],l=Sg(o,i);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function $1(e,t,n){const r=new Map;let o;for(const c of t.issues)if(c.code==="unrecognized_keys"){o??(o=c);for(const u of c.keys)r.has(u)||r.set(u,{}),r.get(u).l=!0}else e.issues.push(c);for(const c of n.issues)if(c.code==="unrecognized_keys")for(const u of c.keys)r.has(u)||r.set(u,{}),r.get(u).r=!0;else e.issues.push(c);const i=[...r].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(i.length&&o&&e.issues.push({...o,keys:i}),ta(e))return e;const l=Sg(t.value,n.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const g8=ve("$ZodTuple",(e,t)=>{_t.init(e,t);const n=t.items;e._zod.parse=(r,o)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const l=[],c=[...n].reverse().findIndex(p=>p._zod.optin!=="optional"),u=c===-1?0:n.length-c;if(!t.rest){const p=i.length>n.length,h=i.length<u-1;if(p||h)return r.issues.push({...p?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:i,inst:e,origin:"array"}),r}let f=-1;for(const p of n){if(f++,f>=i.length&&f>=u)continue;const h=p._zod.run({value:i[f],issues:[]},o);h instanceof Promise?l.push(h.then(w=>Qu(w,r,f))):Qu(h,r,f)}if(t.rest){const p=i.slice(n.length);for(const h of p){f++;const w=t.rest._zod.run({value:h,issues:[]},o);w instanceof Promise?l.push(w.then(y=>Qu(y,r,f))):Qu(w,r,f)}}return l.length?Promise.all(l).then(()=>r):r}});function Qu(e,t,n){e.issues.length&&t.issues.push(...qs(n,e.issues)),t.value[n]=e.value}const y8=ve("$ZodRecord",(e,t)=>{_t.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Na(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const i=[],l=t.keyType._zod.values;if(l){n.value={};const c=new Set;for(const f of l)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){c.add(typeof f=="number"?f.toString():f);const p=t.valueType._zod.run({value:o[f],issues:[]},r);p instanceof Promise?i.push(p.then(h=>{h.issues.length&&n.issues.push(...qs(f,h.issues)),n.value[f]=h.value})):(p.issues.length&&n.issues.push(...qs(f,p.issues)),n.value[f]=p.value)}let u;for(const f in o)c.has(f)||(u=u??[],u.push(f));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:u})}else{n.value={};for(const c of Reflect.ownKeys(o)){if(c==="__proto__")continue;let u=t.keyType._zod.run({value:c,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof c=="string"&&ES.test(c)&&u.issues.length){const h=t.keyType._zod.run({value:Number(c),issues:[]},r);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");h.issues.length===0&&(u=h)}if(u.issues.length){t.mode==="loose"?n.value[c]=o[c]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(h=>bs(h,r,xs())),input:c,path:[c],inst:e});continue}const p=t.valueType._zod.run({value:o[c],issues:[]},r);p instanceof Promise?i.push(p.then(h=>{h.issues.length&&n.issues.push(...qs(c,h.issues)),n.value[u.value]=h.value})):(p.issues.length&&n.issues.push(...qs(c,p.issues)),n.value[u.value]=p.value)}}return i.length?Promise.all(i).then(()=>n):n}}),v8=ve("$ZodEnum",(e,t)=>{_t.init(e,t);const n=hS(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>PM.has(typeof o)).map(o=>typeof o=="string"?Ta(o):o.toString()).join("|")})$`),e._zod.parse=(o,i)=>{const l=o.value;return r.has(l)||o.issues.push({code:"invalid_value",values:n,input:l,inst:e}),o}}),w8=ve("$ZodLiteral",(e,t)=>{if(_t.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Ta(r):r?Ta(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,o)=>{const i=r.value;return n.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),x8=ve("$ZodTransform",(e,t)=>{_t.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new dS(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(l=>(n.value=l,n));if(o instanceof Promise)throw new ra;return n.value=o,n}});function U1(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const RS=ve("$ZodOptional",(e,t)=>{_t.init(e,t),e._zod.optin="optional",e._zod.optout="optional",gt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),gt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Yy(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>U1(i,n.value)):U1(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),b8=ve("$ZodExactOptional",(e,t)=>{RS.init(e,t),gt(e._zod,"values",()=>t.innerType._zod.values),gt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),E8=ve("$ZodNullable",(e,t)=>{_t.init(e,t),gt(e._zod,"optin",()=>t.innerType._zod.optin),gt(e._zod,"optout",()=>t.innerType._zod.optout),gt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Yy(n.source)}|null)$`):void 0}),gt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),_8=ve("$ZodDefault",(e,t)=>{_t.init(e,t),e._zod.optin="optional",gt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>H1(i,t)):H1(o,t)}});function H1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const S8=ve("$ZodPrefault",(e,t)=>{_t.init(e,t),e._zod.optin="optional",gt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),k8=ve("$ZodNonOptional",(e,t)=>{_t.init(e,t),gt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>W1(i,e)):W1(o,e)}});function W1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const C8=ve("$ZodCatch",(e,t)=>{_t.init(e,t),gt(e._zod,"optin",()=>t.innerType._zod.optin),gt(e._zod,"optout",()=>t.innerType._zod.optout),gt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(l=>bs(l,r,xs()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>bs(i,r,xs()))},input:n.value}),n.issues=[]),n)}}),N8=ve("$ZodPipe",(e,t)=>{_t.init(e,t),gt(e._zod,"values",()=>t.in._zod.values),gt(e._zod,"optin",()=>t.in._zod.optin),gt(e._zod,"optout",()=>t.out._zod.optout),gt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=t.out._zod.run(n,r);return i instanceof Promise?i.then(l=>Xu(l,t.in,r)):Xu(i,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(i=>Xu(i,t.out,r)):Xu(o,t.out,r)}});function Xu(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const T8=ve("$ZodReadonly",(e,t)=>{_t.init(e,t),gt(e._zod,"propValues",()=>t.innerType._zod.propValues),gt(e._zod,"values",()=>t.innerType._zod.values),gt(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),gt(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(V1):V1(o)}});function V1(e){return e.value=Object.freeze(e.value),e}const P8=ve("$ZodCustom",(e,t)=>{In.init(e,t),_t.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(i=>Z1(i,n,r,e));Z1(o,n,r,e)}});function Z1(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(nc(o))}}var q1;class R8{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function A8(){return new R8}(q1=globalThis).__zod_globalRegistry??(q1.__zod_globalRegistry=A8());const Ul=globalThis.__zod_globalRegistry;function I8(e,t){return new e({type:"string",...Ve(t)})}function AS(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ve(t)})}function K1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ve(t)})}function j8(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ve(t)})}function O8(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ve(t)})}function M8(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ve(t)})}function L8(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ve(t)})}function IS(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ve(t)})}function D8(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ve(t)})}function z8(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ve(t)})}function B8(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ve(t)})}function F8(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ve(t)})}function $8(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ve(t)})}function U8(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ve(t)})}function H8(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ve(t)})}function W8(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ve(t)})}function V8(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ve(t)})}function Z8(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ve(t)})}function q8(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ve(t)})}function K8(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ve(t)})}function G8(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ve(t)})}function Y8(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ve(t)})}function J8(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ve(t)})}function Q8(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ve(t)})}function X8(e,t){return new e({type:"string",format:"date",check:"string_format",...Ve(t)})}function eL(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ve(t)})}function tL(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ve(t)})}function nL(e,t){return new e({type:"number",checks:[],...Ve(t)})}function rL(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ve(t)})}function oL(e,t){return new e({type:"boolean",...Ve(t)})}function sL(e){return new e({type:"unknown"})}function iL(e,t){return new e({type:"never",...Ve(t)})}function G1(e,t){return new SS({check:"less_than",...Ve(t),value:e,inclusive:!1})}function Xp(e,t){return new SS({check:"less_than",...Ve(t),value:e,inclusive:!0})}function Y1(e,t){return new kS({check:"greater_than",...Ve(t),value:e,inclusive:!1})}function em(e,t){return new kS({check:"greater_than",...Ve(t),value:e,inclusive:!0})}function J1(e,t){return new E6({check:"multiple_of",...Ve(t),value:e})}function jS(e,t){return new S6({check:"max_length",...Ve(t),maximum:e})}function Id(e,t){return new k6({check:"min_length",...Ve(t),minimum:e})}function OS(e,t){return new C6({check:"length_equals",...Ve(t),length:e})}function aL(e,t){return new N6({check:"string_format",format:"regex",...Ve(t),pattern:e})}function lL(e){return new T6({check:"string_format",format:"lowercase",...Ve(e)})}function cL(e){return new P6({check:"string_format",format:"uppercase",...Ve(e)})}function uL(e,t){return new R6({check:"string_format",format:"includes",...Ve(t),includes:e})}function dL(e,t){return new A6({check:"string_format",format:"starts_with",...Ve(t),prefix:e})}function fL(e,t){return new I6({check:"string_format",format:"ends_with",...Ve(t),suffix:e})}function La(e){return new j6({check:"overwrite",tx:e})}function hL(e){return La(t=>t.normalize(e))}function pL(){return La(e=>e.trim())}function mL(){return La(e=>e.toLowerCase())}function gL(){return La(e=>e.toUpperCase())}function yL(){return La(e=>NM(e))}function vL(e,t,n){return new e({type:"array",element:t,...Ve(n)})}function wL(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Ve(n)})}function xL(e){const t=bL(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(nc(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(nc(o))}},e(n.value,n)));return t}function bL(e,t){const n=new In({check:"custom",...Ve(t)});return n._zod.check=e,n}function MS(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??Ul,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function Mt(e,t,n={path:[],schemaPath:[]}){var p,h;var r;const o=e._zod.def,i=t.seen.get(e);if(i)return i.count++,n.schemaPath.includes(e)&&(i.cycle=n.path),i.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,l);const c=(h=(p=e._zod).toJSONSchema)==null?void 0:h.call(p);if(c)l.schema=c;else{const w={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,w);else{const b=l.schema,g=t.processors[o.type];if(!g)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);g(e,t,b,w)}const y=e._zod.parent;y&&(l.ref||(l.ref=y),Mt(y,t,w),t.seen.get(y).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(l.schema,u),t.io==="input"&&pn(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function LS(e,t){var l,c,u,f;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const p of e.seen.entries()){const h=(l=e.metadataRegistry.get(p[0]))==null?void 0:l.id;if(h){const w=r.get(h);if(w&&w!==p[0])throw new Error(`Duplicate schema id "${h}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(h,p[0])}}const o=p=>{var g;const h=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const x=(g=e.external.registry.get(p[0]))==null?void 0:g.id,E=e.external.uri??(C=>C);if(x)return{ref:E(x)};const k=p[1].defId??p[1].schema.id??`schema${e.counter++}`;return p[1].defId=k,{defId:k,ref:`${E("__shared")}#/${h}/${k}`}}if(p[1]===n)return{ref:"#"};const y=`#/${h}/`,b=p[1].schema.id??`__schema${e.counter++}`;return{defId:b,ref:y+b}},i=p=>{if(p[1].schema.$ref)return;const h=p[1],{ref:w,defId:y}=o(p);h.def={...h.schema},y&&(h.defId=y);const b=h.schema;for(const g in b)delete b[g];b.$ref=w};if(e.cycles==="throw")for(const p of e.seen.entries()){const h=p[1];if(h.cycle)throw new Error(`Cycle detected: #/${(c=h.cycle)==null?void 0:c.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of e.seen.entries()){const h=p[1];if(t===p[0]){i(p);continue}if(e.external){const y=(u=e.external.registry.get(p[0]))==null?void 0:u.id;if(t!==p[0]&&y){i(p);continue}}if((f=e.metadataRegistry.get(p[0]))==null?void 0:f.id){i(p);continue}if(h.cycle){i(p);continue}if(h.count>1&&e.reused==="ref"){i(p);continue}}}function DS(e,t){var l,c,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=f=>{const p=e.seen.get(f);if(p.ref===null)return;const h=p.def??p.schema,w={...h},y=p.ref;if(p.ref=null,y){r(y);const g=e.seen.get(y),x=g.schema;if(x.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(h.allOf=h.allOf??[],h.allOf.push(x)):Object.assign(h,x),Object.assign(h,w),f._zod.parent===y)for(const k in h)k==="$ref"||k==="allOf"||k in w||delete h[k];if(x.$ref&&g.def)for(const k in h)k==="$ref"||k==="allOf"||k in g.def&&JSON.stringify(h[k])===JSON.stringify(g.def[k])&&delete h[k]}const b=f._zod.parent;if(b&&b!==y){r(b);const g=e.seen.get(b);if(g!=null&&g.schema.$ref&&(h.$ref=g.schema.$ref,g.def))for(const x in h)x==="$ref"||x==="allOf"||x in g.def&&JSON.stringify(h[x])===JSON.stringify(g.def[x])&&delete h[x]}e.override({zodSchema:f,jsonSchema:h,path:p.path??[]})};for(const f of[...e.seen.entries()].reverse())r(f[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,(l=e.external)!=null&&l.uri){const f=(c=e.external.registry.get(t))==null?void 0:c.id;if(!f)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(f)}Object.assign(o,n.def??n.schema);const i=((u=e.external)==null?void 0:u.defs)??{};for(const f of e.seen.entries()){const p=f[1];p.def&&p.defId&&(i[p.defId]=p.def)}e.external||Object.keys(i).length>0&&(e.target==="draft-2020-12"?o.$defs=i:o.definitions=i);try{const f=JSON.parse(JSON.stringify(o));return Object.defineProperty(f,"~standard",{value:{...t["~standard"],jsonSchema:{input:jd(t,"input",e.processors),output:jd(t,"output",e.processors)}},enumerable:!1,writable:!1}),f}catch{throw new Error("Error converting schema to JSON.")}}function pn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return pn(r.element,n);if(r.type==="set")return pn(r.valueType,n);if(r.type==="lazy")return pn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return pn(r.innerType,n);if(r.type==="intersection")return pn(r.left,n)||pn(r.right,n);if(r.type==="record"||r.type==="map")return pn(r.keyType,n)||pn(r.valueType,n);if(r.type==="pipe")return pn(r.in,n)||pn(r.out,n);if(r.type==="object"){for(const o in r.shape)if(pn(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(pn(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(pn(o,n))return!0;return!!(r.rest&&pn(r.rest,n))}return!1}const EL=(e,t={})=>n=>{const r=MS({...n,processors:t});return Mt(e,r),LS(r,e),DS(r,e)},jd=(e,t,n={})=>r=>{const{libraryOptions:o,target:i}=r??{},l=MS({...o??{},target:i,io:t,processors:n});return Mt(e,l),LS(l,e),DS(l,e)},_L={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},SL=(e,t,n,r)=>{const o=n;o.type="string";const{minimum:i,maximum:l,format:c,patterns:u,contentEncoding:f}=e._zod.bag;if(typeof i=="number"&&(o.minLength=i),typeof l=="number"&&(o.maxLength=l),c&&(o.format=_L[c]??c,o.format===""&&delete o.format,c==="time"&&delete o.format),f&&(o.contentEncoding=f),u&&u.size>0){const p=[...u];p.length===1?o.pattern=p[0].source:p.length>1&&(o.allOf=[...p.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},kL=(e,t,n,r)=>{const o=n,{minimum:i,maximum:l,format:c,multipleOf:u,exclusiveMaximum:f,exclusiveMinimum:p}=e._zod.bag;typeof c=="string"&&c.includes("int")?o.type="integer":o.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.minimum=p,o.exclusiveMinimum=!0):o.exclusiveMinimum=p),typeof i=="number"&&(o.minimum=i,typeof p=="number"&&t.target!=="draft-04"&&(p>=i?delete o.minimum:delete o.exclusiveMinimum)),typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.maximum=f,o.exclusiveMaximum=!0):o.exclusiveMaximum=f),typeof l=="number"&&(o.maximum=l,typeof f=="number"&&t.target!=="draft-04"&&(f<=l?delete o.maximum:delete o.exclusiveMaximum)),typeof u=="number"&&(o.multipleOf=u)},CL=(e,t,n,r)=>{n.type="boolean"},NL=(e,t,n,r)=>{n.not={}},TL=(e,t,n,r)=>{},PL=(e,t,n,r)=>{const o=e._zod.def,i=hS(o.entries);i.every(l=>typeof l=="number")&&(n.type="number"),i.every(l=>typeof l=="string")&&(n.type="string"),n.enum=i},RL=(e,t,n,r)=>{const o=e._zod.def,i=[];for(const l of o.values)if(l===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof l=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(l))}else i.push(l);if(i.length!==0)if(i.length===1){const l=i[0];n.type=l===null?"null":typeof l,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[l]:n.const=l}else i.every(l=>typeof l=="number")&&(n.type="number"),i.every(l=>typeof l=="string")&&(n.type="string"),i.every(l=>typeof l=="boolean")&&(n.type="boolean"),i.every(l=>l===null)&&(n.type="null"),n.enum=i},AL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},IL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},jL=(e,t,n,r)=>{const o=n,i=e._zod.def,{minimum:l,maximum:c}=e._zod.bag;typeof l=="number"&&(o.minItems=l),typeof c=="number"&&(o.maxItems=c),o.type="array",o.items=Mt(i.element,t,{...r,path:[...r.path,"items"]})},OL=(e,t,n,r)=>{var f;const o=n,i=e._zod.def;o.type="object",o.properties={};const l=i.shape;for(const p in l)o.properties[p]=Mt(l[p],t,{...r,path:[...r.path,"properties",p]});const c=new Set(Object.keys(l)),u=new Set([...c].filter(p=>{const h=i.shape[p]._zod;return t.io==="input"?h.optin===void 0:h.optout===void 0}));u.size>0&&(o.required=Array.from(u)),((f=i.catchall)==null?void 0:f._zod.def.type)==="never"?o.additionalProperties=!1:i.catchall?i.catchall&&(o.additionalProperties=Mt(i.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},ML=(e,t,n,r)=>{const o=e._zod.def,i=o.inclusive===!1,l=o.options.map((c,u)=>Mt(c,t,{...r,path:[...r.path,i?"oneOf":"anyOf",u]}));i?n.oneOf=l:n.anyOf=l},LL=(e,t,n,r)=>{const o=e._zod.def,i=Mt(o.left,t,{...r,path:[...r.path,"allOf",0]}),l=Mt(o.right,t,{...r,path:[...r.path,"allOf",1]}),c=f=>"allOf"in f&&Object.keys(f).length===1,u=[...c(i)?i.allOf:[i],...c(l)?l.allOf:[l]];n.allOf=u},DL=(e,t,n,r)=>{const o=n,i=e._zod.def;o.type="array";const l=t.target==="draft-2020-12"?"prefixItems":"items",c=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",u=i.items.map((w,y)=>Mt(w,t,{...r,path:[...r.path,l,y]})),f=i.rest?Mt(i.rest,t,{...r,path:[...r.path,c,...t.target==="openapi-3.0"?[i.items.length]:[]]}):null;t.target==="draft-2020-12"?(o.prefixItems=u,f&&(o.items=f)):t.target==="openapi-3.0"?(o.items={anyOf:u},f&&o.items.anyOf.push(f),o.minItems=u.length,f||(o.maxItems=u.length)):(o.items=u,f&&(o.additionalItems=f));const{minimum:p,maximum:h}=e._zod.bag;typeof p=="number"&&(o.minItems=p),typeof h=="number"&&(o.maxItems=h)},zL=(e,t,n,r)=>{const o=n,i=e._zod.def;o.type="object";const l=i.keyType,c=l._zod.bag,u=c==null?void 0:c.patterns;if(i.mode==="loose"&&u&&u.size>0){const p=Mt(i.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});o.patternProperties={};for(const h of u)o.patternProperties[h.source]=p}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(o.propertyNames=Mt(i.keyType,t,{...r,path:[...r.path,"propertyNames"]})),o.additionalProperties=Mt(i.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const f=l._zod.values;if(f){const p=[...f].filter(h=>typeof h=="string"||typeof h=="number");p.length>0&&(o.required=p)}},BL=(e,t,n,r)=>{const o=e._zod.def,i=Mt(o.innerType,t,r),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=o.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},FL=(e,t,n,r)=>{const o=e._zod.def;Mt(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType},$L=(e,t,n,r)=>{const o=e._zod.def;Mt(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},UL=(e,t,n,r)=>{const o=e._zod.def;Mt(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},HL=(e,t,n,r)=>{const o=e._zod.def;Mt(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType;let l;try{l=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},WL=(e,t,n,r)=>{const o=e._zod.def,i=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;Mt(i,t,r);const l=t.seen.get(e);l.ref=i},VL=(e,t,n,r)=>{const o=e._zod.def;Mt(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType,n.readOnly=!0},zS=(e,t,n,r)=>{const o=e._zod.def;Mt(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType},ZL=ve("ZodISODateTime",(e,t)=>{q6.init(e,t),At.init(e,t)});function qL(e){return Q8(ZL,e)}const KL=ve("ZodISODate",(e,t)=>{K6.init(e,t),At.init(e,t)});function GL(e){return X8(KL,e)}const YL=ve("ZodISOTime",(e,t)=>{G6.init(e,t),At.init(e,t)});function JL(e){return eL(YL,e)}const QL=ve("ZodISODuration",(e,t)=>{Y6.init(e,t),At.init(e,t)});function XL(e){return tL(QL,e)}const eD=(e,t)=>{yS.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>FM(e,n)},flatten:{value:n=>BM(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,_g,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,_g,2)}},isEmpty:{get(){return e.issues.length===0}}})},sr=ve("ZodError",eD,{Parent:Error}),tD=Qy(sr),nD=Xy(sr),rD=pf(sr),oD=mf(sr),sD=HM(sr),iD=WM(sr),aD=VM(sr),lD=ZM(sr),cD=qM(sr),uD=KM(sr),dD=GM(sr),fD=YM(sr),Tt=ve("ZodType",(e,t)=>(_t.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:jd(e,"input"),output:jd(e,"output")}}),e.toJSONSchema=EL(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(ks(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Cs(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>tD(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>rD(e,n,r),e.parseAsync=async(n,r)=>nD(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>oD(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>sD(e,n,r),e.decode=(n,r)=>iD(e,n,r),e.encodeAsync=async(n,r)=>aD(e,n,r),e.decodeAsync=async(n,r)=>lD(e,n,r),e.safeEncode=(n,r)=>cD(e,n,r),e.safeDecode=(n,r)=>uD(e,n,r),e.safeEncodeAsync=async(n,r)=>dD(e,n,r),e.safeDecodeAsync=async(n,r)=>fD(e,n,r),e.refine=(n,r)=>e.check(oz(n,r)),e.superRefine=n=>e.check(sz(n)),e.overwrite=n=>e.check(La(n)),e.optional=()=>nb(e),e.exactOptional=()=>VD(e),e.nullable=()=>rb(e),e.nullish=()=>nb(rb(e)),e.nonoptional=n=>JD(e,n),e.array=()=>HS(e),e.or=n=>Cg([e,n]),e.and=n=>DD(e,n),e.transform=n=>ob(e,HD(n)),e.default=n=>KD(e,n),e.prefault=n=>YD(e,n),e.catch=n=>XD(e,n),e.pipe=n=>ob(e,n),e.readonly=()=>nz(e),e.describe=n=>{const r=e.clone();return Ul.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Ul.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Ul.get(e);const r=e.clone();return Ul.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),BS=ve("_ZodString",(e,t)=>{ev.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(r,o,i)=>SL(e,r,o);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(aL(...r)),e.includes=(...r)=>e.check(uL(...r)),e.startsWith=(...r)=>e.check(dL(...r)),e.endsWith=(...r)=>e.check(fL(...r)),e.min=(...r)=>e.check(Id(...r)),e.max=(...r)=>e.check(jS(...r)),e.length=(...r)=>e.check(OS(...r)),e.nonempty=(...r)=>e.check(Id(1,...r)),e.lowercase=r=>e.check(lL(r)),e.uppercase=r=>e.check(cL(r)),e.trim=()=>e.check(pL()),e.normalize=(...r)=>e.check(hL(...r)),e.toLowerCase=()=>e.check(mL()),e.toUpperCase=()=>e.check(gL()),e.slugify=()=>e.check(yL())}),hD=ve("ZodString",(e,t)=>{ev.init(e,t),BS.init(e,t),e.email=n=>e.check(AS(FS,n)),e.url=n=>e.check(IS($S,n)),e.jwt=n=>e.check(J8(TD,n)),e.emoji=n=>e.check(D8(pD,n)),e.guid=n=>e.check(K1(X1,n)),e.uuid=n=>e.check(j8(ed,n)),e.uuidv4=n=>e.check(O8(ed,n)),e.uuidv6=n=>e.check(M8(ed,n)),e.uuidv7=n=>e.check(L8(ed,n)),e.nanoid=n=>e.check(z8(mD,n)),e.guid=n=>e.check(K1(X1,n)),e.cuid=n=>e.check(B8(gD,n)),e.cuid2=n=>e.check(F8(yD,n)),e.ulid=n=>e.check($8(vD,n)),e.base64=n=>e.check(K8(kD,n)),e.base64url=n=>e.check(G8(CD,n)),e.xid=n=>e.check(U8(wD,n)),e.ksuid=n=>e.check(H8(xD,n)),e.ipv4=n=>e.check(W8(bD,n)),e.ipv6=n=>e.check(V8(ED,n)),e.cidrv4=n=>e.check(Z8(_D,n)),e.cidrv6=n=>e.check(q8(SD,n)),e.e164=n=>e.check(Y8(ND,n)),e.datetime=n=>e.check(qL(n)),e.date=n=>e.check(GL(n)),e.time=n=>e.check(JL(n)),e.duration=n=>e.check(XL(n))});function ft(e){return I8(hD,e)}const At=ve("ZodStringFormat",(e,t)=>{Nt.init(e,t),BS.init(e,t)}),FS=ve("ZodEmail",(e,t)=>{z6.init(e,t),At.init(e,t)});function Q1(e){return AS(FS,e)}const X1=ve("ZodGUID",(e,t)=>{L6.init(e,t),At.init(e,t)}),ed=ve("ZodUUID",(e,t)=>{D6.init(e,t),At.init(e,t)}),$S=ve("ZodURL",(e,t)=>{B6.init(e,t),At.init(e,t)});function Hl(e){return IS($S,e)}const pD=ve("ZodEmoji",(e,t)=>{F6.init(e,t),At.init(e,t)}),mD=ve("ZodNanoID",(e,t)=>{$6.init(e,t),At.init(e,t)}),gD=ve("ZodCUID",(e,t)=>{U6.init(e,t),At.init(e,t)}),yD=ve("ZodCUID2",(e,t)=>{H6.init(e,t),At.init(e,t)}),vD=ve("ZodULID",(e,t)=>{W6.init(e,t),At.init(e,t)}),wD=ve("ZodXID",(e,t)=>{V6.init(e,t),At.init(e,t)}),xD=ve("ZodKSUID",(e,t)=>{Z6.init(e,t),At.init(e,t)}),bD=ve("ZodIPv4",(e,t)=>{J6.init(e,t),At.init(e,t)}),ED=ve("ZodIPv6",(e,t)=>{Q6.init(e,t),At.init(e,t)}),_D=ve("ZodCIDRv4",(e,t)=>{X6.init(e,t),At.init(e,t)}),SD=ve("ZodCIDRv6",(e,t)=>{e8.init(e,t),At.init(e,t)}),kD=ve("ZodBase64",(e,t)=>{t8.init(e,t),At.init(e,t)}),CD=ve("ZodBase64URL",(e,t)=>{r8.init(e,t),At.init(e,t)}),ND=ve("ZodE164",(e,t)=>{o8.init(e,t),At.init(e,t)}),TD=ve("ZodJWT",(e,t)=>{i8.init(e,t),At.init(e,t)}),US=ve("ZodNumber",(e,t)=>{NS.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(r,o,i)=>kL(e,r,o),e.gt=(r,o)=>e.check(Y1(r,o)),e.gte=(r,o)=>e.check(em(r,o)),e.min=(r,o)=>e.check(em(r,o)),e.lt=(r,o)=>e.check(G1(r,o)),e.lte=(r,o)=>e.check(Xp(r,o)),e.max=(r,o)=>e.check(Xp(r,o)),e.int=r=>e.check(eb(r)),e.safe=r=>e.check(eb(r)),e.positive=r=>e.check(Y1(0,r)),e.nonnegative=r=>e.check(em(0,r)),e.negative=r=>e.check(G1(0,r)),e.nonpositive=r=>e.check(Xp(0,r)),e.multipleOf=(r,o)=>e.check(J1(r,o)),e.step=(r,o)=>e.check(J1(r,o)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function so(e){return nL(US,e)}const PD=ve("ZodNumberFormat",(e,t)=>{a8.init(e,t),US.init(e,t)});function eb(e){return rL(PD,e)}const RD=ve("ZodBoolean",(e,t)=>{l8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>CL(e,n,r)});function oi(e){return oL(RD,e)}const AD=ve("ZodUnknown",(e,t)=>{c8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>TL()});function kg(){return sL(AD)}const ID=ve("ZodNever",(e,t)=>{u8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>NL(e,n,r)});function jD(e){return iL(ID,e)}const OD=ve("ZodArray",(e,t)=>{d8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>jL(e,n,r,o),e.element=t.element,e.min=(n,r)=>e.check(Id(n,r)),e.nonempty=n=>e.check(Id(1,n)),e.max=(n,r)=>e.check(jS(n,r)),e.length=(n,r)=>e.check(OS(n,r)),e.unwrap=()=>e.element});function HS(e,t){return vL(OD,e,t)}const WS=ve("ZodObject",(e,t)=>{h8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>OL(e,n,r,o),gt(e,"shape",()=>t.shape),e.keyof=()=>VS(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:kg()}),e.loose=()=>e.clone({...e._zod.def,catchall:kg()}),e.strict=()=>e.clone({...e._zod.def,catchall:jD()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>OM(e,n),e.safeExtend=n=>MM(e,n),e.merge=n=>LM(e,n),e.pick=n=>IM(e,n),e.omit=n=>jM(e,n),e.partial=(...n)=>DM(ZS,e,n[0]),e.required=(...n)=>zM(qS,e,n[0])});function mo(e,t){const n={type:"object",shape:e??{},...Ve(t)};return new WS(n)}function tb(e,t){return new WS({type:"object",shape:e,catchall:kg(),...Ve(t)})}const MD=ve("ZodUnion",(e,t)=>{p8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>ML(e,n,r,o),e.options=t.options});function Cg(e,t){return new MD({type:"union",options:e,...Ve(t)})}const LD=ve("ZodIntersection",(e,t)=>{m8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>LL(e,n,r,o)});function DD(e,t){return new LD({type:"intersection",left:e,right:t})}const zD=ve("ZodTuple",(e,t)=>{g8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>DL(e,n,r,o),e.rest=n=>e.clone({...e._zod.def,rest:n})});function Yn(e,t,n){const r=t instanceof _t,o=r?n:t,i=r?t:null;return new zD({type:"tuple",items:e,rest:i,...Ve(o)})}const BD=ve("ZodRecord",(e,t)=>{y8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>zL(e,n,r,o),e.keyType=t.keyType,e.valueType=t.valueType});function FD(e,t,n){return new BD({type:"record",keyType:e,valueType:t,...Ve(n)})}const Ng=ve("ZodEnum",(e,t)=>{v8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(r,o,i)=>PL(e,r,o),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const i={};for(const l of r)if(n.has(l))i[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Ng({...t,checks:[],...Ve(o),entries:i})},e.exclude=(r,o)=>{const i={...t.entries};for(const l of r)if(n.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new Ng({...t,checks:[],...Ve(o),entries:i})}});function VS(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Ng({type:"enum",entries:n,...Ve(t)})}const $D=ve("ZodLiteral",(e,t)=>{w8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>RL(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Jn(e,t){return new $D({type:"literal",values:Array.isArray(e)?e:[e],...Ve(t)})}const UD=ve("ZodTransform",(e,t)=>{x8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>IL(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new dS(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(nc(i,n.value,t));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(nc(l))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function HD(e){return new UD({type:"transform",transform:e})}const ZS=ve("ZodOptional",(e,t)=>{RS.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>zS(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function nb(e){return new ZS({type:"optional",innerType:e})}const WD=ve("ZodExactOptional",(e,t)=>{b8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>zS(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function VD(e){return new WD({type:"optional",innerType:e})}const ZD=ve("ZodNullable",(e,t)=>{E8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>BL(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function rb(e){return new ZD({type:"nullable",innerType:e})}const qD=ve("ZodDefault",(e,t)=>{_8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>$L(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function KD(e,t){return new qD({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():mS(t)}})}const GD=ve("ZodPrefault",(e,t)=>{S8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>UL(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function YD(e,t){return new GD({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():mS(t)}})}const qS=ve("ZodNonOptional",(e,t)=>{k8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>FL(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function JD(e,t){return new qS({type:"nonoptional",innerType:e,...Ve(t)})}const QD=ve("ZodCatch",(e,t)=>{C8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>HL(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function XD(e,t){return new QD({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const ez=ve("ZodPipe",(e,t)=>{N8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>WL(e,n,r,o),e.in=t.in,e.out=t.out});function ob(e,t){return new ez({type:"pipe",in:e,out:t})}const tz=ve("ZodReadonly",(e,t)=>{T8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>VL(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function nz(e){return new tz({type:"readonly",innerType:e})}const rz=ve("ZodCustom",(e,t)=>{P8.init(e,t),Tt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>AL(e,n)});function oz(e,t={}){return wL(rz,e,t)}function sz(e){return xL(e)}const iz={custom:"custom"};class ot{static id(){return ft().regex(/^[0-9a-f]{64}$/)}static event(){return mo({id:ot.id(),kind:so().int().nonnegative(),pubkey:ot.id(),tags:ft().array().array(),content:ft(),created_at:so().int().nonnegative(),sig:ft()}).required({id:!0,kind:!0,pubkey:!0,tags:!0,content:!0,created_at:!0,sig:!0})}static filter(){return tb({kinds:so().int().nonnegative().array().optional(),ids:ot.id().array().optional(),authors:ot.id().array().optional(),since:so().int().nonnegative().optional(),until:so().int().nonnegative().optional(),limit:so().int().nonnegative().optional(),search:ft().optional()}).transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[o,i])=>((n.includes(o)||o.startsWith("#"))&&(r[o]=i),r),{})})}static bech32(t){return ft().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return Hl().regex(/^wss?:\/\//)}static clientEVENT(){return Yn([Jn("EVENT"),ot.event()])}static clientREQ(){return Yn([Jn("REQ"),ft()]).rest(ot.filter())}static clientCOUNT(){return Yn([Jn("COUNT"),ft()]).rest(ot.filter())}static clientCLOSE(){return Yn([Jn("CLOSE"),ft()])}static clientAUTH(){return Yn([Jn("AUTH"),ot.event()])}static clientMsg(){return Cg([ot.clientEVENT(),ot.clientREQ(),ot.clientCOUNT(),ot.clientCLOSE(),ot.clientAUTH()])}static relayEVENT(){return Yn([Jn("EVENT"),ft(),ot.event()])}static relayOK(){return Yn([Jn("OK"),ot.id(),oi(),ft()])}static relayEOSE(){return Yn([Jn("EOSE"),ft()])}static relayNOTICE(){return Yn([Jn("NOTICE"),ft()])}static relayCLOSED(){return Yn([Jn("CLOSED"),ft(),ft()])}static relayAUTH(){return Yn([Jn("AUTH"),ft()])}static relayCOUNT(){return Yn([Jn("COUNT"),ft(),mo({count:so().int().nonnegative(),approximate:oi().optional()})])}static relayMsg(){return Cg([ot.relayEVENT(),ot.relayOK(),ot.relayEOSE(),ot.relayNOTICE(),ot.relayCLOSED(),ot.relayAUTH(),ot.relayCOUNT()])}static metadata(){return tb({about:ft().optional().catch(void 0),banner:Hl().optional().catch(void 0),bot:oi().optional().catch(void 0),display_name:ft().optional().catch(void 0),lud06:ot.bech32("lnurl").optional().catch(void 0),lud16:Q1().optional().catch(void 0),name:ft().optional().catch(void 0),nip05:Q1().optional().catch(void 0),picture:Hl().optional().catch(void 0),website:Hl().optional().catch(void 0)})}static connectRequest(){return mo({id:ft(),method:ft(),params:ft().array()})}static connectResponse(){return mo({id:ft(),result:ft(),error:ft().optional()})}static json(){return ft().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:iz.custom,message:"Invalid JSON"}),kM}})}}class KS{constructor({relay:t,pubkey:n,signer:r,timeout:o,encryption:i="nip44"}){je(this,"relay");je(this,"pubkey");je(this,"signer");je(this,"timeout");je(this,"encryption");je(this,"nip04",{encrypt:async(t,n)=>this.cmd("nip04_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip04_decrypt",[t,n])});je(this,"nip44",{encrypt:async(t,n)=>this.cmd("nip44_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip44_decrypt",[t,n])});this.relay=t,this.pubkey=n,this.signer=r,this.timeout=o,this.encryption=i}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(t){const n=await this.cmd("sign_event",[JSON.stringify(t)]);return ot.json().pipe(ot.event()).parse(n)}async getRelays(){const t=await this.cmd("get_relays",[]);return ot.json().pipe(FD(ft(),mo({read:oi(),write:oi()}))).parse(t)}async connect(t){const n=[this.pubkey];return t&&n.push(t),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(t,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:o,error:i}=await this.send({id:crypto.randomUUID(),method:t,params:n},{signal:r});if(i)throw new Error(i);return o}async send(t,n={}){const{signal:r}=n,o=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(t)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),i=await this.signer.getPublicKey(),l=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[i]}],{signal:r}),c=new Promise((u,f)=>{(async()=>{try{for await(const p of l){if(p[0]==="CLOSED")throw new Error("Subscription closed");if(p[0]==="EVENT"){const h=p[2],w=await this.decrypt(this.pubkey,h.content),y=ot.json().pipe(ot.connectResponse()).parse(w);if(y.id===t.id){u(y);return}}}}catch(p){f(p)}})()});return await this.relay.event(o,{signal:r}),c}async encrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(t,n);case"nip44":return this.signer.nip44.encrypt(t,n)}}async decrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(t,n);case"nip44":return this.signer.nip44.decrypt(t,n)}}}const GS={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),GS[e]=t}function az(e){let t="";for(let n=0;n<e.byteLength;n++)t+=GS[e[n]];return t}const YS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sb=Object.entries(YS).reduce((e,[t,n])=>(e[n]=Number(t),e),{}),lz=YS.split(""),oa=6,Gl=8,cz=63,uz=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let o=0;o<e.length;o+=4){let i=0,l=0;for(let f=o,p=o+3;f<=p;f++)if(e[f]!=="="){if(!(e[f]in sb))throw new TypeError(`Invalid character ${e[f]} in base64 string.`);i|=sb[e[f]]<<(p-f)*oa,l+=oa}else i>>=oa;const c=o/4*3;i>>=l%Gl;const u=Math.floor(l/Gl);for(let f=0;f<u;f++){const p=(u-f-1)*Gl;r.setUint8(c+f,(i&255<<p)>>p)}}return new Uint8Array(n)},dz=e=>new TextEncoder().encode(e);function fz(e){let t;typeof e=="string"?t=dz(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",r=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let o="";for(let i=0;i<t.length;i+=3){let l=0,c=0;for(let f=i,p=Math.min(i+3,t.length);f<p;f++)l|=t[f]<<(p-f-1)*Gl,c+=Gl;const u=Math.ceil(c/oa);l<<=u*oa-c;for(let f=1;f<=u;f++){const p=(u-f)*oa;o+=lz[(l&cz<<p)>>p]}o+="==".slice(0,4-u)}return o}class hz{static encodeEvent(t){return fz(JSON.stringify(t))}static decodeEvent(t){const n=uz(t),r=new TextDecoder().decode(n);return ot.json().pipe(ot.event()).parse(r)}}class pz{constructor(t){je(this,"set");je(this,"capacity");this.set=new Set,this.capacity=t}add(t){if(!this.set.has(t)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}[Symbol.iterator](){return this.set.values()}}var Ea,_a,xc;class JS{constructor(t){We(this,Ea,[]);We(this,_a);We(this,xc,!1);t!=null&&t.aborted?this.abort():t==null||t.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Symbol.asyncIterator](){for(;!te(this,xc);){if(te(this,Ea).length){yield te(this,Ea).shift();continue}await new Promise(t=>{Me(this,_a,t)})}throw new DOMException("The signal has been aborted","AbortError")}push(t){var n;te(this,Ea).push(t),(n=te(this,_a))==null||n.call(this)}abort(){var t;Me(this,xc,!0),(t=te(this,_a))==null||t.call(this)}}Ea=new WeakMap,_a=new WeakMap,xc=new WeakMap;class tv{constructor(t){je(this,"_relays",new Map);je(this,"opts");this.opts=t}relay(t){const n=this._relays.get(t);if(n)return n;{const r=this.opts.open(t);return this._relays.set(t,r),r}}group(t){return new tv({open:n=>this.relay(n),reqRouter:n=>new Map(t.map(r=>[r,n])),eventRouter:()=>t})}get relays(){return this._relays}async*req(t,n){const r=new AbortController,o=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,i=n!=null&&n.relays?new Map(n.relays.map(y=>[y,t])):await this.opts.reqRouter(t);if(i.size<1)return;const l=new JS(o),c=new Set,u=new Set,f=new pz(1e3),p=this.opts.eoseTimeout??1e3;let h;const w=[];for(const[y,b]of i.entries()){const g=this.relay(y),x=(async()=>{try{for await(const E of g.req(b,{signal:o}))if(E[0]==="EOSE"&&(c.add(y),c.size===1&&p>0&&h===void 0&&(h=setTimeout(()=>{r.abort()},p)),c.size===i.size&&l.push(E)),E[0]==="CLOSED"&&(u.add(y),u.size===i.size&&l.push(E)),E[0]==="EVENT"){const[,,k]=E;f.has(k.id)||(f.add(k.id),l.push(E))}}catch{}})();w.push(x)}try{for await(const y of l)yield y}finally{h!==void 0&&clearTimeout(h),r.abort(),await Promise.allSettled(w)}}async event(t,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(t);r.length&&await Promise.any(r.map(o=>this.relay(o).event(t,n)))}async query(t,n){const r=new Map,o=new Pd(r);if(t.reduce((l,c)=>l+C_(c),0)===0)return[];try{for await(const l of this.req(t,n))if(l[0]==="EOSE"||(l[0]==="EVENT"&&o.add(l[2]),l[0]==="CLOSED"))break}catch{}return t.some(l=>typeof l.search=="string")?[...r.values()]:[...o]}async close(){await Promise.all([...this._relays.values()].map(t=>t.close()))}async[Symbol.asyncDispose](){await this.close()}}class mz{constructor(t,n){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class gz{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var vt;(function(e){e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect"})(vt||(vt={}));class yz{constructor(t,n,r){var o,i,l,c,u,f,p,h,w,y,b,g,x,E,k;this._closedByUser=!1,this.handleOpenEvent=C=>this.handleEvent(vt.open,C),this.handleErrorEvent=C=>this.handleEvent(vt.error,C),this.handleCloseEvent=C=>this.handleEvent(vt.close,C),this.handleMessageEvent=C=>this.handleEvent(vt.message,C),this._url=t,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(o=r==null?void 0:r.retry)===null||o===void 0?void 0:o.maxRetries,instantReconnect:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.instantReconnect,backoff:(l=r==null?void 0:r.retry)===null||l===void 0?void 0:l.backoff},listeners:{open:[...(u=(c=r==null?void 0:r.listeners)===null||c===void 0?void 0:c.open)!==null&&u!==void 0?u:[]],close:[...(p=(f=r==null?void 0:r.listeners)===null||f===void 0?void 0:f.close)!==null&&p!==void 0?p:[]],error:[...(w=(h=r==null?void 0:r.listeners)===null||h===void 0?void 0:h.error)!==null&&w!==void 0?w:[]],message:[...(b=(y=r==null?void 0:r.listeners)===null||y===void 0?void 0:y.message)!==null&&b!==void 0?b:[]],retry:[...(x=(g=r==null?void 0:r.listeners)===null||g===void 0?void 0:g.retry)!==null&&x!==void 0?x:[]],reconnect:[...(k=(E=r==null?void 0:r.listeners)===null||E===void 0?void 0:E.reconnect)!==null&&k!==void 0?k:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):this.buffer!==void 0&&this.buffer.add(t))}close(t,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,n)}addEventListener(t,n,r){this._options.listeners[t].push({listener:n,options:r})}removeEventListener(t,n,r){const o=i=>i.listener!==n||i.options!==r;this._options.listeners[t]=this._options.listeners[t].filter(o)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(vt.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(vt.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(vt.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(vt.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(vt.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(vt.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(vt.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(vt.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,n){const r=this._options.listeners[t],o=[];r.forEach(({listener:i,options:l})=>{i(this,n),(l===void 0||l.once===void 0||!l.once)&&o.push({listener:i,options:l})}),this._options.listeners[t]=o}handleEvent(t,n){switch(t){case vt.close:this.dispatchEvent(t,n),this.scheduleConnectionRetryIfNeeded();break;case vt.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},o=new CustomEvent(vt.reconnect,{detail:r});this.dispatchEvent(vt.reconnect,o),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,n),this.sendBufferedData();break;case vt.retry:this.dispatchEvent(t,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let t=this.buffer.read();t!==void 0;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const t=r=>{const o=new CustomEvent(vt.retry,{detail:r});this.handleEvent(vt.retry,o)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class vz{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:t})}),this}get maxRetries(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:t})}),this}get backoff(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return(t=this._options)===null||t===void 0?void 0:t.buffer}onOpen(t,n){return this.addListener(vt.open,t,n),this}onClose(t,n){return this.addListener(vt.close,t,n),this}onError(t,n){return this.addListener(vt.error,t,n),this}onMessage(t,n){return this.addListener(vt.message,t,n),this}onRetry(t,n){return this.addListener(vt.retry,t,n),this}onReconnect(t,n){return this.addListener(vt.reconnect,t,n),this}build(){return new yz(this._url,this._protocols,this._options)}addListener(t,n,r){var o,i,l,c,u,f,p,h,w,y,b,g,x,E,k,C,A,I,L,z,$;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(l=(i=(o=this._options)===null||o===void 0?void 0:o.listeners)===null||i===void 0?void 0:i.open)!==null&&l!==void 0?l:[],close:(f=(u=(c=this._options)===null||c===void 0?void 0:c.listeners)===null||u===void 0?void 0:u.close)!==null&&f!==void 0?f:[],error:(w=(h=(p=this._options)===null||p===void 0?void 0:p.listeners)===null||h===void 0?void 0:h.error)!==null&&w!==void 0?w:[],message:(g=(b=(y=this._options)===null||y===void 0?void 0:y.listeners)===null||b===void 0?void 0:b.message)!==null&&g!==void 0?g:[],retry:(k=(E=(x=this._options)===null||x===void 0?void 0:x.listeners)===null||E===void 0?void 0:E.retry)!==null&&k!==void 0?k:[],reconnect:(I=(A=(C=this._options)===null||C===void 0?void 0:C.listeners)===null||A===void 0?void 0:A.reconnect)!==null&&I!==void 0?I:[],[t]:[...($=(z=(L=this._options)===null||L===void 0?void 0:L.listeners)===null||z===void 0?void 0:z[t])!==null&&$!==void 0?$:[],{listener:n,options:r}]}}),this}}class wz{constructor(t,n={}){je(this,"socket");je(this,"subs",new Map);je(this,"closedByUser",!1);je(this,"idleTimer");je(this,"controller",new AbortController);je(this,"url");je(this,"opts");je(this,"ee",new EventTarget);this.url=t,this.opts=n,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(t){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...t,url:this.url})}createSocket(){const{backoff:t=new mz(1e3)}=this.opts;return new vz(this.url).withBuffer(new gz).withBackoff(t===!1?void 0:t).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const o=ot.json().pipe(ot.relayMsg()).safeParse(r.data);o.success?(this.log({level:"trace",ns:"relay.ws.message",data:o.data}),this.receive(o.data)):this.log({level:"warn",ns:"relay.ws.message",error:o.error})}).build()}receive(t){const{auth:n,verifyEvent:r=Sc}=this.opts;switch(t[0]){case"EVENT":if(!r(t[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"CLOSED":this.subs.delete(t[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t})),this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${t[1]}`,{detail:t}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:t}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"AUTH":n==null||n(t[1]).then(o=>this.send(["AUTH",o])).catch(()=>{})}}send(t){switch(this.log({level:"trace",ns:"relay.ws.send",data:t}),this.wake(),t[0]){case"REQ":this.subs.set(t[1],t);break;case"CLOSE":this.subs.delete(t[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}async*req(t,n={}){const{signal:r}=n,o=crypto.randomUUID(),i=this.on(`sub:${o}`,r),l=["REQ",o,...t];this.send(l);try{for await(const c of i){if(c[0]==="EOSE"&&(yield c),c[0]==="CLOSED")break;if(c[0]==="EVENT")if(k_(t,c[2]))yield c;else continue}}finally{this.send(["CLOSE",o])}}async query(t,n){const r=new Pd,o=t.reduce((i,l)=>i+C_(l),0);if(o===0)return[];for await(const i of this.req(t,n)){if(i[0]==="EOSE")break;if(i[0]==="EVENT"&&r.add(i[2]),i[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=o)break}return[...r]}async event(t,n){const r=this.once(`ok:${t.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",t])}catch(l){throw r.catch(()=>{}),l}const[,,o,i]=await r;if(!o)throw new Error(i)}async count(t,n){const r=crypto.randomUUID(),o=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...t])}catch(l){throw o.catch(()=>{}),l}const i=await o;switch(i[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,l]=i;return l}}throw new Error("Count ended -- this should never happen")}async*on(t,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const o=new JS(r),i=l=>o.push(l.detail);this.ee.addEventListener(t,i);try{for await(const l of o)yield l}finally{this.ee.removeEventListener(t,i)}}async once(t,n){for await(const r of this.on(t,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:t=3e4}=this.opts;t!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:t}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:t}),this.socket.close()},t)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(t=>{this.socket.addEventListener(vt.close,t,{once:!0})})}async[Symbol.asyncDispose](){await this.close()}}var lo,bc,Tg;class rc{constructor(t){We(this,bc);We(this,lo);je(this,"pubkey");je(this,"nip04",{encrypt:async(t,n)=>tc.encrypt(te(this,lo),t,n),decrypt:async(t,n)=>tc.decrypt(te(this,lo),t,n)});je(this,"nip44",{encrypt:async(t,n)=>{const r=et(this,bc,Tg).call(this,t);return hs.v2.encrypt(n,r)},decrypt:async(t,n)=>{const r=et(this,bc,Tg).call(this,t);return hs.v2.decrypt(n,r)}});Me(this,lo,t)}async getPublicKey(){return this.pubkey??(this.pubkey=wo(te(this,lo)))}async signEvent(t){return or(t,te(this,lo))}}lo=new WeakMap,bc=new WeakSet,Tg=function(t){return hs.v2.utils.getConversationKey(te(this,lo),t)};const QS=_.createContext(void 0);function $n(){const e=_.useContext(QS);if(!e)throw new Error("useNostr must be used within a NostrProvider");return e}class si{constructor(t,n,r){je(this,"id");je(this,"type");je(this,"pubkey");je(this,"createdAt");je(this,"data");this.id=`${t}:${n}`,this.type=t,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(t){const n=yn.decode(t);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,o=wo(r);return new si("nsec",o,{nsec:yn.nsecEncode(r)})}static async fromBunker(t,n){const{pubkey:r,secret:o,relays:i}=new ql(t);if(!i.length)throw new Error("No relay provided");const l=_c(),c=yn.nsecEncode(l),u=new rc(l),f=new KS({relay:n.group(i),pubkey:r,signer:u,timeout:6e4});await f.connect(o);const p=await f.getPublicKey();return new si("bunker",p,{bunkerPubkey:r,clientNsec:c,relays:i})}static async fromExtension(){const t=globalThis.nostr;if(!t)throw new Error("Nostr extension is not available");const n=await t.getPublicKey();return new si("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const XS=_.createContext(void 0);function xz(e,t){switch(t.type){case"login.add":{const n=e.filter(r=>r.id!==t.login.id);return t.set?[t.login,...n]:[...n,t.login]}case"login.remove":return e.filter(n=>n.id!==t.id);case"login.set":{const n=e.find(o=>o.id===t.id);if(!n)return e;const r=e.filter(o=>o.id!==t.id);return[n,...r]}case"login.clear":return[];default:return e}}function bz(e){const[t,n]=_.useReducer(xz,[],()=>{const r=localStorage.getItem(e);return r?JSON.parse(r):[]});return _.useEffect(()=>{localStorage.setItem(e,JSON.stringify(t))},[t]),[t,n]}const Ez=({children:e,storageKey:t})=>{const[n,r]=bz(t),o={logins:n,addLogin:i=>r({type:"login.add",login:i}),removeLogin:i=>r({type:"login.remove",id:i}),setLogin:i=>r({type:"login.set",id:i}),clearLogins:()=>r({type:"login.clear"})};return m.jsx(XS.Provider,{value:o,children:e})};class ii{constructor(t,n,r){this.method=t,this.pubkey=n,this.signer=r}static fromNsecLogin(t){const n=yn.decode(t.data.nsec);return new ii(t.type,t.pubkey,new rc(n.data))}static fromBunkerLogin(t,n){const r=yn.decode(t.data.clientNsec),o=new rc(r.data);return new ii(t.type,t.pubkey,new KS({relay:n.group(t.data.relays),pubkey:t.pubkey,signer:o,timeout:6e4}))}static fromExtensionLogin(t){return new ii(t.type,t.pubkey,new KI)}}function nv(){const e=_.useContext(XS);if(!e)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return e}const ek=_.createContext(void 0);function tk(){const e=_.useContext(ek);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const _z=e=>{const{children:t}=e,{config:n}=tk(),r=my(),o=_.useRef(void 0),i=_.useRef(n.relayMetadata);return _.useEffect(()=>{i.current=n.relayMetadata,r.invalidateQueries({queryKey:["nostr"]})},[n.relayMetadata,r]),o.current||(o.current=new tv({open(l){return new wz(l)},reqRouter(l){const c=new Map,u=i.current.relays.filter(f=>f.read).map(f=>f.url);for(const f of u)c.set(f,l);return c},eventRouter(l){const c=i.current.relays.filter(f=>f.write).map(f=>f.url);return[...new Set(c)]}})),m.jsx(QS.Provider,{value:{nostr:o.current},children:t})};function yf(e){const{nostr:t}=$n();return Fr({queryKey:["author",e??""],queryFn:async({signal:n})=>{if(!e)return{};const[r]=await t.query([{kinds:[0],authors:[e],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!r)throw new Error("No event found");try{return{metadata:ot.json().pipe(ot.metadata()).parse(r.content),event:r}}catch{return{event:r}}},staleTime:5*60*1e3,retry:3})}function vi(){const{nostr:e}=$n(),{logins:t}=nv(),n=_.useCallback(l=>{switch(l.type){case"nsec":return ii.fromNsecLogin(l);case"bunker":return ii.fromBunkerLogin(l,e);case"extension":return ii.fromExtensionLogin(l);default:throw new Error(`Unsupported login type: ${l.type}`)}},[e]),r=_.useMemo(()=>{const l=[];for(const c of t)try{const u=n(c);l.push(u)}catch(u){console.warn("Skipped invalid login",c.id,u)}return l},[t,n]),o=r[0],i=yf(o==null?void 0:o.pubkey);return{user:o,users:r,...i.data}}function Sz(){const{nostr:e}=$n(),{user:t}=vi(),{config:n,updateConfig:r}=tk();return _.useEffect(()=>{if(!t)return;(async()=>{try{const i=await e.query([{kinds:[10002],authors:[t.pubkey],limit:1}],{signal:AbortSignal.timeout(5e3)});if(i.length>0){const l=i[0];if(l.created_at>n.relayMetadata.updatedAt){const c=l.tags.filter(([u])=>u==="r").map(([u,f,p])=>({url:f,read:!p||p==="read",write:!p||p==="write"}));c.length>0&&(console.log("Syncing relay list from Nostr:",c),r(u=>({...u,relayMetadata:{relays:c,updatedAt:l.created_at}})))}}}catch(i){console.error("Failed to sync relays from Nostr:",i)}})()},[t,n.relayMetadata.updatedAt,e,r]),null}const kz=1,Cz=1e6;let tm=0;function Nz(){return tm=(tm+1)%Number.MAX_SAFE_INTEGER,tm.toString()}const nm=new Map,ib=e=>{if(nm.has(e))return;const t=setTimeout(()=>{nm.delete(e),Yl({type:"REMOVE_TOAST",toastId:e})},Cz);nm.set(e,t)},Tz=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,kz)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?ib(n):e.toasts.forEach(r=>{ib(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},pd=[];let md={toasts:[]};function Yl(e){md=Tz(md,e),pd.forEach(t=>{t(md)})}function Xi({...e}){const t=Nz(),n=o=>Yl({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Yl({type:"DISMISS_TOAST",toastId:t});return Yl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function kc(){const[e,t]=_.useState(md);return _.useEffect(()=>(pd.push(t),()=>{const n=pd.indexOf(t);n>-1&&pd.splice(n,1)}),[e]),{...e,toast:Xi,dismiss:n=>Yl({type:"DISMISS_TOAST",toastId:n})}}var Da=n2();const Pz=Yd(Da);function Pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function ab(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vf(...e){return t=>{let n=!1;const r=e.map(o=>{const i=ab(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():ab(e[o],null)}}}}function Qe(...e){return _.useCallback(vf(...e),e)}function Rz(e,t){const n=_.createContext(t),r=i=>{const{children:l,...c}=i,u=_.useMemo(()=>c,Object.values(c));return m.jsx(n.Provider,{value:u,children:l})};r.displayName=e+"Provider";function o(i){const l=_.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,o]}function un(e,t=[]){let n=[];function r(i,l){const c=_.createContext(l),u=n.length;n=[...n,l];const f=h=>{var E;const{scope:w,children:y,...b}=h,g=((E=w==null?void 0:w[e])==null?void 0:E[u])||c,x=_.useMemo(()=>b,Object.values(b));return m.jsx(g.Provider,{value:x,children:y})};f.displayName=i+"Provider";function p(h,w){var g;const y=((g=w==null?void 0:w[e])==null?void 0:g[u])||c,b=_.useContext(y);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[f,p]}const o=()=>{const i=n.map(l=>_.createContext(l));return function(c){const u=(c==null?void 0:c[e])||i;return _.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return o.scopeName=e,[r,Az(o,...t)]}function Az(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const l=r.reduce((c,{useScope:u,scopeName:f})=>{const h=u(i)[`__scope${f}`];return{...c,...h}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function fi(e){const t=jz(e),n=_.forwardRef((r,o)=>{const{children:i,...l}=r,c=_.Children.toArray(i),u=c.find(Mz);if(u){const f=u.props.children,p=c.map(h=>h===u?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:h);return m.jsx(t,{...l,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,p):null})}return m.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}var Iz=fi("Slot");function jz(e){const t=_.forwardRef((n,r)=>{const{children:o,...i}=n;if(_.isValidElement(o)){const l=Dz(o),c=Lz(i,o.props);return o.type!==_.Fragment&&(c.ref=r?vf(r,l):l),_.cloneElement(o,c)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nk=Symbol("radix.slottable");function Oz(e){const t=({children:n})=>m.jsx(m.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=nk,t}function Mz(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nk}function Lz(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{i(...c),o(...c)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function Dz(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Cc(e){const t=e+"CollectionProvider",[n,r]=un(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=g=>{const{scope:x,children:E}=g,k=Xo.useRef(null),C=Xo.useRef(new Map).current;return m.jsx(o,{scope:x,itemMap:C,collectionRef:k,children:E})};l.displayName=t;const c=e+"CollectionSlot",u=fi(c),f=Xo.forwardRef((g,x)=>{const{scope:E,children:k}=g,C=i(c,E),A=Qe(x,C.collectionRef);return m.jsx(u,{ref:A,children:k})});f.displayName=c;const p=e+"CollectionItemSlot",h="data-radix-collection-item",w=fi(p),y=Xo.forwardRef((g,x)=>{const{scope:E,children:k,...C}=g,A=Xo.useRef(null),I=Qe(x,A),L=i(p,E);return Xo.useEffect(()=>(L.itemMap.set(A,{ref:A,...C}),()=>void L.itemMap.delete(A))),m.jsx(w,{[h]:"",ref:I,children:k})});y.displayName=p;function b(g){const x=i(e+"CollectionConsumer",g);return Xo.useCallback(()=>{const k=x.collectionRef.current;if(!k)return[];const C=Array.from(k.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((L,z)=>C.indexOf(L.ref.current)-C.indexOf(z.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:l,Slot:f,ItemSlot:y},b,r]}var zz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=zz.reduce((e,t)=>{const n=fi(`Primitive.${t}`),r=_.forwardRef((o,i)=>{const{asChild:l,...c}=o,u=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function rv(e,t){e&&Da.flushSync(()=>e.dispatchEvent(t))}function Ot(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Bz(e,t=globalThis==null?void 0:globalThis.document){const n=Ot(e);_.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Fz="DismissableLayer",Pg="dismissableLayer.update",$z="dismissableLayer.pointerDownOutside",Uz="dismissableLayer.focusOutside",lb,rk=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),za=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...u}=e,f=_.useContext(rk),[p,h]=_.useState(null),w=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=_.useState({}),b=Qe(t,z=>h(z)),g=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(x),k=p?g.indexOf(p):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,A=k>=E,I=Wz(z=>{const $=z.target,O=[...f.branches].some(B=>B.contains($));!A||O||(o==null||o(z),l==null||l(z),z.defaultPrevented||c==null||c())},w),L=Vz(z=>{const $=z.target;[...f.branches].some(B=>B.contains($))||(i==null||i(z),l==null||l(z),z.defaultPrevented||c==null||c())},w);return Bz(z=>{k===f.layers.size-1&&(r==null||r(z),!z.defaultPrevented&&c&&(z.preventDefault(),c()))},w),_.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(lb=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),cb(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=lb)}},[p,w,n,f]),_.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),cb())},[p,f]),_.useEffect(()=>{const z=()=>y({});return document.addEventListener(Pg,z),()=>document.removeEventListener(Pg,z)},[]),m.jsx(ze.div,{...u,ref:b,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,I.onPointerDownCapture)})});za.displayName=Fz;var Hz="DismissableLayerBranch",ok=_.forwardRef((e,t)=>{const n=_.useContext(rk),r=_.useRef(null),o=Qe(t,r);return _.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),m.jsx(ze.div,{...e,ref:o})});ok.displayName=Hz;function Wz(e,t=globalThis==null?void 0:globalThis.document){const n=Ot(e),r=_.useRef(!1),o=_.useRef(()=>{});return _.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let u=function(){sk($z,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=u,t.addEventListener("click",o.current,{once:!0})):u()}else t.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Vz(e,t=globalThis==null?void 0:globalThis.document){const n=Ot(e),r=_.useRef(!1);return _.useEffect(()=>{const o=i=>{i.target&&!r.current&&sk(Uz,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cb(){const e=new CustomEvent(Pg);document.dispatchEvent(e)}function sk(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?rv(o,i):o.dispatchEvent(i)}var Zz=za,qz=ok,Lt=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},Kz="Portal",Nc=_.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[o,i]=_.useState(!1);Lt(()=>i(!0),[]);const l=n||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Pz.createPortal(m.jsx(ze.div,{...r,ref:t}),l):null});Nc.displayName=Kz;function Gz(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var dn=e=>{const{present:t,children:n}=e,r=Yz(t),o=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),i=Qe(r.ref,Jz(o));return typeof n=="function"||r.isPresent?_.cloneElement(o,{ref:i}):null};dn.displayName="Presence";function Yz(e){const[t,n]=_.useState(),r=_.useRef(null),o=_.useRef(e),i=_.useRef("none"),l=e?"mounted":"unmounted",[c,u]=Gz(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=td(r.current);i.current=c==="mounted"?f:"none"},[c]),Lt(()=>{const f=r.current,p=o.current;if(p!==e){const w=i.current,y=td(f);e?u("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(p&&w!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),Lt(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,h=y=>{const g=td(r.current).includes(y.animationName);if(y.target===t&&g&&(u("ANIMATION_END"),!o.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},w=y=>{y.target===t&&(i.current=td(r.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:_.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function td(e){return(e==null?void 0:e.animationName)||"none"}function Jz(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Qz=uy[" useInsertionEffect ".trim().toString()]||Lt;function br({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,l]=Xz({defaultProp:t,onChange:n}),c=e!==void 0,u=c?e:o;{const p=_.useRef(e!==void 0);_.useEffect(()=>{const h=p.current;h!==c&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const f=_.useCallback(p=>{var h;if(c){const w=eB(p)?p(e):p;w!==e&&((h=l.current)==null||h.call(l,w))}else i(p)},[c,e,i,l]);return[u,f]}function Xz({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),o=_.useRef(n),i=_.useRef(t);return Qz(()=>{i.current=t},[t]),_.useEffect(()=>{var l;o.current!==n&&((l=i.current)==null||l.call(i,n),o.current=n)},[n,o]),[n,r,i]}function eB(e){return typeof e=="function"}var ik=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tB="VisuallyHidden",wf=_.forwardRef((e,t)=>m.jsx(ze.span,{...e,ref:t,style:{...ik,...e.style}}));wf.displayName=tB;var nB=wf,ov="ToastProvider",[sv,rB,oB]=Cc("Toast"),[ak,Uq]=un("Toast",[oB]),[sB,xf]=ak(ov),lk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:l}=e,[c,u]=_.useState(null),[f,p]=_.useState(0),h=_.useRef(!1),w=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ov}\`. Expected non-empty \`string\`.`),m.jsx(sv.Provider,{scope:t,children:m.jsx(sB,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:i,toastCount:f,viewport:c,onViewportChange:u,onToastAdd:_.useCallback(()=>p(y=>y+1),[]),onToastRemove:_.useCallback(()=>p(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:w,children:l})})};lk.displayName=ov;var ck="ToastViewport",iB=["F8"],Rg="toast.viewportPause",Ag="toast.viewportResume",uk=_.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=iB,label:o="Notifications ({hotkey})",...i}=e,l=xf(ck,n),c=rB(n),u=_.useRef(null),f=_.useRef(null),p=_.useRef(null),h=_.useRef(null),w=Qe(t,h,l.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=l.toastCount>0;_.useEffect(()=>{const x=E=>{var C;r.length!==0&&r.every(A=>E[A]||E.code===A)&&((C=h.current)==null||C.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),_.useEffect(()=>{const x=u.current,E=h.current;if(b&&x&&E){const k=()=>{if(!l.isClosePausedRef.current){const L=new CustomEvent(Rg);E.dispatchEvent(L),l.isClosePausedRef.current=!0}},C=()=>{if(l.isClosePausedRef.current){const L=new CustomEvent(Ag);E.dispatchEvent(L),l.isClosePausedRef.current=!1}},A=L=>{!x.contains(L.relatedTarget)&&C()},I=()=>{x.contains(document.activeElement)||C()};return x.addEventListener("focusin",k),x.addEventListener("focusout",A),x.addEventListener("pointermove",k),x.addEventListener("pointerleave",I),window.addEventListener("blur",k),window.addEventListener("focus",C),()=>{x.removeEventListener("focusin",k),x.removeEventListener("focusout",A),x.removeEventListener("pointermove",k),x.removeEventListener("pointerleave",I),window.removeEventListener("blur",k),window.removeEventListener("focus",C)}}},[b,l.isClosePausedRef]);const g=_.useCallback(({tabbingDirection:x})=>{const k=c().map(C=>{const A=C.ref.current,I=[A,...wB(A)];return x==="forwards"?I:I.reverse()});return(x==="forwards"?k.reverse():k).flat()},[c]);return _.useEffect(()=>{const x=h.current;if(x){const E=k=>{var I,L,z;const C=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!C){const $=document.activeElement,O=k.shiftKey;if(k.target===x&&O){(I=f.current)==null||I.focus();return}const M=g({tabbingDirection:O?"backwards":"forwards"}),V=M.findIndex(P=>P===$);rm(M.slice(V+1))?k.preventDefault():O?(L=f.current)==null||L.focus():(z=p.current)==null||z.focus()}};return x.addEventListener("keydown",E),()=>x.removeEventListener("keydown",E)}},[c,g]),m.jsxs(qz,{ref:u,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&m.jsx(Ig,{ref:f,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});rm(x)}}),m.jsx(sv.Slot,{scope:n,children:m.jsx(ze.ol,{tabIndex:-1,...i,ref:w})}),b&&m.jsx(Ig,{ref:p,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});rm(x)}})]})});uk.displayName=ck;var dk="ToastFocusProxy",Ig=_.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,i=xf(dk,n);return m.jsx(wf,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:l=>{var f;const c=l.relatedTarget;!((f=i.viewport)!=null&&f.contains(c))&&r()}})});Ig.displayName=dk;var Tc="Toast",aB="toast.swipeStart",lB="toast.swipeMove",cB="toast.swipeCancel",uB="toast.swipeEnd",fk=_.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:i,...l}=e,[c,u]=br({prop:r,defaultProp:o??!0,onChange:i,caller:Tc});return m.jsx(dn,{present:n||c,children:m.jsx(hB,{open:c,...l,ref:t,onClose:()=>u(!1),onPause:Ot(e.onPause),onResume:Ot(e.onResume),onSwipeStart:Pe(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(e.onSwipeMove,f=>{const{x:p,y:h}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Pe(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(e.onSwipeEnd,f=>{const{x:p,y:h}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),u(!1)})})})});fk.displayName=Tc;var[dB,fB]=ak(Tc,{onClose(){}}),hB=_.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:i,onClose:l,onEscapeKeyDown:c,onPause:u,onResume:f,onSwipeStart:p,onSwipeMove:h,onSwipeCancel:w,onSwipeEnd:y,...b}=e,g=xf(Tc,n),[x,E]=_.useState(null),k=Qe(t,P=>E(P)),C=_.useRef(null),A=_.useRef(null),I=o||g.duration,L=_.useRef(0),z=_.useRef(I),$=_.useRef(0),{onToastAdd:O,onToastRemove:B}=g,W=Ot(()=>{var U;(x==null?void 0:x.contains(document.activeElement))&&((U=g.viewport)==null||U.focus()),l()}),M=_.useCallback(P=>{!P||P===1/0||(window.clearTimeout($.current),L.current=new Date().getTime(),$.current=window.setTimeout(W,P))},[W]);_.useEffect(()=>{const P=g.viewport;if(P){const U=()=>{M(z.current),f==null||f()},X=()=>{const J=new Date().getTime()-L.current;z.current=z.current-J,window.clearTimeout($.current),u==null||u()};return P.addEventListener(Rg,X),P.addEventListener(Ag,U),()=>{P.removeEventListener(Rg,X),P.removeEventListener(Ag,U)}}},[g.viewport,I,u,f,M]),_.useEffect(()=>{i&&!g.isClosePausedRef.current&&M(I)},[i,I,g.isClosePausedRef,M]),_.useEffect(()=>(O(),()=>B()),[O,B]);const V=_.useMemo(()=>x?wk(x):null,[x]);return g.viewport?m.jsxs(m.Fragment,{children:[V&&m.jsx(pB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),m.jsx(dB,{scope:n,onClose:W,children:Da.createPortal(m.jsx(sv.ItemSlot,{scope:n,children:m.jsx(Zz,{asChild:!0,onEscapeKeyDown:Pe(c,()=>{g.isFocusedToastEscapeKeyDownRef.current||W(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:k,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pe(e.onKeyDown,P=>{P.key==="Escape"&&(c==null||c(P.nativeEvent),P.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:Pe(e.onPointerDown,P=>{P.button===0&&(C.current={x:P.clientX,y:P.clientY})}),onPointerMove:Pe(e.onPointerMove,P=>{if(!C.current)return;const U=P.clientX-C.current.x,X=P.clientY-C.current.y,J=!!A.current,ee=["left","right"].includes(g.swipeDirection),q=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,oe=ee?q(0,U):0,D=ee?0:q(0,X),Z=P.pointerType==="touch"?10:2,ge={x:oe,y:D},pe={originalEvent:P,delta:ge};J?(A.current=ge,nd(lB,h,pe,{discrete:!1})):ub(ge,g.swipeDirection,Z)?(A.current=ge,nd(aB,p,pe,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(U)>Z||Math.abs(X)>Z)&&(C.current=null)}),onPointerUp:Pe(e.onPointerUp,P=>{const U=A.current,X=P.target;if(X.hasPointerCapture(P.pointerId)&&X.releasePointerCapture(P.pointerId),A.current=null,C.current=null,U){const J=P.currentTarget,ee={originalEvent:P,delta:U};ub(U,g.swipeDirection,g.swipeThreshold)?nd(uB,y,ee,{discrete:!0}):nd(cB,w,ee,{discrete:!0}),J.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),pB=e=>{const{__scopeToast:t,children:n,...r}=e,o=xf(Tc,t),[i,l]=_.useState(!1),[c,u]=_.useState(!1);return yB(()=>l(!0)),_.useEffect(()=>{const f=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(f)},[]),c?null:m.jsx(Nc,{asChild:!0,children:m.jsx(wf,{...r,children:i&&m.jsxs(m.Fragment,{children:[o.label," ",n]})})})},mB="ToastTitle",hk=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return m.jsx(ze.div,{...r,ref:t})});hk.displayName=mB;var gB="ToastDescription",pk=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return m.jsx(ze.div,{...r,ref:t})});pk.displayName=gB;var mk="ToastAction",gk=_.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?m.jsx(vk,{altText:n,asChild:!0,children:m.jsx(iv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${mk}\`. Expected non-empty \`string\`.`),null)});gk.displayName=mk;var yk="ToastClose",iv=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=fB(yk,n);return m.jsx(vk,{asChild:!0,children:m.jsx(ze.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,o.onClose)})})});iv.displayName=yk;var vk=_.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return m.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function wk(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),vB(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...wk(r))}}),t}function nd(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?rv(o,i):o.dispatchEvent(i)}var ub=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),i=r>o;return t==="left"||t==="right"?i&&r>n:!i&&o>n};function yB(e=()=>{}){const t=Ot(e);Lt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function vB(e){return e.nodeType===e.ELEMENT_NODE}function wB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var xB=lk,xk=uk,bk=fk,Ek=hk,_k=pk,Sk=gk,kk=iv;function Ck(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ck(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Nk(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ck(e))&&(r&&(r+=" "),r+=t);return r}const db=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fb=Nk,Pc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return fb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=t,l=Object.keys(o).map(f=>{const p=n==null?void 0:n[f],h=i==null?void 0:i[f];if(p===null)return null;const w=db(p)||db(h);return o[f][w]}),c=n&&Object.entries(n).reduce((f,p)=>{let[h,w]=p;return w===void 0||(f[h]=w),f},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:h,className:w,...y}=p;return Object.entries(y).every(b=>{let[g,x]=b;return Array.isArray(x)?x.includes({...i,...c}[g]):{...i,...c}[g]===x})?[...f,h,w]:f},[]);return fb(e,l,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:l,...c},u)=>_.createElement("svg",{ref:u,...EB,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Tk("lucide",o),...c},[...l.map(([f,p])=>_.createElement(f,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(e,t)=>{const n=_.forwardRef(({className:r,...o},i)=>_.createElement(_B,{ref:i,iconNode:t,className:Tk(`lucide-${bB(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=st("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=st("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=st("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=st("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=st("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=st("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=st("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=st("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=st("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=st("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=st("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=st("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=st("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=st("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=st("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=st("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=st("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=st("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=st("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=st("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=st("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=st("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=st("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=st("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=st("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=st("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=st("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=st("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=st("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=st("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=st("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),lv="-",KB=e=>{const t=YB(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const c=l.split(lv);return c[0]===""&&c.length!==1&&c.shift(),jk(c,t)||GB(l)},getConflictingClassGroupIds:(l,c)=>{const u=n[l]||[];return c&&r[l]?[...u,...r[l]]:u}}},jk=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?jk(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(lv);return(l=t.validators.find(({validator:c})=>c(i)))==null?void 0:l.classGroupId},mb=/^\[(.+)\]$/,GB=e=>{if(mb.test(e)){const t=mb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},YB=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return QB(Object.entries(e.classGroups),n).forEach(([i,l])=>{Lg(l,r,i,t)}),r},Lg=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:gb(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(JB(o)){Lg(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,l])=>{Lg(l,gb(t,i),n,r)})})},gb=(e,t)=>{let n=e;return t.split(lv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},JB=e=>e.isThemeGetter,QB=(e,t)=>t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,c])=>[t+l,c])):i);return[n,o]}):e,XB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,l)=>{n.set(i,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return o(i,l),l},set(i,l){n.has(i)?n.set(i,l):o(i,l)}}},Ok="!",eF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length,l=c=>{const u=[];let f=0,p=0,h;for(let x=0;x<c.length;x++){let E=c[x];if(f===0){if(E===o&&(r||c.slice(x,x+i)===t)){u.push(c.slice(p,x)),p=x+i;continue}if(E==="/"){h=x;continue}}E==="["?f++:E==="]"&&f--}const w=u.length===0?c:c.substring(p),y=w.startsWith(Ok),b=y?w.substring(1):w,g=h&&h>p?h-p:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:g}};return n?c=>n({className:c,parseClassName:l}):l},tF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},nF=e=>({cache:XB(e.cacheSize),parseClassName:eF(e),...KB(e)}),rF=/\s+/,oF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],l=e.trim().split(rF);let c="";for(let u=l.length-1;u>=0;u-=1){const f=l[u],{modifiers:p,hasImportantModifier:h,baseClassName:w,maybePostfixModifierPosition:y}=n(f);let b=!!y,g=r(b?w.substring(0,y):w);if(!g){if(!b){c=f+(c.length>0?" "+c:c);continue}if(g=r(w),!g){c=f+(c.length>0?" "+c:c);continue}b=!1}const x=tF(p).join(":"),E=h?x+Ok:x,k=E+g;if(i.includes(k))continue;i.push(k);const C=o(g,b);for(let A=0;A<C.length;++A){const I=C[A];i.push(E+I)}c=f+(c.length>0?" "+c:c)}return c};function sF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Mk(t))&&(r&&(r+=" "),r+=n);return r}const Mk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Mk(e[r]))&&(n&&(n+=" "),n+=t);return n};function iF(e,...t){let n,r,o,i=l;function l(u){const f=t.reduce((p,h)=>h(p),e());return n=nF(f),r=n.cache.get,o=n.cache.set,i=c,c(u)}function c(u){const f=r(u);if(f)return f;const p=oF(u,n);return o(u,p),p}return function(){return i(sF.apply(null,arguments))}}const Et=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Lk=/^\[(?:([a-z-]+):)?(.+)\]$/i,aF=/^\d+\/\d+$/,lF=new Set(["px","full","screen"]),cF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,no=e=>sa(e)||lF.has(e)||aF.test(e),Ko=e=>Ba(e,"length",bF),sa=e=>!!e&&!Number.isNaN(Number(e)),om=e=>Ba(e,"number",sa),Dl=e=>!!e&&Number.isInteger(Number(e)),pF=e=>e.endsWith("%")&&sa(e.slice(0,-1)),tt=e=>Lk.test(e),Go=e=>cF.test(e),mF=new Set(["length","size","percentage"]),gF=e=>Ba(e,mF,Dk),yF=e=>Ba(e,"position",Dk),vF=new Set(["image","url"]),wF=e=>Ba(e,vF,_F),xF=e=>Ba(e,"",EF),zl=()=>!0,Ba=(e,t,n)=>{const r=Lk.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},bF=e=>uF.test(e)&&!dF.test(e),Dk=()=>!1,EF=e=>fF.test(e),_F=e=>hF.test(e),SF=()=>{const e=Et("colors"),t=Et("spacing"),n=Et("blur"),r=Et("brightness"),o=Et("borderColor"),i=Et("borderRadius"),l=Et("borderSpacing"),c=Et("borderWidth"),u=Et("contrast"),f=Et("grayscale"),p=Et("hueRotate"),h=Et("invert"),w=Et("gap"),y=Et("gradientColorStops"),b=Et("gradientColorStopPositions"),g=Et("inset"),x=Et("margin"),E=Et("opacity"),k=Et("padding"),C=Et("saturate"),A=Et("scale"),I=Et("sepia"),L=Et("skew"),z=Et("space"),$=Et("translate"),O=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",tt,t],M=()=>[tt,t],V=()=>["",no,Ko],P=()=>["auto",sa,tt],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",tt],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[sa,tt];return{cacheSize:500,separator:":",theme:{colors:[zl],spacing:[no,Ko],blur:["none","",Go,tt],brightness:D(),borderColor:[e],borderRadius:["none","","full",Go,tt],borderSpacing:M(),borderWidth:V(),contrast:D(),grayscale:q(),hueRotate:D(),invert:q(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[pF,Ko],inset:W(),margin:W(),opacity:D(),padding:M(),saturate:D(),scale:D(),sepia:q(),skew:D(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Go]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),tt]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dl,tt]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Dl,tt]}],"grid-cols":[{"grid-cols":[zl]}],"col-start-end":[{col:["auto",{span:["full",Dl,tt]},tt]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[zl]}],"row-start-end":[{row:["auto",{span:[Dl,tt]},tt]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,t]}],"min-w":[{"min-w":[tt,t,"min","max","fit"]}],"max-w":[{"max-w":[tt,t,"none","full","min","max","fit","prose",{screen:[Go]},Go]}],h:[{h:[tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Go,Ko]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",om]}],"font-family":[{font:[zl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",sa,om]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",no,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",no,Ko]}],"underline-offset":[{"underline-offset":["auto",no,tt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),yF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:X()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[no,tt]}],"outline-w":[{outline:[no,Ko]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[no,Ko]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Go,xF]}],"shadow-color":[{shadow:[zl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Go,tt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[h]}],saturate:[{saturate:[C]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Dl,tt]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[no,Ko,om]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kF=iF(SF);function Oe(...e){return kF(Nk(e))}const CF=xB,zk=_.forwardRef(({className:e,...t},n)=>m.jsx(xk,{ref:n,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));zk.displayName=xk.displayName;const NF=Pc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Bk=_.forwardRef(({className:e,variant:t,...n},r)=>m.jsx(bk,{ref:r,className:Oe(NF({variant:t}),e),...n}));Bk.displayName=bk.displayName;const TF=_.forwardRef(({className:e,...t},n)=>m.jsx(Sk,{ref:n,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));TF.displayName=Sk.displayName;const Fk=_.forwardRef(({className:e,...t},n)=>m.jsx(kk,{ref:n,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:m.jsx(Ik,{className:"h-4 w-4"})}));Fk.displayName=kk.displayName;const $k=_.forwardRef(({className:e,...t},n)=>m.jsx(Ek,{ref:n,className:Oe("text-sm font-semibold",e),...t}));$k.displayName=Ek.displayName;const Uk=_.forwardRef(({className:e,...t},n)=>m.jsx(_k,{ref:n,className:Oe("text-sm opacity-90",e),...t}));Uk.displayName=_k.displayName;function PF(){const{toasts:e}=kc();return m.jsxs(CF,{children:[e.map(function({id:t,title:n,description:r,action:o,...i}){return m.jsxs(Bk,{...i,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx($k,{children:n}),r&&m.jsx(Uk,{children:r})]}),o,m.jsx(Fk,{})]},t)}),m.jsx(zk,{})]})}var RF=uy[" useId ".trim().toString()]||(()=>{}),AF=0;function nr(e){const[t,n]=_.useState(RF());return Lt(()=>{n(r=>r??String(AF++))},[e]),t?`radix-${t}`:""}const IF=["top","right","bottom","left"],Es=Math.min,Dn=Math.max,Od=Math.round,rd=Math.floor,Hr=e=>({x:e,y:e}),jF={left:"right",right:"left",bottom:"top",top:"bottom"},OF={start:"end",end:"start"};function Dg(e,t,n){return Dn(e,Es(t,n))}function xo(e,t){return typeof e=="function"?e(t):e}function bo(e){return e.split("-")[0]}function Fa(e){return e.split("-")[1]}function cv(e){return e==="x"?"y":"x"}function uv(e){return e==="y"?"height":"width"}function go(e){return["top","bottom"].includes(bo(e))?"y":"x"}function dv(e){return cv(go(e))}function MF(e,t,n){n===void 0&&(n=!1);const r=Fa(e),o=dv(e),i=uv(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Md(l)),[l,Md(l)]}function LF(e){const t=Md(e);return[zg(e),t,zg(t)]}function zg(e){return e.replace(/start|end/g,t=>OF[t])}function DF(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:l;default:return[]}}function zF(e,t,n,r){const o=Fa(e);let i=DF(bo(e),n==="start",r);return o&&(i=i.map(l=>l+"-"+o),t&&(i=i.concat(i.map(zg)))),i}function Md(e){return e.replace(/left|right|bottom|top/g,t=>jF[t])}function BF(e){return{top:0,right:0,bottom:0,left:0,...e}}function Hk(e){return typeof e!="number"?BF(e):{top:e,right:e,bottom:e,left:e}}function Ld(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function yb(e,t,n){let{reference:r,floating:o}=e;const i=go(t),l=dv(t),c=uv(l),u=bo(t),f=i==="y",p=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,w=r[c]/2-o[c]/2;let y;switch(u){case"top":y={x:p,y:r.y-o.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-o.width,y:h};break;default:y={x:r.x,y:r.y}}switch(Fa(t)){case"start":y[l]-=w*(n&&f?-1:1);break;case"end":y[l]+=w*(n&&f?-1:1);break}return y}const FF=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:l}=n,c=i.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:h}=yb(f,r,u),w=r,y={},b=0;for(let g=0;g<c.length;g++){const{name:x,fn:E}=c[g],{x:k,y:C,data:A,reset:I}=await E({x:p,y:h,initialPlacement:r,placement:w,strategy:o,middlewareData:y,rects:f,platform:l,elements:{reference:e,floating:t}});p=k??p,h=C??h,y={...y,[x]:{...y[x],...A}},I&&b<=50&&(b++,typeof I=="object"&&(I.placement&&(w=I.placement),I.rects&&(f=I.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):I.rects),{x:p,y:h}=yb(f,w,u)),g=-1)}return{x:p,y:h,placement:w,strategy:o,middlewareData:y}};async function oc(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:l,elements:c,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:w=!1,padding:y=0}=xo(t,e),b=Hk(y),x=c[w?h==="floating"?"reference":"floating":h],E=Ld(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:u})),k=h==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),A=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},I=Ld(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:C,strategy:u}):k);return{top:(E.top-I.top+b.top)/A.y,bottom:(I.bottom-E.bottom+b.bottom)/A.y,left:(E.left-I.left+b.left)/A.x,right:(I.right-E.right+b.right)/A.x}}const $F=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:l,elements:c,middlewareData:u}=t,{element:f,padding:p=0}=xo(e,t)||{};if(f==null)return{};const h=Hk(p),w={x:n,y:r},y=dv(o),b=uv(y),g=await l.getDimensions(f),x=y==="y",E=x?"top":"left",k=x?"bottom":"right",C=x?"clientHeight":"clientWidth",A=i.reference[b]+i.reference[y]-w[y]-i.floating[b],I=w[y]-i.reference[y],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let z=L?L[C]:0;(!z||!await(l.isElement==null?void 0:l.isElement(L)))&&(z=c.floating[C]||i.floating[b]);const $=A/2-I/2,O=z/2-g[b]/2-1,B=Es(h[E],O),W=Es(h[k],O),M=B,V=z-g[b]-W,P=z/2-g[b]/2+$,U=Dg(M,P,V),X=!u.arrow&&Fa(o)!=null&&P!==U&&i.reference[b]/2-(P<M?B:W)-g[b]/2<0,J=X?P<M?P-M:P-V:0;return{[y]:w[y]+J,data:{[y]:U,centerOffset:P-U-J,...X&&{alignmentOffset:J}},reset:X}}}),UF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:l,initialPlacement:c,platform:u,elements:f}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:w,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...x}=xo(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=bo(o),k=go(c),C=bo(c)===c,A=await(u.isRTL==null?void 0:u.isRTL(f.floating)),I=w||(C||!g?[Md(c)]:LF(c)),L=b!=="none";!w&&L&&I.push(...zF(c,g,b,A));const z=[c,...I],$=await oc(t,x),O=[];let B=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&O.push($[E]),h){const U=MF(o,l,A);O.push($[U[0]],$[U[1]])}if(B=[...B,{placement:o,overflows:O}],!O.every(U=>U<=0)){var W,M;const U=(((W=i.flip)==null?void 0:W.index)||0)+1,X=z[U];if(X){var V;const ee=h==="alignment"?k!==go(X):!1,q=((V=B[0])==null?void 0:V.overflows[0])>0;if(!ee||q)return{data:{index:U,overflows:B},reset:{placement:X}}}let J=(M=B.filter(ee=>ee.overflows[0]<=0).sort((ee,q)=>ee.overflows[1]-q.overflows[1])[0])==null?void 0:M.placement;if(!J)switch(y){case"bestFit":{var P;const ee=(P=B.filter(q=>{if(L){const oe=go(q.placement);return oe===k||oe==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(oe=>oe>0).reduce((oe,D)=>oe+D,0)]).sort((q,oe)=>q[1]-oe[1])[0])==null?void 0:P[0];ee&&(J=ee);break}case"initialPlacement":J=c;break}if(o!==J)return{reset:{placement:J}}}return{}}}};function vb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function wb(e){return IF.some(t=>e[t]>=0)}const HF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=xo(e,t);switch(r){case"referenceHidden":{const i=await oc(t,{...o,elementContext:"reference"}),l=vb(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:wb(l)}}}case"escaped":{const i=await oc(t,{...o,altBoundary:!0}),l=vb(i,n.floating);return{data:{escapedOffsets:l,escaped:wb(l)}}}default:return{}}}}};async function WF(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=bo(n),c=Fa(n),u=go(n)==="y",f=["left","top"].includes(l)?-1:1,p=i&&u?-1:1,h=xo(t,e);let{mainAxis:w,crossAxis:y,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof b=="number"&&(y=c==="end"?b*-1:b),u?{x:y*p,y:w*f}:{x:w*f,y:y*p}}const VF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:l,middlewareData:c}=t,u=await WF(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:l}}}}},ZF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:x=>{let{x:E,y:k}=x;return{x:E,y:k}}},...u}=xo(e,t),f={x:n,y:r},p=await oc(t,u),h=go(bo(o)),w=cv(h);let y=f[w],b=f[h];if(i){const x=w==="y"?"top":"left",E=w==="y"?"bottom":"right",k=y+p[x],C=y-p[E];y=Dg(k,y,C)}if(l){const x=h==="y"?"top":"left",E=h==="y"?"bottom":"right",k=b+p[x],C=b-p[E];b=Dg(k,b,C)}const g=c.fn({...t,[w]:y,[h]:b});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[w]:i,[h]:l}}}}}},qF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:l}=t,{offset:c=0,mainAxis:u=!0,crossAxis:f=!0}=xo(e,t),p={x:n,y:r},h=go(o),w=cv(h);let y=p[w],b=p[h];const g=xo(c,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const C=w==="y"?"height":"width",A=i.reference[w]-i.floating[C]+x.mainAxis,I=i.reference[w]+i.reference[C]-x.mainAxis;y<A?y=A:y>I&&(y=I)}if(f){var E,k;const C=w==="y"?"width":"height",A=["top","left"].includes(bo(o)),I=i.reference[h]-i.floating[C]+(A&&((E=l.offset)==null?void 0:E[h])||0)+(A?0:x.crossAxis),L=i.reference[h]+i.reference[C]+(A?0:((k=l.offset)==null?void 0:k[h])||0)-(A?x.crossAxis:0);b<I?b=I:b>L&&(b=L)}return{[w]:y,[h]:b}}}},KF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:l,elements:c}=t,{apply:u=()=>{},...f}=xo(e,t),p=await oc(t,f),h=bo(o),w=Fa(o),y=go(o)==="y",{width:b,height:g}=i.floating;let x,E;h==="top"||h==="bottom"?(x=h,E=w===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(E=h,x=w==="end"?"top":"bottom");const k=g-p.top-p.bottom,C=b-p.left-p.right,A=Es(g-p[x],k),I=Es(b-p[E],C),L=!t.middlewareData.shift;let z=A,$=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(z=k),L&&!w){const B=Dn(p.left,0),W=Dn(p.right,0),M=Dn(p.top,0),V=Dn(p.bottom,0);y?$=b-2*(B!==0||W!==0?B+W:Dn(p.left,p.right)):z=g-2*(M!==0||V!==0?M+V:Dn(p.top,p.bottom))}await u({...t,availableWidth:$,availableHeight:z});const O=await l.getDimensions(c.floating);return b!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function Ef(){return typeof window<"u"}function $a(e){return Wk(e)?(e.nodeName||"").toLowerCase():"#document"}function Fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vr(e){var t;return(t=(Wk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Wk(e){return Ef()?e instanceof Node||e instanceof Fn(e).Node:!1}function Er(e){return Ef()?e instanceof Element||e instanceof Fn(e).Element:!1}function Wr(e){return Ef()?e instanceof HTMLElement||e instanceof Fn(e).HTMLElement:!1}function xb(e){return!Ef()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fn(e).ShadowRoot}function Rc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=_r(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function GF(e){return["table","td","th"].includes($a(e))}function _f(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function fv(e){const t=hv(),n=Er(e)?_r(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function YF(e){let t=_s(e);for(;Wr(t)&&!Pa(t);){if(fv(t))return t;if(_f(t))return null;t=_s(t)}return null}function hv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pa(e){return["html","body","#document"].includes($a(e))}function _r(e){return Fn(e).getComputedStyle(e)}function Sf(e){return Er(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _s(e){if($a(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xb(e)&&e.host||Vr(e);return xb(t)?t.host:t}function Vk(e){const t=_s(e);return Pa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wr(t)&&Rc(t)?t:Vk(t)}function sc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Vk(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=Fn(o);if(i){const c=Bg(l);return t.concat(l,l.visualViewport||[],Rc(o)?o:[],c&&n?sc(c):[])}return t.concat(o,sc(o,[],n))}function Bg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Zk(e){const t=_r(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Wr(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,c=Od(n)!==i||Od(r)!==l;return c&&(n=i,r=l),{width:n,height:r,$:c}}function pv(e){return Er(e)?e:e.contextElement}function ia(e){const t=pv(e);if(!Wr(t))return Hr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Zk(t);let l=(i?Od(n.width):n.width)/r,c=(i?Od(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const JF=Hr(0);function qk(e){const t=Fn(e);return!hv()||!t.visualViewport?JF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fn(e)?!1:t}function hi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=pv(e);let l=Hr(1);t&&(r?Er(r)&&(l=ia(r)):l=ia(e));const c=QF(i,n,r)?qk(i):Hr(0);let u=(o.left+c.x)/l.x,f=(o.top+c.y)/l.y,p=o.width/l.x,h=o.height/l.y;if(i){const w=Fn(i),y=r&&Er(r)?Fn(r):r;let b=w,g=Bg(b);for(;g&&r&&y!==b;){const x=ia(g),E=g.getBoundingClientRect(),k=_r(g),C=E.left+(g.clientLeft+parseFloat(k.paddingLeft))*x.x,A=E.top+(g.clientTop+parseFloat(k.paddingTop))*x.y;u*=x.x,f*=x.y,p*=x.x,h*=x.y,u+=C,f+=A,b=Fn(g),g=Bg(b)}}return Ld({width:p,height:h,x:u,y:f})}function mv(e,t){const n=Sf(e).scrollLeft;return t?t.left+n:hi(Vr(e)).left+n}function Kk(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:mv(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function XF(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",l=Vr(r),c=t?_f(t.floating):!1;if(r===l||c&&i)return n;let u={scrollLeft:0,scrollTop:0},f=Hr(1);const p=Hr(0),h=Wr(r);if((h||!h&&!i)&&(($a(r)!=="body"||Rc(l))&&(u=Sf(r)),Wr(r))){const y=hi(r);f=ia(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}const w=l&&!h&&!i?Kk(l,u,!0):Hr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+p.x+w.x,y:n.y*f.y-u.scrollTop*f.y+p.y+w.y}}function e$(e){return Array.from(e.getClientRects())}function t$(e){const t=Vr(e),n=Sf(e),r=e.ownerDocument.body,o=Dn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Dn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+mv(e);const c=-n.scrollTop;return _r(r).direction==="rtl"&&(l+=Dn(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:l,y:c}}function n$(e,t){const n=Fn(e),r=Vr(e),o=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,c=0,u=0;if(o){i=o.width,l=o.height;const f=hv();(!f||f&&t==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}return{width:i,height:l,x:c,y:u}}function r$(e,t){const n=hi(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Wr(e)?ia(e):Hr(1),l=e.clientWidth*i.x,c=e.clientHeight*i.y,u=o*i.x,f=r*i.y;return{width:l,height:c,x:u,y:f}}function bb(e,t,n){let r;if(t==="viewport")r=n$(e,n);else if(t==="document")r=t$(Vr(e));else if(Er(t))r=r$(t,n);else{const o=qk(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Ld(r)}function Gk(e,t){const n=_s(e);return n===t||!Er(n)||Pa(n)?!1:_r(n).position==="fixed"||Gk(n,t)}function o$(e,t){const n=t.get(e);if(n)return n;let r=sc(e,[],!1).filter(c=>Er(c)&&$a(c)!=="body"),o=null;const i=_r(e).position==="fixed";let l=i?_s(e):e;for(;Er(l)&&!Pa(l);){const c=_r(l),u=fv(l);!u&&c.position==="fixed"&&(o=null),(i?!u&&!o:!u&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Rc(l)&&!u&&Gk(e,l))?r=r.filter(p=>p!==l):o=c,l=_s(l)}return t.set(e,r),r}function s$(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const l=[...n==="clippingAncestors"?_f(t)?[]:o$(t,this._c):[].concat(n),r],c=l[0],u=l.reduce((f,p)=>{const h=bb(t,p,o);return f.top=Dn(h.top,f.top),f.right=Es(h.right,f.right),f.bottom=Es(h.bottom,f.bottom),f.left=Dn(h.left,f.left),f},bb(t,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function i$(e){const{width:t,height:n}=Zk(e);return{width:t,height:n}}function a$(e,t,n){const r=Wr(t),o=Vr(t),i=n==="fixed",l=hi(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const u=Hr(0);function f(){u.x=mv(o)}if(r||!r&&!i)if(($a(t)!=="body"||Rc(o))&&(c=Sf(t)),r){const y=hi(t,!0,i,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else o&&f();i&&!r&&o&&f();const p=o&&!r&&!i?Kk(o,c):Hr(0),h=l.left+c.scrollLeft-u.x-p.x,w=l.top+c.scrollTop-u.y-p.y;return{x:h,y:w,width:l.width,height:l.height}}function sm(e){return _r(e).position==="static"}function Eb(e,t){if(!Wr(e)||_r(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vr(e)===n&&(n=n.ownerDocument.body),n}function Yk(e,t){const n=Fn(e);if(_f(e))return n;if(!Wr(e)){let o=_s(e);for(;o&&!Pa(o);){if(Er(o)&&!sm(o))return o;o=_s(o)}return n}let r=Eb(e,t);for(;r&&GF(r)&&sm(r);)r=Eb(r,t);return r&&Pa(r)&&sm(r)&&!fv(r)?n:r||YF(e)||n}const l$=async function(e){const t=this.getOffsetParent||Yk,n=this.getDimensions,r=await n(e.floating);return{reference:a$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function c$(e){return _r(e).direction==="rtl"}const u$={convertOffsetParentRelativeRectToViewportRelativeRect:XF,getDocumentElement:Vr,getClippingRect:s$,getOffsetParent:Yk,getElementRects:l$,getClientRects:e$,getDimensions:i$,getScale:ia,isElement:Er,isRTL:c$};function Jk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function d$(e,t){let n=null,r;const o=Vr(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const f=e.getBoundingClientRect(),{left:p,top:h,width:w,height:y}=f;if(c||t(),!w||!y)return;const b=rd(h),g=rd(o.clientWidth-(p+w)),x=rd(o.clientHeight-(h+y)),E=rd(p),C={rootMargin:-b+"px "+-g+"px "+-x+"px "+-E+"px",threshold:Dn(0,Es(1,u))||1};let A=!0;function I(L){const z=L[0].intersectionRatio;if(z!==u){if(!A)return l();z?l(!1,z):r=setTimeout(()=>{l(!1,1e-7)},1e3)}z===1&&!Jk(f,e.getBoundingClientRect())&&l(),A=!1}try{n=new IntersectionObserver(I,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(I,C)}n.observe(e)}return l(!0),i}function f$(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=pv(e),p=o||i?[...f?sc(f):[],...sc(t)]:[];p.forEach(E=>{o&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const h=f&&c?d$(f,n):null;let w=-1,y=null;l&&(y=new ResizeObserver(E=>{let[k]=E;k&&k.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),n()}),f&&!u&&y.observe(f),y.observe(t));let b,g=u?hi(e):null;u&&x();function x(){const E=hi(e);g&&!Jk(g,E)&&n(),g=E,b=requestAnimationFrame(x)}return n(),()=>{var E;p.forEach(k=>{o&&k.removeEventListener("scroll",n),i&&k.removeEventListener("resize",n)}),h==null||h(),(E=y)==null||E.disconnect(),y=null,u&&cancelAnimationFrame(b)}}const h$=VF,p$=ZF,m$=UF,g$=KF,y$=HF,_b=$F,v$=qF,w$=(e,t,n)=>{const r=new Map,o={platform:u$,...n},i={...o.platform,_c:r};return FF(e,t,{...o,platform:i})};var gd=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Dd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Dd(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Dd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Qk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Sb(e,t){const n=Qk(e);return Math.round(t*n)/n}function im(e){const t=_.useRef(e);return gd(()=>{t.current=e}),t}function x$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:u,open:f}=e,[p,h]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,y]=_.useState(r);Dd(w,r)||y(r);const[b,g]=_.useState(null),[x,E]=_.useState(null),k=_.useCallback(ee=>{ee!==L.current&&(L.current=ee,g(ee))},[]),C=_.useCallback(ee=>{ee!==z.current&&(z.current=ee,E(ee))},[]),A=i||b,I=l||x,L=_.useRef(null),z=_.useRef(null),$=_.useRef(p),O=u!=null,B=im(u),W=im(o),M=im(f),V=_.useCallback(()=>{if(!L.current||!z.current)return;const ee={placement:t,strategy:n,middleware:w};W.current&&(ee.platform=W.current),w$(L.current,z.current,ee).then(q=>{const oe={...q,isPositioned:M.current!==!1};P.current&&!Dd($.current,oe)&&($.current=oe,Da.flushSync(()=>{h(oe)}))})},[w,t,n,W,M]);gd(()=>{f===!1&&$.current.isPositioned&&($.current.isPositioned=!1,h(ee=>({...ee,isPositioned:!1})))},[f]);const P=_.useRef(!1);gd(()=>(P.current=!0,()=>{P.current=!1}),[]),gd(()=>{if(A&&(L.current=A),I&&(z.current=I),A&&I){if(B.current)return B.current(A,I,V);V()}},[A,I,V,B,O]);const U=_.useMemo(()=>({reference:L,floating:z,setReference:k,setFloating:C}),[k,C]),X=_.useMemo(()=>({reference:A,floating:I}),[A,I]),J=_.useMemo(()=>{const ee={position:n,left:0,top:0};if(!X.floating)return ee;const q=Sb(X.floating,p.x),oe=Sb(X.floating,p.y);return c?{...ee,transform:"translate("+q+"px, "+oe+"px)",...Qk(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:oe}},[n,c,X.floating,p.x,p.y]);return _.useMemo(()=>({...p,update:V,refs:U,elements:X,floatingStyles:J}),[p,V,U,X,J])}const b$=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?_b({element:r.current,padding:o}).fn(n):{}:r?_b({element:r,padding:o}).fn(n):{}}}},E$=(e,t)=>({...h$(e),options:[e,t]}),_$=(e,t)=>({...p$(e),options:[e,t]}),S$=(e,t)=>({...v$(e),options:[e,t]}),k$=(e,t)=>({...m$(e),options:[e,t]}),C$=(e,t)=>({...g$(e),options:[e,t]}),N$=(e,t)=>({...y$(e),options:[e,t]}),T$=(e,t)=>({...b$(e),options:[e,t]});var P$="Arrow",Xk=_.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return m.jsx(ze.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});Xk.displayName=P$;var R$=Xk;function gv(e){const[t,n]=_.useState(void 0);return Lt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let l,c;if("borderBoxSize"in i){const u=i.borderBoxSize,f=Array.isArray(u)?u[0]:u;l=f.inlineSize,c=f.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var yv="Popper",[eC,Ua]=un(yv),[A$,tC]=eC(yv),nC=e=>{const{__scopePopper:t,children:n}=e,[r,o]=_.useState(null);return m.jsx(A$,{scope:t,anchor:r,onAnchorChange:o,children:n})};nC.displayName=yv;var rC="PopperAnchor",oC=_.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=tC(rC,n),l=_.useRef(null),c=Qe(t,l);return _.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:m.jsx(ze.div,{...o,ref:c})});oC.displayName=rC;var vv="PopperContent",[I$,j$]=eC(vv),sC=_.forwardRef((e,t)=>{var we,xe,Se,Ie,Ue,qe;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:h="partial",hideWhenDetached:w=!1,updatePositionStrategy:y="optimized",onPlaced:b,...g}=e,x=tC(vv,n),[E,k]=_.useState(null),C=Qe(t,Ye=>k(Ye)),[A,I]=_.useState(null),L=gv(A),z=(L==null?void 0:L.width)??0,$=(L==null?void 0:L.height)??0,O=r+(i!=="center"?"-"+i:""),B=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},W=Array.isArray(f)?f:[f],M=W.length>0,V={padding:B,boundary:W.filter(M$),altBoundary:M},{refs:P,floatingStyles:U,placement:X,isPositioned:J,middlewareData:ee}=x$({strategy:"fixed",placement:O,whileElementsMounted:(...Ye)=>f$(...Ye,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[E$({mainAxis:o+$,alignmentAxis:l}),u&&_$({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?S$():void 0,...V}),u&&k$({...V}),C$({...V,apply:({elements:Ye,rects:j,availableWidth:ye,availableHeight:de})=>{const{width:Y,height:G}=j.reference,ie=Ye.floating.style;ie.setProperty("--radix-popper-available-width",`${ye}px`),ie.setProperty("--radix-popper-available-height",`${de}px`),ie.setProperty("--radix-popper-anchor-width",`${Y}px`),ie.setProperty("--radix-popper-anchor-height",`${G}px`)}}),A&&T$({element:A,padding:c}),L$({arrowWidth:z,arrowHeight:$}),w&&N$({strategy:"referenceHidden",...V})]}),[q,oe]=lC(X),D=Ot(b);Lt(()=>{J&&(D==null||D())},[J,D]);const Z=(we=ee.arrow)==null?void 0:we.x,ge=(xe=ee.arrow)==null?void 0:xe.y,pe=((Se=ee.arrow)==null?void 0:Se.centerOffset)!==0,[me,Ae]=_.useState();return Lt(()=>{E&&Ae(window.getComputedStyle(E).zIndex)},[E]),m.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:J?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(Ie=ee.transformOrigin)==null?void 0:Ie.x,(Ue=ee.transformOrigin)==null?void 0:Ue.y].join(" "),...((qe=ee.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:m.jsx(I$,{scope:n,placedSide:q,onArrowChange:I,arrowX:Z,arrowY:ge,shouldHideArrow:pe,children:m.jsx(ze.div,{"data-side":q,"data-align":oe,...g,ref:C,style:{...g.style,animation:J?void 0:"none"}})})})});sC.displayName=vv;var iC="PopperArrow",O$={top:"bottom",right:"left",bottom:"top",left:"right"},aC=_.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=j$(iC,r),l=O$[i.placedSide];return m.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:m.jsx(R$,{...o,ref:n,style:{...o.style,display:"block"}})})});aC.displayName=iC;function M$(e){return e!==null}var L$=e=>({name:"transformOrigin",options:e,fn(t){var x,E,k;const{placement:n,rects:r,middlewareData:o}=t,l=((x=o.arrow)==null?void 0:x.centerOffset)!==0,c=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[f,p]=lC(n),h={start:"0%",center:"50%",end:"100%"}[p],w=(((E=o.arrow)==null?void 0:E.x)??0)+c/2,y=(((k=o.arrow)==null?void 0:k.y)??0)+u/2;let b="",g="";return f==="bottom"?(b=l?h:`${w}px`,g=`${-u}px`):f==="top"?(b=l?h:`${w}px`,g=`${r.floating.height+u}px`):f==="right"?(b=`${-u}px`,g=l?h:`${y}px`):f==="left"&&(b=`${r.floating.width+u}px`,g=l?h:`${y}px`),{data:{x:b,y:g}}}});function lC(e){const[t,n="center"]=e.split("-");return[t,n]}var wv=nC,xv=oC,bv=sC,Ev=aC,[kf,Hq]=un("Tooltip",[Ua]),Cf=Ua(),cC="TooltipProvider",D$=700,Fg="tooltip.open",[z$,_v]=kf(cC),uC=e=>{const{__scopeTooltip:t,delayDuration:n=D$,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,l=_.useRef(!0),c=_.useRef(!1),u=_.useRef(0);return _.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),m.jsx(z$,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:_.useCallback(f=>{c.current=f},[]),disableHoverableContent:o,children:i})};uC.displayName=cC;var ic="Tooltip",[B$,Nf]=kf(ic),dC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o,onOpenChange:i,disableHoverableContent:l,delayDuration:c}=e,u=_v(ic,e.__scopeTooltip),f=Cf(t),[p,h]=_.useState(null),w=nr(),y=_.useRef(0),b=l??u.disableHoverableContent,g=c??u.delayDuration,x=_.useRef(!1),[E,k]=br({prop:r,defaultProp:o??!1,onChange:z=>{z?(u.onOpen(),document.dispatchEvent(new CustomEvent(Fg))):u.onClose(),i==null||i(z)},caller:ic}),C=_.useMemo(()=>E?x.current?"delayed-open":"instant-open":"closed",[E]),A=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,x.current=!1,k(!0)},[k]),I=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,k(!1)},[k]),L=_.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{x.current=!0,k(!0),y.current=0},g)},[g,k]);return _.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),m.jsx(wv,{...f,children:m.jsx(B$,{scope:t,contentId:w,open:E,stateAttribute:C,trigger:p,onTriggerChange:h,onTriggerEnter:_.useCallback(()=>{u.isOpenDelayedRef.current?L():A()},[u.isOpenDelayedRef,L,A]),onTriggerLeave:_.useCallback(()=>{b?I():(window.clearTimeout(y.current),y.current=0)},[I,b]),onOpen:A,onClose:I,disableHoverableContent:b,children:n})})};dC.displayName=ic;var $g="TooltipTrigger",fC=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Nf($g,n),i=_v($g,n),l=Cf(n),c=_.useRef(null),u=Qe(t,c,o.onTriggerChange),f=_.useRef(!1),p=_.useRef(!1),h=_.useCallback(()=>f.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),m.jsx(xv,{asChild:!0,...l,children:m.jsx(ze.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:u,onPointerMove:Pe(e.onPointerMove,w=>{w.pointerType!=="touch"&&!p.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),p.current=!0)}),onPointerLeave:Pe(e.onPointerLeave,()=>{o.onTriggerLeave(),p.current=!1}),onPointerDown:Pe(e.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Pe(e.onFocus,()=>{f.current||o.onOpen()}),onBlur:Pe(e.onBlur,o.onClose),onClick:Pe(e.onClick,o.onClose)})})});fC.displayName=$g;var F$="TooltipPortal",[Wq,$$]=kf(F$,{forceMount:void 0}),Ra="TooltipContent",hC=_.forwardRef((e,t)=>{const n=$$(Ra,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,l=Nf(Ra,e.__scopeTooltip);return m.jsx(dn,{present:r||l.open,children:l.disableHoverableContent?m.jsx(pC,{side:o,...i,ref:t}):m.jsx(U$,{side:o,...i,ref:t})})}),U$=_.forwardRef((e,t)=>{const n=Nf(Ra,e.__scopeTooltip),r=_v(Ra,e.__scopeTooltip),o=_.useRef(null),i=Qe(t,o),[l,c]=_.useState(null),{trigger:u,onClose:f}=n,p=o.current,{onPointerInTransitChange:h}=r,w=_.useCallback(()=>{c(null),h(!1)},[h]),y=_.useCallback((b,g)=>{const x=b.currentTarget,E={x:b.clientX,y:b.clientY},k=q$(E,x.getBoundingClientRect()),C=K$(E,k),A=G$(g.getBoundingClientRect()),I=J$([...C,...A]);c(I),h(!0)},[h]);return _.useEffect(()=>()=>w(),[w]),_.useEffect(()=>{if(u&&p){const b=x=>y(x,p),g=x=>y(x,u);return u.addEventListener("pointerleave",b),p.addEventListener("pointerleave",g),()=>{u.removeEventListener("pointerleave",b),p.removeEventListener("pointerleave",g)}}},[u,p,y,w]),_.useEffect(()=>{if(l){const b=g=>{const x=g.target,E={x:g.clientX,y:g.clientY},k=(u==null?void 0:u.contains(x))||(p==null?void 0:p.contains(x)),C=!Y$(E,l);k?w():C&&(w(),f())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[u,p,l,f,w]),m.jsx(pC,{...e,ref:i})}),[H$,W$]=kf(ic,{isInside:!1}),V$=Oz("TooltipContent"),pC=_.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:l,...c}=e,u=Nf(Ra,n),f=Cf(n),{onClose:p}=u;return _.useEffect(()=>(document.addEventListener(Fg,p),()=>document.removeEventListener(Fg,p)),[p]),_.useEffect(()=>{if(u.trigger){const h=w=>{const y=w.target;y!=null&&y.contains(u.trigger)&&p()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,p]),m.jsx(za,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:h=>h.preventDefault(),onDismiss:p,children:m.jsxs(bv,{"data-state":u.stateAttribute,...f,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(V$,{children:r}),m.jsx(H$,{scope:n,isInside:!0,children:m.jsx(nB,{id:u.contentId,role:"tooltip",children:o||r})})]})})});hC.displayName=Ra;var mC="TooltipArrow",Z$=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Cf(n);return W$(mC,n).isInside?null:m.jsx(Ev,{...o,...r,ref:t})});Z$.displayName=mC;function q$(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function K$(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function G$(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function Y$(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const c=t[i],u=t[l],f=c.x,p=c.y,h=u.x,w=u.y;p>r!=w>r&&n<(h-f)*(r-p)/(w-p)+f&&(o=!o)}return o}function J$(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Q$(t)}function Q$(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(o.y-l.y)>=(i.y-l.y)*(o.x-l.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(o.y-l.y)>=(i.y-l.y)*(o.x-l.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var X$=uC,eU=dC,tU=fC,gC=hC;const ai=X$,Ks=eU,Gs=tU,ps=_.forwardRef(({className:e,sideOffset:t=4,...n},r)=>m.jsx(gC,{ref:r,sideOffset:t,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));ps.displayName=gC.displayName;function Ug(e,t,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,o=(n==null?void 0:n.deserialize)||JSON.parse,[i,l]=_.useState(()=>{try{const u=localStorage.getItem(e);return u?o(u):t}catch(u){return console.warn(`Failed to load ${e} from localStorage:`,u),t}}),c=u=>{try{const f=u instanceof Function?u(i):u;l(f),localStorage.setItem(e,r(f))}catch(f){console.warn(`Failed to save ${e} to localStorage:`,f)}};return _.useEffect(()=>{const u=f=>{if(f.key===e&&f.newValue!==null)try{l(o(f.newValue))}catch(p){console.warn(`Failed to sync ${e} from localStorage:`,p)}};return window.addEventListener("storage",u),()=>window.removeEventListener("storage",u)},[e,o]),[i,c]}const nU=mo({relays:HS(mo({url:Hl(),read:oi(),write:oi()})),updatedAt:so()}),rU=mo({theme:VS(["dark","light","system"]),relayMetadata:nU});function oU(e){const{children:t,storageKey:n,defaultConfig:r}=e,[o,i]=Ug(n,{},{serialize:JSON.stringify,deserialize:f=>{const p=JSON.parse(f);return rU.partial().parse(p)}}),l=f=>{i(f)},c={...r,...o},u={config:c,updateConfig:l};return sU(c.theme),m.jsx(ek.Provider,{value:u,children:t})}function sU(e){_.useEffect(()=>{const t=window.document.documentElement;if(t.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(n);return}t.classList.add(e)},[e]),_.useEffect(()=>{if(e!=="system")return;const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{const r=window.document.documentElement;r.classList.remove("light","dark");const o=t.matches?"dark":"light";r.classList.add(o)};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[e])}var kb,am,iU=(kb=function(e,t){function n(O){if(!Number.isSafeInteger(O))throw new Error(`Wrong integer: ${O}`)}function r(...O){const B=(W,M)=>V=>W(M(V));return{encode:Array.from(O).reverse().reduce((W,M)=>W?B(W,M.encode):M.encode,void 0),decode:O.reduce((W,M)=>W?B(W,M.decode):M.decode,void 0)}}function o(O){return{encode:B=>{if(!Array.isArray(B)||B.length&&typeof B[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return B.map(W=>{if(n(W),W<0||W>=O.length)throw new Error(`Digit index outside alphabet: ${W} (alphabet: ${O.length})`);return O[W]})},decode:B=>{if(!Array.isArray(B)||B.length&&typeof B[0]!="string")throw new Error("alphabet.decode input should be array of strings");return B.map(W=>{if(typeof W!="string")throw new Error(`alphabet.decode: not string element=${W}`);const M=O.indexOf(W);if(M===-1)throw new Error(`Unknown letter: "${W}". Allowed: ${O}`);return M})}}}function i(O=""){if(typeof O!="string")throw new Error("join separator should be string");return{encode:B=>{if(!Array.isArray(B)||B.length&&typeof B[0]!="string")throw new Error("join.encode input should be array of strings");for(let W of B)if(typeof W!="string")throw new Error(`join.encode: non-string input=${W}`);return B.join(O)},decode:B=>{if(typeof B!="string")throw new Error("join.decode input should be string");return B.split(O)}}}function l(O,B="="){if(n(O),typeof B!="string")throw new Error("padding chr should be string");return{encode(W){if(!Array.isArray(W)||W.length&&typeof W[0]!="string")throw new Error("padding.encode input should be array of strings");for(let M of W)if(typeof M!="string")throw new Error(`padding.encode: non-string input=${M}`);for(;W.length*O%8;)W.push(B);return W},decode(W){if(!Array.isArray(W)||W.length&&typeof W[0]!="string")throw new Error("padding.encode input should be array of strings");for(let V of W)if(typeof V!="string")throw new Error(`padding.decode: non-string input=${V}`);let M=W.length;if(M*O%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;M>0&&W[M-1]===B;M--)if(!((M-1)*O%8))throw new Error("Invalid padding: string has too much padding");return W.slice(0,M)}}}function c(O){if(typeof O!="function")throw new Error("normalize fn should be function");return{encode:B=>B,decode:B=>O(B)}}function u(O,B,W){if(B<2)throw new Error(`convertRadix: wrong from=${B}, base cannot be less than 2`);if(W<2)throw new Error(`convertRadix: wrong to=${W}, base cannot be less than 2`);if(!Array.isArray(O))throw new Error("convertRadix: data should be array");if(!O.length)return[];let M=0;const V=[],P=Array.from(O);for(P.forEach(U=>{if(n(U),U<0||U>=B)throw new Error(`Wrong integer: ${U}`)});;){let U=0,X=!0;for(let J=M;J<P.length;J++){const ee=P[J],q=B*U+ee;if(!Number.isSafeInteger(q)||B*U/B!==U||q-ee!=B*U)throw new Error("convertRadix: carry overflow");if(U=q%W,P[J]=Math.floor(q/W),!Number.isSafeInteger(P[J])||P[J]*W+U!==q)throw new Error("convertRadix: carry overflow");X&&(P[J]?X=!1:M=J)}if(V.push(U),X)break}for(let U=0;U<O.length-1&&O[U]===0;U++)V.push(0);return V.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const f=(O,B)=>B?f(B,O%B):O,p=(O,B)=>O+(B-f(O,B));function h(O,B,W,M){if(!Array.isArray(O))throw new Error("convertRadix2: data should be array");if(B<=0||B>32)throw new Error(`convertRadix2: wrong from=${B}`);if(W<=0||W>32)throw new Error(`convertRadix2: wrong to=${W}`);if(p(B,W)>32)throw new Error(`convertRadix2: carry overflow from=${B} to=${W} carryBits=${p(B,W)}`);let V=0,P=0;const U=2**W-1,X=[];for(const J of O){if(n(J),J>=2**B)throw new Error(`convertRadix2: invalid data word=${J} from=${B}`);if(V=V<<B|J,P+B>32)throw new Error(`convertRadix2: carry overflow pos=${P} from=${B}`);for(P+=B;P>=W;P-=W)X.push((V>>P-W&U)>>>0);V&=2**P-1}if(V=V<<W-P&U,!M&&P>=B)throw new Error("Excess padding");if(!M&&V)throw new Error(`Non-zero padding: ${V}`);return M&&P>0&&X.push(V>>>0),X}function w(O){return n(O),{encode:B=>{if(!(B instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(B),256,O)},decode:B=>{if(!Array.isArray(B)||B.length&&typeof B[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(u(B,O,256))}}}function y(O,B=!1){if(n(O),O<=0||O>32)throw new Error("radix2: bits should be in (0..32]");if(p(8,O)>32||p(O,8)>32)throw new Error("radix2: carry overflow");return{encode:W=>{if(!(W instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(W),8,O,!B)},decode:W=>{if(!Array.isArray(W)||W.length&&typeof W[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(h(W,O,8,B))}}}function b(O){if(typeof O!="function")throw new Error("unsafeWrapper fn should be function");return function(...B){try{return O.apply(null,B)}catch{}}}function g(O,B){if(n(O),typeof B!="function")throw new Error("checksum fn should be function");return{encode(W){if(!(W instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const M=B(W).slice(0,O),V=new Uint8Array(W.length+O);return V.set(W),V.set(M,W.length),V},decode(W){if(!(W instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const M=W.slice(0,-O),V=B(M).slice(0,O),P=W.slice(-O);for(let U=0;U<O;U++)if(V[U]!==P[U])throw new Error("Invalid checksum");return M}}}t.utils={alphabet:o,chain:r,checksum:g,radix:w,radix2:y,join:i,padding:l},t.base16=r(y(4),o("0123456789ABCDEF"),i("")),t.base32=r(y(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),l(5),i("")),t.base32hex=r(y(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),l(5),i("")),t.base32crockford=r(y(5),o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),c(O=>O.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=r(y(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),l(6),i("")),t.base64url=r(y(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),l(6),i(""));const x=O=>r(w(58),o(O),i(""));t.base58=x("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=x("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=x("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const E=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(O){let B="";for(let W=0;W<O.length;W+=8){const M=O.subarray(W,W+8);B+=t.base58.encode(M).padStart(E[M.length],"1")}return B},decode(O){let B=[];for(let W=0;W<O.length;W+=11){const M=O.slice(W,W+11),V=E.indexOf(M.length),P=t.base58.decode(M);for(let U=0;U<P.length-V;U++)if(P[U]!==0)throw new Error("base58xmr: wrong padding");B=B.concat(Array.from(P.slice(P.length-V)))}return Uint8Array.from(B)}},t.base58check=O=>r(g(4,B=>O(O(B))),t.base58);const k=r(o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),C=[996825010,642813549,513874426,1027748829,705979059];function A(O){const B=O>>25;let W=(33554431&O)<<5;for(let M=0;M<C.length;M++)(B>>M&1)==1&&(W^=C[M]);return W}function I(O,B,W=1){const M=O.length;let V=1;for(let P=0;P<M;P++){const U=O.charCodeAt(P);if(U<33||U>126)throw new Error(`Invalid prefix (${O})`);V=A(V)^U>>5}V=A(V);for(let P=0;P<M;P++)V=A(V)^31&O.charCodeAt(P);for(let P of B)V=A(V)^P;for(let P=0;P<6;P++)V=A(V);return V^=W,k.encode(h([V%2**30],30,5,!1))}function L(O){const B=O==="bech32"?1:734539939,W=y(5),M=W.decode,V=W.encode,P=b(M);function U(X,J=90){if(typeof X!="string")throw new Error("bech32.decode input should be string, not "+typeof X);if(X.length<8||J!==!1&&X.length>J)throw new TypeError(`Wrong string length: ${X.length} (${X}). Expected (8..${J})`);const ee=X.toLowerCase();if(X!==ee&&X!==X.toUpperCase())throw new Error("String must be lowercase or uppercase");const q=(X=ee).lastIndexOf("1");if(q===0||q===-1)throw new Error('Letter "1" must be present between prefix and data only');const oe=X.slice(0,q),D=X.slice(q+1);if(D.length<6)throw new Error("Data must be at least 6 characters long");const Z=k.decode(D).slice(0,-6),ge=I(oe,Z,B);if(!D.endsWith(ge))throw new Error(`Invalid checksum in ${X}: expected "${ge}"`);return{prefix:oe,words:Z}}return{encode:function(X,J,ee=90){if(typeof X!="string")throw new Error("bech32.encode prefix should be string, not "+typeof X);if(!Array.isArray(J)||J.length&&typeof J[0]!="number")throw new Error("bech32.encode words should be array of numbers, not "+typeof J);const q=X.length+7+J.length;if(ee!==!1&&q>ee)throw new TypeError(`Length ${q} exceeds limit ${ee}`);return`${X=X.toLowerCase()}1${k.encode(J)}${I(X,J,B)}`},decode:U,decodeToBytes:function(X){const{prefix:J,words:ee}=U(X,!1);return{prefix:J,words:ee,bytes:M(ee)}},decodeUnsafe:b(U),fromWords:M,fromWordsUnsafe:P,toWords:V}}t.bech32=L("bech32"),t.bech32m=L("bech32m"),t.utf8={encode:O=>new TextDecoder().decode(O),decode:O=>new TextEncoder().encode(O)},t.hex=r(y(4),o("0123456789abcdef"),i(""),c(O=>{if(typeof O!="string"||O.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof O} with length ${O.length}`);return O.toLowerCase()}));const z={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},$=`Invalid encoding type. Available types: ${Object.keys(z).join(", ")}`;t.bytesToString=(O,B)=>{if(typeof O!="string"||!z.hasOwnProperty(O))throw new TypeError($);if(!(B instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return z[O].encode(B)},t.str=t.bytesToString,t.stringToBytes=(O,B)=>{if(!z.hasOwnProperty(O))throw new TypeError($);if(typeof B!="string")throw new TypeError("stringToBytes() expects string");return z[O].decode(B)},t.bytes=t.stringToBytes},kb(am={exports:{}},am.exports),am.exports);const{bech32:Mr,hex:pr,utf8:aU}=iU,Cb={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},Nb={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Tb={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Pb={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Rb={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},od=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],lU={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},cU=BigInt("2100000000000000000"),Ab=BigInt(1e11),Hg={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},yC={};for(let e=0,t=Object.keys(Hg);e<t.length;e++){const n=t[e],r=Hg[t[e]].toString();yC[r]=n}const uU={1:e=>pr.encode(Mr.fromWordsUnsafe(e)),16:e=>pr.encode(Mr.fromWordsUnsafe(e)),13:e=>aU.encode(Mr.fromWordsUnsafe(e)),19:e=>pr.encode(Mr.fromWordsUnsafe(e)),23:e=>pr.encode(Mr.fromWordsUnsafe(e)),27:e=>pr.encode(Mr.fromWordsUnsafe(e)),6:zd,24:zd,3:function(e){const t=[];let n,r,o,i,l,c=Mr.fromWordsUnsafe(e);for(;c.length>0;)n=pr.encode(c.slice(0,33)),r=pr.encode(c.slice(33,41)),o=parseInt(pr.encode(c.slice(41,45)),16),i=parseInt(pr.encode(c.slice(45,49)),16),l=parseInt(pr.encode(c.slice(49,51)),16),c=c.slice(51),t.push({pubkey:n,short_channel_id:r,fee_base_msat:o,fee_proportional_millionths:i,cltv_expiry_delta:l});return t},5:function(e){const t=e.slice().reverse().map(o=>[!!(1&o),!!(2&o),!!(4&o),!!(8&o),!!(16&o)]).reduce((o,i)=>o.concat(i),[]);for(;t.length<2*od.length;)t.push(!1);const n={};od.forEach((o,i)=>{let l;l=t[2*i]?"required":t[2*i+1]?"supported":"unsupported",n[o]=l});const r=t.slice(2*od.length);return n.extra_bits={start_bit:2*od.length,bits:r,has_required:r.reduce((o,i,l)=>l%2!=0?o||!1:o||i,!1)},n}};function dU(e){return t=>({tagCode:parseInt(e),words:Mr.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function zd(e){return e.reverse().reduce((t,n,r)=>t+n*Math.pow(32,r),0)}const fU=e=>Uint8Array.from(e.match(/.{1,2}/g).map(t=>parseInt(t,16))),hU=e=>{if(!e)return null;try{const t=function(h,w){if(typeof h!="string")throw new Error("Lightning Payment Request must be string");if(h.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const y=[],b=Mr.decode(h,Number.MAX_SAFE_INTEGER);h=h.toLowerCase();const g=b.prefix;let x=b.words,E=h.slice(g.length+1),k=x.slice(-104);x=x.slice(0,-104);let C=g.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(C&&!C[2]&&(C=g.match(/^ln(\S+)$/)),!C)throw new Error("Not a proper lightning payment request");y.push({name:"lightning_network",letters:"ln"});const A=C[1];let I;switch(A){case Cb.bech32:I=Cb;break;case Nb.bech32:I=Nb;break;case Tb.bech32:I=Tb;break;case Pb.bech32:I=Pb;break;case Rb.bech32:I=Rb}if(!I||I.bech32!==A)throw new Error("Unknown coin bech32 prefix");y.push({name:"coin_network",letters:A,value:I});const L=C[2];let z;L?(z=function(U,X){let J,ee;if(U.slice(-1).match(/^[munp]$/))J=U.slice(-1),ee=U.slice(0,-1);else{if(U.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");ee=U}if(!ee.match(/^\d+$/))throw new Error("Not a valid human readable amount");const q=BigInt(ee),oe=J?q*Ab/lU[J]:q*Ab;if(J==="p"&&q%BigInt(10)!==BigInt(0)||oe>cU)throw new Error("Amount is outside of valid range");return oe.toString()}(L+C[3]),y.push({name:"amount",letters:C[2]+C[3],value:z})):z=null,y.push({name:"separator",letters:"1"});const $=zd(x.slice(0,7));let O,B,W,M;for(x=x.slice(7),y.push({name:"timestamp",letters:E.slice(0,7),value:$}),E=E.slice(7);x.length>0;){const U=x[0].toString();O=yC[U]||"unknown_tag",B=uU[U]||dU(U),x=x.slice(1),W=zd(x.slice(0,2)),x=x.slice(2),M=x.slice(0,W),x=x.slice(W),y.push({name:O,tag:E[0],letters:E.slice(0,3+W),value:B(M)}),E=E.slice(3+W)}y.push({name:"signature",letters:E.slice(0,104),value:pr.encode(Mr.fromWordsUnsafe(k))}),E=E.slice(104),y.push({name:"checksum",letters:E});let V={paymentRequest:h,sections:y,get expiry(){let U=y.find(X=>X.name==="expiry");if(U)return P("timestamp")+U.value},get route_hints(){return y.filter(U=>U.name==="route_hint").map(U=>U.value)}};for(let U in Hg)U!=="route_hint"&&Object.defineProperty(V,U,{get:()=>P(U)});return V;function P(U){let X=y.find(J=>J.name===U);return X?X.value:void 0}}(e);if(!t||!t.sections)return null;const n=t.sections.find(h=>h.name==="payment_hash");if((n==null?void 0:n.name)!=="payment_hash"||!n.value)return null;const r=n.value;let o=0;const i=t.sections.find(h=>h.name==="amount");(i==null?void 0:i.name)==="amount"&&i.value&&(o=parseInt(i.value)/1e3);const l=t.sections.find(h=>h.name==="timestamp");if((l==null?void 0:l.name)!=="timestamp"||!l.value)return null;const c=l.value;let u;const f=t.sections.find(h=>h.name==="expiry");(f==null?void 0:f.name)==="expiry"&&(u=f.value);const p=t.sections.find(h=>h.name==="description");return{paymentHash:r,satoshi:o,timestamp:c,expiry:u,description:(p==null?void 0:p.name)==="description"?p==null?void 0:p.value:void 0}}catch{return null}};function Ib(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const vC=e=>e instanceof Uint8Array,lm=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ir=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const pU=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Bd(e){if(!vC(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=pU[e[n]];return t}function wC(e){if(typeof e=="string"&&(e=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(e)),!vC(e))throw new Error("expected Uint8Array, got "+typeof e);return e}let mU=class{clone(){return this._cloneInto()}};function gU(e){const t=r=>e().update(wC(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class yU extends mU{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=lm(this.buffer)}update(t){Ib(this);const{view:n,buffer:r,blockLen:o}=this,i=(t=wC(t)).length;for(let l=0;l<i;){const c=Math.min(o-this.pos,i-l);if(c!==o)r.set(t.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===o&&(this.process(n,0),this.pos=0);else{const u=lm(t);for(;o<=i-l;l+=o)this.process(u,l)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ib(this),function(h,w){(function(b,...g){if(!(b instanceof Uint8Array))throw new Error("Expected Uint8Array");if(g.length>0&&!g.includes(b.length))throw new Error(`Expected Uint8Array of length ${g}, not of length=${b.length}`)})(h);const y=w.outputLen;if(h.length<y)throw new Error(`digestInto() expects output buffer of length at least ${y}`)}(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>o-l&&(this.process(r,0),l=0);for(let h=l;h<o;h++)n[h]=0;(function(h,w,y,b){if(typeof h.setBigUint64=="function")return h.setBigUint64(w,y,b);const g=BigInt(32),x=BigInt(4294967295),E=Number(y>>g&x),k=Number(y&x),C=b?0:4;h.setUint32(w+(b?4:0),E,b),h.setUint32(w+C,k,b)})(r,o-8,BigInt(8*this.length),i),this.process(r,0);const c=lm(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<f;h++)c.setUint32(4*h,p[h],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:l,pos:c}=this;return t.length=o,t.pos=c,t.finished=i,t.destroyed=l,o%n&&t.buffer.set(r),t}}const vU=(e,t,n)=>e&t^e&n^t&n,wU=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jo=new Uint32Array(64);let xU=class extends yU{constructor(){super(64,32,8,!1),this.A=0|Yo[0],this.B=0|Yo[1],this.C=0|Yo[2],this.D=0|Yo[3],this.E=0|Yo[4],this.F=0|Yo[5],this.G=0|Yo[6],this.H=0|Yo[7]}get(){const{A:t,B:n,C:r,D:o,E:i,F:l,G:c,H:u}=this;return[t,n,r,o,i,l,c,u]}set(t,n,r,o,i,l,c,u){this.A=0|t,this.B=0|n,this.C=0|r,this.D=0|o,this.E=0|i,this.F=0|l,this.G=0|c,this.H=0|u}process(t,n){for(let w=0;w<16;w++,n+=4)Jo[w]=t.getUint32(n,!1);for(let w=16;w<64;w++){const y=Jo[w-15],b=Jo[w-2],g=Ir(y,7)^Ir(y,18)^y>>>3,x=Ir(b,17)^Ir(b,19)^b>>>10;Jo[w]=x+Jo[w-7]+g+Jo[w-16]|0}let{A:r,B:o,C:i,D:l,E:c,F:u,G:f,H:p}=this;for(let w=0;w<64;w++){const y=p+(Ir(c,6)^Ir(c,11)^Ir(c,25))+((h=c)&u^~h&f)+wU[w]+Jo[w]|0,b=(Ir(r,2)^Ir(r,13)^Ir(r,22))+vU(r,o,i)|0;p=f,f=u,u=c,c=l+y|0,l=i,i=o,o=r,r=y+b|0}var h;r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,l=l+this.D|0,c=c+this.E|0,u=u+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(r,o,i,l,c,u,f,p)}roundClean(){Jo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Fd=gU(()=>new xU);let Sv=class{constructor(t){var n,r,o,i;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=t.pr,!this.paymentRequest)throw new Error("Invalid payment request");const l=hU(this.paymentRequest);if(!l)throw new Error("Failed to decode payment request");this.paymentHash=l.paymentHash,this.satoshi=l.satoshi,this.timestamp=l.timestamp,this.expiry=l.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=(n=l.description)!=null?n:null,this.verify=(r=t.verify)!=null?r:null,this.preimage=(o=t.preimage)!=null?o:null,this.successAction=(i=t.successAction)!=null?i:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(t){if(!t||!this.paymentHash)return!1;try{const n=Bd(Fd(fU(t)));return this.paymentHash===n}catch{return!1}}async verifyPayment(){try{if(!this.verify)throw new Error("LNURL verify not available");const t=await fetch(this.verify);if(!t.ok)throw new Error(`Verification request failed: ${t.status} ${t.statusText}`);const n=await t.json();return n.preimage&&(this.preimage=n.preimage),n.settled}catch(t){return console.error("Failed to check LNURL-verify",t),!1}}hasExpired(){const{expiryDate:t}=this;return!!t&&t.getTime()<Date.now()}};const bU=e=>{if(e.tag!=="keysend")throw new Error("Invalid keysend params");if(e.status!=="OK")throw new Error("Keysend status not OK");if(!e.pubkey)throw new Error("Pubkey does not exist");let t,n;return e.customData&&e.customData[0]&&(t=e.customData[0].customKey,n=e.customData[0].customValue),{destination:e.pubkey,customKey:t,customValue:n}};async function EU({satoshi:e,comment:t,p:n,e:r,relays:o},i={}){const l=i.nostr||globalThis.nostr;if(!l)throw new Error("nostr option or window.nostr is not available");const c=[["relays",...o],["amount",e.toString()]];n&&c.push(["p",n]),r&&c.push(["e",r]);const u={pubkey:await l.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:c,content:t??""};return u.id=kU(u),await l.signEvent(u)}function _U(e){if(typeof e.content!="string"||typeof e.created_at!="number"||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function SU(e){if(!_U(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function kU(e){return Bd(Fd(SU(e)))}function CU(e,t){let n,r;var o,i;return t&&e&&(n=(o=e.names)==null?void 0:o[t],r=n?(i=e.relays)==null?void 0:i[n]:void 0),[e,n,r]}const NU=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/,xC=e=>!!e&&NU.test(e),jb=({amount:e,min:t,max:n})=>e>0&&e>=t&&e<=n,TU=async e=>{if(e.tag!=="payRequest")throw new Error("Invalid pay service params");const t=(e.callback+"").trim();if(!xC(t))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(e.minSendable||0)),r=Math.floor(Number(e.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let o,i;try{o=JSON.parse(e.metadata+""),i=Bd(Fd(e.metadata+""))}catch{o=[],i=Bd(Fd("[]"))}let l="",c="",u="",f="";for(let w=0;w<o.length;w++){const[y,b]=o[w];switch(y){case"text/plain":u=b;break;case"text/identifier":f=b;break;case"text/email":l=b;break;case"image/png;base64":case"image/jpeg;base64":c="data:"+y+","+b}}const p=e.payerData;let h;try{h=new URL(t).hostname}catch{}return{callback:t,fixed:n===r,min:n,max:r,domain:h,metadata:o,metadataHash:i,identifier:f,email:l,description:u,image:c,payerData:p,commentAllowed:Number(e.commentAllowed)||0,rawData:e,allowsNostr:e.allowsNostr||!1}};function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wg.apply(this,arguments)}const PU=async(e,t)=>{const{boost:n}=e;t||(t={});const r=t.webln||globalThis.webln;if(!r)throw new Error("WebLN not available");if(!r.keysend)throw new Error("Keysend not available in current WebLN provider");const o=e.amount||Math.floor(n.value_msat/1e3),i={destination:e.destination,amount:o,customRecords:{7629169:JSON.stringify(n)}};return e.customKey&&e.customValue&&(i.customRecords[e.customKey]=e.customValue),await r.enable(),await r.keysend(i)},RU=/^((?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;class AU{constructor(t,n){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=t,this.options={proxy:"https://api.getalby.com/lnurl"},this.options=Object.assign(this.options,n),this.parse(),this.webln=this.options.webln}parse(){const t=RU.exec(this.address.toLowerCase());t&&(this.username=t[1],this.domain=t[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const t=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!t.ok)throw new Error(`Failed to fetch lnurl info: ${t.status} ${t.statusText}`);const n=await t.json();await this.parseLnUrlPayResponse(n.lnurlp),this.parseKeysendResponse(n.keysend),this.parseNostrResponse(n.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const t=await fetch(this.lnurlpUrl());if(t.ok){const n=await t.json();await this.parseLnUrlPayResponse(n)}}async fetchKeysendData(){const t=await fetch(this.keysendUrl());if(t.ok){const n=await t.json();this.parseKeysendResponse(n)}}async fetchNostrData(){const t=await fetch(this.nostrUrl());if(t.ok){const n=await t.json();this.parseNostrResponse(n)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(t){let n;if(this.options.proxy){const i=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(Wg({ln:this.address},t)).toString()}`);if(!i.ok)throw new Error(`Failed to generate invoice: ${i.status} ${i.statusText}`);n=(await i.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!xC(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const i=new URL(this.lnurlpData.callback);i.search=new URLSearchParams(t).toString();const l=await fetch(i.toString());if(!l.ok)throw new Error(`Failed to generate invoice: ${l.status} ${l.statusText}`);n=await l.json()}const r=n&&n.pr&&n.pr.toString();if(!r)throw new Error("Invalid pay service invoice");const o={pr:r};if(n&&n.verify&&(o.verify=n.verify.toString()),n&&n.successAction&&typeof n.successAction=="object"){const{tag:i,message:l,description:c,url:u}=n.successAction;i==="message"?o.successAction={tag:i,message:l}:i==="url"&&(o.successAction={tag:i,description:c,url:u})}return new Sv(o)}async requestInvoice(t){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const n=1e3*t.satoshi,{commentAllowed:r,min:o,max:i}=this.lnurlpData;if(!jb({amount:n,min:o,max:i}))throw new Error("Invalid amount");if(t.comment&&r&&r>0&&t.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const l={amount:n.toString()};return t.comment&&(l.comment=t.comment),t.payerdata&&(l.payerdata=JSON.stringify(t.payerdata)),this.generateInvoice(l)}async boost(t,n=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:r,customKey:o,customValue:i}=this.keysendData,l=this.getWebLN();if(!l)throw new Error("WebLN not available");return PU({destination:r,customKey:o,customValue:i,amount:n,boost:t},{webln:l})}async zapInvoice({satoshi:t,comment:n,relays:r,e:o},i={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const l=this.nostrPubkey,c=1e3*t,{allowsNostr:u,min:f,max:p}=this.lnurlpData;if(!jb({amount:c,min:f,max:p}))throw new Error("Invalid amount");if(!u)throw new Error("Your provider does not support zaps");const h=await EU({satoshi:c,comment:n,p:l,e:o,relays:r},i),w={amount:c.toString(),nostr:JSON.stringify(h)};return await this.generateInvoice(w)}async zap(t,n={}){const r=this.zapInvoice(t,n),o=this.getWebLN();if(!o)throw new Error("WebLN not available");return await o.enable(),o.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(t){t&&(this.lnurlpData=await TU(t))}parseKeysendResponse(t){t&&(this.keysendData=bU(t))}parseNostrResponse(t){t&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=CU(t,this.username))}}function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ys.apply(this,arguments)}if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const IU=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function jU(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=IU[e[n]];return t}function Bl(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const o=2*r,i=e.slice(o,o+2),l=Number.parseInt(i,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}class Ns extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n}}class OU extends Ns{}class MU extends Ns{}class bC extends Ns{}class Ob extends bC{}class Mb extends bC{}class Lb extends Ns{}class Db extends Ns{}class cm extends Ns{}class LU extends Ns{}class DU extends Ns{}class aa{static parseWalletConnectUrl(t){t=t.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://").replace("nostrwalletconnect:","http://").replace("nostr+walletconnect:","http://");const n=new URL(t),r=n.searchParams.get("relay");if(!r)throw new Error("No relay URL found in connection string");const o={walletPubkey:n.host,relayUrl:r},i=n.searchParams.get("secret");i&&(o.secret=i);const l=n.searchParams.get("lud16");return l&&(o.lud16=l),o}constructor(t){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,t&&t.nostrWalletConnectUrl&&(t=ys({},aa.parseWalletConnectUrl(t.nostrWalletConnectUrl),t)),this.options=ys({},t||{}),this.relayUrl=this.options.relayUrl,this.relay=new j_(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?yn.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?yn.decode(this.options.walletPubkey).data:this.options.walletPubkey,globalThis.WebSocket===void 0&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(t=!0){let n=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return t&&(n=`${n}&secret=${this.secret}`),n}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return wo(Bl(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error("Missing encryption or version");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(t){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(or(t,Bl(this.secret)))}getEventHash(t){return Kl(t)}close(){return this.relay.close()}async encrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await tc.encrypt(this.secret,t,n);else{const o=hs.getConversationKey(Bl(this.secret),t);r=hs.encrypt(n,o)}return r}async decrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await tc.decrypt(this.secret,t,n);else{const o=hs.getConversationKey(Bl(this.secret),t);r=hs.decrypt(n,o)}return r}static getAuthorizationUrl(t,n={},r){if(t.indexOf("/#/")>-1)throw new Error("hash router paths not supported");const o=new URL(t);return n.name&&o.searchParams.set("name",n.name),o.searchParams.set("pubkey",r),n.returnTo&&o.searchParams.set("return_to",n.returnTo),n.budgetRenewal&&o.searchParams.set("budget_renewal",n.budgetRenewal),n.expiresAt&&o.searchParams.set("expires_at",Math.floor(n.expiresAt.getTime()/1e3).toString()),n.maxAmount&&o.searchParams.set("max_amount",n.maxAmount.toString()),n.requestMethods&&o.searchParams.set("request_methods",n.requestMethods.join(" ")),n.notificationTypes&&o.searchParams.set("notification_types",n.notificationTypes.join(" ")),n.isolated&&o.searchParams.set("isolated","true"),n.metadata&&o.searchParams.set("metadata",JSON.stringify(n.metadata)),o}static fromAuthorizationUrl(t,n={},r){r=r||jU(_c()),n.name||(n.name=document.location.host);const o=this.getAuthorizationUrl(t,n,wo(Bl(r))),i=window.outerHeight/2+window.screenY-300,l=window.outerWidth/2+window.screenX-200;return new Promise((c,u)=>{const f=window.open(o.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${i},left=${l}`);if(!f)return void u(new Error("failed to execute window.open"));const p=w=>{const y=w.data;y&&y.type==="nwc:success"&&w.origin===`${o.protocol}//${o.host}`&&(y.relayUrl||u(new Error("no relayUrl in response")),y.walletPubkey||u(new Error("no walletPubkey in response")),c(new aa({relayUrl:y.relayUrl,walletPubkey:y.walletPubkey,secret:r,lud16:y.lud16})),clearInterval(h),window.removeEventListener("message",p),f&&f.close())},h=setInterval(()=>{f&&f.closed&&(clearInterval(h),window.removeEventListener("message",p),u(new Error("Popup closed")))},500);window.addEventListener("message",p)})}async getWalletServiceInfo(){var t;await this._checkConnected();const n=await new Promise((u,f)=>{const p=[],h=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});h.onevent=w=>{p.push(w)},h.oneose=()=>{h.close(),u(p)}});if(!n.length)throw new Error("no info event (kind 13194) returned from relay");const r=n[0].content,o=n[0].tags.find(u=>u[0]==="notifications"),i=n[0].tags.find(u=>u[0]==="v"),l=n[0].tags.find(u=>u[0]==="encryption");let c=["nip04"];return i&&i[1].includes("1.0")&&c.push("nip44_v2"),l&&(c=l[1].split(" ")),{encryptions:c,capabilities:r.split(/[ |,]/g),notifications:(o==null||(t=o[1])==null?void 0:t.split(" "))||[]}}async getInfo(){try{return await this.executeNip47Request("get_info",{},t=>!!t.methods,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_info",t),t}}async getBudget(){try{return await this.executeNip47Request("get_budget",{},t=>t!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_budget",t),t}}async getBalance(){try{return await this.executeNip47Request("get_balance",{},t=>t.balance!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_balance",t),t}}async payInvoice(t){try{return await this.executeNip47Request("pay_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request pay_invoice",n),n}}async payKeysend(t){try{return await this.executeNip47Request("pay_keysend",t,n=>!!n.preimage)}catch(n){throw console.error("Failed to request pay_keysend",n),n}}async signMessage(t){try{return await this.executeNip47Request("sign_message",t,n=>n.message===t.message&&!!n.signature)}catch(n){throw console.error("Failed to request sign_message",n),n}}async createConnection(t){try{return await this.executeNip47Request("create_connection",t,n=>!!n.wallet_pubkey)}catch(n){throw console.error("Failed to request create_connection",n),n}}async multiPayInvoice(t){try{return{invoices:await this.executeMultiNip47Request("multi_pay_invoice",t,t.invoices.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_invoice",n),n}}async multiPayKeysend(t){try{return{keysends:await this.executeMultiNip47Request("multi_pay_keysend",t,t.keysends.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_keysend",n),n}}async makeInvoice(t){try{if(!t.amount)throw new Error("No amount specified");return await this.executeNip47Request("make_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_invoice",n),n}}async makeHoldInvoice(t){try{if(!t.amount)throw new Error("No amount specified");if(!t.payment_hash)throw new Error("No payment hash specified");return await this.executeNip47Request("make_hold_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_hold_invoice",n),n}}async settleHoldInvoice(t){try{return await this.executeNip47Request("settle_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request settle_hold_invoice",n),n}}async cancelHoldInvoice(t){try{return await this.executeNip47Request("cancel_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request cancel_hold_invoice",n),n}}async lookupInvoice(t){try{return await this.executeNip47Request("lookup_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request lookup_invoice",n),n}}async listTransactions(t){try{return await this.executeNip47Request("list_transactions",t,n=>!!n.transactions,{replyTimeout:1e4})}catch(n){throw console.error("Failed to request list_transactions",n),n}}async subscribeNotifications(t,n){var r=this;let o,i,l,c=!0;return async function(){for(;c;){try{await r._checkConnected(),await r._selectEncryptionType(),l=r.relay.subscribe([{kinds:[...r.encryptionType==="nip04"?[23196]:[23197]],authors:[r.walletPubkey],"#p":[r.publicKey]}],{}),console.info("subscribed to relay"),l.onevent=async function(u){const f=await r.decrypt(r.walletPubkey,u.content);let p;try{p=JSON.parse(f)}catch(h){return void console.error("Failed to parse decrypted event content",h)}p.notification?(!n||n.indexOf(p.notification_type)>-1)&&t(p):console.error("No notification in response",p)},await new Promise(u=>{o=()=>{u()},i=()=>{console.info("relay disconnected"),o==null||o()},r.relay.onclose=i}),i!==void 0&&(r.relay.onclose=null)}catch(u){console.error("error subscribing to notifications",u||"unknown relay error")}c&&await new Promise(u=>setTimeout(u,1e3))}}(),()=>{var u;c=!1,o==null||o(),(u=l)==null||u.close()}}async executeNip47Request(t,n,r,o){var i=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((l,c)=>{(async function(){const u={method:t,params:n},f=await i.encrypt(i.walletPubkey,JSON.stringify(u)),p={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",i.walletPubkey],["v",i.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",i.encryptionType]],content:f},h=await i.signEvent(p),w=i.relay.subscribe([{kinds:[23195],authors:[i.walletPubkey],"#e":[h.id]}],{}),y=setTimeout(function(){w.close(),c(new Mb(`reply timeout: event ${h.id}`,"INTERNAL"))},(o==null?void 0:o.replyTimeout)||6e4);w.onevent=async function(g){clearTimeout(y),w.close();const x=await i.decrypt(i.walletPubkey,g.content);let E;try{E=JSON.parse(x)}catch{return clearTimeout(y),w.close(),void c(new Db("failed to deserialize response","INTERNAL"))}var k,C;E.result?r(E.result)?l(E.result):(clearTimeout(y),w.close(),c(new cm("response from NWC failed validation: "+JSON.stringify(E.result),"INTERNAL"))):(clearTimeout(y),w.close(),c(new MU(((k=E.error)==null?void 0:k.message)||"unknown Error",((C=E.error)==null?void 0:C.code)||"INTERNAL")))};const b=setTimeout(function(){w.close(),c(new Ob(`publish timeout: ${h.id}`,"INTERNAL"))},(o==null?void 0:o.publishTimeout)||5e3);try{await i.relay.publish(h),clearTimeout(b)}catch(g){clearTimeout(b),c(new Lb(`failed to publish: ${g}`,"INTERNAL"))}})()})}async executeMultiNip47Request(t,n,r,o,i){var l=this;await this._checkConnected(),await this._selectEncryptionType();const c=[];return new Promise((u,f)=>{(async function(){const p={method:t,params:n},h=await l.encrypt(l.walletPubkey,JSON.stringify(p)),w={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",l.walletPubkey],["v",l.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",l.encryptionType]],content:h},y=await l.signEvent(w),b=l.relay.subscribe([{kinds:[23195],authors:[l.walletPubkey],"#e":[y.id]}],{}),g=setTimeout(function(){b.close(),f(new Mb(`reply timeout: event ${y.id}`,"INTERNAL"))},(i==null?void 0:i.replyTimeout)||6e4);b.onevent=async function(E){const k=await l.decrypt(l.walletPubkey,E.content);let C;try{C=JSON.parse(k)}catch{clearTimeout(g),b.close(),f(new Db("failed to deserialize response","INTERNAL"))}if(C.result){var A;if(!o(C.result))return clearTimeout(g),b.close(),void f(new cm("Response from NWC failed validation: "+JSON.stringify(C.result),"INTERNAL"));const z=(A=E.tags.find($=>$[0]==="d"))==null?void 0:A[1];if(z===void 0)return clearTimeout(g),b.close(),void f(new cm("No d tag found in response event","INTERNAL"));c.push(ys({},C.result,{dTag:z})),c.length===r&&(clearTimeout(g),b.close(),u(c))}else{var I,L;clearTimeout(g),b.close(),f(new LU((I=C.error)==null?void 0:I.message,(L=C.error)==null?void 0:L.code))}};const x=setTimeout(function(){b.close(),f(new Ob(`Publish timeout: ${y.id}`,"INTERNAL"))},(i==null?void 0:i.publishTimeout)||5e3);try{await l.relay.publish(y),clearTimeout(x)}catch(E){clearTimeout(x),f(new Lb(`Failed to publish: ${E}`,"INTERNAL"))}})()})}async _checkConnected(){if(!this.secret)throw new Error("Missing secret key");if(!this.relayUrl)throw new Error("Missing relay url");try{this.relay.connected||await this.relay.connect()}catch{throw console.error("failed to connect to relay",this.relayUrl),new OU("Failed to connect to "+this.relayUrl,"OTHER")}}async _selectEncryptionType(){if(!this._encryptionType){const t=await this.getWalletServiceInfo(),n=this._findPreferredEncryptionType(t.encryptions);if(!n)throw new DU("no compatible encryption or version found between wallet and client","UNSUPPORTED_ENCRYPTION");n==="nip04"&&console.warn("NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead."),this._encryptionType=n}}_findPreferredEncryptionType(t){return t.includes("nip44_v2")?"nip44_v2":t.includes("nip04")?"nip04":null}}class zU{constructor(t,n){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=n,this.invoice=new Sv({pr:n.invoice}),this._nwcClient=t}onPaid(t){var n=this;return async function(){let r;try{var o;r=(o=(await n._nwcClient.getInfo()).notifications)==null?void 0:o.includes("payment_received")}catch{console.error("failed to fetch info, falling back to polling")}const i=c=>{n._unsubscribeFunc==null||n._unsubscribeFunc(),t(c)},l=c=>()=>{n._timeoutFunc=void 0,clearTimeout(n._timeoutId),c()};if(r){const c=u=>{u.notification.payment_hash===n.transaction.payment_hash&&i(u.notification)};n._unsubscribeFunc=l(await n._nwcClient.subscribeNotifications(c,["payment_received"]))}else console.warn("current connection does not support notifications, falling back to polling"),n._unsubscribeFunc=l(n._onPaidPollingFallback(i))}(),this}onTimeout(t,n){return this._timeoutFunc=()=>{var r;(r=this._unsubscribeFunc)==null||r.call(this),n()},this._timeoutId=setTimeout(()=>{var r;(r=this._timeoutFunc)==null||r.call(this)},1e3*t),this}unsubscribe(){var t;(t=this._unsubscribeFunc)==null||t.call(this)}_onPaidPollingFallback(t){var n=this;let r=!0;return async function(){for(;r;){const o=await n._nwcClient.lookupInvoice({payment_hash:n.transaction.payment_hash});if(o.settled_at&&o.preimage){t(o),r=!1;break}await new Promise(i=>setTimeout(i,3e3))}}(),()=>{r=!1}}}async function zb(e){if(typeof e=="number")return{satoshi:e,millisat:1e3*e};const t=await Promise.resolve(e.satoshi);return{satoshi:t,millisat:1e3*t}}class ac{constructor(t){this.nwcClient=void 0,this.nwcClient=typeof t=="string"?new aa({nostrWalletConnectUrl:t}):t instanceof aa?t:new aa(t)}async pay(t,n,r){let o=t;const i=n?await zb(n):void 0;if(o.indexOf("@")>-1){var l,c;if(!i)throw new Error("Amount must be provided when paying to a lightning address");const f=new AU(t);await f.fetch(),o=(await f.requestInvoice({satoshi:i.satoshi,comment:r==null||(l=r.metadata)==null?void 0:l.comment,payerdata:r==null||(c=r.metadata)==null?void 0:c.payer_data})).paymentRequest}const u=await this.nwcClient.payInvoice(ys({},r||{},{invoice:o,amount:i==null?void 0:i.millisat}));return ys({},u,{invoice:new Sv({pr:o})})}async requestPayment(t,n){const r=await zb(t),o=await this.nwcClient.makeInvoice(ys({},n||{},{amount:r.millisat}));return new zU(this.nwcClient,o)}close(){this.nwcClient.close()}}function BU(){const{toast:e}=kc(),[t,n]=Ug("nwc-connections",[]),[r,o]=Ug("nwc-active-connection",null),[i,l]=_.useState({}),c=async(h,w)=>{const b=(x=>{try{return!x.startsWith("nostr+walletconnect://")&&!x.startsWith("nostrwalletconnect://")?(console.error("Invalid NWC URI protocol:",{protocol:x.split("://")[0]}),null):{connectionString:x}}catch(E){return console.error("Failed to parse NWC URI:",E),null}})(h);if(!b)return e({title:"Invalid NWC URI",description:"Please check the connection string and try again.",variant:"destructive"}),!1;if(t.find(x=>x.connectionString===b.connectionString))return e({title:"Connection already exists",description:"This wallet is already connected.",variant:"destructive"}),!1;try{let x;const E=new Promise((I,L)=>{try{const z=new ac(b.connectionString);I(z)}catch(z){L(z)}}),k=new Promise((I,L)=>{x=setTimeout(()=>L(new Error("Connection test timeout")),1e4)});try{await Promise.race([E,k]),x&&clearTimeout(x)}catch(I){throw x&&clearTimeout(x),I}const C={connectionString:b.connectionString,alias:w||"NWC Wallet",isConnected:!0};l(I=>({...I,[b.connectionString]:{alias:C.alias,methods:["pay_invoice"]}}));const A=[...t,C];return n(A),(t.length===0||!r)&&o(b.connectionString),e({title:"Wallet connected",description:`Successfully connected to ${C.alias}.`}),!0}catch(x){console.error("NWC connection failed:",x);const E=x instanceof Error?x.message:"Unknown error occurred";return e({title:"Connection failed",description:`Could not connect to the wallet: ${E}`,variant:"destructive"}),!1}},u=h=>{const w=t.filter(y=>y.connectionString!==h);if(n(w),r===h){const y=w.length>0?w[0].connectionString:null;o(y)}l(y=>{const b={...y};return delete b[h],b}),e({title:"Wallet disconnected",description:"The wallet connection has been removed."})},f=_.useCallback(()=>!r&&t.length>0?(o(t[0].connectionString),t[0]):r&&t.find(w=>w.connectionString===r)||null,[r,t,o]),p=_.useCallback(async(h,w)=>{if(!h.connectionString)throw new Error("Invalid connection: missing connection string");let y;try{y=new ac(h.connectionString)}catch(b){throw console.error("Failed to create NWC client:",b),new Error(`Failed to create NWC client: ${b instanceof Error?b.message:"Unknown error"}`)}try{let b;const g=new Promise((E,k)=>{b=setTimeout(()=>k(new Error("Payment timeout after 15 seconds")),15e3)}),x=y.pay(w);try{const E=await Promise.race([x,g]);return b&&clearTimeout(b),E}catch(E){throw b&&clearTimeout(b),E}}catch(b){throw console.error("NWC payment failed:",b),b instanceof Error?b.message.includes("timeout")?new Error("Payment timed out. Please try again."):b.message.includes("insufficient")?new Error("Insufficient balance in connected wallet."):b.message.includes("invalid")?new Error("Invalid invoice or connection. Please check your wallet."):new Error(`Payment failed: ${b.message}`):new Error("Payment failed with unknown error")}},[]);return{connections:t,activeConnection:r,connectionInfo:i,addConnection:c,removeConnection:u,setActiveConnection:o,getActiveConnection:f,sendPayment:p}}const EC=_.createContext(null);function _C(){const e=_.useContext(EC);if(!e)throw new Error("useNWC must be used within a NWCProvider");return e}function FU({children:e}){const t=BU();return m.jsx(EC.Provider,{value:t,children:e})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lc.apply(this,arguments)}var ms;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ms||(ms={}));const Bb="popstate";function $U(e){e===void 0&&(e={});function t(r,o){let{pathname:i,search:l,hash:c}=r.location;return Vg("",{pathname:i,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:$d(o)}return HU(t,n,null,e)}function Ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UU(){return Math.random().toString(36).substr(2,8)}function Fb(e,t){return{usr:e.state,key:e.key,idx:t}}function Vg(e,t,n,r){return n===void 0&&(n=null),lc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ha(t):t,{state:n,key:t&&t.key||r||UU()})}function $d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ha(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function HU(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,l=o.history,c=ms.Pop,u=null,f=p();f==null&&(f=0,l.replaceState(lc({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function h(){c=ms.Pop;let x=p(),E=x==null?null:x-f;f=x,u&&u({action:c,location:g.location,delta:E})}function w(x,E){c=ms.Push;let k=Vg(g.location,x,E);f=p()+1;let C=Fb(k,f),A=g.createHref(k);try{l.pushState(C,"",A)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(A)}i&&u&&u({action:c,location:g.location,delta:1})}function y(x,E){c=ms.Replace;let k=Vg(g.location,x,E);f=p();let C=Fb(k,f),A=g.createHref(k);l.replaceState(C,"",A),i&&u&&u({action:c,location:g.location,delta:0})}function b(x){let E=o.location.origin!=="null"?o.location.origin:o.location.href,k=typeof x=="string"?x:$d(x);return k=k.replace(/ $/,"%20"),Ut(E,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,E)}let g={get action(){return c},get location(){return e(o,l)},listen(x){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(Bb,h),u=x,()=>{o.removeEventListener(Bb,h),u=null}},createHref(x){return t(o,x)},createURL:b,encodeLocation(x){let E=b(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:y,go(x){return l.go(x)}};return g}var $b;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($b||($b={}));function WU(e,t,n){return n===void 0&&(n="/"),VU(e,t,n)}function VU(e,t,n,r){let o=typeof t=="string"?Ha(t):t,i=Cv(o.pathname||"/",n);if(i==null)return null;let l=SC(e);ZU(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let f=o7(i);c=t7(l[u],f)}return c}function SC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,l,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};u.relativePath.startsWith("/")&&(Ut(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=vs([r,u.relativePath]),p=n.concat(u);i.children&&i.children.length>0&&(Ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),SC(i.children,t,p,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:XU(f,i.index),routesMeta:p})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))o(i,l);else for(let u of kC(i.path))o(i,l,u)}),t}function kC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let l=kC(r.join("/")),c=[];return c.push(...l.map(u=>u===""?i:[i,u].join("/"))),o&&c.push(...l),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function ZU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:e7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qU=/^:[\w-]+$/,KU=3,GU=2,YU=1,JU=10,QU=-2,Ub=e=>e==="*";function XU(e,t){let n=e.split("/"),r=n.length;return n.some(Ub)&&(r+=QU),t&&(r+=GU),n.filter(o=>!Ub(o)).reduce((o,i)=>o+(qU.test(i)?KU:i===""?YU:JU),r)}function e7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function t7(e,t,n){let{routesMeta:r}=e,o={},i="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",h=n7({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),w=u.route;if(!h)return null;Object.assign(o,h.params),l.push({params:o,pathname:vs([i,h.pathname]),pathnameBase:c7(vs([i,h.pathnameBase])),route:w}),h.pathnameBase!=="/"&&(i=vs([i,h.pathnameBase]))}return l}function n7(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=r7(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],l=i.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((f,p,h)=>{let{paramName:w,isOptional:y}=p;if(w==="*"){let g=c[h]||"";l=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const b=c[h];return y&&!b?f[w]=void 0:f[w]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:e}}function r7(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),kv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function o7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const s7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i7=e=>s7.test(e);function a7(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Ha(e):e,i;if(n)if(i7(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),kv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=Hb(n.substring(1),"/"):i=Hb(n,t)}else i=t;return{pathname:i,search:u7(r),hash:d7(o)}}function Hb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function um(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function CC(e,t){let n=l7(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function NC(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=Ha(e):(o=lc({},e),Ut(!o.pathname||!o.pathname.includes("?"),um("?","pathname","search",o)),Ut(!o.pathname||!o.pathname.includes("#"),um("#","pathname","hash",o)),Ut(!o.search||!o.search.includes("#"),um("#","search","hash",o)));let i=e===""||o.pathname==="",l=i?"/":o.pathname,c;if(l==null)c=n;else{let h=t.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),h-=1;o.pathname=w.join("/")}c=h>=0?t[h]:"/"}let u=a7(o,c),f=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}const vs=e=>e.join("/").replace(/\/\/+/g,"/"),c7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const TC=["post","put","patch","delete"];new Set(TC);const h7=["get",...TC];new Set(h7);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cc.apply(this,arguments)}const Nv=_.createContext(null),p7=_.createContext(null),wi=_.createContext(null),Tf=_.createContext(null),Ts=_.createContext({outlet:null,matches:[],isDataRoute:!1}),PC=_.createContext(null);function m7(e,t){let{relative:n}=t===void 0?{}:t;Ac()||Ut(!1);let{basename:r,navigator:o}=_.useContext(wi),{hash:i,pathname:l,search:c}=IC(e,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:vs([r,l])),o.createHref({pathname:u,search:c,hash:i})}function Ac(){return _.useContext(Tf)!=null}function xi(){return Ac()||Ut(!1),_.useContext(Tf).location}function RC(e){_.useContext(wi).static||_.useLayoutEffect(e)}function g7(){let{isDataRoute:e}=_.useContext(Ts);return e?P7():y7()}function y7(){Ac()||Ut(!1);let e=_.useContext(Nv),{basename:t,future:n,navigator:r}=_.useContext(wi),{matches:o}=_.useContext(Ts),{pathname:i}=xi(),l=JSON.stringify(CC(o,n.v7_relativeSplatPath)),c=_.useRef(!1);return RC(()=>{c.current=!0}),_.useCallback(function(f,p){if(p===void 0&&(p={}),!c.current)return;if(typeof f=="number"){r.go(f);return}let h=NC(f,JSON.parse(l),i,p.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:vs([t,h.pathname])),(p.replace?r.replace:r.push)(h,p.state,p)},[t,r,l,i,e])}function AC(){let{matches:e}=_.useContext(Ts),t=e[e.length-1];return t?t.params:{}}function IC(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext(wi),{matches:o}=_.useContext(Ts),{pathname:i}=xi(),l=JSON.stringify(CC(o,r.v7_relativeSplatPath));return _.useMemo(()=>NC(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function v7(e,t){return w7(e,t)}function w7(e,t,n,r){Ac()||Ut(!1);let{navigator:o}=_.useContext(wi),{matches:i}=_.useContext(Ts),l=i[i.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let f=xi(),p;if(t){var h;let x=typeof t=="string"?Ha(t):t;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||Ut(!1),p=x}else p=f;let w=p.pathname||"/",y=w;if(u!=="/"){let x=u.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=WU(e,{pathname:y}),g=S7(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:vs([u,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:vs([u,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&g?_.createElement(Tf.Provider,{value:{location:cc({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ms.Pop}},g):g}function x7(){let e=T7(),t=f7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:o},n):null,null)}const b7=_.createElement(x7,null);class E7 extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(Ts.Provider,{value:this.props.routeContext},_.createElement(PC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _7(e){let{routeContext:t,match:n,children:r}=e,o=_.useContext(Nv);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Ts.Provider,{value:t},r)}function S7(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=(o=n)==null?void 0:o.errors;if(c!=null){let p=l.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);p>=0||Ut(!1),l=l.slice(0,Math.min(l.length,p+1))}let u=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<l.length;p++){let h=l[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=p),h.route.id){let{loaderData:w,errors:y}=n,b=h.route.loader&&w[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,h,w)=>{let y,b=!1,g=null,x=null;n&&(y=c&&h.route.id?c[h.route.id]:void 0,g=h.route.errorElement||b7,u&&(f<0&&w===0?(R7("route-fallback"),b=!0,x=null):f===w&&(b=!0,x=h.route.hydrateFallbackElement||null)));let E=t.concat(l.slice(0,w+1)),k=()=>{let C;return y?C=g:b?C=x:h.route.Component?C=_.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=p,_.createElement(_7,{match:h,routeContext:{outlet:p,matches:E,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||w===0)?_.createElement(E7,{location:n.location,revalidation:n.revalidation,component:g,error:y,children:k(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):k()},null)}var jC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jC||{}),OC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(OC||{});function k7(e){let t=_.useContext(Nv);return t||Ut(!1),t}function C7(e){let t=_.useContext(p7);return t||Ut(!1),t}function N7(e){let t=_.useContext(Ts);return t||Ut(!1),t}function MC(e){let t=N7(),n=t.matches[t.matches.length-1];return n.route.id||Ut(!1),n.route.id}function T7(){var e;let t=_.useContext(PC),n=C7(),r=MC();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function P7(){let{router:e}=k7(jC.UseNavigateStable),t=MC(OC.UseNavigateStable),n=_.useRef(!1);return RC(()=>{n.current=!0}),_.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,cc({fromRouteId:t},i)))},[e,t])}const Wb={};function R7(e,t,n){Wb[e]||(Wb[e]=!0)}function A7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function oo(e){Ut(!1)}function I7(e){let{basename:t="/",children:n=null,location:r,navigationType:o=ms.Pop,navigator:i,static:l=!1,future:c}=e;Ac()&&Ut(!1);let u=t.replace(/^\/*/,"/"),f=_.useMemo(()=>({basename:u,navigator:i,static:l,future:cc({v7_relativeSplatPath:!1},c)}),[u,c,i,l]);typeof r=="string"&&(r=Ha(r));let{pathname:p="/",search:h="",hash:w="",state:y=null,key:b="default"}=r,g=_.useMemo(()=>{let x=Cv(p,u);return x==null?null:{location:{pathname:x,search:h,hash:w,state:y,key:b},navigationType:o}},[u,p,h,w,y,b,o]);return g==null?null:_.createElement(wi.Provider,{value:f},_.createElement(Tf.Provider,{children:n,value:g}))}function j7(e){let{children:t,location:n}=e;return v7(Zg(t),n)}new Promise(()=>{});function Zg(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,o)=>{if(!_.isValidElement(r))return;let i=[...t,o];if(r.type===_.Fragment){n.push.apply(n,Zg(r.props.children,i));return}r.type!==oo&&Ut(!1),!r.props.index||!r.props.children||Ut(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Zg(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qg.apply(this,arguments)}function O7(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function M7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L7(e,t){return e.button===0&&(!t||t==="_self")&&!M7(e)}const D7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],z7="6";try{window.__reactRouterVersion=z7}catch{}const B7="startTransition",Vb=uy[B7];function F7(e){let{basename:t,children:n,future:r,window:o}=e,i=_.useRef();i.current==null&&(i.current=$U({window:o,v5Compat:!0}));let l=i.current,[c,u]=_.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},p=_.useCallback(h=>{f&&Vb?Vb(()=>u(h)):u(h)},[u,f]);return _.useLayoutEffect(()=>l.listen(p),[l,p]),_.useEffect(()=>A7(r),[r]),_.createElement(I7,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const $7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=_.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:i,replace:l,state:c,target:u,to:f,preventScrollReset:p,viewTransition:h}=t,w=O7(t,D7),{basename:y}=_.useContext(wi),b,g=!1;if(typeof f=="string"&&U7.test(f)&&(b=f,$7))try{let C=new URL(window.location.href),A=f.startsWith("//")?new URL(C.protocol+f):new URL(f),I=Cv(A.pathname,y);A.origin===C.origin&&I!=null?f=I+A.search+A.hash:g=!0}catch{}let x=m7(f,{relative:o}),E=H7(f,{replace:l,state:c,target:u,preventScrollReset:p,relative:o,viewTransition:h});function k(C){r&&r(C),C.defaultPrevented||E(C)}return _.createElement("a",qg({},w,{href:b||x,onClick:g||i?r:k,ref:n,target:u}))});var Zb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zb||(Zb={}));var qb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qb||(qb={}));function H7(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:l,viewTransition:c}=t===void 0?{}:t,u=g7(),f=xi(),p=IC(e,{relative:l});return _.useCallback(h=>{if(L7(h,n)){h.preventDefault();let w=r!==void 0?r:$d(f)===$d(p);u(e,{replace:w,state:o,preventScrollReset:i,relative:l,viewTransition:c})}},[f,u,p,r,o,n,e,i,l,c])}function W7(){const{pathname:e}=xi();return _.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const V7=Pc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dt=_.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},i)=>{const l=r?Iz:"button";return m.jsx(l,{className:Oe(V7({variant:t,size:n,className:e})),ref:i,...o})});dt.displayName="Button";const Xt=_.forwardRef(({className:e,type:t,...n},r)=>m.jsx("input",{type:t,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Xt.displayName="Input";var dm="focusScope.autoFocusOnMount",fm="focusScope.autoFocusOnUnmount",Kb={bubbles:!1,cancelable:!0},Z7="FocusScope",Pf=_.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...l}=e,[c,u]=_.useState(null),f=Ot(o),p=Ot(i),h=_.useRef(null),w=Qe(t,g=>u(g)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let g=function(C){if(y.paused||!c)return;const A=C.target;c.contains(A)?h.current=A:ts(h.current,{select:!0})},x=function(C){if(y.paused||!c)return;const A=C.relatedTarget;A!==null&&(c.contains(A)||ts(h.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const I of C)I.removedNodes.length>0&&ts(c)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const k=new MutationObserver(E);return c&&k.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),k.disconnect()}}},[r,c,y.paused]),_.useEffect(()=>{if(c){Yb.add(y);const g=document.activeElement;if(!c.contains(g)){const E=new CustomEvent(dm,Kb);c.addEventListener(dm,f),c.dispatchEvent(E),E.defaultPrevented||(q7(Q7(LC(c)),{select:!0}),document.activeElement===g&&ts(c))}return()=>{c.removeEventListener(dm,f),setTimeout(()=>{const E=new CustomEvent(fm,Kb);c.addEventListener(fm,p),c.dispatchEvent(E),E.defaultPrevented||ts(g??document.body,{select:!0}),c.removeEventListener(fm,p),Yb.remove(y)},0)}}},[c,f,p,y]);const b=_.useCallback(g=>{if(!n&&!r||y.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(x&&E){const k=g.currentTarget,[C,A]=K7(k);C&&A?!g.shiftKey&&E===A?(g.preventDefault(),n&&ts(C,{select:!0})):g.shiftKey&&E===C&&(g.preventDefault(),n&&ts(A,{select:!0})):E===k&&g.preventDefault()}},[n,r,y.paused]);return m.jsx(ze.div,{tabIndex:-1,...l,ref:w,onKeyDown:b})});Pf.displayName=Z7;function q7(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ts(r,{select:t}),document.activeElement!==n)return}function K7(e){const t=LC(e),n=Gb(t,e),r=Gb(t.reverse(),e);return[n,r]}function LC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Gb(e,t){for(const n of e)if(!G7(n,{upTo:t}))return n}function G7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Y7(e){return e instanceof HTMLInputElement&&"select"in e}function ts(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Y7(e)&&t&&e.select()}}var Yb=J7();function J7(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Jb(e,t),e.unshift(t)},remove(t){var n;e=Jb(e,t),(n=e[0])==null||n.resume()}}}function Jb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Q7(e){return e.filter(t=>t.tagName!=="A")}var hm=0;function Tv(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qb()),document.body.insertAdjacentElement("beforeend",e[1]??Qb()),hm++,()=>{hm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hm--}},[])}function Qb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Br=function(){return Br=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Br.apply(this,arguments)};function DC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function X7(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var yd="right-scroll-bar-position",vd="width-before-scroll-bar",e9="with-scroll-bars-hidden",t9="--removed-body-scroll-bar-size";function pm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function n9(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var r9=typeof window<"u"?_.useLayoutEffect:_.useEffect,Xb=new WeakMap;function o9(e,t){var n=n9(null,function(r){return e.forEach(function(o){return pm(o,r)})});return r9(function(){var r=Xb.get(n);if(r){var o=new Set(r),i=new Set(e),l=n.current;o.forEach(function(c){i.has(c)||pm(c,null)}),i.forEach(function(c){o.has(c)||pm(c,l)})}Xb.set(n,e)},[e]),n}function s9(e){return e}function i9(e,t){t===void 0&&(t=s9);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var u=function(){var p=l;l=[],p.forEach(i)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),n}}}};return o}function a9(e){e===void 0&&(e={});var t=i9(null);return t.options=Br({async:!0,ssr:!1},e),t}var zC=function(e){var t=e.sideCar,n=DC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Br({},n))};zC.isSideCarExport=!0;function l9(e,t){return e.useMedium(t),zC}var BC=a9(),mm=function(){},Rf=_.forwardRef(function(e,t){var n=_.useRef(null),r=_.useState({onScrollCapture:mm,onWheelCapture:mm,onTouchMoveCapture:mm}),o=r[0],i=r[1],l=e.forwardProps,c=e.children,u=e.className,f=e.removeScrollBar,p=e.enabled,h=e.shards,w=e.sideCar,y=e.noIsolation,b=e.inert,g=e.allowPinchZoom,x=e.as,E=x===void 0?"div":x,k=e.gapMode,C=DC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=w,I=o9([n,t]),L=Br(Br({},C),o);return _.createElement(_.Fragment,null,p&&_.createElement(A,{sideCar:BC,removeScrollBar:f,shards:h,noIsolation:y,inert:b,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:k}),l?_.cloneElement(_.Children.only(c),Br(Br({},L),{ref:I})):_.createElement(E,Br({},L,{className:u,ref:I}),c))});Rf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rf.classNames={fullWidth:vd,zeroRight:yd};var c9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function u9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=c9();return t&&e.setAttribute("nonce",t),e}function d9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function f9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var h9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=u9())&&(d9(t,n),f9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},p9=function(){var e=h9();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},FC=function(){var e=p9(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},m9={left:0,top:0,right:0,gap:0},gm=function(e){return parseInt(e||"",10)||0},g9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[gm(n),gm(r),gm(o)]},y9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return m9;var t=g9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},v9=FC(),la="data-scroll-locked",w9=function(e,t,n,r){var o=e.left,i=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(e9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(la,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yd,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(vd,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(yd," .").concat(yd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vd," .").concat(vd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(la,`] {
    `).concat(t9,": ").concat(c,`px;
  }
`)},eE=function(){var e=parseInt(document.body.getAttribute(la)||"0",10);return isFinite(e)?e:0},x9=function(){_.useEffect(function(){return document.body.setAttribute(la,(eE()+1).toString()),function(){var e=eE()-1;e<=0?document.body.removeAttribute(la):document.body.setAttribute(la,e.toString())}},[])},b9=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;x9();var i=_.useMemo(function(){return y9(o)},[o]);return _.createElement(v9,{styles:w9(i,!t,o,n?"":"!important")})},Kg=!1;if(typeof window<"u")try{var sd=Object.defineProperty({},"passive",{get:function(){return Kg=!0,!0}});window.addEventListener("test",sd,sd),window.removeEventListener("test",sd,sd)}catch{Kg=!1}var Ki=Kg?{passive:!1}:!1,E9=function(e){return e.tagName==="TEXTAREA"},$C=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!E9(e)&&n[t]==="visible")},_9=function(e){return $C(e,"overflowY")},S9=function(e){return $C(e,"overflowX")},tE=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=UC(e,r);if(o){var i=HC(e,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},k9=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},C9=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},UC=function(e,t){return e==="v"?_9(t):S9(t)},HC=function(e,t){return e==="v"?k9(t):C9(t)},N9=function(e,t){return e==="h"&&t==="rtl"?-1:1},T9=function(e,t,n,r,o){var i=N9(e,window.getComputedStyle(t).direction),l=i*r,c=n.target,u=t.contains(c),f=!1,p=l>0,h=0,w=0;do{var y=HC(e,c),b=y[0],g=y[1],x=y[2],E=g-x-i*b;(b||E)&&UC(e,c)&&(h+=E,w+=b),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(p&&Math.abs(h)<1||!p&&Math.abs(w)<1)&&(f=!0),f},id=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nE=function(e){return[e.deltaX,e.deltaY]},rE=function(e){return e&&"current"in e?e.current:e},P9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},R9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},A9=0,Gi=[];function I9(e){var t=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),o=_.useState(A9++)[0],i=_.useState(FC)[0],l=_.useRef(e);_.useEffect(function(){l.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=X7([e.lockRef.current],(e.shards||[]).map(rE),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=_.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!l.current.allowPinchZoom;var E=id(g),k=n.current,C="deltaX"in g?g.deltaX:k[0]-E[0],A="deltaY"in g?g.deltaY:k[1]-E[1],I,L=g.target,z=Math.abs(C)>Math.abs(A)?"h":"v";if("touches"in g&&z==="h"&&L.type==="range")return!1;var $=tE(z,L);if(!$)return!0;if($?I=z:(I=z==="v"?"h":"v",$=tE(z,L)),!$)return!1;if(!r.current&&"changedTouches"in g&&(C||A)&&(r.current=I),!I)return!0;var O=r.current||I;return T9(O,x,g,O==="h"?C:A)},[]),u=_.useCallback(function(g){var x=g;if(!(!Gi.length||Gi[Gi.length-1]!==i)){var E="deltaY"in x?nE(x):id(x),k=t.current.filter(function(I){return I.name===x.type&&(I.target===x.target||x.target===I.shadowParent)&&P9(I.delta,E)})[0];if(k&&k.should){x.cancelable&&x.preventDefault();return}if(!k){var C=(l.current.shards||[]).map(rE).filter(Boolean).filter(function(I){return I.contains(x.target)}),A=C.length>0?c(x,C[0]):!l.current.noIsolation;A&&x.cancelable&&x.preventDefault()}}},[]),f=_.useCallback(function(g,x,E,k){var C={name:g,delta:x,target:E,should:k,shadowParent:j9(E)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(A){return A!==C})},1)},[]),p=_.useCallback(function(g){n.current=id(g),r.current=void 0},[]),h=_.useCallback(function(g){f(g.type,nE(g),g.target,c(g,e.lockRef.current))},[]),w=_.useCallback(function(g){f(g.type,id(g),g.target,c(g,e.lockRef.current))},[]);_.useEffect(function(){return Gi.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:w}),document.addEventListener("wheel",u,Ki),document.addEventListener("touchmove",u,Ki),document.addEventListener("touchstart",p,Ki),function(){Gi=Gi.filter(function(g){return g!==i}),document.removeEventListener("wheel",u,Ki),document.removeEventListener("touchmove",u,Ki),document.removeEventListener("touchstart",p,Ki)}},[]);var y=e.removeScrollBar,b=e.inert;return _.createElement(_.Fragment,null,b?_.createElement(i,{styles:R9(o)}):null,y?_.createElement(b9,{gapMode:e.gapMode}):null)}function j9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const O9=l9(BC,I9);var Af=_.forwardRef(function(e,t){return _.createElement(Rf,Br({},e,{ref:t,sideCar:O9}))});Af.classNames=Rf.classNames;var M9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yi=new WeakMap,ad=new WeakMap,ld={},ym=0,WC=function(e){return e&&(e.host||WC(e.parentNode))},L9=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=WC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},D9=function(e,t,n,r){var o=L9(t,Array.isArray(e)?e:[e]);ld[n]||(ld[n]=new WeakMap);var i=ld[n],l=[],c=new Set,u=new Set(o),f=function(h){!h||c.has(h)||(c.add(h),f(h.parentNode))};o.forEach(f);var p=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(w){if(c.has(w))p(w);else try{var y=w.getAttribute(r),b=y!==null&&y!=="false",g=(Yi.get(w)||0)+1,x=(i.get(w)||0)+1;Yi.set(w,g),i.set(w,x),l.push(w),g===1&&b&&ad.set(w,!0),x===1&&w.setAttribute(n,"true"),b||w.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",w,E)}})};return p(t),c.clear(),ym++,function(){l.forEach(function(h){var w=Yi.get(h)-1,y=i.get(h)-1;Yi.set(h,w),i.set(h,y),w||(ad.has(h)||h.removeAttribute(r),ad.delete(h)),y||h.removeAttribute(n)}),ym--,ym||(Yi=new WeakMap,Yi=new WeakMap,ad=new WeakMap,ld={})}},Pv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=M9(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),D9(r,o,n,"aria-hidden")):function(){return null}},If="Dialog",[VC,Kq]=un(If),[z9,Sr]=VC(If),ZC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=_.useRef(null),u=_.useRef(null),[f,p]=br({prop:r,defaultProp:o??!1,onChange:i,caller:If});return m.jsx(z9,{scope:t,triggerRef:c,contentRef:u,contentId:nr(),titleId:nr(),descriptionId:nr(),open:f,onOpenChange:p,onOpenToggle:_.useCallback(()=>p(h=>!h),[p]),modal:l,children:n})};ZC.displayName=If;var qC="DialogTrigger",B9=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(qC,n),i=Qe(t,o.triggerRef);return m.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":jv(o.open),...r,ref:i,onClick:Pe(e.onClick,o.onOpenToggle)})});B9.displayName=qC;var Rv="DialogPortal",[F9,KC]=VC(Rv,{forceMount:void 0}),GC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=Sr(Rv,t);return m.jsx(F9,{scope:t,forceMount:n,children:_.Children.map(r,l=>m.jsx(dn,{present:n||i.open,children:m.jsx(Nc,{asChild:!0,container:o,children:l})}))})};GC.displayName=Rv;var Ud="DialogOverlay",YC=_.forwardRef((e,t)=>{const n=KC(Ud,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Sr(Ud,e.__scopeDialog);return i.modal?m.jsx(dn,{present:r||i.open,children:m.jsx(U9,{...o,ref:t})}):null});YC.displayName=Ud;var $9=fi("DialogOverlay.RemoveScroll"),U9=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(Ud,n);return m.jsx(Af,{as:$9,allowPinchZoom:!0,shards:[o.contentRef],children:m.jsx(ze.div,{"data-state":jv(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),pi="DialogContent",JC=_.forwardRef((e,t)=>{const n=KC(pi,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=Sr(pi,e.__scopeDialog);return m.jsx(dn,{present:r||i.open,children:i.modal?m.jsx(H9,{...o,ref:t}):m.jsx(W9,{...o,ref:t})})});JC.displayName=pi;var H9=_.forwardRef((e,t)=>{const n=Sr(pi,e.__scopeDialog),r=_.useRef(null),o=Qe(t,n.contentRef,r);return _.useEffect(()=>{const i=r.current;if(i)return Pv(i)},[]),m.jsx(QC,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault())})}),W9=_.forwardRef((e,t)=>{const n=Sr(pi,e.__scopeDialog),r=_.useRef(!1),o=_.useRef(!1);return m.jsx(QC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),QC=_.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,c=Sr(pi,n),u=_.useRef(null),f=Qe(t,u);return Tv(),m.jsxs(m.Fragment,{children:[m.jsx(Pf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:m.jsx(za,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":jv(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(V9,{titleId:c.titleId}),m.jsx(q9,{contentRef:u,descriptionId:c.descriptionId})]})]})}),Av="DialogTitle",Iv=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(Av,n);return m.jsx(ze.h2,{id:o.titleId,...r,ref:t})});Iv.displayName=Av;var XC="DialogDescription",eN=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(XC,n);return m.jsx(ze.p,{id:o.descriptionId,...r,ref:t})});eN.displayName=XC;var tN="DialogClose",nN=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Sr(tN,n);return m.jsx(ze.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,()=>o.onOpenChange(!1))})});nN.displayName=tN;function jv(e){return e?"open":"closed"}var rN="DialogTitleWarning",[Gq,oN]=Rz(rN,{contentName:pi,titleName:Av,docsSlug:"dialog"}),V9=({titleId:e})=>{const t=oN(rN),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Z9="DialogDescriptionWarning",q9=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oN(Z9).contentName}}.`;return _.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},K9=ZC,G9=GC,sN=YC,iN=JC,aN=Iv,lN=eN,Y9=nN;const jf=K9,J9=G9,cN=_.forwardRef(({className:e,...t},n)=>m.jsx(sN,{ref:n,className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));cN.displayName=sN.displayName;const Ic=_.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(J9,{children:[m.jsx(cN,{}),m.jsxs(iN,{ref:r,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,m.jsxs(Y9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(Ik,{className:"size-5"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ic.displayName=iN.displayName;const jc=({className:e,...t})=>m.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});jc.displayName="DialogHeader";const Of=_.forwardRef(({className:e,...t},n)=>m.jsx(aN,{ref:n,className:Oe("text-lg font-semibold leading-none tracking-tight",e),...t}));Of.displayName=aN.displayName;const Ov=_.forwardRef(({className:e,...t},n)=>m.jsx(lN,{ref:n,className:Oe("text-sm text-muted-foreground",e),...t}));Ov.displayName=lN.displayName;var Q9=_.createContext(void 0);function Wa(e){const t=_.useContext(Q9);return e||t||"ltr"}var vm="rovingFocusGroup.onEntryFocus",X9={bubbles:!1,cancelable:!0},Oc="RovingFocusGroup",[Gg,uN,eH]=Cc(Oc),[tH,Mf]=un(Oc,[eH]),[nH,rH]=tH(Oc),dN=_.forwardRef((e,t)=>m.jsx(Gg.Provider,{scope:e.__scopeRovingFocusGroup,children:m.jsx(Gg.Slot,{scope:e.__scopeRovingFocusGroup,children:m.jsx(oH,{...e,ref:t})})}));dN.displayName=Oc;var oH=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...h}=e,w=_.useRef(null),y=Qe(t,w),b=Wa(i),[g,x]=br({prop:l,defaultProp:c??null,onChange:u,caller:Oc}),[E,k]=_.useState(!1),C=Ot(f),A=uN(n),I=_.useRef(!1),[L,z]=_.useState(0);return _.useEffect(()=>{const $=w.current;if($)return $.addEventListener(vm,C),()=>$.removeEventListener(vm,C)},[C]),m.jsx(nH,{scope:n,orientation:r,dir:b,loop:o,currentTabStopId:g,onItemFocus:_.useCallback($=>x($),[x]),onItemShiftTab:_.useCallback(()=>k(!0),[]),onFocusableItemAdd:_.useCallback(()=>z($=>$+1),[]),onFocusableItemRemove:_.useCallback(()=>z($=>$-1),[]),children:m.jsx(ze.div,{tabIndex:E||L===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{I.current=!0}),onFocus:Pe(e.onFocus,$=>{const O=!I.current;if($.target===$.currentTarget&&O&&!E){const B=new CustomEvent(vm,X9);if($.currentTarget.dispatchEvent(B),!B.defaultPrevented){const W=A().filter(X=>X.focusable),M=W.find(X=>X.active),V=W.find(X=>X.id===g),U=[M,V,...W].filter(Boolean).map(X=>X.ref.current);pN(U,p)}}I.current=!1}),onBlur:Pe(e.onBlur,()=>k(!1))})})}),fN="RovingFocusGroupItem",hN=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:l,...c}=e,u=nr(),f=i||u,p=rH(fN,n),h=p.currentTabStopId===f,w=uN(n),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:g}=p;return _.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),m.jsx(Gg.ItemSlot,{scope:n,id:f,focusable:r,active:o,children:m.jsx(ze.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...c,ref:t,onMouseDown:Pe(e.onMouseDown,x=>{r?p.onItemFocus(f):x.preventDefault()}),onFocus:Pe(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:Pe(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){p.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const E=aH(x,p.orientation,p.dir);if(E!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let C=w().filter(A=>A.focusable).map(A=>A.ref.current);if(E==="last")C.reverse();else if(E==="prev"||E==="next"){E==="prev"&&C.reverse();const A=C.indexOf(x.currentTarget);C=p.loop?lH(C,A+1):C.slice(A+1)}setTimeout(()=>pN(C))}}),children:typeof l=="function"?l({isCurrentTabStop:h,hasTabStop:g!=null}):l})})});hN.displayName=fN;var sH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function aH(e,t,n){const r=iH(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sH[r]}function pN(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function lH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var mN=dN,gN=hN,Lf="Tabs",[cH,Yq]=un(Lf,[Mf]),yN=Mf(),[uH,Mv]=cH(Lf),vN=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:u="automatic",...f}=e,p=Wa(c),[h,w]=br({prop:r,onChange:o,defaultProp:i??"",caller:Lf});return m.jsx(uH,{scope:n,baseId:nr(),value:h,onValueChange:w,orientation:l,dir:p,activationMode:u,children:m.jsx(ze.div,{dir:p,"data-orientation":l,...f,ref:t})})});vN.displayName=Lf;var wN="TabsList",xN=_.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,i=Mv(wN,n),l=yN(n);return m.jsx(mN,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:m.jsx(ze.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});xN.displayName=wN;var bN="TabsTrigger",EN=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=e,l=Mv(bN,n),c=yN(n),u=kN(l.baseId,r),f=CN(l.baseId,r),p=r===l.value;return m.jsx(gN,{asChild:!0,...c,focusable:!o,active:p,children:m.jsx(ze.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...i,ref:t,onMouseDown:Pe(e.onMouseDown,h=>{!o&&h.button===0&&h.ctrlKey===!1?l.onValueChange(r):h.preventDefault()}),onKeyDown:Pe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&l.onValueChange(r)}),onFocus:Pe(e.onFocus,()=>{const h=l.activationMode!=="manual";!p&&!o&&h&&l.onValueChange(r)})})})});EN.displayName=bN;var _N="TabsContent",SN=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:i,...l}=e,c=Mv(_N,n),u=kN(c.baseId,r),f=CN(c.baseId,r),p=r===c.value,h=_.useRef(p);return _.useEffect(()=>{const w=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(w)},[]),m.jsx(dn,{present:o||p,children:({present:w})=>m.jsx(ze.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!w,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:w&&i})})});SN.displayName=_N;function kN(e,t){return`${e}-trigger-${t}`}function CN(e,t){return`${e}-content-${t}`}var dH=vN,NN=xN,TN=EN,PN=SN;const fH=dH,RN=_.forwardRef(({className:e,...t},n)=>m.jsx(NN,{ref:n,className:Oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));RN.displayName=NN.displayName;const Yg=_.forwardRef(({className:e,...t},n)=>m.jsx(TN,{ref:n,className:Oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Yg.displayName=TN.displayName;const Jg=_.forwardRef(({className:e,...t},n)=>m.jsx(PN,{ref:n,className:Oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Jg.displayName=PN.displayName;const hH=Pc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),AN=_.forwardRef(({className:e,variant:t,...n},r)=>m.jsx("div",{ref:r,role:"alert",className:Oe(hH({variant:t}),e),...n}));AN.displayName="Alert";const pH=_.forwardRef(({className:e,...t},n)=>m.jsx("h5",{ref:n,className:Oe("mb-1 font-medium leading-none tracking-tight",e),...t}));pH.displayName="AlertTitle";const IN=_.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:Oe("text-sm [&_p]:leading-relaxed",e),...t}));IN.displayName="AlertDescription";var Df="Collapsible",[mH,Jq]=un(Df),[gH,Lv]=mH(Df),jN=_.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:i,onOpenChange:l,...c}=e,[u,f]=br({prop:r,defaultProp:o??!1,onChange:l,caller:Df});return m.jsx(gH,{scope:n,disabled:i,contentId:nr(),open:u,onOpenToggle:_.useCallback(()=>f(p=>!p),[f]),children:m.jsx(ze.div,{"data-state":zv(u),"data-disabled":i?"":void 0,...c,ref:t})})});jN.displayName=Df;var ON="CollapsibleTrigger",MN=_.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=Lv(ON,n);return m.jsx(ze.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":zv(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:Pe(e.onClick,o.onOpenToggle)})});MN.displayName=ON;var Dv="CollapsibleContent",LN=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Lv(Dv,e.__scopeCollapsible);return m.jsx(dn,{present:n||o.open,children:({present:i})=>m.jsx(yH,{...r,ref:t,present:i})})});LN.displayName=Dv;var yH=_.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:o,...i}=e,l=Lv(Dv,n),[c,u]=_.useState(r),f=_.useRef(null),p=Qe(t,f),h=_.useRef(0),w=h.current,y=_.useRef(0),b=y.current,g=l.open||c,x=_.useRef(g),E=_.useRef(void 0);return _.useEffect(()=>{const k=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(k)},[]),Lt(()=>{const k=f.current;if(k){E.current=E.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const C=k.getBoundingClientRect();h.current=C.height,y.current=C.width,x.current||(k.style.transitionDuration=E.current.transitionDuration,k.style.animationName=E.current.animationName),u(r)}},[l.open,r]),m.jsx(ze.div,{"data-state":zv(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!g,...i,ref:p,style:{"--radix-collapsible-content-height":w?`${w}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:g&&o})});function zv(e){return e?"open":"closed"}var vH=jN;const wH=vH,xH=MN,bH=LN;function DN(){const{nostr:e}=$n(),{logins:t,addLogin:n,removeLogin:r}=nv();return{nsec(o){const i=si.fromNsec(o);n(i)},async bunker(o){const i=await si.fromBunker(o,e);n(i)},async extension(){const o=await si.fromExtension();n(o)},async logout(){const o=t[0];o&&r(o.id)}}}const oE=e=>/^nsec1[a-zA-Z0-9]{58}$/.test(e),EH=e=>e.startsWith("bunker://"),_H=({isOpen:e,onClose:t,onLogin:n})=>{const[r,o]=_.useState(!1),[i,l]=_.useState(!1),[c,u]=_.useState(""),[f,p]=_.useState(""),[h,w]=_.useState({}),y=_.useRef(null),b=DN();_.useEffect(()=>{e&&(o(!1),l(!1),u(""),p(""),w({}),y.current&&(y.current.value=""))},[e]);const g=async()=>{o(!0),w($=>({...$,extension:void 0}));try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");await b.extension(),n(),t()}catch($){const O=$;console.error("Bunker login failed:",O),console.error("Nsec login failed:",O),console.error("Extension login failed:",O),w(B=>({...B,extension:O instanceof Error?O.message:"Extension login failed"}))}finally{o(!1)}},x=$=>{o(!0),w({}),setTimeout(()=>{try{b.nsec($),n(),t()}catch{w({nsec:"Failed to login with this key. Please check that it's correct."}),o(!1)}},50)},E=()=>{if(!c.trim()){w($=>({...$,nsec:"Please enter your secret key"}));return}if(!oE(c)){w($=>({...$,nsec:"Invalid secret key format. Must be a valid nsec starting with nsec1."}));return}x(c)},k=async()=>{if(!f.trim()){w($=>({...$,bunker:"Please enter a bunker URI"}));return}if(!EH(f)){w($=>({...$,bunker:"Invalid bunker URI format. Must start with bunker://"}));return}o(!0),w($=>({...$,bunker:void 0}));try{await b.bunker(f),n(),t(),p("")}catch{w($=>({...$,bunker:"Failed to connect to bunker. Please check the URI."}))}finally{o(!1)}},C=$=>{var W;const O=(W=$.target.files)==null?void 0:W[0];if(!O)return;l(!0),w({});const B=new FileReader;B.onload=M=>{var P;l(!1);const V=(P=M.target)==null?void 0:P.result;if(V){const U=V.trim();oE(U)?x(U):w({file:"File does not contain a valid secret key."})}else w({file:"Could not read file content."})},B.onerror=()=>{l(!1),w({file:"Failed to read file."})},B.readAsText(O)},A="nostr"in window,[I,L]=_.useState(!1),z=()=>m.jsxs(fH,{defaultValue:"key",className:"w-full",children:[m.jsxs(RN,{className:"grid w-full grid-cols-2 bg-muted/80 rounded-lg mb-4",children:[m.jsx(Yg,{value:"key",className:"flex items-center gap-2",children:m.jsx("span",{children:"Secret Key"})}),m.jsx(Yg,{value:"bunker",className:"flex items-center gap-2",children:m.jsx("span",{children:"Remote Signer"})})]}),m.jsx(Jg,{value:"key",className:"space-y-4",children:m.jsxs("form",{onSubmit:$=>{$.preventDefault(),E()},className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Xt,{id:"nsec",type:"password",value:c,onChange:$=>{u($.target.value),h.nsec&&w(O=>({...O,nsec:void 0}))},className:`rounded-lg ${h.nsec?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:"nsec1...",autoComplete:"off"}),h.nsec&&m.jsx("p",{className:"text-sm text-red-500",children:h.nsec})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(dt,{type:"submit",size:"lg",disabled:r||!c.trim(),className:"flex-1",children:r?"Verifying...":"Log in"}),m.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:y,onChange:C}),m.jsx(dt,{type:"button",variant:"outline",size:"lg",onClick:()=>{var $;return($=y.current)==null?void 0:$.click()},disabled:r||i,className:"px-3",children:m.jsx(Ak,{className:"w-4 h-4"})})]}),h.file&&m.jsx("p",{className:"text-sm text-red-500 text-center",children:h.file})]})}),m.jsx(Jg,{value:"bunker",className:"space-y-4",children:m.jsxs("form",{onSubmit:$=>{$.preventDefault(),k()},className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Xt,{id:"bunkerUri",value:f,onChange:$=>{p($.target.value),h.bunker&&w(O=>({...O,bunker:void 0}))},className:`rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary ${h.bunker?"border-red-500":""}`,placeholder:"bunker://",autoComplete:"off"}),h.bunker&&m.jsx("p",{className:"text-sm text-red-500",children:h.bunker})]}),m.jsx(dt,{type:"submit",size:"lg",className:"w-full",disabled:r||!f.trim(),children:r?"Connecting...":"Log in"})]})})]});return m.jsx(jf,{open:e,onOpenChange:t,children:m.jsxs(Ic,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[m.jsx(jc,{className:"px-6 pt-6",children:m.jsx(Iv,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:"Log in"})}),m.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),m.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto",children:[A&&m.jsxs("div",{className:"space-y-4",children:[h.extension&&m.jsxs(AN,{variant:"destructive",children:[m.jsx(av,{className:"h-4 w-4"}),m.jsx(IN,{children:h.extension})]}),m.jsx(dt,{className:"w-full h-12 px-9",onClick:g,disabled:r,children:r?"Logging in...":"Log in with Extension"})]}),A?m.jsxs(wH,{className:"space-y-4",open:I,onOpenChange:L,children:[m.jsx(xH,{asChild:!0,children:m.jsxs("button",{className:"w-full flex items-center justify-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[m.jsx("span",{children:"More Options"}),m.jsx(bf,{className:`w-4 h-4 transition-transform ${I?"rotate-180":""}`})]})}),m.jsx(bH,{children:z()})]}):z()]})]})})},zf=_.forwardRef(({className:e,...t},n)=>m.jsx("textarea",{className:Oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));zf.displayName="Textarea";function Bv(){const{nostr:e}=$n(),{user:t}=vi();return gy({mutationFn:async n=>{if(t){const r=n.tags??[];location.protocol==="https:"&&!r.some(([i])=>i==="client")&&r.push(["client",location.hostname]);const o=await t.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await e.event(o,{signal:AbortSignal.timeout(5e3)}),o}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}class Fv{constructor(t){je(this,"servers");je(this,"signer");je(this,"fetch");je(this,"expiresIn");this.servers=t.servers,this.signer=t.signer,this.fetch=t.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=t.expiresIn??6e4}async upload(t,n){const r=await crypto.subtle.digest("SHA-256",await t.arrayBuffer()),o=az(new Uint8Array(r)),i=Date.now(),l=i+this.expiresIn,c=await this.signer.signEvent({kind:24242,content:`Upload ${t.name}`,created_at:Math.floor(i/1e3),tags:[["t","upload"],["x",o],["size",t.size.toString()],["expiration",Math.floor(l/1e3).toString()]]}),u=`Nostr ${hz.encodeEvent(c)}`;return Promise.any(this.servers.map(async f=>{const p=new URL("/upload",f),w=await(await this.fetch(p,{method:"PUT",body:t,headers:{authorization:u,"content-type":t.type},signal:n==null?void 0:n.signal})).json(),y=Fv.schema().parse(w),b=[["url",y.url],["x",y.sha256],["ox",y.sha256],["size",y.size.toString()]];return y.type&&b.push(["m",y.type]),b}))}static schema(){return mo({url:ft(),sha256:ft(),size:so(),type:ft().optional()})}}function zN(){const{user:e}=vi();return gy({mutationFn:async t=>{if(!e)throw new Error("Must be logged in to upload files");return await new Fv({servers:["https://blossom.primal.net/"],signer:e.signer}).upload(t)}})}const SH=({isOpen:e,onClose:t})=>{const[n,r]=_.useState("generate"),[o,i]=_.useState(""),[l,c]=_.useState(!1),[u,f]=_.useState({name:"",about:"",picture:""}),p=DN(),{mutateAsync:h,isPending:w}=Bv(),{mutateAsync:y,isPending:b}=zN(),g=_.useRef(null),x=()=>{const I=_c();i(yn.nsecEncode(I)),r("download")},E=()=>{try{const I=new Blob([o],{type:"text/plain; charset=utf-8"}),L=globalThis.URL.createObjectURL(I),z=yn.decode(o);if(z.type!=="nsec")throw new Error("Invalid nsec key");const $=wo(z.data),O=yn.npubEncode($),B=`nostr-${location.hostname.replaceAll(/\./g,"-")}-${O.slice(5,9)}.nsec.txt`,W=document.createElement("a");W.href=L,W.download=B,W.style.display="none",document.body.appendChild(W),W.click(),globalThis.URL.revokeObjectURL(L),document.body.removeChild(W),p.nsec(o),r("profile")}catch{Xi({title:"Download failed",description:"Could not download the key file. Please copy it manually.",variant:"destructive"})}},k=async I=>{var z,$;const L=(z=I.target.files)==null?void 0:z[0];if(L){if(I.target.value="",!L.type.startsWith("image/")){Xi({title:"Invalid file type",description:"Please select an image file for your avatar.",variant:"destructive"});return}if(L.size>5*1024*1024){Xi({title:"File too large",description:"Avatar image must be smaller than 5MB.",variant:"destructive"});return}try{const B=($=(await y(L))[0])==null?void 0:$[1];B&&f(W=>({...W,picture:B}))}catch{Xi({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}}},C=async(I=!1)=>{try{if(!I&&(u.name||u.about||u.picture)){const L={};u.name&&(L.name=u.name),u.about&&(L.about=u.about),u.picture&&(L.picture=u.picture),await h({kind:0,content:JSON.stringify(L)})}}catch{Xi({title:"Profile Setup Failed",description:"Your account was created but profile setup failed. You can update it later.",variant:"destructive"})}finally{t()}},A=()=>{if(n==="generate")return"Sign up";if(n==="download")return"Secret Key";if(n==="profile")return"Create Your Profile"};return _.useEffect(()=>{e&&(r("generate"),i(""),c(!1),f({name:"",about:"",picture:""}))},[e]),m.jsx(jf,{open:e,onOpenChange:t,children:m.jsxs(Ic,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[m.jsx(jc,{className:"px-6 pt-6",children:m.jsx(Of,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:A()})}),m.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto flex-1",children:[n==="generate"&&m.jsxs("div",{className:"text-center space-y-6",children:[m.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),m.jsx(dt,{className:"w-full h-12 px-9",onClick:x,children:"Generate key"})]}),n==="download"&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex size-16 text-4xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),m.jsxs("div",{className:"relative",children:[m.jsx(Xt,{type:l?"text":"password",value:o,readOnly:!0,className:"pr-10 font-mono text-sm"}),m.jsx(dt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>c(!l),children:l?m.jsx(OB,{className:"h-4 w-4 text-muted-foreground"}):m.jsx(MB,{className:"h-4 w-4 text-muted-foreground"})})]}),m.jsxs(dt,{className:"w-full h-12 px-9",onClick:E,children:[m.jsx(jB,{className:"size-4"}),"Download key"]}),m.jsx("div",{className:"mx-auto max-w-sm",children:m.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[m.jsx("div",{className:"flex items-center gap-2 mb-1",children:m.jsx("span",{className:"text-xs font-semibold text-amber-800 dark:text-amber-200",children:"Important Warning"})}),m.jsx("p",{className:"text-xs text-amber-900 dark:text-amber-300",children:"This key is your primary and only means of accessing your account. Store it safely and securely. Please download your key to continue."})]})})]}),n==="profile"&&m.jsxs("div",{className:"text-center space-y-4",children:[w&&m.jsx("div",{className:"p-4 rounded-lg bg-muted border",children:m.jsxs("div",{className:"flex items-center justify-center gap-3",children:[m.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),m.jsx("span",{className:"text-sm font-medium",children:"Publishing your profile..."})]})}),m.jsxs("div",{className:`space-y-4 text-left ${w?"opacity-50 pointer-events-none":""}`,children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"profile-name",className:"text-sm font-medium",children:"Display Name"}),m.jsx(Xt,{id:"profile-name",value:u.name,onChange:I=>f(L=>({...L,name:I.target.value})),placeholder:"Your name",disabled:w})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"profile-about",className:"text-sm font-medium",children:"Bio"}),m.jsx(zf,{id:"profile-about",value:u.about,onChange:I=>f(L=>({...L,about:I.target.value})),placeholder:"Tell others about yourself...",className:"resize-none",rows:3,disabled:w})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"profile-picture",className:"text-sm font-medium",children:"Avatar"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Xt,{id:"profile-picture",value:u.picture,onChange:I=>f(L=>({...L,picture:I.target.value})),placeholder:"https://example.com/your-avatar.jpg",className:"flex-1",disabled:w}),m.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:g,onChange:k}),m.jsx(dt,{type:"button",variant:"outline",size:"icon",onClick:()=>{var I;return(I=g.current)==null?void 0:I.click()},disabled:b||w,title:"Upload avatar image",children:b?m.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):m.jsx(Ak,{className:"w-4 h-4"})})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(dt,{className:"w-full",onClick:()=>C(!1),disabled:w||b,children:w?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):"Create profile"}),m.jsx(dt,{variant:"outline",className:"w-full",onClick:()=>C(!0),disabled:w||b,children:w?"Setting up account...":"Skip for now"})]})]})]})]})})};function BN(){const{nostr:e}=$n(),{logins:t,setLogin:n,removeLogin:r}=nv(),{data:o=[]}=Fr({queryKey:["nostr","logins",t.map(c=>c.id).join(";")],queryFn:async({signal:c})=>{const u=await e.query([{kinds:[0],authors:t.map(f=>f.pubkey)}],{signal:AbortSignal.any([c,AbortSignal.timeout(1500)])});return t.map(({id:f,pubkey:p})=>{const h=u.find(w=>w.pubkey===p);try{const w=ot.json().pipe(ot.metadata()).parse(h==null?void 0:h.content);return{id:f,pubkey:p,metadata:w,event:h}}catch{return{id:f,pubkey:p,metadata:{},event:h}}})},retry:3}),i=(()=>{const c=t[0];if(!c)return;const u=o.find(f=>f.id===c.id);return{metadata:{},...u,id:c.id,pubkey:c.pubkey}})(),l=(o||[]).slice(1);return{authors:o,currentUser:i,otherUsers:l,setLogin:n,removeLogin:r}}var Qg=["Enter"," "],kH=["ArrowDown","PageUp","Home"],FN=["ArrowUp","PageDown","End"],CH=[...kH,...FN],NH={ltr:[...Qg,"ArrowRight"],rtl:[...Qg,"ArrowLeft"]},TH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mc="Menu",[uc,PH,RH]=Cc(Mc),[bi,$N]=un(Mc,[RH,Ua,Mf]),Bf=Ua(),UN=Mf(),[AH,Ei]=bi(Mc),[IH,Lc]=bi(Mc),HN=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:i,modal:l=!0}=e,c=Bf(t),[u,f]=_.useState(null),p=_.useRef(!1),h=Ot(i),w=Wa(o);return _.useEffect(()=>{const y=()=>{p.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>p.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),m.jsx(wv,{...c,children:m.jsx(AH,{scope:t,open:n,onOpenChange:h,content:u,onContentChange:f,children:m.jsx(IH,{scope:t,onClose:_.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:p,dir:w,modal:l,children:r})})})};HN.displayName=Mc;var jH="MenuAnchor",$v=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Bf(n);return m.jsx(xv,{...o,...r,ref:t})});$v.displayName=jH;var Uv="MenuPortal",[OH,WN]=bi(Uv,{forceMount:void 0}),VN=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,i=Ei(Uv,t);return m.jsx(OH,{scope:t,forceMount:n,children:m.jsx(dn,{present:n||i.open,children:m.jsx(Nc,{asChild:!0,container:o,children:r})})})};VN.displayName=Uv;var rr="MenuContent",[MH,Hv]=bi(rr),ZN=_.forwardRef((e,t)=>{const n=WN(rr,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=Ei(rr,e.__scopeMenu),l=Lc(rr,e.__scopeMenu);return m.jsx(uc.Provider,{scope:e.__scopeMenu,children:m.jsx(dn,{present:r||i.open,children:m.jsx(uc.Slot,{scope:e.__scopeMenu,children:l.modal?m.jsx(LH,{...o,ref:t}):m.jsx(DH,{...o,ref:t})})})})}),LH=_.forwardRef((e,t)=>{const n=Ei(rr,e.__scopeMenu),r=_.useRef(null),o=Qe(t,r);return _.useEffect(()=>{const i=r.current;if(i)return Pv(i)},[]),m.jsx(Wv,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),DH=_.forwardRef((e,t)=>{const n=Ei(rr,e.__scopeMenu);return m.jsx(Wv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),zH=fi("MenuContent.ScrollLock"),Wv=_.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:w,onDismiss:y,disableOutsideScroll:b,...g}=e,x=Ei(rr,n),E=Lc(rr,n),k=Bf(n),C=UN(n),A=PH(n),[I,L]=_.useState(null),z=_.useRef(null),$=Qe(t,z,x.onContentChange),O=_.useRef(0),B=_.useRef(""),W=_.useRef(0),M=_.useRef(null),V=_.useRef("right"),P=_.useRef(0),U=b?Af:_.Fragment,X=b?{as:zH,allowPinchZoom:!0}:void 0,J=q=>{var we,xe;const oe=B.current+q,D=A().filter(Se=>!Se.disabled),Z=document.activeElement,ge=(we=D.find(Se=>Se.ref.current===Z))==null?void 0:we.textValue,pe=D.map(Se=>Se.textValue),me=YH(pe,oe,ge),Ae=(xe=D.find(Se=>Se.textValue===me))==null?void 0:xe.ref.current;(function Se(Ie){B.current=Ie,window.clearTimeout(O.current),Ie!==""&&(O.current=window.setTimeout(()=>Se(""),1e3))})(oe),Ae&&setTimeout(()=>Ae.focus())};_.useEffect(()=>()=>window.clearTimeout(O.current),[]),Tv();const ee=_.useCallback(q=>{var D,Z;return V.current===((D=M.current)==null?void 0:D.side)&&QH(q,(Z=M.current)==null?void 0:Z.area)},[]);return m.jsx(MH,{scope:n,searchRef:B,onItemEnter:_.useCallback(q=>{ee(q)&&q.preventDefault()},[ee]),onItemLeave:_.useCallback(q=>{var oe;ee(q)||((oe=z.current)==null||oe.focus(),L(null))},[ee]),onTriggerLeave:_.useCallback(q=>{ee(q)&&q.preventDefault()},[ee]),pointerGraceTimerRef:W,onPointerGraceIntentChange:_.useCallback(q=>{M.current=q},[]),children:m.jsx(U,{...X,children:m.jsx(Pf,{asChild:!0,trapped:o,onMountAutoFocus:Pe(i,q=>{var oe;q.preventDefault(),(oe=z.current)==null||oe.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:m.jsx(za,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:w,onDismiss:y,children:m.jsx(mN,{asChild:!0,...C,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:L,onEntryFocus:Pe(u,q=>{E.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(bv,{role:"menu","aria-orientation":"vertical","data-state":lT(x.open),"data-radix-menu-content":"",dir:E.dir,...k,...g,ref:$,style:{outline:"none",...g.style},onKeyDown:Pe(g.onKeyDown,q=>{const D=q.target.closest("[data-radix-menu-content]")===q.currentTarget,Z=q.ctrlKey||q.altKey||q.metaKey,ge=q.key.length===1;D&&(q.key==="Tab"&&q.preventDefault(),!Z&&ge&&J(q.key));const pe=z.current;if(q.target!==pe||!CH.includes(q.key))return;q.preventDefault();const Ae=A().filter(we=>!we.disabled).map(we=>we.ref.current);FN.includes(q.key)&&Ae.reverse(),KH(Ae)}),onBlur:Pe(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(O.current),B.current="")}),onPointerMove:Pe(e.onPointerMove,dc(q=>{const oe=q.target,D=P.current!==q.clientX;if(q.currentTarget.contains(oe)&&D){const Z=q.clientX>P.current?"right":"left";V.current=Z,P.current=q.clientX}}))})})})})})})});ZN.displayName=rr;var BH="MenuGroup",Vv=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(ze.div,{role:"group",...r,ref:t})});Vv.displayName=BH;var FH="MenuLabel",qN=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(ze.div,{...r,ref:t})});qN.displayName=FH;var Hd="MenuItem",sE="menu.itemSelect",Ff=_.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,i=_.useRef(null),l=Lc(Hd,e.__scopeMenu),c=Hv(Hd,e.__scopeMenu),u=Qe(t,i),f=_.useRef(!1),p=()=>{const h=i.current;if(!n&&h){const w=new CustomEvent(sE,{bubbles:!0,cancelable:!0});h.addEventListener(sE,y=>r==null?void 0:r(y),{once:!0}),rv(h,w),w.defaultPrevented?f.current=!1:l.onClose()}};return m.jsx(KN,{...o,ref:u,disabled:n,onClick:Pe(e.onClick,p),onPointerDown:h=>{var w;(w=e.onPointerDown)==null||w.call(e,h),f.current=!0},onPointerUp:Pe(e.onPointerUp,h=>{var w;f.current||(w=h.currentTarget)==null||w.click()}),onKeyDown:Pe(e.onKeyDown,h=>{const w=c.searchRef.current!=="";n||w&&h.key===" "||Qg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ff.displayName=Hd;var KN=_.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...i}=e,l=Hv(Hd,n),c=UN(n),u=_.useRef(null),f=Qe(t,u),[p,h]=_.useState(!1),[w,y]=_.useState("");return _.useEffect(()=>{const b=u.current;b&&y((b.textContent??"").trim())},[i.children]),m.jsx(uc.ItemSlot,{scope:n,disabled:r,textValue:o??w,children:m.jsx(gN,{asChild:!0,...c,focusable:!r,children:m.jsx(ze.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:f,onPointerMove:Pe(e.onPointerMove,dc(b=>{r?l.onItemLeave(b):(l.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pe(e.onPointerLeave,dc(b=>l.onItemLeave(b))),onFocus:Pe(e.onFocus,()=>h(!0)),onBlur:Pe(e.onBlur,()=>h(!1))})})})}),$H="MenuCheckboxItem",GN=_.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return m.jsx(eT,{scope:e.__scopeMenu,checked:n,children:m.jsx(Ff,{role:"menuitemcheckbox","aria-checked":Wd(n)?"mixed":n,...o,ref:t,"data-state":qv(n),onSelect:Pe(o.onSelect,()=>r==null?void 0:r(Wd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});GN.displayName=$H;var YN="MenuRadioGroup",[UH,HH]=bi(YN,{value:void 0,onValueChange:()=>{}}),JN=_.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,i=Ot(r);return m.jsx(UH,{scope:e.__scopeMenu,value:n,onValueChange:i,children:m.jsx(Vv,{...o,ref:t})})});JN.displayName=YN;var QN="MenuRadioItem",XN=_.forwardRef((e,t)=>{const{value:n,...r}=e,o=HH(QN,e.__scopeMenu),i=n===o.value;return m.jsx(eT,{scope:e.__scopeMenu,checked:i,children:m.jsx(Ff,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":qv(i),onSelect:Pe(r.onSelect,()=>{var l;return(l=o.onValueChange)==null?void 0:l.call(o,n)},{checkForDefaultPrevented:!1})})})});XN.displayName=QN;var Zv="MenuItemIndicator",[eT,WH]=bi(Zv,{checked:!1}),tT=_.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,i=WH(Zv,n);return m.jsx(dn,{present:r||Wd(i.checked)||i.checked===!0,children:m.jsx(ze.span,{...o,ref:t,"data-state":qv(i.checked)})})});tT.displayName=Zv;var VH="MenuSeparator",nT=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return m.jsx(ze.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});nT.displayName=VH;var ZH="MenuArrow",rT=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Bf(n);return m.jsx(Ev,{...o,...r,ref:t})});rT.displayName=ZH;var qH="MenuSub",[Qq,oT]=bi(qH),Vl="MenuSubTrigger",sT=_.forwardRef((e,t)=>{const n=Ei(Vl,e.__scopeMenu),r=Lc(Vl,e.__scopeMenu),o=oT(Vl,e.__scopeMenu),i=Hv(Vl,e.__scopeMenu),l=_.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,f={__scopeMenu:e.__scopeMenu},p=_.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return _.useEffect(()=>p,[p]),_.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),u(null)}},[c,u]),m.jsx($v,{asChild:!0,...f,children:m.jsx(KN,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":lT(n.open),...e,ref:vf(t,o.onTriggerChange),onClick:h=>{var w;(w=e.onClick)==null||w.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Pe(e.onPointerMove,dc(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:Pe(e.onPointerLeave,dc(h=>{var y,b;p();const w=(y=n.content)==null?void 0:y.getBoundingClientRect();if(w){const g=(b=n.content)==null?void 0:b.dataset.side,x=g==="right",E=x?-5:5,k=w[x?"left":"right"],C=w[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+E,y:h.clientY},{x:k,y:w.top},{x:C,y:w.top},{x:C,y:w.bottom},{x:k,y:w.bottom}],side:g}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Pe(e.onKeyDown,h=>{var y;const w=i.searchRef.current!=="";e.disabled||w&&h.key===" "||NH[r.dir].includes(h.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),h.preventDefault())})})})});sT.displayName=Vl;var iT="MenuSubContent",aT=_.forwardRef((e,t)=>{const n=WN(rr,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=Ei(rr,e.__scopeMenu),l=Lc(rr,e.__scopeMenu),c=oT(iT,e.__scopeMenu),u=_.useRef(null),f=Qe(t,u);return m.jsx(uc.Provider,{scope:e.__scopeMenu,children:m.jsx(dn,{present:r||i.open,children:m.jsx(uc.Slot,{scope:e.__scopeMenu,children:m.jsx(Wv,{id:c.contentId,"aria-labelledby":c.triggerId,...o,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var h;l.isUsingKeyboardRef.current&&((h=u.current)==null||h.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Pe(e.onFocusOutside,p=>{p.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Pe(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:Pe(e.onKeyDown,p=>{var y;const h=p.currentTarget.contains(p.target),w=TH[l.dir].includes(p.key);h&&w&&(i.onOpenChange(!1),(y=c.trigger)==null||y.focus(),p.preventDefault())})})})})})});aT.displayName=iT;function lT(e){return e?"open":"closed"}function Wd(e){return e==="indeterminate"}function qv(e){return Wd(e)?"indeterminate":e?"checked":"unchecked"}function KH(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function GH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function YH(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let l=GH(e,Math.max(i,0));o.length===1&&(l=l.filter(f=>f!==n));const u=l.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return u!==n?u:void 0}function JH(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const c=t[i],u=t[l],f=c.x,p=c.y,h=u.x,w=u.y;p>r!=w>r&&n<(h-f)*(r-p)/(w-p)+f&&(o=!o)}return o}function QH(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return JH(n,t)}function dc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var XH=HN,eW=$v,tW=VN,nW=ZN,rW=Vv,oW=qN,sW=Ff,iW=GN,aW=JN,lW=XN,cW=tT,uW=nT,dW=rT,fW=sT,hW=aT,$f="DropdownMenu",[pW,Xq]=un($f,[$N]),vn=$N(),[mW,cT]=pW($f),uT=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:i,onOpenChange:l,modal:c=!0}=e,u=vn(t),f=_.useRef(null),[p,h]=br({prop:o,defaultProp:i??!1,onChange:l,caller:$f});return m.jsx(mW,{scope:t,triggerId:nr(),triggerRef:f,contentId:nr(),open:p,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(w=>!w),[h]),modal:c,children:m.jsx(XH,{...u,open:p,onOpenChange:h,dir:r,modal:c,children:n})})};uT.displayName=$f;var dT="DropdownMenuTrigger",fT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,i=cT(dT,n),l=vn(n);return m.jsx(eW,{asChild:!0,...l,children:m.jsx(ze.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:vf(t,i.triggerRef),onPointerDown:Pe(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Pe(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});fT.displayName=dT;var gW="DropdownMenuPortal",hT=e=>{const{__scopeDropdownMenu:t,...n}=e,r=vn(t);return m.jsx(tW,{...r,...n})};hT.displayName=gW;var pT="DropdownMenuContent",mT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=cT(pT,n),i=vn(n),l=_.useRef(!1);return m.jsx(nW,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...r,ref:t,onCloseAutoFocus:Pe(e.onCloseAutoFocus,c=>{var u;l.current||(u=o.triggerRef.current)==null||u.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Pe(e.onInteractOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,p=u.button===2||f;(!o.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mT.displayName=pT;var yW="DropdownMenuGroup",vW=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=vn(n);return m.jsx(rW,{...o,...r,ref:t})});vW.displayName=yW;var wW="DropdownMenuLabel",gT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=vn(n);return m.jsx(oW,{...o,...r,ref:t})});gT.displayName=wW;var xW="DropdownMenuItem",yT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=vn(n);return m.jsx(sW,{...o,...r,ref:t})});yT.displayName=xW;var bW="DropdownMenuCheckboxItem",vT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=vn(n);return m.jsx(iW,{...o,...r,ref:t})});vT.displayName=bW;var EW="DropdownMenuRadioGroup",_W=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=vn(n);return m.jsx(aW,{...o,...r,ref:t})});_W.displayName=EW;var SW="DropdownMenuRadioItem",wT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=vn(n);return m.jsx(lW,{...o,...r,ref:t})});wT.displayName=SW;var kW="DropdownMenuItemIndicator",xT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=vn(n);return m.jsx(cW,{...o,...r,ref:t})});xT.displayName=kW;var CW="DropdownMenuSeparator",bT=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=vn(n);return m.jsx(uW,{...o,...r,ref:t})});bT.displayName=CW;var NW="DropdownMenuArrow",TW=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=vn(n);return m.jsx(dW,{...o,...r,ref:t})});TW.displayName=NW;var PW="DropdownMenuSubTrigger",ET=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=vn(n);return m.jsx(fW,{...o,...r,ref:t})});ET.displayName=PW;var RW="DropdownMenuSubContent",_T=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=vn(n);return m.jsx(hW,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_T.displayName=RW;var AW=uT,IW=fT,jW=hT,ST=mT,kT=gT,CT=yT,NT=vT,TT=wT,PT=xT,RT=bT,AT=ET,IT=_T;const OW=AW,MW=IW,LW=_.forwardRef(({className:e,inset:t,children:n,...r},o)=>m.jsxs(AT,{ref:o,className:Oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,m.jsx(kB,{className:"ml-auto h-4 w-4"})]}));LW.displayName=AT.displayName;const DW=_.forwardRef(({className:e,...t},n)=>m.jsx(IT,{ref:n,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));DW.displayName=IT.displayName;const jT=_.forwardRef(({className:e,sideOffset:t=4,...n},r)=>m.jsx(jW,{children:m.jsx(ST,{ref:r,sideOffset:t,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));jT.displayName=ST.displayName;const wd=_.forwardRef(({className:e,inset:t,...n},r)=>m.jsx(CT,{ref:r,className:Oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));wd.displayName=CT.displayName;const zW=_.forwardRef(({className:e,children:t,checked:n,...r},o)=>m.jsxs(NT,{ref:o,className:Oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(PT,{children:m.jsx(Pk,{className:"h-4 w-4"})})}),t]}));zW.displayName=NT.displayName;const BW=_.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(TT,{ref:r,className:Oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(PT,{children:m.jsx(TB,{className:"h-2 w-2 fill-current"})})}),t]}));BW.displayName=TT.displayName;const FW=_.forwardRef(({className:e,inset:t,...n},r)=>m.jsx(kT,{ref:r,className:Oe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));FW.displayName=kT.displayName;const OT=_.forwardRef(({className:e,...t},n)=>m.jsx(RT,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",e),...t}));OT.displayName=RT.displayName;var wm={exports:{}},xm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function $W(){if(iE)return xm;iE=1;var e=Jd();function t(h,w){return h===w&&(h!==0||1/h===1/w)||h!==h&&w!==w}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function c(h,w){var y=w(),b=r({inst:{value:y,getSnapshot:w}}),g=b[0].inst,x=b[1];return i(function(){g.value=y,g.getSnapshot=w,u(g)&&x({inst:g})},[h,y,w]),o(function(){return u(g)&&x({inst:g}),h(function(){u(g)&&x({inst:g})})},[h]),l(y),y}function u(h){var w=h.getSnapshot;h=h.value;try{var y=w();return!n(h,y)}catch{return!0}}function f(h,w){return w()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return xm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,xm}var aE;function UW(){return aE||(aE=1,wm.exports=$W()),wm.exports}var HW=UW();function WW(){return HW.useSyncExternalStore(VW,()=>!0,()=>!1)}function VW(){return()=>{}}var Kv="Avatar",[ZW,eK]=un(Kv),[qW,MT]=ZW(Kv),LT=_.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,i]=_.useState("idle");return m.jsx(qW,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:i,children:m.jsx(ze.span,{...r,ref:t})})});LT.displayName=Kv;var DT="AvatarImage",zT=_.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...i}=e,l=MT(DT,n),c=KW(r,i),u=Ot(f=>{o(f),l.onImageLoadingStatusChange(f)});return Lt(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?m.jsx(ze.img,{...i,ref:t,src:r}):null});zT.displayName=DT;var BT="AvatarFallback",FT=_.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,i=MT(BT,n),[l,c]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(u)}},[r]),l&&i.imageLoadingStatus!=="loaded"?m.jsx(ze.span,{...o,ref:t}):null});FT.displayName=BT;function lE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function KW(e,{referrerPolicy:t,crossOrigin:n}){const r=WW(),o=_.useRef(null),i=r?(o.current||(o.current=new window.Image),o.current):null,[l,c]=_.useState(()=>lE(i,e));return Lt(()=>{c(lE(i,e))},[i,e]),Lt(()=>{const u=h=>()=>{c(h)};if(!i)return;const f=u("loaded"),p=u("error");return i.addEventListener("load",f),i.addEventListener("error",p),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",f),i.removeEventListener("error",p)}},[i,n,t]),l}var $T=LT,UT=zT,HT=FT;const fc=_.forwardRef(({className:e,...t},n)=>m.jsx($T,{ref:n,className:Oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));fc.displayName=$T.displayName;const hc=_.forwardRef(({className:e,...t},n)=>m.jsx(UT,{ref:n,className:Oe("aspect-square h-full w-full object-cover",e),...t}));hc.displayName=UT.displayName;const pc=_.forwardRef(({className:e,...t},n)=>m.jsx(HT,{ref:n,className:Oe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));pc.displayName=HT.displayName;function Uf(e){const t=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let l=0;l<e.length;l++){const c=e.charCodeAt(l);r=(r<<5)-r+c,r=r&r}const o=Math.abs(r)%t.length,i=Math.abs(r>>8)%n.length;return[t[o],n[i]].join(" ")}function GW({onAddAccountClick:e}){const{currentUser:t,otherUsers:n,setLogin:r,removeLogin:o}=BN();if(!t)return null;const i=l=>l.metadata.name??Uf(l.pubkey);return m.jsxs(OW,{modal:!1,children:[m.jsx(MW,{asChild:!0,children:m.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[m.jsxs(fc,{className:"w-10 h-10",children:[m.jsx(hc,{src:t.metadata.picture,alt:i(t)}),m.jsx(pc,{children:i(t).charAt(0)})]}),m.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:m.jsx("p",{className:"font-medium text-sm truncate",children:i(t)})}),m.jsx(bf,{className:"w-4 h-4 text-muted-foreground"})]})}),m.jsxs(jT,{className:"w-56 p-2 animate-scale-in",children:[m.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(l=>{var c;return m.jsxs(wd,{onClick:()=>r(l.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[m.jsxs(fc,{className:"w-8 h-8",children:[m.jsx(hc,{src:l.metadata.picture,alt:i(l)}),m.jsx(pc,{children:((c=i(l))==null?void 0:c.charAt(0))||m.jsx(ZB,{})})]}),m.jsx("div",{className:"flex-1 truncate",children:m.jsx("p",{className:"text-sm font-medium",children:i(l)})}),l.id===t.id&&m.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},l.id)}),m.jsx(OT,{}),m.jsxs(wd,{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[m.jsx(VB,{className:"w-4 h-4"}),m.jsx("span",{children:"Add another account"})]}),m.jsxs(wd,{onClick:()=>o(t.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[m.jsx($B,{className:"w-4 h-4"}),m.jsx("span",{children:"Log out"})]})]})]})}function Xg({className:e}){const{currentUser:t}=BN(),[n,r]=_.useState(!1),[o,i]=_.useState(!1),l=()=>{r(!1),i(!1)};return m.jsxs("div",{className:Oe("inline-flex items-center justify-center",e),children:[t?m.jsx(GW,{onAddAccountClick:()=>r(!0)}):m.jsxs("div",{className:"flex gap-3 justify-center",children:[m.jsx(dt,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:m.jsx("span",{className:"truncate",children:"Log in"})}),m.jsx(dt,{onClick:()=>i(!0),variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all",children:m.jsx("span",{children:"Sign up"})})]}),m.jsx(_H,{isOpen:n,onClose:()=>r(!1),onLogin:l}),m.jsx(SH,{isOpen:o,onClose:()=>i(!1)})]})}function YW(){const e=xi(),t=n=>e.pathname===n;return m.jsx("nav",{className:"border-b bg-background/80 backdrop-blur sticky top-0 z-50",children:m.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx(Pn,{to:"/",className:"text-xl font-bold tracking-tight",children:"DeadDropstr"}),m.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[m.jsx(dt,{asChild:!0,variant:t("/")?"secondary":"ghost",size:"sm",children:m.jsxs(Pn,{to:"/",children:[m.jsx(DB,{className:"h-4 w-4 mr-1"}),"Home"]})}),m.jsx(dt,{asChild:!0,variant:t("/marketplace")?"secondary":"ghost",size:"sm",children:m.jsxs(Pn,{to:"/marketplace",children:[m.jsx(jg,{className:"h-4 w-4 mr-1"}),"Marketplace"]})}),m.jsx(dt,{asChild:!0,variant:t("/dashboard")?"secondary":"ghost",size:"sm",children:m.jsxs(Pn,{to:"/dashboard",children:[m.jsx(Og,{className:"h-4 w-4 mr-1"}),"Dashboard"]})}),m.jsx(dt,{asChild:!0,variant:t("/messages")?"secondary":"ghost",size:"sm",children:m.jsxs(Pn,{to:"/messages",children:[m.jsx(Rk,{className:"h-4 w-4 mr-1"}),"Messages"]})})]})]}),m.jsx(Xg,{className:"max-w-60"})]})})}function JW(e,t={},n){e.use(ZI);function r(l){if(l._flatMeta)return l;const{title:c,titleTemplate:u,...f}=l||{};return{title:c,titleTemplate:u,_flatMeta:f}}const o=e.push(r(t),n),i=o.patch;return o.__patched||(o.patch=l=>i(r(l)),o.__patched=!0),o}function QW(){const e=_.useContext(x2);if(!e)throw new Error("useHead() was called without provide context.");return e}function XW(e,t,n){const r=t.head||QW(),[o]=_.useState(()=>n(r,e,t));return _.useEffect(()=>{o.patch(e)},[e]),_.useEffect(()=>()=>{o.dispose()},[]),o}function Va(e={},t={}){return XW(e,t,JW)}function Gv(e){if(e.kind!==30402)return null;const t=C=>{var A;return(A=e.tags.find(([I])=>I===C))==null?void 0:A[1]};if(!(C=>e.tags.filter(([A])=>A===C).map(([,A])=>A))("t").includes("locker"))return null;const o=t("d");if(!o)return null;const i=t("title")||"Unnamed Locker",l=t("status")||"available",c=t("g")||"",u=t("location"),f=e.tags.find(([C])=>C==="price"),p=f&&parseInt(f[1])||0,h=(f==null?void 0:f[2])||"SATS",w=t("dimensions"),y=parseInt(t("overdue-fee")||"0"),b=parseInt(t("overdue-days")||"7"),g=t("proxy-mode")==="true",x=parseInt(t("proxy-fee")||"0"),E=parseInt(t("abandon-days")||"30"),k=e.tags.filter(([C])=>C==="image").map(([,C])=>C);return{id:e.id,pubkey:e.pubkey,dTag:o,title:i,description:e.content,status:l,geohash:c,location:u,price:p,currency:h,dimensions:w,overdueFee:y,overdueDays:b,proxyMode:g,proxyFee:x,abandonDays:E,images:k,createdAt:e.created_at,event:e}}function eV(e){const t=[["d",crypto.randomUUID()],["title",e.title],["t","locker"],["t","dead-drop"],["g",e.geohash],["price",e.baseFee.toString(),"SATS"],["status","available"],["dimensions",e.dimensions],["overdue-fee",e.overdueFee.toString()],["overdue-days",e.overdueDays.toString()],["proxy-mode",e.proxyMode.toString()],["abandon-days",e.abandonDays.toString()]];return e.location&&t.push(["location",e.location]),e.proxyMode&&e.proxyFee>0&&t.push(["proxy-fee",e.proxyFee.toString()]),t}function tV(e){const{nostr:t}=$n();return Fr({queryKey:["trust-score",e],queryFn:async()=>{if(!e)return null;const n=await t.query([{kinds:[7],"#p":[e],limit:500},{kinds:[9735],"#p":[e],limit:200}]);let r=0,o=0,i=0;for(const f of n)f.kind===7?f.content.trim()==="-"?o++:r++:f.kind===9735&&(i+=1e3);const l=Math.floor(i/1e3),c=r+o,u=c>0?Math.round((r+l)/(c+l)*100):50;return{pubkey:e,positiveReactions:r,negativeReactions:o,zapsSats:i,totalReactions:c,score:u}},enabled:!!e,staleTime:6e4})}const kt=_.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:Oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));kt.displayName="Card";const Rn=_.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:Oe("flex flex-col space-y-1.5 p-6",e),...t}));Rn.displayName="CardHeader";const tr=_.forwardRef(({className:e,...t},n)=>m.jsx("h3",{ref:n,className:Oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));tr.displayName="CardTitle";const uo=_.forwardRef(({className:e,...t},n)=>m.jsx("p",{ref:n,className:Oe("text-sm text-muted-foreground",e),...t}));uo.displayName="CardDescription";const Ft=_.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:Oe("p-6 pt-0",e),...t}));Ft.displayName="CardContent";const nV=_.forwardRef(({className:e,...t},n)=>m.jsx("div",{ref:n,className:Oe("flex items-center p-6 pt-0",e),...t}));nV.displayName="CardFooter";function rV(){const{nostr:e}=$n(),{user:t}=vi(),{toast:n}=kc();return gy({mutationFn:async({recipientPubkey:r,lockerId:o,paymentPreimage:i,rentalInvoice:l})=>{if(!t)throw new Error("User is not logged in");if(!t.signer.nip44)throw new Error("NIP-44 encryption not available. Please use a signer that supports NIP-44.");const c=Math.floor(Date.now()/1e3),u=x=>{const k=-Math.floor(Math.random()*172800);return x+k},f={action:"unlock",locker_id:o,payment_preimage:i,rental_invoice:l},p={kind:14,pubkey:t.pubkey,created_at:c,tags:[["p",r]],content:JSON.stringify(f)},h={kind:13,pubkey:t.pubkey,created_at:c,tags:[],content:await t.signer.nip44.encrypt(r,JSON.stringify(p))},w=_c(),y=new rc(w),b=await y.nip44.encrypt(r,JSON.stringify(h)),g=await y.signEvent({kind:1059,created_at:u(c),tags:[["p",r]],content:b});return await e.event(g),g},onSuccess:()=>{n({title:"Unlock command sent",description:"The encrypted unlock command has been published to the network."})},onError:r=>{console.error("[UnlockCommand] Failed to send:",r),n({title:"Failed to send unlock command",description:r.message,variant:"destructive"})}})}const oV=Pc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function wr({className:e,variant:t,...n}){return m.jsx("div",{className:Oe(oV({variant:t}),e),...n})}var Yv="Progress",Jv=100,[sV,tK]=un(Yv),[iV,aV]=sV(Yv),WT=_.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:i=lV,...l}=e;(o||o===0)&&!cE(o)&&console.error(cV(`${o}`,"Progress"));const c=cE(o)?o:Jv;r!==null&&!uE(r,c)&&console.error(uV(`${r}`,"Progress"));const u=uE(r,c)?r:null,f=Vd(u)?i(u,c):void 0;return m.jsx(iV,{scope:n,value:u,max:c,children:m.jsx(ze.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Vd(u)?u:void 0,"aria-valuetext":f,role:"progressbar","data-state":qT(u,c),"data-value":u??void 0,"data-max":c,...l,ref:t})})});WT.displayName=Yv;var VT="ProgressIndicator",ZT=_.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,o=aV(VT,n);return m.jsx(ze.div,{"data-state":qT(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:t})});ZT.displayName=VT;function lV(e,t){return`${Math.round(e/t*100)}%`}function qT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Vd(e){return typeof e=="number"}function cE(e){return Vd(e)&&!isNaN(e)&&e>0}function uE(e,t){return Vd(e)&&!isNaN(e)&&e<=t&&e>=0}function cV(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Jv}\`.`}function uV(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Jv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var KT=WT,dV=ZT;const GT=_.forwardRef(({className:e,value:t,...n},r)=>m.jsx(KT,{ref:r,className:Oe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:m.jsx(dV,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));GT.displayName=KT.displayName;var Ji={},bm,dE;function fV(){return dE||(dE=1,bm=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),bm}var Em={},Qo={},fE;function _i(){if(fE)return Qo;fE=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Qo.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Qo.getSymbolTotalCodewords=function(r){return t[r]},Qo.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Qo.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Qo.isKanjiModeEnabled=function(){return typeof e<"u"},Qo.toSJIS=function(r){return e(r)},Qo}var _m={},hE;function Qv(){return hE||(hE=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,o){if(e.isValid(r))return r;try{return t(r)}catch{return o}}}(_m)),_m}var Sm,pE;function hV(){if(pE)return Sm;pE=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Sm=e,Sm}var km,mE;function pV(){if(mE)return km;mE=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,o){const i=t*this.size+n;this.data[i]=r,o&&(this.reservedBit[i]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},km=e,km}var Cm={},gE;function mV(){return gE||(gE=1,function(e){const t=_i().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const o=Math.floor(r/7)+2,i=t(r),l=i===145?26:Math.ceil((i-13)/(2*o-2))*2,c=[i-7];for(let u=1;u<o-1;u++)c[u]=c[u-1]-l;return c.push(6),c.reverse()},e.getPositions=function(r){const o=[],i=e.getRowColCoords(r),l=i.length;for(let c=0;c<l;c++)for(let u=0;u<l;u++)c===0&&u===0||c===0&&u===l-1||c===l-1&&u===0||o.push([i[c],i[u]]);return o}}(Cm)),Cm}var Nm={},yE;function gV(){if(yE)return Nm;yE=1;const e=_i().getSymbolSize,t=7;return Nm.getPositions=function(r){const o=e(r);return[[0,0],[o-t,0],[0,o-t]]},Nm}var Tm={},vE;function yV(){return vE||(vE=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},e.from=function(o){return e.isValid(o)?parseInt(o,10):void 0},e.getPenaltyN1=function(o){const i=o.size;let l=0,c=0,u=0,f=null,p=null;for(let h=0;h<i;h++){c=u=0,f=p=null;for(let w=0;w<i;w++){let y=o.get(h,w);y===f?c++:(c>=5&&(l+=t.N1+(c-5)),f=y,c=1),y=o.get(w,h),y===p?u++:(u>=5&&(l+=t.N1+(u-5)),p=y,u=1)}c>=5&&(l+=t.N1+(c-5)),u>=5&&(l+=t.N1+(u-5))}return l},e.getPenaltyN2=function(o){const i=o.size;let l=0;for(let c=0;c<i-1;c++)for(let u=0;u<i-1;u++){const f=o.get(c,u)+o.get(c,u+1)+o.get(c+1,u)+o.get(c+1,u+1);(f===4||f===0)&&l++}return l*t.N2},e.getPenaltyN3=function(o){const i=o.size;let l=0,c=0,u=0;for(let f=0;f<i;f++){c=u=0;for(let p=0;p<i;p++)c=c<<1&2047|o.get(f,p),p>=10&&(c===1488||c===93)&&l++,u=u<<1&2047|o.get(p,f),p>=10&&(u===1488||u===93)&&l++}return l*t.N3},e.getPenaltyN4=function(o){let i=0;const l=o.data.length;for(let u=0;u<l;u++)i+=o.data[u];return Math.abs(Math.ceil(i*100/l/5)-10)*t.N4};function n(r,o,i){switch(r){case e.Patterns.PATTERN000:return(o+i)%2===0;case e.Patterns.PATTERN001:return o%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(o+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return o*i%2+o*i%3===0;case e.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case e.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(o,i){const l=i.size;for(let c=0;c<l;c++)for(let u=0;u<l;u++)i.isReserved(u,c)||i.xor(u,c,n(o,u,c))},e.getBestMask=function(o,i){const l=Object.keys(e.Patterns).length;let c=0,u=1/0;for(let f=0;f<l;f++){i(f),e.applyMask(f,o);const p=e.getPenaltyN1(o)+e.getPenaltyN2(o)+e.getPenaltyN3(o)+e.getPenaltyN4(o);e.applyMask(f,o),p<u&&(u=p,c=f)}return c}}(Tm)),Tm}var cd={},wE;function YT(){if(wE)return cd;wE=1;const e=Qv(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return cd.getBlocksCount=function(o,i){switch(i){case e.L:return t[(o-1)*4+0];case e.M:return t[(o-1)*4+1];case e.Q:return t[(o-1)*4+2];case e.H:return t[(o-1)*4+3];default:return}},cd.getTotalCodewordsCount=function(o,i){switch(i){case e.L:return n[(o-1)*4+0];case e.M:return n[(o-1)*4+1];case e.Q:return n[(o-1)*4+2];case e.H:return n[(o-1)*4+3];default:return}},cd}var Pm={},Fl={},xE;function vV(){if(xE)return Fl;xE=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let o=0;o<255;o++)e[o]=r,t[r]=o,r<<=1,r&256&&(r^=285);for(let o=255;o<512;o++)e[o]=e[o-255]}(),Fl.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},Fl.exp=function(r){return e[r]},Fl.mul=function(r,o){return r===0||o===0?0:e[t[r]+t[o]]},Fl}var bE;function wV(){return bE||(bE=1,function(e){const t=vV();e.mul=function(r,o){const i=new Uint8Array(r.length+o.length-1);for(let l=0;l<r.length;l++)for(let c=0;c<o.length;c++)i[l+c]^=t.mul(r[l],o[c]);return i},e.mod=function(r,o){let i=new Uint8Array(r);for(;i.length-o.length>=0;){const l=i[0];for(let u=0;u<o.length;u++)i[u]^=t.mul(o[u],l);let c=0;for(;c<i.length&&i[c]===0;)c++;i=i.slice(c)}return i},e.generateECPolynomial=function(r){let o=new Uint8Array([1]);for(let i=0;i<r;i++)o=e.mul(o,new Uint8Array([1,t.exp(i)]));return o}}(Pm)),Pm}var Rm,EE;function xV(){if(EE)return Rm;EE=1;const e=wV();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(r.length+this.degree);o.set(r);const i=e.mod(o,this.genPoly),l=this.degree-i.length;if(l>0){const c=new Uint8Array(this.degree);return c.set(i,l),c}return i},Rm=t,Rm}var Am={},Im={},jm={},_E;function JT(){return _E||(_E=1,jm.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),jm}var jr={},SE;function QT(){if(SE)return jr;SE=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;jr.KANJI=new RegExp(n,"g"),jr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),jr.BYTE=new RegExp(r,"g"),jr.NUMERIC=new RegExp(e,"g"),jr.ALPHANUMERIC=new RegExp(t,"g");const o=new RegExp("^"+n+"$"),i=new RegExp("^"+e+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return jr.testKanji=function(u){return o.test(u)},jr.testNumeric=function(u){return i.test(u)},jr.testAlphanumeric=function(u){return l.test(u)},jr}var kE;function Si(){return kE||(kE=1,function(e){const t=JT(),n=QT();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,l){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?i.ccBits[0]:l<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+o)}}e.from=function(i,l){if(e.isValid(i))return i;try{return r(i)}catch{return l}}}(Im)),Im}var CE;function bV(){return CE||(CE=1,function(e){const t=_i(),n=YT(),r=Qv(),o=Si(),i=JT(),l=7973,c=t.getBCHDigit(l);function u(w,y,b){for(let g=1;g<=40;g++)if(y<=e.getCapacity(g,b,w))return g}function f(w,y){return o.getCharCountIndicator(w,y)+4}function p(w,y){let b=0;return w.forEach(function(g){const x=f(g.mode,y);b+=x+g.getBitsLength()}),b}function h(w,y){for(let b=1;b<=40;b++)if(p(w,b)<=e.getCapacity(b,y,o.MIXED))return b}e.from=function(y,b){return i.isValid(y)?parseInt(y,10):b},e.getCapacity=function(y,b,g){if(!i.isValid(y))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=o.BYTE);const x=t.getSymbolTotalCodewords(y),E=n.getTotalCodewordsCount(y,b),k=(x-E)*8;if(g===o.MIXED)return k;const C=k-f(g,y);switch(g){case o.NUMERIC:return Math.floor(C/10*3);case o.ALPHANUMERIC:return Math.floor(C/11*2);case o.KANJI:return Math.floor(C/13);case o.BYTE:default:return Math.floor(C/8)}},e.getBestVersionForData=function(y,b){let g;const x=r.from(b,r.M);if(Array.isArray(y)){if(y.length>1)return h(y,x);if(y.length===0)return 1;g=y[0]}else g=y;return u(g.mode,g.getLength(),x)},e.getEncodedBits=function(y){if(!i.isValid(y)||y<7)throw new Error("Invalid QR Code version");let b=y<<12;for(;t.getBCHDigit(b)-c>=0;)b^=l<<t.getBCHDigit(b)-c;return y<<12|b}}(Am)),Am}var Om={},NE;function EV(){if(NE)return Om;NE=1;const e=_i(),t=1335,n=21522,r=e.getBCHDigit(t);return Om.getEncodedBits=function(i,l){const c=i.bit<<3|l;let u=c<<10;for(;e.getBCHDigit(u)-r>=0;)u^=t<<e.getBCHDigit(u)-r;return(c<<10|u)^n},Om}var Mm={},Lm,TE;function _V(){if(TE)return Lm;TE=1;const e=Si();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let o,i,l;for(o=0;o+3<=this.data.length;o+=3)i=this.data.substr(o,3),l=parseInt(i,10),r.put(l,10);const c=this.data.length-o;c>0&&(i=this.data.substr(o),l=parseInt(i,10),r.put(l,c*3+1))},Lm=t,Lm}var Dm,PE;function SV(){if(PE)return Dm;PE=1;const e=Si(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(o){return 11*Math.floor(o/2)+6*(o%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(o){let i;for(i=0;i+2<=this.data.length;i+=2){let l=t.indexOf(this.data[i])*45;l+=t.indexOf(this.data[i+1]),o.put(l,11)}this.data.length%2&&o.put(t.indexOf(this.data[i]),6)},Dm=n,Dm}var zm,RE;function kV(){if(RE)return zm;RE=1;const e=Si();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,o=this.data.length;r<o;r++)n.put(this.data[r],8)},zm=t,zm}var Bm,AE;function CV(){if(AE)return Bm;AE=1;const e=Si(),t=_i();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(o){return o*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let o;for(o=0;o<this.data.length;o++){let i=t.toSJIS(this.data[o]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[o]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},Bm=n,Bm}var Fm={exports:{}},IE;function NV(){return IE||(IE=1,function(e){var t={single_source_shortest_paths:function(n,r,o){var i={},l={};l[r]=0;var c=t.PriorityQueue.make();c.push(r,0);for(var u,f,p,h,w,y,b,g,x;!c.empty();){u=c.pop(),f=u.value,h=u.cost,w=n[f]||{};for(p in w)w.hasOwnProperty(p)&&(y=w[p],b=h+y,g=l[p],x=typeof l[p]>"u",(x||g>b)&&(l[p]=b,c.push(p,b),i[p]=f))}if(typeof o<"u"&&typeof l[o]>"u"){var E=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(E)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var o=[],i=r;i;)o.push(i),n[i],i=n[i];return o.reverse(),o},find_path:function(n,r,o){var i=t.single_source_shortest_paths(n,r,o);return t.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,o={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);return o.queue=[],o.sorter=n.sorter||r.default_sorter,o},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var o={value:n,cost:r};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t}(Fm)),Fm.exports}var jE;function TV(){return jE||(jE=1,function(e){const t=Si(),n=_V(),r=SV(),o=kV(),i=CV(),l=QT(),c=_i(),u=NV();function f(E){return unescape(encodeURIComponent(E)).length}function p(E,k,C){const A=[];let I;for(;(I=E.exec(C))!==null;)A.push({data:I[0],index:I.index,mode:k,length:I[0].length});return A}function h(E){const k=p(l.NUMERIC,t.NUMERIC,E),C=p(l.ALPHANUMERIC,t.ALPHANUMERIC,E);let A,I;return c.isKanjiModeEnabled()?(A=p(l.BYTE,t.BYTE,E),I=p(l.KANJI,t.KANJI,E)):(A=p(l.BYTE_KANJI,t.BYTE,E),I=[]),k.concat(C,A,I).sort(function(z,$){return z.index-$.index}).map(function(z){return{data:z.data,mode:z.mode,length:z.length}})}function w(E,k){switch(k){case t.NUMERIC:return n.getBitsLength(E);case t.ALPHANUMERIC:return r.getBitsLength(E);case t.KANJI:return i.getBitsLength(E);case t.BYTE:return o.getBitsLength(E)}}function y(E){return E.reduce(function(k,C){const A=k.length-1>=0?k[k.length-1]:null;return A&&A.mode===C.mode?(k[k.length-1].data+=C.data,k):(k.push(C),k)},[])}function b(E){const k=[];for(let C=0;C<E.length;C++){const A=E[C];switch(A.mode){case t.NUMERIC:k.push([A,{data:A.data,mode:t.ALPHANUMERIC,length:A.length},{data:A.data,mode:t.BYTE,length:A.length}]);break;case t.ALPHANUMERIC:k.push([A,{data:A.data,mode:t.BYTE,length:A.length}]);break;case t.KANJI:k.push([A,{data:A.data,mode:t.BYTE,length:f(A.data)}]);break;case t.BYTE:k.push([{data:A.data,mode:t.BYTE,length:f(A.data)}])}}return k}function g(E,k){const C={},A={start:{}};let I=["start"];for(let L=0;L<E.length;L++){const z=E[L],$=[];for(let O=0;O<z.length;O++){const B=z[O],W=""+L+O;$.push(W),C[W]={node:B,lastCount:0},A[W]={};for(let M=0;M<I.length;M++){const V=I[M];C[V]&&C[V].node.mode===B.mode?(A[V][W]=w(C[V].lastCount+B.length,B.mode)-w(C[V].lastCount,B.mode),C[V].lastCount+=B.length):(C[V]&&(C[V].lastCount=B.length),A[V][W]=w(B.length,B.mode)+4+t.getCharCountIndicator(B.mode,k))}}I=$}for(let L=0;L<I.length;L++)A[I[L]].end=0;return{map:A,table:C}}function x(E,k){let C;const A=t.getBestModeForData(E);if(C=t.from(k,A),C!==t.BYTE&&C.bit<A.bit)throw new Error('"'+E+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(A));switch(C===t.KANJI&&!c.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new n(E);case t.ALPHANUMERIC:return new r(E);case t.KANJI:return new i(E);case t.BYTE:return new o(E)}}e.fromArray=function(k){return k.reduce(function(C,A){return typeof A=="string"?C.push(x(A,null)):A.data&&C.push(x(A.data,A.mode)),C},[])},e.fromString=function(k,C){const A=h(k,c.isKanjiModeEnabled()),I=b(A),L=g(I,C),z=u.find_path(L.map,"start","end"),$=[];for(let O=1;O<z.length-1;O++)$.push(L.table[z[O]].node);return e.fromArray(y($))},e.rawSplit=function(k){return e.fromArray(h(k,c.isKanjiModeEnabled()))}}(Mm)),Mm}var OE;function PV(){if(OE)return Em;OE=1;const e=_i(),t=Qv(),n=hV(),r=pV(),o=mV(),i=gV(),l=yV(),c=YT(),u=xV(),f=bV(),p=EV(),h=Si(),w=TV();function y(L,z){const $=L.size,O=i.getPositions(z);for(let B=0;B<O.length;B++){const W=O[B][0],M=O[B][1];for(let V=-1;V<=7;V++)if(!(W+V<=-1||$<=W+V))for(let P=-1;P<=7;P++)M+P<=-1||$<=M+P||(V>=0&&V<=6&&(P===0||P===6)||P>=0&&P<=6&&(V===0||V===6)||V>=2&&V<=4&&P>=2&&P<=4?L.set(W+V,M+P,!0,!0):L.set(W+V,M+P,!1,!0))}}function b(L){const z=L.size;for(let $=8;$<z-8;$++){const O=$%2===0;L.set($,6,O,!0),L.set(6,$,O,!0)}}function g(L,z){const $=o.getPositions(z);for(let O=0;O<$.length;O++){const B=$[O][0],W=$[O][1];for(let M=-2;M<=2;M++)for(let V=-2;V<=2;V++)M===-2||M===2||V===-2||V===2||M===0&&V===0?L.set(B+M,W+V,!0,!0):L.set(B+M,W+V,!1,!0)}}function x(L,z){const $=L.size,O=f.getEncodedBits(z);let B,W,M;for(let V=0;V<18;V++)B=Math.floor(V/3),W=V%3+$-8-3,M=(O>>V&1)===1,L.set(B,W,M,!0),L.set(W,B,M,!0)}function E(L,z,$){const O=L.size,B=p.getEncodedBits(z,$);let W,M;for(W=0;W<15;W++)M=(B>>W&1)===1,W<6?L.set(W,8,M,!0):W<8?L.set(W+1,8,M,!0):L.set(O-15+W,8,M,!0),W<8?L.set(8,O-W-1,M,!0):W<9?L.set(8,15-W-1+1,M,!0):L.set(8,15-W-1,M,!0);L.set(O-8,8,1,!0)}function k(L,z){const $=L.size;let O=-1,B=$-1,W=7,M=0;for(let V=$-1;V>0;V-=2)for(V===6&&V--;;){for(let P=0;P<2;P++)if(!L.isReserved(B,V-P)){let U=!1;M<z.length&&(U=(z[M]>>>W&1)===1),L.set(B,V-P,U),W--,W===-1&&(M++,W=7)}if(B+=O,B<0||$<=B){B-=O,O=-O;break}}}function C(L,z,$){const O=new n;$.forEach(function(P){O.put(P.mode.bit,4),O.put(P.getLength(),h.getCharCountIndicator(P.mode,L)),P.write(O)});const B=e.getSymbolTotalCodewords(L),W=c.getTotalCodewordsCount(L,z),M=(B-W)*8;for(O.getLengthInBits()+4<=M&&O.put(0,4);O.getLengthInBits()%8!==0;)O.putBit(0);const V=(M-O.getLengthInBits())/8;for(let P=0;P<V;P++)O.put(P%2?17:236,8);return A(O,L,z)}function A(L,z,$){const O=e.getSymbolTotalCodewords(z),B=c.getTotalCodewordsCount(z,$),W=O-B,M=c.getBlocksCount(z,$),V=O%M,P=M-V,U=Math.floor(O/M),X=Math.floor(W/M),J=X+1,ee=U-X,q=new u(ee);let oe=0;const D=new Array(M),Z=new Array(M);let ge=0;const pe=new Uint8Array(L.buffer);for(let Se=0;Se<M;Se++){const Ie=Se<P?X:J;D[Se]=pe.slice(oe,oe+Ie),Z[Se]=q.encode(D[Se]),oe+=Ie,ge=Math.max(ge,Ie)}const me=new Uint8Array(O);let Ae=0,we,xe;for(we=0;we<ge;we++)for(xe=0;xe<M;xe++)we<D[xe].length&&(me[Ae++]=D[xe][we]);for(we=0;we<ee;we++)for(xe=0;xe<M;xe++)me[Ae++]=Z[xe][we];return me}function I(L,z,$,O){let B;if(Array.isArray(L))B=w.fromArray(L);else if(typeof L=="string"){let U=z;if(!U){const X=w.rawSplit(L);U=f.getBestVersionForData(X,$)}B=w.fromString(L,U||40)}else throw new Error("Invalid data");const W=f.getBestVersionForData(B,$);if(!W)throw new Error("The amount of data is too big to be stored in a QR Code");if(!z)z=W;else if(z<W)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+W+`.
`);const M=C(z,$,B),V=e.getSymbolSize(z),P=new r(V);return y(P,z),b(P),g(P,z),E(P,$,0),z>=7&&x(P,z),k(P,M),isNaN(O)&&(O=l.getBestMask(P,E.bind(null,P,$))),l.applyMask(O,P),E(P,$,O),{modules:P,version:z,errorCorrectionLevel:$,maskPattern:O,segments:B}}return Em.create=function(z,$){if(typeof z>"u"||z==="")throw new Error("No input text");let O=t.M,B,W;return typeof $<"u"&&(O=t.from($.errorCorrectionLevel,t.M),B=f.from($.version),W=l.from($.maskPattern),$.toSJISFunc&&e.setToSJISFunction($.toSJISFunc)),I(z,B,O,W)},Em}var $m={},Um={},ME;function XT(){return ME||(ME=1,function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const o=parseInt(r.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const o=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:i,scale:i?4:l,margin:o,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,o){return o.width&&o.width>=r+o.margin*2?o.width/(r+o.margin*2):o.scale},e.getImageWidth=function(r,o){const i=e.getScale(r,o);return Math.floor((r+o.margin*2)*i)},e.qrToImageData=function(r,o,i){const l=o.modules.size,c=o.modules.data,u=e.getScale(l,i),f=Math.floor((l+i.margin*2)*u),p=i.margin*u,h=[i.color.light,i.color.dark];for(let w=0;w<f;w++)for(let y=0;y<f;y++){let b=(w*f+y)*4,g=i.color.light;if(w>=p&&y>=p&&w<f-p&&y<f-p){const x=Math.floor((w-p)/u),E=Math.floor((y-p)/u);g=h[c[x*l+E]?1:0]}r[b++]=g.r,r[b++]=g.g,r[b++]=g.b,r[b]=g.a}}}(Um)),Um}var LE;function RV(){return LE||(LE=1,function(e){const t=XT();function n(o,i,l){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=l,i.width=l,i.style.height=l+"px",i.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,l,c){let u=c,f=l;typeof u>"u"&&(!l||!l.getContext)&&(u=l,l=void 0),l||(f=r()),u=t.getOptions(u);const p=t.getImageWidth(i.modules.size,u),h=f.getContext("2d"),w=h.createImageData(p,p);return t.qrToImageData(w.data,i,u),n(h,f,p),h.putImageData(w,0,0),f},e.renderToDataURL=function(i,l,c){let u=c;typeof u>"u"&&(!l||!l.getContext)&&(u=l,l=void 0),u||(u={});const f=e.render(i,l,u),p=u.type||"image/png",h=u.rendererOpts||{};return f.toDataURL(p,h.quality)}}($m)),$m}var Hm={},DE;function AV(){if(DE)return Hm;DE=1;const e=XT();function t(o,i){const l=o.a/255,c=i+'="'+o.hex+'"';return l<1?c+" "+i+'-opacity="'+l.toFixed(2).slice(1)+'"':c}function n(o,i,l){let c=o+i;return typeof l<"u"&&(c+=" "+l),c}function r(o,i,l){let c="",u=0,f=!1,p=0;for(let h=0;h<o.length;h++){const w=Math.floor(h%i),y=Math.floor(h/i);!w&&!f&&(f=!0),o[h]?(p++,h>0&&w>0&&o[h-1]||(c+=f?n("M",w+l,.5+y+l):n("m",u,0),u=0,f=!1),w+1<i&&o[h+1]||(c+=n("h",p),p=0)):u++}return c}return Hm.render=function(i,l,c){const u=e.getOptions(l),f=i.modules.size,p=i.modules.data,h=f+u.margin*2,w=u.color.light.a?"<path "+t(u.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",y="<path "+t(u.color.dark,"stroke")+' d="'+r(p,f,u.margin)+'"/>',b='viewBox="0 0 '+h+" "+h+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+b+' shape-rendering="crispEdges">'+w+y+`</svg>
`;return typeof c=="function"&&c(null,x),x},Hm}var zE;function IV(){if(zE)return Ji;zE=1;const e=fV(),t=PV(),n=RV(),r=AV();function o(i,l,c,u,f){const p=[].slice.call(arguments,1),h=p.length,w=typeof p[h-1]=="function";if(!w&&!e())throw new Error("Callback required as last argument");if(w){if(h<2)throw new Error("Too few arguments provided");h===2?(f=c,c=l,l=u=void 0):h===3&&(l.getContext&&typeof f>"u"?(f=u,u=void 0):(f=u,u=c,c=l,l=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(c=l,l=u=void 0):h===2&&!l.getContext&&(u=c,c=l,l=void 0),new Promise(function(y,b){try{const g=t.create(c,u);y(i(g,l,u))}catch(g){b(g)}})}try{const y=t.create(c,u);f(null,i(y,l,u))}catch(y){f(y)}}return Ji.create=t.create,Ji.toCanvas=o.bind(null,n.render),Ji.toDataURL=o.bind(null,n.renderToDataURL),Ji.toString=o.bind(null,function(i,l,c){return r.render(i,c)}),Ji}var jV=IV();const OV=Yd(jV);function MV(e){try{const t=new URL(e.replace("nostr+walletconnect://","https://")),n=t.hostname||t.pathname.replace("//",""),r=t.searchParams.get("secret"),o=[];return t.searchParams.forEach((i,l)=>{l==="relay"&&o.push(i)}),!n||!r||o.length===0?null:{walletPubkey:n,secret:r,relays:o}}catch{return null}}function LV(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.slice(n*2,n*2+2),16);return t}function DV({connectionString:e,onPaymentReceived:t,enabled:n=!0}){const{nostr:r}=$n(),[o,i]=_.useState(!1),[l,c]=_.useState(null),u=_.useRef(null),f=_.useRef(null),p=_.useRef(null),h=e?MV(e):null;_.useEffect(()=>{if(!(h!=null&&h.secret)){f.current=null,p.current=null;return}try{const y=LV(h.secret);f.current=new rc(y),p.current=wo(y),console.log("[NWC Notifications] Client pubkey derived:",p.current.slice(0,16)+"...")}catch(y){console.error("[NWC Notifications] Failed to create signer from secret:",y),f.current=null,p.current=null}},[h==null?void 0:h.secret]);const w=_.useCallback(async y=>{var g;if(!((g=f.current)!=null&&g.nip44)||!(h!=null&&h.walletPubkey)||!p.current||y.pubkey!==h.walletPubkey)return;const b=y.tags.find(([x])=>x==="p");if(!(b&&b[1]!==p.current))try{let x;if(y.kind===23197&&f.current.nip44)x=await f.current.nip44.decrypt(h.walletPubkey,y.content);else if(y.kind===23196&&f.current.nip04)x=await f.current.nip04.decrypt(h.walletPubkey,y.content);else return;const E=JSON.parse(x);if(E.notification_type==="payment_received"&&E.notification){const k={type:"incoming",state:E.notification.state,invoice:E.notification.invoice,preimage:E.notification.preimage,payment_hash:E.notification.payment_hash,amount:E.notification.amount,settled_at:E.notification.settled_at};console.log("[NWC Notifications] Payment received:",k),c(k),t==null||t(k)}}catch(x){console.error("[NWC Notifications] Failed to process notification:",x)}},[h==null?void 0:h.walletPubkey,t]);return _.useEffect(()=>{if(!n||!h||!f.current||!p.current){i(!1);return}const{walletPubkey:y,relays:b}=h,g=p.current,x=r.group(b);let E=!1;return(async()=>{try{console.log("[NWC Notifications] Subscribing to relays:",b),console.log("[NWC Notifications] Filter: authors=%s, #p=%s",y.slice(0,16)+"...",g.slice(0,16)+"...");const C=x.req([{kinds:[23196,23197],authors:[y],"#p":[g],limit:50}]);E||i(!0);for await(const A of C){if(E)break;if(A[0]==="EVENT"){const I=A[2];await w(I)}else A[0]==="EOSE"&&console.log("[NWC Notifications] End of stored events, now listening for new notifications")}}catch(C){console.error("[NWC Notifications] Subscription error:",C),E||i(!1)}})(),()=>{var C;E=!0,(C=u.current)==null||C.close(),i(!1)}},[n,h,r,w]),{isConnected:o,lastNotification:l,clientPubkey:p.current}}function zV({open:e,invoice:t,amountSats:n,onClose:r,onPay:o,onSettled:i}){var $;const[l,c]=_.useState(null),[u,f]=_.useState("pending"),[p,h]=_.useState(null),[w,y]=_.useState(!1),[b,g]=_.useState(0),x=_C(),[E,k]=_.useState(!1),C=60;_.useEffect(()=>{e&&(f("pending"),h(null),y(!1),g(0))},[e]),_.useEffect(()=>{if(!t)return;let O=!0;return OV.toDataURL(t,{width:256,margin:2}).then(B=>{O&&c(B)}).catch(()=>{O&&c(null)}),()=>{O=!1}},[t]);const{isConnected:A}=DV({connectionString:(($=x.getActiveConnection())==null?void 0:$.connectionString)??null,enabled:e&&!!t,onPaymentReceived:async O=>{O.preimage&&(f("success"),h("Payment confirmed!"),i&&await i({preimage:O.preimage}),setTimeout(()=>r(),2e3))}});_.useEffect(()=>{if(!e||!t||A)return;const O=x.getActiveConnection();if(!O)return;let B=!1;const W=3e3,M=async()=>{if(!B){g(P=>P+1);try{const U=await new ac(O.connectionString).lookupInvoice(t);if(U&&U.state==="settled"&&U.preimage){f("success"),h("Payment confirmed!"),i&&await i({preimage:U.preimage}),setTimeout(()=>{B||r()},2e3);return}}catch{}!B&&b<C?setTimeout(M,W):b>=C&&h("Waiting for payment timed out. You can still pay manually.")}},V=setTimeout(M,W);return()=>{B=!0,clearTimeout(V)}},[e,t,x,r,i,b,A]);const I=async()=>{try{await navigator.clipboard.writeText(t),y(!0),setTimeout(()=>y(!1),2e3)}catch{h("Failed to copy")}},L=async()=>{f("paying"),h(null);try{await o(),f("success"),h("Payment successful!"),setTimeout(()=>r(),1500)}catch(O){f("error"),h((O==null?void 0:O.message)||"Payment failed")}},z=()=>{switch(u){case"pending":return m.jsxs(wr,{variant:"secondary",className:"gap-1",children:[m.jsx(PB,{className:"h-3 w-3"})," Awaiting Payment"]});case"polling":return m.jsxs(wr,{variant:"secondary",className:"gap-1",children:[m.jsx(zn,{className:"h-3 w-3 animate-spin"})," Checking..."]});case"paying":return m.jsxs(wr,{variant:"default",className:"gap-1",children:[m.jsx(zn,{className:"h-3 w-3 animate-spin"})," Processing"]});case"success":return m.jsxs(wr,{variant:"default",className:"gap-1 bg-green-600",children:[m.jsx(Wl,{className:"h-3 w-3"})," Paid"]});case"error":return m.jsxs(wr,{variant:"destructive",className:"gap-1",children:[m.jsx(NB,{className:"h-3 w-3"})," Failed"]})}};return m.jsx(jf,{open:e,onOpenChange:O=>{!O&&u!=="paying"&&r()},children:m.jsxs(Ic,{className:"max-w-md",children:[m.jsxs(jc,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs(Of,{className:"flex items-center gap-2",children:[m.jsx(Mg,{className:"h-5 w-5 text-yellow-500"}),"Pay Invoice"]}),z()]}),m.jsx(Ov,{children:"Scan the QR code with any Lightning wallet or pay directly."})]}),m.jsxs("div",{className:"space-y-4",children:[n&&m.jsxs("div",{className:"text-center",children:[m.jsx("span",{className:"text-3xl font-bold",children:n.toLocaleString()}),m.jsx("span",{className:"text-lg text-muted-foreground ml-2",children:"sats"})]}),m.jsx("div",{className:"flex justify-center p-4 bg-white rounded-lg",children:l?m.jsx("img",{src:l,alt:"Lightning Invoice QR",className:"w-56 h-56"}):m.jsx("div",{className:"w-56 h-56 flex items-center justify-center bg-muted rounded",children:m.jsx(zn,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}),m.jsxs("div",{className:"relative",children:[m.jsx("textarea",{readOnly:!0,value:t,className:"w-full p-3 pr-12 rounded-lg border bg-muted/50 text-xs font-mono resize-none",rows:3}),m.jsx(dt,{size:"icon",variant:"ghost",className:"absolute right-2 top-2",onClick:I,children:w?m.jsx(Wl,{className:"h-4 w-4 text-green-500"}):m.jsx(RB,{className:"h-4 w-4"})})]}),u==="pending"&&m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(zn,{className:"h-3 w-3 animate-spin"}),A?"Listening for payment...":"Waiting for payment..."]}),!A&&b>0&&m.jsxs("span",{children:[Math.floor(b/C*100),"%"]})]}),!A&&b>0&&m.jsx(GT,{value:b/C*100,className:"h-1"}),A&&m.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[m.jsx(Wl,{className:"h-3 w-3"}),"Real-time notifications active"]})]}),p&&m.jsx("div",{className:`text-sm text-center p-2 rounded ${u==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":u==="error"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-muted text-muted-foreground"}`,children:p}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(dt,{variant:"outline",onClick:r,disabled:u==="paying",className:"flex-1",children:"Cancel"}),m.jsx(dt,{onClick:L,disabled:u==="paying"||u==="success",className:"flex-1",children:u==="paying"?m.jsxs(m.Fragment,{children:[m.jsx(zn,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):u==="success"?m.jsxs(m.Fragment,{children:[m.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Paid!"]}):m.jsxs(m.Fragment,{children:[m.jsx(Mg,{className:"h-4 w-4 mr-2"}),"Pay Now"]})})]}),m.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Invoice will auto-detect when paid. You can also copy and pay externally."})]})]})})}function BV(){var A;const{nip19:e}=AC();Va({title:"Locker Details"});const{nostr:t}=$n(),n=_C();vi();const{mutateAsync:r}=rV(),{data:o}=Fr({queryKey:["locker-detail",e],queryFn:async()=>{if(!e)return null;const I=await t.query([{kinds:[30402],"#d":[e],limit:1}]);return!I||I.length===0?null:Gv(I[0])},staleTime:6e4}),i=tV(o==null?void 0:o.pubkey),[l,c]=_.useState(!1),[u,f]=_.useState(""),[p,h]=_.useState(!1),[w,y]=_.useState(""),{connections:b,activeConnection:g,setActiveConnection:x,getActiveConnection:E}=n,k=async()=>{if(!o)return;const I=E();if(!I){f("No wallet connected. Please connect a Nostr Wallet Connect wallet first.");return}c(!0),f("");try{const L=new ac(I.connectionString),z=o.price*1e3,$=await L.makeInvoice({amount:z,description:`Locker rental ${o.dTag}`});y($.invoice),h(!0)}catch(L){f((L==null?void 0:L.message)??"Failed to create invoice"),c(!1)}},C=async()=>{if(!o)throw new Error("No locker");const I=E();if(!I)throw new Error("No wallet connected");const $=(await new ac(I.connectionString).pay(w)).preimage;return await r({recipientPubkey:o.pubkey,lockerId:o.dTag,paymentPreimage:$,rentalInvoice:w}),f("Unlock command sent via NIP-17. Locker should open shortly."),c(!1),$};return o?m.jsxs("div",{className:"container mx-auto p-6 space-y-4",children:[b.length>1&&m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Wallet"}),m.jsx("select",{className:"px-2 py-1 border rounded bg-background",value:g??"",onChange:I=>x(I.target.value),children:b.map(I=>m.jsx("option",{value:I.connectionString,children:I.alias??"NWC Wallet"},I.connectionString))})]}),m.jsxs("div",{className:"card",children:[m.jsx(Rn,{children:m.jsx(tr,{children:o.title})}),m.jsxs(Ft,{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:o.location||o.geohash}),m.jsxs("p",{className:"mt-2",children:["Dimensions: ",o.dimensions]}),m.jsxs("p",{children:["Fee: ",o.price," sats"]}),m.jsxs("p",{children:["Owner: ",o.pubkey]}),m.jsxs("p",{children:["Trust Score: ",((A=i==null?void 0:i.data)==null?void 0:A.score)??""]}),m.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:o.description})]})]}),m.jsx("div",{children:m.jsxs(kt,{children:[m.jsx(Rn,{children:m.jsx(tr,{children:"Rent this Locker"})}),m.jsxs(Ft,{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"This will create a rental invoice via your connected wallet and unlock the locker once paid."}),m.jsx(dt,{onClick:k,disabled:l,className:"mt-4",children:l?"Creating invoice...":`Rent for ${o.price} sats`}),u&&m.jsx("p",{className:"mt-2 text-sm",children:u})]})]})}),m.jsx(zV,{open:p,invoice:w,onClose:()=>{h(!1),l&&c(!1)},onPay:C,onSettled:async I=>{if(!o)return;const L=I.preimage;if(L){try{await r({recipientPubkey:o.pubkey,lockerId:o.dTag,paymentPreimage:L,rentalInvoice:w}),f("Unlock command sent via NIP-17. Locker should open shortly.")}catch(z){f((z==null?void 0:z.message)??"Failed to send unlock command")}c(!1)}}})]}):m.jsx("div",{className:"container mx-auto p-6",children:"Locker not found."})}var FV="Label",eP=_.forwardRef((e,t)=>m.jsx(ze.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eP.displayName=FV;var tP=eP;const $V=Pc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kn=_.forwardRef(({className:e,...t},n)=>m.jsx(tP,{ref:n,className:Oe($V(),e),...t}));kn.displayName=tP.displayName;function mc(e,[t,n]){return Math.min(n,Math.max(t,e))}function Xv(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var nP=["PageUp","PageDown"],rP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Za="Slider",[ey,UV,HV]=Cc(Za),[sP,nK]=un(Za,[HV]),[WV,Hf]=sP(Za),iP=_.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:i=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:f=[r],value:p,onValueChange:h=()=>{},onValueCommit:w=()=>{},inverted:y=!1,form:b,...g}=e,x=_.useRef(new Set),E=_.useRef(0),C=l==="horizontal"?VV:ZV,[A=[],I]=br({prop:p,defaultProp:f,onChange:W=>{var V;(V=[...x.current][E.current])==null||V.focus(),h(W)}}),L=_.useRef(A);function z(W){const M=JV(A,W);B(W,M)}function $(W){B(W,E.current)}function O(){const W=L.current[E.current];A[E.current]!==W&&w(A)}function B(W,M,{commit:V}={commit:!1}){const P=tZ(i),U=nZ(Math.round((W-r)/i)*i+r,P),X=mc(U,[r,o]);I((J=[])=>{const ee=GV(J,X,M);if(eZ(ee,u*i)){E.current=ee.indexOf(X);const q=String(ee)!==String(J);return q&&V&&w(ee),q?ee:J}else return J})}return m.jsx(WV,{scope:e.__scopeSlider,name:n,disabled:c,min:r,max:o,valueIndexToChangeRef:E,thumbs:x.current,values:A,orientation:l,form:b,children:m.jsx(ey.Provider,{scope:e.__scopeSlider,children:m.jsx(ey.Slot,{scope:e.__scopeSlider,children:m.jsx(C,{"aria-disabled":c,"data-disabled":c?"":void 0,...g,ref:t,onPointerDown:Pe(g.onPointerDown,()=>{c||(L.current=A)}),min:r,max:o,inverted:y,onSlideStart:c?void 0:z,onSlideMove:c?void 0:$,onSlideEnd:c?void 0:O,onHomeKeyDown:()=>!c&&B(r,0,{commit:!0}),onEndKeyDown:()=>!c&&B(o,A.length-1,{commit:!0}),onStepKeyDown:({event:W,direction:M})=>{if(!c){const U=nP.includes(W.key)||W.shiftKey&&rP.includes(W.key)?10:1,X=E.current,J=A[X],ee=i*U*M;B(J+ee,X,{commit:!0})}}})})})})});iP.displayName=Za;var[aP,lP]=sP(Za,{startEdge:"left",endEdge:"right",size:"width",direction:1}),VV=_.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:f,...p}=e,[h,w]=_.useState(null),y=Qe(t,C=>w(C)),b=_.useRef(void 0),g=Wa(o),x=g==="ltr",E=x&&!i||!x&&i;function k(C){const A=b.current||h.getBoundingClientRect(),I=[0,A.width],z=e0(I,E?[n,r]:[r,n]);return b.current=A,z(C-A.left)}return m.jsx(aP,{scope:e.__scopeSlider,startEdge:E?"left":"right",endEdge:E?"right":"left",direction:E?1:-1,size:"width",children:m.jsx(cP,{dir:g,"data-orientation":"horizontal",...p,ref:y,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const A=k(C.clientX);l==null||l(A)},onSlideMove:C=>{const A=k(C.clientX);c==null||c(A)},onSlideEnd:()=>{b.current=void 0,u==null||u()},onStepKeyDown:C=>{const I=oP[E?"from-left":"from-right"].includes(C.key);f==null||f({event:C,direction:I?-1:1})}})})}),ZV=_.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,p=_.useRef(null),h=Qe(t,p),w=_.useRef(void 0),y=!o;function b(g){const x=w.current||p.current.getBoundingClientRect(),E=[0,x.height],C=e0(E,y?[r,n]:[n,r]);return w.current=x,C(g-x.top)}return m.jsx(aP,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:m.jsx(cP,{"data-orientation":"vertical",...f,ref:h,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const x=b(g.clientY);i==null||i(x)},onSlideMove:g=>{const x=b(g.clientY);l==null||l(x)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:g=>{const E=oP[y?"from-bottom":"from-top"].includes(g.key);u==null||u({event:g,direction:E?-1:1})}})})}),cP=_.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:u,...f}=e,p=Hf(Za,n);return m.jsx(ze.span,{...f,ref:t,onKeyDown:Pe(e.onKeyDown,h=>{h.key==="Home"?(l(h),h.preventDefault()):h.key==="End"?(c(h),h.preventDefault()):nP.concat(rP).includes(h.key)&&(u(h),h.preventDefault())}),onPointerDown:Pe(e.onPointerDown,h=>{const w=h.target;w.setPointerCapture(h.pointerId),h.preventDefault(),p.thumbs.has(w)?w.focus():r(h)}),onPointerMove:Pe(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&o(h)}),onPointerUp:Pe(e.onPointerUp,h=>{const w=h.target;w.hasPointerCapture(h.pointerId)&&(w.releasePointerCapture(h.pointerId),i(h))})})}),uP="SliderTrack",dP=_.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Hf(uP,n);return m.jsx(ze.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});dP.displayName=uP;var ty="SliderRange",fP=_.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Hf(ty,n),i=lP(ty,n),l=_.useRef(null),c=Qe(t,l),u=o.values.length,f=o.values.map(w=>mP(w,o.min,o.max)),p=u>1?Math.min(...f):0,h=100-Math.max(...f);return m.jsx(ze.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:c,style:{...e.style,[i.startEdge]:p+"%",[i.endEdge]:h+"%"}})});fP.displayName=ty;var ny="SliderThumb",hP=_.forwardRef((e,t)=>{const n=UV(e.__scopeSlider),[r,o]=_.useState(null),i=Qe(t,c=>o(c)),l=_.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return m.jsx(qV,{...e,ref:i,index:l})}),qV=_.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...i}=e,l=Hf(ny,n),c=lP(ny,n),[u,f]=_.useState(null),p=Qe(t,k=>f(k)),h=u?l.form||!!u.closest("form"):!0,w=gv(u),y=l.values[r],b=y===void 0?0:mP(y,l.min,l.max),g=YV(r,l.values.length),x=w==null?void 0:w[c.size],E=x?QV(x,b,c.direction):0;return _.useEffect(()=>{if(u)return l.thumbs.add(u),()=>{l.thumbs.delete(u)}},[u,l.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${b}% + ${E}px)`},children:[m.jsx(ey.ItemSlot,{scope:e.__scopeSlider,children:m.jsx(ze.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":l.min,"aria-valuenow":y,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:p,style:y===void 0?{display:"none"}:e.style,onFocus:Pe(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),h&&m.jsx(pP,{name:o??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:y},r)]})});hP.displayName=ny;var KV="RadioBubbleInput",pP=_.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const o=_.useRef(null),i=Qe(o,r),l=Xv(t);return _.useEffect(()=>{const c=o.current;if(!c)return;const u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==t&&p){const h=new Event("input",{bubbles:!0});p.call(c,t),c.dispatchEvent(h)}},[l,t]),m.jsx(ze.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});pP.displayName=KV;function GV(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,i)=>o-i)}function mP(e,t,n){const i=100/(n-t)*(e-t);return mc(i,[0,100])}function YV(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function JV(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function QV(e,t,n){const r=e/2,i=e0([0,50],[0,r]);return(r-i(t)*n)*n}function XV(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function eZ(e,t){if(t>0){const n=XV(e);return Math.min(...n)>=t}return!0}function e0(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function tZ(e){return(String(e).split(".")[1]||"").length}function nZ(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var gP=iP,rZ=dP,oZ=fP,sZ=hP;const yP=_.forwardRef(({className:e,...t},n)=>m.jsxs(gP,{ref:n,className:Oe("relative flex w-full touch-none select-none items-center",e),...t,children:[m.jsx(rZ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:m.jsx(oZ,{className:"absolute h-full bg-primary"})}),m.jsx(sZ,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));yP.displayName=gP.displayName;function Bn({className:e,...t}){return m.jsx("div",{className:Oe("animate-pulse rounded-md bg-muted",e),...t})}function iZ(e){try{const t=new Map(e.tags);return{id:e.id,dTag:t.get("d")||"",title:t.get("title")||"Unnamed Locker",description:e.content||"",price:parseInt(t.get("price")||"0"),geohash:t.get("g")||"",dimensions:t.get("dimensions"),status:t.get("status")||"available",owner:e.pubkey}}catch{return null}}const aZ=[{id:"1",dTag:"locker-001",title:"Downtown Secure Box",description:"24/7 accessible locker in well-lit area. Perfect for small packages.",price:500,geohash:"9q8yyz",dimensions:"30x40x50 cm",status:"available",owner:"npub1abc..."},{id:"2",dTag:"locker-002",title:"University Campus Drop",description:"Near student center. High traffic, very secure.",price:300,geohash:"9q8yym",dimensions:"25x35x45 cm",status:"available",owner:"npub1def..."},{id:"3",dTag:"locker-003",title:"Shopping Mall Locker",description:"Inside mall, security cameras. Good for retail exchanges.",price:750,geohash:"9q8yyk",dimensions:"40x50x60 cm",status:"occupied",owner:"npub1ghi..."},{id:"4",dTag:"locker-004",title:"Suburban Community Box",description:"Residential area, quiet neighborhood. Great for privacy.",price:250,geohash:"9q8yyf",dimensions:"30x40x40 cm",status:"available",owner:"npub1jkl..."}];function lZ(){const{nostr:e}=$n(),[t,n]=_.useState(1e4),[r,o]=_.useState(!1),[i,l]=_.useState(""),{data:c,isLoading:u}=Fr({queryKey:["locker-listings"],queryFn:async()=>{try{return(await e.query([{kinds:[30402],"#t":["locker"],limit:200}])).map(iZ).filter(Boolean)}catch{return[]}},staleTime:6e4}),f=c!=null&&c.length?c:aZ,p=_.useMemo(()=>f.filter(w=>{const y=!i||w.title.toLowerCase().includes(i.toLowerCase())||w.description.toLowerCase().includes(i.toLowerCase()),b=w.price<=t;return y&&b}),[f,i,t]),h=w=>w>=1e6?`${(w/1e6).toFixed(2)}M sats`:w>=1e3?`${(w/1e3).toFixed(1)}k sats`:`${w} sats`;return m.jsx("div",{className:"min-h-screen bg-background",children:m.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[m.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold",children:"Marketplace"}),m.jsx("p",{className:"text-muted-foreground",children:"Find dead drop lockers near you"})]}),m.jsxs(dt,{variant:"outline",size:"sm",onClick:()=>o(!r),children:[m.jsx(LB,{className:"h-4 w-4 mr-2"}),"Filters"]})]}),r&&m.jsx(kt,{children:m.jsxs(Ft,{className:"pt-6 grid gap-6 md:grid-cols-2",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{children:"Search"}),m.jsx(Xt,{placeholder:"Search by name or description...",value:i,onChange:w=>l(w.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs(kn,{children:["Max Price: ",h(t)]}),m.jsx(yP,{min:0,max:5e4,step:500,value:[t],onValueChange:([w])=>n(w)})]})]})})]}),m.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-muted-foreground",children:[m.jsx(FB,{className:"h-4 w-4"}),p.length," locker",p.length!==1?"s":""," found"]}),u?m.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(w=>m.jsxs(kt,{children:[m.jsx(Rn,{children:m.jsx(Bn,{className:"h-6 w-3/4"})}),m.jsxs(Ft,{className:"space-y-2",children:[m.jsx(Bn,{className:"h-4 w-full"}),m.jsx(Bn,{className:"h-4 w-2/3"})]})]},w))}):p.length===0?m.jsx(kt,{className:"text-center py-12",children:m.jsxs(Ft,{children:[m.jsx(hb,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),m.jsx("h3",{className:"text-lg font-medium mb-2",children:"No lockers found"}),m.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your filters or search terms"})]})}):m.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:p.map(w=>m.jsxs(kt,{className:"hover:border-primary transition-colors group",children:[m.jsx(Rn,{className:"pb-3",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsx(tr,{className:"text-lg group-hover:text-primary transition-colors",children:w.title}),m.jsx(wr,{variant:w.status==="available"?"default":"secondary",children:w.status})]})}),m.jsxs(Ft,{className:"space-y-3",children:[m.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:w.description}),m.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[m.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[m.jsx(IB,{className:"h-4 w-4"}),m.jsx("span",{className:"font-medium text-foreground",children:h(w.price)}),m.jsx("span",{className:"text-xs",children:"/hr"})]}),w.dimensions&&m.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[m.jsx(hb,{className:"h-4 w-4"}),m.jsx("span",{children:w.dimensions})]})]}),w.geohash&&m.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[m.jsx(UB,{className:"h-3 w-3"}),m.jsx("span",{className:"font-mono",children:w.geohash})]}),m.jsx(dt,{asChild:!0,className:"w-full mt-2",children:m.jsx(Pn,{to:`/locker/${w.dTag}`,children:"View Details"})})]})]},w.id))})]})})}function ud(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wm={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var BE;function cZ(){return BE||(BE=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,o,i){function l(f,p){if(!o[f]){if(!r[f]){var h=typeof ud=="function"&&ud;if(!p&&h)return h(f,!0);if(c)return c(f,!0);var w=new Error("Cannot find module '"+f+"'");throw w.code="MODULE_NOT_FOUND",w}var y=o[f]={exports:{}};r[f][0].call(y.exports,function(b){var g=r[f][1][b];return l(g||b)},y,y.exports,n,r,o,i)}return o[f].exports}for(var c=typeof ud=="function"&&ud,u=0;u<i.length;u++)l(i[u]);return l}({1:[function(n,r,o){var i=n("./utils"),l=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(u){for(var f,p,h,w,y,b,g,x=[],E=0,k=u.length,C=k,A=i.getTypeOf(u)!=="string";E<u.length;)C=k-E,h=A?(f=u[E++],p=E<k?u[E++]:0,E<k?u[E++]:0):(f=u.charCodeAt(E++),p=E<k?u.charCodeAt(E++):0,E<k?u.charCodeAt(E++):0),w=f>>2,y=(3&f)<<4|p>>4,b=1<C?(15&p)<<2|h>>6:64,g=2<C?63&h:64,x.push(c.charAt(w)+c.charAt(y)+c.charAt(b)+c.charAt(g));return x.join("")},o.decode=function(u){var f,p,h,w,y,b,g=0,x=0,E="data:";if(u.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var k,C=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===c.charAt(64)&&C--,u.charAt(u.length-2)===c.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=l.uint8array?new Uint8Array(0|C):new Array(0|C);g<u.length;)f=c.indexOf(u.charAt(g++))<<2|(w=c.indexOf(u.charAt(g++)))>>4,p=(15&w)<<4|(y=c.indexOf(u.charAt(g++)))>>2,h=(3&y)<<6|(b=c.indexOf(u.charAt(g++))),k[x++]=f,y!==64&&(k[x++]=p),b!==64&&(k[x++]=h);return k}},{"./support":30,"./utils":32}],2:[function(n,r,o){var i=n("./external"),l=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function f(p,h,w,y,b){this.compressedSize=p,this.uncompressedSize=h,this.crc32=w,this.compression=y,this.compressedContent=b}f.prototype={getContentWorker:function(){var p=new l(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),h=this;return p.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new l(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(p,h,w){return p.pipe(new c).pipe(new u("uncompressedSize")).pipe(h.compressWorker(w)).pipe(new u("compressedSize")).withStreamInfo("compression",h)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,o){var i=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,o){var i=n("./utils"),l=function(){for(var c,u=[],f=0;f<256;f++){c=f;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;u[f]=c}return u}();r.exports=function(c,u){return c!==void 0&&c.length?i.getTypeOf(c)!=="string"?function(f,p,h,w){var y=l,b=w+h;f^=-1;for(var g=w;g<b;g++)f=f>>>8^y[255&(f^p[g])];return-1^f}(0|u,c,c.length,0):function(f,p,h,w){var y=l,b=w+h;f^=-1;for(var g=w;g<b;g++)f=f>>>8^y[255&(f^p.charCodeAt(g))];return-1^f}(0|u,c,c.length,0):0}},{"./utils":32}],5:[function(n,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,r,o){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),c=n("./utils"),u=n("./stream/GenericWorker"),f=i?"uint8array":"array";function p(h,w){u.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=w,this.meta={}}o.magic="\b\0",c.inherits(p,u),p.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(f,h.data),!1)},p.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(w){h.push({data:w,meta:h.meta})}},o.compressWorker=function(h){return new p("Deflate",h)},o.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,o){function i(y,b){var g,x="";for(g=0;g<b;g++)x+=String.fromCharCode(255&y),y>>>=8;return x}function l(y,b,g,x,E,k){var C,A,I=y.file,L=y.compression,z=k!==f.utf8encode,$=c.transformTo("string",k(I.name)),O=c.transformTo("string",f.utf8encode(I.name)),B=I.comment,W=c.transformTo("string",k(B)),M=c.transformTo("string",f.utf8encode(B)),V=O.length!==I.name.length,P=M.length!==B.length,U="",X="",J="",ee=I.dir,q=I.date,oe={crc32:0,compressedSize:0,uncompressedSize:0};b&&!g||(oe.crc32=y.crc32,oe.compressedSize=y.compressedSize,oe.uncompressedSize=y.uncompressedSize);var D=0;b&&(D|=8),z||!V&&!P||(D|=2048);var Z=0,ge=0;ee&&(Z|=16),E==="UNIX"?(ge=798,Z|=function(me,Ae){var we=me;return me||(we=Ae?16893:33204),(65535&we)<<16}(I.unixPermissions,ee)):(ge=20,Z|=function(me){return 63&(me||0)}(I.dosPermissions)),C=q.getUTCHours(),C<<=6,C|=q.getUTCMinutes(),C<<=5,C|=q.getUTCSeconds()/2,A=q.getUTCFullYear()-1980,A<<=4,A|=q.getUTCMonth()+1,A<<=5,A|=q.getUTCDate(),V&&(X=i(1,1)+i(p($),4)+O,U+="up"+i(X.length,2)+X),P&&(J=i(1,1)+i(p(W),4)+M,U+="uc"+i(J.length,2)+J);var pe="";return pe+=`
\0`,pe+=i(D,2),pe+=L.magic,pe+=i(C,2),pe+=i(A,2),pe+=i(oe.crc32,4),pe+=i(oe.compressedSize,4),pe+=i(oe.uncompressedSize,4),pe+=i($.length,2),pe+=i(U.length,2),{fileRecord:h.LOCAL_FILE_HEADER+pe+$+U,dirRecord:h.CENTRAL_FILE_HEADER+i(ge,2)+pe+i(W.length,2)+"\0\0\0\0"+i(Z,4)+i(x,4)+$+U+W}}var c=n("../utils"),u=n("../stream/GenericWorker"),f=n("../utf8"),p=n("../crc32"),h=n("../signature");function w(y,b,g,x){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=g,this.encodeFileName=x,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(w,u),w.prototype.push=function(y){var b=y.meta.percent||0,g=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,u.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:g?(b+100*(g-x-1))/g:100}}))},w.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var b=this.streamFiles&&!y.file.dir;if(b){var g=l(y,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(y){this.accumulate=!1;var b=this.streamFiles&&!y.file.dir,g=l(y,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),b)this.push({data:function(x){return h.DATA_DESCRIPTOR+i(x.crc32,4)+i(x.compressedSize,4)+i(x.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var y=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var g=this.bytesWritten-y,x=function(E,k,C,A,I){var L=c.transformTo("string",I(A));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(E,2)+i(E,2)+i(k,4)+i(C,4)+i(L.length,2)+L}(this.dirRecords.length,g,y,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(y){this._sources.push(y);var b=this;return y.on("data",function(g){b.processChunk(g)}),y.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),y.on("error",function(g){b.error(g)}),this},w.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(y){var b=this._sources;if(!u.prototype.error.call(this,y))return!1;for(var g=0;g<b.length;g++)try{b[g].error(y)}catch{}return!0},w.prototype.lock=function(){u.prototype.lock.call(this);for(var y=this._sources,b=0;b<y.length;b++)y[b].lock()},r.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,o){var i=n("../compressions"),l=n("./ZipFileWorker");o.generateWorker=function(c,u,f){var p=new l(u.streamFiles,f,u.platform,u.encodeFileName),h=0;try{c.forEach(function(w,y){h++;var b=function(k,C){var A=k||C,I=i[A];if(!I)throw new Error(A+" is not a valid compression method !");return I}(y.options.compression,u.compression),g=y.options.compressionOptions||u.compressionOptions||{},x=y.dir,E=y.date;y._compressWorker(b,g).withStreamInfo("file",{name:w,dir:x,date:E,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(p)}),p.entriesCount=h}catch(w){p.error(w)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,o){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new i;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(l,c){return new i().loadAsync(l,c)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,o){var i=n("./utils"),l=n("./external"),c=n("./utf8"),u=n("./zipEntries"),f=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function h(w){return new l.Promise(function(y,b){var g=w.decompressed.getContentWorker().pipe(new f);g.on("error",function(x){b(x)}).on("end",function(){g.streamInfo.crc32!==w.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}r.exports=function(w,y){var b=this;return y=i.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),p.isNode&&p.isStream(w)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",w,!0,y.optimizedBinaryString,y.base64).then(function(g){var x=new u(y);return x.load(g),x}).then(function(g){var x=[l.Promise.resolve(g)],E=g.files;if(y.checkCRC32)for(var k=0;k<E.length;k++)x.push(h(E[k]));return l.Promise.all(x)}).then(function(g){for(var x=g.shift(),E=x.files,k=0;k<E.length;k++){var C=E[k],A=C.fileNameStr,I=i.resolve(C.fileNameStr);b.file(I,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:y.createFolders}),C.dir||(b.file(I).unsafeOriginalName=A)}return x.zipComment.length&&(b.comment=x.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,o){var i=n("../utils"),l=n("../stream/GenericWorker");function c(u,f){l.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(f)}i.inherits(c,l),c.prototype._bindStream=function(u){var f=this;(this._stream=u).pause(),u.on("data",function(p){f.push({data:p,meta:{percent:0}})}).on("error",function(p){f.isPaused?this.generatedError=p:f.error(p)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,o){var i=n("readable-stream").Readable;function l(c,u,f){i.call(this,u),this._helper=c;var p=this;c.on("data",function(h,w){p.push(h)||p._helper.pause(),f&&f(w)}).on("error",function(h){p.emit("error",h)}).on("end",function(){p.push(null)})}n("../utils").inherits(l,i),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,l);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,l)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var l=new Buffer(i);return l.fill(0),l},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,o){function i(I,L,z){var $,O=c.getTypeOf(L),B=c.extend(z||{},p);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(I=E(I)),B.createFolders&&($=x(I))&&k.call(this,$,!0);var W=O==="string"&&B.binary===!1&&B.base64===!1;z&&z.binary!==void 0||(B.binary=!W),(L instanceof h&&L.uncompressedSize===0||B.dir||!L||L.length===0)&&(B.base64=!1,B.binary=!0,L="",B.compression="STORE",O="string");var M=null;M=L instanceof h||L instanceof u?L:b.isNode&&b.isStream(L)?new g(I,L):c.prepareContent(I,L,B.binary,B.optimizedBinaryString,B.base64);var V=new w(I,M,B);this.files[I]=V}var l=n("./utf8"),c=n("./utils"),u=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),p=n("./defaults"),h=n("./compressedObject"),w=n("./zipObject"),y=n("./generate"),b=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),x=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var L=I.lastIndexOf("/");return 0<L?I.substring(0,L):""},E=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},k=function(I,L){return L=L!==void 0?L:p.createFolders,I=E(I),this.files[I]||i.call(this,I,null,{dir:!0,createFolders:L}),this.files[I]};function C(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var L,z,$;for(L in this.files)$=this.files[L],(z=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&I(z,$)},filter:function(I){var L=[];return this.forEach(function(z,$){I(z,$)&&L.push($)}),L},file:function(I,L,z){if(arguments.length!==1)return I=this.root+I,i.call(this,I,L,z),this;if(C(I)){var $=I;return this.filter(function(B,W){return!W.dir&&$.test(B)})}var O=this.files[this.root+I];return O&&!O.dir?O:null},folder:function(I){if(!I)return this;if(C(I))return this.filter(function(O,B){return B.dir&&I.test(O)});var L=this.root+I,z=k.call(this,L),$=this.clone();return $.root=z.name,$},remove:function(I){I=this.root+I;var L=this.files[I];if(L||(I.slice(-1)!=="/"&&(I+="/"),L=this.files[I]),L&&!L.dir)delete this.files[I];else for(var z=this.filter(function(O,B){return B.name.slice(0,I.length)===I}),$=0;$<z.length;$++)delete this.files[z[$].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var L,z={};try{if((z=c.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");c.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var $=z.comment||this.comment||"";L=y.generateWorker(this,z,$)}catch(O){(L=new u("error")).error(O)}return new f(L,z.type||"string",z.mimeType)},generateAsync:function(I,L){return this.generateInternalStream(I).accumulate(L)},generateNodeStream:function(I,L){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(L)}};r.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,o){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,o){var i=n("./DataReader");function l(c){i.call(this,c);for(var u=0;u<this.data.length;u++)c[u]=255&c[u]}n("../utils").inherits(l,i),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var u=c.charCodeAt(0),f=c.charCodeAt(1),p=c.charCodeAt(2),h=c.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===u&&this.data[w+1]===f&&this.data[w+2]===p&&this.data[w+3]===h)return w-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var u=c.charCodeAt(0),f=c.charCodeAt(1),p=c.charCodeAt(2),h=c.charCodeAt(3),w=this.readData(4);return u===w[0]&&f===w[1]&&p===w[2]&&h===w[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,r,o){var i=n("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var u,f=0;for(this.checkOffset(c),u=this.index+c-1;u>=this.index;u--)f=(f<<8)+this.byteAt(u);return this.index+=c,f},readString:function(c){return i.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=l},{"../utils":32}],19:[function(n,r,o){var i=n("./Uint8ArrayReader");function l(c){i.call(this,c)}n("../utils").inherits(l,i),l.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,o){var i=n("./DataReader");function l(c){i.call(this,c)}n("../utils").inherits(l,i),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,r,o){var i=n("./ArrayReader");function l(c){i.call(this,c)}n("../utils").inherits(l,i),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,o){var i=n("../utils"),l=n("../support"),c=n("./ArrayReader"),u=n("./StringReader"),f=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");r.exports=function(h){var w=i.getTypeOf(h);return i.checkSupport(w),w!=="string"||l.uint8array?w==="nodebuffer"?new f(h):l.uint8array?new p(i.transformTo("uint8array",h)):new c(i.transformTo("array",h)):new u(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,o){var i=n("./GenericWorker"),l=n("../utils");function c(u){i.call(this,"ConvertWorker to "+u),this.destType=u}l.inherits(c,i),c.prototype.processChunk=function(u){this.push({data:l.transformTo(this.destType,u.data),meta:u.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,o){var i=n("./GenericWorker"),l=n("../crc32");function c(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(c,i),c.prototype.processChunk=function(u){this.streamInfo.crc32=l(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,o){var i=n("../utils"),l=n("./GenericWorker");function c(u){l.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}i.inherits(c,l),c.prototype.processChunk=function(u){if(u){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+u.data.length}l.prototype.processChunk.call(this,u)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,o){var i=n("../utils"),l=n("./GenericWorker");function c(u){l.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(p){f.dataIsReady=!0,f.data=p,f.max=p&&p.length||0,f.type=i.getTypeOf(p),f.isPaused||f._tickAndRepeat()},function(p){f.error(p)})}i.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,f);break;case"uint8array":u=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":u=this.data.slice(this.index,f)}return this.index=f,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,o){function i(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var u=0;u<this._listeners[l].length;u++)this._listeners[l][u].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(u){c.processChunk(u)}),l.on("end",function(){c.end()}),l.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=i},{}],29:[function(n,r,o){var i=n("../utils"),l=n("./ConvertWorker"),c=n("./GenericWorker"),u=n("../base64"),f=n("../support"),p=n("../external"),h=null;if(f.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(b,g){return new p.Promise(function(x,E){var k=[],C=b._internalType,A=b._outputType,I=b._mimeType;b.on("data",function(L,z){k.push(L),g&&g(z)}).on("error",function(L){k=[],E(L)}).on("end",function(){try{var L=function(z,$,O){switch(z){case"blob":return i.newBlob(i.transformTo("arraybuffer",$),O);case"base64":return u.encode($);default:return i.transformTo(z,$)}}(A,function(z,$){var O,B=0,W=null,M=0;for(O=0;O<$.length;O++)M+=$[O].length;switch(z){case"string":return $.join("");case"array":return Array.prototype.concat.apply([],$);case"uint8array":for(W=new Uint8Array(M),O=0;O<$.length;O++)W.set($[O],B),B+=$[O].length;return W;case"nodebuffer":return Buffer.concat($);default:throw new Error("concat : unsupported type '"+z+"'")}}(C,k),I);x(L)}catch(z){E(z)}k=[]}).resume()})}function y(b,g,x){var E=g;switch(g){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=g,this._mimeType=x,i.checkSupport(E),this._worker=b.pipe(new l(E)),b.lock()}catch(k){this._worker=new c("error"),this._worker.error(k)}}y.prototype={accumulate:function(b){return w(this,b)},on:function(b,g){var x=this;return b==="data"?this._worker.on(b,function(E){g.call(x,E.data,E.meta)}):this._worker.on(b,function(){i.delay(g,arguments,x)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(i),o.blob=l.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,o){for(var i=n("./utils"),l=n("./support"),c=n("./nodejsUtils"),u=n("./stream/GenericWorker"),f=new Array(256),p=0;p<256;p++)f[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;f[254]=f[254]=1;function h(){u.call(this,"utf-8 decode"),this.leftOver=null}function w(){u.call(this,"utf-8 encode")}o.utf8encode=function(y){return l.nodebuffer?c.newBufferFrom(y,"utf-8"):function(b){var g,x,E,k,C,A=b.length,I=0;for(k=0;k<A;k++)(64512&(x=b.charCodeAt(k)))==55296&&k+1<A&&(64512&(E=b.charCodeAt(k+1)))==56320&&(x=65536+(x-55296<<10)+(E-56320),k++),I+=x<128?1:x<2048?2:x<65536?3:4;for(g=l.uint8array?new Uint8Array(I):new Array(I),k=C=0;C<I;k++)(64512&(x=b.charCodeAt(k)))==55296&&k+1<A&&(64512&(E=b.charCodeAt(k+1)))==56320&&(x=65536+(x-55296<<10)+(E-56320),k++),x<128?g[C++]=x:(x<2048?g[C++]=192|x>>>6:(x<65536?g[C++]=224|x>>>12:(g[C++]=240|x>>>18,g[C++]=128|x>>>12&63),g[C++]=128|x>>>6&63),g[C++]=128|63&x);return g}(y)},o.utf8decode=function(y){return l.nodebuffer?i.transformTo("nodebuffer",y).toString("utf-8"):function(b){var g,x,E,k,C=b.length,A=new Array(2*C);for(g=x=0;g<C;)if((E=b[g++])<128)A[x++]=E;else if(4<(k=f[E]))A[x++]=65533,g+=k-1;else{for(E&=k===2?31:k===3?15:7;1<k&&g<C;)E=E<<6|63&b[g++],k--;1<k?A[x++]=65533:E<65536?A[x++]=E:(E-=65536,A[x++]=55296|E>>10&1023,A[x++]=56320|1023&E)}return A.length!==x&&(A.subarray?A=A.subarray(0,x):A.length=x),i.applyFromCharCode(A)}(y=i.transformTo(l.uint8array?"uint8array":"array",y))},i.inherits(h,u),h.prototype.processChunk=function(y){var b=i.transformTo(l.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var g=b;(b=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),b.set(g,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var x=function(k,C){var A;for((C=C||k.length)>k.length&&(C=k.length),A=C-1;0<=A&&(192&k[A])==128;)A--;return A<0||A===0?C:A+f[k[A]]>C?A:C}(b),E=b;x!==b.length&&(l.uint8array?(E=b.subarray(0,x),this.leftOver=b.subarray(x,b.length)):(E=b.slice(0,x),this.leftOver=b.slice(x,b.length))),this.push({data:o.utf8decode(E),meta:y.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=h,i.inherits(w,u),w.prototype.processChunk=function(y){this.push({data:o.utf8encode(y.data),meta:y.meta})},o.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,o){var i=n("./support"),l=n("./base64"),c=n("./nodejsUtils"),u=n("./external");function f(g){return g}function p(g,x){for(var E=0;E<g.length;++E)x[E]=255&g.charCodeAt(E);return x}n("setimmediate"),o.newBlob=function(g,x){o.checkSupport("blob");try{return new Blob([g],{type:x})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(g),E.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,x,E){var k=[],C=0,A=g.length;if(A<=E)return String.fromCharCode.apply(null,g);for(;C<A;)x==="array"||x==="nodebuffer"?k.push(String.fromCharCode.apply(null,g.slice(C,Math.min(C+E,A)))):k.push(String.fromCharCode.apply(null,g.subarray(C,Math.min(C+E,A)))),C+=E;return k.join("")},stringifyByChar:function(g){for(var x="",E=0;E<g.length;E++)x+=String.fromCharCode(g[E]);return x},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function w(g){var x=65536,E=o.getTypeOf(g),k=!0;if(E==="uint8array"?k=h.applyCanBeUsed.uint8array:E==="nodebuffer"&&(k=h.applyCanBeUsed.nodebuffer),k)for(;1<x;)try{return h.stringifyByChunk(g,E,x)}catch{x=Math.floor(x/2)}return h.stringifyByChar(g)}function y(g,x){for(var E=0;E<g.length;E++)x[E]=g[E];return x}o.applyFromCharCode=w;var b={};b.string={string:f,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return b.string.uint8array(g).buffer},uint8array:function(g){return p(g,new Uint8Array(g.length))},nodebuffer:function(g){return p(g,c.allocBuffer(g.length))}},b.array={string:w,array:f,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return c.newBufferFrom(g)}},b.arraybuffer={string:function(g){return w(new Uint8Array(g))},array:function(g){return y(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:f,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return c.newBufferFrom(new Uint8Array(g))}},b.uint8array={string:w,array:function(g){return y(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:f,nodebuffer:function(g){return c.newBufferFrom(g)}},b.nodebuffer={string:w,array:function(g){return y(g,new Array(g.length))},arraybuffer:function(g){return b.nodebuffer.uint8array(g).buffer},uint8array:function(g){return y(g,new Uint8Array(g.length))},nodebuffer:f},o.transformTo=function(g,x){if(x=x||"",!g)return x;o.checkSupport(g);var E=o.getTypeOf(x);return b[E][g](x)},o.resolve=function(g){for(var x=g.split("/"),E=[],k=0;k<x.length;k++){var C=x[k];C==="."||C===""&&k!==0&&k!==x.length-1||(C===".."?E.pop():E.push(C))}return E.join("/")},o.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":i.nodebuffer&&c.isBuffer(g)?"nodebuffer":i.uint8array&&g instanceof Uint8Array?"uint8array":i.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(g){if(!i[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(g){var x,E,k="";for(E=0;E<(g||"").length;E++)k+="\\x"+((x=g.charCodeAt(E))<16?"0":"")+x.toString(16).toUpperCase();return k},o.delay=function(g,x,E){setImmediate(function(){g.apply(E||null,x||[])})},o.inherits=function(g,x){function E(){}E.prototype=x.prototype,g.prototype=new E},o.extend=function(){var g,x,E={};for(g=0;g<arguments.length;g++)for(x in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],x)&&E[x]===void 0&&(E[x]=arguments[g][x]);return E},o.prepareContent=function(g,x,E,k,C){return u.Promise.resolve(x).then(function(A){return i.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new u.Promise(function(I,L){var z=new FileReader;z.onload=function($){I($.target.result)},z.onerror=function($){L($.target.error)},z.readAsArrayBuffer(A)}):A}).then(function(A){var I=o.getTypeOf(A);return I?(I==="arraybuffer"?A=o.transformTo("uint8array",A):I==="string"&&(C?A=l.decode(A):E&&k!==!0&&(A=function(L){return p(L,i.uint8array?new Uint8Array(L.length):new Array(L.length))}(A))),A):u.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,o){var i=n("./reader/readerFor"),l=n("./utils"),c=n("./signature"),u=n("./zipEntry"),f=n("./support");function p(h){this.files=[],this.loadOptions=h}p.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(w)+", expected "+l.pretty(h)+")")}},isSignature:function(h,w){var y=this.reader.index;this.reader.setIndex(h);var b=this.reader.readString(4)===w;return this.reader.setIndex(y),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),w=f.uint8array?"uint8array":"array",y=l.transformTo(w,h);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,w,y,b=this.zip64EndOfCentralSize-44;0<b;)h=this.reader.readInt(2),w=this.reader.readInt(4),y=this.reader.readData(w),this.zip64ExtensibleData[h]={id:h,length:w,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,w;for(h=0;h<this.files.length;h++)w=this.files[h],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(h=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var w=h;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var b=w-y;if(0<b)this.isSignature(w,c.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,o){var i=n("./reader/readerFor"),l=n("./utils"),c=n("./compressedObject"),u=n("./crc32"),f=n("./utf8"),p=n("./compressions"),h=n("./support");function w(y,b){this.options=y,this.loadOptions=b}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var b,g;if(y.skip(22),this.fileNameLength=y.readInt(2),g=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(x){for(var E in p)if(Object.prototype.hasOwnProperty.call(p,E)&&p[E].magic===x)return p[E];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,b,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var b=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(b),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=i(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var b,g,x,E=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<E;)b=y.readInt(2),g=y.readInt(2),x=y.readData(g),this.extraFields[b]={id:b,length:g,value:x};y.setIndex(E)},handleUTF8:function(){var y=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var g=l.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var E=l.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var b=i(y.value);return b.readInt(1)!==1||u(this.fileName)!==b.readInt(4)?null:f.utf8decode(b.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var b=i(y.value);return b.readInt(1)!==1||u(this.fileComment)!==b.readInt(4)?null:f.utf8decode(b.readData(y.length-5))}return null}},r.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,o){function i(b,g,x){this.name=b,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=g,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var l=n("./stream/StreamHelper"),c=n("./stream/DataWorker"),u=n("./utf8"),f=n("./compressedObject"),p=n("./stream/GenericWorker");i.prototype={internalStream:function(b){var g=null,x="string";try{if(!b)throw new Error("No output type specified.");var E=(x=b.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),g=this._decompressWorker();var k=!this._dataBinary;k&&!E&&(g=g.pipe(new u.Utf8EncodeWorker)),!k&&E&&(g=g.pipe(new u.Utf8DecodeWorker))}catch(C){(g=new p("error")).error(C)}return new l(g,x,"")},async:function(b,g){return this.internalStream(b).accumulate(g)},nodeStream:function(b,g){return this.internalStream(b||"nodebuffer").toNodejsStream(g)},_compressWorker:function(b,g){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new u.Utf8EncodeWorker)),f.createWorkerFrom(x,b,g)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof p?this._data:new c(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<h.length;y++)i.prototype[h[y]]=w;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,o){(function(i){var l,c,u=i.MutationObserver||i.WebKitMutationObserver;if(u){var f=0,p=new u(b),h=i.document.createTextNode("");p.observe(h,{characterData:!0}),l=function(){h.data=f=++f%2}}else if(i.setImmediate||i.MessageChannel===void 0)l="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var g=i.document.createElement("script");g.onreadystatechange=function(){b(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},i.document.documentElement.appendChild(g)}:function(){setTimeout(b,0)};else{var w=new i.MessageChannel;w.port1.onmessage=b,l=function(){w.port2.postMessage(0)}}var y=[];function b(){var g,x;c=!0;for(var E=y.length;E;){for(x=y,y=[],g=-1;++g<E;)x[g]();E=y.length}c=!1}r.exports=function(g){y.push(g)!==1||c||l()}}).call(this,typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,o){var i=n("immediate");function l(){}var c={},u=["REJECTED"],f=["FULFILLED"],p=["PENDING"];function h(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,E!==l&&g(this,E)}function w(E,k,C){this.promise=E,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function y(E,k,C){i(function(){var A;try{A=k(C)}catch(I){return c.reject(E,I)}A===E?c.reject(E,new TypeError("Cannot resolve promise with itself")):c.resolve(E,A)})}function b(E){var k=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof k=="function")return function(){k.apply(E,arguments)}}function g(E,k){var C=!1;function A(z){C||(C=!0,c.reject(E,z))}function I(z){C||(C=!0,c.resolve(E,z))}var L=x(function(){k(I,A)});L.status==="error"&&A(L.value)}function x(E,k){var C={};try{C.value=E(k),C.status="success"}catch(A){C.status="error",C.value=A}return C}(r.exports=h).prototype.finally=function(E){if(typeof E!="function")return this;var k=this.constructor;return this.then(function(C){return k.resolve(E()).then(function(){return C})},function(C){return k.resolve(E()).then(function(){throw C})})},h.prototype.catch=function(E){return this.then(null,E)},h.prototype.then=function(E,k){if(typeof E!="function"&&this.state===f||typeof k!="function"&&this.state===u)return this;var C=new this.constructor(l);return this.state!==p?y(C,this.state===f?E:k,this.outcome):this.queue.push(new w(C,E,k)),C},w.prototype.callFulfilled=function(E){c.resolve(this.promise,E)},w.prototype.otherCallFulfilled=function(E){y(this.promise,this.onFulfilled,E)},w.prototype.callRejected=function(E){c.reject(this.promise,E)},w.prototype.otherCallRejected=function(E){y(this.promise,this.onRejected,E)},c.resolve=function(E,k){var C=x(b,k);if(C.status==="error")return c.reject(E,C.value);var A=C.value;if(A)g(E,A);else{E.state=f,E.outcome=k;for(var I=-1,L=E.queue.length;++I<L;)E.queue[I].callFulfilled(k)}return E},c.reject=function(E,k){E.state=u,E.outcome=k;for(var C=-1,A=E.queue.length;++C<A;)E.queue[C].callRejected(k);return E},h.resolve=function(E){return E instanceof this?E:c.resolve(new this(l),E)},h.reject=function(E){var k=new this(l);return c.reject(k,E)},h.all=function(E){var k=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=E.length,A=!1;if(!C)return this.resolve([]);for(var I=new Array(C),L=0,z=-1,$=new this(l);++z<C;)O(E[z],z);return $;function O(B,W){k.resolve(B).then(function(M){I[W]=M,++L!==C||A||(A=!0,c.resolve($,I))},function(M){A||(A=!0,c.reject($,M))})}},h.race=function(E){var k=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=E.length,A=!1;if(!C)return this.resolve([]);for(var I=-1,L=new this(l);++I<C;)z=E[I],k.resolve(z).then(function($){A||(A=!0,c.resolve(L,$))},function($){A||(A=!0,c.reject(L,$))});var z;return L}},{immediate:36}],38:[function(n,r,o){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,o){var i=n("./zlib/deflate"),l=n("./utils/common"),c=n("./utils/strings"),u=n("./zlib/messages"),f=n("./zlib/zstream"),p=Object.prototype.toString,h=0,w=-1,y=0,b=8;function g(E){if(!(this instanceof g))return new g(E);this.options=l.assign({level:w,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},E||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var C=i.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(C!==h)throw new Error(u[C]);if(k.header&&i.deflateSetHeader(this.strm,k.header),k.dictionary){var A;if(A=typeof k.dictionary=="string"?c.string2buf(k.dictionary):p.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(C=i.deflateSetDictionary(this.strm,A))!==h)throw new Error(u[C]);this._dict_set=!0}}function x(E,k){var C=new g(k);if(C.push(E,!0),C.err)throw C.msg||u[C.err];return C.result}g.prototype.push=function(E,k){var C,A,I=this.strm,L=this.options.chunkSize;if(this.ended)return!1;A=k===~~k?k:k===!0?4:0,typeof E=="string"?I.input=c.string2buf(E):p.call(E)==="[object ArrayBuffer]"?I.input=new Uint8Array(E):I.input=E,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new l.Buf8(L),I.next_out=0,I.avail_out=L),(C=i.deflate(I,A))!==1&&C!==h)return this.onEnd(C),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(I.output,I.next_out))):this.onData(l.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&C!==1);return A===4?(C=i.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===h):A!==2||(this.onEnd(h),!(I.avail_out=0))},g.prototype.onData=function(E){this.chunks.push(E)},g.prototype.onEnd=function(E){E===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},o.Deflate=g,o.deflate=x,o.deflateRaw=function(E,k){return(k=k||{}).raw=!0,x(E,k)},o.gzip=function(E,k){return(k=k||{}).gzip=!0,x(E,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,o){var i=n("./zlib/inflate"),l=n("./utils/common"),c=n("./utils/strings"),u=n("./zlib/constants"),f=n("./zlib/messages"),p=n("./zlib/zstream"),h=n("./zlib/gzheader"),w=Object.prototype.toString;function y(g){if(!(this instanceof y))return new y(g);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},g||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||g&&g.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var E=i.inflateInit2(this.strm,x.windowBits);if(E!==u.Z_OK)throw new Error(f[E]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function b(g,x){var E=new y(x);if(E.push(g,!0),E.err)throw E.msg||f[E.err];return E.result}y.prototype.push=function(g,x){var E,k,C,A,I,L,z=this.strm,$=this.options.chunkSize,O=this.options.dictionary,B=!1;if(this.ended)return!1;k=x===~~x?x:x===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof g=="string"?z.input=c.binstring2buf(g):w.call(g)==="[object ArrayBuffer]"?z.input=new Uint8Array(g):z.input=g,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new l.Buf8($),z.next_out=0,z.avail_out=$),(E=i.inflate(z,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&O&&(L=typeof O=="string"?c.string2buf(O):w.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,E=i.inflateSetDictionary(this.strm,L)),E===u.Z_BUF_ERROR&&B===!0&&(E=u.Z_OK,B=!1),E!==u.Z_STREAM_END&&E!==u.Z_OK)return this.onEnd(E),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&E!==u.Z_STREAM_END&&(z.avail_in!==0||k!==u.Z_FINISH&&k!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=c.utf8border(z.output,z.next_out),A=z.next_out-C,I=c.buf2string(z.output,C),z.next_out=A,z.avail_out=$-A,A&&l.arraySet(z.output,z.output,C,A,0),this.onData(I)):this.onData(l.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(B=!0)}while((0<z.avail_in||z.avail_out===0)&&E!==u.Z_STREAM_END);return E===u.Z_STREAM_END&&(k=u.Z_FINISH),k===u.Z_FINISH?(E=i.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===u.Z_OK):k!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(z.avail_out=0))},y.prototype.onData=function(g){this.chunks.push(g)},y.prototype.onEnd=function(g){g===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},o.Inflate=y,o.inflate=b,o.inflateRaw=function(g,x){return(x=x||{}).raw=!0,b(g,x)},o.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(u){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var p=f.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var h in p)p.hasOwnProperty(h)&&(u[h]=p[h])}}return u},o.shrinkBuf=function(u,f){return u.length===f?u:u.subarray?u.subarray(0,f):(u.length=f,u)};var l={arraySet:function(u,f,p,h,w){if(f.subarray&&u.subarray)u.set(f.subarray(p,p+h),w);else for(var y=0;y<h;y++)u[w+y]=f[p+y]},flattenChunks:function(u){var f,p,h,w,y,b;for(f=h=0,p=u.length;f<p;f++)h+=u[f].length;for(b=new Uint8Array(h),f=w=0,p=u.length;f<p;f++)y=u[f],b.set(y,w),w+=y.length;return b}},c={arraySet:function(u,f,p,h,w){for(var y=0;y<h;y++)u[w+y]=f[p+y]},flattenChunks:function(u){return[].concat.apply([],u)}};o.setTyped=function(u){u?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,l)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,c))},o.setTyped(i)},{}],42:[function(n,r,o){var i=n("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var u=new i.Buf8(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function p(h,w){if(w<65537&&(h.subarray&&c||!h.subarray&&l))return String.fromCharCode.apply(null,i.shrinkBuf(h,w));for(var y="",b=0;b<w;b++)y+=String.fromCharCode(h[b]);return y}u[254]=u[254]=1,o.string2buf=function(h){var w,y,b,g,x,E=h.length,k=0;for(g=0;g<E;g++)(64512&(y=h.charCodeAt(g)))==55296&&g+1<E&&(64512&(b=h.charCodeAt(g+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),g++),k+=y<128?1:y<2048?2:y<65536?3:4;for(w=new i.Buf8(k),g=x=0;x<k;g++)(64512&(y=h.charCodeAt(g)))==55296&&g+1<E&&(64512&(b=h.charCodeAt(g+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),g++),y<128?w[x++]=y:(y<2048?w[x++]=192|y>>>6:(y<65536?w[x++]=224|y>>>12:(w[x++]=240|y>>>18,w[x++]=128|y>>>12&63),w[x++]=128|y>>>6&63),w[x++]=128|63&y);return w},o.buf2binstring=function(h){return p(h,h.length)},o.binstring2buf=function(h){for(var w=new i.Buf8(h.length),y=0,b=w.length;y<b;y++)w[y]=h.charCodeAt(y);return w},o.buf2string=function(h,w){var y,b,g,x,E=w||h.length,k=new Array(2*E);for(y=b=0;y<E;)if((g=h[y++])<128)k[b++]=g;else if(4<(x=u[g]))k[b++]=65533,y+=x-1;else{for(g&=x===2?31:x===3?15:7;1<x&&y<E;)g=g<<6|63&h[y++],x--;1<x?k[b++]=65533:g<65536?k[b++]=g:(g-=65536,k[b++]=55296|g>>10&1023,k[b++]=56320|1023&g)}return p(k,b)},o.utf8border=function(h,w){var y;for((w=w||h.length)>h.length&&(w=h.length),y=w-1;0<=y&&(192&h[y])==128;)y--;return y<0||y===0?w:y+u[h[y]]>w?y:w}},{"./common":41}],43:[function(n,r,o){r.exports=function(i,l,c,u){for(var f=65535&i|0,p=i>>>16&65535|0,h=0;c!==0;){for(c-=h=2e3<c?2e3:c;p=p+(f=f+l[u++]|0)|0,--h;);f%=65521,p%=65521}return f|p<<16|0}},{}],44:[function(n,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,o){var i=function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c}();r.exports=function(l,c,u,f){var p=i,h=f+u;l^=-1;for(var w=f;w<h;w++)l=l>>>8^p[255&(l^c[w])];return-1^l}},{}],46:[function(n,r,o){var i,l=n("../utils/common"),c=n("./trees"),u=n("./adler32"),f=n("./crc32"),p=n("./messages"),h=0,w=4,y=0,b=-2,g=-1,x=4,E=2,k=8,C=9,A=286,I=30,L=19,z=2*A+1,$=15,O=3,B=258,W=B+O+1,M=42,V=113,P=1,U=2,X=3,J=4;function ee(j,ye){return j.msg=p[ye],ye}function q(j){return(j<<1)-(4<j?9:0)}function oe(j){for(var ye=j.length;0<=--ye;)j[ye]=0}function D(j){var ye=j.state,de=ye.pending;de>j.avail_out&&(de=j.avail_out),de!==0&&(l.arraySet(j.output,ye.pending_buf,ye.pending_out,de,j.next_out),j.next_out+=de,ye.pending_out+=de,j.total_out+=de,j.avail_out-=de,ye.pending-=de,ye.pending===0&&(ye.pending_out=0))}function Z(j,ye){c._tr_flush_block(j,0<=j.block_start?j.block_start:-1,j.strstart-j.block_start,ye),j.block_start=j.strstart,D(j.strm)}function ge(j,ye){j.pending_buf[j.pending++]=ye}function pe(j,ye){j.pending_buf[j.pending++]=ye>>>8&255,j.pending_buf[j.pending++]=255&ye}function me(j,ye){var de,Y,G=j.max_chain_length,ie=j.strstart,be=j.prev_length,Ee=j.nice_match,ae=j.strstart>j.w_size-W?j.strstart-(j.w_size-W):0,Te=j.window,Le=j.w_mask,Ne=j.prev,Ze=j.strstart+B,H=Te[ie+be-1],N=Te[ie+be];j.prev_length>=j.good_match&&(G>>=2),Ee>j.lookahead&&(Ee=j.lookahead);do if(Te[(de=ye)+be]===N&&Te[de+be-1]===H&&Te[de]===Te[ie]&&Te[++de]===Te[ie+1]){ie+=2,de++;do;while(Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&Te[++ie]===Te[++de]&&ie<Ze);if(Y=B-(Ze-ie),ie=Ze-B,be<Y){if(j.match_start=ye,Ee<=(be=Y))break;H=Te[ie+be-1],N=Te[ie+be]}}while((ye=Ne[ye&Le])>ae&&--G!=0);return be<=j.lookahead?be:j.lookahead}function Ae(j){var ye,de,Y,G,ie,be,Ee,ae,Te,Le,Ne=j.w_size;do{if(G=j.window_size-j.lookahead-j.strstart,j.strstart>=Ne+(Ne-W)){for(l.arraySet(j.window,j.window,Ne,Ne,0),j.match_start-=Ne,j.strstart-=Ne,j.block_start-=Ne,ye=de=j.hash_size;Y=j.head[--ye],j.head[ye]=Ne<=Y?Y-Ne:0,--de;);for(ye=de=Ne;Y=j.prev[--ye],j.prev[ye]=Ne<=Y?Y-Ne:0,--de;);G+=Ne}if(j.strm.avail_in===0)break;if(be=j.strm,Ee=j.window,ae=j.strstart+j.lookahead,Te=G,Le=void 0,Le=be.avail_in,Te<Le&&(Le=Te),de=Le===0?0:(be.avail_in-=Le,l.arraySet(Ee,be.input,be.next_in,Le,ae),be.state.wrap===1?be.adler=u(be.adler,Ee,Le,ae):be.state.wrap===2&&(be.adler=f(be.adler,Ee,Le,ae)),be.next_in+=Le,be.total_in+=Le,Le),j.lookahead+=de,j.lookahead+j.insert>=O)for(ie=j.strstart-j.insert,j.ins_h=j.window[ie],j.ins_h=(j.ins_h<<j.hash_shift^j.window[ie+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[ie+O-1])&j.hash_mask,j.prev[ie&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=ie,ie++,j.insert--,!(j.lookahead+j.insert<O)););}while(j.lookahead<W&&j.strm.avail_in!==0)}function we(j,ye){for(var de,Y;;){if(j.lookahead<W){if(Ae(j),j.lookahead<W&&ye===h)return P;if(j.lookahead===0)break}if(de=0,j.lookahead>=O&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+O-1])&j.hash_mask,de=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),de!==0&&j.strstart-de<=j.w_size-W&&(j.match_length=me(j,de)),j.match_length>=O)if(Y=c._tr_tally(j,j.strstart-j.match_start,j.match_length-O),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=O){for(j.match_length--;j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+O-1])&j.hash_mask,de=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart,--j.match_length!=0;);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else Y=c._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(Y&&(Z(j,!1),j.strm.avail_out===0))return P}return j.insert=j.strstart<O-1?j.strstart:O-1,ye===w?(Z(j,!0),j.strm.avail_out===0?X:J):j.last_lit&&(Z(j,!1),j.strm.avail_out===0)?P:U}function xe(j,ye){for(var de,Y,G;;){if(j.lookahead<W){if(Ae(j),j.lookahead<W&&ye===h)return P;if(j.lookahead===0)break}if(de=0,j.lookahead>=O&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+O-1])&j.hash_mask,de=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=O-1,de!==0&&j.prev_length<j.max_lazy_match&&j.strstart-de<=j.w_size-W&&(j.match_length=me(j,de),j.match_length<=5&&(j.strategy===1||j.match_length===O&&4096<j.strstart-j.match_start)&&(j.match_length=O-1)),j.prev_length>=O&&j.match_length<=j.prev_length){for(G=j.strstart+j.lookahead-O,Y=c._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-O),j.lookahead-=j.prev_length-1,j.prev_length-=2;++j.strstart<=G&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+O-1])&j.hash_mask,de=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),--j.prev_length!=0;);if(j.match_available=0,j.match_length=O-1,j.strstart++,Y&&(Z(j,!1),j.strm.avail_out===0))return P}else if(j.match_available){if((Y=c._tr_tally(j,0,j.window[j.strstart-1]))&&Z(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return P}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(Y=c._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<O-1?j.strstart:O-1,ye===w?(Z(j,!0),j.strm.avail_out===0?X:J):j.last_lit&&(Z(j,!1),j.strm.avail_out===0)?P:U}function Se(j,ye,de,Y,G){this.good_length=j,this.max_lazy=ye,this.nice_length=de,this.max_chain=Y,this.func=G}function Ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*z),this.dyn_dtree=new l.Buf16(2*(2*I+1)),this.bl_tree=new l.Buf16(2*(2*L+1)),oe(this.dyn_ltree),oe(this.dyn_dtree),oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16($+1),this.heap=new l.Buf16(2*A+1),oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*A+1),oe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ue(j){var ye;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=E,(ye=j.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?M:V,j.adler=ye.wrap===2?0:1,ye.last_flush=h,c._tr_init(ye),y):ee(j,b)}function qe(j){var ye=Ue(j);return ye===y&&function(de){de.window_size=2*de.w_size,oe(de.head),de.max_lazy_match=i[de.level].max_lazy,de.good_match=i[de.level].good_length,de.nice_match=i[de.level].nice_length,de.max_chain_length=i[de.level].max_chain,de.strstart=0,de.block_start=0,de.lookahead=0,de.insert=0,de.match_length=de.prev_length=O-1,de.match_available=0,de.ins_h=0}(j.state),ye}function Ye(j,ye,de,Y,G,ie){if(!j)return b;var be=1;if(ye===g&&(ye=6),Y<0?(be=0,Y=-Y):15<Y&&(be=2,Y-=16),G<1||C<G||de!==k||Y<8||15<Y||ye<0||9<ye||ie<0||x<ie)return ee(j,b);Y===8&&(Y=9);var Ee=new Ie;return(j.state=Ee).strm=j,Ee.wrap=be,Ee.gzhead=null,Ee.w_bits=Y,Ee.w_size=1<<Ee.w_bits,Ee.w_mask=Ee.w_size-1,Ee.hash_bits=G+7,Ee.hash_size=1<<Ee.hash_bits,Ee.hash_mask=Ee.hash_size-1,Ee.hash_shift=~~((Ee.hash_bits+O-1)/O),Ee.window=new l.Buf8(2*Ee.w_size),Ee.head=new l.Buf16(Ee.hash_size),Ee.prev=new l.Buf16(Ee.w_size),Ee.lit_bufsize=1<<G+6,Ee.pending_buf_size=4*Ee.lit_bufsize,Ee.pending_buf=new l.Buf8(Ee.pending_buf_size),Ee.d_buf=1*Ee.lit_bufsize,Ee.l_buf=3*Ee.lit_bufsize,Ee.level=ye,Ee.strategy=ie,Ee.method=de,qe(j)}i=[new Se(0,0,0,0,function(j,ye){var de=65535;for(de>j.pending_buf_size-5&&(de=j.pending_buf_size-5);;){if(j.lookahead<=1){if(Ae(j),j.lookahead===0&&ye===h)return P;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var Y=j.block_start+de;if((j.strstart===0||j.strstart>=Y)&&(j.lookahead=j.strstart-Y,j.strstart=Y,Z(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-W&&(Z(j,!1),j.strm.avail_out===0))return P}return j.insert=0,ye===w?(Z(j,!0),j.strm.avail_out===0?X:J):(j.strstart>j.block_start&&(Z(j,!1),j.strm.avail_out),P)}),new Se(4,4,8,4,we),new Se(4,5,16,8,we),new Se(4,6,32,32,we),new Se(4,4,16,16,xe),new Se(8,16,32,32,xe),new Se(8,16,128,128,xe),new Se(8,32,128,256,xe),new Se(32,128,258,1024,xe),new Se(32,258,258,4096,xe)],o.deflateInit=function(j,ye){return Ye(j,ye,k,15,8,0)},o.deflateInit2=Ye,o.deflateReset=qe,o.deflateResetKeep=Ue,o.deflateSetHeader=function(j,ye){return j&&j.state?j.state.wrap!==2?b:(j.state.gzhead=ye,y):b},o.deflate=function(j,ye){var de,Y,G,ie;if(!j||!j.state||5<ye||ye<0)return j?ee(j,b):b;if(Y=j.state,!j.output||!j.input&&j.avail_in!==0||Y.status===666&&ye!==w)return ee(j,j.avail_out===0?-5:b);if(Y.strm=j,de=Y.last_flush,Y.last_flush=ye,Y.status===M)if(Y.wrap===2)j.adler=0,ge(Y,31),ge(Y,139),ge(Y,8),Y.gzhead?(ge(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),ge(Y,255&Y.gzhead.time),ge(Y,Y.gzhead.time>>8&255),ge(Y,Y.gzhead.time>>16&255),ge(Y,Y.gzhead.time>>24&255),ge(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),ge(Y,255&Y.gzhead.os),Y.gzhead.extra&&Y.gzhead.extra.length&&(ge(Y,255&Y.gzhead.extra.length),ge(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(j.adler=f(j.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=69):(ge(Y,0),ge(Y,0),ge(Y,0),ge(Y,0),ge(Y,0),ge(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),ge(Y,3),Y.status=V);else{var be=k+(Y.w_bits-8<<4)<<8;be|=(2<=Y.strategy||Y.level<2?0:Y.level<6?1:Y.level===6?2:3)<<6,Y.strstart!==0&&(be|=32),be+=31-be%31,Y.status=V,pe(Y,be),Y.strstart!==0&&(pe(Y,j.adler>>>16),pe(Y,65535&j.adler)),j.adler=1}if(Y.status===69)if(Y.gzhead.extra){for(G=Y.pending;Y.gzindex<(65535&Y.gzhead.extra.length)&&(Y.pending!==Y.pending_buf_size||(Y.gzhead.hcrc&&Y.pending>G&&(j.adler=f(j.adler,Y.pending_buf,Y.pending-G,G)),D(j),G=Y.pending,Y.pending!==Y.pending_buf_size));)ge(Y,255&Y.gzhead.extra[Y.gzindex]),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>G&&(j.adler=f(j.adler,Y.pending_buf,Y.pending-G,G)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=73)}else Y.status=73;if(Y.status===73)if(Y.gzhead.name){G=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>G&&(j.adler=f(j.adler,Y.pending_buf,Y.pending-G,G)),D(j),G=Y.pending,Y.pending===Y.pending_buf_size)){ie=1;break}ie=Y.gzindex<Y.gzhead.name.length?255&Y.gzhead.name.charCodeAt(Y.gzindex++):0,ge(Y,ie)}while(ie!==0);Y.gzhead.hcrc&&Y.pending>G&&(j.adler=f(j.adler,Y.pending_buf,Y.pending-G,G)),ie===0&&(Y.gzindex=0,Y.status=91)}else Y.status=91;if(Y.status===91)if(Y.gzhead.comment){G=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>G&&(j.adler=f(j.adler,Y.pending_buf,Y.pending-G,G)),D(j),G=Y.pending,Y.pending===Y.pending_buf_size)){ie=1;break}ie=Y.gzindex<Y.gzhead.comment.length?255&Y.gzhead.comment.charCodeAt(Y.gzindex++):0,ge(Y,ie)}while(ie!==0);Y.gzhead.hcrc&&Y.pending>G&&(j.adler=f(j.adler,Y.pending_buf,Y.pending-G,G)),ie===0&&(Y.status=103)}else Y.status=103;if(Y.status===103&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&D(j),Y.pending+2<=Y.pending_buf_size&&(ge(Y,255&j.adler),ge(Y,j.adler>>8&255),j.adler=0,Y.status=V)):Y.status=V),Y.pending!==0){if(D(j),j.avail_out===0)return Y.last_flush=-1,y}else if(j.avail_in===0&&q(ye)<=q(de)&&ye!==w)return ee(j,-5);if(Y.status===666&&j.avail_in!==0)return ee(j,-5);if(j.avail_in!==0||Y.lookahead!==0||ye!==h&&Y.status!==666){var Ee=Y.strategy===2?function(ae,Te){for(var Le;;){if(ae.lookahead===0&&(Ae(ae),ae.lookahead===0)){if(Te===h)return P;break}if(ae.match_length=0,Le=c._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,Le&&(Z(ae,!1),ae.strm.avail_out===0))return P}return ae.insert=0,Te===w?(Z(ae,!0),ae.strm.avail_out===0?X:J):ae.last_lit&&(Z(ae,!1),ae.strm.avail_out===0)?P:U}(Y,ye):Y.strategy===3?function(ae,Te){for(var Le,Ne,Ze,H,N=ae.window;;){if(ae.lookahead<=B){if(Ae(ae),ae.lookahead<=B&&Te===h)return P;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=O&&0<ae.strstart&&(Ne=N[Ze=ae.strstart-1])===N[++Ze]&&Ne===N[++Ze]&&Ne===N[++Ze]){H=ae.strstart+B;do;while(Ne===N[++Ze]&&Ne===N[++Ze]&&Ne===N[++Ze]&&Ne===N[++Ze]&&Ne===N[++Ze]&&Ne===N[++Ze]&&Ne===N[++Ze]&&Ne===N[++Ze]&&Ze<H);ae.match_length=B-(H-Ze),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=O?(Le=c._tr_tally(ae,1,ae.match_length-O),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(Le=c._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),Le&&(Z(ae,!1),ae.strm.avail_out===0))return P}return ae.insert=0,Te===w?(Z(ae,!0),ae.strm.avail_out===0?X:J):ae.last_lit&&(Z(ae,!1),ae.strm.avail_out===0)?P:U}(Y,ye):i[Y.level].func(Y,ye);if(Ee!==X&&Ee!==J||(Y.status=666),Ee===P||Ee===X)return j.avail_out===0&&(Y.last_flush=-1),y;if(Ee===U&&(ye===1?c._tr_align(Y):ye!==5&&(c._tr_stored_block(Y,0,0,!1),ye===3&&(oe(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),D(j),j.avail_out===0))return Y.last_flush=-1,y}return ye!==w?y:Y.wrap<=0?1:(Y.wrap===2?(ge(Y,255&j.adler),ge(Y,j.adler>>8&255),ge(Y,j.adler>>16&255),ge(Y,j.adler>>24&255),ge(Y,255&j.total_in),ge(Y,j.total_in>>8&255),ge(Y,j.total_in>>16&255),ge(Y,j.total_in>>24&255)):(pe(Y,j.adler>>>16),pe(Y,65535&j.adler)),D(j),0<Y.wrap&&(Y.wrap=-Y.wrap),Y.pending!==0?y:1)},o.deflateEnd=function(j){var ye;return j&&j.state?(ye=j.state.status)!==M&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==V&&ye!==666?ee(j,b):(j.state=null,ye===V?ee(j,-3):y):b},o.deflateSetDictionary=function(j,ye){var de,Y,G,ie,be,Ee,ae,Te,Le=ye.length;if(!j||!j.state||(ie=(de=j.state).wrap)===2||ie===1&&de.status!==M||de.lookahead)return b;for(ie===1&&(j.adler=u(j.adler,ye,Le,0)),de.wrap=0,Le>=de.w_size&&(ie===0&&(oe(de.head),de.strstart=0,de.block_start=0,de.insert=0),Te=new l.Buf8(de.w_size),l.arraySet(Te,ye,Le-de.w_size,de.w_size,0),ye=Te,Le=de.w_size),be=j.avail_in,Ee=j.next_in,ae=j.input,j.avail_in=Le,j.next_in=0,j.input=ye,Ae(de);de.lookahead>=O;){for(Y=de.strstart,G=de.lookahead-(O-1);de.ins_h=(de.ins_h<<de.hash_shift^de.window[Y+O-1])&de.hash_mask,de.prev[Y&de.w_mask]=de.head[de.ins_h],de.head[de.ins_h]=Y,Y++,--G;);de.strstart=Y,de.lookahead=O-1,Ae(de)}return de.strstart+=de.lookahead,de.block_start=de.strstart,de.insert=de.lookahead,de.lookahead=0,de.match_length=de.prev_length=O-1,de.match_available=0,j.next_in=Ee,j.input=ae,j.avail_in=be,de.wrap=ie,y},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,o){r.exports=function(i,l){var c,u,f,p,h,w,y,b,g,x,E,k,C,A,I,L,z,$,O,B,W,M,V,P,U;c=i.state,u=i.next_in,P=i.input,f=u+(i.avail_in-5),p=i.next_out,U=i.output,h=p-(l-i.avail_out),w=p+(i.avail_out-257),y=c.dmax,b=c.wsize,g=c.whave,x=c.wnext,E=c.window,k=c.hold,C=c.bits,A=c.lencode,I=c.distcode,L=(1<<c.lenbits)-1,z=(1<<c.distbits)-1;e:do{C<15&&(k+=P[u++]<<C,C+=8,k+=P[u++]<<C,C+=8),$=A[k&L];t:for(;;){if(k>>>=O=$>>>24,C-=O,(O=$>>>16&255)===0)U[p++]=65535&$;else{if(!(16&O)){if((64&O)==0){$=A[(65535&$)+(k&(1<<O)-1)];continue t}if(32&O){c.mode=12;break e}i.msg="invalid literal/length code",c.mode=30;break e}B=65535&$,(O&=15)&&(C<O&&(k+=P[u++]<<C,C+=8),B+=k&(1<<O)-1,k>>>=O,C-=O),C<15&&(k+=P[u++]<<C,C+=8,k+=P[u++]<<C,C+=8),$=I[k&z];n:for(;;){if(k>>>=O=$>>>24,C-=O,!(16&(O=$>>>16&255))){if((64&O)==0){$=I[(65535&$)+(k&(1<<O)-1)];continue n}i.msg="invalid distance code",c.mode=30;break e}if(W=65535&$,C<(O&=15)&&(k+=P[u++]<<C,(C+=8)<O&&(k+=P[u++]<<C,C+=8)),y<(W+=k&(1<<O)-1)){i.msg="invalid distance too far back",c.mode=30;break e}if(k>>>=O,C-=O,(O=p-h)<W){if(g<(O=W-O)&&c.sane){i.msg="invalid distance too far back",c.mode=30;break e}if(V=E,(M=0)===x){if(M+=b-O,O<B){for(B-=O;U[p++]=E[M++],--O;);M=p-W,V=U}}else if(x<O){if(M+=b+x-O,(O-=x)<B){for(B-=O;U[p++]=E[M++],--O;);if(M=0,x<B){for(B-=O=x;U[p++]=E[M++],--O;);M=p-W,V=U}}}else if(M+=x-O,O<B){for(B-=O;U[p++]=E[M++],--O;);M=p-W,V=U}for(;2<B;)U[p++]=V[M++],U[p++]=V[M++],U[p++]=V[M++],B-=3;B&&(U[p++]=V[M++],1<B&&(U[p++]=V[M++]))}else{for(M=p-W;U[p++]=U[M++],U[p++]=U[M++],U[p++]=U[M++],2<(B-=3););B&&(U[p++]=U[M++],1<B&&(U[p++]=U[M++]))}break}}break}}while(u<f&&p<w);u-=B=C>>3,k&=(1<<(C-=B<<3))-1,i.next_in=u,i.next_out=p,i.avail_in=u<f?f-u+5:5-(u-f),i.avail_out=p<w?w-p+257:257-(p-w),c.hold=k,c.bits=C}},{}],49:[function(n,r,o){var i=n("../utils/common"),l=n("./adler32"),c=n("./crc32"),u=n("./inffast"),f=n("./inftrees"),p=1,h=2,w=0,y=-2,b=1,g=852,x=592;function E(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(M){var V;return M&&M.state?(V=M.state,M.total_in=M.total_out=V.total=0,M.msg="",V.wrap&&(M.adler=1&V.wrap),V.mode=b,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new i.Buf32(g),V.distcode=V.distdyn=new i.Buf32(x),V.sane=1,V.back=-1,w):y}function A(M){var V;return M&&M.state?((V=M.state).wsize=0,V.whave=0,V.wnext=0,C(M)):y}function I(M,V){var P,U;return M&&M.state?(U=M.state,V<0?(P=0,V=-V):(P=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?y:(U.window!==null&&U.wbits!==V&&(U.window=null),U.wrap=P,U.wbits=V,A(M))):y}function L(M,V){var P,U;return M?(U=new k,(M.state=U).window=null,(P=I(M,V))!==w&&(M.state=null),P):y}var z,$,O=!0;function B(M){if(O){var V;for(z=new i.Buf32(512),$=new i.Buf32(32),V=0;V<144;)M.lens[V++]=8;for(;V<256;)M.lens[V++]=9;for(;V<280;)M.lens[V++]=7;for(;V<288;)M.lens[V++]=8;for(f(p,M.lens,0,288,z,0,M.work,{bits:9}),V=0;V<32;)M.lens[V++]=5;f(h,M.lens,0,32,$,0,M.work,{bits:5}),O=!1}M.lencode=z,M.lenbits=9,M.distcode=$,M.distbits=5}function W(M,V,P,U){var X,J=M.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new i.Buf8(J.wsize)),U>=J.wsize?(i.arraySet(J.window,V,P-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(U<(X=J.wsize-J.wnext)&&(X=U),i.arraySet(J.window,V,P-U,X,J.wnext),(U-=X)?(i.arraySet(J.window,V,P-U,U,0),J.wnext=U,J.whave=J.wsize):(J.wnext+=X,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=X))),0}o.inflateReset=A,o.inflateReset2=I,o.inflateResetKeep=C,o.inflateInit=function(M){return L(M,15)},o.inflateInit2=L,o.inflate=function(M,V){var P,U,X,J,ee,q,oe,D,Z,ge,pe,me,Ae,we,xe,Se,Ie,Ue,qe,Ye,j,ye,de,Y,G=0,ie=new i.Buf8(4),be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return y;(P=M.state).mode===12&&(P.mode=13),ee=M.next_out,X=M.output,oe=M.avail_out,J=M.next_in,U=M.input,q=M.avail_in,D=P.hold,Z=P.bits,ge=q,pe=oe,ye=w;e:for(;;)switch(P.mode){case b:if(P.wrap===0){P.mode=13;break}for(;Z<16;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}if(2&P.wrap&&D===35615){ie[P.check=0]=255&D,ie[1]=D>>>8&255,P.check=c(P.check,ie,2,0),Z=D=0,P.mode=2;break}if(P.flags=0,P.head&&(P.head.done=!1),!(1&P.wrap)||(((255&D)<<8)+(D>>8))%31){M.msg="incorrect header check",P.mode=30;break}if((15&D)!=8){M.msg="unknown compression method",P.mode=30;break}if(Z-=4,j=8+(15&(D>>>=4)),P.wbits===0)P.wbits=j;else if(j>P.wbits){M.msg="invalid window size",P.mode=30;break}P.dmax=1<<j,M.adler=P.check=1,P.mode=512&D?10:12,Z=D=0;break;case 2:for(;Z<16;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}if(P.flags=D,(255&P.flags)!=8){M.msg="unknown compression method",P.mode=30;break}if(57344&P.flags){M.msg="unknown header flags set",P.mode=30;break}P.head&&(P.head.text=D>>8&1),512&P.flags&&(ie[0]=255&D,ie[1]=D>>>8&255,P.check=c(P.check,ie,2,0)),Z=D=0,P.mode=3;case 3:for(;Z<32;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}P.head&&(P.head.time=D),512&P.flags&&(ie[0]=255&D,ie[1]=D>>>8&255,ie[2]=D>>>16&255,ie[3]=D>>>24&255,P.check=c(P.check,ie,4,0)),Z=D=0,P.mode=4;case 4:for(;Z<16;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}P.head&&(P.head.xflags=255&D,P.head.os=D>>8),512&P.flags&&(ie[0]=255&D,ie[1]=D>>>8&255,P.check=c(P.check,ie,2,0)),Z=D=0,P.mode=5;case 5:if(1024&P.flags){for(;Z<16;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}P.length=D,P.head&&(P.head.extra_len=D),512&P.flags&&(ie[0]=255&D,ie[1]=D>>>8&255,P.check=c(P.check,ie,2,0)),Z=D=0}else P.head&&(P.head.extra=null);P.mode=6;case 6:if(1024&P.flags&&(q<(me=P.length)&&(me=q),me&&(P.head&&(j=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Array(P.head.extra_len)),i.arraySet(P.head.extra,U,J,me,j)),512&P.flags&&(P.check=c(P.check,U,me,J)),q-=me,J+=me,P.length-=me),P.length))break e;P.length=0,P.mode=7;case 7:if(2048&P.flags){if(q===0)break e;for(me=0;j=U[J+me++],P.head&&j&&P.length<65536&&(P.head.name+=String.fromCharCode(j)),j&&me<q;);if(512&P.flags&&(P.check=c(P.check,U,me,J)),q-=me,J+=me,j)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=8;case 8:if(4096&P.flags){if(q===0)break e;for(me=0;j=U[J+me++],P.head&&j&&P.length<65536&&(P.head.comment+=String.fromCharCode(j)),j&&me<q;);if(512&P.flags&&(P.check=c(P.check,U,me,J)),q-=me,J+=me,j)break e}else P.head&&(P.head.comment=null);P.mode=9;case 9:if(512&P.flags){for(;Z<16;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}if(D!==(65535&P.check)){M.msg="header crc mismatch",P.mode=30;break}Z=D=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),M.adler=P.check=0,P.mode=12;break;case 10:for(;Z<32;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}M.adler=P.check=E(D),Z=D=0,P.mode=11;case 11:if(P.havedict===0)return M.next_out=ee,M.avail_out=oe,M.next_in=J,M.avail_in=q,P.hold=D,P.bits=Z,2;M.adler=P.check=1,P.mode=12;case 12:if(V===5||V===6)break e;case 13:if(P.last){D>>>=7&Z,Z-=7&Z,P.mode=27;break}for(;Z<3;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}switch(P.last=1&D,Z-=1,3&(D>>>=1)){case 0:P.mode=14;break;case 1:if(B(P),P.mode=20,V!==6)break;D>>>=2,Z-=2;break e;case 2:P.mode=17;break;case 3:M.msg="invalid block type",P.mode=30}D>>>=2,Z-=2;break;case 14:for(D>>>=7&Z,Z-=7&Z;Z<32;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}if((65535&D)!=(D>>>16^65535)){M.msg="invalid stored block lengths",P.mode=30;break}if(P.length=65535&D,Z=D=0,P.mode=15,V===6)break e;case 15:P.mode=16;case 16:if(me=P.length){if(q<me&&(me=q),oe<me&&(me=oe),me===0)break e;i.arraySet(X,U,J,me,ee),q-=me,J+=me,oe-=me,ee+=me,P.length-=me;break}P.mode=12;break;case 17:for(;Z<14;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}if(P.nlen=257+(31&D),D>>>=5,Z-=5,P.ndist=1+(31&D),D>>>=5,Z-=5,P.ncode=4+(15&D),D>>>=4,Z-=4,286<P.nlen||30<P.ndist){M.msg="too many length or distance symbols",P.mode=30;break}P.have=0,P.mode=18;case 18:for(;P.have<P.ncode;){for(;Z<3;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}P.lens[be[P.have++]]=7&D,D>>>=3,Z-=3}for(;P.have<19;)P.lens[be[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,de={bits:P.lenbits},ye=f(0,P.lens,0,19,P.lencode,0,P.work,de),P.lenbits=de.bits,ye){M.msg="invalid code lengths set",P.mode=30;break}P.have=0,P.mode=19;case 19:for(;P.have<P.nlen+P.ndist;){for(;Se=(G=P.lencode[D&(1<<P.lenbits)-1])>>>16&255,Ie=65535&G,!((xe=G>>>24)<=Z);){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}if(Ie<16)D>>>=xe,Z-=xe,P.lens[P.have++]=Ie;else{if(Ie===16){for(Y=xe+2;Z<Y;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}if(D>>>=xe,Z-=xe,P.have===0){M.msg="invalid bit length repeat",P.mode=30;break}j=P.lens[P.have-1],me=3+(3&D),D>>>=2,Z-=2}else if(Ie===17){for(Y=xe+3;Z<Y;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}Z-=xe,j=0,me=3+(7&(D>>>=xe)),D>>>=3,Z-=3}else{for(Y=xe+7;Z<Y;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}Z-=xe,j=0,me=11+(127&(D>>>=xe)),D>>>=7,Z-=7}if(P.have+me>P.nlen+P.ndist){M.msg="invalid bit length repeat",P.mode=30;break}for(;me--;)P.lens[P.have++]=j}}if(P.mode===30)break;if(P.lens[256]===0){M.msg="invalid code -- missing end-of-block",P.mode=30;break}if(P.lenbits=9,de={bits:P.lenbits},ye=f(p,P.lens,0,P.nlen,P.lencode,0,P.work,de),P.lenbits=de.bits,ye){M.msg="invalid literal/lengths set",P.mode=30;break}if(P.distbits=6,P.distcode=P.distdyn,de={bits:P.distbits},ye=f(h,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,de),P.distbits=de.bits,ye){M.msg="invalid distances set",P.mode=30;break}if(P.mode=20,V===6)break e;case 20:P.mode=21;case 21:if(6<=q&&258<=oe){M.next_out=ee,M.avail_out=oe,M.next_in=J,M.avail_in=q,P.hold=D,P.bits=Z,u(M,pe),ee=M.next_out,X=M.output,oe=M.avail_out,J=M.next_in,U=M.input,q=M.avail_in,D=P.hold,Z=P.bits,P.mode===12&&(P.back=-1);break}for(P.back=0;Se=(G=P.lencode[D&(1<<P.lenbits)-1])>>>16&255,Ie=65535&G,!((xe=G>>>24)<=Z);){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}if(Se&&(240&Se)==0){for(Ue=xe,qe=Se,Ye=Ie;Se=(G=P.lencode[Ye+((D&(1<<Ue+qe)-1)>>Ue)])>>>16&255,Ie=65535&G,!(Ue+(xe=G>>>24)<=Z);){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}D>>>=Ue,Z-=Ue,P.back+=Ue}if(D>>>=xe,Z-=xe,P.back+=xe,P.length=Ie,Se===0){P.mode=26;break}if(32&Se){P.back=-1,P.mode=12;break}if(64&Se){M.msg="invalid literal/length code",P.mode=30;break}P.extra=15&Se,P.mode=22;case 22:if(P.extra){for(Y=P.extra;Z<Y;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}P.length+=D&(1<<P.extra)-1,D>>>=P.extra,Z-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=23;case 23:for(;Se=(G=P.distcode[D&(1<<P.distbits)-1])>>>16&255,Ie=65535&G,!((xe=G>>>24)<=Z);){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}if((240&Se)==0){for(Ue=xe,qe=Se,Ye=Ie;Se=(G=P.distcode[Ye+((D&(1<<Ue+qe)-1)>>Ue)])>>>16&255,Ie=65535&G,!(Ue+(xe=G>>>24)<=Z);){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}D>>>=Ue,Z-=Ue,P.back+=Ue}if(D>>>=xe,Z-=xe,P.back+=xe,64&Se){M.msg="invalid distance code",P.mode=30;break}P.offset=Ie,P.extra=15&Se,P.mode=24;case 24:if(P.extra){for(Y=P.extra;Z<Y;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}P.offset+=D&(1<<P.extra)-1,D>>>=P.extra,Z-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){M.msg="invalid distance too far back",P.mode=30;break}P.mode=25;case 25:if(oe===0)break e;if(me=pe-oe,P.offset>me){if((me=P.offset-me)>P.whave&&P.sane){M.msg="invalid distance too far back",P.mode=30;break}Ae=me>P.wnext?(me-=P.wnext,P.wsize-me):P.wnext-me,me>P.length&&(me=P.length),we=P.window}else we=X,Ae=ee-P.offset,me=P.length;for(oe<me&&(me=oe),oe-=me,P.length-=me;X[ee++]=we[Ae++],--me;);P.length===0&&(P.mode=21);break;case 26:if(oe===0)break e;X[ee++]=P.length,oe--,P.mode=21;break;case 27:if(P.wrap){for(;Z<32;){if(q===0)break e;q--,D|=U[J++]<<Z,Z+=8}if(pe-=oe,M.total_out+=pe,P.total+=pe,pe&&(M.adler=P.check=P.flags?c(P.check,X,pe,ee-pe):l(P.check,X,pe,ee-pe)),pe=oe,(P.flags?D:E(D))!==P.check){M.msg="incorrect data check",P.mode=30;break}Z=D=0}P.mode=28;case 28:if(P.wrap&&P.flags){for(;Z<32;){if(q===0)break e;q--,D+=U[J++]<<Z,Z+=8}if(D!==(4294967295&P.total)){M.msg="incorrect length check",P.mode=30;break}Z=D=0}P.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return y}return M.next_out=ee,M.avail_out=oe,M.next_in=J,M.avail_in=q,P.hold=D,P.bits=Z,(P.wsize||pe!==M.avail_out&&P.mode<30&&(P.mode<27||V!==4))&&W(M,M.output,M.next_out,pe-M.avail_out)?(P.mode=31,-4):(ge-=M.avail_in,pe-=M.avail_out,M.total_in+=ge,M.total_out+=pe,P.total+=pe,P.wrap&&pe&&(M.adler=P.check=P.flags?c(P.check,X,pe,M.next_out-pe):l(P.check,X,pe,M.next_out-pe)),M.data_type=P.bits+(P.last?64:0)+(P.mode===12?128:0)+(P.mode===20||P.mode===15?256:0),(ge==0&&pe===0||V===4)&&ye===w&&(ye=-5),ye)},o.inflateEnd=function(M){if(!M||!M.state)return y;var V=M.state;return V.window&&(V.window=null),M.state=null,w},o.inflateGetHeader=function(M,V){var P;return M&&M.state?(2&(P=M.state).wrap)==0?y:((P.head=V).done=!1,w):y},o.inflateSetDictionary=function(M,V){var P,U=V.length;return M&&M.state?(P=M.state).wrap!==0&&P.mode!==11?y:P.mode===11&&l(1,V,U,0)!==P.check?-3:W(M,V,U,U)?(P.mode=31,-4):(P.havedict=1,w):y},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,o){var i=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,h,w,y,b,g,x,E){var k,C,A,I,L,z,$,O,B,W=E.bits,M=0,V=0,P=0,U=0,X=0,J=0,ee=0,q=0,oe=0,D=0,Z=null,ge=0,pe=new i.Buf16(16),me=new i.Buf16(16),Ae=null,we=0;for(M=0;M<=15;M++)pe[M]=0;for(V=0;V<y;V++)pe[h[w+V]]++;for(X=W,U=15;1<=U&&pe[U]===0;U--);if(U<X&&(X=U),U===0)return b[g++]=20971520,b[g++]=20971520,E.bits=1,0;for(P=1;P<U&&pe[P]===0;P++);for(X<P&&(X=P),M=q=1;M<=15;M++)if(q<<=1,(q-=pe[M])<0)return-1;if(0<q&&(p===0||U!==1))return-1;for(me[1]=0,M=1;M<15;M++)me[M+1]=me[M]+pe[M];for(V=0;V<y;V++)h[w+V]!==0&&(x[me[h[w+V]]++]=V);if(z=p===0?(Z=Ae=x,19):p===1?(Z=l,ge-=257,Ae=c,we-=257,256):(Z=u,Ae=f,-1),M=P,L=g,ee=V=D=0,A=-1,I=(oe=1<<(J=X))-1,p===1&&852<oe||p===2&&592<oe)return 1;for(;;){for($=M-ee,B=x[V]<z?(O=0,x[V]):x[V]>z?(O=Ae[we+x[V]],Z[ge+x[V]]):(O=96,0),k=1<<M-ee,P=C=1<<J;b[L+(D>>ee)+(C-=k)]=$<<24|O<<16|B|0,C!==0;);for(k=1<<M-1;D&k;)k>>=1;if(k!==0?(D&=k-1,D+=k):D=0,V++,--pe[M]==0){if(M===U)break;M=h[w+x[V]]}if(X<M&&(D&I)!==A){for(ee===0&&(ee=X),L+=P,q=1<<(J=M-ee);J+ee<U&&!((q-=pe[J+ee])<=0);)J++,q<<=1;if(oe+=1<<J,p===1&&852<oe||p===2&&592<oe)return 1;b[A=D&I]=X<<24|J<<16|L-g|0}}return D!==0&&(b[L+D]=M-ee<<24|64<<16|0),E.bits=X,0}},{"../utils/common":41}],51:[function(n,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,o){var i=n("../utils/common"),l=0,c=1;function u(G){for(var ie=G.length;0<=--ie;)G[ie]=0}var f=0,p=29,h=256,w=h+1+p,y=30,b=19,g=2*w+1,x=15,E=16,k=7,C=256,A=16,I=17,L=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(w+2));u(W);var M=new Array(2*y);u(M);var V=new Array(512);u(V);var P=new Array(256);u(P);var U=new Array(p);u(U);var X,J,ee,q=new Array(y);function oe(G,ie,be,Ee,ae){this.static_tree=G,this.extra_bits=ie,this.extra_base=be,this.elems=Ee,this.max_length=ae,this.has_stree=G&&G.length}function D(G,ie){this.dyn_tree=G,this.max_code=0,this.stat_desc=ie}function Z(G){return G<256?V[G]:V[256+(G>>>7)]}function ge(G,ie){G.pending_buf[G.pending++]=255&ie,G.pending_buf[G.pending++]=ie>>>8&255}function pe(G,ie,be){G.bi_valid>E-be?(G.bi_buf|=ie<<G.bi_valid&65535,ge(G,G.bi_buf),G.bi_buf=ie>>E-G.bi_valid,G.bi_valid+=be-E):(G.bi_buf|=ie<<G.bi_valid&65535,G.bi_valid+=be)}function me(G,ie,be){pe(G,be[2*ie],be[2*ie+1])}function Ae(G,ie){for(var be=0;be|=1&G,G>>>=1,be<<=1,0<--ie;);return be>>>1}function we(G,ie,be){var Ee,ae,Te=new Array(x+1),Le=0;for(Ee=1;Ee<=x;Ee++)Te[Ee]=Le=Le+be[Ee-1]<<1;for(ae=0;ae<=ie;ae++){var Ne=G[2*ae+1];Ne!==0&&(G[2*ae]=Ae(Te[Ne]++,Ne))}}function xe(G){var ie;for(ie=0;ie<w;ie++)G.dyn_ltree[2*ie]=0;for(ie=0;ie<y;ie++)G.dyn_dtree[2*ie]=0;for(ie=0;ie<b;ie++)G.bl_tree[2*ie]=0;G.dyn_ltree[2*C]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function Se(G){8<G.bi_valid?ge(G,G.bi_buf):0<G.bi_valid&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function Ie(G,ie,be,Ee){var ae=2*ie,Te=2*be;return G[ae]<G[Te]||G[ae]===G[Te]&&Ee[ie]<=Ee[be]}function Ue(G,ie,be){for(var Ee=G.heap[be],ae=be<<1;ae<=G.heap_len&&(ae<G.heap_len&&Ie(ie,G.heap[ae+1],G.heap[ae],G.depth)&&ae++,!Ie(ie,Ee,G.heap[ae],G.depth));)G.heap[be]=G.heap[ae],be=ae,ae<<=1;G.heap[be]=Ee}function qe(G,ie,be){var Ee,ae,Te,Le,Ne=0;if(G.last_lit!==0)for(;Ee=G.pending_buf[G.d_buf+2*Ne]<<8|G.pending_buf[G.d_buf+2*Ne+1],ae=G.pending_buf[G.l_buf+Ne],Ne++,Ee===0?me(G,ae,ie):(me(G,(Te=P[ae])+h+1,ie),(Le=z[Te])!==0&&pe(G,ae-=U[Te],Le),me(G,Te=Z(--Ee),be),(Le=$[Te])!==0&&pe(G,Ee-=q[Te],Le)),Ne<G.last_lit;);me(G,C,ie)}function Ye(G,ie){var be,Ee,ae,Te=ie.dyn_tree,Le=ie.stat_desc.static_tree,Ne=ie.stat_desc.has_stree,Ze=ie.stat_desc.elems,H=-1;for(G.heap_len=0,G.heap_max=g,be=0;be<Ze;be++)Te[2*be]!==0?(G.heap[++G.heap_len]=H=be,G.depth[be]=0):Te[2*be+1]=0;for(;G.heap_len<2;)Te[2*(ae=G.heap[++G.heap_len]=H<2?++H:0)]=1,G.depth[ae]=0,G.opt_len--,Ne&&(G.static_len-=Le[2*ae+1]);for(ie.max_code=H,be=G.heap_len>>1;1<=be;be--)Ue(G,Te,be);for(ae=Ze;be=G.heap[1],G.heap[1]=G.heap[G.heap_len--],Ue(G,Te,1),Ee=G.heap[1],G.heap[--G.heap_max]=be,G.heap[--G.heap_max]=Ee,Te[2*ae]=Te[2*be]+Te[2*Ee],G.depth[ae]=(G.depth[be]>=G.depth[Ee]?G.depth[be]:G.depth[Ee])+1,Te[2*be+1]=Te[2*Ee+1]=ae,G.heap[1]=ae++,Ue(G,Te,1),2<=G.heap_len;);G.heap[--G.heap_max]=G.heap[1],function(N,R){var K,re,ue,he,Xe,yt,nt=R.dyn_tree,pt=R.max_code,at=R.stat_desc.static_tree,Ka=R.stat_desc.has_stree,Ga=R.stat_desc.extra_bits,qr=R.stat_desc.extra_base,Un=R.stat_desc.max_length,As=0;for(he=0;he<=x;he++)N.bl_count[he]=0;for(nt[2*N.heap[N.heap_max]+1]=0,K=N.heap_max+1;K<g;K++)Un<(he=nt[2*nt[2*(re=N.heap[K])+1]+1]+1)&&(he=Un,As++),nt[2*re+1]=he,pt<re||(N.bl_count[he]++,Xe=0,qr<=re&&(Xe=Ga[re-qr]),yt=nt[2*re],N.opt_len+=yt*(he+Xe),Ka&&(N.static_len+=yt*(at[2*re+1]+Xe)));if(As!==0){do{for(he=Un-1;N.bl_count[he]===0;)he--;N.bl_count[he]--,N.bl_count[he+1]+=2,N.bl_count[Un]--,As-=2}while(0<As);for(he=Un;he!==0;he--)for(re=N.bl_count[he];re!==0;)pt<(ue=N.heap[--K])||(nt[2*ue+1]!==he&&(N.opt_len+=(he-nt[2*ue+1])*nt[2*ue],nt[2*ue+1]=he),re--)}}(G,ie),we(Te,H,G.bl_count)}function j(G,ie,be){var Ee,ae,Te=-1,Le=ie[1],Ne=0,Ze=7,H=4;for(Le===0&&(Ze=138,H=3),ie[2*(be+1)+1]=65535,Ee=0;Ee<=be;Ee++)ae=Le,Le=ie[2*(Ee+1)+1],++Ne<Ze&&ae===Le||(Ne<H?G.bl_tree[2*ae]+=Ne:ae!==0?(ae!==Te&&G.bl_tree[2*ae]++,G.bl_tree[2*A]++):Ne<=10?G.bl_tree[2*I]++:G.bl_tree[2*L]++,Te=ae,H=(Ne=0)===Le?(Ze=138,3):ae===Le?(Ze=6,3):(Ze=7,4))}function ye(G,ie,be){var Ee,ae,Te=-1,Le=ie[1],Ne=0,Ze=7,H=4;for(Le===0&&(Ze=138,H=3),Ee=0;Ee<=be;Ee++)if(ae=Le,Le=ie[2*(Ee+1)+1],!(++Ne<Ze&&ae===Le)){if(Ne<H)for(;me(G,ae,G.bl_tree),--Ne!=0;);else ae!==0?(ae!==Te&&(me(G,ae,G.bl_tree),Ne--),me(G,A,G.bl_tree),pe(G,Ne-3,2)):Ne<=10?(me(G,I,G.bl_tree),pe(G,Ne-3,3)):(me(G,L,G.bl_tree),pe(G,Ne-11,7));Te=ae,H=(Ne=0)===Le?(Ze=138,3):ae===Le?(Ze=6,3):(Ze=7,4)}}u(q);var de=!1;function Y(G,ie,be,Ee){pe(G,(f<<1)+(Ee?1:0),3),function(ae,Te,Le,Ne){Se(ae),ge(ae,Le),ge(ae,~Le),i.arraySet(ae.pending_buf,ae.window,Te,Le,ae.pending),ae.pending+=Le}(G,ie,be)}o._tr_init=function(G){de||(function(){var ie,be,Ee,ae,Te,Le=new Array(x+1);for(ae=Ee=0;ae<p-1;ae++)for(U[ae]=Ee,ie=0;ie<1<<z[ae];ie++)P[Ee++]=ae;for(P[Ee-1]=ae,ae=Te=0;ae<16;ae++)for(q[ae]=Te,ie=0;ie<1<<$[ae];ie++)V[Te++]=ae;for(Te>>=7;ae<y;ae++)for(q[ae]=Te<<7,ie=0;ie<1<<$[ae]-7;ie++)V[256+Te++]=ae;for(be=0;be<=x;be++)Le[be]=0;for(ie=0;ie<=143;)W[2*ie+1]=8,ie++,Le[8]++;for(;ie<=255;)W[2*ie+1]=9,ie++,Le[9]++;for(;ie<=279;)W[2*ie+1]=7,ie++,Le[7]++;for(;ie<=287;)W[2*ie+1]=8,ie++,Le[8]++;for(we(W,w+1,Le),ie=0;ie<y;ie++)M[2*ie+1]=5,M[2*ie]=Ae(ie,5);X=new oe(W,z,h+1,w,x),J=new oe(M,$,0,y,x),ee=new oe(new Array(0),O,0,b,k)}(),de=!0),G.l_desc=new D(G.dyn_ltree,X),G.d_desc=new D(G.dyn_dtree,J),G.bl_desc=new D(G.bl_tree,ee),G.bi_buf=0,G.bi_valid=0,xe(G)},o._tr_stored_block=Y,o._tr_flush_block=function(G,ie,be,Ee){var ae,Te,Le=0;0<G.level?(G.strm.data_type===2&&(G.strm.data_type=function(Ne){var Ze,H=4093624447;for(Ze=0;Ze<=31;Ze++,H>>>=1)if(1&H&&Ne.dyn_ltree[2*Ze]!==0)return l;if(Ne.dyn_ltree[18]!==0||Ne.dyn_ltree[20]!==0||Ne.dyn_ltree[26]!==0)return c;for(Ze=32;Ze<h;Ze++)if(Ne.dyn_ltree[2*Ze]!==0)return c;return l}(G)),Ye(G,G.l_desc),Ye(G,G.d_desc),Le=function(Ne){var Ze;for(j(Ne,Ne.dyn_ltree,Ne.l_desc.max_code),j(Ne,Ne.dyn_dtree,Ne.d_desc.max_code),Ye(Ne,Ne.bl_desc),Ze=b-1;3<=Ze&&Ne.bl_tree[2*B[Ze]+1]===0;Ze--);return Ne.opt_len+=3*(Ze+1)+5+5+4,Ze}(G),ae=G.opt_len+3+7>>>3,(Te=G.static_len+3+7>>>3)<=ae&&(ae=Te)):ae=Te=be+5,be+4<=ae&&ie!==-1?Y(G,ie,be,Ee):G.strategy===4||Te===ae?(pe(G,2+(Ee?1:0),3),qe(G,W,M)):(pe(G,4+(Ee?1:0),3),function(Ne,Ze,H,N){var R;for(pe(Ne,Ze-257,5),pe(Ne,H-1,5),pe(Ne,N-4,4),R=0;R<N;R++)pe(Ne,Ne.bl_tree[2*B[R]+1],3);ye(Ne,Ne.dyn_ltree,Ze-1),ye(Ne,Ne.dyn_dtree,H-1)}(G,G.l_desc.max_code+1,G.d_desc.max_code+1,Le+1),qe(G,G.dyn_ltree,G.dyn_dtree)),xe(G),Ee&&Se(G)},o._tr_tally=function(G,ie,be){return G.pending_buf[G.d_buf+2*G.last_lit]=ie>>>8&255,G.pending_buf[G.d_buf+2*G.last_lit+1]=255&ie,G.pending_buf[G.l_buf+G.last_lit]=255&be,G.last_lit++,ie===0?G.dyn_ltree[2*be]++:(G.matches++,ie--,G.dyn_ltree[2*(P[be]+h+1)]++,G.dyn_dtree[2*Z(ie)]++),G.last_lit===G.lit_bufsize-1},o._tr_align=function(G){pe(G,2,3),me(G,C,W),function(ie){ie.bi_valid===16?(ge(ie,ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0):8<=ie.bi_valid&&(ie.pending_buf[ie.pending++]=255&ie.bi_buf,ie.bi_buf>>=8,ie.bi_valid-=8)}(G)}},{"../utils/common":41}],53:[function(n,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,o){(function(i){(function(l,c){if(!l.setImmediate){var u,f,p,h,w=1,y={},b=!1,g=l.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(l);x=x&&x.setTimeout?x:l,u={}.toString.call(l.process)==="[object process]"?function(A){process.nextTick(function(){k(A)})}:function(){if(l.postMessage&&!l.importScripts){var A=!0,I=l.onmessage;return l.onmessage=function(){A=!1},l.postMessage("","*"),l.onmessage=I,A}}()?(h="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",C,!1):l.attachEvent("onmessage",C),function(A){l.postMessage(h+A,"*")}):l.MessageChannel?((p=new MessageChannel).port1.onmessage=function(A){k(A.data)},function(A){p.port2.postMessage(A)}):g&&"onreadystatechange"in g.createElement("script")?(f=g.documentElement,function(A){var I=g.createElement("script");I.onreadystatechange=function(){k(A),I.onreadystatechange=null,f.removeChild(I),I=null},f.appendChild(I)}):function(A){setTimeout(k,0,A)},x.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var I=new Array(arguments.length-1),L=0;L<I.length;L++)I[L]=arguments[L+1];var z={callback:A,args:I};return y[w]=z,u(w),w++},x.clearImmediate=E}function E(A){delete y[A]}function k(A){if(b)setTimeout(k,0,A);else{var I=y[A];if(I){b=!0;try{(function(L){var z=L.callback,$=L.args;switch($.length){case 0:z();break;case 1:z($[0]);break;case 2:z($[0],$[1]);break;case 3:z($[0],$[1],$[2]);break;default:z.apply(c,$)}})(I)}finally{E(A),b=!1}}}}function C(A){A.source===l&&typeof A.data=="string"&&A.data.indexOf(h)===0&&k(+A.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Wm)),Wm.exports}cZ();const uZ=30023,dZ="dead-drop-lockers@v1",FE="Dead Drop Lockers Source Snapshot";function fZ(){const e=_.useRef(null),[t,n]=_.useState(null),r=zN(),o=Bv(),i=c=>{var f;const u=((f=c.target.files)==null?void 0:f[0])??null;n(u)},l=async()=>{if(t)try{const c=await r.mutateAsync(t);await o.mutateAsync({kind:uZ,content:`${FE}: snapshot uploaded`,tags:[["d",dZ],["title",FE],["t","code-snapshot"],...c]}),alert("Snapshot published to Nostr")}catch(c){alert("Upload or publish failed: "+c.message)}};return m.jsxs("div",{className:"p-4",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Publish Snapshot to Nostr"}),m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a zip of your project locally and upload it here to publish a Nostr snapshot event."}),m.jsx("input",{type:"file",ref:e,onChange:i,accept:".zip"}),m.jsx("div",{className:"mt-4",children:m.jsx("button",{className:"btn",onClick:l,disabled:!t,children:"Upload & Publish"})})]})}function hZ(){return Va({title:"DeadDropstr - Nostr-Native Smart Lockers",description:"A decentralized marketplace for autonomous physical lockers powered by Nostr and Lightning."}),m.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[m.jsxs("header",{className:"relative isolate overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(45%_40%_at_50%_60%,hsl(var(--primary)/0.12),transparent)]"}),m.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[m.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:["The ",m.jsx("span",{className:"text-primary",children:"Nostr-Native"})," Dead Drop Network"]}),m.jsx("p",{className:"max-w-2xl mx-auto text-lg text-muted-foreground mb-10",children:"Rent autonomous smart lockers for anonymous P2P exchanges. Pay with Lightning. No middlemen."}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m.jsx(dt,{asChild:!0,size:"lg",className:"text-base",children:m.jsxs(Pn,{to:"/marketplace",children:[m.jsx(jg,{className:"mr-2 h-5 w-5"}),"Explore Lockers"]})}),m.jsx(dt,{asChild:!0,size:"lg",variant:"outline",className:"text-base",children:m.jsxs(Pn,{to:"/dashboard",children:[m.jsx(Og,{className:"mr-2 h-5 w-5"}),"Owner Dashboard"]})})]})]})]}),m.jsxs("section",{className:"container mx-auto px-4 py-16",children:[m.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsxs(kt,{className:"bg-card/60 backdrop-blur",children:[m.jsxs(Rn,{children:[m.jsx(jg,{className:"h-10 w-10 text-primary mb-2"}),m.jsx(tr,{children:"Find a Locker"})]}),m.jsx(Ft,{children:m.jsx(uo,{children:"Browse the map to find available smart lockers near you. Filter by size, price, and trust score."})})]}),m.jsxs(kt,{className:"bg-card/60 backdrop-blur",children:[m.jsxs(Rn,{children:[m.jsx(Mg,{className:"h-10 w-10 text-primary mb-2"}),m.jsx(tr,{children:"Pay with Lightning"})]}),m.jsx(Ft,{children:m.jsx(uo,{children:"Rent instantly using Nostr Wallet Connect (NIP-47) or WebLN. The locker unlocks once payment confirms."})})]}),m.jsxs(kt,{className:"bg-card/60 backdrop-blur",children:[m.jsxs(Rn,{children:[m.jsx(Rk,{className:"h-10 w-10 text-primary mb-2"}),m.jsx(tr,{children:"Negotiate Privately"})]}),m.jsx(Ft,{children:m.jsx(uo,{children:"Chat with buyers or sellers via encrypted NIP-17 messages. Goods payment is direct P2P via zaps."})})]}),m.jsxs(kt,{className:"bg-card/60 backdrop-blur",children:[m.jsxs(Rn,{children:[m.jsx(Og,{className:"h-10 w-10 text-primary mb-2"}),m.jsx(tr,{children:"Manage Your Box"})]}),m.jsx(Ft,{children:m.jsx(uo,{children:"Owners configure fees, overdue penalties, proxy mode, and abandoned property rules from their dashboard."})})]})]})]}),m.jsx("section",{className:"container mx-auto px-4 py-16 text-center",children:m.jsxs(kt,{className:"max-w-2xl mx-auto bg-primary/5 border-primary/20",children:[m.jsxs(Rn,{children:[m.jsx(tr,{className:"text-2xl",children:"Ready to Deploy a Locker?"}),m.jsx(uo,{children:"Flash our ESP32 template onto your hardware, configure via the dashboard, and start earning sats."})]}),m.jsx(Ft,{children:m.jsx(dt,{asChild:!0,size:"lg",children:m.jsx(Pn,{to:"/dashboard",children:"Get Started"})})})]})}),m.jsx("footer",{className:"border-t py-8 text-center text-sm text-muted-foreground",children:m.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Vibed with Shakespeare"})})]})}var Wf="Switch",[pZ,rK]=un(Wf),[mZ,gZ]=pZ(Wf),vP=_.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:i,required:l,disabled:c,value:u="on",onCheckedChange:f,form:p,...h}=e,[w,y]=_.useState(null),b=Qe(t,C=>y(C)),g=_.useRef(!1),x=w?p||!!w.closest("form"):!0,[E,k]=br({prop:o,defaultProp:i??!1,onChange:f,caller:Wf});return m.jsxs(mZ,{scope:n,checked:E,disabled:c,children:[m.jsx(ze.button,{type:"button",role:"switch","aria-checked":E,"aria-required":l,"data-state":EP(E),"data-disabled":c?"":void 0,disabled:c,value:u,...h,ref:b,onClick:Pe(e.onClick,C=>{k(A=>!A),x&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),x&&m.jsx(bP,{control:w,bubbles:!g.current,name:r,value:u,checked:E,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});vP.displayName=Wf;var wP="SwitchThumb",xP=_.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=gZ(wP,n);return m.jsx(ze.span,{"data-state":EP(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});xP.displayName=wP;var yZ="SwitchBubbleInput",bP=_.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...o},i)=>{const l=_.useRef(null),c=Qe(l,i),u=Xv(n),f=gv(t);return _.useEffect(()=>{const p=l.current;if(!p)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==n&&y){const b=new Event("click",{bubbles:r});y.call(p,n),p.dispatchEvent(b)}},[u,n,r]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:c,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bP.displayName=yZ;function EP(e){return e?"checked":"unchecked"}var _P=vP,vZ=xP;const SP=_.forwardRef(({className:e,...t},n)=>m.jsx(_P,{className:Oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:m.jsx(vZ,{className:Oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));SP.displayName=_P.displayName;const Vm="0123456789bcdefghjkmnpqrstuvwxyz";class Gt{static encode(t,n,r){if(typeof r>"u"){for(let w=1;w<=12;w++){const y=Gt.encode(t,n,w),b=Gt.decode(y);if(b.lat==t&&b.lon==n)return y}r=12}if(t=Number(t),n=Number(n),r=Number(r),isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Invalid geohash");let o=0,i=0,l=!0,c="",u=-90,f=90,p=-180,h=180;for(;c.length<r;){if(l){const w=(p+h)/2;n>=w?(o=o*2+1,p=w):(o=o*2,h=w)}else{const w=(u+f)/2;t>=w?(o=o*2+1,u=w):(o=o*2,f=w)}l=!l,++i==5&&(c+=Vm.charAt(o),i=0,o=0)}return c}static decode(t){const n=Gt.bounds(t),r=n.sw.lat,o=n.sw.lon,i=n.ne.lat,l=n.ne.lon;let c=(r+i)/2,u=(o+l)/2;return c=c.toFixed(Math.floor(2-Math.log(i-r)/Math.LN10)),u=u.toFixed(Math.floor(2-Math.log(l-o)/Math.LN10)),{lat:Number(c),lon:Number(u)}}static bounds(t){if(t.length==0)throw new Error("Invalid geohash");t=t.toLowerCase();let n=!0,r=-90,o=90,i=-180,l=180;for(let u=0;u<t.length;u++){const f=t.charAt(u),p=Vm.indexOf(f);if(p==-1)throw new Error("Invalid geohash");for(let h=4;h>=0;h--){const w=p>>h&1;if(n){const y=(i+l)/2;w==1?i=y:l=y}else{const y=(r+o)/2;w==1?r=y:o=y}n=!n}}return{sw:{lat:r,lon:i},ne:{lat:o,lon:l}}}static adjacent(t,n){if(t=t.toLowerCase(),n=n.toLowerCase(),t.length==0)throw new Error("Invalid geohash");if("nsew".indexOf(n)==-1)throw new Error("Invalid direction");const r={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]},o={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]},i=t.slice(-1);let l=t.slice(0,-1);const c=t.length%2;return o[n][c].indexOf(i)!=-1&&l!=""&&(l=Gt.adjacent(l,n)),l+Vm.charAt(r[n][c].indexOf(i))}static neighbours(t){return{n:Gt.adjacent(t,"n"),ne:Gt.adjacent(Gt.adjacent(t,"n"),"e"),e:Gt.adjacent(t,"e"),se:Gt.adjacent(Gt.adjacent(t,"s"),"e"),s:Gt.adjacent(t,"s"),sw:Gt.adjacent(Gt.adjacent(t,"s"),"w"),w:Gt.adjacent(t,"w"),nw:Gt.adjacent(Gt.adjacent(t,"n"),"w")}}}function wZ(){const{nostr:e}=$n();return Fr({queryKey:["my-lockers"],queryFn:async()=>(await e.query([{kinds:[30402],limit:100}])).map(n=>Gv(n)).filter(Boolean),staleTime:3e4})}function xZ(){Va({title:"Owner Dashboard - Dead Drop Network"});const{user:e}=vi(),{mutateAsync:t,isPending:n}=Bv(),{toast:r}=kc(),{data:o,isLoading:i}=wZ(),[l,c]=_.useState(""),[u,f]=_.useState(""),[p,h]=_.useState(""),[w,y]=_.useState(""),[b,g]=_.useState(""),[x,E]=_.useState("1000"),[k,C]=_.useState("10"),[A,I]=_.useState("7"),[L,z]=_.useState(!1),[$,O]=_.useState("500"),[B,W]=_.useState("30"),[M,V]=_.useState("30x30x45"),P=async U=>{if(U.preventDefault(),!!e)try{const X=Gt.encode(parseFloat(w),parseFloat(b),7),J=eV({title:l,description:u,location:p,geohash:X,baseFee:parseInt(x),overdueFee:parseInt(k),overdueDays:parseInt(A),proxyMode:L,proxyFee:parseInt($),abandonDays:parseInt(B),dimensions:M});await t({kind:30402,content:u,tags:J}),r({title:"Locker Published",description:"Your locker listing is now live."}),c(""),f("")}catch(X){r({title:"Error",description:X.message,variant:"destructive"})}};return e?m.jsx("div",{className:"min-h-screen bg-background",children:m.jsxs("div",{className:"container mx-auto p-4 space-y-8",children:[m.jsxs("header",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-2xl font-semibold",children:"Owner Dashboard"}),m.jsx(Xg,{className:"max-w-60"})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-medium mb-4",children:"My Lockers"}),i?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(U=>m.jsxs(kt,{children:[m.jsxs(Rn,{children:[m.jsx(Bn,{className:"h-5 w-3/4"}),m.jsx(Bn,{className:"h-4 w-1/2"})]}),m.jsxs(Ft,{children:[m.jsx(Bn,{className:"h-4 w-full mb-2"}),m.jsx(Bn,{className:"h-4 w-2/3"})]})]},U))}):o&&o.length>0?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(U=>m.jsxs(kt,{children:[m.jsxs(Rn,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(tr,{className:"text-lg",children:U.title}),m.jsx(wr,{variant:U.status==="available"?"default":"secondary",children:U.status})]}),m.jsx(uo,{children:U.location||U.geohash})]}),m.jsxs(Ft,{children:[m.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:U.description}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsxs("span",{children:["Fee: ",U.price," sats"]}),U.proxyMode&&m.jsx(wr,{variant:"outline",children:"Proxy"})]})]})]},U.id))}):m.jsx(kt,{className:"border-dashed",children:m.jsx(Ft,{className:"py-8 text-center text-muted-foreground",children:"You haven't created any lockers yet."})})]}),m.jsxs(kt,{children:[m.jsxs(Rn,{children:[m.jsx(tr,{children:"Create New Locker"}),m.jsx(uo,{children:"Configure your smart locker and publish it to the network."})]}),m.jsx(Ft,{children:m.jsxs("form",{onSubmit:P,className:"space-y-6",children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{htmlFor:"title",children:"Title"}),m.jsx(Xt,{id:"title",value:l,onChange:U=>c(U.target.value),placeholder:"Downtown Dead Drop Box #1",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{htmlFor:"dimensions",children:"Dimensions (cm)"}),m.jsx(Xt,{id:"dimensions",value:M,onChange:U=>V(U.target.value),placeholder:"WxHxD e.g. 30x30x45"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{htmlFor:"description",children:"Description"}),m.jsx(zf,{id:"description",value:u,onChange:U=>f(U.target.value),placeholder:"Describe your locker, its features, and any special instructions...",rows:3})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{htmlFor:"location",children:"Location Address"}),m.jsx(Xt,{id:"location",value:p,onChange:U=>h(U.target.value),placeholder:"123 Main St, City"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{htmlFor:"lat",children:"Latitude"}),m.jsx(Xt,{id:"lat",type:"number",step:"any",value:w,onChange:U=>y(U.target.value),placeholder:"51.505",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{htmlFor:"lng",children:"Longitude"}),m.jsx(Xt,{id:"lng",type:"number",step:"any",value:b,onChange:U=>g(U.target.value),placeholder:"-0.09",required:!0})]})]}),m.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[m.jsx("h3",{className:"font-medium",children:"Fee Structure"}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{htmlFor:"baseFee",children:"Base Fee (sats)"}),m.jsx(Xt,{id:"baseFee",type:"number",value:x,onChange:U=>E(U.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{htmlFor:"overdueFee",children:"Overdue Fee (%)"}),m.jsx(Xt,{id:"overdueFee",type:"number",value:k,onChange:U=>C(U.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{htmlFor:"overdueDays",children:"Overdue After (days)"}),m.jsx(Xt,{id:"overdueDays",type:"number",value:A,onChange:U=>I(U.target.value)})]})]})]}),m.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium",children:"Proxy Mode"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"You manually receive and stock items for an extra fee."})]}),m.jsx(SP,{checked:L,onCheckedChange:z})]}),L&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{htmlFor:"proxyFee",children:"Proxy Fee (sats)"}),m.jsx(Xt,{id:"proxyFee",type:"number",value:$,onChange:U=>O(U.target.value)})]})]}),m.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[m.jsx("h3",{className:"font-medium",children:"Abandoned Property"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"After this period, unclaimed items become owner property or are auctioned."}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(kn,{htmlFor:"abandonDays",children:"Days Until Abandoned"}),m.jsx(Xt,{id:"abandonDays",type:"number",value:B,onChange:U=>W(U.target.value)})]})]}),m.jsx(dt,{type:"submit",disabled:n,className:"w-full",children:n?"Publishing...":"Publish Locker"})]})})]}),m.jsx("footer",{className:"text-center text-sm text-muted-foreground pt-8",children:m.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",children:"Vibed with Shakespeare"})})]})}):m.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:m.jsxs(kt,{className:"w-full max-w-md",children:[m.jsxs(Rn,{children:[m.jsx(tr,{children:"Owner Dashboard"}),m.jsx(uo,{children:"Please log in to manage your lockers."})]}),m.jsx(Ft,{children:m.jsx(Xg,{className:"w-full"})})]})})}const bZ=_.createContext(null);function Dc(){const e=_.useContext(bZ);if(!e)throw new Error("useDMContext must be used within DMProvider");return e}function kP(e){const t=new Date(e*1e3),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=new Date(r);o.setDate(o.getDate()-1);const i=new Date(r);return i.setDate(i.getDate()-i.getDay()),t>=r?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):t>=o?"Yesterday":t>=i?t.toLocaleDateString(void 0,{weekday:"short"}):t.getFullYear()===n.getFullYear()?t.toLocaleDateString(void 0,{month:"short",day:"numeric"}):t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function CP(e){return new Date(e*1e3).toLocaleString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}function EZ(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var t0="ScrollArea",[NP,oK]=un(t0),[_Z,ir]=NP(t0),TP=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:i=600,...l}=e,[c,u]=_.useState(null),[f,p]=_.useState(null),[h,w]=_.useState(null),[y,b]=_.useState(null),[g,x]=_.useState(null),[E,k]=_.useState(0),[C,A]=_.useState(0),[I,L]=_.useState(!1),[z,$]=_.useState(!1),O=Qe(t,W=>u(W)),B=Wa(o);return m.jsx(_Z,{scope:n,type:r,dir:B,scrollHideDelay:i,scrollArea:c,viewport:f,onViewportChange:p,content:h,onContentChange:w,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:I,onScrollbarXEnabledChange:L,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:z,onScrollbarYEnabledChange:$,onCornerWidthChange:k,onCornerHeightChange:A,children:m.jsx(ze.div,{dir:B,...l,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});TP.displayName=t0;var PP="ScrollAreaViewport",RP=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...i}=e,l=ir(PP,n),c=_.useRef(null),u=Qe(t,c,l.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),m.jsx(ze.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:m.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});RP.displayName=PP;var Zr="ScrollAreaScrollbar",n0=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ir(Zr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=o,c=e.orientation==="horizontal";return _.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),o.type==="hover"?m.jsx(SZ,{...r,ref:t,forceMount:n}):o.type==="scroll"?m.jsx(kZ,{...r,ref:t,forceMount:n}):o.type==="auto"?m.jsx(AP,{...r,ref:t,forceMount:n}):o.type==="always"?m.jsx(r0,{...r,ref:t}):null});n0.displayName=Zr;var SZ=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ir(Zr,e.__scopeScrollArea),[i,l]=_.useState(!1);return _.useEffect(()=>{const c=o.scrollArea;let u=0;if(c){const f=()=>{window.clearTimeout(u),l(!0)},p=()=>{u=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",p),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",p)}}},[o.scrollArea,o.scrollHideDelay]),m.jsx(dn,{present:n||i,children:m.jsx(AP,{"data-state":i?"visible":"hidden",...r,ref:t})})}),kZ=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ir(Zr,e.__scopeScrollArea),i=e.orientation==="horizontal",l=Zf(()=>u("SCROLL_END"),100),[c,u]=EZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>u("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,o.scrollHideDelay,u]),_.useEffect(()=>{const f=o.viewport,p=i?"scrollLeft":"scrollTop";if(f){let h=f[p];const w=()=>{const y=f[p];h!==y&&(u("SCROLL"),l()),h=y};return f.addEventListener("scroll",w),()=>f.removeEventListener("scroll",w)}},[o.viewport,i,u,l]),m.jsx(dn,{present:n||c!=="hidden",children:m.jsx(r0,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Pe(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Pe(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),AP=_.forwardRef((e,t)=>{const n=ir(Zr,e.__scopeScrollArea),{forceMount:r,...o}=e,[i,l]=_.useState(!1),c=e.orientation==="horizontal",u=Zf(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?f:p)}},10);return Aa(n.viewport,u),Aa(n.content,u),m.jsx(dn,{present:r||i,children:m.jsx(r0,{"data-state":i?"visible":"hidden",...o,ref:t})})}),r0=_.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=ir(Zr,e.__scopeScrollArea),i=_.useRef(null),l=_.useRef(0),[c,u]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=LP(c.viewport,c.content),p={...r,sizes:c,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:w=>i.current=w,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:w=>l.current=w};function h(w,y){return AZ(w,l.current,c,y)}return n==="horizontal"?m.jsx(CZ,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const w=o.viewport.scrollLeft,y=$E(w,c,o.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:w=>{o.viewport&&(o.viewport.scrollLeft=w)},onDragScroll:w=>{o.viewport&&(o.viewport.scrollLeft=h(w,o.dir))}}):n==="vertical"?m.jsx(NZ,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&i.current){const w=o.viewport.scrollTop,y=$E(w,c);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:w=>{o.viewport&&(o.viewport.scrollTop=w)},onDragScroll:w=>{o.viewport&&(o.viewport.scrollTop=h(w))}}):null}),CZ=_.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=ir(Zr,e.__scopeScrollArea),[l,c]=_.useState(),u=_.useRef(null),f=Qe(t,u,i.onScrollbarXChange);return _.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),m.jsx(jP,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Vf(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,h)=>{if(i.viewport){const w=i.viewport.scrollLeft+p.deltaX;e.onWheelScroll(w),zP(w,h)&&p.preventDefault()}},onResize:()=>{u.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:qd(l.paddingLeft),paddingEnd:qd(l.paddingRight)}})}})}),NZ=_.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,i=ir(Zr,e.__scopeScrollArea),[l,c]=_.useState(),u=_.useRef(null),f=Qe(t,u,i.onScrollbarYChange);return _.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),m.jsx(jP,{"data-orientation":"vertical",...o,ref:f,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Vf(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,h)=>{if(i.viewport){const w=i.viewport.scrollTop+p.deltaY;e.onWheelScroll(w),zP(w,h)&&p.preventDefault()}},onResize:()=>{u.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:qd(l.paddingTop),paddingEnd:qd(l.paddingBottom)}})}})}),[TZ,IP]=NP(Zr),jP=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:p,onResize:h,...w}=e,y=ir(Zr,n),[b,g]=_.useState(null),x=Qe(t,O=>g(O)),E=_.useRef(null),k=_.useRef(""),C=y.viewport,A=r.content-r.viewport,I=Ot(p),L=Ot(u),z=Zf(h,10);function $(O){if(E.current){const B=O.clientX-E.current.left,W=O.clientY-E.current.top;f({x:B,y:W})}}return _.useEffect(()=>{const O=B=>{const W=B.target;(b==null?void 0:b.contains(W))&&I(B,A)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[C,b,A,I]),_.useEffect(L,[r,L]),Aa(b,z),Aa(y.content,z),m.jsx(TZ,{scope:n,scrollbar:b,hasThumb:o,onThumbChange:Ot(i),onThumbPointerUp:Ot(l),onThumbPositionChange:L,onThumbPointerDown:Ot(c),children:m.jsx(ze.div,{...w,ref:x,style:{position:"absolute",...w.style},onPointerDown:Pe(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),E.current=b.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),$(O))}),onPointerMove:Pe(e.onPointerMove,$),onPointerUp:Pe(e.onPointerUp,O=>{const B=O.target;B.hasPointerCapture(O.pointerId)&&B.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=k.current,y.viewport&&(y.viewport.style.scrollBehavior=""),E.current=null})})})}),Zd="ScrollAreaThumb",OP=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=IP(Zd,e.__scopeScrollArea);return m.jsx(dn,{present:n||o.hasThumb,children:m.jsx(PZ,{ref:t,...r})})}),PZ=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,i=ir(Zd,n),l=IP(Zd,n),{onThumbPositionChange:c}=l,u=Qe(t,h=>l.onThumbChange(h)),f=_.useRef(void 0),p=Zf(()=>{f.current&&(f.current(),f.current=void 0)},100);return _.useEffect(()=>{const h=i.viewport;if(h){const w=()=>{if(p(),!f.current){const y=IZ(h,c);f.current=y,c()}};return c(),h.addEventListener("scroll",w),()=>h.removeEventListener("scroll",w)}},[i.viewport,p,c]),m.jsx(ze.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Pe(e.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),b=h.clientX-y.left,g=h.clientY-y.top;l.onThumbPointerDown({x:b,y:g})}),onPointerUp:Pe(e.onPointerUp,l.onThumbPointerUp)})});OP.displayName=Zd;var o0="ScrollAreaCorner",MP=_.forwardRef((e,t)=>{const n=ir(o0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?m.jsx(RZ,{...e,ref:t}):null});MP.displayName=o0;var RZ=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=ir(o0,n),[i,l]=_.useState(0),[c,u]=_.useState(0),f=!!(i&&c);return Aa(o.scrollbarX,()=>{var h;const p=((h=o.scrollbarX)==null?void 0:h.offsetHeight)||0;o.onCornerHeightChange(p),u(p)}),Aa(o.scrollbarY,()=>{var h;const p=((h=o.scrollbarY)==null?void 0:h.offsetWidth)||0;o.onCornerWidthChange(p),l(p)}),f?m.jsx(ze.div,{...r,ref:t,style:{width:i,height:c,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function qd(e){return e?parseInt(e,10):0}function LP(e,t){const n=e/t;return isNaN(n)?0:n}function Vf(e){const t=LP(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function AZ(e,t,n,r="ltr"){const o=Vf(n),i=o/2,l=t||i,c=o-l,u=n.scrollbar.paddingStart+l,f=n.scrollbar.size-n.scrollbar.paddingEnd-c,p=n.content-n.viewport,h=r==="ltr"?[0,p]:[p*-1,0];return DP([u,f],h)(e)}function $E(e,t,n="ltr"){const r=Vf(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,l=t.content-t.viewport,c=i-r,u=n==="ltr"?[0,l]:[l*-1,0],f=mc(e,u);return DP([0,l],[0,c])(f)}function DP(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function zP(e,t){return e>0&&e<t}var IZ=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const i={left:e.scrollLeft,top:e.scrollTop},l=n.left!==i.left,c=n.top!==i.top;(l||c)&&t(),n=i,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Zf(e,t){const n=Ot(e),r=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),_.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Aa(e,t){const n=Ot(t);Lt(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var BP=TP,jZ=RP,OZ=MP;const s0=_.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(BP,{ref:r,className:Oe("relative overflow-hidden",e),...n,children:[m.jsx(jZ,{className:"h-full w-full rounded-[inherit] [&>div]:!block [&>div]:!w-full",children:t}),m.jsx(FP,{}),m.jsx(OZ,{})]}));s0.displayName=BP.displayName;const FP=_.forwardRef(({className:e,orientation:t="vertical",...n},r)=>m.jsx(n0,{ref:r,orientation:t,className:Oe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:m.jsx(OP,{className:"relative flex-1 rounded-full bg-border"})}));FP.displayName=n0.displayName;const Qi={NIP04:"nip04",NIP17:"nip17"},dd={NIP04_ONLY:"nip04_only",NIP17_ONLY:"nip17_only",NIP04_OR_NIP17:"nip04_or_nip17"},Tn={IDLE:"idle",CACHE:"cache",RELAYS:"relays",SUBSCRIPTIONS:"subscriptions",READY:"ready"},MZ=({pubkey:e,isSelected:t,onClick:n,lastMessage:r,lastActivity:o,hasNIP4Messages:i})=>{var y;const l=yf(e),c=(y=l.data)==null?void 0:y.metadata,u=(c==null?void 0:c.name)||Uf(e),f=c==null?void 0:c.picture,p=u.slice(0,2).toUpperCase(),h=r!=null&&r.error?" Encrypted message":(r==null?void 0:r.decryptedContent)||"No messages yet",w=l.isLoading&&!c;return m.jsx("button",{onClick:n,className:Oe("w-full text-left p-3 rounded-lg transition-colors hover:bg-accent block overflow-hidden",t&&"bg-accent"),children:m.jsxs("div",{className:"flex items-start gap-3 max-w-full",children:[w?m.jsx(Bn,{className:"h-10 w-10 rounded-full flex-shrink-0"}):m.jsxs(fc,{className:"h-10 w-10 flex-shrink-0",children:[m.jsx(hc,{src:f,alt:u}),m.jsx(pc,{children:p})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[m.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:[w?m.jsx(Bn,{className:"h-[1.25rem] w-24"}):m.jsx("span",{className:"font-medium text-sm truncate",children:u}),i&&m.jsx(ai,{children:m.jsxs(Ks,{children:[m.jsx(Gs,{asChild:!0,children:m.jsx("div",{className:"flex-shrink-0",children:m.jsx(av,{className:"h-3.5 w-3.5 text-yellow-600 dark:text-yellow-500"})})}),m.jsx(ps,{side:"left",children:m.jsx("p",{className:"text-xs max-w-[200px]",children:"Some messages use outdated NIP-04 encryption"})})]})})]}),m.jsx(ai,{children:m.jsxs(Ks,{children:[m.jsx(Gs,{asChild:!0,children:m.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap flex-shrink-0 cursor-default",children:kP(o)})}),m.jsx(ps,{side:"left",children:m.jsx("p",{className:"text-xs",children:CP(o)})})]})})]}),m.jsx("p",{className:"text-sm text-muted-foreground truncate",children:h})]})]})})},$P=_.memo(MZ);$P.displayName="ConversationItem";const LZ=()=>m.jsx("div",{className:"space-y-2 p-4",children:[1,2,3,4,5].map(e=>m.jsxs("div",{className:"flex items-start gap-3 p-3",children:[m.jsx(Bn,{className:"h-10 w-10 rounded-full flex-shrink-0"}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx(Bn,{className:"h-4 w-24"}),m.jsx(Bn,{className:"h-3 w-12"})]}),m.jsx(Bn,{className:"h-3 w-full"})]})]},e))}),DZ=({selectedPubkey:e,onSelectConversation:t,className:n,onStatusClick:r})=>{const{conversations:o,isLoading:i,loadingPhase:l}=Dc(),[c,u]=_.useState("known"),{knownConversations:f,requestConversations:p}=_.useMemo(()=>({knownConversations:o.filter(y=>y.isKnown),requestConversations:o.filter(y=>y.isRequest)}),[o]),h=c==="known"?f:p,w=(l===Tn.CACHE||l===Tn.RELAYS)&&o.length===0;return m.jsxs(kt,{className:Oe("h-full flex flex-col overflow-hidden",n),children:[m.jsxs("div",{className:"p-4 border-b flex-shrink-0 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h2",{className:"font-semibold text-lg",children:"Messages"}),(l===Tn.CACHE||l===Tn.RELAYS||l===Tn.SUBSCRIPTIONS)&&m.jsx(ai,{children:m.jsxs(Ks,{children:[m.jsx(Gs,{asChild:!0,children:m.jsx("div",{className:"flex items-center",children:m.jsx(zn,{className:"h-4 w-4 animate-spin text-muted-foreground"})})}),m.jsx(ps,{children:m.jsxs("p",{className:"text-xs",children:[l===Tn.CACHE&&"Loading from cache...",l===Tn.RELAYS&&"Querying relays for new messages...",l===Tn.SUBSCRIPTIONS&&"Setting up subscriptions..."]})})]})})]}),r&&m.jsx(dt,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:r,"aria-label":"View messaging status",children:m.jsx(zB,{className:"h-4 w-4"})})]}),m.jsx("div",{className:"px-2 pt-2 flex-shrink-0",children:m.jsxs("div",{className:"grid grid-cols-2 gap-1 bg-muted p-1 rounded-lg",children:[m.jsxs("button",{onClick:()=>u("known"),className:Oe("text-xs py-2 px-3 rounded-md transition-colors",c==="known"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Active ",f.length>0&&`(${f.length})`]}),m.jsxs("button",{onClick:()=>u("requests"),className:Oe("text-xs py-2 px-3 rounded-md transition-colors",c==="requests"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"),children:["Requests ",p.length>0&&`(${p.length})`]})]})}),m.jsx("div",{className:"flex-1 min-h-0 mt-2 overflow-hidden",children:i||w?m.jsx(LZ,{}):o.length===0?m.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground px-4",children:m.jsxs("div",{children:[m.jsx("p",{className:"text-sm",children:"No conversations yet"}),m.jsx("p",{className:"text-xs mt-1",children:"Start a new conversation to get started"})]})}):h.length===0?m.jsx("div",{className:"flex items-center justify-center h-32 text-center text-muted-foreground px-4",children:m.jsxs("p",{className:"text-sm",children:["No ",c," conversations"]})}):m.jsx(s0,{className:"h-full block",children:m.jsx("div",{className:"block w-full px-2 py-2 space-y-1",children:h.map(y=>m.jsx($P,{pubkey:y.pubkey,isSelected:e===y.pubkey,onClick:()=>t(y.pubkey),lastMessage:y.lastMessage,lastActivity:y.lastActivity,hasNIP4Messages:y.hasNIP4Messages},y.pubkey))})})})]})},Zm=25;function zZ(e){const{messages:t}=Dc(),[n,r]=_.useState(Zm),o=_.useMemo(()=>{const l=t.get(e);if(!l)return{messages:[],hasMoreMessages:!1,totalCount:0,lastMessage:null,lastActivity:0};const c=l.messages.length,u=c>n;return{messages:l.messages.slice(-n),hasMoreMessages:u,totalCount:c,lastMessage:l.lastMessage,lastActivity:l.lastActivity}},[t,e,n]),i=_.useCallback(()=>{r(l=>l+Zm)},[]);return _.useEffect(()=>{r(Zm)},[e]),{...o,loadEarlierMessages:i}}var BZ=[" ","Enter","ArrowUp","ArrowDown"],FZ=[" ","Enter"],mi="Select",[qf,Kf,$Z]=Cc(mi),[qa,sK]=un(mi,[$Z,Ua]),Gf=Ua(),[UZ,Ps]=qa(mi),[HZ,WZ]=qa(mi),UP=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:l,defaultValue:c,onValueChange:u,dir:f,name:p,autoComplete:h,disabled:w,required:y,form:b}=e,g=Gf(t),[x,E]=_.useState(null),[k,C]=_.useState(null),[A,I]=_.useState(!1),L=Wa(f),[z,$]=br({prop:r,defaultProp:o??!1,onChange:i,caller:mi}),[O,B]=br({prop:l,defaultProp:c,onChange:u,caller:mi}),W=_.useRef(null),M=x?b||!!x.closest("form"):!0,[V,P]=_.useState(new Set),U=Array.from(V).map(X=>X.props.value).join(";");return m.jsx(wv,{...g,children:m.jsxs(UZ,{required:y,scope:t,trigger:x,onTriggerChange:E,valueNode:k,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:I,contentId:nr(),value:O,onValueChange:B,open:z,onOpenChange:$,dir:L,triggerPointerDownPosRef:W,disabled:w,children:[m.jsx(qf.Provider,{scope:t,children:m.jsx(HZ,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(X=>{P(J=>new Set(J).add(X))},[]),onNativeOptionRemove:_.useCallback(X=>{P(J=>{const ee=new Set(J);return ee.delete(X),ee})},[]),children:n})}),M?m.jsxs(fR,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:h,value:O,onChange:X=>B(X.target.value),disabled:w,form:b,children:[O===void 0?m.jsx("option",{value:""}):null,Array.from(V)]},U):null]})})};UP.displayName=mi;var HP="SelectTrigger",WP=_.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=Gf(n),l=Ps(HP,n),c=l.disabled||r,u=Qe(t,l.onTriggerChange),f=Kf(n),p=_.useRef("touch"),[h,w,y]=pR(g=>{const x=f().filter(C=>!C.disabled),E=x.find(C=>C.value===l.value),k=mR(x,g,E);k!==void 0&&l.onValueChange(k.value)}),b=g=>{c||(l.onOpenChange(!0),y()),g&&(l.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return m.jsx(xv,{asChild:!0,...i,children:m.jsx(ze.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":hR(l.value)?"":void 0,...o,ref:u,onClick:Pe(o.onClick,g=>{g.currentTarget.focus(),p.current!=="mouse"&&b(g)}),onPointerDown:Pe(o.onPointerDown,g=>{p.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:Pe(o.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&w(g.key),!(x&&g.key===" ")&&BZ.includes(g.key)&&(b(),g.preventDefault())})})})});WP.displayName=HP;var VP="SelectValue",ZP=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:l="",...c}=e,u=Ps(VP,n),{onValueNodeHasChildrenChange:f}=u,p=i!==void 0,h=Qe(t,u.onValueNodeChange);return Lt(()=>{f(p)},[f,p]),m.jsx(ze.span,{...c,ref:h,style:{pointerEvents:"none"},children:hR(u.value)?m.jsx(m.Fragment,{children:l}):i})});ZP.displayName=VP;var VZ="SelectIcon",qP=_.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return m.jsx(ze.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});qP.displayName=VZ;var ZZ="SelectPortal",KP=e=>m.jsx(Nc,{asChild:!0,...e});KP.displayName=ZZ;var gi="SelectContent",GP=_.forwardRef((e,t)=>{const n=Ps(gi,e.__scopeSelect),[r,o]=_.useState();if(Lt(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?Da.createPortal(m.jsx(YP,{scope:e.__scopeSelect,children:m.jsx(qf.Slot,{scope:e.__scopeSelect,children:m.jsx("div",{children:e.children})})}),i):null}return m.jsx(JP,{...e,ref:t})});GP.displayName=gi;var mr=10,[YP,Rs]=qa(gi),qZ="SelectContentImpl",KZ=fi("SelectContent.RemoveScroll"),JP=_.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:u,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:w,collisionPadding:y,sticky:b,hideWhenDetached:g,avoidCollisions:x,...E}=e,k=Ps(gi,n),[C,A]=_.useState(null),[I,L]=_.useState(null),z=Qe(t,we=>A(we)),[$,O]=_.useState(null),[B,W]=_.useState(null),M=Kf(n),[V,P]=_.useState(!1),U=_.useRef(!1);_.useEffect(()=>{if(C)return Pv(C)},[C]),Tv();const X=_.useCallback(we=>{const[xe,...Se]=M().map(qe=>qe.ref.current),[Ie]=Se.slice(-1),Ue=document.activeElement;for(const qe of we)if(qe===Ue||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===xe&&I&&(I.scrollTop=0),qe===Ie&&I&&(I.scrollTop=I.scrollHeight),qe==null||qe.focus(),document.activeElement!==Ue))return},[M,I]),J=_.useCallback(()=>X([$,C]),[X,$,C]);_.useEffect(()=>{V&&J()},[V,J]);const{onOpenChange:ee,triggerPointerDownPosRef:q}=k;_.useEffect(()=>{if(C){let we={x:0,y:0};const xe=Ie=>{var Ue,qe;we={x:Math.abs(Math.round(Ie.pageX)-(((Ue=q.current)==null?void 0:Ue.x)??0)),y:Math.abs(Math.round(Ie.pageY)-(((qe=q.current)==null?void 0:qe.y)??0))}},Se=Ie=>{we.x<=10&&we.y<=10?Ie.preventDefault():C.contains(Ie.target)||ee(!1),document.removeEventListener("pointermove",xe),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Se,{capture:!0})}}},[C,ee,q]),_.useEffect(()=>{const we=()=>ee(!1);return window.addEventListener("blur",we),window.addEventListener("resize",we),()=>{window.removeEventListener("blur",we),window.removeEventListener("resize",we)}},[ee]);const[oe,D]=pR(we=>{const xe=M().filter(Ue=>!Ue.disabled),Se=xe.find(Ue=>Ue.ref.current===document.activeElement),Ie=mR(xe,we,Se);Ie&&setTimeout(()=>Ie.ref.current.focus())}),Z=_.useCallback((we,xe,Se)=>{const Ie=!U.current&&!Se;(k.value!==void 0&&k.value===xe||Ie)&&(O(we),Ie&&(U.current=!0))},[k.value]),ge=_.useCallback(()=>C==null?void 0:C.focus(),[C]),pe=_.useCallback((we,xe,Se)=>{const Ie=!U.current&&!Se;(k.value!==void 0&&k.value===xe||Ie)&&W(we)},[k.value]),me=r==="popper"?ry:QP,Ae=me===ry?{side:c,sideOffset:u,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:w,collisionPadding:y,sticky:b,hideWhenDetached:g,avoidCollisions:x}:{};return m.jsx(YP,{scope:n,content:C,viewport:I,onViewportChange:L,itemRefCallback:Z,selectedItem:$,onItemLeave:ge,itemTextRefCallback:pe,focusSelectedItem:J,selectedItemText:B,position:r,isPositioned:V,searchRef:oe,children:m.jsx(Af,{as:KZ,allowPinchZoom:!0,children:m.jsx(Pf,{asChild:!0,trapped:k.open,onMountAutoFocus:we=>{we.preventDefault()},onUnmountAutoFocus:Pe(o,we=>{var xe;(xe=k.trigger)==null||xe.focus({preventScroll:!0}),we.preventDefault()}),children:m.jsx(za,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:we=>we.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:m.jsx(me,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:we=>we.preventDefault(),...E,...Ae,onPlaced:()=>P(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Pe(E.onKeyDown,we=>{const xe=we.ctrlKey||we.altKey||we.metaKey;if(we.key==="Tab"&&we.preventDefault(),!xe&&we.key.length===1&&D(we.key),["ArrowUp","ArrowDown","Home","End"].includes(we.key)){let Ie=M().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(we.key)&&(Ie=Ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(we.key)){const Ue=we.target,qe=Ie.indexOf(Ue);Ie=Ie.slice(qe+1)}setTimeout(()=>X(Ie)),we.preventDefault()}})})})})})})});JP.displayName=qZ;var GZ="SelectItemAlignedPosition",QP=_.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=Ps(gi,n),l=Rs(gi,n),[c,u]=_.useState(null),[f,p]=_.useState(null),h=Qe(t,z=>p(z)),w=Kf(n),y=_.useRef(!1),b=_.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:E,focusSelectedItem:k}=l,C=_.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&g&&x&&E){const z=i.trigger.getBoundingClientRect(),$=f.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),B=E.getBoundingClientRect();if(i.dir!=="rtl"){const Ue=B.left-$.left,qe=O.left-Ue,Ye=z.left-qe,j=z.width+Ye,ye=Math.max(j,$.width),de=window.innerWidth-mr,Y=mc(qe,[mr,Math.max(mr,de-ye)]);c.style.minWidth=j+"px",c.style.left=Y+"px"}else{const Ue=$.right-B.right,qe=window.innerWidth-O.right-Ue,Ye=window.innerWidth-z.right-qe,j=z.width+Ye,ye=Math.max(j,$.width),de=window.innerWidth-mr,Y=mc(qe,[mr,Math.max(mr,de-ye)]);c.style.minWidth=j+"px",c.style.right=Y+"px"}const W=w(),M=window.innerHeight-mr*2,V=g.scrollHeight,P=window.getComputedStyle(f),U=parseInt(P.borderTopWidth,10),X=parseInt(P.paddingTop,10),J=parseInt(P.borderBottomWidth,10),ee=parseInt(P.paddingBottom,10),q=U+X+V+ee+J,oe=Math.min(x.offsetHeight*5,q),D=window.getComputedStyle(g),Z=parseInt(D.paddingTop,10),ge=parseInt(D.paddingBottom,10),pe=z.top+z.height/2-mr,me=M-pe,Ae=x.offsetHeight/2,we=x.offsetTop+Ae,xe=U+X+we,Se=q-xe;if(xe<=pe){const Ue=W.length>0&&x===W[W.length-1].ref.current;c.style.bottom="0px";const qe=f.clientHeight-g.offsetTop-g.offsetHeight,Ye=Math.max(me,Ae+(Ue?ge:0)+qe+J),j=xe+Ye;c.style.height=j+"px"}else{const Ue=W.length>0&&x===W[0].ref.current;c.style.top="0px";const Ye=Math.max(pe,U+g.offsetTop+(Ue?Z:0)+Ae)+Se;c.style.height=Ye+"px",g.scrollTop=xe-pe+g.offsetTop}c.style.margin=`${mr}px 0`,c.style.minHeight=oe+"px",c.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[w,i.trigger,i.valueNode,c,f,g,x,E,i.dir,r]);Lt(()=>C(),[C]);const[A,I]=_.useState();Lt(()=>{f&&I(window.getComputedStyle(f).zIndex)},[f]);const L=_.useCallback(z=>{z&&b.current===!0&&(C(),k==null||k(),b.current=!1)},[C,k]);return m.jsx(JZ,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:L,children:m.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:m.jsx(ze.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});QP.displayName=GZ;var YZ="SelectPopperPosition",ry=_.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=mr,...i}=e,l=Gf(n);return m.jsx(bv,{...l,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ry.displayName=YZ;var[JZ,i0]=qa(gi,{}),oy="SelectViewport",XP=_.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,i=Rs(oy,n),l=i0(oy,n),c=Qe(t,i.onViewportChange),u=_.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(qf.Slot,{scope:n,children:m.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Pe(o.onScroll,f=>{const p=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:w}=l;if(w!=null&&w.current&&h){const y=Math.abs(u.current-p.scrollTop);if(y>0){const b=window.innerHeight-mr*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),E=Math.max(g,x);if(E<b){const k=E+y,C=Math.min(b,k),A=k-C;h.style.height=C+"px",h.style.bottom==="0px"&&(p.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});XP.displayName=oy;var eR="SelectGroup",[QZ,XZ]=qa(eR),eq=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=nr();return m.jsx(QZ,{scope:n,id:o,children:m.jsx(ze.div,{role:"group","aria-labelledby":o,...r,ref:t})})});eq.displayName=eR;var tR="SelectLabel",nR=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=XZ(tR,n);return m.jsx(ze.div,{id:o.id,...r,ref:t})});nR.displayName=tR;var Kd="SelectItem",[tq,rR]=qa(Kd),oR=_.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...l}=e,c=Ps(Kd,n),u=Rs(Kd,n),f=c.value===r,[p,h]=_.useState(i??""),[w,y]=_.useState(!1),b=Qe(t,k=>{var C;return(C=u.itemRefCallback)==null?void 0:C.call(u,k,r,o)}),g=nr(),x=_.useRef("touch"),E=()=>{o||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(tq,{scope:n,value:r,disabled:o,textId:g,isSelected:f,onItemTextChange:_.useCallback(k=>{h(C=>C||((k==null?void 0:k.textContent)??"").trim())},[]),children:m.jsx(qf.ItemSlot,{scope:n,value:r,disabled:o,textValue:p,children:m.jsx(ze.div,{role:"option","aria-labelledby":g,"data-highlighted":w?"":void 0,"aria-selected":f&&w,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:b,onFocus:Pe(l.onFocus,()=>y(!0)),onBlur:Pe(l.onBlur,()=>y(!1)),onClick:Pe(l.onClick,()=>{x.current!=="mouse"&&E()}),onPointerUp:Pe(l.onPointerUp,()=>{x.current==="mouse"&&E()}),onPointerDown:Pe(l.onPointerDown,k=>{x.current=k.pointerType}),onPointerMove:Pe(l.onPointerMove,k=>{var C;x.current=k.pointerType,o?(C=u.onItemLeave)==null||C.call(u):x.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(l.onPointerLeave,k=>{var C;k.currentTarget===document.activeElement&&((C=u.onItemLeave)==null||C.call(u))}),onKeyDown:Pe(l.onKeyDown,k=>{var A;((A=u.searchRef)==null?void 0:A.current)!==""&&k.key===" "||(FZ.includes(k.key)&&E(),k.key===" "&&k.preventDefault())})})})})});oR.displayName=Kd;var Zl="SelectItemText",sR=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,l=Ps(Zl,n),c=Rs(Zl,n),u=rR(Zl,n),f=WZ(Zl,n),[p,h]=_.useState(null),w=Qe(t,E=>h(E),u.onItemTextChange,E=>{var k;return(k=c.itemTextRefCallback)==null?void 0:k.call(c,E,u.value,u.disabled)}),y=p==null?void 0:p.textContent,b=_.useMemo(()=>m.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=f;return Lt(()=>(g(b),()=>x(b)),[g,x,b]),m.jsxs(m.Fragment,{children:[m.jsx(ze.span,{id:u.textId,...i,ref:w}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Da.createPortal(i.children,l.valueNode):null]})});sR.displayName=Zl;var iR="SelectItemIndicator",aR=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return rR(iR,n).isSelected?m.jsx(ze.span,{"aria-hidden":!0,...r,ref:t}):null});aR.displayName=iR;var sy="SelectScrollUpButton",lR=_.forwardRef((e,t)=>{const n=Rs(sy,e.__scopeSelect),r=i0(sy,e.__scopeSelect),[o,i]=_.useState(!1),l=Qe(t,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=u.scrollTop>0;i(f)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?m.jsx(uR,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});lR.displayName=sy;var iy="SelectScrollDownButton",cR=_.forwardRef((e,t)=>{const n=Rs(iy,e.__scopeSelect),r=i0(iy,e.__scopeSelect),[o,i]=_.useState(!1),l=Qe(t,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<f;i(p)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?m.jsx(uR,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});cR.displayName=iy;var uR=_.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=Rs("SelectScrollButton",n),l=_.useRef(null),c=Kf(n),u=_.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return _.useEffect(()=>()=>u(),[u]),Lt(()=>{var p;const f=c().find(h=>h.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),m.jsx(ze.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Pe(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Pe(o.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Pe(o.onPointerLeave,()=>{u()})})}),nq="SelectSeparator",dR=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return m.jsx(ze.div,{"aria-hidden":!0,...r,ref:t})});dR.displayName=nq;var ay="SelectArrow",rq=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Gf(n),i=Ps(ay,n),l=Rs(ay,n);return i.open&&l.position==="popper"?m.jsx(Ev,{...o,...r,ref:t}):null});rq.displayName=ay;var oq="SelectBubbleInput",fR=_.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=_.useRef(null),i=Qe(r,o),l=Xv(t);return _.useEffect(()=>{const c=o.current;if(!c)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==t&&p){const h=new Event("change",{bubbles:!0});p.call(c,t),c.dispatchEvent(h)}},[l,t]),m.jsx(ze.select,{...n,style:{...ik,...n.style},ref:i,defaultValue:t})});fR.displayName=oq;function hR(e){return e===""||e===void 0}function pR(e){const t=Ot(e),n=_.useRef(""),r=_.useRef(0),o=_.useCallback(l=>{const c=n.current+l;t(c),function u(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(c)},[t]),i=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function mR(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let l=sq(e,Math.max(i,0));o.length===1&&(l=l.filter(f=>f!==n));const u=l.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return u!==n?u:void 0}function sq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var iq=UP,gR=WP,aq=ZP,lq=qP,cq=KP,yR=GP,uq=XP,vR=nR,wR=oR,dq=sR,fq=aR,xR=lR,bR=cR,ER=dR;const hq=iq,pq=aq,_R=_.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(gR,{ref:r,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,m.jsx(lq,{asChild:!0,children:m.jsx(bf,{className:"h-4 w-4 opacity-50"})})]}));_R.displayName=gR.displayName;const SR=_.forwardRef(({className:e,...t},n)=>m.jsx(xR,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:m.jsx(CB,{className:"h-4 w-4"})}));SR.displayName=xR.displayName;const kR=_.forwardRef(({className:e,...t},n)=>m.jsx(bR,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:m.jsx(bf,{className:"h-4 w-4"})}));kR.displayName=bR.displayName;const CR=_.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>m.jsx(cq,{children:m.jsxs(yR,{ref:o,className:Oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[m.jsx(SR,{}),m.jsx(uq,{className:Oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),m.jsx(kR,{})]})}));CR.displayName=yR.displayName;const mq=_.forwardRef(({className:e,...t},n)=>m.jsx(vR,{ref:n,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));mq.displayName=vR.displayName;const ly=_.forwardRef(({className:e,children:t,...n},r)=>m.jsxs(wR,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(fq,{children:m.jsx(Pk,{className:"h-4 w-4"})})}),m.jsx(dq,{children:t})]}));ly.displayName=wR.displayName;const gq=_.forwardRef(({className:e,...t},n)=>m.jsx(ER,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",e),...t}));gq.displayName=ER.displayName;function cy({event:e,className:t}){const n=_.useMemo(()=>{const r=e.content,o=/(https?:\/\/[^\s]+)|nostr:(npub1|note1|nprofile1|nevent1)([023456789acdefghjklmnpqrstuvwxyz]+)|(#\w+)/g,i=[];let l=0,c,u=0;for(;(c=o.exec(r))!==null;){const[f,p,h,w,y]=c,b=c.index;if(b>l&&i.push(r.substring(l,b)),p)i.push(m.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:p},`url-${u++}`));else if(h&&w)try{const g=`${h}${w}`,x=yn.decode(g);if(x.type==="npub"){const E=x.data;i.push(m.jsx(UE,{pubkey:E},`mention-${u++}`))}else if(x.type==="nprofile"){const E=x.data.pubkey;i.push(m.jsx(UE,{pubkey:E},`mention-${u++}`))}else i.push(m.jsx(Pn,{to:`/${g}`,className:"text-blue-500 hover:underline break-all",children:f},`nostr-${u++}`))}catch{i.push(f)}else if(y){const g=y.slice(1);i.push(m.jsx(Pn,{to:`/t/${g}`,className:"text-blue-500 hover:underline",children:y},`hashtag-${u++}`))}l=b+f.length}return l<r.length&&i.push(r.substring(l)),i.length===0&&i.push(r),i},[e]);return m.jsx("div",{className:Oe("whitespace-pre-wrap break-words",t),children:n.length>0?n:e.content})}function UE({pubkey:e}){var i,l,c,u;const t=yf(e),n=yn.npubEncode(e),r=!!((l=(i=t.data)==null?void 0:i.metadata)!=null&&l.name),o=((u=(c=t.data)==null?void 0:c.metadata)==null?void 0:u.name)??Uf(e);return m.jsxs(Pn,{to:`/${n}`,className:Oe("font-medium hover:underline",r?"text-blue-500":"text-gray-500 hover:text-gray-700"),children:["@",o]})}const NR=_.memo(({message:e,isFromCurrentUser:t})=>{var l;const n=((l=e.decryptedEvent)==null?void 0:l.kind)||e.kind,r=e.kind===4,o=n===15,i=e.decryptedEvent||{id:e.id,pubkey:e.pubkey,created_at:e.created_at,kind:e.kind,tags:e.tags,content:e.decryptedContent||"",sig:""};return m.jsx("div",{className:Oe("flex mb-4",t?"justify-end":"justify-start"),children:m.jsxs("div",{className:Oe("max-w-[70%] rounded-lg px-4 py-2",t?"bg-primary text-primary-foreground":"bg-muted"),children:[e.error?m.jsxs(Ks,{delayDuration:200,children:[m.jsx(Gs,{asChild:!0,children:m.jsx("p",{className:"text-sm italic opacity-70 cursor-help",children:" Failed to decrypt"})}),m.jsx(ps,{children:m.jsx("p",{className:"text-xs",children:e.error})})]}):o?m.jsx("div",{className:"text-sm",children:m.jsx(cy,{event:i,className:"whitespace-pre-wrap break-words"})}):m.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.decryptedContent}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx(ai,{children:m.jsxs(Ks,{delayDuration:200,children:[m.jsx(Gs,{asChild:!0,children:m.jsx("span",{className:Oe("text-xs opacity-70 cursor-default",t?"text-primary-foreground":"text-muted-foreground"),children:kP(e.created_at)})}),m.jsx(ps,{children:m.jsx("p",{className:"text-xs",children:CP(e.created_at)})})]})}),m.jsx(ai,{children:m.jsxs(Ks,{delayDuration:200,children:[m.jsx(Gs,{asChild:!0,children:m.jsx("span",{className:Oe("flex-shrink-0 opacity-50",t?"text-primary-foreground":"text-muted-foreground"),children:e.kind===4?m.jsx(BB,{className:"h-3 w-3"}):m.jsx(WB,{className:"h-3 w-3"})})}),m.jsx(ps,{children:m.jsxs("p",{className:"text-xs",children:[e.kind===4&&"NIP-04 Kind 4 (Legacy DM)",e.kind===14&&"NIP-17 Kind 14 (Private Message)",e.kind===15&&"NIP-17 Kind 15 (Media)",e.kind!==4&&e.kind!==14&&e.kind!==15&&`Kind ${e.kind}`]})})]})}),r&&m.jsx(ai,{children:m.jsxs(Ks,{children:[m.jsx(Gs,{asChild:!0,children:m.jsx("div",{className:"flex-shrink-0",children:m.jsx(av,{className:"h-3 w-3 text-yellow-600 dark:text-yellow-500"})})}),m.jsx(ps,{children:m.jsx("p",{className:"text-xs",children:"Uses outdated NIP-04 encryption"})})]})}),e.isSending&&m.jsx(zn,{className:"h-3 w-3 animate-spin opacity-70"})]})]})})});NR.displayName="MessageBubble";const yq=({pubkey:e,onBack:t})=>{var c;const r=(c=yf(e).data)==null?void 0:c.metadata,o=(r==null?void 0:r.name)||Uf(e),i=r==null?void 0:r.picture,l=o.slice(0,2).toUpperCase();return m.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[t&&m.jsx(dt,{variant:"ghost",size:"icon",onClick:t,className:"md:hidden",children:m.jsx(SB,{className:"h-5 w-5"})}),m.jsxs(fc,{className:"h-10 w-10",children:[m.jsx(hc,{src:i,alt:o}),m.jsx(pc,{children:l})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h2",{className:"font-semibold truncate",children:o}),(r==null?void 0:r.nip05)&&m.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r.nip05})]})]})},vq=({isLoading:e})=>m.jsx("div",{className:"h-full flex items-center justify-center p-8",children:m.jsx("div",{className:"text-center text-muted-foreground max-w-sm",children:e?m.jsxs(m.Fragment,{children:[m.jsx(zn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),m.jsx("p",{className:"text-sm",children:"Loading conversations..."}),m.jsx("p",{className:"text-xs mt-2",children:"Fetching encrypted messages from relays"})]}):m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-sm",children:"Select a conversation to start messaging"}),m.jsx("p",{className:"text-xs mt-2",children:"Your messages are encrypted and stored locally"})]})})}),wq=({pubkey:e,onBack:t,className:n})=>{const{user:r}=vi(),{sendMessage:o,protocolMode:i,isLoading:l}=Dc(),{messages:c,hasMoreMessages:u,loadEarlierMessages:f}=zZ(e||""),[p,h]=_.useState(""),[w,y]=_.useState(!1),[b,g]=_.useState(!1),x=()=>i===dd.NIP04_ONLY?Qi.NIP04:(i===dd.NIP17_ONLY||i===dd.NIP04_OR_NIP17,Qi.NIP17),[E,k]=_.useState(x()),C=_.useRef(null),A=i===dd.NIP04_OR_NIP17;_.useEffect(()=>{if(C.current){const $=C.current.querySelector("[data-radix-scroll-area-viewport]");$&&($.scrollTop=$.scrollHeight)}},[c.length]);const I=_.useCallback(async()=>{if(!(!p.trim()||!e||!r)){y(!0);try{await o({recipientPubkey:e,content:p.trim(),protocol:E}),h("")}catch($){console.error("Failed to send message:",$)}finally{y(!1)}}},[p,e,r,o,E]),L=_.useCallback($=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),I())},[I]),z=_.useCallback(async()=>{if(!C.current||b)return;const $=C.current.querySelector("[data-radix-scroll-area-viewport]");if(!$)return;const O=$.scrollHeight,B=$.scrollTop;g(!0),f(),setTimeout(()=>{if($){const M=$.scrollHeight-O;$.scrollTop=B+M}g(!1)},0)},[f,b]);return e?r?m.jsxs(kt,{className:Oe("h-full flex flex-col",n),children:[m.jsx(yq,{pubkey:e,onBack:t}),m.jsx(s0,{ref:C,className:"flex-1 p-4",children:c.length===0?m.jsx("div",{className:"h-full flex items-center justify-center",children:m.jsxs("div",{className:"text-center text-muted-foreground",children:[m.jsx("p",{className:"text-sm",children:"No messages yet"}),m.jsx("p",{className:"text-xs mt-1",children:"Send a message to start the conversation"})]})}):m.jsxs("div",{children:[u&&m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx(dt,{variant:"outline",size:"sm",onClick:z,disabled:b,className:"text-xs",children:b?m.jsxs(m.Fragment,{children:[m.jsx(zn,{className:"h-3 w-3 animate-spin mr-2"}),"Loading..."]}):"Load Earlier Messages"})}),c.map($=>m.jsx(NR,{message:$,isFromCurrentUser:$.pubkey===r.pubkey},$.id))]})}),m.jsx("div",{className:"p-4 border-t",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx(zf,{value:p,onChange:$=>h($.target.value),onKeyDown:L,placeholder:"Type a message... (Enter to send, Shift+Enter for new line)",className:"min-h-[80px] resize-none",disabled:w}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(dt,{onClick:I,disabled:!p.trim()||w,size:"icon",className:"h-[44px] w-[90px]",children:w?m.jsx(zn,{className:"h-5 w-5 animate-spin"}):m.jsx(HB,{className:"h-5 w-5"})}),m.jsxs(hq,{value:E,onValueChange:$=>k($),disabled:!A,children:[m.jsx(_R,{className:"h-[32px] w-[90px] text-xs px-2",children:m.jsx(pq,{})}),m.jsxs(CR,{children:[m.jsx(ly,{value:Qi.NIP17,className:"text-xs",children:"NIP-17"}),m.jsx(ly,{value:Qi.NIP04,className:"text-xs",children:"NIP-04"})]})]})]})]})})]}):m.jsx(kt,{className:Oe("h-full flex items-center justify-center",n),children:m.jsx("div",{className:"text-center text-muted-foreground",children:m.jsx("p",{className:"text-sm",children:"Please log in to view messages"})})}):m.jsx(kt,{className:Oe("h-full",n),children:m.jsx(vq,{isLoading:l})})};var xq="Separator",HE="horizontal",bq=["horizontal","vertical"],TR=_.forwardRef((e,t)=>{const{decorative:n,orientation:r=HE,...o}=e,i=Eq(r)?r:HE,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return m.jsx(ze.div,{"data-orientation":i,...c,...o,ref:t})});TR.displayName=xq;function Eq(e){return bq.includes(e)}var PR=TR;const RR=_.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},o)=>m.jsx(PR,{ref:o,decorative:n,orientation:t,className:Oe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));RR.displayName=PR.displayName;const _q=({clearCacheAndRefetch:e})=>{const[t,n]=_.useState(!1),{toast:r}=kc(),{loadingPhase:o,subscriptions:i,scanProgress:l,isDoingInitialLoad:c,lastSync:u,conversations:f}=Dc(),p=async()=>{if(e){n(!0);try{await e(),r({title:"Cache cleared",description:"Refetching messages from relays..."}),n(!1)}catch(g){console.error("Error clearing cache:",g),r({title:"Error",description:"Failed to clear cache. Please try again.",variant:"destructive"}),n(!1)}}},w=(()=>{switch(o){case Tn.IDLE:return{label:"Idle",description:"Not yet initialized",icon:zn,color:"text-muted-foreground"};case Tn.CACHE:return{label:"Loading from cache",description:"Reading cached messages...",icon:AB,color:"text-blue-500"};case Tn.RELAYS:return{label:"Loading from relays",description:"Fetching messages from Nostr relays...",icon:qB,color:"text-yellow-500"};case Tn.SUBSCRIPTIONS:return{label:"Connecting subscriptions",description:"Setting up real-time message sync...",icon:pb,color:"text-orange-500"};case Tn.READY:return{label:"Ready",description:"All systems operational",icon:Wl,color:"text-green-500"};default:return{label:"Unknown",description:"Status unknown",icon:zn,color:"text-muted-foreground"}}})(),y=w.icon,b=g=>{if(!g)return"Never";const x=new Date(g*1e3),k=new Date().getTime()-x.getTime(),C=Math.floor(k/6e4);return C<1?"Just now":C<60?`${C}m ago`:C<1440?`${Math.floor(C/60)}h ago`:x.toLocaleDateString()};return m.jsxs("div",{className:"space-y-4",children:[m.jsx(kt,{children:m.jsx(Ft,{className:"pt-6",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(y,{className:`h-5 w-5 ${w.color} ${o!==Tn.READY?"animate-pulse":""}`}),m.jsxs("div",{className:"flex-1 space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"font-medium",children:w.label}),c&&m.jsx(wr,{variant:"secondary",className:"text-xs",children:"Initial Load"})]}),m.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]})]})})}),(l.nip4!==null||l.nip17!==null)&&m.jsx(kt,{children:m.jsx(Ft,{className:"pt-6",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:"text-sm font-medium",children:"Scanning Messages"}),l.nip4!==null&&m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs",children:[m.jsx("span",{className:"text-muted-foreground",children:"NIP-4 (Legacy)"}),m.jsxs("span",{className:"text-muted-foreground",children:[l.nip4.current," events"]})]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip4.status})]}),l.nip17!==null&&m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs",children:[m.jsx("span",{className:"text-muted-foreground",children:"NIP-17 (Private)"}),m.jsxs("span",{className:"text-muted-foreground",children:[l.nip17.current," events"]})]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:l.nip17.status})]})]})})}),m.jsx(kt,{children:m.jsx(Ft,{className:"pt-6",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:"text-sm font-medium",children:"Real-time Subscriptions"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-4 (Legacy DMs)"}),m.jsx(wr,{variant:i.isNIP4Connected?"default":"secondary",children:i.isNIP4Connected?"Connected":"Disconnected"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"NIP-17 (Private DMs)"}),m.jsx(wr,{variant:i.isNIP17Connected?"default":"secondary",children:i.isNIP17Connected?"Connected":"Disconnected"})]})]})]})})}),m.jsx(kt,{children:m.jsx(Ft,{className:"pt-6",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:"text-sm font-medium",children:"Cache Information"}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),m.jsx("span",{className:"font-medium",children:f.length})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Last NIP-4 sync"}),m.jsx("span",{className:"font-medium",children:b(u.nip4)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Last NIP-17 sync"}),m.jsx("span",{className:"font-medium",children:b(u.nip17)})]})]})]})})}),e&&m.jsxs(m.Fragment,{children:[m.jsx(RR,{}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-sm font-medium",children:"Cache Management"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Clear all cached messages and refetch from relays. This will force a fresh sync."})]}),m.jsx(dt,{onClick:p,disabled:t,variant:"outline",className:"w-full",children:t?m.jsxs(m.Fragment,{children:[m.jsx(zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Clearing..."]}):m.jsxs(m.Fragment,{children:[m.jsx(pb,{className:"mr-2 h-4 w-4"}),"Clear Cache & Refetch"]})})]})]})]})},fd=768;function Sq(){const[e,t]=_.useState(window.innerWidth<fd);return _.useEffect(()=>{const n=window.matchMedia(`(max-width: ${fd-1}px)`),r=()=>{t(window.innerWidth<fd)};return n.addEventListener("change",r),t(window.innerWidth<fd),()=>n.removeEventListener("change",r)},[]),!!e}const kq=({className:e})=>{const[t,n]=_.useState(null),[r,o]=_.useState(!1),i=Sq(),{clearCacheAndRefetch:l}=Dc(),c=!i||!t,u=!i||t,f=_.useCallback(h=>{n(h)},[]),p=_.useCallback(()=>{n(null)},[]);return m.jsxs(m.Fragment,{children:[m.jsx(jf,{open:r,onOpenChange:o,children:m.jsxs(Ic,{className:"max-w-md",children:[m.jsxs(jc,{children:[m.jsx(Of,{children:"Messaging Status"}),m.jsx(Ov,{children:"View loading status, cache info, and connection details"})]}),m.jsx(_q,{clearCacheAndRefetch:l})]})}),m.jsxs("div",{className:Oe("flex gap-4 overflow-hidden",e),children:[m.jsx("div",{className:Oe("md:w-80 md:flex-shrink-0",i&&!c&&"hidden",i&&c&&"w-full"),children:m.jsx(DZ,{selectedPubkey:t,onSelectConversation:f,className:"h-full",onStatusClick:()=>o(!0)})}),m.jsx("div",{className:Oe("flex-1 md:min-w-0",i&&!u&&"hidden",i&&u&&"w-full"),children:m.jsx(wq,{pubkey:t,onBack:i?p:void 0,className:"h-full"})})]})]})},Cq=()=>(Va({title:"Messages",description:"Private encrypted messaging on Nostr"}),m.jsx("div",{className:"min-h-screen bg-background",children:m.jsxs("div",{className:"container mx-auto p-4 h-screen flex flex-col",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsx("h1",{className:"text-2xl font-semibold",children:"Messages"})}),m.jsx(kq,{className:"flex-1"})]})}));function Nq(){const{nip19:e}=AC();Va({title:"NIP-19"});const{nostr:t}=$n();if(!e)return m.jsx("div",{className:"container mx-auto p-6",children:"Invalid identifier"});let n;try{n=yn.decode(e)}catch{return m.jsx("div",{className:"container mx-auto p-6",children:"Invalid NIP-19 identifier"})}const{type:r,data:o}=n,i=Fr({queryKey:["nip19",e,"profile"],enabled:r==="npub"||r==="nprofile",queryFn:async()=>{const f=(o==null?void 0:o.pubkey)??o;if(!f)return null;const p=await t.query([{kinds:[0],authors:[f],limit:1}]),h=p==null?void 0:p[0];if(!h)return{pubkey:f};try{const w=JSON.parse(h.content||"{}");return{pubkey:f,metadata:w}}catch{return{pubkey:f}}}}),l=Fr({queryKey:["nip19",e,"note"],enabled:r==="note",queryFn:async()=>{const f=o;if(!f)return null;const p=await t.query([{ids:[f],kinds:[1],limit:1}]);return(p==null?void 0:p[0])??null}}),c=Fr({queryKey:["nip19",e,"event"],enabled:r==="nevent",queryFn:async()=>{const f=(o==null?void 0:o.id)??o;if(!f)return null;const p=await t.query([{ids:[f],limit:1}]);return(p==null?void 0:p[0])??null}}),u=Fr({queryKey:["nip19",e,"naddr"],enabled:r==="naddr",queryFn:async()=>{const f=o;if(!f)return null;const p=f.kind,h=f.pubkey,w=f.identifier,y=await t.query([{kinds:[p],authors:[h],"#d":[w],limit:1}]);return(y==null?void 0:y[0])??null}});if(r==="npub"||r==="nprofile"){const f=i.data;return i.isFetched?m.jsx("div",{className:"container mx-auto p-6",children:m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),m.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["pubkey: ",m.jsx("code",{children:f==null?void 0:f.pubkey})]}),f!=null&&f.metadata?m.jsxs("div",{className:"space-y-2",children:[m.jsx("img",{src:f.metadata.picture,alt:"avatar",className:"w-28 h-28 rounded-full"}),m.jsx("h2",{className:"text-xl font-semibold",children:f.metadata.display_name??f.metadata.name}),m.jsx("p",{className:"text-sm text-muted-foreground",children:f.metadata.about}),f.metadata.website&&m.jsx("p",{children:m.jsx("a",{href:f.metadata.website,target:"_blank",rel:"noreferrer",className:"text-primary",children:"Website"})})]}):m.jsx("p",{children:"No metadata available."})]})}):m.jsx("div",{className:"container mx-auto p-6",children:"Loading profile"})}if(r==="note"){const f=l.data;return l.isLoading?m.jsx("div",{className:"container mx-auto p-6",children:"Loading note"}):f?m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Text Note"}),m.jsx("div",{className:"prose max-w-none whitespace-pre-wrap",children:m.jsx(cy,{event:f})}),m.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",m.jsx(Pn,{to:`/${yn.encode({type:"npub",data:f.pubkey})}`,children:f.pubkey})]})]}):m.jsx("div",{className:"container mx-auto p-6",children:"Note not found"})}if(r==="nevent"){const f=c.data;return c.isLoading?m.jsx("div",{className:"container mx-auto p-6",children:"Loading event"}):f?m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsxs("h1",{className:"text-xl font-semibold",children:["Event (kind: ",f.kind,")"]}),m.jsx("div",{className:"mt-4 prose max-w-none whitespace-pre-wrap",children:f.kind===1?m.jsx(cy,{event:f}):m.jsx("pre",{children:f.content})}),m.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",m.jsx("code",{children:f.pubkey})]})]}):m.jsx("div",{className:"container mx-auto p-6",children:"Event not found"})}if(r==="naddr"){const f=u.data;if(u.isLoading)return m.jsx("div",{className:"container mx-auto p-6",children:"Loading addressable event"});if(!f)return m.jsx("div",{className:"container mx-auto p-6",children:"Addressable event not found"});if(f.kind===30402){const p=Gv(f);return p?m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsx("h1",{className:"text-2xl font-semibold",children:p.title}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",m.jsx("code",{children:p.pubkey})]}),m.jsx("p",{className:"mt-2",children:p.description}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("p",{children:["Dimensions: ",p.dimensions]}),m.jsxs("p",{children:["Fee: ",p.price," ",p.currency]}),m.jsxs("p",{children:["Status: ",p.status]}),m.jsx(Pn,{to:`/locker/${e}`,className:"text-primary",children:"Open Locker Page"})]})]}):m.jsx("div",{className:"container mx-auto p-6",children:"Invalid locker event"})}return m.jsxs("div",{className:"container mx-auto p-6",children:[m.jsx("h1",{className:"text-xl font-semibold",children:"Addressable Event"}),m.jsx("pre",{className:"mt-4 whitespace-pre-wrap",children:f.content}),m.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Author: ",m.jsx("code",{children:f.pubkey})]})]})}return m.jsx("div",{className:"container mx-auto p-6",children:"Unsupported identifier type"})}const Tq=()=>{const e=xi();return Va({title:"404 - Page Not Found",description:"The page you are looking for could not be found. Return to the home page to continue browsing."}),_.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"404"}),m.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})};function Pq(){return m.jsxs(F7,{basename:"/nostr-dead-drop-lockers",children:[m.jsx(W7,{}),m.jsx(YW,{}),m.jsxs(j7,{children:[m.jsx(oo,{path:"/",element:m.jsx(hZ,{})}),m.jsx(oo,{path:"/marketplace",element:m.jsx(lZ,{})}),m.jsx(oo,{path:"/snapshot",element:m.jsx(fZ,{})}),m.jsx(oo,{path:"/dashboard",element:m.jsx(xZ,{})}),m.jsx(oo,{path:"/messages",element:m.jsx(Cq,{})}),m.jsx(oo,{path:"/locker/:nip19",element:m.jsx(BV,{})}),m.jsx(oo,{path:"/:nip19",element:m.jsx(Nq,{})}),m.jsx(oo,{path:"*",element:m.jsx(Tq,{})})]})]})}const Rq=b2({plugins:[qI()]}),Aq=new rI({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4,gcTime:1/0}}}),Iq={theme:"light",relayMetadata:{relays:[{url:"wss://relay.ditto.pub",read:!0,write:!0},{url:"wss://relay.nostr.band",read:!0,write:!0},{url:"wss://relay.damus.io",read:!0,write:!0}],updatedAt:0}};function jq(){return m.jsx(UI,{head:Rq,children:m.jsx(oU,{storageKey:"nostr:app-config",defaultConfig:Iq,children:m.jsx(lI,{client:Aq,children:m.jsx(Ez,{storageKey:"nostr:login",children:m.jsxs(_z,{children:[m.jsx(Sz,{}),m.jsx(FU,{children:m.jsxs(ai,{children:[m.jsx(PF,{}),m.jsx(_.Suspense,{children:m.jsx(Pq,{})})]})})]})})})})})}M4.createRoot(document.getElementById("root")).render(m.jsx($4,{children:m.jsx(jq,{})}));
