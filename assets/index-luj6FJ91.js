var eT=Object.defineProperty;var Uw=e=>{throw TypeError(e)};var tT=(e,t,n)=>t in e?eT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ze=(e,t,n)=>tT(e,typeof t!="symbol"?t+"":t,n),Eg=(e,t,n)=>t.has(e)||Uw("Cannot "+n);var ue=(e,t,n)=>(Eg(e,t,"read from private field"),n?n.call(e):t.get(e)),tt=(e,t,n)=>t.has(e)?Uw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ve=(e,t,n,r)=>(Eg(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),_t=(e,t,n)=>(Eg(e,t,"access private method"),n);var rh=(e,t,n,r)=>({set _(i){Ve(e,t,i,n)},get _(){return ue(e,t,r)}});function nT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kg={exports:{}},$u={},Sg={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function rT(){if(Zw)return Nt;Zw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,x={};function b(F,K,Ne){this.props=F,this.context=K,this.refs=x,this.updater=Ne||_}b.prototype.isReactComponent={},b.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function S(){}S.prototype=b.prototype;function j(F,K,Ne){this.props=F,this.context=K,this.refs=x,this.updater=Ne||_}var R=j.prototype=new S;R.constructor=j,k(R,b.prototype),R.isPureReactComponent=!0;var D=Array.isArray,B=Object.prototype.hasOwnProperty,q={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function J(F,K,Ne){var be,xe={},Re=null,Ue=null;if(K!=null)for(be in K.ref!==void 0&&(Ue=K.ref),K.key!==void 0&&(Re=""+K.key),K)B.call(K,be)&&!G.hasOwnProperty(be)&&(xe[be]=K[be]);var De=arguments.length-2;if(De===1)xe.children=Ne;else if(1<De){for(var Fe=Array(De),ot=0;ot<De;ot++)Fe[ot]=arguments[ot+2];xe.children=Fe}if(F&&F.defaultProps)for(be in De=F.defaultProps,De)xe[be]===void 0&&(xe[be]=De[be]);return{$$typeof:e,type:F,key:Re,ref:Ue,props:xe,_owner:q.current}}function V(F,K){return{$$typeof:e,type:F.type,key:K,ref:F.ref,props:F.props,_owner:F._owner}}function Y(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function Q(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Ne){return K[Ne]})}var $=/\/+/g;function re(F,K){return typeof F=="object"&&F!==null&&F.key!=null?Q(""+F.key):K.toString(36)}function M(F,K,Ne,be,xe){var Re=typeof F;(Re==="undefined"||Re==="boolean")&&(F=null);var Ue=!1;if(F===null)Ue=!0;else switch(Re){case"string":case"number":Ue=!0;break;case"object":switch(F.$$typeof){case e:case t:Ue=!0}}if(Ue)return Ue=F,xe=xe(Ue),F=be===""?"."+re(Ue,0):be,D(xe)?(Ne="",F!=null&&(Ne=F.replace($,"$&/")+"/"),M(xe,K,Ne,"",function(ot){return ot})):xe!=null&&(Y(xe)&&(xe=V(xe,Ne+(!xe.key||Ue&&Ue.key===xe.key?"":(""+xe.key).replace($,"$&/")+"/")+F)),K.push(xe)),1;if(Ue=0,be=be===""?".":be+":",D(F))for(var De=0;De<F.length;De++){Re=F[De];var Fe=be+re(Re,De);Ue+=M(Re,K,Ne,Fe,xe)}else if(Fe=E(F),typeof Fe=="function")for(F=Fe.call(F),De=0;!(Re=F.next()).done;)Re=Re.value,Fe=be+re(Re,De++),Ue+=M(Re,K,Ne,Fe,xe);else if(Re==="object")throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ue}function W(F,K,Ne){if(F==null)return F;var be=[],xe=0;return M(F,be,"","",function(Re){return K.call(Ne,Re,xe++)}),be}function ae(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(Ne){(F._status===0||F._status===-1)&&(F._status=1,F._result=Ne)},function(Ne){(F._status===0||F._status===-1)&&(F._status=2,F._result=Ne)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var se={current:null},ne={transition:null},ee={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:ne,ReactCurrentOwner:q};function le(){throw Error("act(...) is not supported in production builds of React.")}return Nt.Children={map:W,forEach:function(F,K,Ne){W(F,function(){K.apply(this,arguments)},Ne)},count:function(F){var K=0;return W(F,function(){K++}),K},toArray:function(F){return W(F,function(K){return K})||[]},only:function(F){if(!Y(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Nt.Component=b,Nt.Fragment=n,Nt.Profiler=i,Nt.PureComponent=j,Nt.StrictMode=r,Nt.Suspense=h,Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Nt.act=le,Nt.cloneElement=function(F,K,Ne){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var be=k({},F.props),xe=F.key,Re=F.ref,Ue=F._owner;if(K!=null){if(K.ref!==void 0&&(Re=K.ref,Ue=q.current),K.key!==void 0&&(xe=""+K.key),F.type&&F.type.defaultProps)var De=F.type.defaultProps;for(Fe in K)B.call(K,Fe)&&!G.hasOwnProperty(Fe)&&(be[Fe]=K[Fe]===void 0&&De!==void 0?De[Fe]:K[Fe])}var Fe=arguments.length-2;if(Fe===1)be.children=Ne;else if(1<Fe){De=Array(Fe);for(var ot=0;ot<Fe;ot++)De[ot]=arguments[ot+2];be.children=De}return{$$typeof:e,type:F.type,key:xe,ref:Re,props:be,_owner:Ue}},Nt.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},Nt.createElement=J,Nt.createFactory=function(F){var K=J.bind(null,F);return K.type=F,K},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(F){return{$$typeof:d,render:F}},Nt.isValidElement=Y,Nt.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ae}},Nt.memo=function(F,K){return{$$typeof:m,type:F,compare:K===void 0?null:K}},Nt.startTransition=function(F){var K=ne.transition;ne.transition={};try{F()}finally{ne.transition=K}},Nt.unstable_act=le,Nt.useCallback=function(F,K){return se.current.useCallback(F,K)},Nt.useContext=function(F){return se.current.useContext(F)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(F){return se.current.useDeferredValue(F)},Nt.useEffect=function(F,K){return se.current.useEffect(F,K)},Nt.useId=function(){return se.current.useId()},Nt.useImperativeHandle=function(F,K,Ne){return se.current.useImperativeHandle(F,K,Ne)},Nt.useInsertionEffect=function(F,K){return se.current.useInsertionEffect(F,K)},Nt.useLayoutEffect=function(F,K){return se.current.useLayoutEffect(F,K)},Nt.useMemo=function(F,K){return se.current.useMemo(F,K)},Nt.useReducer=function(F,K,Ne){return se.current.useReducer(F,K,Ne)},Nt.useRef=function(F){return se.current.useRef(F)},Nt.useState=function(F){return se.current.useState(F)},Nt.useSyncExternalStore=function(F,K,Ne){return se.current.useSyncExternalStore(F,K,Ne)},Nt.useTransition=function(){return se.current.useTransition()},Nt.version="18.3.1",Nt}var Hw;function cp(){return Hw||(Hw=1,Sg.exports=rT()),Sg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function iT(){if(Ww)return $u;Ww=1;var e=cp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var y,g={},E=null,_=null;m!==void 0&&(E=""+m),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(_=h.ref);for(y in h)r.call(h,y)&&!l.hasOwnProperty(y)&&(g[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)g[y]===void 0&&(g[y]=h[y]);return{$$typeof:t,type:d,key:E,ref:_,props:g,_owner:i.current}}return $u.Fragment=n,$u.jsx=u,$u.jsxs=u,$u}var Vw;function sT(){return Vw||(Vw=1,kg.exports=iT()),kg.exports}var c=sT(),sh={},Ng={exports:{}},dr={},Cg={exports:{}},jg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw;function oT(){return qw||(qw=1,function(e){function t(ne,ee){var le=ne.length;ne.push(ee);e:for(;0<le;){var F=le-1>>>1,K=ne[F];if(0<i(K,ee))ne[F]=ee,ne[le]=K,le=F;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var ee=ne[0],le=ne.pop();if(le!==ee){ne[0]=le;e:for(var F=0,K=ne.length,Ne=K>>>1;F<Ne;){var be=2*(F+1)-1,xe=ne[be],Re=be+1,Ue=ne[Re];if(0>i(xe,le))Re<K&&0>i(Ue,xe)?(ne[F]=Ue,ne[Re]=le,F=Re):(ne[F]=xe,ne[be]=le,F=be);else if(Re<K&&0>i(Ue,le))ne[F]=Ue,ne[Re]=le,F=Re;else break e}}return ee}function i(ne,ee){var le=ne.sortIndex-ee.sortIndex;return le!==0?le:ne.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var h=[],m=[],y=1,g=null,E=3,_=!1,k=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ne){for(var ee=n(m);ee!==null;){if(ee.callback===null)r(m);else if(ee.startTime<=ne)r(m),ee.sortIndex=ee.expirationTime,t(h,ee);else break;ee=n(m)}}function D(ne){if(x=!1,R(ne),!k)if(n(h)!==null)k=!0,ae(B);else{var ee=n(m);ee!==null&&se(D,ee.startTime-ne)}}function B(ne,ee){k=!1,x&&(x=!1,S(J),J=-1),_=!0;var le=E;try{for(R(ee),g=n(h);g!==null&&(!(g.expirationTime>ee)||ne&&!Q());){var F=g.callback;if(typeof F=="function"){g.callback=null,E=g.priorityLevel;var K=F(g.expirationTime<=ee);ee=e.unstable_now(),typeof K=="function"?g.callback=K:g===n(h)&&r(h),R(ee)}else r(h);g=n(h)}if(g!==null)var Ne=!0;else{var be=n(m);be!==null&&se(D,be.startTime-ee),Ne=!1}return Ne}finally{g=null,E=le,_=!1}}var q=!1,G=null,J=-1,V=5,Y=-1;function Q(){return!(e.unstable_now()-Y<V)}function $(){if(G!==null){var ne=e.unstable_now();Y=ne;var ee=!0;try{ee=G(!0,ne)}finally{ee?re():(q=!1,G=null)}}else q=!1}var re;if(typeof j=="function")re=function(){j($)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,W=M.port2;M.port1.onmessage=$,re=function(){W.postMessage(null)}}else re=function(){b($,0)};function ae(ne){G=ne,q||(q=!0,re())}function se(ne,ee){J=b(function(){ne(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){k||_||(k=!0,ae(B))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(ne){switch(E){case 1:case 2:case 3:var ee=3;break;default:ee=E}var le=E;E=ee;try{return ne()}finally{E=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,ee){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=E;E=ne;try{return ee()}finally{E=le}},e.unstable_scheduleCallback=function(ne,ee,le){var F=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?F+le:F):le=F,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=le+K,ne={id:y++,callback:ee,priorityLevel:ne,startTime:le,expirationTime:K,sortIndex:-1},le>F?(ne.sortIndex=le,t(m,ne),n(h)===null&&ne===n(m)&&(x?(S(J),J=-1):x=!0,se(D,le-F))):(ne.sortIndex=K,t(h,ne),k||_||(k=!0,ae(B))),ne},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(ne){var ee=E;return function(){var le=E;E=ee;try{return ne.apply(this,arguments)}finally{E=le}}}}(jg)),jg}var Kw;function aT(){return Kw||(Kw=1,Cg.exports=oT()),Cg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function lT(){if(Gw)return dr;Gw=1;var e=cp(),t=aT();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)a+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function l(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function E(s){return h.call(g,s)?!0:h.call(y,s)?!1:m.test(s)?g[s]=!0:(y[s]=!0,!1)}function _(s,a,p,w){if(p!==null&&p.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return w?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,a,p,w){if(a===null||typeof a>"u"||_(s,a,p,w))return!0;if(w)return!1;if(p!==null)switch(p.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function x(s,a,p,w,C,A,U){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=w,this.attributeNamespace=C,this.mustUseProperty=p,this.propertyName=s,this.type=a,this.sanitizeURL=A,this.removeEmptyString=U}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new x(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(S,j);b[a]=new x(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(S,j);b[a]=new x(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(S,j);b[a]=new x(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,a,p,w){var C=b.hasOwnProperty(a)?b[a]:null;(C!==null?C.type!==0:w||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,p,C,w)&&(p=null),w||C===null?E(a)&&(p===null?s.removeAttribute(a):s.setAttribute(a,""+p)):C.mustUseProperty?s[C.propertyName]=p===null?C.type===3?!1:"":p:(a=C.attributeName,w=C.attributeNamespace,p===null?s.removeAttribute(a):(C=C.type,p=C===3||C===4&&p===!0?"":""+p,w?s.setAttributeNS(w,a,p):s.setAttribute(a,p))))}var D=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),q=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Q=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,F;function K(s){if(F===void 0)try{throw Error()}catch(p){var a=p.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+s}var Ne=!1;function be(s,a){if(!s||Ne)return"";Ne=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Ee){var w=Ee}Reflect.construct(s,[],a)}else{try{a.call()}catch(Ee){w=Ee}s.call(a.prototype)}else{try{throw Error()}catch(Ee){w=Ee}s()}}catch(Ee){if(Ee&&w&&typeof Ee.stack=="string"){for(var C=Ee.stack.split(`
`),A=w.stack.split(`
`),U=C.length-1,oe=A.length-1;1<=U&&0<=oe&&C[U]!==A[oe];)oe--;for(;1<=U&&0<=oe;U--,oe--)if(C[U]!==A[oe]){if(U!==1||oe!==1)do if(U--,oe--,0>oe||C[U]!==A[oe]){var de=`
`+C[U].replace(" at new "," at ");return s.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",s.displayName)),de}while(1<=U&&0<=oe);break}}}finally{Ne=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?K(s):""}function xe(s){switch(s.tag){case 5:return K(s.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function Re(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case G:return"Fragment";case q:return"Portal";case V:return"Profiler";case J:return"StrictMode";case re:return"Suspense";case M:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Q:return(s.displayName||"Context")+".Consumer";case Y:return(s._context.displayName||"Context")+".Provider";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case W:return a=s.displayName||null,a!==null?a:Re(s.type)||"Memo";case ae:a=s._payload,s=s._init;try{return Re(s(a))}catch{}}return null}function Ue(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(a);case 8:return a===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function De(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ot(s){var a=Fe(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),w=""+s[a];if(!s.hasOwnProperty(a)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,A=p.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return C.call(this)},set:function(U){w=""+U,A.call(this,U)}}),Object.defineProperty(s,a,{enumerable:p.enumerable}),{getValue:function(){return w},setValue:function(U){w=""+U},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function St(s){s._valueTracker||(s._valueTracker=ot(s))}function Ot(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var p=a.getValue(),w="";return s&&(w=Fe(s)?s.checked?"true":"false":s.value),s=w,s!==p?(a.setValue(s),!0):!1}function gt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function z(s,a){var p=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function Ce(s,a){var p=a.defaultValue==null?"":a.defaultValue,w=a.checked!=null?a.checked:a.defaultChecked;p=De(a.value!=null?a.value:p),s._wrapperState={initialChecked:w,initialValue:p,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ke(s,a){a=a.checked,a!=null&&R(s,"checked",a,!1)}function ie(s,a){ke(s,a);var p=De(a.value),w=a.type;if(p!=null)w==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(w==="submit"||w==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?pe(s,a.type,p):a.hasOwnProperty("defaultValue")&&pe(s,a.type,De(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function te(s,a,p){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var w=a.type;if(!(w!=="submit"&&w!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,p||a===s.value||(s.value=a),s.defaultValue=a}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function pe(s,a,p){(a!=="number"||gt(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var Pe=Array.isArray;function Te(s,a,p,w){if(s=s.options,a){a={};for(var C=0;C<p.length;C++)a["$"+p[C]]=!0;for(p=0;p<s.length;p++)C=a.hasOwnProperty("$"+s[p].value),s[p].selected!==C&&(s[p].selected=C),C&&w&&(s[p].defaultSelected=!0)}else{for(p=""+De(p),a=null,C=0;C<s.length;C++){if(s[C].value===p){s[C].selected=!0,w&&(s[C].defaultSelected=!0);return}a!==null||s[C].disabled||(a=s[C])}a!==null&&(a.selected=!0)}}function me(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Me(s,a){var p=a.value;if(p==null){if(p=a.children,a=a.defaultValue,p!=null){if(a!=null)throw Error(n(92));if(Pe(p)){if(1<p.length)throw Error(n(93));p=p[0]}a=p}a==null&&(a=""),p=a}s._wrapperState={initialValue:De(p)}}function We(s,a){var p=De(a.value),w=De(a.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),a.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),w!=null&&(s.defaultValue=""+w)}function Oe(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Qe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Qe(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var P,I=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,p,w,C){MSApp.execUnsafeLocalFunction(function(){return s(a,p,w,C)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(P=P||document.createElement("div"),P.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=P.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function X(s,a){if(a){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=a;return}}s.textContent=a}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];Object.keys(fe).forEach(function(s){we.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),fe[a]=fe[s]})});function Se(s,a,p){return a==null||typeof a=="boolean"||a===""?"":p||typeof a!="number"||a===0||fe.hasOwnProperty(s)&&fe[s]?(""+a).trim():a+"px"}function dt(s,a){s=s.style;for(var p in a)if(a.hasOwnProperty(p)){var w=p.indexOf("--")===0,C=Se(p,a[p],w);p==="float"&&(p="cssFloat"),w?s.setProperty(p,C):s[p]=C}}var Dt=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(s,a){if(a){if(Dt[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Pt(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=null;function sa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Bs=null,Ir=null,Vn=null;function qi(s){if(s=ss(s)){if(typeof Bs!="function")throw Error(n(280));var a=s.stateNode;a&&(a=zl(a),Bs(s.stateNode,s.type,a))}}function Bd(s){Ir?Vn?Vn.push(s):Vn=[s]:Ir=s}function Fd(){if(Ir){var s=Ir,a=Vn;if(Vn=Ir=null,qi(s),a)for(s=0;s<a.length;s++)qi(a[s])}}function $d(s,a){return s(a)}function Ud(){}var Yc=!1;function dl(s,a,p){if(Yc)return s(a,p);Yc=!0;try{return $d(s,a,p)}finally{Yc=!1,(Ir!==null||Vn!==null)&&(Ud(),Fd())}}function oa(s,a){var p=s.stateNode;if(p===null)return null;var w=zl(p);if(w===null)return null;p=w[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(s=s.type,w=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!w;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,a,typeof p));return p}var Jc=!1;if(d)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){Jc=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{Jc=!1}function em(s,a,p,w,C,A,U,oe,de){var Ee=Array.prototype.slice.call(arguments,3);try{a.apply(p,Ee)}catch(Le){this.onError(Le)}}var Ln=!1,Xe=null,la=!1,fl=null,Zd={onError:function(s){Ln=!0,Xe=s}};function Hd(s,a,p,w,C,A,U,oe,de){Ln=!1,Xe=null,em.apply(Zd,arguments)}function Qc(s,a,p,w,C,A,U,oe,de){if(Hd.apply(this,arguments),Ln){if(Ln){var Ee=Xe;Ln=!1,Xe=null}else throw Error(n(198));la||(la=!0,fl=Ee)}}function wi(s){var a=s,p=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(p=a.return),s=a.return;while(s)}return a.tag===3?p:null}function Ki(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Xc(s){if(wi(s)!==s)throw Error(n(188))}function tm(s){var a=s.alternate;if(!a){if(a=wi(s),a===null)throw Error(n(188));return a!==s?null:s}for(var p=s,w=a;;){var C=p.return;if(C===null)break;var A=C.alternate;if(A===null){if(w=C.return,w!==null){p=w;continue}break}if(C.child===A.child){for(A=C.child;A;){if(A===p)return Xc(C),s;if(A===w)return Xc(C),a;A=A.sibling}throw Error(n(188))}if(p.return!==w.return)p=C,w=A;else{for(var U=!1,oe=C.child;oe;){if(oe===p){U=!0,p=C,w=A;break}if(oe===w){U=!0,w=C,p=A;break}oe=oe.sibling}if(!U){for(oe=A.child;oe;){if(oe===p){U=!0,p=A,w=C;break}if(oe===w){U=!0,w=A,p=C;break}oe=oe.sibling}if(!U)throw Error(n(189))}}if(p.alternate!==w)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:a}function Wd(s){return s=tm(s),s!==null?Vd(s):null}function Vd(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Vd(s);if(a!==null)return a;s=s.sibling}return null}var qd=t.unstable_scheduleCallback,eu=t.unstable_cancelCallback,nm=t.unstable_shouldYield,hl=t.unstable_requestPaint,on=t.unstable_now,rm=t.unstable_getCurrentPriorityLevel,tu=t.unstable_ImmediatePriority,Kd=t.unstable_UserBlockingPriority,pl=t.unstable_NormalPriority,nu=t.unstable_LowPriority,Fs=t.unstable_IdlePriority,ca=null,vr=null;function ua(s){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(ca,s,void 0,(s.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:$s,Kt=Math.log,ml=Math.LN2;function $s(s){return s>>>=0,s===0?32:31-(Kt(s)/ml|0)|0}var ti=64,Us=4194304;function pt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Vt(s,a){var p=s.pendingLanes;if(p===0)return 0;var w=0,C=s.suspendedLanes,A=s.pingedLanes,U=p&268435455;if(U!==0){var oe=U&~C;oe!==0?w=pt(oe):(A&=U,A!==0&&(w=pt(A)))}else U=p&~C,U!==0?w=pt(U):A!==0&&(w=pt(A));if(w===0)return 0;if(a!==0&&a!==w&&(a&C)===0&&(C=w&-w,A=a&-a,C>=A||C===16&&(A&4194240)!==0))return a;if((w&4)!==0&&(w|=p&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=w;0<a;)p=31-xt(a),C=1<<p,w|=s[p],a&=~C;return w}function ru(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gl(s,a){for(var p=s.suspendedLanes,w=s.pingedLanes,C=s.expirationTimes,A=s.pendingLanes;0<A;){var U=31-xt(A),oe=1<<U,de=C[U];de===-1?((oe&p)===0||(oe&w)!==0)&&(C[U]=ru(oe,a)):de<=a&&(s.expiredLanes|=oe),A&=~oe}}function On(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Gd(){var s=ti;return ti<<=1,(ti&4194240)===0&&(ti=64),s}function Zs(s){for(var a=[],p=0;31>p;p++)a.push(s);return a}function xr(s,a,p){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-xt(a),s[a]=p}function fn(s,a){var p=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var w=s.eventTimes;for(s=s.expirationTimes;0<p;){var C=31-xt(p),A=1<<C;a[C]=0,w[C]=-1,s[C]=-1,p&=~A}}function ni(s,a){var p=s.entangledLanes|=a;for(s=s.entanglements;p;){var w=31-xt(p),C=1<<w;C&a|s[w]&a&&(s[w]|=a),p&=~C}}var At=0;function Hs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var yl,Gi,vl,xl,da,fa=!1,Ws=[],wr=null,ri=null,Lr=null,ha=new Map,ft=new Map,_n=[],Zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iu(s,a){switch(s){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":ha.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(a.pointerId)}}function Yi(s,a,p,w,C,A){return s===null||s.nativeEvent!==A?(s={blockedOn:a,domEventName:p,eventSystemFlags:w,nativeEvent:A,targetContainers:[C]},a!==null&&(a=ss(a),a!==null&&Gi(a)),s):(s.eventSystemFlags|=w,a=s.targetContainers,C!==null&&a.indexOf(C)===-1&&a.push(C),s)}function su(s,a,p,w,C){switch(a){case"focusin":return wr=Yi(wr,s,a,p,w,C),!0;case"dragenter":return ri=Yi(ri,s,a,p,w,C),!0;case"mouseover":return Lr=Yi(Lr,s,a,p,w,C),!0;case"pointerover":var A=C.pointerId;return ha.set(A,Yi(ha.get(A)||null,s,a,p,w,C)),!0;case"gotpointercapture":return A=C.pointerId,ft.set(A,Yi(ft.get(A)||null,s,a,p,w,C)),!0}return!1}function wl(s){var a=is(s.target);if(a!==null){var p=wi(a);if(p!==null){if(a=p.tag,a===13){if(a=Ki(p),a!==null){s.blockedOn=a,da(s.priority,function(){vl(p)});return}}else if(a===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Or(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var p=El(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var w=new p.constructor(p.type,p);Tt=w,p.target.dispatchEvent(w),Tt=null}else return a=ss(p),a!==null&&Gi(a),s.blockedOn=p,!1;a.shift()}return!0}function _l(s,a,p){Or(s)&&p.delete(a)}function pa(){fa=!1,wr!==null&&Or(wr)&&(wr=null),ri!==null&&Or(ri)&&(ri=null),Lr!==null&&Or(Lr)&&(Lr=null),ha.forEach(_l),ft.forEach(_l)}function an(s,a){s.blockedOn===a&&(s.blockedOn=null,fa||(fa=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pa)))}function _r(s){function a(C){return an(C,s)}if(0<Ws.length){an(Ws[0],s);for(var p=1;p<Ws.length;p++){var w=Ws[p];w.blockedOn===s&&(w.blockedOn=null)}}for(wr!==null&&an(wr,s),ri!==null&&an(ri,s),Lr!==null&&an(Lr,s),ha.forEach(a),ft.forEach(a),p=0;p<_n.length;p++)w=_n[p],w.blockedOn===s&&(w.blockedOn=null);for(;0<_n.length&&(p=_n[0],p.blockedOn===null);)wl(p),p.blockedOn===null&&_n.shift()}var Ji=D.ReactCurrentBatchConfig,ma=!0;function im(s,a,p,w){var C=At,A=Ji.transition;Ji.transition=null;try{At=1,ga(s,a,p,w)}finally{At=C,Ji.transition=A}}function Yd(s,a,p,w){var C=At,A=Ji.transition;Ji.transition=null;try{At=4,ga(s,a,p,w)}finally{At=C,Ji.transition=A}}function ga(s,a,p,w){if(ma){var C=El(s,a,p,w);if(C===null)o(s,a,w,bl,p),iu(s,w);else if(su(C,s,a,p,w))w.stopPropagation();else if(iu(s,w),a&4&&-1<Zt.indexOf(s)){for(;C!==null;){var A=ss(C);if(A!==null&&yl(A),A=El(s,a,p,w),A===null&&o(s,a,w,bl,p),A===C)break;C=A}C!==null&&w.stopPropagation()}else o(s,a,w,null,p)}}var bl=null;function El(s,a,p,w){if(bl=null,s=sa(w),s=is(s),s!==null)if(a=wi(s),a===null)s=null;else if(p=a.tag,p===13){if(s=Ki(a),s!==null)return s;s=null}else if(p===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return bl=s,null}function Ct(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rm()){case tu:return 1;case Kd:return 4;case pl:case nu:return 16;case Fs:return 536870912;default:return 16}default:return 16}}var _i=null,qn=null,bi=null;function ou(){if(bi)return bi;var s,a=qn,p=a.length,w,C="value"in _i?_i.value:_i.textContent,A=C.length;for(s=0;s<p&&a[s]===C[s];s++);var U=p-s;for(w=1;w<=U&&a[p-w]===C[A-w];w++);return bi=C.slice(s,1<w?1-w:void 0)}function kl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Vs(){return!0}function Jd(){return!1}function Mn(s){function a(p,w,C,A,U){this._reactName=p,this._targetInst=C,this.type=w,this.nativeEvent=A,this.target=U,this.currentTarget=null;for(var oe in s)s.hasOwnProperty(oe)&&(p=s[oe],this[oe]=p?p(A):A[oe]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Vs:Jd,this.isPropagationStopped=Jd,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),a}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},au=Mn(qs),Qi=le({},qs,{view:0,detail:0}),sm=Mn(Qi),ir,lu,Ks,br=le({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ks&&(Ks&&s.type==="mousemove"?(ir=s.screenX-Ks.screenX,lu=s.screenY-Ks.screenY):lu=ir=0,Ks=s),ir)},movementY:function(s){return"movementY"in s?s.movementY:lu}}),cu=Mn(br),Qd=le({},br,{dataTransfer:0}),uu=Mn(Qd),om=le({},Qi,{relatedTarget:0}),Sl=Mn(om),Xd=le({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),am=Mn(Xd),lm=le({},qs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),du=Mn(lm),cm=le({},qs,{data:0}),fu=Mn(cm),ef={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function um(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Xi[s])?!!a[s]:!1}function es(){return um}var sr=le({},Qi,{key:function(s){if(s.key){var a=ef[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=kl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nl[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(s){return s.type==="keypress"?kl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?kl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),tf=Mn(sr),nf=le({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=Mn(nf),hu=le({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),pu=Mn(hu),dm=le({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),fm=Mn(dm),sf=le({},br,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),hm=Mn(sf),Er=[9,13,27,32],Ei=d&&"CompositionEvent"in window,ya=null;d&&"documentMode"in document&&(ya=document.documentMode);var ii=d&&"TextEvent"in window&&!ya,of=d&&(!Ei||ya&&8<ya&&11>=ya),ts=" ",af=!1;function Gs(s,a){switch(s){case"keyup":return Er.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var si=!1;function pm(s,a){switch(s){case"compositionend":return mu(a);case"keypress":return a.which!==32?null:(af=!0,ts);case"textInput":return s=a.data,s===ts&&af?null:s;default:return null}}function ki(s,a){if(si)return s==="compositionend"||!Ei&&Gs(s,a)?(s=ou(),bi=qn=_i=null,si=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return of&&a.locale!=="ko"?null:a.data;default:return null}}var Cl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Cl[s.type]:a==="textarea"}function jl(s,a,p,w){Bd(w),a=v(a,"onChange"),0<a.length&&(p=new au("onChange","change",null,p,w),s.push({event:p,listeners:a}))}var va=null,Kn=null;function mm(s){ku(s,0)}function oi(s){var a=os(s);if(Ot(a))return s}function gm(s,a){if(s==="change")return a}var Mr=!1;if(d){var Ys;if(d){var Pl="oninput"in document;if(!Pl){var Tl=document.createElement("div");Tl.setAttribute("oninput","return;"),Pl=typeof Tl.oninput=="function"}Ys=Pl}else Ys=!1;Mr=Ys&&(!document.documentMode||9<document.documentMode)}function xa(){va&&(va.detachEvent("onpropertychange",Al),Kn=va=null)}function Al(s){if(s.propertyName==="value"&&oi(Kn)){var a=[];jl(a,Kn,s,sa(s)),dl(mm,a)}}function Rl(s,a,p){s==="focusin"?(xa(),va=a,Kn=p,va.attachEvent("onpropertychange",Al)):s==="focusout"&&xa()}function Js(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return oi(Kn)}function Il(s,a){if(s==="click")return oi(a)}function gu(s,a){if(s==="input"||s==="change")return oi(a)}function cf(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var kr=typeof Object.is=="function"?Object.is:cf;function Si(s,a){if(kr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var p=Object.keys(s),w=Object.keys(a);if(p.length!==w.length)return!1;for(w=0;w<p.length;w++){var C=p[w];if(!h.call(a,C)||!kr(s[C],a[C]))return!1}return!0}function uf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function yu(s,a){var p=uf(s);s=0;for(var w;p;){if(p.nodeType===3){if(w=s+p.textContent.length,s<=a&&w>=a)return{node:p,offset:a-s};s=w}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=uf(p)}}function df(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?df(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function vu(){for(var s=window,a=gt();a instanceof s.HTMLIFrameElement;){try{var p=typeof a.contentWindow.location.href=="string"}catch{p=!1}if(p)s=a.contentWindow;else break;a=gt(s.document)}return a}function xu(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function zr(s){var a=vu(),p=s.focusedElem,w=s.selectionRange;if(a!==p&&p&&p.ownerDocument&&df(p.ownerDocument.documentElement,p)){if(w!==null&&xu(p)){if(a=w.start,s=w.end,s===void 0&&(s=a),"selectionStart"in p)p.selectionStart=a,p.selectionEnd=Math.min(s,p.value.length);else if(s=(a=p.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var C=p.textContent.length,A=Math.min(w.start,C);w=w.end===void 0?A:Math.min(w.end,C),!s.extend&&A>w&&(C=w,w=A,A=C),C=yu(p,A);var U=yu(p,w);C&&U&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==U.node||s.focusOffset!==U.offset)&&(a=a.createRange(),a.setStart(C.node,C.offset),s.removeAllRanges(),A>w?(s.addRange(a),s.extend(U.node,U.offset)):(a.setEnd(U.node,U.offset),s.addRange(a)))}}for(a=[],s=p;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<a.length;p++)s=a[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Ll=d&&"documentMode"in document&&11>=document.documentMode,Qs=null,Xs=null,wa=null,Ol=!1;function ff(s,a,p){var w=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Ol||Qs==null||Qs!==gt(w)||(w=Qs,"selectionStart"in w&&xu(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),wa&&Si(wa,w)||(wa=w,w=v(Xs,"onSelect"),0<w.length&&(a=new au("onSelect","select",null,a,p),s.push({event:a,listeners:w}),a.target=Qs)))}function Ni(s,a){var p={};return p[s.toLowerCase()]=a.toLowerCase(),p["Webkit"+s]="webkit"+a,p["Moz"+s]="moz"+a,p}var eo={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionend:Ni("Transition","TransitionEnd")},Ci={},wu={};d&&(wu=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function _a(s){if(Ci[s])return Ci[s];if(!eo[s])return s;var a=eo[s],p;for(p in a)if(a.hasOwnProperty(p)&&p in wu)return Ci[s]=a[p];return s}var hf=_a("animationend"),Dr=_a("animationiteration"),_u=_a("animationstart"),bu=_a("transitionend"),to=new Map,pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(s,a){to.set(s,a),l(a,[s])}for(var ns=0;ns<pf.length;ns++){var Ml=pf[ns],mf=Ml.toLowerCase(),ym=Ml[0].toUpperCase()+Ml.slice(1);Sr(mf,"on"+ym)}Sr(hf,"onAnimationEnd"),Sr(Dr,"onAnimationIteration"),Sr(_u,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(bu,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gf=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function Eu(s,a,p){var w=s.type||"unknown-event";s.currentTarget=p,Qc(w,a,void 0,s),s.currentTarget=null}function ku(s,a){a=(a&4)!==0;for(var p=0;p<s.length;p++){var w=s[p],C=w.event;w=w.listeners;e:{var A=void 0;if(a)for(var U=w.length-1;0<=U;U--){var oe=w[U],de=oe.instance,Ee=oe.currentTarget;if(oe=oe.listener,de!==A&&C.isPropagationStopped())break e;Eu(C,oe,Ee),A=de}else for(U=0;U<w.length;U++){if(oe=w[U],de=oe.instance,Ee=oe.currentTarget,oe=oe.listener,de!==A&&C.isPropagationStopped())break e;Eu(C,oe,Ee),A=de}}}if(la)throw s=fl,la=!1,fl=null,s}function Ht(s,a){var p=a[oo];p===void 0&&(p=a[oo]=new Set);var w=s+"__bubble";p.has(w)||(yf(a,s,2,!1),p.add(w))}function Su(s,a,p){var w=0;a&&(w|=4),yf(p,s,w,a)}var ba="_reactListening"+Math.random().toString(36).slice(2);function ro(s){if(!s[ba]){s[ba]=!0,r.forEach(function(p){p!=="selectionchange"&&(gf.has(p)||Su(p,!1,s),Su(p,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[ba]||(a[ba]=!0,Su("selectionchange",!1,a))}}function yf(s,a,p,w){switch(Ct(a)){case 1:var C=im;break;case 4:C=Yd;break;default:C=ga}p=C.bind(null,a,p,s),C=void 0,!Jc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(C=!0),w?C!==void 0?s.addEventListener(a,p,{capture:!0,passive:C}):s.addEventListener(a,p,!0):C!==void 0?s.addEventListener(a,p,{passive:C}):s.addEventListener(a,p,!1)}function o(s,a,p,w,C){var A=w;if((a&1)===0&&(a&2)===0&&w!==null)e:for(;;){if(w===null)return;var U=w.tag;if(U===3||U===4){var oe=w.stateNode.containerInfo;if(oe===C||oe.nodeType===8&&oe.parentNode===C)break;if(U===4)for(U=w.return;U!==null;){var de=U.tag;if((de===3||de===4)&&(de=U.stateNode.containerInfo,de===C||de.nodeType===8&&de.parentNode===C))return;U=U.return}for(;oe!==null;){if(U=is(oe),U===null)return;if(de=U.tag,de===5||de===6){w=A=U;continue e}oe=oe.parentNode}}w=w.return}dl(function(){var Ee=A,Le=sa(p),ze=[];e:{var Ie=to.get(s);if(Ie!==void 0){var qe=au,Ye=s;switch(s){case"keypress":if(kl(p)===0)break e;case"keydown":case"keyup":qe=tf;break;case"focusin":Ye="focus",qe=Sl;break;case"focusout":Ye="blur",qe=Sl;break;case"beforeblur":case"afterblur":qe=Sl;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=pu;break;case hf:case Dr:case _u:qe=am;break;case bu:qe=fm;break;case"scroll":qe=sm;break;case"wheel":qe=hm;break;case"copy":case"cut":case"paste":qe=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=rf}var Je=(a&4)!==0,gn=!Je&&s==="scroll",ye=Je?Ie!==null?Ie+"Capture":null:Ie;Je=[];for(var he=Ee,ve;he!==null;){ve=he;var Be=ve.stateNode;if(ve.tag===5&&Be!==null&&(ve=Be,ye!==null&&(Be=oa(he,ye),Be!=null&&Je.push(f(he,Be,ve)))),gn)break;he=he.return}0<Je.length&&(Ie=new qe(Ie,Ye,null,p,Le),ze.push({event:Ie,listeners:Je}))}}if((a&7)===0){e:{if(Ie=s==="mouseover"||s==="pointerover",qe=s==="mouseout"||s==="pointerout",Ie&&p!==Tt&&(Ye=p.relatedTarget||p.fromElement)&&(is(Ye)||Ye[Ft]))break e;if((qe||Ie)&&(Ie=Le.window===Le?Le:(Ie=Le.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,qe?(Ye=p.relatedTarget||p.toElement,qe=Ee,Ye=Ye?is(Ye):null,Ye!==null&&(gn=wi(Ye),Ye!==gn||Ye.tag!==5&&Ye.tag!==6)&&(Ye=null)):(qe=null,Ye=Ee),qe!==Ye)){if(Je=cu,Be="onMouseLeave",ye="onMouseEnter",he="mouse",(s==="pointerout"||s==="pointerover")&&(Je=rf,Be="onPointerLeave",ye="onPointerEnter",he="pointer"),gn=qe==null?Ie:os(qe),ve=Ye==null?Ie:os(Ye),Ie=new Je(Be,he+"leave",qe,p,Le),Ie.target=gn,Ie.relatedTarget=ve,Be=null,is(Le)===Ee&&(Je=new Je(ye,he+"enter",Ye,p,Le),Je.target=ve,Je.relatedTarget=gn,Be=Je),gn=Be,qe&&Ye)t:{for(Je=qe,ye=Ye,he=0,ve=Je;ve;ve=N(ve))he++;for(ve=0,Be=ye;Be;Be=N(Be))ve++;for(;0<he-ve;)Je=N(Je),he--;for(;0<ve-he;)ye=N(ye),ve--;for(;he--;){if(Je===ye||ye!==null&&Je===ye.alternate)break t;Je=N(Je),ye=N(ye)}Je=null}else Je=null;qe!==null&&O(ze,Ie,qe,Je,!1),Ye!==null&&gn!==null&&O(ze,gn,Ye,Je,!0)}}e:{if(Ie=Ee?os(Ee):window,qe=Ie.nodeName&&Ie.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Ie.type==="file")var et=gm;else if(lf(Ie))if(Mr)et=gu;else{et=Js;var at=Rl}else(qe=Ie.nodeName)&&qe.toLowerCase()==="input"&&(Ie.type==="checkbox"||Ie.type==="radio")&&(et=Il);if(et&&(et=et(s,Ee))){jl(ze,et,p,Le);break e}at&&at(s,Ie,Ee),s==="focusout"&&(at=Ie._wrapperState)&&at.controlled&&Ie.type==="number"&&pe(Ie,"number",Ie.value)}switch(at=Ee?os(Ee):window,s){case"focusin":(lf(at)||at.contentEditable==="true")&&(Qs=at,Xs=Ee,wa=null);break;case"focusout":wa=Xs=Qs=null;break;case"mousedown":Ol=!0;break;case"contextmenu":case"mouseup":case"dragend":Ol=!1,ff(ze,p,Le);break;case"selectionchange":if(Ll)break;case"keydown":case"keyup":ff(ze,p,Le)}var lt;if(Ei)e:{switch(s){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else si?Gs(s,p)&&(ht="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(ht="onCompositionStart");ht&&(of&&p.locale!=="ko"&&(si||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&si&&(lt=ou()):(_i=Le,qn="value"in _i?_i.value:_i.textContent,si=!0)),at=v(Ee,ht),0<at.length&&(ht=new fu(ht,s,null,p,Le),ze.push({event:ht,listeners:at}),lt?ht.data=lt:(lt=mu(p),lt!==null&&(ht.data=lt)))),(lt=ii?pm(s,p):ki(s,p))&&(Ee=v(Ee,"onBeforeInput"),0<Ee.length&&(Le=new fu("onBeforeInput","beforeinput",null,p,Le),ze.push({event:Le,listeners:Ee}),Le.data=lt))}ku(ze,a)})}function f(s,a,p){return{instance:s,listener:a,currentTarget:p}}function v(s,a){for(var p=a+"Capture",w=[];s!==null;){var C=s,A=C.stateNode;C.tag===5&&A!==null&&(C=A,A=oa(s,p),A!=null&&w.unshift(f(s,A,C)),A=oa(s,a),A!=null&&w.push(f(s,A,C))),s=s.return}return w}function N(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function O(s,a,p,w,C){for(var A=a._reactName,U=[];p!==null&&p!==w;){var oe=p,de=oe.alternate,Ee=oe.stateNode;if(de!==null&&de===w)break;oe.tag===5&&Ee!==null&&(oe=Ee,C?(de=oa(p,A),de!=null&&U.unshift(f(p,de,oe))):C||(de=oa(p,A),de!=null&&U.push(f(p,de,oe)))),p=p.return}U.length!==0&&s.push({event:a,listeners:U})}var H=/\r\n?/g,ce=/\u0000|\uFFFD/g;function ge(s){return(typeof s=="string"?s:""+s).replace(H,`
`).replace(ce,"")}function _e(s,a,p){if(a=ge(a),ge(s)!==a&&p)throw Error(n(425))}function Ae(){}var He=null,st=null;function bt(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var bn=typeof setTimeout=="function"?setTimeout:void 0,vn=typeof clearTimeout=="function"?clearTimeout:void 0,Gn=typeof Promise=="function"?Promise:void 0,zn=typeof queueMicrotask=="function"?queueMicrotask:typeof Gn<"u"?function(s){return Gn.resolve(null).then(s).catch(io)}:bn;function io(s){setTimeout(function(){throw s})}function Nu(s,a){var p=a,w=0;do{var C=p.nextSibling;if(s.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(w===0){s.removeChild(C),_r(a);return}w--}else p!=="$"&&p!=="$?"&&p!=="$!"||w++;p=C}while(p);_r(a)}function ji(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function vf(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(a===0)return s;a--}else p==="/$"&&a++}s=s.previousSibling}return null}var rs=Math.random().toString(36).slice(2),Br="__reactFiber$"+rs,so="__reactProps$"+rs,Ft="__reactContainer$"+rs,oo="__reactEvents$"+rs,vm="__reactListeners$"+rs,xm="__reactHandles$"+rs;function is(s){var a=s[Br];if(a)return a;for(var p=s.parentNode;p;){if(a=p[Ft]||p[Br]){if(p=a.alternate,a.child!==null||p!==null&&p.child!==null)for(s=vf(s);s!==null;){if(p=s[Br])return p;s=vf(s)}return a}s=p,p=s.parentNode}return null}function ss(s){return s=s[Br]||s[Ft],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function os(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function zl(s){return s[so]||null}var wm=[],Dl=-1;function ao(s){return{current:s}}function Gt(s){0>Dl||(s.current=wm[Dl],wm[Dl]=null,Dl--)}function qt(s,a){Dl++,wm[Dl]=s.current,s.current=a}var lo={},Dn=ao(lo),or=ao(!1),Ea=lo;function Bl(s,a){var p=s.type.contextTypes;if(!p)return lo;var w=s.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===a)return w.__reactInternalMemoizedMaskedChildContext;var C={},A;for(A in p)C[A]=a[A];return w&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=C),C}function ar(s){return s=s.childContextTypes,s!=null}function xf(){Gt(or),Gt(Dn)}function u0(s,a,p){if(Dn.current!==lo)throw Error(n(168));qt(Dn,a),qt(or,p)}function d0(s,a,p){var w=s.stateNode;if(a=a.childContextTypes,typeof w.getChildContext!="function")return p;w=w.getChildContext();for(var C in w)if(!(C in a))throw Error(n(108,Ue(s)||"Unknown",C));return le({},p,w)}function wf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||lo,Ea=Dn.current,qt(Dn,s),qt(or,or.current),!0}function f0(s,a,p){var w=s.stateNode;if(!w)throw Error(n(169));p?(s=d0(s,a,Ea),w.__reactInternalMemoizedMergedChildContext=s,Gt(or),Gt(Dn),qt(Dn,s)):Gt(or),qt(or,p)}var as=null,_f=!1,_m=!1;function h0(s){as===null?as=[s]:as.push(s)}function xP(s){_f=!0,h0(s)}function co(){if(!_m&&as!==null){_m=!0;var s=0,a=At;try{var p=as;for(At=1;s<p.length;s++){var w=p[s];do w=w(!0);while(w!==null)}as=null,_f=!1}catch(C){throw as!==null&&(as=as.slice(s+1)),qd(tu,co),C}finally{At=a,_m=!1}}return null}var Fl=[],$l=0,bf=null,Ef=0,Fr=[],$r=0,ka=null,ls=1,cs="";function Sa(s,a){Fl[$l++]=Ef,Fl[$l++]=bf,bf=s,Ef=a}function p0(s,a,p){Fr[$r++]=ls,Fr[$r++]=cs,Fr[$r++]=ka,ka=s;var w=ls;s=cs;var C=32-xt(w)-1;w&=~(1<<C),p+=1;var A=32-xt(a)+C;if(30<A){var U=C-C%5;A=(w&(1<<U)-1).toString(32),w>>=U,C-=U,ls=1<<32-xt(a)+C|p<<C|w,cs=A+s}else ls=1<<A|p<<C|w,cs=s}function bm(s){s.return!==null&&(Sa(s,1),p0(s,1,0))}function Em(s){for(;s===bf;)bf=Fl[--$l],Fl[$l]=null,Ef=Fl[--$l],Fl[$l]=null;for(;s===ka;)ka=Fr[--$r],Fr[$r]=null,cs=Fr[--$r],Fr[$r]=null,ls=Fr[--$r],Fr[$r]=null}var Nr=null,Cr=null,Xt=!1,ai=null;function m0(s,a){var p=Wr(5,null,null,0);p.elementType="DELETED",p.stateNode=a,p.return=s,a=s.deletions,a===null?(s.deletions=[p],s.flags|=16):a.push(p)}function g0(s,a){switch(s.tag){case 5:var p=s.type;return a=a.nodeType!==1||p.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Nr=s,Cr=ji(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Nr=s,Cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(p=ka!==null?{id:ls,overflow:cs}:null,s.memoizedState={dehydrated:a,treeContext:p,retryLane:1073741824},p=Wr(18,null,null,0),p.stateNode=a,p.return=s,s.child=p,Nr=s,Cr=null,!0):!1;default:return!1}}function km(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sm(s){if(Xt){var a=Cr;if(a){var p=a;if(!g0(s,a)){if(km(s))throw Error(n(418));a=ji(p.nextSibling);var w=Nr;a&&g0(s,a)?m0(w,p):(s.flags=s.flags&-4097|2,Xt=!1,Nr=s)}}else{if(km(s))throw Error(n(418));s.flags=s.flags&-4097|2,Xt=!1,Nr=s}}}function y0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Nr=s}function kf(s){if(s!==Nr)return!1;if(!Xt)return y0(s),Xt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!bt(s.type,s.memoizedProps)),a&&(a=Cr)){if(km(s))throw v0(),Error(n(418));for(;a;)m0(s,a),a=ji(a.nextSibling)}if(y0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(a===0){Cr=ji(s.nextSibling);break e}a--}else p!=="$"&&p!=="$!"&&p!=="$?"||a++}s=s.nextSibling}Cr=null}}else Cr=Nr?ji(s.stateNode.nextSibling):null;return!0}function v0(){for(var s=Cr;s;)s=ji(s.nextSibling)}function Ul(){Cr=Nr=null,Xt=!1}function Nm(s){ai===null?ai=[s]:ai.push(s)}var wP=D.ReactCurrentBatchConfig;function Cu(s,a,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var w=p.stateNode}if(!w)throw Error(n(147,s));var C=w,A=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===A?a.ref:(a=function(U){var oe=C.refs;U===null?delete oe[A]:oe[A]=U},a._stringRef=A,a)}if(typeof s!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,s))}return s}function Sf(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function x0(s){var a=s._init;return a(s._payload)}function w0(s){function a(ye,he){if(s){var ve=ye.deletions;ve===null?(ye.deletions=[he],ye.flags|=16):ve.push(he)}}function p(ye,he){if(!s)return null;for(;he!==null;)a(ye,he),he=he.sibling;return null}function w(ye,he){for(ye=new Map;he!==null;)he.key!==null?ye.set(he.key,he):ye.set(he.index,he),he=he.sibling;return ye}function C(ye,he){return ye=vo(ye,he),ye.index=0,ye.sibling=null,ye}function A(ye,he,ve){return ye.index=ve,s?(ve=ye.alternate,ve!==null?(ve=ve.index,ve<he?(ye.flags|=2,he):ve):(ye.flags|=2,he)):(ye.flags|=1048576,he)}function U(ye){return s&&ye.alternate===null&&(ye.flags|=2),ye}function oe(ye,he,ve,Be){return he===null||he.tag!==6?(he=yg(ve,ye.mode,Be),he.return=ye,he):(he=C(he,ve),he.return=ye,he)}function de(ye,he,ve,Be){var et=ve.type;return et===G?Le(ye,he,ve.props.children,Be,ve.key):he!==null&&(he.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===ae&&x0(et)===he.type)?(Be=C(he,ve.props),Be.ref=Cu(ye,he,ve),Be.return=ye,Be):(Be=Gf(ve.type,ve.key,ve.props,null,ye.mode,Be),Be.ref=Cu(ye,he,ve),Be.return=ye,Be)}function Ee(ye,he,ve,Be){return he===null||he.tag!==4||he.stateNode.containerInfo!==ve.containerInfo||he.stateNode.implementation!==ve.implementation?(he=vg(ve,ye.mode,Be),he.return=ye,he):(he=C(he,ve.children||[]),he.return=ye,he)}function Le(ye,he,ve,Be,et){return he===null||he.tag!==7?(he=Ia(ve,ye.mode,Be,et),he.return=ye,he):(he=C(he,ve),he.return=ye,he)}function ze(ye,he,ve){if(typeof he=="string"&&he!==""||typeof he=="number")return he=yg(""+he,ye.mode,ve),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case B:return ve=Gf(he.type,he.key,he.props,null,ye.mode,ve),ve.ref=Cu(ye,null,he),ve.return=ye,ve;case q:return he=vg(he,ye.mode,ve),he.return=ye,he;case ae:var Be=he._init;return ze(ye,Be(he._payload),ve)}if(Pe(he)||ee(he))return he=Ia(he,ye.mode,ve,null),he.return=ye,he;Sf(ye,he)}return null}function Ie(ye,he,ve,Be){var et=he!==null?he.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return et!==null?null:oe(ye,he,""+ve,Be);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case B:return ve.key===et?de(ye,he,ve,Be):null;case q:return ve.key===et?Ee(ye,he,ve,Be):null;case ae:return et=ve._init,Ie(ye,he,et(ve._payload),Be)}if(Pe(ve)||ee(ve))return et!==null?null:Le(ye,he,ve,Be,null);Sf(ye,ve)}return null}function qe(ye,he,ve,Be,et){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return ye=ye.get(ve)||null,oe(he,ye,""+Be,et);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case B:return ye=ye.get(Be.key===null?ve:Be.key)||null,de(he,ye,Be,et);case q:return ye=ye.get(Be.key===null?ve:Be.key)||null,Ee(he,ye,Be,et);case ae:var at=Be._init;return qe(ye,he,ve,at(Be._payload),et)}if(Pe(Be)||ee(Be))return ye=ye.get(ve)||null,Le(he,ye,Be,et,null);Sf(he,Be)}return null}function Ye(ye,he,ve,Be){for(var et=null,at=null,lt=he,ht=he=0,jn=null;lt!==null&&ht<ve.length;ht++){lt.index>ht?(jn=lt,lt=null):jn=lt.sibling;var Mt=Ie(ye,lt,ve[ht],Be);if(Mt===null){lt===null&&(lt=jn);break}s&&lt&&Mt.alternate===null&&a(ye,lt),he=A(Mt,he,ht),at===null?et=Mt:at.sibling=Mt,at=Mt,lt=jn}if(ht===ve.length)return p(ye,lt),Xt&&Sa(ye,ht),et;if(lt===null){for(;ht<ve.length;ht++)lt=ze(ye,ve[ht],Be),lt!==null&&(he=A(lt,he,ht),at===null?et=lt:at.sibling=lt,at=lt);return Xt&&Sa(ye,ht),et}for(lt=w(ye,lt);ht<ve.length;ht++)jn=qe(lt,ye,ht,ve[ht],Be),jn!==null&&(s&&jn.alternate!==null&&lt.delete(jn.key===null?ht:jn.key),he=A(jn,he,ht),at===null?et=jn:at.sibling=jn,at=jn);return s&&lt.forEach(function(xo){return a(ye,xo)}),Xt&&Sa(ye,ht),et}function Je(ye,he,ve,Be){var et=ee(ve);if(typeof et!="function")throw Error(n(150));if(ve=et.call(ve),ve==null)throw Error(n(151));for(var at=et=null,lt=he,ht=he=0,jn=null,Mt=ve.next();lt!==null&&!Mt.done;ht++,Mt=ve.next()){lt.index>ht?(jn=lt,lt=null):jn=lt.sibling;var xo=Ie(ye,lt,Mt.value,Be);if(xo===null){lt===null&&(lt=jn);break}s&&lt&&xo.alternate===null&&a(ye,lt),he=A(xo,he,ht),at===null?et=xo:at.sibling=xo,at=xo,lt=jn}if(Mt.done)return p(ye,lt),Xt&&Sa(ye,ht),et;if(lt===null){for(;!Mt.done;ht++,Mt=ve.next())Mt=ze(ye,Mt.value,Be),Mt!==null&&(he=A(Mt,he,ht),at===null?et=Mt:at.sibling=Mt,at=Mt);return Xt&&Sa(ye,ht),et}for(lt=w(ye,lt);!Mt.done;ht++,Mt=ve.next())Mt=qe(lt,ye,ht,Mt.value,Be),Mt!==null&&(s&&Mt.alternate!==null&&lt.delete(Mt.key===null?ht:Mt.key),he=A(Mt,he,ht),at===null?et=Mt:at.sibling=Mt,at=Mt);return s&&lt.forEach(function(XP){return a(ye,XP)}),Xt&&Sa(ye,ht),et}function gn(ye,he,ve,Be){if(typeof ve=="object"&&ve!==null&&ve.type===G&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case B:e:{for(var et=ve.key,at=he;at!==null;){if(at.key===et){if(et=ve.type,et===G){if(at.tag===7){p(ye,at.sibling),he=C(at,ve.props.children),he.return=ye,ye=he;break e}}else if(at.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===ae&&x0(et)===at.type){p(ye,at.sibling),he=C(at,ve.props),he.ref=Cu(ye,at,ve),he.return=ye,ye=he;break e}p(ye,at);break}else a(ye,at);at=at.sibling}ve.type===G?(he=Ia(ve.props.children,ye.mode,Be,ve.key),he.return=ye,ye=he):(Be=Gf(ve.type,ve.key,ve.props,null,ye.mode,Be),Be.ref=Cu(ye,he,ve),Be.return=ye,ye=Be)}return U(ye);case q:e:{for(at=ve.key;he!==null;){if(he.key===at)if(he.tag===4&&he.stateNode.containerInfo===ve.containerInfo&&he.stateNode.implementation===ve.implementation){p(ye,he.sibling),he=C(he,ve.children||[]),he.return=ye,ye=he;break e}else{p(ye,he);break}else a(ye,he);he=he.sibling}he=vg(ve,ye.mode,Be),he.return=ye,ye=he}return U(ye);case ae:return at=ve._init,gn(ye,he,at(ve._payload),Be)}if(Pe(ve))return Ye(ye,he,ve,Be);if(ee(ve))return Je(ye,he,ve,Be);Sf(ye,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,he!==null&&he.tag===6?(p(ye,he.sibling),he=C(he,ve),he.return=ye,ye=he):(p(ye,he),he=yg(ve,ye.mode,Be),he.return=ye,ye=he),U(ye)):p(ye,he)}return gn}var Zl=w0(!0),_0=w0(!1),Nf=ao(null),Cf=null,Hl=null,Cm=null;function jm(){Cm=Hl=Cf=null}function Pm(s){var a=Nf.current;Gt(Nf),s._currentValue=a}function Tm(s,a,p){for(;s!==null;){var w=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,w!==null&&(w.childLanes|=a)):w!==null&&(w.childLanes&a)!==a&&(w.childLanes|=a),s===p)break;s=s.return}}function Wl(s,a){Cf=s,Cm=Hl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(lr=!0),s.firstContext=null)}function Ur(s){var a=s._currentValue;if(Cm!==s)if(s={context:s,memoizedValue:a,next:null},Hl===null){if(Cf===null)throw Error(n(308));Hl=s,Cf.dependencies={lanes:0,firstContext:s}}else Hl=Hl.next=s;return a}var Na=null;function Am(s){Na===null?Na=[s]:Na.push(s)}function b0(s,a,p,w){var C=a.interleaved;return C===null?(p.next=p,Am(a)):(p.next=C.next,C.next=p),a.interleaved=p,us(s,w)}function us(s,a){s.lanes|=a;var p=s.alternate;for(p!==null&&(p.lanes|=a),p=s,s=s.return;s!==null;)s.childLanes|=a,p=s.alternate,p!==null&&(p.childLanes|=a),p=s,s=s.return;return p.tag===3?p.stateNode:null}var uo=!1;function Rm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ds(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function fo(s,a,p){var w=s.updateQueue;if(w===null)return null;if(w=w.shared,(It&2)!==0){var C=w.pending;return C===null?a.next=a:(a.next=C.next,C.next=a),w.pending=a,us(s,p)}return C=w.interleaved,C===null?(a.next=a,Am(w)):(a.next=C.next,C.next=a),w.interleaved=a,us(s,p)}function jf(s,a,p){if(a=a.updateQueue,a!==null&&(a=a.shared,(p&4194240)!==0)){var w=a.lanes;w&=s.pendingLanes,p|=w,a.lanes=p,ni(s,p)}}function k0(s,a){var p=s.updateQueue,w=s.alternate;if(w!==null&&(w=w.updateQueue,p===w)){var C=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var U={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};A===null?C=A=U:A=A.next=U,p=p.next}while(p!==null);A===null?C=A=a:A=A.next=a}else C=A=a;p={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:A,shared:w.shared,effects:w.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=a:s.next=a,p.lastBaseUpdate=a}function Pf(s,a,p,w){var C=s.updateQueue;uo=!1;var A=C.firstBaseUpdate,U=C.lastBaseUpdate,oe=C.shared.pending;if(oe!==null){C.shared.pending=null;var de=oe,Ee=de.next;de.next=null,U===null?A=Ee:U.next=Ee,U=de;var Le=s.alternate;Le!==null&&(Le=Le.updateQueue,oe=Le.lastBaseUpdate,oe!==U&&(oe===null?Le.firstBaseUpdate=Ee:oe.next=Ee,Le.lastBaseUpdate=de))}if(A!==null){var ze=C.baseState;U=0,Le=Ee=de=null,oe=A;do{var Ie=oe.lane,qe=oe.eventTime;if((w&Ie)===Ie){Le!==null&&(Le=Le.next={eventTime:qe,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var Ye=s,Je=oe;switch(Ie=a,qe=p,Je.tag){case 1:if(Ye=Je.payload,typeof Ye=="function"){ze=Ye.call(qe,ze,Ie);break e}ze=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Je.payload,Ie=typeof Ye=="function"?Ye.call(qe,ze,Ie):Ye,Ie==null)break e;ze=le({},ze,Ie);break e;case 2:uo=!0}}oe.callback!==null&&oe.lane!==0&&(s.flags|=64,Ie=C.effects,Ie===null?C.effects=[oe]:Ie.push(oe))}else qe={eventTime:qe,lane:Ie,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Le===null?(Ee=Le=qe,de=ze):Le=Le.next=qe,U|=Ie;if(oe=oe.next,oe===null){if(oe=C.shared.pending,oe===null)break;Ie=oe,oe=Ie.next,Ie.next=null,C.lastBaseUpdate=Ie,C.shared.pending=null}}while(!0);if(Le===null&&(de=ze),C.baseState=de,C.firstBaseUpdate=Ee,C.lastBaseUpdate=Le,a=C.shared.interleaved,a!==null){C=a;do U|=C.lane,C=C.next;while(C!==a)}else A===null&&(C.shared.lanes=0);Pa|=U,s.lanes=U,s.memoizedState=ze}}function S0(s,a,p){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var w=s[a],C=w.callback;if(C!==null){if(w.callback=null,w=p,typeof C!="function")throw Error(n(191,C));C.call(w)}}}var ju={},Pi=ao(ju),Pu=ao(ju),Tu=ao(ju);function Ca(s){if(s===ju)throw Error(n(174));return s}function Im(s,a){switch(qt(Tu,a),qt(Pu,s),qt(Pi,ju),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Z(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Z(a,s)}Gt(Pi),qt(Pi,a)}function Vl(){Gt(Pi),Gt(Pu),Gt(Tu)}function N0(s){Ca(Tu.current);var a=Ca(Pi.current),p=Z(a,s.type);a!==p&&(qt(Pu,s),qt(Pi,p))}function Lm(s){Pu.current===s&&(Gt(Pi),Gt(Pu))}var ln=ao(0);function Tf(s){for(var a=s;a!==null;){if(a.tag===13){var p=a.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Om=[];function Mm(){for(var s=0;s<Om.length;s++)Om[s]._workInProgressVersionPrimary=null;Om.length=0}var Af=D.ReactCurrentDispatcher,zm=D.ReactCurrentBatchConfig,ja=0,cn=null,En=null,Nn=null,Rf=!1,Au=!1,Ru=0,_P=0;function Bn(){throw Error(n(321))}function Dm(s,a){if(a===null)return!1;for(var p=0;p<a.length&&p<s.length;p++)if(!kr(s[p],a[p]))return!1;return!0}function Bm(s,a,p,w,C,A){if(ja=A,cn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Af.current=s===null||s.memoizedState===null?SP:NP,s=p(w,C),Au){A=0;do{if(Au=!1,Ru=0,25<=A)throw Error(n(301));A+=1,Nn=En=null,a.updateQueue=null,Af.current=CP,s=p(w,C)}while(Au)}if(Af.current=Of,a=En!==null&&En.next!==null,ja=0,Nn=En=cn=null,Rf=!1,a)throw Error(n(300));return s}function Fm(){var s=Ru!==0;return Ru=0,s}function Ti(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?cn.memoizedState=Nn=s:Nn=Nn.next=s,Nn}function Zr(){if(En===null){var s=cn.alternate;s=s!==null?s.memoizedState:null}else s=En.next;var a=Nn===null?cn.memoizedState:Nn.next;if(a!==null)Nn=a,En=s;else{if(s===null)throw Error(n(310));En=s,s={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Nn===null?cn.memoizedState=Nn=s:Nn=Nn.next=s}return Nn}function Iu(s,a){return typeof a=="function"?a(s):a}function $m(s){var a=Zr(),p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var w=En,C=w.baseQueue,A=p.pending;if(A!==null){if(C!==null){var U=C.next;C.next=A.next,A.next=U}w.baseQueue=C=A,p.pending=null}if(C!==null){A=C.next,w=w.baseState;var oe=U=null,de=null,Ee=A;do{var Le=Ee.lane;if((ja&Le)===Le)de!==null&&(de=de.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),w=Ee.hasEagerState?Ee.eagerState:s(w,Ee.action);else{var ze={lane:Le,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};de===null?(oe=de=ze,U=w):de=de.next=ze,cn.lanes|=Le,Pa|=Le}Ee=Ee.next}while(Ee!==null&&Ee!==A);de===null?U=w:de.next=oe,kr(w,a.memoizedState)||(lr=!0),a.memoizedState=w,a.baseState=U,a.baseQueue=de,p.lastRenderedState=w}if(s=p.interleaved,s!==null){C=s;do A=C.lane,cn.lanes|=A,Pa|=A,C=C.next;while(C!==s)}else C===null&&(p.lanes=0);return[a.memoizedState,p.dispatch]}function Um(s){var a=Zr(),p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var w=p.dispatch,C=p.pending,A=a.memoizedState;if(C!==null){p.pending=null;var U=C=C.next;do A=s(A,U.action),U=U.next;while(U!==C);kr(A,a.memoizedState)||(lr=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),p.lastRenderedState=A}return[A,w]}function C0(){}function j0(s,a){var p=cn,w=Zr(),C=a(),A=!kr(w.memoizedState,C);if(A&&(w.memoizedState=C,lr=!0),w=w.queue,Zm(A0.bind(null,p,w,s),[s]),w.getSnapshot!==a||A||Nn!==null&&Nn.memoizedState.tag&1){if(p.flags|=2048,Lu(9,T0.bind(null,p,w,C,a),void 0,null),Cn===null)throw Error(n(349));(ja&30)!==0||P0(p,a,C)}return C}function P0(s,a,p){s.flags|=16384,s={getSnapshot:a,value:p},a=cn.updateQueue,a===null?(a={lastEffect:null,stores:null},cn.updateQueue=a,a.stores=[s]):(p=a.stores,p===null?a.stores=[s]:p.push(s))}function T0(s,a,p,w){a.value=p,a.getSnapshot=w,R0(a)&&I0(s)}function A0(s,a,p){return p(function(){R0(a)&&I0(s)})}function R0(s){var a=s.getSnapshot;s=s.value;try{var p=a();return!kr(s,p)}catch{return!0}}function I0(s){var a=us(s,1);a!==null&&di(a,s,1,-1)}function L0(s){var a=Ti();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:s},a.queue=s,s=s.dispatch=kP.bind(null,cn,s),[a.memoizedState,s]}function Lu(s,a,p,w){return s={tag:s,create:a,destroy:p,deps:w,next:null},a=cn.updateQueue,a===null?(a={lastEffect:null,stores:null},cn.updateQueue=a,a.lastEffect=s.next=s):(p=a.lastEffect,p===null?a.lastEffect=s.next=s:(w=p.next,p.next=s,s.next=w,a.lastEffect=s)),s}function O0(){return Zr().memoizedState}function If(s,a,p,w){var C=Ti();cn.flags|=s,C.memoizedState=Lu(1|a,p,void 0,w===void 0?null:w)}function Lf(s,a,p,w){var C=Zr();w=w===void 0?null:w;var A=void 0;if(En!==null){var U=En.memoizedState;if(A=U.destroy,w!==null&&Dm(w,U.deps)){C.memoizedState=Lu(a,p,A,w);return}}cn.flags|=s,C.memoizedState=Lu(1|a,p,A,w)}function M0(s,a){return If(8390656,8,s,a)}function Zm(s,a){return Lf(2048,8,s,a)}function z0(s,a){return Lf(4,2,s,a)}function D0(s,a){return Lf(4,4,s,a)}function B0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function F0(s,a,p){return p=p!=null?p.concat([s]):null,Lf(4,4,B0.bind(null,a,s),p)}function Hm(){}function $0(s,a){var p=Zr();a=a===void 0?null:a;var w=p.memoizedState;return w!==null&&a!==null&&Dm(a,w[1])?w[0]:(p.memoizedState=[s,a],s)}function U0(s,a){var p=Zr();a=a===void 0?null:a;var w=p.memoizedState;return w!==null&&a!==null&&Dm(a,w[1])?w[0]:(s=s(),p.memoizedState=[s,a],s)}function Z0(s,a,p){return(ja&21)===0?(s.baseState&&(s.baseState=!1,lr=!0),s.memoizedState=p):(kr(p,a)||(p=Gd(),cn.lanes|=p,Pa|=p,s.baseState=!0),a)}function bP(s,a){var p=At;At=p!==0&&4>p?p:4,s(!0);var w=zm.transition;zm.transition={};try{s(!1),a()}finally{At=p,zm.transition=w}}function H0(){return Zr().memoizedState}function EP(s,a,p){var w=go(s);if(p={lane:w,action:p,hasEagerState:!1,eagerState:null,next:null},W0(s))V0(a,p);else if(p=b0(s,a,p,w),p!==null){var C=Jn();di(p,s,w,C),q0(p,a,w)}}function kP(s,a,p){var w=go(s),C={lane:w,action:p,hasEagerState:!1,eagerState:null,next:null};if(W0(s))V0(a,C);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var U=a.lastRenderedState,oe=A(U,p);if(C.hasEagerState=!0,C.eagerState=oe,kr(oe,U)){var de=a.interleaved;de===null?(C.next=C,Am(a)):(C.next=de.next,de.next=C),a.interleaved=C;return}}catch{}finally{}p=b0(s,a,C,w),p!==null&&(C=Jn(),di(p,s,w,C),q0(p,a,w))}}function W0(s){var a=s.alternate;return s===cn||a!==null&&a===cn}function V0(s,a){Au=Rf=!0;var p=s.pending;p===null?a.next=a:(a.next=p.next,p.next=a),s.pending=a}function q0(s,a,p){if((p&4194240)!==0){var w=a.lanes;w&=s.pendingLanes,p|=w,a.lanes=p,ni(s,p)}}var Of={readContext:Ur,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},SP={readContext:Ur,useCallback:function(s,a){return Ti().memoizedState=[s,a===void 0?null:a],s},useContext:Ur,useEffect:M0,useImperativeHandle:function(s,a,p){return p=p!=null?p.concat([s]):null,If(4194308,4,B0.bind(null,a,s),p)},useLayoutEffect:function(s,a){return If(4194308,4,s,a)},useInsertionEffect:function(s,a){return If(4,2,s,a)},useMemo:function(s,a){var p=Ti();return a=a===void 0?null:a,s=s(),p.memoizedState=[s,a],s},useReducer:function(s,a,p){var w=Ti();return a=p!==void 0?p(a):a,w.memoizedState=w.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},w.queue=s,s=s.dispatch=EP.bind(null,cn,s),[w.memoizedState,s]},useRef:function(s){var a=Ti();return s={current:s},a.memoizedState=s},useState:L0,useDebugValue:Hm,useDeferredValue:function(s){return Ti().memoizedState=s},useTransition:function(){var s=L0(!1),a=s[0];return s=bP.bind(null,s[1]),Ti().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,p){var w=cn,C=Ti();if(Xt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=a(),Cn===null)throw Error(n(349));(ja&30)!==0||P0(w,a,p)}C.memoizedState=p;var A={value:p,getSnapshot:a};return C.queue=A,M0(A0.bind(null,w,A,s),[s]),w.flags|=2048,Lu(9,T0.bind(null,w,A,p,a),void 0,null),p},useId:function(){var s=Ti(),a=Cn.identifierPrefix;if(Xt){var p=cs,w=ls;p=(w&~(1<<32-xt(w)-1)).toString(32)+p,a=":"+a+"R"+p,p=Ru++,0<p&&(a+="H"+p.toString(32)),a+=":"}else p=_P++,a=":"+a+"r"+p.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},NP={readContext:Ur,useCallback:$0,useContext:Ur,useEffect:Zm,useImperativeHandle:F0,useInsertionEffect:z0,useLayoutEffect:D0,useMemo:U0,useReducer:$m,useRef:O0,useState:function(){return $m(Iu)},useDebugValue:Hm,useDeferredValue:function(s){var a=Zr();return Z0(a,En.memoizedState,s)},useTransition:function(){var s=$m(Iu)[0],a=Zr().memoizedState;return[s,a]},useMutableSource:C0,useSyncExternalStore:j0,useId:H0,unstable_isNewReconciler:!1},CP={readContext:Ur,useCallback:$0,useContext:Ur,useEffect:Zm,useImperativeHandle:F0,useInsertionEffect:z0,useLayoutEffect:D0,useMemo:U0,useReducer:Um,useRef:O0,useState:function(){return Um(Iu)},useDebugValue:Hm,useDeferredValue:function(s){var a=Zr();return En===null?a.memoizedState=s:Z0(a,En.memoizedState,s)},useTransition:function(){var s=Um(Iu)[0],a=Zr().memoizedState;return[s,a]},useMutableSource:C0,useSyncExternalStore:j0,useId:H0,unstable_isNewReconciler:!1};function li(s,a){if(s&&s.defaultProps){a=le({},a),s=s.defaultProps;for(var p in s)a[p]===void 0&&(a[p]=s[p]);return a}return a}function Wm(s,a,p,w){a=s.memoizedState,p=p(w,a),p=p==null?a:le({},a,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var Mf={isMounted:function(s){return(s=s._reactInternals)?wi(s)===s:!1},enqueueSetState:function(s,a,p){s=s._reactInternals;var w=Jn(),C=go(s),A=ds(w,C);A.payload=a,p!=null&&(A.callback=p),a=fo(s,A,C),a!==null&&(di(a,s,C,w),jf(a,s,C))},enqueueReplaceState:function(s,a,p){s=s._reactInternals;var w=Jn(),C=go(s),A=ds(w,C);A.tag=1,A.payload=a,p!=null&&(A.callback=p),a=fo(s,A,C),a!==null&&(di(a,s,C,w),jf(a,s,C))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var p=Jn(),w=go(s),C=ds(p,w);C.tag=2,a!=null&&(C.callback=a),a=fo(s,C,w),a!==null&&(di(a,s,w,p),jf(a,s,w))}};function K0(s,a,p,w,C,A,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(w,A,U):a.prototype&&a.prototype.isPureReactComponent?!Si(p,w)||!Si(C,A):!0}function G0(s,a,p){var w=!1,C=lo,A=a.contextType;return typeof A=="object"&&A!==null?A=Ur(A):(C=ar(a)?Ea:Dn.current,w=a.contextTypes,A=(w=w!=null)?Bl(s,C):lo),a=new a(p,A),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Mf,s.stateNode=a,a._reactInternals=s,w&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=A),a}function Y0(s,a,p,w){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(p,w),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(p,w),a.state!==s&&Mf.enqueueReplaceState(a,a.state,null)}function Vm(s,a,p,w){var C=s.stateNode;C.props=p,C.state=s.memoizedState,C.refs={},Rm(s);var A=a.contextType;typeof A=="object"&&A!==null?C.context=Ur(A):(A=ar(a)?Ea:Dn.current,C.context=Bl(s,A)),C.state=s.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Wm(s,a,A,p),C.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(a=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),a!==C.state&&Mf.enqueueReplaceState(C,C.state,null),Pf(s,p,C,w),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function ql(s,a){try{var p="",w=a;do p+=xe(w),w=w.return;while(w);var C=p}catch(A){C=`
Error generating stack: `+A.message+`
`+A.stack}return{value:s,source:a,stack:C,digest:null}}function qm(s,a,p){return{value:s,source:null,stack:p??null,digest:a??null}}function Km(s,a){try{console.error(a.value)}catch(p){setTimeout(function(){throw p})}}var jP=typeof WeakMap=="function"?WeakMap:Map;function J0(s,a,p){p=ds(-1,p),p.tag=3,p.payload={element:null};var w=a.value;return p.callback=function(){Zf||(Zf=!0,cg=w),Km(s,a)},p}function Q0(s,a,p){p=ds(-1,p),p.tag=3;var w=s.type.getDerivedStateFromError;if(typeof w=="function"){var C=a.value;p.payload=function(){return w(C)},p.callback=function(){Km(s,a)}}var A=s.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(p.callback=function(){Km(s,a),typeof w!="function"&&(po===null?po=new Set([this]):po.add(this));var U=a.stack;this.componentDidCatch(a.value,{componentStack:U!==null?U:""})}),p}function X0(s,a,p){var w=s.pingCache;if(w===null){w=s.pingCache=new jP;var C=new Set;w.set(a,C)}else C=w.get(a),C===void 0&&(C=new Set,w.set(a,C));C.has(p)||(C.add(p),s=UP.bind(null,s,a,p),a.then(s,s))}function ew(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function tw(s,a,p,w,C){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(a=ds(-1,1),a.tag=2,fo(p,a,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var PP=D.ReactCurrentOwner,lr=!1;function Yn(s,a,p,w){a.child=s===null?_0(a,null,p,w):Zl(a,s.child,p,w)}function nw(s,a,p,w,C){p=p.render;var A=a.ref;return Wl(a,C),w=Bm(s,a,p,w,A,C),p=Fm(),s!==null&&!lr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~C,fs(s,a,C)):(Xt&&p&&bm(a),a.flags|=1,Yn(s,a,w,C),a.child)}function rw(s,a,p,w,C){if(s===null){var A=p.type;return typeof A=="function"&&!gg(A)&&A.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(a.tag=15,a.type=A,iw(s,a,A,w,C)):(s=Gf(p.type,null,w,a,a.mode,C),s.ref=a.ref,s.return=a,a.child=s)}if(A=s.child,(s.lanes&C)===0){var U=A.memoizedProps;if(p=p.compare,p=p!==null?p:Si,p(U,w)&&s.ref===a.ref)return fs(s,a,C)}return a.flags|=1,s=vo(A,w),s.ref=a.ref,s.return=a,a.child=s}function iw(s,a,p,w,C){if(s!==null){var A=s.memoizedProps;if(Si(A,w)&&s.ref===a.ref)if(lr=!1,a.pendingProps=w=A,(s.lanes&C)!==0)(s.flags&131072)!==0&&(lr=!0);else return a.lanes=s.lanes,fs(s,a,C)}return Gm(s,a,p,w,C)}function sw(s,a,p){var w=a.pendingProps,C=w.children,A=s!==null?s.memoizedState:null;if(w.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Gl,jr),jr|=p;else{if((p&1073741824)===0)return s=A!==null?A.baseLanes|p:p,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,qt(Gl,jr),jr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=A!==null?A.baseLanes:p,qt(Gl,jr),jr|=w}else A!==null?(w=A.baseLanes|p,a.memoizedState=null):w=p,qt(Gl,jr),jr|=w;return Yn(s,a,C,p),a.child}function ow(s,a){var p=a.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(a.flags|=512,a.flags|=2097152)}function Gm(s,a,p,w,C){var A=ar(p)?Ea:Dn.current;return A=Bl(a,A),Wl(a,C),p=Bm(s,a,p,w,A,C),w=Fm(),s!==null&&!lr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~C,fs(s,a,C)):(Xt&&w&&bm(a),a.flags|=1,Yn(s,a,p,C),a.child)}function aw(s,a,p,w,C){if(ar(p)){var A=!0;wf(a)}else A=!1;if(Wl(a,C),a.stateNode===null)Df(s,a),G0(a,p,w),Vm(a,p,w,C),w=!0;else if(s===null){var U=a.stateNode,oe=a.memoizedProps;U.props=oe;var de=U.context,Ee=p.contextType;typeof Ee=="object"&&Ee!==null?Ee=Ur(Ee):(Ee=ar(p)?Ea:Dn.current,Ee=Bl(a,Ee));var Le=p.getDerivedStateFromProps,ze=typeof Le=="function"||typeof U.getSnapshotBeforeUpdate=="function";ze||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(oe!==w||de!==Ee)&&Y0(a,U,w,Ee),uo=!1;var Ie=a.memoizedState;U.state=Ie,Pf(a,w,U,C),de=a.memoizedState,oe!==w||Ie!==de||or.current||uo?(typeof Le=="function"&&(Wm(a,p,Le,w),de=a.memoizedState),(oe=uo||K0(a,p,oe,w,Ie,de,Ee))?(ze||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(a.flags|=4194308)):(typeof U.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=w,a.memoizedState=de),U.props=w,U.state=de,U.context=Ee,w=oe):(typeof U.componentDidMount=="function"&&(a.flags|=4194308),w=!1)}else{U=a.stateNode,E0(s,a),oe=a.memoizedProps,Ee=a.type===a.elementType?oe:li(a.type,oe),U.props=Ee,ze=a.pendingProps,Ie=U.context,de=p.contextType,typeof de=="object"&&de!==null?de=Ur(de):(de=ar(p)?Ea:Dn.current,de=Bl(a,de));var qe=p.getDerivedStateFromProps;(Le=typeof qe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(oe!==ze||Ie!==de)&&Y0(a,U,w,de),uo=!1,Ie=a.memoizedState,U.state=Ie,Pf(a,w,U,C);var Ye=a.memoizedState;oe!==ze||Ie!==Ye||or.current||uo?(typeof qe=="function"&&(Wm(a,p,qe,w),Ye=a.memoizedState),(Ee=uo||K0(a,p,Ee,w,Ie,Ye,de)||!1)?(Le||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(w,Ye,de),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(w,Ye,de)),typeof U.componentDidUpdate=="function"&&(a.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof U.componentDidUpdate!="function"||oe===s.memoizedProps&&Ie===s.memoizedState||(a.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||oe===s.memoizedProps&&Ie===s.memoizedState||(a.flags|=1024),a.memoizedProps=w,a.memoizedState=Ye),U.props=w,U.state=Ye,U.context=de,w=Ee):(typeof U.componentDidUpdate!="function"||oe===s.memoizedProps&&Ie===s.memoizedState||(a.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||oe===s.memoizedProps&&Ie===s.memoizedState||(a.flags|=1024),w=!1)}return Ym(s,a,p,w,A,C)}function Ym(s,a,p,w,C,A){ow(s,a);var U=(a.flags&128)!==0;if(!w&&!U)return C&&f0(a,p,!1),fs(s,a,A);w=a.stateNode,PP.current=a;var oe=U&&typeof p.getDerivedStateFromError!="function"?null:w.render();return a.flags|=1,s!==null&&U?(a.child=Zl(a,s.child,null,A),a.child=Zl(a,null,oe,A)):Yn(s,a,oe,A),a.memoizedState=w.state,C&&f0(a,p,!0),a.child}function lw(s){var a=s.stateNode;a.pendingContext?u0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&u0(s,a.context,!1),Im(s,a.containerInfo)}function cw(s,a,p,w,C){return Ul(),Nm(C),a.flags|=256,Yn(s,a,p,w),a.child}var Jm={dehydrated:null,treeContext:null,retryLane:0};function Qm(s){return{baseLanes:s,cachePool:null,transitions:null}}function uw(s,a,p){var w=a.pendingProps,C=ln.current,A=!1,U=(a.flags&128)!==0,oe;if((oe=U)||(oe=s!==null&&s.memoizedState===null?!1:(C&2)!==0),oe?(A=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),qt(ln,C&1),s===null)return Sm(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(U=w.children,s=w.fallback,A?(w=a.mode,A=a.child,U={mode:"hidden",children:U},(w&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=U):A=Yf(U,w,0,null),s=Ia(s,w,p,null),A.return=a,s.return=a,A.sibling=s,a.child=A,a.child.memoizedState=Qm(p),a.memoizedState=Jm,s):Xm(a,U));if(C=s.memoizedState,C!==null&&(oe=C.dehydrated,oe!==null))return TP(s,a,U,w,oe,C,p);if(A){A=w.fallback,U=a.mode,C=s.child,oe=C.sibling;var de={mode:"hidden",children:w.children};return(U&1)===0&&a.child!==C?(w=a.child,w.childLanes=0,w.pendingProps=de,a.deletions=null):(w=vo(C,de),w.subtreeFlags=C.subtreeFlags&14680064),oe!==null?A=vo(oe,A):(A=Ia(A,U,p,null),A.flags|=2),A.return=a,w.return=a,w.sibling=A,a.child=w,w=A,A=a.child,U=s.child.memoizedState,U=U===null?Qm(p):{baseLanes:U.baseLanes|p,cachePool:null,transitions:U.transitions},A.memoizedState=U,A.childLanes=s.childLanes&~p,a.memoizedState=Jm,w}return A=s.child,s=A.sibling,w=vo(A,{mode:"visible",children:w.children}),(a.mode&1)===0&&(w.lanes=p),w.return=a,w.sibling=null,s!==null&&(p=a.deletions,p===null?(a.deletions=[s],a.flags|=16):p.push(s)),a.child=w,a.memoizedState=null,w}function Xm(s,a){return a=Yf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function zf(s,a,p,w){return w!==null&&Nm(w),Zl(a,s.child,null,p),s=Xm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function TP(s,a,p,w,C,A,U){if(p)return a.flags&256?(a.flags&=-257,w=qm(Error(n(422))),zf(s,a,U,w)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(A=w.fallback,C=a.mode,w=Yf({mode:"visible",children:w.children},C,0,null),A=Ia(A,C,U,null),A.flags|=2,w.return=a,A.return=a,w.sibling=A,a.child=w,(a.mode&1)!==0&&Zl(a,s.child,null,U),a.child.memoizedState=Qm(U),a.memoizedState=Jm,A);if((a.mode&1)===0)return zf(s,a,U,null);if(C.data==="$!"){if(w=C.nextSibling&&C.nextSibling.dataset,w)var oe=w.dgst;return w=oe,A=Error(n(419)),w=qm(A,w,void 0),zf(s,a,U,w)}if(oe=(U&s.childLanes)!==0,lr||oe){if(w=Cn,w!==null){switch(U&-U){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(w.suspendedLanes|U))!==0?0:C,C!==0&&C!==A.retryLane&&(A.retryLane=C,us(s,C),di(w,s,C,-1))}return mg(),w=qm(Error(n(421))),zf(s,a,U,w)}return C.data==="$?"?(a.flags|=128,a.child=s.child,a=ZP.bind(null,s),C._reactRetry=a,null):(s=A.treeContext,Cr=ji(C.nextSibling),Nr=a,Xt=!0,ai=null,s!==null&&(Fr[$r++]=ls,Fr[$r++]=cs,Fr[$r++]=ka,ls=s.id,cs=s.overflow,ka=a),a=Xm(a,w.children),a.flags|=4096,a)}function dw(s,a,p){s.lanes|=a;var w=s.alternate;w!==null&&(w.lanes|=a),Tm(s.return,a,p)}function eg(s,a,p,w,C){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:w,tail:p,tailMode:C}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=w,A.tail=p,A.tailMode=C)}function fw(s,a,p){var w=a.pendingProps,C=w.revealOrder,A=w.tail;if(Yn(s,a,w.children,p),w=ln.current,(w&2)!==0)w=w&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&dw(s,p,a);else if(s.tag===19)dw(s,p,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}w&=1}if(qt(ln,w),(a.mode&1)===0)a.memoizedState=null;else switch(C){case"forwards":for(p=a.child,C=null;p!==null;)s=p.alternate,s!==null&&Tf(s)===null&&(C=p),p=p.sibling;p=C,p===null?(C=a.child,a.child=null):(C=p.sibling,p.sibling=null),eg(a,!1,C,p,A);break;case"backwards":for(p=null,C=a.child,a.child=null;C!==null;){if(s=C.alternate,s!==null&&Tf(s)===null){a.child=C;break}s=C.sibling,C.sibling=p,p=C,C=s}eg(a,!0,p,null,A);break;case"together":eg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Df(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function fs(s,a,p){if(s!==null&&(a.dependencies=s.dependencies),Pa|=a.lanes,(p&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,p=vo(s,s.pendingProps),a.child=p,p.return=a;s.sibling!==null;)s=s.sibling,p=p.sibling=vo(s,s.pendingProps),p.return=a;p.sibling=null}return a.child}function AP(s,a,p){switch(a.tag){case 3:lw(a),Ul();break;case 5:N0(a);break;case 1:ar(a.type)&&wf(a);break;case 4:Im(a,a.stateNode.containerInfo);break;case 10:var w=a.type._context,C=a.memoizedProps.value;qt(Nf,w._currentValue),w._currentValue=C;break;case 13:if(w=a.memoizedState,w!==null)return w.dehydrated!==null?(qt(ln,ln.current&1),a.flags|=128,null):(p&a.child.childLanes)!==0?uw(s,a,p):(qt(ln,ln.current&1),s=fs(s,a,p),s!==null?s.sibling:null);qt(ln,ln.current&1);break;case 19:if(w=(p&a.childLanes)!==0,(s.flags&128)!==0){if(w)return fw(s,a,p);a.flags|=128}if(C=a.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),qt(ln,ln.current),w)break;return null;case 22:case 23:return a.lanes=0,sw(s,a,p)}return fs(s,a,p)}var hw,tg,pw,mw;hw=function(s,a){for(var p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break;for(;p.sibling===null;){if(p.return===null||p.return===a)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},tg=function(){},pw=function(s,a,p,w){var C=s.memoizedProps;if(C!==w){s=a.stateNode,Ca(Pi.current);var A=null;switch(p){case"input":C=z(s,C),w=z(s,w),A=[];break;case"select":C=le({},C,{value:void 0}),w=le({},w,{value:void 0}),A=[];break;case"textarea":C=me(s,C),w=me(s,w),A=[];break;default:typeof C.onClick!="function"&&typeof w.onClick=="function"&&(s.onclick=Ae)}kt(p,w);var U;p=null;for(Ee in C)if(!w.hasOwnProperty(Ee)&&C.hasOwnProperty(Ee)&&C[Ee]!=null)if(Ee==="style"){var oe=C[Ee];for(U in oe)oe.hasOwnProperty(U)&&(p||(p={}),p[U]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?A||(A=[]):(A=A||[]).push(Ee,null));for(Ee in w){var de=w[Ee];if(oe=C!=null?C[Ee]:void 0,w.hasOwnProperty(Ee)&&de!==oe&&(de!=null||oe!=null))if(Ee==="style")if(oe){for(U in oe)!oe.hasOwnProperty(U)||de&&de.hasOwnProperty(U)||(p||(p={}),p[U]="");for(U in de)de.hasOwnProperty(U)&&oe[U]!==de[U]&&(p||(p={}),p[U]=de[U])}else p||(A||(A=[]),A.push(Ee,p)),p=de;else Ee==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,oe=oe?oe.__html:void 0,de!=null&&oe!==de&&(A=A||[]).push(Ee,de)):Ee==="children"?typeof de!="string"&&typeof de!="number"||(A=A||[]).push(Ee,""+de):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(de!=null&&Ee==="onScroll"&&Ht("scroll",s),A||oe===de||(A=[])):(A=A||[]).push(Ee,de))}p&&(A=A||[]).push("style",p);var Ee=A;(a.updateQueue=Ee)&&(a.flags|=4)}},mw=function(s,a,p,w){p!==w&&(a.flags|=4)};function Ou(s,a){if(!Xt)switch(s.tailMode){case"hidden":a=s.tail;for(var p=null;a!==null;)a.alternate!==null&&(p=a),a=a.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:w.sibling=null}}function Fn(s){var a=s.alternate!==null&&s.alternate.child===s.child,p=0,w=0;if(a)for(var C=s.child;C!==null;)p|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)p|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=w,s.childLanes=p,a}function RP(s,a,p){var w=a.pendingProps;switch(Em(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(a),null;case 1:return ar(a.type)&&xf(),Fn(a),null;case 3:return w=a.stateNode,Vl(),Gt(or),Gt(Dn),Mm(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(s===null||s.child===null)&&(kf(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ai!==null&&(fg(ai),ai=null))),tg(s,a),Fn(a),null;case 5:Lm(a);var C=Ca(Tu.current);if(p=a.type,s!==null&&a.stateNode!=null)pw(s,a,p,w,C),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!w){if(a.stateNode===null)throw Error(n(166));return Fn(a),null}if(s=Ca(Pi.current),kf(a)){w=a.stateNode,p=a.type;var A=a.memoizedProps;switch(w[Br]=a,w[so]=A,s=(a.mode&1)!==0,p){case"dialog":Ht("cancel",w),Ht("close",w);break;case"iframe":case"object":case"embed":Ht("load",w);break;case"video":case"audio":for(C=0;C<no.length;C++)Ht(no[C],w);break;case"source":Ht("error",w);break;case"img":case"image":case"link":Ht("error",w),Ht("load",w);break;case"details":Ht("toggle",w);break;case"input":Ce(w,A),Ht("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!A.multiple},Ht("invalid",w);break;case"textarea":Me(w,A),Ht("invalid",w)}kt(p,A),C=null;for(var U in A)if(A.hasOwnProperty(U)){var oe=A[U];U==="children"?typeof oe=="string"?w.textContent!==oe&&(A.suppressHydrationWarning!==!0&&_e(w.textContent,oe,s),C=["children",oe]):typeof oe=="number"&&w.textContent!==""+oe&&(A.suppressHydrationWarning!==!0&&_e(w.textContent,oe,s),C=["children",""+oe]):i.hasOwnProperty(U)&&oe!=null&&U==="onScroll"&&Ht("scroll",w)}switch(p){case"input":St(w),te(w,A,!0);break;case"textarea":St(w),Oe(w);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(w.onclick=Ae)}w=C,a.updateQueue=w,w!==null&&(a.flags|=4)}else{U=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Qe(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=U.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof w.is=="string"?s=U.createElement(p,{is:w.is}):(s=U.createElement(p),p==="select"&&(U=s,w.multiple?U.multiple=!0:w.size&&(U.size=w.size))):s=U.createElementNS(s,p),s[Br]=a,s[so]=w,hw(s,a,!1,!1),a.stateNode=s;e:{switch(U=Pt(p,w),p){case"dialog":Ht("cancel",s),Ht("close",s),C=w;break;case"iframe":case"object":case"embed":Ht("load",s),C=w;break;case"video":case"audio":for(C=0;C<no.length;C++)Ht(no[C],s);C=w;break;case"source":Ht("error",s),C=w;break;case"img":case"image":case"link":Ht("error",s),Ht("load",s),C=w;break;case"details":Ht("toggle",s),C=w;break;case"input":Ce(s,w),C=z(s,w),Ht("invalid",s);break;case"option":C=w;break;case"select":s._wrapperState={wasMultiple:!!w.multiple},C=le({},w,{value:void 0}),Ht("invalid",s);break;case"textarea":Me(s,w),C=me(s,w),Ht("invalid",s);break;default:C=w}kt(p,C),oe=C;for(A in oe)if(oe.hasOwnProperty(A)){var de=oe[A];A==="style"?dt(s,de):A==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&I(s,de)):A==="children"?typeof de=="string"?(p!=="textarea"||de!=="")&&X(s,de):typeof de=="number"&&X(s,""+de):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?de!=null&&A==="onScroll"&&Ht("scroll",s):de!=null&&R(s,A,de,U))}switch(p){case"input":St(s),te(s,w,!1);break;case"textarea":St(s),Oe(s);break;case"option":w.value!=null&&s.setAttribute("value",""+De(w.value));break;case"select":s.multiple=!!w.multiple,A=w.value,A!=null?Te(s,!!w.multiple,A,!1):w.defaultValue!=null&&Te(s,!!w.multiple,w.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=Ae)}switch(p){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Fn(a),null;case 6:if(s&&a.stateNode!=null)mw(s,a,s.memoizedProps,w);else{if(typeof w!="string"&&a.stateNode===null)throw Error(n(166));if(p=Ca(Tu.current),Ca(Pi.current),kf(a)){if(w=a.stateNode,p=a.memoizedProps,w[Br]=a,(A=w.nodeValue!==p)&&(s=Nr,s!==null))switch(s.tag){case 3:_e(w.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&_e(w.nodeValue,p,(s.mode&1)!==0)}A&&(a.flags|=4)}else w=(p.nodeType===9?p:p.ownerDocument).createTextNode(w),w[Br]=a,a.stateNode=w}return Fn(a),null;case 13:if(Gt(ln),w=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Xt&&Cr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)v0(),Ul(),a.flags|=98560,A=!1;else if(A=kf(a),w!==null&&w.dehydrated!==null){if(s===null){if(!A)throw Error(n(318));if(A=a.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[Br]=a}else Ul(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Fn(a),A=!1}else ai!==null&&(fg(ai),ai=null),A=!0;if(!A)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=p,a):(w=w!==null,w!==(s!==null&&s.memoizedState!==null)&&w&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ln.current&1)!==0?kn===0&&(kn=3):mg())),a.updateQueue!==null&&(a.flags|=4),Fn(a),null);case 4:return Vl(),tg(s,a),s===null&&ro(a.stateNode.containerInfo),Fn(a),null;case 10:return Pm(a.type._context),Fn(a),null;case 17:return ar(a.type)&&xf(),Fn(a),null;case 19:if(Gt(ln),A=a.memoizedState,A===null)return Fn(a),null;if(w=(a.flags&128)!==0,U=A.rendering,U===null)if(w)Ou(A,!1);else{if(kn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(U=Tf(s),U!==null){for(a.flags|=128,Ou(A,!1),w=U.updateQueue,w!==null&&(a.updateQueue=w,a.flags|=4),a.subtreeFlags=0,w=p,p=a.child;p!==null;)A=p,s=w,A.flags&=14680066,U=A.alternate,U===null?(A.childLanes=0,A.lanes=s,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=U.childLanes,A.lanes=U.lanes,A.child=U.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=U.memoizedProps,A.memoizedState=U.memoizedState,A.updateQueue=U.updateQueue,A.type=U.type,s=U.dependencies,A.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return qt(ln,ln.current&1|2),a.child}s=s.sibling}A.tail!==null&&on()>Yl&&(a.flags|=128,w=!0,Ou(A,!1),a.lanes=4194304)}else{if(!w)if(s=Tf(U),s!==null){if(a.flags|=128,w=!0,p=s.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),Ou(A,!0),A.tail===null&&A.tailMode==="hidden"&&!U.alternate&&!Xt)return Fn(a),null}else 2*on()-A.renderingStartTime>Yl&&p!==1073741824&&(a.flags|=128,w=!0,Ou(A,!1),a.lanes=4194304);A.isBackwards?(U.sibling=a.child,a.child=U):(p=A.last,p!==null?p.sibling=U:a.child=U,A.last=U)}return A.tail!==null?(a=A.tail,A.rendering=a,A.tail=a.sibling,A.renderingStartTime=on(),a.sibling=null,p=ln.current,qt(ln,w?p&1|2:p&1),a):(Fn(a),null);case 22:case 23:return pg(),w=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==w&&(a.flags|=8192),w&&(a.mode&1)!==0?(jr&1073741824)!==0&&(Fn(a),a.subtreeFlags&6&&(a.flags|=8192)):Fn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function IP(s,a){switch(Em(a),a.tag){case 1:return ar(a.type)&&xf(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Vl(),Gt(or),Gt(Dn),Mm(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Lm(a),null;case 13:if(Gt(ln),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ul()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Gt(ln),null;case 4:return Vl(),null;case 10:return Pm(a.type._context),null;case 22:case 23:return pg(),null;case 24:return null;default:return null}}var Bf=!1,$n=!1,LP=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Kl(s,a){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(w){hn(s,a,w)}else p.current=null}function ng(s,a,p){try{p()}catch(w){hn(s,a,w)}}var gw=!1;function OP(s,a){if(He=ma,s=vu(),xu(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var w=p.getSelection&&p.getSelection();if(w&&w.rangeCount!==0){p=w.anchorNode;var C=w.anchorOffset,A=w.focusNode;w=w.focusOffset;try{p.nodeType,A.nodeType}catch{p=null;break e}var U=0,oe=-1,de=-1,Ee=0,Le=0,ze=s,Ie=null;t:for(;;){for(var qe;ze!==p||C!==0&&ze.nodeType!==3||(oe=U+C),ze!==A||w!==0&&ze.nodeType!==3||(de=U+w),ze.nodeType===3&&(U+=ze.nodeValue.length),(qe=ze.firstChild)!==null;)Ie=ze,ze=qe;for(;;){if(ze===s)break t;if(Ie===p&&++Ee===C&&(oe=U),Ie===A&&++Le===w&&(de=U),(qe=ze.nextSibling)!==null)break;ze=Ie,Ie=ze.parentNode}ze=qe}p=oe===-1||de===-1?null:{start:oe,end:de}}else p=null}p=p||{start:0,end:0}}else p=null;for(st={focusedElem:s,selectionRange:p},ma=!1,Ge=a;Ge!==null;)if(a=Ge,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ge=s;else for(;Ge!==null;){a=Ge;try{var Ye=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ye!==null){var Je=Ye.memoizedProps,gn=Ye.memoizedState,ye=a.stateNode,he=ye.getSnapshotBeforeUpdate(a.elementType===a.type?Je:li(a.type,Je),gn);ye.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var ve=a.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Be){hn(a,a.return,Be)}if(s=a.sibling,s!==null){s.return=a.return,Ge=s;break}Ge=a.return}return Ye=gw,gw=!1,Ye}function Mu(s,a,p){var w=a.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&s)===s){var A=C.destroy;C.destroy=void 0,A!==void 0&&ng(a,p,A)}C=C.next}while(C!==w)}}function Ff(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var p=a=a.next;do{if((p.tag&s)===s){var w=p.create;p.destroy=w()}p=p.next}while(p!==a)}}function rg(s){var a=s.ref;if(a!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof a=="function"?a(s):a.current=s}}function yw(s){var a=s.alternate;a!==null&&(s.alternate=null,yw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Br],delete a[so],delete a[oo],delete a[vm],delete a[xm])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function vw(s){return s.tag===5||s.tag===3||s.tag===4}function xw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||vw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ig(s,a,p){var w=s.tag;if(w===5||w===6)s=s.stateNode,a?p.nodeType===8?p.parentNode.insertBefore(s,a):p.insertBefore(s,a):(p.nodeType===8?(a=p.parentNode,a.insertBefore(s,p)):(a=p,a.appendChild(s)),p=p._reactRootContainer,p!=null||a.onclick!==null||(a.onclick=Ae));else if(w!==4&&(s=s.child,s!==null))for(ig(s,a,p),s=s.sibling;s!==null;)ig(s,a,p),s=s.sibling}function sg(s,a,p){var w=s.tag;if(w===5||w===6)s=s.stateNode,a?p.insertBefore(s,a):p.appendChild(s);else if(w!==4&&(s=s.child,s!==null))for(sg(s,a,p),s=s.sibling;s!==null;)sg(s,a,p),s=s.sibling}var An=null,ci=!1;function ho(s,a,p){for(p=p.child;p!==null;)ww(s,a,p),p=p.sibling}function ww(s,a,p){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(ca,p)}catch{}switch(p.tag){case 5:$n||Kl(p,a);case 6:var w=An,C=ci;An=null,ho(s,a,p),An=w,ci=C,An!==null&&(ci?(s=An,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):An.removeChild(p.stateNode));break;case 18:An!==null&&(ci?(s=An,p=p.stateNode,s.nodeType===8?Nu(s.parentNode,p):s.nodeType===1&&Nu(s,p),_r(s)):Nu(An,p.stateNode));break;case 4:w=An,C=ci,An=p.stateNode.containerInfo,ci=!0,ho(s,a,p),An=w,ci=C;break;case 0:case 11:case 14:case 15:if(!$n&&(w=p.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){C=w=w.next;do{var A=C,U=A.destroy;A=A.tag,U!==void 0&&((A&2)!==0||(A&4)!==0)&&ng(p,a,U),C=C.next}while(C!==w)}ho(s,a,p);break;case 1:if(!$n&&(Kl(p,a),w=p.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=p.memoizedProps,w.state=p.memoizedState,w.componentWillUnmount()}catch(oe){hn(p,a,oe)}ho(s,a,p);break;case 21:ho(s,a,p);break;case 22:p.mode&1?($n=(w=$n)||p.memoizedState!==null,ho(s,a,p),$n=w):ho(s,a,p);break;default:ho(s,a,p)}}function _w(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new LP),a.forEach(function(w){var C=HP.bind(null,s,w);p.has(w)||(p.add(w),w.then(C,C))})}}function ui(s,a){var p=a.deletions;if(p!==null)for(var w=0;w<p.length;w++){var C=p[w];try{var A=s,U=a,oe=U;e:for(;oe!==null;){switch(oe.tag){case 5:An=oe.stateNode,ci=!1;break e;case 3:An=oe.stateNode.containerInfo,ci=!0;break e;case 4:An=oe.stateNode.containerInfo,ci=!0;break e}oe=oe.return}if(An===null)throw Error(n(160));ww(A,U,C),An=null,ci=!1;var de=C.alternate;de!==null&&(de.return=null),C.return=null}catch(Ee){hn(C,a,Ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)bw(a,s),a=a.sibling}function bw(s,a){var p=s.alternate,w=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ui(a,s),Ai(s),w&4){try{Mu(3,s,s.return),Ff(3,s)}catch(Je){hn(s,s.return,Je)}try{Mu(5,s,s.return)}catch(Je){hn(s,s.return,Je)}}break;case 1:ui(a,s),Ai(s),w&512&&p!==null&&Kl(p,p.return);break;case 5:if(ui(a,s),Ai(s),w&512&&p!==null&&Kl(p,p.return),s.flags&32){var C=s.stateNode;try{X(C,"")}catch(Je){hn(s,s.return,Je)}}if(w&4&&(C=s.stateNode,C!=null)){var A=s.memoizedProps,U=p!==null?p.memoizedProps:A,oe=s.type,de=s.updateQueue;if(s.updateQueue=null,de!==null)try{oe==="input"&&A.type==="radio"&&A.name!=null&&ke(C,A),Pt(oe,U);var Ee=Pt(oe,A);for(U=0;U<de.length;U+=2){var Le=de[U],ze=de[U+1];Le==="style"?dt(C,ze):Le==="dangerouslySetInnerHTML"?I(C,ze):Le==="children"?X(C,ze):R(C,Le,ze,Ee)}switch(oe){case"input":ie(C,A);break;case"textarea":We(C,A);break;case"select":var Ie=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!A.multiple;var qe=A.value;qe!=null?Te(C,!!A.multiple,qe,!1):Ie!==!!A.multiple&&(A.defaultValue!=null?Te(C,!!A.multiple,A.defaultValue,!0):Te(C,!!A.multiple,A.multiple?[]:"",!1))}C[so]=A}catch(Je){hn(s,s.return,Je)}}break;case 6:if(ui(a,s),Ai(s),w&4){if(s.stateNode===null)throw Error(n(162));C=s.stateNode,A=s.memoizedProps;try{C.nodeValue=A}catch(Je){hn(s,s.return,Je)}}break;case 3:if(ui(a,s),Ai(s),w&4&&p!==null&&p.memoizedState.isDehydrated)try{_r(a.containerInfo)}catch(Je){hn(s,s.return,Je)}break;case 4:ui(a,s),Ai(s);break;case 13:ui(a,s),Ai(s),C=s.child,C.flags&8192&&(A=C.memoizedState!==null,C.stateNode.isHidden=A,!A||C.alternate!==null&&C.alternate.memoizedState!==null||(lg=on())),w&4&&_w(s);break;case 22:if(Le=p!==null&&p.memoizedState!==null,s.mode&1?($n=(Ee=$n)||Le,ui(a,s),$n=Ee):ui(a,s),Ai(s),w&8192){if(Ee=s.memoizedState!==null,(s.stateNode.isHidden=Ee)&&!Le&&(s.mode&1)!==0)for(Ge=s,Le=s.child;Le!==null;){for(ze=Ge=Le;Ge!==null;){switch(Ie=Ge,qe=Ie.child,Ie.tag){case 0:case 11:case 14:case 15:Mu(4,Ie,Ie.return);break;case 1:Kl(Ie,Ie.return);var Ye=Ie.stateNode;if(typeof Ye.componentWillUnmount=="function"){w=Ie,p=Ie.return;try{a=w,Ye.props=a.memoizedProps,Ye.state=a.memoizedState,Ye.componentWillUnmount()}catch(Je){hn(w,p,Je)}}break;case 5:Kl(Ie,Ie.return);break;case 22:if(Ie.memoizedState!==null){Sw(ze);continue}}qe!==null?(qe.return=Ie,Ge=qe):Sw(ze)}Le=Le.sibling}e:for(Le=null,ze=s;;){if(ze.tag===5){if(Le===null){Le=ze;try{C=ze.stateNode,Ee?(A=C.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(oe=ze.stateNode,de=ze.memoizedProps.style,U=de!=null&&de.hasOwnProperty("display")?de.display:null,oe.style.display=Se("display",U))}catch(Je){hn(s,s.return,Je)}}}else if(ze.tag===6){if(Le===null)try{ze.stateNode.nodeValue=Ee?"":ze.memoizedProps}catch(Je){hn(s,s.return,Je)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===s)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===s)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===s)break e;Le===ze&&(Le=null),ze=ze.return}Le===ze&&(Le=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:ui(a,s),Ai(s),w&4&&_w(s);break;case 21:break;default:ui(a,s),Ai(s)}}function Ai(s){var a=s.flags;if(a&2){try{e:{for(var p=s.return;p!==null;){if(vw(p)){var w=p;break e}p=p.return}throw Error(n(160))}switch(w.tag){case 5:var C=w.stateNode;w.flags&32&&(X(C,""),w.flags&=-33);var A=xw(s);sg(s,A,C);break;case 3:case 4:var U=w.stateNode.containerInfo,oe=xw(s);ig(s,oe,U);break;default:throw Error(n(161))}}catch(de){hn(s,s.return,de)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function MP(s,a,p){Ge=s,Ew(s)}function Ew(s,a,p){for(var w=(s.mode&1)!==0;Ge!==null;){var C=Ge,A=C.child;if(C.tag===22&&w){var U=C.memoizedState!==null||Bf;if(!U){var oe=C.alternate,de=oe!==null&&oe.memoizedState!==null||$n;oe=Bf;var Ee=$n;if(Bf=U,($n=de)&&!Ee)for(Ge=C;Ge!==null;)U=Ge,de=U.child,U.tag===22&&U.memoizedState!==null?Nw(C):de!==null?(de.return=U,Ge=de):Nw(C);for(;A!==null;)Ge=A,Ew(A),A=A.sibling;Ge=C,Bf=oe,$n=Ee}kw(s)}else(C.subtreeFlags&8772)!==0&&A!==null?(A.return=C,Ge=A):kw(s)}}function kw(s){for(;Ge!==null;){var a=Ge;if((a.flags&8772)!==0){var p=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:$n||Ff(5,a);break;case 1:var w=a.stateNode;if(a.flags&4&&!$n)if(p===null)w.componentDidMount();else{var C=a.elementType===a.type?p.memoizedProps:li(a.type,p.memoizedProps);w.componentDidUpdate(C,p.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var A=a.updateQueue;A!==null&&S0(a,A,w);break;case 3:var U=a.updateQueue;if(U!==null){if(p=null,a.child!==null)switch(a.child.tag){case 5:p=a.child.stateNode;break;case 1:p=a.child.stateNode}S0(a,U,p)}break;case 5:var oe=a.stateNode;if(p===null&&a.flags&4){p=oe;var de=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&p.focus();break;case"img":de.src&&(p.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Ee=a.alternate;if(Ee!==null){var Le=Ee.memoizedState;if(Le!==null){var ze=Le.dehydrated;ze!==null&&_r(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}$n||a.flags&512&&rg(a)}catch(Ie){hn(a,a.return,Ie)}}if(a===s){Ge=null;break}if(p=a.sibling,p!==null){p.return=a.return,Ge=p;break}Ge=a.return}}function Sw(s){for(;Ge!==null;){var a=Ge;if(a===s){Ge=null;break}var p=a.sibling;if(p!==null){p.return=a.return,Ge=p;break}Ge=a.return}}function Nw(s){for(;Ge!==null;){var a=Ge;try{switch(a.tag){case 0:case 11:case 15:var p=a.return;try{Ff(4,a)}catch(de){hn(a,p,de)}break;case 1:var w=a.stateNode;if(typeof w.componentDidMount=="function"){var C=a.return;try{w.componentDidMount()}catch(de){hn(a,C,de)}}var A=a.return;try{rg(a)}catch(de){hn(a,A,de)}break;case 5:var U=a.return;try{rg(a)}catch(de){hn(a,U,de)}}}catch(de){hn(a,a.return,de)}if(a===s){Ge=null;break}var oe=a.sibling;if(oe!==null){oe.return=a.return,Ge=oe;break}Ge=a.return}}var zP=Math.ceil,$f=D.ReactCurrentDispatcher,og=D.ReactCurrentOwner,Hr=D.ReactCurrentBatchConfig,It=0,Cn=null,xn=null,Rn=0,jr=0,Gl=ao(0),kn=0,zu=null,Pa=0,Uf=0,ag=0,Du=null,cr=null,lg=0,Yl=1/0,hs=null,Zf=!1,cg=null,po=null,Hf=!1,mo=null,Wf=0,Bu=0,ug=null,Vf=-1,qf=0;function Jn(){return(It&6)!==0?on():Vf!==-1?Vf:Vf=on()}function go(s){return(s.mode&1)===0?1:(It&2)!==0&&Rn!==0?Rn&-Rn:wP.transition!==null?(qf===0&&(qf=Gd()),qf):(s=At,s!==0||(s=window.event,s=s===void 0?16:Ct(s.type)),s)}function di(s,a,p,w){if(50<Bu)throw Bu=0,ug=null,Error(n(185));xr(s,p,w),((It&2)===0||s!==Cn)&&(s===Cn&&((It&2)===0&&(Uf|=p),kn===4&&yo(s,Rn)),ur(s,w),p===1&&It===0&&(a.mode&1)===0&&(Yl=on()+500,_f&&co()))}function ur(s,a){var p=s.callbackNode;gl(s,a);var w=Vt(s,s===Cn?Rn:0);if(w===0)p!==null&&eu(p),s.callbackNode=null,s.callbackPriority=0;else if(a=w&-w,s.callbackPriority!==a){if(p!=null&&eu(p),a===1)s.tag===0?xP(jw.bind(null,s)):h0(jw.bind(null,s)),zn(function(){(It&6)===0&&co()}),p=null;else{switch(Hs(w)){case 1:p=tu;break;case 4:p=Kd;break;case 16:p=pl;break;case 536870912:p=Fs;break;default:p=pl}p=Mw(p,Cw.bind(null,s))}s.callbackPriority=a,s.callbackNode=p}}function Cw(s,a){if(Vf=-1,qf=0,(It&6)!==0)throw Error(n(327));var p=s.callbackNode;if(Jl()&&s.callbackNode!==p)return null;var w=Vt(s,s===Cn?Rn:0);if(w===0)return null;if((w&30)!==0||(w&s.expiredLanes)!==0||a)a=Kf(s,w);else{a=w;var C=It;It|=2;var A=Tw();(Cn!==s||Rn!==a)&&(hs=null,Yl=on()+500,Aa(s,a));do try{FP();break}catch(oe){Pw(s,oe)}while(!0);jm(),$f.current=A,It=C,xn!==null?a=0:(Cn=null,Rn=0,a=kn)}if(a!==0){if(a===2&&(C=On(s),C!==0&&(w=C,a=dg(s,C))),a===1)throw p=zu,Aa(s,0),yo(s,w),ur(s,on()),p;if(a===6)yo(s,w);else{if(C=s.current.alternate,(w&30)===0&&!DP(C)&&(a=Kf(s,w),a===2&&(A=On(s),A!==0&&(w=A,a=dg(s,A))),a===1))throw p=zu,Aa(s,0),yo(s,w),ur(s,on()),p;switch(s.finishedWork=C,s.finishedLanes=w,a){case 0:case 1:throw Error(n(345));case 2:Ra(s,cr,hs);break;case 3:if(yo(s,w),(w&130023424)===w&&(a=lg+500-on(),10<a)){if(Vt(s,0)!==0)break;if(C=s.suspendedLanes,(C&w)!==w){Jn(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=bn(Ra.bind(null,s,cr,hs),a);break}Ra(s,cr,hs);break;case 4:if(yo(s,w),(w&4194240)===w)break;for(a=s.eventTimes,C=-1;0<w;){var U=31-xt(w);A=1<<U,U=a[U],U>C&&(C=U),w&=~A}if(w=C,w=on()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*zP(w/1960))-w,10<w){s.timeoutHandle=bn(Ra.bind(null,s,cr,hs),w);break}Ra(s,cr,hs);break;case 5:Ra(s,cr,hs);break;default:throw Error(n(329))}}}return ur(s,on()),s.callbackNode===p?Cw.bind(null,s):null}function dg(s,a){var p=Du;return s.current.memoizedState.isDehydrated&&(Aa(s,a).flags|=256),s=Kf(s,a),s!==2&&(a=cr,cr=p,a!==null&&fg(a)),s}function fg(s){cr===null?cr=s:cr.push.apply(cr,s)}function DP(s){for(var a=s;;){if(a.flags&16384){var p=a.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var w=0;w<p.length;w++){var C=p[w],A=C.getSnapshot;C=C.value;try{if(!kr(A(),C))return!1}catch{return!1}}}if(p=a.child,a.subtreeFlags&16384&&p!==null)p.return=a,a=p;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function yo(s,a){for(a&=~ag,a&=~Uf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var p=31-xt(a),w=1<<p;s[p]=-1,a&=~w}}function jw(s){if((It&6)!==0)throw Error(n(327));Jl();var a=Vt(s,0);if((a&1)===0)return ur(s,on()),null;var p=Kf(s,a);if(s.tag!==0&&p===2){var w=On(s);w!==0&&(a=w,p=dg(s,w))}if(p===1)throw p=zu,Aa(s,0),yo(s,a),ur(s,on()),p;if(p===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ra(s,cr,hs),ur(s,on()),null}function hg(s,a){var p=It;It|=1;try{return s(a)}finally{It=p,It===0&&(Yl=on()+500,_f&&co())}}function Ta(s){mo!==null&&mo.tag===0&&(It&6)===0&&Jl();var a=It;It|=1;var p=Hr.transition,w=At;try{if(Hr.transition=null,At=1,s)return s()}finally{At=w,Hr.transition=p,It=a,(It&6)===0&&co()}}function pg(){jr=Gl.current,Gt(Gl)}function Aa(s,a){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,vn(p)),xn!==null)for(p=xn.return;p!==null;){var w=p;switch(Em(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&xf();break;case 3:Vl(),Gt(or),Gt(Dn),Mm();break;case 5:Lm(w);break;case 4:Vl();break;case 13:Gt(ln);break;case 19:Gt(ln);break;case 10:Pm(w.type._context);break;case 22:case 23:pg()}p=p.return}if(Cn=s,xn=s=vo(s.current,null),Rn=jr=a,kn=0,zu=null,ag=Uf=Pa=0,cr=Du=null,Na!==null){for(a=0;a<Na.length;a++)if(p=Na[a],w=p.interleaved,w!==null){p.interleaved=null;var C=w.next,A=p.pending;if(A!==null){var U=A.next;A.next=C,w.next=U}p.pending=w}Na=null}return s}function Pw(s,a){do{var p=xn;try{if(jm(),Af.current=Of,Rf){for(var w=cn.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}Rf=!1}if(ja=0,Nn=En=cn=null,Au=!1,Ru=0,og.current=null,p===null||p.return===null){kn=1,zu=a,xn=null;break}e:{var A=s,U=p.return,oe=p,de=a;if(a=Rn,oe.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ee=de,Le=oe,ze=Le.tag;if((Le.mode&1)===0&&(ze===0||ze===11||ze===15)){var Ie=Le.alternate;Ie?(Le.updateQueue=Ie.updateQueue,Le.memoizedState=Ie.memoizedState,Le.lanes=Ie.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var qe=ew(U);if(qe!==null){qe.flags&=-257,tw(qe,U,oe,A,a),qe.mode&1&&X0(A,Ee,a),a=qe,de=Ee;var Ye=a.updateQueue;if(Ye===null){var Je=new Set;Je.add(de),a.updateQueue=Je}else Ye.add(de);break e}else{if((a&1)===0){X0(A,Ee,a),mg();break e}de=Error(n(426))}}else if(Xt&&oe.mode&1){var gn=ew(U);if(gn!==null){(gn.flags&65536)===0&&(gn.flags|=256),tw(gn,U,oe,A,a),Nm(ql(de,oe));break e}}A=de=ql(de,oe),kn!==4&&(kn=2),Du===null?Du=[A]:Du.push(A),A=U;do{switch(A.tag){case 3:A.flags|=65536,a&=-a,A.lanes|=a;var ye=J0(A,de,a);k0(A,ye);break e;case 1:oe=de;var he=A.type,ve=A.stateNode;if((A.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(po===null||!po.has(ve)))){A.flags|=65536,a&=-a,A.lanes|=a;var Be=Q0(A,oe,a);k0(A,Be);break e}}A=A.return}while(A!==null)}Rw(p)}catch(et){a=et,xn===p&&p!==null&&(xn=p=p.return);continue}break}while(!0)}function Tw(){var s=$f.current;return $f.current=Of,s===null?Of:s}function mg(){(kn===0||kn===3||kn===2)&&(kn=4),Cn===null||(Pa&268435455)===0&&(Uf&268435455)===0||yo(Cn,Rn)}function Kf(s,a){var p=It;It|=2;var w=Tw();(Cn!==s||Rn!==a)&&(hs=null,Aa(s,a));do try{BP();break}catch(C){Pw(s,C)}while(!0);if(jm(),It=p,$f.current=w,xn!==null)throw Error(n(261));return Cn=null,Rn=0,kn}function BP(){for(;xn!==null;)Aw(xn)}function FP(){for(;xn!==null&&!nm();)Aw(xn)}function Aw(s){var a=Ow(s.alternate,s,jr);s.memoizedProps=s.pendingProps,a===null?Rw(s):xn=a,og.current=null}function Rw(s){var a=s;do{var p=a.alternate;if(s=a.return,(a.flags&32768)===0){if(p=RP(p,a,jr),p!==null){xn=p;return}}else{if(p=IP(p,a),p!==null){p.flags&=32767,xn=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{kn=6,xn=null;return}}if(a=a.sibling,a!==null){xn=a;return}xn=a=s}while(a!==null);kn===0&&(kn=5)}function Ra(s,a,p){var w=At,C=Hr.transition;try{Hr.transition=null,At=1,$P(s,a,p,w)}finally{Hr.transition=C,At=w}return null}function $P(s,a,p,w){do Jl();while(mo!==null);if((It&6)!==0)throw Error(n(327));p=s.finishedWork;var C=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var A=p.lanes|p.childLanes;if(fn(s,A),s===Cn&&(xn=Cn=null,Rn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Hf||(Hf=!0,Mw(pl,function(){return Jl(),null})),A=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||A){A=Hr.transition,Hr.transition=null;var U=At;At=1;var oe=It;It|=4,og.current=null,OP(s,p),bw(p,s),zr(st),ma=!!He,st=He=null,s.current=p,MP(p),hl(),It=oe,At=U,Hr.transition=A}else s.current=p;if(Hf&&(Hf=!1,mo=s,Wf=C),A=s.pendingLanes,A===0&&(po=null),ua(p.stateNode),ur(s,on()),a!==null)for(w=s.onRecoverableError,p=0;p<a.length;p++)C=a[p],w(C.value,{componentStack:C.stack,digest:C.digest});if(Zf)throw Zf=!1,s=cg,cg=null,s;return(Wf&1)!==0&&s.tag!==0&&Jl(),A=s.pendingLanes,(A&1)!==0?s===ug?Bu++:(Bu=0,ug=s):Bu=0,co(),null}function Jl(){if(mo!==null){var s=Hs(Wf),a=Hr.transition,p=At;try{if(Hr.transition=null,At=16>s?16:s,mo===null)var w=!1;else{if(s=mo,mo=null,Wf=0,(It&6)!==0)throw Error(n(331));var C=It;for(It|=4,Ge=s.current;Ge!==null;){var A=Ge,U=A.child;if((Ge.flags&16)!==0){var oe=A.deletions;if(oe!==null){for(var de=0;de<oe.length;de++){var Ee=oe[de];for(Ge=Ee;Ge!==null;){var Le=Ge;switch(Le.tag){case 0:case 11:case 15:Mu(8,Le,A)}var ze=Le.child;if(ze!==null)ze.return=Le,Ge=ze;else for(;Ge!==null;){Le=Ge;var Ie=Le.sibling,qe=Le.return;if(yw(Le),Le===Ee){Ge=null;break}if(Ie!==null){Ie.return=qe,Ge=Ie;break}Ge=qe}}}var Ye=A.alternate;if(Ye!==null){var Je=Ye.child;if(Je!==null){Ye.child=null;do{var gn=Je.sibling;Je.sibling=null,Je=gn}while(Je!==null)}}Ge=A}}if((A.subtreeFlags&2064)!==0&&U!==null)U.return=A,Ge=U;else e:for(;Ge!==null;){if(A=Ge,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Mu(9,A,A.return)}var ye=A.sibling;if(ye!==null){ye.return=A.return,Ge=ye;break e}Ge=A.return}}var he=s.current;for(Ge=he;Ge!==null;){U=Ge;var ve=U.child;if((U.subtreeFlags&2064)!==0&&ve!==null)ve.return=U,Ge=ve;else e:for(U=he;Ge!==null;){if(oe=Ge,(oe.flags&2048)!==0)try{switch(oe.tag){case 0:case 11:case 15:Ff(9,oe)}}catch(et){hn(oe,oe.return,et)}if(oe===U){Ge=null;break e}var Be=oe.sibling;if(Be!==null){Be.return=oe.return,Ge=Be;break e}Ge=oe.return}}if(It=C,co(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(ca,s)}catch{}w=!0}return w}finally{At=p,Hr.transition=a}}return!1}function Iw(s,a,p){a=ql(p,a),a=J0(s,a,1),s=fo(s,a,1),a=Jn(),s!==null&&(xr(s,1,a),ur(s,a))}function hn(s,a,p){if(s.tag===3)Iw(s,s,p);else for(;a!==null;){if(a.tag===3){Iw(a,s,p);break}else if(a.tag===1){var w=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(po===null||!po.has(w))){s=ql(p,s),s=Q0(a,s,1),a=fo(a,s,1),s=Jn(),a!==null&&(xr(a,1,s),ur(a,s));break}}a=a.return}}function UP(s,a,p){var w=s.pingCache;w!==null&&w.delete(a),a=Jn(),s.pingedLanes|=s.suspendedLanes&p,Cn===s&&(Rn&p)===p&&(kn===4||kn===3&&(Rn&130023424)===Rn&&500>on()-lg?Aa(s,0):ag|=p),ur(s,a)}function Lw(s,a){a===0&&((s.mode&1)===0?a=1:(a=Us,Us<<=1,(Us&130023424)===0&&(Us=4194304)));var p=Jn();s=us(s,a),s!==null&&(xr(s,a,p),ur(s,p))}function ZP(s){var a=s.memoizedState,p=0;a!==null&&(p=a.retryLane),Lw(s,p)}function HP(s,a){var p=0;switch(s.tag){case 13:var w=s.stateNode,C=s.memoizedState;C!==null&&(p=C.retryLane);break;case 19:w=s.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(a),Lw(s,p)}var Ow;Ow=function(s,a,p){if(s!==null)if(s.memoizedProps!==a.pendingProps||or.current)lr=!0;else{if((s.lanes&p)===0&&(a.flags&128)===0)return lr=!1,AP(s,a,p);lr=(s.flags&131072)!==0}else lr=!1,Xt&&(a.flags&1048576)!==0&&p0(a,Ef,a.index);switch(a.lanes=0,a.tag){case 2:var w=a.type;Df(s,a),s=a.pendingProps;var C=Bl(a,Dn.current);Wl(a,p),C=Bm(null,a,w,s,C,p);var A=Fm();return a.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ar(w)?(A=!0,wf(a)):A=!1,a.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Rm(a),C.updater=Mf,a.stateNode=C,C._reactInternals=a,Vm(a,w,s,p),a=Ym(null,a,w,!0,A,p)):(a.tag=0,Xt&&A&&bm(a),Yn(null,a,C,p),a=a.child),a;case 16:w=a.elementType;e:{switch(Df(s,a),s=a.pendingProps,C=w._init,w=C(w._payload),a.type=w,C=a.tag=VP(w),s=li(w,s),C){case 0:a=Gm(null,a,w,s,p);break e;case 1:a=aw(null,a,w,s,p);break e;case 11:a=nw(null,a,w,s,p);break e;case 14:a=rw(null,a,w,li(w.type,s),p);break e}throw Error(n(306,w,""))}return a;case 0:return w=a.type,C=a.pendingProps,C=a.elementType===w?C:li(w,C),Gm(s,a,w,C,p);case 1:return w=a.type,C=a.pendingProps,C=a.elementType===w?C:li(w,C),aw(s,a,w,C,p);case 3:e:{if(lw(a),s===null)throw Error(n(387));w=a.pendingProps,A=a.memoizedState,C=A.element,E0(s,a),Pf(a,w,null,p);var U=a.memoizedState;if(w=U.element,A.isDehydrated)if(A={element:w,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){C=ql(Error(n(423)),a),a=cw(s,a,w,p,C);break e}else if(w!==C){C=ql(Error(n(424)),a),a=cw(s,a,w,p,C);break e}else for(Cr=ji(a.stateNode.containerInfo.firstChild),Nr=a,Xt=!0,ai=null,p=_0(a,null,w,p),a.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ul(),w===C){a=fs(s,a,p);break e}Yn(s,a,w,p)}a=a.child}return a;case 5:return N0(a),s===null&&Sm(a),w=a.type,C=a.pendingProps,A=s!==null?s.memoizedProps:null,U=C.children,bt(w,C)?U=null:A!==null&&bt(w,A)&&(a.flags|=32),ow(s,a),Yn(s,a,U,p),a.child;case 6:return s===null&&Sm(a),null;case 13:return uw(s,a,p);case 4:return Im(a,a.stateNode.containerInfo),w=a.pendingProps,s===null?a.child=Zl(a,null,w,p):Yn(s,a,w,p),a.child;case 11:return w=a.type,C=a.pendingProps,C=a.elementType===w?C:li(w,C),nw(s,a,w,C,p);case 7:return Yn(s,a,a.pendingProps,p),a.child;case 8:return Yn(s,a,a.pendingProps.children,p),a.child;case 12:return Yn(s,a,a.pendingProps.children,p),a.child;case 10:e:{if(w=a.type._context,C=a.pendingProps,A=a.memoizedProps,U=C.value,qt(Nf,w._currentValue),w._currentValue=U,A!==null)if(kr(A.value,U)){if(A.children===C.children&&!or.current){a=fs(s,a,p);break e}}else for(A=a.child,A!==null&&(A.return=a);A!==null;){var oe=A.dependencies;if(oe!==null){U=A.child;for(var de=oe.firstContext;de!==null;){if(de.context===w){if(A.tag===1){de=ds(-1,p&-p),de.tag=2;var Ee=A.updateQueue;if(Ee!==null){Ee=Ee.shared;var Le=Ee.pending;Le===null?de.next=de:(de.next=Le.next,Le.next=de),Ee.pending=de}}A.lanes|=p,de=A.alternate,de!==null&&(de.lanes|=p),Tm(A.return,p,a),oe.lanes|=p;break}de=de.next}}else if(A.tag===10)U=A.type===a.type?null:A.child;else if(A.tag===18){if(U=A.return,U===null)throw Error(n(341));U.lanes|=p,oe=U.alternate,oe!==null&&(oe.lanes|=p),Tm(U,p,a),U=A.sibling}else U=A.child;if(U!==null)U.return=A;else for(U=A;U!==null;){if(U===a){U=null;break}if(A=U.sibling,A!==null){A.return=U.return,U=A;break}U=U.return}A=U}Yn(s,a,C.children,p),a=a.child}return a;case 9:return C=a.type,w=a.pendingProps.children,Wl(a,p),C=Ur(C),w=w(C),a.flags|=1,Yn(s,a,w,p),a.child;case 14:return w=a.type,C=li(w,a.pendingProps),C=li(w.type,C),rw(s,a,w,C,p);case 15:return iw(s,a,a.type,a.pendingProps,p);case 17:return w=a.type,C=a.pendingProps,C=a.elementType===w?C:li(w,C),Df(s,a),a.tag=1,ar(w)?(s=!0,wf(a)):s=!1,Wl(a,p),G0(a,w,C),Vm(a,w,C,p),Ym(null,a,w,!0,s,p);case 19:return fw(s,a,p);case 22:return sw(s,a,p)}throw Error(n(156,a.tag))};function Mw(s,a){return qd(s,a)}function WP(s,a,p,w){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(s,a,p,w){return new WP(s,a,p,w)}function gg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function VP(s){if(typeof s=="function")return gg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===W)return 14}return 2}function vo(s,a){var p=s.alternate;return p===null?(p=Wr(s.tag,a,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=a,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,a=s.dependencies,p.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Gf(s,a,p,w,C,A){var U=2;if(w=s,typeof s=="function")gg(s)&&(U=1);else if(typeof s=="string")U=5;else e:switch(s){case G:return Ia(p.children,C,A,a);case J:U=8,C|=8;break;case V:return s=Wr(12,p,a,C|2),s.elementType=V,s.lanes=A,s;case re:return s=Wr(13,p,a,C),s.elementType=re,s.lanes=A,s;case M:return s=Wr(19,p,a,C),s.elementType=M,s.lanes=A,s;case se:return Yf(p,C,A,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Y:U=10;break e;case Q:U=9;break e;case $:U=11;break e;case W:U=14;break e;case ae:U=16,w=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Wr(U,p,a,C),a.elementType=s,a.type=w,a.lanes=A,a}function Ia(s,a,p,w){return s=Wr(7,s,w,a),s.lanes=p,s}function Yf(s,a,p,w){return s=Wr(22,s,w,a),s.elementType=se,s.lanes=p,s.stateNode={isHidden:!1},s}function yg(s,a,p){return s=Wr(6,s,null,a),s.lanes=p,s}function vg(s,a,p){return a=Wr(4,s.children!==null?s.children:[],s.key,a),a.lanes=p,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function qP(s,a,p,w,C){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zs(0),this.expirationTimes=Zs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zs(0),this.identifierPrefix=w,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function xg(s,a,p,w,C,A,U,oe,de){return s=new qP(s,a,p,oe,de),a===1?(a=1,A===!0&&(a|=8)):a=0,A=Wr(3,null,null,a),s.current=A,A.stateNode=s,A.memoizedState={element:w,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rm(A),s}function KP(s,a,p){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:w==null?null:""+w,children:s,containerInfo:a,implementation:p}}function zw(s){if(!s)return lo;s=s._reactInternals;e:{if(wi(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ar(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var p=s.type;if(ar(p))return d0(s,p,a)}return a}function Dw(s,a,p,w,C,A,U,oe,de){return s=xg(p,w,!0,s,C,A,U,oe,de),s.context=zw(null),p=s.current,w=Jn(),C=go(p),A=ds(w,C),A.callback=a??null,fo(p,A,C),s.current.lanes=C,xr(s,C,w),ur(s,w),s}function Jf(s,a,p,w){var C=a.current,A=Jn(),U=go(C);return p=zw(p),a.context===null?a.context=p:a.pendingContext=p,a=ds(A,U),a.payload={element:s},w=w===void 0?null:w,w!==null&&(a.callback=w),s=fo(C,a,U),s!==null&&(di(s,C,U,A),jf(s,C,U)),U}function Qf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Bw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<a?p:a}}function wg(s,a){Bw(s,a),(s=s.alternate)&&Bw(s,a)}function GP(){return null}var Fw=typeof reportError=="function"?reportError:function(s){console.error(s)};function _g(s){this._internalRoot=s}Xf.prototype.render=_g.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Jf(s,a,null,null)},Xf.prototype.unmount=_g.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ta(function(){Jf(null,s,null,null)}),a[Ft]=null}};function Xf(s){this._internalRoot=s}Xf.prototype.unstable_scheduleHydration=function(s){if(s){var a=xl();s={blockedOn:null,target:s,priority:a};for(var p=0;p<_n.length&&a!==0&&a<_n[p].priority;p++);_n.splice(p,0,s),p===0&&wl(s)}};function bg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function eh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function $w(){}function YP(s,a,p,w,C){if(C){if(typeof w=="function"){var A=w;w=function(){var Ee=Qf(U);A.call(Ee)}}var U=Dw(a,w,s,0,null,!1,!1,"",$w);return s._reactRootContainer=U,s[Ft]=U.current,ro(s.nodeType===8?s.parentNode:s),Ta(),U}for(;C=s.lastChild;)s.removeChild(C);if(typeof w=="function"){var oe=w;w=function(){var Ee=Qf(de);oe.call(Ee)}}var de=xg(s,0,!1,null,null,!1,!1,"",$w);return s._reactRootContainer=de,s[Ft]=de.current,ro(s.nodeType===8?s.parentNode:s),Ta(function(){Jf(a,de,p,w)}),de}function th(s,a,p,w,C){var A=p._reactRootContainer;if(A){var U=A;if(typeof C=="function"){var oe=C;C=function(){var de=Qf(U);oe.call(de)}}Jf(a,U,s,C)}else U=YP(p,a,s,C,w);return Qf(U)}yl=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var p=pt(a.pendingLanes);p!==0&&(ni(a,p|1),ur(a,on()),(It&6)===0&&(Yl=on()+500,co()))}break;case 13:Ta(function(){var w=us(s,1);if(w!==null){var C=Jn();di(w,s,1,C)}}),wg(s,1)}},Gi=function(s){if(s.tag===13){var a=us(s,134217728);if(a!==null){var p=Jn();di(a,s,134217728,p)}wg(s,134217728)}},vl=function(s){if(s.tag===13){var a=go(s),p=us(s,a);if(p!==null){var w=Jn();di(p,s,a,w)}wg(s,a)}},xl=function(){return At},da=function(s,a){var p=At;try{return At=s,a()}finally{At=p}},Bs=function(s,a,p){switch(a){case"input":if(ie(s,p),a=p.name,p.type==="radio"&&a!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<p.length;a++){var w=p[a];if(w!==s&&w.form===s.form){var C=zl(w);if(!C)throw Error(n(90));Ot(w),ie(w,C)}}}break;case"textarea":We(s,p);break;case"select":a=p.value,a!=null&&Te(s,!!p.multiple,a,!1)}},$d=hg,Ud=Ta;var JP={usingClientEntryPoint:!1,Events:[ss,os,zl,Bd,Fd,hg]},Fu={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QP={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Wd(s),s===null?null:s.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||GP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{ca=nh.inject(QP),vr=nh}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JP,dr.createPortal=function(s,a){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bg(a))throw Error(n(200));return KP(s,a,null,p)},dr.createRoot=function(s,a){if(!bg(s))throw Error(n(299));var p=!1,w="",C=Fw;return a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(w=a.identifierPrefix),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=xg(s,1,!1,null,null,p,!1,w,C),s[Ft]=a.current,ro(s.nodeType===8?s.parentNode:s),new _g(a)},dr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Wd(a),s=s===null?null:s.stateNode,s},dr.flushSync=function(s){return Ta(s)},dr.hydrate=function(s,a,p){if(!eh(a))throw Error(n(200));return th(null,s,a,!0,p)},dr.hydrateRoot=function(s,a,p){if(!bg(s))throw Error(n(405));var w=p!=null&&p.hydratedSources||null,C=!1,A="",U=Fw;if(p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onRecoverableError!==void 0&&(U=p.onRecoverableError)),a=Dw(a,null,s,1,p??null,C,!1,A,U),s[Ft]=a.current,ro(s),w)for(s=0;s<w.length;s++)p=w[s],C=p._getVersion,C=C(p._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[p,C]:a.mutableSourceEagerHydrationData.push(p,C);return new Xf(a)},dr.render=function(s,a,p){if(!eh(a))throw Error(n(200));return th(null,s,a,!1,p)},dr.unmountComponentAtNode=function(s){if(!eh(s))throw Error(n(40));return s._reactRootContainer?(Ta(function(){th(null,null,s,!1,function(){s._reactRootContainer=null,s[Ft]=null})}),!0):!1},dr.unstable_batchedUpdates=hg,dr.unstable_renderSubtreeIntoContainer=function(s,a,p,w){if(!eh(p))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return th(s,a,p,!1,w)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var Yw;function I1(){if(Yw)return Ng.exports;Yw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ng.exports=lT(),Ng.exports}var Jw;function cT(){if(Jw)return sh;Jw=1;var e=I1();return sh.createRoot=e.createRoot,sh.hydrateRoot=e.hydrateRoot,sh}var uT=cT(),Pg={},Uu={},Qw;function dT(){if(Qw)return Uu;Qw=1,Uu.byteLength=d,Uu.toByteArray=m,Uu.fromByteArray=E;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,l=r.length;i<l;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function u(_){var k=_.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=_.indexOf("=");x===-1&&(x=k);var b=x===k?0:4-x%4;return[x,b]}function d(_){var k=u(_),x=k[0],b=k[1];return(x+b)*3/4-b}function h(_,k,x){return(k+x)*3/4-x}function m(_){var k,x=u(_),b=x[0],S=x[1],j=new n(h(_,b,S)),R=0,D=S>0?b-4:b,B;for(B=0;B<D;B+=4)k=t[_.charCodeAt(B)]<<18|t[_.charCodeAt(B+1)]<<12|t[_.charCodeAt(B+2)]<<6|t[_.charCodeAt(B+3)],j[R++]=k>>16&255,j[R++]=k>>8&255,j[R++]=k&255;return S===2&&(k=t[_.charCodeAt(B)]<<2|t[_.charCodeAt(B+1)]>>4,j[R++]=k&255),S===1&&(k=t[_.charCodeAt(B)]<<10|t[_.charCodeAt(B+1)]<<4|t[_.charCodeAt(B+2)]>>2,j[R++]=k>>8&255,j[R++]=k&255),j}function y(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function g(_,k,x){for(var b,S=[],j=k;j<x;j+=3)b=(_[j]<<16&16711680)+(_[j+1]<<8&65280)+(_[j+2]&255),S.push(y(b));return S.join("")}function E(_){for(var k,x=_.length,b=x%3,S=[],j=16383,R=0,D=x-b;R<D;R+=j)S.push(g(_,R,R+j>D?D:R+j));return b===1?(k=_[x-1],S.push(e[k>>2]+e[k<<4&63]+"==")):b===2&&(k=(_[x-2]<<8)+_[x-1],S.push(e[k>>10]+e[k>>4&63]+e[k<<2&63]+"=")),S.join("")}return Uu}var oh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Xw;function fT(){return Xw||(Xw=1,oh.read=function(e,t,n,r,i){var l,u,d=i*8-r-1,h=(1<<d)-1,m=h>>1,y=-7,g=n?i-1:0,E=n?-1:1,_=e[t+g];for(g+=E,l=_&(1<<-y)-1,_>>=-y,y+=d;y>0;l=l*256+e[t+g],g+=E,y-=8);for(u=l&(1<<-y)-1,l>>=-y,y+=r;y>0;u=u*256+e[t+g],g+=E,y-=8);if(l===0)l=1-m;else{if(l===h)return u?NaN:(_?-1:1)*(1/0);u=u+Math.pow(2,r),l=l-m}return(_?-1:1)*u*Math.pow(2,l-r)},oh.write=function(e,t,n,r,i,l){var u,d,h,m=l*8-i-1,y=(1<<m)-1,g=y>>1,E=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=r?0:l-1,k=r?1:-1,x=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,u=y):(u=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+g>=1?t+=E/h:t+=E*Math.pow(2,1-g),t*h>=2&&(u++,h/=2),u+g>=y?(d=0,u=y):u+g>=1?(d=(t*h-1)*Math.pow(2,i),u=u+g):(d=t*Math.pow(2,g-1)*Math.pow(2,i),u=0));i>=8;e[n+_]=d&255,_+=k,d/=256,i-=8);for(u=u<<i|d,m+=i;m>0;e[n+_]=u&255,_+=k,u/=256,m-=8);e[n+_-k]|=x*128}),oh}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var e_;function hT(){return e_||(e_=1,function(e){const t=dT(),n=fT(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=d,e.SlowBuffer=j,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,d.TYPED_ARRAY_SUPPORT=l(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const Z=new Uint8Array(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,Uint8Array.prototype),Object.setPrototypeOf(Z,P),Z.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function u(Z){if(Z>i)throw new RangeError('The value "'+Z+'" is invalid for option "size"');const P=new Uint8Array(Z);return Object.setPrototypeOf(P,d.prototype),P}function d(Z,P,I){if(typeof Z=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(Z)}return h(Z,P,I)}d.poolSize=8192;function h(Z,P,I){if(typeof Z=="string")return E(Z,P);if(ArrayBuffer.isView(Z))return k(Z);if(Z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z);if(me(Z,ArrayBuffer)||Z&&me(Z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(Z,SharedArrayBuffer)||Z&&me(Z.buffer,SharedArrayBuffer)))return x(Z,P,I);if(typeof Z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const X=Z.valueOf&&Z.valueOf();if(X!=null&&X!==Z)return d.from(X,P,I);const fe=b(Z);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Z[Symbol.toPrimitive]=="function")return d.from(Z[Symbol.toPrimitive]("string"),P,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}d.from=function(Z,P,I){return h(Z,P,I)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function m(Z){if(typeof Z!="number")throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function y(Z,P,I){return m(Z),Z<=0?u(Z):P!==void 0?typeof I=="string"?u(Z).fill(P,I):u(Z).fill(P):u(Z)}d.alloc=function(Z,P,I){return y(Z,P,I)};function g(Z){return m(Z),u(Z<0?0:S(Z)|0)}d.allocUnsafe=function(Z){return g(Z)},d.allocUnsafeSlow=function(Z){return g(Z)};function E(Z,P){if((typeof P!="string"||P==="")&&(P="utf8"),!d.isEncoding(P))throw new TypeError("Unknown encoding: "+P);const I=R(Z,P)|0;let X=u(I);const fe=X.write(Z,P);return fe!==I&&(X=X.slice(0,fe)),X}function _(Z){const P=Z.length<0?0:S(Z.length)|0,I=u(P);for(let X=0;X<P;X+=1)I[X]=Z[X]&255;return I}function k(Z){if(me(Z,Uint8Array)){const P=new Uint8Array(Z);return x(P.buffer,P.byteOffset,P.byteLength)}return _(Z)}function x(Z,P,I){if(P<0||Z.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<P+(I||0))throw new RangeError('"length" is outside of buffer bounds');let X;return P===void 0&&I===void 0?X=new Uint8Array(Z):I===void 0?X=new Uint8Array(Z,P):X=new Uint8Array(Z,P,I),Object.setPrototypeOf(X,d.prototype),X}function b(Z){if(d.isBuffer(Z)){const P=S(Z.length)|0,I=u(P);return I.length===0||Z.copy(I,0,0,P),I}if(Z.length!==void 0)return typeof Z.length!="number"||Me(Z.length)?u(0):_(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return _(Z.data)}function S(Z){if(Z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Z|0}function j(Z){return+Z!=Z&&(Z=0),d.alloc(+Z)}d.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==d.prototype},d.compare=function(P,I){if(me(P,Uint8Array)&&(P=d.from(P,P.offset,P.byteLength)),me(I,Uint8Array)&&(I=d.from(I,I.offset,I.byteLength)),!d.isBuffer(P)||!d.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===I)return 0;let X=P.length,fe=I.length;for(let we=0,Se=Math.min(X,fe);we<Se;++we)if(P[we]!==I[we]){X=P[we],fe=I[we];break}return X<fe?-1:fe<X?1:0},d.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(P,I){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return d.alloc(0);let X;if(I===void 0)for(I=0,X=0;X<P.length;++X)I+=P[X].length;const fe=d.allocUnsafe(I);let we=0;for(X=0;X<P.length;++X){let Se=P[X];if(me(Se,Uint8Array))we+Se.length>fe.length?(d.isBuffer(Se)||(Se=d.from(Se)),Se.copy(fe,we)):Uint8Array.prototype.set.call(fe,Se,we);else if(d.isBuffer(Se))Se.copy(fe,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=Se.length}return fe};function R(Z,P){if(d.isBuffer(Z))return Z.length;if(ArrayBuffer.isView(Z)||me(Z,ArrayBuffer))return Z.byteLength;if(typeof Z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);const I=Z.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&I===0)return 0;let fe=!1;for(;;)switch(P){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return ie(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return Pe(Z).length;default:if(fe)return X?-1:ie(Z).length;P=(""+P).toLowerCase(),fe=!0}}d.byteLength=R;function D(Z,P,I){let X=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,P>>>=0,I<=P))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return ee(this,P,I);case"utf8":case"utf-8":return M(this,P,I);case"ascii":return se(this,P,I);case"latin1":case"binary":return ne(this,P,I);case"base64":return re(this,P,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,P,I);default:if(X)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),X=!0}}d.prototype._isBuffer=!0;function B(Z,P,I){const X=Z[P];Z[P]=Z[I],Z[I]=X}d.prototype.swap16=function(){const P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let I=0;I<P;I+=2)B(this,I,I+1);return this},d.prototype.swap32=function(){const P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let I=0;I<P;I+=4)B(this,I,I+3),B(this,I+1,I+2);return this},d.prototype.swap64=function(){const P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let I=0;I<P;I+=8)B(this,I,I+7),B(this,I+1,I+6),B(this,I+2,I+5),B(this,I+3,I+4);return this},d.prototype.toString=function(){const P=this.length;return P===0?"":arguments.length===0?M(this,0,P):D.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(P){if(!d.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:d.compare(this,P)===0},d.prototype.inspect=function(){let P="";const I=e.INSPECT_MAX_BYTES;return P=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(P+=" ... "),"<Buffer "+P+">"},r&&(d.prototype[r]=d.prototype.inspect),d.prototype.compare=function(P,I,X,fe,we){if(me(P,Uint8Array)&&(P=d.from(P,P.offset,P.byteLength)),!d.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(I===void 0&&(I=0),X===void 0&&(X=P?P.length:0),fe===void 0&&(fe=0),we===void 0&&(we=this.length),I<0||X>P.length||fe<0||we>this.length)throw new RangeError("out of range index");if(fe>=we&&I>=X)return 0;if(fe>=we)return-1;if(I>=X)return 1;if(I>>>=0,X>>>=0,fe>>>=0,we>>>=0,this===P)return 0;let Se=we-fe,dt=X-I;const Dt=Math.min(Se,dt),kt=this.slice(fe,we),Pt=P.slice(I,X);for(let Tt=0;Tt<Dt;++Tt)if(kt[Tt]!==Pt[Tt]){Se=kt[Tt],dt=Pt[Tt];break}return Se<dt?-1:dt<Se?1:0};function q(Z,P,I,X,fe){if(Z.length===0)return-1;if(typeof I=="string"?(X=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,Me(I)&&(I=fe?0:Z.length-1),I<0&&(I=Z.length+I),I>=Z.length){if(fe)return-1;I=Z.length-1}else if(I<0)if(fe)I=0;else return-1;if(typeof P=="string"&&(P=d.from(P,X)),d.isBuffer(P))return P.length===0?-1:G(Z,P,I,X,fe);if(typeof P=="number")return P=P&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(Z,P,I):Uint8Array.prototype.lastIndexOf.call(Z,P,I):G(Z,[P],I,X,fe);throw new TypeError("val must be string, number or Buffer")}function G(Z,P,I,X,fe){let we=1,Se=Z.length,dt=P.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(Z.length<2||P.length<2)return-1;we=2,Se/=2,dt/=2,I/=2}function Dt(Pt,Tt){return we===1?Pt[Tt]:Pt.readUInt16BE(Tt*we)}let kt;if(fe){let Pt=-1;for(kt=I;kt<Se;kt++)if(Dt(Z,kt)===Dt(P,Pt===-1?0:kt-Pt)){if(Pt===-1&&(Pt=kt),kt-Pt+1===dt)return Pt*we}else Pt!==-1&&(kt-=kt-Pt),Pt=-1}else for(I+dt>Se&&(I=Se-dt),kt=I;kt>=0;kt--){let Pt=!0;for(let Tt=0;Tt<dt;Tt++)if(Dt(Z,kt+Tt)!==Dt(P,Tt)){Pt=!1;break}if(Pt)return kt}return-1}d.prototype.includes=function(P,I,X){return this.indexOf(P,I,X)!==-1},d.prototype.indexOf=function(P,I,X){return q(this,P,I,X,!0)},d.prototype.lastIndexOf=function(P,I,X){return q(this,P,I,X,!1)};function J(Z,P,I,X){I=Number(I)||0;const fe=Z.length-I;X?(X=Number(X),X>fe&&(X=fe)):X=fe;const we=P.length;X>we/2&&(X=we/2);let Se;for(Se=0;Se<X;++Se){const dt=parseInt(P.substr(Se*2,2),16);if(Me(dt))return Se;Z[I+Se]=dt}return Se}function V(Z,P,I,X){return Te(ie(P,Z.length-I),Z,I,X)}function Y(Z,P,I,X){return Te(te(P),Z,I,X)}function Q(Z,P,I,X){return Te(Pe(P),Z,I,X)}function $(Z,P,I,X){return Te(pe(P,Z.length-I),Z,I,X)}d.prototype.write=function(P,I,X,fe){if(I===void 0)fe="utf8",X=this.length,I=0;else if(X===void 0&&typeof I=="string")fe=I,X=this.length,I=0;else if(isFinite(I))I=I>>>0,isFinite(X)?(X=X>>>0,fe===void 0&&(fe="utf8")):(fe=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const we=this.length-I;if((X===void 0||X>we)&&(X=we),P.length>0&&(X<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Se=!1;for(;;)switch(fe){case"hex":return J(this,P,I,X);case"utf8":case"utf-8":return V(this,P,I,X);case"ascii":case"latin1":case"binary":return Y(this,P,I,X);case"base64":return Q(this,P,I,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,P,I,X);default:if(Se)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Se=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(Z,P,I){return P===0&&I===Z.length?t.fromByteArray(Z):t.fromByteArray(Z.slice(P,I))}function M(Z,P,I){I=Math.min(Z.length,I);const X=[];let fe=P;for(;fe<I;){const we=Z[fe];let Se=null,dt=we>239?4:we>223?3:we>191?2:1;if(fe+dt<=I){let Dt,kt,Pt,Tt;switch(dt){case 1:we<128&&(Se=we);break;case 2:Dt=Z[fe+1],(Dt&192)===128&&(Tt=(we&31)<<6|Dt&63,Tt>127&&(Se=Tt));break;case 3:Dt=Z[fe+1],kt=Z[fe+2],(Dt&192)===128&&(kt&192)===128&&(Tt=(we&15)<<12|(Dt&63)<<6|kt&63,Tt>2047&&(Tt<55296||Tt>57343)&&(Se=Tt));break;case 4:Dt=Z[fe+1],kt=Z[fe+2],Pt=Z[fe+3],(Dt&192)===128&&(kt&192)===128&&(Pt&192)===128&&(Tt=(we&15)<<18|(Dt&63)<<12|(kt&63)<<6|Pt&63,Tt>65535&&Tt<1114112&&(Se=Tt))}}Se===null?(Se=65533,dt=1):Se>65535&&(Se-=65536,X.push(Se>>>10&1023|55296),Se=56320|Se&1023),X.push(Se),fe+=dt}return ae(X)}const W=4096;function ae(Z){const P=Z.length;if(P<=W)return String.fromCharCode.apply(String,Z);let I="",X=0;for(;X<P;)I+=String.fromCharCode.apply(String,Z.slice(X,X+=W));return I}function se(Z,P,I){let X="";I=Math.min(Z.length,I);for(let fe=P;fe<I;++fe)X+=String.fromCharCode(Z[fe]&127);return X}function ne(Z,P,I){let X="";I=Math.min(Z.length,I);for(let fe=P;fe<I;++fe)X+=String.fromCharCode(Z[fe]);return X}function ee(Z,P,I){const X=Z.length;(!P||P<0)&&(P=0),(!I||I<0||I>X)&&(I=X);let fe="";for(let we=P;we<I;++we)fe+=We[Z[we]];return fe}function le(Z,P,I){const X=Z.slice(P,I);let fe="";for(let we=0;we<X.length-1;we+=2)fe+=String.fromCharCode(X[we]+X[we+1]*256);return fe}d.prototype.slice=function(P,I){const X=this.length;P=~~P,I=I===void 0?X:~~I,P<0?(P+=X,P<0&&(P=0)):P>X&&(P=X),I<0?(I+=X,I<0&&(I=0)):I>X&&(I=X),I<P&&(I=P);const fe=this.subarray(P,I);return Object.setPrototypeOf(fe,d.prototype),fe};function F(Z,P,I){if(Z%1!==0||Z<0)throw new RangeError("offset is not uint");if(Z+P>I)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(P,I,X){P=P>>>0,I=I>>>0,X||F(P,I,this.length);let fe=this[P],we=1,Se=0;for(;++Se<I&&(we*=256);)fe+=this[P+Se]*we;return fe},d.prototype.readUintBE=d.prototype.readUIntBE=function(P,I,X){P=P>>>0,I=I>>>0,X||F(P,I,this.length);let fe=this[P+--I],we=1;for(;I>0&&(we*=256);)fe+=this[P+--I]*we;return fe},d.prototype.readUint8=d.prototype.readUInt8=function(P,I){return P=P>>>0,I||F(P,1,this.length),this[P]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(P,I){return P=P>>>0,I||F(P,2,this.length),this[P]|this[P+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(P,I){return P=P>>>0,I||F(P,2,this.length),this[P]<<8|this[P+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(P,I){return P=P>>>0,I||F(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(P,I){return P=P>>>0,I||F(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},d.prototype.readBigUInt64LE=Oe(function(P){P=P>>>0,gt(P,"offset");const I=this[P],X=this[P+7];(I===void 0||X===void 0)&&z(P,this.length-8);const fe=I+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24,we=this[++P]+this[++P]*2**8+this[++P]*2**16+X*2**24;return BigInt(fe)+(BigInt(we)<<BigInt(32))}),d.prototype.readBigUInt64BE=Oe(function(P){P=P>>>0,gt(P,"offset");const I=this[P],X=this[P+7];(I===void 0||X===void 0)&&z(P,this.length-8);const fe=I*2**24+this[++P]*2**16+this[++P]*2**8+this[++P],we=this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+X;return(BigInt(fe)<<BigInt(32))+BigInt(we)}),d.prototype.readIntLE=function(P,I,X){P=P>>>0,I=I>>>0,X||F(P,I,this.length);let fe=this[P],we=1,Se=0;for(;++Se<I&&(we*=256);)fe+=this[P+Se]*we;return we*=128,fe>=we&&(fe-=Math.pow(2,8*I)),fe},d.prototype.readIntBE=function(P,I,X){P=P>>>0,I=I>>>0,X||F(P,I,this.length);let fe=I,we=1,Se=this[P+--fe];for(;fe>0&&(we*=256);)Se+=this[P+--fe]*we;return we*=128,Se>=we&&(Se-=Math.pow(2,8*I)),Se},d.prototype.readInt8=function(P,I){return P=P>>>0,I||F(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},d.prototype.readInt16LE=function(P,I){P=P>>>0,I||F(P,2,this.length);const X=this[P]|this[P+1]<<8;return X&32768?X|4294901760:X},d.prototype.readInt16BE=function(P,I){P=P>>>0,I||F(P,2,this.length);const X=this[P+1]|this[P]<<8;return X&32768?X|4294901760:X},d.prototype.readInt32LE=function(P,I){return P=P>>>0,I||F(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},d.prototype.readInt32BE=function(P,I){return P=P>>>0,I||F(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},d.prototype.readBigInt64LE=Oe(function(P){P=P>>>0,gt(P,"offset");const I=this[P],X=this[P+7];(I===void 0||X===void 0)&&z(P,this.length-8);const fe=this[P+4]+this[P+5]*2**8+this[P+6]*2**16+(X<<24);return(BigInt(fe)<<BigInt(32))+BigInt(I+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24)}),d.prototype.readBigInt64BE=Oe(function(P){P=P>>>0,gt(P,"offset");const I=this[P],X=this[P+7];(I===void 0||X===void 0)&&z(P,this.length-8);const fe=(I<<24)+this[++P]*2**16+this[++P]*2**8+this[++P];return(BigInt(fe)<<BigInt(32))+BigInt(this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+X)}),d.prototype.readFloatLE=function(P,I){return P=P>>>0,I||F(P,4,this.length),n.read(this,P,!0,23,4)},d.prototype.readFloatBE=function(P,I){return P=P>>>0,I||F(P,4,this.length),n.read(this,P,!1,23,4)},d.prototype.readDoubleLE=function(P,I){return P=P>>>0,I||F(P,8,this.length),n.read(this,P,!0,52,8)},d.prototype.readDoubleBE=function(P,I){return P=P>>>0,I||F(P,8,this.length),n.read(this,P,!1,52,8)};function K(Z,P,I,X,fe,we){if(!d.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>fe||P<we)throw new RangeError('"value" argument is out of bounds');if(I+X>Z.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(P,I,X,fe){if(P=+P,I=I>>>0,X=X>>>0,!fe){const dt=Math.pow(2,8*X)-1;K(this,P,I,X,dt,0)}let we=1,Se=0;for(this[I]=P&255;++Se<X&&(we*=256);)this[I+Se]=P/we&255;return I+X},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(P,I,X,fe){if(P=+P,I=I>>>0,X=X>>>0,!fe){const dt=Math.pow(2,8*X)-1;K(this,P,I,X,dt,0)}let we=X-1,Se=1;for(this[I+we]=P&255;--we>=0&&(Se*=256);)this[I+we]=P/Se&255;return I+X},d.prototype.writeUint8=d.prototype.writeUInt8=function(P,I,X){return P=+P,I=I>>>0,X||K(this,P,I,1,255,0),this[I]=P&255,I+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(P,I,X){return P=+P,I=I>>>0,X||K(this,P,I,2,65535,0),this[I]=P&255,this[I+1]=P>>>8,I+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(P,I,X){return P=+P,I=I>>>0,X||K(this,P,I,2,65535,0),this[I]=P>>>8,this[I+1]=P&255,I+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(P,I,X){return P=+P,I=I>>>0,X||K(this,P,I,4,4294967295,0),this[I+3]=P>>>24,this[I+2]=P>>>16,this[I+1]=P>>>8,this[I]=P&255,I+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(P,I,X){return P=+P,I=I>>>0,X||K(this,P,I,4,4294967295,0),this[I]=P>>>24,this[I+1]=P>>>16,this[I+2]=P>>>8,this[I+3]=P&255,I+4};function Ne(Z,P,I,X,fe){Ot(P,X,fe,Z,I,7);let we=Number(P&BigInt(4294967295));Z[I++]=we,we=we>>8,Z[I++]=we,we=we>>8,Z[I++]=we,we=we>>8,Z[I++]=we;let Se=Number(P>>BigInt(32)&BigInt(4294967295));return Z[I++]=Se,Se=Se>>8,Z[I++]=Se,Se=Se>>8,Z[I++]=Se,Se=Se>>8,Z[I++]=Se,I}function be(Z,P,I,X,fe){Ot(P,X,fe,Z,I,7);let we=Number(P&BigInt(4294967295));Z[I+7]=we,we=we>>8,Z[I+6]=we,we=we>>8,Z[I+5]=we,we=we>>8,Z[I+4]=we;let Se=Number(P>>BigInt(32)&BigInt(4294967295));return Z[I+3]=Se,Se=Se>>8,Z[I+2]=Se,Se=Se>>8,Z[I+1]=Se,Se=Se>>8,Z[I]=Se,I+8}d.prototype.writeBigUInt64LE=Oe(function(P,I=0){return Ne(this,P,I,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Oe(function(P,I=0){return be(this,P,I,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(P,I,X,fe){if(P=+P,I=I>>>0,!fe){const Dt=Math.pow(2,8*X-1);K(this,P,I,X,Dt-1,-Dt)}let we=0,Se=1,dt=0;for(this[I]=P&255;++we<X&&(Se*=256);)P<0&&dt===0&&this[I+we-1]!==0&&(dt=1),this[I+we]=(P/Se>>0)-dt&255;return I+X},d.prototype.writeIntBE=function(P,I,X,fe){if(P=+P,I=I>>>0,!fe){const Dt=Math.pow(2,8*X-1);K(this,P,I,X,Dt-1,-Dt)}let we=X-1,Se=1,dt=0;for(this[I+we]=P&255;--we>=0&&(Se*=256);)P<0&&dt===0&&this[I+we+1]!==0&&(dt=1),this[I+we]=(P/Se>>0)-dt&255;return I+X},d.prototype.writeInt8=function(P,I,X){return P=+P,I=I>>>0,X||K(this,P,I,1,127,-128),P<0&&(P=255+P+1),this[I]=P&255,I+1},d.prototype.writeInt16LE=function(P,I,X){return P=+P,I=I>>>0,X||K(this,P,I,2,32767,-32768),this[I]=P&255,this[I+1]=P>>>8,I+2},d.prototype.writeInt16BE=function(P,I,X){return P=+P,I=I>>>0,X||K(this,P,I,2,32767,-32768),this[I]=P>>>8,this[I+1]=P&255,I+2},d.prototype.writeInt32LE=function(P,I,X){return P=+P,I=I>>>0,X||K(this,P,I,4,2147483647,-2147483648),this[I]=P&255,this[I+1]=P>>>8,this[I+2]=P>>>16,this[I+3]=P>>>24,I+4},d.prototype.writeInt32BE=function(P,I,X){return P=+P,I=I>>>0,X||K(this,P,I,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[I]=P>>>24,this[I+1]=P>>>16,this[I+2]=P>>>8,this[I+3]=P&255,I+4},d.prototype.writeBigInt64LE=Oe(function(P,I=0){return Ne(this,P,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Oe(function(P,I=0){return be(this,P,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(Z,P,I,X,fe,we){if(I+X>Z.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function Re(Z,P,I,X,fe){return P=+P,I=I>>>0,fe||xe(Z,P,I,4),n.write(Z,P,I,X,23,4),I+4}d.prototype.writeFloatLE=function(P,I,X){return Re(this,P,I,!0,X)},d.prototype.writeFloatBE=function(P,I,X){return Re(this,P,I,!1,X)};function Ue(Z,P,I,X,fe){return P=+P,I=I>>>0,fe||xe(Z,P,I,8),n.write(Z,P,I,X,52,8),I+8}d.prototype.writeDoubleLE=function(P,I,X){return Ue(this,P,I,!0,X)},d.prototype.writeDoubleBE=function(P,I,X){return Ue(this,P,I,!1,X)},d.prototype.copy=function(P,I,X,fe){if(!d.isBuffer(P))throw new TypeError("argument should be a Buffer");if(X||(X=0),!fe&&fe!==0&&(fe=this.length),I>=P.length&&(I=P.length),I||(I=0),fe>0&&fe<X&&(fe=X),fe===X||P.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),P.length-I<fe-X&&(fe=P.length-I+X);const we=fe-X;return this===P&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(I,X,fe):Uint8Array.prototype.set.call(P,this.subarray(X,fe),I),we},d.prototype.fill=function(P,I,X,fe){if(typeof P=="string"){if(typeof I=="string"?(fe=I,I=0,X=this.length):typeof X=="string"&&(fe=X,X=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!d.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(P.length===1){const Se=P.charCodeAt(0);(fe==="utf8"&&Se<128||fe==="latin1")&&(P=Se)}}else typeof P=="number"?P=P&255:typeof P=="boolean"&&(P=Number(P));if(I<0||this.length<I||this.length<X)throw new RangeError("Out of range index");if(X<=I)return this;I=I>>>0,X=X===void 0?this.length:X>>>0,P||(P=0);let we;if(typeof P=="number")for(we=I;we<X;++we)this[we]=P;else{const Se=d.isBuffer(P)?P:d.from(P,fe),dt=Se.length;if(dt===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(we=0;we<X-I;++we)this[we+I]=Se[we%dt]}return this};const De={};function Fe(Z,P,I){De[Z]=class extends I{constructor(){super(),Object.defineProperty(this,"message",{value:P.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Z}]`,this.stack,delete this.name}get code(){return Z}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${Z}]: ${this.message}`}}}Fe("ERR_BUFFER_OUT_OF_BOUNDS",function(Z){return Z?`${Z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Fe("ERR_INVALID_ARG_TYPE",function(Z,P){return`The "${Z}" argument must be of type number. Received type ${typeof P}`},TypeError),Fe("ERR_OUT_OF_RANGE",function(Z,P,I){let X=`The value of "${Z}" is out of range.`,fe=I;return Number.isInteger(I)&&Math.abs(I)>2**32?fe=ot(String(I)):typeof I=="bigint"&&(fe=String(I),(I>BigInt(2)**BigInt(32)||I<-(BigInt(2)**BigInt(32)))&&(fe=ot(fe)),fe+="n"),X+=` It must be ${P}. Received ${fe}`,X},RangeError);function ot(Z){let P="",I=Z.length;const X=Z[0]==="-"?1:0;for(;I>=X+4;I-=3)P=`_${Z.slice(I-3,I)}${P}`;return`${Z.slice(0,I)}${P}`}function St(Z,P,I){gt(P,"offset"),(Z[P]===void 0||Z[P+I]===void 0)&&z(P,Z.length-(I+1))}function Ot(Z,P,I,X,fe,we){if(Z>I||Z<P){const Se=typeof P=="bigint"?"n":"";let dt;throw P===0||P===BigInt(0)?dt=`>= 0${Se} and < 2${Se} ** ${(we+1)*8}${Se}`:dt=`>= -(2${Se} ** ${(we+1)*8-1}${Se}) and < 2 ** ${(we+1)*8-1}${Se}`,new De.ERR_OUT_OF_RANGE("value",dt,Z)}St(X,fe,we)}function gt(Z,P){if(typeof Z!="number")throw new De.ERR_INVALID_ARG_TYPE(P,"number",Z)}function z(Z,P,I){throw Math.floor(Z)!==Z?(gt(Z,I),new De.ERR_OUT_OF_RANGE("offset","an integer",Z)):P<0?new De.ERR_BUFFER_OUT_OF_BOUNDS:new De.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${P}`,Z)}const Ce=/[^+/0-9A-Za-z-_]/g;function ke(Z){if(Z=Z.split("=")[0],Z=Z.trim().replace(Ce,""),Z.length<2)return"";for(;Z.length%4!==0;)Z=Z+"=";return Z}function ie(Z,P){P=P||1/0;let I;const X=Z.length;let fe=null;const we=[];for(let Se=0;Se<X;++Se){if(I=Z.charCodeAt(Se),I>55295&&I<57344){if(!fe){if(I>56319){(P-=3)>-1&&we.push(239,191,189);continue}else if(Se+1===X){(P-=3)>-1&&we.push(239,191,189);continue}fe=I;continue}if(I<56320){(P-=3)>-1&&we.push(239,191,189),fe=I;continue}I=(fe-55296<<10|I-56320)+65536}else fe&&(P-=3)>-1&&we.push(239,191,189);if(fe=null,I<128){if((P-=1)<0)break;we.push(I)}else if(I<2048){if((P-=2)<0)break;we.push(I>>6|192,I&63|128)}else if(I<65536){if((P-=3)<0)break;we.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((P-=4)<0)break;we.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return we}function te(Z){const P=[];for(let I=0;I<Z.length;++I)P.push(Z.charCodeAt(I)&255);return P}function pe(Z,P){let I,X,fe;const we=[];for(let Se=0;Se<Z.length&&!((P-=2)<0);++Se)I=Z.charCodeAt(Se),X=I>>8,fe=I%256,we.push(fe),we.push(X);return we}function Pe(Z){return t.toByteArray(ke(Z))}function Te(Z,P,I,X){let fe;for(fe=0;fe<X&&!(fe+I>=P.length||fe>=Z.length);++fe)P[fe+I]=Z[fe];return fe}function me(Z,P){return Z instanceof P||Z!=null&&Z.constructor!=null&&Z.constructor.name!=null&&Z.constructor.name===P.name}function Me(Z){return Z!==Z}const We=function(){const Z="0123456789abcdef",P=new Array(256);for(let I=0;I<16;++I){const X=I*16;for(let fe=0;fe<16;++fe)P[X+fe]=Z[I]+Z[fe]}return P}();function Oe(Z){return typeof BigInt>"u"?Qe:Z}function Qe(){throw new Error("BigInt not supported")}}(Pg)),Pg}var pT=hT();const mT=lp(pT);globalThis.Buffer||(globalThis.Buffer=mT.Buffer);AbortSignal.any||(AbortSignal.any=function(e){if(e.length===0)return new AbortController().signal;if(e.length===1)return e[0];for(const r of e)if(r.aborted){const i=new AbortController;return i.abort(r.reason),i.signal}const t=new AbortController,n=r=>{const i=r.target;t.abort(i.reason)};for(const r of e)r.addEventListener("abort",n,{once:!0});return t.signal.addEventListener("abort",()=>{for(const r of e)r.removeEventListener("abort",n)},{once:!0}),t.signal});AbortSignal.timeout||(AbortSignal.timeout=function(e){const t=new AbortController;return setTimeout(()=>{t.abort(new DOMException("The operation was aborted due to timeout","TimeoutError"))},e),t.signal});var T=cp();const jo=lp(T),kv=nT({__proto__:null,default:jo},[T]);class gT extends T.Component{constructor(n){super(n);Ze(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n,r;return this.state.hasError?this.props.fallback?this.props.fallback:c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-md w-full space-y-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. The error has been reported."})]}),c.jsx("div",{className:"bg-muted p-4 rounded-lg",children:c.jsxs("details",{className:"text-sm",children:[c.jsx("summary",{className:"cursor-pointer font-medium text-foreground",children:"Error details"}),c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-foreground",children:"Message:"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:(n=this.state.error)==null?void 0:n.message})]}),((r=this.state.error)==null?void 0:r.stack)&&c.jsxs("div",{children:[c.jsx("strong",{className:"text-foreground",children:"Stack trace:"}),c.jsx("pre",{className:"text-xs text-muted-foreground mt-1 overflow-auto max-h-32",children:this.state.error.stack})]})]})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try again"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors",children:"Reload page"})]})]})}):this.props.children}}var Bc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ja=typeof window>"u"||"Deno"in globalThis;function Yr(){}function yT(e,t){return typeof e=="function"?e(t):e}function gy(e){return typeof e=="number"&&e>=0&&e!==1/0}function L1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ac(e,t){return typeof e=="function"?e(t):e}function mi(e,t){return typeof e=="function"?e(t):e}function t_(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:l,queryKey:u,stale:d}=e;if(u){if(r){if(t.queryHash!==Sv(u,t.options))return!1}else if(!id(t.queryKey,u))return!1}if(n!=="all"){const h=t.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||i&&i!==t.state.fetchStatus||l&&!l(t))}function n_(e,t){const{exact:n,status:r,predicate:i,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Qa(t.options.mutationKey)!==Qa(l))return!1}else if(!id(t.options.mutationKey,l))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Sv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qa)(e)}function Qa(e){return JSON.stringify(e,(t,n)=>yy(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function id(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>id(e[n],t[n])):!1}function O1(e,t){if(e===t)return e;const n=r_(e)&&r_(t);if(n||yy(e)&&yy(t)){const r=n?e:Object.keys(e),i=r.length,l=n?t:Object.keys(t),u=l.length,d=n?[]:{};let h=0;for(let m=0;m<u;m++){const y=n?m:l[m];(!n&&r.includes(y)||n)&&e[y]===void 0&&t[y]===void 0?(d[y]=void 0,h++):(d[y]=O1(e[y],t[y]),d[y]===e[y]&&e[y]!==void 0&&h++)}return i===u&&h===i?e:d}return t}function Ih(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function r_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yy(e){if(!i_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!i_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function i_(e){return Object.prototype.toString.call(e)==="[object Object]"}function vT(e){return new Promise(t=>{setTimeout(t,e)})}function vy(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?O1(e,t):t}function xT(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function wT(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Nv=Symbol();function M1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Nv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ba,Ao,pc,_1,_T=(_1=class extends Bc{constructor(){super();tt(this,Ba);tt(this,Ao);tt(this,pc);Ve(this,pc,t=>{if(!Ja&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,Ao)||this.setEventListener(ue(this,pc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Ao))==null||t.call(this),Ve(this,Ao,void 0))}setEventListener(t){var n;Ve(this,pc,t),(n=ue(this,Ao))==null||n.call(this),Ve(this,Ao,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ue(this,Ba)!==t&&(Ve(this,Ba,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ue(this,Ba)=="boolean"?ue(this,Ba):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ba=new WeakMap,Ao=new WeakMap,pc=new WeakMap,_1),Cv=new _T,mc,Ro,gc,b1,bT=(b1=class extends Bc{constructor(){super();tt(this,mc,!0);tt(this,Ro);tt(this,gc);Ve(this,gc,t=>{if(!Ja&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ue(this,Ro)||this.setEventListener(ue(this,gc))}onUnsubscribe(){var t;this.hasListeners()||((t=ue(this,Ro))==null||t.call(this),Ve(this,Ro,void 0))}setEventListener(t){var n;Ve(this,gc,t),(n=ue(this,Ro))==null||n.call(this),Ve(this,Ro,t(this.setOnline.bind(this)))}setOnline(t){ue(this,mc)!==t&&(Ve(this,mc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ue(this,mc)}},mc=new WeakMap,Ro=new WeakMap,gc=new WeakMap,b1),Lh=new bT;function xy(){let e,t;const n=new Promise((i,l)=>{e=i,t=l});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function ET(e){return Math.min(1e3*2**e,3e4)}function z1(e){return(e??"online")==="online"?Lh.isOnline():!0}var D1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Tg(e){return e instanceof D1}function B1(e){let t=!1,n=0,r=!1,i;const l=xy(),u=x=>{var b;r||(E(new D1(x)),(b=e.abort)==null||b.call(e))},d=()=>{t=!0},h=()=>{t=!1},m=()=>Cv.isFocused()&&(e.networkMode==="always"||Lh.isOnline())&&e.canRun(),y=()=>z1(e.networkMode)&&e.canRun(),g=x=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,x),i==null||i(),l.resolve(x))},E=x=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,x),i==null||i(),l.reject(x))},_=()=>new Promise(x=>{var b;i=S=>{(r||m())&&x(S)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;i=void 0,r||(x=e.onContinue)==null||x.call(e)}),k=()=>{if(r)return;let x;const b=n===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(S){x=Promise.reject(S)}Promise.resolve(x).then(g).catch(S=>{var q;if(r)return;const j=e.retry??(Ja?0:3),R=e.retryDelay??ET,D=typeof R=="function"?R(n,S):R,B=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,S);if(t||!B){E(S);return}n++,(q=e.onFail)==null||q.call(e,n,S),vT(D).then(()=>m()?void 0:_()).then(()=>{t?E(S):k()})})};return{promise:l,cancel:u,continue:()=>(i==null||i(),l),cancelRetry:d,continueRetry:h,canStart:y,start:()=>(y()?k():_().then(k),l)}}var kT=e=>setTimeout(e,0);function ST(){let e=[],t=0,n=d=>{d()},r=d=>{d()},i=kT;const l=d=>{t?e.push(d):i(()=>{n(d)})},u=()=>{const d=e;e=[],d.length&&i(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:d=>{let h;t++;try{h=d()}finally{t--,t||u()}return h},batchCalls:d=>(...h)=>{l(()=>{d(...h)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{i=d}}}var Sn=ST(),Fa,E1,F1=(E1=class{constructor(){tt(this,Fa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gy(this.gcTime)&&Ve(this,Fa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ja?1/0:5*60*1e3))}clearGcTimeout(){ue(this,Fa)&&(clearTimeout(ue(this,Fa)),Ve(this,Fa,void 0))}},Fa=new WeakMap,E1),yc,vc,Gr,$a,Un,bd,Ua,hi,ms,k1,NT=(k1=class extends F1{constructor(t){super();tt(this,hi);tt(this,yc);tt(this,vc);tt(this,Gr);tt(this,$a);tt(this,Un);tt(this,bd);tt(this,Ua);Ve(this,Ua,!1),Ve(this,bd,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ve(this,$a,t.client),Ve(this,Gr,ue(this,$a).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ve(this,yc,CT(this.options)),this.state=t.state??ue(this,yc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ue(this,Un))==null?void 0:t.promise}setOptions(t){this.options={...ue(this,bd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,Gr).remove(this)}setData(t,n){const r=vy(this.state.data,t,this.options);return _t(this,hi,ms).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){_t(this,hi,ms).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ue(this,Un))==null?void 0:r.promise;return(i=ue(this,Un))==null||i.cancel(t),n?n.then(Yr).catch(Yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,yc))}isActive(){return this.observers.some(t=>mi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!L1(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Un))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ue(this,Un))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ue(this,Gr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ue(this,Un)&&(ue(this,Ua)?ue(this,Un).cancel({revert:!0}):ue(this,Un).cancelRetry()),this.scheduleGc()),ue(this,Gr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,hi,ms).call(this,{type:"invalidate"})}fetch(t,n){var h,m,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,Un))return ue(this,Un).continueRetry(),ue(this,Un).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(E=>E.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ve(this,Ua,!0),r.signal)})},l=()=>{const g=M1(this.options,n),E={client:ue(this,$a),queryKey:this.queryKey,meta:this.meta};return i(E),Ve(this,Ua,!1),this.options.persister?this.options.persister(g,E,this):g(E)},u={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,$a),state:this.state,fetchFn:l};i(u),(h=this.options.behavior)==null||h.onFetch(u,this),Ve(this,vc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&_t(this,hi,ms).call(this,{type:"fetch",meta:(y=u.fetchOptions)==null?void 0:y.meta});const d=g=>{var E,_,k,x;Tg(g)&&g.silent||_t(this,hi,ms).call(this,{type:"error",error:g}),Tg(g)||((_=(E=ue(this,Gr).config).onError)==null||_.call(E,g,this),(x=(k=ue(this,Gr).config).onSettled)==null||x.call(k,this.state.data,g,this)),this.scheduleGc()};return Ve(this,Un,B1({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var E,_,k,x;if(g===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(b){d(b);return}(_=(E=ue(this,Gr).config).onSuccess)==null||_.call(E,g,this),(x=(k=ue(this,Gr).config).onSettled)==null||x.call(k,g,this.state.error,this),this.scheduleGc()},onError:d,onFail:(g,E)=>{_t(this,hi,ms).call(this,{type:"failed",failureCount:g,error:E})},onPause:()=>{_t(this,hi,ms).call(this,{type:"pause"})},onContinue:()=>{_t(this,hi,ms).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),ue(this,Un).start()}},yc=new WeakMap,vc=new WeakMap,Gr=new WeakMap,$a=new WeakMap,Un=new WeakMap,bd=new WeakMap,Ua=new WeakMap,hi=new WeakSet,ms=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$1(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Tg(i)&&i.revert&&ue(this,vc)?{...ue(this,vc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Sn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ue(this,Gr).notify({query:this,type:"updated",action:t})})},k1);function $1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:z1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function CT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zi,S1,jT=(S1=class extends Bc{constructor(t={}){super();tt(this,zi);this.config=t,Ve(this,zi,new Map)}build(t,n,r){const i=n.queryKey,l=n.queryHash??Sv(i,n);let u=this.get(l);return u||(u=new NT({client:t,queryKey:i,queryHash:l,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(u)),u}add(t){ue(this,zi).has(t.queryHash)||(ue(this,zi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ue(this,zi).get(t.queryHash);n&&(t.destroy(),n===t&&ue(this,zi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ue(this,zi).get(t)}getAll(){return[...ue(this,zi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>t_(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>t_(t,r)):n}notify(t){Sn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zi=new WeakMap,S1),Di,Xn,Za,Bi,Po,N1,PT=(N1=class extends F1{constructor(t){super();tt(this,Bi);tt(this,Di);tt(this,Xn);tt(this,Za);this.mutationId=t.mutationId,Ve(this,Xn,t.mutationCache),Ve(this,Di,[]),this.state=t.state||U1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ue(this,Di).includes(t)||(ue(this,Di).push(t),this.clearGcTimeout(),ue(this,Xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ve(this,Di,ue(this,Di).filter(n=>n!==t)),this.scheduleGc(),ue(this,Xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ue(this,Di).length||(this.state.status==="pending"?this.scheduleGc():ue(this,Xn).remove(this))}continue(){var t;return((t=ue(this,Za))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,d,h,m,y,g,E,_,k,x,b,S,j,R,D,B,q,G,J;const n=()=>{_t(this,Bi,Po).call(this,{type:"continue"})};Ve(this,Za,B1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(V,Y)=>{_t(this,Bi,Po).call(this,{type:"failed",failureCount:V,error:Y})},onPause:()=>{_t(this,Bi,Po).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,Xn).canRun(this)}));const r=this.state.status==="pending",i=!ue(this,Za).canStart();try{if(r)n();else{_t(this,Bi,Po).call(this,{type:"pending",variables:t,isPaused:i}),await((u=(l=ue(this,Xn).config).onMutate)==null?void 0:u.call(l,t,this));const Y=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,t));Y!==this.state.context&&_t(this,Bi,Po).call(this,{type:"pending",context:Y,variables:t,isPaused:i})}const V=await ue(this,Za).start();return await((y=(m=ue(this,Xn).config).onSuccess)==null?void 0:y.call(m,V,t,this.state.context,this)),await((E=(g=this.options).onSuccess)==null?void 0:E.call(g,V,t,this.state.context)),await((k=(_=ue(this,Xn).config).onSettled)==null?void 0:k.call(_,V,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,V,null,t,this.state.context)),_t(this,Bi,Po).call(this,{type:"success",data:V}),V}catch(V){try{throw await((j=(S=ue(this,Xn).config).onError)==null?void 0:j.call(S,V,t,this.state.context,this)),await((D=(R=this.options).onError)==null?void 0:D.call(R,V,t,this.state.context)),await((q=(B=ue(this,Xn).config).onSettled)==null?void 0:q.call(B,void 0,V,this.state.variables,this.state.context,this)),await((J=(G=this.options).onSettled)==null?void 0:J.call(G,void 0,V,t,this.state.context)),V}finally{_t(this,Bi,Po).call(this,{type:"error",error:V})}}finally{ue(this,Xn).runNext(this)}}},Di=new WeakMap,Xn=new WeakMap,Za=new WeakMap,Bi=new WeakSet,Po=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Sn.batch(()=>{ue(this,Di).forEach(r=>{r.onMutationUpdate(t)}),ue(this,Xn).notify({mutation:this,type:"updated",action:t})})},N1);function U1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vs,pi,Ed,C1,TT=(C1=class extends Bc{constructor(t={}){super();tt(this,vs);tt(this,pi);tt(this,Ed);this.config=t,Ve(this,vs,new Set),Ve(this,pi,new Map),Ve(this,Ed,0)}build(t,n,r){const i=new PT({mutationCache:this,mutationId:++rh(this,Ed)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ue(this,vs).add(t);const n=ah(t);if(typeof n=="string"){const r=ue(this,pi).get(n);r?r.push(t):ue(this,pi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ue(this,vs).delete(t)){const n=ah(t);if(typeof n=="string"){const r=ue(this,pi).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ue(this,pi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ah(t);if(typeof n=="string"){const r=ue(this,pi).get(n),i=r==null?void 0:r.find(l=>l.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=ah(t);if(typeof n=="string"){const i=(r=ue(this,pi).get(n))==null?void 0:r.find(l=>l!==t&&l.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Sn.batch(()=>{ue(this,vs).forEach(t=>{this.notify({type:"removed",mutation:t})}),ue(this,vs).clear(),ue(this,pi).clear()})}getAll(){return Array.from(ue(this,vs))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>n_(n,r))}findAll(t={}){return this.getAll().filter(n=>n_(t,n))}notify(t){Sn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Sn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Yr))))}},vs=new WeakMap,pi=new WeakMap,Ed=new WeakMap,C1);function ah(e){var t;return(t=e.options.scope)==null?void 0:t.id}function s_(e){return{onFetch:(t,n)=>{var y,g,E,_,k;const r=t.options,i=(E=(g=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:g.fetchMore)==null?void 0:E.direction,l=((_=t.state.data)==null?void 0:_.pages)||[],u=((k=t.state.data)==null?void 0:k.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let x=!1;const b=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},S=M1(t.options,t.fetchOptions),j=async(R,D,B)=>{if(x)return Promise.reject();if(D==null&&R.pages.length)return Promise.resolve(R);const q={client:t.client,queryKey:t.queryKey,pageParam:D,direction:B?"backward":"forward",meta:t.options.meta};b(q);const G=await S(q),{maxPages:J}=t.options,V=B?wT:xT;return{pages:V(R.pages,G,J),pageParams:V(R.pageParams,D,J)}};if(i&&l.length){const R=i==="backward",D=R?AT:o_,B={pages:l,pageParams:u},q=D(r,B);d=await j(B,q,R)}else{const R=e??l.length;do{const D=h===0?u[0]??r.initialPageParam:o_(r,d);if(h>0&&D==null)break;d=await j(d,D),h++}while(h<R)}return d};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=m}}}function o_(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function AT(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var pn,Io,Lo,xc,wc,Oo,_c,bc,j1,RT=(j1=class{constructor(e={}){tt(this,pn);tt(this,Io);tt(this,Lo);tt(this,xc);tt(this,wc);tt(this,Oo);tt(this,_c);tt(this,bc);Ve(this,pn,e.queryCache||new jT),Ve(this,Io,e.mutationCache||new TT),Ve(this,Lo,e.defaultOptions||{}),Ve(this,xc,new Map),Ve(this,wc,new Map),Ve(this,Oo,0)}mount(){rh(this,Oo)._++,ue(this,Oo)===1&&(Ve(this,_c,Cv.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,pn).onFocus())})),Ve(this,bc,Lh.subscribe(async e=>{e&&(await this.resumePausedMutations(),ue(this,pn).onOnline())})))}unmount(){var e,t;rh(this,Oo)._--,ue(this,Oo)===0&&((e=ue(this,_c))==null||e.call(this),Ve(this,_c,void 0),(t=ue(this,bc))==null||t.call(this),Ve(this,bc,void 0))}isFetching(e){return ue(this,pn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ue(this,Io).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,pn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ue(this,pn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ac(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ue(this,pn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ue(this,pn).get(r.queryHash),l=i==null?void 0:i.state.data,u=yT(t,l);if(u!==void 0)return ue(this,pn).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return Sn.batch(()=>ue(this,pn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ue(this,pn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ue(this,pn);Sn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ue(this,pn);return Sn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Sn.batch(()=>ue(this,pn).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Yr).catch(Yr)}invalidateQueries(e,t={}){return Sn.batch(()=>(ue(this,pn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Sn.batch(()=>ue(this,pn).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let l=i.fetch(void 0,n);return n.throwOnError||(l=l.catch(Yr)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(Yr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ue(this,pn).build(this,t);return n.isStaleByTime(ac(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Yr).catch(Yr)}fetchInfiniteQuery(e){return e.behavior=s_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Yr).catch(Yr)}ensureInfiniteQueryData(e){return e.behavior=s_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lh.isOnline()?ue(this,Io).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,pn)}getMutationCache(){return ue(this,Io)}getDefaultOptions(){return ue(this,Lo)}setDefaultOptions(e){Ve(this,Lo,e)}setQueryDefaults(e,t){ue(this,xc).set(Qa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ue(this,xc).values()],n={};return t.forEach(r=>{id(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ue(this,wc).set(Qa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ue(this,wc).values()],n={};return t.forEach(r=>{id(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ue(this,Lo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Sv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Nv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ue(this,Lo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ue(this,pn).clear(),ue(this,Io).clear()}},pn=new WeakMap,Io=new WeakMap,Lo=new WeakMap,xc=new WeakMap,wc=new WeakMap,Oo=new WeakMap,_c=new WeakMap,bc=new WeakMap,j1),hr,Rt,kd,er,Ha,Ec,Mo,zo,Sd,kc,Sc,Wa,Va,Do,Nc,$t,Gu,wy,_y,by,Ey,ky,Sy,Ny,Z1,P1,IT=(P1=class extends Bc{constructor(t,n){super();tt(this,$t);tt(this,hr);tt(this,Rt);tt(this,kd);tt(this,er);tt(this,Ha);tt(this,Ec);tt(this,Mo);tt(this,zo);tt(this,Sd);tt(this,kc);tt(this,Sc);tt(this,Wa);tt(this,Va);tt(this,Do);tt(this,Nc,new Set);this.options=n,Ve(this,hr,t),Ve(this,zo,null),Ve(this,Mo,xy()),this.options.experimental_prefetchInRender||ue(this,Mo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ue(this,Rt).addObserver(this),a_(ue(this,Rt),this.options)?_t(this,$t,Gu).call(this):this.updateResult(),_t(this,$t,Ey).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cy(ue(this,Rt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cy(ue(this,Rt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_t(this,$t,ky).call(this),_t(this,$t,Sy).call(this),ue(this,Rt).removeObserver(this)}setOptions(t){const n=this.options,r=ue(this,Rt);if(this.options=ue(this,hr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mi(this.options.enabled,ue(this,Rt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_t(this,$t,Ny).call(this),ue(this,Rt).setOptions(this.options),n._defaulted&&!Ih(this.options,n)&&ue(this,hr).getQueryCache().notify({type:"observerOptionsUpdated",query:ue(this,Rt),observer:this});const i=this.hasListeners();i&&l_(ue(this,Rt),r,this.options,n)&&_t(this,$t,Gu).call(this),this.updateResult(),i&&(ue(this,Rt)!==r||mi(this.options.enabled,ue(this,Rt))!==mi(n.enabled,ue(this,Rt))||ac(this.options.staleTime,ue(this,Rt))!==ac(n.staleTime,ue(this,Rt)))&&_t(this,$t,wy).call(this);const l=_t(this,$t,_y).call(this);i&&(ue(this,Rt)!==r||mi(this.options.enabled,ue(this,Rt))!==mi(n.enabled,ue(this,Rt))||l!==ue(this,Do))&&_t(this,$t,by).call(this,l)}getOptimisticResult(t){const n=ue(this,hr).getQueryCache().build(ue(this,hr),t),r=this.createResult(n,t);return OT(this,r)&&(Ve(this,er,r),Ve(this,Ec,this.options),Ve(this,Ha,ue(this,Rt).state)),r}getCurrentResult(){return ue(this,er)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(t){ue(this,Nc).add(t)}getCurrentQuery(){return ue(this,Rt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ue(this,hr).defaultQueryOptions(t),r=ue(this,hr).getQueryCache().build(ue(this,hr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return _t(this,$t,Gu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ue(this,er)))}createResult(t,n){var V;const r=ue(this,Rt),i=this.options,l=ue(this,er),u=ue(this,Ha),d=ue(this,Ec),m=t!==r?t.state:ue(this,kd),{state:y}=t;let g={...y},E=!1,_;if(n._optimisticResults){const Y=this.hasListeners(),Q=!Y&&a_(t,n),$=Y&&l_(t,r,n,i);(Q||$)&&(g={...g,...$1(y.data,t.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:k,errorUpdatedAt:x,status:b}=g;_=g.data;let S=!1;if(n.placeholderData!==void 0&&_===void 0&&b==="pending"){let Y;l!=null&&l.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData)?(Y=l.data,S=!0):Y=typeof n.placeholderData=="function"?n.placeholderData((V=ue(this,Sc))==null?void 0:V.state.data,ue(this,Sc)):n.placeholderData,Y!==void 0&&(b="success",_=vy(l==null?void 0:l.data,Y,n),E=!0)}if(n.select&&_!==void 0&&!S)if(l&&_===(u==null?void 0:u.data)&&n.select===ue(this,Sd))_=ue(this,kc);else try{Ve(this,Sd,n.select),_=n.select(_),_=vy(l==null?void 0:l.data,_,n),Ve(this,kc,_),Ve(this,zo,null)}catch(Y){Ve(this,zo,Y)}ue(this,zo)&&(k=ue(this,zo),_=ue(this,kc),x=Date.now(),b="error");const j=g.fetchStatus==="fetching",R=b==="pending",D=b==="error",B=R&&j,q=_!==void 0,J={status:b,fetchStatus:g.fetchStatus,isPending:R,isSuccess:b==="success",isError:D,isInitialLoading:B,isLoading:B,data:_,dataUpdatedAt:g.dataUpdatedAt,error:k,errorUpdatedAt:x,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>m.dataUpdateCount||g.errorUpdateCount>m.errorUpdateCount,isFetching:j,isRefetching:j&&!R,isLoadingError:D&&!q,isPaused:g.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:D&&q,isStale:jv(t,n),refetch:this.refetch,promise:ue(this,Mo)};if(this.options.experimental_prefetchInRender){const Y=re=>{J.status==="error"?re.reject(J.error):J.data!==void 0&&re.resolve(J.data)},Q=()=>{const re=Ve(this,Mo,J.promise=xy());Y(re)},$=ue(this,Mo);switch($.status){case"pending":t.queryHash===r.queryHash&&Y($);break;case"fulfilled":(J.status==="error"||J.data!==$.value)&&Q();break;case"rejected":(J.status!=="error"||J.error!==$.reason)&&Q();break}}return J}updateResult(){const t=ue(this,er),n=this.createResult(ue(this,Rt),this.options);if(Ve(this,Ha,ue(this,Rt).state),Ve(this,Ec,this.options),ue(this,Ha).data!==void 0&&Ve(this,Sc,ue(this,Rt)),Ih(n,t))return;Ve(this,er,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!ue(this,Nc).size)return!0;const u=new Set(l??ue(this,Nc));return this.options.throwOnError&&u.add("error"),Object.keys(ue(this,er)).some(d=>{const h=d;return ue(this,er)[h]!==t[h]&&u.has(h)})};_t(this,$t,Z1).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_t(this,$t,Ey).call(this)}},hr=new WeakMap,Rt=new WeakMap,kd=new WeakMap,er=new WeakMap,Ha=new WeakMap,Ec=new WeakMap,Mo=new WeakMap,zo=new WeakMap,Sd=new WeakMap,kc=new WeakMap,Sc=new WeakMap,Wa=new WeakMap,Va=new WeakMap,Do=new WeakMap,Nc=new WeakMap,$t=new WeakSet,Gu=function(t){_t(this,$t,Ny).call(this);let n=ue(this,Rt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Yr)),n},wy=function(){_t(this,$t,ky).call(this);const t=ac(this.options.staleTime,ue(this,Rt));if(Ja||ue(this,er).isStale||!gy(t))return;const r=L1(ue(this,er).dataUpdatedAt,t)+1;Ve(this,Wa,setTimeout(()=>{ue(this,er).isStale||this.updateResult()},r))},_y=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ue(this,Rt)):this.options.refetchInterval)??!1},by=function(t){_t(this,$t,Sy).call(this),Ve(this,Do,t),!(Ja||mi(this.options.enabled,ue(this,Rt))===!1||!gy(ue(this,Do))||ue(this,Do)===0)&&Ve(this,Va,setInterval(()=>{(this.options.refetchIntervalInBackground||Cv.isFocused())&&_t(this,$t,Gu).call(this)},ue(this,Do)))},Ey=function(){_t(this,$t,wy).call(this),_t(this,$t,by).call(this,_t(this,$t,_y).call(this))},ky=function(){ue(this,Wa)&&(clearTimeout(ue(this,Wa)),Ve(this,Wa,void 0))},Sy=function(){ue(this,Va)&&(clearInterval(ue(this,Va)),Ve(this,Va,void 0))},Ny=function(){const t=ue(this,hr).getQueryCache().build(ue(this,hr),this.options);if(t===ue(this,Rt))return;const n=ue(this,Rt);Ve(this,Rt,t),Ve(this,kd,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Z1=function(t){Sn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ue(this,er))}),ue(this,hr).getQueryCache().notify({query:ue(this,Rt),type:"observerResultsUpdated"})})},P1);function LT(e,t){return mi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function a_(e,t){return LT(e,t)||e.state.data!==void 0&&Cy(e,t,t.refetchOnMount)}function Cy(e,t,n){if(mi(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&jv(e,t)}return!1}function l_(e,t,n,r){return(e!==t||mi(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&jv(e,n)}function jv(e,t){return mi(t.enabled,e)!==!1&&e.isStaleByTime(ac(t.staleTime,e))}function OT(e,t){return!Ih(e.getCurrentResult(),t)}var Bo,Fo,pr,xs,Ps,kh,jy,T1,MT=(T1=class extends Bc{constructor(n,r){super();tt(this,Ps);tt(this,Bo);tt(this,Fo);tt(this,pr);tt(this,xs);Ve(this,Bo,n),this.setOptions(r),this.bindMethods(),_t(this,Ps,kh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ue(this,Bo).defaultMutationOptions(n),Ih(this.options,r)||ue(this,Bo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ue(this,pr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Qa(r.mutationKey)!==Qa(this.options.mutationKey)?this.reset():((i=ue(this,pr))==null?void 0:i.state.status)==="pending"&&ue(this,pr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ue(this,pr))==null||n.removeObserver(this)}onMutationUpdate(n){_t(this,Ps,kh).call(this),_t(this,Ps,jy).call(this,n)}getCurrentResult(){return ue(this,Fo)}reset(){var n;(n=ue(this,pr))==null||n.removeObserver(this),Ve(this,pr,void 0),_t(this,Ps,kh).call(this),_t(this,Ps,jy).call(this)}mutate(n,r){var i;return Ve(this,xs,r),(i=ue(this,pr))==null||i.removeObserver(this),Ve(this,pr,ue(this,Bo).getMutationCache().build(ue(this,Bo),this.options)),ue(this,pr).addObserver(this),ue(this,pr).execute(n)}},Bo=new WeakMap,Fo=new WeakMap,pr=new WeakMap,xs=new WeakMap,Ps=new WeakSet,kh=function(){var r;const n=((r=ue(this,pr))==null?void 0:r.state)??U1();Ve(this,Fo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},jy=function(n){Sn.batch(()=>{var r,i,l,u,d,h,m,y;if(ue(this,xs)&&this.hasListeners()){const g=ue(this,Fo).variables,E=ue(this,Fo).context;(n==null?void 0:n.type)==="success"?((i=(r=ue(this,xs)).onSuccess)==null||i.call(r,n.data,g,E),(u=(l=ue(this,xs)).onSettled)==null||u.call(l,n.data,null,g,E)):(n==null?void 0:n.type)==="error"&&((h=(d=ue(this,xs)).onError)==null||h.call(d,n.error,g,E),(y=(m=ue(this,xs)).onSettled)==null||y.call(m,void 0,n.error,g,E))}this.listeners.forEach(g=>{g(ue(this,Fo))})})},T1),H1=T.createContext(void 0),Pv=e=>{const t=T.useContext(H1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},zT=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(H1.Provider,{value:e,children:t})),W1=T.createContext(!1),DT=()=>T.useContext(W1);W1.Provider;function BT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var FT=T.createContext(BT()),$T=()=>T.useContext(FT);function V1(e,t){return typeof e=="function"?e(...t):!!e}function Py(){}var UT=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ZT=e=>{T.useEffect(()=>{e.clearReset()},[e])},HT=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||V1(n,[e.error,r])),WT=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},VT=(e,t)=>e.isLoading&&e.isFetching&&!t,qT=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,c_=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function KT(e,t,n){var g,E,_,k,x;const r=Pv(),i=DT(),l=$T(),u=r.defaultQueryOptions(e);(E=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||E.call(g,u),u._optimisticResults=i?"isRestoring":"optimistic",WT(u),UT(u,l),ZT(l);const d=!r.getQueryCache().get(u.queryHash),[h]=T.useState(()=>new t(r,u)),m=h.getOptimisticResult(u),y=!i&&e.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(b=>{const S=y?h.subscribe(Sn.batchCalls(b)):Py;return h.updateResult(),S},[h,y]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),T.useEffect(()=>{h.setOptions(u)},[u,h]),qT(u,m))throw c_(u,h,l);if(HT({result:m,errorResetBoundary:l,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw m.error;if((k=(_=r.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||k.call(_,u,m),u.experimental_prefetchInRender&&!Ja&&VT(m,i)){const b=d?c_(u,h,l):(x=r.getQueryCache().get(u.queryHash))==null?void 0:x.promise;b==null||b.catch(Py).finally(()=>{h.updateResult()})}return u.notifyOnChangeProps?m:h.trackResult(m)}function Oa(e,t){return KT(e,IT)}function q1(e,t){const n=Pv(),[r]=T.useState(()=>new MT(n,e));T.useEffect(()=>{r.setOptions(e)},[r,e]);const i=T.useSyncExternalStore(T.useCallback(u=>r.subscribe(Sn.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=T.useCallback((u,d)=>{r.mutate(u,d).catch(Py)},[r]);if(i.error&&V1(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}function Ty(e,t={},n){for(const r in e){const i=e[r],l=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Ty(i,t,l):typeof i=="function"&&(t[l]=i)}return t}const GT={run:e=>e()},YT=()=>GT,K1=typeof console.createTask<"u"?console.createTask:YT;function JT(e,t){const n=t.shift(),r=K1(n);return e.reduce((i,l)=>i.then(()=>r.run(()=>l(...t))),Promise.resolve())}function QT(e,t){const n=t.shift(),r=K1(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function Ag(e,t){for(const n of[...e])n(t)}class XT{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let l;for(;this._deprecatedHooks[t];)l=this._deprecatedHooks[t],t=l.to;if(l&&!r.allowDeprecated){let u=l.message;u||(u=`${i} hook has been deprecated`+(l.to?`, please use ${l.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(u)||(console.warn(u),this._deprecatedMessages.add(u))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...l)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...l));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Ty(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=Ty(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(JT,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(QT,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Ag(this._before,i);const l=t(n in this._hooks?[...this._hooks[n]]:[],r);return l instanceof Promise?l.finally(()=>{this._after&&i&&Ag(this._after,i)}):(this._after&&i&&Ag(this._after,i),l)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function eA(){return new XT}const tA=new Set(["link","style","script","noscript"]),nA=new Set(["title","titleTemplate","script","style","noscript"]),u_=new Set(["base","meta","link","style","script","noscript"]),rA=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),iA=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),sA=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),oA=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Tv=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),aA=["name","property","http-equiv"];function G1(e){const t=e.split(":");return t.length?Tv.has(t[1]):!1}function Ay(e){const{props:t,tag:n}=e;if(iA.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of aA)if(t[r]!==void 0)return`${n}:${t[r]}`}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(nA.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function d_(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,i])=>`${r}:${String(i)}`).join(",")}`}function Ry(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let i;if(t&&(i=t(n,e)),Array.isArray(i))return i.map(l=>Ry(l,t));if((i==null?void 0:i.constructor)===Object){const l={};for(const u of Object.keys(i))l[u]=Ry(i[u],t,u);return l}return i}function lA(e,t){const n=e==="style"?new Map:new Set;function r(i){const l=i.trim();if(l)if(e==="style"){const[u,...d]=l.split(":").map(h=>h.trim());u&&d.length&&n.set(u,d.join(":"))}else l.split(" ").filter(Boolean).forEach(u=>n.add(u))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(i=>r(i)):t&&typeof t=="object"&&Object.entries(t).forEach(([i,l])=>{l&&l!=="false"&&(e==="style"?n.set(i.trim(),l):r(i))}),n}function Y1(e,t){return e.props=e.props||{},t&&Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=lA(n,r);return}if(sA.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let u=t.type;if(t.type||(u="application/json"),!(u!=null&&u.endsWith("json"))&&u!=="speculationrules")return;t.type=u,e.props.type=u,e[n]=JSON.stringify(r)}else e[n]=r;return}const i=String(r),l=n.startsWith("data-");i==="true"||i===""?e.props[n]=l?i:!0:!r&&l&&i==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e}function cA(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=Y1({tag:e,props:{}},n);return r.key&&tA.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(i=>({...r,props:{...r.props,content:i}})):r}function uA(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(i,l)=>{for(let u=0;u<t.length;u++)l=t[u](i,l);return l};e=n(void 0,e);const r=[];return e=Ry(e,n),Object.entries(e||{}).forEach(([i,l])=>{if(l!==void 0)for(const u of Array.isArray(l)?l:[l])r.push(cA(i,u))}),r.flat()}const f_=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,h_={base:-10,title:10},dA={critical:-8,high:-1,low:2},p_={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},fA=/@import/,Zu=e=>e===""||e===!0;function hA(e,t){var l;if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=dA[t.tagPriority]||0,i=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:p_;if(t.tag in h_)n=h_[t.tag];else if(t.tag==="meta"){const u=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;u&&(n=p_.meta[u])}else t.tag==="link"&&t.props.rel?n=i.link[t.props.rel]:t.tag==="script"?Zu(t.props.async)?n=i.script.async:t.props.src&&!Zu(t.props.defer)&&!Zu(t.props.async)&&t.props.type!=="module"&&!((l=t.props.type)!=null&&l.endsWith("json"))?n=i.script.sync:Zu(t.props.defer)&&t.props.src&&!Zu(t.props.async)&&(n=i.script.defer):t.tag==="style"&&(n=t.innerHTML&&fA.test(t.innerHTML)?i.style.imported:i.style.sync);return(n||100)+r}function m_(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function pA(e={}){var d;const t=eA();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,i=new Map,l=[],u={_entryCount:1,plugins:i,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:h=>m_(u,h),push(h,m){const y={...m||{}};delete y.head;const g=y._index??u._entryCount++,E={_i:g,input:h,options:y},_={_poll(k=!1){u.dirty=!0,!k&&l.push(g),t.callHook("entries:updated",u)},dispose(){r.delete(g)&&_._poll(!0)},patch(k){(!y.mode||y.mode==="server"&&n||y.mode==="client"&&!n)&&(E.input=k,r.set(g,E),_._poll())}};return _.patch(h),_},async resolveTags(){var _;const h={tagMap:new Map,tags:[],entries:[...u.entries.values()]};for(await t.callHook("entries:resolve",h);l.length;){const k=l.shift(),x=r.get(k);if(x){const b={tags:uA(x.input,e.propResolvers||[]).map(S=>Object.assign(S,x.options)),entry:x};await t.callHook("entries:normalize",b),x._tags=b.tags.map((S,j)=>(S._w=hA(u,S),S._p=(x._i<<10)+j,S._d=Ay(S),S))}}let m=!1;h.entries.flatMap(k=>(k._tags||[]).map(x=>({...x,props:{...x.props}}))).sort(f_).reduce((k,x)=>{const b=String(x._d||x._p);if(!k.has(b))return k.set(b,x);const S=k.get(b);if(((x==null?void 0:x.tagDuplicateStrategy)||(oA.has(x.tag)?"merge":null)||(x.key&&x.key===S.key?"merge":null))==="merge"){const R={...S.props};Object.entries(x.props).forEach(([D,B])=>R[D]=D==="style"?new Map([...S.props.style||new Map,...B]):D==="class"?new Set([...S.props.class||new Set,...B]):B),k.set(b,{...x,props:R})}else x._p>>10===S._p>>10&&x.tag==="meta"&&G1(b)?(k.set(b,Object.assign([...Array.isArray(S)?S:[S],x],x)),m=!0):(x._w===S._w?x._p>S._p:(x==null?void 0:x._w)<(S==null?void 0:S._w))&&k.set(b,x);return k},h.tagMap);const y=h.tagMap.get("title"),g=h.tagMap.get("titleTemplate");if(u._title=y==null?void 0:y.textContent,g){const k=g==null?void 0:g.textContent;if(u._titleTemplate=k,k){let x=typeof k=="function"?k(y==null?void 0:y.textContent):k;typeof x=="string"&&!u.plugins.has("template-params")&&(x=x.replace("%s",(y==null?void 0:y.textContent)||"")),y?x===null?h.tagMap.delete("title"):h.tagMap.set("title",{...y,textContent:x}):(g.tag="title",g.textContent=x)}}h.tags=Array.from(h.tagMap.values()),m&&(h.tags=h.tags.flat().sort(f_)),await t.callHook("tags:beforeResolve",h),await t.callHook("tags:resolve",h),await t.callHook("tags:afterResolve",h);const E=[];for(const k of h.tags){const{innerHTML:x,tag:b,props:S}=k;if(rA.has(b)&&!(Object.keys(S).length===0&&!k.innerHTML&&!k.textContent)&&!(b==="meta"&&!S.content&&!S["http-equiv"]&&!S.charset)){if(b==="script"&&x){if((_=S.type)!=null&&_.endsWith("json")){const j=typeof x=="string"?x:JSON.stringify(x);k.innerHTML=j.replace(/</g,"\\u003C")}else typeof x=="string"&&(k.innerHTML=x.replace(new RegExp(`</${b}`,"g"),`<\\/${b}`));k._d=Ay(k)}E.push(k)}}return E}};return((e==null?void 0:e.plugins)||[]).forEach(h=>m_(u,h)),u.hooks.callHook("init",u),(d=e.init)==null||d.forEach(h=>h&&u.push(h)),u}async function J1(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async i=>{var _;const l=new Map,u=new Promise(k=>{e.resolveTags().then(x=>{k(x.map(b=>{const S=l.get(b._d)||0,j={tag:b,id:(S?`${b._d}:${S}`:b._d)||d_(b),shouldRender:!0};return b._d&&G1(b._d)&&l.set(b._d,S+1),j}))})});let d=e._dom;if(!d){d={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const k of["body","head"]){const x=(_=n[k])==null?void 0:_.children;for(const b of x){const S=b.tagName.toLowerCase();if(!u_.has(S))continue;const j=Y1({tag:S,props:{}},{innerHTML:b.innerHTML,...b.getAttributeNames().reduce((R,D)=>(R[D]=b.getAttribute(D),R),{})||{}});if(j.key=b.getAttribute("data-hid")||void 0,j._d=Ay(j)||d_(j),d.elMap.has(j._d)){let R=1,D=j._d;for(;d.elMap.has(D);)D=`${j._d}:${R++}`;d.elMap.set(D,b)}else d.elMap.set(j._d,b)}}}d.pendingSideEffects={...d.sideEffects},d.sideEffects={};function h(k,x,b){const S=`${k}:${x}`;d.sideEffects[S]=b,delete d.pendingSideEffects[S]}function m({id:k,$el:x,tag:b}){const S=b.tag.endsWith("Attrs");d.elMap.set(k,x),S||(b.textContent&&b.textContent!==x.textContent&&(x.textContent=b.textContent),b.innerHTML&&b.innerHTML!==x.innerHTML&&(x.innerHTML=b.innerHTML),h(k,"el",()=>{x==null||x.remove(),d.elMap.delete(k)}));for(const j in b.props){if(!Object.prototype.hasOwnProperty.call(b.props,j))continue;const R=b.props[j];if(j.startsWith("on")&&typeof R=="function"){const B=x==null?void 0:x.dataset;if(B&&B[`${j}fired`]){const q=j.slice(0,-5);R.call(x,new Event(q.substring(2)))}x.getAttribute(`data-${j}`)!==""&&((b.tag==="bodyAttrs"?n.defaultView:x).addEventListener(j.substring(2),R.bind(x)),x.setAttribute(`data-${j}`,""));continue}const D=`attr:${j}`;if(j==="class"){if(!R)continue;for(const B of R)S&&h(k,`${D}:${B}`,()=>x.classList.remove(B)),!x.classList.contains(B)&&x.classList.add(B)}else if(j==="style"){if(!R)continue;for(const[B,q]of R)h(k,`${D}:${B}`,()=>{x.style.removeProperty(B)}),x.style.setProperty(B,q)}else R!==!1&&R!==null&&(x.getAttribute(j)!==R&&x.setAttribute(j,R===!0?"":String(R)),S&&h(k,D,()=>x.removeAttribute(j)))}}const y=[],g={bodyClose:void 0,bodyOpen:void 0,head:void 0},E=await u;for(const k of E){const{tag:x,shouldRender:b,id:S}=k;if(b){if(x.tag==="title"){n.title=x.textContent,h("title","",()=>n.title=d.title);continue}k.$el=k.$el||d.elMap.get(S),k.$el?m(k):u_.has(x.tag)&&y.push(k)}}for(const k of y){const x=k.tag.tagPosition||"head";k.$el=n.createElement(k.tag.tag),m(k),g[x]=g[x]||n.createDocumentFragment(),g[x].appendChild(k.$el)}for(const k of E)await e.hooks.callHook("dom:renderTag",k,n,h);g.head&&n.head.appendChild(g.head),g.bodyOpen&&n.body.insertBefore(g.bodyOpen,n.body.firstChild),g.bodyClose&&n.body.appendChild(g.bodyClose);for(const k in d.pendingSideEffects)d.pendingSideEffects[k]();e._dom=d,await e.hooks.callHook("dom:rendered",{renders:E}),i()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function mA(e={}){var r,i,l;const t=((r=e.domOptions)==null?void 0:r.render)||J1;e.document=e.document||(typeof window<"u"?document:void 0);const n=((l=(i=e.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:l.innerHTML)||!1;return pA({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function gA(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}const Q1=T.createContext(null);function X1(e={}){const t=mA({domOptions:{render:gA(()=>J1(t),n=>setTimeout(n,0))},...e});return t}function yA({children:e,head:t}){return T.createElement(Q1.Provider,{value:t||X1()},e)}const sd={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},vA={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},e2={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>`${bs(e)}=${t}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:e,value:t})=>e==="seconds"?`${t}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:e,value:t})=>typeof t=="boolean"?bs(e):`${bs(e)}:${t}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:e,value:t})=>`${bs(e)} ${t}`}},charset:{}};function bs(e){const t=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t.indexOf("-");return n===-1?t:sd.META.has(t.slice(0,n))||sd.OG.has(t.slice(0,n))?e.replace(/([A-Z])/g,":$1").toLowerCase():t}function t2(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>String(n)!=="false"&&t))}function Iy(e){return Array.isArray(e)?e.map(Iy):!e||typeof e!="object"?e:Object.fromEntries(Object.entries(e).map(([t,n])=>[bs(t),Iy(n)]))}function n2(e,t={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:i,resolve:l}=t;return Object.entries(e).map(([u,d])=>{if(l){const m=l({key:u,value:d});if(m!==void 0)return m}const h=typeof d=="object"?n2(d,t):typeof d=="number"?d.toString():typeof d=="string"&&i?`${i}${d.replace(new RegExp(i,"g"),`\\${i}`)}${i}`:d;return`${u}${r}${h}`}).join(n)}function g_(e,t){const n=t2(t),r=bs(e),i=r2(r);if(!Tv.has(r))return[{[i]:r,...n}];const l=Object.fromEntries(Object.entries(n).map(([u,d])=>[`${e}${u==="url"?"":`${u[0].toUpperCase()}${u.slice(1)}`}`,d]));return Oh(l||{}).sort((u,d)=>{var h,m;return(((h=u[i])==null?void 0:h.length)||0)-(((m=d[i])==null?void 0:m.length)||0)})}function r2(e){var r;if(((r=e2[e])==null?void 0:r.metaKey)==="http-equiv"||sd.HTTP_EQUIV.has(e))return"http-equiv";const t=bs(e),n=t.indexOf(":");return n===-1?"name":sd.OG.has(t.slice(0,n))?"property":"name"}function xA(e){return vA[e]||bs(e)}function wA(e,t){var n;return t==="refresh"?`${e.seconds};url=${e.url}`:n2(Iy(e),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:i})=>r===null?"":typeof r=="boolean"?i:void 0,...(n=e2[t])==null?void 0:n.unpack})}function Oh(e){const t=[],n={};for(const[i,l]of Object.entries(e)){if(Array.isArray(l)){if(i==="themeColor"){l.forEach(u=>{typeof u=="object"&&u!==null&&t.push({name:"theme-color",...u})});continue}for(const u of l)if(typeof u=="object"&&u!==null){const d=[],h=[];for(const[m,y]of Object.entries(u)){const g=`${i}${m==="url"?"":`:${m}`}`,E=Oh({[g]:y});(m==="url"?d:h).push(...E)}t.push(...d,...h)}else t.push(...typeof u=="string"?Oh({[i]:u}):g_(i,u));continue}if(typeof l=="object"&&l)if(sd.MEDIA.has(i)){const u=i.startsWith("twitter")?"twitter":"og",d=i.replace(/^(og|twitter)/,"").toLowerCase(),h=u==="twitter"?"name":"property";l.url&&t.push({[h]:`${u}:${d}`,content:l.url}),l.secureUrl&&t.push({[h]:`${u}:${d}:secure_url`,content:l.secureUrl});for(const[m,y]of Object.entries(l))m!=="url"&&m!=="secureUrl"&&t.push({[h]:`${u}:${d}:${m}`,content:y})}else Tv.has(bs(i))?t.push(...g_(i,l)):n[i]=t2(l);else n[i]=l}const r=Object.entries(n).map(([i,l])=>{if(i==="charset")return{charset:l===null?"_null":l};const u=r2(i),d=xA(i),h=l===null?"_null":typeof l=="object"?wA(l,i):typeof l=="number"?l.toString():l;return u==="http-equiv"?{"http-equiv":d,content:h}:{[u]:d,content:h}});return[...t,...r].map(i=>"content"in i&&i.content==="_null"?{...i,content:null}:i)}const _A={key:"flatMeta",hooks:{"entries:normalize":e=>{const t=[];e.tags=e.tags.map(n=>n.tag!=="_flatMeta"?n:(t.push(Oh(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...t)}}};function bA(e={}){return t=>(t.push({meta:[{name:"twitter:card",content:e.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:n})=>{var d,h;let r=t._titleTemplate||t._title;const i=n.get("meta:og:title");typeof(i==null?void 0:i.props["data-infer"])<"u"&&(typeof r=="function"&&(r=r(t._title)),i.props.content=e.ogTitle?e.ogTitle(r):r||"",i.processTemplateParams=!0);const l=(h=(d=n.get("meta:description"))==null?void 0:d.props)==null?void 0:h.content,u=n.get("meta:og:description");typeof(u==null?void 0:u.props["data-infer"])<"u"&&(u.props.content=e.ogDescription?e.ogDescription(l):l||"",u.processTemplateParams=!0)}}})}class ed{constructor(t){Ze(this,"pubkey");Ze(this,"relays");Ze(this,"secret");const n=new URL(t),r=new URLSearchParams(n.search),i=n.hostname||n.pathname.slice(2),l=r.getAll("relay"),u=r.get("secret")??void 0;if(!i)throw new Error("Invalid bunker URI");this.pubkey=i,this.relays=l,this.secret=u}get href(){return this.toString()}toString(){return ed.toString(this)}static fromJSON(t){const n=ed.toString(t);return new ed(n)}static toString(t){const n=new URLSearchParams;for(const r of t.relays)n.append("relay",r);return t.secret&&n.set("secret",t.secret),`bunker://${t.pubkey}?${n.toString()}`}}class EA{get nostr(){const t=globalThis.nostr;if(!t)throw new Error("Browser extension not available");return t}async getPublicKey(){const t=await this.nostr.getPublicKey();if(typeof t!="string")throw new Error(`Nostr public key retrieval failed: expected string, got ${JSON.stringify(t)}`);return t}async signEvent(t){const n=await this.nostr.signEvent(t);if(typeof n!="object"||!n.id||!n.pubkey||!n.sig)throw new Error(`Nostr event signing failed: expected object with id, pubkey, and sig, got ${JSON.stringify(n)}`);return n}async getRelays(){if(!this.nostr.getRelays)return{};const t=await this.nostr.getRelays();if(typeof t!="object"||t===null)throw new Error(`Nostr getRelays failed: expected object, got ${JSON.stringify(t)}`);return this.nostr.getRelays()}get nip04(){const t=this.nostr;if(t.nip04)return{encrypt:async(n,r)=>{const i=await t.nip04.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip04.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-04 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}get nip44(){const t=this.nostr;if(t.nip44)return{encrypt:async(n,r)=>{const i=await t.nip44.encrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 encryption failed: expected string result, got ${JSON.stringify(i)}`);return i},decrypt:async(n,r)=>{const i=await t.nip44.decrypt(n,r);if(typeof i!="string")throw new Error(`NIP-44 decryption failed: expected string result, got ${JSON.stringify(i)}`);return i}}}}function y_(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function i2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function kA(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");y_(e.outputLen),y_(e.blockLen)}function Mh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function SA(e,t){i2(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Rg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const s2=e=>e instanceof Uint8Array,Ig=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ri=(e,t)=>e<<32-t|e>>>t,NA=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!NA)throw new Error("Non little-endian hardware is not supported");function CA(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Av(e){if(typeof e=="string"&&(e=CA(e)),!s2(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function jA(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!s2(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let o2=class{clone(){return this._cloneInto()}};function PA(e){const t=r=>e().update(Av(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function a2(e=32){if(Rg&&typeof Rg.getRandomValues=="function")return Rg.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function TA(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),l=BigInt(4294967295),u=Number(n>>i&l),d=Number(n&l),h=r?4:0,m=r?0:4;e.setUint32(t+h,u,r),e.setUint32(t+m,d,r)}let AA=class extends o2{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ig(this.buffer)}update(t){Mh(this);const{view:n,buffer:r,blockLen:i}=this;t=Av(t);const l=t.length;for(let u=0;u<l;){const d=Math.min(i-this.pos,l-u);if(d===i){const h=Ig(t);for(;i<=l-u;u+=i)this.process(h,u);continue}r.set(t.subarray(u,u+d),this.pos),this.pos+=d,u+=d,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Mh(this),SA(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:l}=this;let{pos:u}=this;n[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(r,0),u=0);for(let g=u;g<i;g++)n[g]=0;TA(r,i-8,BigInt(this.length*8),l),this.process(r,0);const d=Ig(t),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=h/4,y=this.get();if(m>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<m;g++)d.setUint32(4*g,y[g],l)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:l,destroyed:u,pos:d}=this;return t.length=i,t.pos=d,t.finished=l,t.destroyed=u,i%n&&t.buffer.set(r),t}};const RA=(e,t,n)=>e&t^~e&n,IA=(e,t,n)=>e&t^e&n^t&n,LA=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_o=new Uint32Array(64);let OA=class extends AA{constructor(){super(64,32,8,!1),this.A=wo[0]|0,this.B=wo[1]|0,this.C=wo[2]|0,this.D=wo[3]|0,this.E=wo[4]|0,this.F=wo[5]|0,this.G=wo[6]|0,this.H=wo[7]|0}get(){const{A:t,B:n,C:r,D:i,E:l,F:u,G:d,H:h}=this;return[t,n,r,i,l,u,d,h]}set(t,n,r,i,l,u,d,h){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=l|0,this.F=u|0,this.G=d|0,this.H=h|0}process(t,n){for(let g=0;g<16;g++,n+=4)_o[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){const E=_o[g-15],_=_o[g-2],k=Ri(E,7)^Ri(E,18)^E>>>3,x=Ri(_,17)^Ri(_,19)^_>>>10;_o[g]=x+_o[g-7]+k+_o[g-16]|0}let{A:r,B:i,C:l,D:u,E:d,F:h,G:m,H:y}=this;for(let g=0;g<64;g++){const E=Ri(d,6)^Ri(d,11)^Ri(d,25),_=y+E+RA(d,h,m)+LA[g]+_o[g]|0,x=(Ri(r,2)^Ri(r,13)^Ri(r,22))+IA(r,i,l)|0;y=m,m=h,h=d,d=u+_|0,u=l,l=i,i=r,r=_+x|0}r=r+this.A|0,i=i+this.B|0,l=l+this.C|0,u=u+this.D|0,d=d+this.E|0,h=h+this.F|0,m=m+this.G|0,y=y+this.H|0,this.set(r,i,l,u,d,h,m,y)}roundClean(){_o.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Ly=PA(()=>new OA);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const l2=BigInt(0),up=BigInt(1),MA=BigInt(2),dp=e=>e instanceof Uint8Array,zA=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Pc(e){if(!dp(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=zA[e[n]];return t}function c2(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Rv(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Tc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,l=e.slice(i,i+2),u=Number.parseInt(l,16);if(Number.isNaN(u)||u<0)throw new Error("Invalid byte sequence");n[r]=u}return n}function mr(e){return Rv(Pc(e))}function Iv(e){if(!dp(e))throw new Error("Uint8Array expected");return Rv(Pc(Uint8Array.from(e).reverse()))}function Ko(e,t){return Tc(e.toString(16).padStart(t*2,"0"))}function Lv(e,t){return Ko(e,t).reverse()}function DA(e){return Tc(c2(e))}function Zn(e,t,n){let r;if(typeof t=="string")try{r=Tc(t)}catch(l){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${l}`)}else if(dp(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function Xa(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!dp(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function BA(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function FA(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function $A(e){let t;for(t=0;e>l2;e>>=up,t+=1);return t}function UA(e,t){return e>>BigInt(t)&up}const ZA=(e,t,n)=>e|(n?up:l2)<<BigInt(t),Ov=e=>(MA<<BigInt(e-1))-up,Lg=e=>new Uint8Array(e),v_=e=>Uint8Array.from(e);function u2(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Lg(e),i=Lg(e),l=0;const u=()=>{r.fill(1),i.fill(0),l=0},d=(...g)=>n(i,r,...g),h=(g=Lg())=>{i=d(v_([0]),g),r=d(),g.length!==0&&(i=d(v_([1]),g),r=d())},m=()=>{if(l++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const E=[];for(;g<t;){r=d();const _=r.slice();E.push(_),g+=r.length}return Xa(...E)};return(g,E)=>{u(),h(g);let _;for(;!(_=E(m()));)h();return u(),_}}const HA={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function jd(e,t,n={}){const r=(i,l,u)=>{const d=HA[l];if(typeof d!="function")throw new Error(`Invalid validator "${l}", expected function`);const h=e[i];if(!(u&&h===void 0)&&!d(h,e))throw new Error(`Invalid param ${String(i)}=${h} (${typeof h}), expected ${l}`)};for(const[i,l]of Object.entries(t))r(i,l,!1);for(const[i,l]of Object.entries(n))r(i,l,!0);return e}const WA=Object.freeze(Object.defineProperty({__proto__:null,bitGet:UA,bitLen:$A,bitMask:Ov,bitSet:ZA,bytesToHex:Pc,bytesToNumberBE:mr,bytesToNumberLE:Iv,concatBytes:Xa,createHmacDrbg:u2,ensureBytes:Zn,equalBytes:BA,hexToBytes:Tc,hexToNumber:Rv,numberToBytesBE:Ko,numberToBytesLE:Lv,numberToHexUnpadded:c2,numberToVarBytesBE:DA,utf8ToBytes:FA,validateObject:jd},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tn=BigInt(0),yn=BigInt(1),La=BigInt(2),VA=BigInt(3),Oy=BigInt(4),x_=BigInt(5),w_=BigInt(8);BigInt(9);BigInt(16);function In(e,t){const n=e%t;return n>=Tn?n:t+n}function qA(e,t,n){if(n<=Tn||t<Tn)throw new Error("Expected power/modulo > 0");if(n===yn)return Tn;let r=yn;for(;t>Tn;)t&yn&&(r=r*e%n),e=e*e%n,t>>=yn;return r}function Vr(e,t,n){let r=e;for(;t-- >Tn;)r*=r,r%=n;return r}function My(e,t){if(e===Tn||t<=Tn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=In(e,t),r=t,i=Tn,l=yn;for(;n!==Tn;){const d=r/n,h=r%n,m=i-l*d;r=n,n=h,i=l,l=m}if(r!==yn)throw new Error("invert: does not exist");return In(i,t)}function KA(e){const t=(e-yn)/La;let n,r,i;for(n=e-yn,r=0;n%La===Tn;n/=La,r++);for(i=La;i<e&&qA(i,t,e)!==e-yn;i++);if(r===1){const u=(e+yn)/Oy;return function(h,m){const y=h.pow(m,u);if(!h.eql(h.sqr(y),m))throw new Error("Cannot find square root");return y}}const l=(n+yn)/La;return function(d,h){if(d.pow(h,t)===d.neg(d.ONE))throw new Error("Cannot find square root");let m=r,y=d.pow(d.mul(d.ONE,i),n),g=d.pow(h,l),E=d.pow(h,n);for(;!d.eql(E,d.ONE);){if(d.eql(E,d.ZERO))return d.ZERO;let _=1;for(let x=d.sqr(E);_<m&&!d.eql(x,d.ONE);_++)x=d.sqr(x);const k=d.pow(y,yn<<BigInt(m-_-1));y=d.sqr(k),g=d.mul(g,k),E=d.mul(E,y),m=_}return g}}function GA(e){if(e%Oy===VA){const t=(e+yn)/Oy;return function(r,i){const l=r.pow(i,t);if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}if(e%w_===x_){const t=(e-x_)/w_;return function(r,i){const l=r.mul(i,La),u=r.pow(l,t),d=r.mul(i,u),h=r.mul(r.mul(d,La),u),m=r.mul(d,r.sub(h,r.ONE));if(!r.eql(r.sqr(m),i))throw new Error("Cannot find square root");return m}}return KA(e)}const YA=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function JA(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=YA.reduce((r,i)=>(r[i]="function",r),t);return jd(e,n)}function QA(e,t,n){if(n<Tn)throw new Error("Expected power > 0");if(n===Tn)return e.ONE;if(n===yn)return t;let r=e.ONE,i=t;for(;n>Tn;)n&yn&&(r=e.mul(r,i)),i=e.sqr(i),n>>=yn;return r}function XA(e,t){const n=new Array(t.length),r=t.reduce((l,u,d)=>e.is0(u)?l:(n[d]=l,e.mul(l,u)),e.ONE),i=e.inv(r);return t.reduceRight((l,u,d)=>e.is0(u)?l:(n[d]=e.mul(l,n[d]),e.mul(l,u)),i),n}function d2(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function e4(e,t,n=!1,r={}){if(e<=Tn)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:l}=d2(e,t);if(l>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=GA(e),d=Object.freeze({ORDER:e,BITS:i,BYTES:l,MASK:Ov(i),ZERO:Tn,ONE:yn,create:h=>In(h,e),isValid:h=>{if(typeof h!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof h}`);return Tn<=h&&h<e},is0:h=>h===Tn,isOdd:h=>(h&yn)===yn,neg:h=>In(-h,e),eql:(h,m)=>h===m,sqr:h=>In(h*h,e),add:(h,m)=>In(h+m,e),sub:(h,m)=>In(h-m,e),mul:(h,m)=>In(h*m,e),pow:(h,m)=>QA(d,h,m),div:(h,m)=>In(h*My(m,e),e),sqrN:h=>h*h,addN:(h,m)=>h+m,subN:(h,m)=>h-m,mulN:(h,m)=>h*m,inv:h=>My(h,e),sqrt:r.sqrt||(h=>u(d,h)),invertBatch:h=>XA(d,h),cmov:(h,m,y)=>y?m:h,toBytes:h=>n?Lv(h,l):Ko(h,l),fromBytes:h=>{if(h.length!==l)throw new Error(`Fp.fromBytes: expected ${l}, got ${h.length}`);return n?Iv(h):mr(h)}});return Object.freeze(d)}function f2(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function h2(e){const t=f2(e);return t+Math.ceil(t/2)}function t4(e,t,n=!1){const r=e.length,i=f2(t),l=h2(t);if(r<16||r<l||r>1024)throw new Error(`expected ${l}-1024 bytes of input, got ${r}`);const u=n?mr(e):Iv(e),d=In(u,t-yn)+yn;return n?Lv(d,i):Ko(d,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n4=BigInt(0),Og=BigInt(1);function r4(e,t){const n=(i,l)=>{const u=l.negate();return i?u:l},r=i=>{const l=Math.ceil(t/i)+1,u=2**(i-1);return{windows:l,windowSize:u}};return{constTimeNegate:n,unsafeLadder(i,l){let u=e.ZERO,d=i;for(;l>n4;)l&Og&&(u=u.add(d)),d=d.double(),l>>=Og;return u},precomputeWindow(i,l){const{windows:u,windowSize:d}=r(l),h=[];let m=i,y=m;for(let g=0;g<u;g++){y=m,h.push(y);for(let E=1;E<d;E++)y=y.add(m),h.push(y);m=y.double()}return h},wNAF(i,l,u){const{windows:d,windowSize:h}=r(i);let m=e.ZERO,y=e.BASE;const g=BigInt(2**i-1),E=2**i,_=BigInt(i);for(let k=0;k<d;k++){const x=k*h;let b=Number(u&g);u>>=_,b>h&&(b-=E,u+=Og);const S=x,j=x+Math.abs(b)-1,R=k%2!==0,D=b<0;b===0?y=y.add(n(R,l[S])):m=m.add(n(D,l[j]))}return{p:m,f:y}},wNAFCached(i,l,u,d){const h=i._WINDOW_SIZE||1;let m=l.get(i);return m||(m=this.precomputeWindow(i,h),h!==1&&l.set(i,d(m))),this.wNAF(h,m,u)}}}function p2(e){return JA(e.Fp),jd(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...d2(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function i4(e){const t=p2(e);jd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:s4,hexToBytes:o4}=WA,Ma={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Ma;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:s4(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Ma,n=typeof e=="string"?o4(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l}=Ma._parseInt(n.subarray(2)),{d:u,l:d}=Ma._parseInt(l);if(d.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:u}},hexFromSig(e){const t=m=>Number.parseInt(m[0],16)&8?"00"+m:m,n=m=>{const y=m.toString(16);return y.length&1?`0${y}`:y},r=t(n(e.s)),i=t(n(e.r)),l=r.length/2,u=i.length/2,d=n(l),h=n(u);return`30${n(u+l+4)}02${h}${i}02${d}${r}`}},_s=BigInt(0),Jr=BigInt(1);BigInt(2);const __=BigInt(3);BigInt(4);function a4(e){const t=i4(e),{Fp:n}=t,r=t.toBytes||((k,x,b)=>{const S=x.toAffine();return Xa(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),i=t.fromBytes||(k=>{const x=k.subarray(1),b=n.fromBytes(x.subarray(0,n.BYTES)),S=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:b,y:S}});function l(k){const{a:x,b}=t,S=n.sqr(k),j=n.mul(S,k);return n.add(n.add(j,n.mul(k,x)),b)}if(!n.eql(n.sqr(t.Gy),l(t.Gx)))throw new Error("bad generator point: equation left != right");function u(k){return typeof k=="bigint"&&_s<k&&k<t.n}function d(k){if(!u(k))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function h(k){const{allowedPrivateKeyLengths:x,nByteLength:b,wrapPrivateKey:S,n:j}=t;if(x&&typeof k!="bigint"){if(k instanceof Uint8Array&&(k=Pc(k)),typeof k!="string"||!x.includes(k.length))throw new Error("Invalid key");k=k.padStart(b*2,"0")}let R;try{R=typeof k=="bigint"?k:mr(Zn("private key",k,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof k}`)}return S&&(R=In(R,j)),d(R),R}const m=new Map;function y(k){if(!(k instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(x,b,S){if(this.px=x,this.py=b,this.pz=S,x==null||!n.isValid(x))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required")}static fromAffine(x){const{x:b,y:S}=x||{};if(!x||!n.isValid(b)||!n.isValid(S))throw new Error("invalid affine point");if(x instanceof g)throw new Error("projective point not allowed");const j=R=>n.eql(R,n.ZERO);return j(b)&&j(S)?g.ZERO:new g(b,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const b=n.invertBatch(x.map(S=>S.pz));return x.map((S,j)=>S.toAffine(b[j])).map(g.fromAffine)}static fromHex(x){const b=g.fromAffine(i(Zn("pointHex",x)));return b.assertValidity(),b}static fromPrivateKey(x){return g.BASE.multiply(h(x))}_setWindowSize(x){this._WINDOW_SIZE=x,m.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:b}=this.toAffine();if(!n.isValid(x)||!n.isValid(b))throw new Error("bad point: x or y not FE");const S=n.sqr(b),j=l(x);if(!n.eql(S,j))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(n.isOdd)return!n.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){y(x);const{px:b,py:S,pz:j}=this,{px:R,py:D,pz:B}=x,q=n.eql(n.mul(b,B),n.mul(R,j)),G=n.eql(n.mul(S,B),n.mul(D,j));return q&&G}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:x,b}=t,S=n.mul(b,__),{px:j,py:R,pz:D}=this;let B=n.ZERO,q=n.ZERO,G=n.ZERO,J=n.mul(j,j),V=n.mul(R,R),Y=n.mul(D,D),Q=n.mul(j,R);return Q=n.add(Q,Q),G=n.mul(j,D),G=n.add(G,G),B=n.mul(x,G),q=n.mul(S,Y),q=n.add(B,q),B=n.sub(V,q),q=n.add(V,q),q=n.mul(B,q),B=n.mul(Q,B),G=n.mul(S,G),Y=n.mul(x,Y),Q=n.sub(J,Y),Q=n.mul(x,Q),Q=n.add(Q,G),G=n.add(J,J),J=n.add(G,J),J=n.add(J,Y),J=n.mul(J,Q),q=n.add(q,J),Y=n.mul(R,D),Y=n.add(Y,Y),J=n.mul(Y,Q),B=n.sub(B,J),G=n.mul(Y,V),G=n.add(G,G),G=n.add(G,G),new g(B,q,G)}add(x){y(x);const{px:b,py:S,pz:j}=this,{px:R,py:D,pz:B}=x;let q=n.ZERO,G=n.ZERO,J=n.ZERO;const V=t.a,Y=n.mul(t.b,__);let Q=n.mul(b,R),$=n.mul(S,D),re=n.mul(j,B),M=n.add(b,S),W=n.add(R,D);M=n.mul(M,W),W=n.add(Q,$),M=n.sub(M,W),W=n.add(b,j);let ae=n.add(R,B);return W=n.mul(W,ae),ae=n.add(Q,re),W=n.sub(W,ae),ae=n.add(S,j),q=n.add(D,B),ae=n.mul(ae,q),q=n.add($,re),ae=n.sub(ae,q),J=n.mul(V,W),q=n.mul(Y,re),J=n.add(q,J),q=n.sub($,J),J=n.add($,J),G=n.mul(q,J),$=n.add(Q,Q),$=n.add($,Q),re=n.mul(V,re),W=n.mul(Y,W),$=n.add($,re),re=n.sub(Q,re),re=n.mul(V,re),W=n.add(W,re),Q=n.mul($,W),G=n.add(G,Q),Q=n.mul(ae,W),q=n.mul(M,q),q=n.sub(q,Q),Q=n.mul(M,$),J=n.mul(ae,J),J=n.add(J,Q),new g(q,G,J)}subtract(x){return this.add(x.negate())}is0(){return this.equals(g.ZERO)}wNAF(x){return _.wNAFCached(this,m,x,b=>{const S=n.invertBatch(b.map(j=>j.pz));return b.map((j,R)=>j.toAffine(S[R])).map(g.fromAffine)})}multiplyUnsafe(x){const b=g.ZERO;if(x===_s)return b;if(d(x),x===Jr)return this;const{endo:S}=t;if(!S)return _.unsafeLadder(this,x);let{k1neg:j,k1:R,k2neg:D,k2:B}=S.splitScalar(x),q=b,G=b,J=this;for(;R>_s||B>_s;)R&Jr&&(q=q.add(J)),B&Jr&&(G=G.add(J)),J=J.double(),R>>=Jr,B>>=Jr;return j&&(q=q.negate()),D&&(G=G.negate()),G=new g(n.mul(G.px,S.beta),G.py,G.pz),q.add(G)}multiply(x){d(x);let b=x,S,j;const{endo:R}=t;if(R){const{k1neg:D,k1:B,k2neg:q,k2:G}=R.splitScalar(b);let{p:J,f:V}=this.wNAF(B),{p:Y,f:Q}=this.wNAF(G);J=_.constTimeNegate(D,J),Y=_.constTimeNegate(q,Y),Y=new g(n.mul(Y.px,R.beta),Y.py,Y.pz),S=J.add(Y),j=V.add(Q)}else{const{p:D,f:B}=this.wNAF(b);S=D,j=B}return g.normalizeZ([S,j])[0]}multiplyAndAddUnsafe(x,b,S){const j=g.BASE,R=(B,q)=>q===_s||q===Jr||!B.equals(j)?B.multiplyUnsafe(q):B.multiply(q),D=R(this,b).add(R(x,S));return D.is0()?void 0:D}toAffine(x){const{px:b,py:S,pz:j}=this,R=this.is0();x==null&&(x=R?n.ONE:n.inv(j));const D=n.mul(b,x),B=n.mul(S,x),q=n.mul(j,x);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(q,n.ONE))throw new Error("invZ was invalid");return{x:D,y:B}}isTorsionFree(){const{h:x,isTorsionFree:b}=t;if(x===Jr)return!0;if(b)return b(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:b}=t;return x===Jr?this:b?b(g,this):this.multiplyUnsafe(t.h)}toRawBytes(x=!0){return this.assertValidity(),r(g,this,x)}toHex(x=!0){return Pc(this.toRawBytes(x))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const E=t.nBitLength,_=r4(g,t.endo?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:h,weierstrassEquation:l,isWithinCurveOrder:u}}function l4(e){const t=p2(e);return jd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function c4(e){const t=l4(e),{Fp:n,n:r}=t,i=n.BYTES+1,l=2*n.BYTES+1;function u(W){return _s<W&&W<n.ORDER}function d(W){return In(W,r)}function h(W){return My(W,r)}const{ProjectivePoint:m,normPrivateKeyToScalar:y,weierstrassEquation:g,isWithinCurveOrder:E}=a4({...t,toBytes(W,ae,se){const ne=ae.toAffine(),ee=n.toBytes(ne.x),le=Xa;return se?le(Uint8Array.from([ae.hasEvenY()?2:3]),ee):le(Uint8Array.from([4]),ee,n.toBytes(ne.y))},fromBytes(W){const ae=W.length,se=W[0],ne=W.subarray(1);if(ae===i&&(se===2||se===3)){const ee=mr(ne);if(!u(ee))throw new Error("Point is not on curve");const le=g(ee);let F=n.sqrt(le);const K=(F&Jr)===Jr;return(se&1)===1!==K&&(F=n.neg(F)),{x:ee,y:F}}else if(ae===l&&se===4){const ee=n.fromBytes(ne.subarray(0,n.BYTES)),le=n.fromBytes(ne.subarray(n.BYTES,2*n.BYTES));return{x:ee,y:le}}else throw new Error(`Point of length ${ae} was invalid. Expected ${i} compressed bytes or ${l} uncompressed bytes`)}}),_=W=>Pc(Ko(W,t.nByteLength));function k(W){const ae=r>>Jr;return W>ae}function x(W){return k(W)?d(-W):W}const b=(W,ae,se)=>mr(W.slice(ae,se));class S{constructor(ae,se,ne){this.r=ae,this.s=se,this.recovery=ne,this.assertValidity()}static fromCompact(ae){const se=t.nByteLength;return ae=Zn("compactSignature",ae,se*2),new S(b(ae,0,se),b(ae,se,2*se))}static fromDER(ae){const{r:se,s:ne}=Ma.toSig(Zn("DER",ae));return new S(se,ne)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(ae){return new S(this.r,this.s,ae)}recoverPublicKey(ae){const{r:se,s:ne,recovery:ee}=this,le=G(Zn("msgHash",ae));if(ee==null||![0,1,2,3].includes(ee))throw new Error("recovery id invalid");const F=ee===2||ee===3?se+t.n:se;if(F>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=(ee&1)===0?"02":"03",Ne=m.fromHex(K+_(F)),be=h(F),xe=d(-le*be),Re=d(ne*be),Ue=m.BASE.multiplyAndAddUnsafe(Ne,xe,Re);if(!Ue)throw new Error("point at infinify");return Ue.assertValidity(),Ue}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return Tc(this.toDERHex())}toDERHex(){return Ma.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Tc(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}const j={isValidPrivateKey(W){try{return y(W),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const W=h2(t.n);return t4(t.randomBytes(W),t.n)},precompute(W=8,ae=m.BASE){return ae._setWindowSize(W),ae.multiply(BigInt(3)),ae}};function R(W,ae=!0){return m.fromPrivateKey(W).toRawBytes(ae)}function D(W){const ae=W instanceof Uint8Array,se=typeof W=="string",ne=(ae||se)&&W.length;return ae?ne===i||ne===l:se?ne===2*i||ne===2*l:W instanceof m}function B(W,ae,se=!0){if(D(W))throw new Error("first arg must be private key");if(!D(ae))throw new Error("second arg must be public key");return m.fromHex(ae).multiply(y(W)).toRawBytes(se)}const q=t.bits2int||function(W){const ae=mr(W),se=W.length*8-t.nBitLength;return se>0?ae>>BigInt(se):ae},G=t.bits2int_modN||function(W){return d(q(W))},J=Ov(t.nBitLength);function V(W){if(typeof W!="bigint")throw new Error("bigint expected");if(!(_s<=W&&W<J))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ko(W,t.nByteLength)}function Y(W,ae,se=Q){if(["recovered","canonical"].some(Fe=>Fe in se))throw new Error("sign() legacy options not supported");const{hash:ne,randomBytes:ee}=t;let{lowS:le,prehash:F,extraEntropy:K}=se;le==null&&(le=!0),W=Zn("msgHash",W),F&&(W=Zn("prehashed msgHash",ne(W)));const Ne=G(W),be=y(ae),xe=[V(be),V(Ne)];if(K!=null){const Fe=K===!0?ee(n.BYTES):K;xe.push(Zn("extraEntropy",Fe))}const Re=Xa(...xe),Ue=Ne;function De(Fe){const ot=q(Fe);if(!E(ot))return;const St=h(ot),Ot=m.BASE.multiply(ot).toAffine(),gt=d(Ot.x);if(gt===_s)return;const z=d(St*d(Ue+gt*be));if(z===_s)return;let Ce=(Ot.x===gt?0:2)|Number(Ot.y&Jr),ke=z;return le&&k(z)&&(ke=x(z),Ce^=1),new S(gt,ke,Ce)}return{seed:Re,k2sig:De}}const Q={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};function re(W,ae,se=Q){const{seed:ne,k2sig:ee}=Y(W,ae,se),le=t;return u2(le.hash.outputLen,le.nByteLength,le.hmac)(ne,ee)}m.BASE._setWindowSize(8);function M(W,ae,se,ne=$){var Ot;const ee=W;if(ae=Zn("msgHash",ae),se=Zn("publicKey",se),"strict"in ne)throw new Error("options.strict was renamed to lowS");const{lowS:le,prehash:F}=ne;let K,Ne;try{if(typeof ee=="string"||ee instanceof Uint8Array)try{K=S.fromDER(ee)}catch(gt){if(!(gt instanceof Ma.Err))throw gt;K=S.fromCompact(ee)}else if(typeof ee=="object"&&typeof ee.r=="bigint"&&typeof ee.s=="bigint"){const{r:gt,s:z}=ee;K=new S(gt,z)}else throw new Error("PARSE");Ne=m.fromHex(se)}catch(gt){if(gt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(le&&K.hasHighS())return!1;F&&(ae=t.hash(ae));const{r:be,s:xe}=K,Re=G(ae),Ue=h(xe),De=d(Re*Ue),Fe=d(be*Ue),ot=(Ot=m.BASE.multiplyAndAddUnsafe(Ne,De,Fe))==null?void 0:Ot.toAffine();return ot?d(ot.x)===be:!1}return{CURVE:t,getPublicKey:R,getSharedSecret:B,sign:re,verify:M,ProjectivePoint:m,Signature:S,utils:j}}let m2=class extends o2{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,kA(t);const r=Av(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,l=new Uint8Array(i);l.set(r.length>i?t.create().update(r).digest():r);for(let u=0;u<l.length;u++)l[u]^=54;this.iHash.update(l),this.oHash=t.create();for(let u=0;u<l.length;u++)l[u]^=106;this.oHash.update(l),l.fill(0)}update(t){return Mh(this),this.iHash.update(t),this}digestInto(t){Mh(this),i2(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:l,blockLen:u,outputLen:d}=this;return t=t,t.finished=i,t.destroyed=l,t.blockLen=u,t.outputLen=d,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const g2=(e,t,n)=>new m2(e,t).update(n).digest();g2.create=(e,t)=>new m2(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function u4(e){return{hash:e,hmac:(t,...n)=>g2(e,t,jA(...n)),randomBytes:a2}}function d4(e,t){const n=r=>c4({...e,...u4(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fp=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),zh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),y2=BigInt(1),Dh=BigInt(2),b_=(e,t)=>(e+t/Dh)/t;function v2(e){const t=fp,n=BigInt(3),r=BigInt(6),i=BigInt(11),l=BigInt(22),u=BigInt(23),d=BigInt(44),h=BigInt(88),m=e*e*e%t,y=m*m*e%t,g=Vr(y,n,t)*y%t,E=Vr(g,n,t)*y%t,_=Vr(E,Dh,t)*m%t,k=Vr(_,i,t)*_%t,x=Vr(k,l,t)*k%t,b=Vr(x,d,t)*x%t,S=Vr(b,h,t)*b%t,j=Vr(S,d,t)*x%t,R=Vr(j,n,t)*y%t,D=Vr(R,u,t)*k%t,B=Vr(D,r,t)*m%t,q=Vr(B,Dh,t);if(!zy.eql(zy.sqr(q),e))throw new Error("Cannot find square root");return q}const zy=e4(fp,void 0,void 0,{sqrt:v2}),Fc=d4({a:BigInt(0),b:BigInt(7),Fp:zy,n:zh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=zh,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-y2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),l=n,u=BigInt("0x100000000000000000000000000000000"),d=b_(l*e,t),h=b_(-r*e,t);let m=In(e-d*n-h*i,t),y=In(-d*r-h*l,t);const g=m>u,E=y>u;if(g&&(m=t-m),E&&(y=t-y),m>u||y>u)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:g,k1:m,k2neg:E,k2:y}}}},Ly),hp=BigInt(0),x2=e=>typeof e=="bigint"&&hp<e&&e<fp,f4=e=>typeof e=="bigint"&&hp<e&&e<zh,E_={};function Bh(e,...t){let n=E_[e];if(n===void 0){const r=Ly(Uint8Array.from(e,i=>i.charCodeAt(0)));n=Xa(r,r),E_[e]=n}return Ly(Xa(n,...t))}const Mv=e=>e.toRawBytes(!0).slice(1),Dy=e=>Ko(e,32),Mg=e=>In(e,fp),od=e=>In(e,zh),zv=Fc.ProjectivePoint,h4=(e,t,n)=>zv.BASE.multiplyAndAddUnsafe(e,t,n);function By(e){let t=Fc.utils.normPrivateKeyToScalar(e),n=zv.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:od(-t),bytes:Mv(n)}}function w2(e){if(!x2(e))throw new Error("bad x: need 0 < x < p");const t=Mg(e*e),n=Mg(t*e+BigInt(7));let r=v2(n);r%Dh!==hp&&(r=Mg(-r));const i=new zv(e,r,y2);return i.assertValidity(),i}function _2(...e){return od(mr(Bh("BIP0340/challenge",...e)))}function p4(e){return By(e).bytes}function m4(e,t,n=a2(32)){const r=Zn("message",e),{bytes:i,scalar:l}=By(t),u=Zn("auxRand",n,32),d=Dy(l^mr(Bh("BIP0340/aux",u))),h=Bh("BIP0340/nonce",d,i,r),m=od(mr(h));if(m===hp)throw new Error("sign failed: k is zero");const{bytes:y,scalar:g}=By(m),E=_2(y,i,r),_=new Uint8Array(64);if(_.set(y,0),_.set(Dy(od(g+E*l)),32),!b2(_,r,i))throw new Error("sign: Invalid signature produced");return _}function b2(e,t,n){const r=Zn("signature",e,64),i=Zn("message",t),l=Zn("publicKey",n,32);try{const u=w2(mr(l)),d=mr(r.subarray(0,32));if(!x2(d))return!1;const h=mr(r.subarray(32,64));if(!f4(h))return!1;const m=_2(Dy(d),Mv(u),i),y=h4(u,h,od(-m));return!(!y||!y.hasEvenY()||y.toAffine().x!==d)}catch{return!1}}const Hu={getPublicKey:p4,sign:m4,verify:b2,utils:{randomPrivateKey:Fc.utils.randomPrivateKey,lift_x:w2,pointToBytes:Mv,numberToBytesBE:Ko,bytesToNumberBE:mr,taggedHash:Bh,mod:In}},zg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dv=e=>e instanceof Uint8Array,Dg=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ii=(e,t)=>e<<32-t|e>>>t,g4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!g4)throw new Error("Non little-endian hardware is not supported");const y4=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Hn(e){if(!Dv(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=y4[e[n]];return t}function el(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=r*2,l=e.slice(i,i+2),u=Number.parseInt(l,16);if(Number.isNaN(u)||u<0)throw new Error("Invalid byte sequence");n[r]=u}return n}function v4(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ad(e){if(typeof e=="string"&&(e=v4(e)),!Dv(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function pp(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!Dv(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class E2{clone(){return this._cloneInto()}}function k2(e){const t=r=>e().update(ad(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function S2(e=32){if(zg&&typeof zg.getRandomValues=="function")return zg.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Fy(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function x4(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function N2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function w4(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Fy(e.outputLen),Fy(e.blockLen)}function _4(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function b4(e,t){N2(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const $i={number:Fy,bool:x4,bytes:N2,hash:w4,exists:_4,output:b4};function E4(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),l=BigInt(4294967295),u=Number(n>>i&l),d=Number(n&l),h=r?4:0,m=r?0:4;e.setUint32(t+h,u,r),e.setUint32(t+m,d,r)}class k4 extends E2{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Dg(this.buffer)}update(t){$i.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=ad(t);const l=t.length;for(let u=0;u<l;){const d=Math.min(i-this.pos,l-u);if(d===i){const h=Dg(t);for(;i<=l-u;u+=i)this.process(h,u);continue}r.set(t.subarray(u,u+d),this.pos),this.pos+=d,u+=d,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){$i.exists(this),$i.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:l}=this;let{pos:u}=this;n[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(r,0),u=0);for(let g=u;g<i;g++)n[g]=0;E4(r,i-8,BigInt(this.length*8),l),this.process(r,0);const d=Dg(t),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=h/4,y=this.get();if(m>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<m;g++)d.setUint32(4*g,y[g],l)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:l,destroyed:u,pos:d}=this;return t.length=i,t.pos=d,t.finished=l,t.destroyed=u,i%n&&t.buffer.set(r),t}}const S4=(e,t,n)=>e&t^~e&n,N4=(e,t,n)=>e&t^e&n^t&n,C4=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Eo=new Uint32Array(64);class C2 extends k4{constructor(){super(64,32,8,!1),this.A=bo[0]|0,this.B=bo[1]|0,this.C=bo[2]|0,this.D=bo[3]|0,this.E=bo[4]|0,this.F=bo[5]|0,this.G=bo[6]|0,this.H=bo[7]|0}get(){const{A:t,B:n,C:r,D:i,E:l,F:u,G:d,H:h}=this;return[t,n,r,i,l,u,d,h]}set(t,n,r,i,l,u,d,h){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=l|0,this.F=u|0,this.G=d|0,this.H=h|0}process(t,n){for(let g=0;g<16;g++,n+=4)Eo[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){const E=Eo[g-15],_=Eo[g-2],k=Ii(E,7)^Ii(E,18)^E>>>3,x=Ii(_,17)^Ii(_,19)^_>>>10;Eo[g]=x+Eo[g-7]+k+Eo[g-16]|0}let{A:r,B:i,C:l,D:u,E:d,F:h,G:m,H:y}=this;for(let g=0;g<64;g++){const E=Ii(d,6)^Ii(d,11)^Ii(d,25),_=y+E+S4(d,h,m)+C4[g]+Eo[g]|0,x=(Ii(r,2)^Ii(r,13)^Ii(r,22))+N4(r,i,l)|0;y=m,m=h,h=d,d=u+_|0,u=l,l=i,i=r,r=_+x|0}r=r+this.A|0,i=i+this.B|0,l=l+this.C|0,u=u+this.D|0,d=d+this.E|0,h=h+this.F|0,m=m+this.G|0,y=y+this.H|0,this.set(r,i,l,u,d,h,m,y)}roundClean(){Eo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class j4 extends C2{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const $c=k2(()=>new C2);k2(()=>new j4);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Uc(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Is(...e){const t=(i,l)=>u=>i(l(u)),n=Array.from(e).reverse().reduce((i,l)=>i?t(i,l.encode):l.encode,void 0),r=e.reduce((i,l)=>i?t(i,l.decode):l.decode,void 0);return{encode:n,decode:r}}function Ls(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Uc(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function Os(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function mp(e,t="="){if(Uc(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of n)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function j2(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function k_(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],l=Array.from(e);for(l.forEach(u=>{if(Uc(u),u<0||u>=t)throw new Error(`Wrong integer: ${u}`)});;){let u=0,d=!0;for(let h=r;h<l.length;h++){const m=l[h],y=t*u+m;if(!Number.isSafeInteger(y)||t*u/t!==u||y-m!==t*u)throw new Error("convertRadix: carry overflow");if(u=y%n,l[h]=Math.floor(y/n),!Number.isSafeInteger(l[h])||l[h]*n+u!==y)throw new Error("convertRadix: carry overflow");if(d)l[h]?d=!1:r=h;else continue}if(i.push(u),d)break}for(let u=0;u<e.length-1&&e[u]===0;u++)i.push(0);return i.reverse()}const P2=(e,t)=>t?P2(t,e%t):e,Fh=(e,t)=>e+(t-P2(e,t));function $y(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Fh(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Fh(t,n)}`);let i=0,l=0;const u=2**n-1,d=[];for(const h of e){if(Uc(h),h>=2**t)throw new Error(`convertRadix2: invalid data word=${h} from=${t}`);if(i=i<<t|h,l+t>32)throw new Error(`convertRadix2: carry overflow pos=${l} from=${t}`);for(l+=t;l>=n;l-=n)d.push((i>>l-n&u)>>>0);i&=2**l-1}if(i=i<<n-l&u,!r&&l>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&l>0&&d.push(i>>>0),d}function P4(e){return Uc(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return k_(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(k_(t,e,2**8))}}}function ea(e,t=!1){if(Uc(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Fh(8,e)>32||Fh(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return $y(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from($y(n,e,8,t))}}}function S_(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const T4=Is(ea(4),Ls("0123456789ABCDEF"),Os("")),A4=Is(ea(5),Ls("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),mp(5),Os(""));Is(ea(5),Ls("0123456789ABCDEFGHIJKLMNOPQRSTUV"),mp(5),Os(""));Is(ea(5),Ls("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Os(""),j2(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Ts=Is(ea(6),Ls("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),mp(6),Os("")),R4=Is(ea(6),Ls("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),mp(6),Os("")),Bv=e=>Is(P4(58),Ls(e),Os("")),Uy=Bv("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Bv("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Bv("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const N_=[0,2,3,5,6,7,9,10,11],I4={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Uy.encode(r).padStart(N_[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=N_.indexOf(r.length),l=Uy.decode(r);for(let u=0;u<l.length-i;u++)if(l[u]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(l.slice(l.length-i)))}return Uint8Array.from(t)}},Zy=Is(Ls("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Os("")),C_=[996825010,642813549,513874426,1027748829,705979059];function Wu(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<C_.length;r++)(t>>r&1)===1&&(n^=C_[r]);return n}function j_(e,t,n=1){const r=e.length;let i=1;for(let l=0;l<r;l++){const u=e.charCodeAt(l);if(u<33||u>126)throw new Error(`Invalid prefix (${e})`);i=Wu(i)^u>>5}i=Wu(i);for(let l=0;l<r;l++)i=Wu(i)^e.charCodeAt(l)&31;for(let l of t)i=Wu(i)^l;for(let l=0;l<6;l++)i=Wu(i);return i^=n,Zy.encode($y([i%2**30],30,5,!1))}function T2(e){const t=e==="bech32"?1:734539939,n=ea(5),r=n.decode,i=n.encode,l=S_(r);function u(y,g,E=90){if(typeof y!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof y}`);if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof g}`);const _=y.length+7+g.length;if(E!==!1&&_>E)throw new TypeError(`Length ${_} exceeds limit ${E}`);return y=y.toLowerCase(),`${y}1${Zy.encode(g)}${j_(y,g,t)}`}function d(y,g=90){if(typeof y!="string")throw new Error(`bech32.decode input should be string, not ${typeof y}`);if(y.length<8||g!==!1&&y.length>g)throw new TypeError(`Wrong string length: ${y.length} (${y}). Expected (8..${g})`);const E=y.toLowerCase();if(y!==E&&y!==y.toUpperCase())throw new Error("String must be lowercase or uppercase");y=E;const _=y.lastIndexOf("1");if(_===0||_===-1)throw new Error('Letter "1" must be present between prefix and data only');const k=y.slice(0,_),x=y.slice(_+1);if(x.length<6)throw new Error("Data must be at least 6 characters long");const b=Zy.decode(x).slice(0,-6),S=j_(k,b,t);if(!x.endsWith(S))throw new Error(`Invalid checksum in ${y}: expected "${S}"`);return{prefix:k,words:b}}const h=S_(d);function m(y){const{prefix:g,words:E}=d(y,!1);return{prefix:g,words:E,bytes:r(E)}}return{encode:u,decode:d,decodeToBytes:m,decodeUnsafe:h,fromWords:r,fromWordsUnsafe:l,toWords:i}}const Ac=T2("bech32");T2("bech32m");const L4={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},O4=Is(ea(4),Ls("0123456789abcdef"),Os(""),j2(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),M4={utf8:L4,hex:O4,base16:T4,base32:A4,base64:Ts,base64url:R4,base58:Uy,base58xmr:I4};`${Object.keys(M4).join(", ")}`;function Bg(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function P_(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function z4(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Es(e,...t){if(!z4(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Wn=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),D4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!D4)throw new Error("Non little-endian hardware is not supported");function B4(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function F4(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const $4=(e,t)=>(Object.assign(t,e),t),Ho=16,U4=283;function Fv(e){return e<<1^U4&-(e>>7)}function ic(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Fv(e);return n}const Hy=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=Fv(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),Z4=Hy.map((e,t)=>Hy.indexOf(t)),H4=e=>e<<24|e>>>8,Fg=e=>e<<8|e>>>24;function A2(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((m,y)=>t(e[y])),r=n.map(Fg),i=r.map(Fg),l=i.map(Fg),u=new Uint32Array(256*256),d=new Uint32Array(256*256),h=new Uint16Array(256*256);for(let m=0;m<256;m++)for(let y=0;y<256;y++){const g=m*256+y;u[g]=n[m]^r[y],d[g]=i[m]^l[y],h[g]=e[m]<<8|e[y]}return{sbox:e,sbox2:h,T0:n,T1:r,T2:i,T3:l,T01:u,T23:d}}const $v=A2(Hy,e=>ic(e,3)<<24|e<<16|e<<8|ic(e,2)),R2=A2(Z4,e=>ic(e,11)<<24|ic(e,13)<<16|ic(e,9)<<8|ic(e,14)),W4=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Fv(n))e[t]=n;return e})();function I2(e){Es(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=$v,r=Wn(e),i=r.length,l=d=>Ui(n,d,d,d,d),u=new Uint32Array(t+28);u.set(r);for(let d=i;d<u.length;d++){let h=u[d-1];d%i===0?h=l(H4(h))^W4[d/i-1]:i>6&&d%i===4&&(h=l(h)),u[d]=u[d-i]^h}return u}function V4(e){const t=I2(e),n=t.slice(),r=t.length,{sbox2:i}=$v,{T0:l,T1:u,T2:d,T3:h}=R2;for(let m=0;m<r;m+=4)for(let y=0;y<4;y++)n[m+y]=t[r-m-4+y];t.fill(0);for(let m=4;m<r-4;m++){const y=n[m],g=Ui(i,y,y,y,y);n[m]=l[g&255]^u[g>>>8&255]^d[g>>>16&255]^h[g>>>24]}return n}function $o(e,t,n,r,i,l){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|l>>>24&255]}function Ui(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function T_(e,t,n,r,i){const{sbox2:l,T01:u,T23:d}=$v;let h=0;t^=e[h++],n^=e[h++],r^=e[h++],i^=e[h++];const m=e.length/4-2;for(let k=0;k<m;k++){const x=e[h++]^$o(u,d,t,n,r,i),b=e[h++]^$o(u,d,n,r,i,t),S=e[h++]^$o(u,d,r,i,t,n),j=e[h++]^$o(u,d,i,t,n,r);t=x,n=b,r=S,i=j}const y=e[h++]^Ui(l,t,n,r,i),g=e[h++]^Ui(l,n,r,i,t),E=e[h++]^Ui(l,r,i,t,n),_=e[h++]^Ui(l,i,t,n,r);return{s0:y,s1:g,s2:E,s3:_}}function q4(e,t,n,r,i){const{sbox2:l,T01:u,T23:d}=R2;let h=0;t^=e[h++],n^=e[h++],r^=e[h++],i^=e[h++];const m=e.length/4-2;for(let k=0;k<m;k++){const x=e[h++]^$o(u,d,t,i,r,n),b=e[h++]^$o(u,d,n,t,i,r),S=e[h++]^$o(u,d,r,n,t,i),j=e[h++]^$o(u,d,i,r,n,t);t=x,n=b,r=S,i=j}const y=e[h++]^Ui(l,t,i,r,n),g=e[h++]^Ui(l,n,t,i,r),E=e[h++]^Ui(l,r,n,t,i),_=e[h++]^Ui(l,i,r,n,t);return{s0:y,s1:g,s2:E,s3:_}}function L2(e,t){if(!t)return new Uint8Array(e);if(Es(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function K4(e){if(Es(e),e.length%Ho!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Ho}`)}function G4(e,t,n){let r=e.length;const i=r%Ho;if(!t&&i!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const l=Wn(e);if(t){let h=Ho-i;h||(h=Ho),r=r+h}const u=L2(r,n),d=Wn(u);return{b:l,o:d,out:u}}function Y4(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const i=e.subarray(0,-r);for(let l=0;l<r;l++)if(e[n-l-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function J4(e){const t=new Uint8Array(16),n=Wn(t);t.set(e);const r=Ho-e.length;for(let i=Ho-r;i<Ho;i++)t[i]=r;return n}const O2=$4({blockSize:16,nonceLength:16},function(t,n,r={}){Es(t),Es(n,16);const i=!r.disablePadding;return{encrypt:(l,u)=>{const d=I2(t),{b:h,o:m,out:y}=G4(l,i,u),g=Wn(n);let E=g[0],_=g[1],k=g[2],x=g[3],b=0;for(;b+4<=h.length;)E^=h[b+0],_^=h[b+1],k^=h[b+2],x^=h[b+3],{s0:E,s1:_,s2:k,s3:x}=T_(d,E,_,k,x),m[b++]=E,m[b++]=_,m[b++]=k,m[b++]=x;if(i){const S=J4(l.subarray(b*4));E^=S[0],_^=S[1],k^=S[2],x^=S[3],{s0:E,s1:_,s2:k,s3:x}=T_(d,E,_,k,x),m[b++]=E,m[b++]=_,m[b++]=k,m[b++]=x}return d.fill(0),y},decrypt:(l,u)=>{K4(l);const d=V4(t),h=Wn(n),m=L2(l.length,u),y=Wn(l),g=Wn(m);let E=h[0],_=h[1],k=h[2],x=h[3];for(let b=0;b+4<=y.length;){const S=E,j=_,R=k,D=x;E=y[b+0],_=y[b+1],k=y[b+2],x=y[b+3];const{s0:B,s1:q,s2:G,s3:J}=q4(d,E,_,k,x);g[b++]=B^S,g[b++]=q^j,g[b++]=G^R,g[b++]=J^D}return d.fill(0),Y4(m,i)}}}),M2=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),Q4=M2("expand 16-byte k"),X4=M2("expand 32-byte k"),e3=Wn(Q4),z2=Wn(X4);z2.slice();function zt(e,t){return e<<t|e>>>32-t}function Wy(e){return e.byteOffset%4===0}const lh=64,t3=16,D2=2**32-1,A_=new Uint32Array;function n3(e,t,n,r,i,l,u,d){const h=i.length,m=new Uint8Array(lh),y=Wn(m),g=Wy(i)&&Wy(l),E=g?Wn(i):A_,_=g?Wn(l):A_;for(let k=0;k<h;u++){if(e(t,n,r,y,u,d),u>=D2)throw new Error("arx: counter overflow");const x=Math.min(lh,h-k);if(g&&x===lh){const b=k/4;if(k%4!==0)throw new Error("arx: invalid block position");for(let S=0,j;S<t3;S++)j=b+S,_[j]=E[j]^y[S];k+=lh;continue}for(let b=0,S;b<x;b++)S=k+b,l[S]=i[S]^m[b];k+=x}}function r3(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:l,rounds:u}=B4({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Bg(i),Bg(u),P_(l),P_(n),(d,h,m,y,g=0)=>{Es(d),Es(h),Es(m);const E=m.length;if(y||(y=new Uint8Array(E)),Es(y),Bg(g),g<0||g>=D2)throw new Error("arx: counter overflow");if(y.length<E)throw new Error(`arx: output (${y.length}) is shorter than data (${E})`);const _=[];let k=d.length,x,b;if(k===32)x=d.slice(),_.push(x),b=z2;else if(k===16&&n)x=new Uint8Array(32),x.set(d),x.set(d,16),b=e3,_.push(x);else throw new Error(`arx: invalid 32-byte key, got length=${k}`);Wy(h)||(h=h.slice(),_.push(h));const S=Wn(x);if(r){if(h.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(b,S,Wn(h.subarray(0,16)),S),h=h.subarray(16)}const j=16-i;if(j!==h.length)throw new Error(`arx: nonce must be ${j} or 16 bytes`);if(j!==12){const D=new Uint8Array(12);D.set(h,l?0:12-h.length),h=D,_.push(h)}const R=Wn(h);for(n3(e,b,S,R,m,y,g,u);_.length>0;)_.pop().fill(0);return y}}function i3(e,t,n,r,i,l=20){let u=e[0],d=e[1],h=e[2],m=e[3],y=t[0],g=t[1],E=t[2],_=t[3],k=t[4],x=t[5],b=t[6],S=t[7],j=i,R=n[0],D=n[1],B=n[2],q=u,G=d,J=h,V=m,Y=y,Q=g,$=E,re=_,M=k,W=x,ae=b,se=S,ne=j,ee=R,le=D,F=B;for(let Ne=0;Ne<l;Ne+=2)q=q+Y|0,ne=zt(ne^q,16),M=M+ne|0,Y=zt(Y^M,12),q=q+Y|0,ne=zt(ne^q,8),M=M+ne|0,Y=zt(Y^M,7),G=G+Q|0,ee=zt(ee^G,16),W=W+ee|0,Q=zt(Q^W,12),G=G+Q|0,ee=zt(ee^G,8),W=W+ee|0,Q=zt(Q^W,7),J=J+$|0,le=zt(le^J,16),ae=ae+le|0,$=zt($^ae,12),J=J+$|0,le=zt(le^J,8),ae=ae+le|0,$=zt($^ae,7),V=V+re|0,F=zt(F^V,16),se=se+F|0,re=zt(re^se,12),V=V+re|0,F=zt(F^V,8),se=se+F|0,re=zt(re^se,7),q=q+Q|0,F=zt(F^q,16),ae=ae+F|0,Q=zt(Q^ae,12),q=q+Q|0,F=zt(F^q,8),ae=ae+F|0,Q=zt(Q^ae,7),G=G+$|0,ne=zt(ne^G,16),se=se+ne|0,$=zt($^se,12),G=G+$|0,ne=zt(ne^G,8),se=se+ne|0,$=zt($^se,7),J=J+re|0,ee=zt(ee^J,16),M=M+ee|0,re=zt(re^M,12),J=J+re|0,ee=zt(ee^J,8),M=M+ee|0,re=zt(re^M,7),V=V+Y|0,le=zt(le^V,16),W=W+le|0,Y=zt(Y^W,12),V=V+Y|0,le=zt(le^V,8),W=W+le|0,Y=zt(Y^W,7);let K=0;r[K++]=u+q|0,r[K++]=d+G|0,r[K++]=h+J|0,r[K++]=m+V|0,r[K++]=y+Y|0,r[K++]=g+Q|0,r[K++]=E+$|0,r[K++]=_+re|0,r[K++]=k+M|0,r[K++]=x+W|0,r[K++]=b+ae|0,r[K++]=S+se|0,r[K++]=j+ne|0,r[K++]=R+ee|0,r[K++]=D+le|0,r[K++]=B+F|0}const B2=r3(i3,{counterRight:!1,counterLength:4,allowShortKeys:!1});class F2 extends E2{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,$i.hash(t);const r=ad(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,l=new Uint8Array(i);l.set(r.length>i?t.create().update(r).digest():r);for(let u=0;u<l.length;u++)l[u]^=54;this.iHash.update(l),this.oHash=t.create();for(let u=0;u<l.length;u++)l[u]^=106;this.oHash.update(l),l.fill(0)}update(t){return $i.exists(this),this.iHash.update(t),this}digestInto(t){$i.exists(this),$i.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:l,blockLen:u,outputLen:d}=this;return t=t,t.finished=i,t.destroyed=l,t.blockLen=u,t.outputLen=d,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const gp=(e,t,n)=>new F2(e,t).update(n).digest();gp.create=(e,t)=>new F2(e,t);function s3(e,t,n){return $i.hash(e),gp(e,ad(n),ad(t))}const $g=new Uint8Array([0]),R_=new Uint8Array;function o3(e,t,n,r=32){if($i.hash(e),$i.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);n===void 0&&(n=R_);const l=new Uint8Array(i*e.outputLen),u=gp.create(e,t),d=u._cloneInto(),h=new Uint8Array(u.outputLen);for(let m=0;m<i;m++)$g[0]=m+1,d.update(m===0?R_:h).update(n).update($g).digestInto(h),l.set(h,e.outputLen*m),u._cloneInto(d);return u.destroy(),d.destroy(),h.fill(0),$g.fill(0),l.slice(0,r)}var a3=Object.defineProperty,nn=(e,t)=>{for(var n in t)a3(e,n,{get:t[n],enumerable:!0})},Ql=Symbol("verified"),l3=e=>e instanceof Object;function Uv(e){if(!l3(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var c3={};nn(c3,{Queue:()=>Z2,QueueNode:()=>U2,binarySearch:()=>Zv,bytesToHex:()=>Hn,hexToBytes:()=>el,insertEventIntoAscendingList:()=>d3,insertEventIntoDescendingList:()=>u3,normalizeURL:()=>$2,utf8Decoder:()=>ks,utf8Encoder:()=>gi});var ks=new TextDecoder("utf-8"),gi=new TextEncoder;function $2(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch{throw new Error(`Invalid URL: ${e}`)}}function u3(e,t){const[n,r]=Zv(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:i.created_at-t.created_at);return r||e.splice(n,0,t),e}function d3(e,t){const[n,r]=Zv(e,i=>t.id===i.id?0:t.created_at===i.created_at?-1:t.created_at-i.created_at);return r||e.splice(n,0,t),e}function Zv(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),l=t(e[i]);if(l===0)return[i,!0];l<0?r=i-1:n=i+1}return[n,!1]}var U2=class{constructor(e){Ze(this,"value");Ze(this,"next",null);Ze(this,"prev",null);this.value=e}},Z2=class{constructor(){Ze(this,"first");Ze(this,"last");this.first=null,this.last=null}enqueue(e){const t=new U2(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},f3=class{generateSecretKey(){return Hu.utils.randomPrivateKey()}getPublicKey(e){return Hn(Hu.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Hn(Hu.getPublicKey(t)),n.id=td(n),n.sig=Hn(Hu.sign(td(n),t)),n[Ql]=!0,n}verifyEvent(e){if(typeof e[Ql]=="boolean")return e[Ql];const t=td(e);if(t!==e.id)return e[Ql]=!1,!1;try{const n=Hu.verify(e.sig,t,e.pubkey);return e[Ql]=n,n}catch{return e[Ql]=!1,!1}}};function h3(e){if(!Uv(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function td(e){let t=$c(gi.encode(h3(e)));return Hn(t)}var yp=new f3,vp=yp.generateSecretKey,Go=yp.getPublicKey,Xr=yp.finalizeEvent,Pd=yp.verifyEvent,p3={};nn(p3,{Application:()=>hR,BadgeAward:()=>b3,BadgeDefinition:()=>oR,BlockedRelaysList:()=>H3,BookmarkList:()=>$3,Bookmarksets:()=>rR,Calendar:()=>wR,CalendarEventRSVP:()=>_R,ChannelCreation:()=>G2,ChannelHideMessage:()=>Q2,ChannelMessage:()=>J2,ChannelMetadata:()=>Y2,ChannelMuteUser:()=>X2,ClassifiedListing:()=>gR,ClientAuth:()=>tE,CommunitiesList:()=>U3,CommunityDefinition:()=>kR,CommunityPostApproval:()=>T3,Contacts:()=>x3,CreateOrUpdateProduct:()=>cR,CreateOrUpdateStall:()=>lR,Curationsets:()=>iR,Date:()=>vR,DirectMessageRelaysList:()=>K3,DraftClassifiedListing:()=>yR,DraftLong:()=>dR,Emojisets:()=>fR,EncryptedDirectMessage:()=>w3,EventDeletion:()=>_3,FileMetadata:()=>k3,FileServerPreference:()=>G3,Followsets:()=>eR,GenericRepost:()=>Vv,Genericlists:()=>tR,GiftWrap:()=>eE,HTTPAuth:()=>qv,Handlerinformation:()=>ER,Handlerrecommendation:()=>bR,Highlights:()=>z3,InterestsList:()=>V3,Interestsets:()=>aR,JobFeedback:()=>I3,JobRequest:()=>A3,JobResult:()=>R3,Label:()=>P3,LightningPubRPC:()=>J3,LiveChatMessage:()=>S3,LiveEvent:()=>pR,LongFormArticle:()=>uR,Metadata:()=>y3,Mutelist:()=>D3,NWCWalletInfo:()=>Y3,NWCWalletRequest:()=>nE,NWCWalletResponse:()=>Q3,NostrConnect:()=>X3,OpenTimestamps:()=>E3,Pinlist:()=>B3,PrivateDirectMessage:()=>K2,ProblemTracker:()=>N3,ProfileBadges:()=>sR,PublicChatsList:()=>Z3,Reaction:()=>Wv,RecommendRelay:()=>v3,RelayList:()=>F3,Relaysets:()=>nR,Report:()=>C3,Reporting:()=>j3,Repost:()=>Hv,Seal:()=>q2,SearchRelaysList:()=>W3,ShortTextNote:()=>V2,Time:()=>xR,UserEmojiList:()=>q3,UserStatuses:()=>mR,Zap:()=>M3,ZapGoal:()=>L3,ZapRequest:()=>O3,classifyKind:()=>m3,isAddressableKind:()=>wp,isEphemeralKind:()=>W2,isKind:()=>g3,isRegularKind:()=>H2,isReplaceableKind:()=>xp});function H2(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function xp(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function W2(e){return 2e4<=e&&e<3e4}function wp(e){return 3e4<=e&&e<4e4}function m3(e){return H2(e)?"regular":xp(e)?"replaceable":W2(e)?"ephemeral":wp(e)?"parameterized":"unknown"}function g3(e,t){const n=t instanceof Array?t:[t];return Uv(e)&&n.includes(e.kind)||!1}var y3=0,V2=1,v3=2,x3=3,w3=4,_3=5,Hv=6,Wv=7,b3=8,q2=13,K2=14,Vv=16,G2=40,Y2=41,J2=42,Q2=43,X2=44,E3=1040,eE=1059,k3=1063,S3=1311,N3=1971,C3=1984,j3=1984,P3=1985,T3=4550,A3=5999,R3=6999,I3=7e3,L3=9041,O3=9734,M3=9735,z3=9802,D3=1e4,B3=10001,F3=10002,$3=10003,U3=10004,Z3=10005,H3=10006,W3=10007,V3=10015,q3=10030,K3=10050,G3=10096,Y3=13194,J3=21e3,tE=22242,nE=23194,Q3=23195,X3=24133,qv=27235,eR=3e4,tR=30001,nR=30002,rR=30003,iR=30004,sR=30008,oR=30009,aR=30015,lR=30017,cR=30018,uR=30023,dR=30024,fR=30030,hR=30078,pR=30311,mR=30315,gR=30402,yR=30403,vR=31922,xR=31923,wR=31924,_R=31925,bR=31989,ER=31990,kR=34550;function SR(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),i=e[`#${r}`];if(i&&!t.tags.find(([l,u])=>l===n.slice(1)&&i.indexOf(u)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function rE(e,t){for(let n=0;n<e.length;n++)if(SR(e[n],t))return!0;return!1}function iE(e){var t,n,r,i,l,u;if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[d,h]of Object.entries(e))if(d[0]==="#"&&Array.isArray(h)&&!h.length)return 0;return Math.min(Math.max(0,e.limit??1/0),((t=e.ids)==null?void 0:t.length)??1/0,(n=e.authors)!=null&&n.length&&((r=e.kinds)!=null&&r.every(d=>xp(d)))?e.authors.length*e.kinds.length:1/0,(i=e.authors)!=null&&i.length&&((l=e.kinds)!=null&&l.every(d=>wp(d)))&&((u=e["#d"])!=null&&u.length)?e.authors.length*e.kinds.length*e["#d"].length:1/0)}var NR={};nn(NR,{getHex64:()=>_p,getInt:()=>sE,getSubscriptionId:()=>oE,matchEventId:()=>CR,matchEventKind:()=>PR,matchEventPubkey:()=>jR});function _p(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function sE(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),l=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,l),10)}function oE(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(i===-1)return null;let l=r+1+i;return e.slice(r+1,l)}function CR(e,t){return t===_p(e,"id")}function jR(e,t){return t===_p(e,"pubkey")}function PR(e,t){return t===sE(e,"kind")}var TR={};nn(TR,{makeAuthEvent:()=>aE});function aE(e,t){return{kind:tE,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function AR(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var lE=class extends Error{constructor(e,t){super(`Tried to send message '${e} on a closed connection to ${t}.`),this.name="SendingOnClosedConnection"}},cE=class{constructor(e,t){Ze(this,"url");Ze(this,"_connected",!1);Ze(this,"onclose",null);Ze(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));Ze(this,"baseEoseTimeout",4400);Ze(this,"connectionTimeout",4400);Ze(this,"publishTimeout",4400);Ze(this,"openSubs",new Map);Ze(this,"connectionTimeoutHandle");Ze(this,"connectionPromise");Ze(this,"openCountRequests",new Map);Ze(this,"openEventPublishes",new Map);Ze(this,"ws");Ze(this,"incomingMessageQueue",new Z2);Ze(this,"queueRunning",!1);Ze(this,"challenge");Ze(this,"authPromise");Ze(this,"serial",0);Ze(this,"verifyEvent");Ze(this,"_WebSocket");this.url=$2(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){const n=new cE(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket closed"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await AR();this.queueRunning=!1}handleNext(){var n,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=oE(e);if(t){const i=this.openSubs.get(t);if(!i)return;const l=_p(e,"id"),u=(n=i.alreadyHaveEvent)==null?void 0:n.call(i,l);if((r=i.receivedEvent)==null||r.call(i,this,l),u)return}try{let i=JSON.parse(e);switch(i[0]){case"EVENT":{const l=this.openSubs.get(i[1]),u=i[2];this.verifyEvent(u)&&rE(l.filters,u)&&l.onevent(u);return}case"COUNT":{const l=i[1],u=i[2],d=this.openCountRequests.get(l);d&&(d.resolve(u.count),this.openCountRequests.delete(l));return}case"EOSE":{const l=this.openSubs.get(i[1]);if(!l)return;l.receivedEose();return}case"OK":{const l=i[1],u=i[2],d=i[3],h=this.openEventPublishes.get(l);h&&(clearTimeout(h.timeout),u?h.resolve(d):h.reject(new Error(d)),this.openEventPublishes.delete(l));return}case"CLOSED":{const l=i[1],u=this.openSubs.get(l);if(!u)return;u.closed=!0,u.close(i[2]);return}case"NOTICE":this.onnotice(i[1]);return;case"AUTH":{this.challenge=i[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new lE(e,this.url);this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){const t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let i=await e(aE(this.url,t)),l=setTimeout(()=>{let u=this.openEventPublishes.get(i.id);u&&(u.reject(new Error("auth timed out")),this.openEventPublishes.delete(i.id))},this.publishTimeout);this.openEventPublishes.set(i.id,{resolve:n,reject:r,timeout:l}),this.send('["AUTH",'+JSON.stringify(i)+"]")}catch(i){console.warn("subscribe auth function failed:",i)}}),this.authPromise)}async publish(e){const t=new Promise((n,r)=>{const i=setTimeout(()=>{const l=this.openEventPublishes.get(e.id);l&&(l.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:n,reject:r,timeout:i})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((i,l)=>{this.openCountRequests.set(n,{resolve:i,reject:l})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||(t.label?t.label+":":"sub:")+this.serial,r=new RR(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},RR=class{constructor(e,t,n,r){Ze(this,"relay");Ze(this,"id");Ze(this,"closed",!1);Ze(this,"eosed",!1);Ze(this,"filters");Ze(this,"alreadyHaveEvent");Ze(this,"receivedEvent");Ze(this,"onevent");Ze(this,"oneose");Ze(this,"onclose");Ze(this,"eoseTimeout");Ze(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(i=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,i)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof lE))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},uE;try{uE=WebSocket}catch{}var dE=class extends cE{constructor(e){super(e,{verifyEvent:Pd,websocketImplementation:uE})}static async connect(e){const t=new dE(e);return await t.connect(),t}},IR;try{IR=WebSocket}catch{}var tr={};nn(tr,{BECH32_REGEX:()=>fE,Bech32MaxSize:()=>Kv,NostrTypeGuard:()=>LR,decode:()=>bp,decodeNostrURI:()=>MR,encodeBytes:()=>kp,naddrEncode:()=>UR,neventEncode:()=>$R,noteEncode:()=>BR,nprofileEncode:()=>FR,npubEncode:()=>DR,nsecEncode:()=>zR});var LR={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},Kv=5e3,fE=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function OR(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function MR(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),bp(e)}catch{return{type:"invalid",data:null}}}function bp(e){var i,l,u,d,h,m,y;let{prefix:t,words:n}=Ac.decode(e,Kv),r=new Uint8Array(Ac.fromWords(n));switch(t){case"nprofile":{let g=Ug(r);if(!((i=g[0])!=null&&i[0]))throw new Error("missing TLV 0 for nprofile");if(g[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Hn(g[0][0]),relays:g[1]?g[1].map(E=>ks.decode(E)):[]}}}case"nevent":{let g=Ug(r);if(!((l=g[0])!=null&&l[0]))throw new Error("missing TLV 0 for nevent");if(g[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(g[2]&&g[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(g[3]&&g[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Hn(g[0][0]),relays:g[1]?g[1].map(E=>ks.decode(E)):[],author:(u=g[2])!=null&&u[0]?Hn(g[2][0]):void 0,kind:(d=g[3])!=null&&d[0]?parseInt(Hn(g[3][0]),16):void 0}}}case"naddr":{let g=Ug(r);if(!((h=g[0])!=null&&h[0]))throw new Error("missing TLV 0 for naddr");if(!((m=g[2])!=null&&m[0]))throw new Error("missing TLV 2 for naddr");if(g[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((y=g[3])!=null&&y[0]))throw new Error("missing TLV 3 for naddr");if(g[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:ks.decode(g[0][0]),pubkey:Hn(g[2][0]),kind:parseInt(Hn(g[3][0]),16),relays:g[1]?g[1].map(E=>ks.decode(E)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Hn(r)};default:throw new Error(`unknown prefix ${t}`)}}function Ug(e){let t={},n=e;for(;n.length>0;){let r=n[0],i=n[1],l=n.slice(2,2+i);if(n=n.slice(2+i),l.length<i)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(l)}return t}function zR(e){return kp("nsec",e)}function DR(e){return kp("npub",el(e))}function BR(e){return kp("note",el(e))}function Ep(e,t){let n=Ac.toWords(t);return Ac.encode(e,n,Kv)}function kp(e,t){return Ep(e,t)}function FR(e){let t=Gv({0:[el(e.pubkey)],1:(e.relays||[]).map(n=>gi.encode(n))});return Ep("nprofile",t)}function $R(e){let t;e.kind!==void 0&&(t=OR(e.kind));let n=Gv({0:[el(e.id)],1:(e.relays||[]).map(r=>gi.encode(r)),2:e.author?[el(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Ep("nevent",n)}function UR(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Gv({0:[gi.encode(e.identifier)],1:(e.relays||[]).map(r=>gi.encode(r)),2:[el(e.pubkey)],3:[new Uint8Array(t)]});return Ep("naddr",n)}function Gv(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(i=>{let l=new Uint8Array(i.length+2);l.set([parseInt(n)],0),l.set([i.length],1),l.set(i,2),t.push(l)})}),pp(...t)}var ld={};nn(ld,{decrypt:()=>ZR,encrypt:()=>hE});function hE(e,t,n){const r=e instanceof Uint8Array?Hn(e):e,i=Fc.getSharedSecret(r,"02"+t),l=pE(i);let u=Uint8Array.from(S2(16)),d=gi.encode(n),h=O2(l,u).encrypt(d),m=Ts.encode(new Uint8Array(h)),y=Ts.encode(new Uint8Array(u.buffer));return`${m}?iv=${y}`}function ZR(e,t,n){const r=e instanceof Uint8Array?Hn(e):e;let[i,l]=n.split("?iv="),u=Fc.getSharedSecret(r,"02"+t),d=pE(u),h=Ts.decode(l),m=Ts.decode(i),y=O2(d,h).decrypt(m);return ks.decode(y)}function pE(e){return e.slice(1,33)}var HR={};nn(HR,{NIP05_REGEX:()=>Yv,isNip05:()=>WR,isValid:()=>KR,queryProfile:()=>mE,searchDomain:()=>qR,useFetchImplementation:()=>VR});var Yv=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,WR=e=>Yv.test(e||""),Sp;try{Sp=fetch}catch{}function VR(e){Sp=e}async function qR(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await Sp(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function mE(e){var i;const t=e.match(Yv);if(!t)return null;const[,n="_",r]=t;try{const l=`https://${r}/.well-known/nostr.json?name=${n}`,u=await Sp(l,{redirect:"manual"});if(u.status!==200)throw Error("Wrong response code");const d=await u.json(),h=d.names[n];return h?{pubkey:h,relays:(i=d.relays)==null?void 0:i[h]}:null}catch{return null}}async function KR(e,t){const n=await mE(t);return n?n.pubkey===e:!1}var GR={};nn(GR,{parse:()=>YR});function YR(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let i=e.tags.length-1;i>=0;i--){const l=e.tags[i];if(l[0]==="e"&&l[1]){const[u,d,h,m,y]=l,g={id:d,relays:h?[h]:[],author:y};if(m==="root"){t.root=g;continue}if(m==="reply"){t.reply=g;continue}if(m==="mention"){t.mentions.push(g);continue}n?r=g:n=g,t.mentions.push(g);continue}if(l[0]==="q"&&l[1]){const[u,d,h]=l;t.quotes.push({id:d,relays:h?[h]:[]})}if(l[0]==="p"&&l[1]){t.profiles.push({pubkey:l[1],relays:l[2]?[l[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(i=>{if(!i)return;let l=t.mentions.indexOf(i);if(l!==-1&&t.mentions.splice(l,1),i.author){let u=t.profiles.find(d=>d.pubkey===i.author);u&&u.relays&&(i.relays||(i.relays=[]),u.relays.forEach(d=>{var h;((h=i.relays)==null?void 0:h.indexOf(d))===-1&&i.relays.push(d)}),u.relays=i.relays)}}),t.mentions.forEach(i=>{if(i.author){let l=t.profiles.find(u=>u.pubkey===i.author);l&&l.relays&&(i.relays||(i.relays=[]),l.relays.forEach(u=>{i.relays.indexOf(u)===-1&&i.relays.push(u)}),l.relays=i.relays)}}),t}var JR={};nn(JR,{fetchRelayInformation:()=>XR,useFetchImplementation:()=>QR});var gE;try{gE=fetch}catch{}function QR(e){gE=e}async function XR(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var eI={};nn(eI,{fastEventHash:()=>vE,getPow:()=>yE,minePow:()=>tI});function yE(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function tI(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const l=Math.floor(new Date().getTime()/1e3);if(l!==r.created_at&&(n=0,r.created_at=l),i[1]=(++n).toString(),r.id=vE(r),yE(r.id)>=t)break}return r}function vE(e){return Hn($c(gi.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var nI={};nn(nI,{unwrapEvent:()=>hI,unwrapManyEvents:()=>pI,wrapEvent:()=>AE,wrapManyEvents:()=>fI});var rI={};nn(rI,{createRumor:()=>CE,createSeal:()=>jE,createWrap:()=>PE,unwrapEvent:()=>tx,unwrapManyEvents:()=>TE,wrapEvent:()=>$h,wrapManyEvents:()=>uI});var Uo={};nn(Uo,{decrypt:()=>ex,encrypt:()=>Xv,getConversationKey:()=>Jv,v2:()=>lI});var xE=1,wE=65535;function Jv(e,t){const n=Fc.getSharedSecret(e,"02"+t).subarray(1,33);return s3($c,n,"nip44-v2")}function _E(e,t){const n=o3($c,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function Qv(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function iI(e){if(!Number.isSafeInteger(e)||e<xE||e>wE)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function sI(e){const t=gi.encode(e),n=t.length,r=iI(n),i=new Uint8Array(Qv(n)-n);return pp(r,t,i)}function oI(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<xE||t>wE||n.length!==t||e.length!==2+Qv(t))throw new Error("invalid padding");return ks.decode(n)}function bE(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=pp(n,t);return gp($c,e,r)}function aI(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Ts.decode(e)}catch(l){throw new Error("invalid base64: "+l.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(i!==2)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function Xv(e,t,n=S2(32)){const{chacha_key:r,chacha_nonce:i,hmac_key:l}=_E(t,n),u=sI(e),d=B2(r,i,u),h=bE(l,d,n);return Ts.encode(pp(new Uint8Array([2]),n,d,h))}function ex(e,t){const{nonce:n,ciphertext:r,mac:i}=aI(e),{chacha_key:l,chacha_nonce:u,hmac_key:d}=_E(t,n),h=bE(d,r,n);if(!F4(h,i))throw new Error("invalid MAC");const m=B2(l,u,r);return oI(m)}var lI={utils:{getConversationKey:Jv,calcPaddedLen:Qv},encrypt:Xv,decrypt:ex},cI=2*24*60*60,EE=()=>Math.round(Date.now()/1e3),kE=()=>Math.round(EE()-Math.random()*cI),SE=(e,t)=>Jv(e,t),NE=(e,t,n)=>Xv(JSON.stringify(e),SE(t,n)),I_=(e,t)=>JSON.parse(ex(e.content,SE(t,e.pubkey)));function CE(e,t){const n={created_at:EE(),content:"",tags:[],...e,pubkey:Go(t)};return n.id=td(n),n}function jE(e,t,n){return Xr({kind:q2,content:NE(e,t,n),created_at:kE(),tags:[]},t)}function PE(e,t){const n=vp();return Xr({kind:eE,content:NE(e,n,t),created_at:kE(),tags:[["p",t]]},n)}function $h(e,t,n){const r=CE(e,t),i=jE(r,t,n);return PE(i,n)}function uI(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=Go(t),i=[$h(e,t,r)];return n.forEach(l=>{i.push($h(e,t,l))}),i}function tx(e,t){const n=I_(e,t);return I_(n,t)}function TE(e,t){let n=[];return e.forEach(r=>{n.push(tx(r,t))}),n.sort((r,i)=>r.created_at-i.created_at),n}function dI(e,t,n,r){const i={created_at:Math.ceil(Date.now()/1e3),kind:K2,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:u,relayUrl:d})=>{i.tags.push(d?["p",u,d]:["p",u])}),r&&i.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&i.tags.push(["subject",n]),i}function AE(e,t,n,r,i){const l=dI(t,n,r,i);return $h(l,e,t.publicKey)}function fI(e,t,n,r,i){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Go(e)},...t].map(u=>AE(e,u,n,r,i))}var hI=tx,pI=TE,mI={};nn(mI,{finishRepostEvent:()=>gI,getRepostedEvent:()=>yI,getRepostedEventPointer:()=>RE});function gI(e,t,n,r){var u;let i;const l=[...e.tags??[],["e",t.id,n],["p",t.pubkey]];return t.kind===V2?i=Hv:(i=Vv,l.push(["k",String(t.kind)])),Xr({kind:i,tags:l,content:e.content===""||(u=t.tags)!=null&&u.find(d=>d[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function RE(e){if(![Hv,Vv].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function yI(e,{skipVerification:t}={}){const n=RE(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!Pd(r)))return r}var vI={};nn(vI,{NOSTR_URI_REGEX:()=>nx,parse:()=>wI,test:()=>xI});var nx=new RegExp(`nostr:(${fE.source})`);function xI(e){return typeof e=="string"&&new RegExp(`^${nx.source}$`).test(e)}function wI(e){const t=e.match(new RegExp(`^${nx.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:bp(t[1])}}var _I={};nn(_I,{finishReactionEvent:()=>bI,getReactedEventPointer:()=>EI});function bI(e,t,n){const r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return Xr({...e,kind:Wv,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function EI(e){if(e.kind!==Wv)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const i=e.tags[r];i.length>=2&&(i[0]==="e"&&t===void 0?t=i:i[0]==="p"&&n===void 0&&(n=i))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var kI={};nn(kI,{parse:()=>NI});var SI=/\W/m,L_=/\W |\W$|$|,| /m;function*NI(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.indexOf(":",r);if(i===-1)break;if(e.substring(i-5,i)==="nostr"){const l=e.substring(i+60).match(SI),u=l?i+60+l.index:t;try{let d,{data:h,type:m}=bp(e.substring(i+1,u));switch(m){case"npub":d={pubkey:h};break;case"nsec":case"note":r=u+1;continue;default:d=h}n!==i-5&&(yield{type:"text",text:e.substring(n,i-5)}),yield{type:"reference",pointer:d},r=u,n=r;continue}catch{r=i+1;continue}}else if(e.substring(i-5,i)==="https"||e.substring(i-4,i)==="http"){const l=e.substring(i+4).match(L_),u=l?i+4+l.index:t,d=e[i-1]==="s"?5:4;try{let h=new URL(e.substring(i-d,u));if(h.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==i-d&&(yield{type:"text",text:e.substring(n,i-d)}),h.pathname.endsWith(".png")||h.pathname.endsWith(".jpg")||h.pathname.endsWith(".jpeg")||h.pathname.endsWith(".gif")||h.pathname.endsWith(".webp")){yield{type:"image",url:h.toString()},r=u,n=r;continue}if(h.pathname.endsWith(".mp4")||h.pathname.endsWith(".avi")||h.pathname.endsWith(".webm")||h.pathname.endsWith(".mkv")){yield{type:"video",url:h.toString()},r=u,n=r;continue}if(h.pathname.endsWith(".mp3")||h.pathname.endsWith(".aac")||h.pathname.endsWith(".ogg")||h.pathname.endsWith(".opus")){yield{type:"audio",url:h.toString()},r=u,n=r;continue}yield{type:"url",url:h.toString()},r=u,n=r;continue}catch{r=u+1;continue}}else if(e.substring(i-3,i)==="wss"||e.substring(i-2,i)==="ws"){const l=e.substring(i+4).match(L_),u=l?i+4+l.index:t,d=e[i-1]==="s"?3:2;try{let h=new URL(e.substring(i-d,u));if(h.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==i-d&&(yield{type:"text",text:e.substring(n,i-d)}),yield{type:"relay",url:h.toString()},r=u,n=r;continue}catch{r=u+1;continue}}else{r=i+1;continue}}n!==t&&(yield{type:"text",text:e.substring(n)})}var CI={};nn(CI,{channelCreateEvent:()=>jI,channelHideMessageEvent:()=>AI,channelMessageEvent:()=>TI,channelMetadataEvent:()=>PI,channelMuteUserEvent:()=>RI});var jI=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Xr({kind:G2,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},PI=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Xr({kind:Y2,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},TI=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Xr({kind:J2,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},AI=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Xr({kind:Q2,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},RI=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Xr({kind:X2,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},II={};nn(II,{EMOJI_SHORTCODE_REGEX:()=>IE,matchAll:()=>LI,regex:()=>rx,replaceAll:()=>OI});var IE=/:(\w+):/,rx=()=>new RegExp(`\\B${IE.source}\\B`,"g");function*LI(e){const t=e.matchAll(rx());for(const n of t)try{const[r,i]=n;yield{shortcode:r,name:i,start:n.index,end:n.index+r.length}}catch{}}function OI(e,t){return e.replaceAll(rx(),(n,r)=>t({shortcode:n,name:r}))}var MI={};nn(MI,{useFetchImplementation:()=>zI,validateGithub:()=>DI});var ix;try{ix=fetch}catch{}function zI(e){ix=e}async function DI(e,t,n){try{return await(await ix(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var BI={};nn(BI,{makeNwcRequestEvent:()=>$I,parseConnectionString:()=>FI});function FI(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),l=n.get("secret");if(!r||!i||!l)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:l}}async function $I(e,t,n){const i=hE(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),l={kind:nE,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return Xr(l,t)}var UI={};nn(UI,{normalizeIdentifier:()=>ZI});function ZI(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var HI={};nn(HI,{getSatoshisAmountFromBolt11:()=>YI,getZapEndpoint:()=>VI,makeZapReceipt:()=>GI,makeZapRequest:()=>qI,useFetchImplementation:()=>WI,validateZapRequest:()=>KI});var sx;try{sx=fetch}catch{}function WI(e){sx=e}async function VI(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:u}=Ac.decode(n,1e3),d=Ac.fromWords(u);t=ks.decode(d)}else if(r){let[u,d]=r.split("@");t=new URL(`/.well-known/lnurlp/${u}`,`https://${d}`).toString()}else return null;let l=await(await sx(t)).json();if(l.allowsNostr&&l.nostrPubkey)return l.callback}catch{}return null}function qI({profile:e,event:t,amount:n,relays:r,comment:i=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let l={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",n.toString()],["relays",...r]]};if(t&&typeof t=="string"&&l.tags.push(["e",t]),t&&typeof t=="object"){if(xp(t.kind)){const u=["a",`${t.kind}:${t.pubkey}:`];l.tags.push(u)}else if(wp(t.kind)){let u=t.tags.find(([h,m])=>h==="d"&&m);if(!u)throw new Error("d tag not found or is empty");const d=["a",`${t.kind}:${t.pubkey}:${u[1]}`];l.tags.push(d)}}return l}function KI(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!Uv(t))return"Zap request is not a valid Nostr event.";if(!Pd(t))return"Invalid signature on zap request.";let n=t.tags.find(([l,u])=>l==="p"&&u);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([l,u])=>l==="e"&&u);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([l,u])=>l==="relays"&&u)?null:"Zap request doesn't have a 'relays' tag."}function GI({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e),l=i.tags.filter(([d])=>d==="e"||d==="p"||d==="a"),u={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...l,["P",i.pubkey],["bolt11",n],["description",e]]};return t&&u.tags.push(["preimage",t]),u}function YI(e){if(e.length<50)return 0;e=e.substring(0,50);const t=e.lastIndexOf("1");if(t===-1)return 0;const n=e.substring(0,t);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const i=r[r.length-1],l=i.charCodeAt(0)-48,u=l>=0&&l<=9;let d=r.length-1;if(u&&d++,d<1)return 0;const h=parseInt(r.substring(0,d));switch(i){case"m":return h*1e5;case"u":return h*100;case"n":return h/10;case"p":return h/1e4;default:return h*1e8}}var JI={};nn(JI,{getToken:()=>QI,hashPayload:()=>ox,unpackEventFromToken:()=>OE,validateEvent:()=>$E,validateEventKind:()=>zE,validateEventMethodTag:()=>BE,validateEventPayloadTag:()=>FE,validateEventTimestamp:()=>ME,validateEventUrlTag:()=>DE,validateToken:()=>XI});var LE="Nostr ";async function QI(e,t,n,r=!1,i){const l={kind:qv,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};i&&l.tags.push(["payload",ox(i)]);const u=await n(l);return(r?LE:"")+Ts.encode(gi.encode(JSON.stringify(u)))}async function XI(e,t,n){const r=await OE(e).catch(l=>{throw l});return await $E(r,t,n).catch(l=>{throw l})}async function OE(e){if(!e)throw new Error("Missing token");e=e.replace(LE,"");const t=ks.decode(Ts.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function ME(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function zE(e){return e.kind===qv}function DE(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function BE(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function ox(e){const t=$c(gi.encode(JSON.stringify(e)));return Hn(t)}function FE(e,t){const n=e.tags.find(i=>i[0]==="payload");if(!n)return!1;const r=ox(t);return n.length>0&&n[1]===r}async function $E(e,t,n,r){if(!Pd(e))throw new Error("Invalid nostr event, signature invalid");if(!zE(e))throw new Error("Invalid nostr event, kind invalid");if(!ME(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!DE(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!BE(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!FE(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var A1,R1,ap,UE;const Oi=class Oi{constructor(t){tt(this,ap);Ze(this,"cache");Ze(this,A1,"NSet");this.cache=t??new Map}get size(){return this.cache.size}add(t){_t(this,ap,UE).call(this,t);for(const n of this){if(Oi.deletes(n,t)||Oi.replaces(n,t))return this;Oi.replaces(t,n)&&this.delete(n)}return this.cache.set(t.id,t),this}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,n){return this.cache.forEach((r,i)=>t(r,r,this),n)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of Oi.sortEvents([...this.cache.values()]))yield t}[(R1=Symbol.iterator,A1=Symbol.toStringTag,R1)](){return this.values()}static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isAddressable(t){return 3e4<=t&&t<4e4}static replaces(t,n){var l,u;const{kind:r,pubkey:i}=t;if(Oi.isReplaceable(r))return r===n.kind&&i===n.pubkey&&Oi.sortEvents([t,n])[0]===t;if(Oi.isAddressable(r)){const d=((l=t.tags.find(([m])=>m==="d"))==null?void 0:l[1])||"",h=((u=n.tags.find(([m])=>m==="d"))==null?void 0:u[1])||"";return r===n.kind&&i===n.pubkey&&Oi.sortEvents([t,n])[0]===t&&d===h}return!1}static deletes(t,n){const{kind:r,pubkey:i,tags:l}=t;if(r===5&&i===n.pubkey){for(const[u,d]of l)if(u==="e"&&d===n.id)return!0}return!1}static sortEvents(t){return t.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}};ap=new WeakSet,UE=function(t){if(t.kind===5){for(const n of t.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===t.pubkey&&this.delete(r)}}};let Uh=Oi;const eL=Object.freeze({status:"aborted"});function je(e,t,n){function r(d,h){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:h,constr:u,traits:new Set},enumerable:!1}),d._zod.traits.has(e))return;d._zod.traits.add(e),t(d,h);const m=u.prototype,y=Object.keys(m);for(let g=0;g<y.length;g++){const E=y[g];E in d||(d[E]=m[E].bind(d))}}const i=(n==null?void 0:n.Parent)??Object;class l extends i{}Object.defineProperty(l,"name",{value:e});function u(d){var h;const m=n!=null&&n.Parent?new l:this;r(m,d),(h=m._zod).deferred??(h.deferred=[]);for(const y of m._zod.deferred)y();return m}return Object.defineProperty(u,"init",{value:r}),Object.defineProperty(u,Symbol.hasInstance,{value:d=>{var h,m;return n!=null&&n.Parent&&d instanceof n.Parent?!0:(m=(h=d==null?void 0:d._zod)==null?void 0:h.traits)==null?void 0:m.has(e)}}),Object.defineProperty(u,"name",{value:e}),u}class lc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ZE extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const HE={};function Yo(e){return HE}function WE(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Vy(e,t){return typeof t=="bigint"?t.toString():t}function ax(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function lx(e){return e==null}function cx(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function tL(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h!=null&&h[1]&&(i=Number.parseInt(h[1]))}const l=n>i?n:i,u=Number.parseInt(e.toFixed(l).replace(".","")),d=Number.parseInt(t.toFixed(l).replace(".",""));return u%d/10**l}const O_=Symbol("evaluating");function Ut(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==O_)return r===void 0&&(r=O_,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function il(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ta(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function M_(e){return JSON.stringify(e)}function nL(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const VE="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Zh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const rL=ax(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Rc(e){if(Zh(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Zh(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function qE(e){return Rc(e)?{...e}:Array.isArray(e)?[...e]:e}const iL=new Set(["string","number","symbol"]);function Ic(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function na(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function nt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function sL(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const oL={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function aL(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const l=ta(e._zod.def,{get shape(){const u={};for(const d in t){if(!(d in n.shape))throw new Error(`Unrecognized key: "${d}"`);t[d]&&(u[d]=n.shape[d])}return il(this,"shape",u),u},checks:[]});return na(e,l)}function lL(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const l=ta(e._zod.def,{get shape(){const u={...e._zod.def.shape};for(const d in t){if(!(d in n.shape))throw new Error(`Unrecognized key: "${d}"`);t[d]&&delete u[d]}return il(this,"shape",u),u},checks:[]});return na(e,l)}function cL(e,t){if(!Rc(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const l=e._zod.def.shape;for(const u in t)if(Object.getOwnPropertyDescriptor(l,u)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=ta(e._zod.def,{get shape(){const l={...e._zod.def.shape,...t};return il(this,"shape",l),l}});return na(e,i)}function uL(e,t){if(!Rc(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=ta(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return il(this,"shape",r),r}});return na(e,n)}function dL(e,t){const n=ta(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return il(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return na(e,n)}function fL(e,t,n){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const u=ta(t._zod.def,{get shape(){const d=t._zod.def.shape,h={...d};if(n)for(const m in n){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);n[m]&&(h[m]=e?new e({type:"optional",innerType:d[m]}):d[m])}else for(const m in d)h[m]=e?new e({type:"optional",innerType:d[m]}):d[m];return il(this,"shape",h),h},checks:[]});return na(t,u)}function hL(e,t,n){const r=ta(t._zod.def,{get shape(){const i=t._zod.def.shape,l={...i};if(n)for(const u in n){if(!(u in l))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(l[u]=new e({type:"nonoptional",innerType:i[u]}))}else for(const u in i)l[u]=new e({type:"nonoptional",innerType:i[u]});return il(this,"shape",l),l}});return na(t,r)}function sc(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function za(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function ch(e){return typeof e=="string"?e:e==null?void 0:e.message}function Jo(e,t,n){var i,l,u,d,h,m;const r={...e,path:e.path??[]};if(!e.message){const y=ch((u=(l=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:l.error)==null?void 0:u.call(l,e))??ch((d=t==null?void 0:t.error)==null?void 0:d.call(t,e))??ch((h=n.customError)==null?void 0:h.call(n,e))??ch((m=n.localeError)==null?void 0:m.call(n,e))??"Invalid input";r.message=y}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function ux(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function cd(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const KE=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Vy,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},GE=je("$ZodError",KE),YE=je("$ZodError",KE,{Parent:Error});function pL(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function mL(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>r({issues:u}));else if(l.code==="invalid_key")r({issues:l.issues});else if(l.code==="invalid_element")r({issues:l.issues});else if(l.path.length===0)n._errors.push(t(l));else{let u=n,d=0;for(;d<l.path.length;){const h=l.path[d];d===l.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(t(l))):u[h]=u[h]||{_errors:[]},u=u[h],d++}}};return r(e),n}const dx=e=>(t,n,r,i)=>{const l=r?Object.assign(r,{async:!1}):{async:!1},u=t._zod.run({value:n,issues:[]},l);if(u instanceof Promise)throw new lc;if(u.issues.length){const d=new((i==null?void 0:i.Err)??e)(u.issues.map(h=>Jo(h,l,Yo())));throw VE(d,i==null?void 0:i.callee),d}return u.value},fx=e=>async(t,n,r,i)=>{const l=r?Object.assign(r,{async:!0}):{async:!0};let u=t._zod.run({value:n,issues:[]},l);if(u instanceof Promise&&(u=await u),u.issues.length){const d=new((i==null?void 0:i.Err)??e)(u.issues.map(h=>Jo(h,l,Yo())));throw VE(d,i==null?void 0:i.callee),d}return u.value},Np=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},l=t._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new lc;return l.issues.length?{success:!1,error:new(e??GE)(l.issues.map(u=>Jo(u,i,Yo())))}:{success:!0,data:l.value}},gL=Np(YE),Cp=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new e(l.issues.map(u=>Jo(u,i,Yo())))}:{success:!0,data:l.value}},yL=Cp(YE),vL=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return dx(e)(t,n,i)},xL=e=>(t,n,r)=>dx(e)(t,n,r),wL=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fx(e)(t,n,i)},_L=e=>async(t,n,r)=>fx(e)(t,n,r),bL=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Np(e)(t,n,i)},EL=e=>(t,n,r)=>Np(e)(t,n,r),kL=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Cp(e)(t,n,i)},SL=e=>async(t,n,r)=>Cp(e)(t,n,r),NL=/^[cC][^\s-]{8,}$/,CL=/^[0-9a-z]+$/,jL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,PL=/^[0-9a-vA-V]{20}$/,TL=/^[A-Za-z0-9]{27}$/,AL=/^[a-zA-Z0-9_-]{21}$/,RL=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,IL=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,z_=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,LL=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,OL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ML(){return new RegExp(OL,"u")}const zL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,DL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,BL=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,FL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$L=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,JE=/^[A-Za-z0-9_-]*$/,UL=/^\+[1-9]\d{6,14}$/,QE="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",ZL=new RegExp(`^${QE}$`);function XE(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function HL(e){return new RegExp(`^${XE(e)}$`)}function WL(e){const t=XE({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${QE}T(?:${r})$`)}const VL=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},qL=/^-?\d+$/,ek=/^-?\d+(?:\.\d+)?$/,KL=/^(?:true|false)$/i,GL=/^[^A-Z]*$/,YL=/^[^a-z]*$/,yr=je("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),tk={number:"number",bigint:"bigint",object:"date"},nk=je("$ZodCheckLessThan",(e,t)=>{yr.init(e,t);const n=tk[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,l=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<l&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),rk=je("$ZodCheckGreaterThan",(e,t)=>{yr.init(e,t);const n=tk[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,l=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>l&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),JL=je("$ZodCheckMultipleOf",(e,t)=>{yr.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):tL(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),QL=je("$ZodCheckNumberFormat",(e,t)=>{var u;yr.init(e,t),t.format=t.format||"float64";const n=(u=t.format)==null?void 0:u.includes("int"),r=n?"int":"number",[i,l]=oL[t.format];e._zod.onattach.push(d=>{const h=d._zod.bag;h.format=t.format,h.minimum=i,h.maximum=l,n&&(h.pattern=qL)}),e._zod.check=d=>{const h=d.value;if(n){if(!Number.isInteger(h)){d.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?d.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):d.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}h<i&&d.issues.push({origin:"number",input:h,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),h>l&&d.issues.push({origin:"number",input:h,code:"too_big",maximum:l,inclusive:!0,inst:e,continue:!t.abort})}}),XL=je("$ZodCheckMaxLength",(e,t)=>{var n;yr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!lx(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const u=ux(i);r.issues.push({origin:u,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),eO=je("$ZodCheckMinLength",(e,t)=>{var n;yr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!lx(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const u=ux(i);r.issues.push({origin:u,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),tO=je("$ZodCheckLengthEquals",(e,t)=>{var n;yr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!lx(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,l=i.length;if(l===t.length)return;const u=ux(i),d=l>t.length;r.issues.push({origin:u,...d?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),jp=je("$ZodCheckStringFormat",(e,t)=>{var n,r;yr.init(e,t),e._zod.onattach.push(i=>{const l=i._zod.bag;l.format=t.format,t.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),nO=je("$ZodCheckRegex",(e,t)=>{jp.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),rO=je("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=GL),jp.init(e,t)}),iO=je("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=YL),jp.init(e,t)}),sO=je("$ZodCheckIncludes",(e,t)=>{yr.init(e,t);const n=Ic(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),oO=je("$ZodCheckStartsWith",(e,t)=>{yr.init(e,t);const n=new RegExp(`^${Ic(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),aO=je("$ZodCheckEndsWith",(e,t)=>{yr.init(e,t);const n=new RegExp(`.*${Ic(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),lO=je("$ZodCheckOverwrite",(e,t)=>{yr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class cO{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(u=>u),i=Math.min(...r.map(u=>u.length-u.trimStart().length)),l=r.map(u=>u.slice(i)).map(u=>" ".repeat(this.indent*2)+u);for(const u of l)this.content.push(u)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(l=>`  ${l}`)];return new t(...n,i.join(`
`))}}const uO={major:4,minor:3,patch:6},Qt=je("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=uO;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const l of r)for(const u of l._zod.onattach)u(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const l=(d,h,m)=>{let y=sc(d),g;for(const E of h){if(E._zod.def.when){if(!E._zod.def.when(d))continue}else if(y)continue;const _=d.issues.length,k=E._zod.check(d);if(k instanceof Promise&&(m==null?void 0:m.async)===!1)throw new lc;if(g||k instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await k,d.issues.length!==_&&(y||(y=sc(d,_)))});else{if(d.issues.length===_)continue;y||(y=sc(d,_))}}return g?g.then(()=>d):d},u=(d,h,m)=>{if(sc(d))return d.aborted=!0,d;const y=l(h,r,m);if(y instanceof Promise){if(m.async===!1)throw new lc;return y.then(g=>e._zod.parse(g,m))}return e._zod.parse(y,m)};e._zod.run=(d,h)=>{if(h.skipChecks)return e._zod.parse(d,h);if(h.direction==="backward"){const y=e._zod.parse({value:d.value,issues:[]},{...h,skipChecks:!0});return y instanceof Promise?y.then(g=>u(g,d,h)):u(y,d,h)}const m=e._zod.parse(d,h);if(m instanceof Promise){if(h.async===!1)throw new lc;return m.then(y=>l(y,r,h))}return l(m,r,h)}}Ut(e,"~standard",()=>({validate:l=>{var u;try{const d=gL(e,l);return d.success?{value:d.data}:{issues:(u=d.error)==null?void 0:u.issues}}catch{return yL(e,l).then(h=>{var m;return h.success?{value:h.data}:{issues:(m=h.error)==null?void 0:m.issues}})}},vendor:"zod",version:1}))}),hx=je("$ZodString",(e,t)=>{var n;Qt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??VL(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),rn=je("$ZodStringFormat",(e,t)=>{jp.init(e,t),hx.init(e,t)}),dO=je("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=IL),rn.init(e,t)}),fO=je("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=z_(r))}else t.pattern??(t.pattern=z_());rn.init(e,t)}),hO=je("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=LL),rn.init(e,t)}),pO=je("$ZodURL",(e,t)=>{rn.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),mO=je("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=ML()),rn.init(e,t)}),gO=je("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=AL),rn.init(e,t)}),yO=je("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=NL),rn.init(e,t)}),vO=je("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=CL),rn.init(e,t)}),xO=je("$ZodULID",(e,t)=>{t.pattern??(t.pattern=jL),rn.init(e,t)}),wO=je("$ZodXID",(e,t)=>{t.pattern??(t.pattern=PL),rn.init(e,t)}),_O=je("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=TL),rn.init(e,t)}),bO=je("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=WL(t)),rn.init(e,t)}),EO=je("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=ZL),rn.init(e,t)}),kO=je("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=HL(t)),rn.init(e,t)}),SO=je("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=RL),rn.init(e,t)}),NO=je("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=zL),rn.init(e,t),e._zod.bag.format="ipv4"}),CO=je("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=DL),rn.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),jO=je("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=BL),rn.init(e,t)}),PO=je("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=FL),rn.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,l]=r;if(!l)throw new Error;const u=Number(l);if(`${u}`!==l)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function ik(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const TO=je("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=$L),rn.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{ik(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function AO(e){if(!JE.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return ik(n)}const RO=je("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=JE),rn.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{AO(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),IO=je("$ZodE164",(e,t)=>{t.pattern??(t.pattern=UL),rn.init(e,t)});function LO(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const OO=je("$ZodJWT",(e,t)=>{rn.init(e,t),e._zod.check=n=>{LO(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),sk=je("$ZodNumber",(e,t)=>{Qt.init(e,t),e._zod.pattern=e._zod.bag.pattern??ek,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const l=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...l?{received:l}:{}}),n}}),MO=je("$ZodNumberFormat",(e,t)=>{QL.init(e,t),sk.init(e,t)}),zO=je("$ZodBoolean",(e,t)=>{Qt.init(e,t),e._zod.pattern=KL,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),DO=je("$ZodUnknown",(e,t)=>{Qt.init(e,t),e._zod.parse=n=>n}),BO=je("$ZodNever",(e,t)=>{Qt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function D_(e,t,n){e.issues.length&&t.issues.push(...za(n,e.issues)),t.value[n]=e.value}const FO=je("$ZodArray",(e,t)=>{Qt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const l=[];for(let u=0;u<i.length;u++){const d=i[u],h=t.element._zod.run({value:d,issues:[]},r);h instanceof Promise?l.push(h.then(m=>D_(m,n,u))):D_(h,n,u)}return l.length?Promise.all(l).then(()=>n):n}});function Hh(e,t,n,r,i){if(e.issues.length){if(i&&!(n in r))return;t.issues.push(...za(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function ok(e){var r,i,l,u;const t=Object.keys(e.shape);for(const d of t)if(!((u=(l=(i=(r=e.shape)==null?void 0:r[d])==null?void 0:i._zod)==null?void 0:l.traits)!=null&&u.has("$ZodType")))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const n=sL(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function ak(e,t,n,r,i,l){const u=[],d=i.keySet,h=i.catchall._zod,m=h.def.type,y=h.optout==="optional";for(const g in t){if(d.has(g))continue;if(m==="never"){u.push(g);continue}const E=h.run({value:t[g],issues:[]},r);E instanceof Promise?e.push(E.then(_=>Hh(_,n,g,t,y))):Hh(E,n,g,t,y)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:t,inst:l}),e.length?Promise.all(e).then(()=>n):n}const $O=je("$ZodObject",(e,t)=>{Qt.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const d=t.shape;Object.defineProperty(t,"shape",{get:()=>{const h={...d};return Object.defineProperty(t,"shape",{value:h}),h}})}const r=ax(()=>ok(t));Ut(e._zod,"propValues",()=>{const d=t.shape,h={};for(const m in d){const y=d[m]._zod;if(y.values){h[m]??(h[m]=new Set);for(const g of y.values)h[m].add(g)}}return h});const i=Zh,l=t.catchall;let u;e._zod.parse=(d,h)=>{u??(u=r.value);const m=d.value;if(!i(m))return d.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),d;d.value={};const y=[],g=u.shape;for(const E of u.keys){const _=g[E],k=_._zod.optout==="optional",x=_._zod.run({value:m[E],issues:[]},h);x instanceof Promise?y.push(x.then(b=>Hh(b,d,E,m,k))):Hh(x,d,E,m,k)}return l?ak(y,m,d,h,r.value,e):y.length?Promise.all(y).then(()=>d):d}}),UO=je("$ZodObjectJIT",(e,t)=>{$O.init(e,t);const n=e._zod.parse,r=ax(()=>ok(t)),i=E=>{var R;const _=new cO(["shape","payload","ctx"]),k=r.value,x=D=>{const B=M_(D);return`shape[${B}]._zod.run({ value: input[${B}], issues: [] }, ctx)`};_.write("const input = payload.value;");const b=Object.create(null);let S=0;for(const D of k.keys)b[D]=`key_${S++}`;_.write("const newResult = {};");for(const D of k.keys){const B=b[D],q=M_(D),G=E[D],J=((R=G==null?void 0:G._zod)==null?void 0:R.optout)==="optional";_.write(`const ${B} = ${x(D)};`),J?_.write(`
        if (${B}.issues.length) {
          if (${q} in input) {
            payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${q}, ...iss.path] : [${q}]
            })));
          }
        }
        
        if (${B}.value === undefined) {
          if (${q} in input) {
            newResult[${q}] = undefined;
          }
        } else {
          newResult[${q}] = ${B}.value;
        }
        
      `):_.write(`
        if (${B}.issues.length) {
          payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${q}, ...iss.path] : [${q}]
          })));
        }
        
        if (${B}.value === undefined) {
          if (${q} in input) {
            newResult[${q}] = undefined;
          }
        } else {
          newResult[${q}] = ${B}.value;
        }
        
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const j=_.compile();return(D,B)=>j(E,D,B)};let l;const u=Zh,d=!HE.jitless,m=d&&rL.value,y=t.catchall;let g;e._zod.parse=(E,_)=>{g??(g=r.value);const k=E.value;return u(k)?d&&m&&(_==null?void 0:_.async)===!1&&_.jitless!==!0?(l||(l=i(t.shape)),E=l(E,_),y?ak([],k,E,_,g,e):E):n(E,_):(E.issues.push({expected:"object",code:"invalid_type",input:k,inst:e}),E)}});function B_(e,t,n,r){for(const l of e)if(l.issues.length===0)return t.value=l.value,t;const i=e.filter(l=>!sc(l));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(l=>l.issues.map(u=>Jo(u,r,Yo())))}),t)}const ZO=je("$ZodUnion",(e,t)=>{Qt.init(e,t),Ut(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Ut(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Ut(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Ut(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>cx(l.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,l)=>{if(n)return r(i,l);let u=!1;const d=[];for(const h of t.options){const m=h._zod.run({value:i.value,issues:[]},l);if(m instanceof Promise)d.push(m),u=!0;else{if(m.issues.length===0)return m;d.push(m)}}return u?Promise.all(d).then(h=>B_(h,i,e,l)):B_(d,i,e,l)}}),HO=je("$ZodIntersection",(e,t)=>{Qt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,l=t.left._zod.run({value:i,issues:[]},r),u=t.right._zod.run({value:i,issues:[]},r);return l instanceof Promise||u instanceof Promise?Promise.all([l,u]).then(([h,m])=>F_(n,h,m)):F_(n,l,u)}});function qy(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Rc(e)&&Rc(t)){const n=Object.keys(t),r=Object.keys(e).filter(l=>n.indexOf(l)!==-1),i={...e,...t};for(const l of r){const u=qy(e[l],t[l]);if(!u.valid)return{valid:!1,mergeErrorPath:[l,...u.mergeErrorPath]};i[l]=u.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],l=t[r],u=qy(i,l);if(!u.valid)return{valid:!1,mergeErrorPath:[r,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function F_(e,t,n){const r=new Map;let i;for(const d of t.issues)if(d.code==="unrecognized_keys"){i??(i=d);for(const h of d.keys)r.has(h)||r.set(h,{}),r.get(h).l=!0}else e.issues.push(d);for(const d of n.issues)if(d.code==="unrecognized_keys")for(const h of d.keys)r.has(h)||r.set(h,{}),r.get(h).r=!0;else e.issues.push(d);const l=[...r].filter(([,d])=>d.l&&d.r).map(([d])=>d);if(l.length&&i&&e.issues.push({...i,keys:l}),sc(e))return e;const u=qy(t.value,n.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return e.value=u.data,e}const WO=je("$ZodTuple",(e,t)=>{Qt.init(e,t);const n=t.items;e._zod.parse=(r,i)=>{const l=r.value;if(!Array.isArray(l))return r.issues.push({input:l,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const u=[],d=[...n].reverse().findIndex(y=>y._zod.optin!=="optional"),h=d===-1?0:n.length-d;if(!t.rest){const y=l.length>n.length,g=l.length<h-1;if(y||g)return r.issues.push({...y?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:l,inst:e,origin:"array"}),r}let m=-1;for(const y of n){if(m++,m>=l.length&&m>=h)continue;const g=y._zod.run({value:l[m],issues:[]},i);g instanceof Promise?u.push(g.then(E=>uh(E,r,m))):uh(g,r,m)}if(t.rest){const y=l.slice(n.length);for(const g of y){m++;const E=t.rest._zod.run({value:g,issues:[]},i);E instanceof Promise?u.push(E.then(_=>uh(_,r,m))):uh(E,r,m)}}return u.length?Promise.all(u).then(()=>r):r}});function uh(e,t,n){e.issues.length&&t.issues.push(...za(n,e.issues)),t.value[n]=e.value}const VO=je("$ZodRecord",(e,t)=>{Qt.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Rc(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const l=[],u=t.keyType._zod.values;if(u){n.value={};const d=new Set;for(const m of u)if(typeof m=="string"||typeof m=="number"||typeof m=="symbol"){d.add(typeof m=="number"?m.toString():m);const y=t.valueType._zod.run({value:i[m],issues:[]},r);y instanceof Promise?l.push(y.then(g=>{g.issues.length&&n.issues.push(...za(m,g.issues)),n.value[m]=g.value})):(y.issues.length&&n.issues.push(...za(m,y.issues)),n.value[m]=y.value)}let h;for(const m in i)d.has(m)||(h=h??[],h.push(m));h&&h.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:h})}else{n.value={};for(const d of Reflect.ownKeys(i)){if(d==="__proto__")continue;let h=t.keyType._zod.run({value:d,issues:[]},r);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof d=="string"&&ek.test(d)&&h.issues.length){const g=t.keyType._zod.run({value:Number(d),issues:[]},r);if(g instanceof Promise)throw new Error("Async schemas not supported in object keys currently");g.issues.length===0&&(h=g)}if(h.issues.length){t.mode==="loose"?n.value[d]=i[d]:n.issues.push({code:"invalid_key",origin:"record",issues:h.issues.map(g=>Jo(g,r,Yo())),input:d,path:[d],inst:e});continue}const y=t.valueType._zod.run({value:i[d],issues:[]},r);y instanceof Promise?l.push(y.then(g=>{g.issues.length&&n.issues.push(...za(d,g.issues)),n.value[h.value]=g.value})):(y.issues.length&&n.issues.push(...za(d,y.issues)),n.value[h.value]=y.value)}}return l.length?Promise.all(l).then(()=>n):n}}),qO=je("$ZodEnum",(e,t)=>{Qt.init(e,t);const n=WE(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>iL.has(typeof i)).map(i=>typeof i=="string"?Ic(i):i.toString()).join("|")})$`),e._zod.parse=(i,l)=>{const u=i.value;return r.has(u)||i.issues.push({code:"invalid_value",values:n,input:u,inst:e}),i}}),KO=je("$ZodLiteral",(e,t)=>{if(Qt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Ic(r):r?Ic(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const l=r.value;return n.has(l)||r.issues.push({code:"invalid_value",values:t.values,input:l,inst:e}),r}}),GO=je("$ZodTransform",(e,t)=>{Qt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new ZE(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(u=>(n.value=u,n));if(i instanceof Promise)throw new lc;return n.value=i,n}});function $_(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const lk=je("$ZodOptional",(e,t)=>{Qt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ut(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ut(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${cx(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>$_(l,n.value)):$_(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),YO=je("$ZodExactOptional",(e,t)=>{lk.init(e,t),Ut(e._zod,"values",()=>t.innerType._zod.values),Ut(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),JO=je("$ZodNullable",(e,t)=>{Qt.init(e,t),Ut(e._zod,"optin",()=>t.innerType._zod.optin),Ut(e._zod,"optout",()=>t.innerType._zod.optout),Ut(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${cx(n.source)}|null)$`):void 0}),Ut(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),QO=je("$ZodDefault",(e,t)=>{Qt.init(e,t),e._zod.optin="optional",Ut(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>U_(l,t)):U_(i,t)}});function U_(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const XO=je("$ZodPrefault",(e,t)=>{Qt.init(e,t),e._zod.optin="optional",Ut(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),eM=je("$ZodNonOptional",(e,t)=>{Qt.init(e,t),Ut(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>Z_(l,e)):Z_(i,e)}});function Z_(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const tM=je("$ZodCatch",(e,t)=>{Qt.init(e,t),Ut(e._zod,"optin",()=>t.innerType._zod.optin),Ut(e._zod,"optout",()=>t.innerType._zod.optout),Ut(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=t.catchValue({...n,error:{issues:l.issues.map(u=>Jo(u,r,Yo()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(l=>Jo(l,r,Yo()))},input:n.value}),n.issues=[]),n)}}),nM=je("$ZodPipe",(e,t)=>{Qt.init(e,t),Ut(e._zod,"values",()=>t.in._zod.values),Ut(e._zod,"optin",()=>t.in._zod.optin),Ut(e._zod,"optout",()=>t.out._zod.optout),Ut(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const l=t.out._zod.run(n,r);return l instanceof Promise?l.then(u=>dh(u,t.in,r)):dh(l,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(l=>dh(l,t.out,r)):dh(i,t.out,r)}});function dh(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const rM=je("$ZodReadonly",(e,t)=>{Qt.init(e,t),Ut(e._zod,"propValues",()=>t.innerType._zod.propValues),Ut(e._zod,"values",()=>t.innerType._zod.values),Ut(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Ut(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(H_):H_(i)}});function H_(e){return e.value=Object.freeze(e.value),e}const iM=je("$ZodCustom",(e,t)=>{yr.init(e,t),Qt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(l=>W_(l,n,r,e));W_(i,n,r,e)}});function W_(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(cd(i))}}var V_;class sM{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function oM(){return new sM}(V_=globalThis).__zod_globalRegistry??(V_.__zod_globalRegistry=oM());const Yu=globalThis.__zod_globalRegistry;function aM(e,t){return new e({type:"string",...nt(t)})}function ck(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...nt(t)})}function q_(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...nt(t)})}function lM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...nt(t)})}function cM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...nt(t)})}function uM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...nt(t)})}function dM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...nt(t)})}function uk(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...nt(t)})}function fM(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...nt(t)})}function hM(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...nt(t)})}function pM(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...nt(t)})}function mM(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...nt(t)})}function gM(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...nt(t)})}function yM(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...nt(t)})}function vM(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...nt(t)})}function xM(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...nt(t)})}function wM(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...nt(t)})}function _M(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...nt(t)})}function bM(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...nt(t)})}function EM(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...nt(t)})}function kM(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...nt(t)})}function SM(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...nt(t)})}function NM(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...nt(t)})}function CM(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...nt(t)})}function jM(e,t){return new e({type:"string",format:"date",check:"string_format",...nt(t)})}function PM(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...nt(t)})}function TM(e,t){return new e({type:"string",format:"duration",check:"string_format",...nt(t)})}function AM(e,t){return new e({type:"number",checks:[],...nt(t)})}function RM(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...nt(t)})}function IM(e,t){return new e({type:"boolean",...nt(t)})}function LM(e){return new e({type:"unknown"})}function OM(e,t){return new e({type:"never",...nt(t)})}function K_(e,t){return new nk({check:"less_than",...nt(t),value:e,inclusive:!1})}function Zg(e,t){return new nk({check:"less_than",...nt(t),value:e,inclusive:!0})}function G_(e,t){return new rk({check:"greater_than",...nt(t),value:e,inclusive:!1})}function Hg(e,t){return new rk({check:"greater_than",...nt(t),value:e,inclusive:!0})}function Y_(e,t){return new JL({check:"multiple_of",...nt(t),value:e})}function dk(e,t){return new XL({check:"max_length",...nt(t),maximum:e})}function Wh(e,t){return new eO({check:"min_length",...nt(t),minimum:e})}function fk(e,t){return new tO({check:"length_equals",...nt(t),length:e})}function MM(e,t){return new nO({check:"string_format",format:"regex",...nt(t),pattern:e})}function zM(e){return new rO({check:"string_format",format:"lowercase",...nt(e)})}function DM(e){return new iO({check:"string_format",format:"uppercase",...nt(e)})}function BM(e,t){return new sO({check:"string_format",format:"includes",...nt(t),includes:e})}function FM(e,t){return new oO({check:"string_format",format:"starts_with",...nt(t),prefix:e})}function $M(e,t){return new aO({check:"string_format",format:"ends_with",...nt(t),suffix:e})}function Zc(e){return new lO({check:"overwrite",tx:e})}function UM(e){return Zc(t=>t.normalize(e))}function ZM(){return Zc(e=>e.trim())}function HM(){return Zc(e=>e.toLowerCase())}function WM(){return Zc(e=>e.toUpperCase())}function VM(){return Zc(e=>nL(e))}function qM(e,t,n){return new e({type:"array",element:t,...nt(n)})}function KM(e,t,n){return new e({type:"custom",check:"custom",fn:t,...nt(n)})}function GM(e){const t=YM(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(cd(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(cd(i))}},e(n.value,n)));return t}function YM(e,t){const n=new yr({check:"custom",...nt(t)});return n._zod.check=e,n}function hk(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??Yu,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function mn(e,t,n={path:[],schemaPath:[]}){var y,g;var r;const i=e._zod.def,l=t.seen.get(e);if(l)return l.count++,n.schemaPath.includes(e)&&(l.cycle=n.path),l.schema;const u={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,u);const d=(g=(y=e._zod).toJSONSchema)==null?void 0:g.call(y);if(d)u.schema=d;else{const E={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,u.schema,E);else{const k=u.schema,x=t.processors[i.type];if(!x)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);x(e,t,k,E)}const _=e._zod.parent;_&&(u.ref||(u.ref=_),mn(_,t,E),t.seen.get(_).isParent=!0)}const h=t.metadataRegistry.get(e);return h&&Object.assign(u.schema,h),t.io==="input"&&Qn(e)&&(delete u.schema.examples,delete u.schema.default),t.io==="input"&&u.schema._prefault&&((r=u.schema).default??(r.default=u.schema._prefault)),delete u.schema._prefault,t.seen.get(e).schema}function pk(e,t){var u,d,h,m;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const y of e.seen.entries()){const g=(u=e.metadataRegistry.get(y[0]))==null?void 0:u.id;if(g){const E=r.get(g);if(E&&E!==y[0])throw new Error(`Duplicate schema id "${g}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(g,y[0])}}const i=y=>{var x;const g=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const b=(x=e.external.registry.get(y[0]))==null?void 0:x.id,S=e.external.uri??(R=>R);if(b)return{ref:S(b)};const j=y[1].defId??y[1].schema.id??`schema${e.counter++}`;return y[1].defId=j,{defId:j,ref:`${S("__shared")}#/${g}/${j}`}}if(y[1]===n)return{ref:"#"};const _=`#/${g}/`,k=y[1].schema.id??`__schema${e.counter++}`;return{defId:k,ref:_+k}},l=y=>{if(y[1].schema.$ref)return;const g=y[1],{ref:E,defId:_}=i(y);g.def={...g.schema},_&&(g.defId=_);const k=g.schema;for(const x in k)delete k[x];k.$ref=E};if(e.cycles==="throw")for(const y of e.seen.entries()){const g=y[1];if(g.cycle)throw new Error(`Cycle detected: #/${(d=g.cycle)==null?void 0:d.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const y of e.seen.entries()){const g=y[1];if(t===y[0]){l(y);continue}if(e.external){const _=(h=e.external.registry.get(y[0]))==null?void 0:h.id;if(t!==y[0]&&_){l(y);continue}}if((m=e.metadataRegistry.get(y[0]))==null?void 0:m.id){l(y);continue}if(g.cycle){l(y);continue}if(g.count>1&&e.reused==="ref"){l(y);continue}}}function mk(e,t){var u,d,h;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=m=>{const y=e.seen.get(m);if(y.ref===null)return;const g=y.def??y.schema,E={...g},_=y.ref;if(y.ref=null,_){r(_);const x=e.seen.get(_),b=x.schema;if(b.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(b)):Object.assign(g,b),Object.assign(g,E),m._zod.parent===_)for(const j in g)j==="$ref"||j==="allOf"||j in E||delete g[j];if(b.$ref&&x.def)for(const j in g)j==="$ref"||j==="allOf"||j in x.def&&JSON.stringify(g[j])===JSON.stringify(x.def[j])&&delete g[j]}const k=m._zod.parent;if(k&&k!==_){r(k);const x=e.seen.get(k);if(x!=null&&x.schema.$ref&&(g.$ref=x.schema.$ref,x.def))for(const b in g)b==="$ref"||b==="allOf"||b in x.def&&JSON.stringify(g[b])===JSON.stringify(x.def[b])&&delete g[b]}e.override({zodSchema:m,jsonSchema:g,path:y.path??[]})};for(const m of[...e.seen.entries()].reverse())r(m[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,(u=e.external)!=null&&u.uri){const m=(d=e.external.registry.get(t))==null?void 0:d.id;if(!m)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(m)}Object.assign(i,n.def??n.schema);const l=((h=e.external)==null?void 0:h.defs)??{};for(const m of e.seen.entries()){const y=m[1];y.def&&y.defId&&(l[y.defId]=y.def)}e.external||Object.keys(l).length>0&&(e.target==="draft-2020-12"?i.$defs=l:i.definitions=l);try{const m=JSON.parse(JSON.stringify(i));return Object.defineProperty(m,"~standard",{value:{...t["~standard"],jsonSchema:{input:Vh(t,"input",e.processors),output:Vh(t,"output",e.processors)}},enumerable:!1,writable:!1}),m}catch{throw new Error("Error converting schema to JSON.")}}function Qn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Qn(r.element,n);if(r.type==="set")return Qn(r.valueType,n);if(r.type==="lazy")return Qn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Qn(r.innerType,n);if(r.type==="intersection")return Qn(r.left,n)||Qn(r.right,n);if(r.type==="record"||r.type==="map")return Qn(r.keyType,n)||Qn(r.valueType,n);if(r.type==="pipe")return Qn(r.in,n)||Qn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Qn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Qn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Qn(i,n))return!0;return!!(r.rest&&Qn(r.rest,n))}return!1}const JM=(e,t={})=>n=>{const r=hk({...n,processors:t});return mn(e,r),pk(r,e),mk(r,e)},Vh=(e,t,n={})=>r=>{const{libraryOptions:i,target:l}=r??{},u=hk({...i??{},target:l,io:t,processors:n});return mn(e,u),pk(u,e),mk(u,e)},QM={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},XM=(e,t,n,r)=>{const i=n;i.type="string";const{minimum:l,maximum:u,format:d,patterns:h,contentEncoding:m}=e._zod.bag;if(typeof l=="number"&&(i.minLength=l),typeof u=="number"&&(i.maxLength=u),d&&(i.format=QM[d]??d,i.format===""&&delete i.format,d==="time"&&delete i.format),m&&(i.contentEncoding=m),h&&h.size>0){const y=[...h];y.length===1?i.pattern=y[0].source:y.length>1&&(i.allOf=[...y.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},e5=(e,t,n,r)=>{const i=n,{minimum:l,maximum:u,format:d,multipleOf:h,exclusiveMaximum:m,exclusiveMinimum:y}=e._zod.bag;typeof d=="string"&&d.includes("int")?i.type="integer":i.type="number",typeof y=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=y,i.exclusiveMinimum=!0):i.exclusiveMinimum=y),typeof l=="number"&&(i.minimum=l,typeof y=="number"&&t.target!=="draft-04"&&(y>=l?delete i.minimum:delete i.exclusiveMinimum)),typeof m=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=m,i.exclusiveMaximum=!0):i.exclusiveMaximum=m),typeof u=="number"&&(i.maximum=u,typeof m=="number"&&t.target!=="draft-04"&&(m<=u?delete i.maximum:delete i.exclusiveMaximum)),typeof h=="number"&&(i.multipleOf=h)},t5=(e,t,n,r)=>{n.type="boolean"},n5=(e,t,n,r)=>{n.not={}},r5=(e,t,n,r)=>{},i5=(e,t,n,r)=>{const i=e._zod.def,l=WE(i.entries);l.every(u=>typeof u=="number")&&(n.type="number"),l.every(u=>typeof u=="string")&&(n.type="string"),n.enum=l},s5=(e,t,n,r)=>{const i=e._zod.def,l=[];for(const u of i.values)if(u===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof u=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");l.push(Number(u))}else l.push(u);if(l.length!==0)if(l.length===1){const u=l[0];n.type=u===null?"null":typeof u,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[u]:n.const=u}else l.every(u=>typeof u=="number")&&(n.type="number"),l.every(u=>typeof u=="string")&&(n.type="string"),l.every(u=>typeof u=="boolean")&&(n.type="boolean"),l.every(u=>u===null)&&(n.type="null"),n.enum=l},o5=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},a5=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},l5=(e,t,n,r)=>{const i=n,l=e._zod.def,{minimum:u,maximum:d}=e._zod.bag;typeof u=="number"&&(i.minItems=u),typeof d=="number"&&(i.maxItems=d),i.type="array",i.items=mn(l.element,t,{...r,path:[...r.path,"items"]})},c5=(e,t,n,r)=>{var m;const i=n,l=e._zod.def;i.type="object",i.properties={};const u=l.shape;for(const y in u)i.properties[y]=mn(u[y],t,{...r,path:[...r.path,"properties",y]});const d=new Set(Object.keys(u)),h=new Set([...d].filter(y=>{const g=l.shape[y]._zod;return t.io==="input"?g.optin===void 0:g.optout===void 0}));h.size>0&&(i.required=Array.from(h)),((m=l.catchall)==null?void 0:m._zod.def.type)==="never"?i.additionalProperties=!1:l.catchall?l.catchall&&(i.additionalProperties=mn(l.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},u5=(e,t,n,r)=>{const i=e._zod.def,l=i.inclusive===!1,u=i.options.map((d,h)=>mn(d,t,{...r,path:[...r.path,l?"oneOf":"anyOf",h]}));l?n.oneOf=u:n.anyOf=u},d5=(e,t,n,r)=>{const i=e._zod.def,l=mn(i.left,t,{...r,path:[...r.path,"allOf",0]}),u=mn(i.right,t,{...r,path:[...r.path,"allOf",1]}),d=m=>"allOf"in m&&Object.keys(m).length===1,h=[...d(l)?l.allOf:[l],...d(u)?u.allOf:[u]];n.allOf=h},f5=(e,t,n,r)=>{const i=n,l=e._zod.def;i.type="array";const u=t.target==="draft-2020-12"?"prefixItems":"items",d=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",h=l.items.map((E,_)=>mn(E,t,{...r,path:[...r.path,u,_]})),m=l.rest?mn(l.rest,t,{...r,path:[...r.path,d,...t.target==="openapi-3.0"?[l.items.length]:[]]}):null;t.target==="draft-2020-12"?(i.prefixItems=h,m&&(i.items=m)):t.target==="openapi-3.0"?(i.items={anyOf:h},m&&i.items.anyOf.push(m),i.minItems=h.length,m||(i.maxItems=h.length)):(i.items=h,m&&(i.additionalItems=m));const{minimum:y,maximum:g}=e._zod.bag;typeof y=="number"&&(i.minItems=y),typeof g=="number"&&(i.maxItems=g)},h5=(e,t,n,r)=>{const i=n,l=e._zod.def;i.type="object";const u=l.keyType,d=u._zod.bag,h=d==null?void 0:d.patterns;if(l.mode==="loose"&&h&&h.size>0){const y=mn(l.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});i.patternProperties={};for(const g of h)i.patternProperties[g.source]=y}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(i.propertyNames=mn(l.keyType,t,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=mn(l.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const m=u._zod.values;if(m){const y=[...m].filter(g=>typeof g=="string"||typeof g=="number");y.length>0&&(i.required=y)}},p5=(e,t,n,r)=>{const i=e._zod.def,l=mn(i.innerType,t,r),u=t.seen.get(e);t.target==="openapi-3.0"?(u.ref=i.innerType,n.nullable=!0):n.anyOf=[l,{type:"null"}]},m5=(e,t,n,r)=>{const i=e._zod.def;mn(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType},g5=(e,t,n,r)=>{const i=e._zod.def;mn(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},y5=(e,t,n,r)=>{const i=e._zod.def;mn(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},v5=(e,t,n,r)=>{const i=e._zod.def;mn(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType;let u;try{u=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=u},x5=(e,t,n,r)=>{const i=e._zod.def,l=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;mn(l,t,r);const u=t.seen.get(e);u.ref=l},w5=(e,t,n,r)=>{const i=e._zod.def;mn(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType,n.readOnly=!0},gk=(e,t,n,r)=>{const i=e._zod.def;mn(i.innerType,t,r);const l=t.seen.get(e);l.ref=i.innerType},_5=je("ZodISODateTime",(e,t)=>{bO.init(e,t),dn.init(e,t)});function b5(e){return CM(_5,e)}const E5=je("ZodISODate",(e,t)=>{EO.init(e,t),dn.init(e,t)});function k5(e){return jM(E5,e)}const S5=je("ZodISOTime",(e,t)=>{kO.init(e,t),dn.init(e,t)});function N5(e){return PM(S5,e)}const C5=je("ZodISODuration",(e,t)=>{SO.init(e,t),dn.init(e,t)});function j5(e){return TM(C5,e)}const P5=(e,t)=>{GE.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>mL(e,n)},flatten:{value:n=>pL(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Vy,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Vy,2)}},isEmpty:{get(){return e.issues.length===0}}})},ei=je("ZodError",P5,{Parent:Error}),T5=dx(ei),A5=fx(ei),R5=Np(ei),I5=Cp(ei),L5=vL(ei),O5=xL(ei),M5=wL(ei),z5=_L(ei),D5=bL(ei),B5=EL(ei),F5=kL(ei),$5=SL(ei),sn=je("ZodType",(e,t)=>(Qt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Vh(e,"input"),output:Vh(e,"output")}}),e.toJSONSchema=JM(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(ta(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>na(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>T5(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>R5(e,n,r),e.parseAsync=async(n,r)=>A5(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>I5(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>L5(e,n,r),e.decode=(n,r)=>O5(e,n,r),e.encodeAsync=async(n,r)=>M5(e,n,r),e.decodeAsync=async(n,r)=>z5(e,n,r),e.safeEncode=(n,r)=>D5(e,n,r),e.safeDecode=(n,r)=>B5(e,n,r),e.safeEncodeAsync=async(n,r)=>F5(e,n,r),e.safeDecodeAsync=async(n,r)=>$5(e,n,r),e.refine=(n,r)=>e.check(Iz(n,r)),e.superRefine=n=>e.check(Lz(n)),e.overwrite=n=>e.check(Zc(n)),e.optional=()=>tb(e),e.exactOptional=()=>wz(e),e.nullable=()=>nb(e),e.nullish=()=>tb(nb(e)),e.nonoptional=n=>Nz(e,n),e.array=()=>_k(e),e.or=n=>Gy([e,n]),e.and=n=>fz(e,n),e.transform=n=>rb(e,vz(n)),e.default=n=>Ez(e,n),e.prefault=n=>Sz(e,n),e.catch=n=>jz(e,n),e.pipe=n=>rb(e,n),e.readonly=()=>Az(e),e.describe=n=>{const r=e.clone();return Yu.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Yu.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Yu.get(e);const r=e.clone();return Yu.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),yk=je("_ZodString",(e,t)=>{hx.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(r,i,l)=>XM(e,r,i);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(MM(...r)),e.includes=(...r)=>e.check(BM(...r)),e.startsWith=(...r)=>e.check(FM(...r)),e.endsWith=(...r)=>e.check($M(...r)),e.min=(...r)=>e.check(Wh(...r)),e.max=(...r)=>e.check(dk(...r)),e.length=(...r)=>e.check(fk(...r)),e.nonempty=(...r)=>e.check(Wh(1,...r)),e.lowercase=r=>e.check(zM(r)),e.uppercase=r=>e.check(DM(r)),e.trim=()=>e.check(ZM()),e.normalize=(...r)=>e.check(UM(...r)),e.toLowerCase=()=>e.check(HM()),e.toUpperCase=()=>e.check(WM()),e.slugify=()=>e.check(VM())}),U5=je("ZodString",(e,t)=>{hx.init(e,t),yk.init(e,t),e.email=n=>e.check(ck(vk,n)),e.url=n=>e.check(uk(xk,n)),e.jwt=n=>e.check(NM(rz,n)),e.emoji=n=>e.check(fM(Z5,n)),e.guid=n=>e.check(q_(Q_,n)),e.uuid=n=>e.check(lM(fh,n)),e.uuidv4=n=>e.check(cM(fh,n)),e.uuidv6=n=>e.check(uM(fh,n)),e.uuidv7=n=>e.check(dM(fh,n)),e.nanoid=n=>e.check(hM(H5,n)),e.guid=n=>e.check(q_(Q_,n)),e.cuid=n=>e.check(pM(W5,n)),e.cuid2=n=>e.check(mM(V5,n)),e.ulid=n=>e.check(gM(q5,n)),e.base64=n=>e.check(EM(ez,n)),e.base64url=n=>e.check(kM(tz,n)),e.xid=n=>e.check(yM(K5,n)),e.ksuid=n=>e.check(vM(G5,n)),e.ipv4=n=>e.check(xM(Y5,n)),e.ipv6=n=>e.check(wM(J5,n)),e.cidrv4=n=>e.check(_M(Q5,n)),e.cidrv6=n=>e.check(bM(X5,n)),e.e164=n=>e.check(SM(nz,n)),e.datetime=n=>e.check(b5(n)),e.date=n=>e.check(k5(n)),e.time=n=>e.check(N5(n)),e.duration=n=>e.check(j5(n))});function Bt(e){return aM(U5,e)}const dn=je("ZodStringFormat",(e,t)=>{rn.init(e,t),yk.init(e,t)}),vk=je("ZodEmail",(e,t)=>{hO.init(e,t),dn.init(e,t)});function J_(e){return ck(vk,e)}const Q_=je("ZodGUID",(e,t)=>{dO.init(e,t),dn.init(e,t)}),fh=je("ZodUUID",(e,t)=>{fO.init(e,t),dn.init(e,t)}),xk=je("ZodURL",(e,t)=>{pO.init(e,t),dn.init(e,t)});function Ju(e){return uk(xk,e)}const Z5=je("ZodEmoji",(e,t)=>{mO.init(e,t),dn.init(e,t)}),H5=je("ZodNanoID",(e,t)=>{gO.init(e,t),dn.init(e,t)}),W5=je("ZodCUID",(e,t)=>{yO.init(e,t),dn.init(e,t)}),V5=je("ZodCUID2",(e,t)=>{vO.init(e,t),dn.init(e,t)}),q5=je("ZodULID",(e,t)=>{xO.init(e,t),dn.init(e,t)}),K5=je("ZodXID",(e,t)=>{wO.init(e,t),dn.init(e,t)}),G5=je("ZodKSUID",(e,t)=>{_O.init(e,t),dn.init(e,t)}),Y5=je("ZodIPv4",(e,t)=>{NO.init(e,t),dn.init(e,t)}),J5=je("ZodIPv6",(e,t)=>{CO.init(e,t),dn.init(e,t)}),Q5=je("ZodCIDRv4",(e,t)=>{jO.init(e,t),dn.init(e,t)}),X5=je("ZodCIDRv6",(e,t)=>{PO.init(e,t),dn.init(e,t)}),ez=je("ZodBase64",(e,t)=>{TO.init(e,t),dn.init(e,t)}),tz=je("ZodBase64URL",(e,t)=>{RO.init(e,t),dn.init(e,t)}),nz=je("ZodE164",(e,t)=>{IO.init(e,t),dn.init(e,t)}),rz=je("ZodJWT",(e,t)=>{OO.init(e,t),dn.init(e,t)}),wk=je("ZodNumber",(e,t)=>{sk.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(r,i,l)=>e5(e,r,i),e.gt=(r,i)=>e.check(G_(r,i)),e.gte=(r,i)=>e.check(Hg(r,i)),e.min=(r,i)=>e.check(Hg(r,i)),e.lt=(r,i)=>e.check(K_(r,i)),e.lte=(r,i)=>e.check(Zg(r,i)),e.max=(r,i)=>e.check(Zg(r,i)),e.int=r=>e.check(X_(r)),e.safe=r=>e.check(X_(r)),e.positive=r=>e.check(G_(0,r)),e.nonnegative=r=>e.check(Hg(0,r)),e.negative=r=>e.check(K_(0,r)),e.nonpositive=r=>e.check(Zg(0,r)),e.multipleOf=(r,i)=>e.check(Y_(r,i)),e.step=(r,i)=>e.check(Y_(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function gs(e){return AM(wk,e)}const iz=je("ZodNumberFormat",(e,t)=>{MO.init(e,t),wk.init(e,t)});function X_(e){return RM(iz,e)}const sz=je("ZodBoolean",(e,t)=>{zO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>t5(e,n,r)});function qa(e){return IM(sz,e)}const oz=je("ZodUnknown",(e,t)=>{DO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>r5()});function Ky(){return LM(oz)}const az=je("ZodNever",(e,t)=>{BO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>n5(e,n,r)});function lz(e){return OM(az,e)}const cz=je("ZodArray",(e,t)=>{FO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>l5(e,n,r,i),e.element=t.element,e.min=(n,r)=>e.check(Wh(n,r)),e.nonempty=n=>e.check(Wh(1,n)),e.max=(n,r)=>e.check(dk(n,r)),e.length=(n,r)=>e.check(fk(n,r)),e.unwrap=()=>e.element});function _k(e,t){return qM(cz,e,t)}const bk=je("ZodObject",(e,t)=>{UO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>c5(e,n,r,i),Ut(e,"shape",()=>t.shape),e.keyof=()=>Ek(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Ky()}),e.loose=()=>e.clone({...e._zod.def,catchall:Ky()}),e.strict=()=>e.clone({...e._zod.def,catchall:lz()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>cL(e,n),e.safeExtend=n=>uL(e,n),e.merge=n=>dL(e,n),e.pick=n=>aL(e,n),e.omit=n=>lL(e,n),e.partial=(...n)=>fL(kk,e,n[0]),e.required=(...n)=>hL(Sk,e,n[0])});function Ss(e,t){const n={type:"object",shape:e??{},...nt(t)};return new bk(n)}function eb(e,t){return new bk({type:"object",shape:e,catchall:Ky(),...nt(t)})}const uz=je("ZodUnion",(e,t)=>{ZO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>u5(e,n,r,i),e.options=t.options});function Gy(e,t){return new uz({type:"union",options:e,...nt(t)})}const dz=je("ZodIntersection",(e,t)=>{HO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>d5(e,n,r,i)});function fz(e,t){return new dz({type:"intersection",left:e,right:t})}const hz=je("ZodTuple",(e,t)=>{WO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>f5(e,n,r,i),e.rest=n=>e.clone({...e._zod.def,rest:n})});function qr(e,t,n){const r=t instanceof Qt,i=r?n:t,l=r?t:null;return new hz({type:"tuple",items:e,rest:l,...nt(i)})}const pz=je("ZodRecord",(e,t)=>{VO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>h5(e,n,r,i),e.keyType=t.keyType,e.valueType=t.valueType});function mz(e,t,n){return new pz({type:"record",keyType:e,valueType:t,...nt(n)})}const Yy=je("ZodEnum",(e,t)=>{qO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(r,i,l)=>i5(e,r,i),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const l={};for(const u of r)if(n.has(u))l[u]=t.entries[u];else throw new Error(`Key ${u} not found in enum`);return new Yy({...t,checks:[],...nt(i),entries:l})},e.exclude=(r,i)=>{const l={...t.entries};for(const u of r)if(n.has(u))delete l[u];else throw new Error(`Key ${u} not found in enum`);return new Yy({...t,checks:[],...nt(i),entries:l})}});function Ek(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Yy({type:"enum",entries:n,...nt(t)})}const gz=je("ZodLiteral",(e,t)=>{KO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>s5(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Kr(e,t){return new gz({type:"literal",values:Array.isArray(e)?e:[e],...nt(t)})}const yz=je("ZodTransform",(e,t)=>{GO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>a5(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new ZE(e.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(cd(l,n.value,t));else{const u=l;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=e),n.issues.push(cd(u))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function vz(e){return new yz({type:"transform",transform:e})}const kk=je("ZodOptional",(e,t)=>{lk.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>gk(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function tb(e){return new kk({type:"optional",innerType:e})}const xz=je("ZodExactOptional",(e,t)=>{YO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>gk(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function wz(e){return new xz({type:"optional",innerType:e})}const _z=je("ZodNullable",(e,t)=>{JO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>p5(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function nb(e){return new _z({type:"nullable",innerType:e})}const bz=je("ZodDefault",(e,t)=>{QO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>g5(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Ez(e,t){return new bz({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():qE(t)}})}const kz=je("ZodPrefault",(e,t)=>{XO.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>y5(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function Sz(e,t){return new kz({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():qE(t)}})}const Sk=je("ZodNonOptional",(e,t)=>{eM.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>m5(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function Nz(e,t){return new Sk({type:"nonoptional",innerType:e,...nt(t)})}const Cz=je("ZodCatch",(e,t)=>{tM.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>v5(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function jz(e,t){return new Cz({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Pz=je("ZodPipe",(e,t)=>{nM.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>x5(e,n,r,i),e.in=t.in,e.out=t.out});function rb(e,t){return new Pz({type:"pipe",in:e,out:t})}const Tz=je("ZodReadonly",(e,t)=>{rM.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>w5(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function Az(e){return new Tz({type:"readonly",innerType:e})}const Rz=je("ZodCustom",(e,t)=>{iM.init(e,t),sn.init(e,t),e._zod.processJSONSchema=(n,r,i)=>o5(e,n)});function Iz(e,t={}){return KM(Rz,e,t)}function Lz(e){return GM(e)}const Oz={custom:"custom"};class jt{static id(){return Bt().regex(/^[0-9a-f]{64}$/)}static event(){return Ss({id:jt.id(),kind:gs().int().nonnegative(),pubkey:jt.id(),tags:Bt().array().array(),content:Bt(),created_at:gs().int().nonnegative(),sig:Bt()}).required({id:!0,kind:!0,pubkey:!0,tags:!0,content:!0,created_at:!0,sig:!0})}static filter(){return eb({kinds:gs().int().nonnegative().array().optional(),ids:jt.id().array().optional(),authors:jt.id().array().optional(),since:gs().int().nonnegative().optional(),until:gs().int().nonnegative().optional(),limit:gs().int().nonnegative().optional(),search:Bt().optional()}).transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[i,l])=>((n.includes(i)||i.startsWith("#"))&&(r[i]=l),r),{})})}static bech32(t){return Bt().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return Ju().regex(/^wss?:\/\//)}static clientEVENT(){return qr([Kr("EVENT"),jt.event()])}static clientREQ(){return qr([Kr("REQ"),Bt()]).rest(jt.filter())}static clientCOUNT(){return qr([Kr("COUNT"),Bt()]).rest(jt.filter())}static clientCLOSE(){return qr([Kr("CLOSE"),Bt()])}static clientAUTH(){return qr([Kr("AUTH"),jt.event()])}static clientMsg(){return Gy([jt.clientEVENT(),jt.clientREQ(),jt.clientCOUNT(),jt.clientCLOSE(),jt.clientAUTH()])}static relayEVENT(){return qr([Kr("EVENT"),Bt(),jt.event()])}static relayOK(){return qr([Kr("OK"),jt.id(),qa(),Bt()])}static relayEOSE(){return qr([Kr("EOSE"),Bt()])}static relayNOTICE(){return qr([Kr("NOTICE"),Bt()])}static relayCLOSED(){return qr([Kr("CLOSED"),Bt(),Bt()])}static relayAUTH(){return qr([Kr("AUTH"),Bt()])}static relayCOUNT(){return qr([Kr("COUNT"),Bt(),Ss({count:gs().int().nonnegative(),approximate:qa().optional()})])}static relayMsg(){return Gy([jt.relayEVENT(),jt.relayOK(),jt.relayEOSE(),jt.relayNOTICE(),jt.relayCLOSED(),jt.relayAUTH(),jt.relayCOUNT()])}static metadata(){return eb({about:Bt().optional().catch(void 0),banner:Ju().optional().catch(void 0),bot:qa().optional().catch(void 0),display_name:Bt().optional().catch(void 0),lud06:jt.bech32("lnurl").optional().catch(void 0),lud16:J_().optional().catch(void 0),name:Bt().optional().catch(void 0),nip05:J_().optional().catch(void 0),picture:Ju().optional().catch(void 0),website:Ju().optional().catch(void 0)})}static connectRequest(){return Ss({id:Bt(),method:Bt(),params:Bt().array()})}static connectResponse(){return Ss({id:Bt(),result:Bt(),error:Bt().optional()})}static json(){return Bt().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:Oz.custom,message:"Invalid JSON"}),eL}})}}class Nk{constructor({relay:t,pubkey:n,signer:r,timeout:i,encryption:l="nip44"}){Ze(this,"relay");Ze(this,"pubkey");Ze(this,"signer");Ze(this,"timeout");Ze(this,"encryption");Ze(this,"nip04",{encrypt:async(t,n)=>this.cmd("nip04_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip04_decrypt",[t,n])});Ze(this,"nip44",{encrypt:async(t,n)=>this.cmd("nip44_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip44_decrypt",[t,n])});this.relay=t,this.pubkey=n,this.signer=r,this.timeout=i,this.encryption=l}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(t){const n=await this.cmd("sign_event",[JSON.stringify(t)]);return jt.json().pipe(jt.event()).parse(n)}async getRelays(){const t=await this.cmd("get_relays",[]);return jt.json().pipe(mz(Bt(),Ss({read:qa(),write:qa()}))).parse(t)}async connect(t){const n=[this.pubkey];return t&&n.push(t),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(t,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:i,error:l}=await this.send({id:crypto.randomUUID(),method:t,params:n},{signal:r});if(l)throw new Error(l);return i}async send(t,n={}){const{signal:r}=n,i=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(t)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),l=await this.signer.getPublicKey(),u=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[l]}],{signal:r}),d=new Promise((h,m)=>{(async()=>{try{for await(const y of u){if(y[0]==="CLOSED")throw new Error("Subscription closed");if(y[0]==="EVENT"){const g=y[2],E=await this.decrypt(this.pubkey,g.content),_=jt.json().pipe(jt.connectResponse()).parse(E);if(_.id===t.id){h(_);return}}}}catch(y){m(y)}})()});return await this.relay.event(i,{signal:r}),d}async encrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(t,n);case"nip44":return this.signer.nip44.encrypt(t,n)}}async decrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(t,n);case"nip44":return this.signer.nip44.decrypt(t,n)}}}const Ck={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Ck[e]=t}function Mz(e){let t="";for(let n=0;n<e.byteLength;n++)t+=Ck[e[n]];return t}const jk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ib=Object.entries(jk).reduce((e,[t,n])=>(e[n]=Number(t),e),{}),zz=jk.split(""),cc=6,nd=8,Dz=63,Bz=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let i=0;i<e.length;i+=4){let l=0,u=0;for(let m=i,y=i+3;m<=y;m++)if(e[m]!=="="){if(!(e[m]in ib))throw new TypeError(`Invalid character ${e[m]} in base64 string.`);l|=ib[e[m]]<<(y-m)*cc,u+=cc}else l>>=cc;const d=i/4*3;l>>=u%nd;const h=Math.floor(u/nd);for(let m=0;m<h;m++){const y=(h-m-1)*nd;r.setUint8(d+m,(l&255<<y)>>y)}}return new Uint8Array(n)},Fz=e=>new TextEncoder().encode(e);function $z(e){let t;typeof e=="string"?t=Fz(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",r=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let l=0;l<t.length;l+=3){let u=0,d=0;for(let m=l,y=Math.min(l+3,t.length);m<y;m++)u|=t[m]<<(y-m-1)*nd,d+=nd;const h=Math.ceil(d/cc);u<<=h*cc-d;for(let m=1;m<=h;m++){const y=(h-m)*cc;i+=zz[(u&Dz<<y)>>y]}i+="==".slice(0,4-h)}return i}class Uz{static encodeEvent(t){return $z(JSON.stringify(t))}static decodeEvent(t){const n=Bz(t),r=new TextDecoder().decode(n);return jt.json().pipe(jt.event()).parse(r)}}class Zz{constructor(t){Ze(this,"set");Ze(this,"capacity");this.set=new Set,this.capacity=t}add(t){if(!this.set.has(t)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}[Symbol.iterator](){return this.set.values()}}var Cc,jc,Nd;class Pk{constructor(t){tt(this,Cc,[]);tt(this,jc);tt(this,Nd,!1);t!=null&&t.aborted?this.abort():t==null||t.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Symbol.asyncIterator](){for(;!ue(this,Nd);){if(ue(this,Cc).length){yield ue(this,Cc).shift();continue}await new Promise(t=>{Ve(this,jc,t)})}throw new DOMException("The signal has been aborted","AbortError")}push(t){var n;ue(this,Cc).push(t),(n=ue(this,jc))==null||n.call(this)}abort(){var t;Ve(this,Nd,!0),(t=ue(this,jc))==null||t.call(this)}}Cc=new WeakMap,jc=new WeakMap,Nd=new WeakMap;class px{constructor(t){Ze(this,"_relays",new Map);Ze(this,"opts");this.opts=t}relay(t){const n=this._relays.get(t);if(n)return n;{const r=this.opts.open(t);return this._relays.set(t,r),r}}group(t){return new px({open:n=>this.relay(n),reqRouter:n=>new Map(t.map(r=>[r,n])),eventRouter:()=>t})}get relays(){return this._relays}async*req(t,n){const r=new AbortController,i=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,l=n!=null&&n.relays?new Map(n.relays.map(_=>[_,t])):await this.opts.reqRouter(t);if(l.size<1)return;const u=new Pk(i),d=new Set,h=new Set,m=new Zz(1e3),y=this.opts.eoseTimeout??1e3;let g;const E=[];for(const[_,k]of l.entries()){const x=this.relay(_),b=(async()=>{try{for await(const S of x.req(k,{signal:i}))if(S[0]==="EOSE"&&(d.add(_),d.size===1&&y>0&&g===void 0&&(g=setTimeout(()=>{r.abort()},y)),d.size===l.size&&u.push(S)),S[0]==="CLOSED"&&(h.add(_),h.size===l.size&&u.push(S)),S[0]==="EVENT"){const[,,j]=S;m.has(j.id)||(m.add(j.id),u.push(S))}}catch{}})();E.push(b)}try{for await(const _ of u)yield _}finally{g!==void 0&&clearTimeout(g),r.abort(),await Promise.allSettled(E)}}async event(t,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(t);r.length&&await Promise.any(r.map(i=>this.relay(i).event(t,n)))}async query(t,n){const r=new Map,i=new Uh(r);if(t.reduce((u,d)=>u+iE(d),0)===0)return[];try{for await(const u of this.req(t,n))if(u[0]==="EOSE"||(u[0]==="EVENT"&&i.add(u[2]),u[0]==="CLOSED"))break}catch{}return t.some(u=>typeof u.search=="string")?[...r.values()]:[...i]}async close(){await Promise.all([...this._relays.values()].map(t=>t.close()))}async[Symbol.asyncDispose](){await this.close()}}class Hz{constructor(t,n){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class Wz{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var Wt;(function(e){e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect"})(Wt||(Wt={}));class Vz{constructor(t,n,r){var i,l,u,d,h,m,y,g,E,_,k,x,b,S,j;this._closedByUser=!1,this.handleOpenEvent=R=>this.handleEvent(Wt.open,R),this.handleErrorEvent=R=>this.handleEvent(Wt.error,R),this.handleCloseEvent=R=>this.handleEvent(Wt.close,R),this.handleMessageEvent=R=>this.handleEvent(Wt.message,R),this._url=t,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.maxRetries,instantReconnect:(l=r==null?void 0:r.retry)===null||l===void 0?void 0:l.instantReconnect,backoff:(u=r==null?void 0:r.retry)===null||u===void 0?void 0:u.backoff},listeners:{open:[...(h=(d=r==null?void 0:r.listeners)===null||d===void 0?void 0:d.open)!==null&&h!==void 0?h:[]],close:[...(y=(m=r==null?void 0:r.listeners)===null||m===void 0?void 0:m.close)!==null&&y!==void 0?y:[]],error:[...(E=(g=r==null?void 0:r.listeners)===null||g===void 0?void 0:g.error)!==null&&E!==void 0?E:[]],message:[...(k=(_=r==null?void 0:r.listeners)===null||_===void 0?void 0:_.message)!==null&&k!==void 0?k:[]],retry:[...(b=(x=r==null?void 0:r.listeners)===null||x===void 0?void 0:x.retry)!==null&&b!==void 0?b:[]],reconnect:[...(j=(S=r==null?void 0:r.listeners)===null||S===void 0?void 0:S.reconnect)!==null&&j!==void 0?j:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):this.buffer!==void 0&&this.buffer.add(t))}close(t,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,n)}addEventListener(t,n,r){this._options.listeners[t].push({listener:n,options:r})}removeEventListener(t,n,r){const i=l=>l.listener!==n||l.options!==r;this._options.listeners[t]=this._options.listeners[t].filter(i)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(Wt.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(Wt.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(Wt.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(Wt.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(Wt.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(Wt.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(Wt.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(Wt.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,n){const r=this._options.listeners[t],i=[];r.forEach(({listener:l,options:u})=>{l(this,n),(u===void 0||u.once===void 0||!u.once)&&i.push({listener:l,options:u})}),this._options.listeners[t]=i}handleEvent(t,n){switch(t){case Wt.close:this.dispatchEvent(t,n),this.scheduleConnectionRetryIfNeeded();break;case Wt.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},i=new CustomEvent(Wt.reconnect,{detail:r});this.dispatchEvent(Wt.reconnect,i),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,n),this.sendBufferedData();break;case Wt.retry:this.dispatchEvent(t,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let t=this.buffer.read();t!==void 0;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const t=r=>{const i=new CustomEvent(Wt.retry,{detail:r});this.handleEvent(Wt.retry,i)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class qz{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:t})}),this}get maxRetries(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:t})}),this}get backoff(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return(t=this._options)===null||t===void 0?void 0:t.buffer}onOpen(t,n){return this.addListener(Wt.open,t,n),this}onClose(t,n){return this.addListener(Wt.close,t,n),this}onError(t,n){return this.addListener(Wt.error,t,n),this}onMessage(t,n){return this.addListener(Wt.message,t,n),this}onRetry(t,n){return this.addListener(Wt.retry,t,n),this}onReconnect(t,n){return this.addListener(Wt.reconnect,t,n),this}build(){return new Vz(this._url,this._protocols,this._options)}addListener(t,n,r){var i,l,u,d,h,m,y,g,E,_,k,x,b,S,j,R,D,B,q,G,J;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(u=(l=(i=this._options)===null||i===void 0?void 0:i.listeners)===null||l===void 0?void 0:l.open)!==null&&u!==void 0?u:[],close:(m=(h=(d=this._options)===null||d===void 0?void 0:d.listeners)===null||h===void 0?void 0:h.close)!==null&&m!==void 0?m:[],error:(E=(g=(y=this._options)===null||y===void 0?void 0:y.listeners)===null||g===void 0?void 0:g.error)!==null&&E!==void 0?E:[],message:(x=(k=(_=this._options)===null||_===void 0?void 0:_.listeners)===null||k===void 0?void 0:k.message)!==null&&x!==void 0?x:[],retry:(j=(S=(b=this._options)===null||b===void 0?void 0:b.listeners)===null||S===void 0?void 0:S.retry)!==null&&j!==void 0?j:[],reconnect:(B=(D=(R=this._options)===null||R===void 0?void 0:R.listeners)===null||D===void 0?void 0:D.reconnect)!==null&&B!==void 0?B:[],[t]:[...(J=(G=(q=this._options)===null||q===void 0?void 0:q.listeners)===null||G===void 0?void 0:G[t])!==null&&J!==void 0?J:[],{listener:n,options:r}]}}),this}}class Kz{constructor(t,n={}){Ze(this,"socket");Ze(this,"subs",new Map);Ze(this,"closedByUser",!1);Ze(this,"idleTimer");Ze(this,"controller",new AbortController);Ze(this,"url");Ze(this,"opts");Ze(this,"ee",new EventTarget);this.url=t,this.opts=n,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(t){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...t,url:this.url})}createSocket(){const{backoff:t=new Hz(1e3)}=this.opts;return new qz(this.url).withBuffer(new Wz).withBackoff(t===!1?void 0:t).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const i=jt.json().pipe(jt.relayMsg()).safeParse(r.data);i.success?(this.log({level:"trace",ns:"relay.ws.message",data:i.data}),this.receive(i.data)):this.log({level:"warn",ns:"relay.ws.message",error:i.error})}).build()}receive(t){const{auth:n,verifyEvent:r=Pd}=this.opts;switch(t[0]){case"EVENT":if(!r(t[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"CLOSED":this.subs.delete(t[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t})),this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${t[1]}`,{detail:t}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:t}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"AUTH":n==null||n(t[1]).then(i=>this.send(["AUTH",i])).catch(()=>{})}}send(t){switch(this.log({level:"trace",ns:"relay.ws.send",data:t}),this.wake(),t[0]){case"REQ":this.subs.set(t[1],t);break;case"CLOSE":this.subs.delete(t[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}async*req(t,n={}){const{signal:r}=n,i=crypto.randomUUID(),l=this.on(`sub:${i}`,r),u=["REQ",i,...t];this.send(u);try{for await(const d of l){if(d[0]==="EOSE"&&(yield d),d[0]==="CLOSED")break;if(d[0]==="EVENT")if(rE(t,d[2]))yield d;else continue}}finally{this.send(["CLOSE",i])}}async query(t,n){const r=new Uh,i=t.reduce((l,u)=>l+iE(u),0);if(i===0)return[];for await(const l of this.req(t,n)){if(l[0]==="EOSE")break;if(l[0]==="EVENT"&&r.add(l[2]),l[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=i)break}return[...r]}async event(t,n){const r=this.once(`ok:${t.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",t])}catch(u){throw r.catch(()=>{}),u}const[,,i,l]=await r;if(!i)throw new Error(l)}async count(t,n){const r=crypto.randomUUID(),i=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...t])}catch(u){throw i.catch(()=>{}),u}const l=await i;switch(l[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,u]=l;return u}}throw new Error("Count ended -- this should never happen")}async*on(t,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const i=new Pk(r),l=u=>i.push(u.detail);this.ee.addEventListener(t,l);try{for await(const u of i)yield u}finally{this.ee.removeEventListener(t,l)}}async once(t,n){for await(const r of this.on(t,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:t=3e4}=this.opts;t!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:t}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:t}),this.socket.close()},t)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(t=>{this.socket.addEventListener(Wt.close,t,{once:!0})})}async[Symbol.asyncDispose](){await this.close()}}var ws,Cd,Qy;class Jy{constructor(t){tt(this,Cd);tt(this,ws);Ze(this,"pubkey");Ze(this,"nip04",{encrypt:async(t,n)=>ld.encrypt(ue(this,ws),t,n),decrypt:async(t,n)=>ld.decrypt(ue(this,ws),t,n)});Ze(this,"nip44",{encrypt:async(t,n)=>{const r=_t(this,Cd,Qy).call(this,t);return Uo.v2.encrypt(n,r)},decrypt:async(t,n)=>{const r=_t(this,Cd,Qy).call(this,t);return Uo.v2.decrypt(n,r)}});Ve(this,ws,t)}async getPublicKey(){return this.pubkey??(this.pubkey=Go(ue(this,ws)))}async signEvent(t){return Xr(t,ue(this,ws))}}ws=new WeakMap,Cd=new WeakSet,Qy=function(t){return Uo.v2.utils.getConversationKey(ue(this,ws),t)};const Tk=T.createContext(void 0);function Ms(){const e=T.useContext(Tk);if(!e)throw new Error("useNostr must be used within a NostrProvider");return e}class Ka{constructor(t,n,r){Ze(this,"id");Ze(this,"type");Ze(this,"pubkey");Ze(this,"createdAt");Ze(this,"data");this.id=`${t}:${n}`,this.type=t,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(t){const n=tr.decode(t);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,i=Go(r);return new Ka("nsec",i,{nsec:tr.nsecEncode(r)})}static async fromBunker(t,n){const{pubkey:r,secret:i,relays:l}=new ed(t);if(!l.length)throw new Error("No relay provided");const u=vp(),d=tr.nsecEncode(u),h=new Jy(u),m=new Nk({relay:n.group(l),pubkey:r,signer:h,timeout:6e4});await m.connect(i);const y=await m.getPublicKey();return new Ka("bunker",y,{bunkerPubkey:r,clientNsec:d,relays:l})}static async fromExtension(){const t=globalThis.nostr;if(!t)throw new Error("Nostr extension is not available");const n=await t.getPublicKey();return new Ka("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const Ak=T.createContext(void 0);function Gz(e,t){switch(t.type){case"login.add":{const n=e.filter(r=>r.id!==t.login.id);return t.set?[t.login,...n]:[...n,t.login]}case"login.remove":return e.filter(n=>n.id!==t.id);case"login.set":{const n=e.find(i=>i.id===t.id);if(!n)return e;const r=e.filter(i=>i.id!==t.id);return[n,...r]}case"login.clear":return[];default:return e}}function Yz(e){const[t,n]=T.useReducer(Gz,[],()=>{const r=localStorage.getItem(e);return r?JSON.parse(r):[]});return T.useEffect(()=>{localStorage.setItem(e,JSON.stringify(t))},[t]),[t,n]}const Jz=({children:e,storageKey:t})=>{const[n,r]=Yz(t),i={logins:n,addLogin:l=>r({type:"login.add",login:l}),removeLogin:l=>r({type:"login.remove",id:l}),setLogin:l=>r({type:"login.set",id:l}),clearLogins:()=>r({type:"login.clear"})};return c.jsx(Ak.Provider,{value:i,children:e})};class Ga{constructor(t,n,r){this.method=t,this.pubkey=n,this.signer=r}static fromNsecLogin(t){const n=tr.decode(t.data.nsec);return new Ga(t.type,t.pubkey,new Jy(n.data))}static fromBunkerLogin(t,n){const r=tr.decode(t.data.clientNsec),i=new Jy(r.data);return new Ga(t.type,t.pubkey,new Nk({relay:n.group(t.data.relays),pubkey:t.pubkey,signer:i,timeout:6e4}))}static fromExtensionLogin(t){return new Ga(t.type,t.pubkey,new EA)}}function mx(){const e=T.useContext(Ak);if(!e)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return e}const Rk=T.createContext(void 0);function Ik(){const e=T.useContext(Rk);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e}const Qz=e=>{const{children:t}=e,{config:n}=Ik(),r=Pv(),i=T.useRef(void 0),l=T.useRef(n.relayMetadata);return T.useEffect(()=>{l.current=n.relayMetadata,r.invalidateQueries({queryKey:["nostr"]})},[n.relayMetadata,r]),i.current||(i.current=new px({open(u){return new Kz(u)},reqRouter(u){const d=new Map,h=l.current.relays.filter(m=>m.read).map(m=>m.url);for(const m of h)d.set(m,u);return d},eventRouter(u){const d=l.current.relays.filter(m=>m.write).map(m=>m.url);return[...new Set(d)]}})),c.jsx(Tk.Provider,{value:{nostr:i.current},children:t})};function Lk(e){const{nostr:t}=Ms();return Oa({queryKey:["author",e??""],queryFn:async({signal:n})=>{if(!e)return{};const[r]=await t.query([{kinds:[0],authors:[e],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!r)throw new Error("No event found");try{return{metadata:jt.json().pipe(jt.metadata()).parse(r.content),event:r}}catch{return{event:r}}},staleTime:5*60*1e3,retry:3})}function Pp(){const{nostr:e}=Ms(),{logins:t}=mx(),n=T.useCallback(u=>{switch(u.type){case"nsec":return Ga.fromNsecLogin(u);case"bunker":return Ga.fromBunkerLogin(u,e);case"extension":return Ga.fromExtensionLogin(u);default:throw new Error(`Unsupported login type: ${u.type}`)}},[e]),r=T.useMemo(()=>{const u=[];for(const d of t)try{const h=n(d);u.push(h)}catch(h){console.warn("Skipped invalid login",d.id,h)}return u},[t,n]),i=r[0],l=Lk(i==null?void 0:i.pubkey);return{user:i,users:r,...l.data}}function Xz(){const{nostr:e}=Ms(),{user:t}=Pp(),{config:n,updateConfig:r}=Ik();return T.useEffect(()=>{if(!t)return;(async()=>{try{const l=await e.query([{kinds:[10002],authors:[t.pubkey],limit:1}],{signal:AbortSignal.timeout(5e3)});if(l.length>0){const u=l[0];if(u.created_at>n.relayMetadata.updatedAt){const d=u.tags.filter(([h])=>h==="r").map(([h,m,y])=>({url:m,read:!y||y==="read",write:!y||y==="write"}));d.length>0&&(console.log("Syncing relay list from Nostr:",d),r(h=>({...h,relayMetadata:{relays:d,updatedAt:u.created_at}})))}}}catch(l){console.error("Failed to sync relays from Nostr:",l)}})()},[t,n.relayMetadata.updatedAt,e,r]),null}const e8=1,t8=1e6;let Wg=0;function n8(){return Wg=(Wg+1)%Number.MAX_SAFE_INTEGER,Wg.toString()}const Vg=new Map,sb=e=>{if(Vg.has(e))return;const t=setTimeout(()=>{Vg.delete(e),rd({type:"REMOVE_TOAST",toastId:e})},t8);Vg.set(e,t)},r8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,e8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?sb(n):e.toasts.forEach(r=>{sb(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Sh=[];let Nh={toasts:[]};function rd(e){Nh=r8(Nh,e),Sh.forEach(t=>{t(Nh)})}function nc({...e}){const t=n8(),n=i=>rd({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>rd({type:"DISMISS_TOAST",toastId:t});return rd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function sl(){const[e,t]=T.useState(Nh);return T.useEffect(()=>(Sh.push(t),()=>{const n=Sh.indexOf(t);n>-1&&Sh.splice(n,1)}),[e]),{...e,toast:nc,dismiss:n=>rd({type:"DISMISS_TOAST",toastId:n})}}var Tp=I1();const i8=lp(Tp);function Ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function ob(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ap(...e){return t=>{let n=!1;const r=e.map(i=>{const l=ob(i,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<r.length;i++){const l=r[i];typeof l=="function"?l():ob(e[i],null)}}}}function Lt(...e){return T.useCallback(Ap(...e),e)}function s8(e,t){const n=T.createContext(t),r=l=>{const{children:u,...d}=l,h=T.useMemo(()=>d,Object.values(d));return c.jsx(n.Provider,{value:h,children:u})};r.displayName=e+"Provider";function i(l){const u=T.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[r,i]}function nr(e,t=[]){let n=[];function r(l,u){const d=T.createContext(u),h=n.length;n=[...n,u];const m=g=>{var S;const{scope:E,children:_,...k}=g,x=((S=E==null?void 0:E[e])==null?void 0:S[h])||d,b=T.useMemo(()=>k,Object.values(k));return c.jsx(x.Provider,{value:b,children:_})};m.displayName=l+"Provider";function y(g,E){var x;const _=((x=E==null?void 0:E[e])==null?void 0:x[h])||d,k=T.useContext(_);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,y]}const i=()=>{const l=n.map(u=>T.createContext(u));return function(d){const h=(d==null?void 0:d[e])||l;return T.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return i.scopeName=e,[r,o8(i,...t)]}function o8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=r.reduce((d,{useScope:h,scopeName:m})=>{const g=h(l)[`__scope${m}`];return{...d,...g}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function Lc(e){const t=l8(e),n=T.forwardRef((r,i)=>{const{children:l,...u}=r,d=T.Children.toArray(l),h=d.find(u8);if(h){const m=h.props.children,y=d.map(g=>g===h?T.Children.count(m)>1?T.Children.only(null):T.isValidElement(m)?m.props.children:null:g);return c.jsx(t,{...u,ref:i,children:T.isValidElement(m)?T.cloneElement(m,void 0,y):null})}return c.jsx(t,{...u,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}var a8=Lc("Slot");function l8(e){const t=T.forwardRef((n,r)=>{const{children:i,...l}=n;if(T.isValidElement(i)){const u=f8(i),d=d8(l,i.props);return i.type!==T.Fragment&&(d.ref=r?Ap(r,u):u),T.cloneElement(i,d)}return T.Children.count(i)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ok=Symbol("radix.slottable");function c8(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Ok,t}function u8(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ok}function d8(e,t){const n={...t};for(const r in t){const i=e[r],l=t[r];/^on[A-Z]/.test(r)?i&&l?n[r]=(...d)=>{l(...d),i(...d)}:i&&(n[r]=i):r==="style"?n[r]={...i,...l}:r==="className"&&(n[r]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function f8(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Rp(e){const t=e+"CollectionProvider",[n,r]=nr(t),[i,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=x=>{const{scope:b,children:S}=x,j=jo.useRef(null),R=jo.useRef(new Map).current;return c.jsx(i,{scope:b,itemMap:R,collectionRef:j,children:S})};u.displayName=t;const d=e+"CollectionSlot",h=Lc(d),m=jo.forwardRef((x,b)=>{const{scope:S,children:j}=x,R=l(d,S),D=Lt(b,R.collectionRef);return c.jsx(h,{ref:D,children:j})});m.displayName=d;const y=e+"CollectionItemSlot",g="data-radix-collection-item",E=Lc(y),_=jo.forwardRef((x,b)=>{const{scope:S,children:j,...R}=x,D=jo.useRef(null),B=Lt(b,D),q=l(y,S);return jo.useEffect(()=>(q.itemMap.set(D,{ref:D,...R}),()=>void q.itemMap.delete(D))),c.jsx(E,{[g]:"",ref:B,children:j})});_.displayName=y;function k(x){const b=l(e+"CollectionConsumer",x);return jo.useCallback(()=>{const j=b.collectionRef.current;if(!j)return[];const R=Array.from(j.querySelectorAll(`[${g}]`));return Array.from(b.itemMap.values()).sort((q,G)=>R.indexOf(q.ref.current)-R.indexOf(G.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:u,Slot:m,ItemSlot:_},k,r]}var h8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ct=h8.reduce((e,t)=>{const n=Lc(`Primitive.${t}`),r=T.forwardRef((i,l)=>{const{asChild:u,...d}=i,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...d,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function gx(e,t){e&&Tp.flushSync(()=>e.dispatchEvent(t))}function gr(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function p8(e,t=globalThis==null?void 0:globalThis.document){const n=gr(e);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var m8="DismissableLayer",Xy="dismissableLayer.update",g8="dismissableLayer.pointerDownOutside",y8="dismissableLayer.focusOutside",ab,Mk=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Td=T.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...h}=e,m=T.useContext(Mk),[y,g]=T.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=T.useState({}),k=Lt(t,G=>g(G)),x=Array.from(m.layers),[b]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(b),j=y?x.indexOf(y):-1,R=m.layersWithOutsidePointerEventsDisabled.size>0,D=j>=S,B=x8(G=>{const J=G.target,V=[...m.branches].some(Y=>Y.contains(J));!D||V||(i==null||i(G),u==null||u(G),G.defaultPrevented||d==null||d())},E),q=w8(G=>{const J=G.target;[...m.branches].some(Y=>Y.contains(J))||(l==null||l(G),u==null||u(G),G.defaultPrevented||d==null||d())},E);return p8(G=>{j===m.layers.size-1&&(r==null||r(G),!G.defaultPrevented&&d&&(G.preventDefault(),d()))},E),T.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(ab=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),lb(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=ab)}},[y,E,n,m]),T.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),lb())},[y,m]),T.useEffect(()=>{const G=()=>_({});return document.addEventListener(Xy,G),()=>document.removeEventListener(Xy,G)},[]),c.jsx(ct.div,{...h,ref:k,style:{pointerEvents:R?D?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,q.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,q.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,B.onPointerDownCapture)})});Td.displayName=m8;var v8="DismissableLayerBranch",zk=T.forwardRef((e,t)=>{const n=T.useContext(Mk),r=T.useRef(null),i=Lt(t,r);return T.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),c.jsx(ct.div,{...e,ref:i})});zk.displayName=v8;function x8(e,t=globalThis==null?void 0:globalThis.document){const n=gr(e),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const l=d=>{if(d.target&&!r.current){let h=function(){Dk(g8,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function w8(e,t=globalThis==null?void 0:globalThis.document){const n=gr(e),r=T.useRef(!1);return T.useEffect(()=>{const i=l=>{l.target&&!r.current&&Dk(y8,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lb(){const e=new CustomEvent(Xy);document.dispatchEvent(e)}function Dk(e,t,n,{discrete:r}){const i=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?gx(i,l):i.dispatchEvent(l)}var _8=Td,b8=zk,Ar=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},E8="Portal",Ip=T.forwardRef((e,t)=>{var d;const{container:n,...r}=e,[i,l]=T.useState(!1);Ar(()=>l(!0),[]);const u=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?i8.createPortal(c.jsx(ct.div,{...r,ref:t}),u):null});Ip.displayName=E8;function k8(e,t){return T.useReducer((n,r)=>t[n][r]??n,e)}var Rr=e=>{const{present:t,children:n}=e,r=S8(t),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),l=Lt(r.ref,N8(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:l}):null};Rr.displayName="Presence";function S8(e){const[t,n]=T.useState(),r=T.useRef(null),i=T.useRef(e),l=T.useRef("none"),u=e?"mounted":"unmounted",[d,h]=k8(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const m=hh(r.current);l.current=d==="mounted"?m:"none"},[d]),Ar(()=>{const m=r.current,y=i.current;if(y!==e){const E=l.current,_=hh(m);e?h("MOUNT"):_==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(y&&E!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Ar(()=>{if(t){let m;const y=t.ownerDocument.defaultView??window,g=_=>{const x=hh(r.current).includes(_.animationName);if(_.target===t&&x&&(h("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",m=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},E=_=>{_.target===t&&(l.current=hh(r.current))};return t.addEventListener("animationstart",E),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{y.clearTimeout(m),t.removeEventListener("animationstart",E),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:T.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function hh(e){return(e==null?void 0:e.animationName)||"none"}function N8(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var C8=kv[" useInsertionEffect ".trim().toString()]||Ar;function zs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,l,u]=j8({defaultProp:t,onChange:n}),d=e!==void 0,h=d?e:i;{const y=T.useRef(e!==void 0);T.useEffect(()=>{const g=y.current;g!==d&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,r])}const m=T.useCallback(y=>{var g;if(d){const E=P8(y)?y(e):y;E!==e&&((g=u.current)==null||g.call(u,E))}else l(y)},[d,e,l,u]);return[h,m]}function j8({defaultProp:e,onChange:t}){const[n,r]=T.useState(e),i=T.useRef(n),l=T.useRef(t);return C8(()=>{l.current=t},[t]),T.useEffect(()=>{var u;i.current!==n&&((u=l.current)==null||u.call(l,n),i.current=n)},[n,i]),[n,r,l]}function P8(e){return typeof e=="function"}var T8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),A8="VisuallyHidden",Lp=T.forwardRef((e,t)=>c.jsx(ct.span,{...e,ref:t,style:{...T8,...e.style}}));Lp.displayName=A8;var R8=Lp,yx="ToastProvider",[vx,I8,L8]=Rp("Toast"),[Bk,eH]=nr("Toast",[L8]),[O8,Op]=Bk(yx),Fk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:l=50,children:u}=e,[d,h]=T.useState(null),[m,y]=T.useState(0),g=T.useRef(!1),E=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${yx}\`. Expected non-empty \`string\`.`),c.jsx(vx.Provider,{scope:t,children:c.jsx(O8,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:h,onToastAdd:T.useCallback(()=>y(_=>_+1),[]),onToastRemove:T.useCallback(()=>y(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:E,children:u})})};Fk.displayName=yx;var $k="ToastViewport",M8=["F8"],ev="toast.viewportPause",tv="toast.viewportResume",Uk=T.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=M8,label:i="Notifications ({hotkey})",...l}=e,u=Op($k,n),d=I8(n),h=T.useRef(null),m=T.useRef(null),y=T.useRef(null),g=T.useRef(null),E=Lt(t,g,u.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=u.toastCount>0;T.useEffect(()=>{const b=S=>{var R;r.length!==0&&r.every(D=>S[D]||S.code===D)&&((R=g.current)==null||R.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),T.useEffect(()=>{const b=h.current,S=g.current;if(k&&b&&S){const j=()=>{if(!u.isClosePausedRef.current){const q=new CustomEvent(ev);S.dispatchEvent(q),u.isClosePausedRef.current=!0}},R=()=>{if(u.isClosePausedRef.current){const q=new CustomEvent(tv);S.dispatchEvent(q),u.isClosePausedRef.current=!1}},D=q=>{!b.contains(q.relatedTarget)&&R()},B=()=>{b.contains(document.activeElement)||R()};return b.addEventListener("focusin",j),b.addEventListener("focusout",D),b.addEventListener("pointermove",j),b.addEventListener("pointerleave",B),window.addEventListener("blur",j),window.addEventListener("focus",R),()=>{b.removeEventListener("focusin",j),b.removeEventListener("focusout",D),b.removeEventListener("pointermove",j),b.removeEventListener("pointerleave",B),window.removeEventListener("blur",j),window.removeEventListener("focus",R)}}},[k,u.isClosePausedRef]);const x=T.useCallback(({tabbingDirection:b})=>{const j=d().map(R=>{const D=R.ref.current,B=[D,...G8(D)];return b==="forwards"?B:B.reverse()});return(b==="forwards"?j.reverse():j).flat()},[d]);return T.useEffect(()=>{const b=g.current;if(b){const S=j=>{var B,q,G;const R=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!R){const J=document.activeElement,V=j.shiftKey;if(j.target===b&&V){(B=m.current)==null||B.focus();return}const $=x({tabbingDirection:V?"backwards":"forwards"}),re=$.findIndex(M=>M===J);qg($.slice(re+1))?j.preventDefault():V?(q=m.current)==null||q.focus():(G=y.current)==null||G.focus()}};return b.addEventListener("keydown",S),()=>b.removeEventListener("keydown",S)}},[d,x]),c.jsxs(b8,{ref:h,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&c.jsx(nv,{ref:m,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});qg(b)}}),c.jsx(vx.Slot,{scope:n,children:c.jsx(ct.ol,{tabIndex:-1,...l,ref:E})}),k&&c.jsx(nv,{ref:y,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});qg(b)}})]})});Uk.displayName=$k;var Zk="ToastFocusProxy",nv=T.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,l=Op(Zk,n);return c.jsx(Lp,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:u=>{var m;const d=u.relatedTarget;!((m=l.viewport)!=null&&m.contains(d))&&r()}})});nv.displayName=Zk;var Ad="Toast",z8="toast.swipeStart",D8="toast.swipeMove",B8="toast.swipeCancel",F8="toast.swipeEnd",Hk=T.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:l,...u}=e,[d,h]=zs({prop:r,defaultProp:i??!0,onChange:l,caller:Ad});return c.jsx(Rr,{present:n||d,children:c.jsx(Z8,{open:d,...u,ref:t,onClose:()=>h(!1),onPause:gr(e.onPause),onResume:gr(e.onResume),onSwipeStart:Ke(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ke(e.onSwipeMove,m=>{const{x:y,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Ke(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ke(e.onSwipeEnd,m=>{const{x:y,y:g}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),h(!1)})})})});Hk.displayName=Ad;var[$8,U8]=Bk(Ad,{onClose(){}}),Z8=T.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:l,onClose:u,onEscapeKeyDown:d,onPause:h,onResume:m,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:E,onSwipeEnd:_,...k}=e,x=Op(Ad,n),[b,S]=T.useState(null),j=Lt(t,M=>S(M)),R=T.useRef(null),D=T.useRef(null),B=i||x.duration,q=T.useRef(0),G=T.useRef(B),J=T.useRef(0),{onToastAdd:V,onToastRemove:Y}=x,Q=gr(()=>{var W;(b==null?void 0:b.contains(document.activeElement))&&((W=x.viewport)==null||W.focus()),u()}),$=T.useCallback(M=>{!M||M===1/0||(window.clearTimeout(J.current),q.current=new Date().getTime(),J.current=window.setTimeout(Q,M))},[Q]);T.useEffect(()=>{const M=x.viewport;if(M){const W=()=>{$(G.current),m==null||m()},ae=()=>{const se=new Date().getTime()-q.current;G.current=G.current-se,window.clearTimeout(J.current),h==null||h()};return M.addEventListener(ev,ae),M.addEventListener(tv,W),()=>{M.removeEventListener(ev,ae),M.removeEventListener(tv,W)}}},[x.viewport,B,h,m,$]),T.useEffect(()=>{l&&!x.isClosePausedRef.current&&$(B)},[l,B,x.isClosePausedRef,$]),T.useEffect(()=>(V(),()=>Y()),[V,Y]);const re=T.useMemo(()=>b?Jk(b):null,[b]);return x.viewport?c.jsxs(c.Fragment,{children:[re&&c.jsx(H8,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:re}),c.jsx($8,{scope:n,onClose:Q,children:Tp.createPortal(c.jsx(vx.ItemSlot,{scope:n,children:c.jsx(_8,{asChild:!0,onEscapeKeyDown:Ke(d,()=>{x.isFocusedToastEscapeKeyDownRef.current||Q(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(ct.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":x.swipeDirection,...k,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ke(e.onKeyDown,M=>{M.key==="Escape"&&(d==null||d(M.nativeEvent),M.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:Ke(e.onPointerDown,M=>{M.button===0&&(R.current={x:M.clientX,y:M.clientY})}),onPointerMove:Ke(e.onPointerMove,M=>{if(!R.current)return;const W=M.clientX-R.current.x,ae=M.clientY-R.current.y,se=!!D.current,ne=["left","right"].includes(x.swipeDirection),ee=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,le=ne?ee(0,W):0,F=ne?0:ee(0,ae),K=M.pointerType==="touch"?10:2,Ne={x:le,y:F},be={originalEvent:M,delta:Ne};se?(D.current=Ne,ph(D8,g,be,{discrete:!1})):cb(Ne,x.swipeDirection,K)?(D.current=Ne,ph(z8,y,be,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(W)>K||Math.abs(ae)>K)&&(R.current=null)}),onPointerUp:Ke(e.onPointerUp,M=>{const W=D.current,ae=M.target;if(ae.hasPointerCapture(M.pointerId)&&ae.releasePointerCapture(M.pointerId),D.current=null,R.current=null,W){const se=M.currentTarget,ne={originalEvent:M,delta:W};cb(W,x.swipeDirection,x.swipeThreshold)?ph(F8,_,ne,{discrete:!0}):ph(B8,E,ne,{discrete:!0}),se.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),H8=e=>{const{__scopeToast:t,children:n,...r}=e,i=Op(Ad,t),[l,u]=T.useState(!1),[d,h]=T.useState(!1);return q8(()=>u(!0)),T.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:c.jsx(Ip,{asChild:!0,children:c.jsx(Lp,{...r,children:l&&c.jsxs(c.Fragment,{children:[i.label," ",n]})})})},W8="ToastTitle",Wk=T.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(ct.div,{...r,ref:t})});Wk.displayName=W8;var V8="ToastDescription",Vk=T.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(ct.div,{...r,ref:t})});Vk.displayName=V8;var qk="ToastAction",Kk=T.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?c.jsx(Yk,{altText:n,asChild:!0,children:c.jsx(xx,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${qk}\`. Expected non-empty \`string\`.`),null)});Kk.displayName=qk;var Gk="ToastClose",xx=T.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=U8(Gk,n);return c.jsx(Yk,{asChild:!0,children:c.jsx(ct.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,i.onClose)})})});xx.displayName=Gk;var Yk=T.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return c.jsx(ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Jk(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),K8(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!i)if(l){const u=r.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...Jk(r))}}),t}function ph(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?gx(i,l):i.dispatchEvent(l)}var cb=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),l=r>i;return t==="left"||t==="right"?l&&r>n:!l&&i>n};function q8(e=()=>{}){const t=gr(e);Ar(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function K8(e){return e.nodeType===e.ELEMENT_NODE}function G8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Y8=Fk,Qk=Uk,Xk=Hk,eS=Wk,tS=Vk,nS=Kk,rS=xx;function iS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=iS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function sS(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=iS(e))&&(r&&(r+=" "),r+=t);return r}const ub=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,db=sS,Rd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return db(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:l}=t,u=Object.keys(i).map(m=>{const y=n==null?void 0:n[m],g=l==null?void 0:l[m];if(y===null)return null;const E=ub(y)||ub(g);return i[m][E]}),d=n&&Object.entries(n).reduce((m,y)=>{let[g,E]=y;return E===void 0||(m[g]=E),m},{}),h=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:g,className:E,..._}=y;return Object.entries(_).every(k=>{let[x,b]=k;return Array.isArray(b)?b.includes({...l,...d}[x]):{...l,...d}[x]===b})?[...m,g,E]:m},[]);return db(e,u,h,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:u,...d},h)=>T.createElement("svg",{ref:h,...Q8,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:oS("lucide",i),...d},[...u.map(([m,y])=>T.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(e,t)=>{const n=T.forwardRef(({className:r,...i},l)=>T.createElement(X8,{ref:l,iconNode:t,className:oS(`lucide-${J8(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=wt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=wt("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=wt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=wt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=wt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=wt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=wt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=wt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=wt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=wt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=wt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=wt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=wt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=wt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=wt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=wt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=wt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=wt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=wt("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=wt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=wt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=wt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=wt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=wt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=wt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=wt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=wt("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=wt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=wt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=wt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=wt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=wt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=wt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=wt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=wt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=wt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=wt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=wt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=wt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=wt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=wt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_x="-",x6=e=>{const t=_6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const d=u.split(_x);return d[0]===""&&d.length!==1&&d.shift(),mS(d,t)||w6(u)},getConflictingClassGroupIds:(u,d)=>{const h=n[u]||[];return d&&r[u]?[...h,...r[u]]:h}}},mS=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?mS(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const l=e.join(_x);return(u=t.validators.find(({validator:d})=>d(l)))==null?void 0:u.classGroupId},hb=/^\[(.+)\]$/,w6=e=>{if(hb.test(e)){const t=hb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},_6=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return E6(Object.entries(e.classGroups),n).forEach(([l,u])=>{sv(u,r,l,t)}),r},sv=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const l=i===""?t:pb(t,i);l.classGroupId=n;return}if(typeof i=="function"){if(b6(i)){sv(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,u])=>{sv(u,pb(t,l),n,r)})})},pb=(e,t)=>{let n=e;return t.split(_x).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},b6=e=>e.isThemeGetter,E6=(e,t)=>t?e.map(([n,r])=>{const i=r.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([u,d])=>[t+u,d])):l);return[n,i]}):e,k6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(l,u)=>{n.set(l,u),t++,t>e&&(t=0,r=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=r.get(l))!==void 0)return i(l,u),u},set(l,u){n.has(l)?n.set(l,u):i(l,u)}}},gS="!",S6=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],l=t.length,u=d=>{const h=[];let m=0,y=0,g;for(let b=0;b<d.length;b++){let S=d[b];if(m===0){if(S===i&&(r||d.slice(b,b+l)===t)){h.push(d.slice(y,b)),y=b+l;continue}if(S==="/"){g=b;continue}}S==="["?m++:S==="]"&&m--}const E=h.length===0?d:d.substring(y),_=E.startsWith(gS),k=_?E.substring(1):E,x=g&&g>y?g-y:void 0;return{modifiers:h,hasImportantModifier:_,baseClassName:k,maybePostfixModifierPosition:x}};return n?d=>n({className:d,parseClassName:u}):u},N6=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},C6=e=>({cache:k6(e.cacheSize),parseClassName:S6(e),...x6(e)}),j6=/\s+/,P6=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,l=[],u=e.trim().split(j6);let d="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{modifiers:y,hasImportantModifier:g,baseClassName:E,maybePostfixModifierPosition:_}=n(m);let k=!!_,x=r(k?E.substring(0,_):E);if(!x){if(!k){d=m+(d.length>0?" "+d:d);continue}if(x=r(E),!x){d=m+(d.length>0?" "+d:d);continue}k=!1}const b=N6(y).join(":"),S=g?b+gS:b,j=S+x;if(l.includes(j))continue;l.push(j);const R=i(x,k);for(let D=0;D<R.length;++D){const B=R[D];l.push(S+B)}d=m+(d.length>0?" "+d:d)}return d};function T6(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=yS(t))&&(r&&(r+=" "),r+=n);return r}const yS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=yS(e[r]))&&(n&&(n+=" "),n+=t);return n};function A6(e,...t){let n,r,i,l=u;function u(h){const m=t.reduce((y,g)=>g(y),e());return n=C6(m),r=n.cache.get,i=n.cache.set,l=d,d(h)}function d(h){const m=r(h);if(m)return m;const y=P6(h,n);return i(h,y),y}return function(){return l(T6.apply(null,arguments))}}const Yt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},vS=/^\[(?:([a-z-]+):)?(.+)\]$/i,R6=/^\d+\/\d+$/,I6=new Set(["px","full","screen"]),L6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,z6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ps=e=>uc(e)||I6.has(e)||R6.test(e),ko=e=>Hc(e,"length",V6),uc=e=>!!e&&!Number.isNaN(Number(e)),Gg=e=>Hc(e,"number",uc),Vu=e=>!!e&&Number.isInteger(Number(e)),B6=e=>e.endsWith("%")&&uc(e.slice(0,-1)),Et=e=>vS.test(e),So=e=>L6.test(e),F6=new Set(["length","size","percentage"]),$6=e=>Hc(e,F6,xS),U6=e=>Hc(e,"position",xS),Z6=new Set(["image","url"]),H6=e=>Hc(e,Z6,K6),W6=e=>Hc(e,"",q6),qu=()=>!0,Hc=(e,t,n)=>{const r=vS.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},V6=e=>O6.test(e)&&!M6.test(e),xS=()=>!1,q6=e=>z6.test(e),K6=e=>D6.test(e),G6=()=>{const e=Yt("colors"),t=Yt("spacing"),n=Yt("blur"),r=Yt("brightness"),i=Yt("borderColor"),l=Yt("borderRadius"),u=Yt("borderSpacing"),d=Yt("borderWidth"),h=Yt("contrast"),m=Yt("grayscale"),y=Yt("hueRotate"),g=Yt("invert"),E=Yt("gap"),_=Yt("gradientColorStops"),k=Yt("gradientColorStopPositions"),x=Yt("inset"),b=Yt("margin"),S=Yt("opacity"),j=Yt("padding"),R=Yt("saturate"),D=Yt("scale"),B=Yt("sepia"),q=Yt("skew"),G=Yt("space"),J=Yt("translate"),V=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",Et,t],$=()=>[Et,t],re=()=>["",ps,ko],M=()=>["auto",uc,Et],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Et],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[uc,Et];return{cacheSize:500,separator:":",theme:{colors:[qu],spacing:[ps,ko],blur:["none","",So,Et],brightness:F(),borderColor:[e],borderRadius:["none","","full",So,Et],borderSpacing:$(),borderWidth:re(),contrast:F(),grayscale:ee(),hueRotate:F(),invert:ee(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[B6,ko],inset:Q(),margin:Q(),opacity:F(),padding:$(),saturate:F(),scale:F(),sepia:ee(),skew:F(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Et]}],container:["container"],columns:[{columns:[So]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Et]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vu,Et]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Et]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",Vu,Et]}],"grid-cols":[{"grid-cols":[qu]}],"col-start-end":[{col:["auto",{span:["full",Vu,Et]},Et]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[qu]}],"row-start-end":[{row:["auto",{span:[Vu,Et]},Et]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Et]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[G]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[G]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Et,t]}],"min-w":[{"min-w":[Et,t,"min","max","fit"]}],"max-w":[{"max-w":[Et,t,"none","full","min","max","fit","prose",{screen:[So]},So]}],h:[{h:[Et,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Et,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Et,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Et,t,"auto","min","max","fit"]}],"font-size":[{text:["base",So,ko]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gg]}],"font-family":[{font:[qu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Et]}],"line-clamp":[{"line-clamp":["none",uc,Gg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ps,Et]}],"list-image":[{"list-image":["none",Et]}],"list-style-type":[{list:["none","disc","decimal",Et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ps,ko]}],"underline-offset":[{"underline-offset":["auto",ps,Et]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),U6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},H6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:ae()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[ps,Et]}],"outline-w":[{outline:[ps,ko]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[ps,ko]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",So,W6]}],"shadow-color":[{shadow:[qu]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",So,Et]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[g]}],saturate:[{saturate:[R]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Et]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Et]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Vu,Et]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[q]}],"skew-y":[{"skew-y":[q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Et]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Et]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Et]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ps,ko,Gg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Y6=A6(G6);function ut(...e){return Y6(sS(e))}const J6=Y8,wS=T.forwardRef(({className:e,...t},n)=>c.jsx(Qk,{ref:n,className:ut("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));wS.displayName=Qk.displayName;const Q6=Rd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_S=T.forwardRef(({className:e,variant:t,...n},r)=>c.jsx(Xk,{ref:r,className:ut(Q6({variant:t}),e),...n}));_S.displayName=Xk.displayName;const X6=T.forwardRef(({className:e,...t},n)=>c.jsx(nS,{ref:n,className:ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));X6.displayName=nS.displayName;const bS=T.forwardRef(({className:e,...t},n)=>c.jsx(rS,{ref:n,className:ut("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(pS,{className:"h-4 w-4"})}));bS.displayName=rS.displayName;const ES=T.forwardRef(({className:e,...t},n)=>c.jsx(eS,{ref:n,className:ut("text-sm font-semibold",e),...t}));ES.displayName=eS.displayName;const kS=T.forwardRef(({className:e,...t},n)=>c.jsx(tS,{ref:n,className:ut("text-sm opacity-90",e),...t}));kS.displayName=tS.displayName;function eD(){const{toasts:e}=sl();return c.jsxs(J6,{children:[e.map(function({id:t,title:n,description:r,action:i,...l}){return c.jsxs(_S,{...l,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(ES,{children:n}),r&&c.jsx(kS,{children:r})]}),i,c.jsx(bS,{})]},t)}),c.jsx(wS,{})]})}var tD=kv[" useId ".trim().toString()]||(()=>{}),nD=0;function Wo(e){const[t,n]=T.useState(tD());return Ar(()=>{n(r=>r??String(nD++))},[e]),t?`radix-${t}`:""}const rD=["top","right","bottom","left"],Qo=Math.min,Pr=Math.max,Gh=Math.round,gh=Math.floor,Zi=e=>({x:e,y:e}),iD={left:"right",right:"left",bottom:"top",top:"bottom"},sD={start:"end",end:"start"};function ov(e,t,n){return Pr(e,Qo(t,n))}function As(e,t){return typeof e=="function"?e(t):e}function Rs(e){return e.split("-")[0]}function Wc(e){return e.split("-")[1]}function bx(e){return e==="x"?"y":"x"}function Ex(e){return e==="y"?"height":"width"}function js(e){return["top","bottom"].includes(Rs(e))?"y":"x"}function kx(e){return bx(js(e))}function oD(e,t,n){n===void 0&&(n=!1);const r=Wc(e),i=kx(e),l=Ex(i);let u=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=Yh(u)),[u,Yh(u)]}function aD(e){const t=Yh(e);return[av(e),t,av(t)]}function av(e){return e.replace(/start|end/g,t=>sD[t])}function lD(e,t,n){const r=["left","right"],i=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?l:u;default:return[]}}function cD(e,t,n,r){const i=Wc(e);let l=lD(Rs(e),n==="start",r);return i&&(l=l.map(u=>u+"-"+i),t&&(l=l.concat(l.map(av)))),l}function Yh(e){return e.replace(/left|right|bottom|top/g,t=>iD[t])}function uD(e){return{top:0,right:0,bottom:0,left:0,...e}}function SS(e){return typeof e!="number"?uD(e):{top:e,right:e,bottom:e,left:e}}function Jh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function mb(e,t,n){let{reference:r,floating:i}=e;const l=js(t),u=kx(t),d=Ex(u),h=Rs(t),m=l==="y",y=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,E=r[d]/2-i[d]/2;let _;switch(h){case"top":_={x:y,y:r.y-i.height};break;case"bottom":_={x:y,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:g};break;case"left":_={x:r.x-i.width,y:g};break;default:_={x:r.x,y:r.y}}switch(Wc(t)){case"start":_[u]-=E*(n&&m?-1:1);break;case"end":_[u]+=E*(n&&m?-1:1);break}return _}const dD=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,d=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let m=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:y,y:g}=mb(m,r,h),E=r,_={},k=0;for(let x=0;x<d.length;x++){const{name:b,fn:S}=d[x],{x:j,y:R,data:D,reset:B}=await S({x:y,y:g,initialPlacement:r,placement:E,strategy:i,middlewareData:_,rects:m,platform:u,elements:{reference:e,floating:t}});y=j??y,g=R??g,_={..._,[b]:{..._[b],...D}},B&&k<=50&&(k++,typeof B=="object"&&(B.placement&&(E=B.placement),B.rects&&(m=B.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):B.rects),{x:y,y:g}=mb(m,E,h)),x=-1)}return{x:y,y:g,placement:E,strategy:i,middlewareData:_}};async function dd(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:l,rects:u,elements:d,strategy:h}=e,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:E=!1,padding:_=0}=As(t,e),k=SS(_),b=d[E?g==="floating"?"reference":"floating":g],S=Jh(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(b)))==null||n?b:b.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:y,strategy:h})),j=g==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),D=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},B=Jh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:j,offsetParent:R,strategy:h}):j);return{top:(S.top-B.top+k.top)/D.y,bottom:(B.bottom-S.bottom+k.bottom)/D.y,left:(S.left-B.left+k.left)/D.x,right:(B.right-S.right+k.right)/D.x}}const fD=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:l,platform:u,elements:d,middlewareData:h}=t,{element:m,padding:y=0}=As(e,t)||{};if(m==null)return{};const g=SS(y),E={x:n,y:r},_=kx(i),k=Ex(_),x=await u.getDimensions(m),b=_==="y",S=b?"top":"left",j=b?"bottom":"right",R=b?"clientHeight":"clientWidth",D=l.reference[k]+l.reference[_]-E[_]-l.floating[k],B=E[_]-l.reference[_],q=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let G=q?q[R]:0;(!G||!await(u.isElement==null?void 0:u.isElement(q)))&&(G=d.floating[R]||l.floating[k]);const J=D/2-B/2,V=G/2-x[k]/2-1,Y=Qo(g[S],V),Q=Qo(g[j],V),$=Y,re=G-x[k]-Q,M=G/2-x[k]/2+J,W=ov($,M,re),ae=!h.arrow&&Wc(i)!=null&&M!==W&&l.reference[k]/2-(M<$?Y:Q)-x[k]/2<0,se=ae?M<$?M-$:M-re:0;return{[_]:E[_]+se,data:{[_]:W,centerOffset:M-W-se,...ae&&{alignmentOffset:se}},reset:ae}}}),hD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:l,rects:u,initialPlacement:d,platform:h,elements:m}=t,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:E,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:x=!0,...b}=As(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const S=Rs(i),j=js(d),R=Rs(d)===d,D=await(h.isRTL==null?void 0:h.isRTL(m.floating)),B=E||(R||!x?[Yh(d)]:aD(d)),q=k!=="none";!E&&q&&B.push(...cD(d,x,k,D));const G=[d,...B],J=await dd(t,b),V=[];let Y=((r=l.flip)==null?void 0:r.overflows)||[];if(y&&V.push(J[S]),g){const W=oD(i,u,D);V.push(J[W[0]],J[W[1]])}if(Y=[...Y,{placement:i,overflows:V}],!V.every(W=>W<=0)){var Q,$;const W=(((Q=l.flip)==null?void 0:Q.index)||0)+1,ae=G[W];if(ae){var re;const ne=g==="alignment"?j!==js(ae):!1,ee=((re=Y[0])==null?void 0:re.overflows[0])>0;if(!ne||ee)return{data:{index:W,overflows:Y},reset:{placement:ae}}}let se=($=Y.filter(ne=>ne.overflows[0]<=0).sort((ne,ee)=>ne.overflows[1]-ee.overflows[1])[0])==null?void 0:$.placement;if(!se)switch(_){case"bestFit":{var M;const ne=(M=Y.filter(ee=>{if(q){const le=js(ee.placement);return le===j||le==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(le=>le>0).reduce((le,F)=>le+F,0)]).sort((ee,le)=>ee[1]-le[1])[0])==null?void 0:M[0];ne&&(se=ne);break}case"initialPlacement":se=d;break}if(i!==se)return{reset:{placement:se}}}return{}}}};function gb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yb(e){return rD.some(t=>e[t]>=0)}const pD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=As(e,t);switch(r){case"referenceHidden":{const l=await dd(t,{...i,elementContext:"reference"}),u=gb(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:yb(u)}}}case"escaped":{const l=await dd(t,{...i,altBoundary:!0}),u=gb(l,n.floating);return{data:{escapedOffsets:u,escaped:yb(u)}}}default:return{}}}}};async function mD(e,t){const{placement:n,platform:r,elements:i}=e,l=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=Rs(n),d=Wc(n),h=js(n)==="y",m=["left","top"].includes(u)?-1:1,y=l&&h?-1:1,g=As(t,e);let{mainAxis:E,crossAxis:_,alignmentAxis:k}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof k=="number"&&(_=d==="end"?k*-1:k),h?{x:_*y,y:E*m}:{x:E*m,y:_*y}}const gD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:l,placement:u,middlewareData:d}=t,h=await mD(t,e);return u===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:u}}}}},yD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:b=>{let{x:S,y:j}=b;return{x:S,y:j}}},...h}=As(e,t),m={x:n,y:r},y=await dd(t,h),g=js(Rs(i)),E=bx(g);let _=m[E],k=m[g];if(l){const b=E==="y"?"top":"left",S=E==="y"?"bottom":"right",j=_+y[b],R=_-y[S];_=ov(j,_,R)}if(u){const b=g==="y"?"top":"left",S=g==="y"?"bottom":"right",j=k+y[b],R=k-y[S];k=ov(j,k,R)}const x=d.fn({...t,[E]:_,[g]:k});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[E]:l,[g]:u}}}}}},vD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:l,middlewareData:u}=t,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=As(e,t),y={x:n,y:r},g=js(i),E=bx(g);let _=y[E],k=y[g];const x=As(d,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(h){const R=E==="y"?"height":"width",D=l.reference[E]-l.floating[R]+b.mainAxis,B=l.reference[E]+l.reference[R]-b.mainAxis;_<D?_=D:_>B&&(_=B)}if(m){var S,j;const R=E==="y"?"width":"height",D=["top","left"].includes(Rs(i)),B=l.reference[g]-l.floating[R]+(D&&((S=u.offset)==null?void 0:S[g])||0)+(D?0:b.crossAxis),q=l.reference[g]+l.reference[R]+(D?0:((j=u.offset)==null?void 0:j[g])||0)-(D?b.crossAxis:0);k<B?k=B:k>q&&(k=q)}return{[E]:_,[g]:k}}}},xD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:l,platform:u,elements:d}=t,{apply:h=()=>{},...m}=As(e,t),y=await dd(t,m),g=Rs(i),E=Wc(i),_=js(i)==="y",{width:k,height:x}=l.floating;let b,S;g==="top"||g==="bottom"?(b=g,S=E===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(S=g,b=E==="end"?"top":"bottom");const j=x-y.top-y.bottom,R=k-y.left-y.right,D=Qo(x-y[b],j),B=Qo(k-y[S],R),q=!t.middlewareData.shift;let G=D,J=B;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(J=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(G=j),q&&!E){const Y=Pr(y.left,0),Q=Pr(y.right,0),$=Pr(y.top,0),re=Pr(y.bottom,0);_?J=k-2*(Y!==0||Q!==0?Y+Q:Pr(y.left,y.right)):G=x-2*($!==0||re!==0?$+re:Pr(y.top,y.bottom))}await h({...t,availableWidth:J,availableHeight:G});const V=await u.getDimensions(d.floating);return k!==V.width||x!==V.height?{reset:{rects:!0}}:{}}}};function Mp(){return typeof window<"u"}function Vc(e){return NS(e)?(e.nodeName||"").toLowerCase():"#document"}function Tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vi(e){var t;return(t=(NS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function NS(e){return Mp()?e instanceof Node||e instanceof Tr(e).Node:!1}function yi(e){return Mp()?e instanceof Element||e instanceof Tr(e).Element:!1}function Wi(e){return Mp()?e instanceof HTMLElement||e instanceof Tr(e).HTMLElement:!1}function vb(e){return!Mp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tr(e).ShadowRoot}function Id(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=vi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function wD(e){return["table","td","th"].includes(Vc(e))}function zp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Sx(e){const t=Nx(),n=yi(e)?vi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _D(e){let t=Xo(e);for(;Wi(t)&&!Oc(t);){if(Sx(t))return t;if(zp(t))return null;t=Xo(t)}return null}function Nx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oc(e){return["html","body","#document"].includes(Vc(e))}function vi(e){return Tr(e).getComputedStyle(e)}function Dp(e){return yi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xo(e){if(Vc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vb(e)&&e.host||Vi(e);return vb(t)?t.host:t}function CS(e){const t=Xo(e);return Oc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wi(t)&&Id(t)?t:CS(t)}function fd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=CS(e),l=i===((r=e.ownerDocument)==null?void 0:r.body),u=Tr(i);if(l){const d=lv(u);return t.concat(u,u.visualViewport||[],Id(i)?i:[],d&&n?fd(d):[])}return t.concat(i,fd(i,[],n))}function lv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jS(e){const t=vi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Wi(e),l=i?e.offsetWidth:n,u=i?e.offsetHeight:r,d=Gh(n)!==l||Gh(r)!==u;return d&&(n=l,r=u),{width:n,height:r,$:d}}function Cx(e){return yi(e)?e:e.contextElement}function dc(e){const t=Cx(e);if(!Wi(t))return Zi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:l}=jS(t);let u=(l?Gh(n.width):n.width)/r,d=(l?Gh(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const bD=Zi(0);function PS(e){const t=Tr(e);return!Nx()||!t.visualViewport?bD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ED(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tr(e)?!1:t}function tl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),l=Cx(e);let u=Zi(1);t&&(r?yi(r)&&(u=dc(r)):u=dc(e));const d=ED(l,n,r)?PS(l):Zi(0);let h=(i.left+d.x)/u.x,m=(i.top+d.y)/u.y,y=i.width/u.x,g=i.height/u.y;if(l){const E=Tr(l),_=r&&yi(r)?Tr(r):r;let k=E,x=lv(k);for(;x&&r&&_!==k;){const b=dc(x),S=x.getBoundingClientRect(),j=vi(x),R=S.left+(x.clientLeft+parseFloat(j.paddingLeft))*b.x,D=S.top+(x.clientTop+parseFloat(j.paddingTop))*b.y;h*=b.x,m*=b.y,y*=b.x,g*=b.y,h+=R,m+=D,k=Tr(x),x=lv(k)}}return Jh({width:y,height:g,x:h,y:m})}function jx(e,t){const n=Dp(e).scrollLeft;return t?t.left+n:tl(Vi(e)).left+n}function TS(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:jx(e,r)),l=r.top+t.scrollTop;return{x:i,y:l}}function kD(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const l=i==="fixed",u=Vi(r),d=t?zp(t.floating):!1;if(r===u||d&&l)return n;let h={scrollLeft:0,scrollTop:0},m=Zi(1);const y=Zi(0),g=Wi(r);if((g||!g&&!l)&&((Vc(r)!=="body"||Id(u))&&(h=Dp(r)),Wi(r))){const _=tl(r);m=dc(r),y.x=_.x+r.clientLeft,y.y=_.y+r.clientTop}const E=u&&!g&&!l?TS(u,h,!0):Zi(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+y.x+E.x,y:n.y*m.y-h.scrollTop*m.y+y.y+E.y}}function SD(e){return Array.from(e.getClientRects())}function ND(e){const t=Vi(e),n=Dp(e),r=e.ownerDocument.body,i=Pr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=Pr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+jx(e);const d=-n.scrollTop;return vi(r).direction==="rtl"&&(u+=Pr(t.clientWidth,r.clientWidth)-i),{width:i,height:l,x:u,y:d}}function CD(e,t){const n=Tr(e),r=Vi(e),i=n.visualViewport;let l=r.clientWidth,u=r.clientHeight,d=0,h=0;if(i){l=i.width,u=i.height;const m=Nx();(!m||m&&t==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}return{width:l,height:u,x:d,y:h}}function jD(e,t){const n=tl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,l=Wi(e)?dc(e):Zi(1),u=e.clientWidth*l.x,d=e.clientHeight*l.y,h=i*l.x,m=r*l.y;return{width:u,height:d,x:h,y:m}}function xb(e,t,n){let r;if(t==="viewport")r=CD(e,n);else if(t==="document")r=ND(Vi(e));else if(yi(t))r=jD(t,n);else{const i=PS(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Jh(r)}function AS(e,t){const n=Xo(e);return n===t||!yi(n)||Oc(n)?!1:vi(n).position==="fixed"||AS(n,t)}function PD(e,t){const n=t.get(e);if(n)return n;let r=fd(e,[],!1).filter(d=>yi(d)&&Vc(d)!=="body"),i=null;const l=vi(e).position==="fixed";let u=l?Xo(e):e;for(;yi(u)&&!Oc(u);){const d=vi(u),h=Sx(u);!h&&d.position==="fixed"&&(i=null),(l?!h&&!i:!h&&d.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Id(u)&&!h&&AS(e,u))?r=r.filter(y=>y!==u):i=d,u=Xo(u)}return t.set(e,r),r}function TD(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const u=[...n==="clippingAncestors"?zp(t)?[]:PD(t,this._c):[].concat(n),r],d=u[0],h=u.reduce((m,y)=>{const g=xb(t,y,i);return m.top=Pr(g.top,m.top),m.right=Qo(g.right,m.right),m.bottom=Qo(g.bottom,m.bottom),m.left=Pr(g.left,m.left),m},xb(t,d,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function AD(e){const{width:t,height:n}=jS(e);return{width:t,height:n}}function RD(e,t,n){const r=Wi(t),i=Vi(t),l=n==="fixed",u=tl(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const h=Zi(0);function m(){h.x=jx(i)}if(r||!r&&!l)if((Vc(t)!=="body"||Id(i))&&(d=Dp(t)),r){const _=tl(t,!0,l,t);h.x=_.x+t.clientLeft,h.y=_.y+t.clientTop}else i&&m();l&&!r&&i&&m();const y=i&&!r&&!l?TS(i,d):Zi(0),g=u.left+d.scrollLeft-h.x-y.x,E=u.top+d.scrollTop-h.y-y.y;return{x:g,y:E,width:u.width,height:u.height}}function Yg(e){return vi(e).position==="static"}function wb(e,t){if(!Wi(e)||vi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vi(e)===n&&(n=n.ownerDocument.body),n}function RS(e,t){const n=Tr(e);if(zp(e))return n;if(!Wi(e)){let i=Xo(e);for(;i&&!Oc(i);){if(yi(i)&&!Yg(i))return i;i=Xo(i)}return n}let r=wb(e,t);for(;r&&wD(r)&&Yg(r);)r=wb(r,t);return r&&Oc(r)&&Yg(r)&&!Sx(r)?n:r||_D(e)||n}const ID=async function(e){const t=this.getOffsetParent||RS,n=this.getDimensions,r=await n(e.floating);return{reference:RD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LD(e){return vi(e).direction==="rtl"}const OD={convertOffsetParentRelativeRectToViewportRelativeRect:kD,getDocumentElement:Vi,getClippingRect:TD,getOffsetParent:RS,getElementRects:ID,getClientRects:SD,getDimensions:AD,getScale:dc,isElement:yi,isRTL:LD};function IS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function MD(e,t){let n=null,r;const i=Vi(e);function l(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const m=e.getBoundingClientRect(),{left:y,top:g,width:E,height:_}=m;if(d||t(),!E||!_)return;const k=gh(g),x=gh(i.clientWidth-(y+E)),b=gh(i.clientHeight-(g+_)),S=gh(y),R={rootMargin:-k+"px "+-x+"px "+-b+"px "+-S+"px",threshold:Pr(0,Qo(1,h))||1};let D=!0;function B(q){const G=q[0].intersectionRatio;if(G!==h){if(!D)return u();G?u(!1,G):r=setTimeout(()=>{u(!1,1e-7)},1e3)}G===1&&!IS(m,e.getBoundingClientRect())&&u(),D=!1}try{n=new IntersectionObserver(B,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(B,R)}n.observe(e)}return u(!0),l}function zD(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,m=Cx(e),y=i||l?[...m?fd(m):[],...fd(t)]:[];y.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),l&&S.addEventListener("resize",n)});const g=m&&d?MD(m,n):null;let E=-1,_=null;u&&(_=new ResizeObserver(S=>{let[j]=S;j&&j.target===m&&_&&(_.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(t)})),n()}),m&&!h&&_.observe(m),_.observe(t));let k,x=h?tl(e):null;h&&b();function b(){const S=tl(e);x&&!IS(x,S)&&n(),x=S,k=requestAnimationFrame(b)}return n(),()=>{var S;y.forEach(j=>{i&&j.removeEventListener("scroll",n),l&&j.removeEventListener("resize",n)}),g==null||g(),(S=_)==null||S.disconnect(),_=null,h&&cancelAnimationFrame(k)}}const DD=gD,BD=yD,FD=hD,$D=xD,UD=pD,_b=fD,ZD=vD,HD=(e,t,n)=>{const r=new Map,i={platform:OD,...n},l={...i.platform,_c:r};return dD(e,t,{...i,platform:l})};var Ph=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Qh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Qh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const l=i[r];if(!(l==="_owner"&&e.$$typeof)&&!Qh(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function LS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bb(e,t){const n=LS(e);return Math.round(t*n)/n}function Jg(e){const t=T.useRef(e);return Ph(()=>{t.current=e}),t}function WD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:h,open:m}=e,[y,g]=T.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[E,_]=T.useState(r);Qh(E,r)||_(r);const[k,x]=T.useState(null),[b,S]=T.useState(null),j=T.useCallback(ne=>{ne!==q.current&&(q.current=ne,x(ne))},[]),R=T.useCallback(ne=>{ne!==G.current&&(G.current=ne,S(ne))},[]),D=l||k,B=u||b,q=T.useRef(null),G=T.useRef(null),J=T.useRef(y),V=h!=null,Y=Jg(h),Q=Jg(i),$=Jg(m),re=T.useCallback(()=>{if(!q.current||!G.current)return;const ne={placement:t,strategy:n,middleware:E};Q.current&&(ne.platform=Q.current),HD(q.current,G.current,ne).then(ee=>{const le={...ee,isPositioned:$.current!==!1};M.current&&!Qh(J.current,le)&&(J.current=le,Tp.flushSync(()=>{g(le)}))})},[E,t,n,Q,$]);Ph(()=>{m===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,g(ne=>({...ne,isPositioned:!1})))},[m]);const M=T.useRef(!1);Ph(()=>(M.current=!0,()=>{M.current=!1}),[]),Ph(()=>{if(D&&(q.current=D),B&&(G.current=B),D&&B){if(Y.current)return Y.current(D,B,re);re()}},[D,B,re,Y,V]);const W=T.useMemo(()=>({reference:q,floating:G,setReference:j,setFloating:R}),[j,R]),ae=T.useMemo(()=>({reference:D,floating:B}),[D,B]),se=T.useMemo(()=>{const ne={position:n,left:0,top:0};if(!ae.floating)return ne;const ee=bb(ae.floating,y.x),le=bb(ae.floating,y.y);return d?{...ne,transform:"translate("+ee+"px, "+le+"px)",...LS(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:le}},[n,d,ae.floating,y.x,y.y]);return T.useMemo(()=>({...y,update:re,refs:W,elements:ae,floatingStyles:se}),[y,re,W,ae,se])}const VD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?_b({element:r.current,padding:i}).fn(n):{}:r?_b({element:r,padding:i}).fn(n):{}}}},qD=(e,t)=>({...DD(e),options:[e,t]}),KD=(e,t)=>({...BD(e),options:[e,t]}),GD=(e,t)=>({...ZD(e),options:[e,t]}),YD=(e,t)=>({...FD(e),options:[e,t]}),JD=(e,t)=>({...$D(e),options:[e,t]}),QD=(e,t)=>({...UD(e),options:[e,t]}),XD=(e,t)=>({...VD(e),options:[e,t]});var eB="Arrow",OS=T.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...l}=e;return c.jsx(ct.svg,{...l,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});OS.displayName=eB;var tB=OS;function Bp(e){const[t,n]=T.useState(void 0);return Ar(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,d;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,d=m.blockSize}else u=e.offsetWidth,d=e.offsetHeight;n({width:u,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Px="Popper",[MS,Fp]=nr(Px),[nB,zS]=MS(Px),DS=e=>{const{__scopePopper:t,children:n}=e,[r,i]=T.useState(null);return c.jsx(nB,{scope:t,anchor:r,onAnchorChange:i,children:n})};DS.displayName=Px;var BS="PopperAnchor",FS=T.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,l=zS(BS,n),u=T.useRef(null),d=Lt(t,u);return T.useEffect(()=>{l.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:c.jsx(ct.div,{...i,ref:d})});FS.displayName=BS;var Tx="PopperContent",[rB,iB]=MS(Tx),$S=T.forwardRef((e,t)=>{var Ue,De,Fe,ot,St,Ot;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:E=!1,updatePositionStrategy:_="optimized",onPlaced:k,...x}=e,b=zS(Tx,n),[S,j]=T.useState(null),R=Lt(t,gt=>j(gt)),[D,B]=T.useState(null),q=Bp(D),G=(q==null?void 0:q.width)??0,J=(q==null?void 0:q.height)??0,V=r+(l!=="center"?"-"+l:""),Y=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},Q=Array.isArray(m)?m:[m],$=Q.length>0,re={padding:Y,boundary:Q.filter(oB),altBoundary:$},{refs:M,floatingStyles:W,placement:ae,isPositioned:se,middlewareData:ne}=WD({strategy:"fixed",placement:V,whileElementsMounted:(...gt)=>zD(...gt,{animationFrame:_==="always"}),elements:{reference:b.anchor},middleware:[qD({mainAxis:i+J,alignmentAxis:u}),h&&KD({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?GD():void 0,...re}),h&&YD({...re}),JD({...re,apply:({elements:gt,rects:z,availableWidth:Ce,availableHeight:ke})=>{const{width:ie,height:te}=z.reference,pe=gt.floating.style;pe.setProperty("--radix-popper-available-width",`${Ce}px`),pe.setProperty("--radix-popper-available-height",`${ke}px`),pe.setProperty("--radix-popper-anchor-width",`${ie}px`),pe.setProperty("--radix-popper-anchor-height",`${te}px`)}}),D&&XD({element:D,padding:d}),aB({arrowWidth:G,arrowHeight:J}),E&&QD({strategy:"referenceHidden",...re})]}),[ee,le]=HS(ae),F=gr(k);Ar(()=>{se&&(F==null||F())},[se,F]);const K=(Ue=ne.arrow)==null?void 0:Ue.x,Ne=(De=ne.arrow)==null?void 0:De.y,be=((Fe=ne.arrow)==null?void 0:Fe.centerOffset)!==0,[xe,Re]=T.useState();return Ar(()=>{S&&Re(window.getComputedStyle(S).zIndex)},[S]),c.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:se?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(ot=ne.transformOrigin)==null?void 0:ot.x,(St=ne.transformOrigin)==null?void 0:St.y].join(" "),...((Ot=ne.hide)==null?void 0:Ot.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(rB,{scope:n,placedSide:ee,onArrowChange:B,arrowX:K,arrowY:Ne,shouldHideArrow:be,children:c.jsx(ct.div,{"data-side":ee,"data-align":le,...x,ref:R,style:{...x.style,animation:se?void 0:"none"}})})})});$S.displayName=Tx;var US="PopperArrow",sB={top:"bottom",right:"left",bottom:"top",left:"right"},ZS=T.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,l=iB(US,r),u=sB[l.placedSide];return c.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:c.jsx(tB,{...i,ref:n,style:{...i.style,display:"block"}})})});ZS.displayName=US;function oB(e){return e!==null}var aB=e=>({name:"transformOrigin",options:e,fn(t){var b,S,j;const{placement:n,rects:r,middlewareData:i}=t,u=((b=i.arrow)==null?void 0:b.centerOffset)!==0,d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[m,y]=HS(n),g={start:"0%",center:"50%",end:"100%"}[y],E=(((S=i.arrow)==null?void 0:S.x)??0)+d/2,_=(((j=i.arrow)==null?void 0:j.y)??0)+h/2;let k="",x="";return m==="bottom"?(k=u?g:`${E}px`,x=`${-h}px`):m==="top"?(k=u?g:`${E}px`,x=`${r.floating.height+h}px`):m==="right"?(k=`${-h}px`,x=u?g:`${_}px`):m==="left"&&(k=`${r.floating.width+h}px`,x=u?g:`${_}px`),{data:{x:k,y:x}}}});function HS(e){const[t,n="center"]=e.split("-");return[t,n]}var lB=DS,WS=FS,VS=$S,qS=ZS,[$p,tH]=nr("Tooltip",[Fp]),Ax=Fp(),KS="TooltipProvider",cB=700,Eb="tooltip.open",[uB,GS]=$p(KS),YS=e=>{const{__scopeTooltip:t,delayDuration:n=cB,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:l}=e,u=T.useRef(!0),d=T.useRef(!1),h=T.useRef(0);return T.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),c.jsx(uB,{scope:t,isOpenDelayedRef:u,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:T.useCallback(m=>{d.current=m},[]),disableHoverableContent:i,children:l})};YS.displayName=KS;var JS="Tooltip",[nH,Up]=$p(JS),cv="TooltipTrigger",dB=T.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Up(cv,n),l=GS(cv,n),u=Ax(n),d=T.useRef(null),h=Lt(t,d,i.onTriggerChange),m=T.useRef(!1),y=T.useRef(!1),g=T.useCallback(()=>m.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),c.jsx(WS,{asChild:!0,...u,children:c.jsx(ct.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:h,onPointerMove:Ke(e.onPointerMove,E=>{E.pointerType!=="touch"&&!y.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ke(e.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:Ke(e.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ke(e.onFocus,()=>{m.current||i.onOpen()}),onBlur:Ke(e.onBlur,i.onClose),onClick:Ke(e.onClick,i.onClose)})})});dB.displayName=cv;var fB="TooltipPortal",[rH,hB]=$p(fB,{forceMount:void 0}),Mc="TooltipContent",QS=T.forwardRef((e,t)=>{const n=hB(Mc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...l}=e,u=Up(Mc,e.__scopeTooltip);return c.jsx(Rr,{present:r||u.open,children:u.disableHoverableContent?c.jsx(XS,{side:i,...l,ref:t}):c.jsx(pB,{side:i,...l,ref:t})})}),pB=T.forwardRef((e,t)=>{const n=Up(Mc,e.__scopeTooltip),r=GS(Mc,e.__scopeTooltip),i=T.useRef(null),l=Lt(t,i),[u,d]=T.useState(null),{trigger:h,onClose:m}=n,y=i.current,{onPointerInTransitChange:g}=r,E=T.useCallback(()=>{d(null),g(!1)},[g]),_=T.useCallback((k,x)=>{const b=k.currentTarget,S={x:k.clientX,y:k.clientY},j=xB(S,b.getBoundingClientRect()),R=wB(S,j),D=_B(x.getBoundingClientRect()),B=EB([...R,...D]);d(B),g(!0)},[g]);return T.useEffect(()=>()=>E(),[E]),T.useEffect(()=>{if(h&&y){const k=b=>_(b,y),x=b=>_(b,h);return h.addEventListener("pointerleave",k),y.addEventListener("pointerleave",x),()=>{h.removeEventListener("pointerleave",k),y.removeEventListener("pointerleave",x)}}},[h,y,_,E]),T.useEffect(()=>{if(u){const k=x=>{const b=x.target,S={x:x.clientX,y:x.clientY},j=(h==null?void 0:h.contains(b))||(y==null?void 0:y.contains(b)),R=!bB(S,u);j?E():R&&(E(),m())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[h,y,u,m,E]),c.jsx(XS,{...e,ref:l})}),[mB,gB]=$p(JS,{isInside:!1}),yB=c8("TooltipContent"),XS=T.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:u,...d}=e,h=Up(Mc,n),m=Ax(n),{onClose:y}=h;return T.useEffect(()=>(document.addEventListener(Eb,y),()=>document.removeEventListener(Eb,y)),[y]),T.useEffect(()=>{if(h.trigger){const g=E=>{const _=E.target;_!=null&&_.contains(h.trigger)&&y()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[h.trigger,y]),c.jsx(Td,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:g=>g.preventDefault(),onDismiss:y,children:c.jsxs(VS,{"data-state":h.stateAttribute,...m,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(yB,{children:r}),c.jsx(mB,{scope:n,isInside:!0,children:c.jsx(R8,{id:h.contentId,role:"tooltip",children:i||r})})]})})});QS.displayName=Mc;var eN="TooltipArrow",vB=T.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Ax(n);return gB(eN,n).isInside?null:c.jsx(qS,{...i,...r,ref:t})});vB.displayName=eN;function xB(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,r,i,l)){case l:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wB(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function _B(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function bB(e,t){const{x:n,y:r}=e;let i=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const d=t[l],h=t[u],m=d.x,y=d.y,g=h.x,E=h.y;y>r!=E>r&&n<(g-m)*(r-y)/(E-y)+m&&(i=!i)}return i}function EB(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),kB(t)}function kB(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const l=t[t.length-1],u=t[t.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const l=n[n.length-1],u=n[n.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var SB=YS,tN=QS;const NB=SB,CB=T.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(tN,{ref:r,sideOffset:t,className:ut("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));CB.displayName=tN.displayName;function uv(e,t,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,i=(n==null?void 0:n.deserialize)||JSON.parse,[l,u]=T.useState(()=>{try{const h=localStorage.getItem(e);return h?i(h):t}catch(h){return console.warn(`Failed to load ${e} from localStorage:`,h),t}}),d=h=>{try{const m=h instanceof Function?h(l):h;u(m),localStorage.setItem(e,r(m))}catch(m){console.warn(`Failed to save ${e} to localStorage:`,m)}};return T.useEffect(()=>{const h=m=>{if(m.key===e&&m.newValue!==null)try{u(i(m.newValue))}catch(y){console.warn(`Failed to sync ${e} from localStorage:`,y)}};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[e,i]),[l,d]}const jB=Ss({relays:_k(Ss({url:Ju(),read:qa(),write:qa()})),updatedAt:gs()}),PB=Ss({theme:Ek(["dark","light","system"]),relayMetadata:jB});function TB(e){const{children:t,storageKey:n,defaultConfig:r}=e,[i,l]=uv(n,{},{serialize:JSON.stringify,deserialize:m=>{const y=JSON.parse(m);return PB.partial().parse(y)}}),u=m=>{l(m)},d={...r,...i},h={config:d,updateConfig:u};return AB(d.theme),c.jsx(Rk.Provider,{value:h,children:t})}function AB(e){T.useEffect(()=>{const t=window.document.documentElement;if(t.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(n);return}t.classList.add(e)},[e]),T.useEffect(()=>{if(e!=="system")return;const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{const r=window.document.documentElement;r.classList.remove("light","dark");const i=t.matches?"dark":"light";r.classList.add(i)};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[e])}var kb,Qg,RB=(kb=function(e,t){function n(V){if(!Number.isSafeInteger(V))throw new Error(`Wrong integer: ${V}`)}function r(...V){const Y=(Q,$)=>re=>Q($(re));return{encode:Array.from(V).reverse().reduce((Q,$)=>Q?Y(Q,$.encode):$.encode,void 0),decode:V.reduce((Q,$)=>Q?Y(Q,$.decode):$.decode,void 0)}}function i(V){return{encode:Y=>{if(!Array.isArray(Y)||Y.length&&typeof Y[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return Y.map(Q=>{if(n(Q),Q<0||Q>=V.length)throw new Error(`Digit index outside alphabet: ${Q} (alphabet: ${V.length})`);return V[Q]})},decode:Y=>{if(!Array.isArray(Y)||Y.length&&typeof Y[0]!="string")throw new Error("alphabet.decode input should be array of strings");return Y.map(Q=>{if(typeof Q!="string")throw new Error(`alphabet.decode: not string element=${Q}`);const $=V.indexOf(Q);if($===-1)throw new Error(`Unknown letter: "${Q}". Allowed: ${V}`);return $})}}}function l(V=""){if(typeof V!="string")throw new Error("join separator should be string");return{encode:Y=>{if(!Array.isArray(Y)||Y.length&&typeof Y[0]!="string")throw new Error("join.encode input should be array of strings");for(let Q of Y)if(typeof Q!="string")throw new Error(`join.encode: non-string input=${Q}`);return Y.join(V)},decode:Y=>{if(typeof Y!="string")throw new Error("join.decode input should be string");return Y.split(V)}}}function u(V,Y="="){if(n(V),typeof Y!="string")throw new Error("padding chr should be string");return{encode(Q){if(!Array.isArray(Q)||Q.length&&typeof Q[0]!="string")throw new Error("padding.encode input should be array of strings");for(let $ of Q)if(typeof $!="string")throw new Error(`padding.encode: non-string input=${$}`);for(;Q.length*V%8;)Q.push(Y);return Q},decode(Q){if(!Array.isArray(Q)||Q.length&&typeof Q[0]!="string")throw new Error("padding.encode input should be array of strings");for(let re of Q)if(typeof re!="string")throw new Error(`padding.decode: non-string input=${re}`);let $=Q.length;if($*V%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;$>0&&Q[$-1]===Y;$--)if(!(($-1)*V%8))throw new Error("Invalid padding: string has too much padding");return Q.slice(0,$)}}}function d(V){if(typeof V!="function")throw new Error("normalize fn should be function");return{encode:Y=>Y,decode:Y=>V(Y)}}function h(V,Y,Q){if(Y<2)throw new Error(`convertRadix: wrong from=${Y}, base cannot be less than 2`);if(Q<2)throw new Error(`convertRadix: wrong to=${Q}, base cannot be less than 2`);if(!Array.isArray(V))throw new Error("convertRadix: data should be array");if(!V.length)return[];let $=0;const re=[],M=Array.from(V);for(M.forEach(W=>{if(n(W),W<0||W>=Y)throw new Error(`Wrong integer: ${W}`)});;){let W=0,ae=!0;for(let se=$;se<M.length;se++){const ne=M[se],ee=Y*W+ne;if(!Number.isSafeInteger(ee)||Y*W/Y!==W||ee-ne!=Y*W)throw new Error("convertRadix: carry overflow");if(W=ee%Q,M[se]=Math.floor(ee/Q),!Number.isSafeInteger(M[se])||M[se]*Q+W!==ee)throw new Error("convertRadix: carry overflow");ae&&(M[se]?ae=!1:$=se)}if(re.push(W),ae)break}for(let W=0;W<V.length-1&&V[W]===0;W++)re.push(0);return re.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const m=(V,Y)=>Y?m(Y,V%Y):V,y=(V,Y)=>V+(Y-m(V,Y));function g(V,Y,Q,$){if(!Array.isArray(V))throw new Error("convertRadix2: data should be array");if(Y<=0||Y>32)throw new Error(`convertRadix2: wrong from=${Y}`);if(Q<=0||Q>32)throw new Error(`convertRadix2: wrong to=${Q}`);if(y(Y,Q)>32)throw new Error(`convertRadix2: carry overflow from=${Y} to=${Q} carryBits=${y(Y,Q)}`);let re=0,M=0;const W=2**Q-1,ae=[];for(const se of V){if(n(se),se>=2**Y)throw new Error(`convertRadix2: invalid data word=${se} from=${Y}`);if(re=re<<Y|se,M+Y>32)throw new Error(`convertRadix2: carry overflow pos=${M} from=${Y}`);for(M+=Y;M>=Q;M-=Q)ae.push((re>>M-Q&W)>>>0);re&=2**M-1}if(re=re<<Q-M&W,!$&&M>=Y)throw new Error("Excess padding");if(!$&&re)throw new Error(`Non-zero padding: ${re}`);return $&&M>0&&ae.push(re>>>0),ae}function E(V){return n(V),{encode:Y=>{if(!(Y instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return h(Array.from(Y),256,V)},decode:Y=>{if(!Array.isArray(Y)||Y.length&&typeof Y[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(h(Y,V,256))}}}function _(V,Y=!1){if(n(V),V<=0||V>32)throw new Error("radix2: bits should be in (0..32]");if(y(8,V)>32||y(V,8)>32)throw new Error("radix2: carry overflow");return{encode:Q=>{if(!(Q instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return g(Array.from(Q),8,V,!Y)},decode:Q=>{if(!Array.isArray(Q)||Q.length&&typeof Q[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(g(Q,V,8,Y))}}}function k(V){if(typeof V!="function")throw new Error("unsafeWrapper fn should be function");return function(...Y){try{return V.apply(null,Y)}catch{}}}function x(V,Y){if(n(V),typeof Y!="function")throw new Error("checksum fn should be function");return{encode(Q){if(!(Q instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const $=Y(Q).slice(0,V),re=new Uint8Array(Q.length+V);return re.set(Q),re.set($,Q.length),re},decode(Q){if(!(Q instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const $=Q.slice(0,-V),re=Y($).slice(0,V),M=Q.slice(-V);for(let W=0;W<V;W++)if(re[W]!==M[W])throw new Error("Invalid checksum");return $}}}t.utils={alphabet:i,chain:r,checksum:x,radix:E,radix2:_,join:l,padding:u},t.base16=r(_(4),i("0123456789ABCDEF"),l("")),t.base32=r(_(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),u(5),l("")),t.base32hex=r(_(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),u(5),l("")),t.base32crockford=r(_(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),l(""),d(V=>V.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=r(_(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),u(6),l("")),t.base64url=r(_(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),u(6),l(""));const b=V=>r(E(58),i(V),l(""));t.base58=b("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=b("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=b("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const S=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(V){let Y="";for(let Q=0;Q<V.length;Q+=8){const $=V.subarray(Q,Q+8);Y+=t.base58.encode($).padStart(S[$.length],"1")}return Y},decode(V){let Y=[];for(let Q=0;Q<V.length;Q+=11){const $=V.slice(Q,Q+11),re=S.indexOf($.length),M=t.base58.decode($);for(let W=0;W<M.length-re;W++)if(M[W]!==0)throw new Error("base58xmr: wrong padding");Y=Y.concat(Array.from(M.slice(M.length-re)))}return Uint8Array.from(Y)}},t.base58check=V=>r(x(4,Y=>V(V(Y))),t.base58);const j=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),l("")),R=[996825010,642813549,513874426,1027748829,705979059];function D(V){const Y=V>>25;let Q=(33554431&V)<<5;for(let $=0;$<R.length;$++)(Y>>$&1)==1&&(Q^=R[$]);return Q}function B(V,Y,Q=1){const $=V.length;let re=1;for(let M=0;M<$;M++){const W=V.charCodeAt(M);if(W<33||W>126)throw new Error(`Invalid prefix (${V})`);re=D(re)^W>>5}re=D(re);for(let M=0;M<$;M++)re=D(re)^31&V.charCodeAt(M);for(let M of Y)re=D(re)^M;for(let M=0;M<6;M++)re=D(re);return re^=Q,j.encode(g([re%2**30],30,5,!1))}function q(V){const Y=V==="bech32"?1:734539939,Q=_(5),$=Q.decode,re=Q.encode,M=k($);function W(ae,se=90){if(typeof ae!="string")throw new Error("bech32.decode input should be string, not "+typeof ae);if(ae.length<8||se!==!1&&ae.length>se)throw new TypeError(`Wrong string length: ${ae.length} (${ae}). Expected (8..${se})`);const ne=ae.toLowerCase();if(ae!==ne&&ae!==ae.toUpperCase())throw new Error("String must be lowercase or uppercase");const ee=(ae=ne).lastIndexOf("1");if(ee===0||ee===-1)throw new Error('Letter "1" must be present between prefix and data only');const le=ae.slice(0,ee),F=ae.slice(ee+1);if(F.length<6)throw new Error("Data must be at least 6 characters long");const K=j.decode(F).slice(0,-6),Ne=B(le,K,Y);if(!F.endsWith(Ne))throw new Error(`Invalid checksum in ${ae}: expected "${Ne}"`);return{prefix:le,words:K}}return{encode:function(ae,se,ne=90){if(typeof ae!="string")throw new Error("bech32.encode prefix should be string, not "+typeof ae);if(!Array.isArray(se)||se.length&&typeof se[0]!="number")throw new Error("bech32.encode words should be array of numbers, not "+typeof se);const ee=ae.length+7+se.length;if(ne!==!1&&ee>ne)throw new TypeError(`Length ${ee} exceeds limit ${ne}`);return`${ae=ae.toLowerCase()}1${j.encode(se)}${B(ae,se,Y)}`},decode:W,decodeToBytes:function(ae){const{prefix:se,words:ne}=W(ae,!1);return{prefix:se,words:ne,bytes:$(ne)}},decodeUnsafe:k(W),fromWords:$,fromWordsUnsafe:M,toWords:re}}t.bech32=q("bech32"),t.bech32m=q("bech32m"),t.utf8={encode:V=>new TextDecoder().decode(V),decode:V=>new TextEncoder().encode(V)},t.hex=r(_(4),i("0123456789abcdef"),l(""),d(V=>{if(typeof V!="string"||V.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof V} with length ${V.length}`);return V.toLowerCase()}));const G={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},J=`Invalid encoding type. Available types: ${Object.keys(G).join(", ")}`;t.bytesToString=(V,Y)=>{if(typeof V!="string"||!G.hasOwnProperty(V))throw new TypeError(J);if(!(Y instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return G[V].encode(Y)},t.str=t.bytesToString,t.stringToBytes=(V,Y)=>{if(!G.hasOwnProperty(V))throw new TypeError(J);if(typeof Y!="string")throw new TypeError("stringToBytes() expects string");return G[V].decode(Y)},t.bytes=t.stringToBytes},kb(Qg={exports:{}},Qg.exports),Qg.exports);const{bech32:Mi,hex:fi,utf8:IB}=RB,Sb={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},Nb={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Cb={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},jb={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},Pb={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},yh=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],LB={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},OB=BigInt("2100000000000000000"),Tb=BigInt(1e11),dv={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},nN={};for(let e=0,t=Object.keys(dv);e<t.length;e++){const n=t[e],r=dv[t[e]].toString();nN[r]=n}const MB={1:e=>fi.encode(Mi.fromWordsUnsafe(e)),16:e=>fi.encode(Mi.fromWordsUnsafe(e)),13:e=>IB.encode(Mi.fromWordsUnsafe(e)),19:e=>fi.encode(Mi.fromWordsUnsafe(e)),23:e=>fi.encode(Mi.fromWordsUnsafe(e)),27:e=>fi.encode(Mi.fromWordsUnsafe(e)),6:Xh,24:Xh,3:function(e){const t=[];let n,r,i,l,u,d=Mi.fromWordsUnsafe(e);for(;d.length>0;)n=fi.encode(d.slice(0,33)),r=fi.encode(d.slice(33,41)),i=parseInt(fi.encode(d.slice(41,45)),16),l=parseInt(fi.encode(d.slice(45,49)),16),u=parseInt(fi.encode(d.slice(49,51)),16),d=d.slice(51),t.push({pubkey:n,short_channel_id:r,fee_base_msat:i,fee_proportional_millionths:l,cltv_expiry_delta:u});return t},5:function(e){const t=e.slice().reverse().map(i=>[!!(1&i),!!(2&i),!!(4&i),!!(8&i),!!(16&i)]).reduce((i,l)=>i.concat(l),[]);for(;t.length<2*yh.length;)t.push(!1);const n={};yh.forEach((i,l)=>{let u;u=t[2*l]?"required":t[2*l+1]?"supported":"unsupported",n[i]=u});const r=t.slice(2*yh.length);return n.extra_bits={start_bit:2*yh.length,bits:r,has_required:r.reduce((i,l,u)=>u%2!=0?i||!1:i||l,!1)},n}};function zB(e){return t=>({tagCode:parseInt(e),words:Mi.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function Xh(e){return e.reverse().reduce((t,n,r)=>t+n*Math.pow(32,r),0)}const DB=e=>Uint8Array.from(e.match(/.{1,2}/g).map(t=>parseInt(t,16))),BB=e=>{if(!e)return null;try{const t=function(g,E){if(typeof g!="string")throw new Error("Lightning Payment Request must be string");if(g.slice(0,2).toLowerCase()!=="ln")throw new Error("Not a proper lightning payment request");const _=[],k=Mi.decode(g,Number.MAX_SAFE_INTEGER);g=g.toLowerCase();const x=k.prefix;let b=k.words,S=g.slice(x.length+1),j=b.slice(-104);b=b.slice(0,-104);let R=x.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(R&&!R[2]&&(R=x.match(/^ln(\S+)$/)),!R)throw new Error("Not a proper lightning payment request");_.push({name:"lightning_network",letters:"ln"});const D=R[1];let B;switch(D){case Sb.bech32:B=Sb;break;case Nb.bech32:B=Nb;break;case Cb.bech32:B=Cb;break;case jb.bech32:B=jb;break;case Pb.bech32:B=Pb}if(!B||B.bech32!==D)throw new Error("Unknown coin bech32 prefix");_.push({name:"coin_network",letters:D,value:B});const q=R[2];let G;q?(G=function(W,ae){let se,ne;if(W.slice(-1).match(/^[munp]$/))se=W.slice(-1),ne=W.slice(0,-1);else{if(W.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");ne=W}if(!ne.match(/^\d+$/))throw new Error("Not a valid human readable amount");const ee=BigInt(ne),le=se?ee*Tb/LB[se]:ee*Tb;if(se==="p"&&ee%BigInt(10)!==BigInt(0)||le>OB)throw new Error("Amount is outside of valid range");return le.toString()}(q+R[3]),_.push({name:"amount",letters:R[2]+R[3],value:G})):G=null,_.push({name:"separator",letters:"1"});const J=Xh(b.slice(0,7));let V,Y,Q,$;for(b=b.slice(7),_.push({name:"timestamp",letters:S.slice(0,7),value:J}),S=S.slice(7);b.length>0;){const W=b[0].toString();V=nN[W]||"unknown_tag",Y=MB[W]||zB(W),b=b.slice(1),Q=Xh(b.slice(0,2)),b=b.slice(2),$=b.slice(0,Q),b=b.slice(Q),_.push({name:V,tag:S[0],letters:S.slice(0,3+Q),value:Y($)}),S=S.slice(3+Q)}_.push({name:"signature",letters:S.slice(0,104),value:fi.encode(Mi.fromWordsUnsafe(j))}),S=S.slice(104),_.push({name:"checksum",letters:S});let re={paymentRequest:g,sections:_,get expiry(){let W=_.find(ae=>ae.name==="expiry");if(W)return M("timestamp")+W.value},get route_hints(){return _.filter(W=>W.name==="route_hint").map(W=>W.value)}};for(let W in dv)W!=="route_hint"&&Object.defineProperty(re,W,{get:()=>M(W)});return re;function M(W){let ae=_.find(se=>se.name===W);return ae?ae.value:void 0}}(e);if(!t||!t.sections)return null;const n=t.sections.find(g=>g.name==="payment_hash");if((n==null?void 0:n.name)!=="payment_hash"||!n.value)return null;const r=n.value;let i=0;const l=t.sections.find(g=>g.name==="amount");(l==null?void 0:l.name)==="amount"&&l.value&&(i=parseInt(l.value)/1e3);const u=t.sections.find(g=>g.name==="timestamp");if((u==null?void 0:u.name)!=="timestamp"||!u.value)return null;const d=u.value;let h;const m=t.sections.find(g=>g.name==="expiry");(m==null?void 0:m.name)==="expiry"&&(h=m.value);const y=t.sections.find(g=>g.name==="description");return{paymentHash:r,satoshi:i,timestamp:d,expiry:h,description:(y==null?void 0:y.name)==="description"?y==null?void 0:y.value:void 0}}catch{return null}};function Ab(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const rN=e=>e instanceof Uint8Array,Xg=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Li=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const FB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ep(e){if(!rN(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=FB[e[n]];return t}function iN(e){if(typeof e=="string"&&(e=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(e)),!rN(e))throw new Error("expected Uint8Array, got "+typeof e);return e}let $B=class{clone(){return this._cloneInto()}};function UB(e){const t=r=>e().update(iN(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class ZB extends $B{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Xg(this.buffer)}update(t){Ab(this);const{view:n,buffer:r,blockLen:i}=this,l=(t=iN(t)).length;for(let u=0;u<l;){const d=Math.min(i-this.pos,l-u);if(d!==i)r.set(t.subarray(u,u+d),this.pos),this.pos+=d,u+=d,this.pos===i&&(this.process(n,0),this.pos=0);else{const h=Xg(t);for(;i<=l-u;u+=i)this.process(h,u)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ab(this),function(g,E){(function(k,...x){if(!(k instanceof Uint8Array))throw new Error("Expected Uint8Array");if(x.length>0&&!x.includes(k.length))throw new Error(`Expected Uint8Array of length ${x}, not of length=${k.length}`)})(g);const _=E.outputLen;if(g.length<_)throw new Error(`digestInto() expects output buffer of length at least ${_}`)}(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:l}=this;let{pos:u}=this;n[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>i-u&&(this.process(r,0),u=0);for(let g=u;g<i;g++)n[g]=0;(function(g,E,_,k){if(typeof g.setBigUint64=="function")return g.setBigUint64(E,_,k);const x=BigInt(32),b=BigInt(4294967295),S=Number(_>>x&b),j=Number(_&b),R=k?0:4;g.setUint32(E+(k?4:0),S,k),g.setUint32(E+R,j,k)})(r,i-8,BigInt(8*this.length),l),this.process(r,0);const d=Xg(t),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=h/4,y=this.get();if(m>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<m;g++)d.setUint32(4*g,y[g],l)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:l,destroyed:u,pos:d}=this;return t.length=i,t.pos=d,t.finished=l,t.destroyed=u,i%n&&t.buffer.set(r),t}}const HB=(e,t,n)=>e&t^e&n^t&n,WB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),No=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Co=new Uint32Array(64);let VB=class extends ZB{constructor(){super(64,32,8,!1),this.A=0|No[0],this.B=0|No[1],this.C=0|No[2],this.D=0|No[3],this.E=0|No[4],this.F=0|No[5],this.G=0|No[6],this.H=0|No[7]}get(){const{A:t,B:n,C:r,D:i,E:l,F:u,G:d,H:h}=this;return[t,n,r,i,l,u,d,h]}set(t,n,r,i,l,u,d,h){this.A=0|t,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|l,this.F=0|u,this.G=0|d,this.H=0|h}process(t,n){for(let E=0;E<16;E++,n+=4)Co[E]=t.getUint32(n,!1);for(let E=16;E<64;E++){const _=Co[E-15],k=Co[E-2],x=Li(_,7)^Li(_,18)^_>>>3,b=Li(k,17)^Li(k,19)^k>>>10;Co[E]=b+Co[E-7]+x+Co[E-16]|0}let{A:r,B:i,C:l,D:u,E:d,F:h,G:m,H:y}=this;for(let E=0;E<64;E++){const _=y+(Li(d,6)^Li(d,11)^Li(d,25))+((g=d)&h^~g&m)+WB[E]+Co[E]|0,k=(Li(r,2)^Li(r,13)^Li(r,22))+HB(r,i,l)|0;y=m,m=h,h=d,d=u+_|0,u=l,l=i,i=r,r=_+k|0}var g;r=r+this.A|0,i=i+this.B|0,l=l+this.C|0,u=u+this.D|0,d=d+this.E|0,h=h+this.F|0,m=m+this.G|0,y=y+this.H|0,this.set(r,i,l,u,d,h,m,y)}roundClean(){Co.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const tp=UB(()=>new VB);let Rx=class{constructor(t){var n,r,i,l;if(this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.satoshi=void 0,this.expiry=void 0,this.timestamp=void 0,this.createdDate=void 0,this.expiryDate=void 0,this.description=void 0,this.successAction=void 0,this.paymentRequest=t.pr,!this.paymentRequest)throw new Error("Invalid payment request");const u=BB(this.paymentRequest);if(!u)throw new Error("Failed to decode payment request");this.paymentHash=u.paymentHash,this.satoshi=u.satoshi,this.timestamp=u.timestamp,this.expiry=u.expiry,this.createdDate=new Date(1e3*this.timestamp),this.expiryDate=this.expiry?new Date(1e3*(this.timestamp+this.expiry)):void 0,this.description=(n=u.description)!=null?n:null,this.verify=(r=t.verify)!=null?r:null,this.preimage=(i=t.preimage)!=null?i:null,this.successAction=(l=t.successAction)!=null?l:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(t){if(!t||!this.paymentHash)return!1;try{const n=ep(tp(DB(t)));return this.paymentHash===n}catch{return!1}}async verifyPayment(){try{if(!this.verify)throw new Error("LNURL verify not available");const t=await fetch(this.verify);if(!t.ok)throw new Error(`Verification request failed: ${t.status} ${t.statusText}`);const n=await t.json();return n.preimage&&(this.preimage=n.preimage),n.settled}catch(t){return console.error("Failed to check LNURL-verify",t),!1}}hasExpired(){const{expiryDate:t}=this;return!!t&&t.getTime()<Date.now()}};const qB=e=>{if(e.tag!=="keysend")throw new Error("Invalid keysend params");if(e.status!=="OK")throw new Error("Keysend status not OK");if(!e.pubkey)throw new Error("Pubkey does not exist");let t,n;return e.customData&&e.customData[0]&&(t=e.customData[0].customKey,n=e.customData[0].customValue),{destination:e.pubkey,customKey:t,customValue:n}};async function KB({satoshi:e,comment:t,p:n,e:r,relays:i},l={}){const u=l.nostr||globalThis.nostr;if(!u)throw new Error("nostr option or window.nostr is not available");const d=[["relays",...i],["amount",e.toString()]];n&&d.push(["p",n]),r&&d.push(["e",r]);const h={pubkey:await u.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:d,content:t??""};return h.id=JB(h),await u.signEvent(h)}function GB(e){if(typeof e.content!="string"||typeof e.created_at!="number"||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function YB(e){if(!GB(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function JB(e){return ep(tp(YB(e)))}function QB(e,t){let n,r;var i,l;return t&&e&&(n=(i=e.names)==null?void 0:i[t],r=n?(l=e.relays)==null?void 0:l[n]:void 0),[e,n,r]}const XB=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/,sN=e=>!!e&&XB.test(e),Rb=({amount:e,min:t,max:n})=>e>0&&e>=t&&e<=n,eF=async e=>{if(e.tag!=="payRequest")throw new Error("Invalid pay service params");const t=(e.callback+"").trim();if(!sN(t))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(e.minSendable||0)),r=Math.floor(Number(e.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let i,l;try{i=JSON.parse(e.metadata+""),l=ep(tp(e.metadata+""))}catch{i=[],l=ep(tp("[]"))}let u="",d="",h="",m="";for(let E=0;E<i.length;E++){const[_,k]=i[E];switch(_){case"text/plain":h=k;break;case"text/identifier":m=k;break;case"text/email":u=k;break;case"image/png;base64":case"image/jpeg;base64":d="data:"+_+","+k}}const y=e.payerData;let g;try{g=new URL(t).hostname}catch{}return{callback:t,fixed:n===r,min:n,max:r,domain:g,metadata:i,metadataHash:l,identifier:m,email:u,description:h,image:d,payerData:y,commentAllowed:Number(e.commentAllowed)||0,rawData:e,allowsNostr:e.allowsNostr||!1}};function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fv.apply(this,arguments)}const tF=async(e,t)=>{const{boost:n}=e;t||(t={});const r=t.webln||globalThis.webln;if(!r)throw new Error("WebLN not available");if(!r.keysend)throw new Error("Keysend not available in current WebLN provider");const i=e.amount||Math.floor(n.value_msat/1e3),l={destination:e.destination,amount:i,customRecords:{7629169:JSON.stringify(n)}};return e.customKey&&e.customValue&&(l.customRecords[e.customKey]=e.customValue),await r.enable(),await r.keysend(l)},nF=/^((?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;class rF{constructor(t,n){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=t,this.options={proxy:"https://api.getalby.com/lnurl"},this.options=Object.assign(this.options,n),this.parse(),this.webln=this.options.webln}parse(){const t=nF.exec(this.address.toLowerCase());t&&(this.username=t[1],this.domain=t[2])}getWebLN(){return this.webln||globalThis.webln}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const t=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`);if(!t.ok)throw new Error(`Failed to fetch lnurl info: ${t.status} ${t.statusText}`);const n=await t.json();await this.parseLnUrlPayResponse(n.lnurlp),this.parseKeysendResponse(n.keysend),this.parseNostrResponse(n.nostr)}async fetchWithoutProxy(){this.domain&&this.username&&await Promise.all([this.fetchLnurlData(),this.fetchKeysendData(),this.fetchNostrData()])}async fetchLnurlData(){const t=await fetch(this.lnurlpUrl());if(t.ok){const n=await t.json();await this.parseLnUrlPayResponse(n)}}async fetchKeysendData(){const t=await fetch(this.keysendUrl());if(t.ok){const n=await t.json();this.parseKeysendResponse(n)}}async fetchNostrData(){const t=await fetch(this.nostrUrl());if(t.ok){const n=await t.json();this.parseNostrResponse(n)}}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(t){let n;if(this.options.proxy){const l=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(fv({ln:this.address},t)).toString()}`);if(!l.ok)throw new Error(`Failed to generate invoice: ${l.status} ${l.statusText}`);n=(await l.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!sN(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const l=new URL(this.lnurlpData.callback);l.search=new URLSearchParams(t).toString();const u=await fetch(l.toString());if(!u.ok)throw new Error(`Failed to generate invoice: ${u.status} ${u.statusText}`);n=await u.json()}const r=n&&n.pr&&n.pr.toString();if(!r)throw new Error("Invalid pay service invoice");const i={pr:r};if(n&&n.verify&&(i.verify=n.verify.toString()),n&&n.successAction&&typeof n.successAction=="object"){const{tag:l,message:u,description:d,url:h}=n.successAction;l==="message"?i.successAction={tag:l,message:u}:l==="url"&&(i.successAction={tag:l,description:d,url:h})}return new Rx(i)}async requestInvoice(t){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const n=1e3*t.satoshi,{commentAllowed:r,min:i,max:l}=this.lnurlpData;if(!Rb({amount:n,min:i,max:l}))throw new Error("Invalid amount");if(t.comment&&r&&r>0&&t.comment.length>r)throw new Error(`The comment length must be ${r} characters or fewer`);const u={amount:n.toString()};return t.comment&&(u.comment=t.comment),t.payerdata&&(u.payerdata=JSON.stringify(t.payerdata)),this.generateInvoice(u)}async boost(t,n=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:r,customKey:i,customValue:l}=this.keysendData,u=this.getWebLN();if(!u)throw new Error("WebLN not available");return tF({destination:r,customKey:i,customValue:l,amount:n,boost:t},{webln:u})}async zapInvoice({satoshi:t,comment:n,relays:r,e:i},l={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const u=this.nostrPubkey,d=1e3*t,{allowsNostr:h,min:m,max:y}=this.lnurlpData;if(!Rb({amount:d,min:m,max:y}))throw new Error("Invalid amount");if(!h)throw new Error("Your provider does not support zaps");const g=await KB({satoshi:d,comment:n,p:u,e:i,relays:r},l),E={amount:d.toString(),nostr:JSON.stringify(g)};return await this.generateInvoice(E)}async zap(t,n={}){const r=this.zapInvoice(t,n),i=this.getWebLN();if(!i)throw new Error("WebLN not available");return await i.enable(),i.sendPayment((await r).paymentRequest)}async parseLnUrlPayResponse(t){t&&(this.lnurlpData=await eF(t))}parseKeysendResponse(t){t&&(this.keysendData=qB(t))}parseNostrResponse(t){t&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=QB(t,this.username))}}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo.apply(this,arguments)}if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");const iF=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function sF(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=iF[e[n]];return t}function Ku(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const i=2*r,l=e.slice(i,i+2),u=Number.parseInt(l,16);if(Number.isNaN(u)||u<0)throw new Error("Invalid byte sequence");n[r]=u}return n}class ra extends Error{constructor(t,n){super(t),this.code=void 0,this.code=n}}class oF extends ra{}class aF extends ra{}class oN extends ra{}let Ib=class extends oN{};class Lb extends oN{}class Ob extends ra{}class Mb extends ra{}class ey extends ra{}class lF extends ra{}class cF extends ra{}class fc{static parseWalletConnectUrl(t){t=t.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://").replace("nostrwalletconnect:","http://").replace("nostr+walletconnect:","http://");const n=new URL(t),r=n.searchParams.get("relay");if(!r)throw new Error("No relay URL found in connection string");const i={walletPubkey:n.host,relayUrl:r},l=n.searchParams.get("secret");l&&(i.secret=l);const u=n.searchParams.get("lud16");return u&&(i.lud16=u),i}constructor(t){this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.lud16=void 0,this.walletPubkey=void 0,this.options=void 0,this._encryptionType=void 0,t&&t.nostrWalletConnectUrl&&(t=Vo({},fc.parseWalletConnectUrl(t.nostrWalletConnectUrl),t)),this.options=Vo({},t||{}),this.relayUrl=this.options.relayUrl,this.relay=new dE(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?tr.decode(this.options.secret).data:this.options.secret),this.lud16=this.options.lud16,this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?tr.decode(this.options.walletPubkey).data:this.options.walletPubkey,globalThis.WebSocket===void 0&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}getNostrWalletConnectUrl(t=!0){let n=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return t&&(n=`${n}&secret=${this.secret}`),n}get connected(){return this.relay.connected}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return Go(Ku(this.secret))}get encryptionType(){if(!this._encryptionType)throw new Error("Missing encryption or version");return this._encryptionType}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(t){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(Xr(t,Ku(this.secret)))}getEventHash(t){return td(t)}close(){return this.relay.close()}async encrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await ld.encrypt(this.secret,t,n);else{const i=Uo.getConversationKey(Ku(this.secret),t);r=Uo.encrypt(n,i)}return r}async decrypt(t,n){if(!this.secret)throw new Error("Missing secret");let r;if(this.encryptionType==="nip04")r=await ld.decrypt(this.secret,t,n);else{const i=Uo.getConversationKey(Ku(this.secret),t);r=Uo.decrypt(n,i)}return r}static getAuthorizationUrl(t,n={},r){if(t.indexOf("/#/")>-1)throw new Error("hash router paths not supported");const i=new URL(t);return n.name&&i.searchParams.set("name",n.name),i.searchParams.set("pubkey",r),n.returnTo&&i.searchParams.set("return_to",n.returnTo),n.budgetRenewal&&i.searchParams.set("budget_renewal",n.budgetRenewal),n.expiresAt&&i.searchParams.set("expires_at",Math.floor(n.expiresAt.getTime()/1e3).toString()),n.maxAmount&&i.searchParams.set("max_amount",n.maxAmount.toString()),n.requestMethods&&i.searchParams.set("request_methods",n.requestMethods.join(" ")),n.notificationTypes&&i.searchParams.set("notification_types",n.notificationTypes.join(" ")),n.isolated&&i.searchParams.set("isolated","true"),n.metadata&&i.searchParams.set("metadata",JSON.stringify(n.metadata)),i}static fromAuthorizationUrl(t,n={},r){r=r||sF(vp()),n.name||(n.name=document.location.host);const i=this.getAuthorizationUrl(t,n,Go(Ku(r))),l=window.outerHeight/2+window.screenY-300,u=window.outerWidth/2+window.screenX-200;return new Promise((d,h)=>{const m=window.open(i.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${l},left=${u}`);if(!m)return void h(new Error("failed to execute window.open"));const y=E=>{const _=E.data;_&&_.type==="nwc:success"&&E.origin===`${i.protocol}//${i.host}`&&(_.relayUrl||h(new Error("no relayUrl in response")),_.walletPubkey||h(new Error("no walletPubkey in response")),d(new fc({relayUrl:_.relayUrl,walletPubkey:_.walletPubkey,secret:r,lud16:_.lud16})),clearInterval(g),window.removeEventListener("message",y),m&&m.close())},g=setInterval(()=>{m&&m.closed&&(clearInterval(g),window.removeEventListener("message",y),h(new Error("Popup closed")))},500);window.addEventListener("message",y)})}async getWalletServiceInfo(){var t;await this._checkConnected();const n=await new Promise((h,m)=>{const y=[],g=this.relay.subscribe([{kinds:[13194],limit:1,authors:[this.walletPubkey]}],{eoseTimeout:1e4});g.onevent=E=>{y.push(E)},g.oneose=()=>{g.close(),h(y)}});if(!n.length)throw new Error("no info event (kind 13194) returned from relay");const r=n[0].content,i=n[0].tags.find(h=>h[0]==="notifications"),l=n[0].tags.find(h=>h[0]==="v"),u=n[0].tags.find(h=>h[0]==="encryption");let d=["nip04"];return l&&l[1].includes("1.0")&&d.push("nip44_v2"),u&&(d=u[1].split(" ")),{encryptions:d,capabilities:r.split(/[ |,]/g),notifications:(i==null||(t=i[1])==null?void 0:t.split(" "))||[]}}async getInfo(){try{return await this.executeNip47Request("get_info",{},t=>!!t.methods,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_info",t),t}}async getBudget(){try{return await this.executeNip47Request("get_budget",{},t=>t!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_budget",t),t}}async getBalance(){try{return await this.executeNip47Request("get_balance",{},t=>t.balance!==void 0,{replyTimeout:1e4})}catch(t){throw console.error("Failed to request get_balance",t),t}}async payInvoice(t){try{return await this.executeNip47Request("pay_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request pay_invoice",n),n}}async payKeysend(t){try{return await this.executeNip47Request("pay_keysend",t,n=>!!n.preimage)}catch(n){throw console.error("Failed to request pay_keysend",n),n}}async signMessage(t){try{return await this.executeNip47Request("sign_message",t,n=>n.message===t.message&&!!n.signature)}catch(n){throw console.error("Failed to request sign_message",n),n}}async createConnection(t){try{return await this.executeNip47Request("create_connection",t,n=>!!n.wallet_pubkey)}catch(n){throw console.error("Failed to request create_connection",n),n}}async multiPayInvoice(t){try{return{invoices:await this.executeMultiNip47Request("multi_pay_invoice",t,t.invoices.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_invoice",n),n}}async multiPayKeysend(t){try{return{keysends:await this.executeMultiNip47Request("multi_pay_keysend",t,t.keysends.length,n=>!!n.preimage),errors:[]}}catch(n){throw console.error("Failed to request multi_pay_keysend",n),n}}async makeInvoice(t){try{if(!t.amount)throw new Error("No amount specified");return await this.executeNip47Request("make_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_invoice",n),n}}async makeHoldInvoice(t){try{if(!t.amount)throw new Error("No amount specified");if(!t.payment_hash)throw new Error("No payment hash specified");return await this.executeNip47Request("make_hold_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request make_hold_invoice",n),n}}async settleHoldInvoice(t){try{return await this.executeNip47Request("settle_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request settle_hold_invoice",n),n}}async cancelHoldInvoice(t){try{return await this.executeNip47Request("cancel_hold_invoice",t,n=>!!n)}catch(n){throw console.error("Failed to request cancel_hold_invoice",n),n}}async lookupInvoice(t){try{return await this.executeNip47Request("lookup_invoice",t,n=>!!n.invoice)}catch(n){throw console.error("Failed to request lookup_invoice",n),n}}async listTransactions(t){try{return await this.executeNip47Request("list_transactions",t,n=>!!n.transactions,{replyTimeout:1e4})}catch(n){throw console.error("Failed to request list_transactions",n),n}}async subscribeNotifications(t,n){var r=this;let i,l,u,d=!0;return async function(){for(;d;){try{await r._checkConnected(),await r._selectEncryptionType(),u=r.relay.subscribe([{kinds:[...r.encryptionType==="nip04"?[23196]:[23197]],authors:[r.walletPubkey],"#p":[r.publicKey]}],{}),console.info("subscribed to relay"),u.onevent=async function(h){const m=await r.decrypt(r.walletPubkey,h.content);let y;try{y=JSON.parse(m)}catch(g){return void console.error("Failed to parse decrypted event content",g)}y.notification?(!n||n.indexOf(y.notification_type)>-1)&&t(y):console.error("No notification in response",y)},await new Promise(h=>{i=()=>{h()},l=()=>{console.info("relay disconnected"),i==null||i()},r.relay.onclose=l}),l!==void 0&&(r.relay.onclose=null)}catch(h){console.error("error subscribing to notifications",h||"unknown relay error")}d&&await new Promise(h=>setTimeout(h,1e3))}}(),()=>{var h;d=!1,i==null||i(),(h=u)==null||h.close()}}async executeNip47Request(t,n,r,i){var l=this;return await this._checkConnected(),await this._selectEncryptionType(),new Promise((u,d)=>{(async function(){const h={method:t,params:n},m=await l.encrypt(l.walletPubkey,JSON.stringify(h)),y={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",l.walletPubkey],["v",l.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",l.encryptionType]],content:m},g=await l.signEvent(y),E=l.relay.subscribe([{kinds:[23195],authors:[l.walletPubkey],"#e":[g.id]}],{}),_=setTimeout(function(){E.close(),d(new Lb(`reply timeout: event ${g.id}`,"INTERNAL"))},(i==null?void 0:i.replyTimeout)||6e4);E.onevent=async function(x){clearTimeout(_),E.close();const b=await l.decrypt(l.walletPubkey,x.content);let S;try{S=JSON.parse(b)}catch{return clearTimeout(_),E.close(),void d(new Mb("failed to deserialize response","INTERNAL"))}var j,R;S.result?r(S.result)?u(S.result):(clearTimeout(_),E.close(),d(new ey("response from NWC failed validation: "+JSON.stringify(S.result),"INTERNAL"))):(clearTimeout(_),E.close(),d(new aF(((j=S.error)==null?void 0:j.message)||"unknown Error",((R=S.error)==null?void 0:R.code)||"INTERNAL")))};const k=setTimeout(function(){E.close(),d(new Ib(`publish timeout: ${g.id}`,"INTERNAL"))},(i==null?void 0:i.publishTimeout)||5e3);try{await l.relay.publish(g),clearTimeout(k)}catch(x){clearTimeout(k),d(new Ob(`failed to publish: ${x}`,"INTERNAL"))}})()})}async executeMultiNip47Request(t,n,r,i,l){var u=this;await this._checkConnected(),await this._selectEncryptionType();const d=[];return new Promise((h,m)=>{(async function(){const y={method:t,params:n},g=await u.encrypt(u.walletPubkey,JSON.stringify(y)),E={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",u.walletPubkey],["v",u.encryptionType==="nip44_v2"?"1.0":"0.0"],["encryption",u.encryptionType]],content:g},_=await u.signEvent(E),k=u.relay.subscribe([{kinds:[23195],authors:[u.walletPubkey],"#e":[_.id]}],{}),x=setTimeout(function(){k.close(),m(new Lb(`reply timeout: event ${_.id}`,"INTERNAL"))},(l==null?void 0:l.replyTimeout)||6e4);k.onevent=async function(S){const j=await u.decrypt(u.walletPubkey,S.content);let R;try{R=JSON.parse(j)}catch{clearTimeout(x),k.close(),m(new Mb("failed to deserialize response","INTERNAL"))}if(R.result){var D;if(!i(R.result))return clearTimeout(x),k.close(),void m(new ey("Response from NWC failed validation: "+JSON.stringify(R.result),"INTERNAL"));const G=(D=S.tags.find(J=>J[0]==="d"))==null?void 0:D[1];if(G===void 0)return clearTimeout(x),k.close(),void m(new ey("No d tag found in response event","INTERNAL"));d.push(Vo({},R.result,{dTag:G})),d.length===r&&(clearTimeout(x),k.close(),h(d))}else{var B,q;clearTimeout(x),k.close(),m(new lF((B=R.error)==null?void 0:B.message,(q=R.error)==null?void 0:q.code))}};const b=setTimeout(function(){k.close(),m(new Ib(`Publish timeout: ${_.id}`,"INTERNAL"))},(l==null?void 0:l.publishTimeout)||5e3);try{await u.relay.publish(_),clearTimeout(b)}catch(S){clearTimeout(b),m(new Ob(`Failed to publish: ${S}`,"INTERNAL"))}})()})}async _checkConnected(){if(!this.secret)throw new Error("Missing secret key");if(!this.relayUrl)throw new Error("Missing relay url");try{this.relay.connected||await this.relay.connect()}catch{throw console.error("failed to connect to relay",this.relayUrl),new oF("Failed to connect to "+this.relayUrl,"OTHER")}}async _selectEncryptionType(){if(!this._encryptionType){const t=await this.getWalletServiceInfo(),n=this._findPreferredEncryptionType(t.encryptions);if(!n)throw new cF("no compatible encryption or version found between wallet and client","UNSUPPORTED_ENCRYPTION");n==="nip04"&&console.warn("NIP-04 encryption is about to be deprecated. Please upgrade your wallet service to use NIP-44 instead."),this._encryptionType=n}}_findPreferredEncryptionType(t){return t.includes("nip44_v2")?"nip44_v2":t.includes("nip04")?"nip04":null}}class uF{constructor(t,n){this.transaction=void 0,this.invoice=void 0,this._nwcClient=void 0,this._unsubscribeFunc=void 0,this._timeoutFunc=void 0,this._timeoutId=void 0,this.transaction=n,this.invoice=new Rx({pr:n.invoice}),this._nwcClient=t}onPaid(t){var n=this;return async function(){let r;try{var i;r=(i=(await n._nwcClient.getInfo()).notifications)==null?void 0:i.includes("payment_received")}catch{console.error("failed to fetch info, falling back to polling")}const l=d=>{n._unsubscribeFunc==null||n._unsubscribeFunc(),t(d)},u=d=>()=>{n._timeoutFunc=void 0,clearTimeout(n._timeoutId),d()};if(r){const d=h=>{h.notification.payment_hash===n.transaction.payment_hash&&l(h.notification)};n._unsubscribeFunc=u(await n._nwcClient.subscribeNotifications(d,["payment_received"]))}else console.warn("current connection does not support notifications, falling back to polling"),n._unsubscribeFunc=u(n._onPaidPollingFallback(l))}(),this}onTimeout(t,n){return this._timeoutFunc=()=>{var r;(r=this._unsubscribeFunc)==null||r.call(this),n()},this._timeoutId=setTimeout(()=>{var r;(r=this._timeoutFunc)==null||r.call(this)},1e3*t),this}unsubscribe(){var t;(t=this._unsubscribeFunc)==null||t.call(this)}_onPaidPollingFallback(t){var n=this;let r=!0;return async function(){for(;r;){const i=await n._nwcClient.lookupInvoice({payment_hash:n.transaction.payment_hash});if(i.settled_at&&i.preimage){t(i),r=!1;break}await new Promise(l=>setTimeout(l,3e3))}}(),()=>{r=!1}}}async function zb(e){if(typeof e=="number")return{satoshi:e,millisat:1e3*e};const t=await Promise.resolve(e.satoshi);return{satoshi:t,millisat:1e3*t}}class Db{constructor(t){this.nwcClient=void 0,this.nwcClient=typeof t=="string"?new fc({nostrWalletConnectUrl:t}):t instanceof fc?t:new fc(t)}async pay(t,n,r){let i=t;const l=n?await zb(n):void 0;if(i.indexOf("@")>-1){var u,d;if(!l)throw new Error("Amount must be provided when paying to a lightning address");const m=new rF(t);await m.fetch(),i=(await m.requestInvoice({satoshi:l.satoshi,comment:r==null||(u=r.metadata)==null?void 0:u.comment,payerdata:r==null||(d=r.metadata)==null?void 0:d.payer_data})).paymentRequest}const h=await this.nwcClient.payInvoice(Vo({},r||{},{invoice:i,amount:l==null?void 0:l.millisat}));return Vo({},h,{invoice:new Rx({pr:i})})}async requestPayment(t,n){const r=await zb(t),i=await this.nwcClient.makeInvoice(Vo({},n||{},{amount:r.millisat}));return new uF(this.nwcClient,i)}close(){this.nwcClient.close()}}function dF(){const{toast:e}=sl(),[t,n]=uv("nwc-connections",[]),[r,i]=uv("nwc-active-connection",null),[l,u]=T.useState({}),d=async(g,E)=>{const k=(b=>{try{return!b.startsWith("nostr+walletconnect://")&&!b.startsWith("nostrwalletconnect://")?(console.error("Invalid NWC URI protocol:",{protocol:b.split("://")[0]}),null):{connectionString:b}}catch(S){return console.error("Failed to parse NWC URI:",S),null}})(g);if(!k)return e({title:"Invalid NWC URI",description:"Please check the connection string and try again.",variant:"destructive"}),!1;if(t.find(b=>b.connectionString===k.connectionString))return e({title:"Connection already exists",description:"This wallet is already connected.",variant:"destructive"}),!1;try{let b;const S=new Promise((B,q)=>{try{const G=new Db(k.connectionString);B(G)}catch(G){q(G)}}),j=new Promise((B,q)=>{b=setTimeout(()=>q(new Error("Connection test timeout")),1e4)});try{await Promise.race([S,j]),b&&clearTimeout(b)}catch(B){throw b&&clearTimeout(b),B}const R={connectionString:k.connectionString,alias:E||"NWC Wallet",isConnected:!0};u(B=>({...B,[k.connectionString]:{alias:R.alias,methods:["pay_invoice"]}}));const D=[...t,R];return n(D),(t.length===0||!r)&&i(k.connectionString),e({title:"Wallet connected",description:`Successfully connected to ${R.alias}.`}),!0}catch(b){console.error("NWC connection failed:",b);const S=b instanceof Error?b.message:"Unknown error occurred";return e({title:"Connection failed",description:`Could not connect to the wallet: ${S}`,variant:"destructive"}),!1}},h=g=>{const E=t.filter(_=>_.connectionString!==g);if(n(E),r===g){const _=E.length>0?E[0].connectionString:null;i(_)}u(_=>{const k={..._};return delete k[g],k}),e({title:"Wallet disconnected",description:"The wallet connection has been removed."})},m=T.useCallback(()=>!r&&t.length>0?(i(t[0].connectionString),t[0]):r&&t.find(E=>E.connectionString===r)||null,[r,t,i]),y=T.useCallback(async(g,E)=>{if(!g.connectionString)throw new Error("Invalid connection: missing connection string");let _;try{_=new Db(g.connectionString)}catch(k){throw console.error("Failed to create NWC client:",k),new Error(`Failed to create NWC client: ${k instanceof Error?k.message:"Unknown error"}`)}try{let k;const x=new Promise((S,j)=>{k=setTimeout(()=>j(new Error("Payment timeout after 15 seconds")),15e3)}),b=_.pay(E);try{const S=await Promise.race([b,x]);return k&&clearTimeout(k),S}catch(S){throw k&&clearTimeout(k),S}}catch(k){throw console.error("NWC payment failed:",k),k instanceof Error?k.message.includes("timeout")?new Error("Payment timed out. Please try again."):k.message.includes("insufficient")?new Error("Insufficient balance in connected wallet."):k.message.includes("invalid")?new Error("Invalid invoice or connection. Please check your wallet."):new Error(`Payment failed: ${k.message}`):new Error("Payment failed with unknown error")}},[]);return{connections:t,activeConnection:r,connectionInfo:l,addConnection:d,removeConnection:h,setActiveConnection:i,getActiveConnection:m,sendPayment:y}}const fF=T.createContext(null);function hF({children:e}){const t=dF();return c.jsx(fF.Provider,{value:t,children:e})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hd.apply(this,arguments)}var Zo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zo||(Zo={}));const Bb="popstate";function pF(e){e===void 0&&(e={});function t(r,i){let{pathname:l,search:u,hash:d}=r.location;return hv("",{pathname:l,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:np(i)}return gF(t,n,null,e)}function wn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ix(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mF(){return Math.random().toString(36).substr(2,8)}function Fb(e,t){return{usr:e.state,key:e.key,idx:t}}function hv(e,t,n,r){return n===void 0&&(n=null),hd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qc(t):t,{state:n,key:t&&t.key||r||mF()})}function np(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function qc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function gF(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:l=!1}=r,u=i.history,d=Zo.Pop,h=null,m=y();m==null&&(m=0,u.replaceState(hd({},u.state,{idx:m}),""));function y(){return(u.state||{idx:null}).idx}function g(){d=Zo.Pop;let b=y(),S=b==null?null:b-m;m=b,h&&h({action:d,location:x.location,delta:S})}function E(b,S){d=Zo.Push;let j=hv(x.location,b,S);m=y()+1;let R=Fb(j,m),D=x.createHref(j);try{u.pushState(R,"",D)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(D)}l&&h&&h({action:d,location:x.location,delta:1})}function _(b,S){d=Zo.Replace;let j=hv(x.location,b,S);m=y();let R=Fb(j,m),D=x.createHref(j);u.replaceState(R,"",D),l&&h&&h({action:d,location:x.location,delta:0})}function k(b){let S=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof b=="string"?b:np(b);return j=j.replace(/ $/,"%20"),wn(S,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,S)}let x={get action(){return d},get location(){return e(i,u)},listen(b){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Bb,g),h=b,()=>{i.removeEventListener(Bb,g),h=null}},createHref(b){return t(i,b)},createURL:k,encodeLocation(b){let S=k(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:E,replace:_,go(b){return u.go(b)}};return x}var $b;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($b||($b={}));function yF(e,t,n){return n===void 0&&(n="/"),vF(e,t,n)}function vF(e,t,n,r){let i=typeof t=="string"?qc(t):t,l=Lx(i.pathname||"/",n);if(l==null)return null;let u=aN(e);xF(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=AF(l);d=jF(u[h],m)}return d}function aN(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(l,u,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};h.relativePath.startsWith("/")&&(wn(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let m=qo([r,h.relativePath]),y=n.concat(h);l.children&&l.children.length>0&&(wn(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),aN(l.children,t,y,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:NF(m,l.index),routesMeta:y})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))i(l,u);else for(let h of lN(l.path))i(l,u,h)}),t}function lN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let u=lN(r.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),i&&d.push(...u),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function xF(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:CF(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wF=/^:[\w-]+$/,_F=3,bF=2,EF=1,kF=10,SF=-2,Ub=e=>e==="*";function NF(e,t){let n=e.split("/"),r=n.length;return n.some(Ub)&&(r+=SF),t&&(r+=bF),n.filter(i=>!Ub(i)).reduce((i,l)=>i+(wF.test(l)?_F:l===""?EF:kF),r)}function CF(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function jF(e,t,n){let{routesMeta:r}=e,i={},l="/",u=[];for(let d=0;d<r.length;++d){let h=r[d],m=d===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",g=PF({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),E=h.route;if(!g)return null;Object.assign(i,g.params),u.push({params:i,pathname:qo([l,g.pathname]),pathnameBase:MF(qo([l,g.pathnameBase])),route:E}),g.pathnameBase!=="/"&&(l=qo([l,g.pathnameBase]))}return u}function PF(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=TF(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,y,g)=>{let{paramName:E,isOptional:_}=y;if(E==="*"){let x=d[g]||"";u=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const k=d[g];return _&&!k?m[E]=void 0:m[E]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:e}}function TF(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ix(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function AF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ix(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const RF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IF=e=>RF.test(e);function LF(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?qc(e):e,l;if(n)if(IF(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ix(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?l=Zb(n.substring(1),"/"):l=Zb(n,t)}else l=t;return{pathname:l,search:zF(r),hash:DF(i)}}function Zb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ty(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OF(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cN(e,t){let n=OF(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uN(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=qc(e):(i=hd({},e),wn(!i.pathname||!i.pathname.includes("?"),ty("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),ty("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),ty("#","search","hash",i)));let l=e===""||i.pathname==="",u=l?"/":i.pathname,d;if(u==null)d=n;else{let g=t.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),g-=1;i.pathname=E.join("/")}d=g>=0?t[g]:"/"}let h=LF(i,d),m=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}const qo=e=>e.join("/").replace(/\/\/+/g,"/"),MF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,DF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function BF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dN=["post","put","patch","delete"];new Set(dN);const FF=["get",...dN];new Set(FF);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pd.apply(this,arguments)}const Ox=T.createContext(null),$F=T.createContext(null),al=T.createContext(null),Zp=T.createContext(null),ia=T.createContext({outlet:null,matches:[],isDataRoute:!1}),fN=T.createContext(null);function UF(e,t){let{relative:n}=t===void 0?{}:t;Ld()||wn(!1);let{basename:r,navigator:i}=T.useContext(al),{hash:l,pathname:u,search:d}=mN(e,{relative:n}),h=u;return r!=="/"&&(h=u==="/"?r:qo([r,u])),i.createHref({pathname:h,search:d,hash:l})}function Ld(){return T.useContext(Zp)!=null}function ll(){return Ld()||wn(!1),T.useContext(Zp).location}function hN(e){T.useContext(al).static||T.useLayoutEffect(e)}function pN(){let{isDataRoute:e}=T.useContext(ia);return e?t$():ZF()}function ZF(){Ld()||wn(!1);let e=T.useContext(Ox),{basename:t,future:n,navigator:r}=T.useContext(al),{matches:i}=T.useContext(ia),{pathname:l}=ll(),u=JSON.stringify(cN(i,n.v7_relativeSplatPath)),d=T.useRef(!1);return hN(()=>{d.current=!0}),T.useCallback(function(m,y){if(y===void 0&&(y={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let g=uN(m,JSON.parse(u),l,y.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:qo([t,g.pathname])),(y.replace?r.replace:r.push)(g,y.state,y)},[t,r,u,l,e])}function Mx(){let{matches:e}=T.useContext(ia),t=e[e.length-1];return t?t.params:{}}function mN(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=T.useContext(al),{matches:i}=T.useContext(ia),{pathname:l}=ll(),u=JSON.stringify(cN(i,r.v7_relativeSplatPath));return T.useMemo(()=>uN(e,JSON.parse(u),l,n==="path"),[e,u,l,n])}function HF(e,t){return WF(e,t)}function WF(e,t,n,r){Ld()||wn(!1);let{navigator:i}=T.useContext(al),{matches:l}=T.useContext(ia),u=l[l.length-1],d=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=ll(),y;if(t){var g;let b=typeof t=="string"?qc(t):t;h==="/"||(g=b.pathname)!=null&&g.startsWith(h)||wn(!1),y=b}else y=m;let E=y.pathname||"/",_=E;if(h!=="/"){let b=h.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(b.length).join("/")}let k=yF(e,{pathname:_}),x=YF(k&&k.map(b=>Object.assign({},b,{params:Object.assign({},d,b.params),pathname:qo([h,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?h:qo([h,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,n,r);return t&&x?T.createElement(Zp.Provider,{value:{location:pd({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Zo.Pop}},x):x}function VF(){let e=e$(),t=BF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,null)}const qF=T.createElement(VF,null);class KF extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?T.createElement(ia.Provider,{value:this.props.routeContext},T.createElement(fN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GF(e){let{routeContext:t,match:n,children:r}=e,i=T.useContext(Ox);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(ia.Provider,{value:t},r)}function YF(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,d=(i=n)==null?void 0:i.errors;if(d!=null){let y=u.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id])!==void 0);y>=0||wn(!1),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<u.length;y++){let g=u[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:E,errors:_}=n,k=g.route.loader&&E[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||k){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((y,g,E)=>{let _,k=!1,x=null,b=null;n&&(_=d&&g.route.id?d[g.route.id]:void 0,x=g.route.errorElement||qF,h&&(m<0&&E===0?(n$("route-fallback"),k=!0,b=null):m===E&&(k=!0,b=g.route.hydrateFallbackElement||null)));let S=t.concat(u.slice(0,E+1)),j=()=>{let R;return _?R=x:k?R=b:g.route.Component?R=T.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=y,T.createElement(GF,{match:g,routeContext:{outlet:y,matches:S,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?T.createElement(KF,{location:n.location,revalidation:n.revalidation,component:x,error:_,children:j(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):j()},null)}var gN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gN||{}),yN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yN||{});function JF(e){let t=T.useContext(Ox);return t||wn(!1),t}function QF(e){let t=T.useContext($F);return t||wn(!1),t}function XF(e){let t=T.useContext(ia);return t||wn(!1),t}function vN(e){let t=XF(),n=t.matches[t.matches.length-1];return n.route.id||wn(!1),n.route.id}function e$(){var e;let t=T.useContext(fN),n=QF(),r=vN();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function t$(){let{router:e}=JF(gN.UseNavigateStable),t=vN(yN.UseNavigateStable),n=T.useRef(!1);return hN(()=>{n.current=!0}),T.useCallback(function(i,l){l===void 0&&(l={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,pd({fromRouteId:t},l)))},[e,t])}const Hb={};function n$(e,t,n){Hb[e]||(Hb[e]=!0)}function r$(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fr(e){wn(!1)}function i$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Zo.Pop,navigator:l,static:u=!1,future:d}=e;Ld()&&wn(!1);let h=t.replace(/^\/*/,"/"),m=T.useMemo(()=>({basename:h,navigator:l,static:u,future:pd({v7_relativeSplatPath:!1},d)}),[h,d,l,u]);typeof r=="string"&&(r=qc(r));let{pathname:y="/",search:g="",hash:E="",state:_=null,key:k="default"}=r,x=T.useMemo(()=>{let b=Lx(y,h);return b==null?null:{location:{pathname:b,search:g,hash:E,state:_,key:k},navigationType:i}},[h,y,g,E,_,k,i]);return x==null?null:T.createElement(al.Provider,{value:m},T.createElement(Zp.Provider,{children:n,value:x}))}function s$(e){let{children:t,location:n}=e;return HF(pv(t),n)}new Promise(()=>{});function pv(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(r,i)=>{if(!T.isValidElement(r))return;let l=[...t,i];if(r.type===T.Fragment){n.push.apply(n,pv(r.props.children,l));return}r.type!==fr&&wn(!1),!r.props.index||!r.props.children||wn(!1);let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=pv(r.props.children,l)),n.push(u)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mv.apply(this,arguments)}function o$(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,l;for(l=0;l<r.length;l++)i=r[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function a$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l$(e,t){return e.button===0&&(!t||t==="_self")&&!a$(e)}const c$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u$="6";try{window.__reactRouterVersion=u$}catch{}const d$="startTransition",Wb=kv[d$];function f$(e){let{basename:t,children:n,future:r,window:i}=e,l=T.useRef();l.current==null&&(l.current=pF({window:i,v5Compat:!0}));let u=l.current,[d,h]=T.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},y=T.useCallback(g=>{m&&Wb?Wb(()=>h(g)):h(g)},[h,m]);return T.useLayoutEffect(()=>u.listen(y),[u,y]),T.useEffect(()=>r$(r),[r]),T.createElement(i$,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:u,future:r})}const h$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=T.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:l,replace:u,state:d,target:h,to:m,preventScrollReset:y,viewTransition:g}=t,E=o$(t,c$),{basename:_}=T.useContext(al),k,x=!1;if(typeof m=="string"&&p$.test(m)&&(k=m,h$))try{let R=new URL(window.location.href),D=m.startsWith("//")?new URL(R.protocol+m):new URL(m),B=Lx(D.pathname,_);D.origin===R.origin&&B!=null?m=B+D.search+D.hash:x=!0}catch{}let b=UF(m,{relative:i}),S=m$(m,{replace:u,state:d,target:h,preventScrollReset:y,relative:i,viewTransition:g});function j(R){r&&r(R),R.defaultPrevented||S(R)}return T.createElement("a",mv({},E,{href:k||b,onClick:x||l?r:j,ref:n,target:h}))});var Vb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vb||(Vb={}));var qb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qb||(qb={}));function m$(e,t){let{target:n,replace:r,state:i,preventScrollReset:l,relative:u,viewTransition:d}=t===void 0?{}:t,h=pN(),m=ll(),y=mN(e,{relative:u});return T.useCallback(g=>{if(l$(g,n)){g.preventDefault();let E=r!==void 0?r:np(m)===np(y);h(e,{replace:E,state:i,preventScrollReset:l,relative:u,viewTransition:d})}},[m,h,y,r,i,n,e,l,u,d])}function g$(){const{pathname:e}=ll();return T.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const y$=Rd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$e=T.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},l)=>{const u=r?a8:"button";return c.jsx(u,{className:ut(y$({variant:t,size:n,className:e})),ref:l,...i})});$e.displayName="Button";const en=T.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:ut("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));en.displayName="Input";var ny="focusScope.autoFocusOnMount",ry="focusScope.autoFocusOnUnmount",Kb={bubbles:!1,cancelable:!0},v$="FocusScope",zx=T.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=e,[d,h]=T.useState(null),m=gr(i),y=gr(l),g=T.useRef(null),E=Lt(t,x=>h(x)),_=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let x=function(R){if(_.paused||!d)return;const D=R.target;d.contains(D)?g.current=D:To(g.current,{select:!0})},b=function(R){if(_.paused||!d)return;const D=R.relatedTarget;D!==null&&(d.contains(D)||To(g.current,{select:!0}))},S=function(R){if(document.activeElement===document.body)for(const B of R)B.removedNodes.length>0&&To(d)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const j=new MutationObserver(S);return d&&j.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),j.disconnect()}}},[r,d,_.paused]),T.useEffect(()=>{if(d){Yb.add(_);const x=document.activeElement;if(!d.contains(x)){const S=new CustomEvent(ny,Kb);d.addEventListener(ny,m),d.dispatchEvent(S),S.defaultPrevented||(x$(k$(xN(d)),{select:!0}),document.activeElement===x&&To(d))}return()=>{d.removeEventListener(ny,m),setTimeout(()=>{const S=new CustomEvent(ry,Kb);d.addEventListener(ry,y),d.dispatchEvent(S),S.defaultPrevented||To(x??document.body,{select:!0}),d.removeEventListener(ry,y),Yb.remove(_)},0)}}},[d,m,y,_]);const k=T.useCallback(x=>{if(!n&&!r||_.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(b&&S){const j=x.currentTarget,[R,D]=w$(j);R&&D?!x.shiftKey&&S===D?(x.preventDefault(),n&&To(R,{select:!0})):x.shiftKey&&S===R&&(x.preventDefault(),n&&To(D,{select:!0})):S===j&&x.preventDefault()}},[n,r,_.paused]);return c.jsx(ct.div,{tabIndex:-1,...u,ref:E,onKeyDown:k})});zx.displayName=v$;function x$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(To(r,{select:t}),document.activeElement!==n)return}function w$(e){const t=xN(e),n=Gb(t,e),r=Gb(t.reverse(),e);return[n,r]}function xN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Gb(e,t){for(const n of e)if(!_$(n,{upTo:t}))return n}function _$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function b$(e){return e instanceof HTMLInputElement&&"select"in e}function To(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&b$(e)&&t&&e.select()}}var Yb=E$();function E$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Jb(e,t),e.unshift(t)},remove(t){var n;e=Jb(e,t),(n=e[0])==null||n.resume()}}}function Jb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function k$(e){return e.filter(t=>t.tagName!=="A")}var iy=0;function wN(){T.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qb()),document.body.insertAdjacentElement("beforeend",e[1]??Qb()),iy++,()=>{iy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),iy--}},[])}function Qb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fi=function(){return Fi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Fi.apply(this,arguments)};function _N(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function S$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,l;r<i;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}var Th="right-scroll-bar-position",Ah="width-before-scroll-bar",N$="with-scroll-bars-hidden",C$="--removed-body-scroll-bar-size";function sy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function j$(e,t){var n=T.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var P$=typeof window<"u"?T.useLayoutEffect:T.useEffect,Xb=new WeakMap;function T$(e,t){var n=j$(null,function(r){return e.forEach(function(i){return sy(i,r)})});return P$(function(){var r=Xb.get(n);if(r){var i=new Set(r),l=new Set(e),u=n.current;i.forEach(function(d){l.has(d)||sy(d,null)}),l.forEach(function(d){i.has(d)||sy(d,u)})}Xb.set(n,e)},[e]),n}function A$(e){return e}function R$(e,t){t===void 0&&(t=A$);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var u=t(l,r);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(r=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){r=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(l),u=n}var h=function(){var y=u;u=[],y.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(y){u.push(y),m()},filter:function(y){return u=u.filter(y),n}}}};return i}function I$(e){e===void 0&&(e={});var t=R$(null);return t.options=Fi({async:!0,ssr:!1},e),t}var bN=function(e){var t=e.sideCar,n=_N(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Fi({},n))};bN.isSideCarExport=!0;function L$(e,t){return e.useMedium(t),bN}var EN=I$(),oy=function(){},Hp=T.forwardRef(function(e,t){var n=T.useRef(null),r=T.useState({onScrollCapture:oy,onWheelCapture:oy,onTouchMoveCapture:oy}),i=r[0],l=r[1],u=e.forwardProps,d=e.children,h=e.className,m=e.removeScrollBar,y=e.enabled,g=e.shards,E=e.sideCar,_=e.noIsolation,k=e.inert,x=e.allowPinchZoom,b=e.as,S=b===void 0?"div":b,j=e.gapMode,R=_N(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=E,B=T$([n,t]),q=Fi(Fi({},R),i);return T.createElement(T.Fragment,null,y&&T.createElement(D,{sideCar:EN,removeScrollBar:m,shards:g,noIsolation:_,inert:k,setCallbacks:l,allowPinchZoom:!!x,lockRef:n,gapMode:j}),u?T.cloneElement(T.Children.only(d),Fi(Fi({},q),{ref:B})):T.createElement(S,Fi({},q,{className:h,ref:B}),d))});Hp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hp.classNames={fullWidth:Ah,zeroRight:Th};var O$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=O$();return t&&e.setAttribute("nonce",t),e}function z$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function D$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var B$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=M$())&&(z$(t,n),D$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},F$=function(){var e=B$();return function(t,n){T.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},kN=function(){var e=F$(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},$$={left:0,top:0,right:0,gap:0},ay=function(e){return parseInt(e||"",10)||0},U$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[ay(n),ay(r),ay(i)]},Z$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $$;var t=U$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},H$=kN(),hc="data-scroll-locked",W$=function(e,t,n,r){var i=e.left,l=e.top,u=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(N$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(hc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Th,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Ah,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Th," .").concat(Th,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ah," .").concat(Ah,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hc,`] {
    `).concat(C$,": ").concat(d,`px;
  }
`)},e1=function(){var e=parseInt(document.body.getAttribute(hc)||"0",10);return isFinite(e)?e:0},V$=function(){T.useEffect(function(){return document.body.setAttribute(hc,(e1()+1).toString()),function(){var e=e1()-1;e<=0?document.body.removeAttribute(hc):document.body.setAttribute(hc,e.toString())}},[])},q$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;V$();var l=T.useMemo(function(){return Z$(i)},[i]);return T.createElement(H$,{styles:W$(l,!t,i,n?"":"!important")})},gv=!1;if(typeof window<"u")try{var vh=Object.defineProperty({},"passive",{get:function(){return gv=!0,!0}});window.addEventListener("test",vh,vh),window.removeEventListener("test",vh,vh)}catch{gv=!1}var Xl=gv?{passive:!1}:!1,K$=function(e){return e.tagName==="TEXTAREA"},SN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!K$(e)&&n[t]==="visible")},G$=function(e){return SN(e,"overflowY")},Y$=function(e){return SN(e,"overflowX")},t1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=NN(e,r);if(i){var l=CN(e,r),u=l[1],d=l[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},J$=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Q$=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},NN=function(e,t){return e==="v"?G$(t):Y$(t)},CN=function(e,t){return e==="v"?J$(t):Q$(t)},X$=function(e,t){return e==="h"&&t==="rtl"?-1:1},eU=function(e,t,n,r,i){var l=X$(e,window.getComputedStyle(t).direction),u=l*r,d=n.target,h=t.contains(d),m=!1,y=u>0,g=0,E=0;do{var _=CN(e,d),k=_[0],x=_[1],b=_[2],S=x-b-l*k;(k||S)&&NN(e,d)&&(g+=S,E+=k),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(y&&Math.abs(g)<1||!y&&Math.abs(E)<1)&&(m=!0),m},xh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},n1=function(e){return[e.deltaX,e.deltaY]},r1=function(e){return e&&"current"in e?e.current:e},tU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rU=0,ec=[];function iU(e){var t=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(rU++)[0],l=T.useState(kN)[0],u=T.useRef(e);T.useEffect(function(){u.current=e},[e]),T.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=S$([e.lockRef.current],(e.shards||[]).map(r1),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=T.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!u.current.allowPinchZoom;var S=xh(x),j=n.current,R="deltaX"in x?x.deltaX:j[0]-S[0],D="deltaY"in x?x.deltaY:j[1]-S[1],B,q=x.target,G=Math.abs(R)>Math.abs(D)?"h":"v";if("touches"in x&&G==="h"&&q.type==="range")return!1;var J=t1(G,q);if(!J)return!0;if(J?B=G:(B=G==="v"?"h":"v",J=t1(G,q)),!J)return!1;if(!r.current&&"changedTouches"in x&&(R||D)&&(r.current=B),!B)return!0;var V=r.current||B;return eU(V,b,x,V==="h"?R:D)},[]),h=T.useCallback(function(x){var b=x;if(!(!ec.length||ec[ec.length-1]!==l)){var S="deltaY"in b?n1(b):xh(b),j=t.current.filter(function(B){return B.name===b.type&&(B.target===b.target||b.target===B.shadowParent)&&tU(B.delta,S)})[0];if(j&&j.should){b.cancelable&&b.preventDefault();return}if(!j){var R=(u.current.shards||[]).map(r1).filter(Boolean).filter(function(B){return B.contains(b.target)}),D=R.length>0?d(b,R[0]):!u.current.noIsolation;D&&b.cancelable&&b.preventDefault()}}},[]),m=T.useCallback(function(x,b,S,j){var R={name:x,delta:b,target:S,should:j,shadowParent:sU(S)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(D){return D!==R})},1)},[]),y=T.useCallback(function(x){n.current=xh(x),r.current=void 0},[]),g=T.useCallback(function(x){m(x.type,n1(x),x.target,d(x,e.lockRef.current))},[]),E=T.useCallback(function(x){m(x.type,xh(x),x.target,d(x,e.lockRef.current))},[]);T.useEffect(function(){return ec.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:E}),document.addEventListener("wheel",h,Xl),document.addEventListener("touchmove",h,Xl),document.addEventListener("touchstart",y,Xl),function(){ec=ec.filter(function(x){return x!==l}),document.removeEventListener("wheel",h,Xl),document.removeEventListener("touchmove",h,Xl),document.removeEventListener("touchstart",y,Xl)}},[]);var _=e.removeScrollBar,k=e.inert;return T.createElement(T.Fragment,null,k?T.createElement(l,{styles:nU(i)}):null,_?T.createElement(q$,{gapMode:e.gapMode}):null)}function sU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const oU=L$(EN,iU);var Dx=T.forwardRef(function(e,t){return T.createElement(Hp,Fi({},e,{ref:t,sideCar:oU}))});Dx.classNames=Hp.classNames;var aU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},tc=new WeakMap,wh=new WeakMap,_h={},ly=0,jN=function(e){return e&&(e.host||jN(e.parentNode))},lU=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=jN(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},cU=function(e,t,n,r){var i=lU(t,Array.isArray(e)?e:[e]);_h[n]||(_h[n]=new WeakMap);var l=_h[n],u=[],d=new Set,h=new Set(i),m=function(g){!g||d.has(g)||(d.add(g),m(g.parentNode))};i.forEach(m);var y=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(E){if(d.has(E))y(E);else try{var _=E.getAttribute(r),k=_!==null&&_!=="false",x=(tc.get(E)||0)+1,b=(l.get(E)||0)+1;tc.set(E,x),l.set(E,b),u.push(E),x===1&&k&&wh.set(E,!0),b===1&&E.setAttribute(n,"true"),k||E.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",E,S)}})};return y(t),d.clear(),ly++,function(){u.forEach(function(g){var E=tc.get(g)-1,_=l.get(g)-1;tc.set(g,E),l.set(g,_),E||(wh.has(g)||g.removeAttribute(r),wh.delete(g)),_||g.removeAttribute(n)}),ly--,ly||(tc=new WeakMap,tc=new WeakMap,wh=new WeakMap,_h={})}},PN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=aU(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),cU(r,i,n,"aria-hidden")):function(){return null}},Wp="Dialog",[TN,lH]=nr(Wp),[uU,xi]=TN(Wp),AN=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:l,modal:u=!0}=e,d=T.useRef(null),h=T.useRef(null),[m,y]=zs({prop:r,defaultProp:i??!1,onChange:l,caller:Wp});return c.jsx(uU,{scope:t,triggerRef:d,contentRef:h,contentId:Wo(),titleId:Wo(),descriptionId:Wo(),open:m,onOpenChange:y,onOpenToggle:T.useCallback(()=>y(g=>!g),[y]),modal:u,children:n})};AN.displayName=Wp;var RN="DialogTrigger",dU=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xi(RN,n),l=Lt(t,i.triggerRef);return c.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ux(i.open),...r,ref:l,onClick:Ke(e.onClick,i.onOpenToggle)})});dU.displayName=RN;var Bx="DialogPortal",[fU,IN]=TN(Bx,{forceMount:void 0}),LN=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,l=xi(Bx,t);return c.jsx(fU,{scope:t,forceMount:n,children:T.Children.map(r,u=>c.jsx(Rr,{present:n||l.open,children:c.jsx(Ip,{asChild:!0,container:i,children:u})}))})};LN.displayName=Bx;var rp="DialogOverlay",ON=T.forwardRef((e,t)=>{const n=IN(rp,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,l=xi(rp,e.__scopeDialog);return l.modal?c.jsx(Rr,{present:r||l.open,children:c.jsx(pU,{...i,ref:t})}):null});ON.displayName=rp;var hU=Lc("DialogOverlay.RemoveScroll"),pU=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xi(rp,n);return c.jsx(Dx,{as:hU,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(ct.div,{"data-state":Ux(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),nl="DialogContent",MN=T.forwardRef((e,t)=>{const n=IN(nl,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,l=xi(nl,e.__scopeDialog);return c.jsx(Rr,{present:r||l.open,children:l.modal?c.jsx(mU,{...i,ref:t}):c.jsx(gU,{...i,ref:t})})});MN.displayName=nl;var mU=T.forwardRef((e,t)=>{const n=xi(nl,e.__scopeDialog),r=T.useRef(null),i=Lt(t,n.contentRef,r);return T.useEffect(()=>{const l=r.current;if(l)return PN(l)},[]),c.jsx(zN,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,l=>l.preventDefault())})}),gU=T.forwardRef((e,t)=>{const n=xi(nl,e.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return c.jsx(zN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,d;(u=e.onCloseAutoFocus)==null||u.call(e,l),l.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),l.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:l=>{var h,m;(h=e.onInteractOutside)==null||h.call(e,l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;((m=n.triggerRef.current)==null?void 0:m.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),zN=T.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=e,d=xi(nl,n),h=T.useRef(null),m=Lt(t,h);return wN(),c.jsxs(c.Fragment,{children:[c.jsx(zx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:c.jsx(Td,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Ux(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(yU,{titleId:d.titleId}),c.jsx(xU,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Fx="DialogTitle",$x=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xi(Fx,n);return c.jsx(ct.h2,{id:i.titleId,...r,ref:t})});$x.displayName=Fx;var DN="DialogDescription",BN=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xi(DN,n);return c.jsx(ct.p,{id:i.descriptionId,...r,ref:t})});BN.displayName=DN;var FN="DialogClose",$N=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xi(FN,n);return c.jsx(ct.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});$N.displayName=FN;function Ux(e){return e?"open":"closed"}var UN="DialogTitleWarning",[cH,ZN]=s8(UN,{contentName:nl,titleName:Fx,docsSlug:"dialog"}),yU=({titleId:e})=>{const t=ZN(UN),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return T.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},vU="DialogDescriptionWarning",xU=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZN(vU).contentName}}.`;return T.useEffect(()=>{var l;const i=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},wU=AN,_U=LN,HN=ON,WN=MN,VN=$x,qN=BN,bU=$N;const zc=wU,EU=_U,KN=T.forwardRef(({className:e,...t},n)=>c.jsx(HN,{ref:n,className:ut("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));KN.displayName=HN.displayName;const rl=T.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(EU,{children:[c.jsx(KN,{}),c.jsxs(WN,{ref:r,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(bU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(pS,{className:"size-5"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rl.displayName=WN.displayName;const Dc=({className:e,...t})=>c.jsx("div",{className:ut("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Dc.displayName="DialogHeader";const md=T.forwardRef(({className:e,...t},n)=>c.jsx(VN,{ref:n,className:ut("text-lg font-semibold leading-none tracking-tight",e),...t}));md.displayName=VN.displayName;const ip=T.forwardRef(({className:e,...t},n)=>c.jsx(qN,{ref:n,className:ut("text-sm text-muted-foreground",e),...t}));ip.displayName=qN.displayName;var kU=T.createContext(void 0);function Od(e){const t=T.useContext(kU);return e||t||"ltr"}var cy="rovingFocusGroup.onEntryFocus",SU={bubbles:!1,cancelable:!0},Md="RovingFocusGroup",[yv,GN,NU]=Rp(Md),[CU,Kc]=nr(Md,[NU]),[jU,PU]=CU(Md),YN=T.forwardRef((e,t)=>c.jsx(yv.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(yv.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(TU,{...e,ref:t})})}));YN.displayName=Md;var TU=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...g}=e,E=T.useRef(null),_=Lt(t,E),k=Od(l),[x,b]=zs({prop:u,defaultProp:d??null,onChange:h,caller:Md}),[S,j]=T.useState(!1),R=gr(m),D=GN(n),B=T.useRef(!1),[q,G]=T.useState(0);return T.useEffect(()=>{const J=E.current;if(J)return J.addEventListener(cy,R),()=>J.removeEventListener(cy,R)},[R]),c.jsx(jU,{scope:n,orientation:r,dir:k,loop:i,currentTabStopId:x,onItemFocus:T.useCallback(J=>b(J),[b]),onItemShiftTab:T.useCallback(()=>j(!0),[]),onFocusableItemAdd:T.useCallback(()=>G(J=>J+1),[]),onFocusableItemRemove:T.useCallback(()=>G(J=>J-1),[]),children:c.jsx(ct.div,{tabIndex:S||q===0?-1:0,"data-orientation":r,...g,ref:_,style:{outline:"none",...e.style},onMouseDown:Ke(e.onMouseDown,()=>{B.current=!0}),onFocus:Ke(e.onFocus,J=>{const V=!B.current;if(J.target===J.currentTarget&&V&&!S){const Y=new CustomEvent(cy,SU);if(J.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const Q=D().filter(ae=>ae.focusable),$=Q.find(ae=>ae.active),re=Q.find(ae=>ae.id===x),W=[$,re,...Q].filter(Boolean).map(ae=>ae.ref.current);XN(W,y)}}B.current=!1}),onBlur:Ke(e.onBlur,()=>j(!1))})})}),JN="RovingFocusGroupItem",QN=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:l,children:u,...d}=e,h=Wo(),m=l||h,y=PU(JN,n),g=y.currentTabStopId===m,E=GN(n),{onFocusableItemAdd:_,onFocusableItemRemove:k,currentTabStopId:x}=y;return T.useEffect(()=>{if(r)return _(),()=>k()},[r,_,k]),c.jsx(yv.ItemSlot,{scope:n,id:m,focusable:r,active:i,children:c.jsx(ct.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...d,ref:t,onMouseDown:Ke(e.onMouseDown,b=>{r?y.onItemFocus(m):b.preventDefault()}),onFocus:Ke(e.onFocus,()=>y.onItemFocus(m)),onKeyDown:Ke(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){y.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const S=IU(b,y.orientation,y.dir);if(S!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let R=E().filter(D=>D.focusable).map(D=>D.ref.current);if(S==="last")R.reverse();else if(S==="prev"||S==="next"){S==="prev"&&R.reverse();const D=R.indexOf(b.currentTarget);R=y.loop?LU(R,D+1):R.slice(D+1)}setTimeout(()=>XN(R))}}),children:typeof u=="function"?u({isCurrentTabStop:g,hasTabStop:x!=null}):u})})});QN.displayName=JN;var AU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function IU(e,t,n){const r=RU(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return AU[r]}function XN(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function LU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Zx=YN,Hx=QN,Vp="Tabs",[OU,uH]=nr(Vp,[Kc]),eC=Kc(),[MU,Wx]=OU(Vp),tC=T.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:l,orientation:u="horizontal",dir:d,activationMode:h="automatic",...m}=e,y=Od(d),[g,E]=zs({prop:r,onChange:i,defaultProp:l??"",caller:Vp});return c.jsx(MU,{scope:n,baseId:Wo(),value:g,onValueChange:E,orientation:u,dir:y,activationMode:h,children:c.jsx(ct.div,{dir:y,"data-orientation":u,...m,ref:t})})});tC.displayName=Vp;var nC="TabsList",rC=T.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,l=Wx(nC,n),u=eC(n);return c.jsx(Zx,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:r,children:c.jsx(ct.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:t})})});rC.displayName=nC;var iC="TabsTrigger",sC=T.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...l}=e,u=Wx(iC,n),d=eC(n),h=lC(u.baseId,r),m=cC(u.baseId,r),y=r===u.value;return c.jsx(Hx,{asChild:!0,...d,focusable:!i,active:y,children:c.jsx(ct.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...l,ref:t,onMouseDown:Ke(e.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?u.onValueChange(r):g.preventDefault()}),onKeyDown:Ke(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&u.onValueChange(r)}),onFocus:Ke(e.onFocus,()=>{const g=u.activationMode!=="manual";!y&&!i&&g&&u.onValueChange(r)})})})});sC.displayName=iC;var oC="TabsContent",aC=T.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:l,...u}=e,d=Wx(oC,n),h=lC(d.baseId,r),m=cC(d.baseId,r),y=r===d.value,g=T.useRef(y);return T.useEffect(()=>{const E=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(E)},[]),c.jsx(Rr,{present:i||y,children:({present:E})=>c.jsx(ct.div,{"data-state":y?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!E,id:m,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:E&&l})})});aC.displayName=oC;function lC(e,t){return`${e}-trigger-${t}`}function cC(e,t){return`${e}-content-${t}`}var zU=tC,uC=rC,dC=sC,fC=aC;const hC=zU,Vx=T.forwardRef(({className:e,...t},n)=>c.jsx(uC,{ref:n,className:ut("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Vx.displayName=uC.displayName;const gd=T.forwardRef(({className:e,...t},n)=>c.jsx(dC,{ref:n,className:ut("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));gd.displayName=dC.displayName;const yd=T.forwardRef(({className:e,...t},n)=>c.jsx(fC,{ref:n,className:ut("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));yd.displayName=fC.displayName;const DU=Rd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),pC=T.forwardRef(({className:e,variant:t,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:ut(DU({variant:t}),e),...n}));pC.displayName="Alert";const BU=T.forwardRef(({className:e,...t},n)=>c.jsx("h5",{ref:n,className:ut("mb-1 font-medium leading-none tracking-tight",e),...t}));BU.displayName="AlertTitle";const mC=T.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ut("text-sm [&_p]:leading-relaxed",e),...t}));mC.displayName="AlertDescription";var qp="Collapsible",[FU,dH]=nr(qp),[$U,qx]=FU(qp),gC=T.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:l,onOpenChange:u,...d}=e,[h,m]=zs({prop:r,defaultProp:i??!1,onChange:u,caller:qp});return c.jsx($U,{scope:n,disabled:l,contentId:Wo(),open:h,onOpenToggle:T.useCallback(()=>m(y=>!y),[m]),children:c.jsx(ct.div,{"data-state":Gx(h),"data-disabled":l?"":void 0,...d,ref:t})})});gC.displayName=qp;var yC="CollapsibleTrigger",vC=T.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=qx(yC,n);return c.jsx(ct.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Gx(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:Ke(e.onClick,i.onOpenToggle)})});vC.displayName=yC;var Kx="CollapsibleContent",xC=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=qx(Kx,e.__scopeCollapsible);return c.jsx(Rr,{present:n||i.open,children:({present:l})=>c.jsx(UU,{...r,ref:t,present:l})})});xC.displayName=Kx;var UU=T.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...l}=e,u=qx(Kx,n),[d,h]=T.useState(r),m=T.useRef(null),y=Lt(t,m),g=T.useRef(0),E=g.current,_=T.useRef(0),k=_.current,x=u.open||d,b=T.useRef(x),S=T.useRef(void 0);return T.useEffect(()=>{const j=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(j)},[]),Ar(()=>{const j=m.current;if(j){S.current=S.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const R=j.getBoundingClientRect();g.current=R.height,_.current=R.width,b.current||(j.style.transitionDuration=S.current.transitionDuration,j.style.animationName=S.current.animationName),h(r)}},[u.open,r]),c.jsx(ct.div,{"data-state":Gx(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!x,...l,ref:y,style:{"--radix-collapsible-content-height":E?`${E}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...e.style},children:x&&i})});function Gx(e){return e?"open":"closed"}var ZU=gC;const HU=ZU,WU=vC,VU=xC;function wC(){const{nostr:e}=Ms(),{logins:t,addLogin:n,removeLogin:r}=mx();return{nsec(i){const l=Ka.fromNsec(i);n(l)},async bunker(i){const l=await Ka.fromBunker(i,e);n(l)},async extension(){const i=await Ka.fromExtension();n(i)},async logout(){const i=t[0];i&&r(i.id)}}}const i1=e=>/^nsec1[a-zA-Z0-9]{58}$/.test(e),qU=e=>e.startsWith("bunker://"),KU=({isOpen:e,onClose:t,onLogin:n})=>{const[r,i]=T.useState(!1),[l,u]=T.useState(!1),[d,h]=T.useState(""),[m,y]=T.useState(""),[g,E]=T.useState({}),_=T.useRef(null),k=wC();T.useEffect(()=>{e&&(i(!1),u(!1),h(""),y(""),E({}),_.current&&(_.current.value=""))},[e]);const x=async()=>{i(!0),E(J=>({...J,extension:void 0}));try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");await k.extension(),n(),t()}catch(J){const V=J;console.error("Bunker login failed:",V),console.error("Nsec login failed:",V),console.error("Extension login failed:",V),E(Y=>({...Y,extension:V instanceof Error?V.message:"Extension login failed"}))}finally{i(!1)}},b=J=>{i(!0),E({}),setTimeout(()=>{try{k.nsec(J),n(),t()}catch{E({nsec:"Failed to login with this key. Please check that it's correct."}),i(!1)}},50)},S=()=>{if(!d.trim()){E(J=>({...J,nsec:"Please enter your secret key"}));return}if(!i1(d)){E(J=>({...J,nsec:"Invalid secret key format. Must be a valid nsec starting with nsec1."}));return}b(d)},j=async()=>{if(!m.trim()){E(J=>({...J,bunker:"Please enter a bunker URI"}));return}if(!qU(m)){E(J=>({...J,bunker:"Invalid bunker URI format. Must start with bunker://"}));return}i(!0),E(J=>({...J,bunker:void 0}));try{await k.bunker(m),n(),t(),y("")}catch{E(J=>({...J,bunker:"Failed to connect to bunker. Please check the URI."}))}finally{i(!1)}},R=J=>{var Q;const V=(Q=J.target.files)==null?void 0:Q[0];if(!V)return;u(!0),E({});const Y=new FileReader;Y.onload=$=>{var M;u(!1);const re=(M=$.target)==null?void 0:M.result;if(re){const W=re.trim();i1(W)?b(W):E({file:"File does not contain a valid secret key."})}else E({file:"Could not read file content."})},Y.onerror=()=>{u(!1),E({file:"Failed to read file."})},Y.readAsText(V)},D="nostr"in window,[B,q]=T.useState(!1),G=()=>c.jsxs(hC,{defaultValue:"key",className:"w-full",children:[c.jsxs(Vx,{className:"grid w-full grid-cols-2 bg-muted/80 rounded-lg mb-4",children:[c.jsx(gd,{value:"key",className:"flex items-center gap-2",children:c.jsx("span",{children:"Secret Key"})}),c.jsx(gd,{value:"bunker",className:"flex items-center gap-2",children:c.jsx("span",{children:"Remote Signer"})})]}),c.jsx(yd,{value:"key",className:"space-y-4",children:c.jsxs("form",{onSubmit:J=>{J.preventDefault(),S()},className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(en,{id:"nsec",type:"password",value:d,onChange:J=>{h(J.target.value),g.nsec&&E(V=>({...V,nsec:void 0}))},className:`rounded-lg ${g.nsec?"border-red-500 focus-visible:ring-red-500":""}`,placeholder:"nsec1...",autoComplete:"off"}),g.nsec&&c.jsx("p",{className:"text-sm text-red-500",children:g.nsec})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx($e,{type:"submit",size:"lg",disabled:r||!d.trim(),className:"flex-1",children:r?"Verifying...":"Log in"}),c.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:_,onChange:R}),c.jsx($e,{type:"button",variant:"outline",size:"lg",onClick:()=>{var J;return(J=_.current)==null?void 0:J.click()},disabled:r||l,className:"px-3",children:c.jsx(hS,{className:"w-4 h-4"})})]}),g.file&&c.jsx("p",{className:"text-sm text-red-500 text-center",children:g.file})]})}),c.jsx(yd,{value:"bunker",className:"space-y-4",children:c.jsxs("form",{onSubmit:J=>{J.preventDefault(),j()},className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(en,{id:"bunkerUri",value:m,onChange:J=>{y(J.target.value),g.bunker&&E(V=>({...V,bunker:void 0}))},className:`rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary ${g.bunker?"border-red-500":""}`,placeholder:"bunker://",autoComplete:"off"}),g.bunker&&c.jsx("p",{className:"text-sm text-red-500",children:g.bunker})]}),c.jsx($e,{type:"submit",size:"lg",className:"w-full",disabled:r||!m.trim(),children:r?"Connecting...":"Log in"})]})})]});return c.jsx(zc,{open:e,onOpenChange:t,children:c.jsxs(rl,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[c.jsx(Dc,{className:"px-6 pt-6",children:c.jsx($x,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:"Log in"})}),c.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),c.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto",children:[D&&c.jsxs("div",{className:"space-y-4",children:[g.extension&&c.jsxs(pC,{variant:"destructive",children:[c.jsx(fS,{className:"h-4 w-4"}),c.jsx(mC,{children:g.extension})]}),c.jsx($e,{className:"w-full h-12 px-9",onClick:x,disabled:r,children:r?"Logging in...":"Log in with Extension"})]}),D?c.jsxs(HU,{className:"space-y-4",open:B,onOpenChange:q,children:[c.jsx(WU,{asChild:!0,children:c.jsxs("button",{className:"w-full flex items-center justify-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[c.jsx("span",{children:"More Options"}),c.jsx(lS,{className:`w-4 h-4 transition-transform ${B?"rotate-180":""}`})]})}),c.jsx(VU,{children:G()})]}):G()]})]})})},Yx=T.forwardRef(({className:e,...t},n)=>c.jsx("textarea",{className:ut("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Yx.displayName="Textarea";function Jx(){const{nostr:e}=Ms(),{user:t}=Pp();return q1({mutationFn:async n=>{if(t){const r=n.tags??[];location.protocol==="https:"&&!r.some(([l])=>l==="client")&&r.push(["client",location.hostname]);const i=await t.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await e.event(i,{signal:AbortSignal.timeout(5e3)}),i}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}class Qx{constructor(t){Ze(this,"servers");Ze(this,"signer");Ze(this,"fetch");Ze(this,"expiresIn");this.servers=t.servers,this.signer=t.signer,this.fetch=t.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=t.expiresIn??6e4}async upload(t,n){const r=await crypto.subtle.digest("SHA-256",await t.arrayBuffer()),i=Mz(new Uint8Array(r)),l=Date.now(),u=l+this.expiresIn,d=await this.signer.signEvent({kind:24242,content:`Upload ${t.name}`,created_at:Math.floor(l/1e3),tags:[["t","upload"],["x",i],["size",t.size.toString()],["expiration",Math.floor(u/1e3).toString()]]}),h=`Nostr ${Uz.encodeEvent(d)}`;return Promise.any(this.servers.map(async m=>{const y=new URL("/upload",m),E=await(await this.fetch(y,{method:"PUT",body:t,headers:{authorization:h,"content-type":t.type},signal:n==null?void 0:n.signal})).json(),_=Qx.schema().parse(E),k=[["url",_.url],["x",_.sha256],["ox",_.sha256],["size",_.size.toString()]];return _.type&&k.push(["m",_.type]),k}))}static schema(){return Ss({url:Bt(),sha256:Bt(),size:gs(),type:Bt().optional()})}}function _C(){const{user:e}=Pp();return q1({mutationFn:async t=>{if(!e)throw new Error("Must be logged in to upload files");return await new Qx({servers:["https://blossom.primal.net/"],signer:e.signer}).upload(t)}})}const GU=({isOpen:e,onClose:t})=>{const[n,r]=T.useState("generate"),[i,l]=T.useState(""),[u,d]=T.useState(!1),[h,m]=T.useState({name:"",about:"",picture:""}),y=wC(),{mutateAsync:g,isPending:E}=Jx(),{mutateAsync:_,isPending:k}=_C(),x=T.useRef(null),b=()=>{const B=vp();l(tr.nsecEncode(B)),r("download")},S=()=>{try{const B=new Blob([i],{type:"text/plain; charset=utf-8"}),q=globalThis.URL.createObjectURL(B),G=tr.decode(i);if(G.type!=="nsec")throw new Error("Invalid nsec key");const J=Go(G.data),V=tr.npubEncode(J),Y=`nostr-${location.hostname.replaceAll(/\./g,"-")}-${V.slice(5,9)}.nsec.txt`,Q=document.createElement("a");Q.href=q,Q.download=Y,Q.style.display="none",document.body.appendChild(Q),Q.click(),globalThis.URL.revokeObjectURL(q),document.body.removeChild(Q),y.nsec(i),r("profile")}catch{nc({title:"Download failed",description:"Could not download the key file. Please copy it manually.",variant:"destructive"})}},j=async B=>{var G,J;const q=(G=B.target.files)==null?void 0:G[0];if(q){if(B.target.value="",!q.type.startsWith("image/")){nc({title:"Invalid file type",description:"Please select an image file for your avatar.",variant:"destructive"});return}if(q.size>5*1024*1024){nc({title:"File too large",description:"Avatar image must be smaller than 5MB.",variant:"destructive"});return}try{const Y=(J=(await _(q))[0])==null?void 0:J[1];Y&&m(Q=>({...Q,picture:Y}))}catch{nc({title:"Upload failed",description:"Failed to upload avatar. Please try again.",variant:"destructive"})}}},R=async(B=!1)=>{try{if(!B&&(h.name||h.about||h.picture)){const q={};h.name&&(q.name=h.name),h.about&&(q.about=h.about),h.picture&&(q.picture=h.picture),await g({kind:0,content:JSON.stringify(q)})}}catch{nc({title:"Profile Setup Failed",description:"Your account was created but profile setup failed. You can update it later.",variant:"destructive"})}finally{t()}},D=()=>{if(n==="generate")return"Sign up";if(n==="download")return"Secret Key";if(n==="profile")return"Create Your Profile"};return T.useEffect(()=>{e&&(r("generate"),l(""),d(!1),m({name:"",about:"",picture:""}))},[e]),c.jsx(zc,{open:e,onOpenChange:t,children:c.jsxs(rl,{className:"max-w-[95vw] sm:max-w-sm max-h-[90dvh] p-0 gap-6 overflow-hidden rounded-2xl overflow-y-auto",children:[c.jsx(Dc,{className:"px-6 pt-6",children:c.jsx(md,{className:"text-lg font-semibold leading-none tracking-tight text-center",children:D()})}),c.jsxs("div",{className:"px-6 pb-6 space-y-4 overflow-y-auto flex-1",children:[n==="generate"&&c.jsxs("div",{className:"text-center space-y-6",children:[c.jsx("div",{className:"flex size-40 text-8xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),c.jsx($e,{className:"w-full h-12 px-9",onClick:b,children:"Generate key"})]}),n==="download"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex size-16 text-4xl bg-primary/10 rounded-full items-center justify-center justify-self-center",children:""}),c.jsxs("div",{className:"relative",children:[c.jsx(en,{type:u?"text":"password",value:i,readOnly:!0,className:"pr-10 font-mono text-sm"}),c.jsx($e,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>d(!u),children:u?c.jsx(n6,{className:"h-4 w-4 text-muted-foreground"}):c.jsx(r6,{className:"h-4 w-4 text-muted-foreground"})})]}),c.jsxs($e,{className:"w-full h-12 px-9",onClick:S,children:[c.jsx(qh,{className:"size-4"}),"Download key"]}),c.jsx("div",{className:"mx-auto max-w-sm",children:c.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[c.jsx("div",{className:"flex items-center gap-2 mb-1",children:c.jsx("span",{className:"text-xs font-semibold text-amber-800 dark:text-amber-200",children:"Important Warning"})}),c.jsx("p",{className:"text-xs text-amber-900 dark:text-amber-300",children:"This key is your primary and only means of accessing your account. Store it safely and securely. Please download your key to continue."})]})})]}),n==="profile"&&c.jsxs("div",{className:"text-center space-y-4",children:[E&&c.jsx("div",{className:"p-4 rounded-lg bg-muted border",children:c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"text-sm font-medium",children:"Publishing your profile..."})]})}),c.jsxs("div",{className:`space-y-4 text-left ${E?"opacity-50 pointer-events-none":""}`,children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"profile-name",className:"text-sm font-medium",children:"Display Name"}),c.jsx(en,{id:"profile-name",value:h.name,onChange:B=>m(q=>({...q,name:B.target.value})),placeholder:"Your name",disabled:E})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"profile-about",className:"text-sm font-medium",children:"Bio"}),c.jsx(Yx,{id:"profile-about",value:h.about,onChange:B=>m(q=>({...q,about:B.target.value})),placeholder:"Tell others about yourself...",className:"resize-none",rows:3,disabled:E})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"profile-picture",className:"text-sm font-medium",children:"Avatar"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(en,{id:"profile-picture",value:h.picture,onChange:B=>m(q=>({...q,picture:B.target.value})),placeholder:"https://example.com/your-avatar.jpg",className:"flex-1",disabled:E}),c.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:x,onChange:j}),c.jsx($e,{type:"button",variant:"outline",size:"icon",onClick:()=>{var B;return(B=x.current)==null?void 0:B.click()},disabled:k||E,title:"Upload avatar image",children:k?c.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):c.jsx(hS,{className:"w-4 h-4"})})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx($e,{className:"w-full",onClick:()=>R(!1),disabled:E||k,children:E?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Profile..."]}):"Create profile"}),c.jsx($e,{variant:"outline",className:"w-full",onClick:()=>R(!0),disabled:E||k,children:E?"Setting up account...":"Skip for now"})]})]})]})]})})};function bC(){const{nostr:e}=Ms(),{logins:t,setLogin:n,removeLogin:r}=mx(),{data:i=[]}=Oa({queryKey:["nostr","logins",t.map(d=>d.id).join(";")],queryFn:async({signal:d})=>{const h=await e.query([{kinds:[0],authors:t.map(m=>m.pubkey)}],{signal:AbortSignal.any([d,AbortSignal.timeout(1500)])});return t.map(({id:m,pubkey:y})=>{const g=h.find(E=>E.pubkey===y);try{const E=jt.json().pipe(jt.metadata()).parse(g==null?void 0:g.content);return{id:m,pubkey:y,metadata:E,event:g}}catch{return{id:m,pubkey:y,metadata:{},event:g}}})},retry:3}),l=(()=>{const d=t[0];if(!d)return;const h=i.find(m=>m.id===d.id);return{metadata:{},...h,id:d.id,pubkey:d.pubkey}})(),u=(i||[]).slice(1);return{authors:i,currentUser:l,otherUsers:u,setLogin:n,removeLogin:r}}var vv=["Enter"," "],YU=["ArrowDown","PageUp","Home"],EC=["ArrowUp","PageDown","End"],JU=[...YU,...EC],QU={ltr:[...vv,"ArrowRight"],rtl:[...vv,"ArrowLeft"]},XU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zd="Menu",[vd,e7,t7]=Rp(zd),[cl,kC]=nr(zd,[t7,Fp,Kc]),Kp=Fp(),SC=Kc(),[n7,ul]=cl(zd),[r7,Dd]=cl(zd),NC=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:l,modal:u=!0}=e,d=Kp(t),[h,m]=T.useState(null),y=T.useRef(!1),g=gr(l),E=Od(i);return T.useEffect(()=>{const _=()=>{y.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>y.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),c.jsx(lB,{...d,children:c.jsx(n7,{scope:t,open:n,onOpenChange:g,content:h,onContentChange:m,children:c.jsx(r7,{scope:t,onClose:T.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:E,modal:u,children:r})})})};NC.displayName=zd;var i7="MenuAnchor",Xx=T.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Kp(n);return c.jsx(WS,{...i,...r,ref:t})});Xx.displayName=i7;var e0="MenuPortal",[s7,CC]=cl(e0,{forceMount:void 0}),jC=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,l=ul(e0,t);return c.jsx(s7,{scope:t,forceMount:n,children:c.jsx(Rr,{present:n||l.open,children:c.jsx(Ip,{asChild:!0,container:i,children:r})})})};jC.displayName=e0;var Qr="MenuContent",[o7,t0]=cl(Qr),PC=T.forwardRef((e,t)=>{const n=CC(Qr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,l=ul(Qr,e.__scopeMenu),u=Dd(Qr,e.__scopeMenu);return c.jsx(vd.Provider,{scope:e.__scopeMenu,children:c.jsx(Rr,{present:r||l.open,children:c.jsx(vd.Slot,{scope:e.__scopeMenu,children:u.modal?c.jsx(a7,{...i,ref:t}):c.jsx(l7,{...i,ref:t})})})})}),a7=T.forwardRef((e,t)=>{const n=ul(Qr,e.__scopeMenu),r=T.useRef(null),i=Lt(t,r);return T.useEffect(()=>{const l=r.current;if(l)return PN(l)},[]),c.jsx(n0,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ke(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),l7=T.forwardRef((e,t)=>{const n=ul(Qr,e.__scopeMenu);return c.jsx(n0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),c7=Lc("MenuContent.ScrollLock"),n0=T.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:E,onDismiss:_,disableOutsideScroll:k,...x}=e,b=ul(Qr,n),S=Dd(Qr,n),j=Kp(n),R=SC(n),D=e7(n),[B,q]=T.useState(null),G=T.useRef(null),J=Lt(t,G,b.onContentChange),V=T.useRef(0),Y=T.useRef(""),Q=T.useRef(0),$=T.useRef(null),re=T.useRef("right"),M=T.useRef(0),W=k?Dx:T.Fragment,ae=k?{as:c7,allowPinchZoom:!0}:void 0,se=ee=>{var Ue,De;const le=Y.current+ee,F=D().filter(Fe=>!Fe.disabled),K=document.activeElement,Ne=(Ue=F.find(Fe=>Fe.ref.current===K))==null?void 0:Ue.textValue,be=F.map(Fe=>Fe.textValue),xe=_7(be,le,Ne),Re=(De=F.find(Fe=>Fe.textValue===xe))==null?void 0:De.ref.current;(function Fe(ot){Y.current=ot,window.clearTimeout(V.current),ot!==""&&(V.current=window.setTimeout(()=>Fe(""),1e3))})(le),Re&&setTimeout(()=>Re.focus())};T.useEffect(()=>()=>window.clearTimeout(V.current),[]),wN();const ne=T.useCallback(ee=>{var F,K;return re.current===((F=$.current)==null?void 0:F.side)&&E7(ee,(K=$.current)==null?void 0:K.area)},[]);return c.jsx(o7,{scope:n,searchRef:Y,onItemEnter:T.useCallback(ee=>{ne(ee)&&ee.preventDefault()},[ne]),onItemLeave:T.useCallback(ee=>{var le;ne(ee)||((le=G.current)==null||le.focus(),q(null))},[ne]),onTriggerLeave:T.useCallback(ee=>{ne(ee)&&ee.preventDefault()},[ne]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:T.useCallback(ee=>{$.current=ee},[]),children:c.jsx(W,{...ae,children:c.jsx(zx,{asChild:!0,trapped:i,onMountAutoFocus:Ke(l,ee=>{var le;ee.preventDefault(),(le=G.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:c.jsx(Td,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:E,onDismiss:_,children:c.jsx(Zx,{asChild:!0,...R,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:q,onEntryFocus:Ke(h,ee=>{S.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(VS,{role:"menu","aria-orientation":"vertical","data-state":WC(b.open),"data-radix-menu-content":"",dir:S.dir,...j,...x,ref:J,style:{outline:"none",...x.style},onKeyDown:Ke(x.onKeyDown,ee=>{const F=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,K=ee.ctrlKey||ee.altKey||ee.metaKey,Ne=ee.key.length===1;F&&(ee.key==="Tab"&&ee.preventDefault(),!K&&Ne&&se(ee.key));const be=G.current;if(ee.target!==be||!JU.includes(ee.key))return;ee.preventDefault();const Re=D().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);EC.includes(ee.key)&&Re.reverse(),x7(Re)}),onBlur:Ke(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(V.current),Y.current="")}),onPointerMove:Ke(e.onPointerMove,xd(ee=>{const le=ee.target,F=M.current!==ee.clientX;if(ee.currentTarget.contains(le)&&F){const K=ee.clientX>M.current?"right":"left";re.current=K,M.current=ee.clientX}}))})})})})})})});PC.displayName=Qr;var u7="MenuGroup",r0=T.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(ct.div,{role:"group",...r,ref:t})});r0.displayName=u7;var d7="MenuLabel",TC=T.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(ct.div,{...r,ref:t})});TC.displayName=d7;var sp="MenuItem",s1="menu.itemSelect",Gp=T.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,l=T.useRef(null),u=Dd(sp,e.__scopeMenu),d=t0(sp,e.__scopeMenu),h=Lt(t,l),m=T.useRef(!1),y=()=>{const g=l.current;if(!n&&g){const E=new CustomEvent(s1,{bubbles:!0,cancelable:!0});g.addEventListener(s1,_=>r==null?void 0:r(_),{once:!0}),gx(g,E),E.defaultPrevented?m.current=!1:u.onClose()}};return c.jsx(AC,{...i,ref:h,disabled:n,onClick:Ke(e.onClick,y),onPointerDown:g=>{var E;(E=e.onPointerDown)==null||E.call(e,g),m.current=!0},onPointerUp:Ke(e.onPointerUp,g=>{var E;m.current||(E=g.currentTarget)==null||E.click()}),onKeyDown:Ke(e.onKeyDown,g=>{const E=d.searchRef.current!=="";n||E&&g.key===" "||vv.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Gp.displayName=sp;var AC=T.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...l}=e,u=t0(sp,n),d=SC(n),h=T.useRef(null),m=Lt(t,h),[y,g]=T.useState(!1),[E,_]=T.useState("");return T.useEffect(()=>{const k=h.current;k&&_((k.textContent??"").trim())},[l.children]),c.jsx(vd.ItemSlot,{scope:n,disabled:r,textValue:i??E,children:c.jsx(Hx,{asChild:!0,...d,focusable:!r,children:c.jsx(ct.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:m,onPointerMove:Ke(e.onPointerMove,xd(k=>{r?u.onItemLeave(k):(u.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(e.onPointerLeave,xd(k=>u.onItemLeave(k))),onFocus:Ke(e.onFocus,()=>g(!0)),onBlur:Ke(e.onBlur,()=>g(!1))})})})}),f7="MenuCheckboxItem",RC=T.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return c.jsx(zC,{scope:e.__scopeMenu,checked:n,children:c.jsx(Gp,{role:"menuitemcheckbox","aria-checked":op(n)?"mixed":n,...i,ref:t,"data-state":s0(n),onSelect:Ke(i.onSelect,()=>r==null?void 0:r(op(n)?!0:!n),{checkForDefaultPrevented:!1})})})});RC.displayName=f7;var IC="MenuRadioGroup",[h7,p7]=cl(IC,{value:void 0,onValueChange:()=>{}}),LC=T.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,l=gr(r);return c.jsx(h7,{scope:e.__scopeMenu,value:n,onValueChange:l,children:c.jsx(r0,{...i,ref:t})})});LC.displayName=IC;var OC="MenuRadioItem",MC=T.forwardRef((e,t)=>{const{value:n,...r}=e,i=p7(OC,e.__scopeMenu),l=n===i.value;return c.jsx(zC,{scope:e.__scopeMenu,checked:l,children:c.jsx(Gp,{role:"menuitemradio","aria-checked":l,...r,ref:t,"data-state":s0(l),onSelect:Ke(r.onSelect,()=>{var u;return(u=i.onValueChange)==null?void 0:u.call(i,n)},{checkForDefaultPrevented:!1})})})});MC.displayName=OC;var i0="MenuItemIndicator",[zC,m7]=cl(i0,{checked:!1}),DC=T.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,l=m7(i0,n);return c.jsx(Rr,{present:r||op(l.checked)||l.checked===!0,children:c.jsx(ct.span,{...i,ref:t,"data-state":s0(l.checked)})})});DC.displayName=i0;var g7="MenuSeparator",BC=T.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(ct.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});BC.displayName=g7;var y7="MenuArrow",FC=T.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Kp(n);return c.jsx(qS,{...i,...r,ref:t})});FC.displayName=y7;var v7="MenuSub",[fH,$C]=cl(v7),Qu="MenuSubTrigger",UC=T.forwardRef((e,t)=>{const n=ul(Qu,e.__scopeMenu),r=Dd(Qu,e.__scopeMenu),i=$C(Qu,e.__scopeMenu),l=t0(Qu,e.__scopeMenu),u=T.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=l,m={__scopeMenu:e.__scopeMenu},y=T.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return T.useEffect(()=>y,[y]),T.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),h(null)}},[d,h]),c.jsx(Xx,{asChild:!0,...m,children:c.jsx(AC,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":WC(n.open),...e,ref:Ap(t,i.onTriggerChange),onClick:g=>{var E;(E=e.onClick)==null||E.call(e,g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ke(e.onPointerMove,xd(g=>{l.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:Ke(e.onPointerLeave,xd(g=>{var _,k;y();const E=(_=n.content)==null?void 0:_.getBoundingClientRect();if(E){const x=(k=n.content)==null?void 0:k.dataset.side,b=x==="right",S=b?-5:5,j=E[b?"left":"right"],R=E[b?"right":"left"];l.onPointerGraceIntentChange({area:[{x:g.clientX+S,y:g.clientY},{x:j,y:E.top},{x:R,y:E.top},{x:R,y:E.bottom},{x:j,y:E.bottom}],side:x}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(g),g.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(e.onKeyDown,g=>{var _;const E=l.searchRef.current!=="";e.disabled||E&&g.key===" "||QU[r.dir].includes(g.key)&&(n.onOpenChange(!0),(_=n.content)==null||_.focus(),g.preventDefault())})})})});UC.displayName=Qu;var ZC="MenuSubContent",HC=T.forwardRef((e,t)=>{const n=CC(Qr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,l=ul(Qr,e.__scopeMenu),u=Dd(Qr,e.__scopeMenu),d=$C(ZC,e.__scopeMenu),h=T.useRef(null),m=Lt(t,h);return c.jsx(vd.Provider,{scope:e.__scopeMenu,children:c.jsx(Rr,{present:r||l.open,children:c.jsx(vd.Slot,{scope:e.__scopeMenu,children:c.jsx(n0,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var g;u.isUsingKeyboardRef.current&&((g=h.current)==null||g.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Ke(e.onFocusOutside,y=>{y.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ke(e.onEscapeKeyDown,y=>{u.onClose(),y.preventDefault()}),onKeyDown:Ke(e.onKeyDown,y=>{var _;const g=y.currentTarget.contains(y.target),E=XU[u.dir].includes(y.key);g&&E&&(l.onOpenChange(!1),(_=d.trigger)==null||_.focus(),y.preventDefault())})})})})})});HC.displayName=ZC;function WC(e){return e?"open":"closed"}function op(e){return e==="indeterminate"}function s0(e){return op(e)?"indeterminate":e?"checked":"unchecked"}function x7(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function w7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function _7(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let u=w7(e,Math.max(l,0));i.length===1&&(u=u.filter(m=>m!==n));const h=u.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function b7(e,t){const{x:n,y:r}=e;let i=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const d=t[l],h=t[u],m=d.x,y=d.y,g=h.x,E=h.y;y>r!=E>r&&n<(g-m)*(r-y)/(E-y)+m&&(i=!i)}return i}function E7(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return b7(n,t)}function xd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var k7=NC,S7=Xx,N7=jC,C7=PC,j7=r0,P7=TC,T7=Gp,A7=RC,R7=LC,I7=MC,L7=DC,O7=BC,M7=FC,z7=UC,D7=HC,Yp="DropdownMenu",[B7,hH]=nr(Yp,[kC]),rr=kC(),[F7,VC]=B7(Yp),qC=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:l,onOpenChange:u,modal:d=!0}=e,h=rr(t),m=T.useRef(null),[y,g]=zs({prop:i,defaultProp:l??!1,onChange:u,caller:Yp});return c.jsx(F7,{scope:t,triggerId:Wo(),triggerRef:m,contentId:Wo(),open:y,onOpenChange:g,onOpenToggle:T.useCallback(()=>g(E=>!E),[g]),modal:d,children:c.jsx(k7,{...h,open:y,onOpenChange:g,dir:r,modal:d,children:n})})};qC.displayName=Yp;var KC="DropdownMenuTrigger",GC=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,l=VC(KC,n),u=rr(n);return c.jsx(S7,{asChild:!0,...u,children:c.jsx(ct.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Ap(t,l.triggerRef),onPointerDown:Ke(e.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Ke(e.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});GC.displayName=KC;var $7="DropdownMenuPortal",YC=e=>{const{__scopeDropdownMenu:t,...n}=e,r=rr(t);return c.jsx(N7,{...r,...n})};YC.displayName=$7;var JC="DropdownMenuContent",QC=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=VC(JC,n),l=rr(n),u=T.useRef(!1);return c.jsx(C7,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...r,ref:t,onCloseAutoFocus:Ke(e.onCloseAutoFocus,d=>{var h;u.current||(h=i.triggerRef.current)==null||h.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:Ke(e.onInteractOutside,d=>{const h=d.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,y=h.button===2||m;(!i.modal||y)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});QC.displayName=JC;var U7="DropdownMenuGroup",Z7=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return c.jsx(j7,{...i,...r,ref:t})});Z7.displayName=U7;var H7="DropdownMenuLabel",XC=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return c.jsx(P7,{...i,...r,ref:t})});XC.displayName=H7;var W7="DropdownMenuItem",ej=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return c.jsx(T7,{...i,...r,ref:t})});ej.displayName=W7;var V7="DropdownMenuCheckboxItem",tj=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return c.jsx(A7,{...i,...r,ref:t})});tj.displayName=V7;var q7="DropdownMenuRadioGroup",K7=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return c.jsx(R7,{...i,...r,ref:t})});K7.displayName=q7;var G7="DropdownMenuRadioItem",nj=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return c.jsx(I7,{...i,...r,ref:t})});nj.displayName=G7;var Y7="DropdownMenuItemIndicator",rj=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return c.jsx(L7,{...i,...r,ref:t})});rj.displayName=Y7;var J7="DropdownMenuSeparator",ij=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return c.jsx(O7,{...i,...r,ref:t})});ij.displayName=J7;var Q7="DropdownMenuArrow",X7=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return c.jsx(M7,{...i,...r,ref:t})});X7.displayName=Q7;var e9="DropdownMenuSubTrigger",sj=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return c.jsx(z7,{...i,...r,ref:t})});sj.displayName=e9;var t9="DropdownMenuSubContent",oj=T.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rr(n);return c.jsx(D7,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oj.displayName=t9;var n9=qC,r9=GC,i9=YC,aj=QC,lj=XC,cj=ej,uj=tj,dj=nj,fj=rj,hj=ij,pj=sj,mj=oj;const s9=n9,o9=r9,a9=T.forwardRef(({className:e,inset:t,children:n,...r},i)=>c.jsxs(pj,{ref:i,className:ut("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,c.jsx(t6,{className:"ml-auto h-4 w-4"})]}));a9.displayName=pj.displayName;const l9=T.forwardRef(({className:e,...t},n)=>c.jsx(mj,{ref:n,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));l9.displayName=mj.displayName;const gj=T.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(i9,{children:c.jsx(aj,{ref:r,sideOffset:t,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));gj.displayName=aj.displayName;const Rh=T.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(cj,{ref:r,className:ut("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Rh.displayName=cj.displayName;const c9=T.forwardRef(({className:e,children:t,checked:n,...r},i)=>c.jsxs(uj,{ref:i,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(fj,{children:c.jsx(e6,{className:"h-4 w-4"})})}),t]}));c9.displayName=uj.displayName;const u9=T.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(dj,{ref:r,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(fj,{children:c.jsx(cS,{className:"h-2 w-2 fill-current"})})}),t]}));u9.displayName=dj.displayName;const d9=T.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(lj,{ref:r,className:ut("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));d9.displayName=lj.displayName;const yj=T.forwardRef(({className:e,...t},n)=>c.jsx(hj,{ref:n,className:ut("-mx-1 my-1 h-px bg-muted",e),...t}));yj.displayName=hj.displayName;var uy={exports:{}},dy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1;function f9(){if(o1)return dy;o1=1;var e=cp();function t(g,E){return g===E&&(g!==0||1/g===1/E)||g!==g&&E!==E}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,l=e.useLayoutEffect,u=e.useDebugValue;function d(g,E){var _=E(),k=r({inst:{value:_,getSnapshot:E}}),x=k[0].inst,b=k[1];return l(function(){x.value=_,x.getSnapshot=E,h(x)&&b({inst:x})},[g,_,E]),i(function(){return h(x)&&b({inst:x}),g(function(){h(x)&&b({inst:x})})},[g]),u(_),_}function h(g){var E=g.getSnapshot;g=g.value;try{var _=E();return!n(g,_)}catch{return!0}}function m(g,E){return E()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return dy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,dy}var a1;function h9(){return a1||(a1=1,uy.exports=f9()),uy.exports}var p9=h9();function m9(){return p9.useSyncExternalStore(g9,()=>!0,()=>!1)}function g9(){return()=>{}}var o0="Avatar",[y9,pH]=nr(o0),[v9,vj]=y9(o0),xj=T.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,l]=T.useState("idle");return c.jsx(v9,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:c.jsx(ct.span,{...r,ref:t})})});xj.displayName=o0;var wj="AvatarImage",_j=T.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...l}=e,u=vj(wj,n),d=x9(r,l),h=gr(m=>{i(m),u.onImageLoadingStatusChange(m)});return Ar(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?c.jsx(ct.img,{...l,ref:t,src:r}):null});_j.displayName=wj;var bj="AvatarFallback",Ej=T.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,l=vj(bj,n),[u,d]=T.useState(r===void 0);return T.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(h)}},[r]),u&&l.imageLoadingStatus!=="loaded"?c.jsx(ct.span,{...i,ref:t}):null});Ej.displayName=bj;function l1(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function x9(e,{referrerPolicy:t,crossOrigin:n}){const r=m9(),i=T.useRef(null),l=r?(i.current||(i.current=new window.Image),i.current):null,[u,d]=T.useState(()=>l1(l,e));return Ar(()=>{d(l1(l,e))},[l,e]),Ar(()=>{const h=g=>()=>{d(g)};if(!l)return;const m=h("loaded"),y=h("error");return l.addEventListener("load",m),l.addEventListener("error",y),t&&(l.referrerPolicy=t),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",m),l.removeEventListener("error",y)}},[l,n,t]),u}var kj=xj,Sj=_j,Nj=Ej;const wd=T.forwardRef(({className:e,...t},n)=>c.jsx(kj,{ref:n,className:ut("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));wd.displayName=kj.displayName;const xv=T.forwardRef(({className:e,...t},n)=>c.jsx(Sj,{ref:n,className:ut("aspect-square h-full w-full object-cover",e),...t}));xv.displayName=Sj.displayName;const _d=T.forwardRef(({className:e,...t},n)=>c.jsx(Nj,{ref:n,className:ut("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));_d.displayName=Nj.displayName;function Cj(e){const t=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let u=0;u<e.length;u++){const d=e.charCodeAt(u);r=(r<<5)-r+d,r=r&r}const i=Math.abs(r)%t.length,l=Math.abs(r>>8)%n.length;return[t[i],n[l]].join(" ")}function w9({onAddAccountClick:e}){const{currentUser:t,otherUsers:n,setLogin:r,removeLogin:i}=bC();if(!t)return null;const l=u=>u.metadata.name??Cj(u.pubkey);return c.jsxs(s9,{modal:!1,children:[c.jsx(o9,{asChild:!0,children:c.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[c.jsxs(wd,{className:"w-10 h-10",children:[c.jsx(xv,{src:t.metadata.picture,alt:l(t)}),c.jsx(_d,{children:l(t).charAt(0)})]}),c.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:c.jsx("p",{className:"font-medium text-sm truncate",children:l(t)})}),c.jsx(lS,{className:"w-4 h-4 text-muted-foreground"})]})}),c.jsxs(gj,{className:"w-56 p-2 animate-scale-in",children:[c.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(u=>{var d;return c.jsxs(Rh,{onClick:()=>r(u.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[c.jsxs(wd,{className:"w-8 h-8",children:[c.jsx(xv,{src:u.metadata.picture,alt:l(u)}),c.jsx(_d,{children:((d=l(u))==null?void 0:d.charAt(0))||c.jsx(Kh,{})})]}),c.jsx("div",{className:"flex-1 truncate",children:c.jsx("p",{className:"text-sm font-medium",children:l(u)})}),u.id===t.id&&c.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},u.id)}),c.jsx(yj,{}),c.jsxs(Rh,{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[c.jsx(y6,{className:"w-4 h-4"}),c.jsx("span",{children:"Add another account"})]}),c.jsxs(Rh,{onClick:()=>i(t.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[c.jsx(u6,{className:"w-4 h-4"}),c.jsx("span",{children:"Log out"})]})]})]})}function wv({className:e}){const{currentUser:t}=bC(),[n,r]=T.useState(!1),[i,l]=T.useState(!1),u=()=>{r(!1),l(!1)};return c.jsxs("div",{className:ut("inline-flex items-center justify-center",e),children:[t?c.jsx(w9,{onAddAccountClick:()=>r(!0)}):c.jsxs("div",{className:"flex gap-3 justify-center",children:[c.jsx($e,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:c.jsx("span",{className:"truncate",children:"Log in"})}),c.jsx($e,{onClick:()=>l(!0),variant:"outline",className:"flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all",children:c.jsx("span",{children:"Sign up"})})]}),c.jsx(KU,{isOpen:n,onClose:()=>r(!1),onLogin:u}),c.jsx(GU,{isOpen:i,onClose:()=>l(!1)})]})}function _9(){const e=ll(),t=n=>e.pathname===n;return c.jsx("nav",{className:"border-b bg-background/80 backdrop-blur sticky top-0 z-50",children:c.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx(Jt,{to:"/",className:"text-xl font-bold tracking-tight",children:"DeadDropstr"}),c.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[c.jsx($e,{asChild:!0,variant:t("/")?"secondary":"ghost",size:"sm",children:c.jsxs(Jt,{to:"/",children:[c.jsx(s6,{className:"h-4 w-4 mr-1"}),"Home"]})}),c.jsx($e,{asChild:!0,variant:t("/marketplace")?"secondary":"ghost",size:"sm",children:c.jsxs(Jt,{to:"/marketplace",children:[c.jsx(ud,{className:"h-4 w-4 mr-1"}),"Marketplace"]})}),c.jsx($e,{asChild:!0,variant:t("/my-lockers")?"secondary":"ghost",size:"sm",children:c.jsxs(Jt,{to:"/my-lockers",children:[c.jsx(Hi,{className:"h-4 w-4 mr-1"}),"My Lockers"]})}),c.jsx($e,{asChild:!0,variant:t("/proxy-drops")?"secondary":"ghost",size:"sm",children:c.jsxs(Jt,{to:"/proxy-drops",children:[c.jsx(Ns,{className:"h-4 w-4 mr-1"}),"Proxy Drops"]})}),c.jsx($e,{asChild:!0,variant:t("/dashboard")?"secondary":"ghost",size:"sm",children:c.jsxs(Jt,{to:"/dashboard",children:[c.jsx(jh,{className:"h-4 w-4 mr-1"}),"Host"]})}),c.jsx($e,{asChild:!0,variant:t("/hardware")?"secondary":"ghost",size:"sm",children:c.jsxs(Jt,{to:"/hardware",children:[c.jsx(Ya,{className:"h-4 w-4 mr-1"}),"Hardware"]})}),c.jsx($e,{asChild:!0,variant:t("/starter-pack")?"secondary":"ghost",size:"sm",children:c.jsxs(Jt,{to:"/starter-pack",children:[c.jsx(rv,{className:"h-4 w-4 mr-1"}),"Starter"]})}),c.jsx($e,{asChild:!0,variant:t("/messages")?"secondary":"ghost",size:"sm",children:c.jsxs(Jt,{to:"/messages",children:[c.jsx(wx,{className:"h-4 w-4 mr-1"}),"Messages"]})})]})]}),c.jsx(wv,{className:"max-w-60"})]})})}const rt=T.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ut("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));rt.displayName="Card";const mt=T.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ut("flex flex-col space-y-1.5 p-6",e),...t}));mt.displayName="CardHeader";const vt=T.forwardRef(({className:e,...t},n)=>c.jsx("h3",{ref:n,className:ut("text-2xl font-semibold leading-none tracking-tight",e),...t}));vt.displayName="CardTitle";const tn=T.forwardRef(({className:e,...t},n)=>c.jsx("p",{ref:n,className:ut("text-sm text-muted-foreground",e),...t}));tn.displayName="CardDescription";const it=T.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ut("p-6 pt-0",e),...t}));it.displayName="CardContent";const Da=T.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ut("flex items-center p-6 pt-0",e),...t}));Da.displayName="CardFooter";const b9=Rd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yt({className:e,variant:t,...n}){return c.jsx("div",{className:ut(b9({variant:t}),e),...n})}var E9="Label",jj=T.forwardRef((e,t)=>c.jsx(ct.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jj.displayName=E9;var Pj=jj;const k9=Rd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),un=T.forwardRef(({className:e,...t},n)=>c.jsx(Pj,{ref:n,className:ut(k9(),e),...t}));un.displayName=Pj.displayName;var S9="Separator",c1="horizontal",N9=["horizontal","vertical"],Tj=T.forwardRef((e,t)=>{const{decorative:n,orientation:r=c1,...i}=e,l=C9(r)?r:c1,d=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return c.jsx(ct.div,{"data-orientation":l,...d,...i,ref:t})});Tj.displayName=S9;function C9(e){return N9.includes(e)}var Aj=Tj;const ys=T.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>c.jsx(Aj,{ref:i,decorative:n,orientation:t,className:ut("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));ys.displayName=Aj.displayName;const u1=[{id:"1",dTag:"locker-sf-001",name:"Mission District Secure Box",description:"24/7 accessible smart locker in secure building. Camera monitored. Perfect for package exchanges and dead drops. Located in a well-lit area with foot traffic.",price:500,geohash:"9q8yyz",address:"2490 Mission St, San Francisco, CA 94110",city:"San Francisco",state:"CA",owner:"npub1owner1...",dimensions:"40x50x60 cm",features:["24/7 Access","Camera Monitored","Climate Controlled","NFC Unlock"],availability:"Available now"},{id:"2",dTag:"locker-nyc-001",name:"Brooklyn Heights Drop",description:"Street-level locker in residential neighborhood. Well-lit and discreet. Great for quick exchanges.",price:750,geohash:"9q8yyk",address:"145 Columbia Heights, Brooklyn, NY 11201",city:"New York",state:"NY",owner:"npub1owner2...",dimensions:"35x45x55 cm",features:["Ground Floor","Discreet Location","QR Code Access"],availability:"Available now"}];function j9(){const{dTag:e}=Mx(),t=pN(),{toast:n}=sl(),[r,i]=T.useState("details"),[l,u]=T.useState(24),[d,h]=T.useState(!1),m=u1.find(k=>k.dTag===e)||u1[0],y=m.price*l,g=()=>{n({title:"Payment received!",description:"Generating your access credentials..."}),setTimeout(()=>i("confirmation"),1500)},E=k=>{navigator.clipboard.writeText(k),h(!0),setTimeout(()=>h(!1),2e3),n({title:"Copied to clipboard"})},_=Math.random().toString(36).substring(2,8).toUpperCase();return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"container mx-auto p-4 max-w-2xl",children:[c.jsxs($e,{variant:"ghost",className:"mb-4 -ml-4",onClick:()=>t(-1),children:[c.jsx(aS,{className:"h-4 w-4 mr-2"}),"Back"]}),r==="details"&&c.jsx(c.Fragment,{children:c.jsxs(rt,{children:[c.jsx(mt,{children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx(vt,{className:"text-2xl",children:m.name}),c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[c.jsx(ol,{className:"h-4 w-4"}),c.jsxs("span",{children:[m.city,", ",m.state]})]})]}),c.jsx(yt,{variant:"secondary",children:m.availability})]})}),c.jsxs(it,{className:"space-y-6",children:[c.jsx("p",{className:"text-muted-foreground",children:m.description}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[c.jsx(Hi,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Dimensions"})]}),c.jsx("p",{className:"font-medium",children:m.dimensions})]}),c.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[c.jsx(uS,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Hourly Rate"})]}),c.jsxs("p",{className:"font-medium",children:[m.price," sats"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium mb-2",children:"Features"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:m.features.map(k=>c.jsx(yt,{variant:"outline",children:k},k))})]}),c.jsx(ys,{}),c.jsxs("div",{className:"bg-primary/5 border border-primary/20 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Ns,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"font-medium",children:"Secure Dead Drop"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"This locker uses end-to-end encryption. Only you and the recipient (if specified) will have access to the contents."})]})]}),c.jsx(Da,{children:c.jsx($e,{size:"lg",className:"w-full",onClick:()=>i("duration"),children:"Rent This Locker"})})]})}),r==="duration"&&c.jsxs(rt,{children:[c.jsx(mt,{children:c.jsx(vt,{children:"Select Rental Duration"})}),c.jsxs(it,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs(un,{children:["Rental Hours: ",l," hrs"]}),c.jsx("input",{type:"range",min:"1",max:"168",value:l,onChange:k=>u(parseInt(k.target.value)),className:"w-full"}),c.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[c.jsx("span",{children:"1 hour"}),c.jsx("span",{children:"1 week (168 hrs)"})]})]}),c.jsx(ys,{}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Hourly rate"}),c.jsxs("span",{children:[m.price," sats"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Duration"}),c.jsxs("span",{children:[l," hours"]})]}),c.jsx(ys,{}),c.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:[y.toLocaleString()," sats"]})]}),c.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[" $",(y/5e4).toFixed(2)," USD"]})]})]}),c.jsxs(Da,{className:"flex gap-2",children:[c.jsx($e,{variant:"outline",className:"flex-1",onClick:()=>i("details"),children:"Back"}),c.jsx($e,{className:"flex-1",onClick:()=>i("payment"),children:"Continue to Payment"})]})]}),r==="payment"&&c.jsxs(rt,{children:[c.jsx(mt,{children:c.jsx(vt,{children:"Complete Payment"})}),c.jsxs(it,{className:"space-y-6",children:[c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"w-48 h-48 bg-muted mx-auto rounded-lg flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Cs,{className:"h-12 w-12 mx-auto text-primary mb-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Mock Payment"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"(Placeholder)"})]})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-2xl font-bold",children:[y.toLocaleString()," sats"]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan to pay with Lightning"})]})]}),c.jsx(ys,{}),c.jsx("div",{className:"bg-muted p-4 rounded-lg",children:c.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'This is a demo. Click "Simulate Payment" to see the confirmation flow.'})})]}),c.jsxs(Da,{className:"flex gap-2",children:[c.jsx($e,{variant:"outline",className:"flex-1",onClick:()=>i("duration"),children:"Back"}),c.jsx($e,{className:"flex-1",onClick:g,children:"Simulate Payment"})]})]}),r==="confirmation"&&c.jsxs(rt,{className:"border-green-500/50 bg-green-50/50",children:[c.jsx(mt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:c.jsx(Kg,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx(vt,{children:"Rental Confirmed!"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Your locker is ready"})]})]})}),c.jsxs(it,{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-4",children:[c.jsxs("div",{children:[c.jsx(un,{className:"text-muted-foreground",children:"Locker Address"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("p",{className:"font-mono text-sm",children:m.address}),c.jsx($e,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>E(m.address),children:d?c.jsx(Kg,{className:"h-4 w-4"}):c.jsx(fb,{className:"h-4 w-4"})})]})]}),c.jsx(ys,{}),c.jsxs("div",{children:[c.jsx(un,{className:"text-muted-foreground",children:"Access Code"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("div",{className:"bg-black text-white px-4 py-2 rounded font-mono text-lg tracking-widest",children:_}),c.jsx($e,{size:"icon",variant:"ghost",className:"h-10 w-10",onClick:()=>E(_),children:d?c.jsx(Kg,{className:"h-4 w-4"}):c.jsx(fb,{className:"h-4 w-4"})})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Enter this code on the locker keypad or scan NFC"})]}),c.jsx(ys,{}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(o6,{className:"h-4 w-4"}),c.jsxs("span",{children:["Valid for ",l," hours from now"]})]})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Next Steps:"})," Go to the locker location and enter your access code. You can share this code with someone else for a dead drop exchange."]})})]}),c.jsx(Da,{children:c.jsx($e,{className:"w-full",onClick:()=>t("/marketplace"),children:"Back to Marketplace"})})]})]})})}function Rj(e,[t,n]){return Math.min(n,Math.max(t,e))}function a0(e){const t=T.useRef({value:e,previous:e});return T.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ij=["PageUp","PageDown"],Lj=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Oj={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Gc="Slider",[_v,P9,T9]=Rp(Gc),[Mj,mH]=nr(Gc,[T9]),[A9,Jp]=Mj(Gc),zj=T.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:l=1,orientation:u="horizontal",disabled:d=!1,minStepsBetweenThumbs:h=0,defaultValue:m=[r],value:y,onValueChange:g=()=>{},onValueCommit:E=()=>{},inverted:_=!1,form:k,...x}=e,b=T.useRef(new Set),S=T.useRef(0),R=u==="horizontal"?R9:I9,[D=[],B]=zs({prop:y,defaultProp:m,onChange:Q=>{var re;(re=[...b.current][S.current])==null||re.focus(),g(Q)}}),q=T.useRef(D);function G(Q){const $=D9(D,Q);Y(Q,$)}function J(Q){Y(Q,S.current)}function V(){const Q=q.current[S.current];D[S.current]!==Q&&E(D)}function Y(Q,$,{commit:re}={commit:!1}){const M=U9(l),W=Z9(Math.round((Q-r)/l)*l+r,M),ae=Rj(W,[r,i]);B((se=[])=>{const ne=M9(se,ae,$);if($9(ne,h*l)){S.current=ne.indexOf(ae);const ee=String(ne)!==String(se);return ee&&re&&E(ne),ee?ne:se}else return se})}return c.jsx(A9,{scope:e.__scopeSlider,name:n,disabled:d,min:r,max:i,valueIndexToChangeRef:S,thumbs:b.current,values:D,orientation:u,form:k,children:c.jsx(_v.Provider,{scope:e.__scopeSlider,children:c.jsx(_v.Slot,{scope:e.__scopeSlider,children:c.jsx(R,{"aria-disabled":d,"data-disabled":d?"":void 0,...x,ref:t,onPointerDown:Ke(x.onPointerDown,()=>{d||(q.current=D)}),min:r,max:i,inverted:_,onSlideStart:d?void 0:G,onSlideMove:d?void 0:J,onSlideEnd:d?void 0:V,onHomeKeyDown:()=>!d&&Y(r,0,{commit:!0}),onEndKeyDown:()=>!d&&Y(i,D.length-1,{commit:!0}),onStepKeyDown:({event:Q,direction:$})=>{if(!d){const W=Ij.includes(Q.key)||Q.shiftKey&&Lj.includes(Q.key)?10:1,ae=S.current,se=D[ae],ne=l*W*$;Y(se+ne,ae,{commit:!0})}}})})})})});zj.displayName=Gc;var[Dj,Bj]=Mj(Gc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),R9=T.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:l,onSlideStart:u,onSlideMove:d,onSlideEnd:h,onStepKeyDown:m,...y}=e,[g,E]=T.useState(null),_=Lt(t,R=>E(R)),k=T.useRef(void 0),x=Od(i),b=x==="ltr",S=b&&!l||!b&&l;function j(R){const D=k.current||g.getBoundingClientRect(),B=[0,D.width],G=l0(B,S?[n,r]:[r,n]);return k.current=D,G(R-D.left)}return c.jsx(Dj,{scope:e.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:c.jsx(Fj,{dir:x,"data-orientation":"horizontal",...y,ref:_,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:R=>{const D=j(R.clientX);u==null||u(D)},onSlideMove:R=>{const D=j(R.clientX);d==null||d(D)},onSlideEnd:()=>{k.current=void 0,h==null||h()},onStepKeyDown:R=>{const B=Oj[S?"from-left":"from-right"].includes(R.key);m==null||m({event:R,direction:B?-1:1})}})})}),I9=T.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:l,onSlideMove:u,onSlideEnd:d,onStepKeyDown:h,...m}=e,y=T.useRef(null),g=Lt(t,y),E=T.useRef(void 0),_=!i;function k(x){const b=E.current||y.current.getBoundingClientRect(),S=[0,b.height],R=l0(S,_?[r,n]:[n,r]);return E.current=b,R(x-b.top)}return c.jsx(Dj,{scope:e.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:c.jsx(Fj,{"data-orientation":"vertical",...m,ref:g,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=k(x.clientY);l==null||l(b)},onSlideMove:x=>{const b=k(x.clientY);u==null||u(b)},onSlideEnd:()=>{E.current=void 0,d==null||d()},onStepKeyDown:x=>{const S=Oj[_?"from-bottom":"from-top"].includes(x.key);h==null||h({event:x,direction:S?-1:1})}})})}),Fj=T.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:u,onEndKeyDown:d,onStepKeyDown:h,...m}=e,y=Jp(Gc,n);return c.jsx(ct.span,{...m,ref:t,onKeyDown:Ke(e.onKeyDown,g=>{g.key==="Home"?(u(g),g.preventDefault()):g.key==="End"?(d(g),g.preventDefault()):Ij.concat(Lj).includes(g.key)&&(h(g),g.preventDefault())}),onPointerDown:Ke(e.onPointerDown,g=>{const E=g.target;E.setPointerCapture(g.pointerId),g.preventDefault(),y.thumbs.has(E)?E.focus():r(g)}),onPointerMove:Ke(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:Ke(e.onPointerUp,g=>{const E=g.target;E.hasPointerCapture(g.pointerId)&&(E.releasePointerCapture(g.pointerId),l(g))})})}),$j="SliderTrack",Uj=T.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Jp($j,n);return c.jsx(ct.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});Uj.displayName=$j;var bv="SliderRange",Zj=T.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Jp(bv,n),l=Bj(bv,n),u=T.useRef(null),d=Lt(t,u),h=i.values.length,m=i.values.map(E=>Vj(E,i.min,i.max)),y=h>1?Math.min(...m):0,g=100-Math.max(...m);return c.jsx(ct.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:d,style:{...e.style,[l.startEdge]:y+"%",[l.endEdge]:g+"%"}})});Zj.displayName=bv;var Ev="SliderThumb",Hj=T.forwardRef((e,t)=>{const n=P9(e.__scopeSlider),[r,i]=T.useState(null),l=Lt(t,d=>i(d)),u=T.useMemo(()=>r?n().findIndex(d=>d.ref.current===r):-1,[n,r]);return c.jsx(L9,{...e,ref:l,index:u})}),L9=T.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...l}=e,u=Jp(Ev,n),d=Bj(Ev,n),[h,m]=T.useState(null),y=Lt(t,j=>m(j)),g=h?u.form||!!h.closest("form"):!0,E=Bp(h),_=u.values[r],k=_===void 0?0:Vj(_,u.min,u.max),x=z9(r,u.values.length),b=E==null?void 0:E[d.size],S=b?B9(b,k,d.direction):0;return T.useEffect(()=>{if(h)return u.thumbs.add(h),()=>{u.thumbs.delete(h)}},[h,u.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${k}% + ${S}px)`},children:[c.jsx(_v.ItemSlot,{scope:e.__scopeSlider,children:c.jsx(ct.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":u.min,"aria-valuenow":_,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...l,ref:y,style:_===void 0?{display:"none"}:e.style,onFocus:Ke(e.onFocus,()=>{u.valueIndexToChangeRef.current=r})})}),g&&c.jsx(Wj,{name:i??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:_},r)]})});Hj.displayName=Ev;var O9="RadioBubbleInput",Wj=T.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=T.useRef(null),l=Lt(i,r),u=a0(t);return T.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==t&&y){const g=new Event("input",{bubbles:!0});y.call(d,t),d.dispatchEvent(g)}},[u,t]),c.jsx(ct.input,{style:{display:"none"},...n,ref:l,defaultValue:t})});Wj.displayName=O9;function M9(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,l)=>i-l)}function Vj(e,t,n){const l=100/(n-t)*(e-t);return Rj(l,[0,100])}function z9(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function D9(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function B9(e,t,n){const r=e/2,l=l0([0,50],[0,r]);return(r-l(t)*n)*n}function F9(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function $9(e,t){if(t>0){const n=F9(e);return Math.min(...n)>=t}return!0}function l0(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function U9(e){return(String(e).split(".")[1]||"").length}function Z9(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var qj=zj,H9=Uj,W9=Zj,V9=Hj;const Kj=T.forwardRef(({className:e,...t},n)=>c.jsxs(qj,{ref:n,className:ut("relative flex w-full touch-none select-none items-center",e),...t,children:[c.jsx(H9,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(W9,{className:"absolute h-full bg-primary"})}),c.jsx(V9,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Kj.displayName=qj.displayName;var Xu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var q9=Xu.exports,d1;function K9(){return d1||(d1=1,function(e,t){(function(n,r){r(t)})(q9,function(n){var r="1.9.4";function i(o){var f,v,N,O;for(v=1,N=arguments.length;v<N;v++){O=arguments[v];for(f in O)o[f]=O[f]}return o}var l=Object.create||function(){function o(){}return function(f){return o.prototype=f,new o}}();function u(o,f){var v=Array.prototype.slice;if(o.bind)return o.bind.apply(o,v.call(arguments,1));var N=v.call(arguments,2);return function(){return o.apply(f,N.length?N.concat(v.call(arguments)):arguments)}}var d=0;function h(o){return"_leaflet_id"in o||(o._leaflet_id=++d),o._leaflet_id}function m(o,f,v){var N,O,H,ce;return ce=function(){N=!1,O&&(H.apply(v,O),O=!1)},H=function(){N?O=arguments:(o.apply(v,arguments),setTimeout(ce,f),N=!0)},H}function y(o,f,v){var N=f[1],O=f[0],H=N-O;return o===N&&v?o:((o-O)%H+H)%H+O}function g(){return!1}function E(o,f){if(f===!1)return o;var v=Math.pow(10,f===void 0?6:f);return Math.round(o*v)/v}function _(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function k(o){return _(o).split(/\s+/)}function x(o,f){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var v in f)o.options[v]=f[v];return o.options}function b(o,f,v){var N=[];for(var O in o)N.push(encodeURIComponent(v?O.toUpperCase():O)+"="+encodeURIComponent(o[O]));return(!f||f.indexOf("?")===-1?"?":"&")+N.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function j(o,f){return o.replace(S,function(v,N){var O=f[N];if(O===void 0)throw new Error("No value provided for variable "+v);return typeof O=="function"&&(O=O(f)),O})}var R=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function D(o,f){for(var v=0;v<o.length;v++)if(o[v]===f)return v;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var G=0;function J(o){var f=+new Date,v=Math.max(0,16-(f-G));return G=f+v,window.setTimeout(o,v)}var V=window.requestAnimationFrame||q("RequestAnimationFrame")||J,Y=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Q(o,f,v){if(v&&V===J)o.call(f);else return V.call(window,u(o,f))}function $(o){o&&Y.call(window,o)}var re={__proto__:null,extend:i,create:l,bind:u,get lastId(){return d},stamp:h,throttle:m,wrapNum:y,falseFn:g,formatNum:E,trim:_,splitWords:k,setOptions:x,getParamString:b,template:j,isArray:R,indexOf:D,emptyImageUrl:B,requestFn:V,cancelFn:Y,requestAnimFrame:Q,cancelAnimFrame:$};function M(){}M.extend=function(o){var f=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=f.__super__=this.prototype,N=l(v);N.constructor=f,f.prototype=N;for(var O in this)Object.prototype.hasOwnProperty.call(this,O)&&O!=="prototype"&&O!=="__super__"&&(f[O]=this[O]);return o.statics&&i(f,o.statics),o.includes&&(W(o.includes),i.apply(null,[N].concat(o.includes))),i(N,o),delete N.statics,delete N.includes,N.options&&(N.options=v.options?l(v.options):{},i(N.options,o.options)),N._initHooks=[],N.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var H=0,ce=N._initHooks.length;H<ce;H++)N._initHooks[H].call(this)}},f},M.include=function(o){var f=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=f,this.mergeOptions(o.options)),this},M.mergeOptions=function(o){return i(this.prototype.options,o),this},M.addInitHook=function(o){var f=Array.prototype.slice.call(arguments,1),v=typeof o=="function"?o:function(){this[o].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function W(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=R(o)?o:[o];for(var f=0;f<o.length;f++)o[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(o,f,v){if(typeof o=="object")for(var N in o)this._on(N,o[N],f);else{o=k(o);for(var O=0,H=o.length;O<H;O++)this._on(o[O],f,v)}return this},off:function(o,f,v){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var N in o)this._off(N,o[N],f);else{o=k(o);for(var O=arguments.length===1,H=0,ce=o.length;H<ce;H++)O?this._off(o[H]):this._off(o[H],f,v)}return this},_on:function(o,f,v,N){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(o,f,v)===!1){v===this&&(v=void 0);var O={fn:f,ctx:v};N&&(O.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(O)}},_off:function(o,f,v){var N,O,H;if(this._events&&(N=this._events[o],!!N)){if(arguments.length===1){if(this._firingCount)for(O=0,H=N.length;O<H;O++)N[O].fn=g;delete this._events[o];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var ce=this._listens(o,f,v);if(ce!==!1){var ge=N[ce];this._firingCount&&(ge.fn=g,this._events[o]=N=N.slice()),N.splice(ce,1)}}},fire:function(o,f,v){if(!this.listens(o,v))return this;var N=i({},f,{type:o,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var O=this._events[o];if(O){this._firingCount=this._firingCount+1||1;for(var H=0,ce=O.length;H<ce;H++){var ge=O[H],_e=ge.fn;ge.once&&this.off(o,_e,ge.ctx),_e.call(ge.ctx||this,N)}this._firingCount--}}return v&&this._propagateEvent(N),this},listens:function(o,f,v,N){typeof o!="string"&&console.warn('"string" type argument expected');var O=f;typeof f!="function"&&(N=!!f,O=void 0,v=void 0);var H=this._events&&this._events[o];if(H&&H.length&&this._listens(o,O,v)!==!1)return!0;if(N){for(var ce in this._eventParents)if(this._eventParents[ce].listens(o,f,v,N))return!0}return!1},_listens:function(o,f,v){if(!this._events)return!1;var N=this._events[o]||[];if(!f)return!!N.length;v===this&&(v=void 0);for(var O=0,H=N.length;O<H;O++)if(N[O].fn===f&&N[O].ctx===v)return O;return!1},once:function(o,f,v){if(typeof o=="object")for(var N in o)this._on(N,o[N],f,!0);else{o=k(o);for(var O=0,H=o.length;O<H;O++)this._on(o[O],f,v,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[h(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[h(o)],this},_propagateEvent:function(o){for(var f in this._eventParents)this._eventParents[f].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var se=M.extend(ae);function ne(o,f,v){this.x=v?Math.round(o):o,this.y=v?Math.round(f):f}var ee=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(o){return this.clone()._add(le(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(le(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new ne(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new ne(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(o){o=le(o);var f=o.x-this.x,v=o.y-this.y;return Math.sqrt(f*f+v*v)},equals:function(o){return o=le(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=le(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function le(o,f,v){return o instanceof ne?o:R(o)?new ne(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new ne(o.x,o.y):new ne(o,f,v)}function F(o,f){if(o)for(var v=f?[o,f]:o,N=0,O=v.length;N<O;N++)this.extend(v[N])}F.prototype={extend:function(o){var f,v;if(!o)return this;if(o instanceof ne||typeof o[0]=="number"||"x"in o)f=v=le(o);else if(o=K(o),f=o.min,v=o.max,!f||!v)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=v.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(o){return le((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return le(this.min.x,this.max.y)},getTopRight:function(){return le(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var f,v;return typeof o[0]=="number"||o instanceof ne?o=le(o):o=K(o),o instanceof F?(f=o.min,v=o.max):f=v=o,f.x>=this.min.x&&v.x<=this.max.x&&f.y>=this.min.y&&v.y<=this.max.y},intersects:function(o){o=K(o);var f=this.min,v=this.max,N=o.min,O=o.max,H=O.x>=f.x&&N.x<=v.x,ce=O.y>=f.y&&N.y<=v.y;return H&&ce},overlaps:function(o){o=K(o);var f=this.min,v=this.max,N=o.min,O=o.max,H=O.x>f.x&&N.x<v.x,ce=O.y>f.y&&N.y<v.y;return H&&ce},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var f=this.min,v=this.max,N=Math.abs(f.x-v.x)*o,O=Math.abs(f.y-v.y)*o;return K(le(f.x-N,f.y-O),le(v.x+N,v.y+O))},equals:function(o){return o?(o=K(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function K(o,f){return!o||o instanceof F?o:new F(o,f)}function Ne(o,f){if(o)for(var v=f?[o,f]:o,N=0,O=v.length;N<O;N++)this.extend(v[N])}Ne.prototype={extend:function(o){var f=this._southWest,v=this._northEast,N,O;if(o instanceof xe)N=o,O=o;else if(o instanceof Ne){if(N=o._southWest,O=o._northEast,!N||!O)return this}else return o?this.extend(Re(o)||be(o)):this;return!f&&!v?(this._southWest=new xe(N.lat,N.lng),this._northEast=new xe(O.lat,O.lng)):(f.lat=Math.min(N.lat,f.lat),f.lng=Math.min(N.lng,f.lng),v.lat=Math.max(O.lat,v.lat),v.lng=Math.max(O.lng,v.lng)),this},pad:function(o){var f=this._southWest,v=this._northEast,N=Math.abs(f.lat-v.lat)*o,O=Math.abs(f.lng-v.lng)*o;return new Ne(new xe(f.lat-N,f.lng-O),new xe(v.lat+N,v.lng+O))},getCenter:function(){return new xe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xe(this.getNorth(),this.getWest())},getSouthEast:function(){return new xe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof xe||"lat"in o?o=Re(o):o=be(o);var f=this._southWest,v=this._northEast,N,O;return o instanceof Ne?(N=o.getSouthWest(),O=o.getNorthEast()):N=O=o,N.lat>=f.lat&&O.lat<=v.lat&&N.lng>=f.lng&&O.lng<=v.lng},intersects:function(o){o=be(o);var f=this._southWest,v=this._northEast,N=o.getSouthWest(),O=o.getNorthEast(),H=O.lat>=f.lat&&N.lat<=v.lat,ce=O.lng>=f.lng&&N.lng<=v.lng;return H&&ce},overlaps:function(o){o=be(o);var f=this._southWest,v=this._northEast,N=o.getSouthWest(),O=o.getNorthEast(),H=O.lat>f.lat&&N.lat<v.lat,ce=O.lng>f.lng&&N.lng<v.lng;return H&&ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,f){return o?(o=be(o),this._southWest.equals(o.getSouthWest(),f)&&this._northEast.equals(o.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function be(o,f){return o instanceof Ne?o:new Ne(o,f)}function xe(o,f,v){if(isNaN(o)||isNaN(f))throw new Error("Invalid LatLng object: ("+o+", "+f+")");this.lat=+o,this.lng=+f,v!==void 0&&(this.alt=+v)}xe.prototype={equals:function(o,f){if(!o)return!1;o=Re(o);var v=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return v<=(f===void 0?1e-9:f)},toString:function(o){return"LatLng("+E(this.lat,o)+", "+E(this.lng,o)+")"},distanceTo:function(o){return De.distance(this,Re(o))},wrap:function(){return De.wrapLatLng(this)},toBounds:function(o){var f=180*o/40075017,v=f/Math.cos(Math.PI/180*this.lat);return be([this.lat-f,this.lng-v],[this.lat+f,this.lng+v])},clone:function(){return new xe(this.lat,this.lng,this.alt)}};function Re(o,f,v){return o instanceof xe?o:R(o)&&typeof o[0]!="object"?o.length===3?new xe(o[0],o[1],o[2]):o.length===2?new xe(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new xe(o.lat,"lng"in o?o.lng:o.lon,o.alt):f===void 0?null:new xe(o,f,v)}var Ue={latLngToPoint:function(o,f){var v=this.projection.project(o),N=this.scale(f);return this.transformation._transform(v,N)},pointToLatLng:function(o,f){var v=this.scale(f),N=this.transformation.untransform(o,v);return this.projection.unproject(N)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var f=this.projection.bounds,v=this.scale(o),N=this.transformation.transform(f.min,v),O=this.transformation.transform(f.max,v);return new F(N,O)},infinite:!1,wrapLatLng:function(o){var f=this.wrapLng?y(o.lng,this.wrapLng,!0):o.lng,v=this.wrapLat?y(o.lat,this.wrapLat,!0):o.lat,N=o.alt;return new xe(v,f,N)},wrapLatLngBounds:function(o){var f=o.getCenter(),v=this.wrapLatLng(f),N=f.lat-v.lat,O=f.lng-v.lng;if(N===0&&O===0)return o;var H=o.getSouthWest(),ce=o.getNorthEast(),ge=new xe(H.lat-N,H.lng-O),_e=new xe(ce.lat-N,ce.lng-O);return new Ne(ge,_e)}},De=i({},Ue,{wrapLng:[-180,180],R:6371e3,distance:function(o,f){var v=Math.PI/180,N=o.lat*v,O=f.lat*v,H=Math.sin((f.lat-o.lat)*v/2),ce=Math.sin((f.lng-o.lng)*v/2),ge=H*H+Math.cos(N)*Math.cos(O)*ce*ce,_e=2*Math.atan2(Math.sqrt(ge),Math.sqrt(1-ge));return this.R*_e}}),Fe=6378137,ot={R:Fe,MAX_LATITUDE:85.0511287798,project:function(o){var f=Math.PI/180,v=this.MAX_LATITUDE,N=Math.max(Math.min(v,o.lat),-v),O=Math.sin(N*f);return new ne(this.R*o.lng*f,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(o){var f=180/Math.PI;return new xe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*f,o.x*f/this.R)},bounds:function(){var o=Fe*Math.PI;return new F([-o,-o],[o,o])}()};function St(o,f,v,N){if(R(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=f,this._c=v,this._d=N}St.prototype={transform:function(o,f){return this._transform(o.clone(),f)},_transform:function(o,f){return f=f||1,o.x=f*(this._a*o.x+this._b),o.y=f*(this._c*o.y+this._d),o},untransform:function(o,f){return f=f||1,new ne((o.x/f-this._b)/this._a,(o.y/f-this._d)/this._c)}};function Ot(o,f,v,N){return new St(o,f,v,N)}var gt=i({},De,{code:"EPSG:3857",projection:ot,transformation:function(){var o=.5/(Math.PI*ot.R);return Ot(o,.5,-o,.5)}()}),z=i({},gt,{code:"EPSG:900913"});function Ce(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ke(o,f){var v="",N,O,H,ce,ge,_e;for(N=0,H=o.length;N<H;N++){for(ge=o[N],O=0,ce=ge.length;O<ce;O++)_e=ge[O],v+=(O?"L":"M")+_e.x+" "+_e.y;v+=f?Xe.svg?"z":"x":""}return v||"M0 0"}var ie=document.documentElement.style,te="ActiveXObject"in window,pe=te&&!document.addEventListener,Pe="msLaunchUri"in navigator&&!("documentMode"in document),Te=Ln("webkit"),me=Ln("android"),Me=Ln("android 2")||Ln("android 3"),We=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Oe=me&&Ln("Google")&&We<537&&!("AudioNode"in window),Qe=!!window.opera,Z=!Pe&&Ln("chrome"),P=Ln("gecko")&&!Te&&!Qe&&!te,I=!Z&&Ln("safari"),X=Ln("phantom"),fe="OTransition"in ie,we=navigator.platform.indexOf("Win")===0,Se=te&&"transition"in ie,dt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Me,Dt="MozPerspective"in ie,kt=!window.L_DISABLE_3D&&(Se||dt||Dt)&&!fe&&!X,Pt=typeof orientation<"u"||Ln("mobile"),Tt=Pt&&Te,sa=Pt&&dt,Bs=!window.PointerEvent&&window.MSPointerEvent,Ir=!!(window.PointerEvent||Bs),Vn="ontouchstart"in window||!!window.TouchEvent,qi=!window.L_NO_TOUCH&&(Vn||Ir),Bd=Pt&&Qe,Fd=Pt&&P,$d=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ud=function(){var o=!1;try{var f=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",g,f),window.removeEventListener("testPassiveEventSupport",g,f)}catch{}return o}(),Yc=function(){return!!document.createElement("canvas").getContext}(),dl=!!(document.createElementNS&&Ce("svg").createSVGRect),oa=!!dl&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Jc=!dl&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var f=o.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),aa=navigator.platform.indexOf("Mac")===0,em=navigator.platform.indexOf("Linux")===0;function Ln(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Xe={ie:te,ielt9:pe,edge:Pe,webkit:Te,android:me,android23:Me,androidStock:Oe,opera:Qe,chrome:Z,gecko:P,safari:I,phantom:X,opera12:fe,win:we,ie3d:Se,webkit3d:dt,gecko3d:Dt,any3d:kt,mobile:Pt,mobileWebkit:Tt,mobileWebkit3d:sa,msPointer:Bs,pointer:Ir,touch:qi,touchNative:Vn,mobileOpera:Bd,mobileGecko:Fd,retina:$d,passiveEvents:Ud,canvas:Yc,svg:dl,vml:Jc,inlineSvg:oa,mac:aa,linux:em},la=Xe.msPointer?"MSPointerDown":"pointerdown",fl=Xe.msPointer?"MSPointerMove":"pointermove",Zd=Xe.msPointer?"MSPointerUp":"pointerup",Hd=Xe.msPointer?"MSPointerCancel":"pointercancel",Qc={touchstart:la,touchmove:fl,touchend:Zd,touchcancel:Hd},wi={touchstart:on,touchmove:hl,touchend:hl,touchcancel:hl},Ki={},Xc=!1;function tm(o,f,v){return f==="touchstart"&&nm(),wi[f]?(v=wi[f].bind(this,v),o.addEventListener(Qc[f],v,!1),v):(console.warn("wrong event specified:",f),g)}function Wd(o,f,v){if(!Qc[f]){console.warn("wrong event specified:",f);return}o.removeEventListener(Qc[f],v,!1)}function Vd(o){Ki[o.pointerId]=o}function qd(o){Ki[o.pointerId]&&(Ki[o.pointerId]=o)}function eu(o){delete Ki[o.pointerId]}function nm(){Xc||(document.addEventListener(la,Vd,!0),document.addEventListener(fl,qd,!0),document.addEventListener(Zd,eu,!0),document.addEventListener(Hd,eu,!0),Xc=!0)}function hl(o,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var v in Ki)f.touches.push(Ki[v]);f.changedTouches=[f],o(f)}}function on(o,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&an(f),hl(o,f)}function rm(o){var f={},v,N;for(N in o)v=o[N],f[N]=v&&v.bind?v.bind(o):v;return o=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var tu=200;function Kd(o,f){o.addEventListener("dblclick",f);var v=0,N;function O(H){if(H.detail!==1){N=H.detail;return}if(!(H.pointerType==="mouse"||H.sourceCapabilities&&!H.sourceCapabilities.firesTouchEvents)){var ce=Ji(H);if(!(ce.some(function(_e){return _e instanceof HTMLLabelElement&&_e.attributes.for})&&!ce.some(function(_e){return _e instanceof HTMLInputElement||_e instanceof HTMLSelectElement}))){var ge=Date.now();ge-v<=tu?(N++,N===2&&f(rm(H))):N=1,v=ge}}}return o.addEventListener("click",O),{dblclick:f,simDblclick:O}}function pl(o,f){o.removeEventListener("dblclick",f.dblclick),o.removeEventListener("click",f.simDblclick)}var nu=Zs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fs=Zs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ca=Fs==="webkitTransition"||Fs==="OTransition"?Fs+"End":"transitionend";function vr(o){return typeof o=="string"?document.getElementById(o):o}function ua(o,f){var v=o.style[f]||o.currentStyle&&o.currentStyle[f];if((!v||v==="auto")&&document.defaultView){var N=document.defaultView.getComputedStyle(o,null);v=N?N[f]:null}return v==="auto"?null:v}function xt(o,f,v){var N=document.createElement(o);return N.className=f||"",v&&v.appendChild(N),N}function Kt(o){var f=o.parentNode;f&&f.removeChild(o)}function ml(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function $s(o){var f=o.parentNode;f&&f.lastChild!==o&&f.appendChild(o)}function ti(o){var f=o.parentNode;f&&f.firstChild!==o&&f.insertBefore(o,f.firstChild)}function Us(o,f){if(o.classList!==void 0)return o.classList.contains(f);var v=gl(o);return v.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(v)}function pt(o,f){if(o.classList!==void 0)for(var v=k(f),N=0,O=v.length;N<O;N++)o.classList.add(v[N]);else if(!Us(o,f)){var H=gl(o);ru(o,(H?H+" ":"")+f)}}function Vt(o,f){o.classList!==void 0?o.classList.remove(f):ru(o,_((" "+gl(o)+" ").replace(" "+f+" "," ")))}function ru(o,f){o.className.baseVal===void 0?o.className=f:o.className.baseVal=f}function gl(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function On(o,f){"opacity"in o.style?o.style.opacity=f:"filter"in o.style&&Gd(o,f)}function Gd(o,f){var v=!1,N="DXImageTransform.Microsoft.Alpha";try{v=o.filters.item(N)}catch{if(f===1)return}f=Math.round(f*100),v?(v.Enabled=f!==100,v.Opacity=f):o.style.filter+=" progid:"+N+"(opacity="+f+")"}function Zs(o){for(var f=document.documentElement.style,v=0;v<o.length;v++)if(o[v]in f)return o[v];return!1}function xr(o,f,v){var N=f||new ne(0,0);o.style[nu]=(Xe.ie3d?"translate("+N.x+"px,"+N.y+"px)":"translate3d("+N.x+"px,"+N.y+"px,0)")+(v?" scale("+v+")":"")}function fn(o,f){o._leaflet_pos=f,Xe.any3d?xr(o,f):(o.style.left=f.x+"px",o.style.top=f.y+"px")}function ni(o){return o._leaflet_pos||new ne(0,0)}var At,Hs,yl;if("onselectstart"in document)At=function(){ft(window,"selectstart",an)},Hs=function(){Zt(window,"selectstart",an)};else{var Gi=Zs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);At=function(){if(Gi){var o=document.documentElement.style;yl=o[Gi],o[Gi]="none"}},Hs=function(){Gi&&(document.documentElement.style[Gi]=yl,yl=void 0)}}function vl(){ft(window,"dragstart",an)}function xl(){Zt(window,"dragstart",an)}var da,fa;function Ws(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(wr(),da=o,fa=o.style.outlineStyle,o.style.outlineStyle="none",ft(window,"keydown",wr))}function wr(){da&&(da.style.outlineStyle=fa,da=void 0,fa=void 0,Zt(window,"keydown",wr))}function ri(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Lr(o){var f=o.getBoundingClientRect();return{x:f.width/o.offsetWidth||1,y:f.height/o.offsetHeight||1,boundingClientRect:f}}var ha={__proto__:null,TRANSFORM:nu,TRANSITION:Fs,TRANSITION_END:ca,get:vr,getStyle:ua,create:xt,remove:Kt,empty:ml,toFront:$s,toBack:ti,hasClass:Us,addClass:pt,removeClass:Vt,setClass:ru,getClass:gl,setOpacity:On,testProp:Zs,setTransform:xr,setPosition:fn,getPosition:ni,get disableTextSelection(){return At},get enableTextSelection(){return Hs},disableImageDrag:vl,enableImageDrag:xl,preventOutline:Ws,restoreOutline:wr,getSizedParentNode:ri,getScale:Lr};function ft(o,f,v,N){if(f&&typeof f=="object")for(var O in f)su(o,O,f[O],v);else{f=k(f);for(var H=0,ce=f.length;H<ce;H++)su(o,f[H],v,N)}return this}var _n="_leaflet_events";function Zt(o,f,v,N){if(arguments.length===1)iu(o),delete o[_n];else if(f&&typeof f=="object")for(var O in f)wl(o,O,f[O],v);else if(f=k(f),arguments.length===2)iu(o,function(ge){return D(f,ge)!==-1});else for(var H=0,ce=f.length;H<ce;H++)wl(o,f[H],v,N);return this}function iu(o,f){for(var v in o[_n]){var N=v.split(/\d/)[0];(!f||f(N))&&wl(o,N,null,null,v)}}var Yi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function su(o,f,v,N){var O=f+h(v)+(N?"_"+h(N):"");if(o[_n]&&o[_n][O])return this;var H=function(ge){return v.call(N||o,ge||window.event)},ce=H;!Xe.touchNative&&Xe.pointer&&f.indexOf("touch")===0?H=tm(o,f,H):Xe.touch&&f==="dblclick"?H=Kd(o,H):"addEventListener"in o?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?o.addEventListener(Yi[f]||f,H,Xe.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(H=function(ge){ge=ge||window.event,ga(o,ge)&&ce(ge)},o.addEventListener(Yi[f],H,!1)):o.addEventListener(f,ce,!1):o.attachEvent("on"+f,H),o[_n]=o[_n]||{},o[_n][O]=H}function wl(o,f,v,N,O){O=O||f+h(v)+(N?"_"+h(N):"");var H=o[_n]&&o[_n][O];if(!H)return this;!Xe.touchNative&&Xe.pointer&&f.indexOf("touch")===0?Wd(o,f,H):Xe.touch&&f==="dblclick"?pl(o,H):"removeEventListener"in o?o.removeEventListener(Yi[f]||f,H,!1):o.detachEvent("on"+f,H),o[_n][O]=null}function Or(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function _l(o){return su(o,"wheel",Or),this}function pa(o){return ft(o,"mousedown touchstart dblclick contextmenu",Or),o._leaflet_disable_click=!0,this}function an(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function _r(o){return an(o),Or(o),this}function Ji(o){if(o.composedPath)return o.composedPath();for(var f=[],v=o.target;v;)f.push(v),v=v.parentNode;return f}function ma(o,f){if(!f)return new ne(o.clientX,o.clientY);var v=Lr(f),N=v.boundingClientRect;return new ne((o.clientX-N.left)/v.x-f.clientLeft,(o.clientY-N.top)/v.y-f.clientTop)}var im=Xe.linux&&Xe.chrome?window.devicePixelRatio:Xe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Yd(o){return Xe.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/im:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function ga(o,f){var v=f.relatedTarget;if(!v)return!0;try{for(;v&&v!==o;)v=v.parentNode}catch{return!1}return v!==o}var bl={__proto__:null,on:ft,off:Zt,stopPropagation:Or,disableScrollPropagation:_l,disableClickPropagation:pa,preventDefault:an,stop:_r,getPropagationPath:Ji,getMousePosition:ma,getWheelDelta:Yd,isExternalTarget:ga,addListener:ft,removeListener:Zt},El=se.extend({run:function(o,f,v,N){this.stop(),this._el=o,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(N||.5,.2),this._startPos=ni(o),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Q(this._animate,this),this._step()},_step:function(o){var f=+new Date-this._startTime,v=this._duration*1e3;f<v?this._runFrame(this._easeOut(f/v),o):(this._runFrame(1),this._complete())},_runFrame:function(o,f){var v=this._startPos.add(this._offset.multiplyBy(o));f&&v._round(),fn(this._el,v),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ct=se.extend({options:{crs:gt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,f){f=x(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(Re(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fs&&Xe.any3d&&!Xe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ft(this._proxy,ca,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,f,v){if(f=f===void 0?this._zoom:this._limitZoom(f),o=this._limitCenter(Re(o),f,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=i({animate:v.animate},v.zoom),v.pan=i({animate:v.animate,duration:v.duration},v.pan));var N=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,f,v.zoom):this._tryAnimatedPan(o,v.pan);if(N)return clearTimeout(this._sizeTimer),this}return this._resetView(o,f,v.pan&&v.pan.noMoveStart),this},setZoom:function(o,f){return this._loaded?this.setView(this.getCenter(),o,{zoom:f}):(this._zoom=o,this)},zoomIn:function(o,f){return o=o||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,f)},zoomOut:function(o,f){return o=o||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,f)},setZoomAround:function(o,f,v){var N=this.getZoomScale(f),O=this.getSize().divideBy(2),H=o instanceof ne?o:this.latLngToContainerPoint(o),ce=H.subtract(O).multiplyBy(1-1/N),ge=this.containerPointToLatLng(O.add(ce));return this.setView(ge,f,{zoom:v})},_getBoundsCenterZoom:function(o,f){f=f||{},o=o.getBounds?o.getBounds():be(o);var v=le(f.paddingTopLeft||f.padding||[0,0]),N=le(f.paddingBottomRight||f.padding||[0,0]),O=this.getBoundsZoom(o,!1,v.add(N));if(O=typeof f.maxZoom=="number"?Math.min(f.maxZoom,O):O,O===1/0)return{center:o.getCenter(),zoom:O};var H=N.subtract(v).divideBy(2),ce=this.project(o.getSouthWest(),O),ge=this.project(o.getNorthEast(),O),_e=this.unproject(ce.add(ge).divideBy(2).add(H),O);return{center:_e,zoom:O}},fitBounds:function(o,f){if(o=be(o),!o.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(o,f);return this.setView(v.center,v.zoom,f)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,f){return this.setView(o,this._zoom,{pan:f})},panBy:function(o,f){if(o=le(o).round(),f=f||{},!o.x&&!o.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new El,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){pt(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,v,f.duration||.25,f.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,f,v){if(v=v||{},v.animate===!1||!Xe.any3d)return this.setView(o,f,v);this._stop();var N=this.project(this.getCenter()),O=this.project(o),H=this.getSize(),ce=this._zoom;o=Re(o),f=f===void 0?ce:f;var ge=Math.max(H.x,H.y),_e=ge*this.getZoomScale(ce,f),Ae=O.distanceTo(N)||1,He=1.42,st=He*He;function bt(Ft){var oo=Ft?-1:1,vm=Ft?_e:ge,xm=_e*_e-ge*ge+oo*st*st*Ae*Ae,is=2*vm*st*Ae,ss=xm/is,os=Math.sqrt(ss*ss+1)-ss,zl=os<1e-9?-18:Math.log(os);return zl}function bn(Ft){return(Math.exp(Ft)-Math.exp(-Ft))/2}function vn(Ft){return(Math.exp(Ft)+Math.exp(-Ft))/2}function Gn(Ft){return bn(Ft)/vn(Ft)}var zn=bt(0);function io(Ft){return ge*(vn(zn)/vn(zn+He*Ft))}function Nu(Ft){return ge*(vn(zn)*Gn(zn+He*Ft)-bn(zn))/st}function ji(Ft){return 1-Math.pow(1-Ft,1.5)}var vf=Date.now(),rs=(bt(1)-zn)/He,Br=v.duration?1e3*v.duration:1e3*rs*.8;function so(){var Ft=(Date.now()-vf)/Br,oo=ji(Ft)*rs;Ft<=1?(this._flyToFrame=Q(so,this),this._move(this.unproject(N.add(O.subtract(N).multiplyBy(Nu(oo)/Ae)),ce),this.getScaleZoom(ge/io(oo),ce),{flyTo:!0})):this._move(o,f)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),so.call(this),this},flyToBounds:function(o,f){var v=this._getBoundsCenterZoom(o,f);return this.flyTo(v.center,v.zoom,f)},setMaxBounds:function(o){return o=be(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var f=this.options.minZoom;return this.options.minZoom=o,this._loaded&&f!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var f=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&f!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,f){this._enforcingBounds=!0;var v=this.getCenter(),N=this._limitCenter(v,this._zoom,be(o));return v.equals(N)||this.panTo(N,f),this._enforcingBounds=!1,this},panInside:function(o,f){f=f||{};var v=le(f.paddingTopLeft||f.padding||[0,0]),N=le(f.paddingBottomRight||f.padding||[0,0]),O=this.project(this.getCenter()),H=this.project(o),ce=this.getPixelBounds(),ge=K([ce.min.add(v),ce.max.subtract(N)]),_e=ge.getSize();if(!ge.contains(H)){this._enforcingBounds=!0;var Ae=H.subtract(ge.getCenter()),He=ge.extend(H).getSize().subtract(_e);O.x+=Ae.x<0?-He.x:He.x,O.y+=Ae.y<0?-He.y:He.y,this.panTo(this.unproject(O),f),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),N=f.divideBy(2).round(),O=v.divideBy(2).round(),H=N.subtract(O);return!H.x&&!H.y?this:(o.animate&&o.pan?this.panBy(H):(o.pan&&this._rawPanBy(H),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=u(this._handleGeolocationResponse,this),v=u(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,v,o):navigator.geolocation.getCurrentPosition(f,v,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var f=o.code,v=o.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var f=o.coords.latitude,v=o.coords.longitude,N=new xe(f,v),O=N.toBounds(o.coords.accuracy*2),H=this._locateOptions;if(H.setView){var ce=this.getBoundsZoom(O);this.setView(N,H.maxZoom?Math.min(ce,H.maxZoom):ce)}var ge={latlng:N,bounds:O,timestamp:o.timestamp};for(var _e in o.coords)typeof o.coords[_e]=="number"&&(ge[_e]=o.coords[_e]);this.fire("locationfound",ge)}},addHandler:function(o,f){if(!f)return this;var v=this[o]=new f(this);return this._handlers.push(v),this.options[o]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Kt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,f){var v="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),N=xt("div",v,f||this._mapPane);return o&&(this._panes[o]=N),N},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),f=this.unproject(o.getBottomLeft()),v=this.unproject(o.getTopRight());return new Ne(f,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,f,v){o=be(o),v=le(v||[0,0]);var N=this.getZoom()||0,O=this.getMinZoom(),H=this.getMaxZoom(),ce=o.getNorthWest(),ge=o.getSouthEast(),_e=this.getSize().subtract(v),Ae=K(this.project(ge,N),this.project(ce,N)).getSize(),He=Xe.any3d?this.options.zoomSnap:1,st=_e.x/Ae.x,bt=_e.y/Ae.y,bn=f?Math.max(st,bt):Math.min(st,bt);return N=this.getScaleZoom(bn,N),He&&(N=Math.round(N/(He/100))*(He/100),N=f?Math.ceil(N/He)*He:Math.floor(N/He)*He),Math.max(O,Math.min(H,N))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,f){var v=this._getTopLeftPoint(o,f);return new F(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,f){var v=this.options.crs;return f=f===void 0?this._zoom:f,v.scale(o)/v.scale(f)},getScaleZoom:function(o,f){var v=this.options.crs;f=f===void 0?this._zoom:f;var N=v.zoom(o*v.scale(f));return isNaN(N)?1/0:N},project:function(o,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(Re(o),f)},unproject:function(o,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(le(o),f)},layerPointToLatLng:function(o){var f=le(o).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(o){var f=this.project(Re(o))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Re(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(be(o))},distance:function(o,f){return this.options.crs.distance(Re(o),Re(f))},containerPointToLayerPoint:function(o){return le(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return le(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var f=this.containerPointToLayerPoint(le(o));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Re(o)))},mouseEventToContainerPoint:function(o){return ma(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var f=this._container=vr(o);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ft(f,"scroll",this._onScroll,this),this._containerId=h(f)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Xe.any3d,pt(o,"leaflet-container"+(Xe.touch?" leaflet-touch":"")+(Xe.retina?" leaflet-retina":"")+(Xe.ielt9?" leaflet-oldie":"")+(Xe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=ua(o,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),fn(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(o.markerPane,"leaflet-zoom-hide"),pt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,f,v){fn(this._mapPane,new ne(0,0));var N=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var O=this._zoom!==f;this._moveStart(O,v)._move(o,f)._moveEnd(O),this.fire("viewreset"),N&&this.fire("load")},_moveStart:function(o,f){return o&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(o,f,v,N){f===void 0&&(f=this._zoom);var O=this._zoom!==f;return this._zoom=f,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),N?v&&v.pinch&&this.fire("zoom",v):((O||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){fn(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[h(this._container)]=this;var f=o?Zt:ft;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Xe.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=Q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,f){for(var v=[],N,O=f==="mouseout"||f==="mouseover",H=o.target||o.srcElement,ce=!1;H;){if(N=this._targets[h(H)],N&&(f==="click"||f==="preclick")&&this._draggableMoved(N)){ce=!0;break}if(N&&N.listens(f,!0)&&(O&&!ga(H,o)||(v.push(N),O))||H===this._container)break;H=H.parentNode}return!v.length&&!ce&&!O&&this.listens(f,!0)&&(v=[this]),v},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var f=o.target||o.srcElement;if(!(!this._loaded||f._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(f))){var v=o.type;v==="mousedown"&&Ws(f),this._fireDOMEvent(o,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,f,v){if(o.type==="click"){var N=i({},o);N.type="preclick",this._fireDOMEvent(N,N.type,v)}var O=this._findEventTargets(o,f);if(v){for(var H=[],ce=0;ce<v.length;ce++)v[ce].listens(f,!0)&&H.push(v[ce]);O=H.concat(O)}if(O.length){f==="contextmenu"&&an(o);var ge=O[0],_e={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Ae=ge.getLatLng&&(!ge._radius||ge._radius<=10);_e.containerPoint=Ae?this.latLngToContainerPoint(ge.getLatLng()):this.mouseEventToContainerPoint(o),_e.layerPoint=this.containerPointToLayerPoint(_e.containerPoint),_e.latlng=Ae?ge.getLatLng():this.layerPointToLatLng(_e.layerPoint)}for(ce=0;ce<O.length;ce++)if(O[ce].fire(f,_e,!0),_e.originalEvent._stopped||O[ce].options.bubblingMouseEvents===!1&&D(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,f=this._handlers.length;o<f;o++)this._handlers[o].disable()},whenReady:function(o,f){return this._loaded?o.call(f||this,{target:this}):this.on("load",o,f),this},_getMapPanePos:function(){return ni(this._mapPane)||new ne(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,f){var v=o&&f!==void 0?this._getNewPixelOrigin(o,f):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,f){var v=this.getSize()._divideBy(2);return this.project(o,f)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,f,v){var N=this._getNewPixelOrigin(v,f);return this.project(o,f)._subtract(N)},_latLngBoundsToNewLayerBounds:function(o,f,v){var N=this._getNewPixelOrigin(v,f);return K([this.project(o.getSouthWest(),f)._subtract(N),this.project(o.getNorthWest(),f)._subtract(N),this.project(o.getSouthEast(),f)._subtract(N),this.project(o.getNorthEast(),f)._subtract(N)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,f,v){if(!v)return o;var N=this.project(o,f),O=this.getSize().divideBy(2),H=new F(N.subtract(O),N.add(O)),ce=this._getBoundsOffset(H,v,f);return Math.abs(ce.x)<=1&&Math.abs(ce.y)<=1?o:this.unproject(N.add(ce),f)},_limitOffset:function(o,f){if(!f)return o;var v=this.getPixelBounds(),N=new F(v.min.add(o),v.max.add(o));return o.add(this._getBoundsOffset(N,f))},_getBoundsOffset:function(o,f,v){var N=K(this.project(f.getNorthEast(),v),this.project(f.getSouthWest(),v)),O=N.min.subtract(o.min),H=N.max.subtract(o.max),ce=this._rebound(O.x,-H.x),ge=this._rebound(O.y,-H.y);return new ne(ce,ge)},_rebound:function(o,f){return o+f>0?Math.round(o-f)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(f))},_limitZoom:function(o){var f=this.getMinZoom(),v=this.getMaxZoom(),N=Xe.any3d?this.options.zoomSnap:1;return N&&(o=Math.round(o/N)*N),Math.max(f,Math.min(v,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,f){var v=this._getCenterOffset(o)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,f),!0)},_createAnimProxy:function(){var o=this._proxy=xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(f){var v=nu,N=this._proxy.style[v];xr(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),N===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),f=this.getZoom();xr(this._proxy,this.project(o,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,f,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var N=this.getZoomScale(f),O=this._getCenterOffset(o)._divideBy(1-1/N);return v.animate!==!0&&!this.getSize().contains(O)?!1:(Q(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(o,f,!0)},this),!0)},_animateZoom:function(o,f,v,N){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=f,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:f,noUpdate:N}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _i(o,f){return new Ct(o,f)}var qn=M.extend({options:{position:"topright"},initialize:function(o){x(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var f=this._map;return f&&f.removeControl(this),this.options.position=o,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var f=this._container=this.onAdd(o),v=this.getPosition(),N=o._controlCorners[v];return pt(f,"leaflet-control"),v.indexOf("bottom")!==-1?N.insertBefore(f,N.firstChild):N.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),bi=function(o){return new qn(o)};Ct.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},f="leaflet-",v=this._controlContainer=xt("div",f+"control-container",this._container);function N(O,H){var ce=f+O+" "+f+H;o[O+H]=xt("div",ce,v)}N("top","left"),N("top","right"),N("bottom","left"),N("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Kt(this._controlCorners[o]);Kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ou=qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,f,v,N){return v<N?-1:N<v?1:0}},initialize:function(o,f,v){x(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var N in o)this._addLayer(o[N],N);for(N in f)this._addLayer(f[N],N,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return qn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,f){return this._addLayer(o,f),this._map?this._update():this},addOverlay:function(o,f){return this._addLayer(o,f,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var f=this._getLayer(h(o));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",f=this._container=xt("div",o),v=this.options.collapsed;f.setAttribute("aria-haspopup",!0),pa(f),_l(f);var N=this._section=xt("section",o+"-list");v&&(this._map.on("click",this.collapse,this),ft(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=xt("a",o+"-toggle",f);O.href="#",O.title="Layers",O.setAttribute("role","button"),ft(O,{keydown:function(H){H.keyCode===13&&this._expandSafely()},click:function(H){an(H),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=xt("div",o+"-base",N),this._separator=xt("div",o+"-separator",N),this._overlaysList=xt("div",o+"-overlays",N),f.appendChild(N)},_getLayer:function(o){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&h(this._layers[f].layer)===o)return this._layers[f]},_addLayer:function(o,f,v){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:f,overlay:v}),this.options.sortLayers&&this._layers.sort(u(function(N,O){return this.options.sortFunction(N.layer,O.layer,N.name,O.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ml(this._baseLayersList),ml(this._overlaysList),this._layerControlInputs=[];var o,f,v,N,O=0;for(v=0;v<this._layers.length;v++)N=this._layers[v],this._addItem(N),f=f||N.overlay,o=o||!N.overlay,O+=N.overlay?0:1;return this.options.hideSingleBase&&(o=o&&O>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=f&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var f=this._getLayer(h(o.target)),v=f.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;v&&this._map.fire(v,f)},_createRadioElement:function(o,f){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(f?' checked="checked"':"")+"/>",N=document.createElement("div");return N.innerHTML=v,N.firstChild},_addItem:function(o){var f=document.createElement("label"),v=this._map.hasLayer(o.layer),N;o.overlay?(N=document.createElement("input"),N.type="checkbox",N.className="leaflet-control-layers-selector",N.defaultChecked=v):N=this._createRadioElement("leaflet-base-layers_"+h(this),v),this._layerControlInputs.push(N),N.layerId=h(o.layer),ft(N,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+o.name;var H=document.createElement("span");f.appendChild(H),H.appendChild(N),H.appendChild(O);var ce=o.overlay?this._overlaysList:this._baseLayersList;return ce.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,f,v,N=[],O=[];this._handlingClick=!0;for(var H=o.length-1;H>=0;H--)f=o[H],v=this._getLayer(f.layerId).layer,f.checked?N.push(v):f.checked||O.push(v);for(H=0;H<O.length;H++)this._map.hasLayer(O[H])&&this._map.removeLayer(O[H]);for(H=0;H<N.length;H++)this._map.hasLayer(N[H])||this._map.addLayer(N[H]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,f,v,N=this._map.getZoom(),O=o.length-1;O>=0;O--)f=o[O],v=this._getLayer(f.layerId).layer,f.disabled=v.options.minZoom!==void 0&&N<v.options.minZoom||v.options.maxZoom!==void 0&&N>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ft(o,"click",an),this.expand();var f=this;setTimeout(function(){Zt(o,"click",an),f._preventClick=!1})}}),kl=function(o,f,v){return new ou(o,f,v)},Vs=qn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var f="leaflet-control-zoom",v=xt("div",f+" leaflet-bar"),N=this.options;return this._zoomInButton=this._createButton(N.zoomInText,N.zoomInTitle,f+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(N.zoomOutText,N.zoomOutTitle,f+"-out",v,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,f,v,N,O){var H=xt("a",v,N);return H.innerHTML=o,H.href="#",H.title=f,H.setAttribute("role","button"),H.setAttribute("aria-label",f),pa(H),ft(H,"click",_r),ft(H,"click",O,this),ft(H,"click",this._refocusOnMap,this),H},_updateDisabled:function(){var o=this._map,f="leaflet-disabled";Vt(this._zoomInButton,f),Vt(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(pt(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(pt(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ct.mergeOptions({zoomControl:!0}),Ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vs,this.addControl(this.zoomControl))});var Jd=function(o){return new Vs(o)},Mn=qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var f="leaflet-control-scale",v=xt("div",f),N=this.options;return this._addScales(N,f+"-line",v),o.on(N.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),v},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,f,v){o.metric&&(this._mScale=xt("div",f,v)),o.imperial&&(this._iScale=xt("div",f,v))},_update:function(){var o=this._map,f=o.getSize().y/2,v=o.distance(o.containerPointToLatLng([0,f]),o.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(v)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var f=this._getRoundNum(o),v=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,v,f/o)},_updateImperial:function(o){var f=o*3.2808399,v,N,O;f>5280?(v=f/5280,N=this._getRoundNum(v),this._updateScale(this._iScale,N+" mi",N/v)):(O=this._getRoundNum(f),this._updateScale(this._iScale,O+" ft",O/f))},_updateScale:function(o,f,v){o.style.width=Math.round(this.options.maxWidth*v)+"px",o.innerHTML=f},_getRoundNum:function(o){var f=Math.pow(10,(Math.floor(o)+"").length-1),v=o/f;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,f*v}}),qs=function(o){return new Mn(o)},au='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qi=qn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Xe.inlineSvg?au+" ":"")+"Leaflet</a>"},initialize:function(o){x(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=xt("div","leaflet-control-attribution"),pa(this._container);for(var f in o._layers)o._layers[f].getAttribution&&this.addAttribution(o._layers[f].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var f in this._attributions)this._attributions[f]&&o.push(f);var v=[];this.options.prefix&&v.push(this.options.prefix),o.length&&v.push(o.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});Ct.mergeOptions({attributionControl:!0}),Ct.addInitHook(function(){this.options.attributionControl&&new Qi().addTo(this)});var sm=function(o){return new Qi(o)};qn.Layers=ou,qn.Zoom=Vs,qn.Scale=Mn,qn.Attribution=Qi,bi.layers=kl,bi.zoom=Jd,bi.scale=qs,bi.attribution=sm;var ir=M.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ir.addTo=function(o,f){return o.addHandler(f,this),this};var lu={Events:ae},Ks=Xe.touch?"touchstart mousedown":"mousedown",br=se.extend({options:{clickTolerance:3},initialize:function(o,f,v,N){x(this,N),this._element=o,this._dragStartTarget=f||o,this._preventOutline=v},enable:function(){this._enabled||(ft(this._dragStartTarget,Ks,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(br._dragging===this&&this.finishDrag(!0),Zt(this._dragStartTarget,Ks,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Us(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){br._dragging===this&&this.finishDrag();return}if(!(br._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(br._dragging=this,this._preventOutline&&Ws(this._element),vl(),At(),!this._moving)){this.fire("down");var f=o.touches?o.touches[0]:o,v=ri(this._element);this._startPoint=new ne(f.clientX,f.clientY),this._startPos=ni(this._element),this._parentScale=Lr(v);var N=o.type==="mousedown";ft(document,N?"mousemove":"touchmove",this._onMove,this),ft(document,N?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var f=o.touches&&o.touches.length===1?o.touches[0]:o,v=new ne(f.clientX,f.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,an(o),this._moved||(this.fire("dragstart"),this._moved=!0,pt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),fn(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Vt(document.body,"leaflet-dragging"),this._lastTarget&&(Vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Zt(document,"mousemove touchmove",this._onMove,this),Zt(document,"mouseup touchend touchcancel",this._onUp,this),xl(),Hs();var f=this._moved&&this._moving;this._moving=!1,br._dragging=!1,f&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function cu(o,f,v){var N,O=[1,4,2,8],H,ce,ge,_e,Ae,He,st,bt;for(H=0,He=o.length;H<He;H++)o[H]._code=Xi(o[H],f);for(ge=0;ge<4;ge++){for(st=O[ge],N=[],H=0,He=o.length,ce=He-1;H<He;ce=H++)_e=o[H],Ae=o[ce],_e._code&st?Ae._code&st||(bt=Nl(Ae,_e,st,f,v),bt._code=Xi(bt,f),N.push(bt)):(Ae._code&st&&(bt=Nl(Ae,_e,st,f,v),bt._code=Xi(bt,f),N.push(bt)),N.push(_e));o=N}return o}function Qd(o,f){var v,N,O,H,ce,ge,_e,Ae,He;if(!o||o.length===0)throw new Error("latlngs not passed");sr(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var st=Re([0,0]),bt=be(o),bn=bt.getNorthWest().distanceTo(bt.getSouthWest())*bt.getNorthEast().distanceTo(bt.getNorthWest());bn<1700&&(st=uu(o));var vn=o.length,Gn=[];for(v=0;v<vn;v++){var zn=Re(o[v]);Gn.push(f.project(Re([zn.lat-st.lat,zn.lng-st.lng])))}for(ge=_e=Ae=0,v=0,N=vn-1;v<vn;N=v++)O=Gn[v],H=Gn[N],ce=O.y*H.x-H.y*O.x,_e+=(O.x+H.x)*ce,Ae+=(O.y+H.y)*ce,ge+=ce*3;ge===0?He=Gn[0]:He=[_e/ge,Ae/ge];var io=f.unproject(le(He));return Re([io.lat+st.lat,io.lng+st.lng])}function uu(o){for(var f=0,v=0,N=0,O=0;O<o.length;O++){var H=Re(o[O]);f+=H.lat,v+=H.lng,N++}return Re([f/N,v/N])}var om={__proto__:null,clipPolygon:cu,polygonCenter:Qd,centroid:uu};function Sl(o,f){if(!f||!o.length)return o.slice();var v=f*f;return o=cm(o,v),o=lm(o,v),o}function Xd(o,f,v){return Math.sqrt(es(o,f,v,!0))}function am(o,f,v){return es(o,f,v)}function lm(o,f){var v=o.length,N=typeof Uint8Array<"u"?Uint8Array:Array,O=new N(v);O[0]=O[v-1]=1,du(o,O,f,0,v-1);var H,ce=[];for(H=0;H<v;H++)O[H]&&ce.push(o[H]);return ce}function du(o,f,v,N,O){var H=0,ce,ge,_e;for(ge=N+1;ge<=O-1;ge++)_e=es(o[ge],o[N],o[O],!0),_e>H&&(ce=ge,H=_e);H>v&&(f[ce]=1,du(o,f,v,N,ce),du(o,f,v,ce,O))}function cm(o,f){for(var v=[o[0]],N=1,O=0,H=o.length;N<H;N++)um(o[N],o[O])>f&&(v.push(o[N]),O=N);return O<H-1&&v.push(o[H-1]),v}var fu;function ef(o,f,v,N,O){var H=N?fu:Xi(o,v),ce=Xi(f,v),ge,_e,Ae;for(fu=ce;;){if(!(H|ce))return[o,f];if(H&ce)return!1;ge=H||ce,_e=Nl(o,f,ge,v,O),Ae=Xi(_e,v),ge===H?(o=_e,H=Ae):(f=_e,ce=Ae)}}function Nl(o,f,v,N,O){var H=f.x-o.x,ce=f.y-o.y,ge=N.min,_e=N.max,Ae,He;return v&8?(Ae=o.x+H*(_e.y-o.y)/ce,He=_e.y):v&4?(Ae=o.x+H*(ge.y-o.y)/ce,He=ge.y):v&2?(Ae=_e.x,He=o.y+ce*(_e.x-o.x)/H):v&1&&(Ae=ge.x,He=o.y+ce*(ge.x-o.x)/H),new ne(Ae,He,O)}function Xi(o,f){var v=0;return o.x<f.min.x?v|=1:o.x>f.max.x&&(v|=2),o.y<f.min.y?v|=4:o.y>f.max.y&&(v|=8),v}function um(o,f){var v=f.x-o.x,N=f.y-o.y;return v*v+N*N}function es(o,f,v,N){var O=f.x,H=f.y,ce=v.x-O,ge=v.y-H,_e=ce*ce+ge*ge,Ae;return _e>0&&(Ae=((o.x-O)*ce+(o.y-H)*ge)/_e,Ae>1?(O=v.x,H=v.y):Ae>0&&(O+=ce*Ae,H+=ge*Ae)),ce=o.x-O,ge=o.y-H,N?ce*ce+ge*ge:new ne(O,H)}function sr(o){return!R(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function tf(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),sr(o)}function nf(o,f){var v,N,O,H,ce,ge,_e,Ae;if(!o||o.length===0)throw new Error("latlngs not passed");sr(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var He=Re([0,0]),st=be(o),bt=st.getNorthWest().distanceTo(st.getSouthWest())*st.getNorthEast().distanceTo(st.getNorthWest());bt<1700&&(He=uu(o));var bn=o.length,vn=[];for(v=0;v<bn;v++){var Gn=Re(o[v]);vn.push(f.project(Re([Gn.lat-He.lat,Gn.lng-He.lng])))}for(v=0,N=0;v<bn-1;v++)N+=vn[v].distanceTo(vn[v+1])/2;if(N===0)Ae=vn[0];else for(v=0,H=0;v<bn-1;v++)if(ce=vn[v],ge=vn[v+1],O=ce.distanceTo(ge),H+=O,H>N){_e=(H-N)/O,Ae=[ge.x-_e*(ge.x-ce.x),ge.y-_e*(ge.y-ce.y)];break}var zn=f.unproject(le(Ae));return Re([zn.lat+He.lat,zn.lng+He.lng])}var rf={__proto__:null,simplify:Sl,pointToSegmentDistance:Xd,closestPointOnSegment:am,clipSegment:ef,_getEdgeIntersection:Nl,_getBitCode:Xi,_sqClosestPointOnSegment:es,isFlat:sr,_flat:tf,polylineCenter:nf},hu={project:function(o){return new ne(o.lng,o.lat)},unproject:function(o){return new xe(o.y,o.x)},bounds:new F([-180,-90],[180,90])},pu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new F([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var f=Math.PI/180,v=this.R,N=o.lat*f,O=this.R_MINOR/v,H=Math.sqrt(1-O*O),ce=H*Math.sin(N),ge=Math.tan(Math.PI/4-N/2)/Math.pow((1-ce)/(1+ce),H/2);return N=-v*Math.log(Math.max(ge,1e-10)),new ne(o.lng*f*v,N)},unproject:function(o){for(var f=180/Math.PI,v=this.R,N=this.R_MINOR/v,O=Math.sqrt(1-N*N),H=Math.exp(-o.y/v),ce=Math.PI/2-2*Math.atan(H),ge=0,_e=.1,Ae;ge<15&&Math.abs(_e)>1e-7;ge++)Ae=O*Math.sin(ce),Ae=Math.pow((1-Ae)/(1+Ae),O/2),_e=Math.PI/2-2*Math.atan(H*Ae)-ce,ce+=_e;return new xe(ce*f,o.x*f/v)}},dm={__proto__:null,LonLat:hu,Mercator:pu,SphericalMercator:ot},fm=i({},De,{code:"EPSG:3395",projection:pu,transformation:function(){var o=.5/(Math.PI*pu.R);return Ot(o,.5,-o,.5)}()}),sf=i({},De,{code:"EPSG:4326",projection:hu,transformation:Ot(1/180,1,-1/180,.5)}),hm=i({},Ue,{projection:hu,transformation:Ot(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,f){var v=f.lng-o.lng,N=f.lat-o.lat;return Math.sqrt(v*v+N*N)},infinite:!0});Ue.Earth=De,Ue.EPSG3395=fm,Ue.EPSG3857=gt,Ue.EPSG900913=z,Ue.EPSG4326=sf,Ue.Simple=hm;var Er=se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[h(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[h(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var f=o.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var v=this.getEvents();f.on(v,this),this.once("remove",function(){f.off(v,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});Ct.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var f=h(o);return this._layers[f]?this:(this._layers[f]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var f=h(o);return this._layers[f]?(this._loaded&&o.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return h(o)in this._layers},eachLayer:function(o,f){for(var v in this._layers)o.call(f,this._layers[v]);return this},_addLayers:function(o){o=o?R(o)?o:[o]:[];for(var f=0,v=o.length;f<v;f++)this.addLayer(o[f])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[h(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var f=h(o);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,f=-1/0,v=this._getZoomSpan();for(var N in this._zoomBoundLayers){var O=this._zoomBoundLayers[N].options;o=O.minZoom===void 0?o:Math.min(o,O.minZoom),f=O.maxZoom===void 0?f:Math.max(f,O.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=o===1/0?void 0:o,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ei=Er.extend({initialize:function(o,f){x(this,f),this._layers={};var v,N;if(o)for(v=0,N=o.length;v<N;v++)this.addLayer(o[v])},addLayer:function(o){var f=this.getLayerId(o);return this._layers[f]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var f=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(o){var f=typeof o=="number"?o:this.getLayerId(o);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var f=Array.prototype.slice.call(arguments,1),v,N;for(v in this._layers)N=this._layers[v],N[o]&&N[o].apply(N,f);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,f){for(var v in this._layers)o.call(f,this._layers[v]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return h(o)}}),ya=function(o,f){return new Ei(o,f)},ii=Ei.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ei.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ei.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ne;for(var f in this._layers){var v=this._layers[f];o.extend(v.getBounds?v.getBounds():v.getLatLng())}return o}}),of=function(o,f){return new ii(o,f)},ts=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){x(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,f){var v=this._getIconUrl(o);if(!v){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var N=this._createImg(v,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(N,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(N.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),N},_setIconStyles:function(o,f){var v=this.options,N=v[f+"Size"];typeof N=="number"&&(N=[N,N]);var O=le(N),H=le(f==="shadow"&&v.shadowAnchor||v.iconAnchor||O&&O.divideBy(2,!0));o.className="leaflet-marker-"+f+" "+(v.className||""),H&&(o.style.marginLeft=-H.x+"px",o.style.marginTop=-H.y+"px"),O&&(o.style.width=O.x+"px",o.style.height=O.y+"px")},_createImg:function(o,f){return f=f||document.createElement("img"),f.src=o,f},_getIconUrl:function(o){return Xe.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function af(o){return new ts(o)}var Gs=ts.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Gs.imagePath!="string"&&(Gs.imagePath=this._detectIconPath()),(this.options.imagePath||Gs.imagePath)+ts.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var f=function(v,N,O){var H=N.exec(v);return H&&H[O]};return o=f(o,/^url\((['"])?(.+)\1\)$/,2),o&&f(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=xt("div","leaflet-default-icon-path",document.body),f=ua(o,"background-image")||ua(o,"backgroundImage");if(document.body.removeChild(o),f=this._stripUrl(f),f)return f;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),mu=ir.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new br(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var f=this._marker,v=f._map,N=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,H=ni(f._icon),ce=v.getPixelBounds(),ge=v.getPixelOrigin(),_e=K(ce.min._subtract(ge).add(O),ce.max._subtract(ge).subtract(O));if(!_e.contains(H)){var Ae=le((Math.max(_e.max.x,H.x)-_e.max.x)/(ce.max.x-_e.max.x)-(Math.min(_e.min.x,H.x)-_e.min.x)/(ce.min.x-_e.min.x),(Math.max(_e.max.y,H.y)-_e.max.y)/(ce.max.y-_e.max.y)-(Math.min(_e.min.y,H.y)-_e.min.y)/(ce.min.y-_e.min.y)).multiplyBy(N);v.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),fn(f._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Q(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=Q(this._adjustPan.bind(this,o)))},_onDrag:function(o){var f=this._marker,v=f._shadow,N=ni(f._icon),O=f._map.layerPointToLatLng(N);v&&fn(v,N),f._latlng=O,o.latlng=O,o.oldLatLng=this._oldLatLng,f.fire("move",o).fire("drag",o)},_onDragEnd:function(o){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),si=Er.extend({options:{icon:new Gs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,f){x(this,f),this._latlng=Re(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var f=this._latlng;return this._latlng=Re(o),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=o.icon.createIcon(this._icon),N=!1;v!==this._icon&&(this._icon&&this._removeIcon(),N=!0,o.title&&(v.title=o.title),v.tagName==="IMG"&&(v.alt=o.alt||"")),pt(v,f),o.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(v,"focus",this._panOnFocus,this);var O=o.icon.createShadow(this._shadow),H=!1;O!==this._shadow&&(this._removeShadow(),H=!0),O&&(pt(O,f),O.alt=""),this._shadow=O,o.opacity<1&&this._updateOpacity(),N&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&H&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zt(this._icon,"focus",this._panOnFocus,this),Kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Kt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&fn(this._icon,o),this._shadow&&fn(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mu)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mu(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&On(this._icon,o),this._shadow&&On(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var f=this.options.icon.options,v=f.iconSize?le(f.iconSize):le(0,0),N=f.iconAnchor?le(f.iconAnchor):le(0,0);o.panInside(this._latlng,{paddingTopLeft:N,paddingBottomRight:v.subtract(N)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pm(o,f){return new si(o,f)}var ki=Er.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return x(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Cl=ki.extend({options:{fill:!0,radius:10},initialize:function(o,f){x(this,f),this._latlng=Re(o),this._radius=this.options.radius},setLatLng:function(o){var f=this._latlng;return this._latlng=Re(o),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var f=o&&o.radius||this._radius;return ki.prototype.setStyle.call(this,o),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,f=this._radiusY||o,v=this._clickTolerance(),N=[o+v,f+v];this._pxBounds=new F(this._point.subtract(N),this._point.add(N))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function lf(o,f){return new Cl(o,f)}var jl=Cl.extend({initialize:function(o,f,v){if(typeof f=="number"&&(f=i({},v,{radius:f})),x(this,f),this._latlng=Re(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ne(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ki.prototype.setStyle,_project:function(){var o=this._latlng.lng,f=this._latlng.lat,v=this._map,N=v.options.crs;if(N.distance===De.distance){var O=Math.PI/180,H=this._mRadius/De.R/O,ce=v.project([f+H,o]),ge=v.project([f-H,o]),_e=ce.add(ge).divideBy(2),Ae=v.unproject(_e).lat,He=Math.acos((Math.cos(H*O)-Math.sin(f*O)*Math.sin(Ae*O))/(Math.cos(f*O)*Math.cos(Ae*O)))/O;(isNaN(He)||He===0)&&(He=H/Math.cos(Math.PI/180*f)),this._point=_e.subtract(v.getPixelOrigin()),this._radius=isNaN(He)?0:_e.x-v.project([Ae,o-He]).x,this._radiusY=_e.y-ce.y}else{var st=N.unproject(N.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(st).x}this._updateBounds()}});function va(o,f,v){return new jl(o,f,v)}var Kn=ki.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,f){x(this,f),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var f=1/0,v=null,N=es,O,H,ce=0,ge=this._parts.length;ce<ge;ce++)for(var _e=this._parts[ce],Ae=1,He=_e.length;Ae<He;Ae++){O=_e[Ae-1],H=_e[Ae];var st=N(o,O,H,!0);st<f&&(f=st,v=N(o,O,H))}return v&&(v.distance=Math.sqrt(f)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,f){return f=f||this._defaultShape(),o=Re(o),f.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ne,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return sr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var f=[],v=sr(o),N=0,O=o.length;N<O;N++)v?(f[N]=Re(o[N]),this._bounds.extend(f[N])):f[N]=this._convertLatLngs(o[N]);return f},_project:function(){var o=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),f=new ne(o,o);this._rawPxBounds&&(this._pxBounds=new F([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(o,f,v){var N=o[0]instanceof xe,O=o.length,H,ce;if(N){for(ce=[],H=0;H<O;H++)ce[H]=this._map.latLngToLayerPoint(o[H]),v.extend(ce[H]);f.push(ce)}else for(H=0;H<O;H++)this._projectLatlngs(o[H],f,v)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,v,N,O,H,ce,ge,_e;for(v=0,O=0,H=this._rings.length;v<H;v++)for(_e=this._rings[v],N=0,ce=_e.length;N<ce-1;N++)ge=ef(_e[N],_e[N+1],o,N,!0),ge&&(f[O]=f[O]||[],f[O].push(ge[0]),(ge[1]!==_e[N+1]||N===ce-2)&&(f[O].push(ge[1]),O++))}},_simplifyPoints:function(){for(var o=this._parts,f=this.options.smoothFactor,v=0,N=o.length;v<N;v++)o[v]=Sl(o[v],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,f){var v,N,O,H,ce,ge,_e=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(v=0,H=this._parts.length;v<H;v++)for(ge=this._parts[v],N=0,ce=ge.length,O=ce-1;N<ce;O=N++)if(!(!f&&N===0)&&Xd(o,ge[O],ge[N])<=_e)return!0;return!1}});function mm(o,f){return new Kn(o,f)}Kn._flat=tf;var oi=Kn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var f=Kn.prototype._convertLatLngs.call(this,o),v=f.length;return v>=2&&f[0]instanceof xe&&f[0].equals(f[v-1])&&f.pop(),f},_setLatLngs:function(o){Kn.prototype._setLatLngs.call(this,o),sr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return sr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,f=this.options.weight,v=new ne(f,f);if(o=new F(o.min.subtract(v),o.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var N=0,O=this._rings.length,H;N<O;N++)H=cu(this._rings[N],o,!0),H.length&&this._parts.push(H)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var f=!1,v,N,O,H,ce,ge,_e,Ae;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(H=0,_e=this._parts.length;H<_e;H++)for(v=this._parts[H],ce=0,Ae=v.length,ge=Ae-1;ce<Ae;ge=ce++)N=v[ce],O=v[ge],N.y>o.y!=O.y>o.y&&o.x<(O.x-N.x)*(o.y-N.y)/(O.y-N.y)+N.x&&(f=!f);return f||Kn.prototype._containsPoint.call(this,o,!0)}});function gm(o,f){return new oi(o,f)}var Mr=ii.extend({initialize:function(o,f){x(this,f),this._layers={},o&&this.addData(o)},addData:function(o){var f=R(o)?o:o.features,v,N,O;if(f){for(v=0,N=f.length;v<N;v++)O=f[v],(O.geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var H=this.options;if(H.filter&&!H.filter(o))return this;var ce=Ys(o,H);return ce?(ce.feature=Il(o),ce.defaultOptions=ce.options,this.resetStyle(ce),H.onEachFeature&&H.onEachFeature(o,ce),this.addLayer(ce)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(f){this._setLayerStyle(f,o)},this)},_setLayerStyle:function(o,f){o.setStyle&&(typeof f=="function"&&(f=f(o.feature)),o.setStyle(f))}});function Ys(o,f){var v=o.type==="Feature"?o.geometry:o,N=v?v.coordinates:null,O=[],H=f&&f.pointToLayer,ce=f&&f.coordsToLatLng||Tl,ge,_e,Ae,He;if(!N&&!v)return null;switch(v.type){case"Point":return ge=ce(N),Pl(H,o,ge,f);case"MultiPoint":for(Ae=0,He=N.length;Ae<He;Ae++)ge=ce(N[Ae]),O.push(Pl(H,o,ge,f));return new ii(O);case"LineString":case"MultiLineString":return _e=xa(N,v.type==="LineString"?0:1,ce),new Kn(_e,f);case"Polygon":case"MultiPolygon":return _e=xa(N,v.type==="Polygon"?1:2,ce),new oi(_e,f);case"GeometryCollection":for(Ae=0,He=v.geometries.length;Ae<He;Ae++){var st=Ys({geometry:v.geometries[Ae],type:"Feature",properties:o.properties},f);st&&O.push(st)}return new ii(O);case"FeatureCollection":for(Ae=0,He=v.features.length;Ae<He;Ae++){var bt=Ys(v.features[Ae],f);bt&&O.push(bt)}return new ii(O);default:throw new Error("Invalid GeoJSON object.")}}function Pl(o,f,v,N){return o?o(f,v):new si(v,N&&N.markersInheritOptions&&N)}function Tl(o){return new xe(o[1],o[0],o[2])}function xa(o,f,v){for(var N=[],O=0,H=o.length,ce;O<H;O++)ce=f?xa(o[O],f-1,v):(v||Tl)(o[O]),N.push(ce);return N}function Al(o,f){return o=Re(o),o.alt!==void 0?[E(o.lng,f),E(o.lat,f),E(o.alt,f)]:[E(o.lng,f),E(o.lat,f)]}function Rl(o,f,v,N){for(var O=[],H=0,ce=o.length;H<ce;H++)O.push(f?Rl(o[H],sr(o[H])?0:f-1,v,N):Al(o[H],N));return!f&&v&&O.length>0&&O.push(O[0].slice()),O}function Js(o,f){return o.feature?i({},o.feature,{geometry:f}):Il(f)}function Il(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var gu={toGeoJSON:function(o){return Js(this,{type:"Point",coordinates:Al(this.getLatLng(),o)})}};si.include(gu),jl.include(gu),Cl.include(gu),Kn.include({toGeoJSON:function(o){var f=!sr(this._latlngs),v=Rl(this._latlngs,f?1:0,!1,o);return Js(this,{type:(f?"Multi":"")+"LineString",coordinates:v})}}),oi.include({toGeoJSON:function(o){var f=!sr(this._latlngs),v=f&&!sr(this._latlngs[0]),N=Rl(this._latlngs,v?2:f?1:0,!0,o);return f||(N=[N]),Js(this,{type:(v?"Multi":"")+"Polygon",coordinates:N})}}),Ei.include({toMultiPoint:function(o){var f=[];return this.eachLayer(function(v){f.push(v.toGeoJSON(o).geometry.coordinates)}),Js(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(o){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(o);var v=f==="GeometryCollection",N=[];return this.eachLayer(function(O){if(O.toGeoJSON){var H=O.toGeoJSON(o);if(v)N.push(H.geometry);else{var ce=Il(H);ce.type==="FeatureCollection"?N.push.apply(N,ce.features):N.push(ce)}}}),v?Js(this,{geometries:N,type:"GeometryCollection"}):{type:"FeatureCollection",features:N}}});function cf(o,f){return new Mr(o,f)}var kr=cf,Si=Er.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,f,v){this._url=o,this._bounds=be(f),x(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&$s(this._image),this},bringToBack:function(){return this._map&&ti(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=be(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",f=this._image=o?this._url:xt("img");if(pt(f,"leaflet-image-layer"),this._zoomAnimated&&pt(f,"leaflet-zoom-animated"),this.options.className&&pt(f,this.options.className),f.onselectstart=g,f.onmousemove=g,f.onload=u(this.fire,this,"load"),f.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(o){var f=this._map.getZoomScale(o.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;xr(this._image,v,f)},_reset:function(){var o=this._image,f=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=f.getSize();fn(o,f.min),o.style.width=v.x+"px",o.style.height=v.y+"px"},_updateOpacity:function(){On(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),uf=function(o,f,v){return new Si(o,f,v)},yu=Si.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",f=this._image=o?this._url:xt("video");if(pt(f,"leaflet-image-layer"),this._zoomAnimated&&pt(f,"leaflet-zoom-animated"),this.options.className&&pt(f,this.options.className),f.onselectstart=g,f.onmousemove=g,f.onloadeddata=u(this.fire,this,"load"),o){for(var v=f.getElementsByTagName("source"),N=[],O=0;O<v.length;O++)N.push(v[O].src);this._url=v.length>0?N:[f.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var H=0;H<this._url.length;H++){var ce=xt("source");ce.src=this._url[H],f.appendChild(ce)}}});function df(o,f,v){return new yu(o,f,v)}var vu=Si.extend({_initImage:function(){var o=this._image=this._url;pt(o,"leaflet-image-layer"),this._zoomAnimated&&pt(o,"leaflet-zoom-animated"),this.options.className&&pt(o,this.options.className),o.onselectstart=g,o.onmousemove=g}});function xu(o,f,v){return new vu(o,f,v)}var zr=Er.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,f){o&&(o instanceof xe||R(o))?(this._latlng=Re(o),x(this,f)):(x(this,o),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&On(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&On(this._container,1),this.bringToFront(),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(On(this._container,0),this._removeTimeout=setTimeout(u(Kt,void 0,this._container),200)):Kt(this._container),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Re(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$s(this._container),this},bringToBack:function(){return this._map&&ti(this._container),this},_prepareOpen:function(o){var f=this._source;if(!f._map)return!1;if(f instanceof ii){f=null;var v=this._source._layers;for(var N in v)if(v[N]._map){f=v[N];break}if(!f)return!1;this._source=f}if(!o)if(f.getCenter)o=f.getCenter();else if(f.getLatLng)o=f.getLatLng();else if(f.getBounds)o=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")o.innerHTML=f;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),f=le(this.options.offset),v=this._getAnchor();this._zoomAnimated?fn(this._container,o.add(v)):f=f.add(o).add(v);var N=this._containerBottom=-f.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=N+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});Ct.include({_initOverlay:function(o,f,v,N){var O=f;return O instanceof o||(O=new o(N).setContent(f)),v&&O.setLatLng(v),O}}),Er.include({_initOverlay:function(o,f,v,N){var O=v;return O instanceof o?(x(O,N),O._source=this):(O=f&&!N?f:new o(N,this),O.setContent(v)),O}});var Ll=zr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,zr.prototype.openOn.call(this,o)},onAdd:function(o){zr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ki||this._source.on("preclick",Or))},onRemove:function(o){zr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ki||this._source.off("preclick",Or))},getEvents:function(){var o=zr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",f=this._container=xt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=xt("div",o+"-content-wrapper",f);if(this._contentNode=xt("div",o+"-content",v),pa(f),_l(this._contentNode),ft(f,"contextmenu",Or),this._tipContainer=xt("div",o+"-tip-container",f),this._tip=xt("div",o+"-tip",this._tipContainer),this.options.closeButton){var N=this._closeButton=xt("a",o+"-close-button",f);N.setAttribute("role","button"),N.setAttribute("aria-label","Close popup"),N.href="#close",N.innerHTML='<span aria-hidden="true">&#215;</span>',ft(N,"click",function(O){an(O),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,f=o.style;f.width="",f.whiteSpace="nowrap";var v=o.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),f.width=v+1+"px",f.whiteSpace="",f.height="";var N=o.offsetHeight,O=this.options.maxHeight,H="leaflet-popup-scrolled";O&&N>O?(f.height=O+"px",pt(o,H)):Vt(o,H),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),v=this._getAnchor();fn(this._container,f.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,f=parseInt(ua(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+f,N=this._containerWidth,O=new ne(this._containerLeft,-v-this._containerBottom);O._add(ni(this._container));var H=o.layerPointToContainerPoint(O),ce=le(this.options.autoPanPadding),ge=le(this.options.autoPanPaddingTopLeft||ce),_e=le(this.options.autoPanPaddingBottomRight||ce),Ae=o.getSize(),He=0,st=0;H.x+N+_e.x>Ae.x&&(He=H.x+N-Ae.x+_e.x),H.x-He-ge.x<0&&(He=H.x-ge.x),H.y+v+_e.y>Ae.y&&(st=H.y+v-Ae.y+_e.y),H.y-st-ge.y<0&&(st=H.y-ge.y),(He||st)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([He,st]))}},_getAnchor:function(){return le(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Qs=function(o,f){return new Ll(o,f)};Ct.mergeOptions({closePopupOnClick:!0}),Ct.include({openPopup:function(o,f,v){return this._initOverlay(Ll,o,f,v).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Er.include({bindPopup:function(o,f){return this._popup=this._initOverlay(Ll,this._popup,o,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof ii||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){_r(o);var f=o.layer||o.target;if(this._popup._source===f&&!(f instanceof ki)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=f,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Xs=zr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){zr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){zr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=zr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",f=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var f,v,N=this._map,O=this._container,H=N.latLngToContainerPoint(N.getCenter()),ce=N.layerPointToContainerPoint(o),ge=this.options.direction,_e=O.offsetWidth,Ae=O.offsetHeight,He=le(this.options.offset),st=this._getAnchor();ge==="top"?(f=_e/2,v=Ae):ge==="bottom"?(f=_e/2,v=0):ge==="center"?(f=_e/2,v=Ae/2):ge==="right"?(f=0,v=Ae/2):ge==="left"?(f=_e,v=Ae/2):ce.x<H.x?(ge="right",f=0,v=Ae/2):(ge="left",f=_e+(He.x+st.x)*2,v=Ae/2),o=o.subtract(le(f,v,!0)).add(He).add(st),Vt(O,"leaflet-tooltip-right"),Vt(O,"leaflet-tooltip-left"),Vt(O,"leaflet-tooltip-top"),Vt(O,"leaflet-tooltip-bottom"),pt(O,"leaflet-tooltip-"+ge),fn(O,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&On(this._container,o)},_animateZoom:function(o){var f=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(f)},_getAnchor:function(){return le(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wa=function(o,f){return new Xs(o,f)};Ct.include({openTooltip:function(o,f,v){return this._initOverlay(Xs,o,f,v).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Er.include({bindTooltip:function(o,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Xs,this._tooltip,o,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var f=o?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[f](v),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof ii||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var f=typeof o.getElement=="function"&&o.getElement();f&&(ft(f,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ft(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var f=typeof o.getElement=="function"&&o.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var f=o.latlng,v,N;this._tooltip.options.sticky&&o.originalEvent&&(v=this._map.mouseEventToContainerPoint(o.originalEvent),N=this._map.containerPointToLayerPoint(v),f=this._map.layerPointToLatLng(N)),this._tooltip.setLatLng(f)}});var Ol=ts.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var f=o&&o.tagName==="DIV"?o:document.createElement("div"),v=this.options;if(v.html instanceof Element?(ml(f),f.appendChild(v.html)):f.innerHTML=v.html!==!1?v.html:"",v.bgPos){var N=le(v.bgPos);f.style.backgroundPosition=-N.x+"px "+-N.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function ff(o){return new Ol(o)}ts.Default=Gs;var Ni=Er.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Xe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){x(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Kt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($s(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ti(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof ne?o:new ne(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var f=this.getPane().children,v=-o(-1/0,1/0),N=0,O=f.length,H;N<O;N++)H=f[N].style.zIndex,f[N]!==this._container&&H&&(v=o(v,+H));isFinite(v)&&(this.options.zIndex=v+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Xe.ielt9){On(this._container,this.options.opacity);var o=+new Date,f=!1,v=!1;for(var N in this._tiles){var O=this._tiles[N];if(!(!O.current||!O.loaded)){var H=Math.min(1,(o-O.loaded)/200);On(O.el,H),H<1?f=!0:(O.active?v=!0:this._onOpaqueTile(O),O.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),f&&($(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,f=this.options.maxZoom;if(o!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===o?(this._levels[v].el.style.zIndex=f-Math.abs(o-v),this._onUpdateLevel(v)):(Kt(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var N=this._levels[o],O=this._map;return N||(N=this._levels[o]={},N.el=xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),N.el.style.zIndex=f,N.origin=O.project(O.unproject(O.getPixelOrigin()),o).round(),N.zoom=o,this._setZoomTransform(N,O.getCenter(),O.getZoom()),g(N.el.offsetWidth),this._onCreateLevel(N)),this._level=N,N}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var o,f,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)f=this._tiles[o],f.retain=f.current;for(o in this._tiles)if(f=this._tiles[o],f.current&&!f.active){var N=f.coords;this._retainParent(N.x,N.y,N.z,N.z-5)||this._retainChildren(N.x,N.y,N.z,N.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var f in this._tiles)this._tiles[f].coords.z===o&&this._removeTile(f)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Kt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,f,v,N){var O=Math.floor(o/2),H=Math.floor(f/2),ce=v-1,ge=new ne(+O,+H);ge.z=+ce;var _e=this._tileCoordsToKey(ge),Ae=this._tiles[_e];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ce>N?this._retainParent(O,H,ce,N):!1)},_retainChildren:function(o,f,v,N){for(var O=2*o;O<2*o+2;O++)for(var H=2*f;H<2*f+2;H++){var ce=new ne(O,H);ce.z=v+1;var ge=this._tileCoordsToKey(ce),_e=this._tiles[ge];if(_e&&_e.active){_e.retain=!0;continue}else _e&&_e.loaded&&(_e.retain=!0);v+1<N&&this._retainChildren(O,H,v+1,N)}},_resetView:function(o){var f=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var f=this.options;return f.minNativeZoom!==void 0&&o<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<o?f.maxNativeZoom:o},_setView:function(o,f,v,N){var O=Math.round(f);this.options.maxZoom!==void 0&&O>this.options.maxZoom||this.options.minZoom!==void 0&&O<this.options.minZoom?O=void 0:O=this._clampZoom(O);var H=this.options.updateWhenZooming&&O!==this._tileZoom;(!N||H)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),O!==void 0&&this._update(o),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(o,f)},_setZoomTransforms:function(o,f){for(var v in this._levels)this._setZoomTransform(this._levels[v],o,f)},_setZoomTransform:function(o,f,v){var N=this._map.getZoomScale(v,o.zoom),O=o.origin.multiplyBy(N).subtract(this._map._getNewPixelOrigin(f,v)).round();Xe.any3d?xr(o.el,O,N):fn(o.el,O)},_resetGrid:function(){var o=this._map,f=o.options.crs,v=this._tileSize=this.getTileSize(),N=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,f.wrapLng[0]],N).x/v.x),Math.ceil(o.project([0,f.wrapLng[1]],N).x/v.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([f.wrapLat[0],0],N).y/v.x),Math.ceil(o.project([f.wrapLat[1],0],N).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var f=this._map,v=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),N=f.getZoomScale(v,this._tileZoom),O=f.project(o,this._tileZoom).floor(),H=f.getSize().divideBy(N*2);return new F(O.subtract(H),O.add(H))},_update:function(o){var f=this._map;if(f){var v=this._clampZoom(f.getZoom());if(o===void 0&&(o=f.getCenter()),this._tileZoom!==void 0){var N=this._getTiledPixelBounds(o),O=this._pxBoundsToTileRange(N),H=O.getCenter(),ce=[],ge=this.options.keepBuffer,_e=new F(O.getBottomLeft().subtract([ge,-ge]),O.getTopRight().add([ge,-ge]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var He=this._tiles[Ae].coords;(He.z!==this._tileZoom||!_e.contains(new ne(He.x,He.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(o,v);return}for(var st=O.min.y;st<=O.max.y;st++)for(var bt=O.min.x;bt<=O.max.x;bt++){var bn=new ne(bt,st);if(bn.z=this._tileZoom,!!this._isValidTile(bn)){var vn=this._tiles[this._tileCoordsToKey(bn)];vn?vn.current=!0:ce.push(bn)}}if(ce.sort(function(zn,io){return zn.distanceTo(H)-io.distanceTo(H)}),ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gn=document.createDocumentFragment();for(bt=0;bt<ce.length;bt++)this._addTile(ce[bt],Gn);this._level.el.appendChild(Gn)}}}},_isValidTile:function(o){var f=this._map.options.crs;if(!f.infinite){var v=this._globalTileRange;if(!f.wrapLng&&(o.x<v.min.x||o.x>v.max.x)||!f.wrapLat&&(o.y<v.min.y||o.y>v.max.y))return!1}if(!this.options.bounds)return!0;var N=this._tileCoordsToBounds(o);return be(this.options.bounds).overlaps(N)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var f=this._map,v=this.getTileSize(),N=o.scaleBy(v),O=N.add(v),H=f.unproject(N,o.z),ce=f.unproject(O,o.z);return[H,ce]},_tileCoordsToBounds:function(o){var f=this._tileCoordsToNwSe(o),v=new Ne(f[0],f[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var f=o.split(":"),v=new ne(+f[0],+f[1]);return v.z=+f[2],v},_removeTile:function(o){var f=this._tiles[o];f&&(Kt(f.el),delete this._tiles[o],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){pt(o,"leaflet-tile");var f=this.getTileSize();o.style.width=f.x+"px",o.style.height=f.y+"px",o.onselectstart=g,o.onmousemove=g,Xe.ielt9&&this.options.opacity<1&&On(o,this.options.opacity)},_addTile:function(o,f){var v=this._getTilePos(o),N=this._tileCoordsToKey(o),O=this.createTile(this._wrapCoords(o),u(this._tileReady,this,o));this._initTile(O),this.createTile.length<2&&Q(u(this._tileReady,this,o,null,O)),fn(O,v),this._tiles[N]={el:O,coords:o,current:!0},f.appendChild(O),this.fire("tileloadstart",{tile:O,coords:o})},_tileReady:function(o,f,v){f&&this.fire("tileerror",{error:f,tile:v,coords:o});var N=this._tileCoordsToKey(o);v=this._tiles[N],v&&(v.loaded=+new Date,this._map._fadeAnimated?(On(v.el,0),$(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),f||(pt(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Xe.ielt9||!this._map._fadeAnimated?Q(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var f=new ne(this._wrapX?y(o.x,this._wrapX):o.x,this._wrapY?y(o.y,this._wrapY):o.y);return f.z=o.z,f},_pxBoundsToTileRange:function(o){var f=this.getTileSize();return new F(o.min.unscaleBy(f).floor(),o.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function eo(o){return new Ni(o)}var Ci=Ni.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,f){this._url=o,f=x(this,f),f.detectRetina&&Xe.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,f){return this._url===o&&f===void 0&&(f=!0),this._url=o,f||this.redraw(),this},createTile:function(o,f){var v=document.createElement("img");return ft(v,"load",u(this._tileOnLoad,this,f,v)),ft(v,"error",u(this._tileOnError,this,f,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(o),v},getTileUrl:function(o){var f={r:Xe.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-o.y;this.options.tms&&(f.y=v),f["-y"]=v}return j(this._url,i(f,this.options))},_tileOnLoad:function(o,f){Xe.ielt9?setTimeout(u(o,this,null,f),0):o(null,f)},_tileOnError:function(o,f,v){var N=this.options.errorTileUrl;N&&f.getAttribute("src")!==N&&(f.src=N),o(v,f)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,f=this.options.maxZoom,v=this.options.zoomReverse,N=this.options.zoomOffset;return v&&(o=f-o),o+N},_getSubdomain:function(o){var f=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var o,f;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(f=this._tiles[o].el,f.onload=g,f.onerror=g,!f.complete)){f.src=B;var v=this._tiles[o].coords;Kt(f),delete this._tiles[o],this.fire("tileabort",{tile:f,coords:v})}},_removeTile:function(o){var f=this._tiles[o];if(f)return f.el.setAttribute("src",B),Ni.prototype._removeTile.call(this,o)},_tileReady:function(o,f,v){if(!(!this._map||v&&v.getAttribute("src")===B))return Ni.prototype._tileReady.call(this,o,f,v)}});function wu(o,f){return new Ci(o,f)}var _a=Ci.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,f){this._url=o;var v=i({},this.defaultWmsParams);for(var N in f)N in this.options||(v[N]=f[N]);f=x(this,f);var O=f.detectRetina&&Xe.retina?2:1,H=this.getTileSize();v.width=H.x*O,v.height=H.y*O,this.wmsParams=v},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Ci.prototype.onAdd.call(this,o)},getTileUrl:function(o){var f=this._tileCoordsToNwSe(o),v=this._crs,N=K(v.project(f[0]),v.project(f[1])),O=N.min,H=N.max,ce=(this._wmsVersion>=1.3&&this._crs===sf?[O.y,O.x,H.y,H.x]:[O.x,O.y,H.x,H.y]).join(","),ge=Ci.prototype.getTileUrl.call(this,o);return ge+b(this.wmsParams,ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ce},setParams:function(o,f){return i(this.wmsParams,o),f||this.redraw(),this}});function hf(o,f){return new _a(o,f)}Ci.WMS=_a,wu.wms=hf;var Dr=Er.extend({options:{padding:.1},initialize:function(o){x(this,o),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,f){var v=this._map.getZoomScale(f,this._zoom),N=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,f),H=N.multiplyBy(-v).add(O).subtract(this._map._getNewPixelOrigin(o,f));Xe.any3d?xr(this._container,H,v):fn(this._container,H)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,f=this._map.getSize(),v=this._map.containerPointToLayerPoint(f.multiplyBy(-o)).round();this._bounds=new F(v,v.add(f.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),_u=Dr.extend({options:{tolerance:0},getEvents:function(){var o=Dr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Dr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ft(o,"mousemove",this._onMouseMove,this),ft(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ft(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,Kt(this._container),Zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var f in this._layers)o=this._layers[f],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Dr.prototype._update.call(this);var o=this._bounds,f=this._container,v=o.getSize(),N=Xe.retina?2:1;fn(f,o.min),f.width=N*v.x,f.height=N*v.y,f.style.width=v.x+"px",f.style.height=v.y+"px",Xe.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Dr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[h(o)]=o;var f=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var f=o._order,v=f.next,N=f.prev;v?v.prev=N:this._drawLast=N,N?N.next=v:this._drawFirst=v,delete o._order,delete this._layers[h(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var f=o.options.dashArray.split(/[, ]+/),v=[],N,O;for(O=0;O<f.length;O++){if(N=Number(f[O]),isNaN(N))return;v.push(N)}o.options._dashArray=v}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Q(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var f=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(o._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(o._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var f=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,f=this._redrawBounds;if(this._ctx.save(),f){var v=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var N=this._drawFirst;N;N=N.next)o=N.layer,(!f||o._pxBounds&&o._pxBounds.intersects(f))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,f){if(this._drawing){var v,N,O,H,ce=o._parts,ge=ce.length,_e=this._ctx;if(ge){for(_e.beginPath(),v=0;v<ge;v++){for(N=0,O=ce[v].length;N<O;N++)H=ce[v][N],_e[N?"lineTo":"moveTo"](H.x,H.y);f&&_e.closePath()}this._fillStroke(_e,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var f=o._point,v=this._ctx,N=Math.max(Math.round(o._radius),1),O=(Math.max(Math.round(o._radiusY),1)||N)/N;O!==1&&(v.save(),v.scale(1,O)),v.beginPath(),v.arc(f.x,f.y/O,N,0,Math.PI*2,!1),O!==1&&v.restore(),this._fillStroke(v,o)}},_fillStroke:function(o,f){var v=f.options;v.fill&&(o.globalAlpha=v.fillOpacity,o.fillStyle=v.fillColor||v.color,o.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(o.setLineDash&&o.setLineDash(f.options&&f.options._dashArray||[]),o.globalAlpha=v.opacity,o.lineWidth=v.weight,o.strokeStyle=v.color,o.lineCap=v.lineCap,o.lineJoin=v.lineJoin,o.stroke())},_onClick:function(o){for(var f=this._map.mouseEventToLayerPoint(o),v,N,O=this._drawFirst;O;O=O.next)v=O.layer,v.options.interactive&&v._containsPoint(f)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(v))&&(N=v);this._fireEvent(N?[N]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,f)}},_handleMouseOut:function(o){var f=this._hoveredLayer;f&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,f){if(!this._mouseHoverThrottled){for(var v,N,O=this._drawFirst;O;O=O.next)v=O.layer,v.options.interactive&&v._containsPoint(f)&&(N=v);N!==this._hoveredLayer&&(this._handleMouseOut(o),N&&(pt(this._container,"leaflet-interactive"),this._fireEvent([N],o,"mouseover"),this._hoveredLayer=N)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,f,v){this._map._fireDOMEvent(f,v||f.type,o)},_bringToFront:function(o){var f=o._order;if(f){var v=f.next,N=f.prev;if(v)v.prev=N;else return;N?N.next=v:v&&(this._drawFirst=v),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(o)}},_bringToBack:function(o){var f=o._order;if(f){var v=f.next,N=f.prev;if(N)N.next=v;else return;v?v.prev=N:N&&(this._drawLast=N),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(o)}}});function bu(o){return Xe.canvas?new _u(o):null}var to=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),pf={_initContainer:function(){this._container=xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Dr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var f=o._container=to("shape");pt(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",o._path=to("path"),f.appendChild(o._path),this._updateStyle(o),this._layers[h(o)]=o},_addPath:function(o){var f=o._container;this._container.appendChild(f),o.options.interactive&&o.addInteractiveTarget(f)},_removePath:function(o){var f=o._container;Kt(f),o.removeInteractiveTarget(f),delete this._layers[h(o)]},_updateStyle:function(o){var f=o._stroke,v=o._fill,N=o.options,O=o._container;O.stroked=!!N.stroke,O.filled=!!N.fill,N.stroke?(f||(f=o._stroke=to("stroke")),O.appendChild(f),f.weight=N.weight+"px",f.color=N.color,f.opacity=N.opacity,N.dashArray?f.dashStyle=R(N.dashArray)?N.dashArray.join(" "):N.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=N.lineCap.replace("butt","flat"),f.joinstyle=N.lineJoin):f&&(O.removeChild(f),o._stroke=null),N.fill?(v||(v=o._fill=to("fill")),O.appendChild(v),v.color=N.fillColor||N.color,v.opacity=N.fillOpacity):v&&(O.removeChild(v),o._fill=null)},_updateCircle:function(o){var f=o._point.round(),v=Math.round(o._radius),N=Math.round(o._radiusY||v);this._setPath(o,o._empty()?"M0 0":"AL "+f.x+","+f.y+" "+v+","+N+" 0,"+65535*360)},_setPath:function(o,f){o._path.v=f},_bringToFront:function(o){$s(o._container)},_bringToBack:function(o){ti(o._container)}},Sr=Xe.vml?to:Ce,ns=Dr.extend({_initContainer:function(){this._container=Sr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Sr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Kt(this._container),Zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Dr.prototype._update.call(this);var o=this._bounds,f=o.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,v.setAttribute("width",f.x),v.setAttribute("height",f.y)),fn(v,o.min),v.setAttribute("viewBox",[o.min.x,o.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(o){var f=o._path=Sr("path");o.options.className&&pt(f,o.options.className),o.options.interactive&&pt(f,"leaflet-interactive"),this._updateStyle(o),this._layers[h(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Kt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[h(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var f=o._path,v=o.options;f&&(v.stroke?(f.setAttribute("stroke",v.color),f.setAttribute("stroke-opacity",v.opacity),f.setAttribute("stroke-width",v.weight),f.setAttribute("stroke-linecap",v.lineCap),f.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?f.setAttribute("stroke-dasharray",v.dashArray):f.removeAttribute("stroke-dasharray"),v.dashOffset?f.setAttribute("stroke-dashoffset",v.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),v.fill?(f.setAttribute("fill",v.fillColor||v.color),f.setAttribute("fill-opacity",v.fillOpacity),f.setAttribute("fill-rule",v.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(o,f){this._setPath(o,ke(o._parts,f))},_updateCircle:function(o){var f=o._point,v=Math.max(Math.round(o._radius),1),N=Math.max(Math.round(o._radiusY),1)||v,O="a"+v+","+N+" 0 1,0 ",H=o._empty()?"M0 0":"M"+(f.x-v)+","+f.y+O+v*2+",0 "+O+-v*2+",0 ";this._setPath(o,H)},_setPath:function(o,f){o._path.setAttribute("d",f)},_bringToFront:function(o){$s(o._path)},_bringToBack:function(o){ti(o._path)}});Xe.vml&&ns.include(pf);function Ml(o){return Xe.svg||Xe.vml?new ns(o):null}Ct.include({getRenderer:function(o){var f=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var f=this._paneRenderers[o];return f===void 0&&(f=this._createRenderer({pane:o}),this._paneRenderers[o]=f),f},_createRenderer:function(o){return this.options.preferCanvas&&bu(o)||Ml(o)}});var mf=oi.extend({initialize:function(o,f){oi.prototype.initialize.call(this,this._boundsToLatLngs(o),f)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=be(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function ym(o,f){return new mf(o,f)}ns.create=Sr,ns.pointsToPath=ke,Mr.geometryToLayer=Ys,Mr.coordsToLatLng=Tl,Mr.coordsToLatLngs=xa,Mr.latLngToCoords=Al,Mr.latLngsToCoords=Rl,Mr.getFeature=Js,Mr.asFeature=Il,Ct.mergeOptions({boxZoom:!0});var no=ir.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),At(),vl(),this._startPoint=this._map.mouseEventToContainerPoint(o),ft(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=xt("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var f=new F(this._point,this._startPoint),v=f.getSize();fn(this._box,f.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(Kt(this._box),Vt(this._container,"leaflet-crosshair")),Hs(),xl(),Zt(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var f=new Ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ct.addInitHook("addHandler","boxZoom",no),Ct.mergeOptions({doubleClickZoom:!0});var gf=ir.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var f=this._map,v=f.getZoom(),N=f.options.zoomDelta,O=o.originalEvent.shiftKey?v-N:v+N;f.options.doubleClickZoom==="center"?f.setZoom(O):f.setZoomAround(o.containerPoint,O)}});Ct.addInitHook("addHandler","doubleClickZoom",gf),Ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Eu=ir.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new br(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Vt(this._map._container,"leaflet-grab"),Vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=be(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var f=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(f),this._prunePositions(f)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,f){return o-(o-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;o.x<f.min.x&&(o.x=this._viscousLimit(o.x,f.min.x)),o.y<f.min.y&&(o.y=this._viscousLimit(o.y,f.min.y)),o.x>f.max.x&&(o.x=this._viscousLimit(o.x,f.max.x)),o.y>f.max.y&&(o.y=this._viscousLimit(o.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,f=Math.round(o/2),v=this._initialWorldOffset,N=this._draggable._newPos.x,O=(N-f+v)%o+f-v,H=(N+f+v)%o-f-v,ce=Math.abs(O+v)<Math.abs(H+v)?O:H;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ce},_onDragEnd:function(o){var f=this._map,v=f.options,N=!v.inertia||o.noInertia||this._times.length<2;if(f.fire("dragend",o),N)f.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),H=(this._lastTime-this._times[0])/1e3,ce=v.easeLinearity,ge=O.multiplyBy(ce/H),_e=ge.distanceTo([0,0]),Ae=Math.min(v.inertiaMaxSpeed,_e),He=ge.multiplyBy(Ae/_e),st=Ae/(v.inertiaDeceleration*ce),bt=He.multiplyBy(-st/2).round();!bt.x&&!bt.y?f.fire("moveend"):(bt=f._limitOffset(bt,f.options.maxBounds),Q(function(){f.panBy(bt,{duration:st,easeLinearity:ce,noMoveStart:!0,animate:!0})}))}}});Ct.addInitHook("addHandler","dragging",Eu),Ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ku=ir.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ft(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,f=document.documentElement,v=o.scrollTop||f.scrollTop,N=o.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(N,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var f=this._panKeys={},v=this.keyCodes,N,O;for(N=0,O=v.left.length;N<O;N++)f[v.left[N]]=[-1*o,0];for(N=0,O=v.right.length;N<O;N++)f[v.right[N]]=[o,0];for(N=0,O=v.down.length;N<O;N++)f[v.down[N]]=[0,o];for(N=0,O=v.up.length;N<O;N++)f[v.up[N]]=[0,-1*o]},_setZoomDelta:function(o){var f=this._zoomKeys={},v=this.keyCodes,N,O;for(N=0,O=v.zoomIn.length;N<O;N++)f[v.zoomIn[N]]=o;for(N=0,O=v.zoomOut.length;N<O;N++)f[v.zoomOut[N]]=-o},_addHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var f=o.keyCode,v=this._map,N;if(f in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(N=this._panKeys[f],o.shiftKey&&(N=le(N).multiplyBy(3)),v.options.maxBounds&&(N=v._limitOffset(le(N),v.options.maxBounds)),v.options.worldCopyJump){var O=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(N)));v.panTo(O)}else v.panBy(N)}else if(f in this._zoomKeys)v.setZoom(v.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;_r(o)}}});Ct.addInitHook("addHandler","keyboard",ku),Ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ht=ir.extend({addHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Zt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var f=Yd(o),v=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var N=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),N),_r(o)},_performZoom:function(){var o=this._map,f=o.getZoom(),v=this._map.options.zoomSnap||0;o._stop();var N=this._delta/(this._map.options.wheelPxPerZoomLevel*4),O=4*Math.log(2/(1+Math.exp(-Math.abs(N))))/Math.LN2,H=v?Math.ceil(O/v)*v:O,ce=o._limitZoom(f+(this._delta>0?H:-H))-f;this._delta=0,this._startTime=null,ce&&(o.options.scrollWheelZoom==="center"?o.setZoom(f+ce):o.setZoomAround(this._lastMousePos,f+ce))}});Ct.addInitHook("addHandler","scrollWheelZoom",Ht);var Su=600;Ct.mergeOptions({tapHold:Xe.touchNative&&Xe.safari&&Xe.mobile,tapTolerance:15});var ba=ir.extend({addHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var f=o.touches[0];this._startPos=this._newPos=new ne(f.clientX,f.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ft(document,"touchend",an),ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),Su),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Zt(document,"touchend",an),Zt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Zt(document,"touchend touchcancel contextmenu",this._cancel,this),Zt(document,"touchmove",this._onMove,this)},_onMove:function(o){var f=o.touches[0];this._newPos=new ne(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,f){var v=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});v._simulated=!0,f.target.dispatchEvent(v)}});Ct.addInitHook("addHandler","tapHold",ba),Ct.mergeOptions({touchZoom:Xe.touch,bounceAtZoomLimits:!0});var ro=ir.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),Zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var f=this._map;if(!(!o.touches||o.touches.length!==2||f._animatingZoom||this._zooming)){var v=f.mouseEventToContainerPoint(o.touches[0]),N=f.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(v.add(N)._divideBy(2))),this._startDist=v.distanceTo(N),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),an(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var f=this._map,v=f.mouseEventToContainerPoint(o.touches[0]),N=f.mouseEventToContainerPoint(o.touches[1]),O=v.distanceTo(N)/this._startDist;if(this._zoom=f.getScaleZoom(O,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&O<1||this._zoom>f.getMaxZoom()&&O>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,O===1)return}else{var H=v._add(N)._divideBy(2)._subtract(this._centerPoint);if(O===1&&H.x===0&&H.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(H),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var ce=u(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Q(ce,this,!0),an(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Zt(document,"touchmove",this._onTouchMove,this),Zt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ct.addInitHook("addHandler","touchZoom",ro),Ct.BoxZoom=no,Ct.DoubleClickZoom=gf,Ct.Drag=Eu,Ct.Keyboard=ku,Ct.ScrollWheelZoom=Ht,Ct.TapHold=ba,Ct.TouchZoom=ro,n.Bounds=F,n.Browser=Xe,n.CRS=Ue,n.Canvas=_u,n.Circle=jl,n.CircleMarker=Cl,n.Class=M,n.Control=qn,n.DivIcon=Ol,n.DivOverlay=zr,n.DomEvent=bl,n.DomUtil=ha,n.Draggable=br,n.Evented=se,n.FeatureGroup=ii,n.GeoJSON=Mr,n.GridLayer=Ni,n.Handler=ir,n.Icon=ts,n.ImageOverlay=Si,n.LatLng=xe,n.LatLngBounds=Ne,n.Layer=Er,n.LayerGroup=Ei,n.LineUtil=rf,n.Map=Ct,n.Marker=si,n.Mixin=lu,n.Path=ki,n.Point=ne,n.PolyUtil=om,n.Polygon=oi,n.Polyline=Kn,n.Popup=Ll,n.PosAnimation=El,n.Projection=dm,n.Rectangle=mf,n.Renderer=Dr,n.SVG=ns,n.SVGOverlay=vu,n.TileLayer=Ci,n.Tooltip=Xs,n.Transformation=St,n.Util=re,n.VideoOverlay=yu,n.bind=u,n.bounds=K,n.canvas=bu,n.circle=va,n.circleMarker=lf,n.control=bi,n.divIcon=ff,n.extend=i,n.featureGroup=of,n.geoJSON=cf,n.geoJson=kr,n.gridLayer=eo,n.icon=af,n.imageOverlay=uf,n.latLng=Re,n.latLngBounds=be,n.layerGroup=ya,n.map=_i,n.marker=pm,n.point=le,n.polygon=gm,n.polyline=mm,n.popup=Qs,n.rectangle=ym,n.setOptions=x,n.stamp=h,n.svg=Ml,n.svgOverlay=xu,n.tileLayer=wu,n.tooltip=wa,n.transformation=Ot,n.version=r,n.videoOverlay=df;var yf=window.L;n.noConflict=function(){return window.L=yf,this},window.L=n})}(Xu,Xu.exports)),Xu.exports}var G9=K9();const oc=lp(G9),Y9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",J9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let Q9=oc.icon({iconUrl:Y9,shadowUrl:J9,iconSize:[25,41],iconAnchor:[12,41]});oc.Marker.prototype.options.icon=Q9;const fy={"9q8yyz":[37.7749,-122.4194],"9q8yym":[34.0522,-118.2437],"9q8yyk":[40.7128,-74.006],"9q8yyf":[41.8781,-87.6298],dpwh:[47.6062,-122.3321],dqcjq:[39.7392,-104.9903]};function X9(e){if(fy[e])return fy[e];for(const[t,n]of Object.entries(fy))if(e.startsWith(t))return n;return[25+Math.random()*35,-125+Math.random()*55]}function f1({lockers:e=[],onLockerClick:t,center:n=[45,-100],zoom:r=3}){const i=T.useRef(null),l=T.useRef(null),u=T.useRef([]);return T.useEffect(()=>{if(!l.current)return;const d=oc.map(l.current).setView(n,r);return oc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(d),i.current=d,()=>{d.remove(),i.current=null}},[n,r]),T.useEffect(()=>{if(i.current&&(u.current.forEach(d=>d.remove()),u.current=[],e.forEach(d=>{if(!d.geohash)return;const h=X9(d.geohash);if(!h)return;const m=d.price>0&&d.price<1e3?`<div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${d.title}</h3>
            <p style="margin: 0; color: #666;">${d.description||""}</p>
            <p style="margin: 5px 0 0 0; font-size: 14px; font-weight: bold;">
              ${d.price} products
            </p>
          </div>`:`<div style="min-width: 150px;">
            <h3 style="margin: 0 0 5px 0; font-weight: bold;">${d.title}</h3>
            <p style="margin: 0; color: #666;">${d.description||""}</p>
          </div>`,y=oc.marker(h).addTo(i.current).bindPopup(m);t&&y.on("click",()=>t(d)),u.current.push(y)}),u.current.length>0&&u.current.length<10)){const d=new oc.FeatureGroup(u.current);i.current.fitBounds(d.getBounds().pad(.1))}},[e,t]),c.jsx("div",{ref:l,style:{height:"100%",width:"100%",minHeight:"400px"}})}const hy=[{id:"1",dTag:"locker-sf-001",name:"Mission District Secure Box",description:"24/7 accessible smart locker in secure building. Camera monitored.",price:500,geohash:"9q8yyz",city:"San Francisco",state:"CA",owner:"npub1owner1...",dimensions:"40x50x60 cm",features:["24/7 Access","Camera","Climate Controlled"],proxyService:{available:!0,fee:1e4,name:"Alice (Owner)"}},{id:"2",dTag:"locker-nyc-001",name:"Brooklyn Heights Drop",description:"Street-level locker. Well-lit area, residential neighborhood.",price:750,geohash:"9q8yyk",city:"New York",state:"NY",owner:"npub1owner2...",dimensions:"35x45x55 cm",features:["Ground Floor","Discreet"],proxyService:{available:!0,fee:15e3,name:"Bob (Owner)"}},{id:"3",dTag:"locker-sea-001",name:"Capitol Hill Tech Hub",description:"Indoor location near coffee shops. NFC + QR unlock.",price:400,geohash:"dpwh",city:"Seattle",state:"WA",owner:"npub1owner3...",dimensions:"50x60x70 cm",features:["NFC Unlock","Indoor","WiFi"]},{id:"4",dTag:"locker-la-001",name:"Silverlake Community Box",description:"Community-run locker. Local volunteers maintain.",price:300,geohash:"9q8yym",city:"Los Angeles",state:"CA",owner:"npub1owner4...",dimensions:"30x40x50 cm",features:["Community Run","Cheap"],proxyService:{available:!0,fee:8e3,name:"Carol (Community)"}}],eZ=[{id:"seller-1",name:"CryptoVault",npub:"npub1vault...",tagline:"Premium hardware wallets & security devices",items:["ColdCard","SeedSigner","Faraday bags"],trustScore:4.9,sales:156,servicesAreas:["9q8yyz","9q8yyk","dpwh"],isPremium:!0},{id:"seller-2",name:"PrivacyFirst",npub:"npub1priv...",tagline:"De-googled phones & privacy tools",items:["Pixel w/ GrapheneOS","VPN subs"," anon SIMs"],trustScore:4.7,sales:89,servicesAreas:["9q8yyz","9q8yym","dpwh"],isPremium:!0},{id:"seller-3",name:"SatStacker",npub:"npub1sat...",tagline:"Bitcoin merchandise & educational kits",items:["Metal seeds","Books","Stickers"],trustScore:5,sales:234,servicesAreas:["9q8yyk","dqcjq"],isPremium:!1}],tZ={"san francisco":["9q8yyz"],sf:["9q8yyz"],94102:["9q8yyz"],94103:["9q8yyz"],"new york":["9q8yyk"],nyc:["9q8yyk"],10001:["9q8yyk"],seattle:["dpwh"],98101:["dpwh"],"los angeles":["9q8yym"],la:["9q8yym"],90001:["9q8yym"],denver:["dqcjq"],80201:["dqcjq"],chicago:["9q8yyf"],60601:["9q8yyf"]};function nZ(){const{nostr:e}=Ms(),[t,n]=T.useState("grid"),[r,i]=T.useState(2e3),[l,u]=T.useState(!1),[d,h]=T.useState(""),[m,y]=T.useState(""),[g,E]=T.useState(!1),_=T.useMemo(()=>{if(!m.trim())return null;const j=m.toLowerCase().trim();return tZ[j]||null},[m]),k=T.useMemo(()=>hy.filter(j=>{const R=!d||j.name.toLowerCase().includes(d.toLowerCase())||j.description.toLowerCase().includes(d.toLowerCase())||j.city.toLowerCase().includes(d.toLowerCase()),D=j.price<=r,B=!_||_.some(q=>j.geohash.startsWith(q));return R&&D&&B}),[d,r,_]),x=T.useMemo(()=>_?eZ.filter(j=>j.servicesAreas.some(R=>_.some(D=>R.startsWith(D)))):[],[_]),b=j=>j>=1e3?`${(j/1e3).toFixed(1)}k`:`${j}`,S=m&&!_;return x.length>0,c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"container mx-auto p-4 max-w-7xl",children:[c.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Locker Marketplace"}),c.jsx("p",{className:"text-muted-foreground",children:"Find secure drop boxes for anonymous exchanges"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs($e,{variant:"outline",onClick:()=>E(!0),children:[c.jsx(ud,{className:"h-4 w-4 mr-2"}),"Browse Map"]}),c.jsx($e,{asChild:!0,children:c.jsxs(Jt,{to:"/dashboard",children:[c.jsx(Hi,{className:"h-4 w-4 mr-2"}),"List Your Locker"]})})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(h6,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(en,{placeholder:"Search lockers...",value:d,onChange:j=>h(j.target.value),className:"pl-10"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(ol,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(en,{placeholder:"Enter city or zip code...",value:m,onChange:j=>y(j.target.value),className:"pl-10"})]})]}),c.jsx("div",{className:"flex flex-wrap items-center gap-3",children:c.jsxs("div",{className:"flex gap-2 flex-1",children:[c.jsxs($e,{variant:t==="grid"?"default":"outline",size:"sm",onClick:()=>n("grid"),children:[c.jsx(l6,{className:"h-4 w-4 mr-2"}),"Grid"]}),c.jsxs($e,{variant:t==="map"?"default":"outline",size:"sm",onClick:()=>n("map"),children:[c.jsx(ud,{className:"h-4 w-4 mr-2"}),"Map"]}),c.jsxs($e,{variant:"outline",size:"sm",onClick:()=>u(!l),children:[c.jsx(i6,{className:"h-4 w-4 mr-2"}),"Filters"]})]})}),l&&c.jsx(rt,{children:c.jsx(it,{className:"pt-6",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs(un,{children:["Max Hourly Rate: ",b(r)," sats"]}),c.jsx(Kj,{min:0,max:5e3,step:100,value:[r],onValueChange:([j])=>i(j)})]})})})]}),S?c.jsx(rZ,{location:m,onClear:()=>y("")}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(Hi,{className:"h-4 w-4"}),k.length," locker",k.length!==1?"s":""," found",m&&c.jsxs("span",{children:["near ",m]})]}),t==="map"?c.jsxs("div",{className:"grid lg:grid-cols-3 gap-4",children:[c.jsx(rt,{className:"lg:col-span-2 min-h-[500px]",children:c.jsx(f1,{lockers:k.map(j=>({id:j.id,dTag:j.dTag,title:j.name,price:j.price,geohash:j.geohash,status:"available",description:`${j.city}, ${j.state}`}))})}),c.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:k.map(j=>c.jsx(h1,{locker:j,compact:!0},j.id))})]}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:k.map(j=>c.jsx(h1,{locker:j},j.id))}),k.length>0&&c.jsxs("div",{className:"border-t border-dashed pt-6 mt-8",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Featured from the circular economy"}),c.jsx(yt,{variant:"outline",className:"text-xs",children:"P2P Network"})]}),c.jsx(rt,{className:"bg-muted/30",children:c.jsx(it,{className:"p-4",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center shrink-0",children:c.jsx(iv,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("h4",{className:"font-semibold",children:"CryptoVault"}),c.jsx(yt,{variant:"secondary",className:"text-xs",children:" 4.9 Trust"}),c.jsx(yt,{variant:"outline",className:"text-xs",children:"156 sales"})]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Premium hardware wallets & security devices. Ships to any locker or local drop-off."}),c.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[c.jsx(yt,{variant:"outline",className:"text-xs",children:"ColdCard"}),c.jsx(yt,{variant:"outline",className:"text-xs",children:"SeedSigner"}),c.jsx(yt,{variant:"outline",className:"text-xs",children:"Faraday Bags"})]})]}),c.jsxs("div",{className:"flex gap-2 shrink-0",children:[c.jsx($e,{size:"sm",variant:"outline",children:"Message"}),c.jsx($e,{size:"sm",children:"View Store"})]})]})})}),c.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[x.map(j=>c.jsxs($e,{variant:"outline",size:"sm",className:"h-auto py-1.5",children:[c.jsx(iv,{className:"h-3 w-3 mr-1.5"}),j.name]},j.id)),c.jsx($e,{variant:"ghost",size:"sm",className:"h-auto py-1.5 text-muted-foreground",children:"Join network "})]})]})]})]}),c.jsx(zc,{open:g,onOpenChange:E,children:c.jsx(rl,{className:"max-w-6xl h-[80vh] p-0",children:c.jsxs("div",{className:"grid md:grid-cols-3 h-full",children:[c.jsx("div",{className:"md:col-span-2 h-full min-h-[400px]",children:c.jsx(f1,{lockers:hy.map(j=>({id:j.id,dTag:j.dTag,title:j.name,price:j.price,geohash:j.geohash,status:"available",description:`${j.city}, ${j.state}`}))})}),c.jsxs("div",{className:"p-4 overflow-y-auto border-l",children:[c.jsx("h3",{className:"font-semibold text-lg mb-4",children:"All Locations"}),c.jsx("div",{className:"space-y-2",children:hy.map(j=>c.jsx(rt,{className:"cursor-pointer hover:border-primary",children:c.jsxs(it,{className:"p-3",children:[c.jsx("p",{className:"font-medium text-sm",children:j.name}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.city,", ",j.state]}),c.jsxs("p",{className:"text-sm font-medium mt-1",children:[b(j.price)," sats/hr"]})]})},j.id))})]})]})})})]})}function h1({locker:e,compact:t=!1}){var n;return t?c.jsx(rt,{className:"hover:border-primary transition-colors",children:c.jsxs(it,{className:"p-3",children:[c.jsx("p",{className:"font-medium text-sm",children:e.name}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.city,", ",e.state]}),c.jsxs("p",{className:"text-sm font-medium mt-1",children:[e.price," sats/hr"]})]})}):c.jsxs(rt,{className:"hover:border-primary transition-colors group",children:[c.jsxs(mt,{className:"pb-3",children:[c.jsx("div",{className:"flex items-start justify-between",children:c.jsx(vt,{className:"text-base group-hover:text-primary transition-colors",children:e.name})}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[c.jsx(ol,{className:"h-3 w-3"}),c.jsxs("span",{children:[e.city,", ",e.state]})]})]}),c.jsxs(it,{className:"space-y-3",children:[c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.features.map(r=>c.jsx(yt,{variant:"secondary",className:"text-xs",children:r},r))}),e.dimensions&&c.jsx("p",{className:"text-xs text-muted-foreground",children:e.dimensions}),c.jsx("div",{className:"pt-2 border-t",children:(n=e.proxyService)!=null&&n.available?c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Proxy Service"}),c.jsx("p",{className:"text-sm font-medium",children:e.proxyService.name})]}),c.jsxs(yt,{variant:"outline",className:"text-xs",children:["+",e.proxyService.fee.toLocaleString()," sats/drop"]})]}):c.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[c.jsx("p",{className:"text-xs",children:"No proxy service - self-service only"}),c.jsx(yt,{variant:"outline",className:"text-xs",children:"Unmanned"})]})})]}),c.jsxs(Da,{className:"pt-0 flex items-center justify-between",children:[c.jsxs("span",{className:"text-lg font-bold",children:[e.price," ",c.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"sats/hr"})]}),c.jsx($e,{asChild:!0,size:"sm",children:c.jsx(Jt,{to:`/locker/${e.dTag}`,children:"Rent"})})]})]})}function rZ({location:e,onClear:t}){return c.jsx(rt,{className:"text-center py-12",children:c.jsxs(it,{className:"space-y-4",children:[c.jsx(ol,{className:"h-12 w-12 mx-auto text-muted-foreground"}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold mb-2",children:["No lockers in ",e]}),c.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Be the first to host a locker and enable local P2P trades."})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4",children:[c.jsx($e,{asChild:!0,children:c.jsxs(Jt,{to:"/dashboard",children:[c.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Host a Locker"]})}),c.jsx($e,{variant:"outline",onClick:t,children:"Clear Search"})]})]})})}var c0="Radio",[iZ,Gj]=nr(c0),[sZ,oZ]=iZ(c0),Yj=T.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:l,disabled:u,value:d="on",onCheck:h,form:m,...y}=e,[g,E]=T.useState(null),_=Lt(t,b=>E(b)),k=T.useRef(!1),x=g?m||!!g.closest("form"):!0;return c.jsxs(sZ,{scope:n,checked:i,disabled:u,children:[c.jsx(ct.button,{type:"button",role:"radio","aria-checked":i,"data-state":eP(i),"data-disabled":u?"":void 0,disabled:u,value:d,...y,ref:_,onClick:Ke(e.onClick,b=>{i||h==null||h(),x&&(k.current=b.isPropagationStopped(),k.current||b.stopPropagation())})}),x&&c.jsx(Xj,{control:g,bubbles:!k.current,name:r,value:d,checked:i,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});Yj.displayName=c0;var Jj="RadioIndicator",Qj=T.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,l=oZ(Jj,n);return c.jsx(Rr,{present:r||l.checked,children:c.jsx(ct.span,{"data-state":eP(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t})})});Qj.displayName=Jj;var aZ="RadioBubbleInput",Xj=T.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},l)=>{const u=T.useRef(null),d=Lt(u,l),h=a0(n),m=Bp(t);return T.useEffect(()=>{const y=u.current;if(!y)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==n&&_){const k=new Event("click",{bubbles:r});_.call(y,n),y.dispatchEvent(k)}},[h,n,r]),c.jsx(ct.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Xj.displayName=aZ;function eP(e){return e?"checked":"unchecked"}var lZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Qp="RadioGroup",[cZ,gH]=nr(Qp,[Kc,Gj]),tP=Kc(),nP=Gj(),[uZ,dZ]=cZ(Qp),rP=T.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:l,required:u=!1,disabled:d=!1,orientation:h,dir:m,loop:y=!0,onValueChange:g,...E}=e,_=tP(n),k=Od(m),[x,b]=zs({prop:l,defaultProp:i??"",onChange:g,caller:Qp});return c.jsx(uZ,{scope:n,name:r,required:u,disabled:d,value:x,onValueChange:b,children:c.jsx(Zx,{asChild:!0,..._,orientation:h,dir:k,loop:y,children:c.jsx(ct.div,{role:"radiogroup","aria-required":u,"aria-orientation":h,"data-disabled":d?"":void 0,dir:k,...E,ref:t})})})});rP.displayName=Qp;var iP="RadioGroupItem",sP=T.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,l=dZ(iP,n),u=l.disabled||r,d=tP(n),h=nP(n),m=T.useRef(null),y=Lt(t,m),g=l.value===i.value,E=T.useRef(!1);return T.useEffect(()=>{const _=x=>{lZ.includes(x.key)&&(E.current=!0)},k=()=>E.current=!1;return document.addEventListener("keydown",_),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",_),document.removeEventListener("keyup",k)}},[]),c.jsx(Hx,{asChild:!0,...d,focusable:!u,active:g,children:c.jsx(Yj,{disabled:u,required:l.required,checked:g,...h,...i,name:l.name,ref:y,onCheck:()=>l.onValueChange(i.value),onKeyDown:Ke(_=>{_.key==="Enter"&&_.preventDefault()}),onFocus:Ke(i.onFocus,()=>{var _;E.current&&((_=m.current)==null||_.click())})})})});sP.displayName=iP;var fZ="RadioGroupIndicator",oP=T.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=nP(n);return c.jsx(Qj,{...i,...r,ref:t})});oP.displayName=fZ;var aP=rP,lP=sP,hZ=oP;const cP=T.forwardRef(({className:e,...t},n)=>c.jsx(aP,{className:ut("grid gap-2",e),...t,ref:n}));cP.displayName=aP.displayName;const uP=T.forwardRef(({className:e,...t},n)=>c.jsx(lP,{ref:n,className:ut("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c.jsx(hZ,{className:"flex items-center justify-center",children:c.jsx(cS,{className:"h-2.5 w-2.5 fill-current text-current"})})}));uP.displayName=lP.displayName;const p1=[{id:"1",dTag:"prod-001",title:"Privacy-First Smartphone",description:"De-googled Android phone with GrapheneOS pre-installed. Full privacy setup including hardened browser, encrypted messaging, and no Google services. Perfect for those who value their digital privacy.",price:899e3,category:"Electronics",vendor:"PrivacyTech Co",vendorNpub:"npub1abc...",inStock:!0},{id:"2",dTag:"prod-002",title:"Faraday Phone Pouch",description:"Military-grade signal blocking pouch. Protects against tracking, surveillance, and unauthorized access to your device.",price:45e3,category:"Accessories",vendor:"SignalSafe",vendorNpub:"npub1def...",inStock:!0}],m1=[{id:"1",name:"Downtown SF",location:"San Francisco, CA",geohash:"9q8yyz"},{id:"2",name:"Union Square",location:"New York, NY",geohash:"9q8yyk"},{id:"3",name:"Tech Hub",location:"Seattle, WA",geohash:"dpwh"},{id:"4",name:"LAX Area",location:"Los Angeles, CA",geohash:"9q8yym"}];function pZ(){var g;const{dTag:e}=Mx(),{toast:t}=sl(),[n,r]=T.useState(!1),[i,l]=T.useState(""),[u,d]=T.useState("locker"),h=p1.find(E=>E.dTag===e)||p1[0],m=E=>E>=1e8?` ${(E/1e8).toFixed(3)}`:E>=1e6?`${(E/1e6).toFixed(2)}M sats`:E>=1e3?`${(E/1e3).toFixed(1)}k sats`:`${E} sats`,y=()=>{t({title:"Order placed!",description:"The vendor has been notified. You'll receive a pickup code once they ship to your selected locker."}),r(!1),d("locker"),l("")};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[c.jsx($e,{variant:"ghost",asChild:!0,className:"mb-4",children:c.jsxs(Jt,{to:"/marketplace",children:[c.jsx(aS,{className:"h-4 w-4 mr-2"}),"Back to Marketplace"]})}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:c.jsx(m6,{className:"h-32 w-32 text-muted-foreground"})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(yt,{className:"mb-2",children:h.category}),c.jsx("h1",{className:"text-3xl font-bold mb-2",children:h.title}),c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx(iv,{className:"h-4 w-4"}),c.jsx("span",{children:h.vendor})]})]}),c.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:h.description}),c.jsxs("div",{className:"flex items-center justify-between py-4 border-y",children:[c.jsx("span",{className:"text-3xl font-bold",children:m(h.price)}),c.jsx(yt,{variant:h.inStock?"default":"secondary",children:h.inStock?"In Stock":"Out of Stock"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[c.jsx(g6,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Ships to DeadDropstr Lockers"}),c.jsx("p",{className:"text-muted-foreground",children:"Pick up anonymously at a location near you"})]})]}),c.jsx($e,{size:"lg",className:"w-full",disabled:!h.inStock,onClick:()=>r(!0),children:h.inStock?"Buy Now":"Out of Stock"})]})]})]}),c.jsxs(rt,{className:"mt-12",children:[c.jsx(mt,{children:c.jsx(vt,{children:"How DeadDropstr Delivery Works"})}),c.jsx(it,{children:c.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-center",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:c.jsx("span",{className:"font-bold",children:"1"})}),c.jsx("p",{className:"font-medium",children:"Choose Locker"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a convenient pickup location"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:c.jsx("span",{className:"font-bold",children:"2"})}),c.jsx("p",{className:"font-medium",children:"Pay with Bitcoin"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Lightning or on-chain"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:c.jsx("span",{className:"font-bold",children:"3"})}),c.jsx("p",{className:"font-medium",children:"Vendor Ships"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Product delivered to your locker"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:c.jsx("span",{className:"font-bold",children:"4"})}),c.jsx("p",{className:"font-medium",children:"Pick Up"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive code & collect anonymously"})]})]})})]})]}),c.jsx(zc,{open:n,onOpenChange:r,children:c.jsxs(rl,{className:"max-w-lg",children:[c.jsxs(Dc,{children:[c.jsx(md,{children:"Complete Your Order"}),c.jsx(ip,{children:"Choose a locker location for pickup"})]}),u==="locker"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(cP,{value:i,onValueChange:l,children:c.jsx("div",{className:"space-y-2",children:m1.map(E=>c.jsxs("div",{children:[c.jsx(uP,{value:E.id,id:E.id,className:"peer sr-only"}),c.jsx(un,{htmlFor:E.id,className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-muted peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ol,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:E.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:E.location})]})]})})]},E.id))})}),c.jsx($e,{className:"w-full",disabled:!i,onClick:()=>d("confirm"),children:"Continue"})]}),u==="confirm"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Summary"}),c.jsx("p",{className:"font-medium",children:h.title}),c.jsx("p",{className:"text-lg font-bold",children:m(h.price)}),c.jsxs("div",{className:"pt-2 border-t",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Deliver to:"}),c.jsx("p",{className:"font-medium",children:(g=m1.find(E=>E.id===i))==null?void 0:g.name})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx($e,{variant:"outline",onClick:()=>d("locker"),children:"Back"}),c.jsx($e,{className:"flex-1",onClick:y,children:"Pay & Place Order"})]})]})]})})]})}function bh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var py={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var g1;function mZ(){return g1||(g1=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,l){function u(m,y){if(!i[m]){if(!r[m]){var g=typeof bh=="function"&&bh;if(!y&&g)return g(m,!0);if(d)return d(m,!0);var E=new Error("Cannot find module '"+m+"'");throw E.code="MODULE_NOT_FOUND",E}var _=i[m]={exports:{}};r[m][0].call(_.exports,function(k){var x=r[m][1][k];return u(x||k)},_,_.exports,n,r,i,l)}return i[m].exports}for(var d=typeof bh=="function"&&bh,h=0;h<l.length;h++)u(l[h]);return u}({1:[function(n,r,i){var l=n("./utils"),u=n("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(h){for(var m,y,g,E,_,k,x,b=[],S=0,j=h.length,R=j,D=l.getTypeOf(h)!=="string";S<h.length;)R=j-S,g=D?(m=h[S++],y=S<j?h[S++]:0,S<j?h[S++]:0):(m=h.charCodeAt(S++),y=S<j?h.charCodeAt(S++):0,S<j?h.charCodeAt(S++):0),E=m>>2,_=(3&m)<<4|y>>4,k=1<R?(15&y)<<2|g>>6:64,x=2<R?63&g:64,b.push(d.charAt(E)+d.charAt(_)+d.charAt(k)+d.charAt(x));return b.join("")},i.decode=function(h){var m,y,g,E,_,k,x=0,b=0,S="data:";if(h.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var j,R=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===d.charAt(64)&&R--,h.charAt(h.length-2)===d.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(j=u.uint8array?new Uint8Array(0|R):new Array(0|R);x<h.length;)m=d.indexOf(h.charAt(x++))<<2|(E=d.indexOf(h.charAt(x++)))>>4,y=(15&E)<<4|(_=d.indexOf(h.charAt(x++)))>>2,g=(3&_)<<6|(k=d.indexOf(h.charAt(x++))),j[b++]=m,_!==64&&(j[b++]=y),k!==64&&(j[b++]=g);return j}},{"./support":30,"./utils":32}],2:[function(n,r,i){var l=n("./external"),u=n("./stream/DataWorker"),d=n("./stream/Crc32Probe"),h=n("./stream/DataLengthProbe");function m(y,g,E,_,k){this.compressedSize=y,this.uncompressedSize=g,this.crc32=E,this.compression=_,this.compressedContent=k}m.prototype={getContentWorker:function(){var y=new u(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),g=this;return y.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new u(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(y,g,E){return y.pipe(new d).pipe(new h("uncompressedSize")).pipe(g.compressWorker(E)).pipe(new h("compressedSize")).withStreamInfo("compression",g)},r.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var l=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var l=n("./utils"),u=function(){for(var d,h=[],m=0;m<256;m++){d=m;for(var y=0;y<8;y++)d=1&d?3988292384^d>>>1:d>>>1;h[m]=d}return h}();r.exports=function(d,h){return d!==void 0&&d.length?l.getTypeOf(d)!=="string"?function(m,y,g,E){var _=u,k=E+g;m^=-1;for(var x=E;x<k;x++)m=m>>>8^_[255&(m^y[x])];return-1^m}(0|h,d,d.length,0):function(m,y,g,E){var _=u,k=E+g;m^=-1;for(var x=E;x<k;x++)m=m>>>8^_[255&(m^y.charCodeAt(x))];return-1^m}(0|h,d,d.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var l=null;l=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:l}},{lie:37}],7:[function(n,r,i){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=n("pako"),d=n("./utils"),h=n("./stream/GenericWorker"),m=l?"uint8array":"array";function y(g,E){h.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=E,this.meta={}}i.magic="\b\0",d.inherits(y,h),y.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(m,g.data),!1)},y.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(E){g.push({data:E,meta:g.meta})}},i.compressWorker=function(g){return new y("Deflate",g)},i.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function l(_,k){var x,b="";for(x=0;x<k;x++)b+=String.fromCharCode(255&_),_>>>=8;return b}function u(_,k,x,b,S,j){var R,D,B=_.file,q=_.compression,G=j!==m.utf8encode,J=d.transformTo("string",j(B.name)),V=d.transformTo("string",m.utf8encode(B.name)),Y=B.comment,Q=d.transformTo("string",j(Y)),$=d.transformTo("string",m.utf8encode(Y)),re=V.length!==B.name.length,M=$.length!==Y.length,W="",ae="",se="",ne=B.dir,ee=B.date,le={crc32:0,compressedSize:0,uncompressedSize:0};k&&!x||(le.crc32=_.crc32,le.compressedSize=_.compressedSize,le.uncompressedSize=_.uncompressedSize);var F=0;k&&(F|=8),G||!re&&!M||(F|=2048);var K=0,Ne=0;ne&&(K|=16),S==="UNIX"?(Ne=798,K|=function(xe,Re){var Ue=xe;return xe||(Ue=Re?16893:33204),(65535&Ue)<<16}(B.unixPermissions,ne)):(Ne=20,K|=function(xe){return 63&(xe||0)}(B.dosPermissions)),R=ee.getUTCHours(),R<<=6,R|=ee.getUTCMinutes(),R<<=5,R|=ee.getUTCSeconds()/2,D=ee.getUTCFullYear()-1980,D<<=4,D|=ee.getUTCMonth()+1,D<<=5,D|=ee.getUTCDate(),re&&(ae=l(1,1)+l(y(J),4)+V,W+="up"+l(ae.length,2)+ae),M&&(se=l(1,1)+l(y(Q),4)+$,W+="uc"+l(se.length,2)+se);var be="";return be+=`
\0`,be+=l(F,2),be+=q.magic,be+=l(R,2),be+=l(D,2),be+=l(le.crc32,4),be+=l(le.compressedSize,4),be+=l(le.uncompressedSize,4),be+=l(J.length,2),be+=l(W.length,2),{fileRecord:g.LOCAL_FILE_HEADER+be+J+W,dirRecord:g.CENTRAL_FILE_HEADER+l(Ne,2)+be+l(Q.length,2)+"\0\0\0\0"+l(K,4)+l(b,4)+J+W+Q}}var d=n("../utils"),h=n("../stream/GenericWorker"),m=n("../utf8"),y=n("../crc32"),g=n("../signature");function E(_,k,x,b){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=x,this.encodeFileName=b,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(E,h),E.prototype.push=function(_){var k=_.meta.percent||0,x=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,h.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:x?(k+100*(x-b-1))/x:100}}))},E.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var k=this.streamFiles&&!_.file.dir;if(k){var x=u(_,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},E.prototype.closedSource=function(_){this.accumulate=!1;var k=this.streamFiles&&!_.file.dir,x=u(_,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),k)this.push({data:function(b){return g.DATA_DESCRIPTOR+l(b.crc32,4)+l(b.compressedSize,4)+l(b.uncompressedSize,4)}(_),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},E.prototype.flush=function(){for(var _=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var x=this.bytesWritten-_,b=function(S,j,R,D,B){var q=d.transformTo("string",B(D));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(S,2)+l(S,2)+l(j,4)+l(R,4)+l(q.length,2)+q}(this.dirRecords.length,x,_,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},E.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},E.prototype.registerPrevious=function(_){this._sources.push(_);var k=this;return _.on("data",function(x){k.processChunk(x)}),_.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),_.on("error",function(x){k.error(x)}),this},E.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},E.prototype.error=function(_){var k=this._sources;if(!h.prototype.error.call(this,_))return!1;for(var x=0;x<k.length;x++)try{k[x].error(_)}catch{}return!0},E.prototype.lock=function(){h.prototype.lock.call(this);for(var _=this._sources,k=0;k<_.length;k++)_[k].lock()},r.exports=E},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var l=n("../compressions"),u=n("./ZipFileWorker");i.generateWorker=function(d,h,m){var y=new u(h.streamFiles,m,h.platform,h.encodeFileName),g=0;try{d.forEach(function(E,_){g++;var k=function(j,R){var D=j||R,B=l[D];if(!B)throw new Error(D+" is not a valid compression method !");return B}(_.options.compression,h.compression),x=_.options.compressionOptions||h.compressionOptions||{},b=_.dir,S=_.date;_._compressWorker(k,x).withStreamInfo("file",{name:E,dir:b,date:S,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(y)}),y.entriesCount=g}catch(E){y.error(E)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new l;for(var d in this)typeof this[d]!="function"&&(u[d]=this[d]);return u}}(l.prototype=n("./object")).loadAsync=n("./load"),l.support=n("./support"),l.defaults=n("./defaults"),l.version="3.10.1",l.loadAsync=function(u,d){return new l().loadAsync(u,d)},l.external=n("./external"),r.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var l=n("./utils"),u=n("./external"),d=n("./utf8"),h=n("./zipEntries"),m=n("./stream/Crc32Probe"),y=n("./nodejsUtils");function g(E){return new u.Promise(function(_,k){var x=E.decompressed.getContentWorker().pipe(new m);x.on("error",function(b){k(b)}).on("end",function(){x.streamInfo.crc32!==E.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):_()}).resume()})}r.exports=function(E,_){var k=this;return _=l.extend(_||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),y.isNode&&y.isStream(E)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",E,!0,_.optimizedBinaryString,_.base64).then(function(x){var b=new h(_);return b.load(x),b}).then(function(x){var b=[u.Promise.resolve(x)],S=x.files;if(_.checkCRC32)for(var j=0;j<S.length;j++)b.push(g(S[j]));return u.Promise.all(b)}).then(function(x){for(var b=x.shift(),S=b.files,j=0;j<S.length;j++){var R=S[j],D=R.fileNameStr,B=l.resolve(R.fileNameStr);k.file(B,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:_.createFolders}),R.dir||(k.file(B).unsafeOriginalName=D)}return b.zipComment.length&&(k.comment=b.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var l=n("../utils"),u=n("../stream/GenericWorker");function d(h,m){u.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(m)}l.inherits(d,u),d.prototype._bindStream=function(h){var m=this;(this._stream=h).pause(),h.on("data",function(y){m.push({data:y,meta:{percent:0}})}).on("error",function(y){m.isPaused?this.generatedError=y:m.error(y)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},d.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var l=n("readable-stream").Readable;function u(d,h,m){l.call(this,h),this._helper=d;var y=this;d.on("data",function(g,E){y.push(g)||y._helper.pause(),m&&m(E)}).on("error",function(g){y.emit("error",g)}).on("end",function(){y.push(null)})}n("../utils").inherits(u,l),u.prototype._read=function(){this._helper.resume()},r.exports=u},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,u);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,u)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var u=new Buffer(l);return u.fill(0),u},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(n,r,i){function l(B,q,G){var J,V=d.getTypeOf(q),Y=d.extend(G||{},y);Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),typeof Y.unixPermissions=="string"&&(Y.unixPermissions=parseInt(Y.unixPermissions,8)),Y.unixPermissions&&16384&Y.unixPermissions&&(Y.dir=!0),Y.dosPermissions&&16&Y.dosPermissions&&(Y.dir=!0),Y.dir&&(B=S(B)),Y.createFolders&&(J=b(B))&&j.call(this,J,!0);var Q=V==="string"&&Y.binary===!1&&Y.base64===!1;G&&G.binary!==void 0||(Y.binary=!Q),(q instanceof g&&q.uncompressedSize===0||Y.dir||!q||q.length===0)&&(Y.base64=!1,Y.binary=!0,q="",Y.compression="STORE",V="string");var $=null;$=q instanceof g||q instanceof h?q:k.isNode&&k.isStream(q)?new x(B,q):d.prepareContent(B,q,Y.binary,Y.optimizedBinaryString,Y.base64);var re=new E(B,$,Y);this.files[B]=re}var u=n("./utf8"),d=n("./utils"),h=n("./stream/GenericWorker"),m=n("./stream/StreamHelper"),y=n("./defaults"),g=n("./compressedObject"),E=n("./zipObject"),_=n("./generate"),k=n("./nodejsUtils"),x=n("./nodejs/NodejsStreamInputAdapter"),b=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var q=B.lastIndexOf("/");return 0<q?B.substring(0,q):""},S=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},j=function(B,q){return q=q!==void 0?q:y.createFolders,B=S(B),this.files[B]||l.call(this,B,null,{dir:!0,createFolders:q}),this.files[B]};function R(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var q,G,J;for(q in this.files)J=this.files[q],(G=q.slice(this.root.length,q.length))&&q.slice(0,this.root.length)===this.root&&B(G,J)},filter:function(B){var q=[];return this.forEach(function(G,J){B(G,J)&&q.push(J)}),q},file:function(B,q,G){if(arguments.length!==1)return B=this.root+B,l.call(this,B,q,G),this;if(R(B)){var J=B;return this.filter(function(Y,Q){return!Q.dir&&J.test(Y)})}var V=this.files[this.root+B];return V&&!V.dir?V:null},folder:function(B){if(!B)return this;if(R(B))return this.filter(function(V,Y){return Y.dir&&B.test(V)});var q=this.root+B,G=j.call(this,q),J=this.clone();return J.root=G.name,J},remove:function(B){B=this.root+B;var q=this.files[B];if(q||(B.slice(-1)!=="/"&&(B+="/"),q=this.files[B]),q&&!q.dir)delete this.files[B];else for(var G=this.filter(function(V,Y){return Y.name.slice(0,B.length)===B}),J=0;J<G.length;J++)delete this.files[G[J].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var q,G={};try{if((G=d.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=G.type.toLowerCase(),G.compression=G.compression.toUpperCase(),G.type==="binarystring"&&(G.type="string"),!G.type)throw new Error("No output type specified.");d.checkSupport(G.type),G.platform!=="darwin"&&G.platform!=="freebsd"&&G.platform!=="linux"&&G.platform!=="sunos"||(G.platform="UNIX"),G.platform==="win32"&&(G.platform="DOS");var J=G.comment||this.comment||"";q=_.generateWorker(this,G,J)}catch(V){(q=new h("error")).error(V)}return new m(q,G.type||"string",G.mimeType)},generateAsync:function(B,q){return this.generateInternalStream(B).accumulate(q)},generateNodeStream:function(B,q){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(q)}};r.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var l=n("./DataReader");function u(d){l.call(this,d);for(var h=0;h<this.data.length;h++)d[h]=255&d[h]}n("../utils").inherits(u,l),u.prototype.byteAt=function(d){return this.data[this.zero+d]},u.prototype.lastIndexOfSignature=function(d){for(var h=d.charCodeAt(0),m=d.charCodeAt(1),y=d.charCodeAt(2),g=d.charCodeAt(3),E=this.length-4;0<=E;--E)if(this.data[E]===h&&this.data[E+1]===m&&this.data[E+2]===y&&this.data[E+3]===g)return E-this.zero;return-1},u.prototype.readAndCheckSignature=function(d){var h=d.charCodeAt(0),m=d.charCodeAt(1),y=d.charCodeAt(2),g=d.charCodeAt(3),E=this.readData(4);return h===E[0]&&m===E[1]&&y===E[2]&&g===E[3]},u.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},r.exports=u},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var l=n("../utils");function u(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var h,m=0;for(this.checkOffset(d),h=this.index+d-1;h>=this.index;h--)m=(m<<8)+this.byteAt(h);return this.index+=d,m},readString:function(d){return l.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},r.exports=u},{"../utils":32}],19:[function(n,r,i){var l=n("./Uint8ArrayReader");function u(d){l.call(this,d)}n("../utils").inherits(u,l),u.prototype.readData=function(d){this.checkOffset(d);var h=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},r.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var l=n("./DataReader");function u(d){l.call(this,d)}n("../utils").inherits(u,l),u.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},u.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},u.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},u.prototype.readData=function(d){this.checkOffset(d);var h=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},r.exports=u},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var l=n("./ArrayReader");function u(d){l.call(this,d)}n("../utils").inherits(u,l),u.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},r.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var l=n("../utils"),u=n("../support"),d=n("./ArrayReader"),h=n("./StringReader"),m=n("./NodeBufferReader"),y=n("./Uint8ArrayReader");r.exports=function(g){var E=l.getTypeOf(g);return l.checkSupport(E),E!=="string"||u.uint8array?E==="nodebuffer"?new m(g):u.uint8array?new y(l.transformTo("uint8array",g)):new d(l.transformTo("array",g)):new h(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var l=n("./GenericWorker"),u=n("../utils");function d(h){l.call(this,"ConvertWorker to "+h),this.destType=h}u.inherits(d,l),d.prototype.processChunk=function(h){this.push({data:u.transformTo(this.destType,h.data),meta:h.meta})},r.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var l=n("./GenericWorker"),u=n("../crc32");function d(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(d,l),d.prototype.processChunk=function(h){this.streamInfo.crc32=u(h.data,this.streamInfo.crc32||0),this.push(h)},r.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var l=n("../utils"),u=n("./GenericWorker");function d(h){u.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}l.inherits(d,u),d.prototype.processChunk=function(h){if(h){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+h.data.length}u.prototype.processChunk.call(this,h)},r.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var l=n("../utils"),u=n("./GenericWorker");function d(h){u.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(y){m.dataIsReady=!0,m.data=y,m.max=y&&y.length||0,m.type=l.getTypeOf(y),m.isPaused||m._tickAndRepeat()},function(y){m.error(y)})}l.inherits(d,u),d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,m);break;case"uint8array":h=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":h=this.data.slice(this.index,m)}return this.index=m,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function l(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,d){return this._listeners[u].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,d){if(this._listeners[u])for(var h=0;h<this._listeners[u].length;h++)this._listeners[u][h].call(this,d)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var d=this;return u.on("data",function(h){d.processChunk(h)}),u.on("end",function(){d.end()}),u.on("error",function(h){d.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,d){return this.extraStreamInfo[u]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},r.exports=l},{}],29:[function(n,r,i){var l=n("../utils"),u=n("./ConvertWorker"),d=n("./GenericWorker"),h=n("../base64"),m=n("../support"),y=n("../external"),g=null;if(m.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function E(k,x){return new y.Promise(function(b,S){var j=[],R=k._internalType,D=k._outputType,B=k._mimeType;k.on("data",function(q,G){j.push(q),x&&x(G)}).on("error",function(q){j=[],S(q)}).on("end",function(){try{var q=function(G,J,V){switch(G){case"blob":return l.newBlob(l.transformTo("arraybuffer",J),V);case"base64":return h.encode(J);default:return l.transformTo(G,J)}}(D,function(G,J){var V,Y=0,Q=null,$=0;for(V=0;V<J.length;V++)$+=J[V].length;switch(G){case"string":return J.join("");case"array":return Array.prototype.concat.apply([],J);case"uint8array":for(Q=new Uint8Array($),V=0;V<J.length;V++)Q.set(J[V],Y),Y+=J[V].length;return Q;case"nodebuffer":return Buffer.concat(J);default:throw new Error("concat : unsupported type '"+G+"'")}}(R,j),B);b(q)}catch(G){S(G)}j=[]}).resume()})}function _(k,x,b){var S=x;switch(x){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=x,this._mimeType=b,l.checkSupport(S),this._worker=k.pipe(new u(S)),k.lock()}catch(j){this._worker=new d("error"),this._worker.error(j)}}_.prototype={accumulate:function(k){return E(this,k)},on:function(k,x){var b=this;return k==="data"?this._worker.on(k,function(S){x.call(b,S.data,S.meta)}):this._worker.on(k,function(){l.delay(x,arguments,b)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},k)}},r.exports=_},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var l=new ArrayBuffer(0);try{i.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(l),i.blob=u.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var l=n("./utils"),u=n("./support"),d=n("./nodejsUtils"),h=n("./stream/GenericWorker"),m=new Array(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;m[254]=m[254]=1;function g(){h.call(this,"utf-8 decode"),this.leftOver=null}function E(){h.call(this,"utf-8 encode")}i.utf8encode=function(_){return u.nodebuffer?d.newBufferFrom(_,"utf-8"):function(k){var x,b,S,j,R,D=k.length,B=0;for(j=0;j<D;j++)(64512&(b=k.charCodeAt(j)))==55296&&j+1<D&&(64512&(S=k.charCodeAt(j+1)))==56320&&(b=65536+(b-55296<<10)+(S-56320),j++),B+=b<128?1:b<2048?2:b<65536?3:4;for(x=u.uint8array?new Uint8Array(B):new Array(B),j=R=0;R<B;j++)(64512&(b=k.charCodeAt(j)))==55296&&j+1<D&&(64512&(S=k.charCodeAt(j+1)))==56320&&(b=65536+(b-55296<<10)+(S-56320),j++),b<128?x[R++]=b:(b<2048?x[R++]=192|b>>>6:(b<65536?x[R++]=224|b>>>12:(x[R++]=240|b>>>18,x[R++]=128|b>>>12&63),x[R++]=128|b>>>6&63),x[R++]=128|63&b);return x}(_)},i.utf8decode=function(_){return u.nodebuffer?l.transformTo("nodebuffer",_).toString("utf-8"):function(k){var x,b,S,j,R=k.length,D=new Array(2*R);for(x=b=0;x<R;)if((S=k[x++])<128)D[b++]=S;else if(4<(j=m[S]))D[b++]=65533,x+=j-1;else{for(S&=j===2?31:j===3?15:7;1<j&&x<R;)S=S<<6|63&k[x++],j--;1<j?D[b++]=65533:S<65536?D[b++]=S:(S-=65536,D[b++]=55296|S>>10&1023,D[b++]=56320|1023&S)}return D.length!==b&&(D.subarray?D=D.subarray(0,b):D.length=b),l.applyFromCharCode(D)}(_=l.transformTo(u.uint8array?"uint8array":"array",_))},l.inherits(g,h),g.prototype.processChunk=function(_){var k=l.transformTo(u.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var x=k;(k=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),k.set(x,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var b=function(j,R){var D;for((R=R||j.length)>j.length&&(R=j.length),D=R-1;0<=D&&(192&j[D])==128;)D--;return D<0||D===0?R:D+m[j[D]]>R?D:R}(k),S=k;b!==k.length&&(u.uint8array?(S=k.subarray(0,b),this.leftOver=k.subarray(b,k.length)):(S=k.slice(0,b),this.leftOver=k.slice(b,k.length))),this.push({data:i.utf8decode(S),meta:_.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,l.inherits(E,h),E.prototype.processChunk=function(_){this.push({data:i.utf8encode(_.data),meta:_.meta})},i.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var l=n("./support"),u=n("./base64"),d=n("./nodejsUtils"),h=n("./external");function m(x){return x}function y(x,b){for(var S=0;S<x.length;++S)b[S]=255&x.charCodeAt(S);return b}n("setimmediate"),i.newBlob=function(x,b){i.checkSupport("blob");try{return new Blob([x],{type:b})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(x),S.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(x,b,S){var j=[],R=0,D=x.length;if(D<=S)return String.fromCharCode.apply(null,x);for(;R<D;)b==="array"||b==="nodebuffer"?j.push(String.fromCharCode.apply(null,x.slice(R,Math.min(R+S,D)))):j.push(String.fromCharCode.apply(null,x.subarray(R,Math.min(R+S,D)))),R+=S;return j.join("")},stringifyByChar:function(x){for(var b="",S=0;S<x.length;S++)b+=String.fromCharCode(x[S]);return b},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}}()}};function E(x){var b=65536,S=i.getTypeOf(x),j=!0;if(S==="uint8array"?j=g.applyCanBeUsed.uint8array:S==="nodebuffer"&&(j=g.applyCanBeUsed.nodebuffer),j)for(;1<b;)try{return g.stringifyByChunk(x,S,b)}catch{b=Math.floor(b/2)}return g.stringifyByChar(x)}function _(x,b){for(var S=0;S<x.length;S++)b[S]=x[S];return b}i.applyFromCharCode=E;var k={};k.string={string:m,array:function(x){return y(x,new Array(x.length))},arraybuffer:function(x){return k.string.uint8array(x).buffer},uint8array:function(x){return y(x,new Uint8Array(x.length))},nodebuffer:function(x){return y(x,d.allocBuffer(x.length))}},k.array={string:E,array:m,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return d.newBufferFrom(x)}},k.arraybuffer={string:function(x){return E(new Uint8Array(x))},array:function(x){return _(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:m,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return d.newBufferFrom(new Uint8Array(x))}},k.uint8array={string:E,array:function(x){return _(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:m,nodebuffer:function(x){return d.newBufferFrom(x)}},k.nodebuffer={string:E,array:function(x){return _(x,new Array(x.length))},arraybuffer:function(x){return k.nodebuffer.uint8array(x).buffer},uint8array:function(x){return _(x,new Uint8Array(x.length))},nodebuffer:m},i.transformTo=function(x,b){if(b=b||"",!x)return b;i.checkSupport(x);var S=i.getTypeOf(b);return k[S][x](b)},i.resolve=function(x){for(var b=x.split("/"),S=[],j=0;j<b.length;j++){var R=b[j];R==="."||R===""&&j!==0&&j!==b.length-1||(R===".."?S.pop():S.push(R))}return S.join("/")},i.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":l.nodebuffer&&d.isBuffer(x)?"nodebuffer":l.uint8array&&x instanceof Uint8Array?"uint8array":l.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(x){if(!l[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(x){var b,S,j="";for(S=0;S<(x||"").length;S++)j+="\\x"+((b=x.charCodeAt(S))<16?"0":"")+b.toString(16).toUpperCase();return j},i.delay=function(x,b,S){setImmediate(function(){x.apply(S||null,b||[])})},i.inherits=function(x,b){function S(){}S.prototype=b.prototype,x.prototype=new S},i.extend=function(){var x,b,S={};for(x=0;x<arguments.length;x++)for(b in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],b)&&S[b]===void 0&&(S[b]=arguments[x][b]);return S},i.prepareContent=function(x,b,S,j,R){return h.Promise.resolve(b).then(function(D){return l.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new h.Promise(function(B,q){var G=new FileReader;G.onload=function(J){B(J.target.result)},G.onerror=function(J){q(J.target.error)},G.readAsArrayBuffer(D)}):D}).then(function(D){var B=i.getTypeOf(D);return B?(B==="arraybuffer"?D=i.transformTo("uint8array",D):B==="string"&&(R?D=u.decode(D):S&&j!==!0&&(D=function(q){return y(q,l.uint8array?new Uint8Array(q.length):new Array(q.length))}(D))),D):h.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var l=n("./reader/readerFor"),u=n("./utils"),d=n("./signature"),h=n("./zipEntry"),m=n("./support");function y(g){this.files=[],this.loadOptions=g}y.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var E=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(E)+", expected "+u.pretty(g)+")")}},isSignature:function(g,E){var _=this.reader.index;this.reader.setIndex(g);var k=this.reader.readString(4)===E;return this.reader.setIndex(_),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),E=m.uint8array?"uint8array":"array",_=u.transformTo(E,g);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,E,_,k=this.zip64EndOfCentralSize-44;0<k;)g=this.reader.readInt(2),E=this.reader.readInt(4),_=this.reader.readData(E),this.zip64ExtensibleData[g]={id:g,length:E,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,E;for(g=0;g<this.files.length;g++)E=this.files[g],this.reader.setIndex(E.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),E.readLocalPart(this.reader),E.handleUTF8(),E.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(g=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var E=g;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _=this.centralDirOffset+this.centralDirSize;this.zip64&&(_+=20,_+=12+this.zip64EndOfCentralSize);var k=E-_;if(0<k)this.isSignature(E,d.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(g){this.reader=l(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var l=n("./reader/readerFor"),u=n("./utils"),d=n("./compressedObject"),h=n("./crc32"),m=n("./utf8"),y=n("./compressions"),g=n("./support");function E(_,k){this.options=_,this.loadOptions=k}E.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_){var k,x;if(_.skip(22),this.fileNameLength=_.readInt(2),x=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=function(b){for(var S in y)if(Object.prototype.hasOwnProperty.call(y,S)&&y[S].magic===b)return y[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,k,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var k=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(k),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_==0&&(this.dosPermissions=63&this.externalFileAttributes),_==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=l(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var k,x,b,S=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index+4<S;)k=_.readInt(2),x=_.readInt(2),b=_.readData(x),this.extraFields[k]={id:k,length:x,value:b};_.setIndex(S)},handleUTF8:function(){var _=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var x=u.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var S=u.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var k=l(_.value);return k.readInt(1)!==1||h(this.fileName)!==k.readInt(4)?null:m.utf8decode(k.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var k=l(_.value);return k.readInt(1)!==1||h(this.fileComment)!==k.readInt(4)?null:m.utf8decode(k.readData(_.length-5))}return null}},r.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function l(k,x,b){this.name=k,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=x,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var u=n("./stream/StreamHelper"),d=n("./stream/DataWorker"),h=n("./utf8"),m=n("./compressedObject"),y=n("./stream/GenericWorker");l.prototype={internalStream:function(k){var x=null,b="string";try{if(!k)throw new Error("No output type specified.");var S=(b=k.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),x=this._decompressWorker();var j=!this._dataBinary;j&&!S&&(x=x.pipe(new h.Utf8EncodeWorker)),!j&&S&&(x=x.pipe(new h.Utf8DecodeWorker))}catch(R){(x=new y("error")).error(R)}return new u(x,b,"")},async:function(k,x){return this.internalStream(k).accumulate(x)},nodeStream:function(k,x){return this.internalStream(k||"nodebuffer").toNodejsStream(x)},_compressWorker:function(k,x){if(this._data instanceof m&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new h.Utf8EncodeWorker)),m.createWorkerFrom(b,k,x)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof y?this._data:new d(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],E=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_=0;_<g.length;_++)l.prototype[g[_]]=E;r.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(l){var u,d,h=l.MutationObserver||l.WebKitMutationObserver;if(h){var m=0,y=new h(k),g=l.document.createTextNode("");y.observe(g,{characterData:!0}),u=function(){g.data=m=++m%2}}else if(l.setImmediate||l.MessageChannel===void 0)u="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var x=l.document.createElement("script");x.onreadystatechange=function(){k(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},l.document.documentElement.appendChild(x)}:function(){setTimeout(k,0)};else{var E=new l.MessageChannel;E.port1.onmessage=k,u=function(){E.port2.postMessage(0)}}var _=[];function k(){var x,b;d=!0;for(var S=_.length;S;){for(b=_,_=[],x=-1;++x<S;)b[x]();S=_.length}d=!1}r.exports=function(x){_.push(x)!==1||d||u()}}).call(this,typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var l=n("immediate");function u(){}var d={},h=["REJECTED"],m=["FULFILLED"],y=["PENDING"];function g(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,S!==u&&x(this,S)}function E(S,j,R){this.promise=S,typeof j=="function"&&(this.onFulfilled=j,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function _(S,j,R){l(function(){var D;try{D=j(R)}catch(B){return d.reject(S,B)}D===S?d.reject(S,new TypeError("Cannot resolve promise with itself")):d.resolve(S,D)})}function k(S){var j=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof j=="function")return function(){j.apply(S,arguments)}}function x(S,j){var R=!1;function D(G){R||(R=!0,d.reject(S,G))}function B(G){R||(R=!0,d.resolve(S,G))}var q=b(function(){j(B,D)});q.status==="error"&&D(q.value)}function b(S,j){var R={};try{R.value=S(j),R.status="success"}catch(D){R.status="error",R.value=D}return R}(r.exports=g).prototype.finally=function(S){if(typeof S!="function")return this;var j=this.constructor;return this.then(function(R){return j.resolve(S()).then(function(){return R})},function(R){return j.resolve(S()).then(function(){throw R})})},g.prototype.catch=function(S){return this.then(null,S)},g.prototype.then=function(S,j){if(typeof S!="function"&&this.state===m||typeof j!="function"&&this.state===h)return this;var R=new this.constructor(u);return this.state!==y?_(R,this.state===m?S:j,this.outcome):this.queue.push(new E(R,S,j)),R},E.prototype.callFulfilled=function(S){d.resolve(this.promise,S)},E.prototype.otherCallFulfilled=function(S){_(this.promise,this.onFulfilled,S)},E.prototype.callRejected=function(S){d.reject(this.promise,S)},E.prototype.otherCallRejected=function(S){_(this.promise,this.onRejected,S)},d.resolve=function(S,j){var R=b(k,j);if(R.status==="error")return d.reject(S,R.value);var D=R.value;if(D)x(S,D);else{S.state=m,S.outcome=j;for(var B=-1,q=S.queue.length;++B<q;)S.queue[B].callFulfilled(j)}return S},d.reject=function(S,j){S.state=h,S.outcome=j;for(var R=-1,D=S.queue.length;++R<D;)S.queue[R].callRejected(j);return S},g.resolve=function(S){return S instanceof this?S:d.resolve(new this(u),S)},g.reject=function(S){var j=new this(u);return d.reject(j,S)},g.all=function(S){var j=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=S.length,D=!1;if(!R)return this.resolve([]);for(var B=new Array(R),q=0,G=-1,J=new this(u);++G<R;)V(S[G],G);return J;function V(Y,Q){j.resolve(Y).then(function($){B[Q]=$,++q!==R||D||(D=!0,d.resolve(J,B))},function($){D||(D=!0,d.reject(J,$))})}},g.race=function(S){var j=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=S.length,D=!1;if(!R)return this.resolve([]);for(var B=-1,q=new this(u);++B<R;)G=S[B],j.resolve(G).then(function(J){D||(D=!0,d.resolve(q,J))},function(J){D||(D=!0,d.reject(q,J))});var G;return q}},{immediate:36}],38:[function(n,r,i){var l={};(0,n("./lib/utils/common").assign)(l,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var l=n("./zlib/deflate"),u=n("./utils/common"),d=n("./utils/strings"),h=n("./zlib/messages"),m=n("./zlib/zstream"),y=Object.prototype.toString,g=0,E=-1,_=0,k=8;function x(S){if(!(this instanceof x))return new x(S);this.options=u.assign({level:E,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},S||{});var j=this.options;j.raw&&0<j.windowBits?j.windowBits=-j.windowBits:j.gzip&&0<j.windowBits&&j.windowBits<16&&(j.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var R=l.deflateInit2(this.strm,j.level,j.method,j.windowBits,j.memLevel,j.strategy);if(R!==g)throw new Error(h[R]);if(j.header&&l.deflateSetHeader(this.strm,j.header),j.dictionary){var D;if(D=typeof j.dictionary=="string"?d.string2buf(j.dictionary):y.call(j.dictionary)==="[object ArrayBuffer]"?new Uint8Array(j.dictionary):j.dictionary,(R=l.deflateSetDictionary(this.strm,D))!==g)throw new Error(h[R]);this._dict_set=!0}}function b(S,j){var R=new x(j);if(R.push(S,!0),R.err)throw R.msg||h[R.err];return R.result}x.prototype.push=function(S,j){var R,D,B=this.strm,q=this.options.chunkSize;if(this.ended)return!1;D=j===~~j?j:j===!0?4:0,typeof S=="string"?B.input=d.string2buf(S):y.call(S)==="[object ArrayBuffer]"?B.input=new Uint8Array(S):B.input=S,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new u.Buf8(q),B.next_out=0,B.avail_out=q),(R=l.deflate(B,D))!==1&&R!==g)return this.onEnd(R),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(u.shrinkBuf(B.output,B.next_out))):this.onData(u.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&R!==1);return D===4?(R=l.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===g):D!==2||(this.onEnd(g),!(B.avail_out=0))},x.prototype.onData=function(S){this.chunks.push(S)},x.prototype.onEnd=function(S){S===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},i.Deflate=x,i.deflate=b,i.deflateRaw=function(S,j){return(j=j||{}).raw=!0,b(S,j)},i.gzip=function(S,j){return(j=j||{}).gzip=!0,b(S,j)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var l=n("./zlib/inflate"),u=n("./utils/common"),d=n("./utils/strings"),h=n("./zlib/constants"),m=n("./zlib/messages"),y=n("./zlib/zstream"),g=n("./zlib/gzheader"),E=Object.prototype.toString;function _(x){if(!(this instanceof _))return new _(x);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},x||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||x&&x.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var S=l.inflateInit2(this.strm,b.windowBits);if(S!==h.Z_OK)throw new Error(m[S]);this.header=new g,l.inflateGetHeader(this.strm,this.header)}function k(x,b){var S=new _(b);if(S.push(x,!0),S.err)throw S.msg||m[S.err];return S.result}_.prototype.push=function(x,b){var S,j,R,D,B,q,G=this.strm,J=this.options.chunkSize,V=this.options.dictionary,Y=!1;if(this.ended)return!1;j=b===~~b?b:b===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof x=="string"?G.input=d.binstring2buf(x):E.call(x)==="[object ArrayBuffer]"?G.input=new Uint8Array(x):G.input=x,G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0&&(G.output=new u.Buf8(J),G.next_out=0,G.avail_out=J),(S=l.inflate(G,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&V&&(q=typeof V=="string"?d.string2buf(V):E.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,S=l.inflateSetDictionary(this.strm,q)),S===h.Z_BUF_ERROR&&Y===!0&&(S=h.Z_OK,Y=!1),S!==h.Z_STREAM_END&&S!==h.Z_OK)return this.onEnd(S),!(this.ended=!0);G.next_out&&(G.avail_out!==0&&S!==h.Z_STREAM_END&&(G.avail_in!==0||j!==h.Z_FINISH&&j!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=d.utf8border(G.output,G.next_out),D=G.next_out-R,B=d.buf2string(G.output,R),G.next_out=D,G.avail_out=J-D,D&&u.arraySet(G.output,G.output,R,D,0),this.onData(B)):this.onData(u.shrinkBuf(G.output,G.next_out)))),G.avail_in===0&&G.avail_out===0&&(Y=!0)}while((0<G.avail_in||G.avail_out===0)&&S!==h.Z_STREAM_END);return S===h.Z_STREAM_END&&(j=h.Z_FINISH),j===h.Z_FINISH?(S=l.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===h.Z_OK):j!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(G.avail_out=0))},_.prototype.onData=function(x){this.chunks.push(x)},_.prototype.onEnd=function(x){x===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Inflate=_,i.inflate=k,i.inflateRaw=function(x,b){return(b=b||{}).raw=!0,k(x,b)},i.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(h){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var g in y)y.hasOwnProperty(g)&&(h[g]=y[g])}}return h},i.shrinkBuf=function(h,m){return h.length===m?h:h.subarray?h.subarray(0,m):(h.length=m,h)};var u={arraySet:function(h,m,y,g,E){if(m.subarray&&h.subarray)h.set(m.subarray(y,y+g),E);else for(var _=0;_<g;_++)h[E+_]=m[y+_]},flattenChunks:function(h){var m,y,g,E,_,k;for(m=g=0,y=h.length;m<y;m++)g+=h[m].length;for(k=new Uint8Array(g),m=E=0,y=h.length;m<y;m++)_=h[m],k.set(_,E),E+=_.length;return k}},d={arraySet:function(h,m,y,g,E){for(var _=0;_<g;_++)h[E+_]=m[y+_]},flattenChunks:function(h){return[].concat.apply([],h)}};i.setTyped=function(h){h?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,u)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,d))},i.setTyped(l)},{}],42:[function(n,r,i){var l=n("./common"),u=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var h=new l.Buf8(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function y(g,E){if(E<65537&&(g.subarray&&d||!g.subarray&&u))return String.fromCharCode.apply(null,l.shrinkBuf(g,E));for(var _="",k=0;k<E;k++)_+=String.fromCharCode(g[k]);return _}h[254]=h[254]=1,i.string2buf=function(g){var E,_,k,x,b,S=g.length,j=0;for(x=0;x<S;x++)(64512&(_=g.charCodeAt(x)))==55296&&x+1<S&&(64512&(k=g.charCodeAt(x+1)))==56320&&(_=65536+(_-55296<<10)+(k-56320),x++),j+=_<128?1:_<2048?2:_<65536?3:4;for(E=new l.Buf8(j),x=b=0;b<j;x++)(64512&(_=g.charCodeAt(x)))==55296&&x+1<S&&(64512&(k=g.charCodeAt(x+1)))==56320&&(_=65536+(_-55296<<10)+(k-56320),x++),_<128?E[b++]=_:(_<2048?E[b++]=192|_>>>6:(_<65536?E[b++]=224|_>>>12:(E[b++]=240|_>>>18,E[b++]=128|_>>>12&63),E[b++]=128|_>>>6&63),E[b++]=128|63&_);return E},i.buf2binstring=function(g){return y(g,g.length)},i.binstring2buf=function(g){for(var E=new l.Buf8(g.length),_=0,k=E.length;_<k;_++)E[_]=g.charCodeAt(_);return E},i.buf2string=function(g,E){var _,k,x,b,S=E||g.length,j=new Array(2*S);for(_=k=0;_<S;)if((x=g[_++])<128)j[k++]=x;else if(4<(b=h[x]))j[k++]=65533,_+=b-1;else{for(x&=b===2?31:b===3?15:7;1<b&&_<S;)x=x<<6|63&g[_++],b--;1<b?j[k++]=65533:x<65536?j[k++]=x:(x-=65536,j[k++]=55296|x>>10&1023,j[k++]=56320|1023&x)}return y(j,k)},i.utf8border=function(g,E){var _;for((E=E||g.length)>g.length&&(E=g.length),_=E-1;0<=_&&(192&g[_])==128;)_--;return _<0||_===0?E:_+h[g[_]]>E?_:E}},{"./common":41}],43:[function(n,r,i){r.exports=function(l,u,d,h){for(var m=65535&l|0,y=l>>>16&65535|0,g=0;d!==0;){for(d-=g=2e3<d?2e3:d;y=y+(m=m+u[h++]|0)|0,--g;);m%=65521,y%=65521}return m|y<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var l=function(){for(var u,d=[],h=0;h<256;h++){u=h;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;d[h]=u}return d}();r.exports=function(u,d,h,m){var y=l,g=m+h;u^=-1;for(var E=m;E<g;E++)u=u>>>8^y[255&(u^d[E])];return-1^u}},{}],46:[function(n,r,i){var l,u=n("../utils/common"),d=n("./trees"),h=n("./adler32"),m=n("./crc32"),y=n("./messages"),g=0,E=4,_=0,k=-2,x=-1,b=4,S=2,j=8,R=9,D=286,B=30,q=19,G=2*D+1,J=15,V=3,Y=258,Q=Y+V+1,$=42,re=113,M=1,W=2,ae=3,se=4;function ne(z,Ce){return z.msg=y[Ce],Ce}function ee(z){return(z<<1)-(4<z?9:0)}function le(z){for(var Ce=z.length;0<=--Ce;)z[Ce]=0}function F(z){var Ce=z.state,ke=Ce.pending;ke>z.avail_out&&(ke=z.avail_out),ke!==0&&(u.arraySet(z.output,Ce.pending_buf,Ce.pending_out,ke,z.next_out),z.next_out+=ke,Ce.pending_out+=ke,z.total_out+=ke,z.avail_out-=ke,Ce.pending-=ke,Ce.pending===0&&(Ce.pending_out=0))}function K(z,Ce){d._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,Ce),z.block_start=z.strstart,F(z.strm)}function Ne(z,Ce){z.pending_buf[z.pending++]=Ce}function be(z,Ce){z.pending_buf[z.pending++]=Ce>>>8&255,z.pending_buf[z.pending++]=255&Ce}function xe(z,Ce){var ke,ie,te=z.max_chain_length,pe=z.strstart,Pe=z.prev_length,Te=z.nice_match,me=z.strstart>z.w_size-Q?z.strstart-(z.w_size-Q):0,Me=z.window,We=z.w_mask,Oe=z.prev,Qe=z.strstart+Y,Z=Me[pe+Pe-1],P=Me[pe+Pe];z.prev_length>=z.good_match&&(te>>=2),Te>z.lookahead&&(Te=z.lookahead);do if(Me[(ke=Ce)+Pe]===P&&Me[ke+Pe-1]===Z&&Me[ke]===Me[pe]&&Me[++ke]===Me[pe+1]){pe+=2,ke++;do;while(Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&Me[++pe]===Me[++ke]&&pe<Qe);if(ie=Y-(Qe-pe),pe=Qe-Y,Pe<ie){if(z.match_start=Ce,Te<=(Pe=ie))break;Z=Me[pe+Pe-1],P=Me[pe+Pe]}}while((Ce=Oe[Ce&We])>me&&--te!=0);return Pe<=z.lookahead?Pe:z.lookahead}function Re(z){var Ce,ke,ie,te,pe,Pe,Te,me,Me,We,Oe=z.w_size;do{if(te=z.window_size-z.lookahead-z.strstart,z.strstart>=Oe+(Oe-Q)){for(u.arraySet(z.window,z.window,Oe,Oe,0),z.match_start-=Oe,z.strstart-=Oe,z.block_start-=Oe,Ce=ke=z.hash_size;ie=z.head[--Ce],z.head[Ce]=Oe<=ie?ie-Oe:0,--ke;);for(Ce=ke=Oe;ie=z.prev[--Ce],z.prev[Ce]=Oe<=ie?ie-Oe:0,--ke;);te+=Oe}if(z.strm.avail_in===0)break;if(Pe=z.strm,Te=z.window,me=z.strstart+z.lookahead,Me=te,We=void 0,We=Pe.avail_in,Me<We&&(We=Me),ke=We===0?0:(Pe.avail_in-=We,u.arraySet(Te,Pe.input,Pe.next_in,We,me),Pe.state.wrap===1?Pe.adler=h(Pe.adler,Te,We,me):Pe.state.wrap===2&&(Pe.adler=m(Pe.adler,Te,We,me)),Pe.next_in+=We,Pe.total_in+=We,We),z.lookahead+=ke,z.lookahead+z.insert>=V)for(pe=z.strstart-z.insert,z.ins_h=z.window[pe],z.ins_h=(z.ins_h<<z.hash_shift^z.window[pe+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[pe+V-1])&z.hash_mask,z.prev[pe&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=pe,pe++,z.insert--,!(z.lookahead+z.insert<V)););}while(z.lookahead<Q&&z.strm.avail_in!==0)}function Ue(z,Ce){for(var ke,ie;;){if(z.lookahead<Q){if(Re(z),z.lookahead<Q&&Ce===g)return M;if(z.lookahead===0)break}if(ke=0,z.lookahead>=V&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+V-1])&z.hash_mask,ke=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),ke!==0&&z.strstart-ke<=z.w_size-Q&&(z.match_length=xe(z,ke)),z.match_length>=V)if(ie=d._tr_tally(z,z.strstart-z.match_start,z.match_length-V),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=V){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+V-1])&z.hash_mask,ke=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else ie=d._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(ie&&(K(z,!1),z.strm.avail_out===0))return M}return z.insert=z.strstart<V-1?z.strstart:V-1,Ce===E?(K(z,!0),z.strm.avail_out===0?ae:se):z.last_lit&&(K(z,!1),z.strm.avail_out===0)?M:W}function De(z,Ce){for(var ke,ie,te;;){if(z.lookahead<Q){if(Re(z),z.lookahead<Q&&Ce===g)return M;if(z.lookahead===0)break}if(ke=0,z.lookahead>=V&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+V-1])&z.hash_mask,ke=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=V-1,ke!==0&&z.prev_length<z.max_lazy_match&&z.strstart-ke<=z.w_size-Q&&(z.match_length=xe(z,ke),z.match_length<=5&&(z.strategy===1||z.match_length===V&&4096<z.strstart-z.match_start)&&(z.match_length=V-1)),z.prev_length>=V&&z.match_length<=z.prev_length){for(te=z.strstart+z.lookahead-V,ie=d._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-V),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=te&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+V-1])&z.hash_mask,ke=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=V-1,z.strstart++,ie&&(K(z,!1),z.strm.avail_out===0))return M}else if(z.match_available){if((ie=d._tr_tally(z,0,z.window[z.strstart-1]))&&K(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return M}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(ie=d._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<V-1?z.strstart:V-1,Ce===E?(K(z,!0),z.strm.avail_out===0?ae:se):z.last_lit&&(K(z,!1),z.strm.avail_out===0)?M:W}function Fe(z,Ce,ke,ie,te){this.good_length=z,this.max_lazy=Ce,this.nice_length=ke,this.max_chain=ie,this.func=te}function ot(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=j,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*G),this.dyn_dtree=new u.Buf16(2*(2*B+1)),this.bl_tree=new u.Buf16(2*(2*q+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(J+1),this.heap=new u.Buf16(2*D+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*D+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function St(z){var Ce;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=S,(Ce=z.state).pending=0,Ce.pending_out=0,Ce.wrap<0&&(Ce.wrap=-Ce.wrap),Ce.status=Ce.wrap?$:re,z.adler=Ce.wrap===2?0:1,Ce.last_flush=g,d._tr_init(Ce),_):ne(z,k)}function Ot(z){var Ce=St(z);return Ce===_&&function(ke){ke.window_size=2*ke.w_size,le(ke.head),ke.max_lazy_match=l[ke.level].max_lazy,ke.good_match=l[ke.level].good_length,ke.nice_match=l[ke.level].nice_length,ke.max_chain_length=l[ke.level].max_chain,ke.strstart=0,ke.block_start=0,ke.lookahead=0,ke.insert=0,ke.match_length=ke.prev_length=V-1,ke.match_available=0,ke.ins_h=0}(z.state),Ce}function gt(z,Ce,ke,ie,te,pe){if(!z)return k;var Pe=1;if(Ce===x&&(Ce=6),ie<0?(Pe=0,ie=-ie):15<ie&&(Pe=2,ie-=16),te<1||R<te||ke!==j||ie<8||15<ie||Ce<0||9<Ce||pe<0||b<pe)return ne(z,k);ie===8&&(ie=9);var Te=new ot;return(z.state=Te).strm=z,Te.wrap=Pe,Te.gzhead=null,Te.w_bits=ie,Te.w_size=1<<Te.w_bits,Te.w_mask=Te.w_size-1,Te.hash_bits=te+7,Te.hash_size=1<<Te.hash_bits,Te.hash_mask=Te.hash_size-1,Te.hash_shift=~~((Te.hash_bits+V-1)/V),Te.window=new u.Buf8(2*Te.w_size),Te.head=new u.Buf16(Te.hash_size),Te.prev=new u.Buf16(Te.w_size),Te.lit_bufsize=1<<te+6,Te.pending_buf_size=4*Te.lit_bufsize,Te.pending_buf=new u.Buf8(Te.pending_buf_size),Te.d_buf=1*Te.lit_bufsize,Te.l_buf=3*Te.lit_bufsize,Te.level=Ce,Te.strategy=pe,Te.method=ke,Ot(z)}l=[new Fe(0,0,0,0,function(z,Ce){var ke=65535;for(ke>z.pending_buf_size-5&&(ke=z.pending_buf_size-5);;){if(z.lookahead<=1){if(Re(z),z.lookahead===0&&Ce===g)return M;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var ie=z.block_start+ke;if((z.strstart===0||z.strstart>=ie)&&(z.lookahead=z.strstart-ie,z.strstart=ie,K(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-Q&&(K(z,!1),z.strm.avail_out===0))return M}return z.insert=0,Ce===E?(K(z,!0),z.strm.avail_out===0?ae:se):(z.strstart>z.block_start&&(K(z,!1),z.strm.avail_out),M)}),new Fe(4,4,8,4,Ue),new Fe(4,5,16,8,Ue),new Fe(4,6,32,32,Ue),new Fe(4,4,16,16,De),new Fe(8,16,32,32,De),new Fe(8,16,128,128,De),new Fe(8,32,128,256,De),new Fe(32,128,258,1024,De),new Fe(32,258,258,4096,De)],i.deflateInit=function(z,Ce){return gt(z,Ce,j,15,8,0)},i.deflateInit2=gt,i.deflateReset=Ot,i.deflateResetKeep=St,i.deflateSetHeader=function(z,Ce){return z&&z.state?z.state.wrap!==2?k:(z.state.gzhead=Ce,_):k},i.deflate=function(z,Ce){var ke,ie,te,pe;if(!z||!z.state||5<Ce||Ce<0)return z?ne(z,k):k;if(ie=z.state,!z.output||!z.input&&z.avail_in!==0||ie.status===666&&Ce!==E)return ne(z,z.avail_out===0?-5:k);if(ie.strm=z,ke=ie.last_flush,ie.last_flush=Ce,ie.status===$)if(ie.wrap===2)z.adler=0,Ne(ie,31),Ne(ie,139),Ne(ie,8),ie.gzhead?(Ne(ie,(ie.gzhead.text?1:0)+(ie.gzhead.hcrc?2:0)+(ie.gzhead.extra?4:0)+(ie.gzhead.name?8:0)+(ie.gzhead.comment?16:0)),Ne(ie,255&ie.gzhead.time),Ne(ie,ie.gzhead.time>>8&255),Ne(ie,ie.gzhead.time>>16&255),Ne(ie,ie.gzhead.time>>24&255),Ne(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),Ne(ie,255&ie.gzhead.os),ie.gzhead.extra&&ie.gzhead.extra.length&&(Ne(ie,255&ie.gzhead.extra.length),Ne(ie,ie.gzhead.extra.length>>8&255)),ie.gzhead.hcrc&&(z.adler=m(z.adler,ie.pending_buf,ie.pending,0)),ie.gzindex=0,ie.status=69):(Ne(ie,0),Ne(ie,0),Ne(ie,0),Ne(ie,0),Ne(ie,0),Ne(ie,ie.level===9?2:2<=ie.strategy||ie.level<2?4:0),Ne(ie,3),ie.status=re);else{var Pe=j+(ie.w_bits-8<<4)<<8;Pe|=(2<=ie.strategy||ie.level<2?0:ie.level<6?1:ie.level===6?2:3)<<6,ie.strstart!==0&&(Pe|=32),Pe+=31-Pe%31,ie.status=re,be(ie,Pe),ie.strstart!==0&&(be(ie,z.adler>>>16),be(ie,65535&z.adler)),z.adler=1}if(ie.status===69)if(ie.gzhead.extra){for(te=ie.pending;ie.gzindex<(65535&ie.gzhead.extra.length)&&(ie.pending!==ie.pending_buf_size||(ie.gzhead.hcrc&&ie.pending>te&&(z.adler=m(z.adler,ie.pending_buf,ie.pending-te,te)),F(z),te=ie.pending,ie.pending!==ie.pending_buf_size));)Ne(ie,255&ie.gzhead.extra[ie.gzindex]),ie.gzindex++;ie.gzhead.hcrc&&ie.pending>te&&(z.adler=m(z.adler,ie.pending_buf,ie.pending-te,te)),ie.gzindex===ie.gzhead.extra.length&&(ie.gzindex=0,ie.status=73)}else ie.status=73;if(ie.status===73)if(ie.gzhead.name){te=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>te&&(z.adler=m(z.adler,ie.pending_buf,ie.pending-te,te)),F(z),te=ie.pending,ie.pending===ie.pending_buf_size)){pe=1;break}pe=ie.gzindex<ie.gzhead.name.length?255&ie.gzhead.name.charCodeAt(ie.gzindex++):0,Ne(ie,pe)}while(pe!==0);ie.gzhead.hcrc&&ie.pending>te&&(z.adler=m(z.adler,ie.pending_buf,ie.pending-te,te)),pe===0&&(ie.gzindex=0,ie.status=91)}else ie.status=91;if(ie.status===91)if(ie.gzhead.comment){te=ie.pending;do{if(ie.pending===ie.pending_buf_size&&(ie.gzhead.hcrc&&ie.pending>te&&(z.adler=m(z.adler,ie.pending_buf,ie.pending-te,te)),F(z),te=ie.pending,ie.pending===ie.pending_buf_size)){pe=1;break}pe=ie.gzindex<ie.gzhead.comment.length?255&ie.gzhead.comment.charCodeAt(ie.gzindex++):0,Ne(ie,pe)}while(pe!==0);ie.gzhead.hcrc&&ie.pending>te&&(z.adler=m(z.adler,ie.pending_buf,ie.pending-te,te)),pe===0&&(ie.status=103)}else ie.status=103;if(ie.status===103&&(ie.gzhead.hcrc?(ie.pending+2>ie.pending_buf_size&&F(z),ie.pending+2<=ie.pending_buf_size&&(Ne(ie,255&z.adler),Ne(ie,z.adler>>8&255),z.adler=0,ie.status=re)):ie.status=re),ie.pending!==0){if(F(z),z.avail_out===0)return ie.last_flush=-1,_}else if(z.avail_in===0&&ee(Ce)<=ee(ke)&&Ce!==E)return ne(z,-5);if(ie.status===666&&z.avail_in!==0)return ne(z,-5);if(z.avail_in!==0||ie.lookahead!==0||Ce!==g&&ie.status!==666){var Te=ie.strategy===2?function(me,Me){for(var We;;){if(me.lookahead===0&&(Re(me),me.lookahead===0)){if(Me===g)return M;break}if(me.match_length=0,We=d._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,We&&(K(me,!1),me.strm.avail_out===0))return M}return me.insert=0,Me===E?(K(me,!0),me.strm.avail_out===0?ae:se):me.last_lit&&(K(me,!1),me.strm.avail_out===0)?M:W}(ie,Ce):ie.strategy===3?function(me,Me){for(var We,Oe,Qe,Z,P=me.window;;){if(me.lookahead<=Y){if(Re(me),me.lookahead<=Y&&Me===g)return M;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=V&&0<me.strstart&&(Oe=P[Qe=me.strstart-1])===P[++Qe]&&Oe===P[++Qe]&&Oe===P[++Qe]){Z=me.strstart+Y;do;while(Oe===P[++Qe]&&Oe===P[++Qe]&&Oe===P[++Qe]&&Oe===P[++Qe]&&Oe===P[++Qe]&&Oe===P[++Qe]&&Oe===P[++Qe]&&Oe===P[++Qe]&&Qe<Z);me.match_length=Y-(Z-Qe),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=V?(We=d._tr_tally(me,1,me.match_length-V),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(We=d._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),We&&(K(me,!1),me.strm.avail_out===0))return M}return me.insert=0,Me===E?(K(me,!0),me.strm.avail_out===0?ae:se):me.last_lit&&(K(me,!1),me.strm.avail_out===0)?M:W}(ie,Ce):l[ie.level].func(ie,Ce);if(Te!==ae&&Te!==se||(ie.status=666),Te===M||Te===ae)return z.avail_out===0&&(ie.last_flush=-1),_;if(Te===W&&(Ce===1?d._tr_align(ie):Ce!==5&&(d._tr_stored_block(ie,0,0,!1),Ce===3&&(le(ie.head),ie.lookahead===0&&(ie.strstart=0,ie.block_start=0,ie.insert=0))),F(z),z.avail_out===0))return ie.last_flush=-1,_}return Ce!==E?_:ie.wrap<=0?1:(ie.wrap===2?(Ne(ie,255&z.adler),Ne(ie,z.adler>>8&255),Ne(ie,z.adler>>16&255),Ne(ie,z.adler>>24&255),Ne(ie,255&z.total_in),Ne(ie,z.total_in>>8&255),Ne(ie,z.total_in>>16&255),Ne(ie,z.total_in>>24&255)):(be(ie,z.adler>>>16),be(ie,65535&z.adler)),F(z),0<ie.wrap&&(ie.wrap=-ie.wrap),ie.pending!==0?_:1)},i.deflateEnd=function(z){var Ce;return z&&z.state?(Ce=z.state.status)!==$&&Ce!==69&&Ce!==73&&Ce!==91&&Ce!==103&&Ce!==re&&Ce!==666?ne(z,k):(z.state=null,Ce===re?ne(z,-3):_):k},i.deflateSetDictionary=function(z,Ce){var ke,ie,te,pe,Pe,Te,me,Me,We=Ce.length;if(!z||!z.state||(pe=(ke=z.state).wrap)===2||pe===1&&ke.status!==$||ke.lookahead)return k;for(pe===1&&(z.adler=h(z.adler,Ce,We,0)),ke.wrap=0,We>=ke.w_size&&(pe===0&&(le(ke.head),ke.strstart=0,ke.block_start=0,ke.insert=0),Me=new u.Buf8(ke.w_size),u.arraySet(Me,Ce,We-ke.w_size,ke.w_size,0),Ce=Me,We=ke.w_size),Pe=z.avail_in,Te=z.next_in,me=z.input,z.avail_in=We,z.next_in=0,z.input=Ce,Re(ke);ke.lookahead>=V;){for(ie=ke.strstart,te=ke.lookahead-(V-1);ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[ie+V-1])&ke.hash_mask,ke.prev[ie&ke.w_mask]=ke.head[ke.ins_h],ke.head[ke.ins_h]=ie,ie++,--te;);ke.strstart=ie,ke.lookahead=V-1,Re(ke)}return ke.strstart+=ke.lookahead,ke.block_start=ke.strstart,ke.insert=ke.lookahead,ke.lookahead=0,ke.match_length=ke.prev_length=V-1,ke.match_available=0,z.next_in=Te,z.input=me,z.avail_in=Pe,ke.wrap=pe,_},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(l,u){var d,h,m,y,g,E,_,k,x,b,S,j,R,D,B,q,G,J,V,Y,Q,$,re,M,W;d=l.state,h=l.next_in,M=l.input,m=h+(l.avail_in-5),y=l.next_out,W=l.output,g=y-(u-l.avail_out),E=y+(l.avail_out-257),_=d.dmax,k=d.wsize,x=d.whave,b=d.wnext,S=d.window,j=d.hold,R=d.bits,D=d.lencode,B=d.distcode,q=(1<<d.lenbits)-1,G=(1<<d.distbits)-1;e:do{R<15&&(j+=M[h++]<<R,R+=8,j+=M[h++]<<R,R+=8),J=D[j&q];t:for(;;){if(j>>>=V=J>>>24,R-=V,(V=J>>>16&255)===0)W[y++]=65535&J;else{if(!(16&V)){if((64&V)==0){J=D[(65535&J)+(j&(1<<V)-1)];continue t}if(32&V){d.mode=12;break e}l.msg="invalid literal/length code",d.mode=30;break e}Y=65535&J,(V&=15)&&(R<V&&(j+=M[h++]<<R,R+=8),Y+=j&(1<<V)-1,j>>>=V,R-=V),R<15&&(j+=M[h++]<<R,R+=8,j+=M[h++]<<R,R+=8),J=B[j&G];n:for(;;){if(j>>>=V=J>>>24,R-=V,!(16&(V=J>>>16&255))){if((64&V)==0){J=B[(65535&J)+(j&(1<<V)-1)];continue n}l.msg="invalid distance code",d.mode=30;break e}if(Q=65535&J,R<(V&=15)&&(j+=M[h++]<<R,(R+=8)<V&&(j+=M[h++]<<R,R+=8)),_<(Q+=j&(1<<V)-1)){l.msg="invalid distance too far back",d.mode=30;break e}if(j>>>=V,R-=V,(V=y-g)<Q){if(x<(V=Q-V)&&d.sane){l.msg="invalid distance too far back",d.mode=30;break e}if(re=S,($=0)===b){if($+=k-V,V<Y){for(Y-=V;W[y++]=S[$++],--V;);$=y-Q,re=W}}else if(b<V){if($+=k+b-V,(V-=b)<Y){for(Y-=V;W[y++]=S[$++],--V;);if($=0,b<Y){for(Y-=V=b;W[y++]=S[$++],--V;);$=y-Q,re=W}}}else if($+=b-V,V<Y){for(Y-=V;W[y++]=S[$++],--V;);$=y-Q,re=W}for(;2<Y;)W[y++]=re[$++],W[y++]=re[$++],W[y++]=re[$++],Y-=3;Y&&(W[y++]=re[$++],1<Y&&(W[y++]=re[$++]))}else{for($=y-Q;W[y++]=W[$++],W[y++]=W[$++],W[y++]=W[$++],2<(Y-=3););Y&&(W[y++]=W[$++],1<Y&&(W[y++]=W[$++]))}break}}break}}while(h<m&&y<E);h-=Y=R>>3,j&=(1<<(R-=Y<<3))-1,l.next_in=h,l.next_out=y,l.avail_in=h<m?m-h+5:5-(h-m),l.avail_out=y<E?E-y+257:257-(y-E),d.hold=j,d.bits=R}},{}],49:[function(n,r,i){var l=n("../utils/common"),u=n("./adler32"),d=n("./crc32"),h=n("./inffast"),m=n("./inftrees"),y=1,g=2,E=0,_=-2,k=1,x=852,b=592;function S($){return($>>>24&255)+($>>>8&65280)+((65280&$)<<8)+((255&$)<<24)}function j(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R($){var re;return $&&$.state?(re=$.state,$.total_in=$.total_out=re.total=0,$.msg="",re.wrap&&($.adler=1&re.wrap),re.mode=k,re.last=0,re.havedict=0,re.dmax=32768,re.head=null,re.hold=0,re.bits=0,re.lencode=re.lendyn=new l.Buf32(x),re.distcode=re.distdyn=new l.Buf32(b),re.sane=1,re.back=-1,E):_}function D($){var re;return $&&$.state?((re=$.state).wsize=0,re.whave=0,re.wnext=0,R($)):_}function B($,re){var M,W;return $&&$.state?(W=$.state,re<0?(M=0,re=-re):(M=1+(re>>4),re<48&&(re&=15)),re&&(re<8||15<re)?_:(W.window!==null&&W.wbits!==re&&(W.window=null),W.wrap=M,W.wbits=re,D($))):_}function q($,re){var M,W;return $?(W=new j,($.state=W).window=null,(M=B($,re))!==E&&($.state=null),M):_}var G,J,V=!0;function Y($){if(V){var re;for(G=new l.Buf32(512),J=new l.Buf32(32),re=0;re<144;)$.lens[re++]=8;for(;re<256;)$.lens[re++]=9;for(;re<280;)$.lens[re++]=7;for(;re<288;)$.lens[re++]=8;for(m(y,$.lens,0,288,G,0,$.work,{bits:9}),re=0;re<32;)$.lens[re++]=5;m(g,$.lens,0,32,J,0,$.work,{bits:5}),V=!1}$.lencode=G,$.lenbits=9,$.distcode=J,$.distbits=5}function Q($,re,M,W){var ae,se=$.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new l.Buf8(se.wsize)),W>=se.wsize?(l.arraySet(se.window,re,M-se.wsize,se.wsize,0),se.wnext=0,se.whave=se.wsize):(W<(ae=se.wsize-se.wnext)&&(ae=W),l.arraySet(se.window,re,M-W,ae,se.wnext),(W-=ae)?(l.arraySet(se.window,re,M-W,W,0),se.wnext=W,se.whave=se.wsize):(se.wnext+=ae,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=ae))),0}i.inflateReset=D,i.inflateReset2=B,i.inflateResetKeep=R,i.inflateInit=function($){return q($,15)},i.inflateInit2=q,i.inflate=function($,re){var M,W,ae,se,ne,ee,le,F,K,Ne,be,xe,Re,Ue,De,Fe,ot,St,Ot,gt,z,Ce,ke,ie,te=0,pe=new l.Buf8(4),Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&$.avail_in!==0)return _;(M=$.state).mode===12&&(M.mode=13),ne=$.next_out,ae=$.output,le=$.avail_out,se=$.next_in,W=$.input,ee=$.avail_in,F=M.hold,K=M.bits,Ne=ee,be=le,Ce=E;e:for(;;)switch(M.mode){case k:if(M.wrap===0){M.mode=13;break}for(;K<16;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}if(2&M.wrap&&F===35615){pe[M.check=0]=255&F,pe[1]=F>>>8&255,M.check=d(M.check,pe,2,0),K=F=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&F)<<8)+(F>>8))%31){$.msg="incorrect header check",M.mode=30;break}if((15&F)!=8){$.msg="unknown compression method",M.mode=30;break}if(K-=4,z=8+(15&(F>>>=4)),M.wbits===0)M.wbits=z;else if(z>M.wbits){$.msg="invalid window size",M.mode=30;break}M.dmax=1<<z,$.adler=M.check=1,M.mode=512&F?10:12,K=F=0;break;case 2:for(;K<16;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}if(M.flags=F,(255&M.flags)!=8){$.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){$.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=F>>8&1),512&M.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,M.check=d(M.check,pe,2,0)),K=F=0,M.mode=3;case 3:for(;K<32;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}M.head&&(M.head.time=F),512&M.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,pe[2]=F>>>16&255,pe[3]=F>>>24&255,M.check=d(M.check,pe,4,0)),K=F=0,M.mode=4;case 4:for(;K<16;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}M.head&&(M.head.xflags=255&F,M.head.os=F>>8),512&M.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,M.check=d(M.check,pe,2,0)),K=F=0,M.mode=5;case 5:if(1024&M.flags){for(;K<16;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}M.length=F,M.head&&(M.head.extra_len=F),512&M.flags&&(pe[0]=255&F,pe[1]=F>>>8&255,M.check=d(M.check,pe,2,0)),K=F=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(ee<(xe=M.length)&&(xe=ee),xe&&(M.head&&(z=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),l.arraySet(M.head.extra,W,se,xe,z)),512&M.flags&&(M.check=d(M.check,W,xe,se)),ee-=xe,se+=xe,M.length-=xe),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(ee===0)break e;for(xe=0;z=W[se+xe++],M.head&&z&&M.length<65536&&(M.head.name+=String.fromCharCode(z)),z&&xe<ee;);if(512&M.flags&&(M.check=d(M.check,W,xe,se)),ee-=xe,se+=xe,z)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(ee===0)break e;for(xe=0;z=W[se+xe++],M.head&&z&&M.length<65536&&(M.head.comment+=String.fromCharCode(z)),z&&xe<ee;);if(512&M.flags&&(M.check=d(M.check,W,xe,se)),ee-=xe,se+=xe,z)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;K<16;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}if(F!==(65535&M.check)){$.msg="header crc mismatch",M.mode=30;break}K=F=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),$.adler=M.check=0,M.mode=12;break;case 10:for(;K<32;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}$.adler=M.check=S(F),K=F=0,M.mode=11;case 11:if(M.havedict===0)return $.next_out=ne,$.avail_out=le,$.next_in=se,$.avail_in=ee,M.hold=F,M.bits=K,2;$.adler=M.check=1,M.mode=12;case 12:if(re===5||re===6)break e;case 13:if(M.last){F>>>=7&K,K-=7&K,M.mode=27;break}for(;K<3;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}switch(M.last=1&F,K-=1,3&(F>>>=1)){case 0:M.mode=14;break;case 1:if(Y(M),M.mode=20,re!==6)break;F>>>=2,K-=2;break e;case 2:M.mode=17;break;case 3:$.msg="invalid block type",M.mode=30}F>>>=2,K-=2;break;case 14:for(F>>>=7&K,K-=7&K;K<32;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}if((65535&F)!=(F>>>16^65535)){$.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&F,K=F=0,M.mode=15,re===6)break e;case 15:M.mode=16;case 16:if(xe=M.length){if(ee<xe&&(xe=ee),le<xe&&(xe=le),xe===0)break e;l.arraySet(ae,W,se,xe,ne),ee-=xe,se+=xe,le-=xe,ne+=xe,M.length-=xe;break}M.mode=12;break;case 17:for(;K<14;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}if(M.nlen=257+(31&F),F>>>=5,K-=5,M.ndist=1+(31&F),F>>>=5,K-=5,M.ncode=4+(15&F),F>>>=4,K-=4,286<M.nlen||30<M.ndist){$.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;K<3;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}M.lens[Pe[M.have++]]=7&F,F>>>=3,K-=3}for(;M.have<19;)M.lens[Pe[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,ke={bits:M.lenbits},Ce=m(0,M.lens,0,19,M.lencode,0,M.work,ke),M.lenbits=ke.bits,Ce){$.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;Fe=(te=M.lencode[F&(1<<M.lenbits)-1])>>>16&255,ot=65535&te,!((De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}if(ot<16)F>>>=De,K-=De,M.lens[M.have++]=ot;else{if(ot===16){for(ie=De+2;K<ie;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}if(F>>>=De,K-=De,M.have===0){$.msg="invalid bit length repeat",M.mode=30;break}z=M.lens[M.have-1],xe=3+(3&F),F>>>=2,K-=2}else if(ot===17){for(ie=De+3;K<ie;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}K-=De,z=0,xe=3+(7&(F>>>=De)),F>>>=3,K-=3}else{for(ie=De+7;K<ie;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}K-=De,z=0,xe=11+(127&(F>>>=De)),F>>>=7,K-=7}if(M.have+xe>M.nlen+M.ndist){$.msg="invalid bit length repeat",M.mode=30;break}for(;xe--;)M.lens[M.have++]=z}}if(M.mode===30)break;if(M.lens[256]===0){$.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,ke={bits:M.lenbits},Ce=m(y,M.lens,0,M.nlen,M.lencode,0,M.work,ke),M.lenbits=ke.bits,Ce){$.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,ke={bits:M.distbits},Ce=m(g,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,ke),M.distbits=ke.bits,Ce){$.msg="invalid distances set",M.mode=30;break}if(M.mode=20,re===6)break e;case 20:M.mode=21;case 21:if(6<=ee&&258<=le){$.next_out=ne,$.avail_out=le,$.next_in=se,$.avail_in=ee,M.hold=F,M.bits=K,h($,be),ne=$.next_out,ae=$.output,le=$.avail_out,se=$.next_in,W=$.input,ee=$.avail_in,F=M.hold,K=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;Fe=(te=M.lencode[F&(1<<M.lenbits)-1])>>>16&255,ot=65535&te,!((De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}if(Fe&&(240&Fe)==0){for(St=De,Ot=Fe,gt=ot;Fe=(te=M.lencode[gt+((F&(1<<St+Ot)-1)>>St)])>>>16&255,ot=65535&te,!(St+(De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}F>>>=St,K-=St,M.back+=St}if(F>>>=De,K-=De,M.back+=De,M.length=ot,Fe===0){M.mode=26;break}if(32&Fe){M.back=-1,M.mode=12;break}if(64&Fe){$.msg="invalid literal/length code",M.mode=30;break}M.extra=15&Fe,M.mode=22;case 22:if(M.extra){for(ie=M.extra;K<ie;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}M.length+=F&(1<<M.extra)-1,F>>>=M.extra,K-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;Fe=(te=M.distcode[F&(1<<M.distbits)-1])>>>16&255,ot=65535&te,!((De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}if((240&Fe)==0){for(St=De,Ot=Fe,gt=ot;Fe=(te=M.distcode[gt+((F&(1<<St+Ot)-1)>>St)])>>>16&255,ot=65535&te,!(St+(De=te>>>24)<=K);){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}F>>>=St,K-=St,M.back+=St}if(F>>>=De,K-=De,M.back+=De,64&Fe){$.msg="invalid distance code",M.mode=30;break}M.offset=ot,M.extra=15&Fe,M.mode=24;case 24:if(M.extra){for(ie=M.extra;K<ie;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}M.offset+=F&(1<<M.extra)-1,F>>>=M.extra,K-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){$.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(le===0)break e;if(xe=be-le,M.offset>xe){if((xe=M.offset-xe)>M.whave&&M.sane){$.msg="invalid distance too far back",M.mode=30;break}Re=xe>M.wnext?(xe-=M.wnext,M.wsize-xe):M.wnext-xe,xe>M.length&&(xe=M.length),Ue=M.window}else Ue=ae,Re=ne-M.offset,xe=M.length;for(le<xe&&(xe=le),le-=xe,M.length-=xe;ae[ne++]=Ue[Re++],--xe;);M.length===0&&(M.mode=21);break;case 26:if(le===0)break e;ae[ne++]=M.length,le--,M.mode=21;break;case 27:if(M.wrap){for(;K<32;){if(ee===0)break e;ee--,F|=W[se++]<<K,K+=8}if(be-=le,$.total_out+=be,M.total+=be,be&&($.adler=M.check=M.flags?d(M.check,ae,be,ne-be):u(M.check,ae,be,ne-be)),be=le,(M.flags?F:S(F))!==M.check){$.msg="incorrect data check",M.mode=30;break}K=F=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;K<32;){if(ee===0)break e;ee--,F+=W[se++]<<K,K+=8}if(F!==(4294967295&M.total)){$.msg="incorrect length check",M.mode=30;break}K=F=0}M.mode=29;case 29:Ce=1;break e;case 30:Ce=-3;break e;case 31:return-4;case 32:default:return _}return $.next_out=ne,$.avail_out=le,$.next_in=se,$.avail_in=ee,M.hold=F,M.bits=K,(M.wsize||be!==$.avail_out&&M.mode<30&&(M.mode<27||re!==4))&&Q($,$.output,$.next_out,be-$.avail_out)?(M.mode=31,-4):(Ne-=$.avail_in,be-=$.avail_out,$.total_in+=Ne,$.total_out+=be,M.total+=be,M.wrap&&be&&($.adler=M.check=M.flags?d(M.check,ae,be,$.next_out-be):u(M.check,ae,be,$.next_out-be)),$.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(Ne==0&&be===0||re===4)&&Ce===E&&(Ce=-5),Ce)},i.inflateEnd=function($){if(!$||!$.state)return _;var re=$.state;return re.window&&(re.window=null),$.state=null,E},i.inflateGetHeader=function($,re){var M;return $&&$.state?(2&(M=$.state).wrap)==0?_:((M.head=re).done=!1,E):_},i.inflateSetDictionary=function($,re){var M,W=re.length;return $&&$.state?(M=$.state).wrap!==0&&M.mode!==11?_:M.mode===11&&u(1,re,W,0)!==M.check?-3:Q($,re,W,W)?(M.mode=31,-4):(M.havedict=1,E):_},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var l=n("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(y,g,E,_,k,x,b,S){var j,R,D,B,q,G,J,V,Y,Q=S.bits,$=0,re=0,M=0,W=0,ae=0,se=0,ne=0,ee=0,le=0,F=0,K=null,Ne=0,be=new l.Buf16(16),xe=new l.Buf16(16),Re=null,Ue=0;for($=0;$<=15;$++)be[$]=0;for(re=0;re<_;re++)be[g[E+re]]++;for(ae=Q,W=15;1<=W&&be[W]===0;W--);if(W<ae&&(ae=W),W===0)return k[x++]=20971520,k[x++]=20971520,S.bits=1,0;for(M=1;M<W&&be[M]===0;M++);for(ae<M&&(ae=M),$=ee=1;$<=15;$++)if(ee<<=1,(ee-=be[$])<0)return-1;if(0<ee&&(y===0||W!==1))return-1;for(xe[1]=0,$=1;$<15;$++)xe[$+1]=xe[$]+be[$];for(re=0;re<_;re++)g[E+re]!==0&&(b[xe[g[E+re]]++]=re);if(G=y===0?(K=Re=b,19):y===1?(K=u,Ne-=257,Re=d,Ue-=257,256):(K=h,Re=m,-1),$=M,q=x,ne=re=F=0,D=-1,B=(le=1<<(se=ae))-1,y===1&&852<le||y===2&&592<le)return 1;for(;;){for(J=$-ne,Y=b[re]<G?(V=0,b[re]):b[re]>G?(V=Re[Ue+b[re]],K[Ne+b[re]]):(V=96,0),j=1<<$-ne,M=R=1<<se;k[q+(F>>ne)+(R-=j)]=J<<24|V<<16|Y|0,R!==0;);for(j=1<<$-1;F&j;)j>>=1;if(j!==0?(F&=j-1,F+=j):F=0,re++,--be[$]==0){if($===W)break;$=g[E+b[re]]}if(ae<$&&(F&B)!==D){for(ne===0&&(ne=ae),q+=M,ee=1<<(se=$-ne);se+ne<W&&!((ee-=be[se+ne])<=0);)se++,ee<<=1;if(le+=1<<se,y===1&&852<le||y===2&&592<le)return 1;k[D=F&B]=ae<<24|se<<16|q-x|0}}return F!==0&&(k[q+F]=$-ne<<24|64<<16|0),S.bits=ae,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var l=n("../utils/common"),u=0,d=1;function h(te){for(var pe=te.length;0<=--pe;)te[pe]=0}var m=0,y=29,g=256,E=g+1+y,_=30,k=19,x=2*E+1,b=15,S=16,j=7,R=256,D=16,B=17,q=18,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],J=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(E+2));h(Q);var $=new Array(2*_);h($);var re=new Array(512);h(re);var M=new Array(256);h(M);var W=new Array(y);h(W);var ae,se,ne,ee=new Array(_);function le(te,pe,Pe,Te,me){this.static_tree=te,this.extra_bits=pe,this.extra_base=Pe,this.elems=Te,this.max_length=me,this.has_stree=te&&te.length}function F(te,pe){this.dyn_tree=te,this.max_code=0,this.stat_desc=pe}function K(te){return te<256?re[te]:re[256+(te>>>7)]}function Ne(te,pe){te.pending_buf[te.pending++]=255&pe,te.pending_buf[te.pending++]=pe>>>8&255}function be(te,pe,Pe){te.bi_valid>S-Pe?(te.bi_buf|=pe<<te.bi_valid&65535,Ne(te,te.bi_buf),te.bi_buf=pe>>S-te.bi_valid,te.bi_valid+=Pe-S):(te.bi_buf|=pe<<te.bi_valid&65535,te.bi_valid+=Pe)}function xe(te,pe,Pe){be(te,Pe[2*pe],Pe[2*pe+1])}function Re(te,pe){for(var Pe=0;Pe|=1&te,te>>>=1,Pe<<=1,0<--pe;);return Pe>>>1}function Ue(te,pe,Pe){var Te,me,Me=new Array(b+1),We=0;for(Te=1;Te<=b;Te++)Me[Te]=We=We+Pe[Te-1]<<1;for(me=0;me<=pe;me++){var Oe=te[2*me+1];Oe!==0&&(te[2*me]=Re(Me[Oe]++,Oe))}}function De(te){var pe;for(pe=0;pe<E;pe++)te.dyn_ltree[2*pe]=0;for(pe=0;pe<_;pe++)te.dyn_dtree[2*pe]=0;for(pe=0;pe<k;pe++)te.bl_tree[2*pe]=0;te.dyn_ltree[2*R]=1,te.opt_len=te.static_len=0,te.last_lit=te.matches=0}function Fe(te){8<te.bi_valid?Ne(te,te.bi_buf):0<te.bi_valid&&(te.pending_buf[te.pending++]=te.bi_buf),te.bi_buf=0,te.bi_valid=0}function ot(te,pe,Pe,Te){var me=2*pe,Me=2*Pe;return te[me]<te[Me]||te[me]===te[Me]&&Te[pe]<=Te[Pe]}function St(te,pe,Pe){for(var Te=te.heap[Pe],me=Pe<<1;me<=te.heap_len&&(me<te.heap_len&&ot(pe,te.heap[me+1],te.heap[me],te.depth)&&me++,!ot(pe,Te,te.heap[me],te.depth));)te.heap[Pe]=te.heap[me],Pe=me,me<<=1;te.heap[Pe]=Te}function Ot(te,pe,Pe){var Te,me,Me,We,Oe=0;if(te.last_lit!==0)for(;Te=te.pending_buf[te.d_buf+2*Oe]<<8|te.pending_buf[te.d_buf+2*Oe+1],me=te.pending_buf[te.l_buf+Oe],Oe++,Te===0?xe(te,me,pe):(xe(te,(Me=M[me])+g+1,pe),(We=G[Me])!==0&&be(te,me-=W[Me],We),xe(te,Me=K(--Te),Pe),(We=J[Me])!==0&&be(te,Te-=ee[Me],We)),Oe<te.last_lit;);xe(te,R,pe)}function gt(te,pe){var Pe,Te,me,Me=pe.dyn_tree,We=pe.stat_desc.static_tree,Oe=pe.stat_desc.has_stree,Qe=pe.stat_desc.elems,Z=-1;for(te.heap_len=0,te.heap_max=x,Pe=0;Pe<Qe;Pe++)Me[2*Pe]!==0?(te.heap[++te.heap_len]=Z=Pe,te.depth[Pe]=0):Me[2*Pe+1]=0;for(;te.heap_len<2;)Me[2*(me=te.heap[++te.heap_len]=Z<2?++Z:0)]=1,te.depth[me]=0,te.opt_len--,Oe&&(te.static_len-=We[2*me+1]);for(pe.max_code=Z,Pe=te.heap_len>>1;1<=Pe;Pe--)St(te,Me,Pe);for(me=Qe;Pe=te.heap[1],te.heap[1]=te.heap[te.heap_len--],St(te,Me,1),Te=te.heap[1],te.heap[--te.heap_max]=Pe,te.heap[--te.heap_max]=Te,Me[2*me]=Me[2*Pe]+Me[2*Te],te.depth[me]=(te.depth[Pe]>=te.depth[Te]?te.depth[Pe]:te.depth[Te])+1,Me[2*Pe+1]=Me[2*Te+1]=me,te.heap[1]=me++,St(te,Me,1),2<=te.heap_len;);te.heap[--te.heap_max]=te.heap[1],function(P,I){var X,fe,we,Se,dt,Dt,kt=I.dyn_tree,Pt=I.max_code,Tt=I.stat_desc.static_tree,sa=I.stat_desc.has_stree,Bs=I.stat_desc.extra_bits,Ir=I.stat_desc.extra_base,Vn=I.stat_desc.max_length,qi=0;for(Se=0;Se<=b;Se++)P.bl_count[Se]=0;for(kt[2*P.heap[P.heap_max]+1]=0,X=P.heap_max+1;X<x;X++)Vn<(Se=kt[2*kt[2*(fe=P.heap[X])+1]+1]+1)&&(Se=Vn,qi++),kt[2*fe+1]=Se,Pt<fe||(P.bl_count[Se]++,dt=0,Ir<=fe&&(dt=Bs[fe-Ir]),Dt=kt[2*fe],P.opt_len+=Dt*(Se+dt),sa&&(P.static_len+=Dt*(Tt[2*fe+1]+dt)));if(qi!==0){do{for(Se=Vn-1;P.bl_count[Se]===0;)Se--;P.bl_count[Se]--,P.bl_count[Se+1]+=2,P.bl_count[Vn]--,qi-=2}while(0<qi);for(Se=Vn;Se!==0;Se--)for(fe=P.bl_count[Se];fe!==0;)Pt<(we=P.heap[--X])||(kt[2*we+1]!==Se&&(P.opt_len+=(Se-kt[2*we+1])*kt[2*we],kt[2*we+1]=Se),fe--)}}(te,pe),Ue(Me,Z,te.bl_count)}function z(te,pe,Pe){var Te,me,Me=-1,We=pe[1],Oe=0,Qe=7,Z=4;for(We===0&&(Qe=138,Z=3),pe[2*(Pe+1)+1]=65535,Te=0;Te<=Pe;Te++)me=We,We=pe[2*(Te+1)+1],++Oe<Qe&&me===We||(Oe<Z?te.bl_tree[2*me]+=Oe:me!==0?(me!==Me&&te.bl_tree[2*me]++,te.bl_tree[2*D]++):Oe<=10?te.bl_tree[2*B]++:te.bl_tree[2*q]++,Me=me,Z=(Oe=0)===We?(Qe=138,3):me===We?(Qe=6,3):(Qe=7,4))}function Ce(te,pe,Pe){var Te,me,Me=-1,We=pe[1],Oe=0,Qe=7,Z=4;for(We===0&&(Qe=138,Z=3),Te=0;Te<=Pe;Te++)if(me=We,We=pe[2*(Te+1)+1],!(++Oe<Qe&&me===We)){if(Oe<Z)for(;xe(te,me,te.bl_tree),--Oe!=0;);else me!==0?(me!==Me&&(xe(te,me,te.bl_tree),Oe--),xe(te,D,te.bl_tree),be(te,Oe-3,2)):Oe<=10?(xe(te,B,te.bl_tree),be(te,Oe-3,3)):(xe(te,q,te.bl_tree),be(te,Oe-11,7));Me=me,Z=(Oe=0)===We?(Qe=138,3):me===We?(Qe=6,3):(Qe=7,4)}}h(ee);var ke=!1;function ie(te,pe,Pe,Te){be(te,(m<<1)+(Te?1:0),3),function(me,Me,We,Oe){Fe(me),Ne(me,We),Ne(me,~We),l.arraySet(me.pending_buf,me.window,Me,We,me.pending),me.pending+=We}(te,pe,Pe)}i._tr_init=function(te){ke||(function(){var pe,Pe,Te,me,Me,We=new Array(b+1);for(me=Te=0;me<y-1;me++)for(W[me]=Te,pe=0;pe<1<<G[me];pe++)M[Te++]=me;for(M[Te-1]=me,me=Me=0;me<16;me++)for(ee[me]=Me,pe=0;pe<1<<J[me];pe++)re[Me++]=me;for(Me>>=7;me<_;me++)for(ee[me]=Me<<7,pe=0;pe<1<<J[me]-7;pe++)re[256+Me++]=me;for(Pe=0;Pe<=b;Pe++)We[Pe]=0;for(pe=0;pe<=143;)Q[2*pe+1]=8,pe++,We[8]++;for(;pe<=255;)Q[2*pe+1]=9,pe++,We[9]++;for(;pe<=279;)Q[2*pe+1]=7,pe++,We[7]++;for(;pe<=287;)Q[2*pe+1]=8,pe++,We[8]++;for(Ue(Q,E+1,We),pe=0;pe<_;pe++)$[2*pe+1]=5,$[2*pe]=Re(pe,5);ae=new le(Q,G,g+1,E,b),se=new le($,J,0,_,b),ne=new le(new Array(0),V,0,k,j)}(),ke=!0),te.l_desc=new F(te.dyn_ltree,ae),te.d_desc=new F(te.dyn_dtree,se),te.bl_desc=new F(te.bl_tree,ne),te.bi_buf=0,te.bi_valid=0,De(te)},i._tr_stored_block=ie,i._tr_flush_block=function(te,pe,Pe,Te){var me,Me,We=0;0<te.level?(te.strm.data_type===2&&(te.strm.data_type=function(Oe){var Qe,Z=4093624447;for(Qe=0;Qe<=31;Qe++,Z>>>=1)if(1&Z&&Oe.dyn_ltree[2*Qe]!==0)return u;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return d;for(Qe=32;Qe<g;Qe++)if(Oe.dyn_ltree[2*Qe]!==0)return d;return u}(te)),gt(te,te.l_desc),gt(te,te.d_desc),We=function(Oe){var Qe;for(z(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),z(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),gt(Oe,Oe.bl_desc),Qe=k-1;3<=Qe&&Oe.bl_tree[2*Y[Qe]+1]===0;Qe--);return Oe.opt_len+=3*(Qe+1)+5+5+4,Qe}(te),me=te.opt_len+3+7>>>3,(Me=te.static_len+3+7>>>3)<=me&&(me=Me)):me=Me=Pe+5,Pe+4<=me&&pe!==-1?ie(te,pe,Pe,Te):te.strategy===4||Me===me?(be(te,2+(Te?1:0),3),Ot(te,Q,$)):(be(te,4+(Te?1:0),3),function(Oe,Qe,Z,P){var I;for(be(Oe,Qe-257,5),be(Oe,Z-1,5),be(Oe,P-4,4),I=0;I<P;I++)be(Oe,Oe.bl_tree[2*Y[I]+1],3);Ce(Oe,Oe.dyn_ltree,Qe-1),Ce(Oe,Oe.dyn_dtree,Z-1)}(te,te.l_desc.max_code+1,te.d_desc.max_code+1,We+1),Ot(te,te.dyn_ltree,te.dyn_dtree)),De(te),Te&&Fe(te)},i._tr_tally=function(te,pe,Pe){return te.pending_buf[te.d_buf+2*te.last_lit]=pe>>>8&255,te.pending_buf[te.d_buf+2*te.last_lit+1]=255&pe,te.pending_buf[te.l_buf+te.last_lit]=255&Pe,te.last_lit++,pe===0?te.dyn_ltree[2*Pe]++:(te.matches++,pe--,te.dyn_ltree[2*(M[Pe]+g+1)]++,te.dyn_dtree[2*K(pe)]++),te.last_lit===te.lit_bufsize-1},i._tr_align=function(te){be(te,2,3),xe(te,R,Q),function(pe){pe.bi_valid===16?(Ne(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(te)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(l){(function(u,d){if(!u.setImmediate){var h,m,y,g,E=1,_={},k=!1,x=u.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(u);b=b&&b.setTimeout?b:u,h={}.toString.call(u.process)==="[object process]"?function(D){process.nextTick(function(){j(D)})}:function(){if(u.postMessage&&!u.importScripts){var D=!0,B=u.onmessage;return u.onmessage=function(){D=!1},u.postMessage("","*"),u.onmessage=B,D}}()?(g="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",R,!1):u.attachEvent("onmessage",R),function(D){u.postMessage(g+D,"*")}):u.MessageChannel?((y=new MessageChannel).port1.onmessage=function(D){j(D.data)},function(D){y.port2.postMessage(D)}):x&&"onreadystatechange"in x.createElement("script")?(m=x.documentElement,function(D){var B=x.createElement("script");B.onreadystatechange=function(){j(D),B.onreadystatechange=null,m.removeChild(B),B=null},m.appendChild(B)}):function(D){setTimeout(j,0,D)},b.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var B=new Array(arguments.length-1),q=0;q<B.length;q++)B[q]=arguments[q+1];var G={callback:D,args:B};return _[E]=G,h(E),E++},b.clearImmediate=S}function S(D){delete _[D]}function j(D){if(k)setTimeout(j,0,D);else{var B=_[D];if(B){k=!0;try{(function(q){var G=q.callback,J=q.args;switch(J.length){case 0:G();break;case 1:G(J[0]);break;case 2:G(J[0],J[1]);break;case 3:G(J[0],J[1],J[2]);break;default:G.apply(d,J)}})(B)}finally{S(D),k=!1}}}}function R(D){D.source===u&&typeof D.data=="string"&&D.data.indexOf(g)===0&&j(+D.data.slice(g.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(py)),py.exports}mZ();const gZ=30023,yZ="dead-drop-lockers@v1",y1="Dead Drop Lockers Source Snapshot";function vZ(){const e=T.useRef(null),[t,n]=T.useState(null),r=_C(),i=Jx(),l=d=>{var m;const h=((m=d.target.files)==null?void 0:m[0])??null;n(h)},u=async()=>{if(t)try{const d=await r.mutateAsync(t);await i.mutateAsync({kind:gZ,content:`${y1}: snapshot uploaded`,tags:[["d",yZ],["title",y1],["t","code-snapshot"],...d]}),alert("Snapshot published to Nostr")}catch(d){alert("Upload or publish failed: "+d.message)}};return c.jsxs("div",{className:"p-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Publish Snapshot to Nostr"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a zip of your project locally and upload it here to publish a Nostr snapshot event."}),c.jsx("input",{type:"file",ref:e,onChange:l,accept:".zip"}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{className:"btn",onClick:u,disabled:!t,children:"Upload & Publish"})})]})}function xZ(e,t={},n){e.use(_A);function r(u){if(u._flatMeta)return u;const{title:d,titleTemplate:h,...m}=u||{};return{title:d,titleTemplate:h,_flatMeta:m}}const i=e.push(r(t),n),l=i.patch;return i.__patched||(i.patch=u=>l(r(u)),i.__patched=!0),i}function wZ(){const e=T.useContext(Q1);if(!e)throw new Error("useHead() was called without provide context.");return e}function _Z(e,t,n){const r=t.head||wZ(),[i]=T.useState(()=>n(r,e,t));return T.useEffect(()=>{i.patch(e)},[e]),T.useEffect(()=>()=>{i.dispose()},[]),i}function Ds(e={},t={}){return _Z(e,t,xZ)}const bZ=[{id:"rental-1",lockerId:"locker-sf-001",lockerName:"Mission District Secure Box",address:"2490 Mission St, San Francisco, CA 94110",accessCode:"A7B9C2",startTime:new Date(Date.now()-36e5*2),endTime:new Date(Date.now()+36e5*22),totalHours:24,hourlyRate:500,totalPaid:12e3,status:"active",demandLevel:"high"},{id:"rental-2",lockerId:"locker-sea-001",lockerName:"Capitol Hill Tech Hub",address:"123 Pine St, Seattle, WA 98101",accessCode:"D4E8F1",startTime:new Date(Date.now()-36e5*48),endTime:new Date(Date.now()+36e5*24),totalHours:72,hourlyRate:400,totalPaid:28800,status:"active",demandLevel:"medium"}],EZ=[{id:"rental-0",lockerName:"Brooklyn Heights Drop",startTime:new Date(Date.now()-864e5*7),endTime:new Date(Date.now()-864e5*6),totalPaid:18e3,status:"completed"}];function kZ(){Ds({title:"My Rentals - DeadDropstr"});const{toast:e}=sl(),[t,n]=T.useState(bZ),[r,i]=T.useState(null),[l,u]=T.useState(!1),[d,h]=T.useState(!1),[m,y]=T.useState(12),g=x=>{const b=x.getTime()-Date.now();if(b<=0)return{hours:0,minutes:0,expired:!0};const S=Math.floor(b/36e5),j=Math.floor(b%36e5/6e4);return{hours:S,minutes:j,expired:!1}},E=x=>{const b=g(x.endTime),S=b.hours+b.minutes/60,j=Math.ceil(S),R=j*x.hourlyRate,B={low:.9,medium:.75,high:.5}[x.demandLevel]||.75,q=Math.floor(R*B);return{unusedHours:j,unusedValue:R,refundAmount:q,refundRate:B}},_=()=>{if(!r)return;const x=m*r.hourlyRate;n(t.map(b=>b.id===r.id?{...b,endTime:new Date(b.endTime.getTime()+m*36e5)}:b)),e({title:"Rental Extended",description:`Added ${m} hours for ${x.toLocaleString()} sats`}),u(!1),i(null)},k=()=>{if(!r)return;const{refundAmount:x}=E(r);n(t.filter(b=>b.id!==r.id)),e({title:"Locker Released",description:x>0?`${x.toLocaleString()} sats refunded`:"No refund - high demand area"}),h(!1),i(null)};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[c.jsxs("header",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"My Lockers"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your active rentals"})]}),c.jsxs("div",{className:"space-y-4 mb-8",children:[c.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[c.jsx(uS,{className:"h-5 w-5"}),"Active Rentals (",t.length,")"]}),t.length===0?c.jsx(rt,{className:"border-dashed",children:c.jsxs(it,{className:"py-8 text-center text-muted-foreground",children:[c.jsx(Hi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No active rentals"}),c.jsx($e,{asChild:!0,className:"mt-4",children:c.jsx(Jt,{to:"/marketplace",children:"Find a Locker"})})]})}):t.map(x=>{const b=g(x.endTime),S=(x.totalHours-(b.hours+b.minutes/60))/x.totalHours*100;return c.jsxs(rt,{className:b.hours<4?"border-orange-500/50":"",children:[c.jsx(mt,{children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx(vt,{className:"text-lg",children:x.lockerName}),c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[c.jsx(ol,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:x.address})]})]}),c.jsx(yt,{variant:b.hours<4?"destructive":"default",children:b.expired?"Expired":`${b.hours}h ${b.minutes}m left`})]})}),c.jsxs(it,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Time elapsed"}),c.jsxs("span",{className:"font-medium",children:[Math.round(S),"%"]})]}),c.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${S}%`}})})]}),c.jsxs("div",{className:"bg-black text-white p-4 rounded-lg",children:[c.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Access Code"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-mono text-2xl tracking-[0.3em]",children:x.accessCode}),c.jsx($e,{size:"sm",variant:"ghost",className:"text-white hover:text-white/80",onClick:()=>{navigator.clipboard.writeText(x.accessCode),e({title:"Code copied"})},children:"Copy"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Demand:"}),c.jsx(yt,{variant:x.demandLevel==="high"?"destructive":"secondary",className:"text-xs",children:x.demandLevel}),x.demandLevel==="high"&&c.jsx("span",{className:"text-xs text-muted-foreground",children:"(Early release = 50% refund)"})]})]}),c.jsxs(Da,{className:"flex gap-2",children:[c.jsxs($e,{variant:"outline",className:"flex-1",onClick:()=>{i(x),u(!0)},children:[c.jsx(d6,{className:"h-4 w-4 mr-2"}),"Add Time"]}),c.jsxs($e,{variant:"outline",className:"flex-1",onClick:()=>{i(x),h(!0)},children:[c.jsx(c6,{className:"h-4 w-4 mr-2"}),"Release Early"]})]})]},x.id)})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"History"}),EZ.map(x=>c.jsx(rt,{className:"opacity-60",children:c.jsxs(it,{className:"p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:x.lockerName}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.startTime.toLocaleDateString()," - ",x.endTime.toLocaleDateString()]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx(yt,{variant:"outline",children:"Completed"}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[x.totalPaid.toLocaleString()," sats"]})]})]})},x.id))]})]}),c.jsx(zc,{open:l,onOpenChange:u,children:c.jsxs(rl,{children:[c.jsxs(Dc,{children:[c.jsx(md,{children:"Add Time"}),c.jsxs(ip,{children:["Extend your rental for ",r==null?void 0:r.lockerName]})]}),c.jsxs("div",{className:"space-y-6 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(un,{children:["Additional Hours: ",m]}),c.jsx("input",{type:"range",min:"1",max:"72",value:m,onChange:x=>y(parseInt(x.target.value)),className:"w-full"}),c.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[c.jsx("span",{children:"1 hour"}),c.jsx("span",{children:"3 days"})]})]}),c.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Rate"}),c.jsxs("span",{children:[r==null?void 0:r.hourlyRate," sats/hr"]})]}),c.jsx(ys,{}),c.jsxs("div",{className:"flex justify-between font-bold",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:[(m*((r==null?void 0:r.hourlyRate)||0)).toLocaleString()," sats"]})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx($e,{variant:"outline",className:"flex-1",onClick:()=>u(!1),children:"Cancel"}),c.jsxs($e,{className:"flex-1",onClick:_,children:[c.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Pay & Extend"]})]})]})}),c.jsx(zc,{open:d,onOpenChange:h,children:c.jsxs(rl,{children:[c.jsxs(Dc,{children:[c.jsx(md,{children:"Release Locker Early"}),c.jsx(ip,{children:"Return this locker to the pool and receive a partial refund"})]}),r&&c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsx("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:(()=>{const{unusedHours:x,unusedValue:b,refundAmount:S,refundRate:j}=E(r);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Unused time"}),c.jsxs("span",{children:["~",x," hours"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Unused value"}),c.jsxs("span",{children:[b.toLocaleString()," sats"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Refund rate"}),c.jsxs("span",{children:[Math.round(j*100),"% (",r.demandLevel," demand)"]})]}),c.jsx(ys,{}),c.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[c.jsx("span",{children:"Your refund"}),c.jsxs("span",{className:"text-green-600",children:[S.toLocaleString()," sats"]})]})]})})()}),r.demandLevel==="high"&&c.jsxs("div",{className:"bg-orange-50 border border-orange-200 p-3 rounded-lg flex items-start gap-2",children:[c.jsx(fS,{className:"h-5 w-5 text-orange-600 shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm text-orange-800",children:"This is a high-demand area. Early release refunds are limited to 50% to maintain locker availability for others."})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"The access code will be deactivated immediately. Make sure you've retrieved your items."})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx($e,{variant:"outline",className:"flex-1",onClick:()=>h(!1),children:"Keep Rental"}),c.jsxs($e,{variant:"destructive",className:"flex-1",onClick:k,children:[c.jsx(f6,{className:"h-4 w-4 mr-2"}),"Release & Refund"]})]})]})})]})}function SZ(){return Ds({title:"Using a Proxy - DeadDropstr"}),c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"container mx-auto p-4 max-w-2xl",children:[c.jsxs("header",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Using a Proxy"}),c.jsx("p",{className:"text-muted-foreground",children:"Have someone else handle your locker drop"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs(rt,{children:[c.jsxs(mt,{children:[c.jsx(vt,{children:"What is a Proxy?"}),c.jsx(tn,{children:"A paid service to handle your locker drop"})]}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-muted-foreground",children:"A proxy receives your package and places it in a locker for a fee. This is useful when you can't be there in person."}),c.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[c.jsx("p",{className:"font-medium mb-2",children:"Typical proxy fees:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[c.jsx("li",{children:"Locker owner proxy: 5,000 - 15,000 sats per drop"}),c.jsx("li",{children:"Courier service: 10,000 - 50,000 sats per drop"}),c.jsx("li",{children:"Friend/acquaintance: Whatever you agree on"})]})]})]})]}),c.jsxs(rt,{children:[c.jsx(mt,{children:c.jsx(vt,{children:"How It Works"})}),c.jsxs(it,{className:"space-y-6",children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center shrink-0 font-bold text-primary",children:"1"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Rent the locker"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Go to the marketplace and rent a locker for the time you need"})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center shrink-0 font-bold text-primary",children:"2"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Ship to the locker address"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Send your package to the locker location (or have your vendor ship there)"})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center shrink-0 font-bold text-primary",children:"3"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Pay the proxy fee"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Send sats via Lightning (usually upfront, sometimes half now/half after)"})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center shrink-0 font-bold text-primary",children:"4"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Message your proxy the code"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Send them the locker access code via Nostr DM (or any secure chat)"})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center shrink-0 font-bold text-primary",children:"5"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"They drop it off"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"The proxy uses the code to open the locker and places the item inside"})]})]})]})]}),c.jsxs(rt,{children:[c.jsx(mt,{children:c.jsx(vt,{children:"Tell the Recipient"})}),c.jsxs(it,{children:[c.jsx("p",{className:"text-muted-foreground mb-4",children:"Once the item is in the locker, message the recipient their pickup code. They can then collect it whenever they're ready."}),c.jsx($e,{asChild:!0,className:"w-full",children:c.jsxs(Jt,{to:"/messages",children:[c.jsx(wx,{className:"h-4 w-4 mr-2"}),"Open Messages"]})})]})]}),c.jsxs(rt,{className:"bg-muted/50",children:[c.jsx(mt,{children:c.jsx(vt,{children:"That's It"})}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-muted-foreground",children:"No special systems needed. Just rent a locker and share the codes with whoever needs them via secure message."}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx($e,{asChild:!0,variant:"outline",className:"flex-1",children:c.jsxs(Jt,{to:"/marketplace",children:[c.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Find a Locker"]})}),c.jsx($e,{asChild:!0,className:"flex-1",children:c.jsxs(Jt,{to:"/my-lockers",children:[c.jsx(Kh,{className:"h-4 w-4 mr-2"}),"My Lockers"]})})]})]})]})]})]})})}function NZ(){return Ds({title:"Hardware Architecture - DeadDropstr",description:"Modular open hardware standard for smart lockers"}),c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[c.jsxs("header",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Modular Hardware Architecture"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"One controller. Many locks. Infinite configurations."})]}),c.jsxs(rt,{className:"mb-6",children:[c.jsxs(mt,{children:[c.jsx(vt,{children:"The Separation Principle"}),c.jsx(tn,{children:"Intelligence and actuation are separate"})]}),c.jsx(it,{children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center shrink-0",children:c.jsx(Ya,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Master Controller"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"ESP32-S3, secure element, display, keypad, NFC. One per installation."})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-muted rounded-lg flex items-center justify-center shrink-0",children:c.jsx(rc,{className:"h-5 w-5 text-muted-foreground"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Lock Modules"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Simple actuators (solenoid, motor, electromagnetic). Many per installation."})]})]})]}),c.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[c.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Example: 4-Drawer Filing Cabinet"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"bg-primary/20 border border-primary/30 p-3 rounded text-center",children:[c.jsx(Ya,{className:"h-4 w-4 inline mr-2"}),c.jsx("span",{className:"text-sm font-medium",children:"Controller"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Screen  Keypad  NFC  Signer"})]}),c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"w-0.5 h-4 bg-muted-foreground/30"})}),c.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"RS-485 Bus"}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:[1,2,3,4].map(e=>c.jsxs("div",{className:"bg-muted border p-2 rounded text-center",children:[c.jsx(rc,{className:"h-3 w-3 mx-auto mb-1"}),c.jsxs("span",{className:"text-xs",children:["Lock ",e]})]},e))})]})]})]})})]}),c.jsxs(rt,{className:"mb-6",children:[c.jsxs(mt,{children:[c.jsx(vt,{children:"Master Controller Unit"}),c.jsx(tn,{children:"The brain of the operation"})]}),c.jsxs(it,{children:[c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"font-medium flex items-center gap-2",children:[c.jsx(Ya,{className:"h-4 w-4"})," Compute"]}),c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsx("li",{children:" ESP32-S3 (dual core)"}),c.jsx("li",{children:" 8MB PSRAM"}),c.jsx("li",{children:" 16MB Flash"}),c.jsx("li",{children:" ATECC608A secure element"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"font-medium flex items-center gap-2",children:[c.jsx(dS,{className:"h-4 w-4"})," Connectivity"]}),c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsx("li",{children:" WiFi 6"}),c.jsx("li",{children:" Optional 4G (SIM7600)"}),c.jsx("li",{children:" Optional LoRa"}),c.jsx("li",{children:" RS-485 to locks"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"font-medium flex items-center gap-2",children:[c.jsx(a6,{className:"h-4 w-4"})," Interfaces"]}),c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsx("li",{children:' 1.28" round LCD'}),c.jsx("li",{children:" 4x4 keypad"}),c.jsx("li",{children:" NFC/RFID (PN532)"}),c.jsx("li",{children:" RS-485 bus"})]})]})]}),c.jsx("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.jsx("strong",{children:"Cost:"})," ~$38 for PCB + components. ~$50-100 with enclosure, PSU, battery."]})})]})]}),c.jsxs(rt,{className:"mb-6",children:[c.jsxs(mt,{children:[c.jsx(vt,{children:"Lock Module Options"}),c.jsx(tn,{children:"Choose the right actuator for your use case"})]}),c.jsx(it,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-4 p-3 border rounded-lg",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center shrink-0",children:c.jsx(rc,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-medium",children:"Solenoid Bolt"}),c.jsx(yt,{variant:"secondary",children:"~$8"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Light-duty drawers and cabinets. Spring-return locked without power."}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Power: 12V 0.5A  Control: RS-485  Feedback: Microswitch"})]})]}),c.jsxs("div",{className:"flex items-start gap-4 p-3 border rounded-lg",children:[c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center shrink-0",children:c.jsx(rc,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-medium",children:"Motorized Deadbolt"}),c.jsx(yt,{variant:"secondary",children:"~$25"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Heavy drawers, lockers, doors. Battery backup required."}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Power: 12V 1A  Control: RS-485 + H-bridge  Feedback: Hall sensor"})]})]}),c.jsxs("div",{className:"flex items-start gap-4 p-3 border rounded-lg",children:[c.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center shrink-0",children:c.jsx(rc,{className:"h-6 w-6 text-amber-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-medium",children:"Electromagnetic"}),c.jsx(yt,{variant:"secondary",children:"~$15"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Filing cabinets, metal enclosures. Continuous power when unlocked."}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Power: 12V 0.3A continuous  Control: RS-485  Feedback: Current sense"})]})]}),c.jsxs("div",{className:"flex items-start gap-4 p-3 border rounded-lg",children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center shrink-0",children:c.jsx(Ch,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-medium",children:"Smart Padlock (Retrofit)"}),c.jsx(yt,{variant:"secondary",children:"~$40"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Existing lockers, bikes, gates. Wireless connection."}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Power: Internal LiPo  Control: BLE or 433MHz  Manual key override"})]})]})]})})]}),c.jsxs(rt,{className:"mb-6",children:[c.jsx(mt,{children:c.jsx(vt,{children:"Example Configurations"})}),c.jsx(it,{children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"p-4 border rounded-lg",children:[c.jsx("p",{className:"font-medium mb-2",children:"4-Drawer Filing Cabinet"}),c.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[c.jsx("p",{children:" 1x Controller ($38)"}),c.jsx("p",{children:" 4x Solenoid locks ($32)"}),c.jsx("p",{children:" Enclosure + PSU ($50)"}),c.jsx("p",{className:"font-medium text-primary",children:"Total: ~$120"})]})]}),c.jsxs("div",{className:"p-4 border rounded-lg",children:[c.jsx("p",{className:"font-medium mb-2",children:"8-Unit Locker Bank"}),c.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[c.jsx("p",{children:" 1x Controller + 4G ($60)"}),c.jsx("p",{children:" 8x Motorized locks ($200)"}),c.jsx("p",{children:" Metal enclosures ($150)"}),c.jsx("p",{className:"font-medium text-primary",children:"Total: ~$410"})]})]}),c.jsxs("div",{className:"p-4 border rounded-lg",children:[c.jsx("p",{className:"font-medium mb-2",children:"Outdoor Secure Box"}),c.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[c.jsx("p",{children:" Integrated controller ($80)"}),c.jsx("p",{children:" Steel enclosure + deadbolt ($150)"}),c.jsx("p",{children:" Solar + battery ($80)"}),c.jsx("p",{className:"font-medium text-primary",children:"Total: ~$310"})]})]})]})})]}),c.jsxs(rt,{className:"mb-6",children:[c.jsxs(mt,{children:[c.jsx(vt,{children:"Communication Protocol"}),c.jsx(tn,{children:"RS-485 bus for reliable multi-drop"})]}),c.jsxs(it,{children:[c.jsxs("div",{className:"bg-muted p-4 rounded-lg font-mono text-sm",children:[c.jsx("p",{className:"text-muted-foreground mb-2",children:"// Example: Unlock locker #3"}),c.jsx("p",{children:"[START] [0x03] [0x01] [0x00] [CRC] [END]"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"// Lock responds"}),c.jsx("p",{children:"[ACK] [0x03] [STATUS_LOCKED]"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Wiring"}),c.jsx("p",{className:"text-muted-foreground",children:"4-wire bus: +12V, GND, A, B"}),c.jsx("p",{className:"text-muted-foreground",children:"Daisy-chain up to 32 locks"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Range"}),c.jsx("p",{className:"text-muted-foreground",children:"1200 meters max"}),c.jsx("p",{className:"text-muted-foreground",children:"Addresses 1-255"})]})]})]})]}),c.jsxs(rt,{className:"mb-6",children:[c.jsx(mt,{children:c.jsx(vt,{children:"Security Features"})}),c.jsx(it,{children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ns,{className:"h-5 w-5 text-primary shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Offline Validation"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Codes validated locally using secure element. No cloud dependency."})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ns,{className:"h-5 w-5 text-primary shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Signed Access Logs"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Every access cryptographically signed by device key. Tamper-evident."})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ns,{className:"h-5 w-5 text-primary shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Tamper Detection"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Accelerometer, case switches, vibration sensors. Alerts logged and uploaded."})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ns,{className:"h-5 w-5 text-primary shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Encrypted Bus"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"RS-485 communication encrypted. Snooping wires reveals nothing."})]})]})]})})]}),c.jsxs(rt,{className:"mb-6",children:[c.jsx(mt,{children:c.jsx(vt,{children:"Power Options"})}),c.jsx(it,{children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Cs,{className:"h-4 w-4"}),c.jsx("p",{className:"font-medium",children:"Mains Powered"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"12V PSU + battery backup. Indoor use."})]}),c.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Cs,{className:"h-4 w-4"}),c.jsx("p",{className:"font-medium",children:"Solar"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"50W panel + 20Ah LiFePO4. 3 days autonomy."})]}),c.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Cs,{className:"h-4 w-4"}),c.jsx("p",{className:"font-medium",children:"Battery Only"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"12V 10Ah pack. 1-2 weeks typical use."})]})]})})]}),c.jsx("div",{className:"text-center text-sm text-muted-foreground",children:c.jsxs("p",{children:["Full specs, schematics, and firmware at"," ",c.jsx("a",{href:"https://github.com/PlutarchsEcho/deaddrop-hardware",className:"text-primary hover:underline",children:"github.com/PlutarchsEcho/deaddrop-hardware"})]})})]})})}function CZ(){return Ds({title:"Starter Pack - DeadDropstr",description:"Build a locker for $25. Bare minimum MVP for maximum geographic reach."}),c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[c.jsxs("header",{className:"text-center mb-12",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium mb-4",children:[c.jsx(rv,{className:"h-4 w-4"}),"Sub-$30 Controller"]}),c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"The Starter Pack"}),c.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Bare bones. Field-upgradable. Maximum geographic reach for minimum cost."})]}),c.jsxs(rt,{className:"mb-8",children:[c.jsxs(mt,{children:[c.jsx(vt,{children:"The Trade-offs"}),c.jsx(tn,{children:"What you give up, what you keep"})]}),c.jsx(it,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left py-2",children:"Feature"}),c.jsx("th",{className:"text-left py-2",children:"Full System"}),c.jsx("th",{className:"text-left py-2 text-primary",children:"Starter Pack"})]})}),c.jsxs("tbody",{className:"text-muted-foreground",children:[c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-2",children:"Display"}),c.jsx("td",{children:'1.28" LCD ($8)'}),c.jsx("td",{className:"text-primary",children:"RGB LED + beeps ($1)"})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-2",children:"Input"}),c.jsx("td",{children:"Keypad + NFC ($8)"}),c.jsx("td",{className:"text-primary",children:"NFC only ($3)"})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-2",children:"Secure Element"}),c.jsx("td",{children:"ATECC608A ($1)"}),c.jsx("td",{className:"text-primary",children:"Flash encrypt ($0)"})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-2",children:"Connectivity"}),c.jsx("td",{children:"WiFi + 4G ($15)"}),c.jsx("td",{className:"text-primary",children:"WiFi only ($0)"})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-2",children:"Power"}),c.jsx("td",{children:"12V PSU + battery ($20)"}),c.jsx("td",{className:"text-primary",children:"USB power bank (BYO)"})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-2",children:"Enclosure"}),c.jsx("td",{children:"Custom ($50+)"}),c.jsx("td",{className:"text-primary",children:"Repurposed ($0)"})]}),c.jsxs("tr",{className:"font-bold",children:[c.jsx("td",{className:"py-2",children:"Controller"}),c.jsx("td",{children:"~$38"}),c.jsx("td",{className:"text-primary",children:"~$12"})]}),c.jsxs("tr",{className:"font-bold text-lg",children:[c.jsx("td",{className:"py-2",children:"Total Build"}),c.jsx("td",{children:"~$100-150"}),c.jsx("td",{className:"text-primary",children:"~$20-40"})]})]})]})})})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[c.jsxs(rt,{children:[c.jsx(mt,{children:c.jsx(vt,{className:"text-base",children:"Starter Controller ($12)"})}),c.jsx(it,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ya,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"ESP32-C3 ($3)"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Single-core, WiFi/BLE, 4MB flash"}),c.jsx("a",{href:"https://www.amazon.com/s?k=esp32-c3-devkit",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",children:"Amazon "})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dS,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"NFC Reader PN532 ($3)"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Only input method. No keypad."}),c.jsx("a",{href:"https://www.amazon.com/s?k=pn532+nfc+module",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",children:"Amazon "})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Cs,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Relay Module ($3)"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct lock control. No RS-485 bus."}),c.jsx("a",{href:"https://www.amazon.com/s?k=5v+relay+module+dual",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",children:"Amazon "})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ch,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"12V Solenoid ($8)"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Cabinet lock or drawer bolt."}),c.jsx("a",{href:"https://www.amazon.com/s?k=12v+solenoid+lock+electronic",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",children:"Amazon "})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Cs,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Power Bank (BYO)"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Any USB power bank you have."}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Or buy: 10000mAh Anker ~$15"})]})]})]})})]}),c.jsxs(rt,{className:"bg-primary/5 border-primary/20",children:[c.jsx(mt,{children:c.jsx(vt,{className:"text-base",children:"What You Keep"})}),c.jsx(it,{children:c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yt,{variant:"default",className:"text-xs",children:""}),c.jsx("span",{children:"Full network compatibility"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yt,{variant:"default",className:"text-xs",children:""}),c.jsx("span",{children:"Nostr event processing"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yt,{variant:"default",className:"text-xs",children:""}),c.jsx("span",{children:"NFC tap-to-unlock"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yt,{variant:"default",className:"text-xs",children:""}),c.jsx("span",{children:"Phone app control (BLE)"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yt,{variant:"default",className:"text-xs",children:""}),c.jsx("span",{children:"Lightning payments"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yt,{variant:"default",className:"text-xs",children:""}),c.jsx("span",{children:"Access logging to SD"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yt,{variant:"default",className:"text-xs",children:""}),c.jsx("span",{children:"Field-upgradable"})]})]})})]})]}),c.jsx("h2",{className:"text-2xl font-bold mb-6",children:"3 Build Options"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[c.jsxs(rt,{children:[c.jsxs(mt,{children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-2",children:c.jsx(Ch,{className:"h-6 w-6 text-blue-600"})}),c.jsx(vt,{children:"Toolbox Retrofit"}),c.jsx(yt,{variant:"secondary",className:"w-fit",children:"~$25 total"})]}),c.jsxs(it,{className:"space-y-3",children:[c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsx("li",{children:" Plastic toolbox ($10)"}),c.jsx("li",{children:" Starter controller ($12)"}),c.jsx("li",{children:" 12V solenoid ($8)"}),c.jsx("li",{children:" USB power bank (BYO)"}),c.jsx("li",{children:" 30 minute build"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Weather-resistant, portable, perfect for testing."})]})]}),c.jsxs(rt,{children:[c.jsxs(mt,{children:[c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-2",children:c.jsx(rc,{className:"h-6 w-6 text-green-600"})}),c.jsx(vt,{children:"Ammo Can Special"}),c.jsx(yt,{variant:"secondary",className:"w-fit",children:"~$35 total"})]}),c.jsxs(it,{className:"space-y-3",children:[c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsx("li",{children:" Metal ammo can ($15)"}),c.jsx("li",{children:" Starter controller ($12)"}),c.jsx("li",{children:" Cabinet lock ($15)"}),c.jsx("li",{children:" Weatherproof USB ($3)"}),c.jsx("li",{children:" Mil-spec rugged"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Outdoor rated, tamper-resistant, long life."})]})]}),c.jsxs(rt,{children:[c.jsxs(mt,{children:[c.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center mb-2",children:c.jsx(Ch,{className:"h-6 w-6 text-amber-600"})}),c.jsx(vt,{children:"Drawer Retrofit"}),c.jsx(yt,{variant:"secondary",className:"w-fit",children:"~$20 total"})]}),c.jsxs(it,{className:"space-y-3",children:[c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsx("li",{children:" Existing drawer ($0)"}),c.jsx("li",{children:" Starter controller ($12)"}),c.jsx("li",{children:" 12V solenoid ($8)"}),c.jsx("li",{children:" USB charger (BYO)"}),c.jsx("li",{children:" Indoor only"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Invisible installation, cheapest option, home use."})]})]})]}),c.jsxs(rt,{className:"mb-8",children:[c.jsxs(mt,{children:[c.jsx(vt,{children:"Upgrade Path"}),c.jsx(tn,{children:"Start cheap. Grow as needed."})]}),c.jsx(it,{children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"font-medium",children:"Incremental Upgrades"}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(mh,{className:"h-4 w-4"}),c.jsx("span",{children:"Add keypad ($5)  Flash new firmware"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(mh,{className:"h-4 w-4"}),c.jsx("span",{children:"Add screen ($8)  Full UI"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(mh,{className:"h-4 w-4"}),c.jsx("span",{children:"Add RS-485 ($2)  Multi-lock support"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(mh,{className:"h-4 w-4"}),c.jsx("span",{children:"Add 4G module ($15)  No WiFi needed"})]})]}),c.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[c.jsx("p",{className:"font-medium mb-2",children:"Or Swap Controller"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Replace starter controller with full version ($38) and keep all wiring, locks, and enclosure. Zero waste."})]})]})})]}),c.jsxs(rt,{className:"bg-primary/5 border-primary/20 mb-8",children:[c.jsx(mt,{children:c.jsx(vt,{children:"Fully Network Compatible"})}),c.jsxs(it,{children:[c.jsx("p",{className:"text-muted-foreground mb-4",children:"Starters work with the full DeadDropstr ecosystem:"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yt,{variant:"default",className:"text-xs",children:""}),c.jsx("span",{children:"Same Nostr events"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yt,{variant:"default",className:"text-xs",children:""}),c.jsx("span",{children:"Same marketplace listing"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yt,{variant:"default",className:"text-xs",children:""}),c.jsx("span",{children:"Same Lightning payments"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yt,{variant:"default",className:"text-xs",children:""}),c.jsx("span",{children:"Proxy service compatible"})]})]})]})]}),c.jsxs(rt,{className:"mb-8",children:[c.jsxs(mt,{children:[c.jsx(vt,{children:"Get the Parts"}),c.jsx(tn,{children:"Verified sources. Prices fluctuate, shop around."})]}),c.jsxs(it,{children:[c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"border rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("p",{className:"font-medium",children:"ESP32-C3 DevKit"}),c.jsx(yt,{children:"~$3"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"ESP32-C3-DevKitM-1 or NodeMCU-C3"}),c.jsx("div",{className:"flex gap-2",children:c.jsx($e,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:()=>window.open("https://www.aliexpress.com/wholesale?SearchText=esp32-c3-devkit","_blank"),children:"AliExpress"})})]}),c.jsxs("div",{className:"border rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("p",{className:"font-medium",children:"PN532 NFC Module"}),c.jsx(yt,{children:"~$3"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"I2C interface, with antenna"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx($e,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:()=>window.open("https://www.amazon.com/s?k=pn532+nfc+module","_blank"),children:"Amazon"}),c.jsx($e,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:()=>window.open("https://www.aliexpress.com/wholesale?SearchText=pn532+module","_blank"),children:"AliExpress"})]})]}),c.jsxs("div",{className:"border rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("p",{className:"font-medium",children:"5V Relay Module"}),c.jsx(yt,{children:"~$3"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"2-channel or 4-channel, opto-isolated"}),c.jsx("div",{className:"flex gap-2",children:c.jsx($e,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:()=>window.open("https://www.amazon.com/s?k=5v+relay+module","_blank"),children:"Amazon"})})]}),c.jsxs("div",{className:"border rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("p",{className:"font-medium",children:"12V Solenoid Lock"}),c.jsx(yt,{children:"~$8"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Fail-secure, cabinet/drawer size"}),c.jsx("div",{className:"flex gap-2",children:c.jsx($e,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:()=>window.open("https://www.aliexpress.com/wholesale?SearchText=12v+solenoid+lock","_blank"),children:"AliExpress"})})]}),c.jsxs("div",{className:"border rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("p",{className:"font-medium",children:"Ammo Can"}),c.jsx(yt,{children:"~$15"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Fat 50 or .50 cal surplus"}),c.jsx("div",{className:"flex gap-2",children:c.jsx($e,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:()=>window.open("https://www.amazon.com/s?k=ammo+can+fat+50","_blank"),children:"Amazon"})})]}),c.jsxs("div",{className:"border rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("p",{className:"font-medium",children:"USB Power Bank"}),c.jsx(yt,{children:"BYO"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Any 5V 2A+ power bank you have"}),c.jsx("div",{className:"flex gap-2",children:c.jsx($e,{size:"sm",variant:"outline",className:"flex-1 text-xs",disabled:!0,children:"Repurpose Yours"})})]})]}),c.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg text-sm text-muted-foreground",children:[c.jsx("p",{className:"font-medium text-foreground mb-2",children:" Note on Sources"}),c.jsx("p",{children:"Prices and availability vary by region. These are common sources, but you may find better deals locally. Check electronics distributors (DigiKey, Mouser) for bulk orders."})]})]})]}),c.jsxs(rt,{className:"mb-8",children:[c.jsxs(mt,{children:[c.jsx(vt,{children:"Community Verified Sources"}),c.jsx(tn,{children:"Regional suppliers discovered by the community"})]}),c.jsxs(it,{children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left py-2",children:"Region"}),c.jsx("th",{className:"text-left py-2",children:"Supplier"}),c.jsx("th",{className:"text-left py-2",children:"Good For"}),c.jsx("th",{className:"text-left py-2",children:"Verified"})]})}),c.jsxs("tbody",{className:"text-muted-foreground",children:[c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-2",children:"Global"}),c.jsx("td",{className:"py-2",children:"AliExpress"}),c.jsx("td",{className:"py-2",children:"Everything"}),c.jsx("td",{className:"py-2",children:""})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-2",children:"US"}),c.jsx("td",{className:"py-2",children:"Amazon, Adafruit"}),c.jsx("td",{className:"py-2",children:"NFC, Relays"}),c.jsx("td",{className:"py-2",children:"@plutarch"})]})]})]})}),c.jsx("div",{className:"mt-4 p-4 bg-primary/5 border border-primary/20 rounded-lg",children:c.jsxs("p",{className:"text-sm",children:[c.jsx("strong",{children:"Know a good source?"})," Submit a PR to the repo with your regional supplier and we'll add it to help others in your area."]})})]})]}),c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-xl font-bold",children:'"Start with $25. Grow with your needs."'}),c.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"The starter pack proves the model. Once you have lockers in an area, demand justifies upgrading to full features. The network grows organically from the bottom up."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[c.jsxs($e,{size:"lg",onClick:()=>window.open("https://github.com/PlutarchsEcho/nostr-dead-drop-lockers/blob/main/STARTER_PACK.md","_blank"),children:[c.jsx(rv,{className:"h-4 w-4 mr-2"}),"Get the Full BOM"]}),c.jsxs($e,{size:"lg",variant:"outline",onClick:()=>window.open("https://github.com/PlutarchsEcho/nostr-dead-drop-lockers/discussions","_blank"),children:[c.jsx(ol,{className:"h-4 w-4 mr-2"}),"Share Your Build"]})]})]}),c.jsxs(rt,{className:"mb-8",children:[c.jsxs(mt,{children:[c.jsx(vt,{children:"Community Verified Sources"}),c.jsx(tn,{children:"Real parts that builders have used successfully"})]}),c.jsxs(it,{children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left py-2",children:"Region"}),c.jsx("th",{className:"text-left py-2",children:"Store"}),c.jsx("th",{className:"text-left py-2",children:"Part"}),c.jsx("th",{className:"text-left py-2",children:"Cost"}),c.jsx("th",{className:"text-left py-2",children:"Verified"})]})}),c.jsxs("tbody",{className:"text-muted-foreground",children:[c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-2",children:" US"}),c.jsx("td",{children:"Amazon"}),c.jsx("td",{children:"ESP32-C3 DevKit"}),c.jsx("td",{children:"$3.50"}),c.jsx("td",{className:"text-xs",children:"@Plutarch"})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-2",children:" US"}),c.jsx("td",{children:"Amazon"}),c.jsx("td",{children:"PN532 NFC Module"}),c.jsx("td",{children:"$3.20"}),c.jsx("td",{className:"text-xs",children:"@Plutarch"})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-2",children:" EU"}),c.jsx("td",{children:"AliExpress"}),c.jsx("td",{children:"12V Solenoid Lock"}),c.jsx("td",{children:"6.80"}),c.jsx("td",{className:"text-xs italic",children:"Need verification"})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-2",children:" UK"}),c.jsx("td",{children:"Pimoroni"}),c.jsx("td",{children:"ESP32-C3"}),c.jsx("td",{children:"4.50"}),c.jsx("td",{className:"text-xs italic",children:"Need verification"})]})]})]})}),c.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg text-sm",children:[c.jsx("p",{className:"font-medium mb-1",children:"Add your source"}),c.jsxs("p",{className:"text-muted-foreground",children:["Built one? Found a good supplier? Submit the details via"," ",c.jsx("a",{href:"https://github.com/PlutarchsEcho/nostr-dead-drop-lockers/issues/new",className:"text-primary hover:underline",children:"GitHub Issue"})," ","and we'll add it to the list."]})]})]})]}),c.jsx("div",{className:"mt-12 text-center text-sm text-muted-foreground",children:c.jsxs("p",{children:["Full starter pack documentation in"," ",c.jsx("a",{href:"https://github.com/PlarchsEcho/nostr-dead-drop-lockers/blob/main/STARTER_PACK.md",className:"text-primary hover:underline",children:"STARTER_PACK.md"})]})})]})})}function jZ(){return Ds({title:"DeadDropstr - Nostr-Native Smart Lockers",description:"A decentralized marketplace for autonomous physical lockers powered by Nostr and Lightning."}),c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30",children:[c.jsxs("header",{className:"relative isolate overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(45%_40%_at_50%_60%,hsl(var(--primary)/0.12),transparent)]"}),c.jsxs("div",{className:"container mx-auto px-4 py-24 text-center",children:[c.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:["The ",c.jsx("span",{className:"text-primary",children:"Nostr-Native"})," Dead Drop Network"]}),c.jsx("p",{className:"max-w-2xl mx-auto text-lg text-muted-foreground mb-10",children:"Rent autonomous smart lockers for anonymous P2P exchanges. Pay with Lightning. No middlemen."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx($e,{asChild:!0,size:"lg",className:"text-base",children:c.jsxs(Jt,{to:"/marketplace",children:[c.jsx(ud,{className:"mr-2 h-5 w-5"}),"Explore Lockers"]})}),c.jsx($e,{asChild:!0,size:"lg",variant:"outline",className:"text-base",children:c.jsxs(Jt,{to:"/dashboard",children:[c.jsx(jh,{className:"mr-2 h-5 w-5"}),"Owner Dashboard"]})})]})]})]}),c.jsxs("section",{className:"container mx-auto px-4 py-16",children:[c.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(rt,{className:"bg-card/60 backdrop-blur",children:[c.jsxs(mt,{children:[c.jsx(ud,{className:"h-10 w-10 text-primary mb-2"}),c.jsx(vt,{children:"Find a Locker"})]}),c.jsx(it,{children:c.jsx(tn,{children:"Browse the map to find available smart lockers near you. Filter by size, price, and trust score."})})]}),c.jsxs(rt,{className:"bg-card/60 backdrop-blur",children:[c.jsxs(mt,{children:[c.jsx(Cs,{className:"h-10 w-10 text-primary mb-2"}),c.jsx(vt,{children:"Pay with Lightning"})]}),c.jsx(it,{children:c.jsx(tn,{children:"Rent instantly using Nostr Wallet Connect (NIP-47) or WebLN. The locker unlocks once payment confirms."})})]}),c.jsxs(rt,{className:"bg-card/60 backdrop-blur",children:[c.jsxs(mt,{children:[c.jsx(wx,{className:"h-10 w-10 text-primary mb-2"}),c.jsx(vt,{children:"Negotiate Privately"})]}),c.jsx(it,{children:c.jsx(tn,{children:"Chat with buyers or sellers via encrypted NIP-17 messages. Goods payment is direct P2P via zaps."})})]}),c.jsxs(rt,{className:"bg-card/60 backdrop-blur",children:[c.jsxs(mt,{children:[c.jsx(jh,{className:"h-10 w-10 text-primary mb-2"}),c.jsx(vt,{children:"Manage Your Box"})]}),c.jsx(it,{children:c.jsx(tn,{children:"Owners configure fees, overdue penalties, proxy mode, and abandoned property rules from their dashboard."})})]})]})]}),c.jsxs("section",{className:"container mx-auto px-4 py-16",children:[c.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Ready to Deploy a Locker?"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[c.jsxs(rt,{className:"bg-primary/5 border-primary/20",children:[c.jsxs(mt,{children:[c.jsx(Ya,{className:"h-10 w-10 text-primary mb-2"}),c.jsx(vt,{children:"Open Hardware Standard"}),c.jsx(tn,{children:"Fully documented, hackable, and extensible"})]}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Our reference design uses off-the-shelf components: ESP32-S3, secure element, 4G/WiFi module, and standard electronic locks. Fully open source firmware."}),c.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground list-disc list-inside",children:[c.jsx("li",{children:"Nostr-native event processing"}),c.jsx("li",{children:"Offline-capable code validation"}),c.jsx("li",{children:"Signed access logs"}),c.jsx("li",{children:"Battery backup & tamper detection"})]}),c.jsxs($e,{variant:"outline",className:"w-full",onClick:()=>window.open("https://github.com/PlutarchsEcho/deaddrop-hardware","_blank"),children:[c.jsx(qh,{className:"mr-2 h-4 w-4"}),"View Specs"]})]})]}),c.jsxs(rt,{className:"bg-primary/5 border-primary/20",children:[c.jsxs(mt,{children:[c.jsx(Hi,{className:"h-10 w-10 text-primary mb-2"}),c.jsx(vt,{children:"DIY Kits"}),c.jsx(tn,{children:"Everything you need to build your own"})]}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Pre-sourced component kits with step-by-step assembly guides. Just add your own lockbox or enclosure."}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Basic Kit"}),c.jsx("span",{className:"font-medium",children:"~$85"})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Pro Kit (4G + Secure Element)"}),c.jsx("span",{className:"font-medium",children:"~$150"})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Complete Enclosure"}),c.jsx("span",{className:"font-medium",children:"~$200-500"})]})]}),c.jsxs($e,{variant:"outline",className:"w-full",children:[c.jsx(Hi,{className:"mr-2 h-4 w-4"}),"Browse Kits"]})]})]}),c.jsxs(rt,{className:"bg-primary/5 border-primary/20",children:[c.jsxs(mt,{children:[c.jsx(v6,{className:"h-10 w-10 text-primary mb-2"}),c.jsx(vt,{children:"Build Your Own"}),c.jsx(tn,{children:"Free plans and BOMs"})]}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Download complete schematics, PCB layouts, 3D printable enclosures, and firmware. Source your own parts anywhere in the world."}),c.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground list-disc list-inside",children:[c.jsx("li",{children:"Gerber files & PCB designs"}),c.jsx("li",{children:"3D printable STL files"}),c.jsx("li",{children:"Bill of Materials (BOM)"}),c.jsx("li",{children:"Assembly instructions"}),c.jsx("li",{children:"Firmware source code"})]}),c.jsxs($e,{className:"w-full",onClick:()=>window.open("https://github.com/PlutarchsEcho/deaddrop-hardware/releases","_blank"),children:[c.jsx(qh,{className:"mr-2 h-4 w-4"}),"Download Plans"]})]})]})]}),c.jsx("div",{className:"text-center mt-12",children:c.jsx($e,{asChild:!0,size:"lg",children:c.jsxs(Jt,{to:"/dashboard",children:[c.jsx(jh,{className:"mr-2 h-5 w-5"}),"Configure Your Locker"]})})})]}),c.jsx("footer",{className:"border-t py-8 text-center text-sm text-muted-foreground",children:c.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"Vibed with Shakespeare"})})]})}var Xp="Switch",[PZ,yH]=nr(Xp),[TZ,AZ]=PZ(Xp),dP=T.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:l,required:u,disabled:d,value:h="on",onCheckedChange:m,form:y,...g}=e,[E,_]=T.useState(null),k=Lt(t,R=>_(R)),x=T.useRef(!1),b=E?y||!!E.closest("form"):!0,[S,j]=zs({prop:i,defaultProp:l??!1,onChange:m,caller:Xp});return c.jsxs(TZ,{scope:n,checked:S,disabled:d,children:[c.jsx(ct.button,{type:"button",role:"switch","aria-checked":S,"aria-required":u,"data-state":mP(S),"data-disabled":d?"":void 0,disabled:d,value:h,...g,ref:k,onClick:Ke(e.onClick,R=>{j(D=>!D),b&&(x.current=R.isPropagationStopped(),x.current||R.stopPropagation())})}),b&&c.jsx(pP,{control:E,bubbles:!x.current,name:r,value:h,checked:S,required:u,disabled:d,form:y,style:{transform:"translateX(-100%)"}})]})});dP.displayName=Xp;var fP="SwitchThumb",hP=T.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=AZ(fP,n);return c.jsx(ct.span,{"data-state":mP(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});hP.displayName=fP;var RZ="SwitchBubbleInput",pP=T.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},l)=>{const u=T.useRef(null),d=Lt(u,l),h=a0(n),m=Bp(t);return T.useEffect(()=>{const y=u.current;if(!y)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==n&&_){const k=new Event("click",{bubbles:r});_.call(y,n),y.dispatchEvent(k)}},[h,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pP.displayName=RZ;function mP(e){return e?"checked":"unchecked"}var gP=dP,IZ=hP;const yP=T.forwardRef(({className:e,...t},n)=>c.jsx(gP,{className:ut("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:c.jsx(IZ,{className:ut("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yP.displayName=gP.displayName;function vP(e){if(e.kind!==30402)return null;const t=R=>{var D;return(D=e.tags.find(([B])=>B===R))==null?void 0:D[1]};if(!(R=>e.tags.filter(([D])=>D===R).map(([,D])=>D))("t").includes("locker"))return null;const i=t("d");if(!i)return null;const l=t("title")||"Unnamed Locker",u=t("status")||"available",d=t("g")||"",h=t("location"),m=e.tags.find(([R])=>R==="price"),y=m&&parseInt(m[1])||0,g=(m==null?void 0:m[2])||"SATS",E=t("dimensions"),_=parseInt(t("overdue-fee")||"0"),k=parseInt(t("overdue-days")||"7"),x=t("proxy-mode")==="true",b=parseInt(t("proxy-fee")||"0"),S=parseInt(t("abandon-days")||"30"),j=e.tags.filter(([R])=>R==="image").map(([,R])=>R);return{id:e.id,pubkey:e.pubkey,dTag:i,title:l,description:e.content,status:u,geohash:d,location:h,price:y,currency:g,dimensions:E,overdueFee:_,overdueDays:k,proxyMode:x,proxyFee:b,abandonDays:S,images:j,createdAt:e.created_at,event:e}}function LZ(e){const t=[["d",crypto.randomUUID()],["title",e.title],["t","locker"],["t","dead-drop"],["g",e.geohash],["price",e.baseFee.toString(),"SATS"],["status","available"],["dimensions",e.dimensions],["overdue-fee",e.overdueFee.toString()],["overdue-days",e.overdueDays.toString()],["proxy-mode",e.proxyMode.toString()],["abandon-days",e.abandonDays.toString()]];return e.location&&t.push(["location",e.location]),e.proxyMode&&e.proxyFee>0&&t.push(["proxy-fee",e.proxyFee.toString()]),t}const my="0123456789bcdefghjkmnpqrstuvwxyz";class Pn{static encode(t,n,r){if(typeof r>"u"){for(let E=1;E<=12;E++){const _=Pn.encode(t,n,E),k=Pn.decode(_);if(k.lat==t&&k.lon==n)return _}r=12}if(t=Number(t),n=Number(n),r=Number(r),isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Invalid geohash");let i=0,l=0,u=!0,d="",h=-90,m=90,y=-180,g=180;for(;d.length<r;){if(u){const E=(y+g)/2;n>=E?(i=i*2+1,y=E):(i=i*2,g=E)}else{const E=(h+m)/2;t>=E?(i=i*2+1,h=E):(i=i*2,m=E)}u=!u,++l==5&&(d+=my.charAt(i),l=0,i=0)}return d}static decode(t){const n=Pn.bounds(t),r=n.sw.lat,i=n.sw.lon,l=n.ne.lat,u=n.ne.lon;let d=(r+l)/2,h=(i+u)/2;return d=d.toFixed(Math.floor(2-Math.log(l-r)/Math.LN10)),h=h.toFixed(Math.floor(2-Math.log(u-i)/Math.LN10)),{lat:Number(d),lon:Number(h)}}static bounds(t){if(t.length==0)throw new Error("Invalid geohash");t=t.toLowerCase();let n=!0,r=-90,i=90,l=-180,u=180;for(let h=0;h<t.length;h++){const m=t.charAt(h),y=my.indexOf(m);if(y==-1)throw new Error("Invalid geohash");for(let g=4;g>=0;g--){const E=y>>g&1;if(n){const _=(l+u)/2;E==1?l=_:u=_}else{const _=(r+i)/2;E==1?r=_:i=_}n=!n}}return{sw:{lat:r,lon:l},ne:{lat:i,lon:u}}}static adjacent(t,n){if(t=t.toLowerCase(),n=n.toLowerCase(),t.length==0)throw new Error("Invalid geohash");if("nsew".indexOf(n)==-1)throw new Error("Invalid direction");const r={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]},i={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]},l=t.slice(-1);let u=t.slice(0,-1);const d=t.length%2;return i[n][d].indexOf(l)!=-1&&u!=""&&(u=Pn.adjacent(u,n)),u+my.charAt(r[n][d].indexOf(l))}static neighbours(t){return{n:Pn.adjacent(t,"n"),ne:Pn.adjacent(Pn.adjacent(t,"n"),"e"),e:Pn.adjacent(t,"e"),se:Pn.adjacent(Pn.adjacent(t,"s"),"e"),s:Pn.adjacent(t,"s"),sw:Pn.adjacent(Pn.adjacent(t,"s"),"w"),w:Pn.adjacent(t,"w"),nw:Pn.adjacent(Pn.adjacent(t,"n"),"w")}}}function OZ(){const{nostr:e}=Ms();return Oa({queryKey:["my-lockers"],queryFn:async()=>(await e.query([{kinds:[30402],limit:100}])).map(n=>vP(n)).filter(Boolean),staleTime:3e4})}function Eh({className:e,...t}){return c.jsx("div",{className:ut("animate-pulse rounded-md bg-muted",e),...t})}function MZ(){Ds({title:"Owner Dashboard - Dead Drop Network"});const{user:e}=Pp(),{mutateAsync:t,isPending:n}=Jx(),{toast:r}=sl(),{data:i,isLoading:l}=OZ(),[u,d]=T.useState(""),[h,m]=T.useState(""),[y,g]=T.useState(""),[E,_]=T.useState(""),[k,x]=T.useState(""),[b,S]=T.useState("1000"),[j,R]=T.useState("10"),[D,B]=T.useState("7"),[q,G]=T.useState(!1),[J,V]=T.useState("500"),[Y,Q]=T.useState("30"),[$,re]=T.useState("30x30x45"),M=async W=>{if(W.preventDefault(),!!e)try{const ae=Pn.encode(parseFloat(E),parseFloat(k),7),se=LZ({title:u,description:h,location:y,geohash:ae,baseFee:parseInt(b),overdueFee:parseInt(j),overdueDays:parseInt(D),proxyMode:q,proxyFee:parseInt(J),abandonDays:parseInt(Y),dimensions:$});await t({kind:30402,content:h,tags:se}),r({title:"Locker Published",description:"Your locker listing is now live."}),d(""),m("")}catch(ae){r({title:"Error",description:ae.message,variant:"destructive"})}};return e?c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"container mx-auto p-4 space-y-8",children:[c.jsxs("header",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-semibold",children:"Host Dashboard"}),c.jsx(wv,{className:"max-w-60"})]}),c.jsxs(hC,{defaultValue:"lockers",className:"space-y-6",children:[c.jsxs(Vx,{children:[c.jsx(gd,{value:"lockers",children:"My Lockers"}),c.jsx(gd,{value:"proxy",children:"Become a Proxy"})]}),c.jsxs(yd,{value:"lockers",className:"space-y-8",children:[c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-medium mb-4",children:"My Lockers"}),l?c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(W=>c.jsxs(rt,{children:[c.jsxs(mt,{children:[c.jsx(Eh,{className:"h-5 w-3/4"}),c.jsx(Eh,{className:"h-4 w-1/2"})]}),c.jsxs(it,{children:[c.jsx(Eh,{className:"h-4 w-full mb-2"}),c.jsx(Eh,{className:"h-4 w-2/3"})]})]},W))}):i&&i.length>0?c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(W=>c.jsxs(rt,{children:[c.jsxs(mt,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(vt,{className:"text-lg",children:W.title}),c.jsx(yt,{variant:W.status==="available"?"default":"secondary",children:W.status})]}),c.jsx(tn,{children:W.location||W.geohash})]}),c.jsxs(it,{children:[c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:W.description}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{children:["Fee: ",W.price," sats"]}),W.proxyMode&&c.jsx(yt,{variant:"outline",children:"Proxy"})]})]})]},W.id))}):c.jsx(rt,{className:"border-dashed",children:c.jsx(it,{className:"py-8 text-center text-muted-foreground",children:"You haven't created any lockers yet."})})]}),c.jsxs(rt,{className:"bg-muted/50 border-dashed",children:[c.jsxs(mt,{children:[c.jsx(vt,{className:"text-base",children:"Don't Have Hardware Yet?"}),c.jsx(tn,{children:"You'll need a Nostr-compatible smart locker to complete setup"})]}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"DeadDropstr lockers run on open hardware. Choose your path:"}),c.jsxs("div",{className:"grid sm:grid-cols-3 gap-3",children:[c.jsxs($e,{variant:"outline",size:"sm",className:"h-auto py-2",onClick:()=>window.open("https://github.com/PlutarchsEcho/deaddrop-hardware","_blank"),children:[c.jsx(Ya,{className:"mr-2 h-4 w-4"}),"View Open Specs"]}),c.jsxs($e,{variant:"outline",size:"sm",className:"h-auto py-2",children:[c.jsx(Hi,{className:"mr-2 h-4 w-4"}),"Order DIY Kit"]}),c.jsxs($e,{variant:"outline",size:"sm",className:"h-auto py-2",onClick:()=>window.open("https://github.com/PlutarchsEcho/deaddrop-hardware/releases","_blank"),children:[c.jsx(qh,{className:"mr-2 h-4 w-4"}),"Download Plans"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Estimated build cost: $85-250 depending on features (4G, secure element, enclosure)"})]})]}),c.jsxs(rt,{children:[c.jsxs(mt,{children:[c.jsx(vt,{children:"Create New Locker"}),c.jsx(tn,{children:"Configure your smart locker and publish it to the network."})]}),c.jsx(it,{children:c.jsxs("form",{onSubmit:M,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{htmlFor:"title",children:"Title"}),c.jsx(en,{id:"title",value:u,onChange:W=>d(W.target.value),placeholder:"Downtown Dead Drop Box #1",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{htmlFor:"dimensions",children:"Dimensions (cm)"}),c.jsx(en,{id:"dimensions",value:$,onChange:W=>re(W.target.value),placeholder:"WxHxD e.g. 30x30x45"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{htmlFor:"description",children:"Description"}),c.jsx(Yx,{id:"description",value:h,onChange:W=>m(W.target.value),placeholder:"Describe your locker, its features, and any special instructions...",rows:3})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{htmlFor:"location",children:"Location Address"}),c.jsx(en,{id:"location",value:y,onChange:W=>g(W.target.value),placeholder:"123 Main St, City"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{htmlFor:"lat",children:"Latitude"}),c.jsx(en,{id:"lat",type:"number",step:"any",value:E,onChange:W=>_(W.target.value),placeholder:"51.505",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{htmlFor:"lng",children:"Longitude"}),c.jsx(en,{id:"lng",type:"number",step:"any",value:k,onChange:W=>x(W.target.value),placeholder:"-0.09",required:!0})]})]}),c.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[c.jsx("h3",{className:"font-medium",children:"Fee Structure"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{htmlFor:"baseFee",children:"Base Fee (sats)"}),c.jsx(en,{id:"baseFee",type:"number",value:b,onChange:W=>S(W.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{htmlFor:"overdueFee",children:"Overdue Fee (%)"}),c.jsx(en,{id:"overdueFee",type:"number",value:j,onChange:W=>R(W.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{htmlFor:"overdueDays",children:"Overdue After (days)"}),c.jsx(en,{id:"overdueDays",type:"number",value:D,onChange:W=>B(W.target.value)})]})]})]}),c.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:"Proxy Mode"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"You manually receive and stock items for an extra fee."})]}),c.jsx(yP,{checked:q,onCheckedChange:G})]}),q&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{htmlFor:"proxyFee",children:"Proxy Fee (sats)"}),c.jsx(en,{id:"proxyFee",type:"number",value:J,onChange:W=>V(W.target.value)})]})]}),c.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[c.jsx("h3",{className:"font-medium",children:"Abandoned Property"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"After this period, unclaimed items become owner property or are auctioned."}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{htmlFor:"abandonDays",children:"Days Until Abandoned"}),c.jsx(en,{id:"abandonDays",type:"number",value:Y,onChange:W=>Q(W.target.value)})]})]}),c.jsx($e,{type:"submit",disabled:n,className:"w-full",children:n?"Publishing...":"Publish Locker"})]})})]})]}),c.jsx(yd,{value:"proxy",children:c.jsx(zZ,{})})]}),c.jsx("footer",{className:"text-center text-sm text-muted-foreground pt-8",children:c.jsx("a",{href:"https://shakespeare.diy",target:"_blank",rel:"noopener noreferrer",children:"Vibed with Shakespeare"})})]})}):c.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:c.jsxs(rt,{className:"w-full max-w-md",children:[c.jsxs(mt,{children:[c.jsx(vt,{children:"Owner Dashboard"}),c.jsx(tn,{children:"Please log in to manage your lockers."})]}),c.jsx(it,{children:c.jsx(wv,{className:"w-full"})})]})})}function zZ(){const{toast:e}=sl(),[t,n]=T.useState(!1),[r,i]=T.useState({name:"",feePerDrop:"10000",deposit:"50000",serviceAreas:"",npub:""}),l=()=>{e({title:"Proxy Registration Submitted",description:`Deposit of ${r.deposit} sats required to activate.`}),n(!0)};return t?c.jsxs(rt,{children:[c.jsx(mt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:c.jsx(Ns,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx(vt,{children:"You're a Verified Proxy!"}),c.jsx(tn,{children:"Your proxy service is now active"})]})]})}),c.jsxs(it,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Fee"}),c.jsxs("p",{className:"text-2xl font-bold",children:[parseInt(r.feePerDrop).toLocaleString()," sats"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"per drop"})]}),c.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Deposit Staked"}),c.jsxs("p",{className:"text-2xl font-bold",children:[parseInt(r.deposit).toLocaleString()," sats"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"held in escrow"})]})]}),c.jsxs("div",{className:"bg-primary/5 border border-primary/20 p-4 rounded-lg",children:[c.jsx("p",{className:"font-medium mb-2",children:"How it works:"}),c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[c.jsx("li",{children:"Shippers will message you with drop requests"}),c.jsx("li",{children:"You receive packages at your address or meet for handoff"}),c.jsx("li",{children:"You place items in lockers using the codes they provide"}),c.jsxs("li",{children:["You earn ",r.feePerDrop," sats per completed drop"]}),c.jsx("li",{children:"Your deposit ensures trust - can be slashed for bad behavior"})]})]}),c.jsxs($e,{className:"w-full",children:[c.jsx(Cs,{className:"h-4 w-4 mr-2"}),"View Drop Requests"]})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs(rt,{children:[c.jsx(mt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:c.jsx(Ns,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx(vt,{children:"Become a Verified Proxy"}),c.jsx(tn,{children:"Get paid to handle locker drops for others"})]})]})}),c.jsxs(it,{className:"space-y-6",children:[c.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[c.jsx("p",{className:"font-medium",children:"What is a proxy?"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"A proxy receives packages on behalf of shippers and places them in lockers. You earn a fee per drop while providing a valuable service to the network."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{children:"Your Name / Handle"}),c.jsx(en,{placeholder:"How shippers will know you",value:r.name,onChange:u=>i({...r,name:u.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{children:"Your npub (for receiving payments)"}),c.jsx(en,{placeholder:"npub1...",value:r.npub,onChange:u=>i({...r,npub:u.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{children:"Fee per Drop (sats)"}),c.jsx(en,{type:"number",value:r.feePerDrop,onChange:u=>i({...r,feePerDrop:u.target.value})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Typical range: 5,000 - 50,000 sats per drop"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{children:"Service Areas"}),c.jsx(en,{placeholder:"e.g., San Francisco, Bay Area",value:r.serviceAreas,onChange:u=>i({...r,serviceAreas:u.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(un,{children:"Security Deposit (sats)"}),c.jsx(en,{type:"number",value:r.deposit,onChange:u=>i({...r,deposit:u.target.value})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 50,000 sats. Held in escrow, returned if you leave the network. Can be slashed for fraud or no-shows."})]})]}),c.jsx("div",{className:"bg-amber-50 border border-amber-200 p-4 rounded-lg",children:c.jsxs("p",{className:"text-sm text-amber-800",children:[c.jsx("strong",{children:"Note:"})," Your deposit creates trust. If you fail to complete drops or steal packages, the deposit can be claimed by affected parties through the dispute resolution system."]})}),c.jsxs($e,{className:"w-full",onClick:l,children:[c.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Register as Proxy (",r.deposit," sats deposit)"]})]})]}),c.jsxs(rt,{className:"bg-muted/50",children:[c.jsx(mt,{children:c.jsx(vt,{className:"text-base",children:"Top Proxies in the Network"})}),c.jsxs(it,{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Alice (SF Bay)"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:" 4.9  127 drops  10k sats"})]}),c.jsx(yt,{variant:"secondary",children:"Verified"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Bob (NYC)"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:" 4.8  89 drops  15k sats"})]}),c.jsx(yt,{variant:"secondary",children:"Verified"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Carol (Seattle)"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:" 5.0  45 drops  8k sats"})]}),c.jsx(yt,{variant:"secondary",children:"Verified"})]})]})]})]})}const v1=[{id:"1",pubkey:"npub1abc123...",name:"CryptoMike",lastMessage:"Can you drop the package at the SF locker?",timestamp:"2 min ago",unread:!0},{id:"2",pubkey:"npub1def456...",name:"PrivacyPam",lastMessage:"Thanks for the quick delivery!",timestamp:"1 hour ago",unread:!1},{id:"3",pubkey:"npub1ghi789...",name:"BitcoinBill",lastMessage:"Locker code is 8472",timestamp:"Yesterday",unread:!1}],DZ=()=>{Ds({title:"Messages",description:"Private encrypted messaging on Nostr"});const[e,t]=T.useState(v1[0]),[n,r]=T.useState("");return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"container mx-auto p-4 h-[calc(100vh-80px)]",children:[c.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Messages"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4 h-full",children:[c.jsx("div",{className:"space-y-2",children:v1.map(i=>c.jsx(rt,{className:`cursor-pointer transition-colors ${(e==null?void 0:e.id)===i.id?"border-primary":"hover:border-primary/50"}`,onClick:()=>t(i),children:c.jsxs(it,{className:"p-3 flex items-center gap-3",children:[c.jsx(wd,{className:"h-10 w-10",children:c.jsx(_d,{children:c.jsx(Kh,{className:"h-5 w-5"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-medium truncate",children:i.name}),i.unread&&c.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"})]}),c.jsx("p",{className:"text-sm text-muted-foreground truncate",children:i.lastMessage}),c.jsx("p",{className:"text-xs text-muted-foreground",children:i.timestamp})]})]})},i.id))}),c.jsxs(rt,{className:"md:col-span-2 flex flex-col",children:[c.jsx(mt,{className:"border-b",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(wd,{className:"h-8 w-8",children:c.jsx(_d,{children:c.jsx(Kh,{className:"h-4 w-4"})})}),c.jsx(vt,{className:"text-base",children:e==null?void 0:e.name})]})}),c.jsxs(it,{className:"flex-1 flex flex-col p-4",children:[c.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto",children:[c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:"bg-muted rounded-lg px-4 py-2 max-w-[80%]",children:c.jsx("p",{className:"text-sm",children:"Hey, I saw your locker listing."})})}),c.jsx("div",{className:"flex justify-end",children:c.jsx("div",{className:"bg-primary text-primary-foreground rounded-lg px-4 py-2 max-w-[80%]",children:c.jsx("p",{className:"text-sm",children:"Hi! Yes, it's available. What do you need to store?"})})}),c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:"bg-muted rounded-lg px-4 py-2 max-w-[80%]",children:c.jsx("p",{className:"text-sm",children:e==null?void 0:e.lastMessage})})})]}),c.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[c.jsx(en,{placeholder:"Type a message...",value:n,onChange:i=>r(i.target.value),onKeyDown:i=>{i.key==="Enter"&&r("")}}),c.jsx($e,{size:"icon",onClick:()=>r(""),children:c.jsx(p6,{className:"h-4 w-4"})})]})]})]})]})]})})};function x1({event:e,className:t}){const n=T.useMemo(()=>{const r=e.content,i=/(https?:\/\/[^\s]+)|nostr:(npub1|note1|nprofile1|nevent1)([023456789acdefghjklmnpqrstuvwxyz]+)|(#\w+)/g,l=[];let u=0,d,h=0;for(;(d=i.exec(r))!==null;){const[m,y,g,E,_]=d,k=d.index;if(k>u&&l.push(r.substring(u,k)),y)l.push(c.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:y},`url-${h++}`));else if(g&&E)try{const x=`${g}${E}`,b=tr.decode(x);if(b.type==="npub"){const S=b.data;l.push(c.jsx(w1,{pubkey:S},`mention-${h++}`))}else if(b.type==="nprofile"){const S=b.data.pubkey;l.push(c.jsx(w1,{pubkey:S},`mention-${h++}`))}else l.push(c.jsx(Jt,{to:`/${x}`,className:"text-blue-500 hover:underline break-all",children:m},`nostr-${h++}`))}catch{l.push(m)}else if(_){const x=_.slice(1);l.push(c.jsx(Jt,{to:`/t/${x}`,className:"text-blue-500 hover:underline",children:_},`hashtag-${h++}`))}u=k+m.length}return u<r.length&&l.push(r.substring(u)),l.length===0&&l.push(r),l},[e]);return c.jsx("div",{className:ut("whitespace-pre-wrap break-words",t),children:n.length>0?n:e.content})}function w1({pubkey:e}){var l,u,d,h;const t=Lk(e),n=tr.npubEncode(e),r=!!((u=(l=t.data)==null?void 0:l.metadata)!=null&&u.name),i=((h=(d=t.data)==null?void 0:d.metadata)==null?void 0:h.name)??Cj(e);return c.jsxs(Jt,{to:`/${n}`,className:ut("font-medium hover:underline",r?"text-blue-500":"text-gray-500 hover:text-gray-700"),children:["@",i]})}function BZ(){const{nip19:e}=Mx();Ds({title:"NIP-19"});const{nostr:t}=Ms();if(!e)return c.jsx("div",{className:"container mx-auto p-6",children:"Invalid identifier"});let n;try{n=tr.decode(e)}catch{return c.jsx("div",{className:"container mx-auto p-6",children:"Invalid NIP-19 identifier"})}const{type:r,data:i}=n,l=Oa({queryKey:["nip19",e,"profile"],enabled:r==="npub"||r==="nprofile",queryFn:async()=>{const m=(i==null?void 0:i.pubkey)??i;if(!m)return null;const y=await t.query([{kinds:[0],authors:[m],limit:1}]),g=y==null?void 0:y[0];if(!g)return{pubkey:m};try{const E=JSON.parse(g.content||"{}");return{pubkey:m,metadata:E}}catch{return{pubkey:m}}}}),u=Oa({queryKey:["nip19",e,"note"],enabled:r==="note",queryFn:async()=>{const m=i;if(!m)return null;const y=await t.query([{ids:[m],kinds:[1],limit:1}]);return(y==null?void 0:y[0])??null}}),d=Oa({queryKey:["nip19",e,"event"],enabled:r==="nevent",queryFn:async()=>{const m=(i==null?void 0:i.id)??i;if(!m)return null;const y=await t.query([{ids:[m],limit:1}]);return(y==null?void 0:y[0])??null}}),h=Oa({queryKey:["nip19",e,"naddr"],enabled:r==="naddr",queryFn:async()=>{const m=i;if(!m)return null;const y=m.kind,g=m.pubkey,E=m.identifier,_=await t.query([{kinds:[y],authors:[g],"#d":[E],limit:1}]);return(_==null?void 0:_[0])??null}});if(r==="npub"||r==="nprofile"){const m=l.data;return l.isFetched?c.jsx("div",{className:"container mx-auto p-6",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile"}),c.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["pubkey: ",c.jsx("code",{children:m==null?void 0:m.pubkey})]}),m!=null&&m.metadata?c.jsxs("div",{className:"space-y-2",children:[c.jsx("img",{src:m.metadata.picture,alt:"avatar",className:"w-28 h-28 rounded-full"}),c.jsx("h2",{className:"text-xl font-semibold",children:m.metadata.display_name??m.metadata.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:m.metadata.about}),m.metadata.website&&c.jsx("p",{children:c.jsx("a",{href:m.metadata.website,target:"_blank",rel:"noreferrer",className:"text-primary",children:"Website"})})]}):c.jsx("p",{children:"No metadata available."})]})}):c.jsx("div",{className:"container mx-auto p-6",children:"Loading profile"})}if(r==="note"){const m=u.data;return u.isLoading?c.jsx("div",{className:"container mx-auto p-6",children:"Loading note"}):m?c.jsxs("div",{className:"container mx-auto p-6",children:[c.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Text Note"}),c.jsx("div",{className:"prose max-w-none whitespace-pre-wrap",children:c.jsx(x1,{event:m})}),c.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",c.jsx(Jt,{to:`/${tr.encode({type:"npub",data:m.pubkey})}`,children:m.pubkey})]})]}):c.jsx("div",{className:"container mx-auto p-6",children:"Note not found"})}if(r==="nevent"){const m=d.data;return d.isLoading?c.jsx("div",{className:"container mx-auto p-6",children:"Loading event"}):m?c.jsxs("div",{className:"container mx-auto p-6",children:[c.jsxs("h1",{className:"text-xl font-semibold",children:["Event (kind: ",m.kind,")"]}),c.jsx("div",{className:"mt-4 prose max-w-none whitespace-pre-wrap",children:m.kind===1?c.jsx(x1,{event:m}):c.jsx("pre",{children:m.content})}),c.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Author: ",c.jsx("code",{children:m.pubkey})]})]}):c.jsx("div",{className:"container mx-auto p-6",children:"Event not found"})}if(r==="naddr"){const m=h.data;if(h.isLoading)return c.jsx("div",{className:"container mx-auto p-6",children:"Loading addressable event"});if(!m)return c.jsx("div",{className:"container mx-auto p-6",children:"Addressable event not found"});if(m.kind===30402){const y=vP(m);return y?c.jsxs("div",{className:"container mx-auto p-6",children:[c.jsx("h1",{className:"text-2xl font-semibold",children:y.title}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",c.jsx("code",{children:y.pubkey})]}),c.jsx("p",{className:"mt-2",children:y.description}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("p",{children:["Dimensions: ",y.dimensions]}),c.jsxs("p",{children:["Fee: ",y.price," ",y.currency]}),c.jsxs("p",{children:["Status: ",y.status]}),c.jsx(Jt,{to:`/locker/${e}`,className:"text-primary",children:"Open Locker Page"})]})]}):c.jsx("div",{className:"container mx-auto p-6",children:"Invalid locker event"})}return c.jsxs("div",{className:"container mx-auto p-6",children:[c.jsx("h1",{className:"text-xl font-semibold",children:"Addressable Event"}),c.jsx("pre",{className:"mt-4 whitespace-pre-wrap",children:m.content}),c.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Author: ",c.jsx("code",{children:m.pubkey})]})]})}return c.jsx("div",{className:"container mx-auto p-6",children:"Unsupported identifier type"})}const FZ=()=>{const e=ll();return Ds({title:"404 - Page Not Found",description:"The page you are looking for could not be found. Return to the home page to continue browsing."}),T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Return to Home"})]})})};function $Z(){return c.jsxs(f$,{basename:"/nostr-dead-drop-lockers",children:[c.jsx(g$,{}),c.jsx(_9,{}),c.jsxs(s$,{children:[c.jsx(fr,{path:"/",element:c.jsx(jZ,{})}),c.jsx(fr,{path:"/marketplace",element:c.jsx(nZ,{})}),c.jsx(fr,{path:"/product/:dTag",element:c.jsx(pZ,{})}),c.jsx(fr,{path:"/snapshot",element:c.jsx(vZ,{})}),c.jsx(fr,{path:"/dashboard",element:c.jsx(MZ,{})}),c.jsx(fr,{path:"/my-lockers",element:c.jsx(kZ,{})}),c.jsx(fr,{path:"/proxy-drops",element:c.jsx(SZ,{})}),c.jsx(fr,{path:"/hardware",element:c.jsx(NZ,{})}),c.jsx(fr,{path:"/starter-pack",element:c.jsx(CZ,{})}),c.jsx(fr,{path:"/messages",element:c.jsx(DZ,{})}),c.jsx(fr,{path:"/locker/:nip19",element:c.jsx(j9,{})}),c.jsx(fr,{path:"/:nip19",element:c.jsx(BZ,{})}),c.jsx(fr,{path:"*",element:c.jsx(FZ,{})})]})]})}const UZ=X1({plugins:[bA()]}),ZZ=new RT({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4,gcTime:1/0}}}),HZ={theme:"light",relayMetadata:{relays:[{url:"wss://relay.ditto.pub",read:!0,write:!0},{url:"wss://relay.nostr.band",read:!0,write:!0},{url:"wss://relay.damus.io",read:!0,write:!0}],updatedAt:0}};function WZ(){return c.jsx(yA,{head:UZ,children:c.jsx(TB,{storageKey:"nostr:app-config",defaultConfig:HZ,children:c.jsx(zT,{client:ZZ,children:c.jsx(Jz,{storageKey:"nostr:login",children:c.jsxs(Qz,{children:[c.jsx(Xz,{}),c.jsx(hF,{children:c.jsxs(NB,{children:[c.jsx(eD,{}),c.jsx(T.Suspense,{children:c.jsx($Z,{})})]})})]})})})})})}uT.createRoot(document.getElementById("root")).render(c.jsx(gT,{children:c.jsx(WZ,{})}));
